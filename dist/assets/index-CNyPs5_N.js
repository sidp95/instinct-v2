const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/webcrypto-DqquhqZe.js","assets/utils-DA8kIGqc.js","assets/nodecrypto-csALEsmE.js"])))=>i.map(i=>d[i]);
var L_e=Object.defineProperty;var U_e=(e,t,n)=>t in e?L_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ur=(e,t,n)=>U_e(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K1(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var N5={exports:{}},uw={},P5={exports:{}},Yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OF;function F_e(){if(OF)return Yn;OF=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.iterator;function h(F){return F===null||typeof F!="object"?null:(F=u&&F[u]||F["@@iterator"],typeof F=="function"?F:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(F,O,W){this.props=F,this.context=O,this.refs=g,this.updater=W||m}y.prototype.isReactComponent={},y.prototype.setState=function(F,O){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,O,"setState")},y.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=y.prototype;function k(F,O,W){this.props=F,this.context=O,this.refs=g,this.updater=W||m}var _=k.prototype=new b;_.constructor=k,v(_,y.prototype),_.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,T={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function D(F,O,W){var G,Y={},ie=null,ye=null;if(O!=null)for(G in O.ref!==void 0&&(ye=O.ref),O.key!==void 0&&(ie=""+O.key),O)I.call(O,G)&&!M.hasOwnProperty(G)&&(Y[G]=O[G]);var me=arguments.length-2;if(me===1)Y.children=W;else if(1<me){for(var be=Array(me),Me=0;Me<me;Me++)be[Me]=arguments[Me+2];Y.children=be}if(F&&F.defaultProps)for(G in me=F.defaultProps,me)Y[G]===void 0&&(Y[G]=me[G]);return{$$typeof:e,type:F,key:ie,ref:ye,props:Y,_owner:T.current}}function A(F,O){return{$$typeof:e,type:F.type,key:O,ref:F.ref,props:F.props,_owner:F._owner}}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function $(F){var O={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(W){return O[W]})}var q=/\/+/g;function z(F,O){return typeof F=="object"&&F!==null&&F.key!=null?$(""+F.key):O.toString(36)}function S(F,O,W,G,Y){var ie=typeof F;(ie==="undefined"||ie==="boolean")&&(F=null);var ye=!1;if(F===null)ye=!0;else switch(ie){case"string":case"number":ye=!0;break;case"object":switch(F.$$typeof){case e:case t:ye=!0}}if(ye)return ye=F,Y=Y(ye),F=G===""?"."+z(ye,0):G,R(Y)?(W="",F!=null&&(W=F.replace(q,"$&/")+"/"),S(Y,O,W,"",function(Me){return Me})):Y!=null&&(U(Y)&&(Y=A(Y,W+(!Y.key||ye&&ye.key===Y.key?"":(""+Y.key).replace(q,"$&/")+"/")+F)),O.push(Y)),1;if(ye=0,G=G===""?".":G+":",R(F))for(var me=0;me<F.length;me++){ie=F[me];var be=G+z(ie,me);ye+=S(ie,O,W,be,Y)}else if(be=h(F),typeof be=="function")for(F=be.call(F),me=0;!(ie=F.next()).done;)ie=ie.value,be=G+z(ie,me++),ye+=S(ie,O,W,be,Y);else if(ie==="object")throw O=String(F),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return ye}function E(F,O,W){if(F==null)return F;var G=[],Y=0;return S(F,G,"","",function(ie){return O.call(W,ie,Y++)}),G}function N(F){if(F._status===-1){var O=F._result;O=O(),O.then(function(W){(F._status===0||F._status===-1)&&(F._status=1,F._result=W)},function(W){(F._status===0||F._status===-1)&&(F._status=2,F._result=W)}),F._status===-1&&(F._status=0,F._result=O)}if(F._status===1)return F._result.default;throw F._result}var P={current:null},j={transition:null},V={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:j,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return Yn.Children={map:E,forEach:function(F,O,W){E(F,function(){O.apply(this,arguments)},W)},count:function(F){var O=0;return E(F,function(){O++}),O},toArray:function(F){return E(F,function(O){return O})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Yn.Component=y,Yn.Fragment=n,Yn.Profiler=i,Yn.PureComponent=k,Yn.StrictMode=r,Yn.Suspense=l,Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Yn.act=K,Yn.cloneElement=function(F,O,W){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var G=v({},F.props),Y=F.key,ie=F.ref,ye=F._owner;if(O!=null){if(O.ref!==void 0&&(ie=O.ref,ye=T.current),O.key!==void 0&&(Y=""+O.key),F.type&&F.type.defaultProps)var me=F.type.defaultProps;for(be in O)I.call(O,be)&&!M.hasOwnProperty(be)&&(G[be]=O[be]===void 0&&me!==void 0?me[be]:O[be])}var be=arguments.length-2;if(be===1)G.children=W;else if(1<be){me=Array(be);for(var Me=0;Me<be;Me++)me[Me]=arguments[Me+2];G.children=me}return{$$typeof:e,type:F.type,key:Y,ref:ie,props:G,_owner:ye}},Yn.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},Yn.createElement=D,Yn.createFactory=function(F){var O=D.bind(null,F);return O.type=F,O},Yn.createRef=function(){return{current:null}},Yn.forwardRef=function(F){return{$$typeof:a,render:F}},Yn.isValidElement=U,Yn.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:N}},Yn.memo=function(F,O){return{$$typeof:c,type:F,compare:O===void 0?null:O}},Yn.startTransition=function(F){var O=j.transition;j.transition={};try{F()}finally{j.transition=O}},Yn.unstable_act=K,Yn.useCallback=function(F,O){return P.current.useCallback(F,O)},Yn.useContext=function(F){return P.current.useContext(F)},Yn.useDebugValue=function(){},Yn.useDeferredValue=function(F){return P.current.useDeferredValue(F)},Yn.useEffect=function(F,O){return P.current.useEffect(F,O)},Yn.useId=function(){return P.current.useId()},Yn.useImperativeHandle=function(F,O,W){return P.current.useImperativeHandle(F,O,W)},Yn.useInsertionEffect=function(F,O){return P.current.useInsertionEffect(F,O)},Yn.useLayoutEffect=function(F,O){return P.current.useLayoutEffect(F,O)},Yn.useMemo=function(F,O){return P.current.useMemo(F,O)},Yn.useReducer=function(F,O,W){return P.current.useReducer(F,O,W)},Yn.useRef=function(F){return P.current.useRef(F)},Yn.useState=function(F){return P.current.useState(F)},Yn.useSyncExternalStore=function(F,O,W){return P.current.useSyncExternalStore(F,O,W)},Yn.useTransition=function(){return P.current.useTransition()},Yn.version="18.3.1",Yn}var NF;function dD(){return NF||(NF=1,P5.exports=F_e()),P5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PF;function W_e(){if(PF)return uw;PF=1;var e=dD(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var d,u={},h=null,m=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)r.call(l,d)&&!o.hasOwnProperty(d)&&(u[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)u[d]===void 0&&(u[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:m,props:u,_owner:i.current}}return uw.Fragment=n,uw.jsx=s,uw.jsxs=s,uw}var BF;function q_e(){return BF||(BF=1,N5.exports=W_e()),N5.exports}var f=q_e(),B5={},fw={},DF;function z_e(){if(DF)return fw;DF=1,fw.byteLength=a,fw.toByteArray=c,fw.fromByteArray=h;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=m.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function a(m){var v=s(m),g=v[0],y=v[1];return(g+y)*3/4-y}function l(m,v,g){return(v+g)*3/4-g}function c(m){var v,g=s(m),y=g[0],b=g[1],k=new n(l(m,y,b)),_=0,R=b>0?y-4:y,I;for(I=0;I<R;I+=4)v=t[m.charCodeAt(I)]<<18|t[m.charCodeAt(I+1)]<<12|t[m.charCodeAt(I+2)]<<6|t[m.charCodeAt(I+3)],k[_++]=v>>16&255,k[_++]=v>>8&255,k[_++]=v&255;return b===2&&(v=t[m.charCodeAt(I)]<<2|t[m.charCodeAt(I+1)]>>4,k[_++]=v&255),b===1&&(v=t[m.charCodeAt(I)]<<10|t[m.charCodeAt(I+1)]<<4|t[m.charCodeAt(I+2)]>>2,k[_++]=v>>8&255,k[_++]=v&255),k}function d(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function u(m,v,g){for(var y,b=[],k=v;k<g;k+=3)y=(m[k]<<16&16711680)+(m[k+1]<<8&65280)+(m[k+2]&255),b.push(d(y));return b.join("")}function h(m){for(var v,g=m.length,y=g%3,b=[],k=16383,_=0,R=g-y;_<R;_+=k)b.push(u(m,_,_+k>R?R:_+k));return y===1?(v=m[g-1],b.push(e[v>>2]+e[v<<4&63]+"==")):y===2&&(v=(m[g-2]<<8)+m[g-1],b.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),b.join("")}return fw}var ik={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var MF;function V_e(){return MF||(MF=1,ik.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,u=n?i-1:0,h=n?-1:1,m=e[t+u];for(u+=h,o=m&(1<<-d)-1,m>>=-d,d+=a;d>0;o=o*256+e[t+u],u+=h,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=s*256+e[t+u],u+=h,d-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(m?-1:1)*s*Math.pow(2,o-r)},ik.write=function(e,t,n,r,i,o){var s,a,l,c=o*8-i-1,d=(1<<c)-1,u=d>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,v=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(t*l-1)*Math.pow(2,i),s=s+u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[n+m]=a&255,m+=v,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+m]=s&255,m+=v,s/=256,c-=8);e[n+m-v]|=g*128}),ik}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var jF;function uD(){return jF||(jF=1,(function(e){const t=z_e(),n=V_e(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const ce=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ce,X),ce.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(ce){if(ce>i)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const X=new Uint8Array(ce);return Object.setPrototypeOf(X,a.prototype),X}function a(ce,X,ee){if(typeof ce=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ce)}return l(ce,X,ee)}a.poolSize=8192;function l(ce,X,ee){if(typeof ce=="string")return h(ce,X);if(ArrayBuffer.isView(ce))return v(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(ct(ce,ArrayBuffer)||ce&&ct(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(ce,SharedArrayBuffer)||ce&&ct(ce.buffer,SharedArrayBuffer)))return g(ce,X,ee);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const we=ce.valueOf&&ce.valueOf();if(we!=null&&we!==ce)return a.from(we,X,ee);const Ae=y(ce);if(Ae)return Ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return a.from(ce[Symbol.toPrimitive]("string"),X,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}a.from=function(ce,X,ee){return l(ce,X,ee)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function d(ce,X,ee){return c(ce),ce<=0?s(ce):X!==void 0?typeof ee=="string"?s(ce).fill(X,ee):s(ce).fill(X):s(ce)}a.alloc=function(ce,X,ee){return d(ce,X,ee)};function u(ce){return c(ce),s(ce<0?0:b(ce)|0)}a.allocUnsafe=function(ce){return u(ce)},a.allocUnsafeSlow=function(ce){return u(ce)};function h(ce,X){if((typeof X!="string"||X==="")&&(X="utf8"),!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const ee=_(ce,X)|0;let we=s(ee);const Ae=we.write(ce,X);return Ae!==ee&&(we=we.slice(0,Ae)),we}function m(ce){const X=ce.length<0?0:b(ce.length)|0,ee=s(X);for(let we=0;we<X;we+=1)ee[we]=ce[we]&255;return ee}function v(ce){if(ct(ce,Uint8Array)){const X=new Uint8Array(ce);return g(X.buffer,X.byteOffset,X.byteLength)}return m(ce)}function g(ce,X,ee){if(X<0||ce.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<X+(ee||0))throw new RangeError('"length" is outside of buffer bounds');let we;return X===void 0&&ee===void 0?we=new Uint8Array(ce):ee===void 0?we=new Uint8Array(ce,X):we=new Uint8Array(ce,X,ee),Object.setPrototypeOf(we,a.prototype),we}function y(ce){if(a.isBuffer(ce)){const X=b(ce.length)|0,ee=s(X);return ee.length===0||ce.copy(ee,0,0,X),ee}if(ce.length!==void 0)return typeof ce.length!="number"||st(ce.length)?s(0):m(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return m(ce.data)}function b(ce){if(ce>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ce|0}function k(ce){return+ce!=ce&&(ce=0),a.alloc(+ce)}a.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==a.prototype},a.compare=function(X,ee){if(ct(X,Uint8Array)&&(X=a.from(X,X.offset,X.byteLength)),ct(ee,Uint8Array)&&(ee=a.from(ee,ee.offset,ee.byteLength)),!a.isBuffer(X)||!a.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===ee)return 0;let we=X.length,Ae=ee.length;for(let Pe=0,We=Math.min(we,Ae);Pe<We;++Pe)if(X[Pe]!==ee[Pe]){we=X[Pe],Ae=ee[Pe];break}return we<Ae?-1:Ae<we?1:0},a.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(X,ee){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return a.alloc(0);let we;if(ee===void 0)for(ee=0,we=0;we<X.length;++we)ee+=X[we].length;const Ae=a.allocUnsafe(ee);let Pe=0;for(we=0;we<X.length;++we){let We=X[we];if(ct(We,Uint8Array))Pe+We.length>Ae.length?(a.isBuffer(We)||(We=a.from(We)),We.copy(Ae,Pe)):Uint8Array.prototype.set.call(Ae,We,Pe);else if(a.isBuffer(We))We.copy(Ae,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=We.length}return Ae};function _(ce,X){if(a.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||ct(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const ee=ce.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&ee===0)return 0;let Ae=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return lt(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee*2;case"hex":return ee>>>1;case"base64":return Re(ce).length;default:if(Ae)return we?-1:lt(ce).length;X=(""+X).toLowerCase(),Ae=!0}}a.byteLength=_;function R(ce,X,ee){let we=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0,X>>>=0,ee<=X))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return V(this,X,ee);case"utf8":case"utf-8":return S(this,X,ee);case"ascii":return P(this,X,ee);case"latin1":case"binary":return j(this,X,ee);case"base64":return z(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,X,ee);default:if(we)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),we=!0}}a.prototype._isBuffer=!0;function I(ce,X,ee){const we=ce[X];ce[X]=ce[ee],ce[ee]=we}a.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ee=0;ee<X;ee+=2)I(this,ee,ee+1);return this},a.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ee=0;ee<X;ee+=4)I(this,ee,ee+3),I(this,ee+1,ee+2);return this},a.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ee=0;ee<X;ee+=8)I(this,ee,ee+7),I(this,ee+1,ee+6),I(this,ee+2,ee+5),I(this,ee+3,ee+4);return this},a.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?S(this,0,X):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(X){if(!a.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:a.compare(this,X)===0},a.prototype.inspect=function(){let X="";const ee=e.INSPECT_MAX_BYTES;return X=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(X+=" ... "),"<Buffer "+X+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(X,ee,we,Ae,Pe){if(ct(X,Uint8Array)&&(X=a.from(X,X.offset,X.byteLength)),!a.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(ee===void 0&&(ee=0),we===void 0&&(we=X?X.length:0),Ae===void 0&&(Ae=0),Pe===void 0&&(Pe=this.length),ee<0||we>X.length||Ae<0||Pe>this.length)throw new RangeError("out of range index");if(Ae>=Pe&&ee>=we)return 0;if(Ae>=Pe)return-1;if(ee>=we)return 1;if(ee>>>=0,we>>>=0,Ae>>>=0,Pe>>>=0,this===X)return 0;let We=Pe-Ae,tn=we-ee;const on=Math.min(We,tn),nn=this.slice(Ae,Pe),Bn=X.slice(ee,we);for(let Jt=0;Jt<on;++Jt)if(nn[Jt]!==Bn[Jt]){We=nn[Jt],tn=Bn[Jt];break}return We<tn?-1:tn<We?1:0};function T(ce,X,ee,we,Ae){if(ce.length===0)return-1;if(typeof ee=="string"?(we=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),ee=+ee,st(ee)&&(ee=Ae?0:ce.length-1),ee<0&&(ee=ce.length+ee),ee>=ce.length){if(Ae)return-1;ee=ce.length-1}else if(ee<0)if(Ae)ee=0;else return-1;if(typeof X=="string"&&(X=a.from(X,we)),a.isBuffer(X))return X.length===0?-1:M(ce,X,ee,we,Ae);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?Ae?Uint8Array.prototype.indexOf.call(ce,X,ee):Uint8Array.prototype.lastIndexOf.call(ce,X,ee):M(ce,[X],ee,we,Ae);throw new TypeError("val must be string, number or Buffer")}function M(ce,X,ee,we,Ae){let Pe=1,We=ce.length,tn=X.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(ce.length<2||X.length<2)return-1;Pe=2,We/=2,tn/=2,ee/=2}function on(Bn,Jt){return Pe===1?Bn[Jt]:Bn.readUInt16BE(Jt*Pe)}let nn;if(Ae){let Bn=-1;for(nn=ee;nn<We;nn++)if(on(ce,nn)===on(X,Bn===-1?0:nn-Bn)){if(Bn===-1&&(Bn=nn),nn-Bn+1===tn)return Bn*Pe}else Bn!==-1&&(nn-=nn-Bn),Bn=-1}else for(ee+tn>We&&(ee=We-tn),nn=ee;nn>=0;nn--){let Bn=!0;for(let Jt=0;Jt<tn;Jt++)if(on(ce,nn+Jt)!==on(X,Jt)){Bn=!1;break}if(Bn)return nn}return-1}a.prototype.includes=function(X,ee,we){return this.indexOf(X,ee,we)!==-1},a.prototype.indexOf=function(X,ee,we){return T(this,X,ee,we,!0)},a.prototype.lastIndexOf=function(X,ee,we){return T(this,X,ee,we,!1)};function D(ce,X,ee,we){ee=Number(ee)||0;const Ae=ce.length-ee;we?(we=Number(we),we>Ae&&(we=Ae)):we=Ae;const Pe=X.length;we>Pe/2&&(we=Pe/2);let We;for(We=0;We<we;++We){const tn=parseInt(X.substr(We*2,2),16);if(st(tn))return We;ce[ee+We]=tn}return We}function A(ce,X,ee,we){return Ze(lt(X,ce.length-ee),ce,ee,we)}function U(ce,X,ee,we){return Ze(jt(X),ce,ee,we)}function $(ce,X,ee,we){return Ze(Re(X),ce,ee,we)}function q(ce,X,ee,we){return Ze(rn(X,ce.length-ee),ce,ee,we)}a.prototype.write=function(X,ee,we,Ae){if(ee===void 0)Ae="utf8",we=this.length,ee=0;else if(we===void 0&&typeof ee=="string")Ae=ee,we=this.length,ee=0;else if(isFinite(ee))ee=ee>>>0,isFinite(we)?(we=we>>>0,Ae===void 0&&(Ae="utf8")):(Ae=we,we=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Pe=this.length-ee;if((we===void 0||we>Pe)&&(we=Pe),X.length>0&&(we<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");let We=!1;for(;;)switch(Ae){case"hex":return D(this,X,ee,we);case"utf8":case"utf-8":return A(this,X,ee,we);case"ascii":case"latin1":case"binary":return U(this,X,ee,we);case"base64":return $(this,X,ee,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,X,ee,we);default:if(We)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),We=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(ce,X,ee){return X===0&&ee===ce.length?t.fromByteArray(ce):t.fromByteArray(ce.slice(X,ee))}function S(ce,X,ee){ee=Math.min(ce.length,ee);const we=[];let Ae=X;for(;Ae<ee;){const Pe=ce[Ae];let We=null,tn=Pe>239?4:Pe>223?3:Pe>191?2:1;if(Ae+tn<=ee){let on,nn,Bn,Jt;switch(tn){case 1:Pe<128&&(We=Pe);break;case 2:on=ce[Ae+1],(on&192)===128&&(Jt=(Pe&31)<<6|on&63,Jt>127&&(We=Jt));break;case 3:on=ce[Ae+1],nn=ce[Ae+2],(on&192)===128&&(nn&192)===128&&(Jt=(Pe&15)<<12|(on&63)<<6|nn&63,Jt>2047&&(Jt<55296||Jt>57343)&&(We=Jt));break;case 4:on=ce[Ae+1],nn=ce[Ae+2],Bn=ce[Ae+3],(on&192)===128&&(nn&192)===128&&(Bn&192)===128&&(Jt=(Pe&15)<<18|(on&63)<<12|(nn&63)<<6|Bn&63,Jt>65535&&Jt<1114112&&(We=Jt))}}We===null?(We=65533,tn=1):We>65535&&(We-=65536,we.push(We>>>10&1023|55296),We=56320|We&1023),we.push(We),Ae+=tn}return N(we)}const E=4096;function N(ce){const X=ce.length;if(X<=E)return String.fromCharCode.apply(String,ce);let ee="",we=0;for(;we<X;)ee+=String.fromCharCode.apply(String,ce.slice(we,we+=E));return ee}function P(ce,X,ee){let we="";ee=Math.min(ce.length,ee);for(let Ae=X;Ae<ee;++Ae)we+=String.fromCharCode(ce[Ae]&127);return we}function j(ce,X,ee){let we="";ee=Math.min(ce.length,ee);for(let Ae=X;Ae<ee;++Ae)we+=String.fromCharCode(ce[Ae]);return we}function V(ce,X,ee){const we=ce.length;(!X||X<0)&&(X=0),(!ee||ee<0||ee>we)&&(ee=we);let Ae="";for(let Pe=X;Pe<ee;++Pe)Ae+=vt[ce[Pe]];return Ae}function K(ce,X,ee){const we=ce.slice(X,ee);let Ae="";for(let Pe=0;Pe<we.length-1;Pe+=2)Ae+=String.fromCharCode(we[Pe]+we[Pe+1]*256);return Ae}a.prototype.slice=function(X,ee){const we=this.length;X=~~X,ee=ee===void 0?we:~~ee,X<0?(X+=we,X<0&&(X=0)):X>we&&(X=we),ee<0?(ee+=we,ee<0&&(ee=0)):ee>we&&(ee=we),ee<X&&(ee=X);const Ae=this.subarray(X,ee);return Object.setPrototypeOf(Ae,a.prototype),Ae};function F(ce,X,ee){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+X>ee)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||F(X,ee,this.length);let Ae=this[X],Pe=1,We=0;for(;++We<ee&&(Pe*=256);)Ae+=this[X+We]*Pe;return Ae},a.prototype.readUintBE=a.prototype.readUIntBE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||F(X,ee,this.length);let Ae=this[X+--ee],Pe=1;for(;ee>0&&(Pe*=256);)Ae+=this[X+--ee]*Pe;return Ae},a.prototype.readUint8=a.prototype.readUInt8=function(X,ee){return X=X>>>0,ee||F(X,1,this.length),this[X]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(X,ee){return X=X>>>0,ee||F(X,2,this.length),this[X]|this[X+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(X,ee){return X=X>>>0,ee||F(X,2,this.length),this[X]<<8|this[X+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(X,ee){return X=X>>>0,ee||F(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(X,ee){return X=X>>>0,ee||F(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},a.prototype.readBigUInt64LE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=ee+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Pe=this[++X]+this[++X]*2**8+this[++X]*2**16+we*2**24;return BigInt(Ae)+(BigInt(Pe)<<BigInt(32))}),a.prototype.readBigUInt64BE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=ee*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Pe=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+we;return(BigInt(Ae)<<BigInt(32))+BigInt(Pe)}),a.prototype.readIntLE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||F(X,ee,this.length);let Ae=this[X],Pe=1,We=0;for(;++We<ee&&(Pe*=256);)Ae+=this[X+We]*Pe;return Pe*=128,Ae>=Pe&&(Ae-=Math.pow(2,8*ee)),Ae},a.prototype.readIntBE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||F(X,ee,this.length);let Ae=ee,Pe=1,We=this[X+--Ae];for(;Ae>0&&(Pe*=256);)We+=this[X+--Ae]*Pe;return Pe*=128,We>=Pe&&(We-=Math.pow(2,8*ee)),We},a.prototype.readInt8=function(X,ee){return X=X>>>0,ee||F(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},a.prototype.readInt16LE=function(X,ee){X=X>>>0,ee||F(X,2,this.length);const we=this[X]|this[X+1]<<8;return we&32768?we|4294901760:we},a.prototype.readInt16BE=function(X,ee){X=X>>>0,ee||F(X,2,this.length);const we=this[X+1]|this[X]<<8;return we&32768?we|4294901760:we},a.prototype.readInt32LE=function(X,ee){return X=X>>>0,ee||F(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},a.prototype.readInt32BE=function(X,ee){return X=X>>>0,ee||F(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},a.prototype.readBigInt64LE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(we<<24);return(BigInt(Ae)<<BigInt(32))+BigInt(ee+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),a.prototype.readBigInt64BE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=(ee<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(Ae)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+we)}),a.prototype.readFloatLE=function(X,ee){return X=X>>>0,ee||F(X,4,this.length),n.read(this,X,!0,23,4)},a.prototype.readFloatBE=function(X,ee){return X=X>>>0,ee||F(X,4,this.length),n.read(this,X,!1,23,4)},a.prototype.readDoubleLE=function(X,ee){return X=X>>>0,ee||F(X,8,this.length),n.read(this,X,!0,52,8)},a.prototype.readDoubleBE=function(X,ee){return X=X>>>0,ee||F(X,8,this.length),n.read(this,X,!1,52,8)};function O(ce,X,ee,we,Ae,Pe){if(!a.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>Ae||X<Pe)throw new RangeError('"value" argument is out of bounds');if(ee+we>ce.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,we=we>>>0,!Ae){const tn=Math.pow(2,8*we)-1;O(this,X,ee,we,tn,0)}let Pe=1,We=0;for(this[ee]=X&255;++We<we&&(Pe*=256);)this[ee+We]=X/Pe&255;return ee+we},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,we=we>>>0,!Ae){const tn=Math.pow(2,8*we)-1;O(this,X,ee,we,tn,0)}let Pe=we-1,We=1;for(this[ee+Pe]=X&255;--Pe>=0&&(We*=256);)this[ee+Pe]=X/We&255;return ee+we},a.prototype.writeUint8=a.prototype.writeUInt8=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,1,255,0),this[ee]=X&255,ee+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,2,65535,0),this[ee]=X&255,this[ee+1]=X>>>8,ee+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,2,65535,0),this[ee]=X>>>8,this[ee+1]=X&255,ee+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,4,4294967295,0),this[ee+3]=X>>>24,this[ee+2]=X>>>16,this[ee+1]=X>>>8,this[ee]=X&255,ee+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,4,4294967295,0),this[ee]=X>>>24,this[ee+1]=X>>>16,this[ee+2]=X>>>8,this[ee+3]=X&255,ee+4};function W(ce,X,ee,we,Ae){De(X,we,Ae,ce,ee,7);let Pe=Number(X&BigInt(4294967295));ce[ee++]=Pe,Pe=Pe>>8,ce[ee++]=Pe,Pe=Pe>>8,ce[ee++]=Pe,Pe=Pe>>8,ce[ee++]=Pe;let We=Number(X>>BigInt(32)&BigInt(4294967295));return ce[ee++]=We,We=We>>8,ce[ee++]=We,We=We>>8,ce[ee++]=We,We=We>>8,ce[ee++]=We,ee}function G(ce,X,ee,we,Ae){De(X,we,Ae,ce,ee,7);let Pe=Number(X&BigInt(4294967295));ce[ee+7]=Pe,Pe=Pe>>8,ce[ee+6]=Pe,Pe=Pe>>8,ce[ee+5]=Pe,Pe=Pe>>8,ce[ee+4]=Pe;let We=Number(X>>BigInt(32)&BigInt(4294967295));return ce[ee+3]=We,We=We>>8,ce[ee+2]=We,We=We>>8,ce[ee+1]=We,We=We>>8,ce[ee]=We,ee+8}a.prototype.writeBigUInt64LE=$t(function(X,ee=0){return W(this,X,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=$t(function(X,ee=0){return G(this,X,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,!Ae){const on=Math.pow(2,8*we-1);O(this,X,ee,we,on-1,-on)}let Pe=0,We=1,tn=0;for(this[ee]=X&255;++Pe<we&&(We*=256);)X<0&&tn===0&&this[ee+Pe-1]!==0&&(tn=1),this[ee+Pe]=(X/We>>0)-tn&255;return ee+we},a.prototype.writeIntBE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,!Ae){const on=Math.pow(2,8*we-1);O(this,X,ee,we,on-1,-on)}let Pe=we-1,We=1,tn=0;for(this[ee+Pe]=X&255;--Pe>=0&&(We*=256);)X<0&&tn===0&&this[ee+Pe+1]!==0&&(tn=1),this[ee+Pe]=(X/We>>0)-tn&255;return ee+we},a.prototype.writeInt8=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,1,127,-128),X<0&&(X=255+X+1),this[ee]=X&255,ee+1},a.prototype.writeInt16LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,2,32767,-32768),this[ee]=X&255,this[ee+1]=X>>>8,ee+2},a.prototype.writeInt16BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,2,32767,-32768),this[ee]=X>>>8,this[ee+1]=X&255,ee+2},a.prototype.writeInt32LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,4,2147483647,-2147483648),this[ee]=X&255,this[ee+1]=X>>>8,this[ee+2]=X>>>16,this[ee+3]=X>>>24,ee+4},a.prototype.writeInt32BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||O(this,X,ee,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[ee]=X>>>24,this[ee+1]=X>>>16,this[ee+2]=X>>>8,this[ee+3]=X&255,ee+4},a.prototype.writeBigInt64LE=$t(function(X,ee=0){return W(this,X,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=$t(function(X,ee=0){return G(this,X,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(ce,X,ee,we,Ae,Pe){if(ee+we>ce.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function ie(ce,X,ee,we,Ae){return X=+X,ee=ee>>>0,Ae||Y(ce,X,ee,4),n.write(ce,X,ee,we,23,4),ee+4}a.prototype.writeFloatLE=function(X,ee,we){return ie(this,X,ee,!0,we)},a.prototype.writeFloatBE=function(X,ee,we){return ie(this,X,ee,!1,we)};function ye(ce,X,ee,we,Ae){return X=+X,ee=ee>>>0,Ae||Y(ce,X,ee,8),n.write(ce,X,ee,we,52,8),ee+8}a.prototype.writeDoubleLE=function(X,ee,we){return ye(this,X,ee,!0,we)},a.prototype.writeDoubleBE=function(X,ee,we){return ye(this,X,ee,!1,we)},a.prototype.copy=function(X,ee,we,Ae){if(!a.isBuffer(X))throw new TypeError("argument should be a Buffer");if(we||(we=0),!Ae&&Ae!==0&&(Ae=this.length),ee>=X.length&&(ee=X.length),ee||(ee=0),Ae>0&&Ae<we&&(Ae=we),Ae===we||X.length===0||this.length===0)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(we<0||we>=this.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),X.length-ee<Ae-we&&(Ae=X.length-ee+we);const Pe=Ae-we;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ee,we,Ae):Uint8Array.prototype.set.call(X,this.subarray(we,Ae),ee),Pe},a.prototype.fill=function(X,ee,we,Ae){if(typeof X=="string"){if(typeof ee=="string"?(Ae=ee,ee=0,we=this.length):typeof we=="string"&&(Ae=we,we=this.length),Ae!==void 0&&typeof Ae!="string")throw new TypeError("encoding must be a string");if(typeof Ae=="string"&&!a.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);if(X.length===1){const We=X.charCodeAt(0);(Ae==="utf8"&&We<128||Ae==="latin1")&&(X=We)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(ee<0||this.length<ee||this.length<we)throw new RangeError("Out of range index");if(we<=ee)return this;ee=ee>>>0,we=we===void 0?this.length:we>>>0,X||(X=0);let Pe;if(typeof X=="number")for(Pe=ee;Pe<we;++Pe)this[Pe]=X;else{const We=a.isBuffer(X)?X:a.from(X,Ae),tn=We.length;if(tn===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Pe=0;Pe<we-ee;++Pe)this[Pe+ee]=We[Pe%tn]}return this};const me={};function be(ce,X,ee){me[ce]=class extends ee{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,this.stack,delete this.name}get code(){return ce}set code(Ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ae,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(ce,X){return`The "${ce}" argument must be of type number. Received type ${typeof X}`},TypeError),be("ERR_OUT_OF_RANGE",function(ce,X,ee){let we=`The value of "${ce}" is out of range.`,Ae=ee;return Number.isInteger(ee)&&Math.abs(ee)>2**32?Ae=Me(String(ee)):typeof ee=="bigint"&&(Ae=String(ee),(ee>BigInt(2)**BigInt(32)||ee<-(BigInt(2)**BigInt(32)))&&(Ae=Me(Ae)),Ae+="n"),we+=` It must be ${X}. Received ${Ae}`,we},RangeError);function Me(ce){let X="",ee=ce.length;const we=ce[0]==="-"?1:0;for(;ee>=we+4;ee-=3)X=`_${ce.slice(ee-3,ee)}${X}`;return`${ce.slice(0,ee)}${X}`}function Fe(ce,X,ee){gt(X,"offset"),(ce[X]===void 0||ce[X+ee]===void 0)&&tt(X,ce.length-(ee+1))}function De(ce,X,ee,we,Ae,Pe){if(ce>ee||ce<X){const We=typeof X=="bigint"?"n":"";let tn;throw X===0||X===BigInt(0)?tn=`>= 0${We} and < 2${We} ** ${(Pe+1)*8}${We}`:tn=`>= -(2${We} ** ${(Pe+1)*8-1}${We}) and < 2 ** ${(Pe+1)*8-1}${We}`,new me.ERR_OUT_OF_RANGE("value",tn,ce)}Fe(we,Ae,Pe)}function gt(ce,X){if(typeof ce!="number")throw new me.ERR_INVALID_ARG_TYPE(X,"number",ce)}function tt(ce,X,ee){throw Math.floor(ce)!==ce?(gt(ce,ee),new me.ERR_OUT_OF_RANGE("offset","an integer",ce)):X<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,ce)}const dt=/[^+/0-9A-Za-z-_]/g;function Qt(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(dt,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function lt(ce,X){X=X||1/0;let ee;const we=ce.length;let Ae=null;const Pe=[];for(let We=0;We<we;++We){if(ee=ce.charCodeAt(We),ee>55295&&ee<57344){if(!Ae){if(ee>56319){(X-=3)>-1&&Pe.push(239,191,189);continue}else if(We+1===we){(X-=3)>-1&&Pe.push(239,191,189);continue}Ae=ee;continue}if(ee<56320){(X-=3)>-1&&Pe.push(239,191,189),Ae=ee;continue}ee=(Ae-55296<<10|ee-56320)+65536}else Ae&&(X-=3)>-1&&Pe.push(239,191,189);if(Ae=null,ee<128){if((X-=1)<0)break;Pe.push(ee)}else if(ee<2048){if((X-=2)<0)break;Pe.push(ee>>6|192,ee&63|128)}else if(ee<65536){if((X-=3)<0)break;Pe.push(ee>>12|224,ee>>6&63|128,ee&63|128)}else if(ee<1114112){if((X-=4)<0)break;Pe.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,ee&63|128)}else throw new Error("Invalid code point")}return Pe}function jt(ce){const X=[];for(let ee=0;ee<ce.length;++ee)X.push(ce.charCodeAt(ee)&255);return X}function rn(ce,X){let ee,we,Ae;const Pe=[];for(let We=0;We<ce.length&&!((X-=2)<0);++We)ee=ce.charCodeAt(We),we=ee>>8,Ae=ee%256,Pe.push(Ae),Pe.push(we);return Pe}function Re(ce){return t.toByteArray(Qt(ce))}function Ze(ce,X,ee,we){let Ae;for(Ae=0;Ae<we&&!(Ae+ee>=X.length||Ae>=ce.length);++Ae)X[Ae+ee]=ce[Ae];return Ae}function ct(ce,X){return ce instanceof X||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===X.name}function st(ce){return ce!==ce}const vt=(function(){const ce="0123456789abcdef",X=new Array(256);for(let ee=0;ee<16;++ee){const we=ee*16;for(let Ae=0;Ae<16;++Ae)X[we+Ae]=ce[ee]+ce[Ae]}return X})();function $t(ce){return typeof BigInt>"u"?zt:ce}function zt(){throw new Error("BigInt not supported")}})(B5)),B5}var Te=uD(),x=dD();const Vt=Rr(x);var ok={},D5={exports:{}},wa={},M5={exports:{}},j5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $F;function K_e(){return $F||($F=1,(function(e){function t(j,V){var K=j.length;j.push(V);e:for(;0<K;){var F=K-1>>>1,O=j[F];if(0<i(O,V))j[F]=V,j[K]=O,K=F;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var V=j[0],K=j.pop();if(K!==V){j[0]=K;e:for(var F=0,O=j.length,W=O>>>1;F<W;){var G=2*(F+1)-1,Y=j[G],ie=G+1,ye=j[ie];if(0>i(Y,K))ie<O&&0>i(ye,Y)?(j[F]=ye,j[ie]=K,F=ie):(j[F]=Y,j[G]=K,F=G);else if(ie<O&&0>i(ye,K))j[F]=ye,j[ie]=K,F=ie;else break e}}return V}function i(j,V){var K=j.sortIndex-V.sortIndex;return K!==0?K:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=j)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function R(j){if(g=!1,_(j),!v)if(n(l)!==null)v=!0,N(I);else{var V=n(c);V!==null&&P(R,V.startTime-j)}}function I(j,V){v=!1,g&&(g=!1,b(D),D=-1),m=!0;var K=h;try{for(_(V),u=n(l);u!==null&&(!(u.expirationTime>V)||j&&!$());){var F=u.callback;if(typeof F=="function"){u.callback=null,h=u.priorityLevel;var O=F(u.expirationTime<=V);V=e.unstable_now(),typeof O=="function"?u.callback=O:u===n(l)&&r(l),_(V)}else r(l);u=n(l)}if(u!==null)var W=!0;else{var G=n(c);G!==null&&P(R,G.startTime-V),W=!1}return W}finally{u=null,h=K,m=!1}}var T=!1,M=null,D=-1,A=5,U=-1;function $(){return!(e.unstable_now()-U<A)}function q(){if(M!==null){var j=e.unstable_now();U=j;var V=!0;try{V=M(!0,j)}finally{V?z():(T=!1,M=null)}}else T=!1}var z;if(typeof k=="function")z=function(){k(q)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,E=S.port2;S.port1.onmessage=q,z=function(){E.postMessage(null)}}else z=function(){y(q,0)};function N(j){M=j,T||(T=!0,z())}function P(j,V){D=y(function(){j(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,N(I))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var K=h;h=V;try{return j()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return V()}finally{h=K}},e.unstable_scheduleCallback=function(j,V,K){var F=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?F+K:F):K=F,j){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,j={id:d++,callback:V,priorityLevel:j,startTime:K,expirationTime:O,sortIndex:-1},K>F?(j.sortIndex=K,t(c,j),n(l)===null&&j===n(c)&&(g?(b(D),D=-1):g=!0,P(R,K-F))):(j.sortIndex=O,t(l,j),v||m||(v=!0,N(I))),j},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(j){var V=h;return function(){var K=h;h=V;try{return j.apply(this,arguments)}finally{h=K}}}})(j5)),j5}var LF;function H_e(){return LF||(LF=1,M5.exports=K_e()),M5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UF;function G_e(){if(UF)return wa;UF=1;var e=dD(),t=H_e();function n(p){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+p,C=1;C<arguments.length;C++)w+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+p+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(p,w){s(p,w),s(p+"Capture",w)}function s(p,w){for(i[p]=w,p=0;p<w.length;p++)r.add(w[p])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},u={};function h(p){return l.call(u,p)?!0:l.call(d,p)?!1:c.test(p)?u[p]=!0:(d[p]=!0,!1)}function m(p,w,C,L){if(C!==null&&C.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return L?!1:C!==null?!C.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function v(p,w,C,L){if(w===null||typeof w>"u"||m(p,w,C,L))return!0;if(L)return!1;if(C!==null)switch(C.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function g(p,w,C,L,J,Q,ue){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=L,this.attributeNamespace=J,this.mustUseProperty=C,this.propertyName=p,this.type=w,this.sanitizeURL=Q,this.removeEmptyString=ue}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var w=p[0];y[w]=new g(w,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function k(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var w=p.replace(b,k);y[w]=new g(w,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var w=p.replace(b,k);y[w]=new g(w,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var w=p.replace(b,k);y[w]=new g(w,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function _(p,w,C,L){var J=y.hasOwnProperty(w)?y[w]:null;(J!==null?J.type!==0:L||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(v(w,C,J,L)&&(C=null),L||J===null?h(w)&&(C===null?p.removeAttribute(w):p.setAttribute(w,""+C)):J.mustUseProperty?p[J.propertyName]=C===null?J.type===3?!1:"":C:(w=J.attributeName,L=J.attributeNamespace,C===null?p.removeAttribute(w):(J=J.type,C=J===3||J===4&&C===!0?"":""+C,L?p.setAttributeNS(L,w,C):p.setAttribute(w,C))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),j=Symbol.iterator;function V(p){return p===null||typeof p!="object"?null:(p=j&&p[j]||p["@@iterator"],typeof p=="function"?p:null)}var K=Object.assign,F;function O(p){if(F===void 0)try{throw Error()}catch(C){var w=C.stack.trim().match(/\n( *(at )?)/);F=w&&w[1]||""}return`
`+F+p}var W=!1;function G(p,w){if(!p||W)return"";W=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(He){var L=He}Reflect.construct(p,[],w)}else{try{w.call()}catch(He){L=He}p.call(w.prototype)}else{try{throw Error()}catch(He){L=He}p()}}catch(He){if(He&&L&&typeof He.stack=="string"){for(var J=He.stack.split(`
`),Q=L.stack.split(`
`),ue=J.length-1,xe=Q.length-1;1<=ue&&0<=xe&&J[ue]!==Q[xe];)xe--;for(;1<=ue&&0<=xe;ue--,xe--)if(J[ue]!==Q[xe]){if(ue!==1||xe!==1)do if(ue--,xe--,0>xe||J[ue]!==Q[xe]){var Ce=`
`+J[ue].replace(" at new "," at ");return p.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",p.displayName)),Ce}while(1<=ue&&0<=xe);break}}}finally{W=!1,Error.prepareStackTrace=C}return(p=p?p.displayName||p.name:"")?O(p):""}function Y(p){switch(p.tag){case 5:return O(p.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return p=G(p.type,!1),p;case 11:return p=G(p.type.render,!1),p;case 1:return p=G(p.type,!0),p;default:return""}}function ie(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case M:return"Fragment";case T:return"Portal";case A:return"Profiler";case D:return"StrictMode";case z:return"Suspense";case S:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case $:return(p.displayName||"Context")+".Consumer";case U:return(p._context.displayName||"Context")+".Provider";case q:var w=p.render;return p=p.displayName,p||(p=w.displayName||w.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case E:return w=p.displayName||null,w!==null?w:ie(p.type)||"Memo";case N:w=p._payload,p=p._init;try{return ie(p(w))}catch{}}return null}function ye(p){var w=p.type;switch(p.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=w.render,p=p.displayName||p.name||"",w.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(w);case 8:return w===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function me(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function be(p){var w=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function Me(p){var w=be(p)?"checked":"value",C=Object.getOwnPropertyDescriptor(p.constructor.prototype,w),L=""+p[w];if(!p.hasOwnProperty(w)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var J=C.get,Q=C.set;return Object.defineProperty(p,w,{configurable:!0,get:function(){return J.call(this)},set:function(ue){L=""+ue,Q.call(this,ue)}}),Object.defineProperty(p,w,{enumerable:C.enumerable}),{getValue:function(){return L},setValue:function(ue){L=""+ue},stopTracking:function(){p._valueTracker=null,delete p[w]}}}}function Fe(p){p._valueTracker||(p._valueTracker=Me(p))}function De(p){if(!p)return!1;var w=p._valueTracker;if(!w)return!0;var C=w.getValue(),L="";return p&&(L=be(p)?p.checked?"true":"false":p.value),p=L,p!==C?(w.setValue(p),!0):!1}function gt(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function tt(p,w){var C=w.checked;return K({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??p._wrapperState.initialChecked})}function dt(p,w){var C=w.defaultValue==null?"":w.defaultValue,L=w.checked!=null?w.checked:w.defaultChecked;C=me(w.value!=null?w.value:C),p._wrapperState={initialChecked:L,initialValue:C,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function Qt(p,w){w=w.checked,w!=null&&_(p,"checked",w,!1)}function lt(p,w){Qt(p,w);var C=me(w.value),L=w.type;if(C!=null)L==="number"?(C===0&&p.value===""||p.value!=C)&&(p.value=""+C):p.value!==""+C&&(p.value=""+C);else if(L==="submit"||L==="reset"){p.removeAttribute("value");return}w.hasOwnProperty("value")?rn(p,w.type,C):w.hasOwnProperty("defaultValue")&&rn(p,w.type,me(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(p.defaultChecked=!!w.defaultChecked)}function jt(p,w,C){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var L=w.type;if(!(L!=="submit"&&L!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+p._wrapperState.initialValue,C||w===p.value||(p.value=w),p.defaultValue=w}C=p.name,C!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,C!==""&&(p.name=C)}function rn(p,w,C){(w!=="number"||gt(p.ownerDocument)!==p)&&(C==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+C&&(p.defaultValue=""+C))}var Re=Array.isArray;function Ze(p,w,C,L){if(p=p.options,w){w={};for(var J=0;J<C.length;J++)w["$"+C[J]]=!0;for(C=0;C<p.length;C++)J=w.hasOwnProperty("$"+p[C].value),p[C].selected!==J&&(p[C].selected=J),J&&L&&(p[C].defaultSelected=!0)}else{for(C=""+me(C),w=null,J=0;J<p.length;J++){if(p[J].value===C){p[J].selected=!0,L&&(p[J].defaultSelected=!0);return}w!==null||p[J].disabled||(w=p[J])}w!==null&&(w.selected=!0)}}function ct(p,w){if(w.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},w,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function st(p,w){var C=w.value;if(C==null){if(C=w.children,w=w.defaultValue,C!=null){if(w!=null)throw Error(n(92));if(Re(C)){if(1<C.length)throw Error(n(93));C=C[0]}w=C}w==null&&(w=""),C=w}p._wrapperState={initialValue:me(C)}}function vt(p,w){var C=me(w.value),L=me(w.defaultValue);C!=null&&(C=""+C,C!==p.value&&(p.value=C),w.defaultValue==null&&p.defaultValue!==C&&(p.defaultValue=C)),L!=null&&(p.defaultValue=""+L)}function $t(p){var w=p.textContent;w===p._wrapperState.initialValue&&w!==""&&w!==null&&(p.value=w)}function zt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(p,w){return p==null||p==="http://www.w3.org/1999/xhtml"?zt(w):p==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var X,ee=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,C,L,J){MSApp.execUnsafeLocalFunction(function(){return p(w,C,L,J)})}:p})(function(p,w){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=w;else{for(X=X||document.createElement("div"),X.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=X.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;w.firstChild;)p.appendChild(w.firstChild)}});function we(p,w){if(w){var C=p.firstChild;if(C&&C===p.lastChild&&C.nodeType===3){C.nodeValue=w;return}}p.textContent=w}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pe=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(p){Pe.forEach(function(w){w=w+p.charAt(0).toUpperCase()+p.substring(1),Ae[w]=Ae[p]})});function We(p,w,C){return w==null||typeof w=="boolean"||w===""?"":C||typeof w!="number"||w===0||Ae.hasOwnProperty(p)&&Ae[p]?(""+w).trim():w+"px"}function tn(p,w){p=p.style;for(var C in w)if(w.hasOwnProperty(C)){var L=C.indexOf("--")===0,J=We(C,w[C],L);C==="float"&&(C="cssFloat"),L?p.setProperty(C,J):p[C]=J}}var on=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(p,w){if(w){if(on[p]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(n(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(n(61))}if(w.style!=null&&typeof w.style!="object")throw Error(n(62))}}function Bn(p,w){if(p.indexOf("-")===-1)return typeof w.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jt=null;function hr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Wa=null,pr=null,wr=null;function uc(p){if(p=Zv(p)){if(typeof Wa!="function")throw Error(n(280));var w=p.stateNode;w&&(w=wx(w),Wa(p.stateNode,p.type,w))}}function ir(p){pr?wr?wr.push(p):wr=[p]:pr=p}function sr(){if(pr){var p=pr,w=wr;if(wr=pr=null,uc(p),w)for(p=0;p<w.length;p++)uc(w[p])}}function Qo(p,w){return p(w)}function Or(){}var Ir=!1;function fc(p,w,C){if(Ir)return p(w,C);Ir=!0;try{return Qo(p,w,C)}finally{Ir=!1,(pr!==null||wr!==null)&&(Or(),sr())}}function Er(p,w){var C=p.stateNode;if(C===null)return null;var L=wx(C);if(L===null)return null;C=L[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(p=p.type,L=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!L;break e;default:p=!1}if(p)return null;if(C&&typeof C!="function")throw Error(n(231,w,typeof C));return C}var Fn=!1;if(a)try{var es={};Object.defineProperty(es,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Fn=!1}function ne(p,w,C,L,J,Q,ue,xe,Ce){var He=Array.prototype.slice.call(arguments,3);try{w.apply(C,He)}catch(ht){this.onError(ht)}}var fe=!1,he=null,Z=!1,ve=null,Be={onError:function(p){fe=!0,he=p}};function Ne(p,w,C,L,J,Q,ue,xe,Ce){fe=!1,he=null,ne.apply(Be,arguments)}function Ge(p,w,C,L,J,Q,ue,xe,Ce){if(Ne.apply(this,arguments),fe){if(fe){var He=he;fe=!1,he=null}else throw Error(n(198));Z||(Z=!0,ve=He)}}function ut(p){var w=p,C=p;if(p.alternate)for(;w.return;)w=w.return;else{p=w;do w=p,(w.flags&4098)!==0&&(C=w.return),p=w.return;while(p)}return w.tag===3?C:null}function bt(p){if(p.tag===13){var w=p.memoizedState;if(w===null&&(p=p.alternate,p!==null&&(w=p.memoizedState)),w!==null)return w.dehydrated}return null}function Ye(p){if(ut(p)!==p)throw Error(n(188))}function jn(p){var w=p.alternate;if(!w){if(w=ut(p),w===null)throw Error(n(188));return w!==p?null:p}for(var C=p,L=w;;){var J=C.return;if(J===null)break;var Q=J.alternate;if(Q===null){if(L=J.return,L!==null){C=L;continue}break}if(J.child===Q.child){for(Q=J.child;Q;){if(Q===C)return Ye(J),p;if(Q===L)return Ye(J),w;Q=Q.sibling}throw Error(n(188))}if(C.return!==L.return)C=J,L=Q;else{for(var ue=!1,xe=J.child;xe;){if(xe===C){ue=!0,C=J,L=Q;break}if(xe===L){ue=!0,L=J,C=Q;break}xe=xe.sibling}if(!ue){for(xe=Q.child;xe;){if(xe===C){ue=!0,C=Q,L=J;break}if(xe===L){ue=!0,L=Q,C=J;break}xe=xe.sibling}if(!ue)throw Error(n(189))}}if(C.alternate!==L)throw Error(n(190))}if(C.tag!==3)throw Error(n(188));return C.stateNode.current===C?p:w}function Et(p){return p=jn(p),p!==null?Zt(p):null}function Zt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var w=Zt(p);if(w!==null)return w;p=p.sibling}return null}var dn=t.unstable_scheduleCallback,yn=t.unstable_cancelCallback,vn=t.unstable_shouldYield,un=t.unstable_requestPaint,Rt=t.unstable_now,hn=t.unstable_getCurrentPriorityLevel,Tt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,St=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,_t=null,Ue=null;function Ve(p){if(Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(_t,p,void 0,(p.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:pt,Qe=Math.log,nt=Math.LN2;function pt(p){return p>>>=0,p===0?32:31-(Qe(p)/nt|0)|0}var Wt=64,mn=4194304;function gn(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function _n(p,w){var C=p.pendingLanes;if(C===0)return 0;var L=0,J=p.suspendedLanes,Q=p.pingedLanes,ue=C&268435455;if(ue!==0){var xe=ue&~J;xe!==0?L=gn(xe):(Q&=ue,Q!==0&&(L=gn(Q)))}else ue=C&~J,ue!==0?L=gn(ue):Q!==0&&(L=gn(Q));if(L===0)return 0;if(w!==0&&w!==L&&(w&J)===0&&(J=L&-L,Q=w&-w,J>=Q||J===16&&(Q&4194240)!==0))return w;if((L&4)!==0&&(L|=C&16),w=p.entangledLanes,w!==0)for(p=p.entanglements,w&=L;0<w;)C=31-et(w),J=1<<C,L|=p[C],w&=~J;return L}function Ee(p,w){switch(p){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(p,w){for(var C=p.suspendedLanes,L=p.pingedLanes,J=p.expirationTimes,Q=p.pendingLanes;0<Q;){var ue=31-et(Q),xe=1<<ue,Ce=J[ue];Ce===-1?((xe&C)===0||(xe&L)!==0)&&(J[ue]=Ee(xe,w)):Ce<=w&&(p.expiredLanes|=xe),Q&=~xe}}function $n(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Gn(){var p=Wt;return Wt<<=1,(Wt&4194240)===0&&(Wt=64),p}function In(p){for(var w=[],C=0;31>C;C++)w.push(p);return w}function Dn(p,w,C){p.pendingLanes|=w,w!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,w=31-et(w),p[w]=C}function Nn(p,w){var C=p.pendingLanes&~w;p.pendingLanes=w,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=w,p.mutableReadLanes&=w,p.entangledLanes&=w,w=p.entanglements;var L=p.eventTimes;for(p=p.expirationTimes;0<C;){var J=31-et(C),Q=1<<J;w[J]=0,L[J]=-1,p[J]=-1,C&=~Q}}function Mr(p,w){var C=p.entangledLanes|=w;for(p=p.entanglements;C;){var L=31-et(C),J=1<<L;J&w|p[L]&w&&(p[L]|=w),C&=~J}}var Yt=0;function Wr(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var ar,Cr,Gr,Mi,lr,Ei=!1,Yd=[],El=null,hc=null,qa=null,Xd=new Map,cf=new Map,ed=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rx(p,w){switch(p){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":hc=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Xd.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(w.pointerId)}}function Cl(p,w,C,L,J,Q){return p===null||p.nativeEvent!==Q?(p={blockedOn:w,domEventName:C,eventSystemFlags:L,nativeEvent:Q,targetContainers:[J]},w!==null&&(w=Zv(w),w!==null&&Cr(w)),p):(p.eventSystemFlags|=L,w=p.targetContainers,J!==null&&w.indexOf(J)===-1&&w.push(J),p)}function sC(p,w,C,L,J){switch(w){case"focusin":return El=Cl(El,p,w,C,L,J),!0;case"dragenter":return hc=Cl(hc,p,w,C,L,J),!0;case"mouseover":return qa=Cl(qa,p,w,C,L,J),!0;case"pointerover":var Q=J.pointerId;return Xd.set(Q,Cl(Xd.get(Q)||null,p,w,C,L,J)),!0;case"gotpointercapture":return Q=J.pointerId,cf.set(Q,Cl(cf.get(Q)||null,p,w,C,L,J)),!0}return!1}function Mv(p){var w=up(p.target);if(w!==null){var C=ut(w);if(C!==null){if(w=C.tag,w===13){if(w=bt(C),w!==null){p.blockedOn=w,lr(p.priority,function(){Gr(C)});return}}else if(w===3&&C.stateNode.current.memoizedState.isDehydrated){p.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}p.blockedOn=null}function lp(p){if(p.blockedOn!==null)return!1;for(var w=p.targetContainers;0<w.length;){var C=$v(p.domEventName,p.eventSystemFlags,w[0],p.nativeEvent);if(C===null){C=p.nativeEvent;var L=new C.constructor(C.type,C);Jt=L,C.target.dispatchEvent(L),Jt=null}else return w=Zv(C),w!==null&&Cr(w),p.blockedOn=C,!1;w.shift()}return!0}function jv(p,w,C){lp(p)&&C.delete(w)}function ix(){Ei=!1,El!==null&&lp(El)&&(El=null),hc!==null&&lp(hc)&&(hc=null),qa!==null&&lp(qa)&&(qa=null),Xd.forEach(jv),cf.forEach(jv)}function df(p,w){p.blockedOn===w&&(p.blockedOn=null,Ei||(Ei=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ix)))}function uf(p){function w(J){return df(J,p)}if(0<Yd.length){df(Yd[0],p);for(var C=1;C<Yd.length;C++){var L=Yd[C];L.blockedOn===p&&(L.blockedOn=null)}}for(El!==null&&df(El,p),hc!==null&&df(hc,p),qa!==null&&df(qa,p),Xd.forEach(w),cf.forEach(w),C=0;C<ed.length;C++)L=ed[C],L.blockedOn===p&&(L.blockedOn=null);for(;0<ed.length&&(C=ed[0],C.blockedOn===null);)Mv(C),C.blockedOn===null&&ed.shift()}var Qd=R.ReactCurrentBatchConfig,cp=!0;function ox(p,w,C,L){var J=Yt,Q=Qd.transition;Qd.transition=null;try{Yt=1,Sg(p,w,C,L)}finally{Yt=J,Qd.transition=Q}}function sx(p,w,C,L){var J=Yt,Q=Qd.transition;Qd.transition=null;try{Yt=4,Sg(p,w,C,L)}finally{Yt=J,Qd.transition=Q}}function Sg(p,w,C,L){if(cp){var J=$v(p,w,C,L);if(J===null)xC(p,w,L,dp,C),rx(p,L);else if(sC(J,p,w,C,L))L.stopPropagation();else if(rx(p,L),w&4&&-1<Dv.indexOf(p)){for(;J!==null;){var Q=Zv(J);if(Q!==null&&ar(Q),Q=$v(p,w,C,L),Q===null&&xC(p,w,L,dp,C),Q===J)break;J=Q}J!==null&&L.stopPropagation()}else xC(p,w,L,null,C)}}var dp=null;function $v(p,w,C,L){if(dp=null,p=hr(L),p=up(p),p!==null)if(w=ut(p),w===null)p=null;else if(C=w.tag,C===13){if(p=bt(w),p!==null)return p;p=null}else if(C===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;p=null}else w!==p&&(p=null);return dp=p,null}function ax(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hn()){case Tt:return 1;case Ft:return 4;case St:case Pt:return 16;case Mt:return 536870912;default:return 16}default:return 16}}var qr=null,Ig=null,lx=null;function vL(){if(lx)return lx;var p,w=Ig,C=w.length,L,J="value"in qr?qr.value:qr.textContent,Q=J.length;for(p=0;p<C&&w[p]===J[p];p++);var ue=C-p;for(L=1;L<=ue&&w[C-L]===J[Q-L];L++);return lx=J.slice(p,1<L?1-L:void 0)}function cx(p){var w=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&w===13&&(p=13)):p=w,p===10&&(p=13),32<=p||p===13?p:0}function dx(){return!0}function wL(){return!1}function za(p){function w(C,L,J,Q,ue){this._reactName=C,this._targetInst=J,this.type=L,this.nativeEvent=Q,this.target=ue,this.currentTarget=null;for(var xe in p)p.hasOwnProperty(xe)&&(C=p[xe],this[xe]=C?C(Q):Q[xe]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?dx:wL,this.isPropagationStopped=wL,this}return K(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=dx)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=dx)},persist:function(){},isPersistent:dx}),w}var Eg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aC=za(Eg),Lv=K({},Eg,{view:0,detail:0}),f1e=za(Lv),lC,cC,Uv,ux=K({},Lv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uC,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Uv&&(Uv&&p.type==="mousemove"?(lC=p.screenX-Uv.screenX,cC=p.screenY-Uv.screenY):cC=lC=0,Uv=p),lC)},movementY:function(p){return"movementY"in p?p.movementY:cC}}),bL=za(ux),h1e=K({},ux,{dataTransfer:0}),p1e=za(h1e),m1e=K({},Lv,{relatedTarget:0}),dC=za(m1e),g1e=K({},Eg,{animationName:0,elapsedTime:0,pseudoElement:0}),y1e=za(g1e),v1e=K({},Eg,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),w1e=za(v1e),b1e=K({},Eg,{data:0}),_L=za(b1e),_1e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x1e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k1e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1e(p){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(p):(p=k1e[p])?!!w[p]:!1}function uC(){return S1e}var I1e=K({},Lv,{key:function(p){if(p.key){var w=_1e[p.key]||p.key;if(w!=="Unidentified")return w}return p.type==="keypress"?(p=cx(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?x1e[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uC,charCode:function(p){return p.type==="keypress"?cx(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?cx(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),E1e=za(I1e),C1e=K({},ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xL=za(C1e),A1e=K({},Lv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uC}),R1e=za(A1e),T1e=K({},Eg,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1e=za(T1e),N1e=K({},ux,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),P1e=za(N1e),B1e=[9,13,27,32],fC=a&&"CompositionEvent"in window,Fv=null;a&&"documentMode"in document&&(Fv=document.documentMode);var D1e=a&&"TextEvent"in window&&!Fv,kL=a&&(!fC||Fv&&8<Fv&&11>=Fv),SL=" ",IL=!1;function EL(p,w){switch(p){case"keyup":return B1e.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CL(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Cg=!1;function M1e(p,w){switch(p){case"compositionend":return CL(w);case"keypress":return w.which!==32?null:(IL=!0,SL);case"textInput":return p=w.data,p===SL&&IL?null:p;default:return null}}function j1e(p,w){if(Cg)return p==="compositionend"||!fC&&EL(p,w)?(p=vL(),lx=Ig=qr=null,Cg=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return kL&&w.locale!=="ko"?null:w.data;default:return null}}var $1e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AL(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w==="input"?!!$1e[p.type]:w==="textarea"}function RL(p,w,C,L){ir(L),w=gx(w,"onChange"),0<w.length&&(C=new aC("onChange","change",null,C,L),p.push({event:C,listeners:w}))}var Wv=null,qv=null;function L1e(p){HL(p,0)}function fx(p){var w=Ng(p);if(De(w))return p}function U1e(p,w){if(p==="change")return w}var TL=!1;if(a){var hC;if(a){var pC="oninput"in document;if(!pC){var OL=document.createElement("div");OL.setAttribute("oninput","return;"),pC=typeof OL.oninput=="function"}hC=pC}else hC=!1;TL=hC&&(!document.documentMode||9<document.documentMode)}function NL(){Wv&&(Wv.detachEvent("onpropertychange",PL),qv=Wv=null)}function PL(p){if(p.propertyName==="value"&&fx(qv)){var w=[];RL(w,qv,p,hr(p)),fc(L1e,w)}}function F1e(p,w,C){p==="focusin"?(NL(),Wv=w,qv=C,Wv.attachEvent("onpropertychange",PL)):p==="focusout"&&NL()}function W1e(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return fx(qv)}function q1e(p,w){if(p==="click")return fx(w)}function z1e(p,w){if(p==="input"||p==="change")return fx(w)}function V1e(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var pc=typeof Object.is=="function"?Object.is:V1e;function zv(p,w){if(pc(p,w))return!0;if(typeof p!="object"||p===null||typeof w!="object"||w===null)return!1;var C=Object.keys(p),L=Object.keys(w);if(C.length!==L.length)return!1;for(L=0;L<C.length;L++){var J=C[L];if(!l.call(w,J)||!pc(p[J],w[J]))return!1}return!0}function BL(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function DL(p,w){var C=BL(p);p=0;for(var L;C;){if(C.nodeType===3){if(L=p+C.textContent.length,p<=w&&L>=w)return{node:C,offset:w-p};p=L}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=BL(C)}}function ML(p,w){return p&&w?p===w?!0:p&&p.nodeType===3?!1:w&&w.nodeType===3?ML(p,w.parentNode):"contains"in p?p.contains(w):p.compareDocumentPosition?!!(p.compareDocumentPosition(w)&16):!1:!1}function jL(){for(var p=window,w=gt();w instanceof p.HTMLIFrameElement;){try{var C=typeof w.contentWindow.location.href=="string"}catch{C=!1}if(C)p=w.contentWindow;else break;w=gt(p.document)}return w}function mC(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w&&(w==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||w==="textarea"||p.contentEditable==="true")}function K1e(p){var w=jL(),C=p.focusedElem,L=p.selectionRange;if(w!==C&&C&&C.ownerDocument&&ML(C.ownerDocument.documentElement,C)){if(L!==null&&mC(C)){if(w=L.start,p=L.end,p===void 0&&(p=w),"selectionStart"in C)C.selectionStart=w,C.selectionEnd=Math.min(p,C.value.length);else if(p=(w=C.ownerDocument||document)&&w.defaultView||window,p.getSelection){p=p.getSelection();var J=C.textContent.length,Q=Math.min(L.start,J);L=L.end===void 0?Q:Math.min(L.end,J),!p.extend&&Q>L&&(J=L,L=Q,Q=J),J=DL(C,Q);var ue=DL(C,L);J&&ue&&(p.rangeCount!==1||p.anchorNode!==J.node||p.anchorOffset!==J.offset||p.focusNode!==ue.node||p.focusOffset!==ue.offset)&&(w=w.createRange(),w.setStart(J.node,J.offset),p.removeAllRanges(),Q>L?(p.addRange(w),p.extend(ue.node,ue.offset)):(w.setEnd(ue.node,ue.offset),p.addRange(w)))}}for(w=[],p=C;p=p.parentNode;)p.nodeType===1&&w.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<w.length;C++)p=w[C],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var H1e=a&&"documentMode"in document&&11>=document.documentMode,Ag=null,gC=null,Vv=null,yC=!1;function $L(p,w,C){var L=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;yC||Ag==null||Ag!==gt(L)||(L=Ag,"selectionStart"in L&&mC(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Vv&&zv(Vv,L)||(Vv=L,L=gx(gC,"onSelect"),0<L.length&&(w=new aC("onSelect","select",null,w,C),p.push({event:w,listeners:L}),w.target=Ag)))}function hx(p,w){var C={};return C[p.toLowerCase()]=w.toLowerCase(),C["Webkit"+p]="webkit"+w,C["Moz"+p]="moz"+w,C}var Rg={animationend:hx("Animation","AnimationEnd"),animationiteration:hx("Animation","AnimationIteration"),animationstart:hx("Animation","AnimationStart"),transitionend:hx("Transition","TransitionEnd")},vC={},LL={};a&&(LL=document.createElement("div").style,"AnimationEvent"in window||(delete Rg.animationend.animation,delete Rg.animationiteration.animation,delete Rg.animationstart.animation),"TransitionEvent"in window||delete Rg.transitionend.transition);function px(p){if(vC[p])return vC[p];if(!Rg[p])return p;var w=Rg[p],C;for(C in w)if(w.hasOwnProperty(C)&&C in LL)return vC[p]=w[C];return p}var UL=px("animationend"),FL=px("animationiteration"),WL=px("animationstart"),qL=px("transitionend"),zL=new Map,VL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(p,w){zL.set(p,w),o(w,[p])}for(var wC=0;wC<VL.length;wC++){var bC=VL[wC],G1e=bC.toLowerCase(),J1e=bC[0].toUpperCase()+bC.slice(1);ff(G1e,"on"+J1e)}ff(UL,"onAnimationEnd"),ff(FL,"onAnimationIteration"),ff(WL,"onAnimationStart"),ff("dblclick","onDoubleClick"),ff("focusin","onFocus"),ff("focusout","onBlur"),ff(qL,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1e=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kv));function KL(p,w,C){var L=p.type||"unknown-event";p.currentTarget=C,Ge(L,w,void 0,p),p.currentTarget=null}function HL(p,w){w=(w&4)!==0;for(var C=0;C<p.length;C++){var L=p[C],J=L.event;L=L.listeners;e:{var Q=void 0;if(w)for(var ue=L.length-1;0<=ue;ue--){var xe=L[ue],Ce=xe.instance,He=xe.currentTarget;if(xe=xe.listener,Ce!==Q&&J.isPropagationStopped())break e;KL(J,xe,He),Q=Ce}else for(ue=0;ue<L.length;ue++){if(xe=L[ue],Ce=xe.instance,He=xe.currentTarget,xe=xe.listener,Ce!==Q&&J.isPropagationStopped())break e;KL(J,xe,He),Q=Ce}}}if(Z)throw p=ve,Z=!1,ve=null,p}function ci(p,w){var C=w[AC];C===void 0&&(C=w[AC]=new Set);var L=p+"__bubble";C.has(L)||(GL(w,p,2,!1),C.add(L))}function _C(p,w,C){var L=0;w&&(L|=4),GL(C,p,L,w)}var mx="_reactListening"+Math.random().toString(36).slice(2);function Hv(p){if(!p[mx]){p[mx]=!0,r.forEach(function(C){C!=="selectionchange"&&(Z1e.has(C)||_C(C,!1,p),_C(C,!0,p))});var w=p.nodeType===9?p:p.ownerDocument;w===null||w[mx]||(w[mx]=!0,_C("selectionchange",!1,w))}}function GL(p,w,C,L){switch(ax(w)){case 1:var J=ox;break;case 4:J=sx;break;default:J=Sg}C=J.bind(null,w,C,p),J=void 0,!Fn||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(J=!0),L?J!==void 0?p.addEventListener(w,C,{capture:!0,passive:J}):p.addEventListener(w,C,!0):J!==void 0?p.addEventListener(w,C,{passive:J}):p.addEventListener(w,C,!1)}function xC(p,w,C,L,J){var Q=L;if((w&1)===0&&(w&2)===0&&L!==null)e:for(;;){if(L===null)return;var ue=L.tag;if(ue===3||ue===4){var xe=L.stateNode.containerInfo;if(xe===J||xe.nodeType===8&&xe.parentNode===J)break;if(ue===4)for(ue=L.return;ue!==null;){var Ce=ue.tag;if((Ce===3||Ce===4)&&(Ce=ue.stateNode.containerInfo,Ce===J||Ce.nodeType===8&&Ce.parentNode===J))return;ue=ue.return}for(;xe!==null;){if(ue=up(xe),ue===null)return;if(Ce=ue.tag,Ce===5||Ce===6){L=Q=ue;continue e}xe=xe.parentNode}}L=L.return}fc(function(){var He=Q,ht=hr(C),yt=[];e:{var ft=zL.get(p);if(ft!==void 0){var Lt=aC,Kt=p;switch(p){case"keypress":if(cx(C)===0)break e;case"keydown":case"keyup":Lt=E1e;break;case"focusin":Kt="focus",Lt=dC;break;case"focusout":Kt="blur",Lt=dC;break;case"beforeblur":case"afterblur":Lt=dC;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=bL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=p1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=R1e;break;case UL:case FL:case WL:Lt=y1e;break;case qL:Lt=O1e;break;case"scroll":Lt=f1e;break;case"wheel":Lt=P1e;break;case"copy":case"cut":case"paste":Lt=w1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=xL}var Gt=(w&4)!==0,Xi=!Gt&&p==="scroll",Le=Gt?ft!==null?ft+"Capture":null:ft;Gt=[];for(var Oe=He,qe;Oe!==null;){qe=Oe;var wt=qe.stateNode;if(qe.tag===5&&wt!==null&&(qe=wt,Le!==null&&(wt=Er(Oe,Le),wt!=null&&Gt.push(Gv(Oe,wt,qe)))),Xi)break;Oe=Oe.return}0<Gt.length&&(ft=new Lt(ft,Kt,null,C,ht),yt.push({event:ft,listeners:Gt}))}}if((w&7)===0){e:{if(ft=p==="mouseover"||p==="pointerover",Lt=p==="mouseout"||p==="pointerout",ft&&C!==Jt&&(Kt=C.relatedTarget||C.fromElement)&&(up(Kt)||Kt[eu]))break e;if((Lt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,Lt?(Kt=C.relatedTarget||C.toElement,Lt=He,Kt=Kt?up(Kt):null,Kt!==null&&(Xi=ut(Kt),Kt!==Xi||Kt.tag!==5&&Kt.tag!==6)&&(Kt=null)):(Lt=null,Kt=He),Lt!==Kt)){if(Gt=bL,wt="onMouseLeave",Le="onMouseEnter",Oe="mouse",(p==="pointerout"||p==="pointerover")&&(Gt=xL,wt="onPointerLeave",Le="onPointerEnter",Oe="pointer"),Xi=Lt==null?ft:Ng(Lt),qe=Kt==null?ft:Ng(Kt),ft=new Gt(wt,Oe+"leave",Lt,C,ht),ft.target=Xi,ft.relatedTarget=qe,wt=null,up(ht)===He&&(Gt=new Gt(Le,Oe+"enter",Kt,C,ht),Gt.target=qe,Gt.relatedTarget=Xi,wt=Gt),Xi=wt,Lt&&Kt)t:{for(Gt=Lt,Le=Kt,Oe=0,qe=Gt;qe;qe=Tg(qe))Oe++;for(qe=0,wt=Le;wt;wt=Tg(wt))qe++;for(;0<Oe-qe;)Gt=Tg(Gt),Oe--;for(;0<qe-Oe;)Le=Tg(Le),qe--;for(;Oe--;){if(Gt===Le||Le!==null&&Gt===Le.alternate)break t;Gt=Tg(Gt),Le=Tg(Le)}Gt=null}else Gt=null;Lt!==null&&JL(yt,ft,Lt,Gt,!1),Kt!==null&&Xi!==null&&JL(yt,Xi,Kt,Gt,!0)}}e:{if(ft=He?Ng(He):window,Lt=ft.nodeName&&ft.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&ft.type==="file")var en=U1e;else if(AL(ft))if(TL)en=z1e;else{en=W1e;var wn=F1e}else(Lt=ft.nodeName)&&Lt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(en=q1e);if(en&&(en=en(p,He))){RL(yt,en,C,ht);break e}wn&&wn(p,ft,He),p==="focusout"&&(wn=ft._wrapperState)&&wn.controlled&&ft.type==="number"&&rn(ft,"number",ft.value)}switch(wn=He?Ng(He):window,p){case"focusin":(AL(wn)||wn.contentEditable==="true")&&(Ag=wn,gC=He,Vv=null);break;case"focusout":Vv=gC=Ag=null;break;case"mousedown":yC=!0;break;case"contextmenu":case"mouseup":case"dragend":yC=!1,$L(yt,C,ht);break;case"selectionchange":if(H1e)break;case"keydown":case"keyup":$L(yt,C,ht)}var bn;if(fC)e:{switch(p){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else Cg?EL(p,C)&&(En="onCompositionEnd"):p==="keydown"&&C.keyCode===229&&(En="onCompositionStart");En&&(kL&&C.locale!=="ko"&&(Cg||En!=="onCompositionStart"?En==="onCompositionEnd"&&Cg&&(bn=vL()):(qr=ht,Ig="value"in qr?qr.value:qr.textContent,Cg=!0)),wn=gx(He,En),0<wn.length&&(En=new _L(En,p,null,C,ht),yt.push({event:En,listeners:wn}),bn?En.data=bn:(bn=CL(C),bn!==null&&(En.data=bn)))),(bn=D1e?M1e(p,C):j1e(p,C))&&(He=gx(He,"onBeforeInput"),0<He.length&&(ht=new _L("onBeforeInput","beforeinput",null,C,ht),yt.push({event:ht,listeners:He}),ht.data=bn))}HL(yt,w)})}function Gv(p,w,C){return{instance:p,listener:w,currentTarget:C}}function gx(p,w){for(var C=w+"Capture",L=[];p!==null;){var J=p,Q=J.stateNode;J.tag===5&&Q!==null&&(J=Q,Q=Er(p,C),Q!=null&&L.unshift(Gv(p,Q,J)),Q=Er(p,w),Q!=null&&L.push(Gv(p,Q,J))),p=p.return}return L}function Tg(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function JL(p,w,C,L,J){for(var Q=w._reactName,ue=[];C!==null&&C!==L;){var xe=C,Ce=xe.alternate,He=xe.stateNode;if(Ce!==null&&Ce===L)break;xe.tag===5&&He!==null&&(xe=He,J?(Ce=Er(C,Q),Ce!=null&&ue.unshift(Gv(C,Ce,xe))):J||(Ce=Er(C,Q),Ce!=null&&ue.push(Gv(C,Ce,xe)))),C=C.return}ue.length!==0&&p.push({event:w,listeners:ue})}var Y1e=/\r\n?/g,X1e=/\u0000|\uFFFD/g;function ZL(p){return(typeof p=="string"?p:""+p).replace(Y1e,`
`).replace(X1e,"")}function yx(p,w,C){if(w=ZL(w),ZL(p)!==w&&C)throw Error(n(425))}function vx(){}var kC=null,SC=null;function IC(p,w){return p==="textarea"||p==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var EC=typeof setTimeout=="function"?setTimeout:void 0,Q1e=typeof clearTimeout=="function"?clearTimeout:void 0,YL=typeof Promise=="function"?Promise:void 0,e_e=typeof queueMicrotask=="function"?queueMicrotask:typeof YL<"u"?function(p){return YL.resolve(null).then(p).catch(t_e)}:EC;function t_e(p){setTimeout(function(){throw p})}function CC(p,w){var C=w,L=0;do{var J=C.nextSibling;if(p.removeChild(C),J&&J.nodeType===8)if(C=J.data,C==="/$"){if(L===0){p.removeChild(J),uf(w);return}L--}else C!=="$"&&C!=="$?"&&C!=="$!"||L++;C=J}while(C);uf(w)}function hf(p){for(;p!=null;p=p.nextSibling){var w=p.nodeType;if(w===1||w===3)break;if(w===8){if(w=p.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return p}function XL(p){p=p.previousSibling;for(var w=0;p;){if(p.nodeType===8){var C=p.data;if(C==="$"||C==="$!"||C==="$?"){if(w===0)return p;w--}else C==="/$"&&w++}p=p.previousSibling}return null}var Og=Math.random().toString(36).slice(2),td="__reactFiber$"+Og,Jv="__reactProps$"+Og,eu="__reactContainer$"+Og,AC="__reactEvents$"+Og,n_e="__reactListeners$"+Og,r_e="__reactHandles$"+Og;function up(p){var w=p[td];if(w)return w;for(var C=p.parentNode;C;){if(w=C[eu]||C[td]){if(C=w.alternate,w.child!==null||C!==null&&C.child!==null)for(p=XL(p);p!==null;){if(C=p[td])return C;p=XL(p)}return w}p=C,C=p.parentNode}return null}function Zv(p){return p=p[td]||p[eu],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Ng(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function wx(p){return p[Jv]||null}var RC=[],Pg=-1;function pf(p){return{current:p}}function di(p){0>Pg||(p.current=RC[Pg],RC[Pg]=null,Pg--)}function Jr(p,w){Pg++,RC[Pg]=p.current,p.current=w}var mf={},Es=pf(mf),pa=pf(!1),fp=mf;function Bg(p,w){var C=p.type.contextTypes;if(!C)return mf;var L=p.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===w)return L.__reactInternalMemoizedMaskedChildContext;var J={},Q;for(Q in C)J[Q]=w[Q];return L&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=w,p.__reactInternalMemoizedMaskedChildContext=J),J}function ma(p){return p=p.childContextTypes,p!=null}function bx(){di(pa),di(Es)}function QL(p,w,C){if(Es.current!==mf)throw Error(n(168));Jr(Es,w),Jr(pa,C)}function eU(p,w,C){var L=p.stateNode;if(w=w.childContextTypes,typeof L.getChildContext!="function")return C;L=L.getChildContext();for(var J in L)if(!(J in w))throw Error(n(108,ye(p)||"Unknown",J));return K({},C,L)}function _x(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||mf,fp=Es.current,Jr(Es,p),Jr(pa,pa.current),!0}function tU(p,w,C){var L=p.stateNode;if(!L)throw Error(n(169));C?(p=eU(p,w,fp),L.__reactInternalMemoizedMergedChildContext=p,di(pa),di(Es),Jr(Es,p)):di(pa),Jr(pa,C)}var tu=null,xx=!1,TC=!1;function nU(p){tu===null?tu=[p]:tu.push(p)}function i_e(p){xx=!0,nU(p)}function gf(){if(!TC&&tu!==null){TC=!0;var p=0,w=Yt;try{var C=tu;for(Yt=1;p<C.length;p++){var L=C[p];do L=L(!0);while(L!==null)}tu=null,xx=!1}catch(J){throw tu!==null&&(tu=tu.slice(p+1)),dn(Tt,gf),J}finally{Yt=w,TC=!1}}return null}var Dg=[],Mg=0,kx=null,Sx=0,Al=[],Rl=0,hp=null,nu=1,ru="";function pp(p,w){Dg[Mg++]=Sx,Dg[Mg++]=kx,kx=p,Sx=w}function rU(p,w,C){Al[Rl++]=nu,Al[Rl++]=ru,Al[Rl++]=hp,hp=p;var L=nu;p=ru;var J=32-et(L)-1;L&=~(1<<J),C+=1;var Q=32-et(w)+J;if(30<Q){var ue=J-J%5;Q=(L&(1<<ue)-1).toString(32),L>>=ue,J-=ue,nu=1<<32-et(w)+J|C<<J|L,ru=Q+p}else nu=1<<Q|C<<J|L,ru=p}function OC(p){p.return!==null&&(pp(p,1),rU(p,1,0))}function NC(p){for(;p===kx;)kx=Dg[--Mg],Dg[Mg]=null,Sx=Dg[--Mg],Dg[Mg]=null;for(;p===hp;)hp=Al[--Rl],Al[Rl]=null,ru=Al[--Rl],Al[Rl]=null,nu=Al[--Rl],Al[Rl]=null}var Va=null,Ka=null,vi=!1,mc=null;function iU(p,w){var C=Pl(5,null,null,0);C.elementType="DELETED",C.stateNode=w,C.return=p,w=p.deletions,w===null?(p.deletions=[C],p.flags|=16):w.push(C)}function oU(p,w){switch(p.tag){case 5:var C=p.type;return w=w.nodeType!==1||C.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(p.stateNode=w,Va=p,Ka=hf(w.firstChild),!0):!1;case 6:return w=p.pendingProps===""||w.nodeType!==3?null:w,w!==null?(p.stateNode=w,Va=p,Ka=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(C=hp!==null?{id:nu,overflow:ru}:null,p.memoizedState={dehydrated:w,treeContext:C,retryLane:1073741824},C=Pl(18,null,null,0),C.stateNode=w,C.return=p,p.child=C,Va=p,Ka=null,!0):!1;default:return!1}}function PC(p){return(p.mode&1)!==0&&(p.flags&128)===0}function BC(p){if(vi){var w=Ka;if(w){var C=w;if(!oU(p,w)){if(PC(p))throw Error(n(418));w=hf(C.nextSibling);var L=Va;w&&oU(p,w)?iU(L,C):(p.flags=p.flags&-4097|2,vi=!1,Va=p)}}else{if(PC(p))throw Error(n(418));p.flags=p.flags&-4097|2,vi=!1,Va=p}}}function sU(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Va=p}function Ix(p){if(p!==Va)return!1;if(!vi)return sU(p),vi=!0,!1;var w;if((w=p.tag!==3)&&!(w=p.tag!==5)&&(w=p.type,w=w!=="head"&&w!=="body"&&!IC(p.type,p.memoizedProps)),w&&(w=Ka)){if(PC(p))throw aU(),Error(n(418));for(;w;)iU(p,w),w=hf(w.nextSibling)}if(sU(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,w=0;p;){if(p.nodeType===8){var C=p.data;if(C==="/$"){if(w===0){Ka=hf(p.nextSibling);break e}w--}else C!=="$"&&C!=="$!"&&C!=="$?"||w++}p=p.nextSibling}Ka=null}}else Ka=Va?hf(p.stateNode.nextSibling):null;return!0}function aU(){for(var p=Ka;p;)p=hf(p.nextSibling)}function jg(){Ka=Va=null,vi=!1}function DC(p){mc===null?mc=[p]:mc.push(p)}var o_e=R.ReactCurrentBatchConfig;function Yv(p,w,C){if(p=C.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(n(309));var L=C.stateNode}if(!L)throw Error(n(147,p));var J=L,Q=""+p;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===Q?w.ref:(w=function(ue){var xe=J.refs;ue===null?delete xe[Q]:xe[Q]=ue},w._stringRef=Q,w)}if(typeof p!="string")throw Error(n(284));if(!C._owner)throw Error(n(290,p))}return p}function Ex(p,w){throw p=Object.prototype.toString.call(w),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":p))}function lU(p){var w=p._init;return w(p._payload)}function cU(p){function w(Le,Oe){if(p){var qe=Le.deletions;qe===null?(Le.deletions=[Oe],Le.flags|=16):qe.push(Oe)}}function C(Le,Oe){if(!p)return null;for(;Oe!==null;)w(Le,Oe),Oe=Oe.sibling;return null}function L(Le,Oe){for(Le=new Map;Oe!==null;)Oe.key!==null?Le.set(Oe.key,Oe):Le.set(Oe.index,Oe),Oe=Oe.sibling;return Le}function J(Le,Oe){return Le=Sf(Le,Oe),Le.index=0,Le.sibling=null,Le}function Q(Le,Oe,qe){return Le.index=qe,p?(qe=Le.alternate,qe!==null?(qe=qe.index,qe<Oe?(Le.flags|=2,Oe):qe):(Le.flags|=2,Oe)):(Le.flags|=1048576,Oe)}function ue(Le){return p&&Le.alternate===null&&(Le.flags|=2),Le}function xe(Le,Oe,qe,wt){return Oe===null||Oe.tag!==6?(Oe=E5(qe,Le.mode,wt),Oe.return=Le,Oe):(Oe=J(Oe,qe),Oe.return=Le,Oe)}function Ce(Le,Oe,qe,wt){var en=qe.type;return en===M?ht(Le,Oe,qe.props.children,wt,qe.key):Oe!==null&&(Oe.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===N&&lU(en)===Oe.type)?(wt=J(Oe,qe.props),wt.ref=Yv(Le,Oe,qe),wt.return=Le,wt):(wt=Zx(qe.type,qe.key,qe.props,null,Le.mode,wt),wt.ref=Yv(Le,Oe,qe),wt.return=Le,wt)}function He(Le,Oe,qe,wt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==qe.containerInfo||Oe.stateNode.implementation!==qe.implementation?(Oe=C5(qe,Le.mode,wt),Oe.return=Le,Oe):(Oe=J(Oe,qe.children||[]),Oe.return=Le,Oe)}function ht(Le,Oe,qe,wt,en){return Oe===null||Oe.tag!==7?(Oe=xp(qe,Le.mode,wt,en),Oe.return=Le,Oe):(Oe=J(Oe,qe),Oe.return=Le,Oe)}function yt(Le,Oe,qe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=E5(""+Oe,Le.mode,qe),Oe.return=Le,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case I:return qe=Zx(Oe.type,Oe.key,Oe.props,null,Le.mode,qe),qe.ref=Yv(Le,null,Oe),qe.return=Le,qe;case T:return Oe=C5(Oe,Le.mode,qe),Oe.return=Le,Oe;case N:var wt=Oe._init;return yt(Le,wt(Oe._payload),qe)}if(Re(Oe)||V(Oe))return Oe=xp(Oe,Le.mode,qe,null),Oe.return=Le,Oe;Ex(Le,Oe)}return null}function ft(Le,Oe,qe,wt){var en=Oe!==null?Oe.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return en!==null?null:xe(Le,Oe,""+qe,wt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case I:return qe.key===en?Ce(Le,Oe,qe,wt):null;case T:return qe.key===en?He(Le,Oe,qe,wt):null;case N:return en=qe._init,ft(Le,Oe,en(qe._payload),wt)}if(Re(qe)||V(qe))return en!==null?null:ht(Le,Oe,qe,wt,null);Ex(Le,qe)}return null}function Lt(Le,Oe,qe,wt,en){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return Le=Le.get(qe)||null,xe(Oe,Le,""+wt,en);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case I:return Le=Le.get(wt.key===null?qe:wt.key)||null,Ce(Oe,Le,wt,en);case T:return Le=Le.get(wt.key===null?qe:wt.key)||null,He(Oe,Le,wt,en);case N:var wn=wt._init;return Lt(Le,Oe,qe,wn(wt._payload),en)}if(Re(wt)||V(wt))return Le=Le.get(qe)||null,ht(Oe,Le,wt,en,null);Ex(Oe,wt)}return null}function Kt(Le,Oe,qe,wt){for(var en=null,wn=null,bn=Oe,En=Oe=0,Do=null;bn!==null&&En<qe.length;En++){bn.index>En?(Do=bn,bn=null):Do=bn.sibling;var br=ft(Le,bn,qe[En],wt);if(br===null){bn===null&&(bn=Do);break}p&&bn&&br.alternate===null&&w(Le,bn),Oe=Q(br,Oe,En),wn===null?en=br:wn.sibling=br,wn=br,bn=Do}if(En===qe.length)return C(Le,bn),vi&&pp(Le,En),en;if(bn===null){for(;En<qe.length;En++)bn=yt(Le,qe[En],wt),bn!==null&&(Oe=Q(bn,Oe,En),wn===null?en=bn:wn.sibling=bn,wn=bn);return vi&&pp(Le,En),en}for(bn=L(Le,bn);En<qe.length;En++)Do=Lt(bn,Le,En,qe[En],wt),Do!==null&&(p&&Do.alternate!==null&&bn.delete(Do.key===null?En:Do.key),Oe=Q(Do,Oe,En),wn===null?en=Do:wn.sibling=Do,wn=Do);return p&&bn.forEach(function(If){return w(Le,If)}),vi&&pp(Le,En),en}function Gt(Le,Oe,qe,wt){var en=V(qe);if(typeof en!="function")throw Error(n(150));if(qe=en.call(qe),qe==null)throw Error(n(151));for(var wn=en=null,bn=Oe,En=Oe=0,Do=null,br=qe.next();bn!==null&&!br.done;En++,br=qe.next()){bn.index>En?(Do=bn,bn=null):Do=bn.sibling;var If=ft(Le,bn,br.value,wt);if(If===null){bn===null&&(bn=Do);break}p&&bn&&If.alternate===null&&w(Le,bn),Oe=Q(If,Oe,En),wn===null?en=If:wn.sibling=If,wn=If,bn=Do}if(br.done)return C(Le,bn),vi&&pp(Le,En),en;if(bn===null){for(;!br.done;En++,br=qe.next())br=yt(Le,br.value,wt),br!==null&&(Oe=Q(br,Oe,En),wn===null?en=br:wn.sibling=br,wn=br);return vi&&pp(Le,En),en}for(bn=L(Le,bn);!br.done;En++,br=qe.next())br=Lt(bn,Le,En,br.value,wt),br!==null&&(p&&br.alternate!==null&&bn.delete(br.key===null?En:br.key),Oe=Q(br,Oe,En),wn===null?en=br:wn.sibling=br,wn=br);return p&&bn.forEach(function($_e){return w(Le,$_e)}),vi&&pp(Le,En),en}function Xi(Le,Oe,qe,wt){if(typeof qe=="object"&&qe!==null&&qe.type===M&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case I:e:{for(var en=qe.key,wn=Oe;wn!==null;){if(wn.key===en){if(en=qe.type,en===M){if(wn.tag===7){C(Le,wn.sibling),Oe=J(wn,qe.props.children),Oe.return=Le,Le=Oe;break e}}else if(wn.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===N&&lU(en)===wn.type){C(Le,wn.sibling),Oe=J(wn,qe.props),Oe.ref=Yv(Le,wn,qe),Oe.return=Le,Le=Oe;break e}C(Le,wn);break}else w(Le,wn);wn=wn.sibling}qe.type===M?(Oe=xp(qe.props.children,Le.mode,wt,qe.key),Oe.return=Le,Le=Oe):(wt=Zx(qe.type,qe.key,qe.props,null,Le.mode,wt),wt.ref=Yv(Le,Oe,qe),wt.return=Le,Le=wt)}return ue(Le);case T:e:{for(wn=qe.key;Oe!==null;){if(Oe.key===wn)if(Oe.tag===4&&Oe.stateNode.containerInfo===qe.containerInfo&&Oe.stateNode.implementation===qe.implementation){C(Le,Oe.sibling),Oe=J(Oe,qe.children||[]),Oe.return=Le,Le=Oe;break e}else{C(Le,Oe);break}else w(Le,Oe);Oe=Oe.sibling}Oe=C5(qe,Le.mode,wt),Oe.return=Le,Le=Oe}return ue(Le);case N:return wn=qe._init,Xi(Le,Oe,wn(qe._payload),wt)}if(Re(qe))return Kt(Le,Oe,qe,wt);if(V(qe))return Gt(Le,Oe,qe,wt);Ex(Le,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,Oe!==null&&Oe.tag===6?(C(Le,Oe.sibling),Oe=J(Oe,qe),Oe.return=Le,Le=Oe):(C(Le,Oe),Oe=E5(qe,Le.mode,wt),Oe.return=Le,Le=Oe),ue(Le)):C(Le,Oe)}return Xi}var $g=cU(!0),dU=cU(!1),Cx=pf(null),Ax=null,Lg=null,MC=null;function jC(){MC=Lg=Ax=null}function $C(p){var w=Cx.current;di(Cx),p._currentValue=w}function LC(p,w,C){for(;p!==null;){var L=p.alternate;if((p.childLanes&w)!==w?(p.childLanes|=w,L!==null&&(L.childLanes|=w)):L!==null&&(L.childLanes&w)!==w&&(L.childLanes|=w),p===C)break;p=p.return}}function Ug(p,w){Ax=p,MC=Lg=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&w)!==0&&(ga=!0),p.firstContext=null)}function Tl(p){var w=p._currentValue;if(MC!==p)if(p={context:p,memoizedValue:w,next:null},Lg===null){if(Ax===null)throw Error(n(308));Lg=p,Ax.dependencies={lanes:0,firstContext:p}}else Lg=Lg.next=p;return w}var mp=null;function UC(p){mp===null?mp=[p]:mp.push(p)}function uU(p,w,C,L){var J=w.interleaved;return J===null?(C.next=C,UC(w)):(C.next=J.next,J.next=C),w.interleaved=C,iu(p,L)}function iu(p,w){p.lanes|=w;var C=p.alternate;for(C!==null&&(C.lanes|=w),C=p,p=p.return;p!==null;)p.childLanes|=w,C=p.alternate,C!==null&&(C.childLanes|=w),C=p,p=p.return;return C.tag===3?C.stateNode:null}var yf=!1;function FC(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fU(p,w){p=p.updateQueue,w.updateQueue===p&&(w.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function ou(p,w){return{eventTime:p,lane:w,tag:0,payload:null,callback:null,next:null}}function vf(p,w,C){var L=p.updateQueue;if(L===null)return null;if(L=L.shared,(mr&2)!==0){var J=L.pending;return J===null?w.next=w:(w.next=J.next,J.next=w),L.pending=w,iu(p,C)}return J=L.interleaved,J===null?(w.next=w,UC(L)):(w.next=J.next,J.next=w),L.interleaved=w,iu(p,C)}function Rx(p,w,C){if(w=w.updateQueue,w!==null&&(w=w.shared,(C&4194240)!==0)){var L=w.lanes;L&=p.pendingLanes,C|=L,w.lanes=C,Mr(p,C)}}function hU(p,w){var C=p.updateQueue,L=p.alternate;if(L!==null&&(L=L.updateQueue,C===L)){var J=null,Q=null;if(C=C.firstBaseUpdate,C!==null){do{var ue={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};Q===null?J=Q=ue:Q=Q.next=ue,C=C.next}while(C!==null);Q===null?J=Q=w:Q=Q.next=w}else J=Q=w;C={baseState:L.baseState,firstBaseUpdate:J,lastBaseUpdate:Q,shared:L.shared,effects:L.effects},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=w:p.next=w,C.lastBaseUpdate=w}function Tx(p,w,C,L){var J=p.updateQueue;yf=!1;var Q=J.firstBaseUpdate,ue=J.lastBaseUpdate,xe=J.shared.pending;if(xe!==null){J.shared.pending=null;var Ce=xe,He=Ce.next;Ce.next=null,ue===null?Q=He:ue.next=He,ue=Ce;var ht=p.alternate;ht!==null&&(ht=ht.updateQueue,xe=ht.lastBaseUpdate,xe!==ue&&(xe===null?ht.firstBaseUpdate=He:xe.next=He,ht.lastBaseUpdate=Ce))}if(Q!==null){var yt=J.baseState;ue=0,ht=He=Ce=null,xe=Q;do{var ft=xe.lane,Lt=xe.eventTime;if((L&ft)===ft){ht!==null&&(ht=ht.next={eventTime:Lt,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var Kt=p,Gt=xe;switch(ft=w,Lt=C,Gt.tag){case 1:if(Kt=Gt.payload,typeof Kt=="function"){yt=Kt.call(Lt,yt,ft);break e}yt=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=Gt.payload,ft=typeof Kt=="function"?Kt.call(Lt,yt,ft):Kt,ft==null)break e;yt=K({},yt,ft);break e;case 2:yf=!0}}xe.callback!==null&&xe.lane!==0&&(p.flags|=64,ft=J.effects,ft===null?J.effects=[xe]:ft.push(xe))}else Lt={eventTime:Lt,lane:ft,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},ht===null?(He=ht=Lt,Ce=yt):ht=ht.next=Lt,ue|=ft;if(xe=xe.next,xe===null){if(xe=J.shared.pending,xe===null)break;ft=xe,xe=ft.next,ft.next=null,J.lastBaseUpdate=ft,J.shared.pending=null}}while(!0);if(ht===null&&(Ce=yt),J.baseState=Ce,J.firstBaseUpdate=He,J.lastBaseUpdate=ht,w=J.shared.interleaved,w!==null){J=w;do ue|=J.lane,J=J.next;while(J!==w)}else Q===null&&(J.shared.lanes=0);vp|=ue,p.lanes=ue,p.memoizedState=yt}}function pU(p,w,C){if(p=w.effects,w.effects=null,p!==null)for(w=0;w<p.length;w++){var L=p[w],J=L.callback;if(J!==null){if(L.callback=null,L=C,typeof J!="function")throw Error(n(191,J));J.call(L)}}}var Xv={},nd=pf(Xv),Qv=pf(Xv),ew=pf(Xv);function gp(p){if(p===Xv)throw Error(n(174));return p}function WC(p,w){switch(Jr(ew,w),Jr(Qv,p),Jr(nd,Xv),p=w.nodeType,p){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:ce(null,"");break;default:p=p===8?w.parentNode:w,w=p.namespaceURI||null,p=p.tagName,w=ce(w,p)}di(nd),Jr(nd,w)}function Fg(){di(nd),di(Qv),di(ew)}function mU(p){gp(ew.current);var w=gp(nd.current),C=ce(w,p.type);w!==C&&(Jr(Qv,p),Jr(nd,C))}function qC(p){Qv.current===p&&(di(nd),di(Qv))}var Ci=pf(0);function Ox(p){for(var w=p;w!==null;){if(w.tag===13){var C=w.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var zC=[];function VC(){for(var p=0;p<zC.length;p++)zC[p]._workInProgressVersionPrimary=null;zC.length=0}var Nx=R.ReactCurrentDispatcher,KC=R.ReactCurrentBatchConfig,yp=0,Ai=null,wo=null,Po=null,Px=!1,tw=!1,nw=0,s_e=0;function Cs(){throw Error(n(321))}function HC(p,w){if(w===null)return!1;for(var C=0;C<w.length&&C<p.length;C++)if(!pc(p[C],w[C]))return!1;return!0}function GC(p,w,C,L,J,Q){if(yp=Q,Ai=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Nx.current=p===null||p.memoizedState===null?d_e:u_e,p=C(L,J),tw){Q=0;do{if(tw=!1,nw=0,25<=Q)throw Error(n(301));Q+=1,Po=wo=null,w.updateQueue=null,Nx.current=f_e,p=C(L,J)}while(tw)}if(Nx.current=Mx,w=wo!==null&&wo.next!==null,yp=0,Po=wo=Ai=null,Px=!1,w)throw Error(n(300));return p}function JC(){var p=nw!==0;return nw=0,p}function rd(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Po===null?Ai.memoizedState=Po=p:Po=Po.next=p,Po}function Ol(){if(wo===null){var p=Ai.alternate;p=p!==null?p.memoizedState:null}else p=wo.next;var w=Po===null?Ai.memoizedState:Po.next;if(w!==null)Po=w,wo=p;else{if(p===null)throw Error(n(310));wo=p,p={memoizedState:wo.memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},Po===null?Ai.memoizedState=Po=p:Po=Po.next=p}return Po}function rw(p,w){return typeof w=="function"?w(p):w}function ZC(p){var w=Ol(),C=w.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=p;var L=wo,J=L.baseQueue,Q=C.pending;if(Q!==null){if(J!==null){var ue=J.next;J.next=Q.next,Q.next=ue}L.baseQueue=J=Q,C.pending=null}if(J!==null){Q=J.next,L=L.baseState;var xe=ue=null,Ce=null,He=Q;do{var ht=He.lane;if((yp&ht)===ht)Ce!==null&&(Ce=Ce.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),L=He.hasEagerState?He.eagerState:p(L,He.action);else{var yt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Ce===null?(xe=Ce=yt,ue=L):Ce=Ce.next=yt,Ai.lanes|=ht,vp|=ht}He=He.next}while(He!==null&&He!==Q);Ce===null?ue=L:Ce.next=xe,pc(L,w.memoizedState)||(ga=!0),w.memoizedState=L,w.baseState=ue,w.baseQueue=Ce,C.lastRenderedState=L}if(p=C.interleaved,p!==null){J=p;do Q=J.lane,Ai.lanes|=Q,vp|=Q,J=J.next;while(J!==p)}else J===null&&(C.lanes=0);return[w.memoizedState,C.dispatch]}function YC(p){var w=Ol(),C=w.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=p;var L=C.dispatch,J=C.pending,Q=w.memoizedState;if(J!==null){C.pending=null;var ue=J=J.next;do Q=p(Q,ue.action),ue=ue.next;while(ue!==J);pc(Q,w.memoizedState)||(ga=!0),w.memoizedState=Q,w.baseQueue===null&&(w.baseState=Q),C.lastRenderedState=Q}return[Q,L]}function gU(){}function yU(p,w){var C=Ai,L=Ol(),J=w(),Q=!pc(L.memoizedState,J);if(Q&&(L.memoizedState=J,ga=!0),L=L.queue,XC(bU.bind(null,C,L,p),[p]),L.getSnapshot!==w||Q||Po!==null&&Po.memoizedState.tag&1){if(C.flags|=2048,iw(9,wU.bind(null,C,L,J,w),void 0,null),Bo===null)throw Error(n(349));(yp&30)!==0||vU(C,w,J)}return J}function vU(p,w,C){p.flags|=16384,p={getSnapshot:w,value:C},w=Ai.updateQueue,w===null?(w={lastEffect:null,stores:null},Ai.updateQueue=w,w.stores=[p]):(C=w.stores,C===null?w.stores=[p]:C.push(p))}function wU(p,w,C,L){w.value=C,w.getSnapshot=L,_U(w)&&xU(p)}function bU(p,w,C){return C(function(){_U(w)&&xU(p)})}function _U(p){var w=p.getSnapshot;p=p.value;try{var C=w();return!pc(p,C)}catch{return!0}}function xU(p){var w=iu(p,1);w!==null&&wc(w,p,1,-1)}function kU(p){var w=rd();return typeof p=="function"&&(p=p()),w.memoizedState=w.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rw,lastRenderedState:p},w.queue=p,p=p.dispatch=c_e.bind(null,Ai,p),[w.memoizedState,p]}function iw(p,w,C,L){return p={tag:p,create:w,destroy:C,deps:L,next:null},w=Ai.updateQueue,w===null?(w={lastEffect:null,stores:null},Ai.updateQueue=w,w.lastEffect=p.next=p):(C=w.lastEffect,C===null?w.lastEffect=p.next=p:(L=C.next,C.next=p,p.next=L,w.lastEffect=p)),p}function SU(){return Ol().memoizedState}function Bx(p,w,C,L){var J=rd();Ai.flags|=p,J.memoizedState=iw(1|w,C,void 0,L===void 0?null:L)}function Dx(p,w,C,L){var J=Ol();L=L===void 0?null:L;var Q=void 0;if(wo!==null){var ue=wo.memoizedState;if(Q=ue.destroy,L!==null&&HC(L,ue.deps)){J.memoizedState=iw(w,C,Q,L);return}}Ai.flags|=p,J.memoizedState=iw(1|w,C,Q,L)}function IU(p,w){return Bx(8390656,8,p,w)}function XC(p,w){return Dx(2048,8,p,w)}function EU(p,w){return Dx(4,2,p,w)}function CU(p,w){return Dx(4,4,p,w)}function AU(p,w){if(typeof w=="function")return p=p(),w(p),function(){w(null)};if(w!=null)return p=p(),w.current=p,function(){w.current=null}}function RU(p,w,C){return C=C!=null?C.concat([p]):null,Dx(4,4,AU.bind(null,w,p),C)}function QC(){}function TU(p,w){var C=Ol();w=w===void 0?null:w;var L=C.memoizedState;return L!==null&&w!==null&&HC(w,L[1])?L[0]:(C.memoizedState=[p,w],p)}function OU(p,w){var C=Ol();w=w===void 0?null:w;var L=C.memoizedState;return L!==null&&w!==null&&HC(w,L[1])?L[0]:(p=p(),C.memoizedState=[p,w],p)}function NU(p,w,C){return(yp&21)===0?(p.baseState&&(p.baseState=!1,ga=!0),p.memoizedState=C):(pc(C,w)||(C=Gn(),Ai.lanes|=C,vp|=C,p.baseState=!0),w)}function a_e(p,w){var C=Yt;Yt=C!==0&&4>C?C:4,p(!0);var L=KC.transition;KC.transition={};try{p(!1),w()}finally{Yt=C,KC.transition=L}}function PU(){return Ol().memoizedState}function l_e(p,w,C){var L=xf(p);if(C={lane:L,action:C,hasEagerState:!1,eagerState:null,next:null},BU(p))DU(w,C);else if(C=uU(p,w,C,L),C!==null){var J=Qs();wc(C,p,L,J),MU(C,w,L)}}function c_e(p,w,C){var L=xf(p),J={lane:L,action:C,hasEagerState:!1,eagerState:null,next:null};if(BU(p))DU(w,J);else{var Q=p.alternate;if(p.lanes===0&&(Q===null||Q.lanes===0)&&(Q=w.lastRenderedReducer,Q!==null))try{var ue=w.lastRenderedState,xe=Q(ue,C);if(J.hasEagerState=!0,J.eagerState=xe,pc(xe,ue)){var Ce=w.interleaved;Ce===null?(J.next=J,UC(w)):(J.next=Ce.next,Ce.next=J),w.interleaved=J;return}}catch{}finally{}C=uU(p,w,J,L),C!==null&&(J=Qs(),wc(C,p,L,J),MU(C,w,L))}}function BU(p){var w=p.alternate;return p===Ai||w!==null&&w===Ai}function DU(p,w){tw=Px=!0;var C=p.pending;C===null?w.next=w:(w.next=C.next,C.next=w),p.pending=w}function MU(p,w,C){if((C&4194240)!==0){var L=w.lanes;L&=p.pendingLanes,C|=L,w.lanes=C,Mr(p,C)}}var Mx={readContext:Tl,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},d_e={readContext:Tl,useCallback:function(p,w){return rd().memoizedState=[p,w===void 0?null:w],p},useContext:Tl,useEffect:IU,useImperativeHandle:function(p,w,C){return C=C!=null?C.concat([p]):null,Bx(4194308,4,AU.bind(null,w,p),C)},useLayoutEffect:function(p,w){return Bx(4194308,4,p,w)},useInsertionEffect:function(p,w){return Bx(4,2,p,w)},useMemo:function(p,w){var C=rd();return w=w===void 0?null:w,p=p(),C.memoizedState=[p,w],p},useReducer:function(p,w,C){var L=rd();return w=C!==void 0?C(w):w,L.memoizedState=L.baseState=w,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:w},L.queue=p,p=p.dispatch=l_e.bind(null,Ai,p),[L.memoizedState,p]},useRef:function(p){var w=rd();return p={current:p},w.memoizedState=p},useState:kU,useDebugValue:QC,useDeferredValue:function(p){return rd().memoizedState=p},useTransition:function(){var p=kU(!1),w=p[0];return p=a_e.bind(null,p[1]),rd().memoizedState=p,[w,p]},useMutableSource:function(){},useSyncExternalStore:function(p,w,C){var L=Ai,J=rd();if(vi){if(C===void 0)throw Error(n(407));C=C()}else{if(C=w(),Bo===null)throw Error(n(349));(yp&30)!==0||vU(L,w,C)}J.memoizedState=C;var Q={value:C,getSnapshot:w};return J.queue=Q,IU(bU.bind(null,L,Q,p),[p]),L.flags|=2048,iw(9,wU.bind(null,L,Q,C,w),void 0,null),C},useId:function(){var p=rd(),w=Bo.identifierPrefix;if(vi){var C=ru,L=nu;C=(L&~(1<<32-et(L)-1)).toString(32)+C,w=":"+w+"R"+C,C=nw++,0<C&&(w+="H"+C.toString(32)),w+=":"}else C=s_e++,w=":"+w+"r"+C.toString(32)+":";return p.memoizedState=w},unstable_isNewReconciler:!1},u_e={readContext:Tl,useCallback:TU,useContext:Tl,useEffect:XC,useImperativeHandle:RU,useInsertionEffect:EU,useLayoutEffect:CU,useMemo:OU,useReducer:ZC,useRef:SU,useState:function(){return ZC(rw)},useDebugValue:QC,useDeferredValue:function(p){var w=Ol();return NU(w,wo.memoizedState,p)},useTransition:function(){var p=ZC(rw)[0],w=Ol().memoizedState;return[p,w]},useMutableSource:gU,useSyncExternalStore:yU,useId:PU,unstable_isNewReconciler:!1},f_e={readContext:Tl,useCallback:TU,useContext:Tl,useEffect:XC,useImperativeHandle:RU,useInsertionEffect:EU,useLayoutEffect:CU,useMemo:OU,useReducer:YC,useRef:SU,useState:function(){return YC(rw)},useDebugValue:QC,useDeferredValue:function(p){var w=Ol();return wo===null?w.memoizedState=p:NU(w,wo.memoizedState,p)},useTransition:function(){var p=YC(rw)[0],w=Ol().memoizedState;return[p,w]},useMutableSource:gU,useSyncExternalStore:yU,useId:PU,unstable_isNewReconciler:!1};function gc(p,w){if(p&&p.defaultProps){w=K({},w),p=p.defaultProps;for(var C in p)w[C]===void 0&&(w[C]=p[C]);return w}return w}function e5(p,w,C,L){w=p.memoizedState,C=C(L,w),C=C==null?w:K({},w,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}var jx={isMounted:function(p){return(p=p._reactInternals)?ut(p)===p:!1},enqueueSetState:function(p,w,C){p=p._reactInternals;var L=Qs(),J=xf(p),Q=ou(L,J);Q.payload=w,C!=null&&(Q.callback=C),w=vf(p,Q,J),w!==null&&(wc(w,p,J,L),Rx(w,p,J))},enqueueReplaceState:function(p,w,C){p=p._reactInternals;var L=Qs(),J=xf(p),Q=ou(L,J);Q.tag=1,Q.payload=w,C!=null&&(Q.callback=C),w=vf(p,Q,J),w!==null&&(wc(w,p,J,L),Rx(w,p,J))},enqueueForceUpdate:function(p,w){p=p._reactInternals;var C=Qs(),L=xf(p),J=ou(C,L);J.tag=2,w!=null&&(J.callback=w),w=vf(p,J,L),w!==null&&(wc(w,p,L,C),Rx(w,p,L))}};function jU(p,w,C,L,J,Q,ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(L,Q,ue):w.prototype&&w.prototype.isPureReactComponent?!zv(C,L)||!zv(J,Q):!0}function $U(p,w,C){var L=!1,J=mf,Q=w.contextType;return typeof Q=="object"&&Q!==null?Q=Tl(Q):(J=ma(w)?fp:Es.current,L=w.contextTypes,Q=(L=L!=null)?Bg(p,J):mf),w=new w(C,Q),p.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=jx,p.stateNode=w,w._reactInternals=p,L&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=J,p.__reactInternalMemoizedMaskedChildContext=Q),w}function LU(p,w,C,L){p=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(C,L),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(C,L),w.state!==p&&jx.enqueueReplaceState(w,w.state,null)}function t5(p,w,C,L){var J=p.stateNode;J.props=C,J.state=p.memoizedState,J.refs={},FC(p);var Q=w.contextType;typeof Q=="object"&&Q!==null?J.context=Tl(Q):(Q=ma(w)?fp:Es.current,J.context=Bg(p,Q)),J.state=p.memoizedState,Q=w.getDerivedStateFromProps,typeof Q=="function"&&(e5(p,w,Q,C),J.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(w=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),w!==J.state&&jx.enqueueReplaceState(J,J.state,null),Tx(p,C,J,L),J.state=p.memoizedState),typeof J.componentDidMount=="function"&&(p.flags|=4194308)}function Wg(p,w){try{var C="",L=w;do C+=Y(L),L=L.return;while(L);var J=C}catch(Q){J=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:p,source:w,stack:J,digest:null}}function n5(p,w,C){return{value:p,source:null,stack:C??null,digest:w??null}}function r5(p,w){try{console.error(w.value)}catch(C){setTimeout(function(){throw C})}}var h_e=typeof WeakMap=="function"?WeakMap:Map;function UU(p,w,C){C=ou(-1,C),C.tag=3,C.payload={element:null};var L=w.value;return C.callback=function(){zx||(zx=!0,v5=L),r5(p,w)},C}function FU(p,w,C){C=ou(-1,C),C.tag=3;var L=p.type.getDerivedStateFromError;if(typeof L=="function"){var J=w.value;C.payload=function(){return L(J)},C.callback=function(){r5(p,w)}}var Q=p.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(C.callback=function(){r5(p,w),typeof L!="function"&&(bf===null?bf=new Set([this]):bf.add(this));var ue=w.stack;this.componentDidCatch(w.value,{componentStack:ue!==null?ue:""})}),C}function WU(p,w,C){var L=p.pingCache;if(L===null){L=p.pingCache=new h_e;var J=new Set;L.set(w,J)}else J=L.get(w),J===void 0&&(J=new Set,L.set(w,J));J.has(C)||(J.add(C),p=C_e.bind(null,p,w,C),w.then(p,p))}function qU(p){do{var w;if((w=p.tag===13)&&(w=p.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return p;p=p.return}while(p!==null);return null}function zU(p,w,C,L,J){return(p.mode&1)===0?(p===w?p.flags|=65536:(p.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(w=ou(-1,1),w.tag=2,vf(C,w,1))),C.lanes|=1),p):(p.flags|=65536,p.lanes=J,p)}var p_e=R.ReactCurrentOwner,ga=!1;function Xs(p,w,C,L){w.child=p===null?dU(w,null,C,L):$g(w,p.child,C,L)}function VU(p,w,C,L,J){C=C.render;var Q=w.ref;return Ug(w,J),L=GC(p,w,C,L,Q,J),C=JC(),p!==null&&!ga?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~J,su(p,w,J)):(vi&&C&&OC(w),w.flags|=1,Xs(p,w,L,J),w.child)}function KU(p,w,C,L,J){if(p===null){var Q=C.type;return typeof Q=="function"&&!I5(Q)&&Q.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(w.tag=15,w.type=Q,HU(p,w,Q,L,J)):(p=Zx(C.type,null,L,w,w.mode,J),p.ref=w.ref,p.return=w,w.child=p)}if(Q=p.child,(p.lanes&J)===0){var ue=Q.memoizedProps;if(C=C.compare,C=C!==null?C:zv,C(ue,L)&&p.ref===w.ref)return su(p,w,J)}return w.flags|=1,p=Sf(Q,L),p.ref=w.ref,p.return=w,w.child=p}function HU(p,w,C,L,J){if(p!==null){var Q=p.memoizedProps;if(zv(Q,L)&&p.ref===w.ref)if(ga=!1,w.pendingProps=L=Q,(p.lanes&J)!==0)(p.flags&131072)!==0&&(ga=!0);else return w.lanes=p.lanes,su(p,w,J)}return i5(p,w,C,L,J)}function GU(p,w,C){var L=w.pendingProps,J=L.children,Q=p!==null?p.memoizedState:null;if(L.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(zg,Ha),Ha|=C;else{if((C&1073741824)===0)return p=Q!==null?Q.baseLanes|C:C,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:p,cachePool:null,transitions:null},w.updateQueue=null,Jr(zg,Ha),Ha|=p,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=Q!==null?Q.baseLanes:C,Jr(zg,Ha),Ha|=L}else Q!==null?(L=Q.baseLanes|C,w.memoizedState=null):L=C,Jr(zg,Ha),Ha|=L;return Xs(p,w,J,C),w.child}function JU(p,w){var C=w.ref;(p===null&&C!==null||p!==null&&p.ref!==C)&&(w.flags|=512,w.flags|=2097152)}function i5(p,w,C,L,J){var Q=ma(C)?fp:Es.current;return Q=Bg(w,Q),Ug(w,J),C=GC(p,w,C,L,Q,J),L=JC(),p!==null&&!ga?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~J,su(p,w,J)):(vi&&L&&OC(w),w.flags|=1,Xs(p,w,C,J),w.child)}function ZU(p,w,C,L,J){if(ma(C)){var Q=!0;_x(w)}else Q=!1;if(Ug(w,J),w.stateNode===null)Lx(p,w),$U(w,C,L),t5(w,C,L,J),L=!0;else if(p===null){var ue=w.stateNode,xe=w.memoizedProps;ue.props=xe;var Ce=ue.context,He=C.contextType;typeof He=="object"&&He!==null?He=Tl(He):(He=ma(C)?fp:Es.current,He=Bg(w,He));var ht=C.getDerivedStateFromProps,yt=typeof ht=="function"||typeof ue.getSnapshotBeforeUpdate=="function";yt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(xe!==L||Ce!==He)&&LU(w,ue,L,He),yf=!1;var ft=w.memoizedState;ue.state=ft,Tx(w,L,ue,J),Ce=w.memoizedState,xe!==L||ft!==Ce||pa.current||yf?(typeof ht=="function"&&(e5(w,C,ht,L),Ce=w.memoizedState),(xe=yf||jU(w,C,xe,L,ft,Ce,He))?(yt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(w.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=L,w.memoizedState=Ce),ue.props=L,ue.state=Ce,ue.context=He,L=xe):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),L=!1)}else{ue=w.stateNode,fU(p,w),xe=w.memoizedProps,He=w.type===w.elementType?xe:gc(w.type,xe),ue.props=He,yt=w.pendingProps,ft=ue.context,Ce=C.contextType,typeof Ce=="object"&&Ce!==null?Ce=Tl(Ce):(Ce=ma(C)?fp:Es.current,Ce=Bg(w,Ce));var Lt=C.getDerivedStateFromProps;(ht=typeof Lt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(xe!==yt||ft!==Ce)&&LU(w,ue,L,Ce),yf=!1,ft=w.memoizedState,ue.state=ft,Tx(w,L,ue,J);var Kt=w.memoizedState;xe!==yt||ft!==Kt||pa.current||yf?(typeof Lt=="function"&&(e5(w,C,Lt,L),Kt=w.memoizedState),(He=yf||jU(w,C,He,L,ft,Kt,Ce)||!1)?(ht||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(L,Kt,Ce),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(L,Kt,Ce)),typeof ue.componentDidUpdate=="function"&&(w.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof ue.componentDidUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=1024),w.memoizedProps=L,w.memoizedState=Kt),ue.props=L,ue.state=Kt,ue.context=Ce,L=He):(typeof ue.componentDidUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=1024),L=!1)}return o5(p,w,C,L,Q,J)}function o5(p,w,C,L,J,Q){JU(p,w);var ue=(w.flags&128)!==0;if(!L&&!ue)return J&&tU(w,C,!1),su(p,w,Q);L=w.stateNode,p_e.current=w;var xe=ue&&typeof C.getDerivedStateFromError!="function"?null:L.render();return w.flags|=1,p!==null&&ue?(w.child=$g(w,p.child,null,Q),w.child=$g(w,null,xe,Q)):Xs(p,w,xe,Q),w.memoizedState=L.state,J&&tU(w,C,!0),w.child}function YU(p){var w=p.stateNode;w.pendingContext?QL(p,w.pendingContext,w.pendingContext!==w.context):w.context&&QL(p,w.context,!1),WC(p,w.containerInfo)}function XU(p,w,C,L,J){return jg(),DC(J),w.flags|=256,Xs(p,w,C,L),w.child}var s5={dehydrated:null,treeContext:null,retryLane:0};function a5(p){return{baseLanes:p,cachePool:null,transitions:null}}function QU(p,w,C){var L=w.pendingProps,J=Ci.current,Q=!1,ue=(w.flags&128)!==0,xe;if((xe=ue)||(xe=p!==null&&p.memoizedState===null?!1:(J&2)!==0),xe?(Q=!0,w.flags&=-129):(p===null||p.memoizedState!==null)&&(J|=1),Jr(Ci,J&1),p===null)return BC(w),p=w.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((w.mode&1)===0?w.lanes=1:p.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(ue=L.children,p=L.fallback,Q?(L=w.mode,Q=w.child,ue={mode:"hidden",children:ue},(L&1)===0&&Q!==null?(Q.childLanes=0,Q.pendingProps=ue):Q=Yx(ue,L,0,null),p=xp(p,L,C,null),Q.return=w,p.return=w,Q.sibling=p,w.child=Q,w.child.memoizedState=a5(C),w.memoizedState=s5,p):l5(w,ue));if(J=p.memoizedState,J!==null&&(xe=J.dehydrated,xe!==null))return m_e(p,w,ue,L,xe,J,C);if(Q){Q=L.fallback,ue=w.mode,J=p.child,xe=J.sibling;var Ce={mode:"hidden",children:L.children};return(ue&1)===0&&w.child!==J?(L=w.child,L.childLanes=0,L.pendingProps=Ce,w.deletions=null):(L=Sf(J,Ce),L.subtreeFlags=J.subtreeFlags&14680064),xe!==null?Q=Sf(xe,Q):(Q=xp(Q,ue,C,null),Q.flags|=2),Q.return=w,L.return=w,L.sibling=Q,w.child=L,L=Q,Q=w.child,ue=p.child.memoizedState,ue=ue===null?a5(C):{baseLanes:ue.baseLanes|C,cachePool:null,transitions:ue.transitions},Q.memoizedState=ue,Q.childLanes=p.childLanes&~C,w.memoizedState=s5,L}return Q=p.child,p=Q.sibling,L=Sf(Q,{mode:"visible",children:L.children}),(w.mode&1)===0&&(L.lanes=C),L.return=w,L.sibling=null,p!==null&&(C=w.deletions,C===null?(w.deletions=[p],w.flags|=16):C.push(p)),w.child=L,w.memoizedState=null,L}function l5(p,w){return w=Yx({mode:"visible",children:w},p.mode,0,null),w.return=p,p.child=w}function $x(p,w,C,L){return L!==null&&DC(L),$g(w,p.child,null,C),p=l5(w,w.pendingProps.children),p.flags|=2,w.memoizedState=null,p}function m_e(p,w,C,L,J,Q,ue){if(C)return w.flags&256?(w.flags&=-257,L=n5(Error(n(422))),$x(p,w,ue,L)):w.memoizedState!==null?(w.child=p.child,w.flags|=128,null):(Q=L.fallback,J=w.mode,L=Yx({mode:"visible",children:L.children},J,0,null),Q=xp(Q,J,ue,null),Q.flags|=2,L.return=w,Q.return=w,L.sibling=Q,w.child=L,(w.mode&1)!==0&&$g(w,p.child,null,ue),w.child.memoizedState=a5(ue),w.memoizedState=s5,Q);if((w.mode&1)===0)return $x(p,w,ue,null);if(J.data==="$!"){if(L=J.nextSibling&&J.nextSibling.dataset,L)var xe=L.dgst;return L=xe,Q=Error(n(419)),L=n5(Q,L,void 0),$x(p,w,ue,L)}if(xe=(ue&p.childLanes)!==0,ga||xe){if(L=Bo,L!==null){switch(ue&-ue){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}J=(J&(L.suspendedLanes|ue))!==0?0:J,J!==0&&J!==Q.retryLane&&(Q.retryLane=J,iu(p,J),wc(L,p,J,-1))}return S5(),L=n5(Error(n(421))),$x(p,w,ue,L)}return J.data==="$?"?(w.flags|=128,w.child=p.child,w=A_e.bind(null,p),J._reactRetry=w,null):(p=Q.treeContext,Ka=hf(J.nextSibling),Va=w,vi=!0,mc=null,p!==null&&(Al[Rl++]=nu,Al[Rl++]=ru,Al[Rl++]=hp,nu=p.id,ru=p.overflow,hp=w),w=l5(w,L.children),w.flags|=4096,w)}function eF(p,w,C){p.lanes|=w;var L=p.alternate;L!==null&&(L.lanes|=w),LC(p.return,w,C)}function c5(p,w,C,L,J){var Q=p.memoizedState;Q===null?p.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:L,tail:C,tailMode:J}:(Q.isBackwards=w,Q.rendering=null,Q.renderingStartTime=0,Q.last=L,Q.tail=C,Q.tailMode=J)}function tF(p,w,C){var L=w.pendingProps,J=L.revealOrder,Q=L.tail;if(Xs(p,w,L.children,C),L=Ci.current,(L&2)!==0)L=L&1|2,w.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=w.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&eF(p,C,w);else if(p.tag===19)eF(p,C,w);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===w)break e;for(;p.sibling===null;){if(p.return===null||p.return===w)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}L&=1}if(Jr(Ci,L),(w.mode&1)===0)w.memoizedState=null;else switch(J){case"forwards":for(C=w.child,J=null;C!==null;)p=C.alternate,p!==null&&Ox(p)===null&&(J=C),C=C.sibling;C=J,C===null?(J=w.child,w.child=null):(J=C.sibling,C.sibling=null),c5(w,!1,J,C,Q);break;case"backwards":for(C=null,J=w.child,w.child=null;J!==null;){if(p=J.alternate,p!==null&&Ox(p)===null){w.child=J;break}p=J.sibling,J.sibling=C,C=J,J=p}c5(w,!0,C,null,Q);break;case"together":c5(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function Lx(p,w){(w.mode&1)===0&&p!==null&&(p.alternate=null,w.alternate=null,w.flags|=2)}function su(p,w,C){if(p!==null&&(w.dependencies=p.dependencies),vp|=w.lanes,(C&w.childLanes)===0)return null;if(p!==null&&w.child!==p.child)throw Error(n(153));if(w.child!==null){for(p=w.child,C=Sf(p,p.pendingProps),w.child=C,C.return=w;p.sibling!==null;)p=p.sibling,C=C.sibling=Sf(p,p.pendingProps),C.return=w;C.sibling=null}return w.child}function g_e(p,w,C){switch(w.tag){case 3:YU(w),jg();break;case 5:mU(w);break;case 1:ma(w.type)&&_x(w);break;case 4:WC(w,w.stateNode.containerInfo);break;case 10:var L=w.type._context,J=w.memoizedProps.value;Jr(Cx,L._currentValue),L._currentValue=J;break;case 13:if(L=w.memoizedState,L!==null)return L.dehydrated!==null?(Jr(Ci,Ci.current&1),w.flags|=128,null):(C&w.child.childLanes)!==0?QU(p,w,C):(Jr(Ci,Ci.current&1),p=su(p,w,C),p!==null?p.sibling:null);Jr(Ci,Ci.current&1);break;case 19:if(L=(C&w.childLanes)!==0,(p.flags&128)!==0){if(L)return tF(p,w,C);w.flags|=128}if(J=w.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),Jr(Ci,Ci.current),L)break;return null;case 22:case 23:return w.lanes=0,GU(p,w,C)}return su(p,w,C)}var nF,d5,rF,iF;nF=function(p,w){for(var C=w.child;C!==null;){if(C.tag===5||C.tag===6)p.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===w)break;for(;C.sibling===null;){if(C.return===null||C.return===w)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},d5=function(){},rF=function(p,w,C,L){var J=p.memoizedProps;if(J!==L){p=w.stateNode,gp(nd.current);var Q=null;switch(C){case"input":J=tt(p,J),L=tt(p,L),Q=[];break;case"select":J=K({},J,{value:void 0}),L=K({},L,{value:void 0}),Q=[];break;case"textarea":J=ct(p,J),L=ct(p,L),Q=[];break;default:typeof J.onClick!="function"&&typeof L.onClick=="function"&&(p.onclick=vx)}nn(C,L);var ue;C=null;for(He in J)if(!L.hasOwnProperty(He)&&J.hasOwnProperty(He)&&J[He]!=null)if(He==="style"){var xe=J[He];for(ue in xe)xe.hasOwnProperty(ue)&&(C||(C={}),C[ue]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?Q||(Q=[]):(Q=Q||[]).push(He,null));for(He in L){var Ce=L[He];if(xe=J!=null?J[He]:void 0,L.hasOwnProperty(He)&&Ce!==xe&&(Ce!=null||xe!=null))if(He==="style")if(xe){for(ue in xe)!xe.hasOwnProperty(ue)||Ce&&Ce.hasOwnProperty(ue)||(C||(C={}),C[ue]="");for(ue in Ce)Ce.hasOwnProperty(ue)&&xe[ue]!==Ce[ue]&&(C||(C={}),C[ue]=Ce[ue])}else C||(Q||(Q=[]),Q.push(He,C)),C=Ce;else He==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,xe=xe?xe.__html:void 0,Ce!=null&&xe!==Ce&&(Q=Q||[]).push(He,Ce)):He==="children"?typeof Ce!="string"&&typeof Ce!="number"||(Q=Q||[]).push(He,""+Ce):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Ce!=null&&He==="onScroll"&&ci("scroll",p),Q||xe===Ce||(Q=[])):(Q=Q||[]).push(He,Ce))}C&&(Q=Q||[]).push("style",C);var He=Q;(w.updateQueue=He)&&(w.flags|=4)}},iF=function(p,w,C,L){C!==L&&(w.flags|=4)};function ow(p,w){if(!vi)switch(p.tailMode){case"hidden":w=p.tail;for(var C=null;w!==null;)w.alternate!==null&&(C=w),w=w.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var L=null;C!==null;)C.alternate!==null&&(L=C),C=C.sibling;L===null?w||p.tail===null?p.tail=null:p.tail.sibling=null:L.sibling=null}}function As(p){var w=p.alternate!==null&&p.alternate.child===p.child,C=0,L=0;if(w)for(var J=p.child;J!==null;)C|=J.lanes|J.childLanes,L|=J.subtreeFlags&14680064,L|=J.flags&14680064,J.return=p,J=J.sibling;else for(J=p.child;J!==null;)C|=J.lanes|J.childLanes,L|=J.subtreeFlags,L|=J.flags,J.return=p,J=J.sibling;return p.subtreeFlags|=L,p.childLanes=C,w}function y_e(p,w,C){var L=w.pendingProps;switch(NC(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(w),null;case 1:return ma(w.type)&&bx(),As(w),null;case 3:return L=w.stateNode,Fg(),di(pa),di(Es),VC(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(p===null||p.child===null)&&(Ix(w)?w.flags|=4:p===null||p.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,mc!==null&&(_5(mc),mc=null))),d5(p,w),As(w),null;case 5:qC(w);var J=gp(ew.current);if(C=w.type,p!==null&&w.stateNode!=null)rF(p,w,C,L,J),p.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!L){if(w.stateNode===null)throw Error(n(166));return As(w),null}if(p=gp(nd.current),Ix(w)){L=w.stateNode,C=w.type;var Q=w.memoizedProps;switch(L[td]=w,L[Jv]=Q,p=(w.mode&1)!==0,C){case"dialog":ci("cancel",L),ci("close",L);break;case"iframe":case"object":case"embed":ci("load",L);break;case"video":case"audio":for(J=0;J<Kv.length;J++)ci(Kv[J],L);break;case"source":ci("error",L);break;case"img":case"image":case"link":ci("error",L),ci("load",L);break;case"details":ci("toggle",L);break;case"input":dt(L,Q),ci("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!Q.multiple},ci("invalid",L);break;case"textarea":st(L,Q),ci("invalid",L)}nn(C,Q),J=null;for(var ue in Q)if(Q.hasOwnProperty(ue)){var xe=Q[ue];ue==="children"?typeof xe=="string"?L.textContent!==xe&&(Q.suppressHydrationWarning!==!0&&yx(L.textContent,xe,p),J=["children",xe]):typeof xe=="number"&&L.textContent!==""+xe&&(Q.suppressHydrationWarning!==!0&&yx(L.textContent,xe,p),J=["children",""+xe]):i.hasOwnProperty(ue)&&xe!=null&&ue==="onScroll"&&ci("scroll",L)}switch(C){case"input":Fe(L),jt(L,Q,!0);break;case"textarea":Fe(L),$t(L);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(L.onclick=vx)}L=J,w.updateQueue=L,L!==null&&(w.flags|=4)}else{ue=J.nodeType===9?J:J.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=zt(C)),p==="http://www.w3.org/1999/xhtml"?C==="script"?(p=ue.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof L.is=="string"?p=ue.createElement(C,{is:L.is}):(p=ue.createElement(C),C==="select"&&(ue=p,L.multiple?ue.multiple=!0:L.size&&(ue.size=L.size))):p=ue.createElementNS(p,C),p[td]=w,p[Jv]=L,nF(p,w,!1,!1),w.stateNode=p;e:{switch(ue=Bn(C,L),C){case"dialog":ci("cancel",p),ci("close",p),J=L;break;case"iframe":case"object":case"embed":ci("load",p),J=L;break;case"video":case"audio":for(J=0;J<Kv.length;J++)ci(Kv[J],p);J=L;break;case"source":ci("error",p),J=L;break;case"img":case"image":case"link":ci("error",p),ci("load",p),J=L;break;case"details":ci("toggle",p),J=L;break;case"input":dt(p,L),J=tt(p,L),ci("invalid",p);break;case"option":J=L;break;case"select":p._wrapperState={wasMultiple:!!L.multiple},J=K({},L,{value:void 0}),ci("invalid",p);break;case"textarea":st(p,L),J=ct(p,L),ci("invalid",p);break;default:J=L}nn(C,J),xe=J;for(Q in xe)if(xe.hasOwnProperty(Q)){var Ce=xe[Q];Q==="style"?tn(p,Ce):Q==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&ee(p,Ce)):Q==="children"?typeof Ce=="string"?(C!=="textarea"||Ce!=="")&&we(p,Ce):typeof Ce=="number"&&we(p,""+Ce):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?Ce!=null&&Q==="onScroll"&&ci("scroll",p):Ce!=null&&_(p,Q,Ce,ue))}switch(C){case"input":Fe(p),jt(p,L,!1);break;case"textarea":Fe(p),$t(p);break;case"option":L.value!=null&&p.setAttribute("value",""+me(L.value));break;case"select":p.multiple=!!L.multiple,Q=L.value,Q!=null?Ze(p,!!L.multiple,Q,!1):L.defaultValue!=null&&Ze(p,!!L.multiple,L.defaultValue,!0);break;default:typeof J.onClick=="function"&&(p.onclick=vx)}switch(C){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return As(w),null;case 6:if(p&&w.stateNode!=null)iF(p,w,p.memoizedProps,L);else{if(typeof L!="string"&&w.stateNode===null)throw Error(n(166));if(C=gp(ew.current),gp(nd.current),Ix(w)){if(L=w.stateNode,C=w.memoizedProps,L[td]=w,(Q=L.nodeValue!==C)&&(p=Va,p!==null))switch(p.tag){case 3:yx(L.nodeValue,C,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&yx(L.nodeValue,C,(p.mode&1)!==0)}Q&&(w.flags|=4)}else L=(C.nodeType===9?C:C.ownerDocument).createTextNode(L),L[td]=w,w.stateNode=L}return As(w),null;case 13:if(di(Ci),L=w.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(vi&&Ka!==null&&(w.mode&1)!==0&&(w.flags&128)===0)aU(),jg(),w.flags|=98560,Q=!1;else if(Q=Ix(w),L!==null&&L.dehydrated!==null){if(p===null){if(!Q)throw Error(n(318));if(Q=w.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(n(317));Q[td]=w}else jg(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;As(w),Q=!1}else mc!==null&&(_5(mc),mc=null),Q=!0;if(!Q)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=C,w):(L=L!==null,L!==(p!==null&&p.memoizedState!==null)&&L&&(w.child.flags|=8192,(w.mode&1)!==0&&(p===null||(Ci.current&1)!==0?bo===0&&(bo=3):S5())),w.updateQueue!==null&&(w.flags|=4),As(w),null);case 4:return Fg(),d5(p,w),p===null&&Hv(w.stateNode.containerInfo),As(w),null;case 10:return $C(w.type._context),As(w),null;case 17:return ma(w.type)&&bx(),As(w),null;case 19:if(di(Ci),Q=w.memoizedState,Q===null)return As(w),null;if(L=(w.flags&128)!==0,ue=Q.rendering,ue===null)if(L)ow(Q,!1);else{if(bo!==0||p!==null&&(p.flags&128)!==0)for(p=w.child;p!==null;){if(ue=Ox(p),ue!==null){for(w.flags|=128,ow(Q,!1),L=ue.updateQueue,L!==null&&(w.updateQueue=L,w.flags|=4),w.subtreeFlags=0,L=C,C=w.child;C!==null;)Q=C,p=L,Q.flags&=14680066,ue=Q.alternate,ue===null?(Q.childLanes=0,Q.lanes=p,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=ue.childLanes,Q.lanes=ue.lanes,Q.child=ue.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=ue.memoizedProps,Q.memoizedState=ue.memoizedState,Q.updateQueue=ue.updateQueue,Q.type=ue.type,p=ue.dependencies,Q.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),C=C.sibling;return Jr(Ci,Ci.current&1|2),w.child}p=p.sibling}Q.tail!==null&&Rt()>Vg&&(w.flags|=128,L=!0,ow(Q,!1),w.lanes=4194304)}else{if(!L)if(p=Ox(ue),p!==null){if(w.flags|=128,L=!0,C=p.updateQueue,C!==null&&(w.updateQueue=C,w.flags|=4),ow(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!ue.alternate&&!vi)return As(w),null}else 2*Rt()-Q.renderingStartTime>Vg&&C!==1073741824&&(w.flags|=128,L=!0,ow(Q,!1),w.lanes=4194304);Q.isBackwards?(ue.sibling=w.child,w.child=ue):(C=Q.last,C!==null?C.sibling=ue:w.child=ue,Q.last=ue)}return Q.tail!==null?(w=Q.tail,Q.rendering=w,Q.tail=w.sibling,Q.renderingStartTime=Rt(),w.sibling=null,C=Ci.current,Jr(Ci,L?C&1|2:C&1),w):(As(w),null);case 22:case 23:return k5(),L=w.memoizedState!==null,p!==null&&p.memoizedState!==null!==L&&(w.flags|=8192),L&&(w.mode&1)!==0?(Ha&1073741824)!==0&&(As(w),w.subtreeFlags&6&&(w.flags|=8192)):As(w),null;case 24:return null;case 25:return null}throw Error(n(156,w.tag))}function v_e(p,w){switch(NC(w),w.tag){case 1:return ma(w.type)&&bx(),p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 3:return Fg(),di(pa),di(Es),VC(),p=w.flags,(p&65536)!==0&&(p&128)===0?(w.flags=p&-65537|128,w):null;case 5:return qC(w),null;case 13:if(di(Ci),p=w.memoizedState,p!==null&&p.dehydrated!==null){if(w.alternate===null)throw Error(n(340));jg()}return p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 19:return di(Ci),null;case 4:return Fg(),null;case 10:return $C(w.type._context),null;case 22:case 23:return k5(),null;case 24:return null;default:return null}}var Ux=!1,Rs=!1,w_e=typeof WeakSet=="function"?WeakSet:Set,qt=null;function qg(p,w){var C=p.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(L){ji(p,w,L)}else C.current=null}function u5(p,w,C){try{C()}catch(L){ji(p,w,L)}}var oF=!1;function b_e(p,w){if(kC=cp,p=jL(),mC(p)){if("selectionStart"in p)var C={start:p.selectionStart,end:p.selectionEnd};else e:{C=(C=p.ownerDocument)&&C.defaultView||window;var L=C.getSelection&&C.getSelection();if(L&&L.rangeCount!==0){C=L.anchorNode;var J=L.anchorOffset,Q=L.focusNode;L=L.focusOffset;try{C.nodeType,Q.nodeType}catch{C=null;break e}var ue=0,xe=-1,Ce=-1,He=0,ht=0,yt=p,ft=null;t:for(;;){for(var Lt;yt!==C||J!==0&&yt.nodeType!==3||(xe=ue+J),yt!==Q||L!==0&&yt.nodeType!==3||(Ce=ue+L),yt.nodeType===3&&(ue+=yt.nodeValue.length),(Lt=yt.firstChild)!==null;)ft=yt,yt=Lt;for(;;){if(yt===p)break t;if(ft===C&&++He===J&&(xe=ue),ft===Q&&++ht===L&&(Ce=ue),(Lt=yt.nextSibling)!==null)break;yt=ft,ft=yt.parentNode}yt=Lt}C=xe===-1||Ce===-1?null:{start:xe,end:Ce}}else C=null}C=C||{start:0,end:0}}else C=null;for(SC={focusedElem:p,selectionRange:C},cp=!1,qt=w;qt!==null;)if(w=qt,p=w.child,(w.subtreeFlags&1028)!==0&&p!==null)p.return=w,qt=p;else for(;qt!==null;){w=qt;try{var Kt=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Kt!==null){var Gt=Kt.memoizedProps,Xi=Kt.memoizedState,Le=w.stateNode,Oe=Le.getSnapshotBeforeUpdate(w.elementType===w.type?Gt:gc(w.type,Gt),Xi);Le.__reactInternalSnapshotBeforeUpdate=Oe}break;case 3:var qe=w.stateNode.containerInfo;qe.nodeType===1?qe.textContent="":qe.nodeType===9&&qe.documentElement&&qe.removeChild(qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(wt){ji(w,w.return,wt)}if(p=w.sibling,p!==null){p.return=w.return,qt=p;break}qt=w.return}return Kt=oF,oF=!1,Kt}function sw(p,w,C){var L=w.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var J=L=L.next;do{if((J.tag&p)===p){var Q=J.destroy;J.destroy=void 0,Q!==void 0&&u5(w,C,Q)}J=J.next}while(J!==L)}}function Fx(p,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&p)===p){var L=C.create;C.destroy=L()}C=C.next}while(C!==w)}}function f5(p){var w=p.ref;if(w!==null){var C=p.stateNode;switch(p.tag){case 5:p=C;break;default:p=C}typeof w=="function"?w(p):w.current=p}}function sF(p){var w=p.alternate;w!==null&&(p.alternate=null,sF(w)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(w=p.stateNode,w!==null&&(delete w[td],delete w[Jv],delete w[AC],delete w[n_e],delete w[r_e])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function aF(p){return p.tag===5||p.tag===3||p.tag===4}function lF(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||aF(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function h5(p,w,C){var L=p.tag;if(L===5||L===6)p=p.stateNode,w?C.nodeType===8?C.parentNode.insertBefore(p,w):C.insertBefore(p,w):(C.nodeType===8?(w=C.parentNode,w.insertBefore(p,C)):(w=C,w.appendChild(p)),C=C._reactRootContainer,C!=null||w.onclick!==null||(w.onclick=vx));else if(L!==4&&(p=p.child,p!==null))for(h5(p,w,C),p=p.sibling;p!==null;)h5(p,w,C),p=p.sibling}function p5(p,w,C){var L=p.tag;if(L===5||L===6)p=p.stateNode,w?C.insertBefore(p,w):C.appendChild(p);else if(L!==4&&(p=p.child,p!==null))for(p5(p,w,C),p=p.sibling;p!==null;)p5(p,w,C),p=p.sibling}var ts=null,yc=!1;function wf(p,w,C){for(C=C.child;C!==null;)cF(p,w,C),C=C.sibling}function cF(p,w,C){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(_t,C)}catch{}switch(C.tag){case 5:Rs||qg(C,w);case 6:var L=ts,J=yc;ts=null,wf(p,w,C),ts=L,yc=J,ts!==null&&(yc?(p=ts,C=C.stateNode,p.nodeType===8?p.parentNode.removeChild(C):p.removeChild(C)):ts.removeChild(C.stateNode));break;case 18:ts!==null&&(yc?(p=ts,C=C.stateNode,p.nodeType===8?CC(p.parentNode,C):p.nodeType===1&&CC(p,C),uf(p)):CC(ts,C.stateNode));break;case 4:L=ts,J=yc,ts=C.stateNode.containerInfo,yc=!0,wf(p,w,C),ts=L,yc=J;break;case 0:case 11:case 14:case 15:if(!Rs&&(L=C.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){J=L=L.next;do{var Q=J,ue=Q.destroy;Q=Q.tag,ue!==void 0&&((Q&2)!==0||(Q&4)!==0)&&u5(C,w,ue),J=J.next}while(J!==L)}wf(p,w,C);break;case 1:if(!Rs&&(qg(C,w),L=C.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=C.memoizedProps,L.state=C.memoizedState,L.componentWillUnmount()}catch(xe){ji(C,w,xe)}wf(p,w,C);break;case 21:wf(p,w,C);break;case 22:C.mode&1?(Rs=(L=Rs)||C.memoizedState!==null,wf(p,w,C),Rs=L):wf(p,w,C);break;default:wf(p,w,C)}}function dF(p){var w=p.updateQueue;if(w!==null){p.updateQueue=null;var C=p.stateNode;C===null&&(C=p.stateNode=new w_e),w.forEach(function(L){var J=R_e.bind(null,p,L);C.has(L)||(C.add(L),L.then(J,J))})}}function vc(p,w){var C=w.deletions;if(C!==null)for(var L=0;L<C.length;L++){var J=C[L];try{var Q=p,ue=w,xe=ue;e:for(;xe!==null;){switch(xe.tag){case 5:ts=xe.stateNode,yc=!1;break e;case 3:ts=xe.stateNode.containerInfo,yc=!0;break e;case 4:ts=xe.stateNode.containerInfo,yc=!0;break e}xe=xe.return}if(ts===null)throw Error(n(160));cF(Q,ue,J),ts=null,yc=!1;var Ce=J.alternate;Ce!==null&&(Ce.return=null),J.return=null}catch(He){ji(J,w,He)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)uF(w,p),w=w.sibling}function uF(p,w){var C=p.alternate,L=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(vc(w,p),id(p),L&4){try{sw(3,p,p.return),Fx(3,p)}catch(Gt){ji(p,p.return,Gt)}try{sw(5,p,p.return)}catch(Gt){ji(p,p.return,Gt)}}break;case 1:vc(w,p),id(p),L&512&&C!==null&&qg(C,C.return);break;case 5:if(vc(w,p),id(p),L&512&&C!==null&&qg(C,C.return),p.flags&32){var J=p.stateNode;try{we(J,"")}catch(Gt){ji(p,p.return,Gt)}}if(L&4&&(J=p.stateNode,J!=null)){var Q=p.memoizedProps,ue=C!==null?C.memoizedProps:Q,xe=p.type,Ce=p.updateQueue;if(p.updateQueue=null,Ce!==null)try{xe==="input"&&Q.type==="radio"&&Q.name!=null&&Qt(J,Q),Bn(xe,ue);var He=Bn(xe,Q);for(ue=0;ue<Ce.length;ue+=2){var ht=Ce[ue],yt=Ce[ue+1];ht==="style"?tn(J,yt):ht==="dangerouslySetInnerHTML"?ee(J,yt):ht==="children"?we(J,yt):_(J,ht,yt,He)}switch(xe){case"input":lt(J,Q);break;case"textarea":vt(J,Q);break;case"select":var ft=J._wrapperState.wasMultiple;J._wrapperState.wasMultiple=!!Q.multiple;var Lt=Q.value;Lt!=null?Ze(J,!!Q.multiple,Lt,!1):ft!==!!Q.multiple&&(Q.defaultValue!=null?Ze(J,!!Q.multiple,Q.defaultValue,!0):Ze(J,!!Q.multiple,Q.multiple?[]:"",!1))}J[Jv]=Q}catch(Gt){ji(p,p.return,Gt)}}break;case 6:if(vc(w,p),id(p),L&4){if(p.stateNode===null)throw Error(n(162));J=p.stateNode,Q=p.memoizedProps;try{J.nodeValue=Q}catch(Gt){ji(p,p.return,Gt)}}break;case 3:if(vc(w,p),id(p),L&4&&C!==null&&C.memoizedState.isDehydrated)try{uf(w.containerInfo)}catch(Gt){ji(p,p.return,Gt)}break;case 4:vc(w,p),id(p);break;case 13:vc(w,p),id(p),J=p.child,J.flags&8192&&(Q=J.memoizedState!==null,J.stateNode.isHidden=Q,!Q||J.alternate!==null&&J.alternate.memoizedState!==null||(y5=Rt())),L&4&&dF(p);break;case 22:if(ht=C!==null&&C.memoizedState!==null,p.mode&1?(Rs=(He=Rs)||ht,vc(w,p),Rs=He):vc(w,p),id(p),L&8192){if(He=p.memoizedState!==null,(p.stateNode.isHidden=He)&&!ht&&(p.mode&1)!==0)for(qt=p,ht=p.child;ht!==null;){for(yt=qt=ht;qt!==null;){switch(ft=qt,Lt=ft.child,ft.tag){case 0:case 11:case 14:case 15:sw(4,ft,ft.return);break;case 1:qg(ft,ft.return);var Kt=ft.stateNode;if(typeof Kt.componentWillUnmount=="function"){L=ft,C=ft.return;try{w=L,Kt.props=w.memoizedProps,Kt.state=w.memoizedState,Kt.componentWillUnmount()}catch(Gt){ji(L,C,Gt)}}break;case 5:qg(ft,ft.return);break;case 22:if(ft.memoizedState!==null){pF(yt);continue}}Lt!==null?(Lt.return=ft,qt=Lt):pF(yt)}ht=ht.sibling}e:for(ht=null,yt=p;;){if(yt.tag===5){if(ht===null){ht=yt;try{J=yt.stateNode,He?(Q=J.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(xe=yt.stateNode,Ce=yt.memoizedProps.style,ue=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,xe.style.display=We("display",ue))}catch(Gt){ji(p,p.return,Gt)}}}else if(yt.tag===6){if(ht===null)try{yt.stateNode.nodeValue=He?"":yt.memoizedProps}catch(Gt){ji(p,p.return,Gt)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===p)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===p)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===p)break e;ht===yt&&(ht=null),yt=yt.return}ht===yt&&(ht=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:vc(w,p),id(p),L&4&&dF(p);break;case 21:break;default:vc(w,p),id(p)}}function id(p){var w=p.flags;if(w&2){try{e:{for(var C=p.return;C!==null;){if(aF(C)){var L=C;break e}C=C.return}throw Error(n(160))}switch(L.tag){case 5:var J=L.stateNode;L.flags&32&&(we(J,""),L.flags&=-33);var Q=lF(p);p5(p,Q,J);break;case 3:case 4:var ue=L.stateNode.containerInfo,xe=lF(p);h5(p,xe,ue);break;default:throw Error(n(161))}}catch(Ce){ji(p,p.return,Ce)}p.flags&=-3}w&4096&&(p.flags&=-4097)}function __e(p,w,C){qt=p,fF(p)}function fF(p,w,C){for(var L=(p.mode&1)!==0;qt!==null;){var J=qt,Q=J.child;if(J.tag===22&&L){var ue=J.memoizedState!==null||Ux;if(!ue){var xe=J.alternate,Ce=xe!==null&&xe.memoizedState!==null||Rs;xe=Ux;var He=Rs;if(Ux=ue,(Rs=Ce)&&!He)for(qt=J;qt!==null;)ue=qt,Ce=ue.child,ue.tag===22&&ue.memoizedState!==null?mF(J):Ce!==null?(Ce.return=ue,qt=Ce):mF(J);for(;Q!==null;)qt=Q,fF(Q),Q=Q.sibling;qt=J,Ux=xe,Rs=He}hF(p)}else(J.subtreeFlags&8772)!==0&&Q!==null?(Q.return=J,qt=Q):hF(p)}}function hF(p){for(;qt!==null;){var w=qt;if((w.flags&8772)!==0){var C=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:Rs||Fx(5,w);break;case 1:var L=w.stateNode;if(w.flags&4&&!Rs)if(C===null)L.componentDidMount();else{var J=w.elementType===w.type?C.memoizedProps:gc(w.type,C.memoizedProps);L.componentDidUpdate(J,C.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var Q=w.updateQueue;Q!==null&&pU(w,Q,L);break;case 3:var ue=w.updateQueue;if(ue!==null){if(C=null,w.child!==null)switch(w.child.tag){case 5:C=w.child.stateNode;break;case 1:C=w.child.stateNode}pU(w,ue,C)}break;case 5:var xe=w.stateNode;if(C===null&&w.flags&4){C=xe;var Ce=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&C.focus();break;case"img":Ce.src&&(C.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var He=w.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var yt=ht.dehydrated;yt!==null&&uf(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rs||w.flags&512&&f5(w)}catch(ft){ji(w,w.return,ft)}}if(w===p){qt=null;break}if(C=w.sibling,C!==null){C.return=w.return,qt=C;break}qt=w.return}}function pF(p){for(;qt!==null;){var w=qt;if(w===p){qt=null;break}var C=w.sibling;if(C!==null){C.return=w.return,qt=C;break}qt=w.return}}function mF(p){for(;qt!==null;){var w=qt;try{switch(w.tag){case 0:case 11:case 15:var C=w.return;try{Fx(4,w)}catch(Ce){ji(w,C,Ce)}break;case 1:var L=w.stateNode;if(typeof L.componentDidMount=="function"){var J=w.return;try{L.componentDidMount()}catch(Ce){ji(w,J,Ce)}}var Q=w.return;try{f5(w)}catch(Ce){ji(w,Q,Ce)}break;case 5:var ue=w.return;try{f5(w)}catch(Ce){ji(w,ue,Ce)}}}catch(Ce){ji(w,w.return,Ce)}if(w===p){qt=null;break}var xe=w.sibling;if(xe!==null){xe.return=w.return,qt=xe;break}qt=w.return}}var x_e=Math.ceil,Wx=R.ReactCurrentDispatcher,m5=R.ReactCurrentOwner,Nl=R.ReactCurrentBatchConfig,mr=0,Bo=null,lo=null,ns=0,Ha=0,zg=pf(0),bo=0,aw=null,vp=0,qx=0,g5=0,lw=null,ya=null,y5=0,Vg=1/0,au=null,zx=!1,v5=null,bf=null,Vx=!1,_f=null,Kx=0,cw=0,w5=null,Hx=-1,Gx=0;function Qs(){return(mr&6)!==0?Rt():Hx!==-1?Hx:Hx=Rt()}function xf(p){return(p.mode&1)===0?1:(mr&2)!==0&&ns!==0?ns&-ns:o_e.transition!==null?(Gx===0&&(Gx=Gn()),Gx):(p=Yt,p!==0||(p=window.event,p=p===void 0?16:ax(p.type)),p)}function wc(p,w,C,L){if(50<cw)throw cw=0,w5=null,Error(n(185));Dn(p,C,L),((mr&2)===0||p!==Bo)&&(p===Bo&&((mr&2)===0&&(qx|=C),bo===4&&kf(p,ns)),va(p,L),C===1&&mr===0&&(w.mode&1)===0&&(Vg=Rt()+500,xx&&gf()))}function va(p,w){var C=p.callbackNode;On(p,w);var L=_n(p,p===Bo?ns:0);if(L===0)C!==null&&yn(C),p.callbackNode=null,p.callbackPriority=0;else if(w=L&-L,p.callbackPriority!==w){if(C!=null&&yn(C),w===1)p.tag===0?i_e(yF.bind(null,p)):nU(yF.bind(null,p)),e_e(function(){(mr&6)===0&&gf()}),C=null;else{switch(Wr(L)){case 1:C=Tt;break;case 4:C=Ft;break;case 16:C=St;break;case 536870912:C=Mt;break;default:C=St}C=IF(C,gF.bind(null,p))}p.callbackPriority=w,p.callbackNode=C}}function gF(p,w){if(Hx=-1,Gx=0,(mr&6)!==0)throw Error(n(327));var C=p.callbackNode;if(Kg()&&p.callbackNode!==C)return null;var L=_n(p,p===Bo?ns:0);if(L===0)return null;if((L&30)!==0||(L&p.expiredLanes)!==0||w)w=Jx(p,L);else{w=L;var J=mr;mr|=2;var Q=wF();(Bo!==p||ns!==w)&&(au=null,Vg=Rt()+500,bp(p,w));do try{I_e();break}catch(xe){vF(p,xe)}while(!0);jC(),Wx.current=Q,mr=J,lo!==null?w=0:(Bo=null,ns=0,w=bo)}if(w!==0){if(w===2&&(J=$n(p),J!==0&&(L=J,w=b5(p,J))),w===1)throw C=aw,bp(p,0),kf(p,L),va(p,Rt()),C;if(w===6)kf(p,L);else{if(J=p.current.alternate,(L&30)===0&&!k_e(J)&&(w=Jx(p,L),w===2&&(Q=$n(p),Q!==0&&(L=Q,w=b5(p,Q))),w===1))throw C=aw,bp(p,0),kf(p,L),va(p,Rt()),C;switch(p.finishedWork=J,p.finishedLanes=L,w){case 0:case 1:throw Error(n(345));case 2:_p(p,ya,au);break;case 3:if(kf(p,L),(L&130023424)===L&&(w=y5+500-Rt(),10<w)){if(_n(p,0)!==0)break;if(J=p.suspendedLanes,(J&L)!==L){Qs(),p.pingedLanes|=p.suspendedLanes&J;break}p.timeoutHandle=EC(_p.bind(null,p,ya,au),w);break}_p(p,ya,au);break;case 4:if(kf(p,L),(L&4194240)===L)break;for(w=p.eventTimes,J=-1;0<L;){var ue=31-et(L);Q=1<<ue,ue=w[ue],ue>J&&(J=ue),L&=~Q}if(L=J,L=Rt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*x_e(L/1960))-L,10<L){p.timeoutHandle=EC(_p.bind(null,p,ya,au),L);break}_p(p,ya,au);break;case 5:_p(p,ya,au);break;default:throw Error(n(329))}}}return va(p,Rt()),p.callbackNode===C?gF.bind(null,p):null}function b5(p,w){var C=lw;return p.current.memoizedState.isDehydrated&&(bp(p,w).flags|=256),p=Jx(p,w),p!==2&&(w=ya,ya=C,w!==null&&_5(w)),p}function _5(p){ya===null?ya=p:ya.push.apply(ya,p)}function k_e(p){for(var w=p;;){if(w.flags&16384){var C=w.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var L=0;L<C.length;L++){var J=C[L],Q=J.getSnapshot;J=J.value;try{if(!pc(Q(),J))return!1}catch{return!1}}}if(C=w.child,w.subtreeFlags&16384&&C!==null)C.return=w,w=C;else{if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function kf(p,w){for(w&=~g5,w&=~qx,p.suspendedLanes|=w,p.pingedLanes&=~w,p=p.expirationTimes;0<w;){var C=31-et(w),L=1<<C;p[C]=-1,w&=~L}}function yF(p){if((mr&6)!==0)throw Error(n(327));Kg();var w=_n(p,0);if((w&1)===0)return va(p,Rt()),null;var C=Jx(p,w);if(p.tag!==0&&C===2){var L=$n(p);L!==0&&(w=L,C=b5(p,L))}if(C===1)throw C=aw,bp(p,0),kf(p,w),va(p,Rt()),C;if(C===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=w,_p(p,ya,au),va(p,Rt()),null}function x5(p,w){var C=mr;mr|=1;try{return p(w)}finally{mr=C,mr===0&&(Vg=Rt()+500,xx&&gf())}}function wp(p){_f!==null&&_f.tag===0&&(mr&6)===0&&Kg();var w=mr;mr|=1;var C=Nl.transition,L=Yt;try{if(Nl.transition=null,Yt=1,p)return p()}finally{Yt=L,Nl.transition=C,mr=w,(mr&6)===0&&gf()}}function k5(){Ha=zg.current,di(zg)}function bp(p,w){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;if(C!==-1&&(p.timeoutHandle=-1,Q1e(C)),lo!==null)for(C=lo.return;C!==null;){var L=C;switch(NC(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&bx();break;case 3:Fg(),di(pa),di(Es),VC();break;case 5:qC(L);break;case 4:Fg();break;case 13:di(Ci);break;case 19:di(Ci);break;case 10:$C(L.type._context);break;case 22:case 23:k5()}C=C.return}if(Bo=p,lo=p=Sf(p.current,null),ns=Ha=w,bo=0,aw=null,g5=qx=vp=0,ya=lw=null,mp!==null){for(w=0;w<mp.length;w++)if(C=mp[w],L=C.interleaved,L!==null){C.interleaved=null;var J=L.next,Q=C.pending;if(Q!==null){var ue=Q.next;Q.next=J,L.next=ue}C.pending=L}mp=null}return p}function vF(p,w){do{var C=lo;try{if(jC(),Nx.current=Mx,Px){for(var L=Ai.memoizedState;L!==null;){var J=L.queue;J!==null&&(J.pending=null),L=L.next}Px=!1}if(yp=0,Po=wo=Ai=null,tw=!1,nw=0,m5.current=null,C===null||C.return===null){bo=1,aw=w,lo=null;break}e:{var Q=p,ue=C.return,xe=C,Ce=w;if(w=ns,xe.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var He=Ce,ht=xe,yt=ht.tag;if((ht.mode&1)===0&&(yt===0||yt===11||yt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Lt=qU(ue);if(Lt!==null){Lt.flags&=-257,zU(Lt,ue,xe,Q,w),Lt.mode&1&&WU(Q,He,w),w=Lt,Ce=He;var Kt=w.updateQueue;if(Kt===null){var Gt=new Set;Gt.add(Ce),w.updateQueue=Gt}else Kt.add(Ce);break e}else{if((w&1)===0){WU(Q,He,w),S5();break e}Ce=Error(n(426))}}else if(vi&&xe.mode&1){var Xi=qU(ue);if(Xi!==null){(Xi.flags&65536)===0&&(Xi.flags|=256),zU(Xi,ue,xe,Q,w),DC(Wg(Ce,xe));break e}}Q=Ce=Wg(Ce,xe),bo!==4&&(bo=2),lw===null?lw=[Q]:lw.push(Q),Q=ue;do{switch(Q.tag){case 3:Q.flags|=65536,w&=-w,Q.lanes|=w;var Le=UU(Q,Ce,w);hU(Q,Le);break e;case 1:xe=Ce;var Oe=Q.type,qe=Q.stateNode;if((Q.flags&128)===0&&(typeof Oe.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(bf===null||!bf.has(qe)))){Q.flags|=65536,w&=-w,Q.lanes|=w;var wt=FU(Q,xe,w);hU(Q,wt);break e}}Q=Q.return}while(Q!==null)}_F(C)}catch(en){w=en,lo===C&&C!==null&&(lo=C=C.return);continue}break}while(!0)}function wF(){var p=Wx.current;return Wx.current=Mx,p===null?Mx:p}function S5(){(bo===0||bo===3||bo===2)&&(bo=4),Bo===null||(vp&268435455)===0&&(qx&268435455)===0||kf(Bo,ns)}function Jx(p,w){var C=mr;mr|=2;var L=wF();(Bo!==p||ns!==w)&&(au=null,bp(p,w));do try{S_e();break}catch(J){vF(p,J)}while(!0);if(jC(),mr=C,Wx.current=L,lo!==null)throw Error(n(261));return Bo=null,ns=0,bo}function S_e(){for(;lo!==null;)bF(lo)}function I_e(){for(;lo!==null&&!vn();)bF(lo)}function bF(p){var w=SF(p.alternate,p,Ha);p.memoizedProps=p.pendingProps,w===null?_F(p):lo=w,m5.current=null}function _F(p){var w=p;do{var C=w.alternate;if(p=w.return,(w.flags&32768)===0){if(C=y_e(C,w,Ha),C!==null){lo=C;return}}else{if(C=v_e(C,w),C!==null){C.flags&=32767,lo=C;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{bo=6,lo=null;return}}if(w=w.sibling,w!==null){lo=w;return}lo=w=p}while(w!==null);bo===0&&(bo=5)}function _p(p,w,C){var L=Yt,J=Nl.transition;try{Nl.transition=null,Yt=1,E_e(p,w,C,L)}finally{Nl.transition=J,Yt=L}return null}function E_e(p,w,C,L){do Kg();while(_f!==null);if((mr&6)!==0)throw Error(n(327));C=p.finishedWork;var J=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Q=C.lanes|C.childLanes;if(Nn(p,Q),p===Bo&&(lo=Bo=null,ns=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Vx||(Vx=!0,IF(St,function(){return Kg(),null})),Q=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||Q){Q=Nl.transition,Nl.transition=null;var ue=Yt;Yt=1;var xe=mr;mr|=4,m5.current=null,b_e(p,C),uF(C,p),K1e(SC),cp=!!kC,SC=kC=null,p.current=C,__e(C),un(),mr=xe,Yt=ue,Nl.transition=Q}else p.current=C;if(Vx&&(Vx=!1,_f=p,Kx=J),Q=p.pendingLanes,Q===0&&(bf=null),Ve(C.stateNode),va(p,Rt()),w!==null)for(L=p.onRecoverableError,C=0;C<w.length;C++)J=w[C],L(J.value,{componentStack:J.stack,digest:J.digest});if(zx)throw zx=!1,p=v5,v5=null,p;return(Kx&1)!==0&&p.tag!==0&&Kg(),Q=p.pendingLanes,(Q&1)!==0?p===w5?cw++:(cw=0,w5=p):cw=0,gf(),null}function Kg(){if(_f!==null){var p=Wr(Kx),w=Nl.transition,C=Yt;try{if(Nl.transition=null,Yt=16>p?16:p,_f===null)var L=!1;else{if(p=_f,_f=null,Kx=0,(mr&6)!==0)throw Error(n(331));var J=mr;for(mr|=4,qt=p.current;qt!==null;){var Q=qt,ue=Q.child;if((qt.flags&16)!==0){var xe=Q.deletions;if(xe!==null){for(var Ce=0;Ce<xe.length;Ce++){var He=xe[Ce];for(qt=He;qt!==null;){var ht=qt;switch(ht.tag){case 0:case 11:case 15:sw(8,ht,Q)}var yt=ht.child;if(yt!==null)yt.return=ht,qt=yt;else for(;qt!==null;){ht=qt;var ft=ht.sibling,Lt=ht.return;if(sF(ht),ht===He){qt=null;break}if(ft!==null){ft.return=Lt,qt=ft;break}qt=Lt}}}var Kt=Q.alternate;if(Kt!==null){var Gt=Kt.child;if(Gt!==null){Kt.child=null;do{var Xi=Gt.sibling;Gt.sibling=null,Gt=Xi}while(Gt!==null)}}qt=Q}}if((Q.subtreeFlags&2064)!==0&&ue!==null)ue.return=Q,qt=ue;else e:for(;qt!==null;){if(Q=qt,(Q.flags&2048)!==0)switch(Q.tag){case 0:case 11:case 15:sw(9,Q,Q.return)}var Le=Q.sibling;if(Le!==null){Le.return=Q.return,qt=Le;break e}qt=Q.return}}var Oe=p.current;for(qt=Oe;qt!==null;){ue=qt;var qe=ue.child;if((ue.subtreeFlags&2064)!==0&&qe!==null)qe.return=ue,qt=qe;else e:for(ue=Oe;qt!==null;){if(xe=qt,(xe.flags&2048)!==0)try{switch(xe.tag){case 0:case 11:case 15:Fx(9,xe)}}catch(en){ji(xe,xe.return,en)}if(xe===ue){qt=null;break e}var wt=xe.sibling;if(wt!==null){wt.return=xe.return,qt=wt;break e}qt=xe.return}}if(mr=J,gf(),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(_t,p)}catch{}L=!0}return L}finally{Yt=C,Nl.transition=w}}return!1}function xF(p,w,C){w=Wg(C,w),w=UU(p,w,1),p=vf(p,w,1),w=Qs(),p!==null&&(Dn(p,1,w),va(p,w))}function ji(p,w,C){if(p.tag===3)xF(p,p,C);else for(;w!==null;){if(w.tag===3){xF(w,p,C);break}else if(w.tag===1){var L=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(bf===null||!bf.has(L))){p=Wg(C,p),p=FU(w,p,1),w=vf(w,p,1),p=Qs(),w!==null&&(Dn(w,1,p),va(w,p));break}}w=w.return}}function C_e(p,w,C){var L=p.pingCache;L!==null&&L.delete(w),w=Qs(),p.pingedLanes|=p.suspendedLanes&C,Bo===p&&(ns&C)===C&&(bo===4||bo===3&&(ns&130023424)===ns&&500>Rt()-y5?bp(p,0):g5|=C),va(p,w)}function kF(p,w){w===0&&((p.mode&1)===0?w=1:(w=mn,mn<<=1,(mn&130023424)===0&&(mn=4194304)));var C=Qs();p=iu(p,w),p!==null&&(Dn(p,w,C),va(p,C))}function A_e(p){var w=p.memoizedState,C=0;w!==null&&(C=w.retryLane),kF(p,C)}function R_e(p,w){var C=0;switch(p.tag){case 13:var L=p.stateNode,J=p.memoizedState;J!==null&&(C=J.retryLane);break;case 19:L=p.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(w),kF(p,C)}var SF;SF=function(p,w,C){if(p!==null)if(p.memoizedProps!==w.pendingProps||pa.current)ga=!0;else{if((p.lanes&C)===0&&(w.flags&128)===0)return ga=!1,g_e(p,w,C);ga=(p.flags&131072)!==0}else ga=!1,vi&&(w.flags&1048576)!==0&&rU(w,Sx,w.index);switch(w.lanes=0,w.tag){case 2:var L=w.type;Lx(p,w),p=w.pendingProps;var J=Bg(w,Es.current);Ug(w,C),J=GC(null,w,L,p,J,C);var Q=JC();return w.flags|=1,typeof J=="object"&&J!==null&&typeof J.render=="function"&&J.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,ma(L)?(Q=!0,_x(w)):Q=!1,w.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,FC(w),J.updater=jx,w.stateNode=J,J._reactInternals=w,t5(w,L,p,C),w=o5(null,w,L,!0,Q,C)):(w.tag=0,vi&&Q&&OC(w),Xs(null,w,J,C),w=w.child),w;case 16:L=w.elementType;e:{switch(Lx(p,w),p=w.pendingProps,J=L._init,L=J(L._payload),w.type=L,J=w.tag=O_e(L),p=gc(L,p),J){case 0:w=i5(null,w,L,p,C);break e;case 1:w=ZU(null,w,L,p,C);break e;case 11:w=VU(null,w,L,p,C);break e;case 14:w=KU(null,w,L,gc(L.type,p),C);break e}throw Error(n(306,L,""))}return w;case 0:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),i5(p,w,L,J,C);case 1:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),ZU(p,w,L,J,C);case 3:e:{if(YU(w),p===null)throw Error(n(387));L=w.pendingProps,Q=w.memoizedState,J=Q.element,fU(p,w),Tx(w,L,null,C);var ue=w.memoizedState;if(L=ue.element,Q.isDehydrated)if(Q={element:L,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},w.updateQueue.baseState=Q,w.memoizedState=Q,w.flags&256){J=Wg(Error(n(423)),w),w=XU(p,w,L,C,J);break e}else if(L!==J){J=Wg(Error(n(424)),w),w=XU(p,w,L,C,J);break e}else for(Ka=hf(w.stateNode.containerInfo.firstChild),Va=w,vi=!0,mc=null,C=dU(w,null,L,C),w.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(jg(),L===J){w=su(p,w,C);break e}Xs(p,w,L,C)}w=w.child}return w;case 5:return mU(w),p===null&&BC(w),L=w.type,J=w.pendingProps,Q=p!==null?p.memoizedProps:null,ue=J.children,IC(L,J)?ue=null:Q!==null&&IC(L,Q)&&(w.flags|=32),JU(p,w),Xs(p,w,ue,C),w.child;case 6:return p===null&&BC(w),null;case 13:return QU(p,w,C);case 4:return WC(w,w.stateNode.containerInfo),L=w.pendingProps,p===null?w.child=$g(w,null,L,C):Xs(p,w,L,C),w.child;case 11:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),VU(p,w,L,J,C);case 7:return Xs(p,w,w.pendingProps,C),w.child;case 8:return Xs(p,w,w.pendingProps.children,C),w.child;case 12:return Xs(p,w,w.pendingProps.children,C),w.child;case 10:e:{if(L=w.type._context,J=w.pendingProps,Q=w.memoizedProps,ue=J.value,Jr(Cx,L._currentValue),L._currentValue=ue,Q!==null)if(pc(Q.value,ue)){if(Q.children===J.children&&!pa.current){w=su(p,w,C);break e}}else for(Q=w.child,Q!==null&&(Q.return=w);Q!==null;){var xe=Q.dependencies;if(xe!==null){ue=Q.child;for(var Ce=xe.firstContext;Ce!==null;){if(Ce.context===L){if(Q.tag===1){Ce=ou(-1,C&-C),Ce.tag=2;var He=Q.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Ce.next=Ce:(Ce.next=ht.next,ht.next=Ce),He.pending=Ce}}Q.lanes|=C,Ce=Q.alternate,Ce!==null&&(Ce.lanes|=C),LC(Q.return,C,w),xe.lanes|=C;break}Ce=Ce.next}}else if(Q.tag===10)ue=Q.type===w.type?null:Q.child;else if(Q.tag===18){if(ue=Q.return,ue===null)throw Error(n(341));ue.lanes|=C,xe=ue.alternate,xe!==null&&(xe.lanes|=C),LC(ue,C,w),ue=Q.sibling}else ue=Q.child;if(ue!==null)ue.return=Q;else for(ue=Q;ue!==null;){if(ue===w){ue=null;break}if(Q=ue.sibling,Q!==null){Q.return=ue.return,ue=Q;break}ue=ue.return}Q=ue}Xs(p,w,J.children,C),w=w.child}return w;case 9:return J=w.type,L=w.pendingProps.children,Ug(w,C),J=Tl(J),L=L(J),w.flags|=1,Xs(p,w,L,C),w.child;case 14:return L=w.type,J=gc(L,w.pendingProps),J=gc(L.type,J),KU(p,w,L,J,C);case 15:return HU(p,w,w.type,w.pendingProps,C);case 17:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),Lx(p,w),w.tag=1,ma(L)?(p=!0,_x(w)):p=!1,Ug(w,C),$U(w,L,J),t5(w,L,J,C),o5(null,w,L,!0,p,C);case 19:return tF(p,w,C);case 22:return GU(p,w,C)}throw Error(n(156,w.tag))};function IF(p,w){return dn(p,w)}function T_e(p,w,C,L){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(p,w,C,L){return new T_e(p,w,C,L)}function I5(p){return p=p.prototype,!(!p||!p.isReactComponent)}function O_e(p){if(typeof p=="function")return I5(p)?1:0;if(p!=null){if(p=p.$$typeof,p===q)return 11;if(p===E)return 14}return 2}function Sf(p,w){var C=p.alternate;return C===null?(C=Pl(p.tag,w,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=w,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&14680064,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,w=p.dependencies,C.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C}function Zx(p,w,C,L,J,Q){var ue=2;if(L=p,typeof p=="function")I5(p)&&(ue=1);else if(typeof p=="string")ue=5;else e:switch(p){case M:return xp(C.children,J,Q,w);case D:ue=8,J|=8;break;case A:return p=Pl(12,C,w,J|2),p.elementType=A,p.lanes=Q,p;case z:return p=Pl(13,C,w,J),p.elementType=z,p.lanes=Q,p;case S:return p=Pl(19,C,w,J),p.elementType=S,p.lanes=Q,p;case P:return Yx(C,J,Q,w);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case U:ue=10;break e;case $:ue=9;break e;case q:ue=11;break e;case E:ue=14;break e;case N:ue=16,L=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return w=Pl(ue,C,w,J),w.elementType=p,w.type=L,w.lanes=Q,w}function xp(p,w,C,L){return p=Pl(7,p,L,w),p.lanes=C,p}function Yx(p,w,C,L){return p=Pl(22,p,L,w),p.elementType=P,p.lanes=C,p.stateNode={isHidden:!1},p}function E5(p,w,C){return p=Pl(6,p,null,w),p.lanes=C,p}function C5(p,w,C){return w=Pl(4,p.children!==null?p.children:[],p.key,w),w.lanes=C,w.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},w}function N_e(p,w,C,L,J){this.tag=w,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=In(0),this.expirationTimes=In(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.identifierPrefix=L,this.onRecoverableError=J,this.mutableSourceEagerHydrationData=null}function A5(p,w,C,L,J,Q,ue,xe,Ce){return p=new N_e(p,w,C,xe,Ce),w===1?(w=1,Q===!0&&(w|=8)):w=0,Q=Pl(3,null,null,w),p.current=Q,Q.stateNode=p,Q.memoizedState={element:L,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},FC(Q),p}function P_e(p,w,C){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:L==null?null:""+L,children:p,containerInfo:w,implementation:C}}function EF(p){if(!p)return mf;p=p._reactInternals;e:{if(ut(p)!==p||p.tag!==1)throw Error(n(170));var w=p;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(ma(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(n(171))}if(p.tag===1){var C=p.type;if(ma(C))return eU(p,C,w)}return w}function CF(p,w,C,L,J,Q,ue,xe,Ce){return p=A5(C,L,!0,p,J,Q,ue,xe,Ce),p.context=EF(null),C=p.current,L=Qs(),J=xf(C),Q=ou(L,J),Q.callback=w??null,vf(C,Q,J),p.current.lanes=J,Dn(p,J,L),va(p,L),p}function Xx(p,w,C,L){var J=w.current,Q=Qs(),ue=xf(J);return C=EF(C),w.context===null?w.context=C:w.pendingContext=C,w=ou(Q,ue),w.payload={element:p},L=L===void 0?null:L,L!==null&&(w.callback=L),p=vf(J,w,ue),p!==null&&(wc(p,J,ue,Q),Rx(p,J,ue)),ue}function Qx(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function AF(p,w){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<w?C:w}}function R5(p,w){AF(p,w),(p=p.alternate)&&AF(p,w)}function B_e(){return null}var RF=typeof reportError=="function"?reportError:function(p){console.error(p)};function T5(p){this._internalRoot=p}ek.prototype.render=T5.prototype.render=function(p){var w=this._internalRoot;if(w===null)throw Error(n(409));Xx(p,w,null,null)},ek.prototype.unmount=T5.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var w=p.containerInfo;wp(function(){Xx(null,p,null,null)}),w[eu]=null}};function ek(p){this._internalRoot=p}ek.prototype.unstable_scheduleHydration=function(p){if(p){var w=Mi();p={blockedOn:null,target:p,priority:w};for(var C=0;C<ed.length&&w!==0&&w<ed[C].priority;C++);ed.splice(C,0,p),C===0&&Mv(p)}};function O5(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function tk(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function TF(){}function D_e(p,w,C,L,J){if(J){if(typeof L=="function"){var Q=L;L=function(){var He=Qx(ue);Q.call(He)}}var ue=CF(w,L,p,0,null,!1,!1,"",TF);return p._reactRootContainer=ue,p[eu]=ue.current,Hv(p.nodeType===8?p.parentNode:p),wp(),ue}for(;J=p.lastChild;)p.removeChild(J);if(typeof L=="function"){var xe=L;L=function(){var He=Qx(Ce);xe.call(He)}}var Ce=A5(p,0,!1,null,null,!1,!1,"",TF);return p._reactRootContainer=Ce,p[eu]=Ce.current,Hv(p.nodeType===8?p.parentNode:p),wp(function(){Xx(w,Ce,C,L)}),Ce}function nk(p,w,C,L,J){var Q=C._reactRootContainer;if(Q){var ue=Q;if(typeof J=="function"){var xe=J;J=function(){var Ce=Qx(ue);xe.call(Ce)}}Xx(w,ue,p,J)}else ue=D_e(C,w,p,J,L);return Qx(ue)}ar=function(p){switch(p.tag){case 3:var w=p.stateNode;if(w.current.memoizedState.isDehydrated){var C=gn(w.pendingLanes);C!==0&&(Mr(w,C|1),va(w,Rt()),(mr&6)===0&&(Vg=Rt()+500,gf()))}break;case 13:wp(function(){var L=iu(p,1);if(L!==null){var J=Qs();wc(L,p,1,J)}}),R5(p,1)}},Cr=function(p){if(p.tag===13){var w=iu(p,134217728);if(w!==null){var C=Qs();wc(w,p,134217728,C)}R5(p,134217728)}},Gr=function(p){if(p.tag===13){var w=xf(p),C=iu(p,w);if(C!==null){var L=Qs();wc(C,p,w,L)}R5(p,w)}},Mi=function(){return Yt},lr=function(p,w){var C=Yt;try{return Yt=p,w()}finally{Yt=C}},Wa=function(p,w,C){switch(w){case"input":if(lt(p,C),w=C.name,C.type==="radio"&&w!=null){for(C=p;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<C.length;w++){var L=C[w];if(L!==p&&L.form===p.form){var J=wx(L);if(!J)throw Error(n(90));De(L),lt(L,J)}}}break;case"textarea":vt(p,C);break;case"select":w=C.value,w!=null&&Ze(p,!!C.multiple,w,!1)}},Qo=x5,Or=wp;var M_e={usingClientEntryPoint:!1,Events:[Zv,Ng,wx,ir,sr,x5]},dw={findFiberByHostInstance:up,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j_e={bundleType:dw.bundleType,version:dw.version,rendererPackageName:dw.rendererPackageName,rendererConfig:dw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Et(p),p===null?null:p.stateNode},findFiberByHostInstance:dw.findFiberByHostInstance||B_e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rk.isDisabled&&rk.supportsFiber)try{_t=rk.inject(j_e),Ue=rk}catch{}}return wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_e,wa.createPortal=function(p,w){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O5(w))throw Error(n(200));return P_e(p,w,null,C)},wa.createRoot=function(p,w){if(!O5(p))throw Error(n(299));var C=!1,L="",J=RF;return w!=null&&(w.unstable_strictMode===!0&&(C=!0),w.identifierPrefix!==void 0&&(L=w.identifierPrefix),w.onRecoverableError!==void 0&&(J=w.onRecoverableError)),w=A5(p,1,!1,null,null,C,!1,L,J),p[eu]=w.current,Hv(p.nodeType===8?p.parentNode:p),new T5(w)},wa.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var w=p._reactInternals;if(w===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=Et(w),p=p===null?null:p.stateNode,p},wa.flushSync=function(p){return wp(p)},wa.hydrate=function(p,w,C){if(!tk(w))throw Error(n(200));return nk(null,p,w,!0,C)},wa.hydrateRoot=function(p,w,C){if(!O5(p))throw Error(n(405));var L=C!=null&&C.hydratedSources||null,J=!1,Q="",ue=RF;if(C!=null&&(C.unstable_strictMode===!0&&(J=!0),C.identifierPrefix!==void 0&&(Q=C.identifierPrefix),C.onRecoverableError!==void 0&&(ue=C.onRecoverableError)),w=CF(w,null,p,1,C??null,J,!1,Q,ue),p[eu]=w.current,Hv(p),L)for(p=0;p<L.length;p++)C=L[p],J=C._getVersion,J=J(C._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[C,J]:w.mutableSourceEagerHydrationData.push(C,J);return new ek(w)},wa.render=function(p,w,C){if(!tk(w))throw Error(n(200));return nk(null,p,w,!1,C)},wa.unmountComponentAtNode=function(p){if(!tk(p))throw Error(n(40));return p._reactRootContainer?(wp(function(){nk(null,null,p,!1,function(){p._reactRootContainer=null,p[eu]=null})}),!0):!1},wa.unstable_batchedUpdates=x5,wa.unstable_renderSubtreeIntoContainer=function(p,w,C,L){if(!tk(C))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return nk(p,w,C,!1,L)},wa.version="18.3.1-next-f1338f8080-20240426",wa}var FF;function Kie(){if(FF)return D5.exports;FF=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),D5.exports=G_e(),D5.exports}var WF;function J_e(){if(WF)return ok;WF=1;var e=Kie();return ok.createRoot=e.createRoot,ok.hydrateRoot=e.hydrateRoot,ok}var Z_e=J_e();function qF(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}var $5={exports:{}},zF;function Y_e(){return zF||(zF=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})($5)),$5.exports}var X_e=Y_e();const Q_e=Rr(X_e),cO=(e,t)=>{if(typeof e!="object"||typeof t!="object")return t;const n=Object.assign({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]=="object"?n[r]=cO(e[r],t[r]):n[r]=t[r]);return n};class HI{constructor(t={}){this.meta={},this.meta=t}set(t,n){const r={};t.split(".").reduce((i,o,s,a)=>{if(s===a.length-1)i[o]=n;else return i[o]||(i[o]={}),i[o]},r),this.meta=cO(this.meta,r)}get(){return this.meta}clear(){this.meta={}}merge(t){return new HI(cO(this.get(),t.get()))}}var Wi;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.MUTE=99]="MUTE"})(Wi||(Wi={}));const exe=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},VF=e=>{if(e in Wi&&typeof e=="string")return Wi[e];if(e in Wi&&typeof e=="number")return e;throw new Error(`Invalid log level: ${e}`)},txe=e=>{const t=e.args.filter(r=>typeof r=="object"),n=e.args.filter(r=>typeof r!="object"||r instanceof Error).map(r=>{var i;return(i=r==null?void 0:r.toString)===null||i===void 0?void 0:i.call(r)});return{objectArgs:t,remainingArgs:n}},nxe=e=>{const t={};if(Error.captureStackTrace)return Error.captureStackTrace(t,e),t.stack;const{stack:n}=new Error;return n&&e?n.split(`
`).slice(2).join(`
`):n};var rxe={};const Hie=Symbol.for("__DYNAMIC_LOGGER_GLOBAL_STATE__"),Ws=globalThis[Hie]||{events:new Q_e,keys:{emitErrors:!0},logLevel:void 0,metaData:new HI,troubleshootModeEnabled:!1};globalThis[Hie]=Ws;const ixe=["Failed to send logs to server"],sk=[];let gi=class Op{static get troubleshootModeEnabled(){return Ws.troubleshootModeEnabled}static set troubleshootModeEnabled(t){Ws.troubleshootModeEnabled=t}constructor(t,n){this.name=t,this._level=void 0,this.metaData=new HI,this._level=n,typeof window<"u"&&window.localStorage!==void 0&&(Op.troubleshootModeEnabled=Op.troubleshootModeEnabled||window.localStorage.getItem("dynamic_enableTroubleshootMode")==="true",window.enableTroubleshootMode=()=>{window.localStorage.setItem("dynamic_enableTroubleshootMode","true"),Op.troubleshootModeEnabled=!0},window.disableTroubleshootMode=()=>{window.localStorage.removeItem("dynamic_enableTroubleshootMode"),Op.troubleshootModeEnabled=!1})}static setEmitErrors(t){t!==void 0&&(Ws.keys.emitErrors=t)}static setEnvironmentId(t){t!==void 0&&(Ws.keys.environmentId=t)}getNameArray(t){return Array.isArray(t)?t:[t]}createLogger(t,n){return new Op([...this.getNameArray(this.name),...this.getNameArray(t)],n??this.level)}get logLevel(){return Wi[this.level]}setLogLevel(t){this._level=VF(t)}static setLogLevel(t){Ws.logLevel=VF(t)}static resetLogLevel(){Ws.logLevel=void 0}get level(){var t;return Ws.logLevel&&!this._level?Ws.logLevel:this._level===void 0&&typeof process<"u"&&((t=rxe)===null||t===void 0?void 0:t.NODE_ENV)!=="production"?Wi.DEBUG:this._level===void 0?Wi.WARN:this._level}formatMessage(t,n){var r;return n instanceof Error||n instanceof Object&&Object.prototype.hasOwnProperty.call(n,"stack")?n=n.stack:n instanceof Object&&(n=JSON.stringify(n,exe())),`${(Array.isArray(this.name)?this.name:[this.name]).map(o=>`[${o}]`).join("")} [${(r=Wi[t])!==null&&r!==void 0?r:"TROUBLESHOOTING"}]: ${n}`}captureAndSend(t,n,...r){return qF(this,void 0,void 0,function*(){Ws.keys.emitErrors&&!ixe.includes(n==null?void 0:n.toString())&&typeof window<"u"&&this.emitHttpLogs(t,n,{args:r})})}emitHttpLogs(t,n,{args:r=[],transformMeta:i=o=>o}){const o=nxe(this.emitHttpLogs);sk.push({args:r,level:t,message:n,stack:o}),sk.length===1&&queueMicrotask(()=>qF(this,void 0,void 0,function*(){const s=sk.splice(0,sk.length),a=[];s.forEach(l=>{var c,d,u,h,m,v;const g={},{objectArgs:y,remainingArgs:b}=txe(l);Object.assign(g,...y),Object.assign(g,{level:Wi[l.level],message:[l.message,...b].join(" "),meta:i(Ws.metaData.merge(this.metaData).get()),stack:l.stack,url:{hostname:(c=window.location)===null||c===void 0?void 0:c.hostname,origin:(d=window.location)===null||d===void 0?void 0:d.origin,pathname:(u=window.location)===null||u===void 0?void 0:u.pathname,port:(h=window.location)===null||h===void 0?void 0:h.port,protocol:(m=window.location)===null||m===void 0?void 0:m.protocol},userAgent:(v=window.navigator)===null||v===void 0?void 0:v.userAgent}),a.push(g)});try{if(!Ws.keys.environmentId)throw new Error("Environment ID not set");yield fetch(`https://logs.dynamicauth.com/api/v1/${Ws.keys.environmentId}`,{body:JSON.stringify(a),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",referrerPolicy:"origin-when-cross-origin"})}catch(l){this.debug("Failed to send logs to server",l)}}))}instrument(t,n){return this.emitHttpLogs(Wi.INFO,t,{args:[n],transformMeta:()=>{}})}log(t,n,...r){if(!(typeof window<"u"&&Op.troubleshootModeEnabled)&&(t<this.level||t===Wi.MUTE))return;Ws.events.emit("log",t,n,...r);const o=this.formatMessage(t,n);switch(t){case Wi.WARN:console.warn(o,...r);break;case Wi.ERROR:console.error(o,...r);break;default:console.log(o,...r)}t===Wi.ERROR&&this.captureAndSend(t,n,...r)}logVerboseTroubleshootingMessage(t,...n){this.log(-1,t,...n)}debug(t,...n){this.log(Wi.DEBUG,t,...n)}info(t,...n){this.log(Wi.INFO,t,...n)}warn(t,...n){this.log(Wi.WARN,t,...n)}error(t,...n){this.log(Wi.ERROR,t,...n)}};gi.globalMetaData=Ws.metaData;gi.events=Ws.events;let k2={};const oxe=new gi("@dynamic-labs/assert-package-version");let hw=null;const Oo=(e,t)=>{k2[e]=t,hw&&(clearTimeout(hw),hw=null),hw=setTimeout(()=>{const r=Object.values(k2),[i]=r;if(!r.every(s=>s===i)){const s=k2["@dynamic-labs/sdk-react-core"]||i,a=sxe(s);oxe.error(new Error(a))}hw=null},100)},sxe=e=>`
 Version Mismatch Error

One or more \`@dynamic-labs\` packages are installed with mismatched versions. All \`@dynamic-labs\` packages must be on the same version to work correctly.

Affected Packages:
${Object.entries(k2).filter(([,r])=>r!==e).map(([r,i])=>`- \`${r}\` (installed: **${i}**, required: **${e}**)`).join(`
`)}

 To fix this issue, update all @dynamic-labs/* packages to version \`${e}\` in your package.json
 Tip: You can use the \`npx dynamic-doctor run\` command to check for other issues with your project setup.
`.trim();var axe="4.57.1";typeof window<"u"&&(window.global=globalThis,!window.Buffer&&typeof window.Buffer>"u"&&Object.assign(window,{Buffer:Te.Buffer}));const Oh=e=>{const t=Array.prototype.map.call(e,n=>String.fromCharCode(n)).join("");return Buffer.from(t,"binary").toString("base64")},Lu=new gi("utils"),Gie=(e,t=0)=>{const n=Math.pow(10,t);return Math.ceil(e*n)/n};class Um{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}class h0 extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n,Object.setPrototypeOf(this,this.constructor.prototype)}toJSON(){return{code:this.code,error:this.message}}}class Se extends h0{}class lS extends Se{}class H1 extends Se{constructor(t,n){super(t),this.errorMessage=t,this.errorPayload=n}}class Jie extends Se{constructor(t){super("This address is not approved for access"),this.walletPublicKey=t}}class fD extends Se{constructor(){super("Custom Field for user must be unique within the environment","custom_field_data_not_unique")}}class hD extends Se{constructor(){super("Email already exists")}}class GI extends Se{constructor(t,n){super(t,n)}}class Zie extends Se{constructor(t){super(t)}}class Yie extends Se{constructor(t){super("EmbeddedWalletExistsError",t)}}var qs;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DEFAULT=1]="DEFAULT",e[e.USER_REJECTED=2]="USER_REJECTED",e[e.MESSAGE_SIGNATURE_DENIED=3]="MESSAGE_SIGNATURE_DENIED",e[e.WALLET_LOCKED=4]="WALLET_LOCKED",e[e.INVALID_PARAMETERS=5]="INVALID_PARAMETERS",e[e.INTERNAL_ERROR=6]="INTERNAL_ERROR",e[e.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE=7]="ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE",e[e.CONNECTION_REJECTED=8]="CONNECTION_REJECTED",e[e.MISSING_PUBLIC_ADDRESS=9]="MISSING_PUBLIC_ADDRESS",e[e.CONNECTION_PROPOSAL_EXPIRED=10]="CONNECTION_PROPOSAL_EXPIRED",e[e.SEI_NOT_ENABLED_IN_KEPLR_WALLET=11]="SEI_NOT_ENABLED_IN_KEPLR_WALLET"})(qs||(qs={}));class pD extends Se{constructor(t){super("This address is blocked by the gate"),this.walletPublicKey=t}}class KF extends h0{constructor(){super("Get address call was cancelled")}}class qb extends Se{constructor(){super(qb.message)}static isInstance(t){var n;return(((n=t==null?void 0:t.walk)===null||n===void 0?void 0:n.call(t))||t)instanceof qb}static isErrorMessage(t){var n;const r=t;return((n=r==null?void 0:r.message)===null||n===void 0?void 0:n.includes("AA21 didn't pay prefund"))||!1}}qb.message="Insufficient funds.";class Xie extends Se{constructor(t){super(t??"Invalid embedded wallet session key.")}}class mD extends Se{constructor(t){super(t??"Invalid phone number.")}}class Ld extends Se{constructor(t){super("Primary wallet is not properly set or the wallet connector is missing from DynamicContextProvider settings.",t)}}class Qie extends Se{constructor({code:t,mergeConflicts:n,walletAddress:r}){super("MergeAccountsConfirmationError",t),this.mergeConflicts=n,this.walletAddress=r}}qs.USER_REJECTED;class eoe extends Se{constructor(){super("You are missing the environmentId field in yours DynamicContextProvider settings prop")}}class dO extends Se{constructor(){super("Missing public address","missing-public-address")}}class tv extends Se{constructor({walletPublicKey:t,email:n,phoneNumber:r,socialProvider:i,socialUsername:o}){super("User does not have access"),this.email=n,this.walletPublicKey=t,this.phoneNumber=r,this.socialProvider=i,this.socialUsername=o}}class toe extends Se{}class lxe extends Se{}function ym(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function p0(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function gD(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i?i.value=n:t.set(e,n),n}class JI extends h0{constructor({message:t,cause:n,jsonData:r}){const i=`
    Message: ${t??"Unknown"}
    URL: ${n.url}
    Status: ${n.status}
    Status Text: ${n.statusText}
    Type: ${n.type}
    Redirect: ${n.redirected}

    Json data:${r?`
`+JSON.stringify(r,null,2):" No data"}
    `.trim();super(i),this.jsonData=r,this.response=n,this.cause=n}get json(){return this.jsonData}static fromResponse(t){return ym(this,arguments,void 0,function*({cause:n,message:r}){const i=yield n.json();return new JI({cause:n,jsonData:i,message:r})})}}let Ud=class extends Se{constructor(t){super(t),this.errorMessage=t}};class m0 extends Se{}class noe extends Se{constructor(){super("Social account already exists")}}class yD extends Se{constructor(){super("Too many email verification attempts.")}}class vm extends Se{constructor(){super(vm.message)}static isInstance(t){var n;return(((n=t==null?void 0:t.walk)===null||n===void 0?void 0:n.call(t))||t)instanceof vm}static isErrorMessage(t){var n;const r=t;return((n=r==null?void 0:r.message)===null||n===void 0?void 0:n.includes("userOp did not match any gas sponsoring policies"))||!1}}vm.message="Transaction gas cannot be sponsored.";class roe extends Se{constructor(t){super(t),this.error=t}}class vD extends Se{constructor(){super("Username already exists")}}class ioe extends Se{constructor(){super("User rejected request","user_rejected_request")}}class ooe extends Se{constructor(){super("user rejected transaction")}}class HF extends Se{constructor(t){super("Failed to get verification data: "+t)}}class cxe extends Se{constructor(t,{activeAddress:n,expectedAddress:r,walletName:i}){super(t,"wallet_address_mismatch_error"),this.expectedAddress=r,this.activeAddress=n,this.walletName=i}}class dxe extends Se{constructor(){super("Wallet has not been deployed","wallet_not_deployed")}}class soe extends Se{constructor(t){super("WalletUsedError",t)}}const uxe=(e,t="")=>{let n=e.length-1;for(;n>=0&&e[n]===t;)n--;return e.slice(0,n+1)},fxe=(e,{precision:t=0}={})=>{if(!t)return e;const n=parseFloat(e),r=Gie(n,t).toFixed(t),[i,o]=r.split("."),s=uxe(o,"0");return`${i}.${s||"0"}`},hxe=e=>{const t=e.split(".");let n=window;const r=[];for(const[i,o]of Object.entries(t)){if(n=n[o],typeof n!="object"||n===null)return[];Number(i)===t.length-1&&(Array.isArray(n)?n.forEach(s=>r.push(s)):n.providers?n.providers.forEach(s=>r.push(s)):r.push(n))}return r};function pxe(e,t){return e.endsWith(t)?e.length===t.length||e[e.length-t.length-1]===".":!1}function mxe(e,t){const n=e.length-t.length-2,r=e.lastIndexOf(".",n);return r===-1?e:e.slice(r+1)}function gxe(e,t,n){if(n.validHosts!==null){const i=n.validHosts;for(const o of i)if(pxe(t,o))return o}let r=0;if(t.startsWith("."))for(;r<t.length&&t[r]===".";)r+=1;return e.length===t.length-r?null:mxe(t,e)}function yxe(e,t){return e.slice(0,-t.length-1)}function GF(e,t){let n=0,r=e.length,i=!1;if(!t){if(e.startsWith("data:"))return null;for(;n<e.length&&e.charCodeAt(n)<=32;)n+=1;for(;r>n+1&&e.charCodeAt(r-1)<=32;)r-=1;if(e.charCodeAt(n)===47&&e.charCodeAt(n+1)===47)n+=2;else{const c=e.indexOf(":/",n);if(c!==-1){const d=c-n,u=e.charCodeAt(n),h=e.charCodeAt(n+1),m=e.charCodeAt(n+2),v=e.charCodeAt(n+3),g=e.charCodeAt(n+4);if(!(d===5&&u===104&&h===116&&m===116&&v===112&&g===115)){if(!(d===4&&u===104&&h===116&&m===116&&v===112)){if(!(d===3&&u===119&&h===115&&m===115)){if(!(d===2&&u===119&&h===115))for(let y=n;y<c;y+=1){const b=e.charCodeAt(y)|32;if(!(b>=97&&b<=122||b>=48&&b<=57||b===46||b===45||b===43))return null}}}}for(n=c+2;e.charCodeAt(n)===47;)n+=1}}let s=-1,a=-1,l=-1;for(let c=n;c<r;c+=1){const d=e.charCodeAt(c);if(d===35||d===47||d===63){r=c;break}else d===64?s=c:d===93?a=c:d===58?l=c:d>=65&&d<=90&&(i=!0)}if(s!==-1&&s>n&&s<r&&(n=s+1),e.charCodeAt(n)===91)return a!==-1?e.slice(n+1,a).toLowerCase():null;l!==-1&&l>n&&l<r&&(r=l)}for(;r>n+1&&e.charCodeAt(r-1)===46;)r-=1;const o=n!==0||r!==e.length?e.slice(n,r):e;return i?o.toLowerCase():o}function vxe(e){if(e.length<7||e.length>15)return!1;let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);if(r===46)t+=1;else if(r<48||r>57)return!1}return t===3&&e.charCodeAt(0)!==46&&e.charCodeAt(e.length-1)!==46}function wxe(e){if(e.length<3)return!1;let t=e.startsWith("[")?1:0,n=e.length;if(e[n-1]==="]"&&(n-=1),n-t>39)return!1;let r=!1;for(;t<n;t+=1){const i=e.charCodeAt(t);if(i===58)r=!0;else if(!(i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=90))return!1}return r}function bxe(e){return wxe(e)||vxe(e)}function JF(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function ZF(e){if(e.length>255||e.length===0||!JF(e.charCodeAt(0))&&e.charCodeAt(0)!==46&&e.charCodeAt(0)!==95)return!1;let t=-1,n=-1;const r=e.length;for(let i=0;i<r;i+=1){const o=e.charCodeAt(i);if(o===46){if(i-t>64||n===46||n===45||n===95)return!1;t=i}else if(!(JF(o)||o===45||o===95))return!1;n=o}return r-t-1<=63&&n!==45}function aoe({allowIcannDomains:e=!0,allowPrivateDomains:t=!1,detectIp:n=!0,extractHostname:r=!0,mixedInputs:i=!0,validHosts:o=null,validateHostname:s=!0}){return{allowIcannDomains:e,allowPrivateDomains:t,detectIp:n,extractHostname:r,mixedInputs:i,validHosts:o,validateHostname:s}}const _xe=aoe({});function xxe(e){return e===void 0?_xe:aoe(e)}function kxe(e,t){return t.length===e.length?"":e.slice(0,-t.length-1)}function Sxe(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function Ixe(e,t,n,r,i){const o=xxe(r);return typeof e!="string"||(o.extractHostname?o.mixedInputs?i.hostname=GF(e,ZF(e)):i.hostname=GF(e,!1):i.hostname=e,i.hostname===null)||o.detectIp&&(i.isIp=bxe(i.hostname),i.isIp)?i:o.validateHostname&&o.extractHostname&&!ZF(i.hostname)?(i.hostname=null,i):(n(i.hostname,o,i),i.publicSuffix===null||(i.domain=gxe(i.publicSuffix,i.hostname,o),i.domain===null)||(i.subdomain=kxe(i.hostname,i.domain),i.domainWithoutSuffix=yxe(i.domain,i.publicSuffix)),i)}function Exe(e,t,n){if(!t.allowPrivateDomains&&e.length>3){const r=e.length-1,i=e.charCodeAt(r),o=e.charCodeAt(r-1),s=e.charCodeAt(r-2),a=e.charCodeAt(r-3);if(i===109&&o===111&&s===99&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="com",!0;if(i===103&&o===114&&s===111&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="org",!0;if(i===117&&o===100&&s===101&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="edu",!0;if(i===118&&o===111&&s===103&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="gov",!0;if(i===116&&o===101&&s===110&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="net",!0;if(i===101&&o===100&&s===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="de",!0}return!1}const Cxe=(function(){const e=[1,{}],t=[0,{city:e}];return[0,{ck:[0,{www:e}],jp:[0,{kawasaki:t,kitakyushu:t,kobe:t,nagoya:t,sapporo:t,sendai:t,yokohama:t}]}]})(),Axe=(function(){const e=[1,{}],t=[2,{}],n=[1,{gov:e,com:e,org:e,net:e,edu:e}],r=[0,{"*":t}],i=[1,{blogspot:t}],o=[1,{gov:e}],s=[0,{"*":e}],a=[0,{cloud:t}],l=[1,{co:t}],c=[2,{nodes:t}],d=[0,{s3:t}],u=[0,{direct:t}],h=[2,{id:t}],m=[0,{"webview-assets":t}],v=[0,{vfs:t,"webview-assets":t}],g=[0,{"aws-cloud9":m,cloud9:v}],y=[0,{dualstack:d,"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],b=[0,{dualstack:d,s3:t,"s3-website":t,"aws-cloud9":m,cloud9:v}],k=[0,{dualstack:d,"aws-cloud9":m,cloud9:v}],_=[0,{apps:t}],R=[0,{paas:t}],I=[0,{app:t}],T=[2,{eu:t}],M=[0,{site:t}],D=[0,{pages:t}],A=[1,{com:e,edu:e,net:e,org:e}],U=[0,{j:t}],$=[0,{jelastic:t}],q=[0,{user:t}],z=[1,{ybo:t}],S=[0,{cust:t,reservd:t}],E=[0,{cust:t}],N=[1,{gov:e,edu:e,mil:e,com:e,org:e,net:e}],P=[1,{edu:e,biz:e,net:e,org:e,gov:e,info:e,com:e}],j=[1,{gov:e,blogspot:t}],V=[1,{framer:t}],K=[1,{barsy:t}],F=[0,{forgot:t}],O=[1,{gs:e}],W=[0,{nes:e}],G=[1,{k12:e,cc:e,lib:e}],Y=[1,{cc:e,lib:e}];return[0,{ac:[1,{com:e,edu:e,gov:e,net:e,mil:e,org:e,drr:t}],ad:[1,{nom:e}],ae:[1,{co:e,net:e,org:e,sch:e,ac:e,gov:e,mil:e,blogspot:t}],aero:[1,{"accident-investigation":e,"accident-prevention":e,aerobatic:e,aeroclub:e,aerodrome:e,agents:e,aircraft:e,airline:e,airport:e,"air-surveillance":e,airtraffic:e,"air-traffic-control":e,ambulance:e,amusement:e,association:e,author:e,ballooning:e,broker:e,caa:e,cargo:e,catering:e,certification:e,championship:e,charter:e,civilaviation:e,club:e,conference:e,consultant:e,consulting:e,control:e,council:e,crew:e,design:e,dgca:e,educator:e,emergency:e,engine:e,engineer:e,entertainment:e,equipment:e,exchange:e,express:e,federation:e,flight:e,fuel:e,gliding:e,government:e,groundhandling:e,group:e,hanggliding:e,homebuilt:e,insurance:e,journal:e,journalist:e,leasing:e,logistics:e,magazine:e,maintenance:e,media:e,microlight:e,modelling:e,navigation:e,parachuting:e,paragliding:e,"passenger-association":e,pilot:e,press:e,production:e,recreation:e,repbody:e,res:e,research:e,rotorcraft:e,safety:e,scientist:e,services:e,show:e,skydiving:e,software:e,student:e,trader:e,trading:e,trainer:e,union:e,workinggroup:e,works:e}],af:n,ag:[1,{com:e,org:e,net:e,co:e,nom:e}],ai:[1,{off:e,com:e,net:e,org:e,uwu:t}],al:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,blogspot:t}],am:[1,{co:e,com:e,commune:e,net:e,org:e,radio:t,blogspot:t,neko:t,nyaa:t}],ao:[1,{ed:e,gv:e,og:e,co:e,pb:e,it:e}],aq:e,ar:[1,{bet:e,com:i,coop:e,edu:e,gob:e,gov:e,int:e,mil:e,musica:e,mutual:e,net:e,org:e,senasa:e,tur:e}],arpa:[1,{e164:e,"in-addr":e,ip6:e,iris:e,uri:e,urn:e}],as:o,asia:[1,{cloudns:t}],at:[1,{ac:[1,{sth:e}],co:i,gv:e,or:e,funkfeuer:[0,{wien:t}],futurecms:[0,{"*":t,ex:r,in:r}],futurehosting:t,futuremailing:t,ortsinfo:[0,{ex:r,kunden:r}],biz:t,info:t,"123webseite":t,priv:t,myspreadshop:t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],au:[1,{com:[1,{blogspot:t,cloudlets:[0,{mel:t}],myspreadshop:t}],net:e,org:e,edu:[1,{act:e,catholic:e,nsw:[1,{schools:e}],nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],gov:[1,{qld:e,sa:e,tas:e,vic:e,wa:e}],asn:e,id:e,info:e,conf:e,oz:e,act:e,nsw:e,nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],aw:[1,{com:e}],ax:[1,{be:t,cat:t,es:t,eu:t,gg:t,mc:t,us:t,xy:t}],az:[1,{com:e,net:e,int:e,gov:e,org:e,edu:e,info:e,pp:e,mil:e,name:e,pro:e,biz:e}],ba:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,rs:t,blogspot:t}],bb:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,net:e,org:e,store:e,tv:e}],bd:s,be:[1,{ac:e,webhosting:t,blogspot:t,interhostsolutions:a,kuleuven:[0,{ezproxy:t}],"123website":t,myspreadshop:t,transurl:r}],bf:o,bg:[1,{0:e,1:e,2:e,3:e,4:e,5:e,6:e,7:e,8:e,9:e,a:e,b:e,c:e,d:e,e,f:e,g:e,h:e,i:e,j:e,k:e,l:e,m:e,n:e,o:e,p:e,q:e,r:e,s:e,t:e,u:e,v:e,w:e,x:e,y:e,z:e,blogspot:t,barsy:t}],bh:n,bi:[1,{co:e,com:e,edu:e,or:e,org:e}],biz:[1,{activetrail:t,cloudns:t,jozi:t,dyndns:t,"for-better":t,"for-more":t,"for-some":t,"for-the":t,selfip:t,webhop:t,orx:t,mmafan:t,myftp:t,"no-ip":t,dscloud:t}],bj:[1,{africa:e,agro:e,architectes:e,assur:e,avocats:e,co:e,com:e,eco:e,econo:e,edu:e,info:e,loisirs:e,money:e,net:e,org:e,ote:e,resto:e,restaurant:e,tourism:e,univ:e,blogspot:t}],bm:n,bn:[1,{com:e,edu:e,gov:e,net:e,org:e,co:t}],bo:[1,{com:e,edu:e,gob:e,int:e,org:e,net:e,mil:e,tv:e,web:e,academia:e,agro:e,arte:e,blog:e,bolivia:e,ciencia:e,cooperativa:e,democracia:e,deporte:e,ecologia:e,economia:e,empresa:e,indigena:e,industria:e,info:e,medicina:e,movimiento:e,musica:e,natural:e,nombre:e,noticias:e,patria:e,politica:e,profesional:e,plurinacional:e,pueblo:e,revista:e,salud:e,tecnologia:e,tksat:e,transporte:e,wiki:e}],br:[1,{"9guacu":e,abc:e,adm:e,adv:e,agr:e,aju:e,am:e,anani:e,aparecida:e,app:e,arq:e,art:e,ato:e,b:e,barueri:e,belem:e,bhz:e,bib:e,bio:e,blog:e,bmd:e,boavista:e,bsb:e,campinagrande:e,campinas:e,caxias:e,cim:e,cng:e,cnt:e,com:[1,{blogspot:t,simplesite:t}],contagem:e,coop:e,coz:e,cri:e,cuiaba:e,curitiba:e,def:e,des:e,det:e,dev:e,ecn:e,eco:e,edu:e,emp:e,enf:e,eng:e,esp:e,etc:e,eti:e,far:e,feira:e,flog:e,floripa:e,fm:e,fnd:e,fortal:e,fot:e,foz:e,fst:e,g12:e,geo:e,ggf:e,goiania:e,gov:[1,{ac:e,al:e,am:e,ap:e,ba:e,ce:e,df:e,es:e,go:e,ma:e,mg:e,ms:e,mt:e,pa:e,pb:e,pe:e,pi:e,pr:e,rj:e,rn:e,ro:e,rr:e,rs:e,sc:e,se:e,sp:e,to:e}],gru:e,imb:e,ind:e,inf:e,jab:e,jampa:e,jdf:e,joinville:e,jor:e,jus:e,leg:[1,{ac:t,al:t,am:t,ap:t,ba:t,ce:t,df:t,es:t,go:t,ma:t,mg:t,ms:t,mt:t,pa:t,pb:t,pe:t,pi:t,pr:t,rj:t,rn:t,ro:t,rr:t,rs:t,sc:t,se:t,sp:t,to:t}],lel:e,log:e,londrina:e,macapa:e,maceio:e,manaus:e,maringa:e,mat:e,med:e,mil:e,morena:e,mp:e,mus:e,natal:e,net:e,niteroi:e,nom:s,not:e,ntr:e,odo:e,ong:e,org:e,osasco:e,palmas:e,poa:e,ppg:e,pro:e,psc:e,psi:e,pvh:e,qsl:e,radio:e,rec:e,recife:e,rep:e,ribeirao:e,rio:e,riobranco:e,riopreto:e,salvador:e,sampa:e,santamaria:e,santoandre:e,saobernardo:e,saogonca:e,seg:e,sjc:e,slg:e,slz:e,sorocaba:e,srv:e,taxi:e,tc:e,tec:e,teo:e,the:e,tmp:e,trd:e,tur:e,tv:e,udi:e,vet:e,vix:e,vlog:e,wiki:e,zlg:e}],bs:[1,{com:e,net:e,org:e,edu:e,gov:e,we:t}],bt:n,bv:e,bw:[1,{co:e,org:e}],by:[1,{gov:e,mil:e,com:i,of:e,mycloud:t,mediatech:t}],bz:[1,{com:e,net:e,org:e,edu:e,gov:e,za:t,gsj:t}],ca:[1,{ab:e,bc:e,mb:e,nb:e,nf:e,nl:e,ns:e,nt:e,nu:e,on:e,pe:e,qc:e,sk:e,yk:e,gc:e,barsy:t,awdev:r,co:t,blogspot:t,"no-ip":t,myspreadshop:t}],cat:e,cc:[1,{cloudns:t,ftpaccess:t,"game-server":t,myphotos:t,scrapping:t,twmail:t,csx:t,fantasyleague:t,spawn:[0,{instances:t}]}],cd:o,cf:i,cg:e,ch:[1,{square7:t,blogspot:t,flow:[0,{ae:[0,{alp1:t}],appengine:t}],"linkyard-cloud":t,dnsking:t,gotdns:t,"123website":t,myspreadshop:t,firenet:[0,{"*":t,svc:r}],"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],ci:[1,{org:e,or:e,com:e,co:e,edu:e,ed:e,ac:e,net:e,go:e,asso:e,"xn--aroport-bya":e,aroport:e,int:e,presse:e,md:e,gouv:e,fin:t,nl:t}],ck:s,cl:[1,{co:e,gob:e,gov:e,mil:e,blogspot:t}],cm:[1,{co:e,com:e,gov:e,net:e}],cn:[1,{ac:e,com:[1,{amazonaws:[0,{compute:r,"cn-north-1":d,eb:[0,{"cn-north-1":t,"cn-northwest-1":t}],elb:r}]}],edu:e,gov:e,net:e,org:e,mil:e,"xn--55qx5d":e,:e,"xn--io0a7i":e,:e,"xn--od0alg":e,:e,ah:e,bj:e,cq:e,fj:e,gd:e,gs:e,gz:e,gx:e,ha:e,hb:e,he:e,hi:e,hl:e,hn:e,jl:e,js:e,jx:e,ln:e,nm:e,nx:e,qh:e,sc:e,sd:e,sh:e,sn:e,sx:e,tj:e,xj:e,xz:e,yn:e,zj:e,hk:e,mo:e,tw:e,"canva-apps":t,instantcloud:t,quickconnect:u}],co:[1,{arts:e,com:i,edu:e,firm:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rec:e,web:e,carrd:t,crd:t,otap:r,leadpages:t,lpages:t,mypi:t,n4t:t,firewalledreplit:h,repl:h,supabase:t}],com:[1,{devcdnaccesso:r,adobeaemcloud:[2,{dev:r}],airkitapps:t,"airkitapps-au":t,aivencloud:t,kasserver:t,amazonaws:[0,{compute:r,"compute-1":r,"us-east-1":[2,{dualstack:d,"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],"ap-northeast-1":y,"ap-northeast-2":b,"ap-south-1":b,"ap-southeast-1":k,"ap-southeast-2":k,"ca-central-1":b,"eu-central-1":b,"eu-west-1":y,"eu-west-2":b,"eu-west-3":b,s3:t,"s3-ap-northeast-1":t,"s3-ap-northeast-2":t,"s3-ap-south-1":t,"s3-ap-southeast-1":t,"s3-ap-southeast-2":t,"s3-ca-central-1":t,"s3-eu-central-1":t,"s3-eu-west-1":t,"s3-eu-west-2":t,"s3-eu-west-3":t,"s3-external-1":t,"s3-fips-us-gov-west-1":t,"s3-sa-east-1":t,"s3-us-east-2":t,"s3-us-gov-west-1":t,"s3-us-west-1":t,"s3-us-west-2":t,"s3-website-ap-northeast-1":t,"s3-website-ap-southeast-1":t,"s3-website-ap-southeast-2":t,"s3-website-eu-west-1":t,"s3-website-sa-east-1":t,"s3-website-us-east-1":t,"s3-website-us-west-1":t,"s3-website-us-west-2":t,"sa-east-1":k,"us-east-2":[0,{dualstack:d,s3:t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],"us-west-2":[0,{"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],"af-south-1":g,"ap-east-1":g,"ap-northeast-3":g,"eu-north-1":g,"eu-south-1":g,"me-south-1":g,"us-west-1":g,elb:r}],elasticbeanstalk:[2,{"ap-northeast-1":t,"ap-northeast-2":t,"ap-northeast-3":t,"ap-south-1":t,"ap-southeast-1":t,"ap-southeast-2":t,"ca-central-1":t,"eu-central-1":t,"eu-west-1":t,"eu-west-2":t,"eu-west-3":t,"sa-east-1":t,"us-east-1":t,"us-east-2":t,"us-gov-west-1":t,"us-west-1":t,"us-west-2":t}],awsglobalaccelerator:t,siiites:t,appspacehosted:t,appspaceusercontent:t,"on-aptible":t,myasustor:t,"balena-devices":t,betainabox:t,boutir:t,bplaced:t,cafjs:t,"canva-apps":t,br:t,cn:t,de:t,eu:t,jpn:t,mex:t,ru:t,sa:t,uk:t,us:t,za:t,ar:t,hu:t,kr:t,no:t,qc:t,uy:t,africa:t,gr:t,co:t,jdevcloud:t,wpdevcloud:t,cloudcontrolled:t,cloudcontrolapp:t,"cf-ipfs":t,"cloudflare-ipfs":t,trycloudflare:t,"customer-oci":[0,{"*":t,oci:r,ocp:r,ocs:r}],dattolocal:t,dattorelay:t,dattoweb:t,mydatto:t,builtwithdark:t,datadetect:[0,{demo:t,instance:t}],ddns5:t,discordsays:t,discordsez:t,drayddns:t,dreamhosters:t,mydrobo:t,"dyndns-at-home":t,"dyndns-at-work":t,"dyndns-blog":t,"dyndns-free":t,"dyndns-home":t,"dyndns-ip":t,"dyndns-mail":t,"dyndns-office":t,"dyndns-pics":t,"dyndns-remote":t,"dyndns-server":t,"dyndns-web":t,"dyndns-wiki":t,"dyndns-work":t,blogdns:t,cechire:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,"dyn-o-saur":t,dynalias:t,"est-a-la-maison":t,"est-a-la-masion":t,"est-le-patron":t,"est-mon-blogueur":t,"from-ak":t,"from-al":t,"from-ar":t,"from-ca":t,"from-ct":t,"from-dc":t,"from-de":t,"from-fl":t,"from-ga":t,"from-hi":t,"from-ia":t,"from-id":t,"from-il":t,"from-in":t,"from-ks":t,"from-ky":t,"from-ma":t,"from-md":t,"from-mi":t,"from-mn":t,"from-mo":t,"from-ms":t,"from-mt":t,"from-nc":t,"from-nd":t,"from-ne":t,"from-nh":t,"from-nj":t,"from-nm":t,"from-nv":t,"from-oh":t,"from-ok":t,"from-or":t,"from-pa":t,"from-pr":t,"from-ri":t,"from-sc":t,"from-sd":t,"from-tn":t,"from-tx":t,"from-ut":t,"from-va":t,"from-vt":t,"from-wa":t,"from-wi":t,"from-wv":t,"from-wy":t,getmyip:t,gotdns:t,"hobby-site":t,homelinux:t,homeunix:t,iamallama:t,"is-a-anarchist":t,"is-a-blogger":t,"is-a-bookkeeper":t,"is-a-bulls-fan":t,"is-a-caterer":t,"is-a-chef":t,"is-a-conservative":t,"is-a-cpa":t,"is-a-cubicle-slave":t,"is-a-democrat":t,"is-a-designer":t,"is-a-doctor":t,"is-a-financialadvisor":t,"is-a-geek":t,"is-a-green":t,"is-a-guru":t,"is-a-hard-worker":t,"is-a-hunter":t,"is-a-landscaper":t,"is-a-lawyer":t,"is-a-liberal":t,"is-a-libertarian":t,"is-a-llama":t,"is-a-musician":t,"is-a-nascarfan":t,"is-a-nurse":t,"is-a-painter":t,"is-a-personaltrainer":t,"is-a-photographer":t,"is-a-player":t,"is-a-republican":t,"is-a-rockstar":t,"is-a-socialist":t,"is-a-student":t,"is-a-teacher":t,"is-a-techie":t,"is-a-therapist":t,"is-an-accountant":t,"is-an-actor":t,"is-an-actress":t,"is-an-anarchist":t,"is-an-artist":t,"is-an-engineer":t,"is-an-entertainer":t,"is-certified":t,"is-gone":t,"is-into-anime":t,"is-into-cars":t,"is-into-cartoons":t,"is-into-games":t,"is-leet":t,"is-not-certified":t,"is-slick":t,"is-uberleet":t,"is-with-theband":t,"isa-geek":t,"isa-hockeynut":t,issmarterthanyou:t,"likes-pie":t,likescandy:t,"neat-url":t,"saves-the-whales":t,selfip:t,"sells-for-less":t,"sells-for-u":t,servebbs:t,"simple-url":t,"space-to-rent":t,"teaches-yoga":t,writesthisblog:t,digitaloceanspaces:r,ddnsfree:t,ddnsgeek:t,giize:t,gleeze:t,kozow:t,loseyourip:t,ooguy:t,theworkpc:t,mytuleap:t,"tuleap-partners":t,encoreapi:t,evennode:[0,{"eu-1":t,"eu-2":t,"eu-3":t,"eu-4":t,"us-1":t,"us-2":t,"us-3":t,"us-4":t}],onfabrica:t,fbsbx:_,"fastly-edge":t,"fastly-terrarium":t,"fastvps-server":t,mydobiss:t,firebaseapp:t,fldrv:t,forgeblocks:t,framercanvas:t,"freebox-os":t,freeboxos:t,freemyip:t,gentapps:t,gentlentapis:t,githubusercontent:t,"0emm":r,appspot:[2,{r}],codespot:t,googleapis:t,googlecode:t,pagespeedmobilizer:t,publishproxy:t,withgoogle:t,withyoutube:t,blogspot:t,awsmppl:t,herokuapp:t,herokussl:t,impertrixcdn:t,impertrix:t,smushcdn:t,wphostedmail:t,wpmucdn:t,pixolino:t,amscompute:t,dopaas:t,"hosted-by-previder":R,hosteur:[0,{"rag-cloud":t,"rag-cloud-ch":t}],"ik-server":[0,{jcloud:t,"jcloud-ver-jpc":t}],jelastic:[0,{demo:t}],kilatiron:t,massivegrid:R,wafaicloud:[0,{jed:t,lon:t,ryd:t}],joyent:[0,{cns:r}],ktistory:t,lpusercontent:t,lmpm:I,linode:[0,{members:t,nodebalancer:r}],linodeobjects:r,linodeusercontent:[0,{ip:t}],barsycenter:t,barsyonline:t,mazeplay:t,miniserver:t,meteorapp:T,hostedpi:t,"mythic-beasts":[0,{customer:t,caracal:t,fentiger:t,lynx:t,ocelot:t,oncilla:t,onza:t,sphinx:t,vs:t,x:t,yali:t}],nospamproxy:a,"4u":t,nfshost:t,"001www":t,ddnslive:t,myiphost:t,blogsyte:t,ciscofreak:t,damnserver:t,ditchyourip:t,dnsiskinky:t,dynns:t,geekgalaxy:t,"health-carereform":t,homesecuritymac:t,homesecuritypc:t,myactivedirectory:t,mysecuritycamera:t,"net-freaks":t,onthewifi:t,point2this:t,quicksytes:t,securitytactics:t,serveexchange:t,servehumour:t,servep2p:t,servesarcasm:t,stufftoread:t,unusualperson:t,workisboring:t,"3utilities":t,ddnsking:t,myvnc:t,servebeer:t,servecounterstrike:t,serveftp:t,servegame:t,servehalflife:t,servehttp:t,serveirc:t,servemp3:t,servepics:t,servequake:t,observableusercontent:[0,{static:t}],simplesite:t,orsites:t,operaunite:t,"authgear-staging":t,authgearapps:t,skygearapp:t,outsystemscloud:t,ownprovider:t,pgfog:t,pagefrontapp:t,pagexl:t,paywhirl:r,gotpantheon:t,"platter-app":t,pleskns:t,"postman-echo":t,prgmr:[0,{xen:t}],pythonanywhere:T,qualifioapp:t,ladesk:t,qbuser:t,qa2:t,"dev-myqnapcloud":t,"alpha-myqnapcloud":t,myqnapcloud:t,quipelements:r,rackmaze:t,rhcloud:t,render:I,onrender:t,"180r":t,dojin:t,sakuratan:t,sakuraweb:t,x0:t,code:[0,{builder:r,"dev-builder":r,"stg-builder":r}],logoip:t,scrysec:t,"firewall-gateway":t,myshopblocks:t,myshopify:t,shopitsite:t,"1kapp":t,appchizi:t,applinzi:t,sinaapp:t,vipsinaapp:t,"bounty-full":[2,{alpha:t,beta:t}],streamlitapp:t,"try-snowplow":t,"stackhero-network":t,"playstation-cloud":t,myspreadshop:t,stdlib:[0,{api:t}],"temp-dns":t,dsmynas:t,familyds:t,mytabit:t,"tb-hosting":M,reservd:t,thingdustdata:t,bloxcms:t,"townnews-staging":t,typeform:[0,{pro:t}],hk:t,it:t,vultrobjects:r,wafflecell:t,"reserve-online":t,hotelwithflight:t,remotewd:t,wiardweb:D,messwithdns:t,"woltlab-demo":t,wpenginepowered:[2,{js:t}],wixsite:t,xnbay:[2,{u2:t,"u2-local":t}],yolasite:t}],coop:e,cr:[1,{ac:e,co:e,ed:e,fi:e,go:e,or:e,sa:e}],cu:[1,{com:e,edu:e,org:e,net:e,gov:e,inf:e}],cv:[1,{com:e,edu:e,int:e,nome:e,org:e,blogspot:t}],cw:A,cx:[1,{gov:e,ath:t,info:t}],cy:[1,{ac:e,biz:e,com:[1,{blogspot:t,scaleforce:U}],ekloges:e,gov:e,ltd:e,mil:e,net:e,org:e,press:e,pro:e,tm:e}],cz:[1,{co:t,realm:t,e4:t,blogspot:t,metacentrum:[0,{cloud:r,custom:t}],muni:[0,{cloud:[0,{flt:t,usr:t}]}]}],de:[1,{bplaced:t,square7:t,com:t,cosidns:[0,{dyn:t}],"dynamisches-dns":t,dnsupdater:t,"internet-dns":t,"l-o-g-i-n":t,dnshome:t,fuettertdasnetz:t,isteingeek:t,istmein:t,lebtimnetz:t,leitungsen:t,traeumtgerade:t,ddnss:[2,{dyn:t,dyndns:t}],dyndns1:t,"dyn-ip24":t,"home-webserver":[2,{dyn:t}],"myhome-server":t,frusky:r,goip:t,blogspot:t,"xn--gnstigbestellen-zvb":t,gnstigbestellen:t,"xn--gnstigliefern-wob":t,gnstigliefern:t,"hs-heilbronn":[0,{it:D}],"dyn-berlin":t,"in-berlin":t,"in-brb":t,"in-butter":t,"in-dsl":t,"in-vpn":t,iservschule:t,"mein-iserv":t,schulplattform:t,schulserver:t,"test-iserv":t,keymachine:t,"git-repos":t,"lcube-server":t,"svn-repos":t,barsy:t,"123webseite":t,logoip:t,"firewall-gateway":t,"my-gateway":t,"my-router":t,spdns:t,speedpartner:[0,{customer:t}],myspreadshop:t,"taifun-dns":t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t,"dd-dns":t,"dray-dns":t,draydns:t,"dyn-vpn":t,dynvpn:t,"mein-vigor":t,"my-vigor":t,"my-wan":t,"syno-ds":t,"synology-diskstation":t,"synology-ds":t,uberspace:r,virtualuser:t,"virtual-user":t,"community-pro":t,diskussionsbereich:t}],dj:e,dk:[1,{biz:t,co:t,firm:t,reg:t,store:t,blogspot:t,"123hjemmeside":t,myspreadshop:t}],dm:n,do:[1,{art:e,com:e,edu:e,gob:e,gov:e,mil:e,net:e,org:e,sld:e,web:e}],dz:[1,{art:e,asso:e,com:e,edu:e,gov:e,org:e,net:e,pol:e,soc:e,tm:e}],ec:[1,{com:e,info:e,net:e,fin:e,k12:e,med:e,pro:e,org:e,edu:e,gov:e,gob:e,mil:e,base:t,official:t}],edu:[1,{rit:[0,{"git-pages":t}]}],ee:[1,{edu:e,gov:e,riik:e,lib:e,med:e,com:i,pri:e,aip:e,org:e,fie:e}],eg:[1,{com:i,edu:e,eun:e,gov:e,mil:e,name:e,net:e,org:e,sci:e}],er:s,es:[1,{com:i,nom:e,org:e,gob:e,edu:e,"123miweb":t,myspreadshop:t}],et:[1,{com:e,gov:e,org:e,edu:e,biz:e,name:e,info:e,net:e}],eu:[1,{airkitapps:t,mycd:t,cloudns:t,dogado:$,barsy:t,wellbeingzone:t,spdns:t,transurl:r,diskstation:t}],fi:[1,{aland:e,dy:t,blogspot:t,"xn--hkkinen-5wa":t,hkkinen:t,iki:t,cloudplatform:[0,{fi:t}],datacenter:[0,{demo:t,paas:t}],kapsi:t,"123kotisivu":t,myspreadshop:t}],fj:[1,{ac:e,biz:e,com:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],fk:s,fm:[1,{com:e,edu:e,net:e,org:e,radio:t,user:r}],fo:e,fr:[1,{asso:e,com:e,gouv:e,nom:e,prd:e,tm:e,avoues:e,cci:e,greta:e,"huissier-justice":e,"en-root":t,"fbx-os":t,fbxos:t,"freebox-os":t,freeboxos:t,blogspot:t,goupile:t,"123siteweb":t,"on-web":t,"chirurgiens-dentistes-en-france":t,dedibox:t,aeroport:t,avocat:t,chambagri:t,"chirurgiens-dentistes":t,"experts-comptables":t,medecin:t,notaires:t,pharmacien:t,port:t,veterinaire:t,myspreadshop:t,ynh:t}],ga:e,gb:e,gd:[1,{edu:e,gov:e}],ge:[1,{com:e,edu:e,gov:e,org:e,mil:e,net:e,pvt:e}],gf:e,gg:[1,{co:e,net:e,org:e,kaas:t,cya:t,panel:[2,{daemon:t}]}],gh:[1,{com:e,edu:e,gov:e,org:e,mil:e}],gi:[1,{com:e,ltd:e,gov:e,mod:e,edu:e,org:e}],gl:[1,{co:e,com:e,edu:e,net:e,org:e,biz:t,xx:t}],gm:e,gn:[1,{ac:e,com:e,edu:e,gov:e,org:e,net:e}],gov:e,gp:[1,{com:e,net:e,mobi:e,edu:e,org:e,asso:e,app:t}],gq:e,gr:[1,{com:e,edu:e,net:e,org:e,gov:e,blogspot:t,simplesite:t}],gs:e,gt:[1,{com:e,edu:e,gob:e,ind:e,mil:e,net:e,org:e,blog:t,de:t,to:t}],gu:[1,{com:e,edu:e,gov:e,guam:e,info:e,net:e,org:e,web:e}],gw:e,gy:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,be:t}],hk:[1,{com:e,edu:e,gov:e,idv:e,net:e,org:e,"xn--55qx5d":e,:e,"xn--wcvs22d":e,:e,"xn--lcvr32d":e,:e,"xn--mxtq1m":e,:e,"xn--gmqw5a":e,:e,"xn--ciqpn":e,:e,"xn--gmq050i":e,:e,"xn--zf0avx":e,:e,"xn--io0a7i":e,:e,"xn--mk0axi":e,:e,"xn--od0alg":e,:e,"xn--od0aq3b":e,:e,"xn--tn0ag":e,:e,"xn--uc0atv":e,:e,"xn--uc0ay4a":e,:e,blogspot:t,secaas:t,ltd:t,inc:t}],hm:e,hn:[1,{com:e,edu:e,org:e,net:e,mil:e,gob:e,cc:t}],hr:[1,{iz:e,from:e,name:e,com:e,blogspot:t,free:t}],ht:[1,{com:e,shop:e,firm:e,info:e,adult:e,net:e,pro:e,org:e,med:e,art:e,coop:e,pol:e,asso:e,edu:e,rel:e,gouv:e,perso:e}],hu:[1,{2e3:e,co:e,info:e,org:e,priv:e,sport:e,tm:e,agrar:e,bolt:e,casino:e,city:e,erotica:e,erotika:e,film:e,forum:e,games:e,hotel:e,ingatlan:e,jogasz:e,konyvelo:e,lakas:e,media:e,news:e,reklam:e,sex:e,shop:e,suli:e,szex:e,tozsde:e,utazas:e,video:e,blogspot:t}],id:[1,{ac:e,biz:e,co:i,desa:e,go:e,mil:e,my:[1,{rss:r}],net:e,or:e,ponpes:e,sch:e,web:e,flap:t,forte:t}],ie:[1,{gov:e,blogspot:t,myspreadshop:t}],il:[1,{ac:e,co:[1,{ravpage:t,blogspot:t,tabitorder:t,mytabit:t}],gov:e,idf:e,k12:e,muni:e,net:e,org:e}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":e,"xn--5dbhl8d":e,"xn--8dbq2a":e,"xn--hebda8b":e}],:[1,{:e,:e,:e,:e}],im:[1,{ac:e,co:[1,{ltd:e,plc:e}],com:e,net:e,org:e,tt:e,tv:e,ro:t}],in:[1,{"5g":e,"6g":e,ac:e,ai:e,am:e,bihar:e,biz:e,business:e,ca:e,cn:e,co:e,com:e,coop:e,cs:e,delhi:e,dr:e,edu:e,er:e,firm:e,gen:e,gov:e,gujarat:e,ind:e,info:e,int:e,internet:e,io:e,me:e,mil:e,net:e,nic:e,org:e,pg:e,post:e,pro:e,res:e,travel:e,tv:e,uk:e,up:e,us:e,web:t,cloudns:t,blogspot:t,barsy:t,supabase:t}],info:[1,{cloudns:t,"dynamic-dns":t,dyndns:t,"barrel-of-knowledge":t,"barrell-of-knowledge":t,"for-our":t,"groks-the":t,"groks-this":t,"here-for-more":t,knowsitall:t,selfip:t,webhop:t,barsy:t,mayfirst:t,forumz:t,nsupdate:t,dvrcam:t,ilovecollege:t,"no-ip":t,dnsupdate:t,"v-info":t}],int:[1,{eu:e}],io:[1,{2038:t,com:e,"on-acorn":r,apigee:t,"b-data":t,backplaneapp:t,banzaicloud:[0,{app:t,backyards:r}],beagleboard:t,bitbucket:t,bluebite:t,boxfuse:t,browsersafetymark:t,bigv:[0,{uk0:t}],cleverapps:t,dappnode:[0,{dyndns:t}],dedyn:t,drud:t,definima:t,"fh-muenster":t,shw:t,forgerock:[0,{id:t}],ghost:t,github:t,gitlab:t,lolipop:t,"hasura-app":t,hostyhosting:t,moonscale:r,beebyte:R,beebyteapp:[0,{sekd1:t}],jele:t,unispace:[0,{"cloud-fr1":t}],webthings:t,loginline:t,barsy:t,azurecontainer:r,ngrok:[2,{ap:t,au:t,eu:t,in:t,jp:t,sa:t,us:t}],nodeart:[0,{stage:t}],nid:t,pantheonsite:t,dyn53:t,pstmn:[2,{mock:t}],protonet:t,qoto:t,qcx:[2,{sys:r}],vaporcloud:t,vbrplsbx:[0,{g:t}],"on-k3s":r,"on-rio":r,readthedocs:t,resindevice:t,resinstaging:[0,{devices:t}],hzc:t,sandcats:t,shiftcrypto:t,shiftedit:t,"mo-siemens":t,musician:t,lair:_,stolos:r,spacekit:t,utwente:t,s5y:r,edugit:t,telebit:t,thingdust:[0,{dev:S,disrec:S,prod:E,testing:S}],tickets:t,upli:t,wedeploy:t,editorx:t,wixstudio:t,basicserver:t,virtualserver:t}],iq:N,ir:[1,{ac:e,co:e,gov:e,id:e,net:e,org:e,sch:e,"xn--mgba3a4f16a":e,:e,"xn--mgba3a4fra":e,:e}],is:[1,{net:e,com:e,edu:e,gov:e,org:e,int:e,cupcake:t,blogspot:t}],it:[1,{gov:e,edu:e,abr:e,abruzzo:e,"aosta-valley":e,aostavalley:e,bas:e,basilicata:e,cal:e,calabria:e,cam:e,campania:e,"emilia-romagna":e,emiliaromagna:e,emr:e,"friuli-v-giulia":e,"friuli-ve-giulia":e,"friuli-vegiulia":e,"friuli-venezia-giulia":e,"friuli-veneziagiulia":e,"friuli-vgiulia":e,"friuliv-giulia":e,"friulive-giulia":e,friulivegiulia:e,"friulivenezia-giulia":e,friuliveneziagiulia:e,friulivgiulia:e,fvg:e,laz:e,lazio:e,lig:e,liguria:e,lom:e,lombardia:e,lombardy:e,lucania:e,mar:e,marche:e,mol:e,molise:e,piedmont:e,piemonte:e,pmn:e,pug:e,puglia:e,sar:e,sardegna:e,sardinia:e,sic:e,sicilia:e,sicily:e,taa:e,tos:e,toscana:e,"trentin-sud-tirol":e,"xn--trentin-sd-tirol-rzb":e,"trentin-sd-tirol":e,"trentin-sudtirol":e,"xn--trentin-sdtirol-7vb":e,"trentin-sdtirol":e,"trentin-sued-tirol":e,"trentin-suedtirol":e,"trentino-a-adige":e,"trentino-aadige":e,"trentino-alto-adige":e,"trentino-altoadige":e,"trentino-s-tirol":e,"trentino-stirol":e,"trentino-sud-tirol":e,"xn--trentino-sd-tirol-c3b":e,"trentino-sd-tirol":e,"trentino-sudtirol":e,"xn--trentino-sdtirol-szb":e,"trentino-sdtirol":e,"trentino-sued-tirol":e,"trentino-suedtirol":e,trentino:e,"trentinoa-adige":e,trentinoaadige:e,"trentinoalto-adige":e,trentinoaltoadige:e,"trentinos-tirol":e,trentinostirol:e,"trentinosud-tirol":e,"xn--trentinosd-tirol-rzb":e,"trentinosd-tirol":e,trentinosudtirol:e,"xn--trentinosdtirol-7vb":e,trentinosdtirol:e,"trentinosued-tirol":e,trentinosuedtirol:e,"trentinsud-tirol":e,"xn--trentinsd-tirol-6vb":e,"trentinsd-tirol":e,trentinsudtirol:e,"xn--trentinsdtirol-nsb":e,trentinsdtirol:e,"trentinsued-tirol":e,trentinsuedtirol:e,tuscany:e,umb:e,umbria:e,"val-d-aosta":e,"val-daosta":e,"vald-aosta":e,valdaosta:e,"valle-aosta":e,"valle-d-aosta":e,"valle-daosta":e,valleaosta:e,"valled-aosta":e,valledaosta:e,"vallee-aoste":e,"xn--valle-aoste-ebb":e,"valle-aoste":e,"vallee-d-aoste":e,"xn--valle-d-aoste-ehb":e,"valle-d-aoste":e,valleeaoste:e,"xn--valleaoste-e7a":e,valleaoste:e,valleedaoste:e,"xn--valledaoste-ebb":e,valledaoste:e,vao:e,vda:e,ven:e,veneto:e,ag:e,agrigento:e,al:e,alessandria:e,"alto-adige":e,altoadige:e,an:e,ancona:e,"andria-barletta-trani":e,"andria-trani-barletta":e,andriabarlettatrani:e,andriatranibarletta:e,ao:e,aosta:e,aoste:e,ap:e,aq:e,aquila:e,ar:e,arezzo:e,"ascoli-piceno":e,ascolipiceno:e,asti:e,at:e,av:e,avellino:e,ba:e,"balsan-sudtirol":e,"xn--balsan-sdtirol-nsb":e,"balsan-sdtirol":e,"balsan-suedtirol":e,balsan:e,bari:e,"barletta-trani-andria":e,barlettatraniandria:e,belluno:e,benevento:e,bergamo:e,bg:e,bi:e,biella:e,bl:e,bn:e,bo:e,bologna:e,"bolzano-altoadige":e,bolzano:e,"bozen-sudtirol":e,"xn--bozen-sdtirol-2ob":e,"bozen-sdtirol":e,"bozen-suedtirol":e,bozen:e,br:e,brescia:e,brindisi:e,bs:e,bt:e,"bulsan-sudtirol":e,"xn--bulsan-sdtirol-nsb":e,"bulsan-sdtirol":e,"bulsan-suedtirol":e,bulsan:e,bz:e,ca:e,cagliari:e,caltanissetta:e,"campidano-medio":e,campidanomedio:e,campobasso:e,"carbonia-iglesias":e,carboniaiglesias:e,"carrara-massa":e,carraramassa:e,caserta:e,catania:e,catanzaro:e,cb:e,ce:e,"cesena-forli":e,"xn--cesena-forl-mcb":e,"cesena-forl":e,cesenaforli:e,"xn--cesenaforl-i8a":e,cesenaforl:e,ch:e,chieti:e,ci:e,cl:e,cn:e,co:e,como:e,cosenza:e,cr:e,cremona:e,crotone:e,cs:e,ct:e,cuneo:e,cz:e,"dell-ogliastra":e,dellogliastra:e,en:e,enna:e,fc:e,fe:e,fermo:e,ferrara:e,fg:e,fi:e,firenze:e,florence:e,fm:e,foggia:e,"forli-cesena":e,"xn--forl-cesena-fcb":e,"forl-cesena":e,forlicesena:e,"xn--forlcesena-c8a":e,forlcesena:e,fr:e,frosinone:e,ge:e,genoa:e,genova:e,go:e,gorizia:e,gr:e,grosseto:e,"iglesias-carbonia":e,iglesiascarbonia:e,im:e,imperia:e,is:e,isernia:e,kr:e,"la-spezia":e,laquila:e,laspezia:e,latina:e,lc:e,le:e,lecce:e,lecco:e,li:e,livorno:e,lo:e,lodi:e,lt:e,lu:e,lucca:e,macerata:e,mantova:e,"massa-carrara":e,massacarrara:e,matera:e,mb:e,mc:e,me:e,"medio-campidano":e,mediocampidano:e,messina:e,mi:e,milan:e,milano:e,mn:e,mo:e,modena:e,"monza-brianza":e,"monza-e-della-brianza":e,monza:e,monzabrianza:e,monzaebrianza:e,monzaedellabrianza:e,ms:e,mt:e,na:e,naples:e,napoli:e,no:e,novara:e,nu:e,nuoro:e,og:e,ogliastra:e,"olbia-tempio":e,olbiatempio:e,or:e,oristano:e,ot:e,pa:e,padova:e,padua:e,palermo:e,parma:e,pavia:e,pc:e,pd:e,pe:e,perugia:e,"pesaro-urbino":e,pesarourbino:e,pescara:e,pg:e,pi:e,piacenza:e,pisa:e,pistoia:e,pn:e,po:e,pordenone:e,potenza:e,pr:e,prato:e,pt:e,pu:e,pv:e,pz:e,ra:e,ragusa:e,ravenna:e,rc:e,re:e,"reggio-calabria":e,"reggio-emilia":e,reggiocalabria:e,reggioemilia:e,rg:e,ri:e,rieti:e,rimini:e,rm:e,rn:e,ro:e,roma:e,rome:e,rovigo:e,sa:e,salerno:e,sassari:e,savona:e,si:e,siena:e,siracusa:e,so:e,sondrio:e,sp:e,sr:e,ss:e,suedtirol:e,"xn--sdtirol-n2a":e,sdtirol:e,sv:e,ta:e,taranto:e,te:e,"tempio-olbia":e,tempioolbia:e,teramo:e,terni:e,tn:e,to:e,torino:e,tp:e,tr:e,"trani-andria-barletta":e,"trani-barletta-andria":e,traniandriabarletta:e,tranibarlettaandria:e,trapani:e,trento:e,treviso:e,trieste:e,ts:e,turin:e,tv:e,ud:e,udine:e,"urbino-pesaro":e,urbinopesaro:e,va:e,varese:e,vb:e,vc:e,ve:e,venezia:e,venice:e,verbania:e,vercelli:e,verona:e,vi:e,"vibo-valentia":e,vibovalentia:e,vicenza:e,viterbo:e,vr:e,vs:e,vt:e,vv:e,blogspot:t,ibxos:t,iliadboxos:t,neen:[0,{jc:t}],tim:[0,{open:[0,{jelastic:a}]}],"16-b":t,"32-b":t,"64-b":t,"123homepage":t,myspreadshop:t,syncloud:t}],je:[1,{co:e,net:e,org:e,of:t}],jm:s,jo:[1,{com:e,org:e,net:e,edu:e,sch:e,gov:e,mil:e,name:e}],jobs:e,jp:[1,{ac:e,ad:e,co:e,ed:e,go:e,gr:e,lg:e,ne:[1,{aseinet:q,gehirn:t,ivory:t,"mail-box":t,mints:t,mokuren:t,opal:t,sakura:t,sumomo:t,topaz:t}],or:e,aichi:[1,{aisai:e,ama:e,anjo:e,asuke:e,chiryu:e,chita:e,fuso:e,gamagori:e,handa:e,hazu:e,hekinan:e,higashiura:e,ichinomiya:e,inazawa:e,inuyama:e,isshiki:e,iwakura:e,kanie:e,kariya:e,kasugai:e,kira:e,kiyosu:e,komaki:e,konan:e,kota:e,mihama:e,miyoshi:e,nishio:e,nisshin:e,obu:e,oguchi:e,oharu:e,okazaki:e,owariasahi:e,seto:e,shikatsu:e,shinshiro:e,shitara:e,tahara:e,takahama:e,tobishima:e,toei:e,togo:e,tokai:e,tokoname:e,toyoake:e,toyohashi:e,toyokawa:e,toyone:e,toyota:e,tsushima:e,yatomi:e}],akita:[1,{akita:e,daisen:e,fujisato:e,gojome:e,hachirogata:e,happou:e,higashinaruse:e,honjo:e,honjyo:e,ikawa:e,kamikoani:e,kamioka:e,katagami:e,kazuno:e,kitaakita:e,kosaka:e,kyowa:e,misato:e,mitane:e,moriyoshi:e,nikaho:e,noshiro:e,odate:e,oga:e,ogata:e,semboku:e,yokote:e,yurihonjo:e}],aomori:[1,{aomori:e,gonohe:e,hachinohe:e,hashikami:e,hiranai:e,hirosaki:e,itayanagi:e,kuroishi:e,misawa:e,mutsu:e,nakadomari:e,noheji:e,oirase:e,owani:e,rokunohe:e,sannohe:e,shichinohe:e,shingo:e,takko:e,towada:e,tsugaru:e,tsuruta:e}],chiba:[1,{abiko:e,asahi:e,chonan:e,chosei:e,choshi:e,chuo:e,funabashi:e,futtsu:e,hanamigawa:e,ichihara:e,ichikawa:e,ichinomiya:e,inzai:e,isumi:e,kamagaya:e,kamogawa:e,kashiwa:e,katori:e,katsuura:e,kimitsu:e,kisarazu:e,kozaki:e,kujukuri:e,kyonan:e,matsudo:e,midori:e,mihama:e,minamiboso:e,mobara:e,mutsuzawa:e,nagara:e,nagareyama:e,narashino:e,narita:e,noda:e,oamishirasato:e,omigawa:e,onjuku:e,otaki:e,sakae:e,sakura:e,shimofusa:e,shirako:e,shiroi:e,shisui:e,sodegaura:e,sosa:e,tako:e,tateyama:e,togane:e,tohnosho:e,tomisato:e,urayasu:e,yachimata:e,yachiyo:e,yokaichiba:e,yokoshibahikari:e,yotsukaido:e}],ehime:[1,{ainan:e,honai:e,ikata:e,imabari:e,iyo:e,kamijima:e,kihoku:e,kumakogen:e,masaki:e,matsuno:e,matsuyama:e,namikata:e,niihama:e,ozu:e,saijo:e,seiyo:e,shikokuchuo:e,tobe:e,toon:e,uchiko:e,uwajima:e,yawatahama:e}],fukui:[1,{echizen:e,eiheiji:e,fukui:e,ikeda:e,katsuyama:e,mihama:e,minamiechizen:e,obama:e,ohi:e,ono:e,sabae:e,sakai:e,takahama:e,tsuruga:e,wakasa:e}],fukuoka:[1,{ashiya:e,buzen:e,chikugo:e,chikuho:e,chikujo:e,chikushino:e,chikuzen:e,chuo:e,dazaifu:e,fukuchi:e,hakata:e,higashi:e,hirokawa:e,hisayama:e,iizuka:e,inatsuki:e,kaho:e,kasuga:e,kasuya:e,kawara:e,keisen:e,koga:e,kurate:e,kurogi:e,kurume:e,minami:e,miyako:e,miyama:e,miyawaka:e,mizumaki:e,munakata:e,nakagawa:e,nakama:e,nishi:e,nogata:e,ogori:e,okagaki:e,okawa:e,oki:e,omuta:e,onga:e,onojo:e,oto:e,saigawa:e,sasaguri:e,shingu:e,shinyoshitomi:e,shonai:e,soeda:e,sue:e,tachiarai:e,tagawa:e,takata:e,toho:e,toyotsu:e,tsuiki:e,ukiha:e,umi:e,usui:e,yamada:e,yame:e,yanagawa:e,yukuhashi:e}],fukushima:[1,{aizubange:e,aizumisato:e,aizuwakamatsu:e,asakawa:e,bandai:e,date:e,fukushima:e,furudono:e,futaba:e,hanawa:e,higashi:e,hirata:e,hirono:e,iitate:e,inawashiro:e,ishikawa:e,iwaki:e,izumizaki:e,kagamiishi:e,kaneyama:e,kawamata:e,kitakata:e,kitashiobara:e,koori:e,koriyama:e,kunimi:e,miharu:e,mishima:e,namie:e,nango:e,nishiaizu:e,nishigo:e,okuma:e,omotego:e,ono:e,otama:e,samegawa:e,shimogo:e,shirakawa:e,showa:e,soma:e,sukagawa:e,taishin:e,tamakawa:e,tanagura:e,tenei:e,yabuki:e,yamato:e,yamatsuri:e,yanaizu:e,yugawa:e}],gifu:[1,{anpachi:e,ena:e,gifu:e,ginan:e,godo:e,gujo:e,hashima:e,hichiso:e,hida:e,higashishirakawa:e,ibigawa:e,ikeda:e,kakamigahara:e,kani:e,kasahara:e,kasamatsu:e,kawaue:e,kitagata:e,mino:e,minokamo:e,mitake:e,mizunami:e,motosu:e,nakatsugawa:e,ogaki:e,sakahogi:e,seki:e,sekigahara:e,shirakawa:e,tajimi:e,takayama:e,tarui:e,toki:e,tomika:e,wanouchi:e,yamagata:e,yaotsu:e,yoro:e}],gunma:[1,{annaka:e,chiyoda:e,fujioka:e,higashiagatsuma:e,isesaki:e,itakura:e,kanna:e,kanra:e,katashina:e,kawaba:e,kiryu:e,kusatsu:e,maebashi:e,meiwa:e,midori:e,minakami:e,naganohara:e,nakanojo:e,nanmoku:e,numata:e,oizumi:e,ora:e,ota:e,shibukawa:e,shimonita:e,shinto:e,showa:e,takasaki:e,takayama:e,tamamura:e,tatebayashi:e,tomioka:e,tsukiyono:e,tsumagoi:e,ueno:e,yoshioka:e}],hiroshima:[1,{asaminami:e,daiwa:e,etajima:e,fuchu:e,fukuyama:e,hatsukaichi:e,higashihiroshima:e,hongo:e,jinsekikogen:e,kaita:e,kui:e,kumano:e,kure:e,mihara:e,miyoshi:e,naka:e,onomichi:e,osakikamijima:e,otake:e,saka:e,sera:e,seranishi:e,shinichi:e,shobara:e,takehara:e}],hokkaido:[1,{abashiri:e,abira:e,aibetsu:e,akabira:e,akkeshi:e,asahikawa:e,ashibetsu:e,ashoro:e,assabu:e,atsuma:e,bibai:e,biei:e,bifuka:e,bihoro:e,biratori:e,chippubetsu:e,chitose:e,date:e,ebetsu:e,embetsu:e,eniwa:e,erimo:e,esan:e,esashi:e,fukagawa:e,fukushima:e,furano:e,furubira:e,haboro:e,hakodate:e,hamatonbetsu:e,hidaka:e,higashikagura:e,higashikawa:e,hiroo:e,hokuryu:e,hokuto:e,honbetsu:e,horokanai:e,horonobe:e,ikeda:e,imakane:e,ishikari:e,iwamizawa:e,iwanai:e,kamifurano:e,kamikawa:e,kamishihoro:e,kamisunagawa:e,kamoenai:e,kayabe:e,kembuchi:e,kikonai:e,kimobetsu:e,kitahiroshima:e,kitami:e,kiyosato:e,koshimizu:e,kunneppu:e,kuriyama:e,kuromatsunai:e,kushiro:e,kutchan:e,kyowa:e,mashike:e,matsumae:e,mikasa:e,minamifurano:e,mombetsu:e,moseushi:e,mukawa:e,muroran:e,naie:e,nakagawa:e,nakasatsunai:e,nakatombetsu:e,nanae:e,nanporo:e,nayoro:e,nemuro:e,niikappu:e,niki:e,nishiokoppe:e,noboribetsu:e,numata:e,obihiro:e,obira:e,oketo:e,okoppe:e,otaru:e,otobe:e,otofuke:e,otoineppu:e,oumu:e,ozora:e,pippu:e,rankoshi:e,rebun:e,rikubetsu:e,rishiri:e,rishirifuji:e,saroma:e,sarufutsu:e,shakotan:e,shari:e,shibecha:e,shibetsu:e,shikabe:e,shikaoi:e,shimamaki:e,shimizu:e,shimokawa:e,shinshinotsu:e,shintoku:e,shiranuka:e,shiraoi:e,shiriuchi:e,sobetsu:e,sunagawa:e,taiki:e,takasu:e,takikawa:e,takinoue:e,teshikaga:e,tobetsu:e,tohma:e,tomakomai:e,tomari:e,toya:e,toyako:e,toyotomi:e,toyoura:e,tsubetsu:e,tsukigata:e,urakawa:e,urausu:e,uryu:e,utashinai:e,wakkanai:e,wassamu:e,yakumo:e,yoichi:e}],hyogo:[1,{aioi:e,akashi:e,ako:e,amagasaki:e,aogaki:e,asago:e,ashiya:e,awaji:e,fukusaki:e,goshiki:e,harima:e,himeji:e,ichikawa:e,inagawa:e,itami:e,kakogawa:e,kamigori:e,kamikawa:e,kasai:e,kasuga:e,kawanishi:e,miki:e,minamiawaji:e,nishinomiya:e,nishiwaki:e,ono:e,sanda:e,sannan:e,sasayama:e,sayo:e,shingu:e,shinonsen:e,shiso:e,sumoto:e,taishi:e,taka:e,takarazuka:e,takasago:e,takino:e,tamba:e,tatsuno:e,toyooka:e,yabu:e,yashiro:e,yoka:e,yokawa:e}],ibaraki:[1,{ami:e,asahi:e,bando:e,chikusei:e,daigo:e,fujishiro:e,hitachi:e,hitachinaka:e,hitachiomiya:e,hitachiota:e,ibaraki:e,ina:e,inashiki:e,itako:e,iwama:e,joso:e,kamisu:e,kasama:e,kashima:e,kasumigaura:e,koga:e,miho:e,mito:e,moriya:e,naka:e,namegata:e,oarai:e,ogawa:e,omitama:e,ryugasaki:e,sakai:e,sakuragawa:e,shimodate:e,shimotsuma:e,shirosato:e,sowa:e,suifu:e,takahagi:e,tamatsukuri:e,tokai:e,tomobe:e,tone:e,toride:e,tsuchiura:e,tsukuba:e,uchihara:e,ushiku:e,yachiyo:e,yamagata:e,yawara:e,yuki:e}],ishikawa:[1,{anamizu:e,hakui:e,hakusan:e,kaga:e,kahoku:e,kanazawa:e,kawakita:e,komatsu:e,nakanoto:e,nanao:e,nomi:e,nonoichi:e,noto:e,shika:e,suzu:e,tsubata:e,tsurugi:e,uchinada:e,wajima:e}],iwate:[1,{fudai:e,fujisawa:e,hanamaki:e,hiraizumi:e,hirono:e,ichinohe:e,ichinoseki:e,iwaizumi:e,iwate:e,joboji:e,kamaishi:e,kanegasaki:e,karumai:e,kawai:e,kitakami:e,kuji:e,kunohe:e,kuzumaki:e,miyako:e,mizusawa:e,morioka:e,ninohe:e,noda:e,ofunato:e,oshu:e,otsuchi:e,rikuzentakata:e,shiwa:e,shizukuishi:e,sumita:e,tanohata:e,tono:e,yahaba:e,yamada:e}],kagawa:[1,{ayagawa:e,higashikagawa:e,kanonji:e,kotohira:e,manno:e,marugame:e,mitoyo:e,naoshima:e,sanuki:e,tadotsu:e,takamatsu:e,tonosho:e,uchinomi:e,utazu:e,zentsuji:e}],kagoshima:[1,{akune:e,amami:e,hioki:e,isa:e,isen:e,izumi:e,kagoshima:e,kanoya:e,kawanabe:e,kinko:e,kouyama:e,makurazaki:e,matsumoto:e,minamitane:e,nakatane:e,nishinoomote:e,satsumasendai:e,soo:e,tarumizu:e,yusui:e}],kanagawa:[1,{aikawa:e,atsugi:e,ayase:e,chigasaki:e,ebina:e,fujisawa:e,hadano:e,hakone:e,hiratsuka:e,isehara:e,kaisei:e,kamakura:e,kiyokawa:e,matsuda:e,minamiashigara:e,miura:e,nakai:e,ninomiya:e,odawara:e,oi:e,oiso:e,sagamihara:e,samukawa:e,tsukui:e,yamakita:e,yamato:e,yokosuka:e,yugawara:e,zama:e,zushi:e}],kochi:[1,{aki:e,geisei:e,hidaka:e,higashitsuno:e,ino:e,kagami:e,kami:e,kitagawa:e,kochi:e,mihara:e,motoyama:e,muroto:e,nahari:e,nakamura:e,nankoku:e,nishitosa:e,niyodogawa:e,ochi:e,okawa:e,otoyo:e,otsuki:e,sakawa:e,sukumo:e,susaki:e,tosa:e,tosashimizu:e,toyo:e,tsuno:e,umaji:e,yasuda:e,yusuhara:e}],kumamoto:[1,{amakusa:e,arao:e,aso:e,choyo:e,gyokuto:e,kamiamakusa:e,kikuchi:e,kumamoto:e,mashiki:e,mifune:e,minamata:e,minamioguni:e,nagasu:e,nishihara:e,oguni:e,ozu:e,sumoto:e,takamori:e,uki:e,uto:e,yamaga:e,yamato:e,yatsushiro:e}],kyoto:[1,{ayabe:e,fukuchiyama:e,higashiyama:e,ide:e,ine:e,joyo:e,kameoka:e,kamo:e,kita:e,kizu:e,kumiyama:e,kyotamba:e,kyotanabe:e,kyotango:e,maizuru:e,minami:e,minamiyamashiro:e,miyazu:e,muko:e,nagaokakyo:e,nakagyo:e,nantan:e,oyamazaki:e,sakyo:e,seika:e,tanabe:e,uji:e,ujitawara:e,wazuka:e,yamashina:e,yawata:e}],mie:[1,{asahi:e,inabe:e,ise:e,kameyama:e,kawagoe:e,kiho:e,kisosaki:e,kiwa:e,komono:e,kumano:e,kuwana:e,matsusaka:e,meiwa:e,mihama:e,minamiise:e,misugi:e,miyama:e,nabari:e,shima:e,suzuka:e,tado:e,taiki:e,taki:e,tamaki:e,toba:e,tsu:e,udono:e,ureshino:e,watarai:e,yokkaichi:e}],miyagi:[1,{furukawa:e,higashimatsushima:e,ishinomaki:e,iwanuma:e,kakuda:e,kami:e,kawasaki:e,marumori:e,matsushima:e,minamisanriku:e,misato:e,murata:e,natori:e,ogawara:e,ohira:e,onagawa:e,osaki:e,rifu:e,semine:e,shibata:e,shichikashuku:e,shikama:e,shiogama:e,shiroishi:e,tagajo:e,taiwa:e,tome:e,tomiya:e,wakuya:e,watari:e,yamamoto:e,zao:e}],miyazaki:[1,{aya:e,ebino:e,gokase:e,hyuga:e,kadogawa:e,kawaminami:e,kijo:e,kitagawa:e,kitakata:e,kitaura:e,kobayashi:e,kunitomi:e,kushima:e,mimata:e,miyakonojo:e,miyazaki:e,morotsuka:e,nichinan:e,nishimera:e,nobeoka:e,saito:e,shiiba:e,shintomi:e,takaharu:e,takanabe:e,takazaki:e,tsuno:e}],nagano:[1,{achi:e,agematsu:e,anan:e,aoki:e,asahi:e,azumino:e,chikuhoku:e,chikuma:e,chino:e,fujimi:e,hakuba:e,hara:e,hiraya:e,iida:e,iijima:e,iiyama:e,iizuna:e,ikeda:e,ikusaka:e,ina:e,karuizawa:e,kawakami:e,kiso:e,kisofukushima:e,kitaaiki:e,komagane:e,komoro:e,matsukawa:e,matsumoto:e,miasa:e,minamiaiki:e,minamimaki:e,minamiminowa:e,minowa:e,miyada:e,miyota:e,mochizuki:e,nagano:e,nagawa:e,nagiso:e,nakagawa:e,nakano:e,nozawaonsen:e,obuse:e,ogawa:e,okaya:e,omachi:e,omi:e,ookuwa:e,ooshika:e,otaki:e,otari:e,sakae:e,sakaki:e,saku:e,sakuho:e,shimosuwa:e,shinanomachi:e,shiojiri:e,suwa:e,suzaka:e,takagi:e,takamori:e,takayama:e,tateshina:e,tatsuno:e,togakushi:e,togura:e,tomi:e,ueda:e,wada:e,yamagata:e,yamanouchi:e,yasaka:e,yasuoka:e}],nagasaki:[1,{chijiwa:e,futsu:e,goto:e,hasami:e,hirado:e,iki:e,isahaya:e,kawatana:e,kuchinotsu:e,matsuura:e,nagasaki:e,obama:e,omura:e,oseto:e,saikai:e,sasebo:e,seihi:e,shimabara:e,shinkamigoto:e,togitsu:e,tsushima:e,unzen:e}],nara:[1,{ando:e,gose:e,heguri:e,higashiyoshino:e,ikaruga:e,ikoma:e,kamikitayama:e,kanmaki:e,kashiba:e,kashihara:e,katsuragi:e,kawai:e,kawakami:e,kawanishi:e,koryo:e,kurotaki:e,mitsue:e,miyake:e,nara:e,nosegawa:e,oji:e,ouda:e,oyodo:e,sakurai:e,sango:e,shimoichi:e,shimokitayama:e,shinjo:e,soni:e,takatori:e,tawaramoto:e,tenkawa:e,tenri:e,uda:e,yamatokoriyama:e,yamatotakada:e,yamazoe:e,yoshino:e}],niigata:[1,{aga:e,agano:e,gosen:e,itoigawa:e,izumozaki:e,joetsu:e,kamo:e,kariwa:e,kashiwazaki:e,minamiuonuma:e,mitsuke:e,muika:e,murakami:e,myoko:e,nagaoka:e,niigata:e,ojiya:e,omi:e,sado:e,sanjo:e,seiro:e,seirou:e,sekikawa:e,shibata:e,tagami:e,tainai:e,tochio:e,tokamachi:e,tsubame:e,tsunan:e,uonuma:e,yahiko:e,yoita:e,yuzawa:e}],oita:[1,{beppu:e,bungoono:e,bungotakada:e,hasama:e,hiji:e,himeshima:e,hita:e,kamitsue:e,kokonoe:e,kuju:e,kunisaki:e,kusu:e,oita:e,saiki:e,taketa:e,tsukumi:e,usa:e,usuki:e,yufu:e}],okayama:[1,{akaiwa:e,asakuchi:e,bizen:e,hayashima:e,ibara:e,kagamino:e,kasaoka:e,kibichuo:e,kumenan:e,kurashiki:e,maniwa:e,misaki:e,nagi:e,niimi:e,nishiawakura:e,okayama:e,satosho:e,setouchi:e,shinjo:e,shoo:e,soja:e,takahashi:e,tamano:e,tsuyama:e,wake:e,yakage:e}],okinawa:[1,{aguni:e,ginowan:e,ginoza:e,gushikami:e,haebaru:e,higashi:e,hirara:e,iheya:e,ishigaki:e,ishikawa:e,itoman:e,izena:e,kadena:e,kin:e,kitadaito:e,kitanakagusuku:e,kumejima:e,kunigami:e,minamidaito:e,motobu:e,nago:e,naha:e,nakagusuku:e,nakijin:e,nanjo:e,nishihara:e,ogimi:e,okinawa:e,onna:e,shimoji:e,taketomi:e,tarama:e,tokashiki:e,tomigusuku:e,tonaki:e,urasoe:e,uruma:e,yaese:e,yomitan:e,yonabaru:e,yonaguni:e,zamami:e}],osaka:[1,{abeno:e,chihayaakasaka:e,chuo:e,daito:e,fujiidera:e,habikino:e,hannan:e,higashiosaka:e,higashisumiyoshi:e,higashiyodogawa:e,hirakata:e,ibaraki:e,ikeda:e,izumi:e,izumiotsu:e,izumisano:e,kadoma:e,kaizuka:e,kanan:e,kashiwara:e,katano:e,kawachinagano:e,kishiwada:e,kita:e,kumatori:e,matsubara:e,minato:e,minoh:e,misaki:e,moriguchi:e,neyagawa:e,nishi:e,nose:e,osakasayama:e,sakai:e,sayama:e,sennan:e,settsu:e,shijonawate:e,shimamoto:e,suita:e,tadaoka:e,taishi:e,tajiri:e,takaishi:e,takatsuki:e,tondabayashi:e,toyonaka:e,toyono:e,yao:e}],saga:[1,{ariake:e,arita:e,fukudomi:e,genkai:e,hamatama:e,hizen:e,imari:e,kamimine:e,kanzaki:e,karatsu:e,kashima:e,kitagata:e,kitahata:e,kiyama:e,kouhoku:e,kyuragi:e,nishiarita:e,ogi:e,omachi:e,ouchi:e,saga:e,shiroishi:e,taku:e,tara:e,tosu:e,yoshinogari:e}],saitama:[1,{arakawa:e,asaka:e,chichibu:e,fujimi:e,fujimino:e,fukaya:e,hanno:e,hanyu:e,hasuda:e,hatogaya:e,hatoyama:e,hidaka:e,higashichichibu:e,higashimatsuyama:e,honjo:e,ina:e,iruma:e,iwatsuki:e,kamiizumi:e,kamikawa:e,kamisato:e,kasukabe:e,kawagoe:e,kawaguchi:e,kawajima:e,kazo:e,kitamoto:e,koshigaya:e,kounosu:e,kuki:e,kumagaya:e,matsubushi:e,minano:e,misato:e,miyashiro:e,miyoshi:e,moroyama:e,nagatoro:e,namegawa:e,niiza:e,ogano:e,ogawa:e,ogose:e,okegawa:e,omiya:e,otaki:e,ranzan:e,ryokami:e,saitama:e,sakado:e,satte:e,sayama:e,shiki:e,shiraoka:e,soka:e,sugito:e,toda:e,tokigawa:e,tokorozawa:e,tsurugashima:e,urawa:e,warabi:e,yashio:e,yokoze:e,yono:e,yorii:e,yoshida:e,yoshikawa:e,yoshimi:e}],shiga:[1,{aisho:e,gamo:e,higashiomi:e,hikone:e,koka:e,konan:e,kosei:e,koto:e,kusatsu:e,maibara:e,moriyama:e,nagahama:e,nishiazai:e,notogawa:e,omihachiman:e,otsu:e,ritto:e,ryuoh:e,takashima:e,takatsuki:e,torahime:e,toyosato:e,yasu:e}],shimane:[1,{akagi:e,ama:e,gotsu:e,hamada:e,higashiizumo:e,hikawa:e,hikimi:e,izumo:e,kakinoki:e,masuda:e,matsue:e,misato:e,nishinoshima:e,ohda:e,okinoshima:e,okuizumo:e,shimane:e,tamayu:e,tsuwano:e,unnan:e,yakumo:e,yasugi:e,yatsuka:e}],shizuoka:[1,{arai:e,atami:e,fuji:e,fujieda:e,fujikawa:e,fujinomiya:e,fukuroi:e,gotemba:e,haibara:e,hamamatsu:e,higashiizu:e,ito:e,iwata:e,izu:e,izunokuni:e,kakegawa:e,kannami:e,kawanehon:e,kawazu:e,kikugawa:e,kosai:e,makinohara:e,matsuzaki:e,minamiizu:e,mishima:e,morimachi:e,nishiizu:e,numazu:e,omaezaki:e,shimada:e,shimizu:e,shimoda:e,shizuoka:e,susono:e,yaizu:e,yoshida:e}],tochigi:[1,{ashikaga:e,bato:e,haga:e,ichikai:e,iwafune:e,kaminokawa:e,kanuma:e,karasuyama:e,kuroiso:e,mashiko:e,mibu:e,moka:e,motegi:e,nasu:e,nasushiobara:e,nikko:e,nishikata:e,nogi:e,ohira:e,ohtawara:e,oyama:e,sakura:e,sano:e,shimotsuke:e,shioya:e,takanezawa:e,tochigi:e,tsuga:e,ujiie:e,utsunomiya:e,yaita:e}],tokushima:[1,{aizumi:e,anan:e,ichiba:e,itano:e,kainan:e,komatsushima:e,matsushige:e,mima:e,minami:e,miyoshi:e,mugi:e,nakagawa:e,naruto:e,sanagochi:e,shishikui:e,tokushima:e,wajiki:e}],tokyo:[1,{adachi:e,akiruno:e,akishima:e,aogashima:e,arakawa:e,bunkyo:e,chiyoda:e,chofu:e,chuo:e,edogawa:e,fuchu:e,fussa:e,hachijo:e,hachioji:e,hamura:e,higashikurume:e,higashimurayama:e,higashiyamato:e,hino:e,hinode:e,hinohara:e,inagi:e,itabashi:e,katsushika:e,kita:e,kiyose:e,kodaira:e,koganei:e,kokubunji:e,komae:e,koto:e,kouzushima:e,kunitachi:e,machida:e,meguro:e,minato:e,mitaka:e,mizuho:e,musashimurayama:e,musashino:e,nakano:e,nerima:e,ogasawara:e,okutama:e,ome:e,oshima:e,ota:e,setagaya:e,shibuya:e,shinagawa:e,shinjuku:e,suginami:e,sumida:e,tachikawa:e,taito:e,tama:e,toshima:e}],tottori:[1,{chizu:e,hino:e,kawahara:e,koge:e,kotoura:e,misasa:e,nanbu:e,nichinan:e,sakaiminato:e,tottori:e,wakasa:e,yazu:e,yonago:e}],toyama:[1,{asahi:e,fuchu:e,fukumitsu:e,funahashi:e,himi:e,imizu:e,inami:e,johana:e,kamiichi:e,kurobe:e,nakaniikawa:e,namerikawa:e,nanto:e,nyuzen:e,oyabe:e,taira:e,takaoka:e,tateyama:e,toga:e,tonami:e,toyama:e,unazuki:e,uozu:e,yamada:e}],wakayama:[1,{arida:e,aridagawa:e,gobo:e,hashimoto:e,hidaka:e,hirogawa:e,inami:e,iwade:e,kainan:e,kamitonda:e,katsuragi:e,kimino:e,kinokawa:e,kitayama:e,koya:e,koza:e,kozagawa:e,kudoyama:e,kushimoto:e,mihama:e,misato:e,nachikatsuura:e,shingu:e,shirahama:e,taiji:e,tanabe:e,wakayama:e,yuasa:e,yura:e}],yamagata:[1,{asahi:e,funagata:e,higashine:e,iide:e,kahoku:e,kaminoyama:e,kaneyama:e,kawanishi:e,mamurogawa:e,mikawa:e,murayama:e,nagai:e,nakayama:e,nanyo:e,nishikawa:e,obanazawa:e,oe:e,oguni:e,ohkura:e,oishida:e,sagae:e,sakata:e,sakegawa:e,shinjo:e,shirataka:e,shonai:e,takahata:e,tendo:e,tozawa:e,tsuruoka:e,yamagata:e,yamanobe:e,yonezawa:e,yuza:e}],yamaguchi:[1,{abu:e,hagi:e,hikari:e,hofu:e,iwakuni:e,kudamatsu:e,mitou:e,nagato:e,oshima:e,shimonoseki:e,shunan:e,tabuse:e,tokuyama:e,toyota:e,ube:e,yuu:e}],yamanashi:[1,{chuo:e,doshi:e,fuefuki:e,fujikawa:e,fujikawaguchiko:e,fujiyoshida:e,hayakawa:e,hokuto:e,ichikawamisato:e,kai:e,kofu:e,koshu:e,kosuge:e,"minami-alps":e,minobu:e,nakamichi:e,nanbu:e,narusawa:e,nirasaki:e,nishikatsura:e,oshino:e,otsuki:e,showa:e,tabayama:e,tsuru:e,uenohara:e,yamanakako:e,yamanashi:e}],"xn--4pvxs":e,:e,"xn--vgu402c":e,:e,"xn--c3s14m":e,:e,"xn--f6qx53a":e,:e,"xn--8pvr4u":e,:e,"xn--uist22h":e,:e,"xn--djrs72d6uy":e,:e,"xn--mkru45i":e,:e,"xn--0trq7p7nn":e,:e,"xn--8ltr62k":e,:e,"xn--2m4a15e":e,:e,"xn--efvn9s":e,:e,"xn--32vp30h":e,:e,"xn--4it797k":e,:e,"xn--1lqs71d":e,:e,"xn--5rtp49c":e,:e,"xn--5js045d":e,:e,"xn--ehqz56n":e,:e,"xn--1lqs03n":e,:e,"xn--qqqt11m":e,:e,"xn--kbrq7o":e,:e,"xn--pssu33l":e,:e,"xn--ntsq17g":e,:e,"xn--uisz3g":e,:e,"xn--6btw5a":e,:e,"xn--1ctwo":e,:e,"xn--6orx2r":e,:e,"xn--rht61e":e,:e,"xn--rht27z":e,:e,"xn--djty4k":e,:e,"xn--nit225k":e,:e,"xn--rht3d":e,:e,"xn--klty5x":e,:e,"xn--kltx9a":e,:e,"xn--kltp7d":e,:e,"xn--uuwu58a":e,:e,"xn--zbx025d":e,:e,"xn--ntso0iqx3a":e,:e,"xn--elqq16h":e,:e,"xn--4it168d":e,:e,"xn--klt787d":e,:e,"xn--rny31h":e,:e,"xn--7t0a264c":e,:e,"xn--5rtq34k":e,:e,"xn--k7yn95e":e,:e,"xn--tor131o":e,:e,"xn--d5qv7z876c":e,:e,kawasaki:s,kitakyushu:s,kobe:s,nagoya:s,sapporo:s,sendai:s,yokohama:s,buyshop:t,fashionstore:t,handcrafted:t,kawaiishop:t,supersale:t,theshop:t,usercontent:t,angry:t,babyblue:t,babymilk:t,backdrop:t,bambina:t,bitter:t,blush:t,boo:t,boy:t,boyfriend:t,but:t,candypop:t,capoo:t,catfood:t,cheap:t,chicappa:t,chillout:t,chips:t,chowder:t,chu:t,ciao:t,cocotte:t,coolblog:t,cranky:t,cutegirl:t,daa:t,deca:t,deci:t,digick:t,egoism:t,fakefur:t,fem:t,flier:t,floppy:t,fool:t,frenchkiss:t,girlfriend:t,girly:t,gloomy:t,gonna:t,greater:t,hacca:t,heavy:t,her:t,hiho:t,hippy:t,holy:t,hungry:t,icurus:t,itigo:t,jellybean:t,kikirara:t,kill:t,kilo:t,kuron:t,littlestar:t,lolipopmc:t,lolitapunk:t,lomo:t,lovepop:t,lovesick:t,main:t,mods:t,mond:t,mongolian:t,moo:t,namaste:t,nikita:t,nobushi:t,noor:t,oops:t,parallel:t,parasite:t,pecori:t,peewee:t,penne:t,pepper:t,perma:t,pigboat:t,pinoko:t,punyu:t,pupu:t,pussycat:t,pya:t,raindrop:t,readymade:t,sadist:t,schoolbus:t,secret:t,staba:t,stripper:t,sub:t,sunnyday:t,thick:t,tonkotsu:t,under:t,upper:t,velvet:t,verse:t,versus:t,vivian:t,watson:t,weblike:t,whitesnow:t,zombie:t,blogspot:t,"2-d":t,bona:t,crap:t,daynight:t,eek:t,flop:t,halfmoon:t,jeez:t,matrix:t,mimoza:t,netgamers:t,nyanta:t,o0o0:t,rdy:t,rgr:t,rulez:t,sakurastorage:[0,{isk01:d,isk02:d}],saloon:t,sblo:t,skr:t,tank:t,"uh-oh":t,undo:t,webaccel:[0,{rs:t,user:t}],websozai:t,xii:t}],ke:[1,{ac:e,co:i,go:e,info:e,me:e,mobi:e,ne:e,or:e,sc:e}],kg:[1,{org:e,net:e,com:e,edu:e,gov:e,mil:e,blog:t,io:t,jp:t,tv:t,uk:t,us:t}],kh:s,ki:P,km:[1,{org:e,nom:e,gov:e,prd:e,tm:e,edu:e,mil:e,ass:e,com:e,coop:e,asso:e,presse:e,medecin:e,notaires:e,pharmaciens:e,veterinaire:e,gouv:e}],kn:[1,{net:e,org:e,edu:e,gov:e}],kp:[1,{com:e,edu:e,gov:e,org:e,rep:e,tra:e}],kr:[1,{ac:e,co:e,es:e,go:e,hs:e,kg:e,mil:e,ms:e,ne:e,or:e,pe:e,re:e,sc:e,busan:e,chungbuk:e,chungnam:e,daegu:e,daejeon:e,gangwon:e,gwangju:e,gyeongbuk:e,gyeonggi:e,gyeongnam:e,incheon:e,jeju:e,jeonbuk:e,jeonnam:e,seoul:e,ulsan:e,blogspot:t}],kw:[1,{com:e,edu:e,emb:e,gov:e,ind:e,net:e,org:e}],ky:A,kz:[1,{org:e,edu:e,net:e,gov:e,mil:e,com:e,jcloud:t,kazteleport:[0,{upaas:t}]}],la:[1,{int:e,net:e,info:e,edu:e,gov:e,per:e,com:e,org:e,bnr:t,c:t}],lb:n,lc:[1,{com:e,net:e,co:e,org:e,edu:e,gov:e,oy:t}],li:[1,{blogspot:t,caa:t}],lk:[1,{gov:e,sch:e,net:e,int:e,com:e,org:e,edu:e,ngo:e,soc:e,web:e,ltd:e,assn:e,grp:e,hotel:e,ac:e}],lr:n,ls:[1,{ac:e,biz:e,co:e,edu:e,gov:e,info:e,net:e,org:e,sc:e,de:t}],lt:j,lu:[1,{blogspot:t,"123website":t}],lv:[1,{com:e,edu:e,gov:e,org:e,mil:e,id:e,net:e,asn:e,conf:e}],ly:[1,{com:e,net:e,gov:e,plc:e,edu:e,sch:e,med:e,org:e,id:e}],ma:[1,{co:e,net:e,gov:e,org:e,ac:e,press:e}],mc:[1,{tm:e,asso:e}],md:[1,{blogspot:t,at:t,de:t,jp:t,to:t}],me:[1,{co:e,net:e,org:e,edu:e,ac:e,gov:e,its:e,priv:e,c66:t,daplie:[2,{localhost:t}],edgestack:t,filegear:t,"filegear-au":t,"filegear-de":t,"filegear-gb":t,"filegear-ie":t,"filegear-jp":t,"filegear-sg":t,glitch:t,ravendb:t,lohmus:t,barsy:t,mcpe:t,mcdir:t,soundcast:t,tcp4:t,brasilia:t,ddns:t,dnsfor:t,hopto:t,loginto:t,noip:t,webhop:t,vp4:t,diskstation:t,dscloud:t,i234:t,myds:t,synology:t,transip:M,wedeploy:t,yombo:t,nohost:t}],mg:[1,{org:e,nom:e,gov:e,prd:e,tm:e,edu:e,mil:e,com:e,co:e}],mh:e,mil:e,mk:[1,{com:e,org:e,net:e,edu:e,gov:e,inf:e,name:e,blogspot:t}],ml:[1,{com:e,edu:e,gouv:e,gov:e,net:e,org:e,presse:e}],mm:s,mn:[1,{gov:e,edu:e,org:e,nyc:t}],mo:n,mobi:[1,{barsy:t,dscloud:t}],mp:[1,{ju:t}],mq:e,mr:j,ms:[1,{com:e,edu:e,gov:e,net:e,org:e,lab:t,minisite:t}],mt:[1,{com:i,edu:e,net:e,org:e}],mu:[1,{com:e,net:e,org:e,gov:e,ac:e,co:e,or:e}],museum:e,mv:[1,{aero:e,biz:e,com:e,coop:e,edu:e,gov:e,info:e,int:e,mil:e,museum:e,name:e,net:e,org:e,pro:e}],mw:[1,{ac:e,biz:e,co:e,com:e,coop:e,edu:e,gov:e,int:e,museum:e,net:e,org:e}],mx:[1,{com:e,org:e,gob:e,edu:e,net:e,blogspot:t}],my:[1,{biz:e,com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,blogspot:t}],mz:[1,{ac:e,adv:e,co:e,edu:e,gov:e,mil:e,net:e,org:e}],na:[1,{info:e,pro:e,name:e,school:e,or:e,dr:e,us:e,mx:e,ca:e,in:e,cc:e,tv:e,ws:e,mobi:e,co:e,com:e,org:e}],name:[1,{her:F,his:F}],nc:[1,{asso:e,nom:e}],ne:e,net:[1,{adobeaemcloud:t,"adobeio-static":t,adobeioruntime:t,akadns:t,akamai:t,"akamai-staging":t,akamaiedge:t,"akamaiedge-staging":t,akamaihd:t,"akamaihd-staging":t,akamaiorigin:t,"akamaiorigin-staging":t,akamaized:t,"akamaized-staging":t,edgekey:t,"edgekey-staging":t,edgesuite:t,"edgesuite-staging":t,alwaysdata:t,myamaze:t,cloudfront:t,t3l3p0rt:t,appudo:t,"atlassian-dev":[0,{prod:[0,{cdn:t}]}],myfritz:t,onavstack:t,shopselect:t,blackbaudcdn:t,boomla:t,bplaced:t,square7:t,gb:t,hu:t,jp:t,se:t,uk:t,in:t,clickrising:t,cloudaccess:t,"cdn77-ssl":t,cdn77:[0,{r:t}],"feste-ip":t,"knx-server":t,"static-access":t,cryptonomic:r,dattolocal:t,mydatto:t,debian:t,bitbridge:t,"at-band-camp":t,blogdns:t,"broke-it":t,buyshouses:t,dnsalias:t,dnsdojo:t,"does-it":t,dontexist:t,dynalias:t,dynathome:t,endofinternet:t,"from-az":t,"from-co":t,"from-la":t,"from-ny":t,"gets-it":t,"ham-radio-op":t,homeftp:t,homeip:t,homelinux:t,homeunix:t,"in-the-band":t,"is-a-chef":t,"is-a-geek":t,"isa-geek":t,"kicks-ass":t,"office-on-the":t,podzone:t,"scrapper-site":t,selfip:t,"sells-it":t,servebbs:t,serveftp:t,thruhere:t,webhop:t,definima:t,casacam:t,dynu:t,dynv6:t,twmail:t,ru:t,channelsdvr:[2,{u:t}],fastlylb:[2,{map:t}],fastly:[0,{freetls:t,map:t,prod:[0,{a:t,global:t}],ssl:[0,{a:t,b:t,global:t}]}],edgeapp:t,flynnhosting:t,"cdn-edges":t,heteml:t,cloudfunctions:t,moonscale:t,"in-dsl":t,"in-vpn":t,ipifony:t,iobb:t,cloudjiffy:[2,{"fra1-de":t,"west1-us":t}],elastx:[0,{"jls-sto1":t,"jls-sto2":t,"jls-sto3":t}],faststacks:t,massivegrid:[0,{paas:[0,{"fr-1":t,"lon-1":t,"lon-2":t,"ny-1":t,"ny-2":t,"sg-1":t}]}],saveincloud:[0,{jelastic:t,"nordeste-idc":t}],scaleforce:U,tsukaeru:$,kinghost:t,uni5:t,krellian:t,barsy:t,memset:t,azurewebsites:t,"azure-mobile":t,cloudapp:t,azurestaticapps:[2,{1:t,2:t,3:t,centralus:t,eastasia:t,eastus2:t,westeurope:t,westus2:t}],dnsup:t,hicam:t,"now-dns":t,ownip:t,vpndns:t,"eating-organic":t,mydissent:t,myeffect:t,mymediapc:t,mypsx:t,mysecuritycamera:t,nhlfan:t,"no-ip":t,pgafan:t,privatizehealthinsurance:t,bounceme:t,ddns:t,redirectme:t,serveblog:t,serveminecraft:t,sytes:t,cloudycluster:t,ovh:[0,{webpaas:r,hosting:r}],bar0:t,bar1:t,bar2:t,rackmaze:t,squares:t,schokokeks:t,"firewall-gateway":t,seidat:t,senseering:t,siteleaf:t,"vps-host":[2,{jelastic:[0,{atl:t,njs:t,ric:t}]}],myspreadshop:t,srcf:[0,{soc:t,user:t}],supabase:t,dsmynas:t,familyds:t,tailscale:[0,{beta:t}],ts:t,torproject:[2,{pages:t}],"reserve-online":t,"community-pro":t,meinforum:t,yandexcloud:[2,{storage:t,website:t}],za:t}],nf:[1,{com:e,net:e,per:e,rec:e,web:e,arts:e,firm:e,info:e,other:e,store:e}],ng:[1,{com:i,edu:e,gov:e,i:e,mil:e,mobi:e,name:e,net:e,org:e,sch:e,col:t,firm:t,gen:t,ltd:t,ngo:t}],ni:[1,{ac:e,biz:e,co:e,com:e,edu:e,gob:e,in:e,info:e,int:e,mil:e,net:e,nom:e,org:e,web:e}],nl:[1,{co:t,"hosting-cluster":t,blogspot:t,gov:t,khplay:t,"123website":t,myspreadshop:t,transurl:r,cistron:t,demon:t}],no:[1,{fhs:e,vgs:e,fylkesbibl:e,folkebibl:e,museum:e,idrett:e,priv:e,mil:e,stat:e,dep:e,kommune:e,herad:e,aa:O,ah:O,bu:O,fm:O,hl:O,hm:O,"jan-mayen":O,mr:O,nl:O,nt:O,of:O,ol:O,oslo:O,rl:O,sf:O,st:O,svalbard:O,tm:O,tr:O,va:O,vf:O,akrehamn:e,"xn--krehamn-dxa":e,krehamn:e,algard:e,"xn--lgrd-poac":e,lgrd:e,arna:e,brumunddal:e,bryne:e,bronnoysund:e,"xn--brnnysund-m8ac":e,brnnysund:e,drobak:e,"xn--drbak-wua":e,drbak:e,egersund:e,fetsund:e,floro:e,"xn--flor-jra":e,flor:e,fredrikstad:e,hokksund:e,honefoss:e,"xn--hnefoss-q1a":e,hnefoss:e,jessheim:e,jorpeland:e,"xn--jrpeland-54a":e,jrpeland:e,kirkenes:e,kopervik:e,krokstadelva:e,langevag:e,"xn--langevg-jxa":e,langevg:e,leirvik:e,mjondalen:e,"xn--mjndalen-64a":e,mjndalen:e,"mo-i-rana":e,mosjoen:e,"xn--mosjen-eya":e,mosjen:e,nesoddtangen:e,orkanger:e,osoyro:e,"xn--osyro-wua":e,osyro:e,raholt:e,"xn--rholt-mra":e,rholt:e,sandnessjoen:e,"xn--sandnessjen-ogb":e,sandnessjen:e,skedsmokorset:e,slattum:e,spjelkavik:e,stathelle:e,stavern:e,stjordalshalsen:e,"xn--stjrdalshalsen-sqb":e,stjrdalshalsen:e,tananger:e,tranby:e,vossevangen:e,afjord:e,"xn--fjord-lra":e,fjord:e,agdenes:e,al:e,"xn--l-1fa":e,l:e,alesund:e,"xn--lesund-hua":e,lesund:e,alstahaug:e,alta:e,"xn--lt-liac":e,lt:e,alaheadju:e,"xn--laheadju-7ya":e,laheadju:e,alvdal:e,amli:e,"xn--mli-tla":e,mli:e,amot:e,"xn--mot-tla":e,mot:e,andebu:e,andoy:e,"xn--andy-ira":e,andy:e,andasuolo:e,ardal:e,"xn--rdal-poa":e,rdal:e,aremark:e,arendal:e,"xn--s-1fa":e,s:e,aseral:e,"xn--seral-lra":e,seral:e,asker:e,askim:e,askvoll:e,askoy:e,"xn--asky-ira":e,asky:e,asnes:e,"xn--snes-poa":e,snes:e,audnedaln:e,aukra:e,aure:e,aurland:e,"aurskog-holand":e,"xn--aurskog-hland-jnb":e,"aurskog-hland":e,austevoll:e,austrheim:e,averoy:e,"xn--avery-yua":e,avery:e,balestrand:e,ballangen:e,balat:e,"xn--blt-elab":e,blt:e,balsfjord:e,bahccavuotna:e,"xn--bhccavuotna-k7a":e,bhccavuotna:e,bamble:e,bardu:e,beardu:e,beiarn:e,bajddar:e,"xn--bjddar-pta":e,bjddar:e,baidar:e,"xn--bidr-5nac":e,bidr:e,berg:e,bergen:e,berlevag:e,"xn--berlevg-jxa":e,berlevg:e,bearalvahki:e,"xn--bearalvhki-y4a":e,bearalvhki:e,bindal:e,birkenes:e,bjarkoy:e,"xn--bjarky-fya":e,bjarky:e,bjerkreim:e,bjugn:e,bodo:e,"xn--bod-2na":e,bod:e,badaddja:e,"xn--bdddj-mrabd":e,bdddj:e,budejju:e,bokn:e,bremanger:e,bronnoy:e,"xn--brnny-wuac":e,brnny:e,bygland:e,bykle:e,barum:e,"xn--brum-voa":e,brum:e,telemark:[0,{bo:e,"xn--b-5ga":e,b:e}],nordland:[0,{bo:e,"xn--b-5ga":e,b:e,heroy:e,"xn--hery-ira":e,hery:e}],bievat:e,"xn--bievt-0qa":e,bievt:e,bomlo:e,"xn--bmlo-gra":e,bmlo:e,batsfjord:e,"xn--btsfjord-9za":e,btsfjord:e,bahcavuotna:e,"xn--bhcavuotna-s4a":e,bhcavuotna:e,dovre:e,drammen:e,drangedal:e,dyroy:e,"xn--dyry-ira":e,dyry:e,donna:e,"xn--dnna-gra":e,dnna:e,eid:e,eidfjord:e,eidsberg:e,eidskog:e,eidsvoll:e,eigersund:e,elverum:e,enebakk:e,engerdal:e,etne:e,etnedal:e,evenes:e,evenassi:e,"xn--eveni-0qa01ga":e,eveni:e,"evje-og-hornnes":e,farsund:e,fauske:e,fuossko:e,fuoisku:e,fedje:e,fet:e,finnoy:e,"xn--finny-yua":e,finny:e,fitjar:e,fjaler:e,fjell:e,flakstad:e,flatanger:e,flekkefjord:e,flesberg:e,flora:e,fla:e,"xn--fl-zia":e,fl:e,folldal:e,forsand:e,fosnes:e,frei:e,frogn:e,froland:e,frosta:e,frana:e,"xn--frna-woa":e,frna:e,froya:e,"xn--frya-hra":e,frya:e,fusa:e,fyresdal:e,forde:e,"xn--frde-gra":e,frde:e,gamvik:e,gangaviika:e,"xn--ggaviika-8ya47h":e,ggaviika:e,gaular:e,gausdal:e,gildeskal:e,"xn--gildeskl-g0a":e,gildeskl:e,giske:e,gjemnes:e,gjerdrum:e,gjerstad:e,gjesdal:e,gjovik:e,"xn--gjvik-wua":e,gjvik:e,gloppen:e,gol:e,gran:e,grane:e,granvin:e,gratangen:e,grimstad:e,grong:e,kraanghke:e,"xn--kranghke-b0a":e,kranghke:e,grue:e,gulen:e,hadsel:e,halden:e,halsa:e,hamar:e,hamaroy:e,habmer:e,"xn--hbmer-xqa":e,hbmer:e,hapmir:e,"xn--hpmir-xqa":e,hpmir:e,hammerfest:e,hammarfeasta:e,"xn--hmmrfeasta-s4ac":e,hmmrfeasta:e,haram:e,hareid:e,harstad:e,hasvik:e,aknoluokta:e,"xn--koluokta-7ya57h":e,koluokta:e,hattfjelldal:e,aarborte:e,haugesund:e,hemne:e,hemnes:e,hemsedal:e,"more-og-romsdal":[0,{heroy:e,sande:e}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":e,sande:e}],"mre-og-romsdal":[0,{hery:e,sande:e}],hitra:e,hjartdal:e,hjelmeland:e,hobol:e,"xn--hobl-ira":e,hobl:e,hof:e,hol:e,hole:e,holmestrand:e,holtalen:e,"xn--holtlen-hxa":e,holtlen:e,hornindal:e,horten:e,hurdal:e,hurum:e,hvaler:e,hyllestad:e,hagebostad:e,"xn--hgebostad-g3a":e,hgebostad:e,hoyanger:e,"xn--hyanger-q1a":e,hyanger:e,hoylandet:e,"xn--hylandet-54a":e,hylandet:e,ha:e,"xn--h-2fa":e,h:e,ibestad:e,inderoy:e,"xn--indery-fya":e,indery:e,iveland:e,jevnaker:e,jondal:e,jolster:e,"xn--jlster-bya":e,jlster:e,karasjok:e,karasjohka:e,"xn--krjohka-hwab49j":e,krjohka:e,karlsoy:e,galsa:e,"xn--gls-elac":e,gls:e,karmoy:e,"xn--karmy-yua":e,karmy:e,kautokeino:e,guovdageaidnu:e,klepp:e,klabu:e,"xn--klbu-woa":e,klbu:e,kongsberg:e,kongsvinger:e,kragero:e,"xn--krager-gya":e,krager:e,kristiansand:e,kristiansund:e,krodsherad:e,"xn--krdsherad-m8a":e,krdsherad:e,kvalsund:e,rahkkeravju:e,"xn--rhkkervju-01af":e,rhkkervju:e,kvam:e,kvinesdal:e,kvinnherad:e,kviteseid:e,kvitsoy:e,"xn--kvitsy-fya":e,kvitsy:e,kvafjord:e,"xn--kvfjord-nxa":e,kvfjord:e,giehtavuoatna:e,kvanangen:e,"xn--kvnangen-k0a":e,kvnangen:e,navuotna:e,"xn--nvuotna-hwa":e,nvuotna:e,kafjord:e,"xn--kfjord-iua":e,kfjord:e,gaivuotna:e,"xn--givuotna-8ya":e,givuotna:e,larvik:e,lavangen:e,lavagis:e,loabat:e,"xn--loabt-0qa":e,loabt:e,lebesby:e,davvesiida:e,leikanger:e,leirfjord:e,leka:e,leksvik:e,lenvik:e,leangaviika:e,"xn--leagaviika-52b":e,leagaviika:e,lesja:e,levanger:e,lier:e,lierne:e,lillehammer:e,lillesand:e,lindesnes:e,lindas:e,"xn--linds-pra":e,linds:e,lom:e,loppa:e,lahppi:e,"xn--lhppi-xqa":e,lhppi:e,lund:e,lunner:e,luroy:e,"xn--lury-ira":e,lury:e,luster:e,lyngdal:e,lyngen:e,ivgu:e,lardal:e,lerdal:e,"xn--lrdal-sra":e,lrdal:e,lodingen:e,"xn--ldingen-q1a":e,ldingen:e,lorenskog:e,"xn--lrenskog-54a":e,lrenskog:e,loten:e,"xn--lten-gra":e,lten:e,malvik:e,masoy:e,"xn--msy-ula0h":e,msy:e,muosat:e,"xn--muost-0qa":e,muost:e,mandal:e,marker:e,marnardal:e,masfjorden:e,meland:e,meldal:e,melhus:e,meloy:e,"xn--mely-ira":e,mely:e,meraker:e,"xn--merker-kua":e,merker:e,moareke:e,"xn--moreke-jua":e,moreke:e,midsund:e,"midtre-gauldal":e,modalen:e,modum:e,molde:e,moskenes:e,moss:e,mosvik:e,malselv:e,"xn--mlselv-iua":e,mlselv:e,malatvuopmi:e,"xn--mlatvuopmi-s4a":e,mlatvuopmi:e,namdalseid:e,aejrie:e,namsos:e,namsskogan:e,naamesjevuemie:e,"xn--nmesjevuemie-tcba":e,nmesjevuemie:e,laakesvuemie:e,nannestad:e,narvik:e,narviika:e,naustdal:e,"nedre-eiker":e,akershus:W,buskerud:W,nesna:e,nesodden:e,nesseby:e,unjarga:e,"xn--unjrga-rta":e,unjrga:e,nesset:e,nissedal:e,nittedal:e,"nord-aurdal":e,"nord-fron":e,"nord-odal":e,norddal:e,nordkapp:e,davvenjarga:e,"xn--davvenjrga-y4a":e,davvenjrga:e,"nordre-land":e,nordreisa:e,raisa:e,"xn--risa-5na":e,risa:e,"nore-og-uvdal":e,notodden:e,naroy:e,"xn--nry-yla5g":e,nry:e,notteroy:e,"xn--nttery-byae":e,nttery:e,odda:e,oksnes:e,"xn--ksnes-uua":e,ksnes:e,oppdal:e,oppegard:e,"xn--oppegrd-ixa":e,oppegrd:e,orkdal:e,orland:e,"xn--rland-uua":e,rland:e,orskog:e,"xn--rskog-uua":e,rskog:e,orsta:e,"xn--rsta-fra":e,rsta:e,hedmark:[0,{os:e,valer:e,"xn--vler-qoa":e,vler:e}],hordaland:[0,{os:e}],osen:e,osteroy:e,"xn--ostery-fya":e,ostery:e,"ostre-toten":e,"xn--stre-toten-zcb":e,"stre-toten":e,overhalla:e,"ovre-eiker":e,"xn--vre-eiker-k8a":e,"vre-eiker":e,oyer:e,"xn--yer-zna":e,yer:e,oygarden:e,"xn--ygarden-p1a":e,ygarden:e,"oystre-slidre":e,"xn--ystre-slidre-ujb":e,"ystre-slidre":e,porsanger:e,porsangu:e,"xn--porsgu-sta26f":e,porsgu:e,porsgrunn:e,radoy:e,"xn--rady-ira":e,rady:e,rakkestad:e,rana:e,ruovat:e,randaberg:e,rauma:e,rendalen:e,rennebu:e,rennesoy:e,"xn--rennesy-v1a":e,rennesy:e,rindal:e,ringebu:e,ringerike:e,ringsaker:e,rissa:e,risor:e,"xn--risr-ira":e,risr:e,roan:e,rollag:e,rygge:e,ralingen:e,"xn--rlingen-mxa":e,rlingen:e,rodoy:e,"xn--rdy-0nab":e,rdy:e,romskog:e,"xn--rmskog-bya":e,rmskog:e,roros:e,"xn--rros-gra":e,rros:e,rost:e,"xn--rst-0na":e,rst:e,royken:e,"xn--ryken-vua":e,ryken:e,royrvik:e,"xn--ryrvik-bya":e,ryrvik:e,rade:e,"xn--rde-ula":e,rde:e,salangen:e,siellak:e,saltdal:e,salat:e,"xn--slt-elab":e,slt:e,"xn--slat-5na":e,slat:e,samnanger:e,vestfold:[0,{sande:e}],sandefjord:e,sandnes:e,sandoy:e,"xn--sandy-yua":e,sandy:e,sarpsborg:e,sauda:e,sauherad:e,sel:e,selbu:e,selje:e,seljord:e,sigdal:e,siljan:e,sirdal:e,skaun:e,skedsmo:e,ski:e,skien:e,skiptvet:e,skjervoy:e,"xn--skjervy-v1a":e,skjervy:e,skierva:e,"xn--skierv-uta":e,skierv:e,skjak:e,"xn--skjk-soa":e,skjk:e,skodje:e,skanland:e,"xn--sknland-fxa":e,sknland:e,skanit:e,"xn--sknit-yqa":e,sknit:e,smola:e,"xn--smla-hra":e,smla:e,snillfjord:e,snasa:e,"xn--snsa-roa":e,snsa:e,snoasa:e,snaase:e,"xn--snase-nra":e,snase:e,sogndal:e,sokndal:e,sola:e,solund:e,songdalen:e,sortland:e,spydeberg:e,stange:e,stavanger:e,steigen:e,steinkjer:e,stjordal:e,"xn--stjrdal-s1a":e,stjrdal:e,stokke:e,"stor-elvdal":e,stord:e,stordal:e,storfjord:e,omasvuotna:e,strand:e,stranda:e,stryn:e,sula:e,suldal:e,sund:e,sunndal:e,surnadal:e,sveio:e,svelvik:e,sykkylven:e,sogne:e,"xn--sgne-gra":e,sgne:e,somna:e,"xn--smna-gra":e,smna:e,"sondre-land":e,"xn--sndre-land-0cb":e,"sndre-land":e,"sor-aurdal":e,"xn--sr-aurdal-l8a":e,"sr-aurdal":e,"sor-fron":e,"xn--sr-fron-q1a":e,"sr-fron":e,"sor-odal":e,"xn--sr-odal-q1a":e,"sr-odal":e,"sor-varanger":e,"xn--sr-varanger-ggb":e,"sr-varanger":e,"matta-varjjat":e,"xn--mtta-vrjjat-k7af":e,"mtta-vrjjat":e,sorfold:e,"xn--srfold-bya":e,srfold:e,sorreisa:e,"xn--srreisa-q1a":e,srreisa:e,sorum:e,"xn--srum-gra":e,srum:e,tana:e,deatnu:e,time:e,tingvoll:e,tinn:e,tjeldsund:e,dielddanuorri:e,tjome:e,"xn--tjme-hra":e,tjme:e,tokke:e,tolga:e,torsken:e,tranoy:e,"xn--trany-yua":e,trany:e,tromso:e,"xn--troms-zua":e,troms:e,tromsa:e,romsa:e,trondheim:e,troandin:e,trysil:e,trana:e,"xn--trna-woa":e,trna:e,trogstad:e,"xn--trgstad-r1a":e,trgstad:e,tvedestrand:e,tydal:e,tynset:e,tysfjord:e,divtasvuodna:e,divttasvuotna:e,tysnes:e,tysvar:e,"xn--tysvr-vra":e,tysvr:e,tonsberg:e,"xn--tnsberg-q1a":e,tnsberg:e,ullensaker:e,ullensvang:e,ulvik:e,utsira:e,vadso:e,"xn--vads-jra":e,vads:e,cahcesuolo:e,"xn--hcesuolo-7ya35b":e,hcesuolo:e,vaksdal:e,valle:e,vang:e,vanylven:e,vardo:e,"xn--vard-jra":e,vard:e,varggat:e,"xn--vrggt-xqad":e,vrggt:e,vefsn:e,vaapste:e,vega:e,vegarshei:e,"xn--vegrshei-c0a":e,vegrshei:e,vennesla:e,verdal:e,verran:e,vestby:e,vestnes:e,"vestre-slidre":e,"vestre-toten":e,vestvagoy:e,"xn--vestvgy-ixa6o":e,vestvgy:e,vevelstad:e,vik:e,vikna:e,vindafjord:e,volda:e,voss:e,varoy:e,"xn--vry-yla5g":e,vry:e,vagan:e,"xn--vgan-qoa":e,vgan:e,voagat:e,vagsoy:e,"xn--vgsy-qoa0j":e,vgsy:e,vaga:e,"xn--vg-yiab":e,vg:e,ostfold:[0,{valer:e}],"xn--stfold-9xa":[0,{"xn--vler-qoa":e}],stfold:[0,{vler:e}],co:t,blogspot:t,"123hjemmeside":t,myspreadshop:t}],np:s,nr:P,nu:[1,{merseine:t,mine:t,shacknet:t,enterprisecloud:t}],nz:[1,{ac:e,co:i,cri:e,geek:e,gen:e,govt:e,health:e,iwi:e,kiwi:e,maori:e,mil:e,"xn--mori-qsa":e,mori:e,net:e,org:e,parliament:e,school:e}],om:[1,{co:e,com:e,edu:e,gov:e,med:e,museum:e,net:e,org:e,pro:e}],onion:e,org:[1,{altervista:t,amune:[0,{tele:t}],pimienta:t,poivron:t,potager:t,sweetpepper:t,ae:t,us:t,certmgr:t,cdn77:[0,{c:t,rsc:t}],"cdn77-secure":[0,{origin:[0,{ssl:t}]}],cloudns:t,duckdns:t,tunk:t,dyndns:[2,{go:t,home:t}],blogdns:t,blogsite:t,boldlygoingnowhere:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,dvrdns:t,dynalias:t,endofinternet:t,endoftheinternet:t,"from-me":t,"game-host":t,gotdns:t,"hobby-site":t,homedns:t,homeftp:t,homelinux:t,homeunix:t,"is-a-bruinsfan":t,"is-a-candidate":t,"is-a-celticsfan":t,"is-a-chef":t,"is-a-geek":t,"is-a-knight":t,"is-a-linux-user":t,"is-a-patsfan":t,"is-a-soxfan":t,"is-found":t,"is-lost":t,"is-saved":t,"is-very-bad":t,"is-very-evil":t,"is-very-good":t,"is-very-nice":t,"is-very-sweet":t,"isa-geek":t,"kicks-ass":t,misconfused:t,podzone:t,readmyblog:t,selfip:t,sellsyourhome:t,servebbs:t,serveftp:t,servegame:t,"stuff-4-sale":t,webhop:t,ddnss:t,accesscam:t,camdvr:t,freeddns:t,mywire:t,webredirect:t,eu:[2,{al:t,asso:t,at:t,au:t,be:t,bg:t,ca:t,cd:t,ch:t,cn:t,cy:t,cz:t,de:t,dk:t,edu:t,ee:t,es:t,fi:t,fr:t,gr:t,hr:t,hu:t,ie:t,il:t,in:t,int:t,is:t,it:t,jp:t,kr:t,lt:t,lu:t,lv:t,mc:t,me:t,mk:t,mt:t,my:t,net:t,ng:t,nl:t,no:t,nz:t,paris:t,pl:t,pt:t,"q-a":t,ro:t,ru:t,se:t,si:t,sk:t,tr:t,uk:t,us:t}],twmail:t,fedorainfracloud:t,fedorapeople:t,fedoraproject:[0,{cloud:t,os:I,stg:[0,{os:I}]}],freedesktop:t,hepforge:t,"in-dsl":t,"in-vpn":t,js:t,barsy:t,mayfirst:t,"mozilla-iot":t,bmoattachments:t,dynserv:t,"now-dns":t,"cable-modem":t,collegefan:t,couchpotatofries:t,mlbfan:t,mysecuritycamera:t,nflfan:t,"read-books":t,ufcfan:t,hopto:t,myftp:t,"no-ip":t,zapto:t,httpbin:t,pubtls:t,jpn:t,"my-firewall":t,myfirewall:t,spdns:t,"small-web":t,dsmynas:t,familyds:t,teckids:d,tuxfamily:t,diskstation:t,hk:t,wmflabs:t,toolforge:t,wmcloud:t,za:t}],pa:[1,{ac:e,gob:e,com:e,org:e,sld:e,edu:e,net:e,ing:e,abo:e,med:e,nom:e}],pe:[1,{edu:e,gob:e,nom:e,mil:e,org:e,com:e,net:e,blogspot:t}],pf:[1,{com:e,org:e,edu:e}],pg:s,ph:[1,{com:e,net:e,org:e,gov:e,edu:e,ngo:e,mil:e,i:e}],pk:[1,{com:e,net:e,edu:e,org:e,fam:e,biz:e,web:e,gov:e,gob:e,gok:e,gon:e,gop:e,gos:e,info:e}],pl:[1,{com:e,net:e,org:e,aid:e,agro:e,atm:e,auto:e,biz:e,edu:e,gmina:e,gsm:e,info:e,mail:e,miasta:e,media:e,mil:e,nieruchomosci:e,nom:e,pc:e,powiat:e,priv:e,realestate:e,rel:e,sex:e,shop:e,sklep:e,sos:e,szkola:e,targi:e,tm:e,tourism:e,travel:e,turystyka:e,gov:[1,{ap:e,griw:e,ic:e,is:e,kmpsp:e,konsulat:e,kppsp:e,kwp:e,kwpsp:e,mup:e,mw:e,oia:e,oirm:e,oke:e,oow:e,oschr:e,oum:e,pa:e,pinb:e,piw:e,po:e,pr:e,psp:e,psse:e,pup:e,rzgw:e,sa:e,sdn:e,sko:e,so:e,sr:e,starostwo:e,ug:e,ugim:e,um:e,umig:e,upow:e,uppo:e,us:e,uw:e,uzs:e,wif:e,wiih:e,winb:e,wios:e,witd:e,wiw:e,wkz:e,wsa:e,wskr:e,wsse:e,wuoz:e,wzmiuw:e,zp:e,zpisdn:e}],augustow:e,"babia-gora":e,bedzin:e,beskidy:e,bialowieza:e,bialystok:e,bielawa:e,bieszczady:e,boleslawiec:e,bydgoszcz:e,bytom:e,cieszyn:e,czeladz:e,czest:e,dlugoleka:e,elblag:e,elk:e,glogow:e,gniezno:e,gorlice:e,grajewo:e,ilawa:e,jaworzno:e,"jelenia-gora":e,jgora:e,kalisz:e,"kazimierz-dolny":e,karpacz:e,kartuzy:e,kaszuby:e,katowice:e,kepno:e,ketrzyn:e,klodzko:e,kobierzyce:e,kolobrzeg:e,konin:e,konskowola:e,kutno:e,lapy:e,lebork:e,legnica:e,lezajsk:e,limanowa:e,lomza:e,lowicz:e,lubin:e,lukow:e,malbork:e,malopolska:e,mazowsze:e,mazury:e,mielec:e,mielno:e,mragowo:e,naklo:e,nowaruda:e,nysa:e,olawa:e,olecko:e,olkusz:e,olsztyn:e,opoczno:e,opole:e,ostroda:e,ostroleka:e,ostrowiec:e,ostrowwlkp:e,pila:e,pisz:e,podhale:e,podlasie:e,polkowice:e,pomorze:e,pomorskie:e,prochowice:e,pruszkow:e,przeworsk:e,pulawy:e,radom:e,"rawa-maz":e,rybnik:e,rzeszow:e,sanok:e,sejny:e,slask:e,slupsk:e,sosnowiec:e,"stalowa-wola":e,skoczow:e,starachowice:e,stargard:e,suwalki:e,swidnica:e,swiebodzin:e,swinoujscie:e,szczecin:e,szczytno:e,tarnobrzeg:e,tgory:e,turek:e,tychy:e,ustka:e,walbrzych:e,warmia:e,warszawa:e,waw:e,wegrow:e,wielun:e,wlocl:e,wloclawek:e,wodzislaw:e,wolomin:e,wroclaw:e,zachpomor:e,zagan:e,zarow:e,zgora:e,zgorzelec:e,beep:t,"ecommerce-shop":t,shoparena:t,homesklep:t,sdscloud:t,unicloud:t,krasnik:t,leczna:t,lubartow:t,lublin:t,poniatowa:t,swidnik:t,co:t,simplesite:t,art:t,gliwice:t,krakow:t,poznan:t,wroc:t,zakopane:t,myspreadshop:t,gda:t,gdansk:t,gdynia:t,med:t,sopot:t}],pm:[1,{own:t,name:t}],pn:[1,{gov:e,co:e,org:e,edu:e,net:e}],post:e,pr:[1,{com:e,net:e,org:e,gov:e,edu:e,isla:e,pro:e,biz:e,info:e,name:e,est:e,prof:e,ac:e}],pro:[1,{aaa:e,aca:e,acct:e,avocat:e,bar:e,cpa:e,eng:e,jur:e,law:e,med:e,recht:e,cloudns:t,dnstrace:[0,{bci:t}],barsy:t}],ps:[1,{edu:e,gov:e,sec:e,plo:e,com:e,org:e,net:e}],pt:[1,{net:e,gov:e,org:e,edu:e,int:e,publ:e,com:e,nome:e,blogspot:t,"123paginaweb":t}],pw:[1,{co:e,ne:e,or:e,ed:e,go:e,belau:e,cloudns:t,x443:t}],py:[1,{com:e,coop:e,edu:e,gov:e,mil:e,net:e,org:e}],qa:[1,{com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,sch:e,blogspot:t}],re:[1,{asso:e,com:e,nom:e,blogspot:t}],ro:[1,{arts:e,com:e,firm:e,info:e,nom:e,nt:e,org:e,rec:e,store:e,tm:e,www:e,co:t,shop:t,blogspot:t,barsy:t}],rs:[1,{ac:e,co:e,edu:e,gov:e,in:e,org:e,brendly:[0,{shop:t}],blogspot:t,ua:t,ox:t}],ru:[1,{ac:t,edu:t,gov:t,int:t,mil:t,test:t,eurodir:t,adygeya:t,bashkiria:t,bir:t,cbg:t,com:t,dagestan:t,grozny:t,kalmykia:t,kustanai:t,marine:t,mordovia:t,msk:t,mytis:t,nalchik:t,nov:t,pyatigorsk:t,spb:t,vladikavkaz:t,vladimir:t,blogspot:t,na4u:t,mircloud:t,regruhosting:$,myjino:[2,{hosting:r,landing:r,spectrum:r,vps:r}],cldmail:[0,{hb:t}],mcdir:[2,{vps:t}],mcpre:t,net:t,org:t,pp:t,"123sait":t,lk3:t,ras:t}],rw:[1,{ac:e,co:e,coop:e,gov:e,mil:e,net:e,org:e}],sa:[1,{com:e,net:e,org:e,gov:e,med:e,pub:e,edu:e,sch:e}],sb:n,sc:n,sd:[1,{com:e,net:e,org:e,edu:e,med:e,tv:e,gov:e,info:e}],se:[1,{a:e,ac:e,b:e,bd:e,brand:e,c:e,d:e,e,f:e,fh:e,fhsk:e,fhv:e,g:e,h:e,i:e,k:e,komforb:e,kommunalforbund:e,komvux:e,l:e,lanbib:e,m:e,n:e,naturbruksgymn:e,o:e,org:e,p:e,parti:e,pp:e,press:e,r:e,s:e,t:e,tm:e,u:e,w:e,x:e,y:e,z:e,com:t,blogspot:t,conf:t,iopsys:t,"123minsida":t,itcouldbewor:t,myspreadshop:t,paba:[0,{su:t}]}],sg:[1,{com:e,net:e,org:e,gov:e,edu:e,per:e,blogspot:t,enscaled:t}],sh:[1,{com:e,net:e,gov:e,org:e,mil:e,bip:t,hashbang:t,platform:[0,{bc:t,ent:t,eu:t,us:t}],now:t,vxl:t,wedeploy:t}],si:[1,{gitapp:t,gitpage:t,blogspot:t}],sj:e,sk:i,sl:n,sm:e,sn:[1,{art:e,com:e,edu:e,gouv:e,org:e,perso:e,univ:e,blogspot:t}],so:[1,{com:e,edu:e,gov:e,me:e,net:e,org:e,sch:t}],sr:e,ss:[1,{biz:e,com:e,edu:e,gov:e,me:e,net:e,org:e,sch:e}],st:[1,{co:e,com:e,consulado:e,edu:e,embaixada:e,mil:e,net:e,org:e,principe:e,saotome:e,store:e,kirara:t,noho:t}],su:[1,{abkhazia:t,adygeya:t,aktyubinsk:t,arkhangelsk:t,armenia:t,ashgabad:t,azerbaijan:t,balashov:t,bashkiria:t,bryansk:t,bukhara:t,chimkent:t,dagestan:t,"east-kazakhstan":t,exnet:t,georgia:t,grozny:t,ivanovo:t,jambyl:t,kalmykia:t,kaluga:t,karacol:t,karaganda:t,karelia:t,khakassia:t,krasnodar:t,kurgan:t,kustanai:t,lenug:t,mangyshlak:t,mordovia:t,msk:t,murmansk:t,nalchik:t,navoi:t,"north-kazakhstan":t,nov:t,obninsk:t,penza:t,pokrovsk:t,sochi:t,spb:t,tashkent:t,termez:t,togliatti:t,troitsk:t,tselinograd:t,tula:t,tuva:t,vladikavkaz:t,vladimir:t,vologda:t}],sv:[1,{com:e,edu:e,gob:e,org:e,red:e}],sx:o,sy:N,sz:[1,{co:e,ac:e,org:e}],tc:[1,{ch:t,me:t,we:t}],td:i,tel:e,tf:[1,{sch:t}],tg:e,th:[1,{ac:e,co:e,go:e,in:e,mi:e,net:e,or:e,online:t,shop:t}],tj:[1,{ac:e,biz:e,co:e,com:e,edu:e,go:e,gov:e,int:e,mil:e,name:e,net:e,nic:e,org:e,test:e,web:e}],tk:e,tl:o,tm:[1,{com:e,co:e,org:e,net:e,nom:e,gov:e,mil:e,edu:e}],tn:[1,{com:e,ens:e,fin:e,gov:e,ind:e,info:e,intl:e,mincom:e,nat:e,net:e,org:e,perso:e,tourism:e,orangecloud:t}],to:[1,{611:t,com:e,gov:e,net:e,org:e,edu:e,mil:e,oya:t,rdv:t,x0:t,vpnplus:t,quickconnect:u,nyan:t}],tr:[1,{av:e,bbs:e,bel:e,biz:e,com:i,dr:e,edu:e,gen:e,gov:e,info:e,mil:e,k12:e,kep:e,name:e,net:e,org:e,pol:e,tel:e,tsk:e,tv:e,web:e,nc:o}],tt:[1,{co:e,com:e,org:e,net:e,biz:e,info:e,pro:e,int:e,coop:e,jobs:e,mobi:e,travel:e,museum:e,aero:e,name:e,gov:e,edu:e}],tv:[1,{dyndns:t,"better-than":t,"on-the-web":t,"worse-than":t,from:t,sakura:t}],tw:[1,{edu:e,gov:e,mil:e,com:[1,{mymailer:t}],net:e,org:e,idv:e,game:e,ebiz:e,club:e,"xn--zf0ao64a":e,:e,"xn--uc0atv":e,:e,"xn--czrw28b":e,:e,url:t,blogspot:t}],tz:[1,{ac:e,co:e,go:e,hotel:e,info:e,me:e,mil:e,mobi:e,ne:e,or:e,sc:e,tv:e}],ua:[1,{com:e,edu:e,gov:e,in:e,net:e,org:e,cherkassy:e,cherkasy:e,chernigov:e,chernihiv:e,chernivtsi:e,chernovtsy:e,ck:e,cn:e,cr:e,crimea:e,cv:e,dn:e,dnepropetrovsk:e,dnipropetrovsk:e,donetsk:e,dp:e,if:e,"ivano-frankivsk":e,kh:e,kharkiv:e,kharkov:e,kherson:e,khmelnitskiy:e,khmelnytskyi:e,kiev:e,kirovograd:e,km:e,kr:e,kropyvnytskyi:e,krym:e,ks:e,kv:e,kyiv:e,lg:e,lt:e,lugansk:e,luhansk:e,lutsk:e,lv:e,lviv:e,mk:e,mykolaiv:e,nikolaev:e,od:e,odesa:e,odessa:e,pl:e,poltava:e,rivne:e,rovno:e,rv:e,sb:e,sebastopol:e,sevastopol:e,sm:e,sumy:e,te:e,ternopil:e,uz:e,uzhgorod:e,uzhhorod:e,vinnica:e,vinnytsia:e,vn:e,volyn:e,yalta:e,zakarpattia:e,zaporizhzhe:e,zaporizhzhia:e,zhitomir:e,zhytomyr:e,zp:e,zt:e,cc:t,inf:t,ltd:t,cx:t,ie:t,biz:t,co:t,pp:t,v:t}],ug:[1,{co:e,or:e,ac:e,sc:e,go:e,ne:e,com:e,org:e,blogspot:t}],uk:[1,{ac:e,co:[1,{bytemark:[0,{dh:t,vm:t}],blogspot:t,layershift:U,barsy:t,barsyonline:t,retrosnub:E,"nh-serv":t,"no-ip":t,wellbeingzone:t,adimo:t,myspreadshop:t}],gov:[1,{campaign:t,service:t,api:t,homeoffice:t}],ltd:e,me:e,net:e,nhs:e,org:[1,{glug:t,lug:t,lugs:t,affinitylottery:t,raffleentry:t,weeklylottery:t}],plc:e,police:e,sch:s,conn:t,copro:t,hosp:t,"independent-commission":t,"independent-inquest":t,"independent-inquiry":t,"independent-panel":t,"independent-review":t,"public-inquiry":t,"royal-commission":t,pymnt:t,barsy:t}],us:[1,{dni:e,fed:e,isa:e,kids:e,nsn:e,ak:G,al:G,ar:G,as:G,az:G,ca:G,co:G,ct:G,dc:G,de:[1,{cc:e,lib:t}],fl:G,ga:G,gu:G,hi:Y,ia:G,id:G,il:G,in:G,ks:G,ky:G,la:G,ma:[1,{k12:[1,{pvt:e,chtr:e,paroch:e}],cc:e,lib:e}],md:G,me:G,mi:[1,{k12:e,cc:e,lib:e,"ann-arbor":e,cog:e,dst:e,eaton:e,gen:e,mus:e,tec:e,washtenaw:e}],mn:G,mo:G,ms:G,mt:G,nc:G,nd:Y,ne:G,nh:G,nj:G,nm:G,nv:G,ny:G,oh:G,ok:G,or:G,pa:G,pr:G,ri:Y,sc:G,sd:Y,tn:G,tx:G,ut:G,vi:G,vt:G,va:G,wa:G,wi:G,wv:[1,{cc:e}],wy:G,graphox:t,cloudns:t,drud:t,"is-by":t,"land-4-sale":t,"stuff-4-sale":t,enscaled:[0,{phx:t}],mircloud:t,freeddns:t,golffan:t,noip:t,pointto:t,platterp:t}],uy:[1,{com:i,edu:e,gub:e,mil:e,net:e,org:e}],uz:[1,{co:e,com:e,net:e,org:e}],va:e,vc:[1,{com:e,net:e,org:e,gov:e,mil:e,edu:e,gv:[2,{d:t}],"0e":t}],ve:[1,{arts:e,bib:e,co:e,com:e,e12:e,edu:e,firm:e,gob:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rar:e,rec:e,store:e,tec:e,web:e}],vg:[1,{at:t}],vi:[1,{co:e,com:e,k12:e,net:e,org:e}],vn:[1,{ac:e,ai:e,biz:e,com:e,edu:e,gov:e,health:e,id:e,info:e,int:e,io:e,name:e,net:e,org:e,pro:e,angiang:e,bacgiang:e,backan:e,baclieu:e,bacninh:e,"baria-vungtau":e,bentre:e,binhdinh:e,binhduong:e,binhphuoc:e,binhthuan:e,camau:e,cantho:e,caobang:e,daklak:e,daknong:e,danang:e,dienbien:e,dongnai:e,dongthap:e,gialai:e,hagiang:e,haiduong:e,haiphong:e,hanam:e,hanoi:e,hatinh:e,haugiang:e,hoabinh:e,hungyen:e,khanhhoa:e,kiengiang:e,kontum:e,laichau:e,lamdong:e,langson:e,laocai:e,longan:e,namdinh:e,nghean:e,ninhbinh:e,ninhthuan:e,phutho:e,phuyen:e,quangbinh:e,quangnam:e,quangngai:e,quangninh:e,quangtri:e,soctrang:e,sonla:e,tayninh:e,thaibinh:e,thainguyen:e,thanhhoa:e,thanhphohochiminh:e,thuathienhue:e,tiengiang:e,travinh:e,tuyenquang:e,vinhlong:e,vinhphuc:e,yenbai:e,blogspot:t}],vu:[1,{com:e,edu:e,net:e,org:e,cn:t,blog:t,dev:t,me:t}],wf:[1,{biz:t,sch:t}],ws:[1,{com:e,net:e,org:e,gov:e,edu:e,advisor:r,cloud66:t,dyndns:t,mypets:t}],yt:[1,{org:t}],"xn--mgbaam7a8h":e,:e,"xn--y9a3aq":e,:e,"xn--54b7fta0cc":e,:e,"xn--90ae":e,:e,"xn--mgbcpq6gpa1a":e,:e,"xn--90ais":e,:e,"xn--fiqs8s":e,:e,"xn--fiqz9s":e,:e,"xn--lgbbat1ad8j":e,:e,"xn--wgbh1c":e,:e,"xn--e1a4c":e,:e,"xn--qxa6a":e,:e,"xn--mgbah1a3hjkrd":e,:e,"xn--node":e,:e,"xn--qxam":e,:e,"xn--j6w193g":[1,{"xn--55qx5d":e,"xn--wcvs22d":e,"xn--mxtq1m":e,"xn--gmqw5a":e,"xn--od0alg":e,"xn--uc0atv":e}],:[1,{:e,:e,:e,:e,:e,:e}],"xn--2scrj9c":e,:e,"xn--3hcrj9c":e,:e,"xn--45br5cyl":e,:e,"xn--h2breg3eve":e,:e,"xn--h2brj9c8c":e,:e,"xn--mgbgu82a":e,:e,"xn--rvc1e0am3e":e,:e,"xn--h2brj9c":e,:e,"xn--mgbbh1a":e,:e,"xn--mgbbh1a71e":e,:e,"xn--fpcrj9c3d":e,:e,"xn--gecrj9c":e,:e,"xn--s9brj9c":e,:e,"xn--45brj9c":e,:e,"xn--xkc2dl3a5ee0h":e,:e,"xn--mgba3a4f16a":e,:e,"xn--mgba3a4fra":e,:e,"xn--mgbtx2b":e,:e,"xn--mgbayh7gpa":e,:e,"xn--3e0b707e":e,:e,"xn--80ao21a":e,:e,"xn--q7ce6a":e,:e,"xn--fzc2c9e2c":e,:e,"xn--xkc2al3hye2a":e,:e,"xn--mgbc0a9azcg":e,:e,"xn--d1alf":e,:e,"xn--l1acc":e,:e,"xn--mix891f":e,:e,"xn--mix082f":e,:e,"xn--mgbx4cd0ab":e,:e,"xn--mgb9awbf":e,:e,"xn--mgbai9azgqp6j":e,:e,"xn--mgbai9a5eva00b":e,:e,"xn--ygbi2ammx":e,:e,"xn--90a3ac":[1,{"xn--o1ac":e,"xn--c1avg":e,"xn--90azh":e,"xn--d1at":e,"xn--o1ach":e,"xn--80au":e}],:[1,{:e,:e,:e,:e,:e,:e}],"xn--p1ai":e,:e,"xn--wgbl6a":e,:e,"xn--mgberp4a5d4ar":e,:e,"xn--mgberp4a5d4a87g":e,:e,"xn--mgbqly7c0a67fbc":e,:e,"xn--mgbqly7cvafr":e,:e,"xn--mgbpl2fh":e,:e,"xn--yfro4i67o":e,:e,"xn--clchc0ea0b2g2a9gcd":e,:e,"xn--ogbpf8fl":e,:e,"xn--mgbtf8fl":e,:e,"xn--o3cw4h":[1,{"xn--12c1fe0br":e,"xn--12co0c3b4eva":e,"xn--h3cuzk1di":e,"xn--o3cyx2a":e,"xn--m3ch0j3a":e,"xn--12cfi8ixb8l":e}],:[1,{:e,:e,:e,:e,:e,:e}],"xn--pgbs0dh":e,:e,"xn--kpry57d":e,:e,"xn--kprw13d":e,:e,"xn--nnx388a":e,:e,"xn--j1amh":e,:e,"xn--mgb2ddes":e,:e,xxx:e,ye:N,za:[0,{ac:e,agric:e,alt:e,co:i,edu:e,gov:e,grondar:e,law:e,mil:e,net:e,ngo:e,nic:e,nis:e,nom:e,org:e,school:e,tm:e,web:e}],zm:[1,{ac:e,biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,net:e,org:e,sch:e}],zw:[1,{ac:e,co:e,gov:e,mil:e,org:e}],aaa:e,aarp:e,abb:e,abbott:e,abbvie:e,abc:e,able:e,abogado:e,abudhabi:e,academy:[1,{official:t}],accenture:e,accountant:e,accountants:e,aco:e,actor:e,ads:e,adult:e,aeg:e,aetna:e,afl:e,africa:e,agakhan:e,agency:e,aig:e,airbus:e,airforce:e,airtel:e,akdn:e,alibaba:e,alipay:e,allfinanz:e,allstate:e,ally:e,alsace:e,alstom:e,amazon:e,americanexpress:e,americanfamily:e,amex:e,amfam:e,amica:e,amsterdam:e,analytics:e,android:e,anquan:e,anz:e,aol:e,apartments:e,app:[1,{beget:r,clerk:t,clerkstage:t,wnext:t,platform0:t,deta:t,ondigitalocean:t,easypanel:t,encr:t,edgecompute:t,fireweb:t,onflashdrive:t,framer:t,run:[2,{a:t}],web:t,hasura:t,loginline:t,messerli:t,netlify:t,ngrok:t,"ngrok-free":t,developer:r,noop:t,northflank:r,snowflake:[2,{privatelink:t}],streamlit:t,storipress:t,telebit:t,typedream:t,vercel:t,bookonline:t}],apple:e,aquarelle:e,arab:e,aramco:e,archi:e,army:e,art:e,arte:e,asda:e,associates:e,athleta:e,attorney:e,auction:e,audi:e,audible:e,audio:e,auspost:e,author:e,auto:e,autos:e,avianca:e,aws:e,axa:e,azure:e,baby:e,baidu:e,banamex:e,bananarepublic:e,band:e,bank:e,bar:e,barcelona:e,barclaycard:e,barclays:e,barefoot:e,bargains:e,baseball:e,basketball:[1,{aus:t,nz:t}],bauhaus:e,bayern:e,bbc:e,bbt:e,bbva:e,bcg:e,bcn:e,beats:e,beauty:e,beer:e,bentley:e,berlin:e,best:e,bestbuy:e,bet:e,bharti:e,bible:e,bid:e,bike:e,bing:e,bingo:e,bio:e,black:e,blackfriday:e,blockbuster:e,blog:e,bloomberg:e,blue:e,bms:e,bmw:e,bnpparibas:e,boats:e,boehringer:e,bofa:e,bom:e,bond:e,boo:e,book:e,booking:e,bosch:e,bostik:e,boston:e,bot:e,boutique:e,box:e,bradesco:e,bridgestone:e,broadway:e,broker:e,brother:e,brussels:e,build:e,builders:[1,{cloudsite:t}],business:l,buy:e,buzz:e,bzh:e,cab:e,cafe:e,cal:e,call:e,calvinklein:e,cam:e,camera:e,camp:e,canon:e,capetown:e,capital:e,capitalone:e,car:e,caravan:e,cards:e,care:e,career:e,careers:e,cars:e,casa:[1,{nabu:[0,{ui:t}]}],case:e,cash:e,casino:e,catering:e,catholic:e,cba:e,cbn:e,cbre:e,cbs:e,center:e,ceo:e,cern:e,cfa:e,cfd:e,chanel:e,channel:e,charity:e,chase:e,chat:e,cheap:e,chintai:e,christmas:e,chrome:e,church:e,cipriani:e,circle:e,cisco:e,citadel:e,citi:e,citic:e,city:e,cityeats:e,claims:e,cleaning:e,click:e,clinic:e,clinique:e,clothing:e,cloud:[1,{banzai:r,elementor:t,encoway:[0,{eu:t}],statics:r,ravendb:t,axarnet:[0,{"es-1":t}],diadem:t,jelastic:[0,{vip:t}],jele:t,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:t}]}],it1:t}],keliweb:[2,{cs:t}],oxa:[2,{tn:t,uk:t}],primetel:[2,{uk:t}],reclaim:[0,{ca:t,uk:t,us:t}],trendhosting:[0,{ch:t,de:t}],jotelulu:t,kuleuven:t,linkyard:t,magentosite:r,perspecta:t,vapor:t,"on-rancher":r,scw:[0,{baremetal:[0,{"fr-par-1":t,"fr-par-2":t,"nl-ams-1":t}],"fr-par":[0,{fnc:[2,{functions:t}],k8s:c,s3:t,"s3-website":t,whm:t}],instances:[0,{priv:t,pub:t}],k8s:t,"nl-ams":[0,{k8s:c,s3:t,"s3-website":t,whm:t}],"pl-waw":[0,{k8s:c,s3:t,"s3-website":t}],scalebook:t,smartlabeling:t}],sensiosite:r,trafficplex:t,urown:t,voorloper:t}],club:[1,{cloudns:t,jele:t,barsy:t}],clubmed:e,coach:e,codes:[1,{owo:r}],coffee:e,college:e,cologne:e,comcast:e,commbank:e,community:[1,{nog:t,ravendb:t,myforum:t}],company:e,compare:e,computer:e,comsec:e,condos:e,construction:e,consulting:e,contact:e,contractors:e,cooking:e,cool:[1,{elementor:t,de:t}],corsica:e,country:e,coupon:e,coupons:e,courses:e,cpa:e,credit:e,creditcard:e,creditunion:e,cricket:e,crown:e,crs:e,cruise:e,cruises:e,cuisinella:e,cymru:e,cyou:e,dabur:e,dad:e,dance:e,data:e,date:e,dating:e,datsun:e,day:e,dclk:e,dds:e,deal:e,dealer:e,deals:e,degree:e,delivery:e,dell:e,deloitte:e,delta:e,democrat:e,dental:e,dentist:e,desi:e,design:[1,{bss:t}],dev:[1,{autocode:t,lcl:r,lclstage:r,stg:r,stgstage:r,pages:t,r2:t,workers:t,curv:t,deno:t,"deno-staging":t,deta:t,fly:t,githubpreview:t,gateway:r,iserv:t,localcert:[0,{user:r}],loginline:t,mediatech:t,ngrok:t,"ngrok-free":t,"platter-app":t,shiftcrypto:t,vercel:t,webhare:r}],dhl:e,diamonds:e,diet:e,digital:[1,{cloudapps:[2,{london:t}]}],direct:e,directory:e,discount:e,discover:e,dish:e,diy:e,dnp:e,docs:e,doctor:e,dog:e,domains:e,dot:e,download:e,drive:e,dtv:e,dubai:e,dunlop:e,dupont:e,durban:e,dvag:e,dvr:e,earth:[1,{dapps:[0,{"*":t,bzz:r}]}],eat:e,eco:e,edeka:e,education:l,email:e,emerck:e,energy:e,engineer:e,engineering:e,enterprises:e,epson:e,equipment:e,ericsson:e,erni:e,esq:e,estate:[1,{compute:r}],etisalat:e,eurovision:e,eus:[1,{party:q}],events:[1,{koobin:t,co:t}],exchange:e,expert:e,exposed:e,express:e,extraspace:e,fage:e,fail:e,fairwinds:e,faith:z,family:e,fan:e,fans:e,farm:[1,{storj:t}],farmers:e,fashion:e,fast:e,fedex:e,feedback:e,ferrari:e,ferrero:e,fidelity:e,fido:e,film:e,final:e,finance:e,financial:l,fire:e,firestone:e,firmdale:e,fish:e,fishing:e,fit:e,fitness:e,flickr:e,flights:e,flir:e,florist:e,flowers:e,fly:e,foo:e,food:e,football:e,ford:e,forex:e,forsale:e,forum:e,foundation:e,fox:e,free:e,fresenius:e,frl:e,frogans:e,frontdoor:e,frontier:e,ftr:e,fujitsu:e,fun:e,fund:e,furniture:e,futbol:e,fyi:e,gal:e,gallery:e,gallo:e,gallup:e,game:e,games:e,gap:e,garden:e,gay:e,gbiz:e,gdn:[1,{cnpy:t}],gea:e,gent:e,genting:e,george:e,ggee:e,gift:e,gifts:e,gives:e,giving:e,glass:e,gle:e,global:e,globo:e,gmail:e,gmbh:e,gmo:e,gmx:e,godaddy:e,gold:e,goldpoint:e,golf:e,goo:e,goodyear:e,goog:[1,{cloud:t,translate:t,usercontent:r}],google:e,gop:e,got:e,grainger:e,graphics:e,gratis:e,green:e,gripe:e,grocery:e,group:[1,{discourse:t}],guardian:e,gucci:e,guge:e,guide:e,guitars:e,guru:e,hair:e,hamburg:e,hangout:e,haus:e,hbo:e,hdfc:e,hdfcbank:e,health:[1,{hra:t}],healthcare:e,help:e,helsinki:e,here:e,hermes:e,hiphop:e,hisamitsu:e,hitachi:e,hiv:e,hkt:e,hockey:e,holdings:e,holiday:e,homedepot:e,homegoods:e,homes:e,homesense:e,honda:e,horse:e,hospital:e,host:[1,{cloudaccess:t,freesite:t,easypanel:t,fastvps:t,myfast:t,tempurl:t,wpmudev:t,jele:t,mircloud:t,pcloud:t,half:t}],hosting:[1,{opencraft:t}],hot:e,hotels:e,hotmail:e,house:e,how:e,hsbc:e,hughes:e,hyatt:e,hyundai:e,ibm:e,icbc:e,ice:e,icu:e,ieee:e,ifm:e,ikano:e,imamat:e,imdb:e,immo:e,immobilien:e,inc:e,industries:e,infiniti:e,ing:e,ink:e,institute:e,insurance:e,insure:e,international:e,intuit:e,investments:e,ipiranga:e,irish:e,ismaili:e,ist:e,istanbul:e,itau:e,itv:e,jaguar:e,java:e,jcb:e,jeep:e,jetzt:e,jewelry:e,jio:e,jll:e,jmp:e,jnj:e,joburg:e,jot:e,joy:e,jpmorgan:e,jprs:e,juegos:e,juniper:e,kaufen:e,kddi:e,kerryhotels:e,kerrylogistics:e,kerryproperties:e,kfh:e,kia:e,kids:e,kim:e,kinder:e,kindle:e,kitchen:e,kiwi:e,koeln:e,komatsu:e,kosher:e,kpmg:e,kpn:e,krd:[1,{co:t,edu:t}],kred:e,kuokgroup:e,kyoto:e,lacaixa:e,lamborghini:e,lamer:e,lancaster:e,land:[1,{static:[2,{dev:t,sites:t}]}],landrover:e,lanxess:e,lasalle:e,lat:e,latino:e,latrobe:e,law:e,lawyer:e,lds:e,lease:e,leclerc:e,lefrak:e,legal:e,lego:e,lexus:e,lgbt:e,lidl:e,life:e,lifeinsurance:e,lifestyle:e,lighting:e,like:e,lilly:e,limited:e,limo:e,lincoln:e,link:[1,{cyon:t,mypep:t,dweb:r}],lipsy:e,live:[1,{hlx:t}],living:e,llc:e,llp:e,loan:e,loans:e,locker:e,locus:e,lol:[1,{omg:t}],london:e,lotte:e,lotto:e,love:e,lpl:e,lplfinancial:e,ltd:e,ltda:e,lundbeck:e,luxe:e,luxury:e,madrid:e,maif:e,maison:e,makeup:e,man:e,management:[1,{router:t}],mango:e,map:e,market:e,marketing:e,markets:e,marriott:e,marshalls:e,mattel:e,mba:e,mckinsey:e,med:e,media:V,meet:e,melbourne:e,meme:e,memorial:e,men:e,menu:K,merckmsd:e,miami:e,microsoft:e,mini:e,mint:e,mit:e,mitsubishi:e,mlb:e,mls:e,mma:e,mobile:e,moda:e,moe:e,moi:e,mom:e,monash:e,money:e,monster:e,mormon:e,mortgage:e,moscow:e,moto:e,motorcycles:e,mov:e,movie:e,msd:e,mtn:e,mtr:e,music:e,nab:e,nagoya:e,natura:e,navy:e,nba:e,nec:e,netbank:e,netflix:e,network:[1,{alces:r,co:t,arvo:t,azimuth:t,tlon:t}],neustar:e,new:e,news:[1,{noticeable:t}],next:e,nextdirect:e,nexus:e,nfl:e,ngo:e,nhk:e,nico:e,nike:e,nikon:e,ninja:e,nissan:e,nissay:e,nokia:e,norton:e,now:e,nowruz:e,nowtv:e,nra:e,nrw:e,ntt:e,nyc:e,obi:e,observer:e,office:e,okinawa:e,olayan:e,olayangroup:e,oldnavy:e,ollo:e,omega:e,one:[1,{onred:[2,{staging:t}],service:t,homelink:t}],ong:e,onl:e,online:[1,{eero:t,"eero-stage":t,barsy:t}],ooo:e,open:e,oracle:e,orange:[1,{tech:t}],organic:e,origins:e,osaka:e,otsuka:e,ott:e,ovh:[1,{nerdpol:t}],page:[1,{hlx:t,hlx3:t,translated:t,codeberg:t,pdns:t,plesk:t,prvcy:t,rocky:t,magnet:t}],panasonic:e,paris:e,pars:e,partners:e,parts:e,party:z,pay:e,pccw:e,pet:e,pfizer:e,pharmacy:e,phd:e,philips:e,phone:e,photo:e,photography:e,photos:V,physio:e,pics:e,pictet:e,pictures:[1,{1337:t}],pid:e,pin:e,ping:e,pink:e,pioneer:e,pizza:[1,{ngrok:t}],place:l,play:e,playstation:e,plumbing:e,plus:e,pnc:e,pohl:e,poker:e,politie:e,porn:[1,{indie:t}],pramerica:e,praxi:e,press:e,prime:e,prod:e,productions:e,prof:e,progressive:e,promo:e,properties:e,property:e,protection:e,pru:e,prudential:e,pub:K,pwc:e,qpon:e,quebec:e,quest:e,racing:e,radio:e,read:e,realestate:e,realtor:e,realty:e,recipes:e,red:e,redstone:e,redumbrella:e,rehab:e,reise:e,reisen:e,reit:e,reliance:e,ren:e,rent:e,rentals:e,repair:e,report:e,republican:e,rest:e,restaurant:e,review:z,reviews:e,rexroth:e,rich:e,richardli:e,ricoh:e,ril:e,rio:e,rip:[1,{clan:t}],rocher:e,rocks:[1,{myddns:t,"lima-city":t,webspace:t}],rodeo:e,rogers:e,room:e,rsvp:e,rugby:e,ruhr:e,run:[1,{hs:t,development:t,ravendb:t,servers:t,build:r,code:r,database:r,migration:r,onporter:t,repl:t,wix:t}],rwe:e,ryukyu:e,saarland:e,safe:e,safety:e,sakura:e,sale:e,salon:e,samsclub:e,samsung:e,sandvik:e,sandvikcoromant:e,sanofi:e,sap:e,sarl:e,sas:e,save:e,saxo:e,sbi:e,sbs:e,sca:e,scb:e,schaeffler:e,schmidt:e,scholarships:e,school:e,schule:e,schwarz:e,science:z,scot:[1,{edu:t,gov:[2,{service:t}]}],search:e,seat:e,secure:e,security:e,seek:e,select:e,sener:e,services:[1,{loginline:t}],seven:e,sew:e,sex:e,sexy:e,sfr:e,shangrila:e,sharp:e,shaw:e,shell:e,shia:e,shiksha:e,shoes:e,shop:[1,{base:t,hoplix:t,barsy:t}],shopping:e,shouji:e,show:e,showtime:e,silk:e,sina:e,singles:e,site:[1,{cloudera:r,cyon:t,fnwk:t,folionetwork:t,fastvps:t,jele:t,lelux:t,loginline:t,barsy:t,mintere:t,omniwe:t,opensocial:t,platformsh:r,tst:r,byen:t,srht:t,novecore:t}],ski:e,skin:e,sky:e,skype:e,sling:e,smart:e,smile:e,sncf:e,soccer:e,social:e,softbank:e,software:e,sohu:e,solar:e,solutions:[1,{diher:r}],song:e,sony:e,soy:e,spa:e,space:[1,{myfast:t,uber:t,xs4all:t}],sport:e,spot:e,srl:e,stada:e,staples:e,star:e,statebank:e,statefarm:e,stc:e,stcgroup:e,stockholm:e,storage:e,store:[1,{sellfy:t,shopware:t,storebase:t}],stream:e,studio:e,study:e,style:e,sucks:e,supplies:e,supply:e,support:K,surf:e,surgery:e,suzuki:e,swatch:e,swiss:e,sydney:e,systems:[1,{knightpoint:t}],tab:e,taipei:e,talk:e,taobao:e,target:e,tatamotors:e,tatar:e,tattoo:e,tax:e,taxi:e,tci:e,tdk:e,team:[1,{discourse:t,jelastic:t}],tech:e,technology:l,temasek:e,tennis:e,teva:e,thd:e,theater:e,theatre:e,tiaa:e,tickets:e,tienda:e,tips:e,tires:e,tirol:e,tjmaxx:e,tjx:e,tkmaxx:e,tmall:e,today:[1,{prequalifyme:t}],tokyo:e,tools:e,top:[1,{"now-dns":t,ntdll:t}],toray:e,toshiba:e,total:e,tours:e,town:e,toyota:e,toys:e,trade:z,trading:e,training:e,travel:e,travelers:e,travelersinsurance:e,trust:e,trv:e,tube:e,tui:e,tunes:e,tushu:e,tvs:e,ubank:e,ubs:e,unicom:e,university:e,uno:e,uol:e,ups:e,vacations:e,vana:e,vanguard:e,vegas:e,ventures:e,verisign:e,versicherung:e,vet:e,viajes:e,video:e,vig:e,viking:e,villas:e,vin:e,vip:e,virgin:e,visa:e,vision:e,viva:e,vivo:e,vlaanderen:e,vodka:e,volkswagen:e,volvo:e,vote:e,voting:e,voto:e,voyage:e,wales:e,walmart:e,walter:e,wang:e,wanggou:e,watch:e,watches:e,weather:e,weatherchannel:e,webcam:e,weber:e,website:V,wedding:e,weibo:e,weir:e,whoswho:e,wien:e,wiki:V,williamhill:e,win:e,windows:e,wine:e,winners:e,wme:e,wolterskluwer:e,woodside:e,work:e,works:e,world:e,wow:e,wtc:e,wtf:e,xbox:e,xerox:e,xfinity:e,xihuan:e,xin:e,"xn--11b4c3d":e,:e,"xn--1ck2e1b":e,:e,"xn--1qqw23a":e,:e,"xn--30rr7y":e,:e,"xn--3bst00m":e,:e,"xn--3ds443g":e,:e,"xn--3pxu8k":e,:e,"xn--42c2d9a":e,:e,"xn--45q11c":e,:e,"xn--4gbrim":e,:e,"xn--55qw42g":e,:e,"xn--55qx5d":e,:e,"xn--5su34j936bgsg":e,:e,"xn--5tzm5g":e,:e,"xn--6frz82g":e,:e,"xn--6qq986b3xl":e,:e,"xn--80adxhks":e,:e,"xn--80aqecdr1a":e,:e,"xn--80asehdb":e,:e,"xn--80aswg":e,:e,"xn--8y0a063a":e,:e,"xn--9dbq2a":e,:e,"xn--9et52u":e,:e,"xn--9krt00a":e,:e,"xn--b4w605ferd":e,:e,"xn--bck1b9a5dre4c":e,:e,"xn--c1avg":e,:e,"xn--c2br7g":e,:e,"xn--cck2b3b":e,:e,"xn--cckwcxetd":e,:e,"xn--cg4bki":e,:e,"xn--czr694b":e,:e,"xn--czrs0t":e,:e,"xn--czru2d":e,:e,"xn--d1acj3b":e,:e,"xn--eckvdtc9d":e,:e,"xn--efvy88h":e,:e,"xn--fct429k":e,:e,"xn--fhbei":e,:e,"xn--fiq228c5hs":e,:e,"xn--fiq64b":e,:e,"xn--fjq720a":e,:e,"xn--flw351e":e,:e,"xn--fzys8d69uvgm":e,:e,"xn--g2xx48c":e,:e,"xn--gckr3f0f":e,:e,"xn--gk3at1e":e,:e,"xn--hxt814e":e,:e,"xn--i1b6b1a6a2e":e,:e,"xn--imr513n":e,:e,"xn--io0a7i":e,:e,"xn--j1aef":e,:e,"xn--jlq480n2rg":e,:e,"xn--jvr189m":e,:e,"xn--kcrx77d1x4a":e,:e,"xn--kput3i":e,:e,"xn--mgba3a3ejt":e,:e,"xn--mgba7c0bbn0a":e,:e,"xn--mgbaakc7dvf":e,:e,"xn--mgbab2bd":e,:e,"xn--mgbca7dzdo":e,:e,"xn--mgbi4ecexp":e,:e,"xn--mgbt3dhd":e,:e,"xn--mk1bu44c":e,:e,"xn--mxtq1m":e,:e,"xn--ngbc5azd":e,:e,"xn--ngbe9e0a":e,:e,"xn--ngbrx":e,:e,"xn--nqv7f":e,:e,"xn--nqv7fs00ema":e,:e,"xn--nyqy26a":e,:e,"xn--otu796d":e,:e,"xn--p1acf":[1,{"xn--90amc":t,"xn--j1aef":t,"xn--j1ael8b":t,"xn--h1ahn":t,"xn--j1adp":t,"xn--c1avg":t,"xn--80aaa0cvac":t,"xn--h1aliz":t,"xn--90a1af":t,"xn--41a":t}],:[1,{:t,:t,:t,:t,:t,:t,:t,:t,:t,:t}],"xn--pssy2u":e,:e,"xn--q9jyb4c":e,:e,"xn--qcka1pmc":e,:e,"xn--rhqv96g":e,:e,"xn--rovu88b":e,:e,"xn--ses554g":e,:e,"xn--t60b56a":e,:e,"xn--tckwe":e,:e,"xn--tiq49xqyj":e,:e,"xn--unup4y":e,:e,"xn--vermgensberater-ctb":e,vermgensberater:e,"xn--vermgensberatung-pwb":e,vermgensberatung:e,"xn--vhquv":e,:e,"xn--vuq861b":e,:e,"xn--w4r85el8fhu5dnra":e,:e,"xn--w4rs40l":e,:e,"xn--xhq521b":e,:e,"xn--zfr164b":e,:e,xyz:[1,{blogsite:t,localzone:t,crafting:t,zapto:t,telebit:r}],yachts:e,yahoo:e,yamaxun:e,yandex:e,yodobashi:e,yoga:e,yokohama:e,you:e,youtube:e,yun:e,zappos:e,zara:e,zero:e,zip:e,zone:[1,{cloud66:t,hs:t,triton:r,lima:t}],zuerich:e}]})();function YF(e,t,n,r){let i=null,o=t;for(;o!==void 0&&((o[0]&r)!==0&&(i={index:n+1,isIcann:o[0]===1,isPrivate:o[0]===2}),n!==-1);){const s=o[1];o=Object.prototype.hasOwnProperty.call(s,e[n])?s[e[n]]:s["*"],n-=1}return i}function Rxe(e,t,n){var r;if(Exe(e,t,n))return;const i=e.split("."),o=(t.allowPrivateDomains?2:0)|(t.allowIcannDomains?1:0),s=YF(i,Cxe,i.length-1,o);if(s!==null){n.isIcann=s.isIcann,n.isPrivate=s.isPrivate,n.publicSuffix=i.slice(s.index+1).join(".");return}const a=YF(i,Axe,i.length-1,o);if(a!==null){n.isIcann=a.isIcann,n.isPrivate=a.isPrivate,n.publicSuffix=i.slice(a.index).join(".");return}n.isIcann=!1,n.isPrivate=!1,n.publicSuffix=(r=i[i.length-1])!==null&&r!==void 0?r:null}function Txe(e,t={}){return Ixe(e,5,Rxe,t,Sxe())}const Oxe=e=>({downloadFile:(t,n)=>ym(void 0,void 0,void 0,function*(){const r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}),getDisplayOrigin:()=>e.location.origin,getHost:()=>e.location.host,getHostname:()=>e.location.hostname,getOrigin:()=>e.location.origin,getTLD:t=>Txe(t||e.location.hostname,{allowPrivateDomains:!0}).domain||void 0,getUrl:()=>new URL(e.location.href),isNativeMobile:!1,openURL:(t,...n)=>ym(void 0,[t,...n],void 0,function*(r,i="self",o=""){i==="blank"?e.open(r,"_blank",o):e.location.assign(r)})});var as,S2;class Ln{static get implementation(){return p0(as,as,"f",S2)?p0(as,as,"f",S2):Oxe(window)}static set implementation(t){gD(as,as,t,"f",S2)}static get isNativeMobile(){return as.implementation.isNativeMobile}static get getOrigin(){return as.implementation.getOrigin}static get getDisplayOrigin(){return as.implementation.getDisplayOrigin}static get getHost(){return as.implementation.getHost}static get getHostname(){return as.implementation.getHostname}static get getUrl(){return as.implementation.getUrl}static getTLD(t){return as.implementation.getTLD(t)}static get openURL(){return as.implementation.openURL}static get downloadFile(){return as.implementation.downloadFile}static onUrlUpdate(t){var n,r;return(r=(n=as.implementation).onUrlUpdate)===null||r===void 0?void 0:r.call(n,t)}}as=Ln;S2={value:void 0};const Jy=()=>Ln.getTLD(),Nxe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ios|ipad|playbook|silk/i,Pxe=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,rr=e=>typeof window>"u"||typeof navigator>"u"?!1:Nxe.test(navigator.userAgent)||Pxe.test(navigator.userAgent.substring(0,4))||ZI()||G1(),G1=()=>typeof window>"u"||typeof navigator>"u"?!1:/iPhone|ios/.test(navigator.userAgent),Bxe=()=>typeof window>"u"||typeof navigator>"u"?!1:Mxe.some(({regex:e})=>e.test(navigator.userAgent)),ZI=e=>{if(typeof window>"u"||typeof navigator>"u")return!1;const t=navigator.maxTouchPoints;return/iPad/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&t===5},YI=e=>typeof window>"u"||typeof navigator>"u"?!1:G1()||ZI(),XI=()=>rr()&&!YI(),uO=()=>typeof window>"u"||!window.CSS||typeof window.CSS.supports!="function"?!1:!CSS.supports("aspect-ratio: 1 / 1"),loe=()=>typeof window>"u"||typeof navigator>"u"?!1:navigator.userAgent.includes("SamsungBrowser"),Dxe=()=>{if(typeof window>"u"||typeof navigator>"u")return!1;const{userAgent:e}=navigator;return e.includes("Safari")&&!e.includes("Chrome")&&!e.includes("Chromium")},Mxe=[{model:"iPhone 5",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?5[C,_]12|5)$/},{model:"iPhone 5C",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?5[C,_]34)$/},{model:"iPhone 5S",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?6[C,_]12|5S)$/},{model:"iPhone 6 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?7[C,_]1|1C2%257enohPi|6PLUS)$/},{model:"iPhone 6",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?7[C,_]2|6)$/},{model:"iPhone 6s Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]2|6SPLUS)$/},{model:"iPhone 6s",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]1|iPhone[ /]6s|6S)$/},{model:"iPhone SE",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]4|SE)$/},{model:"iPhone 7",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?9[C,_]13|iphone7|7)$/},{model:"iPhone 7 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?9[C,_]24|7PLUS)$/},{model:"iPhone 8",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?10[C,_]14|8)$/},{model:"iPhone 8 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?10[C,_]25|8PLUS)$/}],jxe=()=>{if(typeof navigator>"u")return;const e=navigator.userAgent.match(/Android (\d+(\.\d+)?)/);return e?parseFloat(e[1]):void 0},coe=({nativeLink:e,universalLink:t})=>{const n=encodeURIComponent(Ln.getUrl().href),r=encodeURIComponent(Ln.getOrigin());loe()?Ln.openURL(`${e}/${n}?ref=${r}`):Ln.openURL(`${t}/${n}?ref=${r}`)},$xe=(e,t)=>t.filter(r=>{var i;return((i=r.walletProperties)===null||i===void 0?void 0:i.hardwareWallet)==="ledger"}).map(r=>r.address).includes(e),XF=e=>typeof e=="string",doe=e=>{const t=[e],n=i=>t.reduce((o,s)=>s(o),i),r=i=>(t.push(i),Object.assign(o=>n(o),{pipe:r}));return Object.assign(n,{pipe:r})};function uoe(e,t){return new Promise(n=>{setTimeout(()=>n(t),e)})}const QF="FALLBACK_UNDEFINED",foe=(e,...t)=>ym(void 0,[e,...t],void 0,function*(n,r={}){const{maxRetries:i=3,currentRetry:o=0,timeoutMs:s=100,fallbackValue:a=new Error("Max retries reached"),retryStrategy:l="timeout-only",retryIntervalMs:c=0}=r,d=new Promise((u,h)=>{setTimeout(()=>{h(new Error("Timeout"))},s)});try{return yield Promise.race([n(),d])}catch(u){if(o>=i){if(a instanceof Error)throw a;return a===QF?void 0:a}const h=(u==null?void 0:u.message)==="Timeout";if(!(l==="timeout-and-rejection"||l==="timeout-only"&&h||l==="rejection-only"&&!h)){if(a instanceof Error)throw u;return a===QF?void 0:a}return c&&(yield uoe(c)),foe(n,{currentRetry:o+1,fallbackValue:a,maxRetries:i,retryIntervalMs:c,retryStrategy:l,timeoutMs:s})}}),J1=e=>e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),hoe=e=>Array.from(new Set(e)),Lxe=(e,t={})=>{var n,r;const i=Object.getOwnPropertyDescriptors(e),o=Object.create(Object.getPrototypeOf(e));for(const[a,l]of Object.entries(t))Object.defineProperty(o,a,{configurable:!0,enumerable:(r=(n=i[a])===null||n===void 0?void 0:n.enumerable)!==null&&r!==void 0?r:!0,value:l,writable:!0});const s=Object.keys(t);for(const[a,l]of Object.entries(i))s.includes(a)||Object.defineProperty(o,a,l);return o},Uxe=(e,t)=>{try{return(t.match(/[^.[\]"']+/g)||[]).reduce((r,i)=>r[i],e)}catch{return}},eW=e=>{const t=e.startsWith("0x")?e.substring(2):e;let n="";const r=t.length-t.length%2;for(let i=0;i<r;i+=2){const o=t.substring(i,i+2),s=parseInt(o,16);n+=String.fromCharCode(s)}return n},tW=e=>{if(typeof e!="string")throw new Error("Input must be a string");const t=e.startsWith("0x")?e.substring(2):e;return/^[0-9a-fA-F]+$/.test(t)},Fxe=e=>ym(void 0,void 0,void 0,function*(){try{return[yield e(),void 0]}catch(t){return[void 0,t]}}),Wxe=e=>t=>e.replace(/{{(\w+?)}}/g,(n,r)=>r in t?t[r]:n),qxe=e=>`
--- ${e.scope} : ${e.timestamp.toISOString()} ---
${e.payload.join(`
`)}
`.trim(),zxe=()=>{const e=[];return{formatObject:t=>JSON.stringify(t,null,2),logEvent:(t,...n)=>{e.push({payload:n,scope:t,timestamp:new Date})},packScopes:t=>e.filter(n=>t?t.includes(n.scope):!0).map(qxe).join(`

`)}},Br=zxe(),pb="phantom-redirect-connection-type";var L5={exports:{}},nW;function Vxe(){return nW||(nW=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(L5)),L5.exports}var Kxe=Vxe();const Hxe=Rr(Kxe);var sh,I2;class QI{static get implementation(){return p0(sh,sh,"f",I2)?p0(sh,sh,"f",I2):{fetch:window.fetch.bind(window)}}static set implementation(t){gD(sh,sh,t,"f",I2)}static get fetch(){return sh.implementation.fetch}}sh=QI;I2={value:void 0};var Gxe="4.57.1";function te(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}const Jxe="https://app.dynamicauth.com/api/v0".replace(/\/+$/,""),Zxe=e=>typeof Blob<"u"&&e instanceof Blob;class Yxe{constructor(t=new e3){this.configuration=t,this.fetchApi=(n,r)=>te(this,void 0,void 0,function*(){let i={url:n,init:r};for(const s of this.middleware)s.pre&&(i=(yield s.pre(Object.assign({fetch:this.fetchApi},i)))||i);let o=yield(this.configuration.fetchApi||fetch)(i.url,i.init);for(const s of this.middleware)s.post&&(o=(yield s.post({fetch:this.fetchApi,url:i.url,init:i.init,response:o.clone()}))||o);return o}),this.middleware=t.middleware}withMiddleware(...t){const n=this.clone();return n.middleware=n.middleware.concat(...t),n}withPreMiddleware(...t){const n=t.map(r=>({pre:r}));return this.withMiddleware(...n)}withPostMiddleware(...t){const n=t.map(r=>({post:r}));return this.withMiddleware(...n)}request(t,n){return te(this,void 0,void 0,function*(){const{url:r,init:i}=this.createFetchParams(t,n),o=yield this.fetchApi(r,i);if(o.status>=200&&o.status<300)return o;throw o})}createFetchParams(t,n){let r=this.configuration.basePath+t.path;t.query!==void 0&&Object.keys(t.query).length!==0&&(r+="?"+this.configuration.queryParamsStringify(t.query));const i=typeof FormData<"u"&&t.body instanceof FormData||t.body instanceof URLSearchParams||Zxe(t.body)?t.body:JSON.stringify(t.body),o=Object.assign({},this.configuration.headers,t.headers),s=Object.assign({method:t.method,headers:o,body:i,credentials:this.configuration.credentials},n);return{url:r,init:s}}clone(){const t=this.constructor,n=new t(this.configuration);return n.middleware=this.middleware.slice(),n}}class le extends Error{constructor(t,n){super(n),this.field=t,this.name="RequiredError"}}class e3{constructor(t={}){this.configuration=t}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:Jxe}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||poe}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const t=this.configuration.apiKey;if(t)return typeof t=="function"?t:()=>t}get accessToken(){const t=this.configuration.accessToken;if(t)return typeof t=="function"?t:()=>te(this,void 0,void 0,function*(){return t})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}function oe(e,t){const n=e[t];return n!=null}function poe(e,t=""){return Object.keys(e).map(n=>{const r=t+(t.length?`[${n}]`:n),i=e[n];if(i instanceof Array){const o=i.map(s=>encodeURIComponent(String(s))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${o}`}return i instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(i.toISOString())}`:i instanceof Object?poe(i,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(i))}`}).filter(n=>n.length>0).join("&")}function Xxe(e,t){return Object.keys(e).reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:t(e[r])}),{})}function Qxe(e){for(const t of e)if(t.contentType==="multipart/form-data")return!0;return!1}class at{constructor(t,n=r=>r){this.raw=t,this.transformer=n}value(){return te(this,void 0,void 0,function*(){return this.transformer(yield this.raw.json())})}}class Je{constructor(t){this.raw=t}value(){return te(this,void 0,void 0,function*(){})}}class pw{constructor(t){this.raw=t}value(){return te(this,void 0,void 0,function*(){return yield this.raw.text()})}}function eke(e){return tke(e)}function tke(e,t){return e==null?e:{currency:e.currency,balance:e.balance,availableBalance:oe(e,"availableBalance")?e.availableBalance:void 0,logoURI:oe(e,"logoURI")?e.logoURI:void 0}}var Nh;(function(e){e.Coinbase="coinbase",e.Kraken="kraken"})(Nh||(Nh={}));function wD(e){return nke(e)}function nke(e,t){return e}function rke(e){return ike(e)}function ike(e,t){return e==null?e:{id:e.id,exchange:wD(e.exchange),type:oe(e,"type")?e.type:void 0,balances:e.balances.map(eke),name:oe(e,"name")?e.name:void 0,chain:oe(e,"chain")?e.chain:void 0}}var rW;(function(e){e.Direct="direct",e.Enterprise="enterprise",e.Indirect="indirect",e.None="none"})(rW||(rW={}));function moe(e){return oke(e)}function oke(e,t){return e}var fO;(function(e){e.Only="connect-only",e.AndSign="connect-and-sign"})(fO||(fO={}));var hO;(function(e){e.Localstorage="localstorage",e.Cookie="cookie"})(hO||(hO={}));function ske(e){return ake(e)}function ake(e,t){return e}var iW;(function(e){e.CrossPlatform="cross-platform",e.Platform="platform"})(iW||(iW={}));function lke(e){return cke(e)}function cke(e,t){return e}var oW;(function(e){e.Discouraged="discouraged",e.Preferred="preferred",e.Required="required"})(oW||(oW={}));function dke(e){return uke(e)}function uke(e,t){return e}var sW;(function(e){e.Discouraged="discouraged",e.Preferred="preferred",e.Required="required"})(sW||(sW={}));function goe(e){return fke(e)}function fke(e,t){return e}var $p;(function(e){e.Internal="AUTHENTICATOR_TRANSPORT_INTERNAL",e.Usb="AUTHENTICATOR_TRANSPORT_USB",e.Nfc="AUTHENTICATOR_TRANSPORT_NFC",e.Ble="AUTHENTICATOR_TRANSPORT_BLE",e.Hybrid="AUTHENTICATOR_TRANSPORT_HYBRID"})($p||($p={}));function hke(e){return e}var Ph;(function(e){e.GoogleDrive="googleDrive",e.ICloud="iCloud",e.Dynamic="dynamic",e.External="external",e.Delegated="delegated"})(Ph||(Ph={}));function bD(e){return pke(e)}function pke(e,t){return e}function mke(e){if(e!==void 0)return e===null?null:{location:e.location}}function gke(e){return yke(e)}function yke(e,t){return e==null?e:{message:e.message,walletId:e.walletId,location:bD(e.location)}}var aW;(function(e){e.TwoOfTwo="TWO_OF_TWO",e.TwoOfThree="TWO_OF_THREE",e.ThreeOfFive="THREE_OF_FIVE"})(aW||(aW={}));function yoe(e){return vke(e)}function vke(e,t){return e}function wke(e){if(e!==void 0)return e===null?null:{location:e.location,keygenId:e.keygenId,thresholdSignatureScheme:e.thresholdSignatureScheme,externalKeyShareId:e.externalKeyShareId}}function bke(e){if(e!==void 0)return e===null?null:{locations:e.locations.map(wke)}}function _ke(e){return xke(e)}function xke(e,t){return e==null?e:{location:bD(e.location),keyShareId:e.keyShareId,externalKeyShareId:e.externalKeyShareId}}function kke(e){return Ske(e)}function Ske(e,t){return e==null?e:{message:e.message,walletId:e.walletId,locationsWithKeyShares:e.locationsWithKeyShares.map(_ke)}}function Ike(e){if(e!==void 0)return e===null?null:{encryptedAccountCredentials:e.encryptedAccountCredentials,passwordEncrypted:e.passwordEncrypted}}function voe(e){return Eke(e)}function Eke(e,t){return e==null?e:{id:e.id,backupLocation:e.backupLocation,passwordEncrypted:e.passwordEncrypted,externalKeyShareId:oe(e,"externalKeyShareId")?e.externalKeyShareId:void 0}}function lW(e){return Cke(e)}function Cke(e,t){return e==null?e:{keyShares:e.keyShares.map(voe)}}var Zo;(function(e){e.Blockchain="blockchain",e.Email="email",e.Oauth="oauth",e.Passkey="passkey",e.PhoneNumber="phoneNumber",e.ExternalUser="externalUser"})(Zo||(Zo={}));function Ake(e){return Rke(e)}function Rke(e,t){return e}var pn;(function(e){e.EmailOnly="emailOnly",e.MagicLink="magicLink",e.Apple="apple",e.Bitbucket="bitbucket",e.Coinbasesocial="coinbasesocial",e.Discord="discord",e.Epicgames="epicgames",e.Facebook="facebook",e.Farcaster="farcaster",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Instagram="instagram",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Twitch="twitch",e.Twitter="twitter",e.Blocto="blocto",e.Banxa="banxa",e.CoinbaseOnramp="coinbaseOnramp",e.CryptoDotCom="cryptoDotCom",e.Dynamic="dynamic",e.Alchemy="alchemy",e.Zerodev="zerodev",e.Telegram="telegram",e.Turnkey="turnkey",e.CoinbaseWaas="coinbaseWaas",e.Sms="sms",e.Spotify="spotify",e.Tiktok="tiktok",e.Line="line",e.Steam="steam",e.Shopify="shopify",e.Zksync="zksync",e.Kraken="kraken",e.Blockaid="blockaid",e.Passkey="passkey",e.Okta="okta",e.Sendgrid="sendgrid",e.Resend="resend"})(pn||(pn={}));function zu(e){return Tke(e)}function Tke(e,t){return e}var zb;(function(e){e.Ordinals="ordinals",e.Payment="payment",e.Cosmos="cosmos",e.Evm="evm",e.Ton="ton"})(zb||(zb={}));function Oke(e){return Nke(e)}function Nke(e,t){return e}var cW;(function(e){e.SignerToEcdsa="zerodev_signer_to_ecdsa",e.MultiChain="zerodev_multi_chain"})(cW||(cW={}));function woe(e){return Pke(e)}function Pke(e,t){return e}var Lc;(function(e){e.V1="V1",e.V2="V2",e.V3="V3"})(Lc||(Lc={}));function boe(e){return Bke(e)}function Bke(e,t){return e}var g0;(function(e){e.Ledger="ledger"})(g0||(g0={}));function Dke(e){return Mke(e)}function Mke(e,t){return e}var dW;(function(e){e.Dynamic="dynamic",e.User="user"})(dW||(dW={}));function _D(e){return jke(e)}function jke(e,t){return e}var uW;(function(e){e.V6="v6",e.V7="v7"})(uW||(uW={}));function _oe(e){return $ke(e)}function $ke(e,t){return e}var fW;(function(e){e.V24="v2_4",e.V30="v3_0",e.V31="v3_1",e.V32="v3_2",e.V33="v3_3"})(fW||(fW={}));function xoe(e){return Lke(e)}function Lke(e,t){return e}var Ao;(function(e){e.BrowserExtension="browserExtension",e.CustodialService="custodialService",e.WalletConnect="walletConnect",e.QrCode="qrCode",e.DeepLink="deepLink",e.EmbeddedWallet="embeddedWallet",e.SmartContractWallet="smartContractWallet"})(Ao||(Ao={}));function koe(e){return Uke(e)}function Uke(e,t){return e}var Vu;(function(e){e.Pending="pending",e.Complete="complete"})(Vu||(Vu={}));function Fke(e){return Wke(e)}function Wke(e,t){return e}var lm;(function(e){e.Text="text",e.Checkbox="checkbox",e.Select="select"})(lm||(lm={}));function qke(e){return zke(e)}function zke(e,t){return e}var Cd;(function(e){e.Standard="standard",e.Custom="custom"})(Cd||(Cd={}));function Vke(e){return Kke(e)}function Kke(e,t){return e}var nr;(function(e){e.Eth="ETH",e.Evm="EVM",e.Flow="FLOW",e.Sol="SOL",e.Algo="ALGO",e.Stark="STARK",e.Cosmos="COSMOS",e.Btc="BTC",e.Eclipse="ECLIPSE",e.Sui="SUI",e.Spark="SPARK",e.Tron="TRON",e.Aptos="APTOS",e.Ton="TON",e.Stellar="STELLAR"})(nr||(nr={}));function t3(e){return Hke(e)}function Hke(e,t){return e}var hW;(function(e){e.Buy="buy",e.Send="send"})(hW||(hW={}));var pW;(function(e){e.Network="FEE_TYPE_NETWORK",e.Exchange="FEE_TYPE_EXCHANGE"})(pW||(pW={}));function Gke(e){return Jke(e)}function Jke(e,t){return e}function Zke(e){if(e!==void 0)return e===null?null:{assets:e.assets,defaultNetwork:e.defaultNetwork,defaultAsset:e.defaultAsset,defaultExperience:e.defaultExperience,defaultPaymentMethod:e.defaultPaymentMethod,destinationAddress:e.destinationAddress,fiatCurrency:e.fiatCurrency,handlingRequestedUrls:e.handlingRequestedUrls,networks:e.networks,partnerUserRef:e.partnerUserRef,presetCryptoAmount:e.presetCryptoAmount,presetFiatAmount:e.presetFiatAmount,redirectUrl:e.redirectUrl}}function Yke(e){return Xke(e)}function Xke(e,t){return e==null?e:{url:e.url}}var mW;(function(e){e.GuestCheckoutApplePay="GUEST_CHECKOUT_APPLE_PAY"})(mW||(mW={}));function Qke(e){return e2e(e)}function e2e(e,t){return e}var gW;(function(e){e.PendingAuth="ONRAMP_ORDER_STATUS_PENDING_AUTH",e.PendingPayment="ONRAMP_ORDER_STATUS_PENDING_PAYMENT",e.Processing="ONRAMP_ORDER_STATUS_PROCESSING",e.Completed="ONRAMP_ORDER_STATUS_COMPLETED",e.Failed="ONRAMP_ORDER_STATUS_FAILED"})(gW||(gW={}));function t2e(e){return n2e(e)}function n2e(e,t){return e}function r2e(e){if(e!==void 0)return e===null?null:{agreementAcceptedAt:e.agreementAcceptedAt.toISOString(),destinationAddress:e.destinationAddress,destinationNetwork:e.destinationNetwork,domain:e.domain,isQuote:e.isQuote,partnerUserRef:e.partnerUserRef,paymentAmount:e.paymentAmount,paymentCurrency:e.paymentCurrency,paymentMethod:e.paymentMethod,purchaseAmount:e.purchaseAmount,purchaseCurrency:e.purchaseCurrency}}var yW;(function(e){e.PaymentLinkTypeApplePayButton="PAYMENT_LINK_TYPE_APPLE_PAY_BUTTON"})(yW||(yW={}));function i2e(e){return o2e(e)}function o2e(e,t){return e}function s2e(e){return a2e(e)}function a2e(e,t){return e==null?e:{type:Gke(e.type),amount:e.amount,currency:e.currency}}function l2e(e){return c2e(e)}function c2e(e,t){return e==null?e:{orderId:e.orderId,paymentTotal:e.paymentTotal,paymentSubtotal:e.paymentSubtotal,paymentCurrency:e.paymentCurrency,paymentMethod:Qke(e.paymentMethod),purchaseAmount:e.purchaseAmount,purchaseCurrency:e.purchaseCurrency,fees:e.fees.map(s2e),exchangeRate:e.exchangeRate,destinationAddress:e.destinationAddress,destinationNetwork:e.destinationNetwork,status:t2e(e.status),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),txHash:oe(e,"txHash")?e.txHash:void 0,partnerUserRef:oe(e,"partnerUserRef")?e.partnerUserRef:void 0}}function d2e(e){return u2e(e)}function u2e(e,t){return e==null?e:{url:e.url,paymentLinkType:i2e(e.paymentLinkType)}}function f2e(e){return h2e(e)}function h2e(e,t){return e==null?e:{order:l2e(e.order),paymentLink:oe(e,"paymentLink")?d2e(e.paymentLink):void 0}}function Soe(e){if(e!==void 0)return e===null?null:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,credentialId:e.credentialId,transports:e.transports.map(hke),publicKey:e.publicKey}}function p2e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,attestation:Soe(e.attestation),challenge:e.challenge}}function m2e(e){if(e!==void 0)return e===null?null:{address:e.address,chain:e.chain,provider:e.provider,walletName:e.walletName,authMode:e.authMode}}var cm;(function(e){e.Evm="EVM",e.Sol="SOL",e.Sui="SUI",e.Btc="BTC",e.Ton="TON"})(cm||(cm={}));function g2e(e){return e}var pO;(function(e){e.Turnkey="turnkey",e.Turnkeyhd="turnkeyhd",e.DynamicWaas="dynamicWaas"})(pO||(pO={}));function y2e(e){if(e!==void 0)return e===null?null:{attestation:Soe(e.attestation),challenge:e.challenge}}function v2e(e){if(e!==void 0)return e===null?null:Object.assign({},y2e(e))}function w2e(e){if(e!==void 0)return e===null?null:{chains:e.chains===void 0?void 0:e.chains.map(g2e),chain:e.chain,embeddedWalletProvider:e.embeddedWalletProvider,embeddedWalletSpecificOpts:v2e(e.embeddedWalletSpecificOpts),isAuthenticatorAttached:e.isAuthenticatorAttached,passkeyAlias:e.passkeyAlias,sessionPublicKey:e.sessionPublicKey}}function b2e(e){if(e!==void 0)return e===null?null:{embeddedWallets:e.embeddedWallets.map(w2e)}}function _2e(e){if(e!==void 0)return e===null?null:{networkId:e.networkId,chainName:e.chainName}}function x2e(e){if(e!==void 0)return e===null?null:{to:e.to,amount:e.amount,currency:e.currency,network:e.network,networkObject:_2e(e.networkObject),id:e.id,description:e.description,mfaCode:e.mfaCode}}var vW;(function(e){e.Threshold="threshold",e.Full="full"})(vW||(vW={}));function k2e(e){if(e!==void 0)return e===null?null:{roomType:e.roomType,roomCount:e.roomCount}}function S2e(e){return I2e(e)}function I2e(e,t){return e==null?e:{roomIds:e.roomIds}}function E2e(e){if(e!==void 0)return e===null?null:{roomType:e.roomType,thresholdSignatureScheme:e.thresholdSignatureScheme,roomCount:e.roomCount}}function C2e(e){return A2e(e)}function A2e(e,t){return e==null?e:{roomIds:e.roomIds}}var wW;(function(e){e.Email="email",e.Id="id",e.ExternalUserId="externalUserId",e.PhoneNumber="phoneNumber",e.SocialUsername="socialUsername",e.SocialAccountId="socialAccountId"})(wW||(wW={}));var bW;(function(e){e.Evm="EVM",e.Svm="SVM",e.Sui="SUI",e.Btc="BTC",e.Ton="TON"})(bW||(bW={}));function R2e(e){if(e!==void 0)return e===null?null:{chain:e.chain,clientKeygenIds:e.clientKeygenIds,thresholdSignatureScheme:e.thresholdSignatureScheme,skipLock:e.skipLock,addressType:e.addressType}}function T2e(e){if(e!==void 0)return e===null?null:{stampHeaderName:e.stampHeaderName,stampHeaderValue:e.stampHeaderValue}}function xD(e){if(e!==void 0)return e===null?null:{body:e.body,stamp:T2e(e.stamp),url:e.url}}function O2e(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:xD(e.turnkeySignedRequest)}}function N2e(e){if(e!==void 0)return e===null?null:{amount:e.amount,currency:e.currency,description:e.description,metadata:e.metadata,orderId:e.orderId,subMerchantId:e.subMerchantId,walletAddress:e.walletAddress,networkId:e.networkId,chain:e.chain,merchantName:e.merchantName}}function P2e(e){return B2e(e)}function B2e(e,t){return e==null?e:{id:e.id,amount:e.amount,currency:e.currency,amountRefunded:oe(e,"amountRefunded")?e.amountRefunded:void 0,created:oe(e,"created")?e.created:void 0,cryptoCurrency:oe(e,"cryptoCurrency")?e.cryptoCurrency:void 0,cryptoAmount:oe(e,"cryptoAmount")?e.cryptoAmount:void 0,customerId:oe(e,"customerId")?e.customerId:void 0,paymentUrl:e.paymentUrl,qrCode:e.qrCode,returnUrl:oe(e,"returnUrl")?e.returnUrl:void 0,cancelUrl:oe(e,"cancelUrl")?e.cancelUrl:void 0,description:oe(e,"description")?e.description:void 0,liveMode:oe(e,"liveMode")?e.liveMode:void 0,metadata:oe(e,"metadata")?e.metadata:void 0,orderId:oe(e,"orderId")?e.orderId:void 0,recipient:oe(e,"recipient")?e.recipient:void 0,refunded:oe(e,"refunded")?e.refunded:void 0,status:e.status,expiredAt:oe(e,"expiredAt")?e.expiredAt:void 0}}var _W;(function(e){e.Fiat="fiat",e.Crypto="crypto"})(_W||(_W={}));function D2e(e){return M2e(e)}function M2e(e,t){return e}function j2e(e){return $2e(e)}function $2e(e,t){return e==null?e:{name:e.name,symbol:e.symbol,type:D2e(e.type),code:e.code,value:e.value}}var xW;(function(e){e.Dynamic="dynamic",e.External="external"})(xW||(xW={}));var kW;(function(e){e.RsaOaep256="RSA-OAEP-256",e.HybridRsaAes256="HYBRID-RSA-AES-256"})(kW||(kW={}));var SW;(function(e){e.Pending="pending",e.Active="active",e.Revoked="revoked"})(SW||(SW={}));function L2e(e){if(e!==void 0)return e===null?null:{alg:e.alg,iv:e.iv,ct:e.ct,tag:e.tag,ek:e.ek,kid:e.kid}}function U2e(e){if(e!==void 0)return e===null?null:{encryptedDelegatedShare:L2e(e.encryptedDelegatedShare)}}var IW;(function(e){e.Accepted="accepted",e.Queued="queued"})(IW||(IW={}));function F2e(e){return W2e(e)}function W2e(e,t){return e==null?e:{delegatedShareDeliveryId:e.delegatedShareDeliveryId,status:e.status,message:oe(e,"message")?e.message:void 0}}function q2e(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:xD(e.turnkeySignedRequest)}}function z2e(e){if(e!==void 0)return e===null?null:{passkeyId:e.passkeyId}}var EW;(function(e){e.Days="days",e.Hours="hours",e.Minutes="minutes"})(EW||(EW={}));function V2e(e){return K2e(e)}function K2e(e,t){return e}function H2e(e){return G2e(e)}function G2e(e,t){return e==null?e:{emailProvider:zu(e.emailProvider)}}function J2e(e){if(e!==void 0)return e===null?null:{email:e.email,captchaToken:e.captchaToken}}function mO(e){return Z2e(e)}function Z2e(e,t){return e==null?e:{verificationUUID:e.verificationUUID,email:e.email}}function Z1(e){if(e!==void 0)return e===null?null:{singleUse:e.singleUse}}function Y2e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,createMfaToken:Z1(e.createMfaToken)}}function X2e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,email:e.email,captchaToken:e.captchaToken}}function CW(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey}}function Q2e(e){return eSe(e)}function eSe(e,t){return e==null?e:{token:e.token}}var AW;(function(e){e.Mpc="mpc"})(AW||(AW={}));function tSe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId}}function RW(e){return nSe(e)}function nSe(e,t){return e==null?e:{walletId:e.walletId,secret:e.secret,source:oe(e,"source")?_D(e.source):void 0}}function rSe(e){return iSe(e)}function iSe(e,t){return e==null?e:{avatar:oe(e,"avatar")?e.avatar:void 0,name:oe(e,"name")?e.name:void 0}}function Ioe(e){return oSe(e)}function oSe(e,t){return e==null?e:{address:e.address,publicKey:oe(e,"publicKey")?e.publicKey:void 0,type:Oke(e.type)}}function sSe(e){if(e!==void 0)return e===null?null:{address:e.address,publicKey:e.publicKey,type:e.type}}function Eoe(e){return aSe(e)}function aSe(e,t){return e==null?e:{hasDeniedDelegatedAccess:oe(e,"hasDeniedDelegatedAccess")?e.hasDeniedDelegatedAccess:void 0,shouldRefreshOnNextSignOn:oe(e,"shouldRefreshOnNextSignOn")?e.shouldRefreshOnNextSignOn:void 0,reshareOnNextSignOn:oe(e,"reshareOnNextSignOn")?yoe(e.reshareOnNextSignOn):void 0,revokeOnNextSignOn:oe(e,"revokeOnNextSignOn")?e.revokeOnNextSignOn:void 0}}function lSe(e){return cSe(e)}function cSe(e,t){return e==null?e:{turnkeySubOrganizationId:oe(e,"turnkeySubOrganizationId")?e.turnkeySubOrganizationId:void 0,turnkeyPrivateKeyId:oe(e,"turnkeyPrivateKeyId")?e.turnkeyPrivateKeyId:void 0,turnkeyHDWalletId:oe(e,"turnkeyHDWalletId")?e.turnkeyHDWalletId:void 0,isAuthenticatorAttached:oe(e,"isAuthenticatorAttached")?e.isAuthenticatorAttached:void 0,turnkeyUserId:oe(e,"turnkeyUserId")?e.turnkeyUserId:void 0,isSessionKeyCompatible:oe(e,"isSessionKeyCompatible")?e.isSessionKeyCompatible:void 0,version:oe(e,"version")?boe(e.version):void 0,ecdsaProviderType:oe(e,"ecdsaProviderType")?woe(e.ecdsaProviderType):void 0,entryPointVersion:oe(e,"entryPointVersion")?_oe(e.entryPointVersion):void 0,kernelVersion:oe(e,"kernelVersion")?xoe(e.kernelVersion):void 0,hardwareWallet:oe(e,"hardwareWallet")?Dke(e.hardwareWallet):void 0,claimed:oe(e,"claimed")?e.claimed:void 0,source:oe(e,"source")?_D(e.source):void 0,keyShares:oe(e,"keyShares")?e.keyShares.map(voe):void 0,thresholdSignatureScheme:oe(e,"thresholdSignatureScheme")?yoe(e.thresholdSignatureScheme):void 0,derivationPath:oe(e,"derivationPath")?e.derivationPath:void 0,settings:oe(e,"settings")?Eoe(e.settings):void 0}}function dSe(e){return uSe(e)}function uSe(e,t){return e==null?e:{address:oe(e,"address")?e.address:void 0,chain:oe(e,"chain")?e.chain:void 0,refId:oe(e,"refId")?e.refId:void 0,signerRefId:oe(e,"signerRefId")?e.signerRefId:void 0,email:oe(e,"email")?e.email:void 0,id:e.id,nameService:oe(e,"name_service")?rSe(e.name_service):void 0,publicIdentifier:oe(e,"public_identifier")?e.public_identifier:void 0,walletName:oe(e,"wallet_name")?e.wallet_name:void 0,walletProvider:oe(e,"wallet_provider")?koe(e.wallet_provider):void 0,walletProperties:oe(e,"wallet_properties")?lSe(e.wallet_properties):void 0,format:Ake(e.format),oauthProvider:oe(e,"oauth_provider")?zu(e.oauth_provider):void 0,oauthUsername:oe(e,"oauth_username")?e.oauth_username:void 0,oauthDisplayName:oe(e,"oauth_display_name")?e.oauth_display_name:void 0,oauthAccountId:oe(e,"oauth_account_id")?e.oauth_account_id:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,phoneCountryCode:oe(e,"phoneCountryCode")?e.phoneCountryCode:void 0,isoCountryCode:oe(e,"isoCountryCode")?e.isoCountryCode:void 0,oauthAccountPhotos:oe(e,"oauth_account_photos")?e.oauth_account_photos:void 0,oauthEmails:oe(e,"oauth_emails")?e.oauth_emails:void 0,oauthMetadata:oe(e,"oauth_metadata")?e.oauth_metadata:void 0,previousUsers:oe(e,"previous_users")?e.previous_users:void 0,embeddedWalletId:oe(e,"embedded_wallet_id")?e.embedded_wallet_id:void 0,walletAdditionalAddresses:oe(e,"wallet_additional_addresses")?e.wallet_additional_addresses.map(Ioe):void 0,lastSelectedAt:oe(e,"lastSelectedAt")?new Date(e.lastSelectedAt):void 0,signInEnabled:e.signInEnabled,verifiedAt:oe(e,"verifiedAt")?new Date(e.verifiedAt):void 0}}function fSe(e){return hSe(e)}function hSe(e,t){return e==null?e:{label:e.label,key:oe(e,"key")?e.key:void 0}}function pSe(e){return mSe(e)}function mSe(e,t){return e==null?e:{unique:oe(e,"unique")?e.unique:void 0,regex:oe(e,"regex")?e.regex:void 0,validOptions:oe(e,"validOptions")?e.validOptions.map(fSe):void 0,checkboxText:oe(e,"checkboxText")?e.checkboxText:void 0}}function gO(e){return gSe(e)}function gSe(e,t){return e==null?e:{name:e.name,required:e.required,enabled:e.enabled,unique:e.unique,verify:e.verify,type:oe(e,"type")?Vke(e.type):void 0,validationRules:oe(e,"validationRules")?pSe(e.validationRules):void 0,validationType:oe(e,"validationType")?qke(e.validationType):void 0,label:oe(e,"label")?e.label:void 0,position:oe(e,"position")?e.position:void 0}}function cS(e){return ySe(e)}function ySe(e,t){return e==null?e:{id:e.id,projectEnvironmentId:e.projectEnvironmentId,verifiedCredentials:e.verifiedCredentials.map(dSe),lastVerifiedCredentialId:oe(e,"lastVerifiedCredentialId")?e.lastVerifiedCredentialId:void 0,sessionId:oe(e,"sessionId")?e.sessionId:void 0,alias:oe(e,"alias")?e.alias:void 0,country:oe(e,"country")?e.country:void 0,email:oe(e,"email")?e.email:void 0,firstName:oe(e,"firstName")?e.firstName:void 0,jobTitle:oe(e,"jobTitle")?e.jobTitle:void 0,lastName:oe(e,"lastName")?e.lastName:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,policiesConsent:oe(e,"policiesConsent")?e.policiesConsent:void 0,tShirtSize:oe(e,"tShirtSize")?e.tShirtSize:void 0,team:oe(e,"team")?e.team:void 0,username:oe(e,"username")?e.username:void 0,firstVisit:oe(e,"firstVisit")?new Date(e.firstVisit):void 0,lastVisit:oe(e,"lastVisit")?new Date(e.lastVisit):void 0,newUser:oe(e,"newUser")?e.newUser:void 0,metadata:oe(e,"metadata")?e.metadata:void 0,mfaBackupCodeAcknowledgement:oe(e,"mfaBackupCodeAcknowledgement")?Fke(e.mfaBackupCodeAcknowledgement):void 0,btcWallet:oe(e,"btcWallet")?e.btcWallet:void 0,kdaWallet:oe(e,"kdaWallet")?e.kdaWallet:void 0,ltcWallet:oe(e,"ltcWallet")?e.ltcWallet:void 0,ckbWallet:oe(e,"ckbWallet")?e.ckbWallet:void 0,kasWallet:oe(e,"kasWallet")?e.kasWallet:void 0,dogeWallet:oe(e,"dogeWallet")?e.dogeWallet:void 0,emailNotification:oe(e,"emailNotification")?e.emailNotification:void 0,discordNotification:oe(e,"discordNotification")?e.discordNotification:void 0,newsletterNotification:oe(e,"newsletterNotification")?e.newsletterNotification:void 0,lists:oe(e,"lists")?e.lists:void 0,scope:oe(e,"scope")?e.scope:void 0,missingFields:oe(e,"missingFields")?e.missingFields.map(gO):void 0}}var TW;(function(e){e.Passkey="passkey",e.Passphrase="passphrase"})(TW||(TW={}));function vSe(e){return wSe(e)}function wSe(e,t){return e}var dS;(function(e){e.Sandbox="sandbox",e.Live="live"})(dS||(dS={}));function bSe(e){return _Se(e)}function _Se(e,t){return e}function xSe(e){return kSe(e)}function kSe(e,t){return e==null?e:{transactionId:oe(e,"transactionId")?e.transactionId:void 0,transactionHash:oe(e,"transactionHash")?e.transactionHash:void 0,status:oe(e,"status")?e.status:void 0,amount:oe(e,"amount")?e.amount:void 0,currency:oe(e,"currency")?e.currency:void 0,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0}}function SSe(e){return ISe(e)}function ISe(e,t){return e==null?e:{id:e.id,exchangeAccountId:oe(e,"exchangeAccountId")?e.exchangeAccountId:void 0,status:oe(e,"status")?e.status:void 0,amount:e.amount,currency:e.currency,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0}}function ESe(e){return CSe(e)}function CSe(e,t){return e==null?e:{exportBundle:e.exportBundle}}function ASe(e){if(e!==void 0)return e===null?null:{exportId:e.exportId,addressType:e.addressType}}function OW(e){if(e!==void 0)return e===null?null:{jwt:e.jwt,sessionPublicKey:e.sessionPublicKey}}var NW;(function(e){e.Ethereum="ethereum",e.Solana="solana"})(NW||(NW={}));var PW;(function(e){e.Recommended="recommended",e.Exact="exact"})(PW||(PW={}));function RSe(e){return TSe(e)}function TSe(e,t){return e}function BW(e){if(e!==void 0)return e===null?null:{address:e.address,domain:e.domain,nonce:e.nonce,message:e.message,signature:e.signature,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey}}var uS;(function(e){e.Banxa="banxa",e.CoinbaseOnramp="coinbaseOnramp",e.CryptoDotCom="cryptoDotCom"})(uS||(uS={}));function OSe(e){return NSe(e)}function NSe(e,t){return e}function PSe(e){return BSe(e)}function BSe(e,t){return e==null?e:{token:e.token}}var DW;(function(e){e.Usb="usb",e.Nfc="nfc",e.Ble="ble",e.Internal="internal",e.Hybrid="hybrid"})(DW||(DW={}));function Coe(e){return DSe(e)}function DSe(e,t){return e}function MSe(e){return e}function jSe(e){return $Se(e)}function $Se(e,t){return e==null?e:{id:e.id,transports:oe(e,"transports")?e.transports.map(Coe):void 0}}var MW;(function(e){e.Hybrid="hybrid",e.SecurityKey="security-key",e.ClientDevice="client-device"})(MW||(MW={}));function LSe(e){return USe(e)}function USe(e,t){return e}function Aoe(e){return FSe(e)}function FSe(e,t){return e==null?e:{appid:oe(e,"appid")?e.appid:void 0,appidExclude:oe(e,"appidExclude")?e.appidExclude:void 0,credProps:oe(e,"credProps")?e.credProps:void 0,uvm:oe(e,"uvm")?e.uvm:void 0}}function jW(e){return WSe(e)}function WSe(e,t){return e==null?e:{challenge:e.challenge,timeout:oe(e,"timeout")?e.timeout:void 0,rpId:oe(e,"rpId")?e.rpId:void 0,userVerification:oe(e,"userVerification")?goe(e.userVerification):void 0,allowCredentials:oe(e,"allowCredentials")?e.allowCredentials.map(jSe):void 0,extensions:oe(e,"extensions")?Aoe(e.extensions):void 0,hints:oe(e,"hints")?LSe(e.hints):void 0}}function Roe(e){return qSe(e)}function qSe(e,t){return e==null?e:{authenticatorAttachment:oe(e,"authenticatorAttachment")?lke(e.authenticatorAttachment):void 0,requireResidentKey:oe(e,"requireResidentKey")?e.requireResidentKey:void 0,residentKey:oe(e,"residentKey")?dke(e.residentKey):void 0,userVerification:oe(e,"userVerification")?goe(e.userVerification):void 0}}var $W;(function(e){e.PublicKey="public-key"})($W||($W={}));function zSe(e){return VSe(e)}function VSe(e,t){return e}function KSe(e){return HSe(e)}function HSe(e,t){return e==null?e:{id:e.id,transports:oe(e,"transports")?e.transports.map(Coe):void 0,type:zSe(e.type)}}function GSe(e){return JSe(e)}function JSe(e,t){return e==null?e:{id:e.id,name:e.name}}function ZSe(e){return YSe(e)}function YSe(e,t){return e==null?e:{displayName:e.displayName,id:e.id,name:e.name}}var LW;(function(e){e.PublicKey="public-key"})(LW||(LW={}));function Toe(e){return XSe(e)}function XSe(e,t){return e}function Ooe(e){return QSe(e)}function QSe(e,t){return e==null?e:{alg:e.alg,type:Toe(e.type)}}function eIe(e){return tIe(e)}function tIe(e,t){return e==null?e:{attestation:moe(e.attestation),authenticatorSelection:Roe(e.authenticatorSelection),challenge:e.challenge,excludeCredentials:e.excludeCredentials.map(KSe),extensions:oe(e,"extensions")?Aoe(e.extensions):void 0,hints:oe(e,"hints")?e.hints:void 0,pubKeyCredParams:e.pubKeyCredParams.map(Ooe),rp:GSe(e.rp),timeout:e.timeout,user:ZSe(e.user)}}function nIe(e){return rIe(e)}function rIe(e,t){return e==null?e:{name:e.name,icon:e.icon,updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0}}function kD(e){return iIe(e)}function iIe(e,t){return e==null?e:{id:e.id,alias:oe(e,"alias")?e.alias:void 0,userAgent:oe(e,"userAgent")?e.userAgent:void 0,origin:oe(e,"origin")?e.origin:void 0,credentialId:e.credentialId,createdAt:new Date(e.createdAt),updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0,storage:oe(e,"storage")?nIe(e.storage):void 0}}function oIe(e){return sIe(e)}function sIe(e,t){return e==null?e:{passkeys:e.passkeys.map(kD),count:e.count}}var UW;(function(e){e.Allow="allow",e.Block="block"})(UW||(UW={}));var FW;(function(e){e.Connected="connected",e.Disconnected="disconnected"})(FW||(FW={}));function aIe(e){return lIe(e)}function lIe(e,t){return e}function WW(e){return cIe(e)}function cIe(e,t){return e==null?e:{id:e.id,userId:e.userId,appUrl:e.appUrl,status:aIe(e.status),expiresAt:oe(e,"expiresAt")?e.expiresAt===null?null:new Date(e.expiresAt):void 0,createdAt:new Date(e.createdAt),updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0}}function dIe(e){if(e!==void 0)return e===null?null:{expiresAt:e.expiresAt.toISOString()}}function uIe(e){return fIe(e)}function fIe(e,t){return e==null?e:{label:e.label,url:e.url}}function hIe(e){return pIe(e)}function pIe(e,t){return e==null?e:{id:e.id,walletName:e.walletName,popupPageTitle:oe(e,"popupPageTitle")?e.popupPageTitle:void 0,walletIconUrl:oe(e,"walletIconUrl")?e.walletIconUrl:void 0,customCssUrl:oe(e,"customCssUrl")?e.customCssUrl:void 0,termsOfServiceUrl:oe(e,"termsOfServiceUrl")?e.termsOfServiceUrl:void 0,privacyPolicyUrl:oe(e,"privacyPolicyUrl")?e.privacyPolicyUrl:void 0,termsOfServiceAndPrivacyPolicyMarkdown:oe(e,"termsOfServiceAndPrivacyPolicyMarkdown")?e.termsOfServiceAndPrivacyPolicyMarkdown:void 0,customMenuLinks:oe(e,"customMenuLinks")?e.customMenuLinks.map(uIe):void 0,enableLoginWithExternalWallets:oe(e,"enableLoginWithExternalWallets")?e.enableLoginWithExternalWallets:void 0,enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0}}var qW;(function(e){e.Healthy="healthy",e.Unhealthy="unhealthy"})(qW||(qW={}));function mIe(e){return gIe(e)}function gIe(e,t){return e}function yIe(e){return vIe(e)}function vIe(e,t){return e==null?e:{status:mIe(e.status)}}function wIe(e){if(e!==void 0)return e===null?null:{chain:e.chain,clientKeygenIds:e.clientKeygenIds,thresholdSignatureScheme:e.thresholdSignatureScheme,legacyWalletId:e.legacyWalletId}}function bIe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,turnkeyEmailAuthTargetPublicKey:e.turnkeyEmailAuthTargetPublicKey}}function _Ie(e){return xIe(e)}function xIe(e,t){return e==null?e:{turnkeyUserId:e.turnkeyUserId,turnkeyApiKeyId:e.turnkeyApiKeyId}}function kIe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,turnkeyRecoveryTargetPublicKey:e.turnkeyRecoveryTargetPublicKey}}function SIe(e){return IIe(e)}function IIe(e,t){return e==null?e:{turnkeyRecoveryUserId:e.turnkeyRecoveryUserId}}function EIe(e){return CIe(e)}function CIe(e,t){return e==null?e:{kid:oe(e,"kid")?e.kid:void 0,alg:oe(e,"alg")?e.alg:void 0,kty:oe(e,"kty")?e.kty:void 0,use:oe(e,"use")?e.use:void 0,e:oe(e,"e")?e.e:void 0,n:oe(e,"n")?e.n:void 0}}function zW(e){return AIe(e)}function AIe(e,t){return e==null?e:{keys:e.keys.map(EIe)}}var _h;(function(e){e.WalletWaasSign="wallet.waas.sign",e.WalletWaasExport="wallet.waas.export",e.WalletWaasReshare="wallet.waas.reshare",e.WalletWaasRefresh="wallet.waas.refresh",e.UserUpdate="user.update"})(_h||(_h={}));function RIe(e){return TIe(e)}function TIe(e,t){return e}var Ji;(function(e){e.Totp="totp",e.Passkey="passkey",e.Email="email"})(Ji||(Ji={}));function Y1(e){return OIe(e)}function OIe(e,t){return e}function SD(e){if(e!==void 0)return e===null?null:{appid:e.appid,credProps:e.credProps,hmacCreateSecret:e.hmacCreateSecret}}function NIe(e){if(e!==void 0)return e===null?null:{clientDataJSON:e.clientDataJSON,authenticatorData:e.authenticatorData,signature:e.signature,userHandle:e.userHandle}}function VW(e){if(e!==void 0)return e===null?null:{id:e.id,rawId:e.rawId,response:NIe(e.response),authenticatorAttachment:e.authenticatorAttachment,clientExtensionResults:SD(e.clientExtensionResults),type:e.type,createMfaToken:Z1(e.createMfaToken)}}function PIe(e){if(e!==void 0)return e===null?null:{createMfaToken:Z1(e.createMfaToken),code:e.code}}function BIe(e){if(e!==void 0)return e===null?null:{id:e.id,createMfaToken:Z1(e.createMfaToken),code:e.code}}function fS(e){return DIe(e)}function DIe(e,t){return e==null?e:{type:oe(e,"type")?Y1(e.type):void 0,verified:oe(e,"verified")?e.verified:void 0,id:oe(e,"id")?e.id:void 0,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0,verifiedAt:oe(e,"verifiedAt")?e.verifiedAt===null?null:new Date(e.verifiedAt):void 0,_default:oe(e,"default")?e.default:void 0,alias:oe(e,"alias")?e.alias:void 0}}function MIe(e){return jIe(e)}function jIe(e,t){return e==null?e:{count:e.count,recoveryCodes:e.recoveryCodes}}function $Ie(e){return LIe(e)}function LIe(e,t){return e==null?e:{count:e.count,devices:e.devices.map(fS)}}function UIe(e){return FIe(e)}function FIe(e,t){return e==null?e:{devices:e.devices.map(fS),passkeys:e.passkeys.map(kD),userHasVerifiedMfaMethods:e.userHasVerifiedMfaMethods}}function WIe(e){return qIe(e)}function qIe(e,t){return e==null?e:{count:e.count,recoveryCodes:e.recoveryCodes}}function zIe(e){return VIe(e)}function VIe(e,t){return e==null?e:{appid:oe(e,"appid")?e.appid:void 0,credProps:oe(e,"credProps")?e.credProps:void 0,hmacCreateSecret:oe(e,"hmacCreateSecret")?e.hmacCreateSecret:void 0}}function KIe(e){return HIe(e)}function HIe(e,t){return e==null?e:{id:e.id,type:Toe(e.type)}}function GIe(e){return JIe(e)}function JIe(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,name:e.name}}function ZIe(e){return YIe(e)}function YIe(e,t){return e==null?e:{id:e.id,name:e.name,displayName:e.displayName}}function XIe(e){return QIe(e)}function QIe(e,t){return e==null?e:{attestation:oe(e,"attestation")?moe(e.attestation):void 0,rp:GIe(e.rp),user:ZIe(e.user),challenge:e.challenge,pubKeyCredParams:e.pubKeyCredParams.map(Ooe),timeout:oe(e,"timeout")?e.timeout:void 0,authenticatorSelection:oe(e,"authenticatorSelection")?Roe(e.authenticatorSelection):void 0,excludeCredentials:oe(e,"excludeCredentials")?e.excludeCredentials.map(KIe):void 0,extensions:oe(e,"extensions")?zIe(e.extensions):void 0}}function e3e(e){return t3e(e)}function t3e(e,t){return e==null?e:{id:e.id,type:Y1(e.type),registration:XIe(e.registration)}}function n3e(e){if(e!==void 0)return e===null?null:{clientDataJSON:e.clientDataJSON,attestationObject:e.attestationObject,authenticatorData:e.authenticatorData,publicKeyAlgorithm:e.publicKeyAlgorithm,publicKey:e.publicKey}}function r3e(e){if(e!==void 0)return e===null?null:{id:e.id,rawId:e.rawId,response:n3e(e.response),authenticatorAttachment:e.authenticatorAttachment,clientExtensionResults:SD(e.clientExtensionResults),type:e.type}}function i3e(e){if(e!==void 0)return e===null?null:{id:e.id,attestation:r3e(e.attestation)}}function o3e(e){return s3e(e)}function s3e(e,t){return e==null?e:{id:e.id,type:Y1(e.type),secret:e.secret,uri:e.uri}}function a3e(e){if(e!==void 0)return e===null?null:{type:e.type,code:e.code}}function l3e(e){if(e!==void 0)return e===null?null:{default:e._default}}function c3e(e){if(e!==void 0)return e===null?null:{userId:e.userId,fieldKey:e.fieldKey,type:e.type}}function d3e(e){if(e!==void 0)return e===null?null:{mergeUserResolutions:e.mergeUserResolutions===void 0?void 0:e.mergeUserResolutions.map(c3e)}}function Noe(e){return u3e(e)}function u3e(e,t){return e==null?e:{networkId:oe(e,"networkId")?e.networkId:void 0,address:e.address,name:e.name,symbol:e.symbol,decimals:e.decimals,logoURI:e.logoURI,balance:e.balance,rawBalance:e.rawBalance,price:oe(e,"price")?e.price:void 0,marketValue:oe(e,"marketValue")?e.marketValue:void 0,liquidityPoolSizeUsd:oe(e,"liquidityPoolSizeUsd")?e.liquidityPoolSizeUsd:void 0,totalSupply:oe(e,"totalSupply")?e.totalSupply:void 0,isNative:oe(e,"isNative")?e.isNative:void 0}}function f3e(e){return h3e(e)}function h3e(e,t){return e==null?e:{networkId:oe(e,"networkId")?e.networkId:void 0,balances:oe(e,"balances")?e.balances.map(Noe):void 0}}function p3e(e){return m3e(e)}function m3e(e,t){return e==null?e:{walletAddress:e.walletAddress,chain:t3(e.chain),networks:e.networks.map(f3e)}}function g3e(e){return y3e(e)}function y3e(e,t){return e==null?e:{chainBalances:e.chainBalances.map(p3e)}}function v3e(e){if(e!==void 0)return e===null?null:{address:e.address,chain:e.chain,networkIds:e.networkIds,whitelistedContracts:e.whitelistedContracts}}function KW(e){if(e!==void 0)return e===null?null:{filterSpamTokens:e.filterSpamTokens,balanceRequests:e.balanceRequests.map(v3e)}}var HW;(function(e){e.Custom="custom",e.Default="default"})(HW||(HW={}));function w3e(e){return b3e(e)}function b3e(e,t){return e==null?e:{networkId:e.networkId,chainName:e.chainName,enabled:e.enabled,rpcUrl:oe(e,"rpcUrl")?e.rpcUrl:void 0,iconUrl:oe(e,"iconUrl")?e.iconUrl:void 0,type:oe(e,"type")?e.type:void 0}}function _3e(e){return x3e(e)}function x3e(e,t){return e==null?e:{registry:oe(e,"registry")?e.registry:void 0}}function k3e(e){return S3e(e)}function S3e(e,t){return e==null?e:{decimals:e.decimals,name:e.name,symbol:e.symbol,denom:oe(e,"denom")?e.denom:void 0,iconUrl:oe(e,"iconUrl")?e.iconUrl:void 0,pricingProviderTokenId:oe(e,"pricingProviderTokenId")?e.pricingProviderTokenId:void 0}}function I3e(e){return E3e(e)}function E3e(e,t){return e==null?e:{lcdUrl:oe(e,"lcdUrl")?e.lcdUrl:void 0,chainName:oe(e,"chainName")?e.chainName:void 0,key:oe(e,"key")?e.key:void 0,name:e.name,shortName:e.shortName,isTestnet:oe(e,"isTestnet")?e.isTestnet:void 0,chain:e.chain,chainId:e.chainId,nameService:oe(e,"nameService")?_3e(e.nameService):void 0,networkId:e.networkId,iconUrls:e.iconUrls,nativeCurrency:k3e(e.nativeCurrency),rpcUrls:e.rpcUrls,privateCustomerRpcUrls:oe(e,"privateCustomerRpcUrls")?e.privateCustomerRpcUrls:void 0,blockExplorerUrls:e.blockExplorerUrls,vanityName:oe(e,"vanityName")?e.vanityName:void 0,bech32Prefix:oe(e,"bech32Prefix")?e.bech32Prefix:void 0,genesisHash:oe(e,"genesisHash")?e.genesisHash:void 0,cluster:oe(e,"cluster")?e.cluster:void 0}}function Poe(e){return C3e(e)}function C3e(e,t){return e==null?e:{chainName:oe(e,"chainName")?e.chainName:void 0,networks:oe(e,"networks")?e.networks.map(I3e):void 0}}var Vb;(function(e){e.Done="done",e.VerifyEmail="verify-email",e.VerifiedAndTransferred="verified-and-transferred",e.VerifySms="verify-sms"})(Vb||(Vb={}));function A3e(e){return R3e(e)}function R3e(e,t){return e}function T3e(e){return O3e(e)}function O3e(e,t){return e==null?e:{nonce:oe(e,"nonce")?e.nonce:void 0}}function N3e(e){if(e!==void 0)return e===null?null:{state:e.state,redirectUrl:e.redirectUrl,ssoProviderId:e.ssoProviderId}}function P3e(e){return B3e(e)}function B3e(e,t){return e==null?e:{url:e.url}}function GW(e){if(e!==void 0)return e===null?null:{code:e.code,codeVerifier:e.codeVerifier,state:e.state,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey,ssoProviderId:e.ssoProviderId}}function ak(e){if(e!==void 0)return e===null?null:{state:e.state,telegramAuthToken:e.telegramAuthToken,forceCreateUser:e.forceCreateUser,code:e.code,sessionPublicKey:e.sessionPublicKey,captchaToken:e.captchaToken}}var JW;(function(e){e.Pending="pending",e.Completed="completed"})(JW||(JW={}));function D3e(e){return M3e(e)}function M3e(e,t){return e}function j3e(e){return $3e(e)}function $3e(e,t){return e==null?e:{code:oe(e,"code")?e.code:void 0,error:oe(e,"error")?e.error:void 0,status:D3e(e.status)}}function L3e(e){return U3e(e)}function U3e(e,t){return e==null?e:{roomId:e.roomId,serverKeygenIds:oe(e,"serverKeygenIds")?e.serverKeygenIds:void 0,newServerKeygenIds:oe(e,"newServerKeygenIds")?e.newServerKeygenIds:void 0,walletId:oe(e,"walletId")?e.walletId:void 0}}function F3e(e){return W3e(e)}function W3e(e,t){return e==null?e:{roomId:e.roomId,serverKeygenIds:e.serverKeygenIds,newServerKeygenIds:e.newServerKeygenIds,walletId:oe(e,"walletId")?e.walletId:void 0}}function lk(e){return q3e(e)}function q3e(e,t){return e==null?e:{roomId:e.roomId,serverKeygenIds:e.serverKeygenIds,newServerKeygenIds:oe(e,"newServerKeygenIds")?e.newServerKeygenIds:void 0,walletId:oe(e,"walletId")?e.walletId:void 0}}function z3e(e){if(e!==void 0)return e===null?null:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,transports:e.transports===void 0?void 0:e.transports.map(MSe),publicKey:e.publicKey}}function V3e(e){if(e!==void 0)return e===null?null:{id:e.id,rawId:e.rawId,response:z3e(e.response),clientExtensionResults:SD(e.clientExtensionResults),authenticatorAttachment:e.authenticatorAttachment,type:e.type,createMfaToken:Z1(e.createMfaToken)}}function K3e(e){if(e!==void 0)return e===null?null:{chain:e.chain,publicWalletAddress:e.publicWalletAddress}}function H3e(e){return G3e(e)}function G3e(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,exchange:wD(e.exchange),enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0,socialProvider:oe(e,"socialProvider")?zu(e.socialProvider):void 0,onRampProvider:oe(e,"onRampProvider")?zu(e.onRampProvider):void 0}}function J3e(e){return Z3e(e)}function Z3e(e,t){return e==null?e:{name:e.name,enabled:e.enabled,networks:oe(e,"networks")?e.networks.map(w3e):void 0}}function Y3e(e){return X3e(e)}function X3e(e,t){return e==null?e:{background:oe(e,"background")?e.background:void 0,fontColor:oe(e,"fontColor")?e.fontColor:void 0,paddingHeight:oe(e,"paddingHeight")?e.paddingHeight:void 0,paddingWidth:oe(e,"paddingWidth")?e.paddingWidth:void 0,radius:oe(e,"radius")?e.radius:void 0}}function Q3e(e){return eEe(e)}function eEe(e,t){return e==null?e:{border:oe(e,"border")?e.border:void 0,brand:oe(e,"brand")?e.brand:void 0,primaryColor:oe(e,"primaryColor")?e.primaryColor:void 0,radius:oe(e,"radius")?e.radius:void 0,theme:oe(e,"theme")?e.theme:void 0,view:oe(e,"view")?e.view:void 0,template:oe(e,"template")?e.template:void 0,displayOrder:oe(e,"displayOrder")?e.displayOrder:void 0,emailOnly:oe(e,"emailOnly")?e.emailOnly:void 0,showWalletsButton:oe(e,"showWalletsButton")?e.showWalletsButton:void 0,emailSubmitButtonInsideInput:oe(e,"emailSubmitButtonInsideInput")?e.emailSubmitButtonInsideInput:void 0,splitEmailAndSocial:oe(e,"splitEmailAndSocial")?e.splitEmailAndSocial:void 0,socialAboveEmail:oe(e,"socialAboveEmail")?e.socialAboveEmail:void 0}}function tEe(e){return nEe(e)}function nEe(e,t){return e==null?e:{backgroundColor:oe(e,"backgroundColor")?e.backgroundColor:void 0,border:oe(e,"border")?e.border:void 0,radius:oe(e,"radius")?e.radius:void 0,textColor:oe(e,"textColor")?e.textColor:void 0,theme:oe(e,"theme")?e.theme:void 0}}function rEe(e){return iEe(e)}function iEe(e,t){return e==null?e:{modal:oe(e,"modal")?Q3e(e.modal):void 0,button:oe(e,"button")?Y3e(e.button):void 0,widget:oe(e,"widget")?tEe(e.widget):void 0}}function oEe(e){return sEe(e)}function sEe(e,t){return e==null?e:{displayName:oe(e,"displayName")?e.displayName:void 0,supportEmail:oe(e,"supportEmail")?e.supportEmail:void 0,supportText:oe(e,"supportText")?e.supportText:void 0,appLogo:oe(e,"appLogo")?e.appLogo:void 0,imageUserNotInAccessList:oe(e,"imageUserNotInAccessList")?e.imageUserNotInAccessList:void 0,imageUserInAccessList:oe(e,"imageUserInAccessList")?e.imageUserInAccessList:void 0,supportUrls:oe(e,"supportUrls")?e.supportUrls:void 0,collectUserDataWelcomeHeader:oe(e,"collectUserDataWelcomeHeader")?e.collectUserDataWelcomeHeader:void 0,collectUserDataWelcomeMessage:oe(e,"collectUserDataWelcomeMessage")?e.collectUserDataWelcomeMessage:void 0,skipOptionalKYCFieldDuringOnboarding:oe(e,"skipOptionalKYCFieldDuringOnboarding")?e.skipOptionalKYCFieldDuringOnboarding:void 0,emailCompanyName:oe(e,"emailCompanyName")?e.emailCompanyName:void 0}}function aEe(e){return lEe(e)}function lEe(e,t){return e==null?e:{collectIp:oe(e,"collectIp")?e.collectIp:void 0}}function cEe(e){return dEe(e)}function dEe(e,t){return e==null?e:{exchange:wD(e.exchange),socialProvider:oe(e,"socialProvider")?zu(e.socialProvider):void 0,onRampProvider:oe(e,"onRampProvider")?zu(e.onRampProvider):void 0}}function uEe(e){return fEe(e)}function fEe(e,t){return e==null?e:{connectOnlyMultiAsset:e.connectOnlyMultiAsset,enableExchanges:e.enableExchanges}}function hEe(e){return pEe(e)}function pEe(e,t){return e==null?e:{value:oe(e,"value")?e.value:void 0,rule:oe(e,"rule")?RSe(e.rule):void 0}}function mEe(e){return gEe(e)}function gEe(e,t){return e==null?e:{chain:oe(e,"chain")?t3(e.chain):void 0,token:oe(e,"token")?hEe(e.token):void 0}}function yEe(e){return vEe(e)}function vEe(e,t){return e==null?e:{chainSettings:oe(e,"chainSettings")?e.chainSettings.map(mEe):void 0}}function wEe(e){return bEe(e)}function bEe(e,t){return e==null?e:{amount:oe(e,"amount")?e.amount:void 0,currency:oe(e,"currency")?e.currency:void 0}}function _Ee(e){return xEe(e)}function xEe(e,t){return e==null?e:{enabled:e.enabled,minAmount:oe(e,"minAmount")?wEe(e.minAmount):void 0,defaultSettings:oe(e,"defaultSettings")?yEe(e.defaultSettings):void 0}}function kEe(e){return SEe(e)}function SEe(e,t){return e==null?e:{onramps:e.onramps.map(OSe),externalWallets:oe(e,"externalWallets")?_Ee(e.externalWallets):void 0}}function IEe(e){return EEe(e)}function EEe(e,t){return e==null?e:{deeplinkUrlsEnabled:oe(e,"deeplinkUrlsEnabled")?e.deeplinkUrlsEnabled:void 0}}function CEe(e){return AEe(e)}function AEe(e,t){return e==null?e:{domain:oe(e,"domain")?e.domain:void 0}}function REe(e){return TEe(e)}function TEe(e,t){return e==null?e:{evm:CEe(e.evm)}}function OEe(e){return NEe(e)}function NEe(e,t){return e==null?e:{allWallets:oe(e,"allWallets")?e.allWallets:void 0,allUsers:oe(e,"allUsers")?e.allUsers:void 0,separateSmartWalletAndSigner:oe(e,"separateSmartWalletAndSigner")?e.separateSmartWalletAndSigner:void 0,enablePasskeys:oe(e,"enablePasskeys")?e.enablePasskeys:void 0}}var Kb;(function(e){e.Dynamic="dynamic",e.MagicLink="magicLink",e.Blocto="blocto",e.Turnkey="turnkey",e.CoinbaseWaas="coinbaseWaas"})(Kb||(Kb={}));function Boe(e){return PEe(e)}function PEe(e,t){return e}function BEe(e){return DEe(e)}function DEe(e,t){return e==null?e:{signInProvider:oe(e,"signInProvider")?Boe(e.signInProvider):void 0}}function MEe(e){return jEe(e)}function jEe(e,t){return e==null?e:{name:e.name,enabled:e.enabled,primary:e.primary}}function Doe(e){return $Ee(e)}function $Ee(e,t){return e==null?e:{amount:e.amount,unit:V2e(e.unit)}}function U5(e){return LEe(e)}function LEe(e,t){return e==null?e:{isDefault:e.isDefault,isEnabled:e.isEnabled,isPermanentAuthenticator:e.isPermanentAuthenticator,listPosition:e.listPosition}}function UEe(e){return FEe(e)}function FEe(e,t){return e==null?e:{passkey:oe(e,"passkey")?U5(e.passkey):void 0,email:oe(e,"email")?U5(e.email):void 0,password:oe(e,"password")?U5(e.password):void 0}}function WEe(e){return qEe(e)}function qEe(e,t){return e==null?e:{automaticEmbeddedWalletCreation:oe(e,"automaticEmbeddedWalletCreation")?e.automaticEmbeddedWalletCreation:void 0,automaticEmbeddedWalletCreationForExternal:oe(e,"automaticEmbeddedWalletCreationForExternal")?e.automaticEmbeddedWalletCreationForExternal:void 0,showEmbeddedWalletActionsUI:oe(e,"showEmbeddedWalletActionsUI")?e.showEmbeddedWalletActionsUI:void 0,emailRecoveryEnabled:oe(e,"emailRecoveryEnabled")?e.emailRecoveryEnabled:void 0,forceAuthenticatorAtSignup:oe(e,"forceAuthenticatorAtSignup")?e.forceAuthenticatorAtSignup:void 0,allowSkippingAuthenticatorAtSignup:oe(e,"allowSkippingAuthenticatorAtSignup")?e.allowSkippingAuthenticatorAtSignup:void 0,sessionKeyDuration:oe(e,"sessionKeyDuration")?Doe(e.sessionKeyDuration):void 0,supportedSecurityMethods:oe(e,"supportedSecurityMethods")?UEe(e.supportedSecurityMethods):void 0,chainConfigurations:oe(e,"chainConfigurations")?e.chainConfigurations.map(MEe):void 0,domainEnabledByProvider:oe(e,"domainEnabledByProvider")?e.domainEnabledByProvider:void 0,defaultWalletVersion:oe(e,"defaultWalletVersion")?boe(e.defaultWalletVersion):void 0,promptForKeyExport:oe(e,"promptForKeyExport")?e.promptForKeyExport:void 0,transactionSimulation:oe(e,"transactionSimulation")?e.transactionSimulation:void 0,svmGasSponsorshipEnabled:oe(e,"svmGasSponsorshipEnabled")?e.svmGasSponsorshipEnabled:void 0}}var wm;(function(e){e.Apple="apple",e.Bitbucket="bitbucket",e.Coinbasesocial="coinbasesocial",e.Discord="discord",e.Epicgames="epicgames",e.Facebook="facebook",e.Farcaster="farcaster",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Instagram="instagram",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Twitch="twitch",e.Twitter="twitter",e.Telegram="telegram",e.Spotify="spotify",e.Tiktok="tiktok",e.Line="line",e.Steam="steam",e.Shopify="shopify",e.Kraken="kraken",e.Okta="okta"})(wm||(wm={}));function zEe(e){return VEe(e)}function VEe(e,t){return e}function KEe(e){return HEe(e)}function HEe(e,t){return e==null?e:{provider:zEe(e.provider),enabled:oe(e,"enabled")?e.enabled:void 0}}function GEe(e){return JEe(e)}function JEe(e,t){return e==null?e:{signInProvider:oe(e,"signInProvider")?Boe(e.signInProvider):void 0,providers:oe(e,"providers")?e.providers.map(KEe):void 0}}function ZEe(e){return YEe(e)}function YEe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,promptUsersOnSignIn:oe(e,"promptUsersOnSignIn")?e.promptUsersOnSignIn:void 0,requiresDelegation:oe(e,"requiresDelegation")?e.requiresDelegation:void 0}}var ZW;(function(e){e.Development="development",e.Production="production"})(ZW||(ZW={}));function XEe(e){return QEe(e)}function QEe(e,t){return e==null?e:{containerIdentifier:oe(e,"containerIdentifier")?e.containerIdentifier:void 0,apiToken:oe(e,"apiToken")?e.apiToken:void 0,environment:oe(e,"environment")?e.environment:void 0}}function eCe(e){return tCe(e)}function tCe(e,t){return e==null?e:{promptBackupOptions:e.promptBackupOptions,promptClientShareExport:e.promptClientShareExport}}function nCe(e){return rCe(e)}function rCe(e,t){return e==null?e:{allowMultipleWaasWalletsPerChain:oe(e,"allowMultipleWaasWalletsPerChain")?e.allowMultipleWaasWalletsPerChain:void 0,passcodeRequired:e.passcodeRequired,onSignUp:eCe(e.onSignUp),backupOptions:e.backupOptions.map(bD),iCloud:oe(e,"iCloud")?XEe(e.iCloud):void 0,relayUrl:oe(e,"relayUrl")?e.relayUrl:void 0,delegatedAccessEndpoint:oe(e,"delegatedAccessEndpoint")?e.delegatedAccessEndpoint:void 0,delegatedAccess:oe(e,"delegatedAccess")?ZEe(e.delegatedAccess):void 0,enableForwardMPCClient:oe(e,"enableForwardMPCClient")?e.enableForwardMPCClient:void 0,customKeyshareRelayBaseUrl:oe(e,"customKeyshareRelayBaseUrl")?e.customKeyshareRelayBaseUrl:void 0,exportDisabled:oe(e,"exportDisabled")?e.exportDisabled:void 0}}function iCe(e){return oCe(e)}function oCe(e,t){return e==null?e:{projectId:oe(e,"projectId")?e.projectId:void 0,v2Enabled:oe(e,"v2Enabled")?e.v2Enabled:void 0,walletProjectId:oe(e,"walletProjectId")?e.walletProjectId:void 0}}var YW;(function(e){e.Center="center",e.Left="left",e.Right="right"})(YW||(YW={}));function sCe(e){return aCe(e)}function aCe(e,t){return e}var Eo;(function(e){e.Email="email",e.EmailAndPhone="emailAndPhone",e.Phone="phone",e.Separator="separator",e.Social="social",e.Text="text",e.Wallet="wallet",e.Passkey="passkey"})(Eo||(Eo={}));function lCe(e){return cCe(e)}function cCe(e,t){return e}function dCe(e){return uCe(e)}function uCe(e,t){return e==null?e:{type:lCe(e.type),label:oe(e,"label")?e.label:void 0,numOfItemsToDisplay:oe(e,"numOfItemsToDisplay")?e.numOfItemsToDisplay:void 0,defaultItem:oe(e,"defaultItem")?e.defaultItem:void 0,alignment:oe(e,"alignment")?sCe(e.alignment):void 0}}var yO;(function(e){e.Login="login"})(yO||(yO={}));function fCe(e){return hCe(e)}function hCe(e,t){return e}function pCe(e){return mCe(e)}function mCe(e,t){return e==null?e:{type:fCe(e.type),sections:oe(e,"sections")?e.sections.map(dCe):void 0}}function gCe(e){return yCe(e)}function yCe(e,t){return e==null?e:{nameService:oe(e,"nameService")?REe(e.nameService):void 0,featureFlags:oe(e,"featureFlags")?uEe(e.featureFlags):void 0,emailSignIn:oe(e,"emailSignIn")?BEe(e.emailSignIn):void 0,socialSignIn:oe(e,"socialSignIn")?GEe(e.socialSignIn):void 0,exchangeOptions:oe(e,"exchangeOptions")?e.exchangeOptions.map(cEe):void 0,multiWallet:oe(e,"multiWallet")?e.multiWallet:void 0,multiWalletUnlinkDisabled:oe(e,"multiWalletUnlinkDisabled")?e.multiWalletUnlinkDisabled:void 0,mobile:oe(e,"mobile")?IEe(e.mobile):void 0,confirmWalletTransfers:oe(e,"confirmWalletTransfers")?e.confirmWalletTransfers:void 0,onrampFunding:oe(e,"onrampFunding")?e.onrampFunding:void 0,passkeyEmbeddedWalletEnabled:oe(e,"passkeyEmbeddedWalletEnabled")?e.passkeyEmbeddedWalletEnabled:void 0,automaticEmbeddedWalletCreation:oe(e,"automaticEmbeddedWalletCreation")?e.automaticEmbeddedWalletCreation:void 0,passkeyEmbeddedWalletRecoveryEnabled:oe(e,"passkeyEmbeddedWalletRecoveryEnabled")?e.passkeyEmbeddedWalletRecoveryEnabled:void 0,embeddedWalletSecurityMethods:oe(e,"embeddedWalletSecurityMethods")?e.embeddedWalletSecurityMethods.map(vSe):void 0,embeddedWallets:oe(e,"embeddedWallets")?WEe(e.embeddedWallets):void 0,waas:oe(e,"waas")?nCe(e.waas):void 0,walletConnect:oe(e,"walletConnect")?iCe(e.walletConnect):void 0,confirmEmailProviderForVerify:oe(e,"confirmEmailProviderForVerify")?e.confirmEmailProviderForVerify:void 0,displayDynamicMessaging:oe(e,"displayDynamicMessaging")?e.displayDynamicMessaging:void 0,hideNetworkInDynamicWidget:oe(e,"hideNetworkInDynamicWidget")?e.hideNetworkInDynamicWidget:void 0,preventOrphanedAccounts:oe(e,"preventOrphanedAccounts")?e.preventOrphanedAccounts:void 0,views:oe(e,"views")?e.views.map(pCe):void 0,accountAbstraction:oe(e,"accountAbstraction")?OEe(e.accountAbstraction):void 0,blockEmailSubaddresses:oe(e,"blockEmailSubaddresses")?e.blockEmailSubaddresses:void 0,enableMultiAsset:oe(e,"enableMultiAsset")?e.enableMultiAsset:void 0,showFiat:oe(e,"showFiat")?e.showFiat:void 0,disabledWalletConnectors:oe(e,"disabledWalletConnectors")?e.disabledWalletConnectors:void 0,funding:oe(e,"funding")?kEe(e.funding):void 0}}function vCe(e){return wCe(e)}function wCe(e,t){return e==null?e:{storage:e.storage.map(ske)}}function bCe(e){return _Ce(e)}function _Ce(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,iss:oe(e,"iss")?e.iss:void 0,aud:oe(e,"aud")?e.aud:void 0,jwksUrl:oe(e,"jwksUrl")?e.jwksUrl:void 0,cookieName:oe(e,"cookieName")?e.cookieName:void 0}}function xCe(e){return kCe(e)}function kCe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,secretKey:oe(e,"secretKey")?e.secretKey:void 0,siteKey:oe(e,"siteKey")?e.siteKey:void 0}}function SCe(e){return ICe(e)}function ICe(e,t){return e==null?e:{action:RIe(e.action),required:e.required}}function ECe(e){return CCe(e)}function CCe(e,t){return e==null?e:{type:Y1(e.type),enabled:e.enabled,allowBackupCodes:oe(e,"allowBackupCodes")?e.allowBackupCodes:void 0}}function ACe(e){return RCe(e)}function RCe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,required:oe(e,"required")?e.required:void 0,availableMethods:oe(e,"availableMethods")?e.availableMethods.map(Y1):void 0,methods:oe(e,"methods")?e.methods.map(ECe):void 0,actions:oe(e,"actions")?e.actions.map(SCe):void 0}}function TCe(e){return OCe(e)}function OCe(e,t){return e==null?e:{waasPrivateKeyExport:oe(e,"waasPrivateKeyExport")?e.waasPrivateKeyExport:void 0,waasSignedTransaction:oe(e,"waasSignedTransaction")?e.waasSignedTransaction:void 0}}function NCe(e){return PCe(e)}function PCe(e,t){return e==null?e:{jwtDuration:oe(e,"jwtDuration")?Doe(e.jwtDuration):void 0,hCaptcha:oe(e,"hCaptcha")?xCe(e.hCaptcha):void 0,mfa:oe(e,"mfa")?ACe(e.mfa):void 0,auth:oe(e,"auth")?vCe(e.auth):void 0,externalAuth:oe(e,"externalAuth")?bCe(e.externalAuth):void 0,environmentLocked:oe(e,"environmentLocked")?e.environmentLocked:void 0,notifications:oe(e,"notifications")?TCe(e.notifications):void 0}}function BCe(e){return DCe(e)}function DCe(e,t){return e==null?e:{termsUrl:e.termsUrl,email:e.email,userId:e.userId,createdAt:new Date(e.createdAt)}}function MCe(e){return jCe(e)}function jCe(e,t){return e==null?e:{clientId:e.clientId,chain:e.chain,_default:oe(e,"default")?e.default:void 0}}function $Ce(e){return LCe(e)}function LCe(e,t){return e==null?e:{isoCountryCode:e.isoCountryCode,phoneCountryCode:e.phoneCountryCode}}var XW;(function(e){e.Stackup="STACKUP",e.Pimlico="PIMLICO",e.Alchemy="ALCHEMY",e.Gelato="GELATO"})(XW||(XW={}));function UCe(e){return FCe(e)}function FCe(e,t){return e}function WCe(e){return qCe(e)}function qCe(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,provider:zu(e.provider),enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0,clientId:oe(e,"clientId")?e.clientId:void 0,clientSecret:oe(e,"clientSecret")?e.clientSecret:void 0,providerProjectId:oe(e,"providerProjectId")?e.providerProjectId:void 0,authorizationUrl:oe(e,"authorizationUrl")?e.authorizationUrl:void 0,redirectUrl:oe(e,"redirectUrl")?e.redirectUrl:void 0,defaultChainId:oe(e,"defaultChainId")?e.defaultChainId:void 0,defaultChain:oe(e,"defaultChain")?e.defaultChain:void 0,keyExportUrl:oe(e,"keyExportUrl")?e.keyExportUrl:void 0,termsAcceptedByUser:oe(e,"termsAcceptedByUser")?BCe(e.termsAcceptedByUser):void 0,scopes:oe(e,"scopes")?e.scopes:void 0,baseAuthUrl:oe(e,"baseAuthUrl")?e.baseAuthUrl:void 0,appleKeyId:oe(e,"appleKeyId")?e.appleKeyId:void 0,appleTeamId:oe(e,"appleTeamId")?e.appleTeamId:void 0,shopifyStore:oe(e,"shopifyStore")?e.shopifyStore:void 0,domain:oe(e,"domain")?e.domain:void 0,accountSid:oe(e,"accountSid")?e.accountSid:void 0,twilioNumber:oe(e,"twilioNumber")?e.twilioNumber:void 0,twilioVerifyServiceSid:oe(e,"twilioVerifyServiceSid")?e.twilioVerifyServiceSid:void 0,enabledCountries:oe(e,"enabledCountries")?e.enabledCountries.map($Ce):void 0,sendgridIpPoolName:oe(e,"sendgridIpPoolName")?e.sendgridIpPoolName:void 0,entryPointVersion:oe(e,"entryPointVersion")?_oe(e.entryPointVersion):void 0,kernelVersion:oe(e,"kernelVersion")?xoe(e.kernelVersion):void 0,factoryAddress:oe(e,"factoryAddress")?e.factoryAddress:void 0,paymasterAddress:oe(e,"paymasterAddress")?e.paymasterAddress:void 0,passkeyAddress:oe(e,"passkeyAddress")?e.passkeyAddress:void 0,sessionAddress:oe(e,"sessionAddress")?e.sessionAddress:void 0,salt:oe(e,"salt")?e.salt:void 0,multichainAccountAbstractionProviders:oe(e,"multichainAccountAbstractionProviders")?e.multichainAccountAbstractionProviders.map(MCe):void 0,ecdsaProviderType:oe(e,"ecdsaProviderType")?woe(e.ecdsaProviderType):void 0,createNewAccounts:oe(e,"createNewAccounts")?e.createNewAccounts:void 0,enableKernelV3Migration:oe(e,"enableKernelV3Migration")?e.enableKernelV3Migration:void 0,enableEIP7702:oe(e,"enableEIP7702")?e.enableEIP7702:void 0,zerodevBundlerProvider:oe(e,"zerodevBundlerProvider")?UCe(e.zerodevBundlerProvider):void 0,zerodevBundlerRpcUrl:oe(e,"zerodevBundlerRpcUrl")?e.zerodevBundlerRpcUrl:void 0,zerodevPaymasterRpcUrl:oe(e,"zerodevPaymasterRpcUrl")?e.zerodevPaymasterRpcUrl:void 0,zerodevKernelDelegationAddress:oe(e,"zerodevKernelDelegationAddress")?e.zerodevKernelDelegationAddress:void 0,returnUrl:oe(e,"returnUrl")?e.returnUrl:void 0,cancelUrl:oe(e,"cancelUrl")?e.cancelUrl:void 0}}function zCe(e){return VCe(e)}function VCe(e,t){return e==null?e:{environmentName:oe(e,"environmentName")?bSe(e.environmentName):void 0,chains:e.chains.map(J3e),customFields:oe(e,"customFields")?e.customFields.map(gO):void 0,kyc:e.kyc.map(gO),design:rEe(e.design),general:oEe(e.general),privacy:aEe(e.privacy),providers:oe(e,"providers")?e.providers.map(WCe):void 0,exchanges:oe(e,"exchanges")?e.exchanges.map(H3e):void 0,sdk:gCe(e.sdk),security:NCe(e.security),networks:oe(e,"networks")?e.networks.map(Poe):void 0}}var QW;(function(e){e.Track="track"})(QW||(QW={}));function KCe(e){if(e!==void 0)return e===null?null:{anonymousId:e.anonymousId,event:e.event,properties:e.properties,type:e.type}}function HCe(e){if(e!==void 0)return e===null?null:{events:e.events.map(KCe)}}function GCe(e){if(e!==void 0)return e===null?null:{keyShareIds:e.keyShareIds}}function JCe(e){return ZCe(e)}function ZCe(e,t){return e==null?e:{id:e.id,backupLocation:e.backupLocation,passwordEncrypted:e.passwordEncrypted,externalKeyShareId:oe(e,"externalKeyShareId")?e.externalKeyShareId:void 0,encryptedAccountCredential:oe(e,"encryptedAccountCredential")?e.encryptedAccountCredential:void 0}}function YCe(e){return XCe(e)}function XCe(e,t){return e==null?e:{keyShares:e.keyShares.map(JCe)}}function QCe(e){return e5e(e)}function e5e(e,t){return e==null?e:{publicKey:e.publicKey,expiresAt:e.expiresAt}}function t5e(e){if(e!==void 0)return e===null?null:{publicKey:e.publicKey,prevSessionKeySignature:e.prevSessionKeySignature,walletId:e.walletId}}function n5e(e){if(e!==void 0)return e===null?null:{clientKeygenIds:e.clientKeygenIds,oldThresholdSignatureScheme:e.oldThresholdSignatureScheme,newThresholdSignatureScheme:e.newThresholdSignatureScheme,delegateToProjectEnvironment:e.delegateToProjectEnvironment,revokeDelegation:e.revokeDelegation}}function r5e(e){if(e!==void 0)return e===null?null:{url:e.url}}function i5e(e){return o5e(e)}function o5e(e,t){return e==null?e:{isMalicious:oe(e,"isMalicious")?e.isMalicious:void 0}}function s5e(e){if(e!==void 0)return e===null?null:{version:e.version}}function a5e(e){if(e!==void 0)return e===null?null:{version:e.version}}function l5e(e){if(e!==void 0)return e===null?null:{react:a5e(e.react),nextjs:s5e(e.nextjs)}}function c5e(e){if(e!==void 0)return e===null?null:{dynamicContextProps:e.dynamicContextProps,dynamicWagmiSettings:e.dynamicWagmiSettings,frameworkSettings:l5e(e.frameworkSettings)}}function d5e(e){if(e!==void 0)return e===null?null:{address:e.address,chainId:e.chainId,nonce:e.nonce}}function u5e(e){if(e!==void 0)return e===null?null:{raw:e.raw}}function f5e(e){if(e!==void 0)return e===null?null:{to:e.to,chainId:e.chainId,data:e.data,gas:e.gas,gasPrice:e.gasPrice,maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,nonce:e.nonce,value:e.value}}function h5e(e){if(e!==void 0)return e===null?null:{name:e.name,version:e.version,chainId:e.chainId,verifyingContract:e.verifyingContract}}function p5e(e){if(e!==void 0)return e===null?null:{domain:h5e(e.domain),message:e.message,primaryType:e.primaryType,types:e.types}}function m5e(e){if(e!==void 0)return e===null?null:{address:e.address,chainId:e.chainId,nonce:e.nonce,r:e.r,s:e.s,v:e.v,yParity:e.yParity}}function g5e(e){if(e!==void 0)return e===null?null:{authorization:m5e(e.authorization),callData:e.callData,callGasLimit:e.callGasLimit,factory:e.factory,factoryData:e.factoryData,maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,nonce:e.nonce,paymaster:e.paymaster,paymasterData:e.paymasterData,paymasterPostOpGasLimit:e.paymasterPostOpGasLimit,paymasterVerificationGasLimit:e.paymasterVerificationGasLimit,preVerificationGas:e.preVerificationGas,sender:e.sender,signature:e.signature,verificationGasLimit:e.verificationGasLimit}}function y5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,entryPoint:e.entryPoint,operation:g5e(e.operation)}}function v5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,serializedTransaction:e.serializedTransaction}}function w5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,method:e.method,serializedTransactions:e.serializedTransactions}}function b5e(e){if(e!==void 0)return e===null?null:{evmTransaction:f5e(e.evmTransaction),evmUserOperation:y5e(e.evmUserOperation),svmTransaction:w5e(e.svmTransaction),suiTransaction:v5e(e.suiTransaction),eip7702Auth:d5e(e.eip7702Auth),evmMessage:u5e(e.evmMessage),svmMessage:e.svmMessage,suiMessage:e.suiMessage,evmTypedData:p5e(e.evmTypedData),domain:e.domain}}function _5e(e){if(e!==void 0)return e===null?null:{addressType:e.addressType,network:e.network}}function x5e(e){if(e!==void 0)return e===null?null:{message:e.message,isFormatted:e.isFormatted,roomId:e.roomId,context:b5e(e.context),bitcoinConfig:_5e(e.bitcoinConfig)}}function k5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,data:e.data,from:e.from,to:e.to,value:e.value,domain:e.domain}}function S5e(e){if(e!==void 0)return e===null?null:{chain:e.chain,transactions:e.transactions,accountAddress:e.accountAddress,domain:e.domain,method:e.method}}function Moe(e){return I5e(e)}function I5e(e,t){return e==null?e:{address:e.address,chainId:oe(e,"chainId")?e.chainId:void 0,chainName:e.chainName,decimals:e.decimals,logoUrl:e.logoUrl,name:e.name,symbol:e.symbol,type:e.type}}function eq(e){return E5e(e)}function E5e(e,t){return e==null?e:{rawValue:oe(e,"rawValue")?e.rawValue:void 0,summary:oe(e,"summary")?e.summary:void 0,usdPrice:oe(e,"usdPrice")?e.usdPrice:void 0,value:oe(e,"value")?e.value:void 0}}function tq(e){return C5e(e)}function C5e(e,t){return e==null?e:{asset:Moe(e.asset),transferIn:e.transferIn.map(eq),transferOut:e.transferOut.map(eq)}}function A5e(e){return R5e(e)}function R5e(e,t){return e==null?e:{amount:e.amount,spenderAlias:oe(e,"spenderAlias")?e.spenderAlias:void 0,usdValue:oe(e,"usdValue")?e.usdValue:void 0}}function T5e(e){return O5e(e)}function O5e(e,t){return e==null?e:{asset:Moe(e.asset),spenderToInfo:Xxe(e.spenderToInfo,A5e)}}function N5e(e){return P5e(e)}function P5e(e,t){return e==null?e:{result:e.result,description:oe(e,"description")?e.description:void 0,reason:e.reason,classification:oe(e,"classification")?e.classification:void 0}}function B5e(e){return D5e(e)}function D5e(e,t){return e==null?e:{nativeTokenUsdPrice:oe(e,"nativeTokenUsdPrice")?e.nativeTokenUsdPrice:void 0}}function F5(e){return M5e(e)}function M5e(e,t){return e==null?e:{inAssets:e.inAssets.map(tq),outAssets:e.outAssets.map(tq),counterparties:oe(e,"counterparties")?e.counterparties:void 0,priceData:B5e(e.priceData),showTotalFiat:e.showTotalFiat,validation:oe(e,"validation")?N5e(e.validation):void 0,assetExposures:oe(e,"assetExposures")?e.assetExposures.map(T5e):void 0}}function j5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,operation:e.operation,entryPoint:e.entryPoint,domain:e.domain,value:e.value}}function $5e(e){if(e!==void 0)return e===null?null:{phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber,isoCountryCode:e.isoCountryCode,captchaToken:e.captchaToken}}function vO(e){return L5e(e)}function L5e(e,t){return e==null?e:{verificationUUID:e.verificationUUID,phoneNumber:e.phoneNumber,phoneCountryCode:e.phoneCountryCode,isoCountryCode:e.isoCountryCode}}function U5e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber,isoCountryCode:e.isoCountryCode,captchaToken:e.captchaToken}}function nq(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey}}function F5e(e){if(e!==void 0)return e===null?null:{transaction:e.transaction,address:e.address}}function W5e(e){return q5e(e)}function q5e(e,t){return e==null?e:{transaction:e.transaction}}var rq;(function(e){e.Okta="okta"})(rq||(rq={}));function z5e(e){if(e!==void 0)return e===null?null:{email:e.email}}var iq;(function(e){e.Otp="otp",e.Sso="sso"})(iq||(iq={}));function V5e(e){return K5e(e)}function K5e(e,t){return e==null?e:{type:e.type,provider:oe(e,"provider")?e.provider:void 0,ssoAuthUrl:oe(e,"ssoAuthUrl")?e.ssoAuthUrl:void 0,id:oe(e,"id")?e.id:void 0}}function joe(e){return H5e(e)}function H5e(e,t){return e==null?e:{provider:zu(e.provider),name:e.name,iconUrl:e.iconUrl,url:e.url,qrCode:oe(e,"qrCode")?e.qrCode:void 0}}function G5e(e){return J5e(e)}function J5e(e,t){return e==null?e:{offramps:oe(e,"offramps")?e.offramps.map(joe):void 0}}function Z5e(e){return Y5e(e)}function Y5e(e,t){return e==null?e:{onramps:oe(e,"onramps")?e.onramps.map(joe):void 0}}function X5e(e){if(e!==void 0)return e===null?null:{id:e.id,firstName:e.firstName,lastName:e.lastName,hash:e.hash,photoURL:e.photoURL,username:e.username,authDate:e.authDate}}function Q5e(e){if(e!==void 0)return e===null?null:{state:e.state,telegramUser:X5e(e.telegramUser)}}function eAe(e){return tAe(e)}function tAe(e,t){return e==null?e:{address:e.address,tokens:oe(e,"tokens")?e.tokens:void 0}}function nAe(e){return rAe(e)}function rAe(e,t){return e==null?e:{destinations:e.destinations.map(eAe),enforcesAddressWhitelist:e.enforcesAddressWhitelist}}function iAe(e){return oAe(e)}function oAe(e,t){return e==null?e:{curve:e.curve,pathFormat:e.pathFormat,path:e.path,addressFormat:e.addressFormat}}function sAe(e){return aAe(e)}function aAe(e,t){return e==null?e:{walletId:e.walletId,accounts:e.accounts.map(iAe)}}function lAe(e){return cAe(e)}function cAe(e,t){return e==null?e:{organizationId:e.organizationId,parameters:sAe(e.parameters),timestampMs:e.timestampMs,type:e.type}}function dAe(e){return uAe(e)}function uAe(e,t){return e==null?e:{walletIds:e.walletIds,deleteWithoutExport:oe(e,"deleteWithoutExport")?e.deleteWithoutExport:void 0}}function oq(e){return fAe(e)}function fAe(e,t){return e==null?e:{organizationId:e.organizationId,parameters:dAe(e.parameters),timestampMs:e.timestampMs,type:e.type}}var Hb;(function(e){e.EmailCannotBeNull="email_cannot_be_null",e.ExchangeCannotBeEnabled="exchange_cannot_be_enabled",e.TransferAmountTooSmall="transfer_amount_too_small",e.TransferAddressNotWhitelisted="transfer_address_not_whitelisted",e.InvalidScopes="invalid_scopes",e.UnknownTransferError="unknown_transfer_error",e.TransferMfaRequired="transfer_mfa_required",e.TransferMfaFailed="transfer_mfa_failed",e.InvalidTransferFunds="invalid_transfer_funds",e.InvalidTransferCurrency="invalid_transfer_currency",e.InvalidExchangeProvider="invalid_exchange_provider",e.InvalidTransferNetwork="invalid_transfer_network",e.InvalidEmail="invalid_email",e.EmailAlreadyExists="email_already_exists",e.AllowlistAlreadyExists="allowlist_already_exists",e.AllowlistEntryAlreadyExists="allowlist_entry_already_exists",e.ReassignWalletError="reassign_wallet_error",e.ReassignWalletConfirm="reassign_wallet_confirm",e.MembersCannotDeleteThemself="members_cannot_delete_themself",e.UsernameAlreadyExists="username_already_exists",e.WrongEmailVerificationToken="wrong_email_verification_token",e.WrongSmsVerificationToken="wrong_sms_verification_token",e.InvalidEmailVerification="invalid_email_verification",e.InvalidSmsVerification="invalid_sms_verification",e.InvalidVerification="invalid_verification",e.InvalidPosition="invalid_position",e.TooManySmsVerificationAttempts="too_many_sms_verification_attempts",e.TooManyEmailVerificationAttempts="too_many_email_verification_attempts",e.TooManyVerificationAttempts="too_many_verification_attempts",e.OrganizationNameAlreadyExists="organization_name_already_exists",e.ProjectNameAlreadyExists="project_name_already_exists",e.WalletNotDeployed="wallet_not_deployed",e.EmailVerificationRequired="email_verification_required",e.PhoneVerificationRequired="phone_verification_required",e.InviteAddressRequired="invite_address_required",e.ProviderNotAvailable="provider_not_available",e.ForbiddenUnlinkRequest="forbidden_unlink_request",e.InvalidUnlinkRequest="invalid_unlink_request",e.TooManyApiTokens="too_many_api_tokens",e.LockTimeout="lock_timeout",e.LockTooManyAttempts="lock_too_many_attempts",e.NftTokenGatingNotSupportedForChain="nft_token_gating_not_supported_for_chain",e.EmptyChainName="empty_chain_name",e.NoEnabledEmailProvider="no_enabled_email_provider",e.NoEnabledSmsProvider="no_enabled_sms_provider",e.InvalidKeyExportUrl="invalid_key_export_url",e.InvalidDynamicProps="invalid_dynamic_props",e.TooManyRequests="too_many_requests",e.TooManyOrganizationsForUser="too_many_organizations_for_user",e.TooManyProjectsForOrganization="too_many_projects_for_organization",e.EmailAssociatedWithDifferentProvider="email_associated_with_different_provider",e.UserHasAlreadyAccountWithEmail="user_has_already_account_with_email",e.UserHasAlreadyAccountWithPhoneNumber="user_has_already_account_with_phone_number",e.OtherVerifyFailure="other_verify_failure",e.EmailTiedToEmbeddedWallet="email_tied_to_embedded_wallet",e.InvalidInvite="invalid_invite",e.SocialAccountAlreadyExists="social_account_already_exists",e.InvalidEmailAddress="invalid_email_address",e.InvalidGate="invalid_gate",e.ConflictingEmbeddedWalletProviders="conflicting_embedded_wallet_providers",e.InvalidUser="invalid_user",e.InvalidCorsOrigins="invalid_cors_origins",e.InvalidMobileDeeplinkUrls="invalid_mobile_deeplink_urls",e.UnauthorizedMobileDeeplinkUrl="unauthorized_mobile_deeplink_url",e.InvalidPrivateKeyFormat="invalid_private_key_format",e.InvalidEmbeddedWalletSettings="invalid_embedded_wallet_settings",e.WalletNotSupportPasskey="wallet_not_support_passkey",e.RecoveryEmailUnavailableOrInvalid="recovery_email_unavailable_or_invalid",e.ConnectError="connect_error",e.InvalidWalletName="invalid_wallet_name",e.InvalidWalletAddress="invalid_wallet_address",e.EmailRecoveryDisabled="email_recovery_disabled",e.NoCompatibleWalletServiceEnabled="no_compatible_wallet_service_enabled",e.MissingAaProjectId="missing_aa_project_id",e.LinkedEmbeddedWallet="linked_embedded_wallet",e.InvalidMpcEnvironment="invalid_mpc_environment",e.InvalidRegex="invalid_regex",e.RepeatedOptions="repeated_options",e.MissingPhoneNumberOrEmail="missing_phone_number_or_email",e.DuplicateExists="duplicate_exists",e.MfaDeviceNotFound="mfa_device_not_found",e.MfaInvalidCode="mfa_invalid_code",e.MfaInvalidRequest="mfa_invalid_request",e.InvalidPhone="invalid_phone",e.GateExists="gate_exists",e.InvalidEmbeddedWalletChainsConfiguration="invalid_embedded_wallet_chains_configuration",e.MergeAccountsConfirmation="merge_accounts_confirmation",e.MergeAccountsInvalid="merge_accounts_invalid",e.InvalidWalletId="invalid_wallet_id",e.UnableToFetchBalances="unable_to_fetch_balances",e.CannotSwitchToUnique="cannot_switch_to_unique",e.CustomFieldDataNotUnique="custom_field_data_not_unique",e.MetadataSizeExceeded="metadata_size_exceeded",e.InvalidCustomHostname="invalid_custom_hostname",e.BlockedUserCannotTransferWallet="blocked_user_cannot_transfer_wallet",e.FeatureNotEnabledInSuborg="feature_not_enabled_in_suborg",e.InvalidUsername="invalid_username",e.InvalidExternalAuth="invalid_external_auth",e.InvalidChainAddressMatch="invalid_chain_address_match",e.InvalidUpdate="invalid_update",e.CannotDeleteLastProject="cannot_delete_last_project",e.NoHdWalletFound="no_hd_wallet_found",e.WalletAccountExistsForChain="wallet_account_exists_for_chain",e.TooManyEmbeddedWalletsForUser="too_many_embedded_wallets_for_user",e.TooManyEmbeddedWalletsPerChainForUser="too_many_embedded_wallets_per_chain_for_user",e.InvalidSessionPublicKey="invalid_session_public_key",e.CustomFieldNotUnique="custom_field_not_unique",e.InvalidAaProjectConfiguration="invalid_aa_project_configuration",e.NoV1EmbeddedWalletFound="no_v1_embedded_wallet_found",e.EmbeddedWalletAddressAlreadyLinked="embedded_wallet_address_already_linked",e.KeyShareAlreadyBackedUp="key_share_already_backed_up",e.InvalidKeySharesLength="invalid_key_shares_length",e.WalletServiceConnectionError="wallet_service_connection_error",e.NoGlobalWalletFound="no_global_wallet_found",e.InvalidMetadataValue="invalid_metadata_value",e.MaxPasskeysPerUser="max_passkeys_per_user",e.PasskeyNotFound="passkey_not_found",e.CannotDeletePasskeyLinkedToEmbeddedWallet="cannot_delete_passkey_linked_to_embedded_wallet",e.CannotDeleteLastSignInVerifiedCredential="cannot_delete_last_sign_in_verified_credential"})(Hb||(Hb={}));function hAe(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:xD(e.turnkeySignedRequest)}}function W5(e){return pAe(e)}function pAe(e,t){return e==null?e:{mfaToken:oe(e,"mfaToken")?e.mfaToken:void 0,jwt:oe(e,"jwt")?e.jwt:void 0,user:cS(e.user),minifiedJwt:oe(e,"minifiedJwt")?e.minifiedJwt:void 0,expiresAt:e.expiresAt,nextView:A3e(e.nextView),emailVerification:oe(e,"emailVerification")?mO(e.emailVerification):void 0,smsVerification:oe(e,"smsVerification")?vO(e.smsVerification):void 0}}function mAe(e){if(e!==void 0)return e===null?null:{id:e.id,alias:e.alias}}function gAe(e){if(e!==void 0)return e===null?null:{hasDeniedDelegatedAccess:e.hasDeniedDelegatedAccess}}function yAe(e){return vAe(e)}function vAe(e,t){return e==null?e:{walletId:e.walletId,settings:Eoe(e.settings)}}function wAe(e){if(e!==void 0)return e===null?null:{sessionPublicKey:e.sessionPublicKey}}function bAe(e){if(e!==void 0)return e===null?null:{email:e.email,alias:e.alias,firstName:e.firstName,lastName:e.lastName,jobTitle:e.jobTitle,phoneNumber:e.phoneNumber,tShirtSize:e.tShirtSize,team:e.team,policiesConsent:e.policiesConsent,country:e.country,username:e.username,captchaToken:e.captchaToken,metadata:e.metadata,mfaBackupCodeAcknowledgement:e.mfaBackupCodeAcknowledgement,btcWallet:e.btcWallet,kdaWallet:e.kdaWallet,ltcWallet:e.ltcWallet,ckbWallet:e.ckbWallet,kasWallet:e.kasWallet,dogeWallet:e.dogeWallet,emailNotification:e.emailNotification,discordNotification:e.discordNotification,newsletterNotification:e.newsletterNotification}}var wO;(function(e){e.Email="email",e.Username="username",e.NameServiceSubdomainHandle="name-service-subdomain-handle"})(wO||(wO={}));function _Ae(e){return xAe(e)}function xAe(e,t){return e==null?e:{field:e.field,value:e.value,available:e.available}}function kAe(e){return SAe(e)}function SAe(e,t){return e==null?e:{accessToken:e.accessToken}}function IAe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId}}function EAe(e){return CAe(e)}function CAe(e,t){return e==null?e:{provider:oe(e,"provider")?zu(e.provider):void 0,accessToken:oe(e,"accessToken")?e.accessToken:void 0,didToken:oe(e,"didToken")?e.didToken:void 0}}function AAe(e){if(e!==void 0)return e===null?null:{provider:e.provider,accessToken:e.accessToken,didToken:e.didToken}}function $oe(e){return RAe(e)}function RAe(e,t){return e==null?e:{oauth:oe(e,"oauth")?EAe(e.oauth):void 0,signedMessage:e.signedMessage,messageToSign:e.messageToSign,publicWalletAddress:e.publicWalletAddress,chain:t3(e.chain),walletName:e.walletName,walletProvider:koe(e.walletProvider),skipEmptyAccountCheck:oe(e,"skipEmptyAccountCheck")?e.skipEmptyAccountCheck:void 0,captchaToken:oe(e,"captchaToken")?e.captchaToken:void 0,network:oe(e,"network")?e.network:void 0,additionalWalletAddresses:oe(e,"additionalWalletAddresses")?e.additionalWalletAddresses.map(Ioe):void 0,backup:oe(e,"backup")?e.backup:void 0,password:oe(e,"password")?e.password:void 0,passwordSource:oe(e,"passwordSource")?_D(e.passwordSource):void 0,sessionPublicKey:oe(e,"sessionPublicKey")?e.sessionPublicKey:void 0}}function q5(e){if(e!==void 0)return e===null?null:{oauth:AAe(e.oauth),signedMessage:e.signedMessage,messageToSign:e.messageToSign,publicWalletAddress:e.publicWalletAddress,chain:e.chain,walletName:e.walletName,walletProvider:e.walletProvider,skipEmptyAccountCheck:e.skipEmptyAccountCheck,captchaToken:e.captchaToken,network:e.network,additionalWalletAddresses:e.additionalWalletAddresses===void 0?void 0:e.additionalWalletAddresses.map(sSe),backup:e.backup,password:e.password,passwordSource:e.passwordSource,sessionPublicKey:e.sessionPublicKey}}function jr(e){return TAe(e)}function TAe(e,t){return e==null?e:{mfaToken:oe(e,"mfaToken")?e.mfaToken:void 0,jwt:oe(e,"jwt")?e.jwt:void 0,user:cS(e.user),minifiedJwt:oe(e,"minifiedJwt")?e.minifiedJwt:void 0,expiresAt:e.expiresAt}}function OAe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,verifiedCrentialId:e.verifiedCrentialId,verifiedCredentialId:e.verifiedCredentialId,primaryWalletId:e.primaryWalletId}}var sq;(function(e){e.Sent="sent",e.Receive="receive",e.Swap="swap"})(sq||(sq={}));function NAe(e){return PAe(e)}function PAe(e,t){return e}function BAe(e){return DAe(e)}function DAe(e,t){return e==null?e:{name:oe(e,"name")?e.name:void 0,symbol:oe(e,"symbol")?e.symbol:void 0,decimals:oe(e,"decimals")?e.decimals:void 0,imageUri:oe(e,"imageUri")?e.imageUri:void 0}}function MAe(e){return jAe(e)}function jAe(e,t){return e==null?e:{tokenAddress:oe(e,"tokenAddress")?e.tokenAddress:void 0,fromAddress:e.fromAddress,toAddress:e.toAddress,amount:e.amount,metadata:oe(e,"metadata")?BAe(e.metadata):void 0}}function $Ae(e){return LAe(e)}function LAe(e,t){return e==null?e:{transactionHash:e.transactionHash,blockNumber:e.blockNumber,transactionTimestamp:new Date(e.transactionTimestamp),blockHash:e.blockHash,blockExplorerUrls:e.blockExplorerUrls,fromAddress:e.fromAddress,toAddress:e.toAddress,labels:e.labels.map(NAe),assetTransfers:e.assetTransfers.map(MAe),chainName:t3(e.chainName),networkId:e.networkId}}function UAe(e){return FAe(e)}function FAe(e,t){return e==null?e:{transactions:e.transactions.map($Ae),nextOffset:oe(e,"nextOffset")?e.nextOffset:void 0}}class Loe extends Yxe{authMfaEmailDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaEmailDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/email".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaEmailDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaEmailDeviceOptionsRaw(t,n)})}authMfaPasskeyDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaPasskeyDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaPasskeyDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaPasskeyDeviceOptionsRaw(t,n)})}authMfaRecoveryRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaRecovery.");if(t.mFAAuthRecoveryDevicePostRequest===null||t.mFAAuthRecoveryDevicePostRequest===void 0)throw new le("mFAAuthRecoveryDevicePostRequest","Required parameter requestParameters.mFAAuthRecoveryDevicePostRequest was null or undefined when calling authMfaRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:PIe(t.mFAAuthRecoveryDevicePostRequest)},n);return new at(o,s=>jr(s))})}authMfaRecovery(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authMfaRecoveryRaw(t,n)).value()})}authMfaRecoveryOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaRecoveryOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaRecoveryOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaRecoveryOptionsRaw(t,n)})}authMfaTotpDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaTotpDevice.");if(t.mFAAuthTotpDevicePostRequest===null||t.mFAAuthTotpDevicePostRequest===void 0)throw new le("mFAAuthTotpDevicePostRequest","Required parameter requestParameters.mFAAuthTotpDevicePostRequest was null or undefined when calling authMfaTotpDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:BIe(t.mFAAuthTotpDevicePostRequest)},n);return new at(o,s=>jr(s))})}authMfaTotpDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authMfaTotpDeviceRaw(t,n)).value()})}authMfaTotpDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaTotpDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaTotpDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaTotpDeviceOptionsRaw(t,n)})}authenticateMfaEmailRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authenticateMfaEmail.");if(t.emailVerificationMfaRequest===null||t.emailVerificationMfaRequest===void 0)throw new le("emailVerificationMfaRequest","Required parameter requestParameters.emailVerificationMfaRequest was null or undefined when calling authenticateMfaEmail.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/email".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Y2e(t.emailVerificationMfaRequest)},n);return new at(o,s=>jr(s))})}authenticateMfaEmail(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authenticateMfaEmailRaw(t,n)).value()})}authenticateMfaPasskeyDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authenticateMfaPasskeyDevice.");if(t.passkeyAuthRequest===null||t.passkeyAuthRequest===void 0)throw new le("passkeyAuthRequest","Required parameter requestParameters.passkeyAuthRequest was null or undefined when calling authenticateMfaPasskeyDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:VW(t.passkeyAuthRequest)},n);return new at(o,s=>jr(s))})}authenticateMfaPasskeyDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authenticateMfaPasskeyDeviceRaw(t,n)).value()})}authenticatePasskeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authenticatePasskeyOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authenticatePasskeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authenticatePasskeyOptionsRaw(t,n)})}backupKeySharesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeyShares.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeyShares.");if(t.backupMultipleClientKeySharesRequest===null||t.backupMultipleClientKeySharesRequest===void 0)throw new le("backupMultipleClientKeySharesRequest","Required parameter requestParameters.backupMultipleClientKeySharesRequest was null or undefined when calling backupKeyShares.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:Ike(t.backupMultipleClientKeySharesRequest)},n);return new at(o,s=>lW(s))})}backupKeyShares(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesRaw(t,n)).value()})}backupKeySharesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesOptionsRaw(t,n)})}backupKeySharesToGoogleDriveRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToGoogleDrive.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToGoogleDrive.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/googleDrive".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r},n);return new at(o,s=>lW(s))})}backupKeySharesToGoogleDrive(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesToGoogleDriveRaw(t,n)).value()})}backupKeySharesToGoogleDriveOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToGoogleDriveOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToGoogleDriveOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/googleDrive".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesToGoogleDriveOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesToGoogleDriveOptionsRaw(t,n)})}backupKeySharesToLocationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocation.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocation.");if(t.backupKeySharesToLocationRequest===null||t.backupKeySharesToLocationRequest===void 0)throw new le("backupKeySharesToLocationRequest","Required parameter requestParameters.backupKeySharesToLocationRequest was null or undefined when calling backupKeySharesToLocation.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/location".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:mke(t.backupKeySharesToLocationRequest)},n);return new at(o,s=>gke(s))})}backupKeySharesToLocation(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesToLocationRaw(t,n)).value()})}backupKeySharesToLocationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocationOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/location".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesToLocationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesToLocationOptionsRaw(t,n)})}backupKeySharesToLocationsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocations.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocations.");if(t.backupKeySharesToLocationsRequest===null||t.backupKeySharesToLocationsRequest===void 0)throw new le("backupKeySharesToLocationsRequest","Required parameter requestParameters.backupKeySharesToLocationsRequest was null or undefined when calling backupKeySharesToLocations.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/locations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:bke(t.backupKeySharesToLocationsRequest)},n);return new at(o,s=>kke(s))})}backupKeySharesToLocations(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesToLocationsRaw(t,n)).value()})}backupKeySharesToLocationsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocationsOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocationsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/locations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesToLocationsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesToLocationsOptionsRaw(t,n)})}cbOauthRedirectRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling cbOauthRedirect.");const r={};t.code!==void 0&&(r.code=t.code),t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.authuser!==void 0&&(r.authuser=t.authuser),t.prompt!==void 0&&(r.prompt=t.prompt),t.error!==void 0&&(r.error=t.error);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/cbOauthRedirectUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new pw(o)})}cbOauthRedirect(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.cbOauthRedirectRaw(t,n)).value()})}cbOauthRedirectOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling cbOauthRedirectOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/cbOauthRedirectUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}cbOauthRedirectOptions(t,n){return te(this,void 0,void 0,function*(){yield this.cbOauthRedirectOptionsRaw(t,n)})}checkSsoProviderRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling checkSsoProvider.");if(t.ssoProviderCheckRequest===null||t.ssoProviderCheckRequest===void 0)throw new le("ssoProviderCheckRequest","Required parameter requestParameters.ssoProviderCheckRequest was null or undefined when calling checkSsoProvider.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/ssoProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:z5e(t.ssoProviderCheckRequest)},n);return new at(o,s=>V5e(s))})}checkSsoProvider(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.checkSsoProviderRaw(t,n)).value()})}claimEmbeddedWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling claimEmbeddedWallet.");if(t.embeddedWalletPasscodeClaimRequest===null||t.embeddedWalletPasscodeClaimRequest===void 0)throw new le("embeddedWalletPasscodeClaimRequest","Required parameter requestParameters.embeddedWalletPasscodeClaimRequest was null or undefined when calling claimEmbeddedWallet.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode/claim".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:tSe(t.embeddedWalletPasscodeClaimRequest)},n);return new at(o,s=>jr(s))})}claimEmbeddedWallet(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.claimEmbeddedWalletRaw(t,n)).value()})}claimEmbeddedWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling claimEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode/claim".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}claimEmbeddedWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.claimEmbeddedWalletOptionsRaw(t,n)})}coinbaseBuyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling coinbaseBuyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/buy".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}coinbaseBuyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.coinbaseBuyOptionsRaw(t,n)})}coinbaseNetworksOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling coinbaseNetworksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}coinbaseNetworksOptions(t,n){return te(this,void 0,void 0,function*(){yield this.coinbaseNetworksOptionsRaw(t,n)})}coinbaseOrdersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling coinbaseOrdersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/orders".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}coinbaseOrdersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.coinbaseOrdersOptionsRaw(t,n)})}completePasskeyRecoveryRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling completePasskeyRecovery.");if(t.completePasskeyRecoveryRequest===null||t.completePasskeyRecoveryRequest===void 0)throw new le("completePasskeyRecoveryRequest","Required parameter requestParameters.completePasskeyRecoveryRequest was null or undefined when calling completePasskeyRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:p2e(t.completePasskeyRecoveryRequest)},n);return new at(o,s=>jr(s))})}completePasskeyRecovery(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.completePasskeyRecoveryRaw(t,n)).value()})}createCoinbaseOnrampOrderRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createCoinbaseOnrampOrder.");if(t.coinbaseOnrampOrderCreateRequest===null||t.coinbaseOnrampOrderCreateRequest===void 0)throw new le("coinbaseOnrampOrderCreateRequest","Required parameter requestParameters.coinbaseOnrampOrderCreateRequest was null or undefined when calling createCoinbaseOnrampOrder.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/orders".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:r2e(t.coinbaseOnrampOrderCreateRequest)},n);return new at(o,s=>f2e(s))})}createCoinbaseOnrampOrder(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createCoinbaseOnrampOrderRaw(t,n)).value()})}createCryptoDotComPaymentRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createCryptoDotComPayment.");if(t.cryptoDotComPaymentCreateRequest===null||t.cryptoDotComPaymentCreateRequest===void 0)throw new le("cryptoDotComPaymentCreateRequest","Required parameter requestParameters.cryptoDotComPaymentCreateRequest was null or undefined when calling createCryptoDotComPayment.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/onramps/cryptoDotCom/payment".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:N2e(t.cryptoDotComPaymentCreateRequest)},n);return new at(o,s=>P2e(s))})}createCryptoDotComPayment(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createCryptoDotComPaymentRaw(t,n)).value()})}createEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmailVerification.");if(t.emailVerificationCreateRequest===null||t.emailVerificationCreateRequest===void 0)throw new le("emailVerificationCreateRequest","Required parameter requestParameters.emailVerificationCreateRequest was null or undefined when calling createEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:J2e(t.emailVerificationCreateRequest)},n);return new at(o,s=>mO(s))})}createEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createEmailVerificationRaw(t,n)).value()})}createEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createEmailVerificationOptionsRaw(t,n)})}createEmbeddedWalletsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmbeddedWallets.");if(t.createEmbeddedWalletsRequest===null||t.createEmbeddedWalletsRequest===void 0)throw new le("createEmbeddedWalletsRequest","Required parameter requestParameters.createEmbeddedWalletsRequest was null or undefined when calling createEmbeddedWallets.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:b2e(t.createEmbeddedWalletsRequest)},n);return new at(o,s=>jr(s))})}createEmbeddedWallets(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createEmbeddedWalletsRaw(t,n)).value()})}createEmbeddedWalletsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmbeddedWalletsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createEmbeddedWalletsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createEmbeddedWalletsOptionsRaw(t,n)})}createGlobalWalletConnectionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createGlobalWalletConnection.");if(t.globalWalletConnectionCreateRequest===null||t.globalWalletConnectionCreateRequest===void 0)throw new le("globalWalletConnectionCreateRequest","Required parameter requestParameters.globalWalletConnectionCreateRequest was null or undefined when calling createGlobalWalletConnection.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:dIe(t.globalWalletConnectionCreateRequest)},n);return new at(o,s=>WW(s))})}createGlobalWalletConnection(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createGlobalWalletConnectionRaw(t,n)).value()})}createNewRecoveryCodesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createNewRecoveryCodes.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new at(o,s=>WIe(s))})}createNewRecoveryCodes(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createNewRecoveryCodesRaw(t,n)).value()})}createRoomsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRooms.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling createRooms.");if(t.createRoomsRequest===null||t.createRoomsRequest===void 0)throw new le("createRoomsRequest","Required parameter requestParameters.createRoomsRequest was null or undefined when calling createRooms.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:k2e(t.createRoomsRequest)},n);return new at(o,s=>S2e(s))})}createRooms(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createRoomsRaw(t,n)).value()})}createRoomsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRoomsOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling createRoomsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createRoomsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createRoomsOptionsRaw(t,n)})}createRoomsWithoutWalletIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRoomsWithoutWalletId.");if(t.createRoomsWithoutWalletIdRequest===null||t.createRoomsWithoutWalletIdRequest===void 0)throw new le("createRoomsWithoutWalletIdRequest","Required parameter requestParameters.createRoomsWithoutWalletIdRequest was null or undefined when calling createRoomsWithoutWalletId.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:E2e(t.createRoomsWithoutWalletIdRequest)},n);return new at(o,s=>C2e(s))})}createRoomsWithoutWalletId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createRoomsWithoutWalletIdRaw(t,n)).value()})}createRoomsWithoutWalletIdOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRoomsWithoutWalletIdOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createRoomsWithoutWalletIdOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createRoomsWithoutWalletIdOptionsRaw(t,n)})}createSmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createSmsVerification.");if(t.smsVerificationCreateRequest===null||t.smsVerificationCreateRequest===void 0)throw new le("smsVerificationCreateRequest","Required parameter requestParameters.smsVerificationCreateRequest was null or undefined when calling createSmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:$5e(t.smsVerificationCreateRequest)},n);return new at(o,s=>vO(s))})}createSmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createSmsVerificationRaw(t,n)).value()})}createSmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createSmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createSmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createSmsVerificationOptionsRaw(t,n)})}createVisitRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createVisit.");if(t.connectRequest===null||t.connectRequest===void 0)throw new le("connectRequest","Required parameter requestParameters.connectRequest was null or undefined when calling createVisit.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/connect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:m2e(t.connectRequest)},n);return new Je(o)})}createVisit(t,n){return te(this,void 0,void 0,function*(){yield this.createVisitRaw(t,n)})}createWaasAccountRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWaasAccount.");if(t.createWaasAccountRequest===null||t.createWaasAccountRequest===void 0)throw new le("createWaasAccountRequest","Required parameter requestParameters.createWaasAccountRequest was null or undefined when calling createWaasAccount.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:R2e(t.createWaasAccountRequest)},n);return new at(o,s=>lk(s))})}createWaasAccount(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createWaasAccountRaw(t,n)).value()})}createWaasAccountOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWaasAccountOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createWaasAccountOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createWaasAccountOptionsRaw(t,n)})}createWalletAccountRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWalletAccount.");if(t.createWalletAccountRequest===null||t.createWalletAccountRequest===void 0)throw new le("createWalletAccountRequest","Required parameter requestParameters.createWalletAccountRequest was null or undefined when calling createWalletAccount.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:O2e(t.createWalletAccountRequest)},n);return new at(o,s=>jr(s))})}createWalletAccount(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createWalletAccountRaw(t,n)).value()})}cryptoDotComPaymentOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling cryptoDotComPaymentOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/cryptoDotCom/payment".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}cryptoDotComPaymentOptions(t,n){return te(this,void 0,void 0,function*(){yield this.cryptoDotComPaymentOptionsRaw(t,n)})}deleteEmbeddedWalletsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deleteEmbeddedWallets.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"DELETE",headers:i,query:r,body:q2e(t.deleteEmbeddedWalletsRequest)},n);return new Je(o)})}deleteEmbeddedWallets(t,n){return te(this,void 0,void 0,function*(){yield this.deleteEmbeddedWalletsRaw(t,n)})}deleteMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deleteMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling deleteMfaDevice.");if(t.xMfaAuthToken===null||t.xMfaAuthToken===void 0)throw new le("xMfaAuthToken","Required parameter requestParameters.xMfaAuthToken was null or undefined when calling deleteMfaDevice.");const r={},i={};if(t.xMfaAuthToken!==void 0&&t.xMfaAuthToken!==null&&(i["x-mfa-auth-token"]=String(t.xMfaAuthToken)),this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"DELETE",headers:i,query:r},n);return new Je(o)})}deleteMfaDevice(t,n){return te(this,void 0,void 0,function*(){yield this.deleteMfaDeviceRaw(t,n)})}deletePasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deletePasskey.");if(t.deleteUserPasskeyRequest===null||t.deleteUserPasskeyRequest===void 0)throw new le("deleteUserPasskeyRequest","Required parameter requestParameters.deleteUserPasskeyRequest was null or undefined when calling deletePasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"DELETE",headers:i,query:r,body:z2e(t.deleteUserPasskeyRequest)},n);return new Je(o)})}deletePasskey(t,n){return te(this,void 0,void 0,function*(){yield this.deletePasskeyRaw(t,n)})}deliverDelegatedShareRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deliverDelegatedShare.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling deliverDelegatedShare.");if(t.delegatedShareDeliveryRequest===null||t.delegatedShareDeliveryRequest===void 0)throw new le("delegatedShareDeliveryRequest","Required parameter requestParameters.delegatedShareDeliveryRequest was null or undefined when calling deliverDelegatedShare.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/delegatedAccess/delivery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:U2e(t.delegatedShareDeliveryRequest)},n);return new at(o,s=>F2e(s))})}deliverDelegatedShare(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.deliverDelegatedShareRaw(t,n)).value()})}deliverDelegatedShareOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deliverDelegatedShareOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling deliverDelegatedShareOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/delegatedAccess/delivery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}deliverDelegatedShareOptions(t,n){return te(this,void 0,void 0,function*(){yield this.deliverDelegatedShareOptionsRaw(t,n)})}disconnectGlobalWalletConnectionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling disconnectGlobalWalletConnection.");if(t.globalWalletConnectionId===null||t.globalWalletConnectionId===void 0)throw new le("globalWalletConnectionId","Required parameter requestParameters.globalWalletConnectionId was null or undefined when calling disconnectGlobalWalletConnection.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections/{globalWalletConnectionId}/disconnect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{globalWalletConnectionId}",encodeURIComponent(String(t.globalWalletConnectionId))),method:"PUT",headers:i,query:r},n);return new at(o,s=>WW(s))})}disconnectGlobalWalletConnection(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.disconnectGlobalWalletConnectionRaw(t,n)).value()})}disconnectGlobalWalletConnectionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling disconnectGlobalWalletConnectionOptions.");if(t.globalWalletConnectionId===null||t.globalWalletConnectionId===void 0)throw new le("globalWalletConnectionId","Required parameter requestParameters.globalWalletConnectionId was null or undefined when calling disconnectGlobalWalletConnectionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections/{globalWalletConnectionId}/disconnect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{globalWalletConnectionId}",encodeURIComponent(String(t.globalWalletConnectionId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}disconnectGlobalWalletConnectionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.disconnectGlobalWalletConnectionOptionsRaw(t,n)})}emailAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling emailAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/emailAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}emailAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.emailAuthOptionsRaw(t,n)})}emailProviderOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling emailProviderOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}emailProviderOptions(t,n){return te(this,void 0,void 0,function*(){yield this.emailProviderOptionsRaw(t,n)})}embeddedWalletDeleteRequestOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletDeleteRequestOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletDeleteRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}embeddedWalletDeleteRequestOptions(t,n){return te(this,void 0,void 0,function*(){yield this.embeddedWalletDeleteRequestOptionsRaw(t,n)})}embeddedWalletExportRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletExport.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletExport.");if(t.activityId===null||t.activityId===void 0)throw new le("activityId","Required parameter requestParameters.activityId was null or undefined when calling embeddedWalletExport.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/activities/{activityId}/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))).replace("{activityId}",encodeURIComponent(String(t.activityId))),method:"GET",headers:i,query:r},n);return new at(o,s=>ESe(s))})}embeddedWalletExport(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.embeddedWalletExportRaw(t,n)).value()})}embeddedWalletExportOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletExportOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletExportOptions.");if(t.activityId===null||t.activityId===void 0)throw new le("activityId","Required parameter requestParameters.activityId was null or undefined when calling embeddedWalletExportOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/activities/{activityId}/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))).replace("{activityId}",encodeURIComponent(String(t.activityId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}embeddedWalletExportOptions(t,n){return te(this,void 0,void 0,function*(){yield this.embeddedWalletExportOptionsRaw(t,n)})}eventsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling eventsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/events".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}eventsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.eventsOptionsRaw(t,n)})}exportPrivateKeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling exportPrivateKey.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling exportPrivateKey.");if(t.exportWaasWalletPrivateKeyRequest===null||t.exportWaasWalletPrivateKeyRequest===void 0)throw new le("exportWaasWalletPrivateKeyRequest","Required parameter requestParameters.exportWaasWalletPrivateKeyRequest was null or undefined when calling exportPrivateKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/privateKey/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:ASe(t.exportWaasWalletPrivateKeyRequest)},n);return new at(o,s=>lk(s))})}exportPrivateKey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.exportPrivateKeyRaw(t,n)).value()})}exportPrivateKeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling exportPrivateKeyOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling exportPrivateKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/privateKey/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}exportPrivateKeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.exportPrivateKeyOptionsRaw(t,n)})}externalAuthSigninRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthSignin.");if(t.externalAuthSigninRequest===null||t.externalAuthSigninRequest===void 0)throw new le("externalAuthSigninRequest","Required parameter requestParameters.externalAuthSigninRequest was null or undefined when calling externalAuthSignin.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/externalAuth/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:OW(t.externalAuthSigninRequest)},n);return new at(o,s=>jr(s))})}externalAuthSignin(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.externalAuthSigninRaw(t,n)).value()})}externalAuthSigninOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthSigninOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/externalAuth/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}externalAuthSigninOptions(t,n){return te(this,void 0,void 0,function*(){yield this.externalAuthSigninOptionsRaw(t,n)})}externalAuthVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthVerify.");if(t.externalAuthSigninRequest===null||t.externalAuthSigninRequest===void 0)throw new le("externalAuthSigninRequest","Required parameter requestParameters.externalAuthSigninRequest was null or undefined when calling externalAuthVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/externalAuth/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:OW(t.externalAuthSigninRequest)},n);return new Je(o)})}externalAuthVerify(t,n){return te(this,void 0,void 0,function*(){yield this.externalAuthVerifyRaw(t,n)})}externalAuthVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/externalAuth/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}externalAuthVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.externalAuthVerifyOptionsRaw(t,n)})}farcasterSignInRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/farcaster/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:BW(t.farcasterSignInRequest)},n);return new at(o,s=>jr(s))})}farcasterSignIn(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.farcasterSignInRaw(t,n)).value()})}farcasterSignInOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/farcaster/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}farcasterSignInOptions(t,n){return te(this,void 0,void 0,function*(){yield this.farcasterSignInOptionsRaw(t,n)})}farcasterVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/farcaster/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:BW(t.farcasterSignInRequest)},n);return new at(o,s=>jr(s))})}farcasterVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.farcasterVerifyRaw(t,n)).value()})}farcasterVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/farcaster/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}farcasterVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.farcasterVerifyOptionsRaw(t,n)})}generateCoinbaseOnrampBuyUrlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling generateCoinbaseOnrampBuyUrl.");if(t.coinbaseOnrampGetBuyUrlRequest===null||t.coinbaseOnrampGetBuyUrlRequest===void 0)throw new le("coinbaseOnrampGetBuyUrlRequest","Required parameter requestParameters.coinbaseOnrampGetBuyUrlRequest was null or undefined when calling generateCoinbaseOnrampBuyUrl.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/buy".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Zke(t.coinbaseOnrampGetBuyUrlRequest)},n);return new at(o,s=>Yke(s))})}generateCoinbaseOnrampBuyUrl(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.generateCoinbaseOnrampBuyUrlRaw(t,n)).value()})}getAccountBalancesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAccountBalances.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getAccountBalances.");if(t.accountAddress===null||t.accountAddress===void 0)throw new le("accountAddress","Required parameter requestParameters.accountAddress was null or undefined when calling getAccountBalances.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.accountAddress!==void 0&&(r.accountAddress=t.accountAddress),t.includePrices!==void 0&&(r.includePrices=t.includePrices),t.includeNative!==void 0&&(r.includeNative=t.includeNative),t.filterSpamTokens!==void 0&&(r.filterSpamTokens=t.filterSpamTokens),t.whitelistedContracts&&(r.whitelistedContracts=t.whitelistedContracts),t.forceRefresh!==void 0&&(r.forceRefresh=t.forceRefresh);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(Noe))})}getAccountBalances(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getAccountBalancesRaw(t,n)).value()})}getAccountBalancesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAccountBalancesOptions.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getAccountBalancesOptions.");if(t.networkId===null||t.networkId===void 0)throw new le("networkId","Required parameter requestParameters.networkId was null or undefined when calling getAccountBalancesOptions.");if(t.accountAddress===null||t.accountAddress===void 0)throw new le("accountAddress","Required parameter requestParameters.accountAddress was null or undefined when calling getAccountBalancesOptions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.accountAddress!==void 0&&(r.accountAddress=t.accountAddress),t.transactionHash!==void 0&&(r.transactionHash=t.transactionHash);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getAccountBalancesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getAccountBalancesOptionsRaw(t,n)})}getAuthTokenRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthToken.");const r={};t.type!==void 0&&(r.type=t.type);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/authToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>Q2e(s))})}getAuthToken(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getAuthTokenRaw(t,n)).value()})}getAuthTokenOptsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthTokenOpts.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/authToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getAuthTokenOpts(t,n){return te(this,void 0,void 0,function*(){yield this.getAuthTokenOptsRaw(t,n)})}getAuthenticatedUserRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthenticatedUser.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>cS(s))})}getAuthenticatedUser(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getAuthenticatedUserRaw(t,n)).value()})}getBackupTokenRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getBackupToken.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/keyShares/backup/token".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>PSe(s))})}getBackupToken(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getBackupTokenRaw(t,n)).value()})}getBackupTokenOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getBackupTokenOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/keyShares/backup/token".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getBackupTokenOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getBackupTokenOptionsRaw(t,n)})}getCoinbaseSupportedNetworksRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCoinbaseSupportedNetworks.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o)})}getCoinbaseSupportedNetworks(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getCoinbaseSupportedNetworksRaw(t,n)).value()})}getCreateWalletAccountRequestRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCreateWalletAccountRequest.");if(t.chain===null||t.chain===void 0)throw new le("chain","Required parameter requestParameters.chain was null or undefined when calling getCreateWalletAccountRequest.");const r={};t.chain!==void 0&&(r.chain=t.chain);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts/createRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>lAe(s))})}getCreateWalletAccountRequest(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getCreateWalletAccountRequestRaw(t,n)).value()})}getCurrencyExchangeRatesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCurrencyExchangeRates.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchangeRates".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(j2e))})}getCurrencyExchangeRates(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getCurrencyExchangeRatesRaw(t,n)).value()})}getCurrencyExchangeRatesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCurrencyExchangeRatesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchangeRates".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getCurrencyExchangeRatesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getCurrencyExchangeRatesOptionsRaw(t,n)})}getEmailProviderRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmailProvider.");if(t.email===null||t.email===void 0)throw new le("email","Required parameter requestParameters.email was null or undefined when calling getEmailProvider.");const r={};t.email!==void 0&&(r.email=t.email);const i={},o=yield this.request({path:"/sdk/{environmentId}/emailProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>H2e(s))})}getEmailProvider(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmailProviderRaw(t,n)).value()})}getEmbeddedWalletBackupOptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletBackupOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getEmbeddedWalletBackupOption(t,n){return te(this,void 0,void 0,function*(){yield this.getEmbeddedWalletBackupOptionRaw(t,n)})}getEmbeddedWalletBackupsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletBackups.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>RW(s))})}getEmbeddedWalletBackups(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletBackupsRaw(t,n)).value()})}getEmbeddedWalletPasscodeRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletPasscode.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>RW(s))})}getEmbeddedWalletPasscode(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletPasscodeRaw(t,n)).value()})}getEmbeddedWalletPasscodeOptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletPasscodeOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getEmbeddedWalletPasscodeOption(t,n){return te(this,void 0,void 0,function*(){yield this.getEmbeddedWalletPasscodeOptionRaw(t,n)})}getEmbeddedWalletsDeleteRequestRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletsDeleteRequest.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling getEmbeddedWalletsDeleteRequest.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"GET",headers:i,query:r},n);return new at(o,s=>oq(s))})}getEmbeddedWalletsDeleteRequest(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletsDeleteRequestRaw(t,n)).value()})}getEndUserOauthAccessTokenRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEndUserOauthAccessToken.");if(t.oauthAccountId===null||t.oauthAccountId===void 0)throw new le("oauthAccountId","Required parameter requestParameters.oauthAccountId was null or undefined when calling getEndUserOauthAccessToken.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/oauthAccounts/{oauthAccountId}/accessToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{oauthAccountId}",encodeURIComponent(String(t.oauthAccountId))),method:"GET",headers:i,query:r},n);return new at(o,s=>kAe(s))})}getEndUserOauthAccessToken(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEndUserOauthAccessTokenRaw(t,n)).value()})}getEndUserOauthAccessTokenOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEndUserOauthAccessTokenOptions.");if(t.oauthAccountId===null||t.oauthAccountId===void 0)throw new le("oauthAccountId","Required parameter requestParameters.oauthAccountId was null or undefined when calling getEndUserOauthAccessTokenOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/oauthAccounts/{oauthAccountId}/accessToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{oauthAccountId}",encodeURIComponent(String(t.oauthAccountId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getEndUserOauthAccessTokenOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getEndUserOauthAccessTokenOptionsRaw(t,n)})}getEnvironmentSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEnvironmentSettings.");const r={};t.sdkVersion!==void 0&&(r.sdkVersion=t.sdkVersion);const i={},o=yield this.request({path:"/sdk/{environmentId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>zCe(s))})}getEnvironmentSettings(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEnvironmentSettingsRaw(t,n)).value()})}getExchangeTransactionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransactions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransactions.");const r={};t.accountId!==void 0&&(r.accountId=t.accountId);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transactions".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(xSe))})}getExchangeTransactions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getExchangeTransactionsRaw(t,n)).value()})}getExchangeTransactionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransactionsOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransactionsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transactions".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getExchangeTransactionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getExchangeTransactionsOptionsRaw(t,n)})}getExchangeTransferDestinationsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransferDestinations.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransferDestinations.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transfer/destinations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"GET",headers:i,query:r},n);return new at(o,s=>nAe(s))})}getExchangeTransferDestinations(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getExchangeTransferDestinationsRaw(t,n)).value()})}getExchangeTransferDestinationsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransferDestinationsOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransferDestinationsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transfer/destinations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getExchangeTransferDestinationsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getExchangeTransferDestinationsOptionsRaw(t,n)})}getGlobalWalletsSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getGlobalWalletsSettings.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>hIe(s))})}getGlobalWalletsSettings(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getGlobalWalletsSettingsRaw(t,n)).value()})}getHealthcheckRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getHealthcheck.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/healthcheck".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>yIe(s))})}getHealthcheck(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getHealthcheckRaw(t,n)).value()})}getHealthcheckOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getHealthcheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/healthcheck".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getHealthcheckOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getHealthcheckOptionsRaw(t,n)})}getJwksByEnvironmentIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getJwksByEnvironmentId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>zW(s))})}getJwksByEnvironmentId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getJwksByEnvironmentIdRaw(t,n)).value()})}getJwksJsonByEnvironmentIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getJwksJsonByEnvironmentId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks.json".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>zW(s))})}getJwksJsonByEnvironmentId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getJwksJsonByEnvironmentIdRaw(t,n)).value()})}getMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling getMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"GET",headers:i,query:r},n);return new at(o,s=>fS(s))})}getMfaDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getMfaDeviceRaw(t,n)).value()})}getMfaDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getMfaDeviceOptions.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling getMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getMfaDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getMfaDeviceOptionsRaw(t,n)})}getNetworksConfigurationByEnvIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getNetworksConfigurationByEnvId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(Poe))})}getNetworksConfigurationByEnvId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getNetworksConfigurationByEnvIdRaw(t,n)).value()})}getNonceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getNonce.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/nonce".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>T3e(s))})}getNonce(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getNonceRaw(t,n)).value()})}getPasskeyAuthenticationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyAuthenticationOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/authenticate".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>jW(s))})}getPasskeyAuthenticationOptions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getPasskeyAuthenticationOptionsRaw(t,n)).value()})}getPasskeyAuthenticationOptionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyAuthenticationOptionsOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/authenticate".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getPasskeyAuthenticationOptionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getPasskeyAuthenticationOptionsOptionsRaw(t,n)})}getPasskeyAuthenticationSigninOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyAuthenticationSigninOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>jW(s))})}getPasskeyAuthenticationSigninOptions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getPasskeyAuthenticationSigninOptionsRaw(t,n)).value()})}getPasskeyRegistrationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyRegistrationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/register".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>eIe(s))})}getPasskeyRegistrationOptions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getPasskeyRegistrationOptionsRaw(t,n)).value()})}getPasskeyRegistrationOptionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyRegistrationOptionsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/register".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getPasskeyRegistrationOptionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getPasskeyRegistrationOptionsOptionsRaw(t,n)})}getRecoveryCodesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getRecoveryCodes.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>MIe(s))})}getRecoveryCodes(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getRecoveryCodesRaw(t,n)).value()})}getSupportedOfframpsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getSupportedOfframps.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getSupportedOfframps.");if(t.chain===null||t.chain===void 0)throw new le("chain","Required parameter requestParameters.chain was null or undefined when calling getSupportedOfframps.");const r={};t.walletAddress!==void 0&&(r.walletAddress=t.walletAddress),t.chain!==void 0&&(r.chain=t.chain),t.networkId!==void 0&&(r.networkId=t.networkId),t.token!==void 0&&(r.token=t.token);const i={},o=yield this.request({path:"/sdk/{environmentId}/offramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>G5e(s))})}getSupportedOfframps(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getSupportedOfframpsRaw(t,n)).value()})}getSupportedOnrampsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getSupportedOnramps.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getSupportedOnramps.");if(t.chain===null||t.chain===void 0)throw new le("chain","Required parameter requestParameters.chain was null or undefined when calling getSupportedOnramps.");const r={};t.walletAddress!==void 0&&(r.walletAddress=t.walletAddress),t.chain!==void 0&&(r.chain=t.chain),t.networkId!==void 0&&(r.networkId=t.networkId),t.token!==void 0&&(r.token=t.token),t.tokenAmount!==void 0&&(r.tokenAmount=t.tokenAmount),t.includeDisabled!==void 0&&(r.includeDisabled=t.includeDisabled),t.currency!==void 0&&(r.currency=t.currency),t.merchantName!==void 0&&(r.merchantName=t.merchantName);const i={},o=yield this.request({path:"/sdk/{environmentId}/onramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>Z5e(s))})}getSupportedOnramps(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getSupportedOnrampsRaw(t,n)).value()})}getTelegramAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getTelegramAuth.");if(t.state===null||t.state===void 0)throw new le("state","Required parameter requestParameters.state was null or undefined when calling getTelegramAuth.");const r={};t.state!==void 0&&(r.state=t.state);const i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new pw(o)})}getTelegramAuth(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getTelegramAuthRaw(t,n)).value()})}getUserAccountsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserAccounts.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getUserAccounts.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.chainName!==void 0&&(r.chainName=t.chainName);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(rke))})}getUserAccounts(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserAccountsRaw(t,n)).value()})}getUserAccountsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserAccountsOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getUserAccountsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getUserAccountsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getUserAccountsOptionsRaw(t,n)})}getUserFieldsCheckRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserFieldsCheck.");const r={};t.filter!==void 0&&(r.filter=t.filter);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/check".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>_Ae(s))})}getUserFieldsCheck(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserFieldsCheckRaw(t,n)).value()})}getUserFieldsCheckOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserFieldsCheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/check".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getUserFieldsCheckOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getUserFieldsCheckOptionsRaw(t,n)})}getUserMfaDevicesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserMfaDevices.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>$Ie(s))})}getUserMfaDevices(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserMfaDevicesRaw(t,n)).value()})}getUserMfaMethodsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserMfaMethods.");const r={};t.verifiedOnly!==void 0&&(r.verifiedOnly=t.verifiedOnly);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/methods".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>UIe(s))})}getUserMfaMethods(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserMfaMethodsRaw(t,n)).value()})}getUserPasskeysRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserPasskeys.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>oIe(s))})}getUserPasskeys(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserPasskeysRaw(t,n)).value()})}getWaasWalletWithVerifiedCredentialsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWaasWalletWithVerifiedCredentials.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getWaasWalletWithVerifiedCredentials.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/byWalletAddress/{walletAddress}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletAddress}",encodeURIComponent(String(t.walletAddress))),method:"GET",headers:i,query:r},n);return new at(o,s=>cS(s))})}getWaasWalletWithVerifiedCredentials(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getWaasWalletWithVerifiedCredentialsRaw(t,n)).value()})}getWaasWalletWithVerifiedCredentialsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWaasWalletWithVerifiedCredentialsOptions.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getWaasWalletWithVerifiedCredentialsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/byWalletAddress/{walletAddress}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletAddress}",encodeURIComponent(String(t.walletAddress))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getWaasWalletWithVerifiedCredentialsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getWaasWalletWithVerifiedCredentialsOptionsRaw(t,n)})}getWalletTransactionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWalletTransactions.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getWalletTransactions.");if(t.address===null||t.address===void 0)throw new le("address","Required parameter requestParameters.address was null or undefined when calling getWalletTransactions.");if(t.networkId===null||t.networkId===void 0)throw new le("networkId","Required parameter requestParameters.networkId was null or undefined when calling getWalletTransactions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.limit!==void 0&&(r.limit=t.limit),t.offset!==void 0&&(r.offset=t.offset);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/transactions/{address}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))).replace("{address}",encodeURIComponent(String(t.address))),method:"GET",headers:i,query:r},n);return new at(o,s=>UAe(s))})}getWalletTransactions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getWalletTransactionsRaw(t,n)).value()})}getWalletTransactionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWalletTransactionsOptions.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getWalletTransactionsOptions.");if(t.address===null||t.address===void 0)throw new le("address","Required parameter requestParameters.address was null or undefined when calling getWalletTransactionsOptions.");if(t.networkId===null||t.networkId===void 0)throw new le("networkId","Required parameter requestParameters.networkId was null or undefined when calling getWalletTransactionsOptions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.limit!==void 0&&(r.limit=t.limit),t.offset!==void 0&&(r.offset=t.offset);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/transactions/{address}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))).replace("{address}",encodeURIComponent(String(t.address))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getWalletTransactionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getWalletTransactionsOptionsRaw(t,n)})}globalWalletConnectionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling globalWalletConnectionsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}globalWalletConnectionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.globalWalletConnectionsOptionsRaw(t,n)})}globalWalletsSettingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling globalWalletsSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}globalWalletsSettingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.globalWalletsSettingsOptionsRaw(t,n)})}hardDeleteUserRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling hardDeleteUser.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"DELETE",headers:i,query:r},n);return new Je(o)})}hardDeleteUser(t,n){return te(this,void 0,void 0,function*(){yield this.hardDeleteUserRaw(t,n)})}importPrivateKeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling importPrivateKey.");if(t.importWaasPrivateKeyRequest===null||t.importWaasPrivateKeyRequest===void 0)throw new le("importWaasPrivateKeyRequest","Required parameter requestParameters.importWaasPrivateKeyRequest was null or undefined when calling importPrivateKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/privateKey/import".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:wIe(t.importWaasPrivateKeyRequest)},n);return new at(o,s=>lk(s))})}importPrivateKey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.importPrivateKeyRaw(t,n)).value()})}importPrivateKeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling importPrivateKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/privateKey/import".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}importPrivateKeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.importPrivateKeyOptionsRaw(t,n)})}initAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initAuth.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling initAuth.");if(t.oauthInitAuthRequest===null||t.oauthInitAuthRequest===void 0)throw new le("oauthInitAuthRequest","Required parameter requestParameters.oauthInitAuthRequest was null or undefined when calling initAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/initAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:N3e(t.oauthInitAuthRequest)},n);return new Je(o)})}initAuth(t,n){return te(this,void 0,void 0,function*(){yield this.initAuthRaw(t,n)})}initAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initAuthOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling initAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/initAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}initAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.initAuthOptionsRaw(t,n)})}initEmailAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initEmailAuth.");if(t.initEmailAuthRequest===null||t.initEmailAuthRequest===void 0)throw new le("initEmailAuthRequest","Required parameter requestParameters.initEmailAuthRequest was null or undefined when calling initEmailAuth.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/emailAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:bIe(t.initEmailAuthRequest)},n);return new at(o,s=>_Ie(s))})}initEmailAuth(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.initEmailAuthRaw(t,n)).value()})}initPasskeyRecoveryRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initPasskeyRecovery.");if(t.initPasskeyRecoveryRequest===null||t.initPasskeyRecoveryRequest===void 0)throw new le("initPasskeyRecoveryRequest","Required parameter requestParameters.initPasskeyRecoveryRequest was null or undefined when calling initPasskeyRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:kIe(t.initPasskeyRecoveryRequest)},n);return new at(o,s=>SIe(s))})}initPasskeyRecovery(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.initPasskeyRecoveryRaw(t,n)).value()})}jwksOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling jwksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}jwksOptions(t,n){return te(this,void 0,void 0,function*(){yield this.jwksOptionsRaw(t,n)})}legacyEmbeddedWalletDeleteRequestOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling legacyEmbeddedWalletDeleteRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}legacyEmbeddedWalletDeleteRequestOptions(t,n){return te(this,void 0,void 0,function*(){yield this.legacyEmbeddedWalletDeleteRequestOptionsRaw(t,n)})}legacyGetEmbeddedWalletsDeleteRequestRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling legacyGetEmbeddedWalletsDeleteRequest.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>oq(s))})}legacyGetEmbeddedWalletsDeleteRequest(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.legacyGetEmbeddedWalletsDeleteRequestRaw(t,n)).value()})}listMfaDevicesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling listMfaDevicesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}listMfaDevicesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.listMfaDevicesOptionsRaw(t,n)})}listMfaMethodsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling listMfaMethodsOptions.");const r={};t.verifiedOnly!==void 0&&(r.verifiedOnly=t.verifiedOnly);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/methods".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}listMfaMethodsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.listMfaMethodsOptionsRaw(t,n)})}logDynamicSdkSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling logDynamicSdkSettings.");if(t.sdkSettingsRequest===null||t.sdkSettingsRequest===void 0)throw new le("sdkSettingsRequest","Required parameter requestParameters.sdkSettingsRequest was null or undefined when calling logDynamicSdkSettings.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/sdkSettings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:c5e(t.sdkSettingsRequest)},n);return new Je(o)})}logDynamicSdkSettings(t,n){return te(this,void 0,void 0,function*(){yield this.logDynamicSdkSettingsRaw(t,n)})}mergeUsersRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling mergeUsers.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new at(o,s=>jr(s))})}mergeUsers(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.mergeUsersRaw(t,n)).value()})}mergeUsersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling mergeUsersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}mergeUsersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.mergeUsersOptionsRaw(t,n)})}networksOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling networksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}networksOptions(t,n){return te(this,void 0,void 0,function*(){yield this.networksOptionsRaw(t,n)})}nonceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling nonceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/nonce".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}nonceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.nonceOptionsRaw(t,n)})}oauthAuthorizeHtmlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthAuthorizeHtml.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthAuthorizeHtml.");const r={};t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.redirectUri!==void 0&&(r.redirect_uri=t.redirectUri);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/authorizeHtml".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new pw(o)})}oauthAuthorizeHtml(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthAuthorizeHtmlRaw(t,n)).value()})}oauthAuthorizeHtmlOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthAuthorizeHtmlOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthAuthorizeHtmlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/authorizeHtml".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthAuthorizeHtmlOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthAuthorizeHtmlOptionsRaw(t,n)})}oauthLoginRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLogin.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLogin.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/login".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new Je(o)})}oauthLogin(t,n){return te(this,void 0,void 0,function*(){yield this.oauthLoginRaw(t,n)})}oauthLoginOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/login".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthLoginOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthLoginOptionsRaw(t,n)})}oauthLoginUrlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginUrl.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginUrl.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/loginUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new at(o,s=>P3e(s))})}oauthLoginUrl(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthLoginUrlRaw(t,n)).value()})}oauthLoginUrlOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginUrlOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginUrlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/loginUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthLoginUrlOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthLoginUrlOptionsRaw(t,n)})}oauthRedirectAppleRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectApple.");const r={},i={};Qxe([{contentType:"application/x-www-form-urlencoded"}]);let s;s=new URLSearchParams,t.code!==void 0&&s.append("code",t.code),t.state!==void 0&&s.append("state",t.state),t.idToken!==void 0&&s.append("id_token",t.idToken),t.error!==void 0&&s.append("error",t.error);const a=yield this.request({path:"/sdk/{environmentId}/providers/apple/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:s},n);return new pw(a)})}oauthRedirectApple(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthRedirectAppleRaw(t,n)).value()})}oauthRedirectAppleOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectAppleOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/apple/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthRedirectAppleOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthRedirectAppleOptionsRaw(t,n)})}oauthRedirectCodeRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectCode.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirectCode.");const r={};t.code!==void 0&&(r.code=t.code),t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.authuser!==void 0&&(r.authuser=t.authuser),t.prompt!==void 0&&(r.prompt=t.prompt),t.error!==void 0&&(r.error=t.error);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new pw(o)})}oauthRedirectCode(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthRedirectCodeRaw(t,n)).value()})}oauthRedirectOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirectOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthRedirectOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthRedirectOptionsRaw(t,n)})}oauthResultRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthResult.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthResult.");if(t.oauthResultRequest===null||t.oauthResultRequest===void 0)throw new le("oauthResultRequest","Required parameter requestParameters.oauthResultRequest was null or undefined when calling oauthResult.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/oauthResult".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:ak(t.oauthResultRequest)},n);return new at(o,s=>j3e(s))})}oauthResult(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthResultRaw(t,n)).value()})}oauthResultOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthResultOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthResultOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/oauthResult".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthResultOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthResultOptionsRaw(t,n)})}oauthSignInRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthSignIn.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthSignIn.");if(t.oauthRequest===null||t.oauthRequest===void 0)throw new le("oauthRequest","Required parameter requestParameters.oauthRequest was null or undefined when calling oauthSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/signIn".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:GW(t.oauthRequest)},n);return new at(o,s=>jr(s))})}oauthSignIn(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthSignInRaw(t,n)).value()})}oauthSignInOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthSignInOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/signIn".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthSignInOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthSignInOptionsRaw(t,n)})}oauthVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthVerify.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthVerify.");if(t.oauthRequest===null||t.oauthRequest===void 0)throw new le("oauthRequest","Required parameter requestParameters.oauthRequest was null or undefined when calling oauthVerify.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:GW(t.oauthRequest)},n);return new at(o,s=>jr(s))})}oauthVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthVerifyRaw(t,n)).value()})}oauthVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthVerifyOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthVerifyOptionsRaw(t,n)})}offrampsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling offrampsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/offramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}offrampsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.offrampsOptionsRaw(t,n)})}onrampsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling onrampsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}onrampsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.onrampsOptionsRaw(t,n)})}optimizeTransactionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optimizeTransaction.");if(t.solanaTransactionOptimizationRequest===null||t.solanaTransactionOptimizationRequest===void 0)throw new le("solanaTransactionOptimizationRequest","Required parameter requestParameters.solanaTransactionOptimizationRequest was null or undefined when calling optimizeTransaction.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/solana/optimizeTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:F5e(t.solanaTransactionOptimizationRequest)},n);return new at(o,s=>W5e(s))})}optimizeTransaction(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.optimizeTransactionRaw(t,n)).value()})}optimizeTransactionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optimizeTransactionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/solana/optimizeTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}optimizeTransactionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.optimizeTransactionOptionsRaw(t,n)})}optionsConnectRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optionsConnect.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/connect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}optionsConnect(t,n){return te(this,void 0,void 0,function*(){yield this.optionsConnectRaw(t,n)})}passkeyRecoveryOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling passkeyRecoveryOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}passkeyRecoveryOptions(t,n){return te(this,void 0,void 0,function*(){yield this.passkeyRecoveryOptionsRaw(t,n)})}postExchangeAccountTransferRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postExchangeAccountTransfer.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling postExchangeAccountTransfer.");if(t.accountId===null||t.accountId===void 0)throw new le("accountId","Required parameter requestParameters.accountId was null or undefined when calling postExchangeAccountTransfer.");if(t.createExchangeTransferRequest===null||t.createExchangeTransferRequest===void 0)throw new le("createExchangeTransferRequest","Required parameter requestParameters.createExchangeTransferRequest was null or undefined when calling postExchangeAccountTransfer.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/{accountId}/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))).replace("{accountId}",encodeURIComponent(String(t.accountId))),method:"POST",headers:i,query:r,body:x2e(t.createExchangeTransferRequest)},n);return new at(o,s=>SSe(s))})}postExchangeAccountTransfer(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.postExchangeAccountTransferRaw(t,n)).value()})}postExchangeAccountTransferOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postExchangeAccountTransferOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling postExchangeAccountTransferOptions.");if(t.accountId===null||t.accountId===void 0)throw new le("accountId","Required parameter requestParameters.accountId was null or undefined when calling postExchangeAccountTransferOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/{accountId}/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))).replace("{accountId}",encodeURIComponent(String(t.accountId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}postExchangeAccountTransferOptions(t,n){return te(this,void 0,void 0,function*(){yield this.postExchangeAccountTransferOptionsRaw(t,n)})}postMultichainAccountBalancesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postMultichainAccountBalances.");if(t.multichainAccountBalancesRequest===null||t.multichainAccountBalancesRequest===void 0)throw new le("multichainAccountBalancesRequest","Required parameter requestParameters.multichainAccountBalancesRequest was null or undefined when calling postMultichainAccountBalances.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:KW(t.multichainAccountBalancesRequest)},n);return new at(o,s=>g3e(s))})}postMultichainAccountBalances(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.postMultichainAccountBalancesRaw(t,n)).value()})}postMultichainAccountBalancesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postMultichainAccountBalancesOptions.");if(t.multichainAccountBalancesRequest===null||t.multichainAccountBalancesRequest===void 0)throw new le("multichainAccountBalancesRequest","Required parameter requestParameters.multichainAccountBalancesRequest was null or undefined when calling postMultichainAccountBalancesOptions.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r,body:KW(t.multichainAccountBalancesRequest)},n);return new Je(o)})}postMultichainAccountBalancesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.postMultichainAccountBalancesOptionsRaw(t,n)})}postTelegramAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postTelegramAuth.");if(t.telegramPostRequest===null||t.telegramPostRequest===void 0)throw new le("telegramPostRequest","Required parameter requestParameters.telegramPostRequest was null or undefined when calling postTelegramAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Q5e(t.telegramPostRequest)},n);return new Je(o)})}postTelegramAuth(t,n){return te(this,void 0,void 0,function*(){yield this.postTelegramAuthRaw(t,n)})}prefetchRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling prefetch.");if(t.prefetchRequest===null||t.prefetchRequest===void 0)throw new le("prefetchRequest","Required parameter requestParameters.prefetchRequest was null or undefined when calling prefetch.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/prefetch".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:K3e(t.prefetchRequest)},n);return new Je(o)})}prefetch(t,n){return te(this,void 0,void 0,function*(){yield this.prefetchRaw(t,n)})}publishEventRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling publishEvent.");if(t.publishEvents===null||t.publishEvents===void 0)throw new le("publishEvents","Required parameter requestParameters.publishEvents was null or undefined when calling publishEvent.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/events".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:HCe(t.publishEvents)},n);return new Je(o)})}publishEvent(t,n){return te(this,void 0,void 0,function*(){yield this.publishEventRaw(t,n)})}recoverKeySharesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoverKeyShares.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling recoverKeyShares.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/recover".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:GCe(t.recoverMultipleClientKeySharesRequest)},n);return new at(o,s=>YCe(s))})}recoverKeyShares(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.recoverKeySharesRaw(t,n)).value()})}recoverKeySharesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoverKeySharesOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling recoverKeySharesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/recover".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}recoverKeySharesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.recoverKeySharesOptionsRaw(t,n)})}recoveryCodesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoveryCodesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}recoveryCodesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.recoveryCodesOptionsRaw(t,n)})}recoveryEmailOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoveryEmailOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/recoveryEmail".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}recoveryEmailOptions(t,n){return te(this,void 0,void 0,function*(){yield this.recoveryEmailOptionsRaw(t,n)})}refreshAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshAuth.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new at(o,s=>jr(s))})}refreshAuth(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.refreshAuthRaw(t,n)).value()})}refreshKeySharesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshKeyShares.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling refreshKeyShares.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r},n);return new at(o,s=>lk(s))})}refreshKeyShares(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.refreshKeySharesRaw(t,n)).value()})}refreshKeySharesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshKeySharesOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling refreshKeySharesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}refreshKeySharesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.refreshKeySharesOptionsRaw(t,n)})}refreshOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}refreshOptions(t,n){return te(this,void 0,void 0,function*(){yield this.refreshOptionsRaw(t,n)})}registerPasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskey.");if(t.passkeyRegisterRequest===null||t.passkeyRegisterRequest===void 0)throw new le("passkeyRegisterRequest","Required parameter requestParameters.passkeyRegisterRequest was null or undefined when calling registerPasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/register".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:V3e(t.passkeyRegisterRequest)},n);return new at(o,s=>jr(s))})}registerPasskey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerPasskeyRaw(t,n)).value()})}registerPasskeyMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskeyMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>e3e(s))})}registerPasskeyMfaDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerPasskeyMfaDeviceRaw(t,n)).value()})}registerPasskeyMfaDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskeyMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}registerPasskeyMfaDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.registerPasskeyMfaDeviceOptionsRaw(t,n)})}registerPasskeyMfaDeviceVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskeyMfaDeviceVerify.");if(t.mFARegisterPasskeyDevicePostRequest===null||t.mFARegisterPasskeyDevicePostRequest===void 0)throw new le("mFARegisterPasskeyDevicePostRequest","Required parameter requestParameters.mFARegisterPasskeyDevicePostRequest was null or undefined when calling registerPasskeyMfaDeviceVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:i3e(t.mFARegisterPasskeyDevicePostRequest)},n);return new at(o,s=>jr(s))})}registerPasskeyMfaDeviceVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerPasskeyMfaDeviceVerifyRaw(t,n)).value()})}registerSessionKeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerSessionKey.");if(t.registerSessionKeyRequest===null||t.registerSessionKeyRequest===void 0)throw new le("registerSessionKeyRequest","Required parameter requestParameters.registerSessionKeyRequest was null or undefined when calling registerSessionKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/sessionKey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:t5e(t.registerSessionKeyRequest)},n);return new at(o,s=>QCe(s))})}registerSessionKey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerSessionKeyRaw(t,n)).value()})}registerTotpMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>o3e(s))})}registerTotpMfaDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerTotpMfaDeviceRaw(t,n)).value()})}registerTotpMfaDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}registerTotpMfaDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.registerTotpMfaDeviceOptionsRaw(t,n)})}registerTotpMfaDeviceVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDeviceVerify.");if(t.mFARegisterTotpDevicePostRequest===null||t.mFARegisterTotpDevicePostRequest===void 0)throw new le("mFARegisterTotpDevicePostRequest","Required parameter requestParameters.mFARegisterTotpDevicePostRequest was null or undefined when calling registerTotpMfaDeviceVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:a3e(t.mFARegisterTotpDevicePostRequest)},n);return new at(o,s=>fS(s))})}registerTotpMfaDeviceVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerTotpMfaDeviceVerifyRaw(t,n)).value()})}reshareRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling reshare.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling reshare.");if(t.reshareRequest===null||t.reshareRequest===void 0)throw new le("reshareRequest","Required parameter requestParameters.reshareRequest was null or undefined when calling reshare.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/reshare".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:n5e(t.reshareRequest)},n);return new at(o,s=>F3e(s))})}reshare(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.reshareRaw(t,n)).value()})}reshareOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling reshareOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling reshareOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/reshare".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}reshareOptions(t,n){return te(this,void 0,void 0,function*(){yield this.reshareOptionsRaw(t,n)})}restoreEmbeddedWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling restoreEmbeddedWallet.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling restoreEmbeddedWallet.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/restore".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"PUT",headers:i,query:r},n);return new Je(o)})}restoreEmbeddedWallet(t,n){return te(this,void 0,void 0,function*(){yield this.restoreEmbeddedWalletRaw(t,n)})}restoreEmbeddedWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling restoreEmbeddedWalletOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling restoreEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/restore".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}restoreEmbeddedWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.restoreEmbeddedWalletOptionsRaw(t,n)})}retryEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retryEmailVerification.");if(t.emailVerificationRetryRequest===null||t.emailVerificationRetryRequest===void 0)throw new le("emailVerificationRetryRequest","Required parameter requestParameters.emailVerificationRetryRequest was null or undefined when calling retryEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:X2e(t.emailVerificationRetryRequest)},n);return new at(o,s=>mO(s))})}retryEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.retryEmailVerificationRaw(t,n)).value()})}retryEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retryEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}retryEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.retryEmailVerificationOptionsRaw(t,n)})}retrySmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retrySmsVerification.");if(t.smsVerificationRetryRequest===null||t.smsVerificationRetryRequest===void 0)throw new le("smsVerificationRetryRequest","Required parameter requestParameters.smsVerificationRetryRequest was null or undefined when calling retrySmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:U5e(t.smsVerificationRetryRequest)},n);return new at(o,s=>vO(s))})}retrySmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.retrySmsVerificationRaw(t,n)).value()})}retrySmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retrySmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}retrySmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.retrySmsVerificationOptionsRaw(t,n)})}revokeSessionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling revokeSession.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/revoke".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new Je(o)})}revokeSession(t,n){return te(this,void 0,void 0,function*(){yield this.revokeSessionRaw(t,n)})}revokeSessionOptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling revokeSessionOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/revoke".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}revokeSessionOption(t,n){return te(this,void 0,void 0,function*(){yield this.revokeSessionOptionRaw(t,n)})}scanUrlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling scanUrl.");if(t.scanWebsiteUrlRequest===null||t.scanWebsiteUrlRequest===void 0)throw new le("scanWebsiteUrlRequest","Required parameter requestParameters.scanWebsiteUrlRequest was null or undefined when calling scanUrl.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/scan/websiteUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:r5e(t.scanWebsiteUrlRequest)},n);return new at(o,s=>i5e(s))})}scanUrl(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.scanUrlRaw(t,n)).value()})}scanUrlOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling scanUrlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/scan/websiteUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}scanUrlOptions(t,n){return te(this,void 0,void 0,function*(){yield this.scanUrlOptionsRaw(t,n)})}sdkSettingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sdkSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/sdkSettings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}sdkSettingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.sdkSettingsOptionsRaw(t,n)})}selectUserWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling selectUserWallet.");if(t.userWalletSelectionRequest===null||t.userWalletSelectionRequest===void 0)throw new le("userWalletSelectionRequest","Required parameter requestParameters.userWalletSelectionRequest was null or undefined when calling selectUserWallet.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/wallets/selection".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:IAe(t.userWalletSelectionRequest)},n);return new at(o,s=>jr(s))})}selectUserWallet(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.selectUserWalletRaw(t,n)).value()})}selectUserWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling selectUserWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/wallets/selection".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}selectUserWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.selectUserWalletOptionsRaw(t,n)})}sessionCheckRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionCheck.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/session".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Je(o)})}sessionCheck(t,n){return te(this,void 0,void 0,function*(){yield this.sessionCheckRaw(t,n)})}sessionCheckOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionCheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/session".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}sessionCheckOptions(t,n){return te(this,void 0,void 0,function*(){yield this.sessionCheckOptionsRaw(t,n)})}sessionKeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/sessionKey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}sessionKeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.sessionKeyOptionsRaw(t,n)})}settingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling settingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}settingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.settingsOptionsRaw(t,n)})}signInWithEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithEmailVerification.");if(t.emailVerificationVerifyRequest===null||t.emailVerificationVerifyRequest===void 0)throw new le("emailVerificationVerifyRequest","Required parameter requestParameters.emailVerificationVerifyRequest was null or undefined when calling signInWithEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:CW(t.emailVerificationVerifyRequest)},n);return new at(o,s=>jr(s))})}signInWithEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signInWithEmailVerificationRaw(t,n)).value()})}signInWithEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}signInWithEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.signInWithEmailVerificationOptionsRaw(t,n)})}signInWithSmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithSmsVerification.");if(t.smsVerificationVerifyRequest===null||t.smsVerificationVerifyRequest===void 0)throw new le("smsVerificationVerifyRequest","Required parameter requestParameters.smsVerificationVerifyRequest was null or undefined when calling signInWithSmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:nq(t.smsVerificationVerifyRequest)},n);return new at(o,s=>jr(s))})}signInWithSmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signInWithSmsVerificationRaw(t,n)).value()})}signInWithSmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithSmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}signInWithSmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.signInWithSmsVerificationOptionsRaw(t,n)})}signMessageRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signMessage.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling signMessage.");if(t.signMessageWithWaasRequest===null||t.signMessageWithWaasRequest===void 0)throw new le("signMessageWithWaasRequest","Required parameter requestParameters.signMessageWithWaasRequest was null or undefined when calling signMessage.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/signMessage".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:x5e(t.signMessageWithWaasRequest)},n);return new at(o,s=>L3e(s))})}signMessage(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signMessageRaw(t,n)).value()})}signMessageOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signMessageOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling signMessageOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/signMessage".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}signMessageOptions(t,n){return te(this,void 0,void 0,function*(){yield this.signMessageOptionsRaw(t,n)})}signinWithPasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signinWithPasskey.");if(t.passkeyAuthRequest===null||t.passkeyAuthRequest===void 0)throw new le("passkeyAuthRequest","Required parameter requestParameters.passkeyAuthRequest was null or undefined when calling signinWithPasskey.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:VW(t.passkeyAuthRequest)},n);return new at(o,s=>jr(s))})}signinWithPasskey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signinWithPasskeyRaw(t,n)).value()})}simulateEVMTransactionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateEVMTransaction.");if(t.simulateEVMTransactionRequest===null||t.simulateEVMTransactionRequest===void 0)throw new le("simulateEVMTransactionRequest","Required parameter requestParameters.simulateEVMTransactionRequest was null or undefined when calling simulateEVMTransaction.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/evm/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:k5e(t.simulateEVMTransactionRequest)},n);return new at(o,s=>F5(s))})}simulateEVMTransaction(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.simulateEVMTransactionRaw(t,n)).value()})}simulateEVMTransactionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateEVMTransactionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/evm/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}simulateEVMTransactionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.simulateEVMTransactionOptionsRaw(t,n)})}simulateSVMTransactionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateSVMTransaction.");if(t.simulateSVMTransactionRequest===null||t.simulateSVMTransactionRequest===void 0)throw new le("simulateSVMTransactionRequest","Required parameter requestParameters.simulateSVMTransactionRequest was null or undefined when calling simulateSVMTransaction.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/solana/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:S5e(t.simulateSVMTransactionRequest)},n);return new at(o,s=>F5(s))})}simulateSVMTransaction(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.simulateSVMTransactionRaw(t,n)).value()})}simulateSVMTransactionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateSVMTransactionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/solana/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}simulateSVMTransactionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.simulateSVMTransactionOptionsRaw(t,n)})}simulateUserOpRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateUserOp.");if(t.simulateUserOpRequest===null||t.simulateUserOpRequest===void 0)throw new le("simulateUserOpRequest","Required parameter requestParameters.simulateUserOpRequest was null or undefined when calling simulateUserOp.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/evm/simulateUserOp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:j5e(t.simulateUserOpRequest)},n);return new at(o,s=>F5(s))})}simulateUserOp(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.simulateUserOpRaw(t,n)).value()})}simulateUserOpOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateUserOpOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/evm/simulateUserOp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}simulateUserOpOptions(t,n){return te(this,void 0,void 0,function*(){yield this.simulateUserOpOptionsRaw(t,n)})}softDeleteEmbeddedWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling softDeleteEmbeddedWallet.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling softDeleteEmbeddedWallet.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/softDelete".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"DELETE",headers:i,query:r},n);return new Je(o)})}softDeleteEmbeddedWallet(t,n){return te(this,void 0,void 0,function*(){yield this.softDeleteEmbeddedWalletRaw(t,n)})}softDeleteEmbeddedWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling softDeleteEmbeddedWalletOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling softDeleteEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/softDelete".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}softDeleteEmbeddedWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.softDeleteEmbeddedWalletOptionsRaw(t,n)})}telegramAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramAuthOptionsRaw(t,n)})}telegramCheckAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramCheckAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/checkTelegramAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:ak(t.oauthResultRequest)},n);return new Je(o)})}telegramCheckAuth(t,n){return te(this,void 0,void 0,function*(){yield this.telegramCheckAuthRaw(t,n)})}telegramCheckAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramCheckAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/checkTelegramAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramCheckAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramCheckAuthOptionsRaw(t,n)})}telegramSignInRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/telegram/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:ak(t.oauthResultRequest)},n);return new at(o,s=>jr(s))})}telegramSignIn(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.telegramSignInRaw(t,n)).value()})}telegramSignInOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramSignInOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramSignInOptionsRaw(t,n)})}telegramVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/telegram/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:ak(t.oauthResultRequest)},n);return new at(o,s=>jr(s))})}telegramVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.telegramVerifyRaw(t,n)).value()})}telegramVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramVerifyOptionsRaw(t,n)})}updateEmbeddedWalletRecoveryEmailRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateEmbeddedWalletRecoveryEmail.");if(t.updateRecoveryEmailRequest===null||t.updateRecoveryEmailRequest===void 0)throw new le("updateRecoveryEmailRequest","Required parameter requestParameters.updateRecoveryEmailRequest was null or undefined when calling updateEmbeddedWalletRecoveryEmail.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/recoveryEmail".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:hAe(t.updateRecoveryEmailRequest)},n);return new Je(o)})}updateEmbeddedWalletRecoveryEmail(t,n){return te(this,void 0,void 0,function*(){yield this.updateEmbeddedWalletRecoveryEmailRaw(t,n)})}updatePasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updatePasskey.");if(t.updateUserPasskeyRequest===null||t.updateUserPasskeyRequest===void 0)throw new le("updateUserPasskeyRequest","Required parameter requestParameters.updateUserPasskeyRequest was null or undefined when calling updatePasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:mAe(t.updateUserPasskeyRequest)},n);return new at(o,s=>kD(s))})}updatePasskey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.updatePasskeyRaw(t,n)).value()})}updateSelfRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateSelf.");if(t.userFields===null||t.userFields===void 0)throw new le("userFields","Required parameter requestParameters.userFields was null or undefined when calling updateSelf.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:bAe(t.userFields)},n);return new at(o,s=>W5(s))})}updateSelf(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.updateSelfRaw(t,n)).value()})}updateUserMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateUserMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling updateUserMfaDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"PUT",headers:i,query:r,body:l3e(t.mFAUpdateDeviceRequest)},n);return new Je(o)})}updateUserMfaDevice(t,n){return te(this,void 0,void 0,function*(){yield this.updateUserMfaDeviceRaw(t,n)})}updateWaasWalletSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateWaasWalletSettings.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling updateWaasWalletSettings.");if(t.updateWaasWalletSettingsRequest===null||t.updateWaasWalletSettingsRequest===void 0)throw new le("updateWaasWalletSettingsRequest","Required parameter requestParameters.updateWaasWalletSettingsRequest was null or undefined when calling updateWaasWalletSettings.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"PUT",headers:i,query:r,body:gAe(t.updateWaasWalletSettingsRequest)},n);return new at(o,s=>yAe(s))})}updateWaasWalletSettings(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.updateWaasWalletSettingsRaw(t,n)).value()})}upgradeEmbeddedWalletToV2Raw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling upgradeEmbeddedWalletToV2.");if(t.upgradeEmbeddedWalletToV2Request===null||t.upgradeEmbeddedWalletToV2Request===void 0)throw new le("upgradeEmbeddedWalletToV2Request","Required parameter requestParameters.upgradeEmbeddedWalletToV2Request was null or undefined when calling upgradeEmbeddedWalletToV2.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/upgradeToV2".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:wAe(t.upgradeEmbeddedWalletToV2Request)},n);return new at(o,s=>jr(s))})}upgradeEmbeddedWalletToV2(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.upgradeEmbeddedWalletToV2Raw(t,n)).value()})}upgradeEmbeddedWalletToV2OptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling upgradeEmbeddedWalletToV2Option.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/upgradeToV2".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}upgradeEmbeddedWalletToV2Option(t,n){return te(this,void 0,void 0,function*(){yield this.upgradeEmbeddedWalletToV2OptionRaw(t,n)})}userPasskeysOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling userPasskeysOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}userPasskeysOptions(t,n){return te(this,void 0,void 0,function*(){yield this.userPasskeysOptionsRaw(t,n)})}usersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling usersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}usersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.usersOptionsRaw(t,n)})}verifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verify.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new le("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verify.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:q5(t.verifyRequest)},n);return new at(o,s=>jr(s))})}verify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyRaw(t,n)).value()})}verifyEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyEmailVerification.");if(t.emailVerificationVerifyRequest===null||t.emailVerificationVerifyRequest===void 0)throw new le("emailVerificationVerifyRequest","Required parameter requestParameters.emailVerificationVerifyRequest was null or undefined when calling verifyEmailVerification.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:CW(t.emailVerificationVerifyRequest)},n);return new at(o,s=>W5(s))})}verifyEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyEmailVerificationRaw(t,n)).value()})}verifyEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyEmailVerificationOptionsRaw(t,n)})}verifyLinkRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyLink.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new le("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verifyLink.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/link".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:q5(t.verifyRequest)},n);return new at(o,s=>jr(s))})}verifyLink(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyLinkRaw(t,n)).value()})}verifyLinkOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyLinkOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/link".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyLinkOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyLinkOptionsRaw(t,n)})}verifyMergeUsersRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyMergeUsers.");if(t.mergeUserConflictResolutions===null||t.mergeUserConflictResolutions===void 0)throw new le("mergeUserConflictResolutions","Required parameter requestParameters.mergeUserConflictResolutions was null or undefined when calling verifyMergeUsers.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:d3e(t.mergeUserConflictResolutions)},n);return new at(o,s=>jr(s))})}verifyMergeUsers(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyMergeUsersRaw(t,n)).value()})}verifyMergeUsersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyMergeUsersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyMergeUsersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyMergeUsersOptionsRaw(t,n)})}verifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyOptionsRaw(t,n)})}verifyPrefetchRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyPrefetch.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/prefetch".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyPrefetch(t,n){return te(this,void 0,void 0,function*(){yield this.verifyPrefetchRaw(t,n)})}verifySmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifySmsVerification.");if(t.smsVerificationVerifyRequest===null||t.smsVerificationVerifyRequest===void 0)throw new le("smsVerificationVerifyRequest","Required parameter requestParameters.smsVerificationVerifyRequest was null or undefined when calling verifySmsVerification.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:nq(t.smsVerificationVerifyRequest)},n);return new at(o,s=>W5(s))})}verifySmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifySmsVerificationRaw(t,n)).value()})}verifySmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifySmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifySmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifySmsVerificationOptionsRaw(t,n)})}verifyTransferRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyTransfer.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new le("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verifyTransfer.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:q5(t.verifyRequest)},n);return new at(o,s=>jr(s))})}verifyTransfer(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyTransferRaw(t,n)).value()})}verifyTransferOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyTransferOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyTransferOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyTransferOptionsRaw(t,n)})}verifyUnlinkRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyUnlink.");if(t.verifyUnlinkRequest===null||t.verifyUnlinkRequest===void 0)throw new le("verifyUnlinkRequest","Required parameter requestParameters.verifyUnlinkRequest was null or undefined when calling verifyUnlink.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/unlink".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:OAe(t.verifyUnlinkRequest)},n);return new at(o,s=>jr(s))})}verifyUnlink(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyUnlinkRaw(t,n)).value()})}verifyUnlinkOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyUnlinkOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/unlink".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyUnlinkOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyUnlinkOptionsRaw(t,n)})}waasWalletSettingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling waasWalletSettingsOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling waasWalletSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}waasWalletSettingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.waasWalletSettingsOptionsRaw(t,n)})}walletAccountOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling walletAccountOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}walletAccountOptions(t,n){return te(this,void 0,void 0,function*(){yield this.walletAccountOptionsRaw(t,n)})}walletAccountRequestOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling walletAccountRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts/createRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}walletAccountRequestOptions(t,n){return te(this,void 0,void 0,function*(){yield this.walletAccountRequestOptionsRaw(t,n)})}}var ti;(function(e){e.ACCOUNT_ALREADY_LINKED="account_already_linked",e.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE="account_already_linked_to_different_profile",e.INVALID_PROVIDER="invalid_provider",e.NO_ACCOUNT_LINKED="no_account_linked",e.NO_AUTH_CODE="no_auth_code",e.NO_OAUTH_URL="no_oauth_url",e.NO_PROVIDER="no_provider",e.OAUTH_ERROR="oauth_error",e.OAUTH_WINDOW_BLOCKED="oauth_window_blocked",e.OAUTH_WINDOW_CLOSED="oauth_window_closed",e.OAUTH_WINDOW_TIMEOUT="oauth_window_timeout",e.PROVIDER_NOT_ENABLED="provider_not_enabled",e.SESSION_TIMEOUT="session_timeout",e.SIGNIN_ERROR="signin_error",e.SOCIAL_LINKING_NOT_ENABLED="social_linking_not_enabled",e.UNLINK_ERROR="unlink_error",e.VERIFICATION_ERROR="verification_error",e.GENERAL_ERROR="general_error",e.USER_CANCELLED="user_cancelled"})(ti||(ti={}));class WAe{constructor({id:t,key:n,address:r,additionalAddresses:i=[],chain:o,isAuthenticated:s}){this.id=t,this.key=n,this.address=r,this.additionalAddresses=i,this.chain=o,this.isAuthenticated=s}}Oo("@dynamic-labs/types",Gxe);const qAe="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",zAe=()=>new Promise((e,t)=>{const n=document.querySelector("script[data-apple-sdk]");if(n)n.hasAttribute("data-loaded")?e():(n.addEventListener("load",()=>e()),n.addEventListener("error",()=>t(new Error("Failed to load Apple SDK"))));else{const r=document.createElement("script");r.type="text/javascript",r.src=qAe,r.setAttribute("data-apple-sdk","true"),r.onload=()=>{r==null||r.setAttribute("data-loaded","true"),e()},r.onerror=()=>t(new Error("Failed to load Apple SDK")),window.document.head.appendChild(r)}}),VAe=e=>ym(void 0,[e],void 0,function*({clientId:t,oauthLoginUrl:n,state:r}){yield zAe(),AppleID.auth.init({clientId:t,redirectURI:n.searchParams.get("redirect_uri"),scope:"name email",state:r,usePopup:!1}),AppleID.auth.signIn()});let z5;const KAe=()=>({getOauthCode:({apiProvider:e,provider:t,redirectUrl:n,setIsProcessing:r,state:i,oauthLoginUrl:o,initWebAuth:s,strategy:a})=>new Promise((l,c)=>{if(t===pn.Apple&&(Dxe()||YI()||a==="redirect")){s({redirectUrl:n||window.location.href}).then(()=>VAe({clientId:e==null?void 0:e.clientId,oauthLoginUrl:o,state:i}).catch(c));return}if(a==="redirect"&&t!==pn.Telegram){s({redirectUrl:n||window.location.href}).then(()=>{Ln.openURL(o.toString())});return}const d=k=>c(k);clearInterval(z5);const u={},h=window.open("","_blank","width=500,height=600");if(h===null||typeof h>"u"){d({code:ti.OAUTH_WINDOW_BLOCKED,message:"Please allow popups and try again."});return}const m=()=>{window.removeEventListener("message",v),u[t]=!1},v=k=>ym(void 0,void 0,void 0,function*(){const _=k.data,R=g(e);if(!R)return;if((_==null?void 0:_.type)==="origin_check"&&h){Lu.debug("Origin check message received. Sending response now.",{data:_,expectedOrigin:R}),h.postMessage("origin_check_response",R);return}const I=(_==null?void 0:_.type)==="telegram_completed",T=(_==null?void 0:_.type)==="authorization_response";(T||I)&&Lu.debug("Message received",{data:_});const M=k.origin===R;if((T&&(_==null?void 0:_.provider)===t||I)&&M){if(r(!0),!u[t]){d({code:ti.SESSION_TIMEOUT,message:`Connecting ${t} account session timeout.`});return}if(m(),I){y(_,i);return}b(_,t,i)}}),g=k=>{if(k!=null&&k.redirectUrl)try{return new URL(k.redirectUrl).origin}catch(_){Lu.error("Failed to parse social provider redirect url",{error:_});return}},y=(k,_)=>{Lu.debug("Telegram completion message received",{data:k});const{code:R,state:I}=k;if(_!==I){d({code:ti.OAUTH_ERROR,message:"Failed to connect telegram account: Invalid random state"});return}l(R),r(!1)},b=(k,_,R)=>{const{code:I,error:T,state:M}=k;if(T&&T!=="undefined"){d({code:ti.OAUTH_ERROR,message:`Failed to connect ${_} social account: ${T}`});return}if(R!==M){d({code:ti.OAUTH_ERROR,message:`Failed to connect ${_} social account: Invalid random state`});return}if(!I){d({code:ti.NO_AUTH_CODE,message:`Failed to connect ${_} social account: no authorization code`});return}l(I),r(!1)};u[t]||(window.addEventListener("message",v),u[t]=!0),s().then(()=>{h==null||h.location.assign(o),z5=setInterval(()=>{h!=null&&h.closed&&(clearInterval(z5),r(!1),u[t]&&d({code:ti.USER_CANCELLED,message:"User cancelled connection"}))},2e3)})})});var ah,E2;class hS{static get implementation(){return p0(ah,ah,"f",E2)?p0(ah,ah,"f",E2):KAe()}static set implementation(t){gD(ah,ah,t,"f",E2)}static get getOauthCode(){return ah.implementation.getOauthCode}}ah=hS;E2={value:void 0};hS.isGetOauthCodeError=e=>typeof e=="object"&&"code"in e&&Object.values(ti).includes(e.code)&&"message"in e&&typeof e.message=="string";const pS=({storage:e})=>{const t=a=>JSON.stringify(a),n=a=>JSON.parse(a),r=a=>{const l=e.getItem(a);if(!(!l||l==="undefined"||l==="null"))try{return n(l)}catch(c){Lu.error(`Error while parsing ${a} from local storage`,{value:l}),o(a),ot.events.emit("parseFailure",c,a)}},i=(a,l)=>{e.setItem(a,t(l))},o=a=>{e.removeItem(a)};return{getItem:r,getKeys:()=>Object.keys(e),removeItem:o,setItem:i}};class ot{static clearRegistry(){ot.registry={localStorage:void 0,secureStorage:void 0,sessionStorage:void 0}}static registerSourceStorage(t,n){Lu.logVerboseTroubleshootingMessage("StorageService.registerSourceStorage",{implementation:n,source:t}),ot.registry[t]=n}static getSourceStorage(t){return ot.registry[t]}static resolveStorage(t){const n=(t==null?void 0:t.priority)||["localStorage"];for(const r of n){const i=ot.getSourceStorage(r);if(i)return i}if(n.includes("localStorage"))return Lu.info("No available storage found based on the specified priority, defaulting to localStorage"),pS({storage:localStorage});if(n.includes("sessionStorage"))return Lu.info("No available storage found based on the specified priority, defaulting to sessionStorage"),pS({storage:sessionStorage});throw Lu.logVerboseTroubleshootingMessage("No storage found  StorageService.registry:",ot.registry),new Error("No available storage found based on the specified priority")}static getItem(t,n){return ot.resolveStorage(n).getItem(t)}static setItem(t,n,r){ot.resolveStorage(r).setItem(t,n)}static removeItem(t,n){ot.resolveStorage(n).removeItem(t)}static getKeys(t){return ot.resolveStorage(t).getKeys()}}ot.registry={localStorage:void 0,secureStorage:void 0,sessionStorage:void 0};ot.events=new Hxe;const aq=({storage:e,postfix:t})=>{const n=r=>t?`${r}_${t}`:r;return Object.assign(Object.assign({},e),{getItem:r=>e.getItem(n(r)),removeItem:r=>e.removeItem(n(r)),setItem:(r,i)=>e.setItem(n(r),i)})},HAe=e=>e*1e9;var lq={};const ID=(e,t)=>{if(typeof process>"u"||!lq)return t;const n=Array.isArray(e)?e:[e];for(const r of n){const i=lq[r];if(i!==void 0)return i}return t};new gi("@dynamic-labs/iframe-setup");Oo("@dynamic-labs/utils",axe);var Uoe="4.57.1",GAe={"@dynamic-labs/sdk-api-core":"0.0.860"};const Td=()=>typeof window>"u";Td()||new URL(window.location.href);const JAe=Uoe,ZAe=GAe["@dynamic-labs/sdk-api-core"];var YAe="4.57.1",XAe="4.57.1",V5={exports:{}},cq;function QAe(){return cq||(cq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(V5)),V5.exports}var e6e=QAe();const Foe=Rr(e6e),Hl=new Foe,Jn=new gi("WalletConnector"),t6e=(e,t)=>{if(t.length!==0)return e.find(n=>t.every(i=>((n==null?void 0:n[i.flag])||!1)===i.value)===!0)},Ga=(e,t,n,r)=>({blockchainName:e,displayName:r??e,name:t,symbol:n}),n6e=[Ga("Algorand","algorand","ALGO"),Ga("Aptos","aptos","APTOS"),Ga("Bitcoin","bitcoin","BTC"),Ga("Cosmos","cosmos","COSMOS"),Ga("Eclipse","eclipse","ECLIPSE"),Ga("Ethereum","evm","ETH","EVM"),Ga("Flow","flow","FLOW"),Ga("Solana","solana","SOL"),Ga("Spark","spark","SPARK"),Ga("Starknet","starknet","ETH"),Ga("Sui","sui","SUI"),Ga("Tron","tron","TRON"),Ga("TON","ton","TON")],r6e={algo:"algorand",bip122:"bitcoin",btc:"bitcoin",eip155:"evm",eth:"evm",sol:"solana",stark:"starknet",sui:"sui"};let C2;const i6e=e=>{C2=e},Fm=e=>{var t;const n=e.toLowerCase(),r=(t=r6e[n])!==null&&t!==void 0?t:n,i=n6e.find(o=>o.name===r||o.symbol.toLocaleLowerCase()===r);if(i)return i},Uc=e=>{var t,n;const r=Fm(e);if(!r)return;const i=C2==null?void 0:C2[r.name],o=Object.assign({},r);return i&&(o.blockchainName=(t=i.displayName)!==null&&t!==void 0?t:r.blockchainName,o.displayName=(n=i.displayName)!==null&&n!==void 0?n:r.displayName),o},ED=e=>!!e.verifyOneTimePassword,bm=e=>!!e.clearEmail,Woe=e=>{const t=e;return!!(t&&t.key==="turnkeyhd"&&typeof t.getWebAuthnAttestation=="function"&&typeof t.getAuthenticatorHandler=="function"&&typeof t.getExportHandler=="function"&&typeof t.isSessionKeyCompatible=="function"&&typeof t.createOrRestoreSession=="function")},o6e=e=>["eip155","flow","evm","eth","avax","matic"].includes(e.toLowerCase()),mS=(e,t)=>{let n=e;return n!=null&&n.startsWith("0x")&&(n=n.slice(2)),n=o6e(t)?n==null?void 0:n.toLowerCase():n,n},$a=(e,t,n)=>mS(e,n)===mS(t,n),X1=e=>!!e.canConnectViaSocial,s6e=(e,t,n)=>t.flatMap(r=>e.find(i=>a6e(i,r,n))).filter(l6e),a6e=(e,t,n)=>e.key===t&&(n?e.connectedChain===n:!0),l6e=e=>!!e,dq=(e,t,n)=>{const r=s6e(e,[t],n);return r.length>0?r[0]:null},c6e=(e,t,n)=>{if(XI())return e;const r=qoe(e,t,n);if(!r)return`${r}?uri=${encodeURIComponent(e)}`;const i=new URL(r),o=new URLSearchParams(i.search);return o.set("uri",e),i.search=o.toString(),i.toString()},qoe=(e,t,n)=>{var r,i,o,s;if(XI())return e.split("?")[0];const a=rr()?"mobile":"desktop";let l;return n==="native"?l=((r=t[a])===null||r===void 0?void 0:r.native)||((i=t[a])===null||i===void 0?void 0:i.universal):l=((o=t[a])===null||o===void 0?void 0:o.universal)||((s=t[a])===null||s===void 0?void 0:s.native),l||""},zoe=({mode:e,uri:t="",deepLinks:n,preference:r})=>{if(!n)return"";switch(e){case"connection":return c6e(t,n,r);case"regular":return qoe(t,n,r)}};function d6e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ks(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function uq(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}const u6e=(e,t,n,r)=>Ks(void 0,void 0,void 0,function*(){var i,o,s;const a=zoe({deepLinks:t,mode:"connection",preference:r,uri:e});rr()?yield Ln.openURL(a):(!((i=t==null?void 0:t.desktop)===null||i===void 0)&&i.native&&((o=n.onDesktopUri)===null||o===void 0||o.call(n,a)),(s=n.onDisplayUri)===null||s===void 0||s.call(n,e))}),CD=e=>!!e.isEmbeddedWallet,f6e=e=>["magicemailotp","magicsocial"].includes(e.key),fq=e=>["bloctoemail","bloctoevm","Blocto"].includes(e.key),rc=e=>!!e.getWebAuthnAttestation,n3=e=>e!=null&&typeof e=="object"&&"canSponsorTransactionGas"in e,AD=e=>!!(e!=null&&e.sendBitcoin),Bh=e=>"canConnectWithHardwareWallet"in e,Voe=e=>e.key==="phantom"&&e.extractSignature!==void 0,h6e=e=>!!(e!=null&&e.isWalletConnect),RD=e=>{var t;return"createUiTransaction"in e&&typeof e.createUiTransaction=="function"&&e.isAvailable&&!(!((t=e.isSendBalanceUnsupported)===null||t===void 0)&&t.call(e))},Pa=e=>{const t=e;return!!(typeof(t==null?void 0:t.isSessionKeyCompatible)=="function"&&t.isSessionKeyCompatible())},Dh=e=>Pa(e.connector);var p6e="4.57.1";const Koe=x.createContext(void 0),TD=()=>{const e=x.useContext(Koe);if(e===void 0)throw new Error("useWalletBookContext must be used within a WalletBookContextProvider");return e},OD=(e,t,n)=>{var r,i,o;if(!t)throw new Error("Wallet key is required. Please pass in a wallet key to getWalletBookWallet");const s=(i=(r=e==null?void 0:e.wallets)===null||r===void 0?void 0:r[t])!==null&&i!==void 0?i:n;if(!s)throw new Error(`Wallet ${t} not found in wallet book (${Object.keys((o=e==null?void 0:e.wallets)!==null&&o!==void 0?o:{}).length} wallets found)`);return s};var m6e="4.57.1",ck={};const hq="https://iconic.dynamic-static-assets.com/icons/sprite.svg",ND=()=>{var e,t,n;return typeof process<"u"&&ck&&(n=(t=(e=ck.ICONIC_SPRITE_CDN_URL)!==null&&e!==void 0?e:ck.NEXT_PUBLIC_ICONIC_SPRITE_CDN_URL)!==null&&t!==void 0?t:ck.REACT_APP_ICONIC_SPRITE_CDN_URL)!==null&&n!==void 0?n:hq},g6e=ND(),je=e=>{const t=Object.assign(Object.assign({},e),{function:r=>{const i=`${g6e}#${t.iconName}`;return x.createElement("img",Object.assign(Object.assign({"data-testid":`iconic-${t.iconName}`},r),{alt:t.alt,src:i}))}}),n=t.function.bind(t);return Object.assign(n,{iconName:t.iconName,sourcePath:t.sourcePath}),n},Hoe=je({alt:"Brave Browser",iconName:"brave",sourcePath:"icons/browsers/brave.svg"}),Goe=je({alt:"Chrome Browser",iconName:"chrome",sourcePath:"icons/browsers/chrome.svg"}),Joe=je({alt:"Edge Browser",iconName:"edge",sourcePath:"icons/browsers/edge.svg"}),Zoe=je({alt:"Firefox Browser",iconName:"firefox",sourcePath:"icons/browsers/firefox.svg"}),y6e=je({alt:"Opera Browser",iconName:"opera",sourcePath:"icons/browsers/opera.svg"}),Yoe=je({alt:"Opera Browser",iconName:"safari",sourcePath:"icons/browsers/safari.svg"});je({alt:"Aleo Chain",iconName:"aleo",sourcePath:"icons/chains/aleo.svg"});const v6e=je({alt:"Algorand Chain",iconName:"algorand",sourcePath:"icons/chains/algorand.svg"}),w6e=je({alt:"Aptos Chain",iconName:"aptos",sourcePath:"icons/chains/aptos.svg"});je({alt:"Arbitrum Chain",iconName:"arbitrum",sourcePath:"icons/chains/arbitrum.svg"});je({alt:"Aurora Chain",iconName:"aurora",sourcePath:"icons/chains/aurora.svg"});je({alt:"Axelar Chain",iconName:"axelar",sourcePath:"icons/chains/axelar.svg"});je({alt:"Base Chain",iconName:"base",sourcePath:"icons/chains/base.svg"});je({alt:"Berachain Chain",iconName:"berachain",sourcePath:"icons/chains/berachain.svg"});const b6e=je({alt:"Bitcoin Chain",iconName:"bitcoin",sourcePath:"icons/chains/bitcoin.svg"});je({alt:"BNB Chain",iconName:"bnb",sourcePath:"icons/chains/bnb.svg"});const _6e=je({alt:"Cosmos Chain",iconName:"cosmos",sourcePath:"icons/chains/cosmos.svg"}),x6e=je({alt:"Eclipse",iconName:"eclipse",sourcePath:"icons/chains/eclipse.svg"}),Xoe=je({alt:"Ethereum Chain",iconName:"ethereum",sourcePath:"icons/chains/ethereum.svg"}),k6e=je({alt:"Flow Chain",iconName:"flow",sourcePath:"icons/chains/flow.svg"});je({alt:"Gnosis Chain",iconName:"gnosis",sourcePath:"icons/chains/gnosis.svg"});je({alt:"Goerli Chain",iconName:"goerli",sourcePath:"icons/chains/goerli.svg"});je({alt:"Optimism Chain",iconName:"optimism",sourcePath:"icons/chains/optimism.svg"});je({alt:"Osmosis Chain",iconName:"osmosis",sourcePath:"icons/chains/osmosis.svg"});je({alt:"Palm Chain",iconName:"palm",sourcePath:"icons/chains/palm.svg"});je({alt:"Polygon Chain",iconName:"polygon",sourcePath:"icons/chains/polygon.svg"});je({alt:"Sei Chain",iconName:"sei",sourcePath:"icons/chains/sei.svg"});const S6e=je({alt:"Solana Chain",iconName:"solana",sourcePath:"icons/chains/solana.svg"}),I6e=je({alt:"Spark Chain",iconName:"spark",sourcePath:"icons/chains/spark.svg"}),E6e=je({alt:"Starknet Chain",iconName:"starknet",sourcePath:"icons/chains/starknet.svg"});je({alt:"Stellar Chain",iconName:"stellar",sourcePath:"icons/chains/stellar.svg"});const C6e=je({alt:"Sui Chain",iconName:"sui",sourcePath:"icons/chains/sui.svg"}),A6e=je({alt:"Ton Chain",iconName:"ton",sourcePath:"icons/chains/ton.svg"}),R6e=je({alt:"Tron Chain",iconName:"tron",sourcePath:"icons/chains/tron.svg"});je({alt:"zkSync Era Chain",iconName:"zkSync",sourcePath:"icons/chains/zkSync.svg"});je({alt:"Banxa",iconName:"banxa",sourcePath:"icons/onramps/banxa.svg"});je({alt:"Coinbase Pay",iconName:"coinbase-pay",sourcePath:"icons/onramps/coinbase-pay.svg"});je({alt:"Crypto.com",iconName:"crypto-dot-com",sourcePath:"icons/onramps/crypto-dot-com.svg"});const T6e=je({alt:"Bitbucket",iconName:"bitbucket",sourcePath:"icons/social/bitbucket.svg"}),PD=je({alt:"Discord",iconName:"discord",sourcePath:"icons/social/discord.svg"}),O6e=je({alt:"Facebook",iconName:"facebook",sourcePath:"icons/social/facebook.svg"}),N6e=je({alt:"Farcaster",iconName:"farcaster",sourcePath:"icons/social/farcaster.svg"}),P6e=je({alt:"Github",iconName:"github",sourcePath:"icons/social/github.svg"}),B6e=je({alt:"Github",iconName:"github-dark",sourcePath:"icons/social/github-dark.svg"}),D6e=je({alt:"Gitlab",iconName:"gitlab",sourcePath:"icons/social/gitlab.svg"}),M6e=je({alt:"Google",iconName:"google",sourcePath:"icons/social/google.svg"}),Qoe=je({alt:"Helpdesk",iconName:"helpdesk",sourcePath:"icons/social/helpdesk.svg"}),j6e=je({alt:"Linkedin",iconName:"linkedin",sourcePath:"icons/social/linkedin.svg"}),$6e=je({alt:"Microsoft",iconName:"microsoft",sourcePath:"icons/social/microsoft.svg"}),BD=je({alt:"Slack",iconName:"slack",sourcePath:"icons/social/slack.svg"}),L6e=je({alt:"Telegram",iconName:"telegram",sourcePath:"icons/social/telegram.svg"}),U6e=je({alt:"Twitch",iconName:"twitch",sourcePath:"icons/social/twitch.svg"}),F6e=je({alt:"Twitch",iconName:"twitch-dark",sourcePath:"icons/social/twitch-dark.svg"}),DD=je({alt:"Twitter",iconName:"twitter",sourcePath:"icons/social/twitter.svg"}),W6e=je({alt:"Twitter",iconName:"twitter-dark",sourcePath:"icons/social/twitter-dark.svg"}),q6e=je({alt:"Apple",iconName:"apple",sourcePath:"icons/social/apple.svg"}),z6e=je({alt:"Apple",iconName:"apple-dark",sourcePath:"icons/social/apple-dark.svg"}),V6e=je({alt:"Coinbase",iconName:"coinbasesocial",sourcePath:"icons/social/coinbasesocial.svg"}),K6e=je({alt:"Coinbase",iconName:"coinbasesocial-dark",sourcePath:"icons/social/coinbasesocial-dark.svg"}),H6e=je({alt:"Instagram",iconName:"instagram",sourcePath:"icons/social/instagram.svg"}),G6e=je({alt:"YouTube",iconName:"youtube",sourcePath:"icons/social/youtube.svg"}),J6e=je({alt:"onePassword",iconName:"one-password",sourcePath:"icons/social/onePassword.svg"}),Z6e=je({alt:"onePassword-dark",iconName:"one-password-dark",sourcePath:"icons/social/onePassword-dark.svg"}),Y6e=je({alt:"epicGames",iconName:"epicgames",sourcePath:"icons/social/epicgames.svg"}),X6e=je({alt:"epicGames-dark",iconName:"epicgames-dark",sourcePath:"icons/social/epicgames-dark.svg"}),Q6e=je({alt:"spotify",iconName:"spotify",sourcePath:"icons/social/spotify.svg"}),eRe=je({alt:"spotify-dark",iconName:"spotify-dark",sourcePath:"icons/social/spotify-dark.svg"}),tRe=je({alt:"steam",iconName:"steam",sourcePath:"icons/social/steam.svg"}),nRe=je({alt:"steam-dark",iconName:"steam-dark",sourcePath:"icons/social/steam-dark.svg"}),rRe=je({alt:"tiktok",iconName:"tiktok",sourcePath:"icons/social/tiktok.svg"}),iRe=je({alt:"tiktok-dark",iconName:"tiktok-dark",sourcePath:"icons/social/tiktok-dark.svg"}),oRe=je({alt:"line",iconName:"line",sourcePath:"icons/social/line.svg"}),sRe=je({alt:"shopify",iconName:"shopify",sourcePath:"icons/social/shopify.svg"}),aRe=je({alt:"kraken",iconName:"kraken",sourcePath:"icons/social/kraken.svg"}),lRe=je({alt:"kraken-dark",iconName:"kraken-dark",sourcePath:"icons/social/kraken-dark.svg"}),cRe=je({alt:"binance",iconName:"binancesocial",sourcePath:"icons/social/binancesocial.svg"}),dRe=je({alt:"okta",iconName:"okta",sourcePath:"icons/social/okta.svg"}),uRe=Object.freeze(Object.defineProperty({__proto__:null,AppleDarkSocialIcon:z6e,AppleSocialIcon:q6e,BinanceSocialIcon:cRe,BitbucketIcon:T6e,CoinbaseSocialDarkIcon:K6e,CoinbaseSocialIcon:V6e,DiscordIcon:PD,EpicGamesDarkIcon:X6e,EpicGamesIcon:Y6e,FacebookIcon:O6e,FarcasterIcon:N6e,GithubDarkIcon:B6e,GithubIcon:P6e,GitlabIcon:D6e,GoogleIcon:M6e,HelpdeskIcon:Qoe,InstagramIcon:H6e,KrakenDarkIcon:lRe,KrakenIcon:aRe,LineIcon:oRe,LinkedinIcon:j6e,MicrosoftIcon:$6e,OktaIcon:dRe,OnePasswordDarkIcon:Z6e,OnePasswordIcon:J6e,ShopifyIcon:sRe,SlackIcon:BD,SpotifyDarkIcon:eRe,SpotifyIcon:Q6e,SteamDarkIcon:nRe,SteamIcon:tRe,TelegramIcon:L6e,TikTokDarkIcon:iRe,TikTokIcon:rRe,TwitchDarkIcon:F6e,TwitchIcon:U6e,TwitterDarkIcon:W6e,TwitterIcon:DD,YouTubeIcon:G6e},Symbol.toStringTag,{value:"Module"}));je({alt:"1inch Wallet",iconName:"1inch.svg",sourcePath:"icons/wallets/1inch.svg"});je({alt:"Argent X Wallet",iconName:"argentx",sourcePath:"icons/wallets/argentx.svg"});je({alt:"Argent Mobile",iconName:"argentmobile",sourcePath:"icons/wallets/argent-mobile.svg"});je({alt:"Argent Web Wallet",iconName:"argentwebwallet",sourcePath:"icons/wallets/argent-web-wallet.svg"});je({alt:"Backpack Wallet",iconName:"backpack",sourcePath:"icons/wallets/backpack.svg"});je({alt:"Binance Wallet",iconName:"binance.svg",sourcePath:"icons/wallets/binance.svg"});je({alt:"BitPay Wallet",iconName:"bitpay.svg",sourcePath:"icons/wallets/bitpay.svg"});je({alt:"Blocto Wallet",iconName:"blocto",sourcePath:"icons/wallets/blocto.svg"});je({alt:"Braavos Wallet",iconName:"braavos",sourcePath:"icons/wallets/braavos.svg"});je({alt:"ByBit Wallet",iconName:"bybit",sourcePath:"icons/wallets/bybit.svg"});je({alt:"Coin98 Wallet",iconName:"coin98",sourcePath:"icons/wallets/coin98.svg"});je({alt:"Coinbase Wallet",iconName:"coinbase",sourcePath:"icons/wallets/coinbase.svg"});je({alt:"Crypto Wallet",iconName:"crypto.svg",sourcePath:"icons/wallets/crypto.svg"});je({alt:"Dapper Wallet",iconName:"dapper",sourcePath:"icons/wallets/dapper.svg"});je({alt:"Dawn Wallet",iconName:"dawn",sourcePath:"icons/wallets/dawn.svg"});je({alt:"Default Wallet",iconName:"defaultwallet",sourcePath:"icons/wallets/default.svg"});je({alt:"Dapper Wallet",iconName:"emailsign.svg",sourcePath:"icons/wallets/emailsign.svg"});const y0=je({alt:"Sign in with Email",iconName:"signinwithemail",sourcePath:"icons/wallets/signinwithemail.svg"});je({alt:"Exodus Wallet",iconName:"exodus",sourcePath:"icons/wallets/exodus.svg"});je({alt:"Fireblocks Wallet",iconName:"fireblocks",sourcePath:"icons/wallets/fireblocks.svg"});je({alt:"Flow Wallet",iconName:"flowwallet",sourcePath:"icons/wallets/flowwallet.svg"});je({alt:"Fordefi Wallet",iconName:"fordefi",sourcePath:"icons/wallets/fordefi.svg"});je({alt:"Fortmatic Wallet",iconName:"fortmatic",sourcePath:"icons/wallets/fortmatic.svg"});je({alt:"Frame Wallet",iconName:"frame",sourcePath:"icons/wallets/frame.svg"});je({alt:"Gamestop Wallet",iconName:"gamestop",sourcePath:"icons/wallets/gamestop.svg"});je({alt:"Glow Wallet",iconName:"glow",sourcePath:"icons/wallets/glow.svg"});je({alt:"ImToken Wallet",iconName:"imtoken.svg",sourcePath:"icons/wallets/imtoken.svg"});je({alt:"Injected Wallet",iconName:"injectedwallet",sourcePath:"icons/wallets/injectedwallet.svg"});je({alt:"Infinex Wallet",iconName:"infinex",sourcePath:"icons/wallets/infinex.svg"});je({alt:"Keplr Wallet",iconName:"keplr",sourcePath:"icons/wallets/keplr.svg"});je({alt:"Ledger Wallet",iconName:"ledger",sourcePath:"icons/wallets/ledger.svg"});je({alt:"Lilico Wallet",iconName:"lilico",sourcePath:"icons/wallets/lilico.svg"});je({alt:"Linen Wallet",iconName:"linen.svg",sourcePath:"icons/wallets/linen.svg"});je({alt:"Matic Wallet",iconName:"matic",sourcePath:"icons/wallets/matic.svg"});je({alt:"MetaMask Wallet",iconName:"metamask",sourcePath:"icons/wallets/metamask.svg"});je({alt:"Missing Wallet",iconName:"missing",sourcePath:"icons/wallets/missing.svg"});je({alt:"MyAlgo Wallet",iconName:"myalgo",sourcePath:"icons/wallets/myalgo.svg"});je({alt:"Omni Wallet",iconName:"omni",sourcePath:"icons/wallets/omni.svg"});je({alt:"OpeanSea Wallet",iconName:"opeansea",sourcePath:"icons/wallets/opensea.svg"});je({alt:"Oyl Wallet",iconName:"oyl",sourcePath:"icons/wallets/oyl.svg"});je({alt:"Passkeys Wallet",iconName:"passkeys",sourcePath:"icons/wallets/passkeys.svg"});je({alt:"Pera Wallet",iconName:"pera",sourcePath:"icons/wallets/pera.svg"});je({alt:"Phantom Wallet",iconName:"phantom",sourcePath:"icons/wallets/phantom.svg"});je({alt:"Rabby Wallet",iconName:"rabby",sourcePath:"icons/wallets/rabby.svg"});je({alt:"Rainbow Wallet",iconName:"rainbow",sourcePath:"icons/wallets/rainbow.svg"});je({alt:"Safe Wallet",iconName:"safe",sourcePath:"icons/wallets/safe.svg"});je({alt:"Sequence Wallet",iconName:"sequence",sourcePath:"icons/wallets/sequence.svg"});je({alt:"Slush  A Sui wallet",iconName:"slush",sourcePath:"icons/wallets/slush.svg"});je({alt:"Solflare Wallet",iconName:"solflare",sourcePath:"icons/wallets/solflare.svg"});je({alt:"Spot Wallet",iconName:"spot",sourcePath:"icons/wallets/spot.svg"});je({alt:"Stroke Wallet",iconName:"stroke",sourcePath:"icons/wallets/stroke.svg"});je({alt:"Suiet Wallet",iconName:"suiet",sourcePath:"icons/wallets/suiet.svg"});je({alt:"Taho Wallet",iconName:"tallycash",sourcePath:"icons/wallets/tallycash.svg"});je({alt:"Terra Wallet",iconName:"terra",sourcePath:"icons/wallets/terra.svg"});je({alt:"Torus Wallet",iconName:"torus",sourcePath:"icons/wallets/torus.svg"});je({alt:"TronLink Wallet",iconName:"tronlink",sourcePath:"icons/wallets/tronlink.svg"});je({alt:"Trust Wallet",iconName:"trust",sourcePath:"icons/wallets/trust.svg"});je({alt:"Unstoppable Wallet",iconName:"unstoppable",sourcePath:"icons/wallets/unstoppable.svg"});je({alt:"Venly Wallet",iconName:"venly",sourcePath:"icons/wallets/venly.svg"});const fRe=je({alt:"Wallet Connect Wallet",iconName:"walletconnect",sourcePath:"icons/wallets/walletconnect.svg"});je({alt:"Magic Link Wallet",iconName:"magiclink",sourcePath:"icons/wallets/magic-link.svg"});je({alt:"Turnkey",iconName:"turnkey",sourcePath:"icons/wallets/embedded-wallet.svg"});je({alt:"Dynamic Waas",iconName:"dynamicwaas",sourcePath:"icons/wallets/embedded-wallet.svg"});je({alt:"Zengo Wallet",iconName:"zengo",sourcePath:"icons/wallets/zengo.svg"});je({alt:"Superb Wallet",iconName:"superb",sourcePath:"icons/wallets/superb.svg"});je({alt:"ZeroDev",iconName:"zerodev",sourcePath:"icons/wallets/embedded-wallet.svg"});je({alt:"Smart Wallet",iconName:"smartwallet",sourcePath:"icons/wallets/smart-wallet.svg"});je({alt:"Magic Eden",iconName:"magiceden",sourcePath:"icons/wallets/magiceden.svg"});je({alt:"Xverse",iconName:"xverse",sourcePath:"icons/wallets/xverse.svg"});je({alt:"Unisat",iconName:"unisat",sourcePath:"icons/wallets/unisat.svg"});je({alt:"Leather",iconName:"leather",sourcePath:"icons/wallets/leather.svg"});je({alt:"OKX",iconName:"okx",sourcePath:"icons/wallets/okx.svg"});je({alt:"Coinbase WaaS",iconName:"coinbasewaas",sourcePath:"icons/wallets/embedded-wallet.svg"});je({alt:"MetaMask Starknet Snap",iconName:"metamaskstarknetsnap",sourcePath:"icons/wallets/metamask-starknet.svg"});je({alt:"Nightly",iconName:"nightly",sourcePath:"icons/wallets/nightly.svg"});je({alt:"OneKey",iconName:"onekey",sourcePath:"icons/wallets/onekey.svg"});je({alt:"Ambire",iconName:"ambire",sourcePath:"icons/wallets/ambire.svg"});je({alt:"Bitget Wallet",iconName:"bitgetwallet",sourcePath:"icons/wallets/bitgetwallet.svg"});je({alt:"Math Wallet",iconName:"coin98",sourcePath:"icons/wallets/coin98.svg"});je({alt:"Clover Wallet",iconName:"clover",sourcePath:"icons/wallets/clover.svg"});je({alt:"Unknown Wallet",iconName:"unknown-wallet",sourcePath:"icons/wallets/unknown.svg"});je({alt:"Abstract",iconName:"abstract",sourcePath:"icons/wallets/abstract.svg"});je({alt:"Eden Online",iconName:"edenonline",sourcePath:"icons/wallets/edenonline.svg"});je({alt:"Intersend",iconName:"intersend",sourcePath:"icons/wallets/intersend.svg"});je({alt:"Pontem",iconName:"pontem",sourcePath:"icons/wallets/pontem.svg"});const ese=je({alt:"Apple",iconName:"apple",sourcePath:"icons/mobile/apple.svg"}),tse=je({alt:"Android",iconName:"android",sourcePath:"icons/mobile/android.svg"}),hRe=je({alt:"Captcha Wave",iconName:"captcha-wave",sourcePath:"icons/misc/captcha-wave.svg"}),MD=je({alt:"User Profile",iconName:"user-profile",sourcePath:"icons/misc/user-profile.svg"});je({alt:"Arrow Send",iconName:"arrow-send",sourcePath:"icons/misc/arrow-send.svg"});function pRe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const mRe=new gi("iconic"),gRe=(e,t="light")=>{const n=Object.fromEntries(Object.values(uRe).map(i=>[i.iconName,i]));if(t==="dark"){const i=n[`${e.toLowerCase()}-dark`];if(i)return i}const r=n[e.toLowerCase()];if(r)return r;throw new Error(`Icon ${e}, not found`)},jD=(e,t="light")=>{try{return gRe(e,t)}catch(n){return mRe.error(n),null}},r3=e=>{var{name:t,variant:n}=e,r=pRe(e,["name","variant"]);const i=jD(t,n);return i?x.createElement(i,r,null):null};Oo("@dynamic-labs/iconic",m6e);const yRe={androidUrl:"https://play.google.com/store/apps/details?id={{id}}",chromeUrl:"https://chrome.google.com/webstore/detail/{{id}}",edgeUrl:"https://microsoftedge.microsoft.com/addons/detail/{{id}}",firefoxUrl:"https://addons.mozilla.org/en-US/firefox/addon/{{id}}",iconicUrl:`${ND()}#{{id}}`,iosUrl:"https://apps.apple.com/app/apple-store/{{id}}",walletConnectUrl:"https://registry.walletconnect.org/v2/logo/sm/{{id}}"},xd=(e,t)=>{if(t)return yRe[e].replace("{{id}}",t)},nse=e=>e.spriteId?xd("iconicUrl",e.spriteId):"",i3=new gi("WalletBook"),rse=()=>{try{return xd("iconicUrl","defaultwallet")}catch(e){i3.error(e)}return""},Fd=(e,t)=>{try{return OD(e,t)}catch{return}},vRe=(e,t)=>{const n=e.groups[t];if(!n)throw new Error(`Group ${t} not found in wallet book`);return n},ise=(e,t)=>{try{return vRe(e,t)}catch(n){i3.error(n);return}},wRe="https://dynamic-static-assets.com/wallet-book/v1/stable/wallet-book.json",ose=()=>ID(["WALLET_BOOK_CDN_URL","NEXT_PUBLIC_WALLET_BOOK_CDN_URL","REACT_APP_WALLET_BOOK_CDN_URL"],wRe),bRe=(e,t,n)=>{var r;const i=ise(e,t);return(r=i==null?void 0:i.walletOverrides)===null||r===void 0?void 0:r[n]},v0=e=>{var t;return Object.keys((t=e==null?void 0:e.wallets)!==null&&t!==void 0?t:{}).length>0},_Re=(e,t,n)=>{var r;return Object.values((r=e==null?void 0:e.wallets)!==null&&r!==void 0?r:{}).find(i=>{var o,s;return i.name===t&&((s=(o=i.injectedConfig)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.chain)===n})};function $D(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function pq(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}var K5={exports:{}},mq;function xRe(){return mq||(mq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(K5)),K5.exports}var kRe=xRe();const SRe=Rr(kRe);var IRe={argentx:{brand:{alt:"ArgentX",primaryColor:"#FF875B",spriteId:"argentx"},key:"argentx",name:"ArgentX"},backpack:{brand:{alt:"Backpack",spriteId:"backpack"},key:"backpack",name:"Backpack"},bitgetwallet:{brand:{alt:"Bitget Wallet",spriteId:"bitget"},key:"bitgetwallet",name:"Bitget"},blocto:{brand:{alt:"Blocto",primaryColor:"#5E678A",spriteId:"blocto"},key:"blocto",name:"Blocto"},brave:{brand:{alt:"Brave Browser",primaryColor:"#4B49C6",spriteId:"brave"},key:"brave",name:"Brave"},coin98:{brand:{alt:"Coin98 Wallet",primaryColor:"#CDA349",spriteId:"fc460647-ea95-447a-99f0-1bff8fa4be00"},key:"coin98",name:"Coin98"},coinbase:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},key:"coinbase",name:"Coinbase"},compasswallet:{brand:{alt:"Compass",primaryColor:"#4B49C6",spriteId:"1d7dea00-96be-4ce8-ca15-d14bddbb5000"},key:"compasswallet",name:"Compass"},exodus:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},key:"exodus",name:"Exodus"},fireblocks:{brand:{alt:"Fireblocks",spriteId:"fireblocks"},key:"fireblocks",name:"Fireblocks"},flowwallet:{brand:{alt:"Flow Wallet",primaryColor:"#2BE829",spriteId:"flowwallet"},key:"flowwallet",name:"Flow Wallet"},keplr:{brand:{alt:"Keplr",spriteId:"keplr"},key:"keplr",name:"Keplr"},magiceden:{brand:{alt:"Magic Eden",spriteId:"magiceden"},key:"magiceden",name:"Magic Eden"},mathwallet:{brand:{alt:"MathWallet Wallet",spriteId:"26a8f588-3231-4411-60ce-5bb6b805a700"},key:"mathwallet",name:"Math Wallet"},metamask:{brand:{alt:"MetaMask",primaryColor:"#E2761B",spriteId:"metamask"},key:"metamask",name:"MetaMask"},nightly:{brand:{alt:"Nightly Wallet",spriteId:"nightly"},key:"nightly",name:"Nightly"},okxwallet:{brand:{alt:"OKX Wallet",spriteId:"okx"},key:"okxwallet",name:"OKX Wallet"},onekey:{brand:{alt:"OneKey Wallet",spriteId:"onekey"},key:"onekey",name:"OneKey"},phantom:{brand:{alt:"Phantom",primaryColor:"#4B49C6",spriteId:"phantom"},key:"phantom",name:"Phantom"},tronlinkwallet:{brand:{alt:"TronLink Wallet",primaryColor:"#1677FF",spriteId:"tronlink"},key:"tronlink",name:"TronLink"},trust:{brand:{alt:"Trust Wallet",spriteId:"trust"},key:"trust",name:"Trust"},walletconnect:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},key:"walletconnect",name:"WalletConnect"},xverse:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},key:"xverse",name:"Xverse"}},ERe={metamask:{brand:{alt:"MetaMask Wallet",primaryColor:"#E8831D",spriteId:"metamask"},chainGroup:"metamask",chains:["eip155:1","eip155:10","eip155:42161","eip155:42170","eip155:7777777","eip155:80084","eip155:80085","eip155:8453"],desktop:{chromeId:"nkbihfbeogaeaoehlefnkodbefgpgknn",edgeId:"ejbalbakoplchlghecdalmeeeajnimhm",firefoxId:"ether-metamask"},eip6963Config:{rdns:"io.metamask"},filterFromWalletConnect:!0,group:"metamask",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMetaMask",value:!0},{flag:"isDawn",value:!1},{flag:"isBraveWallet",value:!1},{flag:"isTrustWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isZerion",value:!1},{flag:"isSuperb",value:!1},{flag:"isRabby",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1},{flag:"isRainbow",value:!1},{flag:"isAvalanche",value:!1},{flag:"isMagicEden",value:!1},{flag:"isZerion",value:!1},{flag:"isOneKey",value:!1},{flag:"isPhantom",value:!1},{flag:"isCoin98",value:!1},{flag:"isBinance",value:!1}]}],mobile:{androidId:"io.metamask",inAppBrowser:"https://metamask.app.link/dapp",inAppBrowserV2:"https://metamask.app.link/dapp/{{dappURI}}",iosId:"id1438144202",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",shortName:"MetaMask",walletConnect:{sdks:["sign_v1","sign_v2"]}},coinbase:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},chainGroup:"coinbase",desktop:{chromeId:"hnfanknocfeofbddgcijnmhnfnkdnaad"},eip6963Config:{rdns:"com.coinbase.wallet"},group:"coinbase",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isCoinbaseWallet",value:!0}],windowLocations:["coinbaseWalletExtension"]}],mobile:{androidId:"org.toshi",inAppBrowserV2:"https://go.cb-w.com/dapp?cb_url={{encodedDappURI}}",iosId:"id1278383455"},name:"Coinbase",shortName:"Coinbase Wallet"},coinbasesolana:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},chainGroup:"coinbase",desktop:{chromeId:"hnfanknocfeofbddgcijnmhnfnkdnaad"},group:"coinbase",injectedConfig:[{chain:"sol",extensionLocators:[],windowLocations:["coinbaseSolana"]}],mobile:{androidId:"org.toshi",inAppBrowser:"https://go.cb-w.com/dapp?cb_url={{encodedDappURI}}",inAppBrowserV2:"https://go.cb-w.com/dapp?cb_url={{encodedDappURI}}",iosId:"id1278383455"},mobileExperience:"in-app-browser",name:"Coinbase",shortName:"Coinbase Wallet (Solana)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},phantom:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isBraveWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isMagicEden",value:!1},{flag:"isGlow",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1}],walletStandardLocators:[{locator:"features.phantom:.phantom",name:"Phantom"}],windowLocations:["phantom.solana"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},mobileExperience:"redirect",name:"Phantom"},phantombtc:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"btc",extensionLocators:[{flag:"isPhantom",value:!0}],walletStandard:{features:["bitcoin:connect"],name:"Phantom"},windowLocations:["phantom.bitcoin"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (Bitcoin)"},phantomevm:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isPhantom",value:!0}],windowLocations:["phantom.ethereum"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},mobileExperience:"in-app-browser",name:"Phantom",shortName:"Phantom (EVM)"},phantomledger:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isBraveWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isMagicEden",value:!1},{flag:"isGlow",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1}],walletStandardLocators:[{locator:"features.phantom:.phantom",name:"Phantom"}],windowLocations:["phantom.solana"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (Ledger)"},walletconnect:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},chainGroup:"walletconnect",group:"walletconnect",mobile:{androidId:"enable-android",iosId:"id1438144202"},name:"WalletConnect",shortName:"WalletConnect"},walletconnectsol:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},chainGroup:"walletconnect",group:"walletconnect",mobile:{androidId:"enable-android",iosId:"id1438144202"},name:"WalletConnect"},argentx:{brand:{alt:"Argent X Wallet",primaryColor:"#FF875B",spriteId:"argentx"},desktop:{chromeId:"dlcobpjiigpikoobohmabehhmhfoodbb",edgeId:"ajcicjlkibolbeaaagejfhnofogocgcj",firefoxId:"argent-x"},name:"Ready Wallet (formerly Argent)",shortName:"Ready Wallet (formerly Argent)"},perawallet:{brand:{alt:"Pera Wallet",spriteId:"pera"},mobile:{androidId:"com.algorand.android",iosId:"id1459898525"},name:"Pera Wallet"},blocto:{brand:{alt:"Blocto Wallet",primaryColor:"#5E678A",spriteId:"blocto"},chainGroup:"blocto",group:"blocto",mobile:{androidId:"com.portto.blocto",iosId:"id1481181682"},name:"Blocto",shortName:"Blocto (Flow)"},solflare:{brand:{alt:"Solflare Wallet",primaryColor:"#FC7227",spriteId:"solflare"},chains:["solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"bhhhlbepdkbapadjdnnojkbgioiodbic"},filterFromWalletConnect:!0,hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isSolflare",value:!0}],windowLocations:["solflare"]}],mobile:{androidId:"com.solflare.mobile",inAppBrowser:"https://solflare.com/ul/v1/browse/{{encodedDappURI}}?ref={{encodedDappURI}}",inAppBrowserV2:"https://solflare.com/ul/v1/browse/{{encodedDappURI}}?ref={{encodedDappURI}}",iosId:"id1580902717"},name:"Solflare",walletConnect:{sdks:["sign_v1"]},walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},braavos:{brand:{alt:"Braavos Wallet",primaryColor:"#FABB38",spriteId:"braavos"},desktop:{chromeId:"jnlgamecbpmbajjfhmmmlhejkemejdma",edgeId:"hkkpjehhcnhgefhbdcgfkeegglpjchdc",firefoxId:"braavos-wallet"},injectedConfig:[{chain:"starknet",extensionLocators:[],windowLocations:["braavos"]}],mobile:{androidId:"app.braavos.wallet",inAppBrowser:"https://link.braavos.app/dapp/{{encodedDappURI}}",inAppBrowserV2:"https://link.braavos.app/dapp/{{encodedDappURI}}",iosId:"id1636013523"},name:"Braavos"},trust:{brand:{alt:"Trust Wallet",primaryColor:"#0500FF",spriteId:"7677b54f-3486-46e2-4e37-bf8747814f00"},chainGroup:"trust",chains:["cosmos:cosmoshub-4","cosmos:kava-4","cosmos:thorchain-mainnet-v1","eip155:1","eip155:10","eip155:100","eip155:108","eip155:1101","eip155:128","eip155:137","eip155:2020","eip155:288","eip155:321","eip155:324","eip155:361","eip155:42161","eip155:42220","eip155:43114","eip155:4689","eip155:56","eip155:56288","eip155:59144","eip155:60","eip155:80084","eip155:80085","eip155:820","eip155:88","eip155:9001","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"egjidjbpglichdcondbcbdnbeeppgdph"},eip6963Config:{rdns:"com.trustwallet.app"},filterFromWalletConnect:!0,group:"trust",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isTrustWallet",value:!0}],windowLocations:["trustWallet"]}],mobile:{androidId:"com.wallet.crypto.trustapp",inAppBrowserV2:"https://link.trustwallet.com/open_url?url={{encodedDappURI}}",iosId:"id1288339409",native:"trust://wc",universal:"https://link.trustwallet.com/wc"},name:"Trust",shortName:"Trust",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},rainbow:{brand:{alt:"Rainbow Wallet",primaryColor:"#001e59",spriteId:"rainbow"},chains:["eip155:1","eip155:10","eip155:137","eip155:42161","eip155:56","eip155:7777777","eip155:80084","eip155:80085","eip155:8453"],desktop:{chromeId:"opfgelmcmbiajamepnmloijbpoleiama",edgeId:"cpojfbodiccabbabgimdeohkkpjfpbnf",firefoxId:"rainbow-extension"},eip6963Config:{rdns:"me.rainbow"},filterFromWalletConnect:!0,injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isRainbow",value:!0}],windowLocations:["rainbow"]}],mobile:{androidId:"me.rainbow",inAppBrowserV2:"rainbow://dapp?url={{encodedDappURI}}",iosId:"id1457119021",native:"rainbow://wc",universal:"https://rnbwapp.com/wc"},name:"Rainbow",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},dapper:{brand:{alt:"Dapper Wallet",primaryColor:"#762FBE",spriteId:"dapper"},mobile:{android:"fake-to-get-dapper-to-appear",ios:"fake-to-get-dapper-to-appear"},name:"Dapper"},glow:{brand:{alt:"Glow Wallet",spriteId:"glow"},desktop:{chromeId:"ojbcfhjmpigfobfclfflafhblgemeidi",edgeId:"niihfokdlimbddhfmngnplgfcgpmlido",firefoxId:"glow-solana-wallet"},hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isGlow",value:!0}],windowLocations:["glowSolana"]}],name:"Glow"},lilico:{brand:{alt:"Lilico Wallet",spriteId:"lilico"},desktop:{chromeId:"hpclkefagolihohboafpheddmmgdffjm"},filterFromWalletConnect:!0,name:"Lilico"},flowwalletflow:{brand:{alt:"Flow Wallet",spriteId:"flowwallet"},chainGroup:"flowwallet",desktop:{chromeId:"hpclkefagolihohboafpheddmmgdffjm"},filterFromWalletConnect:!0,group:"flowwallet",name:"Flow Wallet"},magicemailotp:{brand:{alt:"Magic Email OTP",spriteId:"magiclink"},name:"Magic Email OTP"},magiclink:{brand:{alt:"Magic Link",spriteId:"magiclink"},name:"Magic Link"},magicsocial:{brand:{alt:"Magic Social",spriteId:"magiclink"},name:"Magic Social"},magiceden:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",chains:["eip155:1","eip155:137","eip155:80084","eip155:80085","eip155:8453","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},eip6963Config:{rdns:"io.magiceden.wallet"},filterFromWalletConnect:!0,group:"magiceden",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMagicEden",value:!0}],windowLocations:["magicEden.ethereum"]}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser",inAppBrowserV2:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",native:"magiceden://wc",universal:"https://magiceden.io/browser"},name:"Magic Eden"},magicedenbtc:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",injectedConfig:[{chain:"btc",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Magic Eden"},windowLocations:["magicEden.bitcoin"]}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser/{{encodedDappURI}}",inAppBrowserV2:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",universal:"https://magiceden.io/browser/{{encodedDappURI}}"},mobileExperience:"in-app-browser",name:"Magic Eden",shortName:"Magic Eden (Bitcoin)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},magicedensol:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isMagicEden",value:!0}],windowLocations:["magicEden.solana"]}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser/{{encodedDappURI}}",inAppBrowserV2:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",universal:"https://magiceden.io/browser/{{encodedDappURI}}"},name:"Magic Eden",shortName:"Magic Eden (Solana)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},exodus:{brand:{alt:"Exodus Wallet",spriteId:"4c16cad4-cac9-4643-6726-c696efaf5200"},chainGroup:"exodus",chains:["eip155:1","eip155:137","eip155:43114","eip155:56","eip155:80084","eip155:80085","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},filterFromWalletConnect:!0,group:"exodus",mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc",universal:"https://exodus.com/m/wc"},name:"Exodus",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},exodusevm:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},chainGroup:"exodus",chains:["eip155:1","eip155:137","eip155:43114","eip155:56"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},eip6963Config:{rdns:"com.exodus.web3-wallet"},filterFromWalletConnect:!0,group:"exodus",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isExodus",value:!0}]}],mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc"},name:"Exodus",shortName:"Exodus Wallet (EVM)",walletConnect:{sdks:["sign_v2","auth_v1"]}},exodussol:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},chainGroup:"exodus",chains:["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},group:"exodus",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isExodus",value:!0}],windowLocations:["exodus.solana"]}],mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc"},name:"Exodus",shortName:"Exodus Wallet (Solana)",walletConnect:{sdks:["sign_v2","auth_v1"]}},okxwallet:{brand:{alt:"OKX Wallet",spriteId:"okx"},chainGroup:"okxwallet",chains:["bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba","eip155:1","eip155:137","eip155:43114","eip155:56","eip155:66","eip155:80084","eip155:80085","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},eip6963Config:{rdns:"com.okex.wallet"},filterFromWalletConnect:!0,group:"okxwallet",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isOKExWallet",value:!0},{flag:"isOkxWallet",value:!0}],windowLocations:["okxwallet"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",inAppBrowserV2:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470",native:"okex://main/wc"},name:"OKX Wallet",shortName:"OKX Wallet",walletConnect:{sdks:["sign_v2"]}},backpack:{brand:{alt:"Backpack",primaryColor:"#e43c3c",spriteId:"backpack"},chainGroup:"backpack",chains:["eip155:1","eip155:10","eip155:10143","eip155:137","eip155:42161","eip155:80084","eip155:80085","eip155:8453","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"aflkmfhebedbjioipglgcbcmnbpgliof"},eip6963Config:{rdns:"app.backpack"},filterFromWalletConnect:!0,group:"backpack",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isBackpack",value:!0}],windowLocations:[]}],mobile:{androidId:"app.backpack.mobile",iosId:"id6445964121",native:"backpack://wc"},name:"Backpack",walletConnect:{sdks:["sign_v1","sign_v2"]}},okxwalletbtc:{brand:{alt:"OKX Wallet",spriteId:"okx"},chainGroup:"okxwallet",desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},group:"okxwallet",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["okxwallet.bitcoin"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",inAppBrowserV2:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470"},mobileExperience:"in-app-browser",name:"OKX Wallet",shortName:"OKX Wallet (Bitcoin)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},unisat:{brand:{alt:"UniSat",spriteId:"unisat"},desktop:{chromeId:"ppbibelpcjmhbdihakflkdcoccbgbkpo"},injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["unisat"]}],name:"UniSat"},unknown:{brand:{spriteId:"unknown-wallet"},mobile:{androidId:"enable-android",iosId:"id1234567890"},name:"Unknown Wallet",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},xverse:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},chainGroup:"xverse",desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},group:"xverse",hardwareWallets:["ledger"],injectedConfig:[{chain:"btc",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Xverse",providerId:"XverseProviders.BitcoinProvider"},windowLocations:["XverseProviders.BitcoinProvider"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",inAppBrowserV2:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},name:"Xverse",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},fallbackconnector:{brand:{spriteId:"unknown-wallet"},mobile:{androidId:"enable-android",iosId:"id1234567890"},name:"Fallback Connector",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},oylwallet:{brand:{alt:"Oyl Wallet",spriteId:"oyl"},desktop:{chromeId:"ilolmnhjbbggkmopnemiphomhaojndmb"},injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["oyl"]}],name:"Oyl Wallet"},abstract:{brand:{alt:"Abstract",spriteId:"abstract"},chains:["eip155:11124","eip155:2741"],desktop:{universal:"https://portal.abs.xyz/profile"},injectedConfig:[{chain:"evm",extensionLocators:[]}],name:"Abstract",walletConnect:{sdks:["sign_v1","sign_v2"]}},edenonline:{brand:{alt:"Eden Online",spriteId:"edenonline"},injectedConfig:[{chain:"evm",extensionLocators:[]}],name:"Eden Online"},onekeybtc:{brand:{alt:"OneKey Wallet",spriteId:"onekey"},chainGroup:"onekey",desktop:{chromeId:"jnmbobjmhlngoefaiojfljckilhhlhcj"},group:"onekey",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["$onekey.btc"]}],mobile:{androidId:"so.onekey.app.wallet",iosId:"id1609559473"},mobileExperience:"in-app-browser",name:"OneKey"},intersend:{brand:{alt:"Intersend",spriteId:"intersend"},injectedConfig:[{chain:"evm",extensionLocators:[]}],name:"Intersend"},okxeclipse:{brand:{alt:"OKX Wallet",primaryColor:"#FABB38",spriteId:"okx"},chainGroup:"okxwallet",desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},group:"okxwallet",injectedConfig:[{chain:"eclipse",extensionLocators:[{flag:"isOKExWallet",value:!0},{flag:"isOkxWallet",value:!0}],windowLocations:["okxwallet.solana"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",inAppBrowserV2:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470"},name:"OKX Wallet"},dynamicwaas:{brand:{alt:"Dynamic Waas",primaryColor:"#4779ff",spriteId:"dynamicwaas"},name:"Dynamic Waas"},nightlyeclipse:{brand:{alt:"Nightly Wallet",spriteId:"nightly"},chainGroup:"nightly",desktop:{chromeId:"fiikommddbeccaoicoejoniammnalkfa",edgeId:"fiikommddbeccaoicoejoniammnalkfa",operaId:"fiikommddbeccaoicoejoniammnalkfa"},group:"nightly",hardwareWallets:["ledger"],injectedConfig:[{chain:"eclipse",extensionLocators:[],walletStandard:{features:["standard:connect","standard:disconnect","solana:signMessage","solana:signTransaction","solana:signAndSendTransaction"],name:"Nightly"}}],name:"Nightly"},bitgetwalletbtc:{brand:{alt:"Bitget Wallet",spriteId:"bitgetwallet"},chainGroup:"bitgetwallet",group:"bitgetwallet",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["bitkeep.unisat"]}],mobile:{androidId:"com.bitkeep.wallet",inAppBrowser:"https://bkcode.vip?action=dapp&url={{encodedDappURI}}",inAppBrowserV2:"https://bkcode.vip?action=dapp&url={{encodedDappURI}}",iosId:"id1395301115"},name:"Bitget Wallet"},backpackeclipse:{brand:{alt:"Backpack",primaryColor:"#e43c3c",spriteId:"backpack"},chainGroup:"backpack",desktop:{chromeId:"aflkmfhebedbjioipglgcbcmnbpgliof"},group:"backpack",hardwareWallets:["ledger"],injectedConfig:[{chain:"eclipse",extensionLocators:[{flag:"isBackpack",value:!0}],windowLocations:["backpack"]}],mobile:{androidId:"app.backpack.mobile",inAppBrowser:"backpack://ul/v1/browse/{{encodedDappURI}}",inAppBrowserV2:"backpack://ul/v1/browse/{{encodedDappURI}}",iosId:"id6445964121"},mobileExperience:"in-app-browser",name:"Backpack"},binancewalletbtc:{brand:{alt:"Binance Wallet",spriteId:"binance"},chainGroup:"binance",group:"binance",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["binancew3w.bitcoin"]}],name:"Binance Wallet",shortName:"Binance"},xversestarknet:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},chainGroup:"xverse",desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},group:"xverse",injectedConfig:[{chain:"starknet",extensionLocators:[],windowLocations:["xverse"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",inAppBrowserV2:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},name:"Xverse"},xversespark:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},chainGroup:"xverse",desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},group:"xverse",hardwareWallets:["ledger"],injectedConfig:[{chain:"spark",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Xverse",providerId:"XverseProviders.SparkProvider"},windowLocations:["XverseProviders.SparkProvider"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",inAppBrowserV2:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},mobileExperience:"in-app-browser",name:"Xverse",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},turnkey:{brand:{alt:"Turnkey Wallet",spriteId:"turnkey"},name:"Turnkey"},turnkeyhd:{brand:{alt:"Turnkey Wallet",spriteId:"turnkey"},name:"Turnkey HD"}},CRe={groups:IRe,wallets:ERe};function Ur(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in s.prototype)d in a||Object.defineProperty(a,d,{value:s.prototype[d].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const c=n!=null&&n.Parent?new o:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,c;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}let Gb=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}};const sse={};function Q1(e){return sse}function ARe(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function RRe(e,t){return typeof t=="bigint"?t.toString():t}function ase(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function lse(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function yl(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function TRe(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function mw(e){return JSON.stringify(e)}const cse=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function bO(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ORe=ase(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function NRe(e){if(bO(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(bO(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const PRe=new Set(["string","number","symbol"]);function BRe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function DRe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Wm(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function MRe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function A2(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Gp(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function dk(e){return typeof e=="string"?e:e==null?void 0:e.message}function e_(e,t,n){var i,o,s,a,l,c;const r={...e,path:e.path??[]};if(!e.message){const d=dk((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??dk((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??dk((l=n.customError)==null?void 0:l.call(n,e))??dk((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function jRe(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const dse=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,RRe,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},$Re=Ur("$ZodError",dse),o3=Ur("$ZodError",dse,{Parent:Error}),LRe=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Gb;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>e_(l,o,Q1())));throw cse(a,i==null?void 0:i.callee),a}return s.value},URe=LRe(o3),FRe=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>e_(l,o,Q1())));throw cse(a,i==null?void 0:i.callee),a}return s.value},WRe=FRe(o3),qRe=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Gb;return o.issues.length?{success:!1,error:new(e??$Re)(o.issues.map(s=>e_(s,i,Q1())))}:{success:!0,data:o.value}},use=qRe(o3),zRe=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>e_(s,i,Q1())))}:{success:!0,data:o.value}},fse=zRe(o3),VRe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},KRe=/true|false/i,HRe=Ur("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});let GRe=class{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}};const JRe={major:4,minor:0,patch:5},Ua=Ur("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=JRe;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,l)=>{let c=A2(s),d;for(const u of a){if(u._zod.def.when){if(!u._zod.def.when(s))continue}else if(c)continue;const h=s.issues.length,m=u._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new Gb;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(c||(c=A2(s,h)))});else{if(s.issues.length===h)continue;c||(c=A2(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,a)=>{const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new Gb;return l.then(c=>o(c,r,a))}return o(l,r,a)}}e["~standard"]={validate:o=>{var s;try{const a=use(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return fse(e,o).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),ZRe=Ur("$ZodString",(e,t)=>{var n;Ua.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??VRe(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),YRe=Ur("$ZodBoolean",(e,t)=>{Ua.init(e,t),e._zod.pattern=KRe,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}});function gq(e,t,n){e.issues.length&&t.issues.push(...Gp(n,e.issues)),t.value[n]=e.value}const XRe=Ur("$ZodArray",(e,t)=>{Ua.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(c=>gq(c,n,s))):gq(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function uk(e,t,n){e.issues.length&&t.issues.push(...Gp(n,e.issues)),t.value[n]=e.value}function yq(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Gp(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const QRe=Ur("$ZodObject",(e,t)=>{Ua.init(e,t);const n=ase(()=>{const u=Object.keys(t.shape);for(const m of u)if(!(t.shape[m]instanceof Ua))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=MRe(t.shape);return{shape:t.shape,keys:u,keySet:new Set(u),numKeys:u.length,optionalKeys:new Set(h)}});yl(e._zod,"propValues",()=>{const u=t.shape,h={};for(const m in u){const v=u[m]._zod;if(v.values){h[m]??(h[m]=new Set);for(const g of v.values)h[m].add(g)}}return h});const r=u=>{const h=new GRe(["shape","payload","ctx"]),m=n.value,v=k=>{const _=mw(k);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};h.write("const input = payload.value;");const g=Object.create(null);let y=0;for(const k of m.keys)g[k]=`key_${y++}`;h.write("const newResult = {}");for(const k of m.keys)if(m.optionalKeys.has(k)){const _=g[k];h.write(`const ${_} = ${v(k)};`);const R=mw(k);h.write(`
        if (${_}.issues.length) {
          if (input[${R}] === undefined) {
            if (${R} in input) {
              newResult[${R}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${R}, ...iss.path] : [${R}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${R} in input) newResult[${R}] = undefined;
        } else {
          newResult[${R}] = ${_}.value;
        }
        `)}else{const _=g[k];h.write(`const ${_} = ${v(k)};`),h.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${mw(k)}, ...iss.path] : [${mw(k)}]
          })));`),h.write(`newResult[${mw(k)}] = ${_}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const b=h.compile();return(k,_)=>b(u,k,_)};let i;const o=bO,s=!sse.jitless,l=s&&ORe.value,c=t.catchall;let d;e._zod.parse=(u,h)=>{d??(d=n.value);const m=u.value;if(!o(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;const v=[];if(s&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)i||(i=r(t.shape)),u=i(u,h);else{u.value={};const _=d.shape;for(const R of d.keys){const I=_[R],T=I._zod.run({value:m[R],issues:[]},h),M=I._zod.optin==="optional"&&I._zod.optout==="optional";T instanceof Promise?v.push(T.then(D=>M?yq(D,u,R,m):uk(D,u,R))):M?yq(T,u,R,m):uk(T,u,R)}}if(!c)return v.length?Promise.all(v).then(()=>u):u;const g=[],y=d.keySet,b=c._zod,k=b.def.type;for(const _ of Object.keys(m)){if(y.has(_))continue;if(k==="never"){g.push(_);continue}const R=b.run({value:m[_],issues:[]},h);R instanceof Promise?v.push(R.then(I=>uk(I,u,_))):uk(R,u,_)}return g.length&&u.issues.push({code:"unrecognized_keys",keys:g,input:m,inst:e}),v.length?Promise.all(v).then(()=>u):u}}),e4e=Ur("$ZodRecord",(e,t)=>{Ua.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!NRe(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=t.valueType._zod.run({value:i[l],issues:[]},r);c instanceof Promise?o.push(c.then(d=>{d.issues.length&&n.issues.push(...Gp(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...Gp(l,c.issues)),n.value[l]=c.value)}let a;for(const l in i)s.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else{n.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>e_(c,r,Q1())),input:s,path:[s],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:i[s],issues:[]},r);l instanceof Promise?o.push(l.then(c=>{c.issues.length&&n.issues.push(...Gp(s,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...Gp(s,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),t4e=Ur("$ZodEnum",(e,t)=>{Ua.init(e,t);const n=ARe(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>PRe.has(typeof r)).map(r=>typeof r=="string"?BRe(r):r.toString()).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),n4e=Ur("$ZodTransform",(e,t)=>{Ua.init(e,t),e._zod.parse=(n,r)=>{const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new Gb;return n.value=i,n}}),r4e=Ur("$ZodOptional",(e,t)=>{Ua.init(e,t),e._zod.optin="optional",e._zod.optout="optional",yl(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),yl(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${lse(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),i4e=Ur("$ZodNullable",(e,t)=>{Ua.init(e,t),yl(e._zod,"optin",()=>t.innerType._zod.optin),yl(e._zod,"optout",()=>t.innerType._zod.optout),yl(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${lse(n.source)}|null)$`):void 0}),yl(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),o4e=Ur("$ZodDefault",(e,t)=>{Ua.init(e,t),e._zod.optin="optional",yl(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>vq(o,t)):vq(i,t)}});function vq(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const s4e=Ur("$ZodPipe",(e,t)=>{Ua.init(e,t),yl(e._zod,"values",()=>t.in._zod.values),yl(e._zod,"optin",()=>t.in._zod.optin),yl(e._zod,"optout",()=>t.out._zod.optout),yl(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(o=>wq(o,t,r)):wq(i,t,r)}});function wq(e,t,n){return A2(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const a4e=Ur("$ZodCustom",(e,t)=>{HRe.init(e,t),Ua.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>bq(o,n,r,e));bq(i,n,r,e)}});function bq(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(jRe(i))}}function l4e(e,t){return new e({type:"string",...Wm(t)})}function c4e(e,t){return new e({type:"boolean",...Wm(t)})}function d4e(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Wm(n)})}const lc=Ur("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ua.init(e,t),e.def=t,e.parse=(n,r)=>URe(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>use(e,n,r),e.parseAsync=async(n,r)=>WRe(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>fse(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>DRe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),u4e=Ur("ZodMiniString",(e,t)=>{ZRe.init(e,t),lc.init(e,t)});function gr(e){return l4e(u4e,e)}const f4e=Ur("ZodMiniBoolean",(e,t)=>{YRe.init(e,t),lc.init(e,t)});function Jw(e){return c4e(f4e,e)}const h4e=Ur("ZodMiniArray",(e,t)=>{XRe.init(e,t),lc.init(e,t)});function Zl(e,t){return new h4e({type:"array",element:e,...Wm(t)})}const p4e=Ur("ZodMiniObject",(e,t)=>{QRe.init(e,t),lc.init(e,t),yl(e,"shape",()=>t.shape)});function hs(e,t){const n={type:"object",get shape(){return TRe(this,"shape",{...e}),this.shape},...Wm(t)};return new p4e(n)}const m4e=Ur("ZodMiniRecord",(e,t)=>{e4e.init(e,t),lc.init(e,t)});function Jb(e,t,n){return new m4e({type:"record",keyType:e,valueType:t,...Wm(n)})}const g4e=Ur("ZodMiniEnum",(e,t)=>{t4e.init(e,t),lc.init(e,t)});function y4e(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new g4e({type:"enum",entries:n,...Wm(t)})}const v4e=Ur("ZodMiniTransform",(e,t)=>{n4e.init(e,t),lc.init(e,t)});function Ya(e){return new v4e({type:"transform",transform:e})}const w4e=Ur("ZodMiniOptional",(e,t)=>{r4e.init(e,t),lc.init(e,t)});function Pn(e){return new w4e({type:"optional",innerType:e})}const b4e=Ur("ZodMiniNullable",(e,t)=>{i4e.init(e,t),lc.init(e,t)});function _4e(e){return new b4e({type:"nullable",innerType:e})}function fk(e){return Pn(_4e(e))}const x4e=Ur("ZodMiniDefault",(e,t)=>{o4e.init(e,t),lc.init(e,t)});function k4e(e,t){return new x4e({type:"default",innerType:e,get defaultValue(){return t}})}const S4e=Ur("ZodMiniPipe",(e,t)=>{s4e.init(e,t),lc.init(e,t)});function Xa(e,t){return new S4e({type:"pipe",in:e,out:t})}const I4e=Ur("ZodMiniCustom",(e,t)=>{a4e.init(e,t),lc.init(e,t)});function E4e(e,t={}){return d4e(I4e,e,t)}const So=Pn(Xa(Ya(e=>e||void 0),Pn(gr()))),H5=e=>e&&Object.values(e).some(t=>!!t)?e:void 0,C4e=Pn(Xa(Ya(e=>Array.isArray(e)&&e.length>0?e:void 0),Pn(Zl(gr())))),A4e=e=>{if(!(e!=null&&e.match(/^https?:\/\//)))return e;if(e)try{const n=new URL(e).searchParams.get("id");if(n)return n}catch{}},R4e=e=>{if(e!=null&&e.match(/^[a-z]{32}$/))return e;if(e!=null&&e.includes("chrome.google.com/webstore/detail/"))try{return new URL(e).pathname.split("/").at(-1)}catch{}},T4e=e=>{if(e!=null&&e.match(/^[a-z]{32}$/))return e;if(e!=null&&e.includes("microsoftedge.microsoft.com/addons/detail/"))try{return new URL(e).pathname.split("/").at(-1)}catch{}},O4e=e=>{if(!(e!=null&&e.match(/^https?:\/\//)))return e;if(e!=null&&e.includes("addons.mozilla.org"))try{return new URL(e).pathname.replace(/\/$/,"").split("/").at(-1)}catch{}},_q=/^id[0-9]{1,36}$/,N4e=e=>{if(e!=null&&e.match(_q))return e;if(e!=null&&e.match(/^https:\/\/[a-zA-Z0-9-]+\.apple\.com/))try{const n=new URL(e).pathname.replace(/\/$/,"").split("/").at(-1);if(n!=null&&n.match(_q))return n}catch{}},P4e=hs({chain:gr(),extensionLocators:Zl(hs({flag:gr(),value:k4e(Pn(Jw()),!0)})),providerInterface:Pn(gr()),walletStandard:Pn(hs({features:Zl(gr()),name:gr(),providerId:Pn(gr())})),walletStandardLocators:Pn(Zl(hs({locator:gr(),name:gr()}))),windowLocations:Pn(Zl(gr())).check(E4e(e=>!e||!e.some(t=>["ethereum","ethereum.providers"].includes(t)),{message:"windowLocations cannot include ethereum or ethereum.providers as they are included by default",path:["config"]}))}),hse=hs({alt:So,primaryColor:So,spriteId:So}),pse=Xa(Xa(Ya(e=>e),hs({brand:Pn(hse),chainGroup:Pn(gr()),chains:Pn(Zl(gr())),desktop:Pn(Xa(hs({chromeId:Pn(Xa(So,Ya(R4e))),edgeId:Pn(Xa(So,Ya(T4e))),firefoxId:Pn(Xa(So,Ya(O4e))),native:So,operaId:So,safariId:So,universal:So}),Ya(H5))),eip6963Config:Pn(hs({rdns:gr()})),filterFromWalletConnect:Pn(Jw()),group:Pn(gr()),hardwareWallets:Pn(Zl(gr())),injectedConfig:Pn(Zl(P4e)),mobile:Pn(Xa(Pn(hs({android:fk(gr()),androidId:Pn(Xa(So,Ya(A4e))),inAppBrowser:fk(gr()),inAppBrowserV2:fk(gr()),ios:fk(gr()),iosId:Pn(Xa(So,Ya(N4e))),native:So,universal:So})),Ya(H5))),mobileExperience:Pn(y4e(["in-app-browser","redirect"])),name:gr(),requiresDisconnectBeforeNewConnection:Pn(Jw()),shortName:So,showOnlyIfInstalled:Pn(Jw()),switchNetworkOnlyFromWallet:Pn(Jw()),walletConnect:Pn(Xa(Pn(hs({sdks:C4e})),Ya(H5))),walletGroup:Pn(gr()),walletLimitations:Pn(hs({browserExtension:Pn(hs({unsupportedEvents:Pn(Zl(gr())),unsupportedMethods:Pn(Zl(gr()))})),mobile:Pn(hs({unsupportedEvents:Pn(Zl(gr())),unsupportedMethods:Pn(Zl(gr()))}))}))})),Ya(e=>{var t,n,r,i,o,s;return e.group&&(e.chainGroup=e.group),(!((t=e.mobile)===null||t===void 0)&&t.iosId||((n=e.mobile)===null||n===void 0?void 0:n.ios)===null)&&((r=e.mobile)===null||r===void 0||delete r.ios),(!((i=e.mobile)===null||i===void 0)&&i.androidId||((o=e.mobile)===null||o===void 0?void 0:o.android)===null)&&((s=e.mobile)===null||s===void 0||delete s.android),e})),B4e=hs({brand:Pn(hse),name:So}),mse=hs({brand:Pn(hs({alt:So,primaryColor:So,spriteId:So})),key:gr(),name:gr(),walletOverrides:Pn(Jb(gr(),B4e))});Jb(gr(),pse);const xq=Xa(Ya(e=>e),hs({groups:Jb(gr(),mse),wallets:Jb(gr(),pse)}));Jb(gr(),mse);const gS={current:{}},_O=new SRe,D4e=()=>pq(void 0,void 0,void 0,function*(){const e=ose(),t=()=>pq(void 0,void 0,void 0,function*(){const n=yield fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`Failed to fetch wallet book data from ${e} with status code ${n.status}`);const r=yield n.json();try{return xq.parse(r)}catch(i){throw i3.error("Error parsing wallet book data",i,r),i}});gS.current=yield foe(t,{fallbackValue:xq.parse(CRe),maxRetries:3,retryStrategy:"timeout-and-rejection",timeoutMs:3e4}),_O.emit("walletBookLoaded",gS.current)});D4e();const M4e=()=>{const[e,t]=x.useState(gS.current);return x.useEffect(()=>(_O.on("walletBookLoaded",t),t(gS.current),()=>{_O.off("walletBookLoaded",t)}),[]),e},j4e=(e,t,n)=>{if(!t)return{walletIconAlt:"",walletIconUrl:""};try{const r=n?ise(e,t):OD(e,t),i=r==null?void 0:r.brand;if(i)return{walletIconAlt:i.alt,walletIconUrl:nse(i)}}catch(r){i3.debug(r)}return{walletIconAlt:"",walletIconUrl:""}},$4e=e=>{var{walletKey:t,isGroup:n,children:r}=e,i=$D(e,["walletKey","isGroup","children"]);const{walletBook:o}=TD(),[s,a]=x.useState(!1),{walletIconUrl:l,walletIconAlt:c}=j4e(o,t,n),d=rse();if(!l)return x.createElement(x.Fragment,{},r);const u=()=>{a(!0)};return x.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${t}`},i),{alt:c,key:t,onError:u,src:s?d:l}),r)},oi=e=>{var{icon:t,walletKey:n,isGroup:r,children:i}=e,o=$D(e,["icon","walletKey","isGroup","children"]);return t?x.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${n}`},o),{alt:n,key:n,src:t}),i):x.createElement($4e,Object.assign({children:i,isGroup:r,walletKey:n},o))},L4e=({walletBook:e,children:t})=>x.createElement(Koe.Provider,{value:{walletBook:e}},t),U4e=e=>{var{brand:t,walletKey:n}=e,r=$D(e,["brand","walletKey"]);const[i,o]=x.useState(!1),s=nse(t),a=rse();if(!s)return x.createElement(x.Fragment,{});const l=()=>{o(!0)};return x.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${n}`},r),{alt:t.alt,onError:l,src:i?a:s}))};Oo("@dynamic-labs/wallet-book",p6e);const F4e=({mobileExperienceProp:e,walletKey:t})=>{if(e){if(typeof e=="string")return e;if(e[t])return e[t];if(e.default)return e.default}},W4e=({mobileExperienceProp:e,walletBook:t,walletKey:n,walletConnector:r})=>{Jn.logVerboseTroubleshootingMessage("[getMobileExperience]",{mobileExperienceProp:e,walletKey:n});const i=F4e({mobileExperienceProp:e,walletKey:n}),o=r.isWalletConnect||r.canConnectViaCustodialService;if(i&&(o||i!=="redirect"))return i;const s=Fd(t,n);return Jn.logVerboseTroubleshootingMessage("[getMobileExperience]",{isWalletConnect:r.isWalletConnect,walletBookRecord:s}),s!=null&&s.mobileExperience?s.mobileExperience:n==="metamask"||r.isWalletConnect?"redirect":"in-app-browser"},q4e=e=>{if(e)return{native:e.native,universal:e.universal}},z4e=e=>{if(e)return{native:e.native,universal:e.universal}},V4e=({mobile:e,desktop:t})=>{const n=q4e(e),r=z4e(t);if(!(!n&&!r))return{desktop:r,mobile:n}},K4e=e=>{if(e)return{androidId:e.androidId,iosId:e.iosId}},H4e=e=>{if(e)return{chromeId:e.chromeId,edgeId:e.edgeId,firefoxId:e.firefoxId,operaId:e.operaId,safariId:e.safariId}},G4e=e=>{const t=K4e(e.mobile),n=H4e(e.desktop);if(!(!t&&!n))return Object.assign(Object.assign({},t),n)},J4e=e=>e?xd("iconicUrl",e):xd("iconicUrl","defaultwallet"),Z4e=e=>e&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)?e:void 0,Y4e=e=>{if(!(e!=null&&e.browserExtension))return;const{unsupportedEvents:t,unsupportedMethods:n}=e.browserExtension;return{desktop:{unsupportedEvents:t,unsupportedMethods:n}}},t_=({walletKey:e,walletBookWallet:t,walletBook:n,walletFallback:r})=>{var i,o,s,a,l,c,d,u,h;if(!v0(n)&&!r){Jn.warn("Wallet book is required");return}try{const m=t??OD(n,e,r);if(!m){Jn.warn("Wallet not found in wallet book");return}return{brandColor:Z4e((i=m==null?void 0:m.brand)===null||i===void 0?void 0:i.primaryColor),deepLinks:V4e({desktop:m==null?void 0:m.desktop,mobile:m==null?void 0:m.mobile}),downloadLinks:G4e(m),groupKey:(o=m==null?void 0:m.chainGroup)!==null&&o!==void 0?o:m==null?void 0:m.walletGroup,icon:(a=J4e((s=m==null?void 0:m.brand)===null||s===void 0?void 0:s.spriteId))!==null&&a!==void 0?a:"",id:e,inAppBrowserUrl:(u=(c=(l=m.mobile)===null||l===void 0?void 0:l.inAppBrowserV2)!==null&&c!==void 0?c:(d=m.mobile)===null||d===void 0?void 0:d.inAppBrowser)!==null&&u!==void 0?u:void 0,name:m.name,rdns:(h=m.eip6963Config)===null||h===void 0?void 0:h.rdns,supportedHardwareWallets:m.hardwareWallets,walletLimitations:Y4e(m.walletLimitations)}}catch(m){Jn.warn("Error getting wallet metadata from wallet book",{error:m});return}},X4e=(e,t,n)=>{var r,i,o;return!(!((o=(i=(r=e.metadata.walletLimitations)===null||r===void 0?void 0:r[n])===null||i===void 0?void 0:i.unsupportedMethods)===null||o===void 0)&&o.includes(t))},Q4e=(e,t,n)=>{var r,i,o;return!(!((o=(i=(r=e.metadata.walletLimitations)===null||r===void 0?void 0:r[n])===null||i===void 0?void 0:i.unsupportedEvents)===null||o===void 0)&&o.includes(t))},n_=e=>{var t,n,r,i,o,s,a,l;const c={android:"",brave:"",chrome:"",edge:"",firefox:"",ios:""};return e&&(c.brave=(t=xd("chromeUrl",e.chromeId))!==null&&t!==void 0?t:"",c.chrome=(n=xd("chromeUrl",e.chromeId))!==null&&n!==void 0?n:"",c.edge=(r=xd("edgeUrl",e.edgeId))!==null&&r!==void 0?r:"",c.firefox=(i=xd("firefoxUrl",e.firefoxId))!==null&&i!==void 0?i:"",c.ios=(s=(o=xd("iosUrl",e.iosId))!==null&&o!==void 0?o:e.iosUrl)!==null&&s!==void 0?s:"",c.android=(l=(a=xd("androidUrl",e.androidId))!==null&&a!==void 0?a:e.androidUrl)!==null&&l!==void 0?l:""),c},yS=e=>{const t=e;return!!(t&&t.key==="dynamicwaas")},Zb=e=>e.isEmbeddedWallet?Ao.EmbeddedWallet:e.canConnectViaCustodialService?Ao.CustodialService:e.isInstalledOnBrowser()?Ao.BrowserExtension:rr()?Ao.DeepLink:Ao.QrCode,e8e=e=>{if(!e||!e.key)return!1;try{const{walletBook:t}=e;if(!t||!t.wallets)return!1;const n=Fd(t,e.key);return n?!!("requiresDisconnectBeforeNewConnection"in n&&n.requiresDisconnectBeforeNewConnection):!1}catch{return!1}};class t8e extends WAe{constructor(t){var{connector:n}=t,r=d6e(t,["connector"]);super(r),this._connector=n}get connector(){return this._connector}getBalance(){return Ks(this,void 0,void 0,function*(){return this._connector.getBalance(this.address)})}getNameService(){return Ks(this,void 0,void 0,function*(){return this._connector.getNameService(this.address)})}getNetwork(){return Ks(this,void 0,void 0,function*(){return this._connector.getNetwork(!0)})}isConnected(){return Ks(this,void 0,void 0,function*(){try{return(yield this._connector.getConnectedAccounts()).map(n=>mS(n,this.chain)).includes(mS(this.address,this.chain))}catch(t){return Jn.error("[Wallet] isConnected - Error detecting if wallet is connected",t),!1}})}proveOwnership(t){return Ks(this,void 0,void 0,function*(){return this._connector.proveOwnership(this.address,t)})}signMessage(t){return Ks(this,void 0,void 0,function*(){return yield this.sync(),this._connector.signMessage(t,{address:this.address})})}switchNetwork(t){return Ks(this,void 0,void 0,function*(){return this._connector.switchNetwork({networkChainId:t})})}sync(){return Ks(this,void 0,void 0,function*(){return this._connector.validateActiveWallet(this.address)})}}class Lp{constructor(t){this.walletBook=t}static getOrCreate(t){var n;return!((n=Lp.instance)===null||n===void 0)&&n.walletBook||(Lp.instance=new Lp(t)),Lp.instance}static reset(){Lp.instance=void 0}}var R2;class s3 extends Foe{createWallet(t){return new this.ChainWallet(t)}constructor(t){if(super(),this.chainRpcProviders=void 0,this.isGlobalTransaction=!1,R2.set(this,[]),this.didSetup=!1,this.requiresNonDynamicEmailOtp=!1,this.canConnectViaCustodialService=!1,this.canConnectViaQrCode=!1,this.canConnectViaSocial=!1,this.canHandleMultipleConnections=!0,this.mergeWalletBookChains=!0,this.isAvailable=!0,this.isEmbeddedWallet=!1,this.isWalletConnect=!1,this.overrideKey=void 0,this.providerResources=void 0,this.switchNetworkOnlyFromWallet=void 0,this.isInitialized=!0,this.constructorProps=t,this._walletBookInstance=Lp.getOrCreate(t.walletBook),this._metadata=t.metadata,this.walletConnectorEventsEmitter=this.constructorProps.walletConnectorEventsEmitter||Hl,this.walletBook===void 0)throw new Error("WalletConnectorBase was not called with super(props) and is missing wallet-book")}extend(t,n){if(uq(this,R2,"f").includes(t.name))throw new Error(`You can only register a single extension of: ${t.name}`);t.name==="global-wallet-extension"&&(!this.isEmbeddedWallet||!this.supportedChains.includes("EVM"))||(uq(this,R2,"f").push(t.name),t.extend(this,n??{}))}initEventListener(){this.didSetup||(this.didSetup=!0,this.setupEventListeners())}get walletBook(){return this._walletBookInstance.walletBook}filter(){return!0}get mobileExperience(){return W4e({mobileExperienceProp:this.constructorProps.mobileExperience,walletBook:this.walletBook,walletConnector:this,walletKey:this.key})}chooseAccountsToConnect(){return Promise.resolve([])}connect(){return Ks(this,void 0,void 0,function*(){yield this.getAddress()})}endSession(){return Promise.resolve()}getAddress(t){return Promise.resolve(void 0)}parseAddress(t){return t}isTestnet(){return Promise.resolve(!1)}getAdditionalAddresses(t){return Promise.resolve([])}setAdditionalAddresses(t,n){return Promise.resolve()}getBalance(t){return Promise.resolve(void 0)}getConnectedAccounts(){return Promise.resolve([])}getDeepLink(){}getNetwork(){return Promise.resolve(void 0)}getNameService(t){return Promise.resolve(void 0)}getPublicClient(){return Promise.resolve(void 0)}getSession(){return Ks(this,void 0,void 0,function*(){return Promise.resolve()})}getSigner(){return Promise.resolve(void 0)}getWalletClient(t){}init(){return Promise.resolve()}isInstalledOnBrowser(){return!1}get key(){return this.overrideKey||this.name.replace(/\W/g,"").toLowerCase()}get metadata(){var t;return this._metadata||(this._metadata=t_({walletBook:this.walletBook,walletKey:this.key})),(t=this._metadata)!==null&&t!==void 0?t:{icon:"",id:this.key,name:this.name}}getMobileOrInstalledWallet(){return this}proveOwnership(t,n){return Ks(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),this.signMessage(n)})}setupEventListeners(){}signMessage(t,n){return Promise.resolve(void 0)}getBlockExplorerUrlsForCurrentNetwork(){return Ks(this,void 0,void 0,function*(){return[]})}supportsNetworkSwitching(){return!1}switchNetwork({networkName:t,networkChainId:n}){return Promise.resolve(void 0)}teardownEventListeners(){}setVerifiedCredentials(t){}canGetChainAddress(){return!0}handleWalletNotActive(t){return Ks(this,arguments,void 0,function*({activeAddress:n,expectedAddress:r,reconnectedAddress:i}){Jn.debug("validateActiveWallet - wallet is not active",{activeAddress:n,expectedAddress:r,reconnectedAddress:i});const o=n||i||"",s=this.constructorProps.walletUiUtils;if(!s)throw new cxe(`Wallet ${r??""} is not currently active in ${this.name||this.key}.`,{activeAddress:o,expectedAddress:r,walletName:this.name||this.key});return s.syncWallet({activeAddress:o,expectedAddress:r,walletConnector:this})})}validateActiveWallet(t){return Ks(this,void 0,void 0,function*(){Jn.debug("validateActiveWallet - validating wallet",t);const n=X4e(this,"getConnectedAccounts","desktop");Jn.debug("validateActiveWallet - getting connected accounts",{canFetchConnectedAccounts:n});const[r]=n?yield this.getConnectedAccounts():[];if(r&&$a(r,t,this.connectedChain)){Jn.debug("validateActiveWallet - wallet is active");return}Jn.debug("validateActiveWallet - trying to reconnect wallet...");const s=yield Ks(this,void 0,void 0,function*(){if(!(!this.canHandleMultipleConnections||!this.canGetChainAddress()))return this.getAddress().catch(a=>{Jn.debug("validateActiveWallet - error getting address",a)})});if(s&&$a(s,t,this.connectedChain)){Jn.debug("validateActiveWallet - wallet reconnected successfuly");return}return this.handleWalletNotActive({activeAddress:r,expectedAddress:t,reconnectedAddress:s})})}getEnabledNetworks(){return[]}retryDeeplinkConnection(){}hasRetryDeeplinkConnection(){return this.retryDeeplinkConnection!==s3.prototype.retryDeeplinkConnection}openInAppBrowserIfRequired(){var t;if(this.isInstalledOnBrowser()||!rr()||!(!((t=this.metadata)===null||t===void 0)&&t.inAppBrowserUrl)||this.mobileExperience==="redirect")return!1;const n=Wxe(this.metadata.inAppBrowserUrl),{href:r}=Ln.getUrl(),i=n({encodedDappURI:encodeURIComponent(r)});return Ln.openURL(i),!0}}R2=new WeakMap;Oo("@dynamic-labs/wallet-connector-core",XAe);const n8e=({blockchain:e,domain:t,chainId:n,nonce:r,uri:i,publicKey:o,issuedAt:s=new Date().toISOString(),statement:a,requestId:l,resources:c})=>{var d,u;if(e==="STARK")return JSON.stringify({domain:t.substring(0,31),nonce:r});const h=(u=(d=Fm(e))===null||d===void 0?void 0:d.blockchainName)!==null&&u!==void 0?u:"Ethereum",v=[`${t} wants you to sign in with your ${h} account:`,o].join(`
`),g=a?`

`:`
`,y=`${[v,a].join(g)}
`,b=[];b.push(`URI: ${i}`),b.push("Version: 1"),n&&b.push(`Chain ID: ${n}`),b.push(`Nonce: ${r}`),b.push(`Issued At: ${s}`),l&&b.push(`Request ID: ${l}`),c!=null&&c.length&&b.push(`Resources:${c.map(_=>`
- `+_).join()}`);const k=b.join(`
`);return[y,k].join(`
`)},r8e=e=>{var t;return(t=e==null?void 0:e.filter(n=>!!n.enabledAt||n.provider===pn.MagicLink&&!!n.providerProjectId||n.provider===pn.Turnkey))!==null&&t!==void 0?t:[]},i8e=e=>Object.values(pn).reduce((t,n)=>{const r=e.find(i=>i.provider===n);return r&&(t[n]=r),t},{}),o8e={addNetwork:()=>{throw Error("addNetwork not implemented")},disabledConfirmationOnce:()=>{throw Error("disabledConfirmationOnce, not implemented")},sendTransaction:()=>{throw Error("requestSendTransactionConfirmation not implemented")},signMessage:()=>{throw Error("signMessage not implemented")},signTransaction:()=>{throw Error("signTransaction not implemented")},syncWallet:()=>{throw Error("syncWallet not implemented")},zkSyncCreateSession:()=>{throw Error("zkSyncCreateSession not implemented")}},gse=({appLogoUrl:e,appName:t,authMode:n,coinbaseWalletPreference:r,chainRpcProviders:i,deepLinkPreference:o,flowNetwork:s,mobileExperience:a,networkConfigurations:l,redirectUrl:c,settings:d,walletConnectProjectId:u,walletUiUtils:h,walletBook:m,walletConnectPreferredChains:v,useMetamaskSdk:g=!0})=>{const y=(l==null?void 0:l.eclipse)||[],b=(l==null?void 0:l.evm)||[],k=(l==null?void 0:l.solana)||[],_=(l==null?void 0:l.cosmos)||[],R=(l==null?void 0:l.starknet)||[],I=(l==null?void 0:l.stellar)||[],T=(l==null?void 0:l.sui)||[],M=(l==null?void 0:l.tron)||[],D=(l==null?void 0:l.aptos)||[],A=(l==null?void 0:l.ton)||[],U=(l==null?void 0:l.bitcoin)||[];return{apiProviders:i8e(r8e(d.providers)),appLogoUrl:e,appName:t,aptosNetworks:D,authMode:n,bitcoinNetworks:U,chainRpcProviders:i,coinbaseWalletPreference:r,cosmosNetworks:_,deepLinkPreference:o,eclipseNetworks:y,evmNetworks:b,flowNetwork:s,mobileExperience:a,projectId:u,redirectUrl:c,settings:d,solNetworks:k,starknetNetworks:R,stellarNetworks:I,suiNetworks:T,tonNetworks:A,tronNetworks:M,useMetamaskSdk:g,walletBook:m,walletConnectPreferredChains:v,walletConnectorEventsEmitter:Hl,walletUiUtils:h||o8e}},s8e=e=>{var t,n;if(!e.metadata)return!1;const{downloadLinks:r,deepLinks:i}=e.metadata,o=!!(!((t=i==null?void 0:i.mobile)===null||t===void 0)&&t.universal)||!!(!((n=i==null?void 0:i.mobile)===null||n===void 0)&&n.native),s=!e.isWalletConnect||e.key==="walletconnect"||e.key==="walletconnectsol"||o,a=n_(r);return ZI()||G1()?!!a.ios&&s:!!a.android&&s},a8e=(e,t)=>t.filter(n=>{const r=Fd(e,n.key);return n.isInstalledOnBrowser()||CD(n)?!0:r!=null&&r.showOnlyIfInstalled?!1:rr()?s8e(n):!0}),l8e=(e,t)=>t.map(n=>{const r=Fd(e,n.key);return(r==null?void 0:r.switchNetworkOnlyFromWallet)!==void 0&&(n.switchNetworkOnlyFromWallet=r.switchNetworkOnlyFromWallet),n});let hk=[];const c8e=e=>{var t;const{settings:n,skipMemo:r=!1,walletConnectorsProp:i,walletBook:o}=e;if(!r&&hk.length>0)return hk;const s=(t=n.sdk.disabledWalletConnectors)!==null&&t!==void 0?t:[],a=gse(e),l=i.map(u=>u(a)).flat().map(u=>{try{return new u(a)}catch(h){Jn.error(`Failed to construct wallet ${u.name}`,h);return}}).filter(u=>{var h;return u&&(!(!((h=u.metadata)===null||h===void 0)&&h.id)||!s.includes(u.metadata.id))}).map(u=>(u==null||u.init(),u)).filter(u=>u==null?void 0:u.filter()).map(u=>u.getMobileOrInstalledWallet()),c=l.filter(u=>u.isWalletConnect?!l.some(h=>h.key===u.key&&h.connectedChain===u.connectedChain&&!h.isWalletConnect&&h.isInstalledOnBrowser()):!0),d=a8e(o,c);return hk=l8e(o,d),hk},d8e={"eip155:1":["ETH","EVM"],"flow:mainnet":["FLOW"]},u8e=(e,t)=>{var n;const r=Fd(e,t.key);if(!t.mergeWalletBookChains||!r)return t.supportedChains;const i=new Set;return((n=r.chains)!==null&&n!==void 0?n:[]).forEach(s=>{const a=d8e[s];a==null||a.forEach(l=>{i.add(l)})}),t.supportedChains.forEach(s=>{i.add(s)}),[...i]},f8e=e=>c8e(e.getSupportedWalletOpts).filter(r=>e.enabledChains.some(i=>u8e(e.getSupportedWalletOpts.walletBook,r).includes(i))||r.key==="magiclink");Oo("@dynamic-labs/multi-wallet",YAe);var h8e="4.57.1",Yb;(function(e){e.ECLIPSE="eclipse",e.EVM="evm",e.SOLANA="solana",e.STARKNET="starknet",e.SUI="sui"})(Yb||(Yb={}));function p8e(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}class zs{static get client(){return zs.instance||(zs.instance=new zs),zs.instance}constructor(){this.getProvidersMethods={}}static getProviders(t){return Object.values(Yb).forEach(n=>{var r,i;if(!zs.providers[n]){const o=(i=(r=zs.client.getProvidersMethods)[n])===null||i===void 0?void 0:i.call(r,t);o&&Object.assign(zs.providers,{[n]:o})}}),zs.providers}static registerChainProviders(t,n){return p8e(this,void 0,void 0,function*(){zs.client.getProvidersMethods[t]||Object.assign(zs.client.getProvidersMethods,{[t]:n})})}}zs.providers={};zs.wipeInstance=()=>{zs.instance=void 0,zs.providers={}};const Xb=zs;Oo("@dynamic-labs/rpc-providers",h8e);var G5={exports:{}},kq;function m8e(){return kq||(kq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(G5)),G5.exports}var g8e=m8e();const LD=Rr(g8e),y8e=["authFailure","authFlowCancelled","authFlowClose","authFlowOpen","authInit","emailVerificationResult","embeddedWalletCreated","logout","mfaCompletionFailure","mfaCompletionSuccess","primaryWalletChanged","primaryWalletNetworkChanged","walletConnectionQrCodeReady","smsVerificationResult","walletAdded","walletRemoved","userWalletsChanged","walletConnectedForFunding","walletTabSelected","walletConnectionFailed","embeddedWalletRevealCompleted","embeddedWalletRevealFailed"],rt=new LD,v8e=rt,Un=(e,t)=>{const n=x.useRef(t);n.current=t,x.useEffect(()=>{const r=(...i)=>n.current(...i);return rt.on(e,r),()=>{rt.off(e,r)}},[e])},w8e=(e,t)=>{if(!y8e.includes(e))throw new Error(`Unrecognized event "${e}" used with useDynamicEvents`);Un(e,t)},b8e={"-32000":"Message signature denied","-32002":"Please unlock your wallet extension and try again.","-32003":"Message signature denied.","-32602":"Invalid parameters. Please try again.","-32603":"There was an internal error. Please try again.",0:"Message signature denied.",4001:"Message signature denied.",4100:"Please unlock your wallet extension and try again.",4900:"There was an internal error. Please try again.",5001:"Message signature denied.",5002:"Message signature denied.",account_already_linked_to_different_profile:"This social account is already linked to a different profile.",connection_rejected:"Connection rejected. Please try again.",metamask_timeout:"Whoops. Looks like something went wrong. Please try again.","missing-nonce":"Something went wrong. Please try again.","missing-public-address":"Connection cancelled. Please try again",oauth_window_blocked:"To connect to your social account, enable popups in your browser and then try again.",oauth_window_timeout:"Session time out. Please try again.",too_many_email_verification_attempts:"Too many email verification attempts, please try again later","user-cancelled":"",wallet_not_deployed:"Your smart wallet has not been deployed.",wrong_email_verification_token:"The code you entered is incorrect. Please try again."},yse=x.createContext(void 0),_8e=({children:e})=>{const[t,n]=x.useState(void 0),[r,i]=x.useState(void 0),o=x.useCallback((d,u)=>{n(d),i(u)},[]),s=x.useCallback(()=>{o("Something went wrong. Please try again.",qs.DEFAULT)},[o]),a=x.useCallback(d=>{var u;o((u=b8e[d])!==null&&u!==void 0?u:"Something went wrong. Please try again.")},[o]),l=x.useCallback(()=>{n(void 0),i(void 0)},[]),c=x.useMemo(()=>({clearError:l,error:t,errorCode:r,setDefaultError:s,setError:o,setErrorMessage:a}),[l,t,r,s,o,a]);return f.jsx(yse.Provider,{value:c,children:e})},so=()=>{const e=x.useContext(yse);if(e===void 0)throw new Error("usage of useErrorContext not wrapped in `ErrorContextProvider`.");return e},vse=x.createContext(void 0),x8e=({children:e,initialViewType:t})=>{var n;const[r,i]=x.useState([]),o=x.useMemo(()=>({type:t}),[t]),s=(n=r[r.length-1])!==null&&n!==void 0?n:o,{clearError:a}=so(),l=x.useCallback((g,y,b)=>{if(s.type===g){(y!==s.props||b!==s.events)&&i(k=>[...k.slice(0,-1),{events:b,props:y,type:g}]);return}a(),i(k=>k.length===0?[{type:t},{events:b,props:y,type:g}]:[...k,{events:b,props:y,type:g}])},[a,s.type,t]),c=x.useCallback((g,y,b)=>{s.type!==g&&(a(),i(k=>k.length<=1?[{type:t},{events:b,props:y,type:g}]:[...k.slice(0,-1),{events:b,props:y,type:g}]))},[a,t,s.type]),d=r.length>1,u=x.useCallback(()=>{d&&(a(),i(g=>g.slice(0,-1)),rt.emit("goBack"))},[d,a]),h=x.useCallback((g,y,b)=>{a(),i([{events:b,props:y,type:g}])},[a]),m=x.useCallback(()=>{a(),i(g=>g.length>0?[]:g)},[a]);Un("logout",m),Un("authFlowClose",()=>setTimeout(m,100));const v=x.useMemo(()=>({canGoBack:r.length>1,clearStackAndPush:h,clearStackAndPushInitialView:m,goBack:u,pushView:l,replaceView:c,stack:r,view:s}),[m,u,h,l,s,r,c]);return f.jsx(vse.Provider,{value:v,children:e})},At=()=>{const e=x.useContext(vse);if(e===void 0)throw new Error("usage of useViewContext not wrapped in `ViewContextProvider`.");return e},Ie=new gi("DynamicSDK",Wi.INFO),wse=(e,t)=>{var n;const r=Fd(e,t.key);return{chainGroup:t.metadata.groupKey,group:t.metadata.groupKey,injectedConfig:r==null?void 0:r.injectedConfig,isInstalledOnBrowser:(n=t.isInstalledOnBrowser())!==null&&n!==void 0?n:!1,key:t.key,name:t.name,walletConnector:t,walletGroup:t.metadata.groupKey}},r_=(e,t=1)=>{const n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return"rgba("+n+", "+r+", "+i+", "+t+")"},bse="#363A46";r_(bse,.65);r_(bse,.4);const UD="#F5F8FF";r_(UD,.95);r_(UD,.55);r_(UD,.4);const _se=10,Sq={ALGO:"algorand",BTC:"bip122",COSMOS:"cosmos",ETH:"eip155",EVM:"eip155",FLOW:"flow",SOL:"solana",STARK:"starknet",TON:"ton"},ec={algorand:nr.Algo,bip122:nr.Btc,cosmos:nr.Cosmos,eip155:nr.Evm,flow:nr.Flow,solana:nr.Sol,starknet:nr.Stark,sui:nr.Sui,ton:nr.Ton};var od={};const k8e=JSON.parse(`[{"code":"AD","name":"Andorra"},{"code":"AE","name":"United Arab Emirates"},{"code":"AF","name":"Afghanistan"},{"code":"AG","name":"Antigua and Barbuda"},{"code":"AI","name":"Anguilla"},{"code":"AL","name":"Albania"},{"code":"AM","name":"Armenia"},{"code":"AO","name":"Angola"},{"code":"AQ","name":"Antarctica"},{"code":"AR","name":"Argentina"},{"code":"AS","name":"American Samoa"},{"code":"AT","name":"Austria"},{"code":"AU","name":"Australia"},{"code":"AW","name":"Aruba"},{"code":"AX","name":"land Islands"},{"code":"AZ","name":"Azerbaijan"},{"code":"BA","name":"Bosnia and Herzegovina"},{"code":"BB","name":"Barbados"},{"code":"BD","name":"Bangladesh"},{"code":"BE","name":"Belgium"},{"code":"BF","name":"Burkina Faso"},{"code":"BG","name":"Bulgaria"},{"code":"BH","name":"Bahrain"},{"code":"BI","name":"Burundi"},{"code":"BJ","name":"Benin"},{"code":"BL","name":"Saint Barthlemy"},{"code":"BM","name":"Bermuda"},{"code":"BN","name":"Brunei Darussalam"},{"code":"BO","name":"Bolivia, Plurinational State of"},{"code":"BQ","name":"Bonaire, Sint Eustatius and Saba"},{"code":"BR","name":"Brazil"},{"code":"BS","name":"Bahamas"},{"code":"BT","name":"Bhutan"},{"code":"BV","name":"Bouvet Island"},{"code":"BW","name":"Botswana"},{"code":"BY","name":"Belarus"},{"code":"BZ","name":"Belize"},{"code":"CA","name":"Canada"},{"code":"CC","name":"Cocos (Keeling) Islands"},{"code":"CD","name":"Congo, Democratic Republic of the"},{"code":"CF","name":"Central African Republic"},{"code":"CG","name":"Congo"},{"code":"CH","name":"Switzerland"},{"code":"CI","name":"Cte d'Ivoire"},{"code":"CK","name":"Cook Islands"},{"code":"CL","name":"Chile"},{"code":"CM","name":"Cameroon"},{"code":"CN","name":"China"},{"code":"CO","name":"Colombia"},{"code":"CR","name":"Costa Rica"},{"code":"CU","name":"Cuba"},{"code":"CV","name":"Cabo Verde"},{"code":"CW","name":"Curaao"},{"code":"CX","name":"Christmas Island"},{"code":"CY","name":"Cyprus"},{"code":"CZ","name":"Czechia"},{"code":"DE","name":"Germany"},{"code":"DJ","name":"Djibouti"},{"code":"DK","name":"Denmark"},{"code":"DM","name":"Dominica"},{"code":"DO","name":"Dominican Republic"},{"code":"DZ","name":"Algeria"},{"code":"EC","name":"Ecuador"},{"code":"EE","name":"Estonia"},{"code":"EG","name":"Egypt"},{"code":"EH","name":"Western Sahara"},{"code":"ER","name":"Eritrea"},{"code":"ES","name":"Spain"},{"code":"ET","name":"Ethiopia"},{"code":"FI","name":"Finland"},{"code":"FJ","name":"Fiji"},{"code":"FK","name":"Falkland Islands (Malvinas)"},{"code":"FM","name":"Micronesia, Federated States of"},{"code":"FO","name":"Faroe Islands"},{"code":"FR","name":"France"},{"code":"GA","name":"Gabon"},{"code":"GB","name":"United Kingdom of Great Britain and Northern Ireland"},{"code":"GD","name":"Grenada"},{"code":"GE","name":"Georgia"},{"code":"GF","name":"French Guiana"},{"code":"GG","name":"Guernsey"},{"code":"GH","name":"Ghana"},{"code":"GI","name":"Gibraltar"},{"code":"GL","name":"Greenland"},{"code":"GM","name":"Gambia"},{"code":"GN","name":"Guinea"},{"code":"GP","name":"Guadeloupe"},{"code":"GQ","name":"Equatorial Guinea"},{"code":"GR","name":"Greece"},{"code":"GS","name":"South Georgia and the South Sandwich Islands"},{"code":"GT","name":"Guatemala"},{"code":"GU","name":"Guam"},{"code":"GW","name":"Guinea-Bissau"},{"code":"GY","name":"Guyana"},{"code":"HK","name":"Hong Kong"},{"code":"HM","name":"Heard Island and McDonald Islands"},{"code":"HN","name":"Honduras"},{"code":"HR","name":"Croatia"},{"code":"HT","name":"Haiti"},{"code":"HU","name":"Hungary"},{"code":"ID","name":"Indonesia"},{"code":"IE","name":"Ireland"},{"code":"IL","name":"Israel"},{"code":"IM","name":"Isle of Man"},{"code":"IN","name":"India"},{"code":"IO","name":"British Indian Ocean Territory"},{"code":"IQ","name":"Iraq"},{"code":"IR","name":"Iran, Islamic Republic of"},{"code":"IS","name":"Iceland"},{"code":"IT","name":"Italy"},{"code":"JE","name":"Jersey"},{"code":"JM","name":"Jamaica"},{"code":"JO","name":"Jordan"},{"code":"JP","name":"Japan"},{"code":"KE","name":"Kenya"},{"code":"KG","name":"Kyrgyzstan"},{"code":"KH","name":"Cambodia"},{"code":"KI","name":"Kiribati"},{"code":"KM","name":"Comoros"},{"code":"KN","name":"Saint Kitts and Nevis"},{"code":"KP","name":"Korea, Democratic People's Republic of"},{"code":"KR","name":"Korea, Republic of"},{"code":"KW","name":"Kuwait"},{"code":"KY","name":"Cayman Islands"},{"code":"KZ","name":"Kazakhstan"},{"code":"LA","name":"Lao People's Democratic Republic"},{"code":"LB","name":"Lebanon"},{"code":"LC","name":"Saint Lucia"},{"code":"LI","name":"Liechtenstein"},{"code":"LK","name":"Sri Lanka"},{"code":"LR","name":"Liberia"},{"code":"LS","name":"Lesotho"},{"code":"LT","name":"Lithuania"},{"code":"LU","name":"Luxembourg"},{"code":"LV","name":"Latvia"},{"code":"LY","name":"Libya"},{"code":"MA","name":"Morocco"},{"code":"MC","name":"Monaco"},{"code":"MD","name":"Moldova, Republic of"},{"code":"ME","name":"Montenegro"},{"code":"MF","name":"Saint Martin, (French part)"},{"code":"MG","name":"Madagascar"},{"code":"MH","name":"Marshall Islands"},{"code":"MK","name":"North Macedonia"},{"code":"ML","name":"Mali"},{"code":"MM","name":"Myanmar"},{"code":"MN","name":"Mongolia"},{"code":"MO","name":"Macao"},{"code":"MP","name":"Northern Mariana Islands"},{"code":"MQ","name":"Martinique"},{"code":"MR","name":"Mauritania"},{"code":"MS","name":"Montserrat"},{"code":"MT","name":"Malta"},{"code":"MU","name":"Mauritius"},{"code":"MV","name":"Maldives"},{"code":"MW","name":"Malawi"},{"code":"MX","name":"Mexico"},{"code":"MY","name":"Malaysia"},{"code":"MZ","name":"Mozambique"},{"code":"NA","name":"Namibia"},{"code":"NC","name":"New Caledonia"},{"code":"NE","name":"Niger"},{"code":"NF","name":"Norfolk Island"},{"code":"NG","name":"Nigeria"},{"code":"NI","name":"Nicaragua"},{"code":"NL","name":"Netherlands"},{"code":"NO","name":"Norway"},{"code":"NP","name":"Nepal"},{"code":"NR","name":"Nauru"},{"code":"NU","name":"Niue"},{"code":"NZ","name":"New Zealand"},{"code":"OM","name":"Oman"},{"code":"PA","name":"Panama"},{"code":"PE","name":"Peru"},{"code":"PF","name":"French Polynesia"},{"code":"PG","name":"Papua New Guinea"},{"code":"PH","name":"Philippines"},{"code":"PK","name":"Pakistan"},{"code":"PL","name":"Poland"},{"code":"PM","name":"Saint Pierre and Miquelon"},{"code":"PN","name":"Pitcairn"},{"code":"PR","name":"Puerto Rico"},{"code":"PS","name":"Palestine, State of"},{"code":"PT","name":"Portugal"},{"code":"PW","name":"Palau"},{"code":"PY","name":"Paraguay"},{"code":"QA","name":"Qatar"},{"code":"RE","name":"Runion"},{"code":"RO","name":"Romania"},{"code":"RS","name":"Serbia"},{"code":"RU","name":"Russian Federation"},{"code":"RW","name":"Rwanda"},{"code":"SA","name":"Saudi Arabia"},{"code":"SB","name":"Solomon Islands"},{"code":"SC","name":"Seychelles"},{"code":"SD","name":"Sudan"},{"code":"SE","name":"Sweden"},{"code":"SG","name":"Singapore"},{"code":"SH","name":"Saint Helena, Ascension and Tristan da Cunha"},{"code":"SI","name":"Slovenia"},{"code":"SJ","name":"Svalbard and Jan Mayen"},{"code":"SK","name":"Slovakia"},{"code":"SL","name":"Sierra Leone"},{"code":"SM","name":"San Marino"},{"code":"SN","name":"Senegal"},{"code":"SO","name":"Somalia"},{"code":"SR","name":"Suriname"},{"code":"SS","name":"South Sudan"},{"code":"ST","name":"Sao Tome and Principe"},{"code":"SV","name":"El Salvador"},{"code":"SX","name":"Sint Maarten, (Dutch part)"},{"code":"SY","name":"Syrian Arab Republic"},{"code":"SZ","name":"Eswatini"},{"code":"TC","name":"Turks and Caicos Islands"},{"code":"TD","name":"Chad"},{"code":"TF","name":"French Southern Territories"},{"code":"TG","name":"Togo"},{"code":"TH","name":"Thailand"},{"code":"TJ","name":"Tajikistan"},{"code":"TK","name":"Tokelau"},{"code":"TL","name":"Timor-Leste"},{"code":"TM","name":"Turkmenistan"},{"code":"TN","name":"Tunisia"},{"code":"TO","name":"Tonga"},{"code":"TR","name":"Trkiye"},{"code":"TT","name":"Trinidad and Tobago"},{"code":"TV","name":"Tuvalu"},{"code":"TW","name":"Taiwan, Province of China"},{"code":"TZ","name":"Tanzania, United Republic of"},{"code":"UA","name":"Ukraine"},{"code":"UG","name":"Uganda"},{"code":"UM","name":"United States Minor Outlying Islands"},{"code":"US","name":"United States of America"},{"code":"UY","name":"Uruguay"},{"code":"UZ","name":"Uzbekistan"},{"code":"VA","name":"Holy See"},{"code":"VC","name":"Saint Vincent and the Grenadines"},{"code":"VE","name":"Venezuela, Bolivarian Republic of"},{"code":"VG","name":"Virgin Islands, British"},{"code":"VI","name":"Virgin Islands, U.S."},{"code":"VN","name":"Viet Nam"},{"code":"VU","name":"Vanuatu"},{"code":"WF","name":"Wallis and Futuna"},{"code":"WS","name":"Samoa"},{"code":"YE","name":"Yemen"},{"code":"YT","name":"Mayotte"},{"code":"ZA","name":"South Africa"},{"code":"ZM","name":"Zambia"},{"code":"ZW","name":"Zimbabwe"}]`);var Iq;function S8e(){if(Iq)return od;Iq=1;var e=k8e,t={},n={};e.forEach(r);function r(i){t[i.name.toLowerCase()]=i.code,n[i.code.toLowerCase()]=i.name}return od.overwrite=function(o){!o||!o.length||o.forEach(function(s){var a=e.findIndex(function(l){return l.code===s.code});e[a]=s,r(s)})},od.getCode=function(o){return t[o.toLowerCase()]},od.getName=function(o){return n[o.toLowerCase()]},od.getNames=function(){return e.map(function(o){return o.name})},od.getCodes=function(){return e.map(function(o){return o.code})},od.getCodeList=function(){return n},od.getNameList=function(){return t},od.getData=function(){return e},od}var I8e=S8e();const FD=["XS","S","M","L","XL","2XL"],WD=I8e.getData(),qD=["Brunei DS","Cambodia","Indonesia","Laos","Malaysia","Myanmar","Philippines","Singapore","Thailand","Vietnam"],J5={primary_chain:"evm",wallets:{algorand:"perawallet",bitcoin:"xverse",cosmos:"keplr",evm:"metamask",flow:"blocto",solana:"phantom"}},xse=2147483647,nv=2147483645,E8e={starknet:"STARK"},C8e=e=>e.filter(({enabled:t})=>t).map(({name:t})=>{var n,r;return(n=E8e[t])!==null&&n!==void 0?n:(r=Fm(t))===null||r===void 0?void 0:r.symbol}).filter(t=>!!t),A8e=e=>{var t;return f8e({enabledChains:C8e(e.getSupportedWalletOpts.settings.chains),getSupportedWalletOpts:Object.assign(Object.assign({},e.getSupportedWalletOpts),{chainRpcProviders:Xb,walletConnectProjectId:(t=e.getSupportedWalletOpts.settings.sdk.walletConnect)===null||t===void 0?void 0:t.projectId})}).map(n=>{var r;return(r=e.walletConnectorExtensions)===null||r===void 0||r.forEach(i=>{var o;return n.extend(i,{walletConnectDappProjectId:(o=e.getSupportedWalletOpts.settings.sdk.walletConnect)===null||o===void 0?void 0:o.walletProjectId})}),wse(e.getSupportedWalletOpts.walletBook,n)})};var kse="@dynamic-labs-sdk/client",i_="0.4.0",Sse={"@dynamic-labs/sdk-api-core":"0.0.860"};const Tn=e=>e.__core,R8e=({details:e,cause:t})=>t instanceof No?t.details:t!=null&&t.message?t.message:e,T8e=({shortMessage:e,details:t,docsUrl:n,metaMessages:r})=>[e,"",...r?[...r,""]:[],...n?[`Docs: ${n}`]:[],...t?[`Details: ${t}`]:[],`Version: ${i_}`,`Timestamp: ${new Date().toISOString()}`].join(`
`);var No=class Ise extends Error{constructor(n){const r=R8e(n),i=T8e({...n,details:r});super(n.shortMessage??i,n.cause?{cause:n.cause}:void 0);ur(this,"code");ur(this,"details");ur(this,"formattedMessage");ur(this,"name","BaseError");ur(this,"cause");this.formattedMessage=i,this.details=r,this.name=n.name??this.name,this.cause=n.cause??this.cause,this.code=n.code}walk(){const n=this.cause;return n instanceof Ise?n.walk():n}toString(){return this.formattedMessage}},O8e=class extends No{constructor(){super({cause:null,code:"client_not_found_error",docsUrl:null,name:"ClientNotFoundError",shortMessage:"No Dynamic client has been created yet. Make sure you have called createDynamicClient() first."})}};let T2=null,Ese=0;const Fr=()=>{if(!T2)throw new O8e;return Ese>1&&Tn(T2).logger.debug('Multiple instances of DynamicClient found. If you are only using one client (recommended), make sure you are not calling "createDynamicClient" multiple times. If you are using multiple clients, make sure you are passing which client to use as the last param of all Dynamic functions.'),T2},N8e=e=>{T2=e,Ese++},P8e="x-dyn-api-version",B8e="x-dyn-request-id",D8e="x-dyn-version",M8e="x-mfa-auth-token",Eq="x-dyn-session-public-key",j8e=Sse["@dynamic-labs/sdk-api-core"],Cse="ClientSDK",$8e=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n="";for(let r=e;r>0;--r)n+=t[Math.floor(Math.random()*64)];return n};var L8e=class extends No{constructor(e){super({cause:null,code:"value_must_be_defined_error",docsUrl:null,name:"ValueMustBeDefined",shortMessage:e})}};function _l(e,t){if(e==null)throw new L8e(t)}const o_=e=>{var i,o;_l(e.projectSettings,"Project settings are not defined");const t=e.projectSettings.security;if(!t)return!1;const n=(((i=t.auth)==null?void 0:i.storage)||[]).includes(hO.Cookie),r=!!((o=t.externalAuth)!=null&&o.cookieName);return n||r},Ase=()=>typeof Buffer<"u"?Buffer:Te.Buffer,U8e=e=>{const t=Tn(e),n=t.state.get().sessionKeys;if(n)try{return JSON.parse(Ase().from(n,"base64").toString())}catch(r){t.logger.error("Error decoding session keys",r);return}};var Rse=class Tse extends No{constructor(n,r,i){super({cause:null,code:r,docsUrl:null,name:"APIError",shortMessage:n});ur(this,"status");this.status=i}static async fromResponse(n){try{const r=await n.clone().json();if(r&&"error"in r&&typeof r.error=="string"){const i="code"in r&&typeof r.code=="string"?r.code:"unknown_error";return new Tse(r.error,i,n.status)}return null}catch{return null}}},F8e=class extends No{constructor({cause:e}){super({cause:e,code:"invalid_external_auth_error",docsUrl:"https://www.dynamic.xyz/docs/external-auth/third-party-auth-overview",name:"InvalidExternalAuthError",shortMessage:"Error authenticating with external JWT"})}},W8e=class extends No{constructor({cause:e}){super({cause:e,code:"link_credential_error",docsUrl:null,name:"LinkCredentialError",shortMessage:"The credential you are trying to link is associated with another account and cannot be reassigned."})}},Ose=class extends No{constructor({cause:e}){super({cause:e,code:"mfa_invalid_otp_error",docsUrl:null,name:"MfaInvalidOtpError",shortMessage:"Invalid OTP"})}},zD=class extends No{constructor({cause:e}){super({cause:e,code:"mfa_rate_limited_error",docsUrl:null,name:"MfaRateLimitedError",shortMessage:"Rate limited"})}},Nse=class extends No{constructor({cause:e}){super({cause:e,code:"sandbox_maximum_threshold_reached_error",docsUrl:"https://www.dynamic.xyz/docs/developer-dashboard/sandbox-vs-live#sandbox-vs-live",name:"SandboxMaximumThresholdReachedError",shortMessage:"Your sandbox environment has reached the maximum MAU. Please use a live environment for production traffic."})}};const q8e=e=>{if(e instanceof Rse){if(e.code==="mfa_invalid_code")return new Ose({cause:e});if(e.code==="mfa_rate_limited")return new zD({cause:e});if(e.code==="invalid_external_auth")return new F8e({cause:e});if(e.code==="sandbox_maximum_threshold_reached")return new Nse({cause:e});if(e.code==="merge_accounts_invalid"||e.code==="reassign_wallet_error")return new W8e({cause:e})}return null},z8e=({errorMappers:e=[]})=>({post:async t=>{if(t.response.status>=400){const n=await Rse.fromResponse(t.response);if(n){let r=n;for(const i of e){const o=i(n);if(o){r=o;break}}throw r}}return t.response}}),ao=(e={},t)=>{var a;const n=Tn(t),r=n.state.get(),i={basePath:n.apiBaseUrl,headers:{"Content-Type":"application/json",[P8e]:`API/${j8e}`,[B8e]:$8e(50),[D8e]:`${Cse}/${i_}`,...n.getApiHeaders(),...e.headers}};t.token&&(i.headers.Authorization=`Bearer ${t.token}`),t.projectSettings&&o_(t)&&(i.credentials="include"),e.includeMfaToken&&r.mfaToken&&(i.headers[M8e]=r.mfaToken);const o=(a=U8e(t))==null?void 0:a.publicKey,s=i.headers[Eq]!==void 0;return o&&!s&&(i.headers[Eq]=o),new Loe(new e3({...i,fetchApi:n.fetch,middleware:[z8e({errorMappers:[...e.errorMappers||[],q8e]})]}))},Cq={ALGO:{apiChainName:"algo",blockchainName:"Algorand",verifiedCredentialChainName:"algorand"},APTOS:{apiChainName:"aptos",blockchainName:"Aptos",verifiedCredentialChainName:"aptos"},BTC:{apiChainName:"bitcoin",blockchainName:"Bitcoin",verifiedCredentialChainName:"bip122"},COSMOS:{apiChainName:"cosmos",blockchainName:"Cosmos",verifiedCredentialChainName:"cosmos"},ECLIPSE:{apiChainName:"eclipse",blockchainName:"Eclipse",verifiedCredentialChainName:"eclipse"},EVM:{apiChainName:"evm",blockchainName:"Ethereum",verifiedCredentialChainName:"eip155"},FLOW:{apiChainName:"flow",blockchainName:"Flow",verifiedCredentialChainName:"flow"},SOL:{apiChainName:"solana",blockchainName:"Solana",verifiedCredentialChainName:"solana",waasChainNameOverride:"SVM"},SPARK:{apiChainName:"spark",blockchainName:"Spark",verifiedCredentialChainName:"spark"},STARK:{apiChainName:"starknet",blockchainName:"Starknet",verifiedCredentialChainName:"starknet"},STELLAR:{apiChainName:"stellar",blockchainName:"Stellar",verifiedCredentialChainName:"stellar"},SUI:{apiChainName:"sui",blockchainName:"Sui",verifiedCredentialChainName:"sui"},TON:{apiChainName:"ton",blockchainName:"TON",verifiedCredentialChainName:"ton"},TRON:{apiChainName:"tron",blockchainName:"Tron",verifiedCredentialChainName:"tron"}},Pse=e=>{const t=Object.keys(Cq).find(n=>Cq[n].verifiedCredentialChainName===e);return _l(t,`Unknown chain: ${e}`),t},Bse=Sse["@dynamic-labs/sdk-api-core"],VD={displayName:"Dynamic WaaS",normalizedWalletName:"dynamicwaas"},Dse=e=>{document.cookie=e},mb=({event:e,listener:t},n=Fr())=>{const{eventEmitter:r}=Tn(n);return r.on(e,t),()=>{r.off(e,t)}},vl=({event:e,args:t},n)=>{const{eventEmitter:r}=Tn(n);r.emit(e,t)};var V8e=class extends No{constructor(e){super({cause:null,code:"invalid_wallet_provider_key",docsUrl:null,name:"InvalidWalletProviderKeyError",shortMessage:`Invalid wallet provider key: ${e}. Key must be in the format of <normalizedWalletNameWithChain>:<walletProviderType>[:<suffix>]`})}};const K8e=e=>{const[t,n,r,...i]=e.split(":");if(!t||!Object.values(Ao).includes(n)||i.length>0)throw new V8e(e);return{normalizedWalletNameWithChain:t,suffix:r,walletProviderType:n}},H8e=(e,t)=>{let n=e;return n!=null&&n.startsWith("0x")&&(n=n.slice(2)),n=["EVM","FLOW"].includes(t)?n==null?void 0:n.toLowerCase():n,n},Mse=({address:e,chain:t,walletProviderKey:n})=>{const{normalizedWalletNameWithChain:r}=K8e(n);return`${r}:${H8e(e,t)}`},G8e=({unverifiedWalletAccount:e})=>({address:e.address,addressesWithTypes:e.addressesWithTypes,chain:e.chain,id:Mse({address:e.address,chain:e.chain,walletProviderKey:e.walletProviderKey}),lastSelectedAt:e.lastSelectedAt,verifiedCredentialId:null,walletProviderKey:e.walletProviderKey}),J8e=({displayName:e,chain:t})=>{const n=e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),r=t.toLocaleLowerCase();return n.endsWith(r)?n:`${n}${r}`},KD=({suffix:e,chain:t,displayName:n,walletProviderType:r})=>`${J8e({chain:t,displayName:n})}:${r}${e?`:${e}`:""}`,Z8e=({verifiedCredential:e},t)=>{const{walletProviderKeyMap:n}=Tn(t).state.get(),r=n[e.id];return r?{walletProviderKey:r}:(_l(e.walletName,`Failed to get wallet provider for verified credential with ID ${e.id}: missing walletName`),_l(e.walletProvider,`Failed to get wallet provider for verified credential with ID ${e.id}: missing walletProvider`),_l(e.chain,`Failed to get wallet provider for verified credential with ID ${e.id}: missing chain`),{walletProviderKey:KD({chain:Pse(e.chain),displayName:e.walletName,walletProviderType:e.walletProvider})})},Y8e=({verifiedCredential:e},t)=>{_l(e.address,"Missing address in verified credential"),_l(e.chain,"Missing chain in verified credential");const n=Pse(e.chain),{walletProviderKey:r}=Z8e({verifiedCredential:e},t),i=Mse({address:e.address,chain:n,walletProviderKey:r});return{address:e.address,addressesWithTypes:e.walletAdditionalAddresses,chain:n,id:i,lastSelectedAt:e.lastSelectedAt??null,verifiedCredentialId:e.id,walletProviderKey:r}},jse=({unverifiedWalletAccounts:e,user:t},n)=>{const r=new Map;return e.forEach(i=>{const o=G8e({unverifiedWalletAccount:i});r.set(o.id,o)}),((t==null?void 0:t.verifiedCredentials)??[]).filter(i=>i.format===Zo.Blockchain).forEach(i=>{const o=Y8e({verifiedCredential:i},n);r.set(o.id,o)}),Array.from(r.values())},a3=(e=Fr())=>{const{unverifiedWalletAccounts:t,user:n}=Tn(e).state.get();return jse({unverifiedWalletAccounts:t,user:n},e)};var X8e=class extends No{constructor({walletProviderKey:e}){super({cause:null,code:"no_wallet_provider_found_error",docsUrl:null,name:"NoWalletProviderFoundError",shortMessage:`No wallet provider found with key: ${e}`})}};const Q8e=(e,t)=>n=>{const{runtimeServices:r}=Tn(n),i=r.getByKey(e);if(i)return i;const o=t(n);return r.register(e,o),o},eTe=e=>{const t=new Map;return{getByKey:n=>{var r;return(r=t.get(n))==null?void 0:r.walletProvider},listProviders:()=>Array.from(t.values()).map(n=>n.walletProvider),register:n=>{const r=t.get(n.walletProvider.key);r?r.priority<n.priority&&(t.set(n.walletProvider.key,n),vl({args:{walletProviderKey:n.walletProvider.key},event:"walletProviderChanged"},e)):(t.set(n.walletProvider.key,n),vl({args:{walletProvider:n.walletProvider},event:"walletProviderRegistered"},e),vl({args:{walletProviderKey:n.walletProvider.key},event:"walletProviderChanged"},e))},unregister:n=>{t.delete(n),vl({args:{walletProviderKey:n},event:"walletProviderUnregistered"},e)}}},$se=Q8e("walletProviderRegistry",e=>eTe(e)),tTe=({walletAccount:e},t)=>{const n=$se(t).getByKey(e.walletProviderKey);if(!n)throw new X8e({walletProviderKey:e.walletProviderKey});return n},Lse="DYNAMIC_JWT_TOKEN",nTe=e=>{vl({args:{walletAccounts:a3(e)},event:"walletAccountsChanged"},e)},Use=({previousState:e},t)=>{const n=Tn(t);Aq(e,t)!==Aq(n.state.get(),t)&&nTe(t)},Aq=(e,t)=>jse(e,t).map(n=>JSON.stringify(n)).sort().join("-"),rTe=e=>$se(e).listProviders(),iTe=e=>e.key.includes(VD.normalizedWalletName),oTe=({chain:e},t)=>{const n=rTe(t),r=KD({chain:e,displayName:VD.displayName,walletProviderType:Ao.EmbeddedWallet}),i=n.find(o=>o.key===r&&o.chain===e);return!i||!iTe(i)?null:i},sTe=({walletAccount:e})=>e.walletProviderKey.includes(VD.normalizedWalletName),Fse=async e=>{const t=a3(e).filter(n=>sTe({walletAccount:n}));await Promise.all(t.map(async n=>{const r=oTe({chain:n.chain},e);if(r)return r.restoreUserShareForWalletAccount({walletAccount:n})}))},Hh=({response:e},t)=>{const n=Tn(t),r={...n.state.get()},{user:i,minifiedJwt:o,jwt:s,expiresAt:a,mfaToken:l}=e,c=new Date(a*1e3),d={legacyToken:s??null,sessionExpiresAt:c,token:o??null,user:i};l&&(d.mfaToken=l),n.state.set(d),o&&o_(t)&&Dse(`${Lse}=${o}; expires=${c.toUTCString()}; path=/; SameSite=Lax`),Use({previousState:r},t),!r.user&&d.user&&Fse(t)};var Z5={exports:{}},Rq;function aTe(){return Rq||(Rq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Z5)),Z5.exports}var lTe=aTe();const HD=Rr(lTe),Wse=(e,t)=>{if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return e===t;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return e.constructor===t.constructor},cTe=(e,t)=>n=>{let r=t(e.get());return e.subscribe(i=>{const o=t(i);Wse(o,r)||(r=o,n(o))})},dTe=()=>({getItem:async e=>localStorage.getItem(e),removeItem:async e=>localStorage.removeItem(e),setItem:async(e,t)=>localStorage.setItem(e,t)});var uTe=class extends No{constructor({key:e,value:t}){super({cause:null,code:"invalid_storage_set",docsUrl:null,metaMessages:[`key: ${e}`,t],name:"InvalidStorageSet",shortMessage:"Tried to store a value that does not match the schema"})}};const fTe=e=>{const t=new Date(e);return!isNaN(t.getTime())&&t.toISOString()===e},qse="__DATE__",hTe=e=>JSON.stringify({value:e},(n,r)=>fTe(r)?`${qse}${r}`:r),pTe=e=>{try{return JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(qse)?new Date(n.slice(8)):n)}catch{return null}},mTe=({prefix:e="",storageAdapter:t})=>{const n=r=>e?`${e}_${r}`:r;return{getItem:async r=>{const i=await t.getItem(n(r.key)),o=i?pTe(i):null;if(o!==null){const s=r.schema.safeParse(o.value);if(s.success)return s.data}return await t.removeItem(n(r.key)),null},removeItem:async r=>{await t.removeItem(n(r.key))},setItem:async(r,i)=>{const o=r.schema.safeParse(i);if(!o.success)throw new uTe({key:r.key,value:JSON.stringify(i)});const s=hTe(o.data);await t.setItem(n(r.key),s)}}},rv=e=>e,gTe="refresh-user-state-from-cookie",yTe="initialize-storage-sync",vTe="fetch-project-settings",wTe="generate-session-keys",zse=()=>{let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),reject:n=>t==null?void 0:t(n),resolve:n=>e==null?void 0:e(n)}};var bTe=class extends No{constructor(){super({cause:null,code:"cannot_track_error",docsUrl:null,name:"CannotTrackError",shortMessage:"All track calls must be performed in the same node tick"})}};const Tq={debug:0,error:3,info:1,warn:2},pk=console,_Te=(e={})=>{const t=new HD,n=e.level??"warn",r=s=>Tq[s]>=Tq[n],i=(s,a)=>`[${new Date().toISOString()}] ${s.toUpperCase()}: ${a}`,o=(s,a,l,...c)=>{t.emit("log",s,l,...c),r(s)&&a(i(s,l),...c)};return{debug:(s,...a)=>o("debug",pk.debug,s,...a),error:(s,...a)=>o("error",pk.error,s,...a),info:(s,...a)=>o("info",pk.info,s,...a),off:t.off.bind(t),on:t.on.bind(t),warn:(s,...a)=>o("warn",pk.warn,s,...a)}},xTe=({extensionKey:e},t=Fr())=>Tn(t).extensions.has(e),Oq=e=>[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join(""),kTe=(e=Fr())=>{const t=Tn(e),n=t.state.get().mfaToken;return _l(n,"No MFA token found"),t.state.set({mfaToken:null}),n},Vse=async(e=Fr())=>{const t=Tn(e);return await ao({},e).getUserMfaMethods({environmentId:t.environmentId,verifiedOnly:!0})},Kse=async({mfaAction:e},t=Fr())=>{var r,i,o,s,a;const n=t.projectSettings;return(o=(i=(r=n==null?void 0:n.security)==null?void 0:r.mfa)==null?void 0:i.actions)!=null&&o.some(l=>l.action===e&&l.required)?(a=(s=n==null?void 0:n.security)==null?void 0:s.mfa)!=null&&a.required?!0:(await Vse(t)).userHasVerifiedMfaMethods:!1},STe=async(e=Fr())=>{const t=Tn(e),n=await ao({},e).refreshAuth({environmentId:t.environmentId});return Hh({response:n},e),n};var ITe=class extends Error{constructor(e,t){const n=`
 Version Mismatch Error

One or more \`@dynamic-labs-sdk\` packages are installed with mismatched versions. All \`@dynamic-labs-sdk\` packages must be on the same version to work correctly.

Affected Packages:
${Object.entries(t).filter(([,r])=>r!==e).map(([r,i])=>`- \`${r}\` (installed: **${i}**, required: **${e}**)`).join(`
`)}

 To fix this issue, update all @dynamic-labs-sdk/* packages to version \`${e}\` in your package.json
`;super(n.trim()),this.name="VersionMismatchError"}};let mk={},gw=null;const Hse=(e,t)=>{mk[e]=t,gw&&(clearTimeout(gw),gw=null),gw=setTimeout(()=>{const n=Object.values(mk),[r]=n;if(!n.every(i=>i===r)){const i=new ITe(mk["@dynamic-labs-sdk/client"]||r,mk);console.error(i)}gw=null},100)};function Hr(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in s.prototype)d in a||Object.defineProperty(a,d,{value:s.prototype[d].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const c=n!=null&&n.Parent?new o:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,c;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class vS extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Gse={};function s_(e){return Gse}function ETe(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function CTe(e,t){return typeof t=="bigint"?t.toString():t}function Jse(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Zse(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function yh(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function ATe(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function yw(e){return JSON.stringify(e)}const Yse=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function xO(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const RTe=Jse(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function TTe(e){if(xO(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(xO(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const OTe=new Set(["string","number","symbol"]);function NTe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function PTe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Gh(e){return{}}function BTe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function Y5(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Jp(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function gk(e){return typeof e=="string"?e:e==null?void 0:e.message}function a_(e,t,n){var i,o,s,a,l,c;const r={...e,path:e.path??[]};if(!e.message){const d=gk((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??gk((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??gk((l=n.customError)==null?void 0:l.call(n,e))??gk((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function DTe(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Xse=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,CTe,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},MTe=Hr("$ZodError",Xse),l3=Hr("$ZodError",Xse,{Parent:Error}),jTe=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new vS;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>a_(l,o,s_())));throw Yse(a,i==null?void 0:i.callee),a}return s.value},$Te=jTe(l3),LTe=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>a_(l,o,s_())));throw Yse(a,i==null?void 0:i.callee),a}return s.value},UTe=LTe(l3),FTe=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new vS;return o.issues.length?{success:!1,error:new(e??MTe)(o.issues.map(s=>a_(s,i,s_())))}:{success:!0,data:o.value}},Qse=FTe(l3),WTe=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>a_(s,i,s_())))}:{success:!0,data:o.value}},eae=WTe(l3),qTe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},zTe=/^-?\d+(?:\.\d+)?/i,VTe=Hr("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});class KTe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}}const HTe={major:4,minor:0,patch:5},kl=Hr("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=HTe;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,l)=>{let c=Y5(s),d;for(const u of a){if(u._zod.def.when){if(!u._zod.def.when(s))continue}else if(c)continue;const h=s.issues.length,m=u._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new vS;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(c||(c=Y5(s,h)))});else{if(s.issues.length===h)continue;c||(c=Y5(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,a)=>{const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new vS;return l.then(c=>o(c,r,a))}return o(l,r,a)}}e["~standard"]={validate:o=>{var s;try{const a=Qse(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return eae(e,o).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),GTe=Hr("$ZodString",(e,t)=>{var n;kl.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??qTe(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),JTe=Hr("$ZodNumber",(e,t)=>{kl.init(e,t),e._zod.pattern=e._zod.bag.pattern??zTe,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),ZTe=Hr("$ZodAny",(e,t)=>{kl.init(e,t),e._zod.parse=n=>n}),YTe=Hr("$ZodDate",(e,t)=>{kl.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function Nq(e,t,n){e.issues.length&&t.issues.push(...Jp(n,e.issues)),t.value[n]=e.value}const XTe=Hr("$ZodArray",(e,t)=>{kl.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(c=>Nq(c,n,s))):Nq(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function yk(e,t,n){e.issues.length&&t.issues.push(...Jp(n,e.issues)),t.value[n]=e.value}function Pq(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Jp(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const QTe=Hr("$ZodObject",(e,t)=>{kl.init(e,t);const n=Jse(()=>{const u=Object.keys(t.shape);for(const m of u)if(!(t.shape[m]instanceof kl))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=BTe(t.shape);return{shape:t.shape,keys:u,keySet:new Set(u),numKeys:u.length,optionalKeys:new Set(h)}});yh(e._zod,"propValues",()=>{const u=t.shape,h={};for(const m in u){const v=u[m]._zod;if(v.values){h[m]??(h[m]=new Set);for(const g of v.values)h[m].add(g)}}return h});const r=u=>{const h=new KTe(["shape","payload","ctx"]),m=n.value,v=k=>{const _=yw(k);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};h.write("const input = payload.value;");const g=Object.create(null);let y=0;for(const k of m.keys)g[k]=`key_${y++}`;h.write("const newResult = {}");for(const k of m.keys)if(m.optionalKeys.has(k)){const _=g[k];h.write(`const ${_} = ${v(k)};`);const R=yw(k);h.write(`
        if (${_}.issues.length) {
          if (input[${R}] === undefined) {
            if (${R} in input) {
              newResult[${R}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${R}, ...iss.path] : [${R}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${R} in input) newResult[${R}] = undefined;
        } else {
          newResult[${R}] = ${_}.value;
        }
        `)}else{const _=g[k];h.write(`const ${_} = ${v(k)};`),h.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${yw(k)}, ...iss.path] : [${yw(k)}]
          })));`),h.write(`newResult[${yw(k)}] = ${_}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const b=h.compile();return(k,_)=>b(u,k,_)};let i;const o=xO,s=!Gse.jitless,l=s&&RTe.value,c=t.catchall;let d;e._zod.parse=(u,h)=>{d??(d=n.value);const m=u.value;if(!o(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;const v=[];if(s&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)i||(i=r(t.shape)),u=i(u,h);else{u.value={};const _=d.shape;for(const R of d.keys){const I=_[R],T=I._zod.run({value:m[R],issues:[]},h),M=I._zod.optin==="optional"&&I._zod.optout==="optional";T instanceof Promise?v.push(T.then(D=>M?Pq(D,u,R,m):yk(D,u,R))):M?Pq(T,u,R,m):yk(T,u,R)}}if(!c)return v.length?Promise.all(v).then(()=>u):u;const g=[],y=d.keySet,b=c._zod,k=b.def.type;for(const _ of Object.keys(m)){if(y.has(_))continue;if(k==="never"){g.push(_);continue}const R=b.run({value:m[_],issues:[]},h);R instanceof Promise?v.push(R.then(I=>yk(I,u,_))):yk(R,u,_)}return g.length&&u.issues.push({code:"unrecognized_keys",keys:g,input:m,inst:e}),v.length?Promise.all(v).then(()=>u):u}}),eOe=Hr("$ZodRecord",(e,t)=>{kl.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!TTe(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=t.valueType._zod.run({value:i[l],issues:[]},r);c instanceof Promise?o.push(c.then(d=>{d.issues.length&&n.issues.push(...Jp(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...Jp(l,c.issues)),n.value[l]=c.value)}let a;for(const l in i)s.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else{n.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>a_(c,r,s_())),input:s,path:[s],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:i[s],issues:[]},r);l instanceof Promise?o.push(l.then(c=>{c.issues.length&&n.issues.push(...Jp(s,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...Jp(s,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),tOe=Hr("$ZodEnum",(e,t)=>{kl.init(e,t);const n=ETe(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>OTe.has(typeof r)).map(r=>typeof r=="string"?NTe(r):r.toString()).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),nOe=Hr("$ZodOptional",(e,t)=>{kl.init(e,t),e._zod.optin="optional",e._zod.optout="optional",yh(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),yh(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zse(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),rOe=Hr("$ZodNullable",(e,t)=>{kl.init(e,t),yh(e._zod,"optin",()=>t.innerType._zod.optin),yh(e._zod,"optout",()=>t.innerType._zod.optout),yh(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zse(n.source)}|null)$`):void 0}),yh(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),iOe=Hr("$ZodCustom",(e,t)=>{VTe.init(e,t),kl.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>Bq(o,n,r,e));Bq(i,n,r,e)}});function Bq(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(DTe(i))}}function oOe(e,t){return new e({type:"string",...Gh()})}function sOe(e,t){return new e({type:"number",checks:[],...Gh()})}function aOe(e){return new e({type:"any"})}function lOe(e,t){return new e({type:"date",...Gh()})}function cOe(e,t,n){const r=Gh();return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}const zc=Hr("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");kl.init(e,t),e.def=t,e.parse=(n,r)=>$Te(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Qse(e,n,r),e.parseAsync=async(n,r)=>UTe(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>eae(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>PTe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),dOe=Hr("ZodMiniString",(e,t)=>{GTe.init(e,t),zc.init(e,t)});function Ro(e){return oOe(dOe)}const uOe=Hr("ZodMiniNumber",(e,t)=>{JTe.init(e,t),zc.init(e,t)});function tae(e){return sOe(uOe)}const fOe=Hr("ZodMiniAny",(e,t)=>{ZTe.init(e,t),zc.init(e,t)});function Dq(){return aOe(fOe)}const hOe=Hr("ZodMiniDate",(e,t)=>{YTe.init(e,t),zc.init(e,t)});function pOe(e){return lOe(hOe)}const mOe=Hr("ZodMiniArray",(e,t)=>{XTe.init(e,t),zc.init(e,t)});function nae(e,t){return new mOe({type:"array",element:e,...Gh()})}const gOe=Hr("ZodMiniObject",(e,t)=>{QTe.init(e,t),zc.init(e,t),yh(e,"shape",()=>t.shape)});function w0(e,t){const n={type:"object",get shape(){return ATe(this,"shape",{...e}),this.shape},...Gh()};return new gOe(n)}const yOe=Hr("ZodMiniRecord",(e,t)=>{eOe.init(e,t),zc.init(e,t)});function wS(e,t,n){return new yOe({type:"record",keyType:e,valueType:t,...Gh()})}const vOe=Hr("ZodMiniEnum",(e,t)=>{tOe.init(e,t),zc.init(e,t)});function wOe(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new vOe({type:"enum",entries:n,...Gh()})}const bOe=Hr("ZodMiniOptional",(e,t)=>{nOe.init(e,t),zc.init(e,t)});function kO(e){return new bOe({type:"optional",innerType:e})}const _Oe=Hr("ZodMiniNullable",(e,t)=>{rOe.init(e,t),zc.init(e,t)});function wy(e){return new _Oe({type:"nullable",innerType:e})}const xOe=Hr("ZodMiniCustom",(e,t)=>{iOe.init(e,t),zc.init(e,t)});function bS(e,t){return cOe(xOe,e??(()=>!0))}function Ed(e){const t=new Uint8Array(e);let n="";for(const i of t)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function _S(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),i=atob(r),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return o}function c3(){return kOe.stubThis((globalThis==null?void 0:globalThis.PublicKeyCredential)!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const kOe={stubThis:e=>e};function rae(e){const{id:t}=e;return{...e,id:_S(t),transports:e.transports}}function iae(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}let ds=class extends Error{constructor({message:t,code:n,cause:r,name:i}){super(t,{cause:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i??r.name,this.code=n}};function SOe({error:e,options:t}){var r,i,o;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new ds({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new ds({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=n.authenticatorSelection)==null?void 0:o.userVerification)==="required")return new ds({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ds({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ds({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ds({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=globalThis.location.hostname;if(iae(s)){if(n.rp.id!==s)return new ds({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new ds({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}let IOe=class{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}};const oae=new IOe,EOe=["cross-platform","platform"];function sae(e){if(e&&!(EOe.indexOf(e)<0))return e}async function COe(e){var v;!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:n=!1}=e;if(!c3())throw new Error("WebAuthn is not supported in this browser");const r={...t,challenge:_S(t.challenge),user:{...t.user,id:_S(t.user.id)},excludeCredentials:(v=t.excludeCredentials)==null?void 0:v.map(rae)},i={};n&&(i.mediation="conditional"),i.publicKey=r,i.signal=oae.createNewAbortSignal();let o;try{o=await navigator.credentials.create(i)}catch(g){throw SOe({error:g,options:i})}if(!o)throw new Error("Registration was not completed");const{id:s,rawId:a,response:l,type:c}=o;let d;typeof l.getTransports=="function"&&(d=l.getTransports());let u;if(typeof l.getPublicKeyAlgorithm=="function")try{u=l.getPublicKeyAlgorithm()}catch(g){X5("getPublicKeyAlgorithm()",g)}let h;if(typeof l.getPublicKey=="function")try{const g=l.getPublicKey();g!==null&&(h=Ed(g))}catch(g){X5("getPublicKey()",g)}let m;if(typeof l.getAuthenticatorData=="function")try{m=Ed(l.getAuthenticatorData())}catch(g){X5("getAuthenticatorData()",g)}return{id:s,rawId:Ed(a),response:{attestationObject:Ed(l.attestationObject),clientDataJSON:Ed(l.clientDataJSON),transports:d,publicKeyAlgorithm:u,publicKey:h,authenticatorData:m},type:c,clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:sae(o.authenticatorAttachment)}}function X5(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function AOe(){if(!c3())return Q5.stubThis(new Promise(t=>t(!1)));const e=globalThis.PublicKeyCredential;return(e==null?void 0:e.isConditionalMediationAvailable)===void 0?Q5.stubThis(new Promise(t=>t(!1))):Q5.stubThis(e.isConditionalMediationAvailable())}const Q5={stubThis:e=>e};function ROe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=globalThis.location.hostname;if(iae(r)){if(n.rpId!==r)return new ds({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function TOe(e){var m,v;!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:n=!1,verifyBrowserAutofillInput:r=!0}=e;if(!c3())throw new Error("WebAuthn is not supported in this browser");let i;((m=t.allowCredentials)==null?void 0:m.length)!==0&&(i=(v=t.allowCredentials)==null?void 0:v.map(rae));const o={...t,challenge:_S(t.challenge),allowCredentials:i},s={};if(n){if(!await AOe())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&r)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');s.mediation="conditional",o.allowCredentials=[]}s.publicKey=o,s.signal=oae.createNewAbortSignal();let a;try{a=await navigator.credentials.get(s)}catch(g){throw ROe({error:g,options:s})}if(!a)throw new Error("Authentication was not completed");const{id:l,rawId:c,response:d,type:u}=a;let h;return d.userHandle&&(h=Ed(d.userHandle)),{id:l,rawId:Ed(c),response:{authenticatorData:Ed(d.authenticatorData),clientDataJSON:Ed(d.clientDataJSON),signature:Ed(d.signature),userHandle:h},type:u,clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:sae(a.authenticatorAttachment)}}const OOe={initStatus:"initStatusChanged",mfaToken:"mfaTokenChanged",projectSettings:"projectSettingsChanged",sessionExpiresAt:"sessionExpiresAtChanged",token:"tokenChanged",user:"userChanged"};var NOe=class extends No{constructor(e){super({cause:null,code:"invalid_retry_on_fail_call_error",docsUrl:null,name:"InvalidRetryOnFailCallError",shortMessage:`Invalid retries parameter for retryOnFail call: ${e}`})}};const POe=async({delay:e=0,fn:t,maxRetries:n})=>{for(let r=0;r<=n;r++)try{return await t()}catch(i){if(r>=n)throw i;e>0&&await new Promise(o=>setTimeout(o,e))}throw new NOe(n)},BOe=(e=Fr())=>!!(e.user||a3(e).length>0),Mq=rv({key:"projectSettingsExpiration",schema:tae()}),DOe=1e3*60*5,GD=async(e=Fr())=>{const t=Tn(e),n=await t.storage.getItem(Mq);if(e.projectSettings&&!(n&&n<Date.now())&&BOe(e))return e.projectSettings;const r=ao({},e);t.logger.debug("[fetchProjectSettings] Fetching project settings...");const o=await POe({fn:async()=>r.getEnvironmentSettings({environmentId:t.environmentId,sdkVersion:`${Cse}/${t.version}`},{credentials:"omit"}),maxRetries:2});return t.state.set({projectSettings:o??null}),await t.storage.setItem(Mq,Date.now()+DOe),o},MOe=e=>(e=(e==null?void 0:e.replace(/-/g,"+").replace(/_/g,"/"))||"",Uint8Array.from(atob(e),t=>t.charCodeAt(0))),jOe=e=>{const t=new Uint8Array(e),n=t.byteLength,r=t.slice(0,1+n>>>1);return r[0]=2|t[n-1]&1,r.buffer},$Oe=async()=>{const e=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t=await crypto.subtle.exportKey("raw",e.publicKey),n=await crypto.subtle.exportKey("jwk",e.privateKey),r=jOe(t);return{private:Oq(MOe(n.d)),privateJwk:n,public:Oq(r)}},aae=async e=>{const{private:t,public:n,privateJwk:r}=await $Oe(),i=Tn(e),o=JSON.stringify({privateKey:t,privateKeyJwk:r,publicKey:n,registered:!1}),s=Ase().from(o).toString("base64");return i.state.set({sessionKeys:s}),{privateKey:t,privateKeyJwk:r,publicKey:n}},LOe=()=>{const e=new Map;return{getByKey:t=>e.get(t),register:(t,n)=>e.set(t,n),unregister:t=>e.delete(t)}},UOe=e=>{const t=Tn(e),n=new Map;return a3(e).forEach(r=>{if(!n.has(r.walletProviderKey))try{const i=tTe({walletAccount:r},e);n.set(r.walletProviderKey,i)}catch(i){t.logger.debug("Wallet provider not found for wallet account",{error:i,walletAccount:r.address})}}),Array.from(n.values())},FOe=async e=>{const t=Tn(e),n=UOe(e);await Promise.all(n.map(async r=>{if(r.terminate&&await r.terminate(),r.disconnect)try{await r.disconnect()}catch(i){t.logger.error(`Error disconnecting from wallet ${r.key}`,i)}}))},JD=async(e=Fr())=>{const t=Tn(e);if(t.logger.debug("[logout] Logging out..."),await FOe(e),e.user!==null){const n=ao({},e);try{await n.revokeSession({environmentId:t.environmentId})}catch(r){t.logger.error("Failed to revoke session",r)}o_(e)&&Dse(`${Lse}=; Max-Age=-99999999; path=/; SameSite=Lax`)}t.state.set({captchaToken:null,legacyToken:null,mfaToken:null,sessionExpiresAt:null,sessionKeys:null,token:null,unverifiedWalletAccounts:[],user:null}),vl({event:"logout"},e),GD(e),aae(e)},WOe=(e,t)=>{let r=null,i=t;const o=()=>{i<=2147483647?r=setTimeout(e,i):r=setTimeout(()=>{i-=2147483647,o()},2147483647)};return o(),()=>{r!==null&&clearTimeout(r)}},qOe=e=>{const t=Tn(e);let n=null;const r=cTe(t.state,o=>o.sessionExpiresAt),i=()=>{const o=t.state.get().sessionExpiresAt;if(n==null||n(),!o)return;const s=new Date,a=o.getTime()-s.getTime();if(a<=0){JD(e);return}n=WOe(i,a)};r(i),i()},zOe=e=>{Tn(e).state.subscribe((t,n)=>{Object.entries(OOe).forEach(([r,i])=>{Wse(t[r],n[r])||vl({args:{[r]:t[r]},event:i},e)})})},VOe=w0({address:Ro(),addressesWithTypes:kO(nae(w0({address:Ro(),publicKey:kO(Ro()),type:bS(e=>typeof e=="string")}))),chain:bS(e=>typeof e=="string"),id:Ro(),lastSelectedAt:wy(pOe()),walletProviderKey:Ro()}),KOe=wS(Ro(),Ro()),lae=rv({key:"state",schema:w0({apiVersion:Ro(),projectSettings:bS(),unverifiedWalletAccounts:nae(VOe),user:bS(),walletProviderKeyMap:KOe})}),SO=rv({key:"session",schema:w0({captchaToken:wy(Ro()),legacyToken:wy(Ro()),mfaToken:wy(Ro()),sessionExpiration:tae(),sessionKeys:wy(Ro()),token:wy(Ro())})}),HOe=async e=>{const t=Tn(e),n=t.state.get(),r={},i=await t.storage.getItem(SO),o=(i==null?void 0:i.sessionExpiration)&&i.sessionExpiration>Date.now();o&&(r.token=i.token,r.legacyToken=i.legacyToken,r.sessionExpiresAt=new Date(i.sessionExpiration),r.mfaToken=i.mfaToken,r.captchaToken=i.captchaToken,r.sessionKeys=i.sessionKeys);const s=await t.storage.getItem(lae);(s==null?void 0:s.apiVersion)===Bse&&(r.unverifiedWalletAccounts=s.unverifiedWalletAccounts,r.walletProviderKeyMap=s.walletProviderKeyMap,o&&(r.user=s.user),(o||(s.unverifiedWalletAccounts??[]).length>0)&&(r.projectSettings=s.projectSettings)),Object.keys(r).length>0&&t.state.set(r),Use({previousState:n},e)},GOe=e=>{const t=Tn(e);t.state.subscribe(n=>{n.sessionExpiresAt===null?t.storage.removeItem(SO):t.storage.setItem(SO,{captchaToken:n.captchaToken,legacyToken:n.legacyToken,mfaToken:n.mfaToken,sessionExpiration:n.sessionExpiresAt.getTime(),sessionKeys:n.sessionKeys,token:n.token}),t.storage.setItem(lae,{apiVersion:Bse,projectSettings:n.projectSettings,unverifiedWalletAccounts:n.unverifiedWalletAccounts,user:n.user,walletProviderKeyMap:n.walletProviderKeyMap})})},JOe=async e=>{await HOe(e),GOe(e)};var ZOe=class extends No{constructor(){super({cause:null,code:"client_already_initialized_error",docsUrl:null,name:"ClientAlreadyInitializedError",shortMessage:"Client must not be initialized more than once"})}};const YOe=async(e=Fr())=>{const t=Tn(e);if(t.logger.debug("[initializeClient] Initializing client. Current init status",t.state.get().initStatus),t.state.get().initStatus!=="uninitialized")throw new ZOe;t.state.set({initStatus:"in-progress"}),qOe(e),zOe(e);const n=JOe(e),r=n.then(async()=>{t.state.get().projectSettings||await GD(e)}),i=r.then(async()=>{t.state.get().sessionKeys||await aae(e)}),o=r.then(async()=>{o_(e)&&await STe(e).catch(async s=>{if(s.status===401)e.user&&await JD(e);else throw s})});t.initTrack.track({name:yTe,promise:n}),t.initTrack.track({name:vTe,promise:r}),t.initTrack.track({name:wTe,promise:i}),t.initTrack.track({name:gTe,promise:o});try{await t.initTrack.waitForAll(),t.state.set({initStatus:"finished"})}catch(s){throw t.state.set({initStatus:"failed"}),s}e.user&&Fse(e)},d3=()=>typeof window>"u",XOe=()=>{let e=!0;const t=new HD,n=zse(),r=new Map,i=()=>{Array.from(r.values()).every(({status:l})=>l==="resolved")&&n.resolve()},o=({name:l,promise:c})=>{if(!e)throw new bTe;Promise.resolve().then(()=>e=!1),r.set(l,{promise:c,status:"pending"}),c.then(()=>{r.set(l,{promise:c,status:"resolved"}),t.emit("resolved",l),i()}).catch(d=>{r.set(l,{promise:c,status:"failed"}),t.emit("failed",l,d),n.reject(d)})},s=()=>n.promise;return{getTracker:l=>r.get(l),off:t.off.bind(t),on:t.on.bind(t),track:o,waitForAll:s}},QOe=()=>new HD;var ZD=class extends No{constructor(e){super({cause:null,code:"unavailable_in_server_side_error",docsUrl:null,name:"UnavailableInServerSideError",shortMessage:`This function is not available in server-side rendering: ${e}`})}};const eNe=()=>d3()?()=>Promise.reject(new ZD("createWebFetch")):window.fetch.bind(window),tNe=()=>d3()?()=>Promise.reject(new ZD("createNavigationHandler")):async e=>{window.location.href=e},nNe=()=>d3()?()=>Promise.reject(new ZD("createWebDeeplinkOpener")):async e=>{window.open(e,"_blank")},rNe=()=>({authenticate:e=>TOe(e),isSupported:()=>c3(),register:e=>COe(e)}),iNe=()=>{const e=new Map;return async({lockKey:t,callback:n,debounceTime:r=0})=>{const i=zse();e.has(t)||e.set(t,{nextCallback:null,queuePromise:Promise.resolve(),resolutionPromises:[],timer:null});const o=e.get(t);_l(o,`Mutex state for key ${t} not found`),o.resolutionPromises.push(i),o.timer&&clearTimeout(o.timer),o.nextCallback=n;const s=async()=>{o.queuePromise=o.queuePromise.then(async()=>{if(!o.nextCallback)return;const{nextCallback:a}=o;o.nextCallback=null;const l=o.resolutionPromises;o.resolutionPromises=[];try{await a(),l.forEach(c=>c.resolve())}catch(c){l.forEach(d=>d.reject(c))}})};return r>0?o.timer=setTimeout(s,r):await s(),i.promise}};var oNe=class extends No{constructor(e,t){super({cause:null,code:"invalid_storage_value",docsUrl:null,name:"InvalidStorageValue",shortMessage:`Tried to store state with a forbidden value. Key: ${e}, Value: ${t}`})}};const sNe=e=>{const t=new Set,n=(l,c)=>{t.forEach(d=>d(l,c))},r=l=>(t.add(l),()=>i(l)),i=l=>{t.delete(l)};let o=e();return{get:()=>o,getInitialState:e,set:l=>{const c=o;Object.entries(l).forEach(([d,u])=>{if(u===void 0)throw new oNe(d,u)}),o=Object.assign({},o,l),n(o,c)},subscribe:r,unsubscribe:i}},aNe="https://app.dynamicauth.com/api/v0",lNe=()=>({captchaToken:null,initStatus:"uninitialized",legacyToken:null,mfaToken:null,projectSettings:null,sessionExpiresAt:null,sessionKeys:null,token:null,unverifiedWalletAccounts:[],user:null,walletProviderKeyMap:{}}),cNe=e=>{var m,v,g,y,b,k,_,R;const t=((m=e.coreConfig)==null?void 0:m.apiBaseUrl)??aNe,n=((v=e.coreConfig)==null?void 0:v.logger)??_Te({level:e.logLevel}),r=mTe({prefix:`dynamic_${e.environmentId}`,storageAdapter:((g=e.coreConfig)==null?void 0:g.storageAdapter)??dTe()}),i=((y=e.coreConfig)==null?void 0:y.fetch)??eNe(),o=((b=e.coreConfig)==null?void 0:b.openDeeplink)??nNe(),s=((k=e.coreConfig)==null?void 0:k.navigate)??tNe(),a=sNe(lNe),l=iNe(),c=QOe(),d=XOe(),u=LOe(),h=((_=e.coreConfig)==null?void 0:_.passkey)??rNe();return{apiBaseUrl:t,debouncedMutex:l,environmentId:e.environmentId,eventEmitter:c,extensions:new Set,fetch:i,getApiHeaders:((R=e.coreConfig)==null?void 0:R.getApiHeaders)??(()=>({})),initTrack:d,logger:n,metadata:e.metadata,navigate:s,openDeeplink:o,passkey:h,runtimeServices:u,state:a,storage:r,version:i_}},dNe=e=>{const t=cNe(e),n={get __core(){return t},get initStatus(){return t.state.get().initStatus},get mfaToken(){return t.state.get().mfaToken},get projectSettings(){return t.state.get().projectSettings},get sessionExpiresAt(){return t.state.get().sessionExpiresAt},get token(){return t.state.get().token},get user(){return t.state.get().user}},r=e.autoInitialize??!0,i=d3()?!1:r;return t.logger.debug("[createDynamicClient] Creating client..."),i&&(t.logger.debug("[createDynamicClient] Initializing client..."),YOe(n)),N8e(n),n};var uNe=class extends No{constructor(){super({cause:null,code:"no_passkey_credentials_found_error",docsUrl:null,name:"NoPasskeyCredentialsFoundError",shortMessage:"No passkey credentials found"})}},YD=class extends No{constructor(){super({cause:null,code:"no_webauthn_support_error",docsUrl:null,name:"NoWebAuthNSupportError",shortMessage:"Browser does not support WebAuthn"})}};const fNe=async e=>{const t=Tn(e);return await ao({},e).getPasskeyRegistrationOptions({environmentId:t.environmentId})},hNe=async({registration:e,createMfaToken:t},n)=>{const r=Tn(n);return await ao({},n).registerPasskey({environmentId:r.environmentId,passkeyRegisterRequest:{...e,createMfaToken:t,response:{...e.response,clientDataJson:e.response.clientDataJSON}}})},pNe=async({createMfaToken:e}={},t=Fr())=>{const n=Tn(t);if(!n.passkey.isSupported())throw new YD;const r=await fNe(t),i=await hNe({createMfaToken:e,registration:await n.passkey.register({optionsJSON:r})},t);return Hh({response:i},t),i},mNe=async({relatedOriginRpId:e}={},t)=>{const n=Tn(t);return await ao({},t).getPasskeyAuthenticationSigninOptions({environmentId:n.environmentId,relatedOriginRpId:e})},gNe=async({authentication:e,createMfaToken:t},n)=>{const r=Tn(n);return await ao({},n).signinWithPasskey({environmentId:r.environmentId,passkeyAuthRequest:{...e,createMfaToken:t,response:{...e.response,clientDataJson:e.response.clientDataJSON}}})},yNe=async({relatedOriginRpId:e}={},t=Fr())=>{const n=Tn(t);if(!n.passkey.isSupported())throw new YD;const r={...await mNe({relatedOriginRpId:e},t)},i=await gNe({authentication:await n.passkey.authenticate({optionsJSON:r})},t);return Hh({response:i},t),i};rv({key:"redirectState",schema:w0({codeVerifier:kO(Ro()),provider:wOe(pn),state:Ro()})});rv({key:"legacyWalletBookCache",schema:w0({groups:wS(Ro(),Dq()),wallets:wS(Ro(),Dq())})});const vNe=async({userFields:e},t=Fr())=>{const n=Tn(t),r=await ao({includeMfaToken:!0},t).updateSelf({environmentId:n.environmentId,userFields:e});if(Hh({response:r},t),r.emailVerification)return{email:r.emailVerification.email,verificationUUID:r.emailVerification.verificationUUID};if(r.smsVerification)return{isoCountryCode:r.smsVerification.isoCountryCode,phoneCountryCode:r.smsVerification.phoneCountryCode,phoneNumber:r.smsVerification.phoneNumber,verificationUUID:r.smsVerification.verificationUUID}},wNe=async(e=Fr())=>vNe({userFields:{mfaBackupCodeAcknowledgement:Vu.Complete}},e),jq=async({code:e,createMfaTokenOptions:t},n=Fr())=>{const r=Tn(n),i=ao({},n);try{const o=await i.authMfaRecovery({environmentId:r.environmentId,mFAAuthRecoveryDevicePostRequest:{code:e,createMfaToken:t}});return Hh({response:o},n),vl({args:{mfaToken:o.mfaToken},event:"mfaCompletionSuccess"},n),o}catch(o){throw vl({args:{error:o},event:"mfaCompletionFailure"},n),o}},bNe=async({relatedOriginRpId:e}={},t)=>{const n=Tn(t);return await ao({},t).getPasskeyAuthenticationOptions({environmentId:n.environmentId,relatedOriginRpId:e})},_Ne=async({authentication:e,createMfaToken:t},n)=>{const r=Tn(n);return await ao({},n).authenticateMfaPasskeyDevice({environmentId:r.environmentId,passkeyAuthRequest:{...e,createMfaToken:t,response:{...e.response,clientDataJson:e.response.clientDataJSON}}})},xNe=async({createMfaToken:e,relatedOriginRpId:t}={},n=Fr())=>{var i;const r=Tn(n);try{if(!r.passkey.isSupported())throw new YD;const o=await bNe({relatedOriginRpId:t},n),s=(i=o.allowCredentials)==null?void 0:i.map(c=>({...c,type:"public-key"}));if(!(s!=null&&s.length))throw new uNe;const a={...o,allowCredentials:s},l=await _Ne({authentication:await r.passkey.authenticate({optionsJSON:a}),createMfaToken:e},n);return Hh({response:l},n),vl({args:{mfaToken:l.mfaToken},event:"mfaCompletionSuccess"},n),l}catch(o){throw vl({args:{error:o},event:"mfaCompletionFailure"},n),o}},kNe=async({deviceId:e,code:t,createMfaTokenOptions:n},r=Fr())=>{const i=Tn(r),o=ao({},r);try{const s=await o.authMfaTotpDevice({environmentId:i.environmentId,mFAAuthTotpDevicePostRequest:{code:t,createMfaToken:n,id:e}});return Hh({response:s},r),vl({args:{deviceId:e,mfaToken:s.mfaToken},event:"mfaCompletionSuccess"},r),s}catch(s){throw vl({args:{deviceId:e,error:s},event:"mfaCompletionFailure"},r),s}},$q=async(e=Fr())=>{const t=Tn(e);return ao({},e).createNewRecoveryCodes({environmentId:t.environmentId})},SNe=async({deviceId:e,mfaAuthToken:t},n=Fr())=>{const r=Tn(n),i=ao({},n);return _l(e,"deviceId is required"),_l(t,"mfaAuthToken is required"),i.deleteMfaDevice({environmentId:r.environmentId,mfaDeviceId:e,xMfaAuthToken:t})},eA=async(e=Fr())=>{const t=Tn(e),{devices:n}=await ao({},e).getUserMfaDevices({environmentId:t.environmentId});return n},INe=async(e=Fr())=>{const t=Tn(e);return ao({},e).getRecoveryCodes({environmentId:t.environmentId})},ENe=(e=Fr())=>{const t=e.user;return _l(t,"User not logged in"),t.mfaBackupCodeAcknowledgement!==Vu.Complete},CNe=async(e=Fr())=>{const t=Tn(e);return ao({},e).registerTotpMfaDevice({environmentId:t.environmentId})},ANe=async({deviceId:e},t=Fr())=>{const n=Tn(t),r=ao({},t);return _l(e,"deviceId is required"),r.updateUserMfaDevice({environmentId:n.environmentId,mfaDeviceId:e})};Hse(kse,i_);const RNe=({extensionKey:e},t)=>{Tn(t).extensions.add(e)};rv({key:"lastKnownNetworkRegistry",schema:wS(Ro(),Ro())});Hse(kse,i_);const XD=()=>{var e;return(e=Fr().token)!==null&&e!==void 0?e:void 0};let xS=null;const IO=new LD,TNe=e=>{xS=e,IO.emit("changed",e)},ONe=()=>xS!==null,Js=()=>{if(!xS)throw new Se("Tried to getClient when it was still null");return xS},cae=()=>{const[e,t]=x.useState(Js());return x.useEffect(()=>(IO.on("changed",t),()=>{IO.off("changed",t)}),[]),e},u3=e=>{const t=cae(),[n,r]=x.useState(t[e]);return x.useEffect(()=>{r(t[e]),mb({event:`${e}Changed`,listener:()=>r(t[e])},t)},[t,e]),n??void 0},vo=()=>u3("projectSettings");function bs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function de(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function NNe(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Lq={};function EO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&Lq[t[0]]||(typeof t[0]=="string"&&(Lq[t[0]]=new Date),NNe(...t))}const dae=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function Uq(e,t,n){e.loadNamespaces(t,dae(e,n))}function Fq(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,dae(e,r))}function PNe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const c=t.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}function BNe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(EO("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):PNe(e,t,n)}const DNe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,MNe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},jNe=e=>MNe[e],$Ne=e=>e.replace(DNe,jNe);let CO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$Ne};function LNe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};CO={...CO,...e}}function UNe(){return CO}let uae;function FNe(e){uae=e}function WNe(){return uae}const qNe={type:"3rdParty",init(e){LNe(e.options.react),FNe(e)}},fae=x.createContext();class zNe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const VNe=(e,t)=>{const n=x.useRef();return x.useEffect(()=>{n.current=e},[e,t]),n.current};function Xe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=x.useContext(fae)||{},o=n||r||WNe();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new zNe),!o){EO("You will need to pass in an i18next instance by using initReactI18next");const _=(I,T)=>typeof T=="string"?T:T&&typeof T=="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(I)?I[I.length-1]:I,R=[_,{},!1];return R.t=_,R.i18n={},R.ready=!1,R}o.options.react&&o.options.react.wait!==void 0&&EO("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...UNe(),...o.options.react,...t},{useSuspense:a,keyPrefix:l}=s;let c=i||o.options&&o.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(c);const d=(o.isInitialized||o.initializedStoreOnce)&&c.every(_=>BNe(_,o,s));function u(){return o.getFixedT(t.lng||null,s.nsMode==="fallback"?c:c[0],l)}const[h,m]=x.useState(u);let v=c.join();t.lng&&(v=`${t.lng}${v}`);const g=VNe(v),y=x.useRef(!0);x.useEffect(()=>{const{bindI18n:_,bindI18nStore:R}=s;y.current=!0,!d&&!a&&(t.lng?Fq(o,t.lng,c,()=>{y.current&&m(u)}):Uq(o,c,()=>{y.current&&m(u)})),d&&g&&g!==v&&y.current&&m(u);function I(){y.current&&m(u)}return _&&o&&o.on(_,I),R&&o&&o.store.on(R,I),()=>{y.current=!1,_&&o&&_.split(" ").forEach(T=>o.off(T,I)),R&&o&&R.split(" ").forEach(T=>o.store.off(T,I))}},[o,v]);const b=x.useRef(!0);x.useEffect(()=>{y.current&&!b.current&&m(u),b.current=!1},[o,l]);const k=[h,o,d];if(k.t=h,k.i18n=o,k.ready=d,d||!d&&!a)return k;throw new Promise(_=>{t.lng?Fq(o,t.lng,c,()=>_()):Uq(o,c,()=>_())})}function KNe(e){let{i18n:t,defaultNS:n,children:r}=e;const i=x.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return x.createElement(fae.Provider,{value:i},r)}var HNe="4.57.1";const GNe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class kS{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||GNe,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new kS(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new kS(this.logger,t)}}var Ad=new kS;let f3=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(r=>r!==n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach(s=>{s(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(s=>{s.apply(s,[t,...r])})}};function vw(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function Wq(e){return e==null?"":""+e}function JNe(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}function QD(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?[].concat(t):t.split(".");for(;o.length>1;){if(i())return{};const s=r(o.shift());!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={}}return i()?{}:{obj:e,k:r(o.shift())}}function qq(e,t,n){const{obj:r,k:i}=QD(e,t,Object);r[i]=n}function ZNe(e,t,n,r){const{obj:i,k:o}=QD(e,t,Object);i[o]=i[o]||[],i[o].push(n)}function SS(e,t){const{obj:n,k:r}=QD(e,t);if(n)return n[r]}function YNe(e,t,n){const r=SS(e,n);return r!==void 0?r:SS(t,n)}function hae(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):hae(e[r],t[r],n):e[r]=t[r]);return e}function Hg(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var XNe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function QNe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>XNe[t]):e}const ePe=[" ",",","?","!",";"];function tPe(e,t,n){t=t||"",n=n||"";const r=ePe.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o}function IS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;++o){if(!i||typeof i[r[o]]=="string"&&o+1<r.length)return;if(i[r[o]]===void 0){let s=2,a=r.slice(o,o+s).join(n),l=i[a];for(;l===void 0&&r.length>o+s;)s++,a=r.slice(o,o+s).join(n),l=i[a];if(l===void 0)return;if(l===null)return null;if(t.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}const c=r.slice(o+s).join(n);return c?IS(l,c,n):void 0}i=i[r[o]]}return i}function ES(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class zq extends f3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[t,n];r&&typeof r!="string"&&(a=a.concat(r)),r&&typeof r=="string"&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."));const l=SS(this.data,a);return l||!s||typeof r!="string"?l:IS(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),qq(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Object.prototype.toString.apply(r[o])==="[object Array]")&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=SS(this.data,a)||{};i?hae(l,r,o):l={...l,...r},qq(this.data,a,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var pae={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const Vq={};class CS extends f3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),JNe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ad.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!tPe(t,r,i);if(s&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),t=c.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),l=a[a.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const R=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${R}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l}:`${l}${R}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l}:s}const u=this.resolve(t,n);let h=u&&u.res;const m=u&&u.usedKey||s,v=u&&u.exactUsedKey||s,g=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&y.indexOf(g)<0&&!(typeof b=="string"&&g==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(u.res=R,u):R}if(o){const R=g==="[object Array]",I=R?[]:{},T=R?v:m;for(const M in h)if(Object.prototype.hasOwnProperty.call(h,M)){const D=`${T}${o}${M}`;I[M]=this.translate(D,{...n,joinArrays:!1,ns:a}),I[M]===D&&(I[M]=h[M])}h=I}}else if(k&&typeof b=="string"&&g==="[object Array]")h=h.join(b),h&&(h=this.extendTranslation(h,t,n,r));else{let R=!1,I=!1;const T=n.count!==void 0&&typeof n.count!="string",M=CS.hasDefaultValue(n),D=T?this.pluralResolver.getSuffix(c,n.count,n):"",A=n.ordinal&&T?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",U=n[`defaultValue${D}`]||n[`defaultValue${A}`]||n.defaultValue;!this.isValidLookup(h)&&M&&(R=!0,h=U),this.isValidLookup(h)||(I=!0,h=s);const q=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:h,z=M&&U!==h&&this.options.updateMissing;if(I||R||z){if(this.logger.log(z?"updateKey":"missingKey",c,l,s,z?U:h),o){const P=this.resolve(s,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let S=[];const E=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&E&&E[0])for(let P=0;P<E.length;P++)S.push(E[P]);else this.options.saveMissingTo==="all"?S=this.languageUtils.toResolveHierarchy(n.lng||this.language):S.push(n.lng||this.language);const N=(P,j,V)=>{const K=M&&V!==h?V:q;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,j,K,z,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,j,K,z,n),this.emit("missingKey",P,l,j,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?S.forEach(P=>{this.pluralResolver.getSuffixes(P,n).forEach(j=>{N([P],s+j,n[`defaultValue${j}`]||U)})}):N(S,s,U))}h=this.extendTranslation(h,t,n,u,r),I&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${s}`),(I||R)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,R?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(u.res=h,u):h}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const h=t.match(this.interpolator.nestingRegexp);d=h&&h.length}let u=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,r.lng||this.language,r),c){const h=t.match(this.interpolator.nestingRegexp),m=h&&h.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];return o&&o[0]===m[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):s.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=pae.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let u=c.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const h=n.count!==void 0&&typeof n.count!="string",m=h&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);u.forEach(y=>{this.isValidLookup(r)||(a=y,!Vq[`${g[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Vq[`${g[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(b=>{if(this.isValidLookup(r))return;s=b;const k=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(k,d,b,y,n);else{let R;h&&(R=this.pluralResolver.getSuffix(b,n.count,n));const I=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(k.push(d+R),n.ordinal&&R.indexOf(T)===0&&k.push(d+R.replace(T,this.options.pluralSeparator)),m&&k.push(d+I)),v){const M=`${d}${this.options.contextSeparator}${n.context}`;k.push(M),h&&(k.push(M+R),n.ordinal&&R.indexOf(T)===0&&k.push(M+R.replace(T,this.options.pluralSeparator)),m&&k.push(M+I))}}let _;for(;_=k.pop();)this.isValidLookup(r)||(o=_,r=this.getResource(b,y,_,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function tA(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Kq{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ad.create("languageUtils")}getScriptPartFromCode(t){if(t=ES(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ES(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=tA(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=tA(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=tA(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&o.indexOf(i)===0)return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let nPe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],rPe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const iPe=["v1","v2","v3"],oPe=["v4"],Hq={zero:0,one:1,two:2,few:3,many:4,other:5};function sPe(){const e={};return nPe.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:rPe[t.fc]}})}),e}class aPe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Ad.create("pluralResolver"),(!this.options.compatibilityJSON||oPe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=sPe()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(ES(t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Hq[i]-Hq[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!iPe.includes(this.options.compatibilityJSON)}}function Gq(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=YNe(e,t,n);return!o&&i&&typeof n=="string"&&(o=IS(e,n,r),o===void 0&&(o=IS(t,n,r))),o}class lPe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ad.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const n=t.interpolation;this.escape=n.escape!==void 0?n.escape:QNe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Hg(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Hg(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Hg(n.nestingPrefix):n.nestingPrefixEscaped||Hg("$t("),this.nestingSuffix=n.nestingSuffix?Hg(n.nestingSuffix):n.nestingSuffixEscaped||Hg(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(t,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(t,n,r,i){let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(v){return v.replace(/\$/g,"$$$$")}const d=v=>{if(v.indexOf(this.formatSeparator)<0){const k=Gq(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...i,...n,interpolationkey:v}):k}const g=v.split(this.formatSeparator),y=g.shift().trim(),b=g.join(this.formatSeparator).trim();return this.format(Gq(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>c(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?c(this.escape(v)):c(v)}].forEach(v=>{for(a=0;o=v.regex.exec(t);){const g=o[1].trim();if(s=d(g),s===void 0)if(typeof u=="function"){const b=u(t,o,i);s=typeof b=="string"?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))s="";else if(h){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=Wq(s));const y=v.safeValue(s);if(t=t.replace(o[0],y),h?(v.regex.lastIndex+=s.length,v.regex.lastIndex-=o[0].length):v.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;function a(l,c){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const u=l.split(new RegExp(`${d}[ ]*{`));let h=`{${u[1]}`;l=u[0],h=this.interpolate(h,s);const m=h.match(/'/g),v=h.match(/"/g);(m&&m.length%2===0&&!v||v.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${d}${h}`}return delete s.defaultValue,l}for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(u=>u.trim());i[1]=d.shift(),l=d,c=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=Wq(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),c&&(o=l.reduce((d,u)=>this.format(d,u,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}function cPe(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(!s)return;const[a,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=c),c==="false"&&(n[a.trim()]=!1),c==="true"&&(n[a.trim()]=!0),isNaN(c)||(n[a.trim()]=parseInt(c,10))})}return{formatName:t,formatOptions:n}}function Gg(e){const t={};return function(r,i,o){const s=i+JSON.stringify(o);let a=t[s];return a||(a=e(ES(i),o),t[s]=a),a(r)}}class dPe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ad.create("formatter"),this.options=t,this.formats={number:Gg((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Gg((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Gg((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Gg((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Gg((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Gg(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,l)=>{const{formatName:c,formatOptions:d}=cPe(l);if(this.formats[c]){let u=a;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=h.locale||h.lng||i.locale||i.lng||r;u=this.formats[c](a,m,{...d,...i,...h})}catch(h){this.logger.warn(h)}return u}else this.logger.warn(`there was no format function for ${c}`);return a},t)}}function uPe(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class fPe extends f3{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ad.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},l={};return t.forEach(c=>{let d=!0;n.forEach(u=>{const h=`${c}|${u}`;!r.reload&&this.store.hasResourceBundle(c,u)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,d=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),l[u]===void 0&&(l[u]=!0)))}),d||(a[c]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),r&&this.store.addResourceBundle(o,s,r),this.state[t]=n?-1:2;const a={};this.queue.forEach(l=>{ZNe(l.loaded,[o],s),uPe(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(u=>{a[c][u]===void 0&&(a[c][u]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(t,n,r,i,l):d=c(t,n,r,i),d&&typeof d.then=="function"?d.then(u=>a(null,u)).catch(a):a(null,d)}catch(d){a(d)}else c(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function Jq(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(e,t,n,r)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Zq(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function vk(){}function hPe(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class e1 extends f3{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Zq(t),this.services={},this.logger=Ad,this.modules={external:[]},hPe(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Jq();this.options={...i,...this.options,...Zq(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Ad.init(o(this.modules.logger),this.options):Ad.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=dPe);const u=new Kq(this.options);this.store=new zq(this.options.resources,this.options);const h=this.services;h.logger=Ad,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new aPe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new lPe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new fPe(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var v=arguments.length,g=new Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];t.emit(m,...g)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new CS(this.services,this.options),this.translator.on("*",function(m){for(var v=arguments.length,g=new Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];t.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=vk),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=vw(),c=()=>{const d=(u,h)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(u,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vk;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const o=[],s=a=>{if(!a)return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{o.indexOf(c)<0&&o.push(c)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=vw();return t||(t=this.languages),n||(n=this.options.ns),r||(r=vk),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&pae.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=vw();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{s(d,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let l;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),u=2;u<c;u++)d[u-2]=arguments[u];l=i.options.overloadTranslationOptionHandler([s,a].concat(d))}else l={...a};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix=l.keyPrefix||r||o.keyPrefix;const h=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(s)?m=s.map(v=>`${l.keyPrefix}${h}${v}`):m=l.keyPrefix?`${l.keyPrefix}${h}${s}`:s,i.t(m,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=vw();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=vw();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Kq(Jq());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new e1(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vk;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new e1(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new zq(this.store.data,i),o.services.resourceStore=o.store),o.translator=new CS(o.services,i),o.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];o.emit(a,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ys=e1.createInstance();Ys.createInstance=e1.createInstance;Ys.createInstance;Ys.dir;Ys.init;Ys.loadResources;Ys.reloadResources;Ys.use;Ys.changeLanguage;Ys.getFixedT;Ys.t;Ys.exists;Ys.setDefaultNamespace;Ys.hasLoadedNamespace;Ys.loadNamespaces;Ys.loadLanguages;const AO={dyn_sandbox_maximum_threshold:{title:"Max User Limit Reached",description:"Your sandbox environment has reached your 100 MAU limit. To test with new users, delete existing users.",button:"Back"},dyn_account_exists:{connect:"Connect with {{socialOauth}}",description_email:"It looks like an account already exists using",description_social:"To restore your account to the right place, we need you to log in again.",title:"Re-Authentication Required",trail_message_email:". Please log in with your email.",trail_message_social:"through {{socialOauth}}"},dyn_active_wallet_info:{testnet_warning:"A testnet network has been selected. Please only use testnet funds or they will be lost.",ordinals_address:"Ordinals address",payment_address:"Payment address",balance:"Total balance",options:{copy_ens:"Copy ENS",view_address:"View address",disconnect:"Disconnect",settings:"Wallet settings",export:"Export private keys"}},dyn_wallet_details_card:{header:"Wallet Details",address:"Address",copy:"Copy",copied:"Copied!"},dyn_add_network_view:{title:"Network unavailable",description:"This network is not supported in your {{name}} wallet.",add_button:{title:"Add Network"},cancel_button:{title:"Cancel"}},dyn_bridge:{summary_view:{connection_succeed:"Congratulations on connecting both your {{firstBlockchainName}} and {{secondBlockchainName}} wallets",title:"Welcome to {{appName}}"},welcome_view:{button:"Get started",description:"Youll need to connect both your {{firstBlockchainName}} and {{secondBlockchainName}} wallets to get started",title:"Connect to {{appName}}"},widget:{address:"Copy wallet address",connect:"Connect wallet",connect_with_network:"Connect {{blockchainName}} wallet",copy:{address:"Copy wallet address",ens:"Copy ENS"},disconnect:"Disconnect",edit_profile:"Edit profile",wallet_network:"{{networkName}} wallet"}},dyn_captcha:{verify_user_subtitle:"We need to quickly verify youre human before we proceed.",verify_user_title:"Let's verify you're human"},dyn_access_blocked:{title:"Access Blocked",content:"Logging in is not available to persons in {{jurisdiction}} as you are in a sanctioned jurisdiction."},dyn_chainalysis_blocked_wallet:{title:"Access denied"},dyn_collect_user_data:{description:"We need a bit of information to get started",fields:{alias:{label:"Alias"},country:{label:"Country"},email:{label:"E-mail",validation:"Email is not valid"},first_name:{label:"First Name"},job_title:{label:"Job Title"},last_name:{label:"Last Name"},phone_number:{label:"Phone number",validation:"Phone number is not valid",too_short:"Phone number is too short"},policies_consent:{label:"Policies Consent"},t_shirt_size:{label:"T-Shirt Size"},team:{label:"Team"},username:{label:"Username",validation:"Username is not valid"}},greeting:"Welcome to {{appName}}",log_out_button:"Log out",not_supported_network:{description:"Your wallet is not connected to a supported network. Please update before continuing.",error_message:"This network is not available, please update.",title:"Update Network"},update_email_tooltip:"This email is tied to your wallet so cannot be updated",update_phone_number_tooltip:"This phone number is tied to your wallet so cannot be updated",lock_editing_multiple_verified_fields:"You can only edit 1 field at a time that requires verification"},dyn_common:{aria:{collapsed:"Collapsed",expanded:"Expanded"}},dyn_create_password:{continue:"Continue",create_input:{label:"Create passcode",placeholder:"Create passcode"},confirm_input:{label:"Confirm passcode",placeholder:"Confirm passcode"},current_password_input:{label:"Current passcode",placeholder:"Current passcode"},description:"Choose a strong, unique passcode to ensure your account's security and privacy.",errors:{invalid_current_password:"Invalid current passcode",error_changing_password:"Error changing passcode",new_password_same_as_old:"New passcode cannot be the same as the old passcode",password_mismatch:"Passcodes do not match",user_closed_view:"User closed the view"},intro:{continue:"Set up a passcode",description:{title:"Add a passcode to protect your account",additional_protection:{title:"Passcode Security",description:"Add a secure passcode to further prevent un-authrized access to your account."},restore_access:{title:"Restore Access",description:"You will be asked to enter it when signing on to a new device."}},title:"Add a Passcode"},logout:"Log out",title:{create:"Create passcode",update:"Create new passcode"},update_input:{label:"New passcode",placeholder:"New passcode"}},dyn_creating_wallet:{loading_message:"Your wallet is being created..."},dyn_email_confirmation:{description:"Weve sent a verification email to",note:"Note: it might take a few seconds to proceed after clicking the link in your email",title:"Confirm your email"},dyn_email_update:{current_email:"Your current email address is",label:"Email address",send_verification:"Send Verification Code",title:"Update email"},dyn_otp_verification:{code_not_received:"Did not receive a code? Check spam or",code_sent:"Code sent",description:"Weve sent a verification code to",log_out_button:"Log out",resend_code:"Re-send code",resend_code_in:"Re-send code in {{remainingSeconds}}",confirm_code:"Confirm verification code",verification_succeeded:"Verification code confirmed",hang_tight:"Hang tight while we get things ready for you",email:{title:"Confirm your email",complete:"Verification complete, the email is now verified to this account."},phone_number:{title:"Confirm your phone number",edit:"Edit phone number",complete:"Verification complete, the phone number is now verified to this account."}},dyn_deposit:{title:"Deposit",receive_funds_on:"You can receive tokens on "},dyn_exchange_transfer_confirmation:{title:"Deposit Confirmation",from:"From",to:"To",fee:"Network Fee",fee_not_found:"N/A",receive:"Receive",cost:"Amount + Fees",cost_no_fee:"Amount",terms:"By confirming I agree to the Terms of Service and acknowledge this deposit is final.",send:"Send {{fiatCurrency}} {{fiatCurrencySymbol}}",confirm:"Confirm",cancel:"Cancel",account:"User {{exchange}}"},dyn_deposited_exchange:{title:"Deposited",description:" was successfully deposited to {{address}}",done:"Done",view:"View Transaction"},dyn_exchange_mfa:{title:"Confirm Verification Code",placeholder:"Enter Verification Code Here",description:"Enter the code sent to you or generated by your authenticator app",button:"Confirm"},dyn_exchange_whitelist_warning:{title:"Whitelisting Required",description:"To complete your first transfer with {{exchange}}, please follow these steps:",step1:{kraken:"Open Kraken. Click Transfer, then Withdraw"},step2:"Whitelist your wallet address",step3:"Complete the first transfer on {{exchange}}",view_instructions:"View Instructions",done:"Im Done",address:"Your Wallet Address",open:"Open {{exchange}}"},dyn_fund_from_exchange:{title:"Fund from Exchange"},dyn_exchange_transfer_errors:{title:"Unable to execute transfer.",mfa_failed:"Incorrect security code. Please double-check your MFA code and try again.",invalid_currency_description:"Please choose a supported currency and try again.",invalid_balance:"This transfer, including fees, exceeds your available balance. Transfer a smaller amount.",amount_too_small:"The amount youre trying to transfer is below the minimum allowed by the selected exchange. Please enter a larger amount and try again.",address_not_whitelisted:"The destination address is not whitelisted on this exchange. Please add it to your whitelist before retrying the transfer.",unknown:"An unknown error occurred."},dyn_embedded_authenticator:{description:"Protect your account and simplify your transaction experience.",email:{badge:"Fastest",description:" You will need to renew after {{expiration}} minutes ",title:"Use a one-time code"},passkey:{auth_info:{convinience:{title:"Convenient and Fast",description:"Use Face ID or Touch ID to complete transactions quickly."},security:{title:"Increased Security",description:"Passkeys are encrypted end-to-end on your device or password manager to prevent phishing attempts."},add_button:"Add a passkey",start_button:"Add a passkey"},no_email_auth_info:{convinience:{title:"Simple and Fast",description:"Works across devices and syncs between devices and browsers."},security:{title:"Secured with a bio-metric",description:"Phishing resistant and encrypted."},add_button:"Add passkey",start_button:"Add passkey"},badge:"Recommended",description:"Works across devices & secured with biometric to prevent phishing attempts ",title:"Create new passkey",reveal_title:"Add a passkey"},skip:"Not now",title:"Account security",need_help_title:"Problem Signing?",need_help_description:"Select from an option below to complete",reveal_title:"Verification Required",reveal_description:"Choose a verification method."},dyn_enter_password:{continue_button_label:"Continue",description:"Please enter your passcode below to continue.",error:{invalid_password:"Invalid passcode"},input:{label:"Passcode",placeholder:"Passcode"},title:"Enter passcode"},dyn_farcaster_connect_view:{copy_button:"Copy QR URI",scan_title:"Scan this QR code from your mobile app or phone's camera to connect."},dyn_login:{connect_wallet:{title:"Connect"},email_form:{email_field:{label:"Enter your email"},submit_button:{label:"Continue"}},email_or_phone:{use_email:"Use email",use_phone:"Use phone",prefer_email:"Prefer email sign up?",prefer_phone:"Prefer phone number sign up?"},helper:{all_wallet_list:"Get your first wallet",email_form:{invalid_email:"Invalid or incorrect email. Did you mistype it?"},pending_connect:{title:"Connecting a wallet"},pending_signature:{title:"Signing a wallet"},pending_signature_without_back_button:{title:"Signing a wallet"},phone_number_form:{invalid_phone:"Invalid or incorrect number. Did you mistype it?",invalid_sms_verification:"The code you entered is incorrect. Please try again.",too_many_sms_verification_attempts:"Too many verification attempts, please try again later."},qr_code:{title:"Connecting a wallet"},wallet_only:"Get your first wallet"},passkey:{button_label:"Sign in with Passkey"},qr_code:{title:"Connect"},separators:{default:"OR"},sign_wallet:{title:"Sign"},select_wallet_in_wallet_group:{title:"Select"},social:{button_label:"Continue with {{provider}}",overlay_title:"Choose a social account"},title:{all:"Log in or sign up",all_wallet_list:"Select your wallet",wallet_only:"Select your wallet"},wallet_group:{title:"Select Chain"},wallet_list:{button_only:"Continue with a wallet"},mobile_wallet_redirect:{backup_title:"Connect mobile app",prompt:"Tap 'Open' to continue",get_app_prompt:"Get",open_prompt:"Open",redirect_fail_message:"If the app doesn't open, you might need to download the {{walletName}} Wallet app.",app_store:"App Store",play_store:"Play Store"},wrong_social_account:{retry_button:"Try again",retry_title:"Please connect with: ",subtitle:"You must connect with the same account you originally signed in with.",title:"Whoops. Wrong Account"}},dyn_manage_passkeys:{title:"Manage passkeys",passkey_from:"from",passkey_providers:{android:"Android Phone",brave:"Brave Browser",chrome:"Google Chrome",edge:"Microsoft Edge",firefox:"Firefox",iPhone:"iPhone",opera:"Opera Browser",safari:"Safari Browser",passkey:"Passkey"},passkey_rename:"Rename",passkey_delete:"Delete",recovery_button:"Set up new passkey"},dyn_rename_passkeys:{error:"Whoops! There was an error updating your passkey",input_label:"Passkey name",save:"Save",title:"Rename your passkey",not_found:"No passkeys found"},dyn_embedded_reveal:{title:"Export wallet",agreement_title:"Agree to continue",prompt_for_export_title:"Back up wallet key",private_key_title:"Export Key",recovery_phrase_title:"Secret recovery phrase",badge_label:"Sensitive information",prompt_for_export_description:"Your wallet is ready. Back up your key to protect your assets.",statement_1:{title:"Non-custodial wallet",description:"You're always in control"},statement_2:{title:"Keep your key private. It controls your account and assets."},checkbox_label:"I am responsible for safeguarding and using my wallet key information.",reveal_description:"Make sure to safely back up this information",skip_button_label:"Skip for now",reveal_button_label:"Reveal",backup_button_label:"Back up now",copy_button_label:"Copy to clipboard",done_button_label:"I'm Done",aa_warning:{title:"Your assets are not in this wallet.",subtitle:"This is a smart-contract wallet. You will not see your balance if you import this to an external service. Please send your assets to your preferred external wallet first to access your funds:",button:"here"},unlink:"Unlink wallet info"},dyn_embedded_delete:{title:"Unlink from app",description_1:"By continuing you acknowledge that if you return to the application, you will receive a new wallet address.",description_2:"Once unlinked, you cannot recover any wallet information through this application including any associated smart contract wallets.",acknowledgement:"I have safely backed up my wallet seed phrase information. If I return to this application, a new wallet will be created for me.",cancel_button:"Cancel",action_button:"Unlink & Log out"},dyn_settings:{account_permissions_section:{title:"Account Permissions",delegated_wallets_button:"Delegated Wallets"},global_connectivity_section:{title:"Global Connectivity",connected_apps_button:"Connected Apps"},export_section:{backup_button:"Backup Key Share",export_button:"Export Private key",private_key_button:"Private key",srp_button:"Recovery phrase",title:"Export & Backup"},identity_section:{title:"Recovery",add_email_button:"Add an email"},tags:{recommended:"Recommended"},security_section:{email_auth_button:"One time code",passkey_button:"Passkeys",password_button:"Passcode",mfa_button:"Authenticator App",title:"2 factor authentication"},mfa_section:{title:"MFA",passkey_button:"Passkeys",totp_button:"TOTP"},wallet_security_section:{title:"Wallet Security",passkey_button:"Passkeys"},title:"Settings",button_logout:"Log out",account_security:{title:"Account & Security"},empty_screen:{title:"Nothing to see here yet!"},delete_account:{title:"Delete My Account",description:"Deleting your account will permanently remove all data, including wallet details and linked smart contract wallets. This action cannot be undone.",backup_confirmation_embedded:"I confirm I've backed up my wallet keys. If I proceed, a new wallet will be created. Any wallets or assets not backed up will be lost permanently.",backup_confirmation_no_embedded:"I confirm that all of my information will be deleted. If I return, a new user profile will be created. These changes cannot be undone.",type_delete:"Enter DELETE in the box below to confirm this action.",cancel:"Cancel",confirm:"Delete Account",deleting:"Deleting...",type_delete_label:"Type to confirm"},session_management:{title:"Security Settings",session_management_button:"Session Management"}},global_wallet:{connect_to_apps:"Connect to apps",scan_qr_code:"Scan QR Code",or:"OR",walletconnect_uri:"WalletConnect URI",the_dapp:"the dApp",this_app:"this app",confirm:{title:"Confirm Connection",description:"Are you sure you want to connect to {{name}}?",cancel_button:"Cancel",connect_button:"Connect"},banner:{warning:"There was an error connecting to {{name}}.",success:"Successfully connected to {{name}}.",already_connected:"You are already connected to {{name}}.",expired:"The link you entered expired, please get a new URI from the app.",bad_input:"Invalid URI. Please check below for how to find the valid URI."},help:{title:"How do I find the URI code?",step:{1:"1. Go to the website you want to connect to",2:'2. Locate the "Connect" or "Login" button',3:"3. Open WalletConnect from the list"},learn_more:"Learn more about global wallets"},malicious_site:{certain:{title:"Malicious app detected!",subtitle_header:"Risk of losing funds",subtitle_text:"The site is known to exploit and or take assets from connected wallets.",go_back:"Cancel",proceed:"Proceed"},unknown:{title:"Site verification did not run.",subtitle_header:"Double check the app",subtitle_text:"We were unable to verify the vailidity of the app at this time.",go_back:"Cancel",proceed:"Proceed"}},connected_apps:{title:"Connected Apps",subtitle:"Connected apps allow you to interact with your wallet on other platforms.",success:"Successfully connected to {{name}}.",delegate_wallets:{title:"Delegated Wallets",button:"Delegated Wallets"}}},wallets_delegated:{title:"Wallets Delegated",subtitle:"Delegated wallets allow you to interact with your wallet on other platforms."},dyn_manage_mfa:{title:"Authenticator App",add_mfa_button:"Authenticator App",no_devices:"No authenticator apps configured",generate_backup_codes_button:"Get new backup codes",delete:"Delete"},dyn_manage_passkeys_mfa:{title:"Passkeys",add_passkey_button:"Passkey",no_passkeys:"No passkeys set up yet"},dyn_waas:{backup_unsuccessful:{title:"Let's try that again",description:"It looks like setup didn't finish all the way. Click below and we'll get you back on track.",try_again:"Try Again",log_out:"Log Out"},backup_info:{title:"About Backup",subtitle:"Why backup as shares?",description:"As a security best practice, you can store two independent recovery shares. This lets you restore your wallet from your own backups alone, giving you full control over the recovery process",warning:"You'll need both parts to recover your wallet, and they should never be stored together"},backup:{title:"Backup Key Share",subtitle:"Secure your wallets as a two-part backup. One part saved to your cloud, the other to your device. You will need both to recover your wallets.",checkbox_label:"I understand I must keep both parts secure and separate",continue_button:"Continue to Backup",cloud_backup_title:"1. Cloud Backup",cloud_backup_subtitle:"Back up your first key share to a cloud provider",cloud_backup_header:"Cloud Backup",backup_to_google_drive:"Backup to Google Drive",backup_to_icloud:"Backup to iCloud",icloud_ready_title:"Sign in to backup",icloud_ready_subtitle:"Sign in with your Apple ID below, then continue to backup your wallet.",sign_in_with_icloud:"Sign in with iCloud",continue_backup:"Continue",progress_title:"Backing up {{current}} of {{total}} wallets...",progress_initializing:"Preparing backup...",progress_subtitle:"Securely saving to your cloud. Don't close this window",progress_complete:"Backup complete!",google_drive_title:"Backup Key Share",google_drive_description:"Back up your wallet to help protect your access and recover it if needed.",google_drive:"Google Drive",backed_up:"BACKED UP",google_drive_subtitle:"Secure cloud backup with your Google account.",back_up:"Back Up",error:"Failed to back up wallet. Please try again.",download_title:"2. Download",download_subtitle:"Download your second key share and store it securely on your local device",download_key_share:"Download Key Share",downloading:"Downloading...({{current}}/{{total}})",download_complete:"Download Complete",download_error:"Failed to download key share. Please try again.",success_title:"Backup Successful",success_description_one:"Your local key shares have been successfully downloaded for {{count}} wallet. Store these files securely and separately from your cloud backup.",success_description_other:"Your local key shares have been successfully downloaded for {{count}} wallets. Store these files securely and separately from your cloud backup.",done:"Done",error_title:"Cloud backup failed. Don't worry, your account is still safe.",error_try_again:"Try Again"}},dyn_mfa:{choose_device_view:{title:"Secure your account",select_options:"Protect your account by adding multi-factor authentication",authenticator_app:"Authenticator app",authenticator_app_description:"Use your preferred authenticator app such as Authy, Google Authenticator, etc.",passkey:"Passkey",passkey_description:"Works across devices & secured with biometrics to prevent phishing attempts.",backup_code:"Backup code",backup_code_description:"Enter one of your saved backup codes to authenticate.",choose_another_method:"Choose another method",choose_another_method_description:"Use one of the methods below:",logout:"Log out"},display_backup_codes_view:{title:"Back up your codes",body:"Backup codes help recover your account if you lose access to your device. Each code can be used only 1 time.",warning:"You wont be able to see these again",copy_all:"Copy all",download:"Download",checkbox:"I've safely stored a copy of my backup codes",complete:"Complete"},otp_verification_view:{title:"Confirm verification code",body:"Enter the verification code generated by your authenticator app",error:"Invalid code. Please try again.",rate_limit_error:"Too many attempts, please try again later.",choose_another_method:"Use a different method",logout:"Log out"},secure_device_view:{title:"Secure your account",body:"Setup a new sign-in method in your authenticator app",continue:"Continue",helper:{button:"Can't scan QR Code?",title:"Troubles with scanning?",step1:{title:"Open your Authenticator App",description:"You will set up a new sign-in method"},step2:{title:"Enter the key provided below",description:"Make sure time-based or one-time password is enabled."},uri:{title:"Copy the full URI",description:"This only works if your authenticator app supports TOTP URIs"}},logout:"Log out"},recovery_view:{title:"Enter your backup code",body:"Your backup code is one of the 10 codes you received when you first enrolled in multi-factor authentication",input_label:"Enter back up code",button_label:"Continue",get_help:{description:"Missing your back up codes?",button_label:"Get Help"},helper:{title:"Mfa Recovery Help"}},setup_passkey_view:{title:"Set up your passkey",description:"Passkeys help safeguard your account and make access easier. Finish set up in just a few seconds."},confirm_passkey_view:{title:"Confirm your passkey",description:"Use your saved passkey to verify your identity and continue securely.",error:{not_allowed:"The passkey request timed out or was rejected."}}},dyn_merge_user_accounts:{confirm_button:"Merge accounts",errors:{merge_error:"Something went wrong, please try again."},wallet:{content:"This wallet is associated to another account. Would you like to merge accounts?",title:"Wallet already in use"}},dyn_merge_user_accounts_conflicts:{confirm_button:"Confirm & Merge",description:"You have some conflicting information. Please select your preferences",errors:{merge_error:"Something went wrong, please try again."},title:"Confirm your preferences"},dyn_merge_user_accounts_with_same_email:{cancel_button:"No, I'll use a different email",confirm_button:"Yes, link to existing account",errors:{merge_error:"Something went wrong, please try again."},existing_account:"An account already exists that uses",existing_account_trail:"email.",title:"Would you like to link this wallet to this existing account?"},dyn_need_help_section:{info:{v1:"Need Help?",not_v1:"Need help? Get in touch:"},contact_support:"Contact support",divider:"or",help_button:"Go here for support",visit_platform:"Visit {{platform}}"},dyn_network_not_supported:{button:"Switch Network",subtitle:"Your wallet is not connected to a supported network. Please update before continuing.",title:"Update Network",warning_message:"This network is not available, please update.",wallet:"Not Supported"},dyn_network_not_supported_manual_switch:{subtitle_network_defined_metamaskstarknet:"To continue, please update the network in your wallet to {{network}} by visiting the Starknet Snap",subtitle_network_defined_metamaskstarknet_companion_app:"companion app",subtitle_network_defined:"To continue, please update the network in your wallet to {{network}}",subtitle_no_network_defined:"Your wallet does not support switching networks from this app. Switch networks directly in your wallet.",title:"Update your Network",warning_message:"This network is not available, please update."},dyn_no_access:{chainalysis:{button_text:"Try another method",description:"This wallet has been correlated to illicit activity and cannot access this site.",social_media_link_text:"Why am I seeing this message?",social_media_link_url:"https://docs.dynamic.xyz/docs",title:"This address seems corrupted."},default:{button_text:"Try another method",description:"You are not currently on the allow list.",title:"Access denied"},gate:{button_text:"Try a different wallet",description:"A NFT or a token is required to access this site.",title:"You cannot access the site"},not_in_the_list_image_alt:"user is not in the list",title:"You don't have access"},dyn_magic_verification:{banner_text:"Sign in to access your email based wallet"},dyn_passkey_success:{created:"A new passkey has been created",edited:"Your passkey has been edited"},dyn_passkey_intro:{button:"Set up a passkey",button_logout:"Log out",button_skip:"Skip for now",disabled:"Passkeys are not available on this device or browser. Please open on Chrome, Safari, or Brave to continue",helper:{section_1:{description:"Passkeys are a standard built by Apple, Google and others, and eliminates the use of passwords.",title:"Built by Apple and Google"},section_2:{description:"Passkeys are stored on your phone and are not shared with anyone.",title:"Secure and Private"},title:"What's Passkey",tooltip:"Need some help?"},sms_auth:{title:"Finish set up",description:"Add a security method to finish your profile and complete transactions"},subtitle:"Passkeys are stored natively to your device with a biometric and can only be accessed by you.",title:"Secure your wallet"},dyn_passkey_new_domain_detected:{title:"New domain detected",description:"To complete your transaction select a signing method",actions:{passkey:{title:"Add new passkey",subtitle:"Does not expire. Works across devices & secured with biometric."},emailAuth:{title:"Use a one-time code",subtitle:"Allows you to transact for 30 min"},badges:{recommended:"Recommended",fastest:"Fastest"}}},dyn_passkey_recovery:{add_email:{description:"Dont get locked out if you delete your passkey or lose your device.",input_label:"Enter your email",title:"Add a recovery email",confirm_button:"Confirm with a passkey",skip_button:"Skip for now",success_message:"Recovery email added!"},code:{description:"A verification code has been sent to {{email}}",input_label:"Enter your code here...",title:"Verification code sent",resend:{button:"Resend code",text:"Didn't receive a code?"}},complete:{complete_button:"Create a passkey",description:"Secure your wallet by adding a new passkey.",title:"Create a new passkey"},start:{description:"To complete this process, ensure you are using the same device/browser.",start_button:"Send me an email",title:"Initiate Request"}},dyn_pending_connection:{title:"Connect",mobile:"Click connect in your mobile wallet",computer:"Click connect in your wallet popup"},dyn_pending_signature:{click_to_sign:"Click to Sign",link_wallet_message:"Sign the message in your wallet to approve linking this wallet to your account",note:"Note: ",phantom_ledger_sign:"Click sign in your wallet to confirm you own this wallet (this doesn't cost gas).",phantom_ledger_warning:"Ledger doesn't support message signing. When logging in, a small fee (which should not apply) may appear. See below to learn more.",regular_sign_description:"Click sign-in in your wallet to confirm you own this wallet."},dyn_qr_code:{copy_button:"Copy QR URI",get_extension_button:"Get Extension",open_button:"Open App",scan_title:"Scan this QR code from your mobile {{app}} or phone's camera to connect.",wallet_not_installed:{browser_install:"Install {{browser}} extension",install:"Install {{wallet}} extension to connect",refresh:"Refresh the page once installed",select:"Select from your preferred options below:"}},dyn_wallet_locked:{connect_continue:"Connect your wallet to continue",title:"Welcome back",subtitle:"We couldn't connect to your wallet. Click connect to retry the connection ",connect:"Connect wallet",logout:"Log out"},dyn_passkey_secure_modal:{code:{action_based_description:"To {{action}} verify account.",description:"A secure code has been sent to {{email}}.",input_label:"Enter your code here...",title:"Verification code sent",resend:{button:"Resend code",text:"Didn't receive a code?"},complete_transaction_action:"complete transaction",sign_message_action:"sign this message"},complete:{complete_button:"Create a passkey",description:"Passkeys are stored natively to your device with a biometric and can only be accessed by you.",title:"Secure your account"},start:{description:"A one-time security code will be sent to the email on file. It will expire in 15 minutes.",start_button:"Send me an email",title:"Send Email Code"}},dyn_save_password:{badge_text:"Important!",checkbox_label:"I have safely stored a copy of my passcode.",continue:"Continue",copy_button:{copy:"Copy",copied:"Copied"},description:"You must retain a copy of this passcode.",download_button:"Download",logout:"Log out",password_input:{label:"Passcode",placeholder:"Passcode"},title:"Save passcode",warning:"If you lose your passcode, you cannot recover access to your account."},dyn_secure_pregenerated_wallet:{description:"Make transactions simpler and more secure.",action:"Get started"},dyn_duplicate_wallet:{title:"Choose Another Wallet",description:"Youve selected the same wallet for both sending and receiving. To continue, choose a different wallet.",return:"Return to wallet list"},dyn_secondary_wallet:{title:"Select Wallet",copy_address:"Copy address",view_address:"View address",copy_ens:"Copy ENS",view_ens:"View ENS",unlink:"Unlink",switch_wallet:"Switch wallet",unlink_from_account:"Unlink from my account",disconnect_from_account:"Disconnect from my account",export:"Export private keys",connect_new:"Connect new",link_new:"Link new"},dyn_send_transaction:{confirmation:{cancel_button:"Cancel",confirm_button:"Confirm",send:"Confirm",data:{amount:"Amount",from:"From (You)",gas:"Gas",gas_estimate:"Network Fee",to:"To",total:"Total",wallet_used:"Wallet used",network:"Network",recipient:"Recipient",destination:"Interacting with",gas_tooltip:"Gas fees are charged by the network and can change quickly based on usage.",sending:"Sending",receiving:"Receiving",transfer:{send:"Send",receive:"Receive"}},not_applied:"N/A",title:"Confirm transaction"},data:{amount:{label:"Amount",placeholder:"Enter amount"},balance:{label:"Balance:"},from:"Send from",send:"Send",send_preview:"Send Preview",confirmation_tx:"Confirm Transaction",banner:"You're nearly done! Confirm transaction to proceed.",recipient:{label:"Address",placeholder:"Enter wallet address..."}},multiple_recipients:"Multiple",preview_transaction:"Preview transaction",send_button:"Send now",succeeded:{continue_button:"Done",network:{label:"Network"},recipient:{label:"Recipient"},title:"Transaction successfully sent to",total_amount:{label:"Total amount"}},validation:{amount:{invalid_decimals:"Please enter a value up to the {{decimals}}th decimal place.",invalid_format:"The amount is in invalid format",over_balance:"Insufficient funds to send this amount.",required:"The amount field is required"},recipient:{invalid_format:"The address is in invalid format",required:"The recipient is required"}},info_message:{refresh_balance_time:"Your balance may take up to 30s to refresh."},warning_message:{insufficient_funds:{title:"Insufficient funds",description:"Insufficient funds for transaction. Please add {{amountLeft}} {{currencySymbol}} to continue."},insufficient_gas_funds:{title:"Insufficient gas funds",description:"Please add {{amountLeft}} {{currencySymbol}} to continue."},failed_simulation:{title:"Transaction expected to fail",description:"Something went wrong. Check your balances and try again."}},error_message:{gas_not_sponsored:"The gas fee has increased. Confirm if you still want to complete this transaction."}},dyn_select_chain:{description:"This wallet supports multiple chains. Select which chain you'd like to connect to",using_hardware_wallet_toggle_label:"Using Ledger"},dyn_select_wallet:{description:"Select your preferred {{walletName}} wallet?"},dyn_select_hardware_wallet:{title:"Connect",description:"This wallet supports using ledger. Toggle on ledger to enable it.",using_hardware_wallet_toggle_label:"Using Ledger with {{chainName}}",button:"Connect"},dyn_session_key_approval:{aria:{close_button_label:"Close"},title:"Approve Access",description:"Youre granting this site access. Review the permissions before confirming.",approve_button:"Approve",reject_button:"Deny"},dyn_session_management:{aria:{back_button_label:"Back",info_button_label:"Info",close_button_label:"Close"},title:"Session Management",empty_sessions_view:{loading:"Loading sessions...",title:"No active sessions found"},info_view:{title:"Connected App Sessions",description_bold:"Easily manage which apps have access to your wallet. ",description_2:"Each session represents a connection you've made with a site or app.",description_3:"You can revoke access anytime to stay in control of where and how your wallet is used.",continue_button:"Continue"},revoke_access_view:{title:"Revoke Access",description:"You're removing this site's permissions. Confirm to revoke access.",cancel_button:"Cancel",revoke_button:"Revoke",success_message:"Revoked {{sessionName}}",error_message:"Failed to revoke {{sessionName}}"},session_component:{aria:{collapse_permissions:"Collapse",expand_permissions:"Expand"},permission_details:"Permission details",revoke_button:"Revoke"}},dyn_session_permissions:{permissions_label:"Permissions",permissions:{ownership:"Act on your behalf",access:"Access ends automatically in {{time}}"},spending_label:"Allow Spending",spending_limit:"Can spend up to:",advanced_label:"Advanced",advanced_description:"Session information",connected:"Connected: {{time}} ago"},dyn_sign_message:{cancel_button:"Reject",sign_button:"Sign",title:"Signature request",warning:"Only sign this message if you trust this site.",message_label:"Message:"},dyn_social_redirect:{logging_in:"Logging you in"},dyn_wallet_redirect:{loading:"Loading..."},dyn_time_since:{second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years",ago:"ago",created:"Created"},dyn_wallet_conect:{mobile:{wallet_list:{helper:"Get your first wallet",title:"WalletConnect wallets"}}},dyn_pending_account_switch_to_link:{title:"Wallet is already linked, switch wallet in {{walletName}}",description:"To link a new wallet, open {{walletName}} and switch to the account you want to link."},dyn_wallet_link:{cannot_link:{cancel_button:"Cancel",description:"This wallet is the only wallet in your other account. You cannot transfer it, since then you will lose access to that account.",link_other_button:"Link a different wallet",title:"Cannot link this wallet to a new account"},confirm_button:"Link wallet to current account",existent_account:{acceptance:"I understand that linking this wallet means that I will lose access to the other account.",warning:"Linking your wallet to this account will unlink it from its previously associated account"},log_out_button:"Log out",title:"Transfer this wallet?",already_exists:{title:"Wallet Already Linked",description:"This wallet is already used as an embedded wallet. You cannot link it unless you delete the existing embedded wallet."}},dyn_wallet_list:{configuration_mismatch:"Oops, no login methods have been configured.",helper:"Get your first wallet",search:{label:"Search through {{numberOfWallets}} wallets...",not_found:{description:"The wallet youre looking for may not be available, or linking more than one of these wallets might not be possible.",title:"Wallet not available"}},title:{connect:"Connect a new wallet",link:"Link a new wallet",select:"Select your wallet"},view_all:"View all wallets",wallet_missing:{description:"Try search instead",title:"Don't see your wallet?"}},dyn_exchange_list:{search:{label:"Search through exchanges",not_found:{description:"The exchange youre looking for may not be available.",title:"Exchange not available"}},item:{connected:"Connected"},no_exchanges:"Oops, no exchanges have been configured."},dyn_unified_list:{title:"Funding Source",exchange:"Exchange",wallet:"Wallet",onramp:"Onramp",search:{label:"Search Wallets, Exchanges, & Onramps",not_found:{description:"The wallet, exchange, or onramp youre looking for may not be available.",title:"Wallet, Exchange, or Onramp not available"}},item:{connected:"Connected"}},dyn_wallet_transfer:{sign:{spinner:{cancel:"Cancel",confirm_transfer:"Sign the message to confirm transferring this wallet to this account."},title:"Sign to confirm transfer"}},dyn_nav_bar:{wallets:"Wallets",profile:"Profile",settings:"Settings"},dyn_widget:{connect:"Log in or sign up",empty_wallets:"{{action}} additional wallets to see them here.",other_wallets:"My other wallets",empty_wallets_action_link:"Link",empty_wallets_action_connect:"Connect"},dyn_wallet_information:{balance:"Balance",multi_asset:{empty_state:"No assets in this wallet"}},dyn_unlink_wallet_pop_up:{disconnect_title:"Disconnect your wallet?",unlink_title:"Unlink your wallet?",disconnect_description:"Are you sure you want to disconnect your wallet?",unlink_description:"Are you sure you want to unlink your wallet?",disconnect_button:"Yes, disconnect",unlink_button:"Yes, unlink",cancel_button:"No"},dyn_user_profile:{my_information:{title:"My information"},my_wallet:{title:"My wallet"},social_accounts:{title:"Social accounts"},tooltips:{verified_email:"This email is verified",verified_phone:"This phone number is verified"},wallets:{link_wallet_button:"Link wallet",title:"Want to add a wallet?"},edit_profile_button:"Edit Profile"},dyn_subdomain_field:{label:"Subdomain Handle",available:"Subdomain is available",not_available:"Subdomain is not available",error:"Subdomain check failed",details:"A subdomain handle will create a unique ENS subdomain for your wallet, helping you easily share and identify it."},dyn_detected_new_wallet:{title:"Account Change Detected",description:"Your active account in {{walletName}} has changed. This account is not currently linked to this app. Do you want to add it?",confirm_button:"Yes, link this wallet"},dyn_sync_wallet:{switch_wallet:{title:`Your wallets are mismatched. 
Switch to continue.`,active_address:{heading:"Currently active in wallet"},expected_address:{heading:"Currently active on website",prompt:"Manually switch to this wallet"}},reconnecting:{title:"This wallet is not connected",description:"Reconnecting wallet {{walletAddress}} to make it active..."},reconnect_with_qr_code:{title:"This wallet is not connected"},cancel_button:"Cancel",retry_button:"Retry"},dyn_wallet_funding:{success:"Transaction processing",success_txn_link:"View transaction",funding_method_selection:{title:"Deposit",qr_option:"Receive by QR",buy_option:"Buy Crypto",external_wallet_option:"From External Wallet",linked_wallet_option:"From Linked Wallet",exchange_option:"From Exchange"},onramp_provider_selection:{title:"Select provider",description:"Select from a list of available onramp providers."},from_linked_wallet:{title:"Fund from Linked Wallet"},from_exchange:{title:"From Exchange"},from_external_wallet:{title:"Fund from External Wallet"},from_wallet:{amount_input:{title:"Fund from Wallet",wallet_detail_from:"From",confirm_button:"Confirm Transaction",pricing_unavailable:"Pricing unavailable.",minimum_error:"Minimum {{minimum}}",balance_error:"Insufficient funds: Buy more"},token_select:{title:"Select a Token",search_placeholder:"Search for a token",no_assets_title:"No Supported Assets",no_assets_description:"No supported assets in this wallet"}}},dyn_crypto_com_onramp:{title:"Deposit",amount_label:"Amount to purchase",amount_description:"Enter the USD amount you want to spend",token_label:"Token to receive",token_description:"Choose which token you want to purchase",wallet_info:"Tokens will be sent to your wallet",wallet_detail_to:"Tokens will be sent to",creating_payment:"Creating Payment...",create_payment:"Continue to Payment",currency_label:"Payment Currency",select_currency:"Select Currency"},dyn_widget_header:{buttons:{deposit_funds:"Deposit",send_funds:"Send",more:"More"}},dyn_error:{default:"Something went wrong. Please try again.",user_rejected:"User rejected the request.",message_signature_denied:"Message signature denied",wallet_locked:"Please unlock your wallet extension and try again.",invalid_parameters:"Invalid parameters. Please try again.",internal_error:"There was an internal error. Please try again.",account_already_linked_to_different_profile:"This social account is already linked to a different profile.",connection_rejected:"Connection rejected. Please try again.",missing_public_address:"Connection cancelled. Please try again",connection_proposal_expired:"Connection proposal expired. Please try again.",sei_not_enabled_in_keplr_wallet:"Sei network is not enabled in Keplr. Please enable it and try again."},dyn_search:{clear:"Clear"},dyn_account_upgraded:{title:"Account Upgraded",message:"All done! You've got the latest version  more powerful, flexible, and ready for what's next.",continue_button:"Continue"},dyn_upgrade_wallet:{title:"Upgrade your account",description:"A new version of your account is available, with better security and easier recovery.",eligible_wallets:"Eligible wallets",how_to_upgrade:"How would you like to upgrade?",keep_existing:"Keep existing wallet",keep_existing_desc:"Export your legacy wallet and securely import the private key to upgrade",start_fresh:"Start fresh",start_fresh_desc:"Removes your legacy wallet and create a brand new upgraded wallet",recommended:"recommended",upgrade:"Upgrade",not_now:"Not now"},dyn_wallet_upgrade_flow:{title:"Upgrade your wallet",step_wallet_upgrade:"{{walletName}} Upgrade",new_wallet_title:"Create New Wallet",new_wallet_coming_soon:"New wallet creation coming soon...",copy_private_key_subtitle:"Import your wallet key to upgrade your wallet. You will not lose access to any assets. Your wallet will always remain in your control.",copy_private_key_title:"Copy",step_2_upgrade_description:"Paste",upgrade_wallet:"Upgrade Account",cancel:"Cancel",export_failed:"Failed to export wallet",upgrade_failed:"Failed to upgrade wallet"},dyn_export_and_recovery:{title:"Export & Recovery",private_key:"Private Key",export_shares:"Export Share",advanced:"ADVANCED"},dyn_export_shares:{title:"Export Key Shares",sensitive_info:"Sensitive information",threshold_description:"You'll need at least {{required}} out of {{total}} shares to restore access to your wallet.",how_to_use_title:"How to use them",bullet_1:"Store your shares in separate secure locations.",bullet_2:"You'll need {{required}} shares to recover offline.",bullet_3:"You can re-import them through your wallet recovery flow.",acknowledge:"I am responsible for safeguarding and using my wallet key share information.",download_button:"Download Share",error:"Failed to export shares. Please try again."},dyn_export_shares_passcode:{title:"Enter Passcode",description:"To export your recovery shares, enter your passcode.",enter_passcode:"Enter passcode",error:"Invalid passcode"},dyn_wallet_delegation:{title:"Wallet delegation approval",approval_required:"Approval required",approval_requested:"Approval requested",approval_description:"{{appName}} is requesting access to perform automations on your behalf. You can revoke this permission at any time.",select_wallets:"Select Wallets",select_all:"Select All",deselect_all:"Deselect All",clear:"Clear",approve_button:"Approve delegation",deny_button:"Deny",done_button:"Done",approving_permissions:"Approving permissions",permissions_description:"{{appName}} is requesting access to perform automations on your behalf. You can revoke this permission at any time.",permissions_granted:"Permissions granted",permissions_description_granted:"{{appName}} has been granted access to perform automations on your behalf. You can revoke this permission at any time.",revoke_note:"You can always revoke these permissions in your wallet settings.",wallets_selected:"wallets selected",edit_selections:"Edit Selections",save_selections:"Save Selections",edit_wallets_title:"Edit Wallets",my_wallet:"My Wallet",all_wallets:"All Wallets",agreement_text:"I understand, and agree to accept this permission request",selected_wallets:"Selected Wallets",edit_wallets_to_delegate:"Edit Wallets to Delegate",something_went_wrong:"Something went wrong",delegation_timeout_message:"The delegation request timed out or was rejected. Please try approving again or come back in another time.",try_again_button:"Try again",logout_button:"Log out",learn_more:"Learn more",learn_more_description:"Delegating your wallet lets this app act on your behalf, even when you're not here. This is useful for things like trading bots or other automated workflows. You stay in control  you can revoke access anytime in your wallet settings.",learn_more_okay_button:"Okay"}},mae=(e,t)=>{if(typeof e!="object"||typeof t!="object")return t;const n=Object.assign({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]=="object"?n[r]=mae(e[r],t[r]):n[r]=t[r]);return n};class wi{static setResources(t){if(wi.__resources__)return;if(!t){wi.__resources__={en:{translation:AO}};return}const n={};Object.keys(t).forEach(r=>{const i=Object.assign({},AO);n[r]={translation:mae(i,t[r])}}),wi.__resources__=n}static setup(t){if(wi.__initialized__&&wi.__i18nInstance__)return wi.__i18nInstance__;wi.setResources(t);const n=Ys.createInstance();return n.use(qNe).init({fallbackLng:"en",interpolation:{escapeValue:!1},lng:"en",resources:wi.getResources()}),wi.__i18nInstance__=n,wi.__initialized__=!0,wi.__i18nInstance__}static getInstance(){if(wi.__initialized__||this.setup(),!wi.__i18nInstance__||!wi.__initialized__)throw new Error("Locale is not initialized");return wi.__i18nInstance__}}wi.__i18nInstance__=null;wi.__initialized__=!1;wi.getResources=()=>wi.__resources__;Oo("@dynamic-labs/locale",HNe);const pPe=e=>typeof e=="object",Ke=(...e)=>e.reduce((n,r)=>{if(XF(r))return[...n,r];if(pPe(r)){const o=Object.keys(r).map(s=>r[s]?s:null).filter(XF);return[...n,...o]}return n},[]).join(" "),mPe=(e,t)=>{const n=x.useRef(void 0),r=()=>t(e.getState()),i=()=>(n.current===void 0&&(n.current={value:t(e.getInitialState())}),n.current.value);return x.useSyncExternalStore(e.subscribe,r,i)};var gPe="4.57.1";const yPe=e=>{const t=new Set;let n=e();const r=()=>{for(const i of t)i(n)};return{getInitialState:()=>e(),getState:()=>n,setState:i=>{n=Object.assign(Object.assign({},n),i),r()},subscribe:i=>(t.add(i),()=>{t.delete(i)})}},vPe=new gi("@dynamic-labs/logger"),wPe=({name:e,version:t="0",storage:n,store:r,partialize:i})=>{r.subscribe(s=>{const a=i(s);n.setItem(e,JSON.stringify({state:a,version:t}))});const o=n.getItem(e);if(o)try{const{state:s,version:a}=JSON.parse(o);a===t&&r.setState(Object.assign(r.getInitialState(),s))}catch(s){vPe.error("Failed to load state from storage",s)}return r};Oo("@dynamic-labs/store",gPe);const gae="dynamic_device_fingerprint",Xu="dynamic_last_used_wallet",xh="dynamic_wallet_picker_search",Zy="dynamic_exchange_picker_search",RO="dynamic_newtoweb3_wallet_extension_installed",bPe="dynamic_connected_wallet_ns",_Pe="dynamic_bridge_onboarding_completed",yae="dynamic_context_session_settings",vae="dynamic_wagmi_session_settings",b0="dynamic_embedded_wallet_session_settings",wae="dynamic_embedded_secure_banner",Zw="dynamic_phone_input_default_country",xPe="dynamic_captcha_token",_m="phantom_verification_type",_d="dynamic_delegation_state",Yq="dynamic_store",O2="dynamic_secure_enclave_session_keys",N2={priority:["secureStorage","localStorage"]},kPe=e=>{var t,n;return{authMode:(n=(t=e.settings)===null||t===void 0?void 0:t.initialAuthenticationMode)!==null&&n!==void 0?n:"connect-and-sign",connectedWalletsInfo:[],connectorsInitializing:{},dynamicContextProps:e,loadingAndLifecycle:{initialWalletVerificationInProgress:!1,sessionValidation:!1},multichainTokenBalancesState:{error:void 0,isError:!1,isLoading:!1,multichainTokenBalances:void 0,requestsKey:void 0},nonce:{expiresAt:void 0,nonce:void 0},primaryWalletId:void 0,sendBalanceState:{amount:void 0,chainName:void 0,nativePrice:void 0},tokenBalancesState:{error:void 0,isError:!1,isLoading:!1,tokenBalances:void 0},user:void 0,walletOptions:{groups:{},walletConnectorOptions:[]}}},SPe=e=>({connectedWalletsInfo:e.connectedWalletsInfo,nonce:e.nonce,primaryWalletId:e.primaryWalletId,user:e.user}),IPe="2025-02-21",Xq="dynamic_authenticated_user",EPe=e=>{const t=ot.getItem(Xq);return t&&!e.getState().user&&(e.setState({user:t??void 0}),ot.removeItem(Xq)),e};let t1;const ww=()=>{if(!t1)throw new Error("Store not initialized");return t1},CPe=()=>{t1=void 0},APe=e=>{var t;if(t1)return;const{localStorageSuffix:n}=(t=e.settings)!==null&&t!==void 0?t:{},r=n?`${Yq}_${n}`:Yq;t1=EPe(wPe({name:r,partialize:SPe,storage:RPe(),store:yPe(()=>kPe(e)),version:IPe}))},RPe=()=>typeof localStorage>"u"?{getItem:()=>null,setItem:()=>{}}:window.localStorage,Vc=e=>{const t=e[0].toUpperCase()+e.slice(1),n=()=>mPe(ww(),s=>s[e]),r=s=>ww().setState(Object.assign(Object.assign({},ww().getState()),{[e]:s})),i=()=>ww().getState()[e],o=()=>r(ww().getInitialState()[e]);return{[`use${t}`]:n,[`get${t}`]:i,[`set${t}`]:r,[`reset${t}`]:o}},{getLoadingAndLifecycle:bae,setLoadingAndLifecycle:_ae,useLoadingAndLifecycle:xae}=Vc("loadingAndLifecycle"),TO=e=>{_ae(Object.assign(Object.assign({},bae()),{initialWalletVerificationInProgress:e}))},TPe=e=>{_ae(Object.assign(Object.assign({},bae()),{sessionValidation:e}))},{getAuthMode:wl,setAuthMode:n1,useAuthMode:Qu}=Vc("authMode"),iv=(e,t,n,r)=>{const i=x.useRef(t);i.current=t;const[o,s]=x.useState(()=>{try{const c=ot.getItem(e);return c&&n&&!n(c)?(ot.removeItem(e),r==null||r.forEach(d=>ot.removeItem(d)),i.current):c??i.current}catch(c){return Ie.error(c),i.current}}),a=x.useCallback(c=>{try{const d=c instanceof Function?c(o):c;s(d),ot.setItem(e,d)}catch(d){Ie.error(d)}},[e,o]),l=x.useCallback(()=>{ot.removeItem(e),s(i.current)},[e]);return[o,a,l]};var qm=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Cte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Runion","re","262","",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],OPe="react-international-phone-",kae=(...e)=>e.filter(t=>!!t).join(" ").trim(),NPe=(...e)=>kae(...e).split(" ").map(t=>`${OPe}${t}`).join(" "),Gs=({addPrefix:e,rawClassNames:t})=>kae(NPe(...e),...t),PPe=({value:e,mask:t,maskSymbol:n,offset:r=0,trimNonMaskCharsLeftover:i=!1})=>{if(e.length<r)return e;let o=e.slice(0,r),s=e.slice(r),a=o,l=0;for(let c of t.split("")){if(l>=s.length){if(!i&&c!==n){a+=c;continue}break}c===n?(a+=s[l],l+=1):a+=c}return a},by=e=>e?/^\d+$/.test(e):!1,h3=e=>e.replace(/\D/g,""),BPe=(e,t)=>{let n=e.style.display;n!=="block"&&(e.style.display="block");let r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.top-r.top,s=r.bottom-i.bottom;o>=0&&s>=0||(Math.abs(o)<Math.abs(s)?e.scrollTop+=o:e.scrollTop-=s),e.style.display=n},DPe=e=>{let{name:t,iso2:n,dialCode:r,format:i,priority:o,areaCodes:s}=e,a=[t,n,r,i,o,s];for(let l=0;l<a.length;l+=1){if(l===0)continue;let c=a[l-1],d=a[l];if(c===void 0&&d!==void 0){let u=JSON.stringify(a,(h,m)=>m===void 0?"__undefined":m).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${c} in: ${u}`)}}return a.filter(l=>l!==void 0)},MPe=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),l_=({phone:e,dialCode:t,prefix:n="+",charAfterDialCode:r=" "})=>{if(!e||!t)return e;let i=e;return i.startsWith(n)&&(i=i.replace(n,"")),i.startsWith(t)?(i=i.replace(t,""),i.startsWith(r)&&(i=i.replace(r,"")),i):e},jPe=(e,t)=>{let n=t.disableDialCodeAndPrefix?!1:t.forceDialCode,r=t.disableDialCodeAndPrefix?!1:t.insertDialCodeOnEmpty,i=e,o=c=>t.trimNonDigitsEnd?c.trim():c;if(!i)return r&&!i.length||n?o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`):o(i);if(i=h3(i),i===t.dialCode&&!t.disableDialCodeAndPrefix)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(t.dialCode.startsWith(i)&&!t.disableDialCodeAndPrefix)return o(n?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:`${t.prefix}${i}`);if(!i.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(n)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(i.length<t.dialCode.length)return o(`${t.prefix}${i}`)}let s=()=>{let c=t.dialCode.length,d=i.slice(0,c),u=i.slice(c);return{phoneLeftSide:d,phoneRightSide:u}},{phoneLeftSide:a,phoneRightSide:l}=s();return a=`${t.prefix}${a}${t.charAfterDialCode}`,l=PPe({value:l,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&l.length===0}),t.disableDialCodeAndPrefix&&(a=""),o(`${a}${l}`)},$Pe=({phoneBeforeInput:e,phoneAfterInput:t,phoneAfterFormatted:n,cursorPositionAfterInput:r,leftOffset:i=0,deletion:o})=>{if(r<i)return i;if(!e)return n.length;let s=null;for(let d=r-1;d>=0;d-=1)if(by(t[d])){s=d;break}if(s===null){for(let d=0;d<t.length;d+=1)if(by(n[d]))return d;return t.length}let a=0;for(let d=0;d<s;d+=1)by(t[d])&&(a+=1);let l=0,c=0;for(let d=0;d<n.length&&(l+=1,by(n[d])&&(c+=1),!(c>=a+1));d+=1);if(o!=="backward")for(;!by(n[l])&&l<n.length;)l+=1;return l},P2=({phone:e,prefix:t})=>e?`${t}${h3(e)}`:"";function OO({value:e,country:t,insertDialCodeOnEmpty:n,trimNonDigitsEnd:r,countries:i,prefix:o,charAfterDialCode:s,forceDialCode:a,disableDialCodeAndPrefix:l,defaultMask:c,countryGuessingEnabled:d,disableFormatting:u}){let h=e;l&&(h=h.startsWith(`${o}`)?h:`${o}${t.dialCode}${h}`);let m=d?p3({phone:h,countries:i,currentCountryIso2:t==null?void 0:t.iso2}):void 0,v=(m==null?void 0:m.country)??t,g=jPe(h,{prefix:o,mask:Eae({phone:h,country:v,defaultMask:c,disableFormatting:u}),maskChar:Sae,dialCode:v.dialCode,trimNonDigitsEnd:r,charAfterDialCode:s,forceDialCode:a,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:l}),y=d&&!(m!=null&&m.fullDialCodeMatch)?t:v;return{phone:P2({phone:l?`${y.dialCode}${g}`:g,prefix:o}),inputValue:g,country:y}}var LPe=e=>{if((e==null?void 0:e.toLocaleLowerCase().includes("delete"))??!1)return e!=null&&e.toLocaleLowerCase().includes("forward")?"forward":"backward"},UPe=(e,{country:t,insertDialCodeOnEmpty:n,phoneBeforeInput:r,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:a,countryGuessingEnabled:l,defaultMask:c,disableFormatting:d,countries:u})=>{let h=e.nativeEvent,m=h.inputType,v=LPe(m),g=!!(m!=null&&m.startsWith("insertFrom")),y=m==="insertText",b=(h==null?void 0:h.data)||void 0,k=e.target.value,_=e.target.selectionStart??0;if(m!=null&&m.includes("history"))return{inputValue:r,phone:P2({phone:r,prefix:i}),cursorPosition:r.length,country:t};if(y&&!by(b)&&k!==i)return{inputValue:r,phone:P2({phone:a?`${t.dialCode}${r}`:r,prefix:i}),cursorPosition:_-((b==null?void 0:b.length)??0),country:t};if(s&&!k.startsWith(`${i}${t.dialCode}`)&&!g){let D=k?r:`${i}${t.dialCode}${o}`;return{inputValue:D,phone:P2({phone:D,prefix:i}),cursorPosition:i.length+t.dialCode.length+o.length,country:t}}let{phone:R,inputValue:I,country:T}=OO({value:k,country:t,trimNonDigitsEnd:v==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:l,countries:u,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:a,disableFormatting:d,defaultMask:c}),M=$Pe({cursorPositionAfterInput:_,phoneBeforeInput:r,phoneAfterInput:k,phoneAfterFormatted:I,leftOffset:s?i.length+t.dialCode.length+o.length:0,deletion:v});return{phone:R,inputValue:I,cursorPosition:M,country:T}},FPe=(e,t)=>{let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0},WPe=()=>{let e=x.useRef(),t=x.useRef(Date.now());return{check:()=>{let n=Date.now(),r=e.current?n-t.current:void 0;return e.current=t.current,t.current=n,r}}},qPe={size:20,overrideLastItemDebounceMS:-1};function zPe(e,t){let{size:n,overrideLastItemDebounceMS:r,onChange:i}={...qPe,...t},[o,s]=x.useState(e),[a,l]=x.useState([o]),[c,d]=x.useState(0),u=WPe();return[o,(h,m)=>{if(typeof h=="object"&&typeof o=="object"&&FPe(h,o)||h===o)return;let v=r>0,g=u.check(),y=v&&g!==void 0?g>r:!0;if((m==null?void 0:m.overrideLastItem)!==void 0?m.overrideLastItem:!y)l(b=>[...b.slice(0,c),h]);else{let b=a.length>=n;l(k=>[...k.slice(b?1:0,c+1),h]),b||d(k=>k+1)}s(h),i==null||i(h)},()=>{if(c<=0)return{success:!1};let h=a[c-1];return s(h),d(m=>m-1),i==null||i(h),{success:!0,value:h}},()=>{if(c+1>=a.length)return{success:!1};let h=a[c+1];return s(h),d(m=>m+1),i==null||i(h),{success:!0,value:h}}]}var Sae=".",Bl={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:qm},Iae=({defaultCountry:e=Bl.defaultCountry,value:t=Bl.value,countries:n=Bl.countries,prefix:r=Bl.prefix,defaultMask:i=Bl.defaultMask,charAfterDialCode:o=Bl.charAfterDialCode,historySaveDebounceMS:s=Bl.historySaveDebounceMS,disableCountryGuess:a=Bl.disableCountryGuess,disableDialCodePrefill:l=Bl.disableDialCodePrefill,forceDialCode:c=Bl.forceDialCode,disableDialCodeAndPrefix:d=Bl.disableDialCodeAndPrefix,disableFormatting:u=Bl.disableFormatting,onChange:h,inputRef:m})=>{let v={countries:n,prefix:r,charAfterDialCode:o,forceDialCode:d?!1:c,disableDialCodeAndPrefix:d,defaultMask:i,countryGuessingEnabled:!a,disableFormatting:u},g=x.useRef(null),y=m||g,b=S=>{Promise.resolve().then(()=>{var E;typeof window>"u"||y.current!==(document==null?void 0:document.activeElement)||((E=y.current)==null||E.setSelectionRange(S,S))})},[{phone:k,inputValue:_,country:R},I,T,M]=zPe(()=>{let S=Ty({value:e,field:"iso2",countries:n});S||console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let E=S||Ty({value:"us",field:"iso2",countries:n}),{phone:N,inputValue:P,country:j}=OO({value:t,country:E,insertDialCodeOnEmpty:!l,...v});return b(P.length),{phone:N,inputValue:P,country:j.iso2}},{overrideLastItemDebounceMS:s,onChange:({inputValue:S,phone:E,country:N})=>{if(!h)return;let P=D(N);h({phone:E,inputValue:S,country:P})}}),D=x.useCallback(S=>Ty({value:S,field:"iso2",countries:n}),[n]),A=x.useMemo(()=>D(R),[R,D]);x.useEffect(()=>{let S=y.current;if(!S)return;let E=N=>{if(!N.key)return;let P=N.ctrlKey,j=N.metaKey,V=N.shiftKey;if(N.key.toLowerCase()==="z"){if(MPe()){if(!j)return}else if(!P)return;V?M():T()}};return S.addEventListener("keydown",E),()=>{S.removeEventListener("keydown",E)}},[y,T,M]);let U=S=>{S.preventDefault();let{phone:E,inputValue:N,country:P,cursorPosition:j}=UPe(S,{country:A,phoneBeforeInput:_,insertDialCodeOnEmpty:!1,...v});return I({inputValue:N,phone:E,country:P.iso2}),b(j),t},$=(S,E={focusOnInput:!1})=>{let N=Ty({value:S,field:"iso2",countries:n});if(!N){console.error(`[react-international-phone]: can not find a country with "${S}" iso2 code`);return}let P=d?"":`${r}${N.dialCode}${o}`;I({inputValue:P,phone:`${r}${N.dialCode}`,country:N.iso2}),E.focusOnInput&&Promise.resolve().then(()=>{var j;(j=y.current)==null||j.focus()})},[q,z]=x.useState(!1);return x.useEffect(()=>{if(!q){z(!0),t!==k&&(h==null||h({inputValue:_,phone:k,country:A}));return}if(t===k)return;let{phone:S,inputValue:E,country:N}=OO({value:t,country:A,insertDialCodeOnEmpty:!l,...v});I({phone:S,inputValue:E,country:N.iso2})},[t]),{phone:k,inputValue:_,country:A,setCountry:$,handlePhoneValueChange:U,inputRef:y}},Eae=({phone:e,country:t,defaultMask:n="............",disableFormatting:r=!1})=>{let i=t.format,o=a=>r?a.replace(new RegExp(`[^${Sae}]`,"g"),""):a;if(!i)return o(n);if(typeof i=="string")return o(i);if(!i.default)return console.error(`[react-international-phone]: default mask for ${t.iso2} is not provided`),o(n);let s=Object.keys(i).find(a=>{if(a==="default")return!1;if(!(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${a}" for ${t.iso2} is not valid`),!1;let l=new RegExp(a.substring(1,a.length-1)),c=e.replace(t.dialCode,"");return l.test(h3(c))});return o(s?i[s]:i.default)},ps=e=>{let[t,n,r,i,o,s]=e;return{name:t,iso2:n,dialCode:r,format:i,priority:o,areaCodes:s}},VPe=e=>`Field "${e}" is not supported`,Ty=({field:e,value:t,countries:n=qm})=>{if(["priority"].includes(e))throw new Error(VPe(e));let r=n.find(i=>{let o=ps(i);return t===o[e]});if(r)return ps(r)},p3=({phone:e,countries:t=qm,currentCountryIso2:n})=>{var a;let r={country:void 0,fullDialCodeMatch:!1};if(!e)return r;let i=h3(e);if(!i)return r;let o=r,s=({country:l,fullDialCodeMatch:c})=>{var h,m;let d=l.dialCode===((h=o.country)==null?void 0:h.dialCode),u=(l.priority??0)<(((m=o.country)==null?void 0:m.priority)??0);(!d||u)&&(o={country:l,fullDialCodeMatch:c})};for(let l of t){let c=ps(l),{dialCode:d,areaCodes:u}=c;if(i.startsWith(d)){let h=o.country?Number(d)>=Number(o.country.dialCode):!0;if(u){let m=i.substring(d.length);for(let v of u)if(m.startsWith(v))return{country:c,fullDialCodeMatch:!0}}(h||d===i||!o.fullDialCodeMatch)&&s({country:c,fullDialCodeMatch:!0})}o.fullDialCodeMatch||i.length<d.length&&d.startsWith(i)&&(!o.country||Number(d)<=Number(o.country.dialCode))&&s({country:c,fullDialCodeMatch:!1})}if(n){let l=Ty({value:n,field:"iso2",countries:t});if(!l)return o;let c=l?(d=>{if(!(d!=null&&d.areaCodes))return!1;let u=i.substring(d.dialCode.length);return d.areaCodes.some(h=>h.startsWith(u))})(l):!1;o&&((a=o.country)==null?void 0:a.dialCode)===l.dialCode&&o.country!==l&&o.fullDialCodeMatch&&(!l.areaCodes||c)&&(o={country:l,fullDialCodeMatch:!0})}return o},KPe=(e,t)=>{let n=parseInt(e,16);return Number(n+t).toString(16)},HPe="abcdefghijklmnopqrstuvwxyz",GPe="1f1e6",Qq=HPe.split("").reduce((e,t,n)=>({...e,[t]:KPe(GPe,n)}),{}),JPe=e=>[Qq[e[0]],Qq[e[1]]].join("-"),AS=({iso2:e,size:t,src:n,protocol:r="https",disableLazyLoading:i,className:o,style:s,...a})=>{if(!e)return Vt.createElement("img",{className:Gs({addPrefix:["flag-emoji"],rawClassNames:[o]}),width:t,height:t,...a});let l=()=>{if(n)return n;let c=JPe(e);return`${r}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${c}.svg`};return Vt.createElement("img",{className:Gs({addPrefix:["flag-emoji"],rawClassNames:[o]}),src:l(),width:t,height:t,draggable:!1,"data-country":e,loading:i?void 0:"lazy",style:{width:t,height:t,...s},alt:"",...a})},ZPe=1e3,YPe=({show:e,dialCodePrefix:t="+",selectedCountry:n,countries:r=qm,preferredCountries:i=[],flags:o,onSelect:s,onClose:a,...l})=>{let c=x.useRef(null),d=x.useRef(),u=x.useMemo(()=>{if(!i||!i.length)return r;let T=[],M=[...r];for(let D of i){let A=M.findIndex(U=>ps(U).iso2===D);if(A!==-1){let U=M.splice(A,1)[0];T.push(U)}}return T.concat(M)},[r,i]),h=x.useRef({updatedAt:void 0,value:""}),m=T=>{let M=h.current.updatedAt&&new Date().getTime()-h.current.updatedAt.getTime()>ZPe;h.current={value:M?T:`${h.current.value}${T}`,updatedAt:new Date};let D=u.findIndex(A=>ps(A).name.toLowerCase().startsWith(h.current.value));D!==-1&&y(D)},v=x.useCallback(T=>u.findIndex(M=>ps(M).iso2===T),[u]),[g,y]=x.useState(v(n)),b=()=>{d.current!==n&&y(v(n))},k=x.useCallback(T=>{y(v(T.iso2)),s==null||s(T)},[s,v]),_=T=>{let M=u.length-1,D=A=>T==="prev"?A-1:T==="next"?A+1:T==="last"?M:0;y(A=>{let U=D(A);return U<0?0:U>M?M:U})},R=T=>{if(T.stopPropagation(),T.key==="Enter"){T.preventDefault();let M=ps(u[g]);k(M);return}if(T.key==="Escape"){a==null||a();return}if(T.key==="ArrowUp"){T.preventDefault(),_("prev");return}if(T.key==="ArrowDown"){T.preventDefault(),_("next");return}if(T.key==="PageUp"){T.preventDefault(),_("first");return}if(T.key==="PageDown"){T.preventDefault(),_("last");return}T.key===" "&&T.preventDefault(),T.key.length===1&&!T.altKey&&!T.ctrlKey&&!T.metaKey&&m(T.key.toLocaleLowerCase())},I=x.useCallback(()=>{if(!c.current||g===void 0)return;let T=ps(u[g]).iso2;if(T===d.current)return;let M=c.current.querySelector(`[data-country="${T}"]`);M&&(BPe(c.current,M),d.current=T)},[g,u]);return x.useEffect(()=>{I()},[g,I]),x.useEffect(()=>{c.current&&(e?c.current.focus():b())},[e]),x.useEffect(()=>{b()},[n]),Vt.createElement("ul",{ref:c,role:"listbox",className:Gs({addPrefix:["country-selector-dropdown"],rawClassNames:[l.className]}),style:{display:e?"block":"none",...l.style},onKeyDown:R,onBlur:a,tabIndex:-1,"aria-activedescendant":`react-international-phone__${ps(u[g]).iso2}-option`},u.map((T,M)=>{let D=ps(T),A=D.iso2===n,U=M===g,$=i.includes(D.iso2),q=M===i.length-1,z=o==null?void 0:o.find(S=>S.iso2===D.iso2);return Vt.createElement(Vt.Fragment,{key:D.iso2},Vt.createElement("li",{"data-country":D.iso2,role:"option","aria-selected":A,"aria-label":`${D.name} ${t}${D.dialCode}`,id:`react-international-phone__${D.iso2}-option`,className:Gs({addPrefix:["country-selector-dropdown__list-item",$&&"country-selector-dropdown__list-item--preferred",A&&"country-selector-dropdown__list-item--selected",U&&"country-selector-dropdown__list-item--focused"],rawClassNames:[l.listItemClassName]}),onClick:()=>k(D),style:l.listItemStyle,title:D.name},Vt.createElement(AS,{iso2:D.iso2,src:z==null?void 0:z.src,className:Gs({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[l.listItemFlagClassName]}),style:l.listItemFlagStyle}),Vt.createElement("span",{className:Gs({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[l.listItemCountryNameClassName]}),style:l.listItemCountryNameStyle},D.name),Vt.createElement("span",{className:Gs({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[l.listItemDialCodeClassName]}),style:l.listItemDialCodeStyle},t,D.dialCode)),q?Vt.createElement("hr",{className:Gs({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[l.preferredListDividerClassName]}),style:l.preferredListDividerStyle}):null)}))},XPe=({selectedCountry:e,onSelect:t,disabled:n,hideDropdown:r,countries:i=qm,preferredCountries:o=[],flags:s,renderButtonWrapper:a,...l})=>{let[c,d]=x.useState(!1),u=x.useMemo(()=>{if(e)return Ty({value:e,field:"iso2",countries:i})},[i,e]),h=x.useRef(null),m=g=>{g.key&&["ArrowUp","ArrowDown"].includes(g.key)&&(g.preventDefault(),d(!0))},v=()=>{var b;let g={title:u==null?void 0:u.name,onClick:()=>d(k=>!k),onMouseDown:k=>k.preventDefault(),onKeyDown:m,disabled:r||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":c},y=Vt.createElement("div",{className:Gs({addPrefix:["country-selector-button__button-content"],rawClassNames:[l.buttonContentWrapperClassName]}),style:l.buttonContentWrapperStyle},Vt.createElement(AS,{iso2:e,src:(b=s==null?void 0:s.find(k=>k.iso2===e))==null?void 0:b.src,className:Gs({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[l.flagClassName]}),style:{visibility:e?"visible":"hidden",...l.flagStyle}}),!r&&Vt.createElement("div",{className:Gs({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",c&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[l.dropdownArrowClassName]}),style:l.dropdownArrowStyle}));return a?a({children:y,rootProps:g}):Vt.createElement("button",{...g,type:"button",className:Gs({addPrefix:["country-selector-button",c&&"country-selector-button--active",n&&"country-selector-button--disabled",r&&"country-selector-button--hide-dropdown"],rawClassNames:[l.buttonClassName]}),"data-country":e,style:l.buttonStyle},y)};return Vt.createElement("div",{className:Gs({addPrefix:["country-selector"],rawClassNames:[l.className]}),style:l.style,ref:h},v(),Vt.createElement(YPe,{show:c,countries:i,preferredCountries:o,flags:s,onSelect:g=>{d(!1),t==null||t(g)},selectedCountry:e,onClose:()=>{d(!1)},...l.dropdownStyleProps}))},QPe=({dialCode:e,prefix:t,disabled:n,style:r,className:i})=>Vt.createElement("div",{className:Gs({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[i]}),style:r},`${t}${e}`);x.forwardRef(({value:e,onChange:t,countries:n=qm,preferredCountries:r=[],hideDropdown:i,showDisabledDialCodeAndPrefix:o,disableFocusAfterCountrySelect:s,flags:a,style:l,className:c,inputStyle:d,inputClassName:u,countrySelectorStyleProps:h,dialCodePreviewStyleProps:m,inputProps:v,placeholder:g,disabled:y,name:b,onFocus:k,onBlur:_,required:R,autoFocus:I,...T},M)=>{let{phone:D,inputValue:A,inputRef:U,country:$,setCountry:q,handlePhoneValueChange:z}=Iae({value:e,countries:n,...T,onChange:E=>{t==null||t(E.phone,{country:E.country,inputValue:E.inputValue})}}),S=T.disableDialCodeAndPrefix&&o&&($==null?void 0:$.dialCode);return x.useImperativeHandle(M,()=>U.current?Object.assign(U.current,{setCountry:q,state:{phone:D,inputValue:A,country:$}}):null,[U,q,D,A,$]),Vt.createElement("div",{ref:M,className:Gs({addPrefix:["input-container"],rawClassNames:[c]}),style:l},Vt.createElement(XPe,{onSelect:E=>q(E.iso2,{focusOnInput:!s}),flags:a,selectedCountry:$.iso2,countries:n,preferredCountries:r,disabled:y,hideDropdown:i,...h}),S&&Vt.createElement(QPe,{dialCode:$.dialCode,prefix:T.prefix??"+",disabled:y,...m}),Vt.createElement("input",{onChange:z,value:A,type:"tel",ref:U,className:Gs({addPrefix:["input",y&&"input--disabled"],rawClassNames:[u]}),placeholder:g,disabled:y,style:d,name:b,onFocus:k,onBlur:_,autoFocus:I,required:R,...v}))});class Od{}Od.getBaseUrl=()=>{if(!Od.__baseUrl__)throw new Error("ApiEndpoint Base URL has not been initialized");return Od.__baseUrl__};Od.setBaseUrl=e=>{e?Od.__baseUrl__=e:Od.__baseUrl__=new e3().basePath};const e7e="2762a57b-faa4-41ce-9f16-abff9300e2c9",na={appLogoUrl:"https://demo.dynamic.xyz/assets/dynamic-logo.svg",appName:"Dynamic Example",debugError:!1,deepLinkPreference:"native",detectNewWalletsForLinking:!1,displaySiweStatement:!0,enableConnectOnlyFallback:!1,enableVisitTrackingOnConnectOnly:!0,initialAuthenticationMode:"connect-and-sign",logLevel:"WARN",shadowDOMEnabled:!0,showLockedWalletView:!1,tokensFilter:e=>e,useMetamaskSdk:!0},{getDynamicContextProps:Cae,setDynamicContextProps:Aae,useDynamicContextProps:t7e}=Vc("dynamicContextProps"),Rae=()=>Oae(Cae().settings),zm=()=>Oae(t7e().settings),ef=()=>Rae().environmentId,Vm=()=>zm().environmentId,n7e=e=>{const t=Cae();Aae(Object.assign(Object.assign({},t),{settings:Object.assign(Object.assign({},t.settings),{environmentId:e})}))},Tae=()=>zm().apiBaseUrl,r7e=()=>Rae().bridgeChains,Oae=e=>{const t=Object.assign({},e);return Object.keys(na).forEach(n=>{const r=n;t[r]===void 0&&(t[r]=na[r])}),t},i7e=({settings:e,emitErrors:t,enableInstrumentation:n,locale:r,theme:i})=>{const o=Vm();if(!o)throw new eoe;e.environmentId=o,x.useEffect(()=>{o===e7e&&Ie.warn(`WARNING: DYNAMIC is using a test environment ID ${o}. Please sign up on https://app.dynamic.xyz/ to get your production environment ID.`),e.logLevel&&gi.setLogLevel(e.logLevel);const s=ID("DYNAMIC_API_BASE_URL",e.apiBaseUrl||"");Od.setBaseUrl(s),Aae({emitErrors:t,enableInstrumentation:n,locale:r,settings:e,theme:i})},[t,n,o,r,e,i])},{getPrimaryWalletId:Wd,setPrimaryWalletId:Nae,usePrimaryWalletId:o7e,resetPrimaryWalletId:Pae}=Vc("primaryWalletId"),s7e={[nr.Btc]:e=>{if(e.startsWith("bc1p")||e.startsWith("tb1p"))return"Ordinals & Runes";if(e.startsWith("bc1q")||e.startsWith("tb1q"))return"Payment address"}},a7e=(e,t,n)=>{if(!e||!t||!n)return;const r=e===nr.Btc||e==="BTC"||e==="bip122"?nr.Btc:e,i=s7e[r];if(i)return i(n)},Bae=e=>{const t=e.map(r=>{const i=r.walletChain;return{address:r.id.split("-")[1]||"",chain:i,id:r.id,lastSelectedAt:null,walletProviderKey:KD({chain:i,displayName:r.walletConnectorKey,walletProviderType:r.provider})}});Tn(Fr()).state.set({unverifiedWalletAccounts:t})},{getConnectedWalletsInfo:Dae,resetConnectedWalletsInfo:l7e,setConnectedWalletsInfo:c7e,useConnectedWalletsInfo:Mae}=Vc("connectedWalletsInfo"),eM=()=>{Bae([]),l7e()},NO=e=>{Bae(e),c7e(e)},PO=()=>typeof window<"u"&&window.isGlobalWalletPopup,d7e=()=>{if(typeof window>"u")return;const e=ot.getItem(gae);if(e)return e},r1=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n="";for(let r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n},tM="dynamic_client_session_keys",nM={priority:["secureStorage","localStorage"]},u7e="dynamic_secure_enclave_session_keys",f7e={priority:["secureStorage","localStorage"]},rM=(e,t,n,r,i)=>{const s=JSON.stringify({expirationDate:i,privateKey:t,privateKeyJwk:n,publicKey:e,registered:r});return Buffer.from(s).toString("base64")},B2=e=>[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join(""),h7e=e=>(e=(e==null?void 0:e.replace(/-/g,"+").replace(/_/g,"/"))||"",Uint8Array.from(atob(e),t=>t.charCodeAt(0))),p7e=e=>{const t=new Uint8Array(e),n=t.byteLength,r=t.slice(0,1+n>>>1);return r[0]=2|t[n-1]&1,r.buffer},jae=()=>de(void 0,void 0,void 0,function*(){const e=yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t=yield crypto.subtle.exportKey("raw",e.publicKey),n=yield crypto.subtle.exportKey("jwk",e.privateKey),r=p7e(t),i=h7e(n.d);return{private:B2(i),privateJwk:n,public:B2(r),publicUncompressed:B2(t)}}),RS=(e,t)=>de(void 0,void 0,void 0,function*(){const n=yield crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},n,new TextEncoder().encode(t));return B2(r)}),$ae="client-session-key",c_=()=>{const e=ot.getItem(tM,nM);return e?JSON.parse(Buffer.from(e,"base64").toString()):void 0},m7e=()=>de(void 0,void 0,void 0,function*(){const{private:e,public:t,privateJwk:n}=yield jae();return ot.setItem(tM,rM(t,e,n,!1),nM),Ie.instrument("[SessionChaining] Generated new session key pair",{key:"generated_session_key_pair",sessionPublicKey:t,time:0}),Br.logEvent($ae,"Generated new session key pair",Br.formatObject({publicKey:t})),{privateKey:e,privateKeyJwk:n,publicKey:t}}),g7e=e=>de(void 0,[e],void 0,function*({privateKeyJwk:t,sessionId:n}){return RS(t,n)}),y7e=e=>de(void 0,[e],void 0,function*({privateKeyJwk:t,nonce:n}){return RS(t,n)}),Fc=()=>de(void 0,void 0,void 0,function*(){const e=c_();Br.logEvent($ae,"getClientSessionKeys",Br.formatObject({hasDecodedSessionKeys:!!e,publicKey:e==null?void 0:e.publicKey}));let t;return e?{publicKey:t}=e:{publicKey:t}=yield m7e(),{publicKey:t}}),Lae=()=>{const e=c_();return e==null?void 0:e.publicKey},v7e=e=>de(void 0,[e],void 0,function*({sessionId:t}){const n=c_();if(!n)throw new Error("Client session keys not found");const{publicKey:r,privateKeyJwk:i}=n,o=yield g7e({privateKeyJwk:i,sessionId:t});return{publicKey:r,sessionSignature:o}}),w7e=e=>de(void 0,[e],void 0,function*({environmentId:t}){const n=c_();if(!n)throw new Error("Client session keys not found");const{publicKey:r,privateKeyJwk:i}=n,o=yield Fae(t);if(!o)throw new Error("Nonce not found");const s=yield y7e({nonce:o,privateKeyJwk:i});return{nonce:o,nonceSignature:s,publicKey:r}}),b7e=()=>{const e=c_();Ie.instrument("[SessionChaining] Clearing client session keys",{key:"clearing_client_session_keys",sessionPublicKey:e==null?void 0:e.publicKey,time:0}),ot.removeItem(tM,nM)},Uae=()=>{const e={"x-dyn-request-id":r1(50)},t=d7e();t&&(e["x-dyn-device-fingerprint"]=t);const n=Lae();return n&&(e["x-dyn-session-public-key"]=n),e["x-dyn-version"]=`WalletKit/${JAe}`,e["x-dyn-api-version"]=`API/${ZAe}`,e["x-dyn-is-global-wallet-popup"]=PO()?"true":"false",e},ov=()=>{var e;return(e=Js().projectSettings)!==null&&e!==void 0?e:void 0},iM=()=>o_(Fr()),cn=({customHeaders:e}={})=>{const t={basePath:Od.getBaseUrl(),headers:Object.assign(Object.assign({"Content-Type":"application/json","x-dyn-request-id":r1(50)},Uae()),e)},n=XD();n&&(t.headers.Authorization=`Bearer ${n}`);const i=ov()&&iM()?"include":void 0;return new Loe(new e3(Object.assign(Object.assign({},t),{credentials:i,fetchApi:QI.fetch})))},Tr=(e,t,...n)=>de(void 0,[e,t,...n],void 0,function*(r,i,o="error"){if(r instanceof Response){const s=yield r.json();return Ie[o](i,{error:s.error,status:r.status}),s}else r instanceof Error&&Ie[o](i,r)}),Fae=e=>de(void 0,void 0,void 0,function*(){try{return(yield cn().getNonce({environmentId:e})).nonce}catch{return}}),Wae=x.createContext(void 0),_7e=({children:e})=>{const[t,n]=x.useState(""),[r,i]=x.useState(""),[o,s]=x.useState(void 0),a=x.useMemo(()=>({deniedAddress:r,deniedOauthProvider:o,deniedOauthUsername:t,setDeniedAddress:i,setDeniedOauthProvider:s,setDeniedOauthUsername:n}),[r,o,t]);return f.jsx(Wae.Provider,{value:a,children:e})},d_=()=>{const e=x.useContext(Wae);if(e===void 0)throw new Error("usage of useAccessDeniedContext not wrapped in `AccessDeniedContextProvider`.");return e},qae=x.createContext(void 0),x7e=({children:e})=>{const[t,n]=x.useState(),r=x.useMemo(()=>({existentAccountData:t,setExistentAccountData:n}),[t,n]);return f.jsx(qae.Provider,{value:r,children:e})},u_=()=>{const e=x.useContext(qae);if(e===void 0)throw new Error("usage of useAccountExistsContext not wrapped in `AccountExistsContextProvider`.");return e},zae=x.createContext(void 0),k7e=({children:e})=>{const[t,n]=x.useState([]),r=x.useRef([]),i=x.useRef([]),o=x.useRef([]),s=x.useCallback(c=>{n(d=>{const u=c(d);return u.length===0&&d.length===0?d:(d.length===0&&u.length>0&&rt.emit("userWalletsPopulated",u),r.current=d,u)})},[]);x.useEffect(()=>{i.current.forEach(c=>{const d=t.find(({id:u})=>u===c);d&&rt.emit("walletAdded",d,t)}),o.current.forEach(c=>{const d=r.current.find(({id:u})=>u===c);d&&rt.emit("walletRemoved",d,t)}),i.current=[],o.current=[]},[t]);const a=x.useCallback(c=>s(d=>[...d,c]),[s]),l=x.useCallback(c=>s(d=>d.filter(({id:u})=>c!==u)),[s]);return f.jsx(zae.Provider,{value:{addedWalletsIds:i,registerUserWallet:a,removeUserWallet:l,removedWalletsIds:o,setUserWallets:s,userWallets:t},children:e})},_s=()=>{const e=x.useContext(zae);if(!e)throw new Error("Can only call useInternalUserWallets inside UserWalletsProvider");return e},Vae=x.createContext(void 0),S7e=({children:e})=>{const[t,n]=x.useState(void 0),[r,i]=x.useState(void 0),[o,s]=x.useState(void 0),a=x.useCallback(c=>{s(d=>(c==null?void 0:c.phone)===(d==null?void 0:d.phone)&&(c==null?void 0:c.iso2)===(d==null?void 0:d.iso2)&&(c==null?void 0:c.dialCode)===(d==null?void 0:d.dialCode)?d:c)},[]),l=x.useMemo(()=>({displayedDestination:t,retryData:o,setDisplayedDestination:n,setRetryData:a,setVerificationUUID:i,verificationUUID:r}),[t,o,r,a]);return f.jsx(Vae.Provider,{value:l,children:e})},Kc=()=>{const e=x.useContext(Vae);if(e===void 0)throw new Error("usage of useVerification not wrapped in `VerificationProvider`.");return e};var xm=Kie();const gb={bip122:"BTC",bitcoin:"BTC",eip155:"EVM",solana:"SOL",sui:"SUI",ton:"TON"};for(const e in gb)gb[gb[e]]=e;const Kae=(e,t)=>e===t||gb[e]===t||gb[t]===e,I7e=new gi("findPrimaryEmbeddedChain"),E7e=Object.values(cm),_0=e=>{var t,n,r;const o=(r=(((n=(t=e==null?void 0:e.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.chainConfigurations)||[]).find(s=>s.primary))===null||r===void 0?void 0:r.name;return o?E7e.includes(o)?o:(I7e.error("Unsupported primary chain",{primaryChainName:o}),nr.Evm):nr.Evm},Oy=(e,t)=>e[t],Np={border:"rounded",brandStyle:"subtle",customColor:"",template:"default",themes:{auto:{colors:{accent_1:"#2C303A",accent_2:"#3C414D",accent_3:"#4C525F",background:"#15181F",border:"1px solid #2C303A",error_1:"rgba(255, 106, 106, 0.2)",error_2:"#FF6A6A",footer:"#2C303A",primary:"#15181F",secondary:"#2C303A",ternary:"#2660FF",textPrimary:"#FFF",textSecondary:"#ACACB9"},name:"auto"},dark:{colors:{accent_1:"#2C303A",accent_2:"#3C414D",accent_3:"#4C525F",background:"#15181F",border:"1px solid #2C303A",error_1:"rgba(255, 106, 106, 0.2)",error_2:"#FF6A6A",footer:"#2C303A",primary:"#15181F",secondary:"#2C303A",ternary:"#2660FF",textPrimary:"#FFF",textSecondary:"#ACACB9"},name:"dark"},light:{colors:{accent_1:"#FFF",accent_2:"#F0F3FF",accent_3:"#E9EDFC",background:"#FFFFFF",border:"1px solid #E9EDFC",error_1:"rgba(255, 70, 70, 0.1)",error_2:"#FF4646",footer:"#F7F9FE",primary:"#F7F7F9",secondary:"#FFFFFF",ternary:"#2660FF",textPrimary:"#404040",textSecondary:"#80858B"},name:"light"}},view:"extended",walletColor:{color:"#1648F9",gradient:"90deg, #1648F9 0%, #4B73FF 100%"}},BO=(e,t)=>{const{border:n,brand:r,view:i,primaryColor:o}=e||{},s=t||(e==null?void 0:e.theme)||"light",a=(e==null?void 0:e.template)||"default";return Object.assign(Object.assign({},Np),{border:n||Np.border,brandStyle:r||Np.brandStyle,customColor:o||Np.customColor,template:a,theme:Oy(Np.themes,s),view:i||Np.view})},C7e=()=>{if(Td())return;const e=document.querySelector('[data-source="dynamic-theme-cdn"]');if(e)return e;const t=document.createElement("link");return document.head.append(t),t.dataset.source="dynamic-theme-cdn",t.rel="stylesheet",t},A7e=()=>{if(Td())return;const e=document.querySelector('[data-source="dynamic-theme"]');if(e)return e;const t=document.createElement("style");return document.head.append(t),t.dataset.source="dynamic-theme",t},R7e=e=>{const{customColor:t,brandStyle:n}=e;return`@layer dynamic-project-environment-theme {
  #dynamic-widget, #dynamic-modal, .dynamic-shadow-dom {
    ${[["--dynamic-brand-primary-color",t],["--dynamic-badge-dot-background",t],["--dynamic-footer-background-color",n==="bold"?t:void 0],["--dynamic-footer-icon-color",n==="subtle"?t:void 0]].filter(([,s])=>s!==void 0&&s!=="").map(([s,a])=>`${s}: ${a};`).join(`
    `)}
  }
}`},Hae=x.createContext(void 0),T7e=({customerTheme:e,designSettings:t,children:n})=>{const[r,i]=x.useState(e||BO(t==null?void 0:t.modal)),o=x.useRef(C7e()),s=x.useRef(A7e()),a=x.useCallback(g=>{if(i(g),Td()||o.current===void 0||s.current===void 0)return;document.body.dataset.dynamicTheme=g.theme.name,document.body.dataset.dynamicThemeBrand=g.brandStyle;const y=g.template==="default"?"":`https://app.dynamic.xyz/assets/templates/${g.template}.css`;o.current.href!==y&&(o.current.href=y);const b=R7e(g);s.current.innerHTML!==b&&(s.current.innerHTML=b)},[]),l=x.useCallback((g,y)=>{var b;const k=(b=Np.themes)===null||b===void 0?void 0:b[g],_=Object.assign(Object.assign({},r),{theme:Object.assign(Object.assign({},k),{colors:Object.assign(Object.assign({},k.colors),{ternary:y??k.colors.ternary})})});a(_)},[a,r]),c=x.useCallback(g=>a(Object.assign(Object.assign({},r),{template:g})),[a,r]),d=x.useCallback(g=>a(Object.assign(Object.assign({},r),{border:g})),[a,r]),u=x.useCallback(g=>a(Object.assign(Object.assign({},r),{view:g})),[a,r]),h=x.useCallback(g=>a(Object.assign(Object.assign({},r),{customColor:g})),[a,r]),m=x.useCallback(g=>a(Object.assign(Object.assign({},r),{brandStyle:g})),[a,r]);x.useEffect(()=>a(e||BO(t==null?void 0:t.modal)),[e,t==null?void 0:t.modal,a]);const v=x.useMemo(()=>({changeBorder:d,changeBrandStyle:m,changePrimaryColor:h,changeTemplate:c,changeTheme:l,changeView:u,theme:r}),[r,d,m,c,l,h,u]);return f.jsx(Hae.Provider,{value:v,children:n})},f_=()=>{const e=x.useContext(Hae);if(e===void 0)throw new Error("useThemeContext must be used within a ThemeContextProvider");return e};var DO;try{DO=Map}catch{}var MO;try{MO=Set}catch{}function Gae(e,t,n){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(jO);if(DO&&e instanceof DO)return new Map(Array.from(e.entries()));if(MO&&e instanceof MO)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);n.push(r);for(var i in e){var o=t.findIndex(function(s){return s===e[i]});r[i]=o>-1?n[o]:Gae(e[i],t,n)}return r}return e}function jO(e){return Gae(e,[],[])}const O7e=Object.prototype.toString,N7e=Error.prototype.toString,P7e=RegExp.prototype.toString,B7e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",D7e=/^Symbol\((.*)\)(.*)$/;function M7e(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function ez(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return M7e(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return B7e.call(e).replace(D7e,"Symbol($1)");const r=O7e.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+N7e.call(e)+"]":r==="RegExp"?P7e.call(e):null}function x0(e,t){let n=ez(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=ez(this[r],t);return o!==null?o:i},2)}let Pp={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let i=r!=null&&r!==n,o=`${e} must be a \`${t}\` type, but the final value was: \`${x0(n,!0)}\``+(i?` (cast from the value \`${x0(r,!0)}\`).`:".");return n===null&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},Ac={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},j7e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},$O={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},LO={isValue:"${path} field must be ${value}"},UO={noUnknown:"${path} field has unspecified keys: ${unknown}"},D2={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Pp,string:Ac,number:j7e,date:$O,object:UO,array:D2,boolean:LO});var nA,tz;function $7e(){if(tz)return nA;tz=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return nA=n,nA}var rA,nz;function Jh(){if(nz)return rA;nz=1;var e=Array.isArray;return rA=e,rA}var iA,rz;function Jae(){if(rz)return iA;rz=1;var e=typeof Na=="object"&&Na&&Na.Object===Object&&Na;return iA=e,iA}var oA,iz;function tf(){if(iz)return oA;iz=1;var e=Jae(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return oA=n,oA}var sA,oz;function m3(){if(oz)return sA;oz=1;var e=tf(),t=e.Symbol;return sA=t,sA}var aA,sz;function L7e(){if(sz)return aA;sz=1;var e=m3(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var d=r.call(s);return c&&(a?s[i]=l:delete s[i]),d}return aA=o,aA}var lA,az;function U7e(){if(az)return lA;az=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return lA=n,lA}var cA,lz;function h_(){if(lz)return cA;lz=1;var e=m3(),t=L7e(),n=U7e(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return cA=s,cA}var dA,cz;function p_(){if(cz)return dA;cz=1;function e(t){return t!=null&&typeof t=="object"}return dA=e,dA}var uA,dz;function oM(){if(dz)return uA;dz=1;var e=h_(),t=p_(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return uA=r,uA}var fA,uz;function sM(){if(uz)return fA;uz=1;var e=Jh(),t=oM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return fA=i,fA}var hA,fz;function aM(){if(fz)return hA;fz=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return hA=e,hA}var pA,hz;function Zae(){if(hz)return pA;hz=1;var e=h_(),t=aM(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return pA=s,pA}var mA,pz;function F7e(){if(pz)return mA;pz=1;var e=tf(),t=e["__core-js_shared__"];return mA=t,mA}var gA,mz;function W7e(){if(mz)return gA;mz=1;var e=F7e(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return gA=n,gA}var yA,gz;function Yae(){if(gz)return yA;gz=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return yA=n,yA}var vA,yz;function q7e(){if(yz)return vA;yz=1;var e=Zae(),t=W7e(),n=aM(),r=Yae(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(h){if(!n(h)||t(h))return!1;var m=e(h)?d:o;return m.test(r(h))}return vA=u,vA}var wA,vz;function z7e(){if(vz)return wA;vz=1;function e(t,n){return t==null?void 0:t[n]}return wA=e,wA}var bA,wz;function Km(){if(wz)return bA;wz=1;var e=q7e(),t=z7e();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return bA=n,bA}var _A,bz;function g3(){if(bz)return _A;bz=1;var e=Km(),t=e(Object,"create");return _A=t,_A}var xA,_z;function V7e(){if(_z)return xA;_z=1;var e=g3();function t(){this.__data__=e?e(null):{},this.size=0}return xA=t,xA}var kA,xz;function K7e(){if(xz)return kA;xz=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return kA=e,kA}var SA,kz;function H7e(){if(kz)return SA;kz=1;var e=g3(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return SA=i,SA}var IA,Sz;function G7e(){if(Sz)return IA;Sz=1;var e=g3(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return IA=r,IA}var EA,Iz;function J7e(){if(Iz)return EA;Iz=1;var e=g3(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return EA=n,EA}var CA,Ez;function Z7e(){if(Ez)return CA;Ez=1;var e=V7e(),t=K7e(),n=H7e(),r=G7e(),i=J7e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,CA=o,CA}var AA,Cz;function Y7e(){if(Cz)return AA;Cz=1;function e(){this.__data__=[],this.size=0}return AA=e,AA}var RA,Az;function Xae(){if(Az)return RA;Az=1;function e(t,n){return t===n||t!==t&&n!==n}return RA=e,RA}var TA,Rz;function y3(){if(Rz)return TA;Rz=1;var e=Xae();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return TA=t,TA}var OA,Tz;function X7e(){if(Tz)return OA;Tz=1;var e=y3(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return OA=r,OA}var NA,Oz;function Q7e(){if(Oz)return NA;Oz=1;var e=y3();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return NA=t,NA}var PA,Nz;function eBe(){if(Nz)return PA;Nz=1;var e=y3();function t(n){return e(this.__data__,n)>-1}return PA=t,PA}var BA,Pz;function tBe(){if(Pz)return BA;Pz=1;var e=y3();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return BA=t,BA}var DA,Bz;function v3(){if(Bz)return DA;Bz=1;var e=Y7e(),t=X7e(),n=Q7e(),r=eBe(),i=tBe();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,DA=o,DA}var MA,Dz;function lM(){if(Dz)return MA;Dz=1;var e=Km(),t=tf(),n=e(t,"Map");return MA=n,MA}var jA,Mz;function nBe(){if(Mz)return jA;Mz=1;var e=Z7e(),t=v3(),n=lM();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return jA=r,jA}var $A,jz;function rBe(){if(jz)return $A;jz=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return $A=e,$A}var LA,$z;function w3(){if($z)return LA;$z=1;var e=rBe();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return LA=t,LA}var UA,Lz;function iBe(){if(Lz)return UA;Lz=1;var e=w3();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return UA=t,UA}var FA,Uz;function oBe(){if(Uz)return FA;Uz=1;var e=w3();function t(n){return e(this,n).get(n)}return FA=t,FA}var WA,Fz;function sBe(){if(Fz)return WA;Fz=1;var e=w3();function t(n){return e(this,n).has(n)}return WA=t,WA}var qA,Wz;function aBe(){if(Wz)return qA;Wz=1;var e=w3();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return qA=t,qA}var zA,qz;function cM(){if(qz)return zA;qz=1;var e=nBe(),t=iBe(),n=oBe(),r=sBe(),i=aBe();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,zA=o,zA}var VA,zz;function lBe(){if(zz)return VA;zz=1;var e=cM(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var c=r.apply(this,s);return o.cache=l.set(a,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,VA=n,VA}var KA,Vz;function cBe(){if(Vz)return KA;Vz=1;var e=lBe(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return KA=n,KA}var HA,Kz;function dBe(){if(Kz)return HA;Kz=1;var e=cBe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,c){o.push(l?c.replace(n,"$1"):a||s)}),o});return HA=r,HA}var GA,Hz;function uBe(){if(Hz)return GA;Hz=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return GA=e,GA}var JA,Gz;function fBe(){if(Gz)return JA;Gz=1;var e=m3(),t=uBe(),n=Jh(),r=oM(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return JA=s,JA}var ZA,Jz;function m_(){if(Jz)return ZA;Jz=1;var e=fBe();function t(n){return n==null?"":e(n)}return ZA=t,ZA}var YA,Zz;function Qae(){if(Zz)return YA;Zz=1;var e=Jh(),t=sM(),n=dBe(),r=m_();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return YA=i,YA}var XA,Yz;function hBe(){if(Yz)return XA;Yz=1;var e=h_(),t=p_(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return XA=r,XA}var QA,Xz;function ele(){if(Xz)return QA;Xz=1;var e=hBe(),t=p_(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return QA=o,QA}var e6,Qz;function tle(){if(Qz)return e6;Qz=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return e6=n,e6}var t6,eV;function dM(){if(eV)return t6;eV=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return t6=t,t6}var n6,tV;function b3(){if(tV)return n6;tV=1;var e=oM();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return n6=t,n6}var r6,nV;function nle(){if(nV)return r6;nV=1;var e=Qae(),t=ele(),n=Jh(),r=tle(),i=dM(),o=b3();function s(a,l,c){l=e(l,a);for(var d=-1,u=l.length,h=!1;++d<u;){var m=o(l[d]);if(!(h=a!=null&&c(a,m)))break;a=a[m]}return h||++d!=u?h:(u=a==null?0:a.length,!!u&&i(u)&&r(m,u)&&(n(a)||t(a)))}return r6=s,r6}var i6,rV;function pBe(){if(rV)return i6;rV=1;var e=$7e(),t=nle();function n(r,i){return r!=null&&t(r,i,e)}return i6=n,i6}var mBe=pBe();const TS=Rr(mBe),uM=e=>e&&e.__isYupSchema__;class gBe{constructor(t,n){if(this.fn=void 0,this.refs=t,this.refs=t,typeof n=="function"){this.fn=n;return}if(!TS(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);this.fn=function(...a){let l=a.pop(),c=a.pop(),d=s(...a)?i:o;if(d)return typeof d=="function"?d(c):c.concat(d.resolve(l))}}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(t,r.concat(t,n));if(i===void 0||i===t)return t;if(!uM(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function rle(e){return e==null?[]:[].concat(e)}function FO(){return FO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO.apply(this,arguments)}let yBe=/\$\{\s*(\w+)\s*\}/g;class Ba extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=FO({},n,{path:r})),typeof t=="string"?t.replace(yBe,(i,o)=>x0(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],rle(t).forEach(o=>{Ba.isError(o)?(this.errors.push(...o.errors),this.inner=this.inner.concat(o.inner.length?o.inner:o)):this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Ba)}}const vBe=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}};function OS(e,t){let{endEarly:n,tests:r,args:i,value:o,errors:s,sort:a,path:l}=e,c=vBe(t),d=r.length;const u=[];if(s=s||[],!d)return s.length?c(new Ba(s,o,l)):c(null,o);for(let h=0;h<r.length;h++){const m=r[h];m(i,function(g){if(g){if(!Ba.isError(g))return c(g,o);if(n)return g.value=o,c(g,o);u.push(g)}if(--d<=0){if(u.length&&(a&&u.sort(a),s.length&&u.push(...s),s=u),s.length){c(new Ba(s,o,l),o);return}c(null,o)}})}}var o6,iV;function wBe(){if(iV)return o6;iV=1;var e=Km(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return o6=t,o6}var s6,oV;function ile(){if(oV)return s6;oV=1;var e=wBe();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return s6=t,s6}var a6,sV;function bBe(){if(sV)return a6;sV=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var c=a[t?l:++o];if(r(s[c],c,s)===!1)break}return n}}return a6=e,a6}var l6,aV;function _Be(){if(aV)return l6;aV=1;var e=bBe(),t=e();return l6=t,l6}var c6,lV;function xBe(){if(lV)return c6;lV=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return c6=e,c6}var Yw={exports:{}},d6,cV;function kBe(){if(cV)return d6;cV=1;function e(){return!1}return d6=e,d6}Yw.exports;var dV;function ole(){return dV||(dV=1,(function(e,t){var n=tf(),r=kBe(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c})(Yw,Yw.exports)),Yw.exports}var u6,uV;function SBe(){if(uV)return u6;uV=1;var e=h_(),t=dM(),n=p_(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",u="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",k="[object Float32Array]",_="[object Float64Array]",R="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",M="[object Uint8Array]",D="[object Uint8ClampedArray]",A="[object Uint16Array]",U="[object Uint32Array]",$={};$[k]=$[_]=$[R]=$[I]=$[T]=$[M]=$[D]=$[A]=$[U]=!0,$[r]=$[i]=$[y]=$[o]=$[b]=$[s]=$[a]=$[l]=$[c]=$[d]=$[u]=$[h]=$[m]=$[v]=$[g]=!1;function q(z){return n(z)&&t(z.length)&&!!$[e(z)]}return u6=q,u6}var f6,fV;function IBe(){if(fV)return f6;fV=1;function e(t){return function(n){return t(n)}}return f6=e,f6}var Xw={exports:{}};Xw.exports;var hV;function EBe(){return hV||(hV=1,(function(e,t){var n=Jae(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();e.exports=a})(Xw,Xw.exports)),Xw.exports}var h6,pV;function sle(){if(pV)return h6;pV=1;var e=SBe(),t=IBe(),n=EBe(),r=n&&n.isTypedArray,i=r?t(r):e;return h6=i,h6}var p6,mV;function CBe(){if(mV)return p6;mV=1;var e=xBe(),t=ele(),n=Jh(),r=ole(),i=tle(),o=sle(),s=Object.prototype,a=s.hasOwnProperty;function l(c,d){var u=n(c),h=!u&&t(c),m=!u&&!h&&r(c),v=!u&&!h&&!m&&o(c),g=u||h||m||v,y=g?e(c.length,String):[],b=y.length;for(var k in c)(d||a.call(c,k))&&!(g&&(k=="length"||m&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,b)))&&y.push(k);return y}return p6=l,p6}var m6,gV;function ABe(){if(gV)return m6;gV=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return m6=t,m6}var g6,yV;function RBe(){if(yV)return g6;yV=1;function e(t,n){return function(r){return t(n(r))}}return g6=e,g6}var y6,vV;function TBe(){if(vV)return y6;vV=1;var e=RBe(),t=e(Object.keys,Object);return y6=t,y6}var v6,wV;function OBe(){if(wV)return v6;wV=1;var e=ABe(),t=TBe(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return v6=i,v6}var w6,bV;function NBe(){if(bV)return w6;bV=1;var e=Zae(),t=dM();function n(r){return r!=null&&t(r.length)&&!e(r)}return w6=n,w6}var b6,_V;function fM(){if(_V)return b6;_V=1;var e=CBe(),t=OBe(),n=NBe();function r(i){return n(i)?e(i):t(i)}return b6=r,b6}var _6,xV;function ale(){if(xV)return _6;xV=1;var e=_Be(),t=fM();function n(r,i){return r&&e(r,i,t)}return _6=n,_6}var x6,kV;function PBe(){if(kV)return x6;kV=1;var e=v3();function t(){this.__data__=new e,this.size=0}return x6=t,x6}var k6,SV;function BBe(){if(SV)return k6;SV=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return k6=e,k6}var S6,IV;function DBe(){if(IV)return S6;IV=1;function e(t){return this.__data__.get(t)}return S6=e,S6}var I6,EV;function MBe(){if(EV)return I6;EV=1;function e(t){return this.__data__.has(t)}return I6=e,I6}var E6,CV;function jBe(){if(CV)return E6;CV=1;var e=v3(),t=lM(),n=cM(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return E6=i,E6}var C6,AV;function lle(){if(AV)return C6;AV=1;var e=v3(),t=PBe(),n=BBe(),r=DBe(),i=MBe(),o=jBe();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,C6=s,C6}var A6,RV;function $Be(){if(RV)return A6;RV=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return A6=t,A6}var R6,TV;function LBe(){if(TV)return R6;TV=1;function e(t){return this.__data__.has(t)}return R6=e,R6}var T6,OV;function UBe(){if(OV)return T6;OV=1;var e=cM(),t=$Be(),n=LBe();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,T6=r,T6}var O6,NV;function FBe(){if(NV)return O6;NV=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return O6=e,O6}var N6,PV;function WBe(){if(PV)return N6;PV=1;function e(t,n){return t.has(n)}return N6=e,N6}var P6,BV;function cle(){if(BV)return P6;BV=1;var e=UBe(),t=FBe(),n=WBe(),r=1,i=2;function o(s,a,l,c,d,u){var h=l&r,m=s.length,v=a.length;if(m!=v&&!(h&&v>m))return!1;var g=u.get(s),y=u.get(a);if(g&&y)return g==a&&y==s;var b=-1,k=!0,_=l&i?new e:void 0;for(u.set(s,a),u.set(a,s);++b<m;){var R=s[b],I=a[b];if(c)var T=h?c(I,R,b,a,s,u):c(R,I,b,s,a,u);if(T!==void 0){if(T)continue;k=!1;break}if(_){if(!t(a,function(M,D){if(!n(_,D)&&(R===M||d(R,M,l,c,u)))return _.push(D)})){k=!1;break}}else if(!(R===I||d(R,I,l,c,u))){k=!1;break}}return u.delete(s),u.delete(a),k}return P6=o,P6}var B6,DV;function qBe(){if(DV)return B6;DV=1;var e=tf(),t=e.Uint8Array;return B6=t,B6}var D6,MV;function zBe(){if(MV)return D6;MV=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return D6=e,D6}var M6,jV;function VBe(){if(jV)return M6;jV=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return M6=e,M6}var j6,$V;function KBe(){if($V)return j6;$V=1;var e=m3(),t=qBe(),n=Xae(),r=cle(),i=zBe(),o=VBe(),s=1,a=2,l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",k="[object DataView]",_=e?e.prototype:void 0,R=_?_.valueOf:void 0;function I(T,M,D,A,U,$,q){switch(D){case k:if(T.byteLength!=M.byteLength||T.byteOffset!=M.byteOffset)return!1;T=T.buffer,M=M.buffer;case b:return!(T.byteLength!=M.byteLength||!$(new t(T),new t(M)));case l:case c:case h:return n(+T,+M);case d:return T.name==M.name&&T.message==M.message;case m:case g:return T==M+"";case u:var z=i;case v:var S=A&s;if(z||(z=o),T.size!=M.size&&!S)return!1;var E=q.get(T);if(E)return E==M;A|=a,q.set(T,M);var N=r(z(T),z(M),A,U,$,q);return q.delete(T),N;case y:if(R)return R.call(T)==R.call(M)}return!1}return j6=I,j6}var $6,LV;function HBe(){if(LV)return $6;LV=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return $6=e,$6}var L6,UV;function GBe(){if(UV)return L6;UV=1;var e=HBe(),t=Jh();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return L6=n,L6}var U6,FV;function JBe(){if(FV)return U6;FV=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return U6=e,U6}var F6,WV;function ZBe(){if(WV)return F6;WV=1;function e(){return[]}return F6=e,F6}var W6,qV;function YBe(){if(qV)return W6;qV=1;var e=JBe(),t=ZBe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return W6=o,W6}var q6,zV;function XBe(){if(zV)return q6;zV=1;var e=GBe(),t=YBe(),n=fM();function r(i){return e(i,n,t)}return q6=r,q6}var z6,VV;function QBe(){if(VV)return z6;VV=1;var e=XBe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,c,d){var u=a&t,h=e(o),m=h.length,v=e(s),g=v.length;if(m!=g&&!u)return!1;for(var y=m;y--;){var b=h[y];if(!(u?b in s:r.call(s,b)))return!1}var k=d.get(o),_=d.get(s);if(k&&_)return k==s&&_==o;var R=!0;d.set(o,s),d.set(s,o);for(var I=u;++y<m;){b=h[y];var T=o[b],M=s[b];if(l)var D=u?l(M,T,b,s,o,d):l(T,M,b,o,s,d);if(!(D===void 0?T===M||c(T,M,a,l,d):D)){R=!1;break}I||(I=b=="constructor")}if(R&&!I){var A=o.constructor,U=s.constructor;A!=U&&"constructor"in o&&"constructor"in s&&!(typeof A=="function"&&A instanceof A&&typeof U=="function"&&U instanceof U)&&(R=!1)}return d.delete(o),d.delete(s),R}return z6=i,z6}var V6,KV;function eDe(){if(KV)return V6;KV=1;var e=Km(),t=tf(),n=e(t,"DataView");return V6=n,V6}var K6,HV;function tDe(){if(HV)return K6;HV=1;var e=Km(),t=tf(),n=e(t,"Promise");return K6=n,K6}var H6,GV;function nDe(){if(GV)return H6;GV=1;var e=Km(),t=tf(),n=e(t,"Set");return H6=n,H6}var G6,JV;function rDe(){if(JV)return G6;JV=1;var e=Km(),t=tf(),n=e(t,"WeakMap");return G6=n,G6}var J6,ZV;function iDe(){if(ZV)return J6;ZV=1;var e=eDe(),t=lM(),n=tDe(),r=nDe(),i=rDe(),o=h_(),s=Yae(),a="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",u="[object WeakMap]",h="[object DataView]",m=s(e),v=s(t),g=s(n),y=s(r),b=s(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=h||t&&k(new t)!=a||n&&k(n.resolve())!=c||r&&k(new r)!=d||i&&k(new i)!=u)&&(k=function(_){var R=o(_),I=R==l?_.constructor:void 0,T=I?s(I):"";if(T)switch(T){case m:return h;case v:return a;case g:return c;case y:return d;case b:return u}return R}),J6=k,J6}var Z6,YV;function oDe(){if(YV)return Z6;YV=1;var e=lle(),t=cle(),n=KBe(),r=QBe(),i=iDe(),o=Jh(),s=ole(),a=sle(),l=1,c="[object Arguments]",d="[object Array]",u="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function v(g,y,b,k,_,R){var I=o(g),T=o(y),M=I?d:i(g),D=T?d:i(y);M=M==c?u:M,D=D==c?u:D;var A=M==u,U=D==u,$=M==D;if($&&s(g)){if(!s(y))return!1;I=!0,A=!1}if($&&!A)return R||(R=new e),I||a(g)?t(g,y,b,k,_,R):n(g,y,M,b,k,_,R);if(!(b&l)){var q=A&&m.call(g,"__wrapped__"),z=U&&m.call(y,"__wrapped__");if(q||z){var S=q?g.value():g,E=z?y.value():y;return R||(R=new e),_(S,E,b,k,R)}}return $?(R||(R=new e),r(g,y,b,k,_,R)):!1}return Z6=v,Z6}var Y6,XV;function dle(){if(XV)return Y6;XV=1;var e=oDe(),t=p_();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Y6=n,Y6}var X6,QV;function sDe(){if(QV)return X6;QV=1;var e=lle(),t=dle(),n=1,r=2;function i(o,s,a,l){var c=a.length,d=c,u=!l;if(o==null)return!d;for(o=Object(o);c--;){var h=a[c];if(u&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++c<d;){h=a[c];var m=h[0],v=o[m],g=h[1];if(u&&h[2]){if(v===void 0&&!(m in o))return!1}else{var y=new e;if(l)var b=l(v,g,m,o,s,y);if(!(b===void 0?t(g,v,n|r,l,y):b))return!1}}return!0}return X6=i,X6}var Q6,eK;function ule(){if(eK)return Q6;eK=1;var e=aM();function t(n){return n===n&&!e(n)}return Q6=t,Q6}var eR,tK;function aDe(){if(tK)return eR;tK=1;var e=ule(),t=fM();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return eR=n,eR}var tR,nK;function fle(){if(nK)return tR;nK=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return tR=e,tR}var nR,rK;function lDe(){if(rK)return nR;rK=1;var e=sDe(),t=aDe(),n=fle();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return nR=r,nR}var rR,iK;function hle(){if(iK)return rR;iK=1;var e=Qae(),t=b3();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return rR=n,rR}var iR,oK;function cDe(){if(oK)return iR;oK=1;var e=hle();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return iR=t,iR}var oR,sK;function dDe(){if(sK)return oR;sK=1;function e(t,n){return t!=null&&n in Object(t)}return oR=e,oR}var sR,aK;function uDe(){if(aK)return sR;aK=1;var e=dDe(),t=nle();function n(r,i){return r!=null&&t(r,i,e)}return sR=n,sR}var aR,lK;function fDe(){if(lK)return aR;lK=1;var e=dle(),t=cDe(),n=uDe(),r=sM(),i=ule(),o=fle(),s=b3(),a=1,l=2;function c(d,u){return r(d)&&i(u)?o(s(d),u):function(h){var m=t(h,d);return m===void 0&&m===u?n(h,d):e(u,m,a|l)}}return aR=c,aR}var lR,cK;function hDe(){if(cK)return lR;cK=1;function e(t){return t}return lR=e,lR}var cR,dK;function pDe(){if(dK)return cR;dK=1;function e(t){return function(n){return n==null?void 0:n[t]}}return cR=e,cR}var dR,uK;function mDe(){if(uK)return dR;uK=1;var e=hle();function t(n){return function(r){return e(r,n)}}return dR=t,dR}var uR,fK;function gDe(){if(fK)return uR;fK=1;var e=pDe(),t=mDe(),n=sM(),r=b3();function i(o){return n(o)?e(r(o)):t(o)}return uR=i,uR}var fR,hK;function ple(){if(hK)return fR;hK=1;var e=lDe(),t=fDe(),n=hDe(),r=Jh(),i=gDe();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return fR=o,fR}var hR,pK;function yDe(){if(pK)return hR;pK=1;var e=ile(),t=ale(),n=ple();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,c){e(s,l,o(a,l,c))}),s}return hR=r,hR}var vDe=yDe();const mle=Rr(vDe);var pR,mK;function wDe(){if(mK)return pR;mK=1;function e(b){this._maxSize=b,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(b){return this._values[b]},e.prototype.set=function(b,k){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=k};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=512,a=new e(s),l=new e(s),c=new e(s);pR={Cache:e,split:u,normalizePath:d,setter:function(b){var k=d(b);return l.get(b)||l.set(b,function(R,I){for(var T=0,M=k.length,D=R;T<M-1;){var A=k[T];if(A==="__proto__"||A==="constructor"||A==="prototype")return R;D=D[k[T++]]}D[k[T]]=I})},getter:function(b,k){var _=d(b);return c.get(b)||c.set(b,function(I){for(var T=0,M=_.length;T<M;)if(I!=null||!k)I=I[_[T++]];else return;return I})},join:function(b){return b.reduce(function(k,_){return k+(m(_)||n.test(_)?"["+_+"]":(k?".":"")+_)},"")},forEach:function(b,k,_){h(Array.isArray(b)?b:u(b),k,_)}};function d(b){return a.get(b)||a.set(b,u(b).map(function(k){return k.replace(o,"$2")}))}function u(b){return b.match(t)||[""]}function h(b,k,_){var R=b.length,I,T,M,D;for(T=0;T<R;T++)I=b[T],I&&(y(I)&&(I='"'+I+'"'),D=m(I),M=!D&&/^\d+$/.test(I),k.call(_,I,D,M,T,b))}function m(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function v(b){return b.match(r)&&!b.match(n)}function g(b){return i.test(b)}function y(b){return!m(b)&&(v(b)||g(b))}return pR}var _3=wDe();const wk={context:"$",value:"."};class kh{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===wk.context,this.isValue=this.key[0]===wk.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?wk.context:this.isValue?wk.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&_3.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}kh.prototype.__isYupRef=!0;function NS(){return NS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(this,arguments)}function bDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bk(e){function t(n,r){let{value:i,path:o="",label:s,options:a,originalValue:l,sync:c}=n,d=bDe(n,["value","path","label","options","originalValue","sync"]);const{name:u,test:h,params:m,message:v}=e;let{parent:g,context:y}=a;function b(T){return kh.isRef(T)?T.getValue(i,g,y):T}function k(T={}){const M=mle(NS({value:i,originalValue:l,label:s,path:T.path||o},m,T.params),b),D=new Ba(Ba.formatError(T.message||v,M),i,M.path,T.type||u);return D.params=M,D}let _=NS({path:o,parent:g,type:u,createError:k,resolve:b,options:a,originalValue:l},d);if(!c){try{Promise.resolve(h.call(_,i,_)).then(T=>{Ba.isError(T)?r(T):T?r(null,T):r(k())}).catch(r)}catch(T){r(T)}return}let R;try{var I;if(R=h.call(_,i,_),typeof((I=R)==null?void 0:I.then)=="function")throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(T){r(T);return}Ba.isError(R)?r(R):R?r(null,R):r(k())}return t.OPTIONS=e,t}let _De=e=>e.substr(0,e.length-1).substr(1);function xDe(e,t,n,r=n){let i,o,s;return t?(_3.forEach(t,(a,l,c)=>{let d=l?_De(a):a;if(e=e.resolve({context:r,parent:i,value:n}),e.innerType){let u=c?parseInt(d,10):0;if(n&&u>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[u],e=e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e._type}")`);i=n,n=n&&n[d],e=e.fields[d]}o=d,s=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class PS{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const n of this.list)t.push(n);for(const[,n]of this.refs)t.push(n.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((n,r)=>n.concat(kh.isRef(r)?t(r):r),[])}add(t){kh.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){kh.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new PS;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,n){const r=this.clone();return t.list.forEach(i=>r.add(i)),t.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function Gl(){return Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(this,arguments)}class oa{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new PS,this._blacklist=new PS,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Pp.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=Gl({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=Gl({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=jO(Gl({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Gl({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}cast(t,n={}){let r=this.resolve(Gl({value:t},n)),i=r._cast(t,n);if(t!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let o=x0(t),s=x0(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${o} 
`+(s!==o?`result of cast: ${s}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault()),r}_validate(t,n={},r){let{sync:i,path:o,from:s=[],originalValue:a=t,strict:l=this.spec.strict,abortEarly:c=this.spec.abortEarly}=n,d=t;l||(d=this._cast(d,Gl({assert:!1},n)));let u={value:d,path:o,options:n,originalValue:a,schema:this,label:this.spec.label,sync:i,from:s},h=[];this._typeError&&h.push(this._typeError);let m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),OS({args:u,value:d,path:o,tests:h,endEarly:c},v=>{if(v)return void r(v,d);OS({tests:this.tests.concat(m),args:u,path:o,sync:i,value:d,endEarly:c},r)})}validate(t,n,r){let i=this.resolve(Gl({},n,{value:t}));return typeof r=="function"?i._validate(t,n,r):new Promise((o,s)=>i._validate(t,n,(a,l)=>{a?s(a):o(l)}))}validateSync(t,n){let r=this.resolve(Gl({},n,{value:t})),i;return r._validate(t,Gl({},n,{sync:!0}),(o,s)=>{if(o)throw o;i=s}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Ba.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Ba.isError(r))return!1;throw r}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):jO(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let n=this.clone();return n.spec.strict=t,n}_isPresent(t){return t!=null}defined(t=Pp.defined){return this.test({message:t,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(t=Pp.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:t,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Pp.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=bk(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=rle(t).map(o=>new kh(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(new gBe(i,n)),r}typeError(t){let n=this.clone();return n._typeError=bk({message:t,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(t,n=Pp.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=bk({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:o.toArray().join(", "),resolved:s}})}}),r}notOneOf(t,n=Pp.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=bk({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:o.toArray().join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(){const t=this.clone(),{label:n,meta:r}=t.spec;return{meta:r,label:n,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(o=>({name:o.OPTIONS.name,params:o.OPTIONS.params})).filter((o,s,a)=>a.findIndex(l=>l.name===o.name)===s)}}}oa.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])oa.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=xDe(this,t,n,r.context);return s[e](i&&i[o],Gl({},r,{parent:i,path:t}))};for(const e of["equals","is"])oa.prototype[e]=oa.prototype.oneOf;for(const e of["not","nope"])oa.prototype[e]=oa.prototype.notOneOf;oa.prototype.optional=oa.prototype.notRequired;const Hs=e=>e==null;function yb(){return new gle}class gle extends oa{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}_typeCheck(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}isTrue(t=LO.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Hs(n)||n===!0}})}isFalse(t=LO.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Hs(n)||n===!1}})}}yb.prototype=gle.prototype;let kDe=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,SDe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,IDe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,EDe=e=>Hs(e)||e===e.trim(),CDe={}.toString();function Ar(){return new yle}class yle extends oa{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===CDe?t:n})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,n=Ac.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Hs(r)||r.length===this.resolve(t)}})}min(t,n=Ac.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Hs(r)||r.length>=this.resolve(t)}})}max(t,n=Ac.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},test(r){return Hs(r)||r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Ac.matches,params:{regex:t},test:s=>Hs(s)||s===""&&r||s.search(t)!==-1})}email(t=Ac.email){return this.matches(kDe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Ac.url){return this.matches(SDe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Ac.uuid){return this.matches(IDe,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Ac.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:EDe})}lowercase(t=Ac.lowercase){return this.transform(n=>Hs(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Hs(n)||n===n.toLowerCase()})}uppercase(t=Ac.uppercase){return this.transform(n=>Hs(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Hs(n)||n===n.toUpperCase()})}}Ar.prototype=yle.prototype;var ADe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function RDe(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=ADe.exec(e)){for(var o=0,s;s=t[o];++o)i[s]=+i[s]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let vle=new Date(""),TDe=e=>Object.prototype.toString.call(e)==="[object Date]";class ODe extends oa{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=RDe(t),isNaN(t)?vle:new Date(t))})})}_typeCheck(t){return TDe(t)&&!isNaN(t.getTime())}prepareParam(t,n){let r;if(kh.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=$O.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(i){return Hs(i)||i>=this.resolve(r)}})}max(t,n=$O.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(i){return Hs(i)||i<=this.resolve(r)}})}}ODe.INVALID_DATE=vle;var mR,gK;function NDe(){if(gK)return mR;gK=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return mR=e,mR}var gR,yK;function PDe(){if(yK)return gR;yK=1;function e(t){return function(n){return t==null?void 0:t[n]}}return gR=e,gR}var yR,vK;function BDe(){if(vK)return yR;vK=1;var e=PDe(),t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n=e(t);return yR=n,yR}var vR,wK;function DDe(){if(wK)return vR;wK=1;var e=BDe(),t=m_(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+i+o,a="["+s+"]",l=RegExp(a,"g");function c(d){return d=t(d),d&&d.replace(n,e).replace(l,"")}return vR=c,vR}var wR,bK;function MDe(){if(bK)return wR;bK=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(n){return n.match(e)||[]}return wR=t,wR}var bR,_K;function jDe(){if(_K)return bR;_K=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(n){return e.test(n)}return bR=t,bR}var _R,xK;function $De(){if(xK)return _R;xK=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",a="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c="\\u2000-\\u206f",d=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",m=a+l+c+d,v="[']",g="["+m+"]",y="["+i+"]",b="\\d+",k="["+o+"]",_="["+s+"]",R="[^"+e+m+b+o+s+u+"]",I="\\ud83c[\\udffb-\\udfff]",T="(?:"+y+"|"+I+")",M="[^"+e+"]",D="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+u+"]",$="\\u200d",q="(?:"+_+"|"+R+")",z="(?:"+U+"|"+R+")",S="(?:"+v+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+v+"(?:D|LL|M|RE|S|T|VE))?",N=T+"?",P="["+h+"]?",j="(?:"+$+"(?:"+[M,D,A].join("|")+")"+P+N+")*",V="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",K="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",F=P+N+j,O="(?:"+[k,D,A].join("|")+")"+F,W=RegExp([U+"?"+_+"+"+S+"(?="+[g,U,"$"].join("|")+")",z+"+"+E+"(?="+[g,U+q,"$"].join("|")+")",U+"?"+q+"+"+S,U+"+"+E,K,V,b,O].join("|"),"g");function G(Y){return Y.match(W)||[]}return _R=G,_R}var xR,kK;function LDe(){if(kK)return xR;kK=1;var e=MDe(),t=jDe(),n=m_(),r=$De();function i(o,s,a){return o=n(o),s=a?void 0:s,s===void 0?t(o)?r(o):e(o):o.match(s)||[]}return xR=i,xR}var kR,SK;function wle(){if(SK)return kR;SK=1;var e=NDe(),t=DDe(),n=LDe(),r="[']",i=RegExp(r,"g");function o(s){return function(a){return e(n(t(a).replace(i,"")),s,"")}}return kR=o,kR}var SR,IK;function UDe(){if(IK)return SR;IK=1;var e=wle(),t=e(function(n,r,i){return n+(i?"_":"")+r.toLowerCase()});return SR=t,SR}var FDe=UDe();const EK=Rr(FDe);var IR,CK;function WDe(){if(CK)return IR;CK=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+n];return s}return IR=e,IR}var ER,AK;function qDe(){if(AK)return ER;AK=1;var e=WDe();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return ER=t,ER}var CR,RK;function ble(){if(RK)return CR;RK=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(c){return a.test(c)}return CR=l,CR}var AR,TK;function zDe(){if(TK)return AR;TK=1;function e(t){return t.split("")}return AR=e,AR}var RR,OK;function VDe(){if(OK)return RR;OK=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",d="[^"+e+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=c+"?",g="["+o+"]?",y="(?:"+m+"(?:"+[d,u,h].join("|")+")"+g+v+")*",b=g+v+y,k="(?:"+[d+a+"?",a,u,h,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+k+b,"g");function R(I){return I.match(_)||[]}return RR=R,RR}var TR,NK;function KDe(){if(NK)return TR;NK=1;var e=zDe(),t=ble(),n=VDe();function r(i){return t(i)?n(i):e(i)}return TR=r,TR}var OR,PK;function HDe(){if(PK)return OR;PK=1;var e=qDe(),t=ble(),n=KDe(),r=m_();function i(o){return function(s){s=r(s);var a=t(s)?n(s):void 0,l=a?a[0]:s.charAt(0),c=a?e(a,1).join(""):s.slice(1);return l[o]()+c}}return OR=i,OR}var NR,BK;function GDe(){if(BK)return NR;BK=1;var e=HDe(),t=e("toUpperCase");return NR=t,NR}var PR,DK;function JDe(){if(DK)return PR;DK=1;var e=m_(),t=GDe();function n(r){return t(e(r).toLowerCase())}return PR=n,PR}var BR,MK;function ZDe(){if(MK)return BR;MK=1;var e=JDe(),t=wle(),n=t(function(r,i,o){return i=i.toLowerCase(),r+(o?e(i):i)});return BR=n,BR}var YDe=ZDe();const XDe=Rr(YDe);var DR,jK;function QDe(){if(jK)return DR;jK=1;var e=ile(),t=ale(),n=ple();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,c){e(s,o(a,l,c),a)}),s}return DR=r,DR}var eMe=QDe();const tMe=Rr(eMe);var _k={exports:{}},$K;function nMe(){if($K)return _k.exports;$K=1,_k.exports=function(i){return e(t(i),i)},_k.exports.array=e;function e(i,o){var s=i.length,a=new Array(s),l={},c=s,d=n(o),u=r(i);for(o.forEach(function(m){if(!u.has(m[0])||!u.has(m[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)l[c]||h(i[c],c,new Set);return a;function h(m,v,g){if(g.has(m)){var y;try{y=", node was:"+JSON.stringify(m)}catch{y=""}throw new Error("Cyclic dependency"+y)}if(!u.has(m))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(m));if(!l[v]){l[v]=!0;var b=d.get(m)||new Set;if(b=Array.from(b),v=b.length){g.add(m);do{var k=b[--v];h(k,u.get(k),g)}while(v);g.delete(m)}a[--s]=m}}}function t(i){for(var o=new Set,s=0,a=i.length;s<a;s++){var l=i[s];o.add(l[0]),o.add(l[1])}return Array.from(o)}function n(i){for(var o=new Map,s=0,a=i.length;s<a;s++){var l=i[s];o.has(l[0])||o.set(l[0],new Set),o.has(l[1])||o.set(l[1],new Set),o.get(l[0]).add(l[1])}return o}function r(i){for(var o=new Map,s=0,a=i.length;s<a;s++)o.set(i[s],s);return o}return _k.exports}var rMe=nMe();const iMe=Rr(rMe);function oMe(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=_3.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s in e)if(TS(e,s)){let a=e[s];r.add(s),kh.isRef(a)&&a.isSibling?o(a.path,s):uM(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return iMe.array(Array.from(r),n).reverse()}function LK(e,t){let n=1/0;return e.some((r,i)=>{var o;if(((o=t.path)==null?void 0:o.indexOf(r))!==-1)return n=i,!0}),n}function _le(e){return(t,n)=>LK(e,t)-LK(e,n)}function Ny(){return Ny=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(this,arguments)}let UK=e=>Object.prototype.toString.call(e)==="[object Object]";function sMe(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const aMe=_le([]);class xle extends oa{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=aMe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),t&&this.shape(t)})}_typeCheck(t){return UK(t)||typeof t=="function"}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(i).filter(u=>this._nodes.indexOf(u)===-1)),l={},c=Ny({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const u of a){let h=o[u],m=TS(i,u);if(h){let v,g=i[u];c.path=(n.path?`${n.path}.`:"")+u,h=h.resolve({value:g,context:n.context,parent:l});let y="spec"in h?h.spec:void 0,b=y==null?void 0:y.strict;if(y!=null&&y.strip){d=d||u in i;continue}v=!n.__validating||!b?h.cast(i[u],c):i[u],v!==void 0&&(l[u]=v)}else m&&!s&&(l[u]=i[u]);l[u]!==i[u]&&(d=!0)}return d?l:i}_validate(t,n={},r){let i=[],{sync:o,from:s=[],originalValue:a=t,abortEarly:l=this.spec.abortEarly,recursive:c=this.spec.recursive}=n;s=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,n.from=s,super._validate(t,n,(d,u)=>{if(d){if(!Ba.isError(d)||l)return void r(d,u);i.push(d)}if(!c||!UK(u)){r(i[0]||null,u);return}a=a||u;let h=this._nodes.map(m=>(v,g)=>{let y=m.indexOf(".")===-1?(n.path?`${n.path}.`:"")+m:`${n.path||""}["${m}"]`,b=this.fields[m];if(b&&"validate"in b){b.validate(u[m],Ny({},n,{path:y,from:s,strict:!0,parent:u,originalValue:a[m]}),g);return}g(null)});OS({tests:h,value:u,errors:i,endEarly:l,sort:this._sortErrors,path:n.path},r)})}clone(t){const n=super.clone(t);return n.fields=Ny({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];s===void 0?r[i]=o:s instanceof oa&&o instanceof oa&&(r[i]=o.concat(s))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(n=>{const r=this.fields[n];t[n]="default"in r?r.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,n=[]){let r=this.clone(),i=Object.assign(r.fields,t);return r.fields=i,r._sortErrors=_le(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=oMe(i,r._excludedEdges),r}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(t){const n=this.clone(),r=n.fields;n.fields={};for(const i of t)delete r[i];return n.withMutation(()=>n.shape(r))}from(t,n,r){let i=_3.getter(t,!0);return this.transform(o=>{if(o==null)return o;let s=o;return TS(o,t)&&(s=Ny({},o),r||delete s[t],s[n]=i(o)),s})}noUnknown(t=!0,n=UO.noUnknown){typeof t=="string"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=sMe(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=UO.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>n&&tMe(n,(r,i)=>t(i)))}camelCase(){return this.transformKeys(XDe)}snakeCase(){return this.transformKeys(EK)}constantCase(){return this.transformKeys(t=>EK(t).toUpperCase())}describe(){let t=super.describe();return t.fields=mle(this.fields,n=>n.describe()),t}}function i1(e){return new xle(e)}i1.prototype=xle.prototype;function BS(){return BS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BS.apply(this,arguments)}function kle(e){return new Sle(e)}class Sle extends oa{constructor(t){super({type:"array"}),this.innerType=void 0,this.innerType=t,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(t){return Array.isArray(t)}get _subType(){return this.innerType}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const l=this.innerType.cast(s,BS({},n,{path:`${n.path||""}[${a}]`}));return l!==s&&(i=!0),l});return i?o:r}_validate(t,n={},r){var i,o;let s=[];n.sync;let a=n.path,l=this.innerType,c=(i=n.abortEarly)!=null?i:this.spec.abortEarly,d=(o=n.recursive)!=null?o:this.spec.recursive,u=n.originalValue!=null?n.originalValue:t;super._validate(t,n,(h,m)=>{if(h){if(!Ba.isError(h)||c)return void r(h,m);s.push(h)}if(!d||!l||!this._typeCheck(m)){r(s[0]||null,m);return}u=u||m;let v=new Array(m.length);for(let g=0;g<m.length;g++){let y=m[g],b=`${n.path||""}[${g}]`,k=BS({},n,{path:b,strict:!0,parent:m,index:g,originalValue:u[g]});v[g]=(_,R)=>l.validate(y,k,R)}OS({path:a,value:m,errors:s,endEarly:c,tests:v},r)})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!uM(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+x0(t));return n.innerType=t,n}length(t,n=D2.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Hs(r)||r.length===this.resolve(t)}})}min(t,n){return n=n||D2.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Hs(r)||r.length>=this.resolve(t)}})}max(t,n){return n=n||D2.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return Hs(r)||r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let t=super.describe();return this.innerType&&(t.innerType=this.innerType.describe()),t}nullable(t=!0){return super.nullable(t)}defined(){return super.defined()}required(t){return super.required(t)}}kle.prototype=Sle.prototype;const Ile=i1().shape({alias:Ar(),btcWallet:Ar(),ckbWallet:Ar(),country:Ar(),discordNotification:yb(),dogeWallet:Ar(),email:Ar(),emailNotification:yb(),firstName:Ar(),jobTitle:Ar(),kasWallet:Ar(),kdaWallet:Ar(),lastName:Ar(),ltcWallet:Ar(),metadata:i1(),newsletterNotification:yb(),phoneNumber:Ar(),tShirtSize:Ar(),team:Ar(),username:Ar()});var MR,FK;function lMe(){if(FK)return MR;FK=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var g=0,y=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,g++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,M=_-1;(I!==0||T<y)&&M!==-1;M--,T++)I+=256*R[M]>>>0,R[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");y=T,b++}for(var D=_-y;D!==_&&R[D]===0;)D++;for(var A=l.repeat(g);D<_;++D)A+=t.charAt(R[D]);return A}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var g=0,y=0,b=0;v[g]===l;)y++,g++;for(var k=(v.length-g)*c+1>>>0,_=new Uint8Array(k);v[g];){var R=v.charCodeAt(g);if(R>255)return;var I=n[R];if(I===255)return;for(var T=0,M=k-1;(I!==0||T<b)&&M!==-1;M--,T++)I+=a*_[M]>>>0,_[M]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=T,g++}for(var D=k-b;D!==k&&_[D]===0;)D++;for(var A=new Uint8Array(y+(k-D)),U=y;D!==k;)A[U++]=_[D++];return A}function m(v){var g=h(v);if(g)return g;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:m}}return MR=e,MR}var jR,WK;function cMe(){return WK||(WK=1,jR=lMe()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),jR}var dMe=cMe();const uMe=Rr(dMe),fMe=e=>e instanceof Promise,hMe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,{retries:i},o){const s=i?i+1:1;let a=0,l,c;for(;a<s;){a=a+1;try{const d=r();if(fMe(d)?l=yield d:l=d,c=void 0,l)break}catch(d){c=d}}return o(c,l),l}),vr=(e,t)=>{const n=x.useRef(new Date().getTime()),{deps:r=[],initialData:i=void 0,enabled:o=!0,retries:s=0}=t||{},a=x.useRef({onBeforeFetch:t==null?void 0:t.onBeforeFetch,onReject:t==null?void 0:t.onReject,onResolve:t==null?void 0:t.onResolve});a.current={onBeforeFetch:t==null?void 0:t.onBeforeFetch,onReject:t==null?void 0:t.onReject,onResolve:t==null?void 0:t.onResolve};const[l,c]=x.useState(i),[d,u]=x.useState(o),[h,m]=x.useState(void 0),v=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var g,y;const b=new Date().getTime();return b-n.current<5&&Ie.logVerboseTroubleshootingMessage("usePromise: Fetcher function was called in very quick succession. Please make sure the fetcher function is not synchronous and that you are not calling it inside a loop.",r),n.current=b,u(!0),(y=(g=a.current).onBeforeFetch)===null||y===void 0||y.call(g),hMe(e,{retries:s},(_,R)=>{var I,T,M,D;if(b===n.current){if(_){Ie.error(_),m(_),(T=(I=a.current).onReject)===null||T===void 0||T.call(I,_);return}c(R),(D=(M=a.current).onResolve)===null||D===void 0||D.call(M,R)}}).finally(()=>u(!1))}),r);return x.useEffect(()=>{o&&v()},[v,o]),x.useMemo(()=>({data:l,error:h,isLoading:d,retrigger:v}),[l,h,d,v])},Ele=(e,t)=>{const n=e==null?void 0:e.verifiedCredentials.find(r=>r.id===t);return e==null?void 0:e.verifiedCredentials.find(r=>r.id===(n==null?void 0:n.refId))},Hm=e=>{var t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k,_,R,I,T;return{alias:(t=e.alias)!==null&&t!==void 0?t:void 0,btcWallet:(n=e.btcWallet)!==null&&n!==void 0?n:void 0,ckbWallet:(r=e.ckbWallet)!==null&&r!==void 0?r:void 0,country:(i=e.country)!==null&&i!==void 0?i:void 0,discordNotification:(o=e.discordNotification)!==null&&o!==void 0?o:void 0,dogeWallet:(s=e.dogeWallet)!==null&&s!==void 0?s:void 0,email:(a=e.email)!==null&&a!==void 0?a:void 0,emailNotification:(l=e.emailNotification)!==null&&l!==void 0?l:void 0,environmentId:e.projectEnvironmentId,firstName:(c=e.firstName)!==null&&c!==void 0?c:void 0,jobTitle:(d=e.jobTitle)!==null&&d!==void 0?d:void 0,kasWallet:(u=e.kasWallet)!==null&&u!==void 0?u:void 0,kdaWallet:(h=e.kdaWallet)!==null&&h!==void 0?h:void 0,lastName:(m=e.lastName)!==null&&m!==void 0?m:void 0,lastVerifiedCredentialId:(v=e.lastVerifiedCredentialId)!==null&&v!==void 0?v:void 0,lists:e.lists,ltcWallet:(g=e.ltcWallet)!==null&&g!==void 0?g:void 0,metadata:e.metadata,mfaBackupCodeAcknowledgement:e.mfaBackupCodeAcknowledgement,missingFields:e.missingFields,newUser:e.newUser,newsletterNotification:(y=e.newsletterNotification)!==null&&y!==void 0?y:void 0,phoneNumber:(b=e.phoneNumber)!==null&&b!==void 0?b:void 0,policiesConsent:(k=e.policiesConsent)!==null&&k!==void 0?k:void 0,scope:e.scope,sessionId:(_=e.sessionId)!==null&&_!==void 0?_:"missing-sessionId",tShirtSize:(R=e.tShirtSize)!==null&&R!==void 0?R:void 0,team:(I=e.team)!==null&&I!==void 0?I:void 0,userId:e.id,username:(T=e.username)!==null&&T!==void 0?T:void 0,verifiedCredentials:e.verifiedCredentials||[]}},pMe=(e,t)=>{var n,r,i,o;const s=(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.filter(d=>d.format==="oauth"))!==null&&r!==void 0?r:[],a=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.filter(d=>d.format==="oauth"))!==null&&o!==void 0?o:[];if(s.length!==a.length)return!0;const l=new Set(s.map(d=>d.id)),c=new Set(a.map(d=>d.id));if(l.size!==c.size)return!0;for(const d of l)if(!c.has(d))return!0;for(const d of c)if(!l.has(d))return!0;return!1},qK=(e,t,n)=>{if(!t||!n)return!1;for(const r of e){const i=t[r],o=n[r];if(JSON.stringify(i)!==JSON.stringify(o))return!0}return!1},mMe=({oldUser:e,newUser:t})=>{var n,r;const i=ov();if(!i)return;const o=qK(i.kyc.map(({name:l})=>l),e,t),s=qK((r=(n=i.customFields)===null||n===void 0?void 0:n.map(({name:l})=>l))!==null&&r!==void 0?r:[],e==null?void 0:e.metadata,t.metadata),a=e?pMe(e,t):!1;!o&&!s&&!a||rt.emit("userProfileUpdated",Hm(t))},Ii=e=>{const t=Js().user;return Hh({response:e},Js()),e.user&&t&&mMe({newUser:e.user,oldUser:t}),Hm(e.user)},gMe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{const r=yield cn().selectUserWallet({environmentId:t,userWalletSelectionRequest:{walletId:n}});return Ii(r)}catch(r){const i=yield Tr(r,"Error transfering wallet");throw new Se(i.error)}}),yMe=(e,t)=>de(void 0,[e,t],void 0,function*(n,{messageToSign:r,network:i,signedMessage:o,publicWalletAddress:s,chain:a,walletName:l,walletProvider:c,additionalWalletAddresses:d,backup:u}){const h=$oe({additionalWalletAddresses:d,backup:u,chain:a,messageToSign:r,network:i,publicWalletAddress:s,signedMessage:o,walletName:l,walletProvider:c});try{const m=yield cn().verifyLink({environmentId:n,verifyRequest:h});return Ii(m),m}catch(m){const v=yield Tr(m,"Error linkWallet");throw v.code==="embedded_wallet_address_already_linked"?new Yie(v.code):v.code==="reassign_wallet_confirm"||v.code==="reassign_wallet_error"?new soe(v.code):v.code==="merge_accounts_confirmation"?new Qie({code:v.code,mergeConflicts:v.payload.mergeConflicts,walletAddress:s}):v.error.code==="sandbox_maximum_threshold_reached"?new Ud(v.error.message):new Se(v.error)}}),vMe=e=>de(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,walletId:r,onSuccess:i}){const o=n==null?void 0:n.replace("-zerodev","");try{const s=yield cn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:o,walletId:r}});return i==null||i(),Ii(s)}catch(s){const a=yield Tr(s,"Error transfering wallet");throw new Se(a.error)}}),wMe=(e,t)=>de(void 0,[e,t],void 0,function*(n,{network:r,messageToSign:i,signedMessage:o,publicWalletAddress:s,chain:a,walletName:l,walletProvider:c,skipEmptyAccountCheck:d=!1}){const u={chain:a,messageToSign:i,network:r,publicWalletAddress:s,signedMessage:o,skipEmptyAccountCheck:d,walletName:l,walletProvider:c};try{const h=yield cn().verifyTransfer({environmentId:n,verifyRequest:u});return Ii(h)}catch(h){const m=yield Tr(h,"Error transfering wallet");throw new Se(m.error)}}),bMe=(e,t)=>de(void 0,[e,t],void 0,function*(n,{messageToSign:r,signedMessage:i,publicWalletAddress:o,chain:s,walletName:a,walletProvider:l,captchaToken:c,network:d,oauth:u,additionalWalletAddresses:h,sessionPublicKey:m}){const v=$oe({additionalWalletAddresses:h,captchaToken:c,chain:s,messageToSign:r,network:d,oauth:u,publicWalletAddress:o,sessionPublicKey:m,signedMessage:i,walletName:a,walletProvider:l});try{return yield cn().verify({environmentId:n,verifyRequest:v})}catch(g){const y=yield Tr(g,"Error verifyWallet");throw y.code==="wallet_not_deployed"?new dxe:y.error.code==="chainalysis_blocked_wallet"?new Jie(y.payload.walletPublicKey):y.error.code==="gate_blocked"?new pD(y.payload.walletPublicKey):y.error.code==="missing_from_list"?new tv({walletPublicKey:y.payload.walletPublicKey}):y.code==="email_associated_with_different_provider"?new H1(y.error,y.payload):y.error.code==="sandbox_maximum_threshold_reached"?new Ud(y.error.message):new Se(y.error)}}),_Me=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{yield cn().softDeleteEmbeddedWallet({environmentId:t,walletId:n})}catch(r){const i=yield Tr(r,`Error softDeleteEmbeddedWallet for ${n} in ${t}`);throw new Se(i.error)}}),xMe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{yield cn().restoreEmbeddedWallet({environmentId:t,walletId:n})}catch(r){const i=yield Tr(r,`Error restoreEmbeddedWallet for ${n} in ${t}`);throw new Se(i.error)}}),g_=()=>{const{user:e}=Js();if(e)return Hm(e)},To=e=>de(void 0,void 0,void 0,function*(){var t;Nae(e);const n=g_();if(n){const r=ef(),i=(t=n.verifiedCredentials.find(o=>o.id===e))===null||t===void 0?void 0:t.lastSelectedAt;if(i){const o=n.verifiedCredentials.reduce((s,a)=>a.format!=="blockchain"||!a.lastSelectedAt?s:!s||!s.lastSelectedAt||a.lastSelectedAt>s.lastSelectedAt?a:s,null);if(o!=null&&o.lastSelectedAt&&o.lastSelectedAt.getTime()===i.getTime())return}yield gMe({environmentId:r,walletId:e})}}),$e=()=>{const e=x.useContext(eE);if(e===void 0)throw new Error("useInternalDynamicContext must be used within a DynamicContextProvider");return e},zK="session_active",kMe="error_sending_code",WO="error_processing_reveal_request",SMe="invalid_request",Py="invalid_wallet",IMe="secure_enclave_provider_not_enabled",Kr="user_not_logged_in",EMe="code_sent",CMe="session_created",AMe="session_restored",VK=451,RMe=e=>de(void 0,void 0,void 0,function*(){if(e.connectedChain==="SOL"||e.connectedChain==="SUI")return;const t=yield e.getNetwork(!0);return t||(e.key==="bloctoevm"?137:e.connectedChain==="EVM"?1:t)}),TMe=(e,t,n,r,i,o)=>de(void 0,void 0,void 0,function*(){if(e===void 0)throw new Se("Unable to fetch the public address from the wallet");if(!t.connectedChain)throw new Se("Wallet is not connected");const s=yield RMe(t),a=t.parseAddress(e);let l;const c=Ln.getDisplayOrigin();Ln.isNativeMobile&&c?l=new URL(c):l=Ln.getUrl();const d=n8e({blockchain:t.connectedChain,chainId:s,domain:l.host,nonce:n,publicKey:a,requestId:r,resources:t.providerResources,statement:i?o.replace(/(\r\n|\n|\r)/gm," ").trim():void 0,uri:l.origin+l.pathname});Ie.debug("[generateMessages] Generated SIWE message:",{messageToSign:d});const u=yield t.proveOwnership(a,d);if(!u)throw new Se("Unable to sign the message");return{messageToSign:d,signedMessage:u}}),Cle=e=>de(void 0,[e],void 0,function*({walletConnector:t,walletProvider:n,environmentId:r,displaySiweStatement:i,skipEmptyAccountCheck:o,siweStatement:s,publicWalletAddress:a,signedMessageOverride:l,messageToSignOverride:c}){const d=t.connectedChain;if(Ie.logVerboseTroubleshootingMessage("[getVerifyArgs] called",{chain:d,displaySiweStatement:i,environmentId:r,hasMessageToSignOverride:!!c,hasSignedMessageOverride:!!l,publicWalletAddress:a,siweStatement:s,walletConnectorKey:t.key}),l&&c){Ie.logVerboseTroubleshootingMessage("[getVerifyArgs] using overrides",{messageToSignOverride:c,messageToSignOverrideLength:c.length,signedMessageOverride:l,signedMessageOverrideLength:l.length});const[y,b]=yield Promise.all([t.getNetwork(!0),t.getAdditionalAddresses(a)]),k={additionalWalletAddresses:b,chain:d,messageToSign:c,network:String(y),publicWalletAddress:a,signedMessage:l,skipEmptyAccountCheck:o,walletName:t.key,walletProvider:n};return Ie.logVerboseTroubleshootingMessage("[getVerifyArgs] returning with overrides",{chain:k.chain,messageToSign:k.messageToSign,network:k.network,publicWalletAddress:k.publicWalletAddress,signedMessage:k.signedMessage,walletName:k.walletName}),k}const u=Fue(),{messageToSign:h,signedMessage:m}=yield TMe(a,t,u,r,i,s),[v,g]=yield Promise.all([t.getNetwork(!0),t.getAdditionalAddresses(a)]);return{additionalWalletAddresses:g,chain:d,messageToSign:h,network:String(v),publicWalletAddress:a,signedMessage:m,skipEmptyAccountCheck:o,walletName:t.key,walletProvider:n}}),hM=({appName:e,siweStatement:t})=>{const n=`Welcome to ${e}. Signing is the only way we can truly know that you are the owner of the wallet you are connecting. Signing is a safe, gas-less transaction that does not in any way give ${e} permission to perform any transactions with your wallet.`;return t||n},OMe="x-dyn-session-public-key",NMe="x-dyn-session-nonce",PMe="x-dyn-session-nonce-signature",BMe=e=>de(void 0,[e],void 0,function*({attestation:t,challenge:n,environmentId:r,chains:i=[cm.Evm],passkeyAlias:o,sessionPublicKey:s}){const a=[{chains:i,embeddedWalletProvider:pO.Turnkeyhd,isAuthenticatorAttached:!1,passkeyAlias:o,sessionPublicKey:s}];t&&n&&(a[0]=Object.assign(Object.assign({},a[0]),{embeddedWalletSpecificOpts:{attestation:t,challenge:n},isAuthenticatorAttached:!0}));try{const l=yield cn().createEmbeddedWallets({createEmbeddedWalletsRequest:{embeddedWallets:a},environmentId:r});return Ii(l)}catch(l){yield qd(l,"[createTurnkeyEmbeddedWallet] Error creating embedded wallet");return}}),pM=e=>de(void 0,[e],void 0,function*({authenticatorType:t,walletId:n,publicKey:r,environmentId:i}){return t==="passkey"?cn().initPasskeyRecovery({environmentId:i,initPasskeyRecoveryRequest:{turnkeyRecoveryTargetPublicKey:r,walletId:n}}):cn().initEmailAuth({environmentId:i,initEmailAuthRequest:{turnkeyEmailAuthTargetPublicKey:r,walletId:n}})}),Ale=e=>de(void 0,[e],void 0,function*({walletId:t,attestation:n,challenge:r,environmentId:i}){try{const o=yield cn().completePasskeyRecovery({completePasskeyRecoveryRequest:{attestation:n,challenge:r,walletId:t},environmentId:i});return Ii(o)}catch(o){yield qd(o,"Error completing passkey recovery");return}}),DMe=e=>de(void 0,[e],void 0,function*({environmentId:t,updateRecoveryEmailRequest:n}){try{yield cn().updateEmbeddedWalletRecoveryEmail({environmentId:t,updateRecoveryEmailRequest:n})}catch(r){throw yield qd(r,"Error while trying to update recovery email"),new Se("Error updating recovery email")}}),Rle=e=>de(void 0,[e],void 0,function*({environmentId:t}){try{return yield cn().getUserPasskeys({environmentId:t})}catch(n){return yield qd(n,"Error getting user passkeys"),{count:0,passkeys:[]}}}),MMe=e=>de(void 0,[e],void 0,function*({environmentId:t,id:n,alias:r}){try{return yield cn().updatePasskey({environmentId:t,updateUserPasskeyRequest:{alias:r,id:n}})}catch(i){yield qd(i,"Error updating user passkeys",{alias:r,id:n});return}}),jMe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n,activityId:r}){try{return yield cn().embeddedWalletExport({activityId:r,environmentId:t,walletId:n})}catch(i){return yield qd(i,"Error exporting embedded wallet",{activityId:r,walletId:n}),{exportBundle:""}}}),$Me=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n,publicKey:r,prevSessionKeySignature:i}){let o;try{const{nonce:s,nonceSignature:a,publicKey:l}=yield w7e({environmentId:t});o=yield cn({customHeaders:{[NMe]:s,[PMe]:a,[OMe]:l}}).registerSessionKey({environmentId:t,registerSessionKeyRequest:{prevSessionKeySignature:i,publicKey:r,walletId:n}})}catch(s){if(s instanceof Response){const a=yield JI.fromResponse({cause:s,message:"Error register session key"});throw Ie.error(a,{prevSessionKeySignature:i,publicKey:r}),Br.logEvent("session-key","Error registering session key",Br.formatObject({prevSessionKeySignature:i,publicKey:r,walletId:n})),Ln.isNativeMobile&&Ie.instrument(Br.packScopes()),a.response.status===422&&a.json.code===Hb.InvalidSessionPublicKey?new Xie(a.json.error):a}else Ie.error(s);throw s}return o}),LMe=e=>de(void 0,[e],void 0,function*({environmentId:t,chain:n}){try{return yield cn().getCreateWalletAccountRequest({chain:n,environmentId:t})}catch(r){throw yield qd(r,"Error fetching create embedded wallet account request",{chain:n}),new Se("Error fetching create embedded wallet account request")}}),UMe=e=>de(void 0,[e],void 0,function*({environmentId:t,createEmbeddedWalletAccountRequest:n}){try{return yield cn().createWalletAccount({createWalletAccountRequest:{turnkeySignedRequest:n},environmentId:t})}catch(r){throw yield qd(r,"[createEmbeddedWalletAccount] Error creating embedded wallet account",{createEmbeddedWalletAccountRequest:n}),new Se("[createEmbeddedWalletAccount] Error creating embedded wallet account")}}),FMe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{return yield cn().getEmbeddedWalletsDeleteRequest({environmentId:t,walletId:n})}catch(r){throw yield qd(r,"Error fetching delete embedded wallet request"),new Se("Error fetching delete embedded wallets request")}}),WMe=e=>de(void 0,[e],void 0,function*({environmentId:t,deleteEmbeddedWalletsRequest:n}){try{return yield cn().deleteEmbeddedWallets({deleteEmbeddedWalletsRequest:{turnkeySignedRequest:n},environmentId:t})}catch(r){throw yield qd(r,"Error deleting embedded wallets",{deleteEmbeddedWalletsRequest:n}),new Se("Error deleting embedded wallets")}}),qd=(e,t,n)=>de(void 0,void 0,void 0,function*(){if(e instanceof Response){const r=yield JI.fromResponse({cause:e,message:t});Ie.error(r,n)}else Ie.error(e,n)}),y_=e=>{var t;return((t=e.scope)===null||t===void 0?void 0:t.includes("requiresAdditionalAuth"))||e.mfaBackupCodeAcknowledgement===Vu.Pending},qMe=e=>{var t;return!!(!((t=e.missingFields)===null||t===void 0)&&t.length)||y_(e)},v_=()=>u3("user"),x3=()=>{const e=v_();return x.useMemo(()=>e?Hm(e):void 0,[e])},sv=()=>{const e=x.useRef(!1),t=v_();if(!t){e.current=!1;return}if(!(!e.current&&qMe(t)))return e.current=!0,t},mM=()=>{const e=sv();return x.useMemo(()=>e?Hm(e):void 0,[e])},k3=(e,t)=>{var n;const r=t==null?void 0:t.find(({id:o})=>o===e);if(!r)throw new Error("Dynamic v2 wallet not found");let i;if(!((n=r==null?void 0:r.walletName)===null||n===void 0)&&n.startsWith("turnkey")?i=r==null?void 0:r.id:r!=null&&r.signerRefId&&(i=r==null?void 0:r.signerRefId),!i)throw new Error("Invalid wallet type: expecting 'turnkey' wallet, or a wallet with a 'signerRefId'");return i},Tle=()=>de(void 0,void 0,void 0,function*(){const{private:e,public:t,privateJwk:n}=yield jae();return{privateKey:e,privateKeyJwk:n,publicKey:t,registered:!1}}),KK=()=>de(void 0,void 0,void 0,function*(){const e=yield Tle();return ot.setItem(u7e,rM(e.publicKey,e.privateKey,e.privateKeyJwk,e.registered),f7e),e}),Gm=({environmentId:e,projectSettings:t})=>{const n=mM(),r=x.useCallback(()=>{const d=ot.getItem(O2,N2);return d?JSON.parse(Buffer.from(d,"base64").toString()):void 0},[]),i=x.useCallback(d=>de(void 0,[d],void 0,function*({walletId:u,environmentId:h,privateKey:m,privateKeyJwk:v,publicKey:g,prevSessionKeySignature:y,user:b}){let k;const _=k3(u,b.verifiedCredentials);try{k=yield $Me({environmentId:h,prevSessionKeySignature:y,publicKey:g,walletId:_})}catch(I){throw I instanceof Xie&&(Jn.warn("Invalid embedded wallet session key. Re-authentication is required to create new session keys."),rt.emit("triggerLogout")),Jn.error("Error registering session key",{error:I}),I}const R=new Date(k.expiresAt*1e3);return Br.logEvent("session-key","Created new session key",Br.formatObject({expirationDate:R,publicKey:g})),ot.setItem(O2,rM(g,m,v,!0,R),N2),{expirationDate:R,privateKey:m,publicKey:g}}),[]),o=x.useCallback(d=>de(void 0,[d],void 0,function*({ignoreRestore:u=!1,walletId:h}){if(!n)throw new Error("User not found");let m=r();Br.logEvent("session-key","registerEmbeddedWalletSessionKey",Br.formatObject({hasDecodedSessionKeys:!!m,publicKey:m==null?void 0:m.publicKey})),m||(Jn.error("Session keys not found in storage. Generating new session keys.",{userId:n==null?void 0:n.userId}),m=yield KK());const v=m.registered&&m.expirationDate&&new Date<=new Date(m.expirationDate)&&!u;if(Br.logEvent("session-key","isSessionKeyValid",Br.formatObject({isSessionKeyValid:!!v})),v)return m;Br.logEvent("session-key","decodedSessionKeys",Br.formatObject({publicKey:m.publicKey,registered:m.registered}));let g,y,b,k;return m.registered?(k=yield RS(m.privateKeyJwk,n.sessionId),{publicKey:g,privateKey:y,privateKeyJwk:b}=yield Tle(),Br.logEvent("session-key","Loaded prevSessionKeySignature",Br.formatObject({prevSessionKeySignature:k,publicKey:g}))):{publicKey:g,privateKey:y,privateKeyJwk:b}=m,i({environmentId:e,prevSessionKeySignature:k,privateKey:y,privateKeyJwk:b,publicKey:g,user:n,walletId:h})}),[e,r,i,n]),s=x.useCallback(()=>{const d=r();if(!(d!=null&&d.publicKey))throw Br.logEvent("session-key","getSessionPublicKey","Could not find session keys."),new Error("Could not find session keys.");return Br.logEvent("session-key","getSessionPublicKey",Br.formatObject({publicKey:d==null?void 0:d.publicKey})),d==null?void 0:d.publicKey},[r]),a=x.useCallback(()=>!0,[]),l=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const d=n==null?void 0:n.sessionId;if(!d)throw new Error("Session ID not found");const u=r();if(!(u!=null&&u.privateKeyJwk))throw new Error("Private key JWK not found");return yield RS(u.privateKeyJwk,d)}),[r,n==null?void 0:n.sessionId]),c=x.useCallback(()=>{Br.logEvent("session-key","removeSessionKey"),ot.removeItem(O2,N2)},[]);return{generateSessionKey:KK,getSessionPublicKey:s,getSignedSessionId:l,registerEmbeddedWalletSessionKey:o,removeSessionKey:c,shouldRegisterSessionKeysOnSignin:a}},Ole=x.createContext(void 0),zMe=({children:e})=>{const[t,n]=x.useState(!1),r=x.useMemo(()=>({isLoadingEmbeddedWallet:t,setIsLoadingEmbeddedWallet:n}),[t]);return f.jsx(Ole.Provider,{value:r,children:e})},S3=()=>{const e=x.useContext(Ole);if(e===void 0)throw new Error("usage of useWalletContext not wrapped in `WalletContextProvider`.");return e},HK="dyn-secure-enclave-container-id",GK="dyn-secure-enclave-element-id",VMe="dyn-secure-enclave-export-container-id",JK="dyn-secure-enclave-export-element-id";var o1;(function(e){e.V1="V1",e.V2="V2"})(o1||(o1={}));const Nle=x.createContext(void 0),KMe=({children:e})=>{const{view:t}=At(),[n,r]=x.useState(!1);x.useEffect(()=>{r(!1)},[t]);const i=x.useMemo(()=>({isFooterExpanded:n,setIsFooterExpanded:r}),[n]);return f.jsx(Nle.Provider,{value:i,children:f.jsx("div",{children:e})})},I3=()=>{const e=x.useContext(Nle);if(!e)throw new Error("Can only call useFooterAnimationContext inside FooterAnimationContextProvider");return e};var ZK,HMe=["title","titleId"];function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qO.apply(null,arguments)}function GMe(e,t){if(e==null)return{};var n,r,i=JMe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JMe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Zh=function(t){var n=t.title,r=t.titleId,i=GMe(t,HMe);return x.createElement("svg",qO({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,ZK||(ZK=x.createElement("path",{d:"M9.99 0C4.47 0 0 4.48 0 10s4.47 10 9.99 10C15.52 20 20 15.52 20 10S15.52 0 9.99 0ZM10 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Zm-1-5h2v2H9v-2Zm0-8h2v6H9V5Z",fill:"currentcolor"})))};const Nt=({children:e,className:t="",color:n,size:r})=>{const i=Ke(t,n?`icon--color-${n}`:"",r?`icon--size-${r}`:"");return x.cloneElement(e,{className:i})},se=e=>{var{as:t="p",variant:n,weight:r,color:i="primary",transform:o,className:s="",truncate:a=!1,style:l}=e,c=bs(e,["as","variant","weight","color","transform","className","truncate","style"]);const d={body_mini:"typography--body-mini",body_normal:"typography--body-normal",body_small:"typography--body-small",button_primary:"typography--button-primary",button_secondary:"typography--button-secondary",button_tertiary:"typography--button-tertiary",numbers_big:"typography--numbers-big",numbers_display:"typography--numbers-display",numbers_medium:"typography--numbers-medium",title:"typography--title"},u={bold:"typography--bold",medium:"typography--medium",regular:"typography--regular"},h={"alert-1":"typography--alert-1","brand-primary":"typography--brand-primary","current-color":"typography--current-color","error-1":"typography--dynamic-error-1","error-2":"typography--dynamic-error-2","green-1":"typography--connection-green-1",inherit:"typography--inherit",link:"typography--link",primary:"typography--primary",secondary:"typography--secondary",tertiary:"typography--tertiary",tooltip:"typography--tooltip",white:"typography--white"},m={uppercase:"typography--uppercase"},v=Ke("typography",n?d[n]:"",r?u[r]:"",i?h[i]:"",o?m[o]:"",{"typography--truncate":a},s);return f.jsx(t,Object.assign({style:l,className:v},c))},ZMe=({content:e,contentDataTestId:t})=>typeof e=="string"?f.jsx(se,{variant:"body_small",color:"current-color","data-testid":t,children:e}):f.jsx(f.Fragment,{children:e}),YMe={error:f.jsx(Zh,{})},tc=({children:e,icon:t,variant:n="error",contentDataTestId:r,className:i=""})=>f.jsxs("div",{className:Ke("alert",`alert--${n}`,i,{"alert--with-icon":!!t}),children:[t&&f.jsx(Nt,{size:"small",className:"alert__icon",children:typeof t=="string"?YMe[t]:t}),f.jsx(ZMe,{content:e,contentDataTestId:r})]}),Ple=x.createContext(void 0),XMe=({children:e})=>{const t=x.useRef();return f.jsx(Ple.Provider,{value:{selectedPhoneCountry:t},children:e})},gM=()=>{const e=x.useContext(Ple);if(!e)throw new Se("Can only call useFieldsState inside FieldsStateProvider");return e},QMe=/^(\+[1-9]\d{1,14})?$/,yM="name-service-subdomain-handle",Ble=(e,t)=>l_({dialCode:t.dialCode,phone:e}).length>0,Dle={checkbox:kle(),select:Ar(),text:Ar()},vM=()=>{const{t:e}=Xe(),{selectedPhoneCountry:t}=gM();return{fieldsConfig:x.useMemo(()=>({alias:{key:"dyn_collect_user_data.fields.alias.label",label:e("dyn_collect_user_data.fields.alias.label"),type:"string",validation:Ar().trim()},country:{key:"dyn_collect_user_data.fields.country.label",label:e("dyn_collect_user_data.fields.country.label"),type:"select",validation:Ar().oneOf(WD.map(r=>r.code))},email:{autoComplete:"email",key:"dyn_collect_user_data.fields.email.label",label:e("dyn_collect_user_data.fields.email.label"),type:"email",validation:Ar().email(e("dyn_collect_user_data.fields.email.validation"))},firstName:{key:"dyn_collect_user_data.fields.first_name.label",label:e("dyn_collect_user_data.fields.first_name.label"),type:"string",validation:Ar().trim()},jobTitle:{key:"dyn_collect_user_data.fields.job_title.label",label:e("dyn_collect_user_data.fields.job_title.label"),type:"string",validation:Ar().trim()},lastName:{key:"dyn_collect_user_data.fields.last_name.label",label:e("dyn_collect_user_data.fields.last_name.label"),type:"string",validation:Ar().trim()},phoneNumber:{key:"dyn_collect_user_data.fields.phone_number.label",label:e("dyn_collect_user_data.fields.phone_number.label"),type:"string",validation:Ar().test("length",e("dyn_collect_user_data.fields.phone_number.too_short"),r=>t.current?r===void 0||r.length===0||Ble(r,t.current):!0).matches(QMe,e("dyn_collect_user_data.fields.phone_number.validation"))},policiesConsent:{key:"dyn_collect_user_data.fields.policies_consent.label",label:e("dyn_collect_user_data.fields.policies_consent.label"),type:"boolean",validation:yb()},tShirtSize:{key:"dyn_collect_user_data.fields.t_shirt_size.label",label:e("dyn_collect_user_data.fields.t_shirt_size.label"),type:"select",validation:Ar().oneOf(FD)},team:{key:"dyn_collect_user_data.fields.team.label",label:e("dyn_collect_user_data.fields.team.label"),type:"select",validation:Ar().oneOf(qD)},username:{key:"dyn_collect_user_data.fields.username.label",label:e("dyn_collect_user_data.fields.username.label"),type:"string",validation:Ar().matches(/^(?!.*([$!#%?])\1)[A-Za-z0-9$!#%?_-]{3,20}$/,e("dyn_collect_user_data.fields.username.validation"))}}),[t,e])}},wM=Vc("walletOptions"),{getWalletOptions:E3,useWalletOptions:Mle}=wM,C3=()=>E3().walletConnectorOptions,bM=()=>Mle().walletConnectorOptions,eje=e=>{const t=E3();wM.setWalletOptions(Object.assign(Object.assign({},t),{walletConnectorOptions:e}))},tje=()=>E3().groups,Jm=()=>Mle().groups,nje=e=>{const t=E3();wM.setWalletOptions(Object.assign(Object.assign({},t),{groups:e}))},rje=e=>{const t=tje(),n=Object.assign(Object.assign({},t),e);nje(n)},jle=e=>{const t=C3(),n=o=>`${o.key}-${o.walletConnector.connectedChain}`,r=new Map(t.map(o=>[n(o),o]));e.forEach(o=>{r.set(n(o),o)});const i=Array.from(r.values());eje(i)},w_=typeof window<"u"?x.useLayoutEffect:x.useEffect,Sn=x.forwardRef((e,t)=>{var{className:n="",color:r}=e,i=bs(e,["className","color"]);return f.jsx("button",Object.assign({},i,{className:Ke("icon-button",n),ref:t}))});Sn.displayName="IconButton";const ije=x.forwardRef(({children:e,className:t,dataTestId:n},r)=>f.jsx("div",{ref:r,"data-testid":n,className:Ke("inline-widget",t),children:e}));ije.displayName="InlineWidget";const Sl=x.forwardRef((e,t)=>{var{className:n="",id:r,label:i,type:o,onChange:s,onBlur:a,name:l,value:c,optional:d,error:u=!1,success:h=!1,disabled:m,message:v,placeholder:g,variant:y="dense",suffix:b,containerClassName:k}=e,_=bs(e,["className","id","label","type","onChange","onBlur","name","value","optional","error","success","disabled","message","placeholder","variant","suffix","containerClassName"]);return f.jsxs("div",{className:Ke("input__container",k,{"input__container--dense":y==="dense","input__container--regular":y==="regular"}),children:[f.jsx("input",Object.assign({},_,{name:l,value:c,onChange:s,onBlur:a,type:o,id:r,placeholder:y==="regular"||!i?g:i,disabled:m,className:Ke("input",n,{"input--no-label":!i,input__error:u,input__has_trailing:d,input__success:h}),ref:t})),i&&f.jsx("label",{htmlFor:r,className:Ke("input__label"),children:i}),b&&f.jsx("div",{className:Ke("input__suffix"),children:b}),d&&f.jsx("span",{className:"input__trailing",children:"Optional"}),!!v&&f.jsx(se,{variant:"body_mini",className:Ke("input__message",{input__message__error:u,input__message__success:h}),children:v})]})});Sl.displayName="Input";const YK=x.createContext(!1),zO=({children:e})=>{const t=x.useContext(YK),[n,r]=x.useState(!1);return x.useEffect(()=>{r(!0)},[]),n||t?f.jsx(YK.Provider,{value:!0,children:e}):f.jsx(f.Fragment,{})},_M=(e,t)=>{const n=x.useRef(t);n.current=t,x.useEffect(()=>{if(!e)return;const r=i=>{i.stopPropagation();const o=i.composedPath().shift(),s="current"in e?e.current:e;!s||s.contains(i.currentTarget)||s.contains(o)||n.current(i)};return document.addEventListener("touchstart",r),document.addEventListener("click",r),()=>{document.removeEventListener("touchstart",r),document.removeEventListener("click",r)}},[e])},oje=e=>{const t=x.useRef(null);return x.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)},[e,t]),t},$R=(e,t)=>{const n=performance.now(),r={id:-1},i=()=>{r.id=requestAnimationFrame(o=>{o-n>t?e():i()})};return i(),r},XK=e=>{e.id&&cancelAnimationFrame(e.id)},sje=()=>{const e=x.useRef(!0);return x.useEffect(()=>{e.current&&(e.current=!1)},[]),e.current},aje=(e,t)=>{const n=sje();x.useEffect(()=>{if(!n)return e()},t)},lje=(e,t)=>{const n={ENTERED:t==null?void 0:t.onEntered,ENTERING:t==null?void 0:t.onEntering,EXITING:t==null?void 0:t.onExiting,UNMOUNT:t==null?void 0:t.onUnmount};return aje(()=>{var r;return(r=n[e])===null||r===void 0||r.call(n),()=>{var i;e==="EXITING"&&((i=n.UNMOUNT)===null||i===void 0||i.call(n))}},[e])},cje=100,b_=e=>{var{isShown:t,inDuration:n,outDuration:r,duration:i=cje,delay:o,inDelay:s,outDelay:a,animateOnMount:l=!0}=e,c=bs(e,["isShown","inDuration","outDuration","duration","delay","inDelay","outDelay","animateOnMount"]);const d=l?"UNMOUNT":"ENTERED",u=x.useRef({id:-1}),h=x.useRef({id:-1}),[m,v]=x.useState(d),[g,y]=x.useState(!l),[b,k]=x.useState(i),_=(T,M)=>{M?h.current=$R(T,M):T()},R=x.useCallback(()=>{const T=n||i;k(T),y(!0),v("ENTERING"),u.current=$R(()=>{v("ENTERED")},T)},[i,n]),I=x.useCallback(()=>{const T=r||i;k(T),v("EXITING"),u.current=$R(()=>{y(!1),v("UNMOUNT")},T)},[i,r]);return x.useEffect(()=>(t&&m!=="ENTERED"?_(R,s||o):!t&&m!=="UNMOUNT"&&_(I,a||o),()=>{XK(u.current),XK(h.current)}),[s,a,R,I,t,o,m]),lje(m,c),{currentDuration:b,mount:g,stage:m}},dje={"bottom-left":"popper-content__transform-origin-bottom-left","bottom-right":"popper-content__transform-origin-bottom-right","top-left":"popper-content__transform-origin-top-left","top-right":"popper-content__transform-origin-top-right"},$le=x.forwardRef(({children:e,transformOrigin:t,style:n,className:r},i)=>f.jsx("div",{"data-testid":"popper-content",ref:i,className:Ke("popper-content",dje[t],r),style:n,children:e}));$le.displayName="PopperContent";const Lle=x.createContext(void 0),xM=({children:e,className:t,style:n})=>{const{Provider:r}=Lle,i=x.useRef(null);return f.jsx(r,{value:{containerRef:i},children:f.jsx("div",{ref:i,style:Object.assign({position:"relative"},n),className:t,children:e})})},Ule=()=>{const e=x.useContext(Lle);if(!e)throw new Error("To use popper, use the PopperProvider above in the dom hierarchy");return e},uje=(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{left:r.x-n.x,top:r.y-n.y}},Fle=x.forwardRef(({anchorRef:e,anchorOrigin:t="top-left",transformOrigin:n="top-left",children:r,style:i,className:o},s)=>{const{containerRef:a}=Ule(),[l,c]=x.useState(),d=a.current;x.useEffect(()=>{const h=a.current,m=e.current;!h||!m||c(uje(h,m))},[e,a,c]);const u=x.useMemo(()=>{var h;const m=(h=e.current)===null||h===void 0?void 0:h.getBoundingClientRect();if(!(!l||!m))switch(t){case"top-left":return l;case"top-right":return Object.assign(Object.assign({},l),{left:l.left+m.width});case"bottom-left":return Object.assign(Object.assign({},l),{top:l.top+m.height});case"bottom-right":return Object.assign(Object.assign({},l),{left:l.left+m.width,top:l.top+m.height});default:return}},[l,e,t]);return!u||d===null?null:xm.createPortal(f.jsx($le,{ref:s,transformOrigin:n,style:Object.assign(Object.assign({},u),i),className:o,children:r}),d)});Fle.displayName="Popper";const fje=e=>{const t=e.scrollHeight>e.clientHeight,r=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!r},hje=(e,t,n)=>{const r=[];let i=t;for(;i!==null;){const o=i===e;if(fje(i)&&(i.addEventListener("scroll",n),r.push(i)),i=i.parentElement,o)break}return()=>r.forEach(o=>o.removeEventListener("scroll",n))},pje=300,mje=300,A3=x.forwardRef((e,t)=>{var{children:n,isOpen:r,onClickOutside:i,onScroll:o,className:s,style:a,maxHeight:l=300}=e,c=bs(e,["children","isOpen","onClickOutside","onScroll","className","style","maxHeight"]);const{containerRef:d}=Ule(),u=oje(t);_M(u,()=>i==null?void 0:i()),x.useEffect(()=>{if(!(!d.current||!c.anchorRef.current))return hje(d.current,c.anchorRef.current,()=>o==null?void 0:o())},[d,c.anchorRef,o]);const{mount:h,stage:m,currentDuration:v}=b_({inDuration:pje,isShown:r,outDuration:mje}),g=Ke({"dropdown--entering":m==="ENTERING","dropdown--exiting":m==="EXITING"});return h?f.jsx(Fle,Object.assign({},c,{ref:u,children:f.jsx("div",{className:Ke("dropdown",g,s),style:Object.assign({"--max-height":`${l}px`,animationDuration:`${v}ms`},a),children:n})})):null});A3.displayName="Dropdown";const av=e=>{const t=()=>{var r;const i=document.querySelector("html"),o=document.querySelector("body");if(!i||!o)return;const s=(r=window==null?void 0:window.screen)===null||r===void 0?void 0:r.height;!(o.scrollHeight>s)||s===0||(i.classList.add("dynamic-no-scroll"),o.classList.add("dynamic-no-scroll"))},n=r=>{const i=document.querySelector("html"),o=document.querySelector("body");!i||!o||(i.classList.remove("dynamic-no-scroll"),o.classList.remove("dynamic-no-scroll"),YI()&&window.scrollTo(r.x,r.y))};x.useEffect(()=>{if(!e)return;const r={x:window.scrollX,y:window.scrollY};return t(),()=>{n(r)}},[e])},gje="cubic-bezier(0, 0, 0.24, 1.0)",QK=300,Wle=()=>{const[,e]=x.useState(0);return()=>e(t=>t+1)},yje=e=>{const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current},vje=e=>({transition:`transform ${e}ms linear, opacity ${e}ms linear`}),wje={ENTERED:{opacity:"1",transform:"scale(1)"},ENTERING:{opacity:"0",transform:"scale(0.9)"},EXITING:{opacity:"0",transform:"scale(1.1)"}},bje=e=>{var{children:t,className:n}=e,r=bs(e,["children","className"]);const{mount:i,stage:o,currentDuration:s}=b_(r),a=vje(s),l=wje[o];return i?f.jsx("div",{className:Ke(n,"zoom-transition__root"),style:Object.assign(Object.assign({},a),l),children:t}):null};Vt.memo(bje);const _je=(e,t=gje)=>({transition:`transform ${e}ms ${t}, opacity ${e}ms ${t}`}),xje={ENTERED:{transform:"translateY(0)"},ENTERING:{transform:"translateY(50vh)"},EXITING:{transform:"translateY(50vh)"}},kje=e=>{var{children:t,className:n,easingFunction:r}=e,i=bs(e,["children","className","easingFunction"]);const{mount:o,stage:s,currentDuration:a}=b_(i),l=_je(a,r),c=xje[s];return o?f.jsx("div",{className:n,style:Object.assign(Object.assign({},l),c),children:t}):null},Sje=Vt.memo(kje),Ije=e=>({transition:`opacity ${e}ms linear`}),Eje={ENTERED:{opacity:1},ENTERING:{opacity:0},EXITING:{opacity:0},UNMOUNT:{opacity:0}},Cje=e=>{var{children:t,style:n,className:r}=e,i=bs(e,["children","style","className"]);const{mount:o,stage:s,currentDuration:a}=b_(i),l=Ije(a),c=Eje[s];return o?f.jsx("div",{className:r,style:Object.assign(Object.assign(Object.assign({},l),c),n),children:t}):null},__=Vt.memo(Cje),Lr=({children:e,className:t,isMultiWalletError:n=!1,withIcon:r=!0,variant:i="error",copykey:o})=>{const s=Ke("error-container",`error-container--${i}`,t,{"error-container--multi-wallet":n}),a=Ke("error",{"error--with-icon":r});return f.jsxs("div",{className:s,"data-testid":`error-container--${i}`,children:[r&&f.jsx(Zh,{}),f.jsx(se,{variant:"body_small",className:a,copykey:o,children:e})]})};function Aje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VO="data-focus-lock",qle="data-focus-lock-disabled",Rje="data-no-focus-lock",Tje="data-autofocus-inside",Oje="data-no-autofocus";function LR(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nje(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Pje=typeof window<"u"?x.useLayoutEffect:x.useEffect,eH=new WeakMap;function Bje(e,t){var n=Nje(null,function(r){return e.forEach(function(i){return LR(i,r)})});return Pje(function(){var r=eH.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||LR(a,null)}),o.forEach(function(a){i.has(a)||LR(a,s)})}eH.set(n,e)},[e]),n}var UR={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},KO=function(){return KO=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},KO.apply(this,arguments)};function zle(e){return e}function Vle(e,t){t===void 0&&(t=zle);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function kM(e,t){return t===void 0&&(t=zle),Vle(e,t)}function Dje(e){e===void 0&&(e={});var t=Vle(null);return t.options=KO({async:!0,ssr:!1},e),t}var Kle=kM({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),Hle=kM(),Mje=kM(),jje=Dje({async:!0,ssr:typeof document<"u"}),$je=x.createContext(void 0),Lje=[],SM=x.forwardRef(function(t,n){var r,i=x.useState(),o=i[0],s=i[1],a=x.useRef(),l=x.useRef(!1),c=x.useRef(null),d=x.useState({}),u=d[1],h=t.children,m=t.disabled,v=m===void 0?!1:m,g=t.noFocusGuards,y=g===void 0?!1:g,b=t.persistentFocus,k=b===void 0?!1:b,_=t.crossFrame,R=_===void 0?!0:_,I=t.autoFocus,T=I===void 0?!0:I;t.allowTextSelection;var M=t.group,D=t.className,A=t.whiteList,U=t.hasPositiveIndices,$=t.shards,q=$===void 0?Lje:$,z=t.as,S=z===void 0?"div":z,E=t.lockProps,N=E===void 0?{}:E,P=t.sideCar,j=t.returnFocus,V=j===void 0?!1:j,K=t.focusOptions,F=t.onActivation,O=t.onDeactivation,W=x.useState({}),G=W[0],Y=x.useCallback(function(Qt){var lt=Qt.captureFocusRestore;if(!c.current){var jt,rn=(jt=document)==null?void 0:jt.activeElement;c.current=rn,rn!==document.body&&(c.current=lt(rn))}a.current&&F&&F(a.current),l.current=!0,u()},[F]),ie=x.useCallback(function(){l.current=!1,O&&O(a.current),u()},[O]),ye=x.useCallback(function(Qt){var lt=c.current;if(lt){var jt=(typeof lt=="function"?lt():lt)||document.body,rn=typeof V=="function"?V(jt):V;if(rn){var Re=typeof rn=="object"?rn:void 0;c.current=null,Qt?Promise.resolve().then(function(){return jt.focus(Re)}):jt.focus(Re)}}},[V]),me=x.useCallback(function(Qt){l.current&&Kle.useMedium(Qt)},[]),be=Hle.useMedium,Me=x.useCallback(function(Qt){a.current!==Qt&&(a.current=Qt,s(Qt))},[]),Fe=Qb((r={},r[qle]=v&&"disabled",r[VO]=M,r),N),De=y!==!0,gt=De&&y!=="tail",tt=Bje([n,Me]),dt=x.useMemo(function(){return{observed:a,shards:q,enabled:!v,active:l.current}},[v,l.current,q,o]);return Vt.createElement(x.Fragment,null,De&&[Vt.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:UR}),U?Vt.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:UR}):null],!v&&Vt.createElement(P,{id:G,sideCar:jje,observed:o,disabled:v,persistentFocus:k,crossFrame:R,autoFocus:T,whiteList:A,shards:q,onActivation:Y,onDeactivation:ie,returnFocus:ye,focusOptions:K,noFocusGuards:y}),Vt.createElement(S,Qb({ref:tt},Fe,{className:D,onBlur:be,onFocus:me}),Vt.createElement($je.Provider,{value:dt},h)),gt&&Vt.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:UR}))});SM.propTypes={};function HO(e,t){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},HO(e,t)}function Gle(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,HO(e,t)}function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function Uje(e,t){if(s1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(s1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fje(e){var t=Uje(e,"string");return s1(t)=="symbol"?t:t+""}function Wje(e,t,n){return(t=Fje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qje(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],s;function a(){s=e(o.map(function(c){return c.props})),t(s)}var l=(function(c){Gle(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return s};var u=d.prototype;return u.componentDidMount=function(){o.push(this),a()},u.componentDidUpdate=function(){a()},u.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),a()},u.render=function(){return Vt.createElement(i,this.props)},d})(x.PureComponent);return Wje(l,"displayName","SideEffect("+n(i)+")"),l}}var zd=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},km=function(e){return Array.isArray(e)?e:[e]},Jle=function(e){return Array.isArray(e)?e[0]:e},zje=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Zle=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Yle=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Vje=function(e){return e.hasAttribute("inert")},Kje=function(e,t){return!e||Yle(e)||!zje(e)&&!Vje(e)&&t(Zle(e))},Xle=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Kje(t,Xle.bind(void 0,e));return e.set(t,r),r},Hje=function(e,t){return e&&!Yle(e)?Zje(e)?t(Zle(e)):!1:!0},Qle=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Hje(t,Qle.bind(void 0,e));return e.set(t,r),r},ece=function(e){return e.dataset},Gje=function(e){return e.tagName==="BUTTON"},tce=function(e){return e.tagName==="INPUT"},nce=function(e){return tce(e)&&e.type==="radio"},Jje=function(e){return!((tce(e)||Gje(e))&&(e.type==="hidden"||e.disabled))},Zje=function(e){var t=e.getAttribute(Oje);return![!0,"true",""].includes(t)},IM=function(e){var t;return!!(e&&(!((t=ece(e))===null||t===void 0)&&t.focusGuard))},GO=function(e){return!IM(e)},Yje=function(e){return!!e},Xje=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},Qje=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},EM=function(e,t,n){return zd(e).map(function(r,i){var o=Qje(r);return{node:r,index:i,tabIndex:n&&o===-1?(r.dataset||{}).focusGuard?0:-1:o}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Xje)},e9e=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],CM=e9e.join(","),t9e="".concat(CM,", [data-focus-guard]"),rce=function(e,t){return zd((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?t9e:CM)?[r]:[],rce(r))},[])},n9e=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?k0([e.contentDocument.body],t):[e]},k0=function(e,t){return e.reduce(function(n,r){var i,o=rce(r,t),s=(i=[]).concat.apply(i,o.map(function(a){return n9e(a,t)}));return n.concat(s,r.parentNode?zd(r.parentNode.querySelectorAll(CM)).filter(function(a){return a===r}):[])},[])},r9e=function(e){var t=e.querySelectorAll("[".concat(Tje,"]"));return zd(t).map(function(n){return k0([n])}).reduce(function(n,r){return n.concat(r)},[])},AM=function(e,t){return zd(e).filter(function(n){return Xle(t,n)}).filter(function(n){return Jje(n)})},tH=function(e,t){return t===void 0&&(t=new Map),zd(e).filter(function(n){return Qle(t,n)})},RM=function(e,t,n){return EM(AM(k0(e,n),t),!0,n)},a1=function(e,t){return EM(AM(k0(e),t),!1)},i9e=function(e,t){return AM(r9e(e),t)},dm=function(e,t){return e.shadowRoot?dm(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:zd(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?dm(i,t):!1}return dm(n,t)})},o9e=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},ice=function(e){return e.parentNode?ice(e.parentNode):e},TM=function(e){var t=km(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(VO);return n.push.apply(n,i?o9e(zd(ice(r).querySelectorAll("[".concat(VO,'="').concat(i,'"]:not([').concat(qle,'="disabled"])')))):[r]),n},[])},s9e=function(e){try{return e()}catch{return}},l1=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?l1(t.shadowRoot):t instanceof HTMLIFrameElement&&s9e(function(){return t.contentWindow.document})?l1(t.contentWindow.document):t}},a9e=function(e,t){return e===t},l9e=function(e,t){return!!zd(e.querySelectorAll("iframe")).some(function(n){return a9e(n,t)})},oce=function(e,t){return t===void 0&&(t=l1(Jle(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:TM(e).some(function(n){return dm(n,t)||l9e(n,t)})},c9e=function(e){e===void 0&&(e=document);var t=l1(e);return t?zd(e.querySelectorAll("[".concat(Rje,"]"))).some(function(n){return dm(n,t)}):!1},d9e=function(e,t){return t.filter(nce).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},OM=function(e,t){return nce(e)&&e.name?d9e(e,t):e},u9e=function(e){var t=new Set;return e.forEach(function(n){return t.add(OM(n,e))}),e.filter(function(n){return t.has(n)})},nH=function(e){return e[0]&&e.length>1?OM(e[0],e):e[0]},rH=function(e,t){return e.indexOf(OM(t,e))},JO="NEW_FOCUS",f9e=function(e,t,n,r,i){var o=e.length,s=e[0],a=e[o-1],l=IM(r);if(!(r&&e.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,d=i?n.indexOf(i):c,u=i?e.indexOf(i):-1;if(c===-1)return u!==-1?u:JO;if(u===-1)return JO;var h=c-d,m=n.indexOf(s),v=n.indexOf(a),g=u9e(n),y=r!==void 0?g.indexOf(r):-1,b=i?g.indexOf(i):y,k=g.filter(function(D){return D.tabIndex>=0}),_=r!==void 0?k.indexOf(r):-1,R=i?k.indexOf(i):_,I=_>=0&&R>=0?R-_:b-y;if(!h&&u>=0||t.length===0)return u;var T=rH(e,t[0]),M=rH(e,t[t.length-1]);if(c<=m&&l&&Math.abs(h)>1)return M;if(c>=v&&l&&Math.abs(h)>1)return T;if(h&&Math.abs(I)>1)return u;if(c<=m)return M;if(c>v)return T;if(h)return Math.abs(h)>1?u:(o+u+h)%o}},h9e=function(e){return function(t){var n,r=(n=ece(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},iH=function(e,t,n){var r=e.map(function(o){var s=o.node;return s}),i=tH(r.filter(h9e(n)));return i&&i.length?nH(i):nH(tH(t))},ZO=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&ZO(e.parentNode.host||e.parentNode,t),t},FR=function(e,t){for(var n=ZO(e),r=ZO(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},sce=function(e,t,n){var r=km(e),i=km(t),o=r[0],s=!1;return i.filter(Boolean).forEach(function(a){s=FR(s||a,a)||s,n.filter(Boolean).forEach(function(l){var c=FR(o,l);c&&(!s||dm(c,s)?s=c:s=FR(c,s))})}),s},oH=function(e,t){return e.reduce(function(n,r){return n.concat(i9e(r,t))},[])},p9e=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Yje)},m9e=function(e,t){var n=l1(km(e).length>0?document:Jle(e).ownerDocument),r=TM(e).filter(GO),i=sce(n||e,e,r),o=new Map,s=a1(r,o),a=s.filter(function(v){var g=v.node;return GO(g)});if(a[0]){var l=a1([i],o).map(function(v){var g=v.node;return g}),c=p9e(l,a),d=c.map(function(v){var g=v.node;return g}),u=c.filter(function(v){var g=v.tabIndex;return g>=0}).map(function(v){var g=v.node;return g}),h=f9e(d,u,l,n,t);if(h===JO){var m=iH(s,u,oH(r,o))||iH(s,d,oH(r,o));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return h===void 0?h:c[h]}},g9e=function(e){var t=TM(e).filter(GO),n=sce(e,e,t),r=EM(k0([n],!0),!0,!0),i=k0(t,!1);return r.map(function(o){var s=o.node,a=o.index;return{node:s,index:a,lockItem:i.indexOf(s)>=0,guard:IM(s)}})},NM=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},WR=0,qR=!1,ace=function(e,t,n){n===void 0&&(n={});var r=m9e(e,t);if(!qR&&r){if(WR>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),qR=!0,setTimeout(function(){qR=!1},1);return}WR++,NM(r.node,n.focusOptions),WR--}};function bw(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var y9e=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:bw(n),parent:bw(n.parentElement),left:bw(n.previousElementSibling),right:bw(n.nextElementSibling)}),n=n.parentElement;return{element:bw(e),stack:t,ownerDocument:e.ownerDocument}},v9e=function(e){var t,n,r,i,o;if(e)for(var s=e.stack,a=e.ownerDocument,l=new Map,c=0,d=s;c<d.length;c++){var u=d[c],h=(t=u.parent)===null||t===void 0?void 0:t.call(u);if(h&&a.contains(h)){for(var m=(n=u.left)===null||n===void 0?void 0:n.call(u),v=u.current(),g=h.contains(v)?v:void 0,y=(r=u.right)===null||r===void 0?void 0:r.call(u),b=RM([h],l),k=(o=(i=g??(m==null?void 0:m.nextElementSibling))!==null&&i!==void 0?i:y)!==null&&o!==void 0?o:m;k;){for(var _=0,R=b;_<R.length;_++){var I=R[_];if(k!=null&&k.contains(I.node))return I.node}k=k.nextElementSibling}if(b.length)return b[0].node}}},lce=function(e){var t=y9e(e);return function(){return v9e(t)}},w9e=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=km(t);if(r.every(function(s){return!dm(s,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?RM(r,new Map):a1(r,new Map),o=i.findIndex(function(s){var a=s.node;return a===e});if(o!==-1)return{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}},b9e=function(e,t){var n=t?RM(km(e),new Map):a1(km(e),new Map);return{first:n[0],last:n[n.length-1]}},_9e=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},cce=function(e,t,n){t===void 0&&(t={});var r=_9e(t),i=w9e(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&NM(o.node,r.focusOptions)}},x9e=function(e,t){t===void 0&&(t={}),cce(e,t,function(n,r){var i=n.next,o=n.first;return i||r&&o})},k9e=function(e,t){t===void 0&&(t={}),cce(e,t,function(n,r){var i=n.prev,o=n.last;return i||r&&o})},dce=function(e,t,n){var r,i=b9e(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),o=i[n];o&&NM(o.node,t.focusOptions)},S9e=function(e,t){t===void 0&&(t={}),dce(e,t,"first")},I9e=function(e,t){t===void 0&&(t={}),dce(e,t,"last")};function PM(e){setTimeout(e,1)}var E9e=function(t){return t&&"current"in t?t.current:t},uce=function(){return document&&document.activeElement===document.body},C9e=function(){return uce()||c9e()},Yy=null,Sa=null,sH=function(){return null},Xy=null,c1=!1,BM=!1,A9e=function(){return!0},R9e=function(t){return(Yy.whiteList||A9e)(t)},T9e=function(t,n){Xy={observerNode:t,portaledElement:n}},O9e=function(t){return Xy&&Xy.portaledElement===t};function aH(e,t,n,r){var i=null,o=e;do{var s=r[o];if(s.guard)s.node.dataset.focusAutoGuard&&(i=s);else if(s.lockItem){if(o!==e)return;i=null}else break}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var N9e=function(t){return t?!!c1:c1==="meanwhile"},P9e=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},B9e=function(t,n){return n.some(function(r){return P9e(t,r,r)})},fce=function(t){return a1(t,new Map)},D9e=function(t){return!fce([t.parentNode]).some(function(n){return n.node===t})},DS=function(){var t=!1;if(Yy){var n=Yy,r=n.observed,i=n.persistentFocus,o=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,c=n.noFocusGuards,d=r||Xy&&Xy.portaledElement;if(uce()&&Sa&&Sa!==document.body&&(!document.body.contains(Sa)||D9e(Sa))){var u=sH();u&&u.focus()}var h=document&&document.activeElement;if(d){var m=[d].concat(s.map(E9e).filter(Boolean)),v=function(){if(!N9e(a)||!c||!Sa||BM)return!1;var _=fce(m),R=_.findIndex(function(I){var T=I.node;return T===Sa});return R===0||R===_.length-1};if((!h||R9e(h))&&(i||v()||!C9e()||!Sa&&o)&&(d&&!(oce(m)||h&&B9e(h,m)||O9e(h))&&(document&&!Sa&&h&&!o?(h.blur&&h.blur(),document.body.focus()):(t=ace(m,Sa,{focusOptions:l}),Xy={})),Sa=document&&document.activeElement,Sa!==document.body&&(sH=lce(Sa)),c1=!1),document&&h!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var g=document&&document.activeElement,y=g9e(m),b=y.map(function(k){var _=k.node;return _}).indexOf(g);b>-1&&(y.filter(function(k){var _=k.guard,R=k.node;return _&&R.dataset.focusAutoGuard}).forEach(function(k){var _=k.node;return _.removeAttribute("tabIndex")}),aH(b,y.length,1,y),aH(b,-1,-1,y))}}}return t},hce=function(t){DS()&&t&&(t.stopPropagation(),t.preventDefault())},DM=function(){return PM(DS)},M9e=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||T9e(r,n)},j9e=function(){return null},pce=function(){BM=!0},mce=function(){BM=!1,c1="just",PM(function(){c1="meanwhile"})},$9e=function(){document.addEventListener("focusin",hce),document.addEventListener("focusout",DM),window.addEventListener("focus",pce),window.addEventListener("blur",mce)},L9e=function(){document.removeEventListener("focusin",hce),document.removeEventListener("focusout",DM),window.removeEventListener("focus",pce),window.removeEventListener("blur",mce)};function U9e(e){return e.filter(function(t){var n=t.disabled;return!n})}var gce={moveFocusInside:ace,focusInside:oce,focusNextElement:x9e,focusPrevElement:k9e,focusFirstElement:S9e,focusLastElement:I9e,captureFocusRestore:lce};function F9e(e){var t=e.slice(-1)[0];t&&!Yy&&$9e();var n=Yy,r=n&&t&&t.id===n.id;Yy=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!t)),t?(Sa=null,(!r||n.observed!==t.observed)&&t.onActivation(gce),DS(),PM(DS)):(L9e(),Sa=null)}Kle.assignSyncMedium(M9e);Hle.assignMedium(DM);Mje.assignMedium(function(e){return e(gce)});const W9e=qje(U9e,F9e)(j9e);var yce=x.forwardRef(function(t,n){return Vt.createElement(SM,Qb({sideCar:W9e,ref:n},t))}),vce=SM.propTypes||{};vce.sideCar;Aje(vce,["sideCar"]);yce.propTypes={};var Jg={},zR,lH;function q9e(){return lH||(lH=1,zR=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),zR}var VR={},Ef={},cH;function Zm(){if(cH)return Ef;cH=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ef.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Ef.getSymbolTotalCodewords=function(r){return t[r]},Ef.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Ef.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Ef.isKanjiModeEnabled=function(){return typeof e<"u"},Ef.toSJIS=function(r){return e(r)},Ef}var KR={},dH;function MM(){return dH||(dH=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(KR)),KR}var HR,uH;function z9e(){if(uH)return HR;uH=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},HR=e,HR}var GR,fH;function V9e(){if(fH)return GR;fH=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const o=t*this.size+n;this.data[o]=r,i&&(this.reservedBit[o]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},GR=e,GR}var JR={},hH;function K9e(){return hH||(hH=1,(function(e){const t=Zm().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=t(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],o=e.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(JR)),JR}var ZR={},pH;function H9e(){if(pH)return ZR;pH=1;const e=Zm().getSymbolSize,t=7;return ZR.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},ZR}var YR={},mH;function G9e(){return mH||(mH=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,d=null;for(let u=0;u<o;u++){a=l=0,c=d=null;for(let h=0;h<o;h++){let m=i.get(u,h);m===c?a++:(a>=5&&(s+=t.N1+(a-5)),c=m,a=1),m=i.get(h,u),m===d?l++:(l>=5&&(s+=t.N1+(l-5)),d=m,l=1)}a>=5&&(s+=t.N1+(a-5)),l>=5&&(s+=t.N1+(l-5))}return s},e.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*t.N4};function n(r,i,o){switch(r){case e.Patterns.PATTERN000:return(i+o)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(i+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return i*o%2+i*o%3===0;case e.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case e.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},e.getBestMask=function(i,o){const s=Object.keys(e.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),e.applyMask(c,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(YR)),YR}var xk={},gH;function wce(){if(gH)return xk;gH=1;const e=MM(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return xk.getBlocksCount=function(i,o){switch(o){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},xk.getTotalCodewordsCount=function(i,o){switch(o){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},xk}var XR={},_w={},yH;function J9e(){if(yH)return _w;yH=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),_w.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},_w.exp=function(r){return e[r]},_w.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},_w}var vH;function Z9e(){return vH||(vH=1,(function(e){const t=J9e();e.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=t.mul(r[s],i[a]);return o},e.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=t.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=e.mul(i,new Uint8Array([1,t.exp(o)]));return i}})(XR)),XR}var QR,wH;function Y9e(){if(wH)return QR;wH=1;const e=Z9e();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const o=e.mod(i,this.genPoly),s=this.degree-o.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(o,s),a}return o},QR=t,QR}var e4={},t4={},n4={},bH;function bce(){return bH||(bH=1,n4.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),n4}var sd={},_H;function _ce(){if(_H)return sd;_H=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;sd.KANJI=new RegExp(n,"g"),sd.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),sd.BYTE=new RegExp(r,"g"),sd.NUMERIC=new RegExp(e,"g"),sd.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),o=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return sd.testKanji=function(l){return i.test(l)},sd.testNumeric=function(l){return o.test(l)},sd.testAlphanumeric=function(l){return s.test(l)},sd}var xH;function Ym(){return xH||(xH=1,(function(e){const t=bce(),n=_ce();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return n.testNumeric(o)?e.NUMERIC:n.testAlphanumeric(o)?e.ALPHANUMERIC:n.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(o,s){if(e.isValid(o))return o;try{return r(o)}catch{return s}}})(t4)),t4}var kH;function X9e(){return kH||(kH=1,(function(e){const t=Zm(),n=wce(),r=MM(),i=Ym(),o=bce(),s=7973,a=t.getBCHDigit(s);function l(h,m,v){for(let g=1;g<=40;g++)if(m<=e.getCapacity(g,v,h))return g}function c(h,m){return i.getCharCountIndicator(h,m)+4}function d(h,m){let v=0;return h.forEach(function(g){const y=c(g.mode,m);v+=y+g.getBitsLength()}),v}function u(h,m){for(let v=1;v<=40;v++)if(d(h,v)<=e.getCapacity(v,m,i.MIXED))return v}e.from=function(m,v){return o.isValid(m)?parseInt(m,10):v},e.getCapacity=function(m,v,g){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const y=t.getSymbolTotalCodewords(m),b=n.getTotalCodewordsCount(m,v),k=(y-b)*8;if(g===i.MIXED)return k;const _=k-c(g,m);switch(g){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(m,v){let g;const y=r.from(v,r.M);if(Array.isArray(m)){if(m.length>1)return u(m,y);if(m.length===0)return 1;g=m[0]}else g=m;return l(g.mode,g.getLength(),y)},e.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;t.getBCHDigit(v)-a>=0;)v^=s<<t.getBCHDigit(v)-a;return m<<12|v}})(e4)),e4}var r4={},SH;function Q9e(){if(SH)return r4;SH=1;const e=Zm(),t=1335,n=21522,r=e.getBCHDigit(t);return r4.getEncodedBits=function(o,s){const a=o.bit<<3|s;let l=a<<10;for(;e.getBCHDigit(l)-r>=0;)l^=t<<e.getBCHDigit(l)-r;return(a<<10|l)^n},r4}var i4={},o4,IH;function e$e(){if(IH)return o4;IH=1;const e=Ym();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,o,s;for(i=0;i+3<=this.data.length;i+=3)o=this.data.substr(i,3),s=parseInt(o,10),r.put(s,10);const a=this.data.length-i;a>0&&(o=this.data.substr(i),s=parseInt(o,10),r.put(s,a*3+1))},o4=t,o4}var s4,EH;function t$e(){if(EH)return s4;EH=1;const e=Ym(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let o;for(o=0;o+2<=this.data.length;o+=2){let s=t.indexOf(this.data[o])*45;s+=t.indexOf(this.data[o+1]),i.put(s,11)}this.data.length%2&&i.put(t.indexOf(this.data[o]),6)},s4=n,s4}var a4,CH;function n$e(){return CH||(CH=1,a4=function(t){for(var n=[],r=t.length,i=0;i<r;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var s=t.charCodeAt(i+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,i+=1)}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192),n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}),a4}var l4,AH;function r$e(){if(AH)return l4;AH=1;const e=n$e(),t=Ym();function n(r){this.mode=t.BYTE,typeof r=="string"&&(r=e(r)),this.data=new Uint8Array(r)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let i=0,o=this.data.length;i<o;i++)r.put(this.data[i],8)},l4=n,l4}var c4,RH;function i$e(){if(RH)return c4;RH=1;const e=Ym(),t=Zm();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let o=t.toSJIS(this.data[i]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},c4=n,c4}var d4={exports:{}},TH;function o$e(){return TH||(TH=1,(function(e){var t={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var l,c,d,u,h,m,v,g,y;!a.empty();){l=a.pop(),c=l.value,u=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],v=u+m,g=s[d],y=typeof s[d]>"u",(y||g>v)&&(s[d]=v,a.push(d,v),o[d]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(d4)),d4.exports}var OH;function s$e(){return OH||(OH=1,(function(e){const t=Ym(),n=e$e(),r=t$e(),i=r$e(),o=i$e(),s=_ce(),a=Zm(),l=o$e();function c(b){return unescape(encodeURIComponent(b)).length}function d(b,k,_){const R=[];let I;for(;(I=b.exec(_))!==null;)R.push({data:I[0],index:I.index,mode:k,length:I[0].length});return R}function u(b){const k=d(s.NUMERIC,t.NUMERIC,b),_=d(s.ALPHANUMERIC,t.ALPHANUMERIC,b);let R,I;return a.isKanjiModeEnabled()?(R=d(s.BYTE,t.BYTE,b),I=d(s.KANJI,t.KANJI,b)):(R=d(s.BYTE_KANJI,t.BYTE,b),I=[]),k.concat(_,R,I).sort(function(M,D){return M.index-D.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function h(b,k){switch(k){case t.NUMERIC:return n.getBitsLength(b);case t.ALPHANUMERIC:return r.getBitsLength(b);case t.KANJI:return o.getBitsLength(b);case t.BYTE:return i.getBitsLength(b)}}function m(b){return b.reduce(function(k,_){const R=k.length-1>=0?k[k.length-1]:null;return R&&R.mode===_.mode?(k[k.length-1].data+=_.data,k):(k.push(_),k)},[])}function v(b){const k=[];for(let _=0;_<b.length;_++){const R=b[_];switch(R.mode){case t.NUMERIC:k.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:k.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:k.push([R,{data:R.data,mode:t.BYTE,length:c(R.data)}]);break;case t.BYTE:k.push([{data:R.data,mode:t.BYTE,length:c(R.data)}])}}return k}function g(b,k){const _={},R={start:{}};let I=["start"];for(let T=0;T<b.length;T++){const M=b[T],D=[];for(let A=0;A<M.length;A++){const U=M[A],$=""+T+A;D.push($),_[$]={node:U,lastCount:0},R[$]={};for(let q=0;q<I.length;q++){const z=I[q];_[z]&&_[z].node.mode===U.mode?(R[z][$]=h(_[z].lastCount+U.length,U.mode)-h(_[z].lastCount,U.mode),_[z].lastCount+=U.length):(_[z]&&(_[z].lastCount=U.length),R[z][$]=h(U.length,U.mode)+4+t.getCharCountIndicator(U.mode,k))}}I=D}for(let T=0;T<I.length;T++)R[I[T]].end=0;return{map:R,table:_}}function y(b,k){let _;const R=t.getBestModeForData(b);if(_=t.from(k,R),_!==t.BYTE&&_.bit<R.bit)throw new Error('"'+b+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(R));switch(_===t.KANJI&&!a.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new n(b);case t.ALPHANUMERIC:return new r(b);case t.KANJI:return new o(b);case t.BYTE:return new i(b)}}e.fromArray=function(k){return k.reduce(function(_,R){return typeof R=="string"?_.push(y(R,null)):R.data&&_.push(y(R.data,R.mode)),_},[])},e.fromString=function(k,_){const R=u(k,a.isKanjiModeEnabled()),I=v(R),T=g(I,_),M=l.find_path(T.map,"start","end"),D=[];for(let A=1;A<M.length-1;A++)D.push(T.table[M[A]].node);return e.fromArray(m(D))},e.rawSplit=function(k){return e.fromArray(u(k,a.isKanjiModeEnabled()))}})(i4)),i4}var NH;function a$e(){if(NH)return VR;NH=1;const e=Zm(),t=MM(),n=z9e(),r=V9e(),i=K9e(),o=H9e(),s=G9e(),a=wce(),l=Y9e(),c=X9e(),d=Q9e(),u=Ym(),h=s$e();function m(T,M){const D=T.size,A=o.getPositions(M);for(let U=0;U<A.length;U++){const $=A[U][0],q=A[U][1];for(let z=-1;z<=7;z++)if(!($+z<=-1||D<=$+z))for(let S=-1;S<=7;S++)q+S<=-1||D<=q+S||(z>=0&&z<=6&&(S===0||S===6)||S>=0&&S<=6&&(z===0||z===6)||z>=2&&z<=4&&S>=2&&S<=4?T.set($+z,q+S,!0,!0):T.set($+z,q+S,!1,!0))}}function v(T){const M=T.size;for(let D=8;D<M-8;D++){const A=D%2===0;T.set(D,6,A,!0),T.set(6,D,A,!0)}}function g(T,M){const D=i.getPositions(M);for(let A=0;A<D.length;A++){const U=D[A][0],$=D[A][1];for(let q=-2;q<=2;q++)for(let z=-2;z<=2;z++)q===-2||q===2||z===-2||z===2||q===0&&z===0?T.set(U+q,$+z,!0,!0):T.set(U+q,$+z,!1,!0)}}function y(T,M){const D=T.size,A=c.getEncodedBits(M);let U,$,q;for(let z=0;z<18;z++)U=Math.floor(z/3),$=z%3+D-8-3,q=(A>>z&1)===1,T.set(U,$,q,!0),T.set($,U,q,!0)}function b(T,M,D){const A=T.size,U=d.getEncodedBits(M,D);let $,q;for($=0;$<15;$++)q=(U>>$&1)===1,$<6?T.set($,8,q,!0):$<8?T.set($+1,8,q,!0):T.set(A-15+$,8,q,!0),$<8?T.set(8,A-$-1,q,!0):$<9?T.set(8,15-$-1+1,q,!0):T.set(8,15-$-1,q,!0);T.set(A-8,8,1,!0)}function k(T,M){const D=T.size;let A=-1,U=D-1,$=7,q=0;for(let z=D-1;z>0;z-=2)for(z===6&&z--;;){for(let S=0;S<2;S++)if(!T.isReserved(U,z-S)){let E=!1;q<M.length&&(E=(M[q]>>>$&1)===1),T.set(U,z-S,E),$--,$===-1&&(q++,$=7)}if(U+=A,U<0||D<=U){U-=A,A=-A;break}}}function _(T,M,D){const A=new n;D.forEach(function(S){A.put(S.mode.bit,4),A.put(S.getLength(),u.getCharCountIndicator(S.mode,T)),S.write(A)});const U=e.getSymbolTotalCodewords(T),$=a.getTotalCodewordsCount(T,M),q=(U-$)*8;for(A.getLengthInBits()+4<=q&&A.put(0,4);A.getLengthInBits()%8!==0;)A.putBit(0);const z=(q-A.getLengthInBits())/8;for(let S=0;S<z;S++)A.put(S%2?17:236,8);return R(A,T,M)}function R(T,M,D){const A=e.getSymbolTotalCodewords(M),U=a.getTotalCodewordsCount(M,D),$=A-U,q=a.getBlocksCount(M,D),z=A%q,S=q-z,E=Math.floor(A/q),N=Math.floor($/q),P=N+1,j=E-N,V=new l(j);let K=0;const F=new Array(q),O=new Array(q);let W=0;const G=new Uint8Array(T.buffer);for(let be=0;be<q;be++){const Me=be<S?N:P;F[be]=G.slice(K,K+Me),O[be]=V.encode(F[be]),K+=Me,W=Math.max(W,Me)}const Y=new Uint8Array(A);let ie=0,ye,me;for(ye=0;ye<W;ye++)for(me=0;me<q;me++)ye<F[me].length&&(Y[ie++]=F[me][ye]);for(ye=0;ye<j;ye++)for(me=0;me<q;me++)Y[ie++]=O[me][ye];return Y}function I(T,M,D,A){let U;if(Array.isArray(T))U=h.fromArray(T);else if(typeof T=="string"){let E=M;if(!E){const N=h.rawSplit(T);E=c.getBestVersionForData(N,D)}U=h.fromString(T,E||40)}else throw new Error("Invalid data");const $=c.getBestVersionForData(U,D);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!M)M=$;else if(M<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const q=_(M,D,U),z=e.getSymbolSize(M),S=new r(z);return m(S,M),v(S),g(S,M),b(S,D,0),M>=7&&y(S,M),k(S,q),isNaN(A)&&(A=s.getBestMask(S,b.bind(null,S,D))),s.applyMask(A,S),b(S,D,A),{modules:S,version:M,errorCorrectionLevel:D,maskPattern:A,segments:U}}return VR.create=function(M,D){if(typeof M>"u"||M==="")throw new Error("No input text");let A=t.M,U,$;return typeof D<"u"&&(A=t.from(D.errorCorrectionLevel,t.M),U=c.from(D.version),$=s.from(D.maskPattern),D.toSJISFunc&&e.setToSJISFunction(D.toSJISFunc)),I(M,U,A,$)},VR}var u4={},f4={},PH;function xce(){return PH||(PH=1,(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const o=e.getScale(r,i);return Math.floor((r+i.margin*2)*o)},e.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=e.getScale(s,o),c=Math.floor((s+o.margin*2)*l),d=o.margin*l,u=[o.color.light,o.color.dark];for(let h=0;h<c;h++)for(let m=0;m<c;m++){let v=(h*c+m)*4,g=o.color.light;if(h>=d&&m>=d&&h<c-d&&m<c-d){const y=Math.floor((h-d)/l),b=Math.floor((m-d)/l);g=u[a[y*s+b]?1:0]}r[v++]=g.r,r[v++]=g.g,r[v++]=g.b,r[v]=g.a}}})(f4)),f4}var BH;function l$e(){return BH||(BH=1,(function(e){const t=xce();function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=t.getOptions(l);const d=t.getImageWidth(o.modules.size,l),u=c.getContext("2d"),h=u.createImageData(d,d);return t.qrToImageData(h.data,o,l),n(u,c,d),u.putImageData(h,0,0),c},e.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=e.render(o,s,l),d=l.type||"image/png",u=l.rendererOpts||{};return c.toDataURL(d,u.quality)}})(u4)),u4}var h4={},DH;function c$e(){if(DH)return h4;DH=1;const e=xce();function t(i,o){const s=i.a/255,a=o+'="'+i.hex+'"';return s<1?a+" "+o+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function n(i,o,s){let a=i+o;return typeof s<"u"&&(a+=" "+s),a}function r(i,o,s){let a="",l=0,c=!1,d=0;for(let u=0;u<i.length;u++){const h=Math.floor(u%o),m=Math.floor(u/o);!h&&!c&&(c=!0),i[u]?(d++,u>0&&h>0&&i[u-1]||(a+=c?n("M",h+s,.5+m+s):n("m",l,0),l=0,c=!1),h+1<o&&i[u+1]||(a+=n("h",d),d=0)):l++}return a}return h4.render=function(o,s,a){const l=e.getOptions(s),c=o.modules.size,d=o.modules.data,u=c+l.margin*2,h=l.color.light.a?"<path "+t(l.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",m="<path "+t(l.color.dark,"stroke")+' d="'+r(d,c,l.margin)+'"/>',v='viewBox="0 0 '+u+" "+u+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+v+' shape-rendering="crispEdges">'+h+m+`</svg>
`;return typeof a=="function"&&a(null,y),y},h4}var MH;function d$e(){if(MH)return Jg;MH=1;const e=q9e(),t=a$e(),n=l$e(),r=c$e();function i(o,s,a,l,c){const d=[].slice.call(arguments,1),u=d.length,h=typeof d[u-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(u<2)throw new Error("Too few arguments provided");u===2?(c=a,a=s,s=l=void 0):u===3&&(s.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=a,a=s,s=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(a=s,s=l=void 0):u===2&&!s.getContext&&(l=a,a=s,s=void 0),new Promise(function(m,v){try{const g=t.create(a,l);m(o(g,s,l))}catch(g){v(g)}})}try{const m=t.create(a,l);c(null,o(m,s,l))}catch(m){c(m)}}return Jg.create=t.create,Jg.toCanvas=i.bind(null,n.render),Jg.toDataURL=i.bind(null,n.renderToDataURL),Jg.toString=i.bind(null,function(o,s,a){return r.render(o,a)}),Jg}var u$e=d$e();const kce=Rr(u$e);var p4,jH;function f$e(){if(jH)return p4;jH=1;var e=Array.isArray,t=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function i(o,s){if(o===s)return!0;if(o&&s&&typeof o=="object"&&typeof s=="object"){var a=e(o),l=e(s),c,d,u;if(a&&l){if(d=o.length,d!=s.length)return!1;for(c=d;c--!==0;)if(!i(o[c],s[c]))return!1;return!0}if(a!=l)return!1;var h=o instanceof Date,m=s instanceof Date;if(h!=m)return!1;if(h&&m)return o.getTime()==s.getTime();var v=o instanceof RegExp,g=s instanceof RegExp;if(v!=g)return!1;if(v&&g)return o.toString()==s.toString();var y=t(o);if(d=y.length,d!==t(s).length)return!1;for(c=d;c--!==0;)if(!n.call(s,y[c]))return!1;if(r&&o instanceof Element&&s instanceof Element)return o===s;for(c=d;c--!==0;)if(u=y[c],!(u==="_owner"&&o.$$typeof)&&!i(o[u],s[u]))return!1;return!0}return o!==o&&s!==s}return p4=function(s,a){try{return i(s,a)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},p4}var h$e=f$e();const Bp=Rr(h$e);var p$e=function(t){return m$e(t)&&!g$e(t)};function m$e(e){return!!e&&typeof e=="object"}function g$e(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||w$e(e)}var y$e=typeof Symbol=="function"&&Symbol.for,v$e=y$e?Symbol.for("react.element"):60103;function w$e(e){return e.$$typeof===v$e}function b$e(e){return Array.isArray(e)?[]:{}}function MS(e,t){return t.clone!==!1&&t.isMergeableObject(e)?d1(b$e(e),e,t):e}function _$e(e,t,n){return e.concat(t).map(function(r){return MS(r,n)})}function x$e(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=MS(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=MS(t[i],n):r[i]=d1(e[i],t[i],n)}),r}function d1(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||_$e,n.isMergeableObject=n.isMergeableObject||p$e;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):x$e(e,t,n):MS(t,n)}d1.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return d1(r,i,n)},{})};var YO=d1,Sce=typeof global=="object"&&global&&global.Object===Object&&global,k$e=typeof self=="object"&&self&&self.Object===Object&&self,Vd=Sce||k$e||Function("return this")(),Mh=Vd.Symbol,Ice=Object.prototype,S$e=Ice.hasOwnProperty,I$e=Ice.toString,xw=Mh?Mh.toStringTag:void 0;function E$e(e){var t=S$e.call(e,xw),n=e[xw];try{e[xw]=void 0;var r=!0}catch{}var i=I$e.call(e);return r&&(t?e[xw]=n:delete e[xw]),i}var C$e=Object.prototype,A$e=C$e.toString;function R$e(e){return A$e.call(e)}var T$e="[object Null]",O$e="[object Undefined]",$H=Mh?Mh.toStringTag:void 0;function Xm(e){return e==null?e===void 0?O$e:T$e:$H&&$H in Object(e)?E$e(e):R$e(e)}function Ece(e,t){return function(n){return e(t(n))}}var jM=Ece(Object.getPrototypeOf,Object);function Qm(e){return e!=null&&typeof e=="object"}var N$e="[object Object]",P$e=Function.prototype,B$e=Object.prototype,Cce=P$e.toString,D$e=B$e.hasOwnProperty,M$e=Cce.call(Object);function LH(e){if(!Qm(e)||Xm(e)!=N$e)return!1;var t=jM(e);if(t===null)return!0;var n=D$e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Cce.call(n)==M$e}function j$e(){this.__data__=[],this.size=0}function Ace(e,t){return e===t||e!==e&&t!==t}function R3(e,t){for(var n=e.length;n--;)if(Ace(e[n][0],t))return n;return-1}var $$e=Array.prototype,L$e=$$e.splice;function U$e(e){var t=this.__data__,n=R3(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():L$e.call(t,n,1),--this.size,!0}function F$e(e){var t=this.__data__,n=R3(t,e);return n<0?void 0:t[n][1]}function W$e(e){return R3(this.__data__,e)>-1}function q$e(e,t){var n=this.__data__,r=R3(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function nf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nf.prototype.clear=j$e;nf.prototype.delete=U$e;nf.prototype.get=F$e;nf.prototype.has=W$e;nf.prototype.set=q$e;function z$e(){this.__data__=new nf,this.size=0}function V$e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function K$e(e){return this.__data__.get(e)}function H$e(e){return this.__data__.has(e)}function x_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var G$e="[object AsyncFunction]",J$e="[object Function]",Z$e="[object GeneratorFunction]",Y$e="[object Proxy]";function Rce(e){if(!x_(e))return!1;var t=Xm(e);return t==J$e||t==Z$e||t==G$e||t==Y$e}var m4=Vd["__core-js_shared__"],UH=(function(){var e=/[^.]+$/.exec(m4&&m4.keys&&m4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function X$e(e){return!!UH&&UH in e}var Q$e=Function.prototype,eLe=Q$e.toString;function eg(e){if(e!=null){try{return eLe.call(e)}catch{}try{return e+""}catch{}}return""}var tLe=/[\\^$.*+?()[\]{}|]/g,nLe=/^\[object .+?Constructor\]$/,rLe=Function.prototype,iLe=Object.prototype,oLe=rLe.toString,sLe=iLe.hasOwnProperty,aLe=RegExp("^"+oLe.call(sLe).replace(tLe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lLe(e){if(!x_(e)||X$e(e))return!1;var t=Rce(e)?aLe:nLe;return t.test(eg(e))}function cLe(e,t){return e==null?void 0:e[t]}function tg(e,t){var n=cLe(e,t);return lLe(n)?n:void 0}var u1=tg(Vd,"Map"),f1=tg(Object,"create");function dLe(){this.__data__=f1?f1(null):{},this.size=0}function uLe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fLe="__lodash_hash_undefined__",hLe=Object.prototype,pLe=hLe.hasOwnProperty;function mLe(e){var t=this.__data__;if(f1){var n=t[e];return n===fLe?void 0:n}return pLe.call(t,e)?t[e]:void 0}var gLe=Object.prototype,yLe=gLe.hasOwnProperty;function vLe(e){var t=this.__data__;return f1?t[e]!==void 0:yLe.call(t,e)}var wLe="__lodash_hash_undefined__";function bLe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=f1&&t===void 0?wLe:t,this}function Sm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sm.prototype.clear=dLe;Sm.prototype.delete=uLe;Sm.prototype.get=mLe;Sm.prototype.has=vLe;Sm.prototype.set=bLe;function _Le(){this.size=0,this.__data__={hash:new Sm,map:new(u1||nf),string:new Sm}}function xLe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function T3(e,t){var n=e.__data__;return xLe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function kLe(e){var t=T3(this,e).delete(e);return this.size-=t?1:0,t}function SLe(e){return T3(this,e).get(e)}function ILe(e){return T3(this,e).has(e)}function ELe(e,t){var n=T3(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Yh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yh.prototype.clear=_Le;Yh.prototype.delete=kLe;Yh.prototype.get=SLe;Yh.prototype.has=ILe;Yh.prototype.set=ELe;var CLe=200;function ALe(e,t){var n=this.__data__;if(n instanceof nf){var r=n.__data__;if(!u1||r.length<CLe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yh(r)}return n.set(e,t),this.size=n.size,this}function lv(e){var t=this.__data__=new nf(e);this.size=t.size}lv.prototype.clear=z$e;lv.prototype.delete=V$e;lv.prototype.get=K$e;lv.prototype.has=H$e;lv.prototype.set=ALe;function RLe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var FH=(function(){try{var e=tg(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Tce(e,t,n){t=="__proto__"&&FH?FH(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var TLe=Object.prototype,OLe=TLe.hasOwnProperty;function Oce(e,t,n){var r=e[t];(!(OLe.call(e,t)&&Ace(r,n))||n===void 0&&!(t in e))&&Tce(e,t,n)}function O3(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?Tce(n,a,l):Oce(n,a,l)}return n}function NLe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var PLe="[object Arguments]";function WH(e){return Qm(e)&&Xm(e)==PLe}var Nce=Object.prototype,BLe=Nce.hasOwnProperty,DLe=Nce.propertyIsEnumerable,MLe=WH((function(){return arguments})())?WH:function(e){return Qm(e)&&BLe.call(e,"callee")&&!DLe.call(e,"callee")},k_=Array.isArray;function jLe(){return!1}var Pce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qH=Pce&&typeof module=="object"&&module&&!module.nodeType&&module,$Le=qH&&qH.exports===Pce,zH=$Le?Vd.Buffer:void 0,LLe=zH?zH.isBuffer:void 0,Bce=LLe||jLe,ULe=9007199254740991,FLe=/^(?:0|[1-9]\d*)$/;function WLe(e,t){var n=typeof e;return t=t??ULe,!!t&&(n=="number"||n!="symbol"&&FLe.test(e))&&e>-1&&e%1==0&&e<t}var qLe=9007199254740991;function Dce(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qLe}var zLe="[object Arguments]",VLe="[object Array]",KLe="[object Boolean]",HLe="[object Date]",GLe="[object Error]",JLe="[object Function]",ZLe="[object Map]",YLe="[object Number]",XLe="[object Object]",QLe="[object RegExp]",eUe="[object Set]",tUe="[object String]",nUe="[object WeakMap]",rUe="[object ArrayBuffer]",iUe="[object DataView]",oUe="[object Float32Array]",sUe="[object Float64Array]",aUe="[object Int8Array]",lUe="[object Int16Array]",cUe="[object Int32Array]",dUe="[object Uint8Array]",uUe="[object Uint8ClampedArray]",fUe="[object Uint16Array]",hUe="[object Uint32Array]",pi={};pi[oUe]=pi[sUe]=pi[aUe]=pi[lUe]=pi[cUe]=pi[dUe]=pi[uUe]=pi[fUe]=pi[hUe]=!0;pi[zLe]=pi[VLe]=pi[rUe]=pi[KLe]=pi[iUe]=pi[HLe]=pi[GLe]=pi[JLe]=pi[ZLe]=pi[YLe]=pi[XLe]=pi[QLe]=pi[eUe]=pi[tUe]=pi[nUe]=!1;function pUe(e){return Qm(e)&&Dce(e.length)&&!!pi[Xm(e)]}function $M(e){return function(t){return e(t)}}var Mce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vb=Mce&&typeof module=="object"&&module&&!module.nodeType&&module,mUe=vb&&vb.exports===Mce,g4=mUe&&Sce.process,S0=(function(){try{var e=vb&&vb.require&&vb.require("util").types;return e||g4&&g4.binding&&g4.binding("util")}catch{}})(),VH=S0&&S0.isTypedArray,gUe=VH?$M(VH):pUe,yUe=Object.prototype,vUe=yUe.hasOwnProperty;function jce(e,t){var n=k_(e),r=!n&&MLe(e),i=!n&&!r&&Bce(e),o=!n&&!r&&!i&&gUe(e),s=n||r||i||o,a=s?NLe(e.length,String):[],l=a.length;for(var c in e)(t||vUe.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||WLe(c,l)))&&a.push(c);return a}var wUe=Object.prototype;function LM(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||wUe;return e===n}var bUe=Ece(Object.keys,Object),_Ue=Object.prototype,xUe=_Ue.hasOwnProperty;function kUe(e){if(!LM(e))return bUe(e);var t=[];for(var n in Object(e))xUe.call(e,n)&&n!="constructor"&&t.push(n);return t}function $ce(e){return e!=null&&Dce(e.length)&&!Rce(e)}function Lce(e){return $ce(e)?jce(e):kUe(e)}function SUe(e,t){return e&&O3(t,Lce(t),e)}function IUe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var EUe=Object.prototype,CUe=EUe.hasOwnProperty;function AUe(e){if(!x_(e))return IUe(e);var t=LM(e),n=[];for(var r in e)r=="constructor"&&(t||!CUe.call(e,r))||n.push(r);return n}function RUe(e){return $ce(e)?jce(e,!0):AUe(e)}function TUe(e,t){return e&&O3(t,RUe(t),e)}var Uce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KH=Uce&&typeof module=="object"&&module&&!module.nodeType&&module,OUe=KH&&KH.exports===Uce,HH=OUe?Vd.Buffer:void 0,GH=HH?HH.allocUnsafe:void 0;function NUe(e,t){var n=e.length,r=GH?GH(n):new e.constructor(n);return e.copy(r),r}function Fce(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function PUe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Wce(){return[]}var BUe=Object.prototype,DUe=BUe.propertyIsEnumerable,JH=Object.getOwnPropertySymbols,UM=JH?function(e){return e==null?[]:(e=Object(e),PUe(JH(e),function(t){return DUe.call(e,t)}))}:Wce;function MUe(e,t){return O3(e,UM(e),t)}function qce(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var jUe=Object.getOwnPropertySymbols,$Ue=jUe?function(e){for(var t=[];e;)qce(t,UM(e)),e=jM(e);return t}:Wce;function LUe(e,t){return O3(e,$Ue(e),t)}function UUe(e,t,n){var r=t(e);return k_(e)?r:qce(r,n(e))}function FUe(e){return UUe(e,Lce,UM)}var XO=tg(Vd,"DataView"),QO=tg(Vd,"Promise"),eN=tg(Vd,"Set"),tN=tg(Vd,"WeakMap"),ZH="[object Map]",WUe="[object Object]",YH="[object Promise]",XH="[object Set]",QH="[object WeakMap]",eG="[object DataView]",qUe=eg(XO),zUe=eg(u1),VUe=eg(QO),KUe=eg(eN),HUe=eg(tN),ku=Xm;(XO&&ku(new XO(new ArrayBuffer(1)))!=eG||u1&&ku(new u1)!=ZH||QO&&ku(QO.resolve())!=YH||eN&&ku(new eN)!=XH||tN&&ku(new tN)!=QH)&&(ku=function(e){var t=Xm(e),n=t==WUe?e.constructor:void 0,r=n?eg(n):"";if(r)switch(r){case qUe:return eG;case zUe:return ZH;case VUe:return YH;case KUe:return XH;case HUe:return QH}return t});var GUe=Object.prototype,JUe=GUe.hasOwnProperty;function ZUe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&JUe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var tG=Vd.Uint8Array;function YUe(e){var t=new e.constructor(e.byteLength);return new tG(t).set(new tG(e)),t}function XUe(e,t){var n=e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var QUe=/\w*$/;function eFe(e){var t=new e.constructor(e.source,QUe.exec(e));return t.lastIndex=e.lastIndex,t}var nG=Mh?Mh.prototype:void 0,rG=nG?nG.valueOf:void 0;function tFe(e){return rG?Object(rG.call(e)):{}}function nFe(e,t){var n=e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var rFe="[object Boolean]",iFe="[object Date]",oFe="[object Map]",sFe="[object Number]",aFe="[object RegExp]",lFe="[object Set]",cFe="[object String]",dFe="[object Symbol]",uFe="[object ArrayBuffer]",fFe="[object DataView]",hFe="[object Float32Array]",pFe="[object Float64Array]",mFe="[object Int8Array]",gFe="[object Int16Array]",yFe="[object Int32Array]",vFe="[object Uint8Array]",wFe="[object Uint8ClampedArray]",bFe="[object Uint16Array]",_Fe="[object Uint32Array]";function xFe(e,t,n){var r=e.constructor;switch(t){case uFe:return YUe(e);case rFe:case iFe:return new r(+e);case fFe:return XUe(e);case hFe:case pFe:case mFe:case gFe:case yFe:case vFe:case wFe:case bFe:case _Fe:return nFe(e);case oFe:return new r;case sFe:case cFe:return new r(e);case aFe:return eFe(e);case lFe:return new r;case dFe:return tFe(e)}}var iG=Object.create,kFe=(function(){function e(){}return function(t){if(!x_(t))return{};if(iG)return iG(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function SFe(e){return typeof e.constructor=="function"&&!LM(e)?kFe(jM(e)):{}}var IFe="[object Map]";function EFe(e){return Qm(e)&&ku(e)==IFe}var oG=S0&&S0.isMap,CFe=oG?$M(oG):EFe,AFe="[object Set]";function RFe(e){return Qm(e)&&ku(e)==AFe}var sG=S0&&S0.isSet,TFe=sG?$M(sG):RFe,OFe=2,zce="[object Arguments]",NFe="[object Array]",PFe="[object Boolean]",BFe="[object Date]",DFe="[object Error]",Vce="[object Function]",MFe="[object GeneratorFunction]",jFe="[object Map]",$Fe="[object Number]",Kce="[object Object]",LFe="[object RegExp]",UFe="[object Set]",FFe="[object String]",WFe="[object Symbol]",qFe="[object WeakMap]",zFe="[object ArrayBuffer]",VFe="[object DataView]",KFe="[object Float32Array]",HFe="[object Float64Array]",GFe="[object Int8Array]",JFe="[object Int16Array]",ZFe="[object Int32Array]",YFe="[object Uint8Array]",XFe="[object Uint8ClampedArray]",QFe="[object Uint16Array]",eWe="[object Uint32Array]",ei={};ei[zce]=ei[NFe]=ei[zFe]=ei[VFe]=ei[PFe]=ei[BFe]=ei[KFe]=ei[HFe]=ei[GFe]=ei[JFe]=ei[ZFe]=ei[jFe]=ei[$Fe]=ei[Kce]=ei[LFe]=ei[UFe]=ei[FFe]=ei[WFe]=ei[YFe]=ei[XFe]=ei[QFe]=ei[eWe]=!0;ei[DFe]=ei[Vce]=ei[qFe]=!1;function M2(e,t,n,r,i,o){var s,a=t&OFe;if(s!==void 0)return s;if(!x_(e))return e;var l=k_(e);if(l)return s=ZUe(e),Fce(e,s);var c=ku(e),d=c==Vce||c==MFe;if(Bce(e))return NUe(e);if(c==Kce||c==zce||d&&!i)return s=d?{}:SFe(e),a?LUe(e,TUe(s,e)):MUe(e,SUe(s,e));if(!ei[c])return i?e:{};s=xFe(e,c),o||(o=new lv);var u=o.get(e);if(u)return u;o.set(e,s),TFe(e)?e.forEach(function(v){s.add(M2(v,t,n,v,e,o))}):CFe(e)&&e.forEach(function(v,g){s.set(g,M2(v,t,n,g,e,o))});var h=FUe,m=l?void 0:h(e);return RLe(m||e,function(v,g){m&&(g=v,v=e[g]),Oce(s,g,M2(v,t,n,g,e,o))}),s}var tWe=4;function aG(e){return M2(e,tWe)}function Hce(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var nWe="[object Symbol]";function FM(e){return typeof e=="symbol"||Qm(e)&&Xm(e)==nWe}var rWe="Expected a function";function WM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rWe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(WM.Cache||Yh),n}WM.Cache=Yh;var iWe=500;function oWe(e){var t=WM(e,function(r){return n.size===iWe&&n.clear(),r}),n=t.cache;return t}var sWe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aWe=/\\(\\)?/g,lWe=oWe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sWe,function(n,r,i,o){t.push(i?o.replace(aWe,"$1"):r||n)}),t});function cWe(e){if(typeof e=="string"||FM(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lG=Mh?Mh.prototype:void 0,cG=lG?lG.toString:void 0;function Gce(e){if(typeof e=="string")return e;if(k_(e))return Hce(e,Gce)+"";if(FM(e))return cG?cG.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function dWe(e){return e==null?"":Gce(e)}function Jce(e){return k_(e)?Hce(e,cWe):FM(e)?[e]:Fce(lWe(dWe(e)))}var y4={exports:{}},Nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dG;function uWe(){if(dG)return Nr;dG=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function _(I){if(typeof I=="object"&&I!==null){var T=I.$$typeof;switch(T){case t:switch(I=I.type,I){case l:case c:case r:case o:case i:case u:return I;default:switch(I=I&&I.$$typeof,I){case a:case d:case v:case m:case s:return I;default:return T}}case n:return T}}}function R(I){return _(I)===c}return Nr.AsyncMode=l,Nr.ConcurrentMode=c,Nr.ContextConsumer=a,Nr.ContextProvider=s,Nr.Element=t,Nr.ForwardRef=d,Nr.Fragment=r,Nr.Lazy=v,Nr.Memo=m,Nr.Portal=n,Nr.Profiler=o,Nr.StrictMode=i,Nr.Suspense=u,Nr.isAsyncMode=function(I){return R(I)||_(I)===l},Nr.isConcurrentMode=R,Nr.isContextConsumer=function(I){return _(I)===a},Nr.isContextProvider=function(I){return _(I)===s},Nr.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},Nr.isForwardRef=function(I){return _(I)===d},Nr.isFragment=function(I){return _(I)===r},Nr.isLazy=function(I){return _(I)===v},Nr.isMemo=function(I){return _(I)===m},Nr.isPortal=function(I){return _(I)===n},Nr.isProfiler=function(I){return _(I)===o},Nr.isStrictMode=function(I){return _(I)===i},Nr.isSuspense=function(I){return _(I)===u},Nr.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===c||I===o||I===i||I===u||I===h||typeof I=="object"&&I!==null&&(I.$$typeof===v||I.$$typeof===m||I.$$typeof===s||I.$$typeof===a||I.$$typeof===d||I.$$typeof===y||I.$$typeof===b||I.$$typeof===k||I.$$typeof===g)},Nr.typeOf=_,Nr}var uG;function fWe(){return uG||(uG=1,y4.exports=uWe()),y4.exports}var v4,fG;function hWe(){if(fG)return v4;fG=1;var e=fWe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(v){return e.isMemo(v)?i:o[v.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,h=Object.prototype;function m(v,g,y){if(typeof g!="string"){if(h){var b=u(g);b&&b!==h&&m(v,b,y)}var k=l(g);c&&(k=k.concat(c(g)));for(var _=s(v),R=s(g),I=0;I<k.length;++I){var T=k[I];if(!n[T]&&!(y&&y[T])&&!(R&&R[T])&&!(_&&_[T])){var M=d(g,T);try{a(v,T,M)}catch{}}}}return v}return v4=m,v4}hWe();function bi(){return bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bi.apply(this,arguments)}function By(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Qa=function(t){return typeof t=="function"},N3=function(t){return t!==null&&typeof t=="object"},pWe=function(t){return String(Math.floor(Number(t)))===t},w4=function(t){return Object.prototype.toString.call(t)==="[object String]"},mWe=function(t){return x.Children.count(t)===0},b4=function(t){return N3(t)&&Qa(t.then)};function zl(e,t,n,r){r===void 0&&(r=0);for(var i=Jce(t);e&&r<i.length;)e=e[i[r++]];return e===void 0?n:e}function um(e,t,n){for(var r=aG(e),i=r,o=0,s=Jce(t);o<s.length-1;o++){var a=s[o],l=zl(e,s.slice(0,o+1));if(l&&(N3(l)||Array.isArray(l)))i=i[a]=aG(l);else{var c=s[o+1];i=i[a]=pWe(c)&&Number(c)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Zce(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];N3(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Zce(a,t,n,r[s])):r[s]=t}return r}var P3=x.createContext(void 0);P3.displayName="FormikContext";var gWe=P3.Provider;P3.Consumer;function qM(){var e=x.useContext(P3);return e}function yWe(e,t){switch(t.type){case"SET_VALUES":return bi({},e,{values:t.payload});case"SET_TOUCHED":return bi({},e,{touched:t.payload});case"SET_ERRORS":return Bp(e.errors,t.payload)?e:bi({},e,{errors:t.payload});case"SET_STATUS":return bi({},e,{status:t.payload});case"SET_ISSUBMITTING":return bi({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return bi({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return bi({},e,{values:um(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return bi({},e,{touched:um(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return bi({},e,{errors:um(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return bi({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return bi({},e,{touched:Zce(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return bi({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return bi({},e,{isSubmitting:!1});default:return e}}var kp={},kk={};function vWe(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,c=l===void 0?!1:l,d=e.onSubmit,u=By(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=bi({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},u),m=x.useRef(h.initialValues),v=x.useRef(h.initialErrors||kp),g=x.useRef(h.initialTouched||kk),y=x.useRef(h.initialStatus),b=x.useRef(!1),k=x.useRef({});x.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var _=x.useReducer(yWe,{values:h.initialValues,errors:h.initialErrors||kp,touched:h.initialTouched||kk,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),R=_[0],I=_[1],T=x.useCallback(function(Re,Ze){return new Promise(function(ct,st){var vt=h.validate(Re,Ze);vt==null?ct(kp):b4(vt)?vt.then(function($t){ct($t||kp)},function($t){st($t)}):ct(vt)})},[h.validate]),M=x.useCallback(function(Re,Ze){var ct=h.validationSchema,st=Qa(ct)?ct(Ze):ct,vt=Ze&&st.validateAt?st.validateAt(Ze,Re):bWe(Re,st);return new Promise(function($t,zt){vt.then(function(){$t(kp)},function(ce){ce.name==="ValidationError"?$t(wWe(ce)):zt(ce)})})},[h.validationSchema]),D=x.useCallback(function(Re,Ze){return new Promise(function(ct){return ct(k.current[Re].validate(Ze))})},[]),A=x.useCallback(function(Re){var Ze=Object.keys(k.current).filter(function(st){return Qa(k.current[st].validate)}),ct=Ze.length>0?Ze.map(function(st){return D(st,zl(Re,st))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ct).then(function(st){return st.reduce(function(vt,$t,zt){return $t==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||$t&&(vt=um(vt,Ze[zt],$t)),vt},{})})},[D]),U=x.useCallback(function(Re){return Promise.all([A(Re),h.validationSchema?M(Re):{},h.validate?T(Re):{}]).then(function(Ze){var ct=Ze[0],st=Ze[1],vt=Ze[2],$t=YO.all([ct,st,vt],{arrayMerge:_We});return $t})},[h.validate,h.validationSchema,A,T,M]),$=Dl(function(Re){return Re===void 0&&(Re=R.values),I({type:"SET_ISVALIDATING",payload:!0}),U(Re).then(function(Ze){return b.current&&(I({type:"SET_ISVALIDATING",payload:!1}),I({type:"SET_ERRORS",payload:Ze})),Ze})});x.useEffect(function(){s&&b.current===!0&&Bp(m.current,h.initialValues)&&$(m.current)},[s,$]);var q=x.useCallback(function(Re){var Ze=Re&&Re.values?Re.values:m.current,ct=Re&&Re.errors?Re.errors:v.current?v.current:h.initialErrors||{},st=Re&&Re.touched?Re.touched:g.current?g.current:h.initialTouched||{},vt=Re&&Re.status?Re.status:y.current?y.current:h.initialStatus;m.current=Ze,v.current=ct,g.current=st,y.current=vt;var $t=function(){I({type:"RESET_FORM",payload:{isSubmitting:!!Re&&!!Re.isSubmitting,errors:ct,touched:st,status:vt,values:Ze,isValidating:!!Re&&!!Re.isValidating,submitCount:Re&&Re.submitCount&&typeof Re.submitCount=="number"?Re.submitCount:0}})};if(h.onReset){var zt=h.onReset(R.values,Fe);b4(zt)?zt.then($t):$t()}else $t()},[h.initialErrors,h.initialStatus,h.initialTouched]);x.useEffect(function(){b.current===!0&&!Bp(m.current,h.initialValues)&&(c&&(m.current=h.initialValues,q()),s&&$(m.current))},[c,h.initialValues,q,s,$]),x.useEffect(function(){c&&b.current===!0&&!Bp(v.current,h.initialErrors)&&(v.current=h.initialErrors||kp,I({type:"SET_ERRORS",payload:h.initialErrors||kp}))},[c,h.initialErrors]),x.useEffect(function(){c&&b.current===!0&&!Bp(g.current,h.initialTouched)&&(g.current=h.initialTouched||kk,I({type:"SET_TOUCHED",payload:h.initialTouched||kk}))},[c,h.initialTouched]),x.useEffect(function(){c&&b.current===!0&&!Bp(y.current,h.initialStatus)&&(y.current=h.initialStatus,I({type:"SET_STATUS",payload:h.initialStatus}))},[c,h.initialStatus,h.initialTouched]);var z=Dl(function(Re){if(k.current[Re]&&Qa(k.current[Re].validate)){var Ze=zl(R.values,Re),ct=k.current[Re].validate(Ze);return b4(ct)?(I({type:"SET_ISVALIDATING",payload:!0}),ct.then(function(st){return st}).then(function(st){I({type:"SET_FIELD_ERROR",payload:{field:Re,value:st}}),I({type:"SET_ISVALIDATING",payload:!1})})):(I({type:"SET_FIELD_ERROR",payload:{field:Re,value:ct}}),Promise.resolve(ct))}else if(h.validationSchema)return I({type:"SET_ISVALIDATING",payload:!0}),M(R.values,Re).then(function(st){return st}).then(function(st){I({type:"SET_FIELD_ERROR",payload:{field:Re,value:st[Re]}}),I({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),S=x.useCallback(function(Re,Ze){var ct=Ze.validate;k.current[Re]={validate:ct}},[]),E=x.useCallback(function(Re){delete k.current[Re]},[]),N=Dl(function(Re,Ze){I({type:"SET_TOUCHED",payload:Re});var ct=Ze===void 0?i:Ze;return ct?$(R.values):Promise.resolve()}),P=x.useCallback(function(Re){I({type:"SET_ERRORS",payload:Re})},[]),j=Dl(function(Re,Ze){var ct=Qa(Re)?Re(R.values):Re;I({type:"SET_VALUES",payload:ct});var st=Ze===void 0?n:Ze;return st?$(ct):Promise.resolve()}),V=x.useCallback(function(Re,Ze){I({type:"SET_FIELD_ERROR",payload:{field:Re,value:Ze}})},[]),K=Dl(function(Re,Ze,ct){I({type:"SET_FIELD_VALUE",payload:{field:Re,value:Ze}});var st=ct===void 0?n:ct;return st?$(um(R.values,Re,Ze)):Promise.resolve()}),F=x.useCallback(function(Re,Ze){var ct=Ze,st=Re,vt;if(!w4(Re)){Re.persist&&Re.persist();var $t=Re.target?Re.target:Re.currentTarget,zt=$t.type,ce=$t.name,X=$t.id,ee=$t.value,we=$t.checked;$t.outerHTML;var Ae=$t.options,Pe=$t.multiple;ct=Ze||ce||X,st=/number|range/.test(zt)?(vt=parseFloat(ee),isNaN(vt)?"":vt):/checkbox/.test(zt)?kWe(zl(R.values,ct),we,ee):Ae&&Pe?xWe(Ae):ee}ct&&K(ct,st)},[K,R.values]),O=Dl(function(Re){if(w4(Re))return function(Ze){return F(Ze,Re)};F(Re)}),W=Dl(function(Re,Ze,ct){Ze===void 0&&(Ze=!0),I({type:"SET_FIELD_TOUCHED",payload:{field:Re,value:Ze}});var st=ct===void 0?i:ct;return st?$(R.values):Promise.resolve()}),G=x.useCallback(function(Re,Ze){Re.persist&&Re.persist();var ct=Re.target,st=ct.name,vt=ct.id;ct.outerHTML;var $t=Ze||st||vt;W($t,!0)},[W]),Y=Dl(function(Re){if(w4(Re))return function(Ze){return G(Ze,Re)};G(Re)}),ie=x.useCallback(function(Re){Qa(Re)?I({type:"SET_FORMIK_STATE",payload:Re}):I({type:"SET_FORMIK_STATE",payload:function(){return Re}})},[]),ye=x.useCallback(function(Re){I({type:"SET_STATUS",payload:Re})},[]),me=x.useCallback(function(Re){I({type:"SET_ISSUBMITTING",payload:Re})},[]),be=Dl(function(){return I({type:"SUBMIT_ATTEMPT"}),$().then(function(Re){var Ze=Re instanceof Error,ct=!Ze&&Object.keys(Re).length===0;if(ct){var st;try{if(st=De(),st===void 0)return}catch(vt){throw vt}return Promise.resolve(st).then(function(vt){return b.current&&I({type:"SUBMIT_SUCCESS"}),vt}).catch(function(vt){if(b.current)throw I({type:"SUBMIT_FAILURE"}),vt})}else if(b.current&&(I({type:"SUBMIT_FAILURE"}),Ze))throw Re})}),Me=Dl(function(Re){Re&&Re.preventDefault&&Qa(Re.preventDefault)&&Re.preventDefault(),Re&&Re.stopPropagation&&Qa(Re.stopPropagation)&&Re.stopPropagation(),be().catch(function(Ze){console.warn("Warning: An unhandled error was caught from submitForm()",Ze)})}),Fe={resetForm:q,validateForm:$,validateField:z,setErrors:P,setFieldError:V,setFieldTouched:W,setFieldValue:K,setStatus:ye,setSubmitting:me,setTouched:N,setValues:j,setFormikState:ie,submitForm:be},De=Dl(function(){return d(R.values,Fe)}),gt=Dl(function(Re){Re&&Re.preventDefault&&Qa(Re.preventDefault)&&Re.preventDefault(),Re&&Re.stopPropagation&&Qa(Re.stopPropagation)&&Re.stopPropagation(),q()}),tt=x.useCallback(function(Re){return{value:zl(R.values,Re),error:zl(R.errors,Re),touched:!!zl(R.touched,Re),initialValue:zl(m.current,Re),initialTouched:!!zl(g.current,Re),initialError:zl(v.current,Re)}},[R.errors,R.touched,R.values]),dt=x.useCallback(function(Re){return{setValue:function(ct,st){return K(Re,ct,st)},setTouched:function(ct,st){return W(Re,ct,st)},setError:function(ct){return V(Re,ct)}}},[K,W,V]),Qt=x.useCallback(function(Re){var Ze=N3(Re),ct=Ze?Re.name:Re,st=zl(R.values,ct),vt={name:ct,value:st,onChange:O,onBlur:Y};if(Ze){var $t=Re.type,zt=Re.value,ce=Re.as,X=Re.multiple;$t==="checkbox"?zt===void 0?vt.checked=!!st:(vt.checked=!!(Array.isArray(st)&&~st.indexOf(zt)),vt.value=zt):$t==="radio"?(vt.checked=st===zt,vt.value=zt):ce==="select"&&X&&(vt.value=vt.value||[],vt.multiple=!0)}return vt},[Y,O,R.values]),lt=x.useMemo(function(){return!Bp(m.current,R.values)},[m.current,R.values]),jt=x.useMemo(function(){return typeof a<"u"?lt?R.errors&&Object.keys(R.errors).length===0:a!==!1&&Qa(a)?a(h):a:R.errors&&Object.keys(R.errors).length===0},[a,lt,R.errors,h]),rn=bi({},R,{initialValues:m.current,initialErrors:v.current,initialTouched:g.current,initialStatus:y.current,handleBlur:Y,handleChange:O,handleReset:gt,handleSubmit:Me,resetForm:q,setErrors:P,setFormikState:ie,setFieldTouched:W,setFieldValue:K,setFieldError:V,setStatus:ye,setSubmitting:me,setTouched:N,setValues:j,submitForm:be,validateForm:$,validateField:z,isValid:jt,dirty:lt,unregisterField:E,registerField:S,getFieldProps:Qt,getFieldMeta:tt,getFieldHelpers:dt,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return rn}function B3(e){var t=vWe(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return x.useImperativeHandle(o,function(){return t}),x.createElement(gWe,{value:t},n?x.createElement(n,t):i?i(t):r?Qa(r)?r(t):mWe(r)?null:x.Children.only(r):null)}function wWe(e){var t={};if(e.inner){if(e.inner.length===0)return um(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;zl(t,s.path)||(t=um(t,s.path,s.message))}}return t}function bWe(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=nN(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function nN(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||LH(i)?nN(i):i!==""?i:void 0}):LH(e[r])?t[r]=nN(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function _We(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?YO(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=YO(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function xWe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function kWe(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var SWe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Dl(e){var t=x.useRef(e);return SWe(function(){t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function jh(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=By(e,["validate","name","render","children","as","component"]),l=qM(),c=By(l,["validate","validationSchema"]),d=c.registerField,u=c.unregisterField;x.useEffect(function(){return d(n,{validate:t}),function(){u(n)}},[d,u,n,t]);var h=c.getFieldProps(bi({name:n},a)),m=c.getFieldMeta(n),v={field:h,form:c};if(r)return r(bi({},v,{meta:m}));if(Qa(i))return i(bi({},v,{meta:m}));if(s){if(typeof s=="string"){var g=a.innerRef,y=By(a,["innerRef"]);return x.createElement(s,bi({ref:g},h,y),i)}return x.createElement(s,bi({field:h,form:c},a),i)}var b=o||"input";if(typeof b=="string"){var k=a.innerRef,_=By(a,["innerRef"]);return x.createElement(b,bi({ref:k},h,_),i)}return x.createElement(b,bi({},h,a),i)}var S_=x.forwardRef(function(e,t){var n=e.action,r=By(e,["action"]),i=n??"#",o=qM(),s=o.handleReset,a=o.handleSubmit;return x.createElement("form",Object.assign({onSubmit:a,ref:t,onReset:s,action:i},r))});S_.displayName="Form";const zM=(e,t)=>de(void 0,void 0,void 0,function*(){try{const n=yield cn().updateSelf({environmentId:e,userFields:t}),r=Ii(n);return Object.assign(Object.assign({},n),{userProfile:r})}catch(n){const r=yield Tr(n,"Error updateUserProfileFields");if(n instanceof Response){if(r.code==="email_already_exists")throw new hD;if(r.code==="custom_field_data_not_unique")throw new fD;if(r.code==="username_already_exists")throw new vD;if(r.code==="too_many_verification_attempts")throw new yD;if(r.code==="invalid_phone"||r.code==="invalid_sms_verification")throw new mD(r.error)}throw n}}),IWe=e=>de(void 0,void 0,void 0,function*(){try{const t=yield cn().mergeUsers({environmentId:e});return Ii(t)}catch(t){throw yield Tr(t,"Error mergeUserAccounts"),t}}),EWe=(e,t)=>de(void 0,void 0,void 0,function*(){try{const n=yield cn().verifyMergeUsers({environmentId:e,mergeUserConflictResolutions:{mergeUserResolutions:t}});return Ii(n)}catch(n){throw yield Tr(n,"Error verifyMergeUsers"),n}}),CWe=e=>de(void 0,void 0,void 0,function*(){try{yield cn().hardDeleteUser({environmentId:e})}catch(t){throw yield Tr(t,"Error hardDeleteUser"),t}}),D3=e=>de(void 0,[e],void 0,function*({environmentId:t}){try{const n=yield cn().refreshAuth({environmentId:t});return Ii(n)}catch(n){yield Tr(n,"Error refreshUserJwt");return}}),AWe=e=>de(void 0,[e],void 0,function*({environmentId:t,filter:n}){try{return yield cn().getUserFieldsCheck({environmentId:t,filter:n})}catch(r){yield Tr(r,"Error checking user field availability");return}}),RWe=e=>de(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,verifiedCredentialId:r}){const i=n==null?void 0:n.replace("-zerodev","");try{const o=yield cn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:i,verifiedCredentialId:r}});return Ii(o)}catch(o){yield Tr(o,"Error unlinkEmail");return}});var rN;(function(e){e[e.CHECK_FAILED=0]="CHECK_FAILED"})(rN||(rN={}));const TWe=()=>x.useCallback(t=>de(void 0,[t],void 0,function*({subdomain:n}){var r;const i=ef(),o=yield AWe({environmentId:i,filter:{field:wO.NameServiceSubdomainHandle,value:n}});return o?{available:(r=o==null?void 0:o.available)!==null&&r!==void 0?r:!1,error:void 0}:{available:!1,error:rN.CHECK_FAILED}}),[]),Yce=e=>{if(!e.groupedWallets.length)throw new Error("Wallet group must have at least one wallet");const[t]=e.groupedWallets;if(t.chainGroup)return"multi-chain";if(t.walletGroup)return"multi-wallet"},VM=e=>{const n=new URLSearchParams(window.location.search).get("dev_isProgrammableNetworkSwitchSupported");return n?n==="true":e.switchNetworkOnlyFromWallet!==!0},ng=({walletConnector:e,network:t})=>{const n=e.getEnabledNetworks();return n.length?n.some(({chainId:i})=>String(i)===String(t)):!0},OWe=e=>{var t;return(t=e==null?void 0:e.filter(({enabledAt:n,authorizationUrl:r,redirectUrl:i})=>!!n&&!!r&&!!i))!==null&&t!==void 0?t:[]},Xce=e=>{if(!e)return null;const t=Object.values(pn);for(const n of t)if(n===e)return n;return null},NWe=e=>{if(!e)return[];const t=[];for(const n of e){const r=Xce(n.provider);r&&n.enabled&&t.push(r)}return t},Qce=e=>{var t;return!!(!((t=e==null?void 0:e.kyc.find(({name:n})=>n==="social"))===null||t===void 0)&&t.enabled)},PWe=(e,t,n)=>de(void 0,void 0,void 0,function*(){try{yield cn().initAuth({environmentId:e,oauthInitAuthRequest:n,providerType:t})}catch(r){let i;try{i=yield r.json(),Ie.error(i)}catch{throw Ie.error(r),r}throw new Error(i.error)}}),BWe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,i,{code:o,codeVerifier:s,state:a}){const l={code:o,codeVerifier:s,state:a};try{const c=yield cn().oauthVerify({environmentId:r,oauthRequest:l,providerType:i});return Ii(c)}catch(c){return KM(c)}}),DWe=e=>de(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,verifiedCredentialId:r}){const i=n==null?void 0:n.replace("-zerodev","");try{const o=yield cn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:i,verifiedCredentialId:r}});return Ii(o)}catch{return}}),MWe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,i,{code:o,codeVerifier:s,state:a,captchaToken:l,sessionPublicKey:c,ssoProviderId:d}){const u={captchaToken:l,code:o,codeVerifier:s,sessionPublicKey:c,ssoProviderId:d,state:a};try{const h=yield cn().oauthSignIn({environmentId:r,oauthRequest:u,providerType:i});return Ii(h)}catch(h){return HM(h)}}),jWe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,i,{state:o}){const s={state:o};try{return yield cn().oauthResult({environmentId:r,oauthResultRequest:s,providerType:i})}catch(a){yield Tr(a,"error getting oauth result");return}}),$We=(e,t)=>de(void 0,void 0,void 0,function*(){try{const n=yield cn().farcasterSignIn({environmentId:e,farcasterSignInRequest:t});return Ii(n)}catch(n){return HM(n)}}),LWe=e=>de(void 0,void 0,void 0,function*(){try{const t=yield cn().farcasterVerify(e);return Ii(t)}catch(t){return KM(t)}}),hG=(e,t)=>de(void 0,void 0,void 0,function*(){const n={environmentId:e,oauthResultRequest:t};try{const r=yield cn().telegramSignIn(n);return Ii(r)}catch(r){return HM(r)}}),UWe=(e,t)=>de(void 0,void 0,void 0,function*(){const n={environmentId:e,oauthResultRequest:t};try{const r=yield cn().telegramVerify(n);return Ii(r)}catch(r){return KM(r)}}),KM=e=>de(void 0,void 0,void 0,function*(){const t=yield Tr(e,"error verifying social");if(t.code==="social_account_already_exists")throw new noe;if(t.error.code==="sandbox_maximum_threshold_reached")throw new Ud(t.error.message)}),HM=e=>de(void 0,void 0,void 0,function*(){var t,n,r;const i=yield Tr(e,"error signin social");if(i.error.code==="gate_blocked")throw new pD(i.payload.walletPublicKey);if(i.error.code==="missing_from_list")throw new tv({socialProvider:(t=i==null?void 0:i.payload)===null||t===void 0?void 0:t.socialProvider,socialUsername:(n=i==null?void 0:i.payload)===null||n===void 0?void 0:n.socialUsername,walletPublicKey:(r=i==null?void 0:i.payload)===null||r===void 0?void 0:r.walletPublicKey});if(i.code==="email_associated_with_different_provider")throw new H1(i.error,i.payload);if(i.error.code==="sandbox_maximum_threshold_reached")throw new Ud(i.error.message)}),FWe=e=>{const n=new TextEncoder().encode(e);return window.crypto.subtle.digest("SHA-256",n)},WWe=e=>{const t=[];return new Uint8Array(e).forEach(n=>t.push(n)),btoa(String.fromCharCode.apply(null,t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},qWe=e=>{const t=[];for(const n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},GM=(e,t)=>e.find(n=>n.provider===t),zWe={customMobileUrl:!0,response_mode:"form_post",response_type:["code","id_token"]},VWe=(e,t)=>{if(!(!(t!=null&&t.customMobileUrl)||!rr()||!e.redirectUrl))return e.redirectUrl.replace("redirect","authorizeHtml")},KWe=(e,t)=>{var n,r,i;const o=GM(e,t);if(!(o!=null&&o.clientId))return"";let s;t===pn.Apple&&(s=zWe);let a;if(t===pn.Telegram)a=(n=o.authorizationUrl)!==null&&n!==void 0?n:"";else if(o.baseAuthUrl)t===pn.Shopify?a=o.baseAuthUrl.replace("{{shopifyStore}}",(r=o.shopifyStore)!==null&&r!==void 0?r:""):a=o.baseAuthUrl;else return"";const l=VWe(o,s),c={client_id:o.clientId,redirect_uri:(i=o.redirectUrl)!==null&&i!==void 0?i:"",response_type:"code"};t===pn.Tiktok&&(delete c.client_id,c.client_key=o.clientId),t===pn.Google&&(c.access_type="offline"),o.scopes&&(c.scope=o.scopes),s!=null&&s.prompt&&(c.prompt=s.prompt.join(" ")),s!=null&&s.response_mode&&(c.response_mode=s.response_mode),s!=null&&s.response_type&&(c.response_type=s.response_type.join(" "));const d=qWe(c);return`${l??a}?${d}`},h1="dynamic_social_storage",HWe=e=>{var t;const n=ot.getItem(h1);if(!n)return;const r=Object.entries(n),[i]=(t=r.find(([,{state:o}])=>o===e))!==null&&t!==void 0?t:[];if(i)return n[i]},GWe=(e,t)=>{var n;const r=(n=ot.getItem(h1))!==null&&n!==void 0?n:{};r[e]=Object.assign({provider:e},t),ot.setItem(h1,r)},JWe=e=>{var t;const n=(t=ot.getItem(h1))!==null&&t!==void 0?t:{};delete n[e],ot.setItem(h1,n)},ZWe="https://relay.farcaster.xyz/v1/channel",YWe="https://relay.farcaster.xyz/v1/channel/status",XWe=18e4,QWe=1e3,eqe=e=>de(void 0,void 0,void 0,function*(){try{const t=yield QI.fetch(ZWe,{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return yield t.json()}catch(t){Ie.error("Error connecting with farcaster:",t);return}}),tqe=(e,...t)=>de(void 0,[e,...t],void 0,function*(n,r=1){try{const i=yield QI.fetch(YWe,{headers:{Authorization:`Bearer ${n.channelToken}`,"Content-Type":"application/json"},method:"GET"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return yield i.json()}catch(i){return Ie.warn(`Error fetching farcaster connect status, trying again. Attempt: ${r}`,i),{error:JSON.stringify(i),state:"retry"}}}),nqe=(e,...t)=>de(void 0,[e,...t],void 0,function*(n,{timeout:r=XWe,interval:i=QWe}={}){const o=Date.now()+r;let s=!0,a;rt.on("farcasterConnectCancelled",()=>{s=!1,a==null||a(),a=void 0});const l=u=>{a=u,setTimeout(u,i)};let c=0,d="Unknown error";for(;s&&Date.now()<o;){c++;const u=yield tqe(n,c);if(u.state==="completed")return{data:u,type:"success"};u.state==="retry"?d=u.error:d="Timed out: Farcaster connection status still pending",yield new Promise(l)}return s?(Ie.error(`Polling farcaster connect status timed out after ${r}ms`),{error:d,type:"timeout"}):{type:"cancelled"}}),ra={GoogleDrive:Ph.GoogleDrive,ICloud:Ph.ICloud};var pG,mG,rqe=["title","titleId"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iN.apply(null,arguments)}function iqe(e,t){if(e==null)return{};var n,r,i=oqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var sqe=function(t){var n=t.title,r=t.titleId,i=iqe(t,rqe);return x.createElement("svg",iN({width:20,height:24,viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,pG||(pG=x.createElement("g",{clipPath:"url(#google-drive_svg__a)"},x.createElement("path",{d:"m1.512 21.141.882 1.705c.183.36.447.641.756.846L6.3 17.59H0c0 .397.092.795.275 1.154l1.237 2.397Z",fill:"#0066DA"}),x.createElement("path",{d:"M10 10.41 6.85 4.308a2.22 2.22 0 0 0-.756.846L.274 16.436A2.54 2.54 0 0 0 0 17.59h6.3l3.7-7.18Z",fill:"#00AC47"}),x.createElement("path",{d:"M16.85 23.692a2.22 2.22 0 0 0 .756-.846l.366-.705 1.753-3.397A2.54 2.54 0 0 0 20 17.59h-6.3l1.34 2.948 1.81 3.154Z",fill:"#EA4335"}),x.createElement("path",{d:"m10 10.41 3.15-6.102A1.852 1.852 0 0 0 12.119 4H7.88a1.96 1.96 0 0 0-1.031.308L10 10.41Z",fill:"#00832D"}),x.createElement("path",{d:"M13.7 17.59H6.3l-3.15 6.102c.31.205.665.308 1.031.308H15.82a1.96 1.96 0 0 0 1.031-.308L13.7 17.59Z",fill:"#2684FC"}),x.createElement("path",{d:"m16.816 10.795-2.91-5.641a2.221 2.221 0 0 0-.756-.846L10 10.41l3.7 7.18h6.288a2.54 2.54 0 0 0-.274-1.154l-2.898-5.641Z",fill:"#FFBA00"}))),mG||(mG=x.createElement("defs",null,x.createElement("clipPath",{id:"google-drive_svg__a"},x.createElement("path",{fill:"#fff",transform:"translate(0 4)",d:"M0 0h20v20H0z"})))))},gG,yG,aqe=["title","titleId"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oN.apply(null,arguments)}function lqe(e,t){if(e==null)return{};var n,r,i=cqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var dqe=function(t){var n=t.title,r=t.titleId,i=lqe(t,aqe);return x.createElement("svg",oN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,gG||(gG=x.createElement("path",{d:"M11.468 4.074a5.426 5.426 0 0 0-4.724 2.777 2.976 2.976 0 0 0-1.299-.3 2.976 2.976 0 0 0-2.93 2.5A4.098 4.098 0 0 0 0 12.83a4.098 4.098 0 0 0 4.1 4.094c.172-.001.344-.014.514-.037h11.393c.06.005.12.007.18.009l.171-.009h.273v-.02a3.809 3.809 0 0 0 2.404-1.259c.621-.7.964-1.606.965-2.545v-.007a3.844 3.844 0 0 0-.88-2.44A3.811 3.811 0 0 0 16.894 9.3a5.425 5.425 0 0 0-5.426-5.226Z",fill:"url(#icloud_svg__a)"})),yG||(yG=x.createElement("defs",null,x.createElement("linearGradient",{id:"icloud_svg__a",x1:20.061,y1:13.075,x2:-.007,y2:12.798,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#3E82F4"}),x.createElement("stop",{offset:1,stopColor:"#93DCF7"})))))};const p1={[ra.GoogleDrive]:{icon:f.jsx(sqe,{className:"waas-backup-view__provider-icon"}),id:ra.GoogleDrive,name:"Google Drive",oauthProvider:pn.Google,requiresIframe:!1,requiresOAuth:!0},[ra.ICloud]:{icon:f.jsx(dqe,{className:"waas-backup-view__provider-icon"}),id:ra.ICloud,name:"iCloud",requiresIframe:!0,requiresOAuth:!1}},uqe={[Ph.GoogleDrive]:ra.GoogleDrive,[Ph.ICloud]:ra.ICloud},fqe=e=>{const t=Object.values(p1);if(!e||e.length===0)return t;const n=new Set(e.map(r=>uqe[r]).filter(r=>r!==void 0));return t.filter(r=>n.has(r.id))},ede=x.createContext(void 0),hqe=({children:e})=>{const[t,n]=x.useState(null),r=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(t)return t;try{const s=yield fetch("http://ip-api.com/json");if(!s.ok)return;const a=yield s.json();if(a.status!=="success")return;const{country:l,countryCode:c}=a,d={country:l,countryCode:c};return n(d),d}catch(s){Jn.warn("Error fetching IP configuration",s);return}}),[t,n]),i=x.useCallback(()=>{n(null)},[n]),o=x.useMemo(()=>({getIpConfiguration:r,removeIpConfiguration:i}),[r,i]);return f.jsx(ede.Provider,{value:o,children:e})},pqe=()=>{const e=x.useContext(ede);if(e===void 0)throw new Error("usage of useIpConfigurationContext not wrapped in `IpConfigurationContextProvider`.");return e},tde=x.createContext(void 0),mqe={algorand:v6e,aptos:w6e,bitcoin:b6e,cosmos:_6e,eclipse:x6e,evm:Xoe,flow:k6e,solana:S6e,spark:I6e,starknet:E6e,sui:C6e,ton:A6e,tron:R6e},Hc=e=>{var t,n,r;const i=(n=(t=Fm(e))===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"";return(r=mqe[i])!==null&&r!==void 0?r:Zh},nde=x.createContext(void 0),gqe=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(new Set);return f.jsxs(nde.Provider,{value:x.useMemo(()=>({closeCard:o=>i(s=>(s.delete(o),new Set(s))),openCard:o=>i(s=>(s.add(o),new Set(s))),portal:t}),[t]),children:[e,r.size>0&&f.jsx("div",{className:"overlay-card-target",ref:n})]})},yqe=e=>{var t;const n=x.useContext(nde),r="overlay-card-target-id";return x.useEffect(()=>{if(!(!n||!e))return n.openCard(r),()=>{n.closeCard(r)}},[n,r,e]),(t=n==null?void 0:n.portal)!==null&&t!==void 0?t:void 0},vqe=e=>{var t;return(t=e==null?void 0:e.filter(({enabled:n})=>!!n))!==null&&t!==void 0?t:[]},rde=["social"],wqe=(e,t)=>Object.entries(e).reduce((r,[i,o])=>{if(o){const s=t.find(a=>a.name===i);s&&!s.enabled&&r.push(Object.assign({},s))}return r},[]),bqe=e=>vqe(e).filter(({name:t,type:n})=>n===Cd.Custom||!rde.includes(t)),_qe=({projectSettingsKyc:e=[],user:t})=>t?wqe(t,e).filter(({name:r})=>!rde.includes(r)):[],JM=({projectSettingsKyc:e=[],customFields:t=[],user:n})=>{var r,i;const o=bqe([...e,...t]),s=_qe({projectSettingsKyc:e,user:n});let a=[...o,...s];a=a.filter(h=>h.name!=="policiesConsent");const l=(r=n==null?void 0:n.verifiedCredentials)===null||r===void 0?void 0:r.find(({walletProvider:h})=>h===Ao.EmbeddedWallet),c=((i=l==null?void 0:l.walletProperties)===null||i===void 0?void 0:i.version)===Lc.V1,d=!!(n!=null&&n.email),u=!!(n!=null&&n.phoneNumber);return c&&(a=a.map(h=>h.name==="email"&&d||h.name==="phoneNumber"&&u?Object.assign(Object.assign({},h),{enabled:!1}):h)),a.sort((h,m)=>{const v=e.findIndex(y=>y.name===h.name),g=e.findIndex(y=>y.name===m.name);return v-g})};function Ml(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xqe(e){return Object.entries(e).filter(function(t){t[0];var n=t[1];return n||n===!1}).map(function(t){var n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&")}var vG="hcaptcha-api-script-id",wG="hcaptchaOnLoad",ide,ode,bG=new Promise(function(e,t){ide=e,ode=t}),kqe=function(t){if(t===void 0&&(t={}),document.getElementById(vG))return bG;window[wG]=ide;var n=t.apihost||"https://js.hcaptcha.com";delete t.apihost;var r=document.createElement("script");r.id=vG,r.src=n+"/1/api.js?render=explicit&onload="+wG,r.async=!0,r.onerror=function(o){return ode("script-error")};var i=xqe(t);return r.src+=i!==""?"&"+i:"",document.head.appendChild(r),bG},Sqe=(function(e){Gle(t,e);function t(r){var i;i=e.call(this,r)||this,i.renderCaptcha=i.renderCaptcha.bind(Ml(i)),i.resetCaptcha=i.resetCaptcha.bind(Ml(i)),i.removeCaptcha=i.removeCaptcha.bind(Ml(i)),i.isReady=i.isReady.bind(Ml(i)),i.loadCaptcha=i.loadCaptcha.bind(Ml(i)),i.handleOnLoad=i.handleOnLoad.bind(Ml(i)),i.handleSubmit=i.handleSubmit.bind(Ml(i)),i.handleExpire=i.handleExpire.bind(Ml(i)),i.handleError=i.handleError.bind(Ml(i)),i.handleOpen=i.handleOpen.bind(Ml(i)),i.handleClose=i.handleClose.bind(Ml(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(Ml(i));var o=typeof hcaptcha<"u";return i.ref=x.createRef(),i.apiScriptRequested=!1,i.state={isApiReady:o,isRemoved:!1,elementId:r.id,captchaId:""},i}var n=t.prototype;return n.componentDidMount=function(){var i=this.state.isApiReady;if(i){this.renderCaptcha();return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this.state.captchaId;this.isReady()&&(hcaptcha.reset(i),hcaptcha.remove(i))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,s=["sitekey","size","theme","tabindex","languageOverride","endpoint"],a=s.every(function(l){return i[l]===o.props[l]});a||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,s=i.assethost,a=i.endpoint,l=i.host,c=i.imghost,d=i.languageOverride,u=i.reCaptchaCompat,h=i.reportapi,m=i.sentry,v=i.custom,g={apihost:o,assethost:s,endpoint:a,hl:d,host:l,imghost:c,recaptchacompat:u===!1?"off":null,reportapi:h,sentry:m,custom:v};kqe(g).then(this.handleOnLoad).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this.state.isApiReady;if(o){var s=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),a=hcaptcha.render(this.ref.current,s);this.setState({isRemoved:!1,captchaId:a},function(){i&&i()})}},n.resetCaptcha=function(){var i=this.state.captchaId;this.isReady()&&hcaptcha.reset(i)},n.removeCaptcha=function(i){var o=this.state.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){hcaptcha.remove(o),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){i.renderCaptcha(function(){var o=i.props.onLoad;o&&o()})})},n.handleSubmit=function(i){var o=this.props.onVerify,s=this.state,a=s.isRemoved,l=s.captchaId;if(!(typeof hcaptcha>"u"||a)){var c=hcaptcha.getResponse(l),d=hcaptcha.getRespKey(l);o(c,d)}},n.handleExpire=function(){var i=this.props.onExpire,o=this.state.captchaId;this.isReady()&&(hcaptcha.reset(o),i&&i())},n.handleError=function(i){var o=this.props.onError,s=this.state.captchaId;this.isReady()&&hcaptcha.reset(s),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,s=i.isRemoved;return o&&!s},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){i===void 0&&(i=null);var o=this.state.captchaId;if(this.isReady())return i&&typeof i!="object"&&(i=null),hcaptcha.execute(o,i)},n.setData=function(i){var o=this.state.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),hcaptcha.setData(o,i))},n.getResponse=function(){return hcaptcha.getResponse(this.state.captchaId)},n.getRespKey=function(){return hcaptcha.getRespKey(this.state.captchaId)},n.render=function(){var i=this.state.elementId;return x.createElement("div",{ref:this.ref,id:i})},t})(x.Component);const sde={[Nh.Coinbase]:pn.Coinbasesocial,[Nh.Kraken]:pn.Kraken},Iqe=Object.fromEntries(Object.entries(sde).map(([e,t])=>[t,e])),m1=e=>{const t=sde[e];if(t)return t;const n=pn[e];if(n)return n;throw new Error(`convertExchangeKeytoProviderEnum: No ProviderEnum value found for ExchangeKeyEnum.${e}`)},jS=e=>{const t=Iqe[e];if(t)return t;const n=Nh[e];if(n)return n;throw new Error(`convertProviderToExchangeKeyEnum: No ExchangeKeyEnum value found for ProviderEnum.${e}`)};var _G,Eqe=["title","titleId"];function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sN.apply(null,arguments)}function Cqe(e,t){if(e==null)return{};var n,r,i=Aqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Oi=function(t){var n=t.title,r=t.titleId,i=Cqe(t,Eqe);return x.createElement("svg",sN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,_G||(_G=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41 4.41a.833.833 0 0 1 1.18 0L10 8.822l4.41-4.41a.833.833 0 1 1 1.18 1.178L11.178 10l4.41 4.41a.833.833 0 1 1-1.178 1.18L10 11.177 5.588 15.59a.833.833 0 1 1-1.178-1.178L8.82 10l-4.41-4.41a.833.833 0 0 1 0-1.18Z",fill:"currentcolor"})))},xG,kG,Rqe=["title","titleId"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aN.apply(null,arguments)}function Tqe(e,t){if(e==null)return{};var n,r,i=Oqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var $h=function(t){var n=t.title,r=t.titleId,i=Tqe(t,Rqe);return x.createElement("svg",aN({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,xG||(xG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.333 1.667a2.5 2.5 0 0 0-2.5 2.5v1.666H7.5V4.167c0-.46.373-.834.833-.834h7.5c.46 0 .833.373.833.834v7.5c0 .46-.373.833-.833.833h-1.667v1.667h1.667a2.5 2.5 0 0 0 2.5-2.5v-7.5a2.5 2.5 0 0 0-2.5-2.5h-7.5Z",fill:"currentColor"})),kG||(kG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.667 8.333a2.5 2.5 0 0 1 2.5-2.5h7.5a2.5 2.5 0 0 1 2.5 2.5v7.5a2.5 2.5 0 0 1-2.5 2.5h-7.5a2.5 2.5 0 0 1-2.5-2.5v-7.5Zm2.5-.833a.833.833 0 0 0-.833.833v7.5c0 .46.373.834.833.834h7.5c.46 0 .833-.373.833-.834v-7.5a.833.833 0 0 0-.833-.833h-7.5Z",fill:"currentColor"})))},SG,Nqe=["title","titleId"];function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lN.apply(null,arguments)}function Pqe(e,t){if(e==null)return{};var n,r,i=Bqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var I0=function(t){var n=t.title,r=t.titleId,i=Pqe(t,Nqe);return x.createElement("svg",lN({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,SG||(SG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.333 1.333a.667.667 0 1 1 0-1.333h4c.368 0 .667.298.667.667v4a.667.667 0 0 1-1.333 0v-2.39L5.138 7.804a.667.667 0 1 1-.943-.943l5.529-5.529h-2.39ZM2 2.667a.667.667 0 0 0-.667.666V10c0 .368.299.667.667.667h6.667A.667.667 0 0 0 9.333 10V7.333a.667.667 0 0 1 1.334 0V10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3.333a2 2 0 0 1 2-2h2.667a.667.667 0 0 1 0 1.334H2Z",fill:"currentColor"})))};const ade=({children:e,className:t,dataTestId:n,disabled:r,onClick:i,type:o,style:s,ariaLabel:a,ariaExpanded:l,ariaControls:c,buttonRef:d})=>f.jsx("button",{type:o,className:t,ref:d,onClick:i,disabled:r,"data-testid":n,style:s,"aria-label":a,"aria-expanded":l,"aria-controls":c,children:e});var IG,EG,Dqe=["title","titleId"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(null,arguments)}function Mqe(e,t){if(e==null)return{};var n,r,i=jqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var $qe=function(t){var n=t.title,r=t.titleId,i=Mqe(t,Dqe);return x.createElement("svg",cN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,x.createElement("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2,style:{opacity:.1}}),x.createElement("mask",{id:"spinner_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},IG||(IG=x.createElement("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2}))),EG||(EG=x.createElement("g",{mask:"url(#spinner_svg__a)"},x.createElement("path",{fill:"currentColor",d:"M12-16.5h27v27H12z"}))))};const I_=({className:e=""})=>f.jsx($qe,{className:Ke("spinner",e)}),lde="primary",Im=({buttonClassName:e="",className:t,style:n,buttonPadding:r="medium",buttonVariant:i=lde,buttonRef:o,children:s,feedback:a,expanded:l,dataTestId:c,disabled:d=!1,showInternalLoading:u=!0,loading:h=!1,onClick:m,type:v,startSlot:g,endSlot:y})=>{const[b,k]=x.useState(!1),[_,R]=x.useState(!1),I=Ke("button",{"button--expanded":!!l,"button--loading":!!h},r?`button--padding-${r}`:"",i?`button--${i}`:"",e,t),T=D=>de(void 0,void 0,void 0,function*(){if(m){const A=m(D);if(A instanceof Promise){u&&k(!0);try{yield A}finally{k(!1)}}}a&&(R(!0),setTimeout(()=>{R(!1)},2e3))}),M=f.jsxs(f.Fragment,{children:[g&&f.jsx("div",{className:"button__start-slot",children:g}),(a||s)&&(_&&a?a:s),y&&f.jsx("div",{className:"button__end-slot",children:y})]});return f.jsxs(ade,{type:v,buttonRef:o,onClick:T,className:I,disabled:d||b||h,dataTestId:c,style:n,ariaExpanded:l,children:[(b||h)&&f.jsx("div",{className:"button__spinner-container","data-testid":"button__spinner",children:f.jsx(I_,{className:"button__spinner"})}),M]})},Ut=e=>`${e/16}rem`,Lqe=e=>{const t=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=x.useState(t(e)),i=()=>r(t(e));return x.useEffect(()=>{const o=window.matchMedia(e);return i(),o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[e]),n},Uqe=()=>Lqe("(prefers-color-scheme: dark)")?"dark":"light",E_=()=>{const{theme:{theme:{name:e}}}=f_(),t=Uqe();return e==="auto"?t:e},Fqe="#4779FF",cde=({className:e="",size:t=16,customSpinnerColor:n=""})=>{const{theme:r}=f_(),i=n||r.customColor||Fqe;return f.jsxs("svg",{style:{height:Ut(t),width:Ut(t)},viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,"data-testid":"spinner",children:[f.jsx("mask",{id:"path-1-inside-1_1433_60360",fill:"white",children:f.jsx("path",{d:"M40.53 42C41.3419 42 42.0027 41.3416 41.9743 40.5303C41.7987 35.5162 40.726 30.5699 38.8029 25.9273C36.6922 20.8316 33.5985 16.2016 29.6985 12.3015C25.7984 8.40145 21.1684 5.30776 16.0727 3.19706C11.4301 1.27403 6.48384 0.201284 1.46972 0.0257219C0.658363 -0.00268681 0 0.658141 0 1.47C0 2.28186 0.658382 2.93711 1.46967 2.96766C6.09758 3.1419 10.6617 4.138 14.9476 5.91326C19.6866 7.87621 23.9925 10.7534 27.6196 14.3804C31.2467 18.0075 34.1238 22.3134 36.0867 27.0524C37.862 31.3383 38.8581 35.9024 39.0323 40.5303C39.0629 41.3416 39.7181 42 40.53 42Z"})}),f.jsx("path",{d:"M40.53 42C41.3419 42 42.0027 41.3416 41.9743 40.5303C41.7987 35.5162 40.726 30.5699 38.8029 25.9273C36.6922 20.8316 33.5985 16.2016 29.6985 12.3015C25.7984 8.40145 21.1684 5.30776 16.0727 3.19706C11.4301 1.27403 6.48384 0.201284 1.46972 0.0257219C0.658363 -0.00268681 0 0.658141 0 1.47C0 2.28186 0.658382 2.93711 1.46967 2.96766C6.09758 3.1419 10.6617 4.138 14.9476 5.91326C19.6866 7.87621 23.9925 10.7534 27.6196 14.3804C31.2467 18.0075 34.1238 22.3134 36.0867 27.0524C37.862 31.3383 38.8581 35.9024 39.0323 40.5303C39.0629 41.3416 39.7181 42 40.53 42Z",stroke:"url(#paint0_linear_1433_60360)",strokeWidth:"4",mask:"url(#path-1-inside-1_1433_60360)"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:"paint0_linear_1433_60360",x1:"41",y1:"42",x2:"1.5",y2:"-1.82007e-07",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:i}),f.jsx("stop",{offset:"1",stopColor:i,stopOpacity:"0"})]})})]})};var CG,Wqe=["title","titleId"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dN.apply(null,arguments)}function qqe(e,t){if(e==null)return{};var n,r,i=zqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Vqe=function(t){var n=t.title,r=t.titleId,i=qqe(t,Wqe);return x.createElement("svg",dN({width:17,height:12,viewBox:"0 0 17 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,CG||(CG=x.createElement("path",{d:"M3.84 2.345c2.573-3.127 6.747-3.127 9.32 0l.31.376a.463.463 0 0 1 0 .566l-1.06 1.287a.145.145 0 0 1-.232 0l-.427-.518c-1.795-2.18-4.707-2.18-6.502 0l-.457.555a.145.145 0 0 1-.233 0L3.5 3.324a.463.463 0 0 1 0-.566l.34-.413Zm11.512 2.661.943 1.146a.463.463 0 0 1 0 .566l-4.252 5.165a.29.29 0 0 1-.466 0L8.558 8.217a.073.073 0 0 0-.116 0l-3.018 3.666a.29.29 0 0 1-.466 0L.705 6.718a.463.463 0 0 1 0-.566l.943-1.146a.29.29 0 0 1 .466 0l3.018 3.666c.032.04.085.04.117 0l3.018-3.666a.29.29 0 0 1 .466 0l3.018 3.666c.033.04.085.04.117 0l3.018-3.666a.29.29 0 0 1 .466 0Z",fill:"currentColor"})))};const Kqe=({indicator:e,iconSize:t})=>{const n={container:t*4/15,icon:t*3/15},r={container:t/6,icon:t/9};return e==="walletConnect"?f.jsx("div",{className:"indicator__wallet-connect",style:{height:Ut(n.container),width:Ut(n.container)},children:f.jsx(Vqe,{style:{height:Ut(n.icon),width:Ut(n.icon)}})}):f.jsx("div",{className:"indicator__container indicator__container--connected",style:{height:Ut(r.container),width:Ut(r.container)},"data-testid":"connected-indicator",children:f.jsx("div",{className:"indicator__icon",style:{height:Ut(r.icon),width:Ut(r.icon)}})})},Yo=7/11,si=({iconSize:e=24,Icon:t,isSpinning:n=!1,className:r,style:i,indicator:o,customSpinnerColor:s,treatAsFunctionComponent:a})=>{const l=e*Yo,c=e/2,d=Ke("icon-with-spinner__container",r),u=t;return f.jsxs("div",{className:d,style:Object.assign({height:Ut(e),width:Ut(e)},i),children:[t&&f.jsxs("div",{style:{height:Ut(l),width:Ut(l)},className:"icon-with-spinner__icon-container",children:[a||typeof t=="function"?f.jsx(u,{height:l,width:l}):t,o&&f.jsx(Kqe,{indicator:o,iconSize:e})]}),n&&!uO()&&f.jsx("div",{className:"icon-with-spinner__spinner-container icon-with-spinner__animation","data-chromatic":"ignore",style:{height:Ut(e),width:Ut(e)},children:f.jsx(cde,{className:"icon-with-spinner__spinner",customSpinnerColor:s,size:c})})]})},AG=4,RG=4,Ni=e=>e?e.length<=AG+RG?e:e.replace(e.substring(AG,Number(e.length)-RG),"..."):"",Zn=({alignContent:e,children:t,leading:n,displayLeading:r=!0,trailing:i,displayTrailing:o=!0,style:s,displayBorder:a,description:l,variant:c="default"})=>{const d=r&&n&&x.Children.count(n),u=o&&i&&x.Children.count(i),h=Ke("modal-header__content__trailing",{"modal-header__content__trailing--empty":!u});return f.jsxs("div",{className:Ke("modal-header",{"modal-header--border":a,"modal-header--empty":!d&&!t&&!u,"modal-header--filled":c==="filled"}),style:s,children:[f.jsxs("div",{className:Ke("modal-header__content",e&&`modal-header__content--align-content-${e}`),children:[r&&f.jsx("div",{className:Ke("modal-header__content__leading",{"modal-header__content__leading--empty":!d}),children:n}),t,PO()&&f.jsx("div",{id:"modal-header-gw-menu",className:h}),o&&!PO()&&f.jsx("div",{className:h,children:i})]}),l]})},Hqe={"brand-primary":"button_primary",card:"body_normal",danger:"button_primary",primary:"button_primary",secondary:"button_secondary",tertiary:"button_tertiary"},Gqe={"brand-primary":"primary",card:"primary",danger:"white",primary:"primary",secondary:"primary",tertiary:"secondary"},xt=e=>{var t,{children:n,typographyProps:r,copykey:i,disabled:o,leading:s,trailing:a,buttonVariant:l=lde,description:c}=e,d=bs(e,["children","typographyProps","copykey","disabled","leading","trailing","buttonVariant","description"]);const u=Hqe[l],h=Gqe[l];return f.jsxs(Im,Object.assign({},d,{disabled:o,buttonVariant:l,children:[s,f.jsxs("div",{className:Ke("typography-button__content",{"typography-button__content--with-description":!!c}),children:[f.jsx(se,Object.assign({variant:u,as:"span"},r,{color:o?"tertiary":(t=r==null?void 0:r.color)!==null&&t!==void 0?t:h,copykey:i,children:n})),c&&f.jsx(se,{variant:"body_small",color:"secondary",weight:"medium",children:c})]}),a]}))},dde=({get:e,set:t})=>(n,r)=>t(Object.assign(Object.assign({},e()),{[n]:r})),{getSendBalanceState:Jqe,setSendBalanceState:Zqe,useSendBalanceState:ZM,resetSendBalanceState:Yqe}=Vc("sendBalanceState"),g1=dde({get:Jqe,set:Zqe}),Xqe=()=>{if(typeof window<"u")return window.location.origin},Qqe=e=>de(void 0,[e],void 0,function*({environmentId:t,userOperation:n,chainId:r,value:i,entryPoint:o}){try{const s={environmentId:t,simulateUserOpRequest:{chainId:r,entryPoint:o.address,operation:n,value:i}};return yield cn().simulateUserOp(s)}catch(s){return Ie.warn("simulateBlockaidUserOperation error",s),s instanceof Error&&s.message.includes("AA21 didn't pay prefund")?{inAssets:[],outAssets:[],priceData:{nativeTokenUsdPrice:void 0},showTotalFiat:!1}:void 0}}),eze=e=>de(void 0,[e],void 0,function*({environmentId:t,chainId:n,from:r,to:i,value:o,data:s}){try{const l={environmentId:t,simulateEVMTransactionRequest:{chainId:n,data:s,from:r,to:i,value:o}};return yield cn().simulateEVMTransaction(l)}catch(a){Ie.warn("simulateBlockaidEVMTransaction error",a);return}}),tze=e=>de(void 0,[e],void 0,function*({environmentId:t,chain:n,accountAddress:r,transactions:i}){var o;try{const s={environmentId:t,simulateSVMTransactionRequest:{accountAddress:r,chain:n,domain:(o=Xqe())!==null&&o!==void 0?o:"https://example.com",method:"signAllTransactions",transactions:i}};return yield cn().simulateSVMTransaction(s)}catch(s){Ie.warn("simulateBlockaidSVMTransaction error",s);return}}),nze=(e,t)=>{const n=x.useRef(e);w_(()=>{n.current=e},[e]),x.useEffect(()=>{if(!t&&t!==0)return;const r=setInterval(()=>n.current(),t);return()=>clearInterval(r)},[t])},Xo=(e,t={})=>{const[n,r]=x.useState({isLoading:!1}),i=x.useCallback(o=>de(void 0,void 0,void 0,function*(){var s,a;let l;r({isLoading:!0});try{const c=e(o);c instanceof Promise?l=yield c:l=c,r({data:l,isLoading:!1});try{(s=t==null?void 0:t.onSuccess)===null||s===void 0||s.call(t,l,o)}catch(d){Jn.error(d)}return l}catch(c){r({error:c,isLoading:!1}),Jn.error(c);try{(a=t==null?void 0:t.onFailure)===null||a===void 0||a.call(t,c,o)}catch(d){Jn.error(d)}}}),[e,t]);return Object.assign(Object.assign({},n),{hasData:!!n.data,hasError:!!n.error,mutate:i})},rze={[qs.UNKNOWN]:"dyn_error.default",[qs.DEFAULT]:"dyn_error.default",[qs.USER_REJECTED]:"dyn_error.user_rejected",[qs.MESSAGE_SIGNATURE_DENIED]:"dyn_error.message_signature_denied",[qs.WALLET_LOCKED]:"dyn_error.wallet_locked",[qs.INVALID_PARAMETERS]:"dyn_error.invalid_parameters",[qs.INTERNAL_ERROR]:"dyn_error.internal_error",[qs.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE]:"dyn_error.account_already_linked_to_different_profile",[qs.CONNECTION_REJECTED]:"dyn_error.connection_rejected",[qs.MISSING_PUBLIC_ADDRESS]:"dyn_error.missing_public_address",[qs.CONNECTION_PROPOSAL_EXPIRED]:"dyn_error.connection_proposal_expired",[qs.SEI_NOT_ENABLED_IN_KEPLR_WALLET]:"dyn_error.sei_not_enabled_in_keplr_wallet"},ize=()=>{const{t:e}=Xe(),{error:t,errorCode:n}=so();return{errorText:x.useMemo(()=>{var i;return n?e((i=rze[n])!==null&&i!==void 0?i:"dyn_error.default"):t},[t,n,e])}},TG=e=>{var t,n,r;const i=ov();return!!(!((r=(n=(t=i==null?void 0:i.security)===null||t===void 0?void 0:t.mfa)===null||n===void 0?void 0:n.methods)===null||r===void 0)&&r.find(o=>o.type===e&&o.enabled))},ude=()=>x.useCallback(()=>de(void 0,void 0,void 0,function*(){return Vse()}),[]),oze={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.passkey_description",labelKey:"dyn_mfa.choose_device_view.passkey",type:Ji.Passkey},sze={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.authenticator_app_description",labelKey:"dyn_mfa.choose_device_view.authenticator_app",type:Ji.Totp},aze={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.backup_code_description",labelKey:"dyn_mfa.choose_device_view.backup_code",type:"backupCode"},lze=e=>{const t=ude();return x.useCallback(()=>de(void 0,void 0,void 0,function*(){const n=yield t(),r=e?TG(Ji.Totp):n.devices.length>0,i=e?TG(Ji.Passkey):n.passkeys.length>0;if(!r&&!i)return[];const o=[];i&&o.push(oze),r&&o.push(sze);const s=g_();return!e&&(s==null?void 0:s.mfaBackupCodeAcknowledgement)===Vu.Complete&&o.push(aze),o}),[t,e])},M3=(e,t)=>{var n,r,i;if(!e)return;if(t)return(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.find(s=>s.format===t))===null||r===void 0?void 0:r.format;const o=(i=e.verifiedCredentials)===null||i===void 0?void 0:i.find(s=>s.id===e.lastVerifiedCredentialId);return o==null?void 0:o.format},y1=(e,t)=>{const{walletName:n,chain:r}=e;if(n==="turnkeyhd"||n==="dynamicwaas"){const o=e.chain?ec[e.chain]:void 0;return t.find(s=>n===s.key&&s.walletConnector.connectedChain===o)}if(n!=="unknown"){const o=r?ec[r]:void 0,s=t.find(a=>a.key===n&&(!o||a.walletConnector.connectedChain===o));if(s)return s}const i=t.filter(o=>o.key==="fallbackconnector");if(r){const o=i.find(({walletConnector:s})=>Kae(s.connectedChain,r));if(o)return o}return i[0]},cze={[pn.CoinbaseOnramp]:"popup",[pn.CryptoDotCom]:"popup"},OG=e=>{var t,n,r,i;const o=e.provider,s=(t=cze[o])!==null&&t!==void 0?t:"iframe";return{displayName:(r=(n=e.name)!==null&&n!==void 0?n:e.provider)!==null&&r!==void 0?r:"",iconUrl:(i=e.iconUrl)!==null&&i!==void 0?i:"",id:String(e.provider),openMode:s,url:e.url}},dze=(e,t)=>{const{screenLeft:n=window.screenX,screenTop:r=window.screenY}=window,{innerWidth:i=document.documentElement.clientWidth,innerHeight:o=document.documentElement.clientHeight}=window,s=n+(i-e)/2,a=r+(o-t)/2;return`toolbar=0,location=0,menubar=0,resizable=1,scrollbars=1,width=${e},height=${t},left=${s},top=${a}`},uze=(e,t,n,r)=>new Promise((i,o)=>{const s=window.open("","_blank",dze(t,n));if(!s){o(new Error("Popup blocked"));return}const a=setInterval(()=>{s.closed&&(clearInterval(a),window.removeEventListener("unload",l),r())},500);s.location.href=e;const l=()=>{clearInterval(a),s.closed||s.close(),window.removeEventListener("unload",l)};window.addEventListener("unload",l),i(l)}),NG={height:600,width:500},fze=(e,t,n,...r)=>de(void 0,[e,t,n,...r],void 0,function*(i,o,s,a=uS.CoinbaseOnramp){try{if(!i)throw new Error("Cannot open onramp popup: Empty URL");if(rr()&&a===uS.CryptoDotCom){window.open(i,"_blank","noopener,noreferrer"),s(!1);return}yield uze(i,NG.width,NG.height,()=>{s(!1)})}catch(l){throw s(!1),l instanceof Error?l:new Error("Error opening onramp popup")}}),vh=(e,t)=>{e.current&&(e.current.reject(t),e.current=null)},{getConnectorsInitializing:hze,resetConnectorsInitializing:J$t,setConnectorsInitializing:pze,useConnectorsInitializing:mze}=Vc("connectorsInitializing"),PG=(e,t)=>{const n=hze(),r=Object.assign(Object.assign({},n),{[e]:t});pze(r)},gze=12,yze=4,vze=4,BG=(e,t,n)=>e.replace(e.substring(t,n),"..."),v1=(e,t)=>{if(!e)return"";const n=(t==null?void 0:t.breakpoint)||gze,r=(t==null?void 0:t.cutStart)||vze,i=(t==null?void 0:t.cutEnd)||yze;let[o,s]=e.split("@");return(o==null?void 0:o.length)>n&&(o=BG(o,r,o.length-i)),(s==null?void 0:s.length)>n&&(s=BG(s,r,s.length-i)),`${o}@${s}`},rf=({className:e="",dot:t,text:n,copykey:r,variant:i="secondary"})=>f.jsxs("div",{className:Ke("badge__container",`badge__container__${i}`,e),children:[t&&f.jsx("span",{"data-testid":"badge__dot",className:"badge__dot"}),f.jsx("span",{copykey:r,children:n})]}),fde=({options:e,setShowMenu:t})=>f.jsx("div",{className:"dots-menu-dropdown__container",style:{zIndex:xse},children:e.map(n=>n.hide?null:f.jsxs("div",{className:"dots-menu-dropdown__item",onClick:()=>{n.callback(),t(!1)},children:[n.Icon&&f.jsx(Nt,{color:"text-tertiary",children:n.Icon}),f.jsxs(se,{copykey:n.copykey,className:"dots-menu-dropdown__item-text",color:n.fontColor?n.fontColor:"secondary",weight:n.fontWeight,children:[n.text," ",n.badge?f.jsx(rf,{text:n.badge}):null]}),n.endSlot&&f.jsx("div",{className:"dots-menu-dropdown__item__end-slot",children:n.endSlot})]},n.text))});var DG,wze=["title","titleId"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uN.apply(null,arguments)}function bze(e,t){if(e==null)return{};var n,r,i=_ze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var xze=function(t){var n=t.title,r=t.titleId,i=bze(t,wze);return x.createElement("svg",uN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,DG||(DG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2a1.333 1.333 0 1 1 0 2.667A1.333 1.333 0 0 1 8 2Zm0 4.667a1.333 1.333 0 1 1 0 2.666 1.333 1.333 0 0 1 0-2.666Zm0 4.666A1.333 1.333 0 1 1 8 14a1.333 1.333 0 0 1 0-2.667Z",fill:"currentColor"})))};const hde=({options:e,buttonClassName:t,buttonClassNameWithOpenMenu:n,direction:r="right",iconOverride:i})=>{const o=x.useRef(null),[s,a]=x.useState(!1),l=x.useCallback(()=>{setTimeout(()=>a(!0),0)},[a]),c=x.useCallback(()=>{a(!1)},[a]);return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{ref:o,onClick:l,"data-testid":"dotsMenu",className:s?n:t,children:i||f.jsx(Nt,{children:f.jsx(xze,{})})}),f.jsx(A3,{isOpen:s,onClickOutside:c,onScroll:c,anchorRef:o,anchorOrigin:r==="right"?"bottom-left":"top-right",transformOrigin:r==="right"?"top-left":"bottom-right",children:f.jsx(fde,{options:e,setShowMenu:a})})]})},kze=e=>{const t=navigator.userAgent;if(t.match(/brave/i))return"brave";if(t.match(/edg/i))return"edge";if(t.match(/chrome|chromium|crios/i))return"chrome";if(t.match(/firefox|fxios/i))return"firefox";if(t.match(/safari/i))return"safari"},Sze=(e,t)=>{const{t:n}=wi.getInstance(),i=(t?t.getTime():Date.now())-e.getTime(),o=60*1e3,s=60*o,a=24*s,l=30*a,c=365*a;if(i>=c){const u=Math.floor(i/c);return{unit:n(u===1?"dyn_time_since.year":"dyn_time_since.years"),value:u}}if(i>=l){const u=Math.floor(i/l);return{unit:n(u===1?"dyn_time_since.month":"dyn_time_since.months"),value:u}}if(i>=a){const u=Math.floor(i/a);return{unit:n(u===1?"dyn_time_since.day":"dyn_time_since.days"),value:u}}if(i>=s){const u=Math.floor(i/s);return{unit:n(u===1?"dyn_time_since.hour":"dyn_time_since.hours"),value:u}}if(i>=o){const u=Math.floor(i/o);return{unit:n(u===1?"dyn_time_since.minute":"dyn_time_since.minutes"),value:u}}const d=Math.floor(i/1e3);return{unit:n(d===1?"dyn_time_since.second":"dyn_time_since.seconds"),value:d}};var MG,Ize=["title","titleId"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fN.apply(null,arguments)}function Eze(e,t){if(e==null)return{};var n,r,i=Cze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var j3=function(t){var n=t.title,r=t.titleId,i=Eze(t,Ize);return x.createElement("svg",fN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,MG||(MG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.862 5.529c.26-.26.682-.26.943 0L8 9.724l4.195-4.195a.667.667 0 1 1 .943.943L8.47 11.138a.667.667 0 0 1-.943 0L2.862 6.472a.667.667 0 0 1 0-.943Z",fill:"#7B7D86"})))};const Aze=e=>de(void 0,[e],void 0,function*({chain:t,environmentId:n,networkId:r,token:i,tokenAmount:o,walletAddress:s,currency:a,includeDisabled:l,merchantName:c}){const{onramps:d}=yield cn().getSupportedOnramps({chain:t,currency:a,environmentId:n,includeDisabled:l,merchantName:c,networkId:r?String(r):void 0,token:i,tokenAmount:o,walletAddress:s});return d??[]});var jG,Rze=["title","titleId"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hN.apply(null,arguments)}function Tze(e,t){if(e==null)return{};var n,r,i=Oze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Nze=function(t){var n=t.title,r=t.titleId,i=Tze(t,Rze);return x.createElement("svg",hN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,jG||(jG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.333a6.667 6.667 0 1 0 0 13.334 6.667 6.667 0 0 0 0-13.334ZM1.667 10a8.333 8.333 0 1 1 16.666 0 8.333 8.333 0 0 1-16.666 0Zm7.5-3.333c0-.46.373-.834.833-.834h.008a.833.833 0 1 1 0 1.667H10a.833.833 0 0 1-.833-.833ZM8.333 10c0-.46.374-.833.834-.833H10c.46 0 .833.373.833.833v2.5a.833.833 0 1 1 0 1.667H10a.833.833 0 0 1-.833-.834v-2.5A.833.833 0 0 1 8.333 10Z",fill:"currentcolor"})))};const Vo=({count:e=1,className:t,style:n,container:r,dataTestId:i})=>f.jsx("span",{"data-testid":i??"loading-skeleton-container",className:r==null?void 0:r.className,style:r==null?void 0:r.style,children:new Array(e).fill(null).map((o,s)=>f.jsx("span",{className:`skeleton ${t} `,style:n,"data-testid":"loading-skeleton",children:""},`skeleton-${s}`))});var $G,Pze=["title","titleId"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pN.apply(null,arguments)}function Bze(e,t){if(e==null)return{};var n,r,i=Dze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Mze=function(t){var n=t.title,r=t.titleId,i=Bze(t,Pze);return x.createElement("svg",pN({width:8,height:4,viewBox:"0 0 8 4",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,$G||($G=x.createElement("path",{d:"M4 3.75 7.031 0H.97L4 3.75Z",fill:"currentColor"})))};const jze=(e,t)=>{let n;const r=()=>{e()};return()=>{clearTimeout(n),n=window.setTimeout(r,t)}},rg=()=>{const e=x.useRef(null);return{createRootElement:x.useCallback((n="dynamic-modal",r)=>{if(typeof window>"u")return e;const i=window.document.getElementById(n);if(i)return e.current=i,e;const o=r?window.document.getElementById(r):void 0;return e.current=window.document.createElement("div"),e.current.setAttribute("id",n),e.current.setAttribute("class",n),e.current.setAttribute("data-testid",n),e.current.style.pointerEvents="auto",o?o.appendChild(e.current):window.document.body.appendChild(e.current),e},[])}},$ze=({initialValue:e=!1,falseOnClick:t=!1,onHover:n,onHoverOff:r})=>{const[i,o]=x.useState(e);return[i,{onMouseDown:()=>o(!0),onMouseEnter:()=>{n==null||n(),o(!0)},onMouseLeave:()=>{r==null||r(),o(!1)},onMouseUp:()=>o(t)}]},{getTokenBalancesState:Lze,setTokenBalancesState:Uze,useTokenBalancesState:Fze}=Vc("tokenBalancesState"),Cf=dde({get:Lze,set:Uze}),{getMultichainTokenBalancesState:Z$t,setMultichainTokenBalancesState:Y$t,useMultichainTokenBalancesState:X$t}=Vc("multichainTokenBalancesState"),LG={onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseUp:"mouseup"},C_=({children:e,content:t,className:n,as:r="span",copykey:i,targetRef:o})=>{const{createRootElement:s}=rg(),a=s("dynamic-tooltips"),[l,c]=x.useState([0,0]),[d,u]=x.useState(!1),[h,m]=x.useState(null),v=o??h,g=x.useCallback(()=>{if(!v)return;const b=v.getBoundingClientRect();c([b.left+b.width/2,b.top-6])},[v]),[,y]=$ze({falseOnClick:!0,initialValue:!1,onHover:()=>{g(),u(!0)},onHoverOff:()=>{u(!1)}});return x.useEffect(()=>{g();const b=jze(()=>{g()},3);return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[g]),x.useEffect(()=>{const b=v;if(b){for(const k in y)b.addEventListener(LG[k],y[k]);return()=>{for(const k in y)b.removeEventListener(LG[k],y[k])}}},[v,y]),f.jsxs(f.Fragment,{children:[xm.createPortal(f.jsx(R_,{zIndex:xse,children:f.jsxs("div",{"data-testid":"dynamicTooltip",className:Ke("dynamic-tooltip",{"dynamic-tooltip--visible":d},n),style:{left:l[0],top:l[1]},copykey:i,children:[t,f.jsx(Mze,{className:"dynamic-tooltip__arrow"})]})}),a.current),o===void 0&&f.jsx(r,{ref:m,children:e})]})},pde=({src:e,alt:t="",fallback:n,className:r,dataTestId:i})=>{const[o,s]=x.useState(!1),a=()=>{s(!0)};return e&&!o?f.jsx("img",{src:e,alt:t,onError:a,className:r,"data-testid":i}):f.jsx(f.Fragment,{children:n})},Wze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n,networkId:r,chainName:i}){try{return yield cn().getUserAccounts({chainName:i,environmentId:t,exchangeKey:n,networkId:r})}catch(o){const s=yield Tr(o,"Error retrieving accounts");throw new Se(s.error)}}),qze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n,accountId:r,transfer:i}){try{return yield cn().postExchangeAccountTransfer({accountId:r,createExchangeTransferRequest:i,environmentId:t,exchangeKey:n})}catch(o){const s=yield Tr(o,"Error creating exchange-account transfer");throw new Se(s.error,s.code)}}),zze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n,accountId:r}){try{return yield cn().getExchangeTransactions({accountId:r,environmentId:t,exchangeKey:n})}catch(i){const o=yield Tr(i,"Error retrieving transactions");throw new Se(o.error)}}),Vze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n}){try{return yield cn().getExchangeTransferDestinations({environmentId:t,exchangeKey:n})}catch(r){const i=yield Tr(r,"Error retrieving transfer destinations");throw new Se(i.error)}}),Kze=()=>{const e=ef(),{primaryWallet:t,network:n}=$e(),r=x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l,networkId:c,chainName:d,includeChainName:u=!0}){const m={environmentId:e,exchangeKey:l,networkId:c??n};return u&&(m.chainName=d??(t==null?void 0:t.connector.connectedChain)),Wze(m)}),[n,e,t==null?void 0:t.connector.connectedChain]),i=x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l,accountId:c}){return zze({accountId:c,environmentId:e,exchangeKey:l})}),[e]),o=x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l}){return Vze({environmentId:e,exchangeKey:l})}),[e]);return{exchangeTransfer:x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l,transferRequest:c}){const u=(yield r({exchange:l})).find(({balances:h})=>h.some(({currency:m})=>m.toLowerCase()===c.currency.toLowerCase()));if(!u)throw new Se(`No ${c.currency}-denominated account found for exchange ${l}.`,Hb.InvalidTransferCurrency);return qze({accountId:u.id,environmentId:e,exchangeKey:l,transfer:c})}),[r,e]),getExchangeTransactions:i,getExchangeUserAccounts:r,getExchangeWhitelistedDestinations:o}},mde=()=>new LD;var UG,Hze=["title","titleId"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(null,arguments)}function Gze(e,t){if(e==null)return{};var n,r,i=Jze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Zze=function(t){var n=t.title,r=t.titleId,i=Gze(t,Hze);return x.createElement("svg",mN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,UG||(UG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.667 2.667a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-5.333 4a5.333 5.333 0 1 1 9.546 3.27l3.592 3.592a.667.667 0 0 1-.943.942L9.937 10.88a5.333 5.333 0 0 1-8.604-4.213Z",fill:"currentColor"})))};const Yze=[{description:"TRON - Uses hash fragment format",domain:"tronscan.org",generateUrl:(e,t)=>`${new URL(e).origin}/#/transaction/${t}`}],Xze={description:"Standard format used by most block explorers",domain:"*",generateUrl:(e,t)=>{const n=new URL(e);return n.pathname=`/tx/${t}`,n.toString()}},Qze=e=>Yze.find(n=>e.includes(n.domain))||Xze,eVe=e=>de(void 0,[e],void 0,function*({walletConnector:t,transactionHash:n}){try{if(!t)return;const[r]=yield t.getBlockExplorerUrlsForCurrentNetwork();return r?Qze(r).generateUrl(r,n):void 0}catch{return}}),$S=(e,t)=>{e.current&&(e.current.resolve(t),e.current=null)},tVe=()=>{const{setDynamicWidgetView:e}=Jc(),{setShowDynamicUserProfile:t}=$e(),{userWallets:n}=_s(),{primaryWallet:r}=$e(),i=x.useMemo(()=>n.filter(a=>a.id!==(r==null?void 0:r.id)&&a.chain===(r==null?void 0:r.chain)),[n,r==null?void 0:r.chain,r==null?void 0:r.id]),o=x.useRef(),s=x.useCallback(({showBackButton:a}={showBackButton:!0})=>(o.current=new Um,e("choose-linked-wallet",{onSelectWallet:l=>$S(o,l),showBackButton:a,wallets:i}),t(!0),o.current.promise),[i,e,t]);return Un("userProfileClose",()=>$S(o,void 0)),{chooseLinkedWallet:s,filteredWallets:i}},nVe=e=>t=>t.filter(n=>n.walletConnector.supportedChains.includes(e)),rVe=e=>t=>t.filter(n=>n.walletConnector.supportedChains.includes(e)),iVe=["dapper"],YM=e=>rr()&&!(e!=null&&e.canConnectViaCustodialService)||iVe.includes((e==null?void 0:e.key)||""),gde=(e,t,n)=>n?e.map(({connector:r})=>r.key).includes(t.key):!1,yde=({allowAlreadyConnectedWallet:e,onQrCodeConnect:t,onConnectOnly:n,onCustodialWallet:r,onInstalledExtension:i})=>{const{setMultiWalletWidgetState:o,setShowAuthFlow:s,setSelectedWalletConnectorKey:a,walletConnectorOptions:l,setQrcodeUri:c,setDesktopUri:d,user:u,linkedWallets:h,setLegacyIsVerifying:m}=$e(),{mockedSDK:v}=kj(),{setError:g,setErrorMessage:y}=so(),{pushView:b,clearStackAndPushInitialView:k,replaceView:_}=At(),R=$=>de(void 0,void 0,void 0,function*(){Ie.debug("handleCustodialWalletClick",$);const q=YM($);return Ie.logVerboseTroubleshootingMessage("[handleCustodialWalletClick]",{twoStepAuthentication:q}),a({chain:$.connectedChain,key:$.key}),r({requiresTwoStepAuthentication:q,walletConnector:$})}),I=$=>de(void 0,void 0,void 0,function*(){var q;if(Ie.debug("handleMobileWalletClick",$),a({chain:$.connectedChain,key:$.key}),$.key==="phantom"){const S=ot.getItem(_m);Ie.logVerboseTroubleshootingMessage("[useHandleWalletItem] Setting PHANTOM_SIGNATURE_STATE to awaiting_verification",{currentState:S}),ot.setItem(_m,{loseOriginalAccountOnTransfer:(q=S==null?void 0:S.loseOriginalAccountOnTransfer)!==null&&q!==void 0?q:!1,submittedAtTimestamp:new Date().toString(),verificationType:"awaiting_verification"})}b("mobile-wallet-redirect-view",{onRetry:()=>{if($.hasRetryDeeplinkConnection()){$.retryDeeplinkConnection();return}n({shouldShowPendingConnectView:!1,walletConnector:$})}}),n({shouldShowPendingConnectView:!1,walletConnector:$})}),T=$=>de(void 0,void 0,void 0,function*(){return Ie.debug("handleInstalledExtensionClick",$),a({chain:$.connectedChain,key:$.key}),i({walletConnector:$})}),M=$=>de(void 0,void 0,void 0,function*(){Ie.debug("handleUninstalledClick",$),a({chain:$.connectedChain,key:$.key}),$.canConnectViaQrCode?(t({getAddressOpts:{onDesktopUri:q=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",q),d(q)}),onDisplayUri:q=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",q),c(q)})},walletConnector:$}),_("qr-code")):_("no-qr-not-installed"),g(void 0)}),D=$=>de(void 0,void 0,void 0,function*(){Ie.debug("handleAlreadyConnectedWallet",$),s(!1);const q=yield $.getConnectedAccounts(),z=h.find(E=>{var N;return E.address.toLowerCase()===((N=q[0])===null||N===void 0?void 0:N.toLowerCase())});if(Ie.logVerboseTroubleshootingMessage("[handleAlreadyConnectedWallet]",{activeAccountAlreadyLinked:z,connectedAccounts:q,linkedWallets:h,walletConnectorKey:$.key}),a({chain:$.connectedChain,key:$.key}),!z){o("awaiting_signature",void 0,"linking_new_wallet");return}if(z.connector.key==="unknown"){rt.emit("triggerConnectAndSign",$);return}o("awaiting_account_switch","linking_new_wallet")});return{handleAlreadyConnectedWallet:D,handleCustodialWalletClick:R,handleInstalledExtensionClick:T,handleMobileWalletClick:I,handleUninstalledClick:M,handleWalletItemClick:$=>de(void 0,void 0,void 0,function*(){const{walletConnector:q,isInstalledOnBrowser:z}=$,S=q.connectedChain==="FLOW"||Voe(q)||!q.canHandleMultipleConnections;if(Ie.logVerboseTroubleshootingMessage("[handleWalletItemClick]",{mockedSDK:v,shouldEndWalletConnectorSession:S,wallet:$}),v)return;S&&(yield q.endSession()),m(!1);const E=q.metadata.groupKey==="metamask";if(wl()!=="connect-only"&&E&&!q.isWalletConnect)try{a({chain:q.connectedChain,key:q.key}),b("pending-connect"),yield q.chooseAccountsToConnect()}catch(j){if(j instanceof ioe){y("connection_rejected"),k();return}}const P=e8e(q);!e&&gde(h,q,u)&&q.connectedChain!=="FLOW"&&!q.isWalletConnect&&!P?D(q):q.canConnectViaCustodialService?R(q):rr()?q.key.startsWith("walletconnect")?b("wallet-connect-mobile-wallets-list"):I(q):z?T(q):M(q)}),openWallet:($,q)=>{var z;const{openMobileWallet:S=I,openCustodialWallet:E=R,openExtensionWallet:N=T}=q||{},P=(z=l.find(j=>j.key===$))===null||z===void 0?void 0:z.walletConnector;P&&(rr()?S(P):P.canConnectViaCustodialService?E(P):P.isInstalledOnBrowser()&&N(P))}}},$3=e=>{var t;return!!(!((t=e.groupedWallets)===null||t===void 0)&&t.length)},oVe=(e,t)=>t.findIndex(n=>$3(n)&&n.key===e),vde=(e,t)=>{const n=[];return t.forEach(r=>{var i;if(!r.group)return n.push(r);const o=oVe(r.group,n);if(o>-1)return(i=n[o].groupedWallets)===null||i===void 0?void 0:i.push(r);if(!t.some(c=>{const d=r.group===c.group,u=r.key!==c.key||r.walletConnector.connectedChain!==c.walletConnector.connectedChain;return d&&u}))return n.push(r);const a=e[r.group];if(!a)return n.push(r);const l={groupedWallets:[r],key:a.key,name:a.name};return n.push(l)}),n},sVe=["magicemailotp","magiclink","magicsocial","turnkey","turnkeyhd","zerodev","dynamicwaas"],aVe=()=>{const{walletConnectorOptions:e,setShowAuthFlow:t}=$e(),n=Jm(),{pushView:r}=At(),{navigateToWalletGroup:i}=H3(),{handleWalletItemClick:o}=rp(),s=x.useCallback(d=>{const u=e.filter(h=>!sVe.includes(h.walletConnector.key));return d(u).map(h=>{var m,v;const g=h.group&&((m=n[h.group])===null||m===void 0?void 0:m.name);return{chain:h.walletConnector.connectedChain,group:(v=h.group)!==null&&v!==void 0?v:null,groupName:g??null,isInstalledOnBrowser:h.isInstalledOnBrowser,isWalletConnect:h.walletConnector.isWalletConnect,key:h.walletConnector.key,metadata:h.walletConnector.metadata,name:h.name}})},[e,n]),a=x.useMemo(()=>s(d=>d),[s]),l=x.useCallback(({walletKey:d,connectorName:u,resolve:h,reject:m})=>{const v=k=>{k.key===d&&(h(k),t(!1),b())},g=(k,_)=>{k.key===d&&(m(_),t(!1),b())},y=(k,_)=>{if(k.type!=="wallet"||k.connectorName!==u)return;const R=typeof _=="object"?_.error:_;m(R),t(!1),b()},b=()=>{rt.off("walletConnectionFailed",g),rt.off("authFailure",y),rt.off("walletAdded",v)};rt.on("walletAdded",v),rt.on("walletConnectionFailed",g),rt.on("authFailure",y)},[t]),c=x.useCallback((d,u=!0,h=!1,m)=>new Promise((v,g)=>{const b=vde(n,e).find(_=>_.key===d),k=e==null?void 0:e.find(_=>_.key===d&&(!m||_.walletConnector.connectedChain===m));if(Ie.logVerboseTroubleshootingMessage("[useWalletOptions] selectWalletOption",{chain:m,selectGroupIfAvailable:u,walletGroup:b==null?void 0:b.key,walletKey:d,walletOption:k==null?void 0:k.key}),!k){const _=m?`No wallet found with key "${d}" for chain "${m}".`:`No wallet found with key "${d}".`;g(new Se(_));return}if(l({connectorName:k.walletConnector.name,reject:g,resolve:v,walletKey:d}),h){o(k);return}u&&b&&$3(b)?i(b):Bh(k.walletConnector)&&k.walletConnector.canConnectWithHardwareWallet()?r("select-hardware-wallet",{onSelectWallet:o,wallet:k}):o(k),t(!0)}),[l,o,i,t,r,e,n]);return{getFilteredWalletOptions:s,selectWalletOption:c,walletOptions:a}},lVe=()=>{const e=x.useRef(!1),t=x.useRef(null),{walletOptions:n}=aVe(),{userWallets:r}=_s(),i=x.useCallback(c=>de(void 0,void 0,void 0,function*(){const d={connectorConsumed:!1,initiatedByWidget:e.current,type:"external-wallet-funding"};ot.setItem(pb,d);const u=yield c.walletConnector.getAddress(c.getAddressOpts);if(!u){vh(t,new Se("No wallet address found"));return}$S(t,u)}),[]),{handleWalletItemClick:o}=yde({allowAlreadyConnectedWallet:!0,onConnectOnly:i,onCustodialWallet:i,onInstalledExtension:i,onQrCodeConnect:i}),s=x.useCallback(c=>{var d;const u=n.find(({key:h})=>h===c.key);return u?(t.current=new Um,o(Object.assign(Object.assign({},u),{group:(d=u.group)!==null&&d!==void 0?d:void 0,walletConnector:c})),t.current.promise):Promise.reject(new Se(`Connect wallet for funding error: wallet option for ${c.key} not found`))},[o,n]),a=r.some(c=>c.connector.isWalletConnect),l=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(a)return;const c=C3().find(({walletConnector:d})=>d.isWalletConnect);yield c==null?void 0:c.walletConnector.endSession(),yield c==null?void 0:c.walletConnector.init()}),[a]);return{getWalletAddress:s,handleWalletMethod:i,initiatedByWidgetRef:e,internalConnectionPromiseRef:t,resetWalletConnectSession:l}},cVe=["coinbase","phantomevm","magiceden"],dVe=e=>rr()?e.filter(t=>cVe.includes(t.key)?!1:t.walletConnector.isWalletConnect||t.walletConnector.mobileExperience!=="in-app-browser"):e,uVe=()=>{const{primaryWallet:e,setShowAuthFlow:t}=$e(),{clearStackAndPush:n}=At(),{initiatedByWidgetRef:r,getWalletAddress:i,resetWalletConnectSession:o}=lVe(),s=x.useRef(null);Un("authFlowClose",()=>{vh(s,new Se("User cancelled"))});const a=x.useCallback(l=>{n("external-funding-wallet-list",{onSelectWallet:d=>de(void 0,[d],void 0,function*({walletConnector:u}){if(!s.current)return;let h=!1;try{r.current=l;const m=yield i(u);if(!m){vh(s,new Se("No wallet address found"));return}if(m===(e==null?void 0:e.address)){h=!0,n("duplicate-wallet",{initiatedByWidget:l,onReturn:a});return}const v=u.createWallet({address:m,chain:u.connectedChain,connector:u,id:"external-funding-wallet",isAuthenticated:!1,key:u.key});$S(s,v),v8e.emit("walletConnectedForFunding",{initiatedByWidget:l,isPhantomRedirect:!1,wallet:v})}catch(m){vh(s,m)}finally{h||t(!1)}}),showDefaultFooter:!0,viewWalletsFilter:doe(dVe).pipe(rVe(e==null?void 0:e.chain))})},[n,i,r,e==null?void 0:e.address,e==null?void 0:e.chain,t]);return x.useCallback(l=>de(void 0,[l],void 0,function*({initiatedByWidget:c}){return s.current||(o(),s.current=new Um,a(c),t(!0,{emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!1})),s.current.promise}),[a,o,t])},fVe=()=>{const{primaryWallet:e}=$e();return x.useCallback(t=>de(void 0,[t],void 0,function*({amount:n,fromWallet:r,token:i,toWallet:o}){if(!n||!r)throw new Error("Amount and fromWallet are required");if(!e&&!o)throw new Error("No destination wallet found");const s=yield r.getNetwork();let a;if(o?a=o.network:a=yield e==null?void 0:e.getNetwork(),!s||!a)throw new Error("Wallet network not found");s!==a&&(yield r.switchNetwork(a));const l=o?o.address:e==null?void 0:e.address;if(!l)throw new Error("No destination address found");return r.sendBalance({amount:n.toString(),toAddress:l,token:i})}),[e])},hVe=()=>{const{setDynamicWidgetView:e}=Jc(),{setShowDynamicUserProfile:t}=$e();return x.useCallback(n=>{e("receive-wallet-funds",n),t(!0)},[e,t])},pVe=()=>{var e,t;const n=vo(),r=fVe(),i=uVe(),o=hVe(),{chooseLinkedWallet:s,filteredWallets:a}=tVe();return x.useMemo(()=>{var l,c;return{chooseLinkedWallet:s,connectWalletForFunding:i,externalWalletFundingEnabled:!!(!((c=(l=n==null?void 0:n.sdk.funding)===null||l===void 0?void 0:l.externalWallets)===null||c===void 0)&&c.enabled),filteredLinkedWallets:a,fund:r,promptAmountAndFund:o}},[s,i,(t=(e=n==null?void 0:n.sdk.funding)===null||e===void 0?void 0:e.externalWallets)===null||t===void 0?void 0:t.enabled,a,r,o])},mVe=({wallet:e,chain:t,network:n})=>{const[r,i]=x.useState("0.0"),o=!e,s=()=>de(void 0,void 0,void 0,function*(){if(o||!t||e.connector.supportsNetworkSwitching()&&!n)return;const l=yield e.getBalance();i(l)}),{isLoading:a}=vr(s,{deps:[e==null?void 0:e.address,n==null?void 0:n.toString(),t],enabled:!o});return{balance:r,isLoading:a}},gVe=e=>de(void 0,[e],void 0,function*({environmentId:t,chainName:n=nr.Evm,networkId:r,accountAddress:i,includeNative:o=!1,includePrices:s=!1,forceRefresh:a=!1,filterSpamTokens:l=!0,whitelistedContracts:c}){return yield cn({customHeaders:a?{"Cache-Control":"no-cache"}:void 0}).getAccountBalances({accountAddress:i,chainName:n,environmentId:t,filterSpamTokens:l,forceRefresh:a,includeNative:o,includePrices:s,networkId:r,whitelistedContracts:c})}),wde=({accountAddress:e,networkId:t,chainName:n,tokenAddresses:r,includeFiat:i=!1,includeNativeBalance:o=!1,filterSpamTokens:s=!0,forceRefresh:a=!1,whitelistedContracts:l}={})=>{var c;const d=Fze(),{tokenBalances:u,isLoading:h,error:m}=d,{primaryWallet:v,network:g}=$e(),y=v==null?void 0:v.connector,b=e??(v==null?void 0:v.address),k=(c=n??(y==null?void 0:y.connectedChain))!==null&&c!==void 0?c:nr.Evm,_=x.useCallback((...D)=>de(void 0,[...D],void 0,function*(A=!1){var U;const $=g_(),q=wl();if(q!=="connect-only"&&!$){Cf("error",Kr);return}const z=ov();if(q==="connect-only"&&!(!((U=z==null?void 0:z.sdk.featureFlags)===null||U===void 0)&&U.connectOnlyMultiAsset))return;let S=t??(yield y==null?void 0:y.getNetwork(!0));k===nr.Btc&&(S=1);const E=S&&!isNaN(Number(S));if(Ie.logVerboseTroubleshootingMessage("[useTokenBalances] will try to fetch token balances",{isLoading:h,isValidRequest:E,networkId:t,requestAccount:b,requestChainName:k,requestNetwork:S}),h||!b||!E){Cf("tokenBalances",void 0);return}Cf("isLoading",!0);let N=[];try{if(N=yield gVe({accountAddress:b,chainName:k,environmentId:ef(),filterSpamTokens:s,forceRefresh:A,includeNative:o,includePrices:i,networkId:Number(S),whitelistedContracts:l}),!N){Cf("error","No token balances found");return}Cf("error",void 0)}catch(P){const j=(P==null?void 0:P.code)>=500||(P==null?void 0:P.code)<400?"error":"warn";yield Tr(P,"Error getting token balances",j);let V="";(P==null?void 0:P.code)===429?V="Too many requests fetching balances":P!=null&&P.message?V=P.message:V="error fetching token balance",Cf("error",V)}finally{const P=N==null?void 0:N.filter(j=>j.balance!==0);Cf("tokenBalances",P),Cf("isLoading",!1)}}),[k,h,b,o,i,s,t,y]);Un("tokenBalancesChanged",()=>_(!0)),x.useEffect(()=>{_(a)},[b,g,t,a]);const{tokensFilter:R}=zm(),I=x.useMemo(()=>r==null?void 0:r.map(D=>D.toLowerCase()),[r]),T=x.useMemo(()=>I?u==null?void 0:u.filter(D=>I==null?void 0:I.includes(D.address.toLowerCase())):u,[I,u]),M=x.useMemo(()=>T?R(T):[],[T,R]);return{error:m,fetchAccountBalances:_,isError:!!m,isLoading:h,tokenBalances:M}};var FG,yVe=["title","titleId"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(null,arguments)}function vVe(e,t){if(e==null)return{};var n,r,i=wVe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Xh=function(t){var n=t.title,r=t.titleId,i=vVe(t,yVe);return x.createElement("svg",gN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,FG||(FG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.707 4.293a1 1 0 0 1 0 1.414L5.414 11H21a1 1 0 1 1 0 2H5.414l5.293 5.293a1 1 0 0 1-1.414 1.414l-7-7a1 1 0 0 1 0-1.414l7-7a1 1 0 0 1 1.414 0Z",fill:"currentColor"})))};mde();mde();const bde=()=>{const{completeAuth:e}=sf({});return x.useCallback(t=>de(void 0,void 0,void 0,function*(){let n;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){const r=yield xNe(t);return n=r.mfaToken,rt.emit("mfaCompletionSuccess",{mfaToken:r.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:r}})}),n}),[e])},_de=()=>{const{setShowAuthFlow:e}=$e(),{pushView:t}=At(),n=ude(),r=bde(),i=cae();return x.useCallback(s=>de(void 0,void 0,void 0,function*(){const a=yield n(),l=[...a.passkeys.map(d=>Object.assign(Object.assign({},d),{type:Ji.Passkey})),...a.devices.map(d=>Object.assign(Object.assign({},d),{type:Ji.Totp}))];if(!a.userHasVerifiedMfaMethods||l.length===0){e(!0),t("mfa-choose-device",{createMfaToken:s==null?void 0:s.createMfaToken});return}switch(l.reduce((d,u)=>d.createdAt&&u.createdAt?d.createdAt>=u.createdAt?d:u:u.createdAt?u:d).type){case Ji.Passkey:{const d=s!=null&&s.createMfaToken?{singleUse:!0}:void 0,u=r({createMfaToken:d});return e(!0),t("passkey-confirm",{authenticatePasskeyPromise:u,createMfaToken:s==null?void 0:s.createMfaToken}),u}case Ji.Totp:{if(i!=null&&i.mfaToken)return i==null?void 0:i.mfaToken;const d=new Um;e(!0),t("mfa-verification",{createMfaToken:s==null?void 0:s.createMfaToken});const u=mb({event:"mfaCompletionSuccess",listener:({mfaToken:m})=>d.resolve(m)},i),h=()=>d.reject(new Error("MFA view closed"));return rt.on("authFlowClose",h),d.promise.finally(()=>{u(),rt.off("authFlowClose",h)}),d.promise}default:throw new Error("Error determining MFA method to use")}}),[r,i,n,t,e])};f.jsx(tse,{}),f.jsx(Hoe,{}),f.jsx(Goe,{}),f.jsx(Joe,{}),f.jsx(Zoe,{}),f.jsx(ese,{}),f.jsx(y6e,{}),f.jsx(Yoe,{});const yN=(e,t)=>{var n,r;return(r=(n=t==null?void 0:t.additionalAddresses)===null||n===void 0?void 0:n.find(i=>i.type===e))===null||r===void 0?void 0:r.address},bVe="evm",_Ve="1",xde=e=>de(void 0,[e],void 0,function*({address:t,chainName:n,environmentId:r,network:i,primaryWallet:o,token:s,tokenAmount:a,currency:l,includeDisabled:c=!1,merchantName:d}){var u;const h=o!=null&&o.chain?(u=Fm(o.chain))===null||u===void 0?void 0:u.name:void 0,m=n??h,v=o&&AD(o.connector)&&yN(zb.Payment,o),g=i&&m===bVe;let y;if(g?y=(i==null?void 0:i.toString())||_Ve:y=void 0,!m||!(o!=null&&o.address)&&!t)return[];const b=t||v||(o==null?void 0:o.address);return b?(yield Aze({chain:m,currency:l,environmentId:r,includeDisabled:c,merchantName:d,networkId:y,token:s,tokenAmount:a,walletAddress:b}))||[]:[]}),xVe=({primaryWallet:e,network:t,environmentId:n,projectSettingsOnramps:r,target:i,includeDisabled:o,shouldFetch:s=!1})=>{const{data:a=[]}=vr(()=>de(void 0,void 0,void 0,function*(){var c;return e!=null&&e.address?xde({address:i.address,chainName:i.chainName,currency:i.currency,environmentId:n,includeDisabled:!0,network:(c=i.network)!==null&&c!==void 0?c:t,primaryWallet:e,token:i.token,tokenAmount:i.tokenAmount}):[]}),{deps:[n,t,e==null?void 0:e.address,i.address,i.token,i.tokenAmount,i.chainName,i.network,i.currency],enabled:s&&o,initialData:[]}),l=x.useMemo(()=>a.filter(c=>r==null?void 0:r.includes(c.provider)),[a,r]);return x.useMemo(()=>({allOnRamps:a,enabledOnRamps:l}),[a,l])},kde=x.createContext(void 0),kVe=({children:e})=>{var t,n,r,i,o;const s=x.useRef(null),[a,l]=x.useState(),[c,d]=x.useState(!1),[u,h]=x.useState(!1),[m,v]=x.useState(void 0),{environmentId:g,network:y,primaryWallet:b,projectSettings:k,overrides:_}=$e(),{setDynamicWidgetView:R}=Jc(),[I,T]=x.useState({}),[M,D]=x.useState(!0),A=x.useCallback(W=>{d(W),!W&&s.current&&vh(s,new Se("User cancelled"))},[]),U=x.useCallback(({address:W,token:G,network:Y,tokenAmount:ie,chainName:ye,currency:me})=>{T({address:W,chainName:ye,currency:me,network:Y,token:G,tokenAmount:ie}),(W||G||Y||ie||ye||me)&&D(!0)},[]),$=x.useCallback(()=>{v(void 0),h(!1)},[]),{enabledOnRamps:q}=xVe({environmentId:g,includeDisabled:!0,network:y,primaryWallet:b,projectSettingsOnramps:(n=(t=k==null?void 0:k.sdk)===null||t===void 0?void 0:t.funding)===null||n===void 0?void 0:n.onramps,shouldFetch:M,target:I}),z=x.useMemo(()=>q.map(G=>{const Y=OG(G);return Y.id===pn.CryptoDotCom&&(Y.onClick=()=>R("crypto-com-onramp")),Y}),[q,R]),S=x.useMemo(()=>{const W=_==null?void 0:_.onrampOptions;return typeof W=="function"?W(z):W||[]},[_==null?void 0:_.onrampOptions,z]),E=x.useMemo(()=>{var W,G,Y;return(_==null?void 0:_.onrampOptions)!==void 0&&S.length===0?!1:S.length>0?!0:!!(!((Y=(G=(W=k==null?void 0:k.sdk)===null||W===void 0?void 0:W.funding)===null||G===void 0?void 0:G.onramps)===null||Y===void 0)&&Y.length&&q.length)},[(o=(i=(r=k==null?void 0:k.sdk)===null||r===void 0?void 0:r.funding)===null||i===void 0?void 0:i.onramps)===null||o===void 0?void 0:o.length,q.length,S.length,_==null?void 0:_.onrampOptions]),N=x.useMemo(()=>!!b,[b]),P=x.useCallback(({provider:W,wallet:G,payingWithDynamic:Y})=>{var ie;if((N||Y)&&l(W.id),A(!0),!!(W.openMode==="popup"&&W.url&&A))return fze((ie=W.url)!==null&&ie!==void 0?ie:"",G,A,W.id)},[N,A]),j=x.useMemo(()=>(_==null?void 0:_.onrampOptions)!==void 0?S:z,[z,S,_==null?void 0:_.onrampOptions]),V=x.useCallback(W=>de(void 0,[W],void 0,function*({onrampProvider:G,address:Y,token:ie,tokenAmount:ye,network:me,chainName:be,currency:Me,overrideOnRamp:Fe,payingWithDynamic:De,merchantName:gt}){var tt,dt,Qt,lt;if(!E&&!Fe&&!De)throw new Error("Onramp is not enabled");if(h(!1),s.current)return s.current.promise;s.current=new Um,M||D(!0);let jt=z;const rn=me||y,Re=Fe||!!Y||!!ie||!!me||!!ye||!!be||!!Me||!!gt,Ze=!!be&&!!rn&&!!ie&&!!ye&&!!Y;if(De&&!Ze)return vh(s,new Error("PayingWithDynamic: Missing parameters")),(tt=s.current)===null||tt===void 0?void 0:tt.promise;Re&&h(!0),(Re||De&&Ze)&&(jt=(yield xde({address:Y,chainName:be,currency:Me,environmentId:g,includeDisabled:Fe,merchantName:gt,network:rn,primaryWallet:b,token:ie,tokenAmount:ye})).map(st=>OG(st)));const ct=jt.find(st=>st.id===G);return De&&!ct?(vh(s,new Error("PayingWithDynamic: Onramp provider not found")),(dt=s.current)===null||dt===void 0?void 0:dt.promise):ct?(v(ct),P({payingWithDynamic:De,provider:ct}),(lt=s.current)===null||lt===void 0?void 0:lt.promise):(vh(s,new Error("Onramp provider not found")),(Qt=s.current)===null||Qt===void 0?void 0:Qt.promise)}),[z,g,E,b,y,P,M]),K=x.useMemo(()=>{let W;return u?W=m:j.length&&(W=j.find(G=>G.id===a)),W},[m,j,u,a]),F=x.useCallback(({provider:W,wallet:G})=>{if(W.onClick){W.onClick({wallet:G});return}$(),P({provider:W,wallet:G})},[P,$]),O=x.useMemo(()=>({enabledOnrampProviders:j,onrampEnabled:E,openOnramp:V,selectOnrampProvider:F,selectedOnramp:K,setEnabledOnrampProvidersTargetValue:U,setShowOnramp:A,showOnramp:c}),[j,E,V,K,U,c,A,F]);return f.jsx(kde.Provider,{value:O,children:e})},Sde=()=>{const e=x.useContext(kde);if(!e)throw new Error("useOnrampContext must be used within a OnrampContextProvider");return e},xs=()=>{const{user:e,walletConnectorOptions:t}=$e(),n=x.useCallback(o=>{const{verifiedCredentials:s}=e??{};if(!s)return;const a=s.find(l=>l.id===o.id);return(a==null?void 0:a.walletProvider)===Ao.SmartContractWallet?a:void 0},[e]),r=x.useCallback(o=>{var s,a,l;const c=e==null?void 0:e.verifiedCredentials;if(!c)return;const d=n(o),u=c.find(g=>g.id===(d==null?void 0:d.signerRefId));if(!(u!=null&&u.address)||!(u!=null&&u.chain))return;const{walletConnector:h}=(s=y1(u,t))!==null&&s!==void 0?s:{},v=!((a=u.walletName)===null||a===void 0?void 0:a.startsWith("turnkey"))||!!(!((l=u.walletProperties)===null||l===void 0)&&l.isAuthenticatorAttached);return h==null?void 0:h.createWallet({address:u.address,chain:h.connectedChain,connector:h,id:u.id,isAuthenticated:v,key:h.key})},[n,e==null?void 0:e.verifiedCredentials,t]),i=x.useCallback(o=>{var s;const a=e==null?void 0:e.verifiedCredentials;if(!a)return;const l=a.find(u=>u.id===o.id),c=a.find(u=>u.signerRefId===(l==null?void 0:l.id));if(!(c!=null&&c.address)||!(c!=null&&c.chain))return;const{walletConnector:d}=(s=y1(c,t))!==null&&s!==void 0?s:{};return d==null?void 0:d.createWallet({address:c.address,chain:d.connectedChain,connector:d,id:c.id,isAuthenticated:!0,key:d.key})},[e==null?void 0:e.verifiedCredentials,t]);return x.useMemo(()=>({getEOAWallet:r,getSmartWallet:i,isSmartWallet:o=>n(o)!==void 0}),[r,n,i])},da=()=>{var e,t,n;const{primaryWallet:r,user:i}=$e(),{getEOAWallet:o}=xs(),s=(e=r&&o(r))!==null&&e!==void 0?e:r,a=()=>{if(!s||!i||!s.connector.key.startsWith("turnkey"))return;const y=s.id,b=i.verifiedCredentials.find(k=>k.id===y);if(b)return b},l=()=>{if(!s||!i)return!1;const y=i.verifiedCredentials.find(k=>{var _,R;return((_=k.walletName)===null||_===void 0?void 0:_.startsWith("turnkey"))&&((R=k.walletProperties)===null||R===void 0?void 0:R.isAuthenticatorAttached)===!1});return i.verifiedCredentials.find(k=>y&&k.signerRefId===y.id)},c=a(),d=!!l(),u=!!(c||d),h=!!(!((t=c==null?void 0:c.walletProperties)===null||t===void 0)&&t.isAuthenticatorAttached),m=u&&!h||d,v=u&&!!M3(i,Zo.Email),g=u&&!!(!((n=c==null?void 0:c.walletProperties)===null||n===void 0)&&n.isSessionKeyCompatible);return{hasRecoveryEmail:v,hasTurnkeyVerifiedCredentialAuthenticator:h,isSessionKeyCompatible:g,isTurnkeyWallet:u,isTurnkeyWalletWithoutAuthenticator:m,turnkeyVerifiedCredential:c}},Mc=(e,t)=>e.some(n=>{const r=n.provider===t&&!!n.enabledAt;return n.provider===pn.MagicLink?r&&!!n.providerProjectId:r}),Lh=e=>{var t;return Mc((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],pn.Turnkey)},XM=(e,t)=>{var n;return!!(e&&(!((n=e.verifiedCredentials)===null||n===void 0)&&n.some(({walletProvider:r,walletName:i})=>r===Ao.EmbeddedWallet&&(!t||(i==null?void 0:i.startsWith(t))))))},Uh=(e,t)=>{var n;const r=(n=e==null?void 0:e.verifiedCredentials)===null||n===void 0?void 0:n.filter(({walletProvider:o})=>o===Ao.EmbeddedWallet);let i;return r!=null&&r.length&&(t!=null&&t.length)&&(i=r.find(({chain:o})=>o&&t.includes(ec[o]))),i||(r==null?void 0:r.shift())},Ide=(e,t,n=!1)=>{if(!(e!=null&&e.verifiedCredentials))return;const r=[...e.verifiedCredentials].sort((a,l)=>!a.lastSelectedAt&&!l.lastSelectedAt?0:a.lastSelectedAt?l.lastSelectedAt?l.lastSelectedAt.getTime()-a.lastSelectedAt.getTime():-1:1),i=r.find(a=>a.walletProvider===Ao.SmartContractWallet);if(i)return i;let o;if(t){const a=_0(t);o=Uh(Object.assign(Object.assign({},e),{verifiedCredentials:r}),[a])}if(o)return o;if(n)return;const s=r.find(a=>a.format==="blockchain");if(s)return s},Ede=(e,t)=>{const n=t?ec[t]:void 0;return e==null?void 0:e.find(({key:r,walletConnector:i})=>r.startsWith("turnkey")&&(i==null?void 0:i.connectedChain)===n)},_4=(e,t,n)=>{var r;const i=((r=t==null?void 0:t.find(a=>a.primary))===null||r===void 0?void 0:r.name)||nr.Evm,o=Ede(e,Sq[i]),s=n==null?void 0:n.find(({walletName:a,chain:l})=>(a==null?void 0:a.startsWith("turnkey"))&&l===Sq[i]);if(o)return Object.assign(Object.assign({},s),o)},Cde=e=>{var t;return(t=e.verifiedCredentials)===null||t===void 0?void 0:t.filter(({walletProvider:n})=>n)},Ade=(e,t)=>{var n;const r=(t==null?void 0:t.phoneNumber)||((n=t==null?void 0:t.verifiedCredentials.find(i=>i.oauthDisplayName))===null||n===void 0?void 0:n.oauthDisplayName)||"";e.setPasskeyIdentifier(r)},Sk=e=>{if(!e||!("getAuthenticatorHandler"in e))throw new Se("Invalid connector type");return e.getAuthenticatorHandler()},SVe={days:86400,hours:3600,minutes:60},vN=e=>{if(!e)return 0;const{unit:t,amount:n}=e,r=n||0,i=SVe[t]||0;return r*i},Rde=e=>de(void 0,[e],void 0,function*({iframeContainer:t,iframeElementId:n,wallet:r}){var i,o;if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!rc(r==null?void 0:r.connector))throw Ie.error("Cannot initialize embedded wallet export",{connector:(i=r==null?void 0:r.connector)===null||i===void 0?void 0:i.name,foo:r!=null&&r.connector?rc(r==null?void 0:r.connector):void 0,version:"v2",wallet:!!r,walletId:r==null?void 0:r.id}),new Ld(Py);const s=(o=r.connector)===null||o===void 0?void 0:o.getExportHandler();if(!(yield s.initExport(t,n)))throw new Se("Something went wrong",WO);return s}),IVe=({user:e,wallet:t})=>{var n,r,i,o,s;if(!e)throw new Se(Kr);if(!(t!=null&&t.connector)||!(t!=null&&t.id)||!rc(t==null?void 0:t.connector))throw new Ld;const a=t.connector;a.setEmail(e.email);const l=(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.find(({walletName:h,id:m})=>(h==null?void 0:h.startsWith("turnkey"))&&m===t.id))===null||r===void 0?void 0:r.walletProperties,c=(i=l==null?void 0:l.turnkeyHDWalletId)!==null&&i!==void 0?i:void 0,d=(o=l==null?void 0:l.turnkeyPrivateKeyId)!==null&&o!==void 0?o:void 0,u=(s=l==null?void 0:l.turnkeySubOrganizationId)!==null&&s!==void 0?s:void 0;if(!u||c===void 0&&d===void 0)throw new Se("Invalid token!");return{connector:a,organizationId:u,privateKeyId:d,turnkeyHDWalletId:c}},EVe=({address:e,privateKeyId:t,activity:n})=>{var r,i,o;const s=e?(r=n.result)===null||r===void 0?void 0:r.exportWalletAccountResult:(i=n.result)===null||i===void 0?void 0:i.exportWalletResult,a=t?(o=n.result)===null||o===void 0?void 0:o.exportPrivateKeyResult:s;return a==null?void 0:a.exportBundle},LS=e=>de(void 0,[e],void 0,function*({user:t,wallet:n,environmentId:r,address:i}){const{connector:o,turnkeyHDWalletId:s,privateKeyId:a,organizationId:l}=IVe({user:t,wallet:n}),c=o.getExportHandler();if(!c.publicKey)throw new Se("Must initialize export first",WO);let u;s?u=yield c.exportWallet({address:i,organizationId:l,walletId:s}):a&&(u=yield c.exportPrivateKey({organizationId:l,privateKeyId:a}));const h=u.id,m=u.status;let v;if(m==="ACTIVITY_STATUS_COMPLETED")v=EVe({activity:u,address:i,privateKeyId:a??void 0});else{const g=yield jMe({activityId:h,environmentId:r,walletId:(n==null?void 0:n.id)||""});v=g==null?void 0:g.exportBundle}if(!v)throw new Se("Invalid export response",WO);return i||a?c.verifyExportPrivateKey({chain:n==null?void 0:n.chain,exportBundle:v,organizationId:l}):c.verifyExportWallet({exportBundle:v,organizationId:l})}),Tde=e=>de(void 0,[e],void 0,function*({wallet:t}){var n;const r=t==null?void 0:t.connector;(n=r==null?void 0:r.getExportHandler())===null||n===void 0||n.clear()}),QM=e=>{if(!e||!Object.keys(e).length)return{};const t={};return Object.keys(e).filter(n=>{var r;return(r=e[n])===null||r===void 0?void 0:r.isEnabled}).forEach(n=>t[n]=e[n]),t},ej="dyn-passkey-recovery-id",tj="dyn-passkey-recovery-element-id",CVe=e=>{let t;if(typeof window<"u"){t=window.document.getElementById(e);const n=t==null?void 0:t.parentElement;if(!t||!n)return;n.removeChild(t)}},AVe=e=>de(void 0,[e],void 0,function*({authenticatorType:t,iframeContainer:n,iframeElementId:r,environmentId:i,user:o,wallet:s,sessionExpiration:a}){var l;if(!o)throw new Se(Kr);if(!(s!=null&&s.connector)||!(s!=null&&s.id)||!rc(s==null?void 0:s.connector))throw new Ld;const c=(l=s.connector)===null||l===void 0?void 0:l.getAuthenticatorHandler();if(t==="passkey"&&c.isSessionActive())return Ode({environmentId:i,user:o,wallet:s});const d=yield c.initRecovery(t,n,r,a);if(!d)throw new Se("Something went wrong");const u=yield pM({authenticatorType:t,environmentId:i,publicKey:d,walletId:s.id});c.recoveryUserId=t==="passkey"?u.turnkeyRecoveryUserId:u.turnkeyUserId}),RVe=e=>de(void 0,[e],void 0,function*({user:t,bundleInput:n,wallet:r}){var i,o,s,a,l;if(!n)throw new Se("Code must be informed");if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!rc(r==null?void 0:r.connector))throw new Ld;if(!t)throw new Se(Kr);const c=(a=(s=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.find(({walletName:h,id:m})=>(h==null?void 0:h.startsWith("turnkey"))&&m===r.id))===null||o===void 0?void 0:o.walletProperties)===null||s===void 0?void 0:s.turnkeySubOrganizationId)!==null&&a!==void 0?a:void 0,d=(l=r.connector)===null||l===void 0?void 0:l.getAuthenticatorHandler();yield d.verifyRecoveryCode(n,c??void 0);const u={createdAt:new Date().getTime(),emailCode:n,userId:d.recoveryUserId};ot.setItem(b0,u)}),TVe=e=>de(void 0,[e],void 0,function*({authenticatorType:t,user:n,environmentId:r,wallet:i}){var o;if(!n)throw new Se(Kr);if(!(i!=null&&i.connector)||!(i!=null&&i.id)||!rc(i==null?void 0:i.connector))throw new Ld;const s=(o=i.connector)===null||o===void 0?void 0:o.getAuthenticatorHandler().publicKey;if(!s)throw new Se("Could not proceed with your request. Please restart the process.");return pM({authenticatorType:t,environmentId:r,publicKey:s,walletId:i==null?void 0:i.id})}),OVe=e=>de(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){const{connector:i,user:o}=yield Nde({addPasskeyAuthenticator:!1,environmentId:n,user:t,wallet:r});return i.getAuthenticatorHandler().clear(),CVe(tj),o}),Ode=e=>de(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){const{user:i}=yield Nde({addPasskeyAuthenticator:!0,environmentId:n,user:t,wallet:r});return i}),Nde=e=>de(void 0,[e],void 0,function*({wallet:t,user:n,environmentId:r,addPasskeyAuthenticator:i}){var o,s,a;if(!n)throw new Se(Kr);if(!t||!t.connector||!t.id||!rc(t.connector))throw new Ld;const l=t.connector;l.setEmail(n.email);const c=(a=(s=(o=n.verifiedCredentials)===null||o===void 0?void 0:o.find(({walletName:y,id:b})=>(y==null?void 0:y.startsWith("turnkey"))&&b===t.id))===null||s===void 0?void 0:s.walletProperties)===null||a===void 0?void 0:a.turnkeySubOrganizationId;if(!c)throw new Se("The authentication token is invalid - turnkeySubOrganizationId is missing");const d=t.connector.getAuthenticatorHandler(),{attestation:u,challenge:h}=yield l.getWebAuthnAttestation();i?yield d.addPasskeyAuthenticator({attestation:u,challenge:h,turnkeySubOrganizationId:c}):yield d.completeRecovery({attestation:u,challenge:h,turnkeySubOrganizationId:c});const m=yield Ale({attestation:u,challenge:h,environmentId:r,walletId:t.id});if(!m)throw new Se("No user returned from passkey recovery");const v=l.connectedChain;if(!Uh(m,[v]))throw new Se("EmbeddedWalletVerifiedCredential not found");return l.setVerifiedCredentials(m.verifiedCredentials),{connector:l,user:m}}),Pde=e=>{if(!(e!=null&&e.amount))return!1;const t=ot.getItem(b0);if(!t)return!1;const n=e.amount*(e.unit==="minutes"?60:3600),r=(t==null?void 0:t.createdAt)+n*1e3,i=new Date(r);return new Date>=i?(ot.removeItem(b0),!1):!0},Bde=e=>de(void 0,[e],void 0,function*({user:t,iframeContainer:n,iframeElementId:r,wallet:i,sessionExpiration:o}){var s,a,l,c,d;if(!t)throw new Se(Kr);if(!(i!=null&&i.connector)||!(i!=null&&i.id)||!rc(i==null?void 0:i.connector))throw new Ld;const u=ot.getItem(b0),h=(s=i.connector)===null||s===void 0?void 0:s.getAuthenticatorHandler();if(!u||h.recoveryUserId)return!1;if(!(yield h.initRecovery("email",n,r,o)))throw new Se("Could not open embedded wallet connection communication");h.recoveryUserId=u.userId;const v=(d=(c=(l=(a=t.verifiedCredentials)===null||a===void 0?void 0:a.find(({walletName:g,id:y})=>(g==null?void 0:g.startsWith("turnkey"))&&y===i.id))===null||l===void 0?void 0:l.walletProperties)===null||c===void 0?void 0:c.turnkeySubOrganizationId)!==null&&d!==void 0?d:void 0;return yield h.verifyRecoveryCode(u.emailCode,v??void 0),!0}),NVe=e=>de(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){var i,o;if(!(t!=null&&t.email))throw new Se(Kr);if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!rc(r==null?void 0:r.connector)||!bm(r==null?void 0:r.connector))throw new Ld;const{turnkeySubOrganizationId:s,turnkeyUserId:a}=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.find(({walletName:d,id:u})=>(d==null?void 0:d.startsWith("turnkey"))&&u===r.id))===null||o===void 0?void 0:o.walletProperties;if(!s||!a)throw new Se("The authentication token is invalid - turnkeySubOrganizationId or turnkeyUserID is missing");const l=r.connector.getAuthenticatorHandler(),{signedRequest:c}=yield l.addEmailRecovery({email:t.email,organizationId:s,turnkeyUserId:a});return yield DMe({environmentId:n,updateRecoveryEmailRequest:{turnkeySignedRequest:c}}),r.connector.setEmail(t.email),D3({environmentId:n})}),nj=()=>{const{primaryWallet:e,environmentId:t,user:n,projectSettings:r,setShowAuthFlow:i}=$e(),{pushView:o}=At(),[s,a]=x.useState(!1),[l,c]=x.useState(),{getEOAWallet:d}=xs();return{error:l,initAuthMethod:h=>de(void 0,[h],void 0,function*({authenticatorType:m,iframeContainer:v,currentAction:g}){var y,b,k,_,R;a(!0);const I=(y=e&&d(e))!==null&&y!==void 0?y:e,T=((k=(b=r==null?void 0:r.sdk.embeddedWallets)===null||b===void 0?void 0:b.sessionKeyDuration)===null||k===void 0?void 0:k.amount)||0,M=((R=(_=r==null?void 0:r.sdk.embeddedWallets)===null||_===void 0?void 0:_.sessionKeyDuration)===null||R===void 0?void 0:R.unit)==="minutes"?60:3600,D=m==="email"||!(I==null?void 0:I.connector).getAuthenticatorHandler().isSessionActive();try{yield AVe({authenticatorType:m,environmentId:t,iframeContainer:v,iframeElementId:tj,sessionExpiration:T*M||void 0,user:n,wallet:I}),D?(o("passkey-recovery-bundle",{authenticatorType:m,currentAction:g}),i(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})):i(!1)}catch(A){c(A),Ie.error("Failed to create embedded wallet session",A),rt.emit("passkeyRecoveryFailed",A)}finally{a(!1)}}),isLoading:s}},Qh=()=>{var e,t,n;const{environmentId:r,primaryWallet:i,projectSettings:o,setShowAuthFlow:s,user:a}=$e(),{createRootElement:l}=rg(),c=l(ej),{isTurnkeyWalletWithoutAuthenticator:d,hasRecoveryEmail:u}=da(),{initAuthMethod:h}=nj(),{setDisplayedDestination:m,setVerificationUUID:v}=Kc(),{getEOAWallet:g}=xs(),{pushView:y}=At(),b=(e=i&&g(i))!==null&&e!==void 0?e:i,k=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var M,D;if(!(!((M=o==null?void 0:o.sdk.embeddedWallets)===null||M===void 0)&&M.sessionKeyDuration)||!Pde((D=o==null?void 0:o.sdk.embeddedWallets)===null||D===void 0?void 0:D.sessionKeyDuration))return!1;const A=vN(o.sdk.embeddedWallets.sessionKeyDuration);try{return yield Bde({iframeContainer:c.current,iframeElementId:tj,sessionExpiration:A,user:a,wallet:i})}catch(U){Ie.error("Failed to restore embedded wallet",U)}return!1}),[a,c,i,(n=(t=o==null?void 0:o.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration]),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!b||!rc(b.connector))return!1;const M=b.connector.getAuthenticatorHandler();return!(!d||M.isSessionActive()||(yield k()))}),[b,d,k]),R=x.useCallback((M,D)=>de(void 0,void 0,void 0,function*(){var A;(()=>{if(!a)throw new Error(Kr);if(!Lh(o))throw new Error("Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.");if(!XM(a))throw new Error("Dynamic embedded wallet not found");if(b&&!rc(b.connector))throw new Error("Dynamic embedded wallet not found.")})();const $=(b==null?void 0:b.connector).getAuthenticatorHandler();if(M==="passkey"&&$.isSessionActive())return yield Ode({environmentId:r,user:a,wallet:b}),s(!1),b;const q=QM((A=o==null?void 0:o.sdk.embeddedWallets)===null||A===void 0?void 0:A.supportedSecurityMethods),z=q?Object.keys(q):[];if(!u)y("passkey-recovery-add-email",{shouldInitRecovery:!0}),s(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1});else if(!M&&z.length>1)y("embedded-wallet-auth-choice",{currentAction:D}),s(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1});else{const[S]=z;M&&!z.includes(M)&&(M=S),yield h({authenticatorType:M||S,currentAction:D,iframeContainer:c.current})}return new Promise((S,E)=>{rt.once("passkeyRecoveryCompleted",N=>S(N)),rt.once("passkeyRecoveryFailed",N=>E(N))})}),[b,o,u,r,a,s,y,h,c]),I=M=>de(void 0,void 0,void 0,function*(){try{let D=a;a!=null&&a.email||(D=yield T(M)),yield NVe({environmentId:r,user:D,wallet:i}),rt.emit("embeddedWalletRecoveryEmailCompleted","")}catch(D){Ie.error("Failed to add recovery email",D),rt.emit("embeddedWalletRecoveryEmailFailed",D)}}),T=M=>de(void 0,void 0,void 0,function*(){try{const{nextView:D,emailVerification:A,userProfile:U}=yield zM(r,{email:M});return D===Vb.Done?U:(y("verify-email",{isEmailRecoveryFlow:!0}),m(M),v(A==null?void 0:A.verificationUUID),new Promise(($,q)=>{rt.once("emailVerificationResult",z=>{z&&$(U),q("Failed to verify email")})}))}catch(D){throw Ie.error("Failed to update user email",D),D}});return{addRecoveryEmail:I,initPasskeyRecoveryProcess:R,shouldInitRecovery:_}},Dde=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>!n.includes(r.id))},x4=e=>{const t=Lh(e);if(!t)throw new Se("No embedded wallet is enabled. Go to the dashboard and make sure to have both Embedded wallets and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the DynamicContextProvider > settings > walletConnectors.",IMe);return t},PVe=e=>de(void 0,[e],void 0,function*({user:t,walletConnector:n,environmentId:r,chains:i,sessionPublicKey:o,webAuthnAttestation:s,withAuthenticator:a}){if(!n)throw new Ld;if(!t)throw new Se("User is not defined");n.setEmail(t.email);let l;if(a||s!==void 0){t.email||Ade(n,t);const{attestation:h,challenge:m,displayName:v}=s||(yield n.getWebAuthnAttestation());l={attestation:h,challenge:m,passkeyAlias:v}}const c=yield BMe(Object.assign({chains:i,environmentId:r,sessionPublicKey:o},l));if(!c)throw new Se("Failed to create embedded wallet");const d=n.connectedChain,u=Uh(c,[d]);if(!u)throw new Se("EmbeddedWalletVerifiedCredential not found");return n.setVerifiedCredentials(c.verifiedCredentials),{embeddedWalletVerifiedCredential:u,updatedUser:c,walletConnector:n}}),Mde=(e,t)=>e.map(({walletConnector:r})=>r).find(r=>rc(r)&&bm(r)&&r.connectedChain===t),BVe=(e,t)=>t.find(n=>n.id===e.signerRefId),L3=(e,t)=>t.find(n=>n.signerRefId===e.id),DVe=(e,t)=>!!L3(e,t),rj=e=>de(void 0,[e],void 0,function*({account:t,verifiedCredentials:n,walletConnectorOptions:r,primaryWalletId:i}){var o,s;const a=y1(t,r);if(!a)throw new Error(`could not find smart wallet from wallet options. Account: ${JSON.stringify(t)}, Wallet options found: ${r.filter(u=>["turnkeyhd","dynamicwaas","zerodev","zksync"].includes(u.key)).map(u=>u.key).join(", ")}`);const l=a.walletConnector;if(!n3(l))throw new Error("could not initialize smart wallet");const c=BVe(t,n);if(!c)throw new Error("could not find associated eoa account for smart wallet");const d=y1(c,r);if(!c.address||!t.address||!d)throw new Error("could not find owner or smart wallet address");if(d&&Woe(d.walletConnector)){const u=(s=(o=d.walletConnector)===null||o===void 0?void 0:o.verifiedCredentials)===null||s===void 0?void 0:s.reduce((h,m)=>m.smartWalletRefAddress&&t.address&&t.chain&&$a(m.smartWalletRefAddress,t.address,ec[t.chain])?[m,...h]:[...h,m],[]);u&&d.walletConnector.setVerifiedCredentials(u)}yield l.initialize({eoaAddress:c.address,eoaConnector:d==null?void 0:d.walletConnector,properties:t.walletProperties,shouldSetEoaConnector:i===c.id||i===t.id,smartWalletAddress:t.address,verifiedCredentials:n})}),MVe=e=>e==="SOL"?cm.Sol:e==="BTC"?cm.Btc:cm.Evm,jde=()=>{var e,t;const{user:n,setShowAuthFlow:r,projectSettings:i,environmentId:o}=$e(),[s,a]=x.useState(!1),[l,c]=x.useState(),{getSessionPublicKey:d,shouldRegisterSessionKeysOnSignin:u}=Gm({environmentId:o,projectSettings:i}),h=((t=(e=i==null?void 0:i.sdk)===null||e===void 0?void 0:e.embeddedWallets)===null||t===void 0?void 0:t.chainConfigurations)||[],m=_0(i),v=h.filter(y=>y.enabled).map(y=>MVe(y.name));return{createDynamicEmbeddedWalletMutation:x.useCallback(y=>de(void 0,[y],void 0,function*({environmentId:b,walletConnectorOptions:k,withAuthenticator:_,options:R,chains:I}){var T,M;if(a(!0),!n)throw new Se(Kr);let D;u()&&(D=d());try{const{embeddedWalletVerifiedCredential:A,updatedUser:U,walletConnector:$}=yield PVe({chains:I??v,environmentId:b,sessionPublicKey:D,user:n,walletConnector:Mde(k,m),webAuthnAttestation:R==null?void 0:R.webAuthnAttestation,withAuthenticator:_}),q=(T=U.verifiedCredentials)===null||T===void 0?void 0:T.find(({walletName:N})=>N==null?void 0:N.startsWith("turnkey")),z=!!(!((M=q==null?void 0:q.walletProperties)===null||M===void 0)&&M.isAuthenticatorAttached),S=$.createWallet({address:(yield $.getAddress())||"",chain:$.connectedChain,connector:$,id:A.id,isAuthenticated:z,key:A.walletName||$.key}),E=L3(A,U.verifiedCredentials);E?(yield rj({account:E,primaryWalletId:E.id,verifiedCredentials:U.verifiedCredentials,walletConnectorOptions:k}),To(E.id)):To(A.id),rt.emit("embeddedWalletCreated",S,q,U),r(!1,{performMultiWalletChecks:!1})}catch(A){Ie.error("Failed to create embedded wallet",A),c(A),rt.emit("embeddedWalletFailed",A)}finally{a(!1)}}),[v,m,r,n,d,u]),error:l,isLoading:s}},jVe=()=>{const{projectSettings:e,walletConnectorOptions:t,setShowAuthFlow:n,environmentId:r,user:i,primaryWallet:o}=$e(),{pushView:s}=At(),{createDynamicEmbeddedWalletMutation:a}=jde(),{getEOAWallet:l}=xs(),c=x.useCallback((m,v)=>de(void 0,void 0,void 0,function*(){return new Promise((g,y)=>{rt.once("embeddedWalletCreated",b=>{g(b)}),rt.once("embeddedWalletFailed",b=>y(b)),a({chains:m,environmentId:r,options:v,walletConnectorOptions:t,withAuthenticator:!1}).then(()=>{n(!1,{performMultiWalletChecks:!1})}).catch(b=>{y(b)})})}),[a,r,t,n]),d=x.useCallback(m=>de(void 0,void 0,void 0,function*(){return n(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),s("passkey-intro",{chains:m}),new Promise((v,g)=>{rt.once("embeddedWalletCreated",y=>v(y)),rt.once("embeddedWalletFailed",y=>{if(y instanceof DOMException&&y.name==="NotAllowedError"){Ie.error("User cancelled the passkey creation.",y);return}g(y)})})}),[n,s]),u=x.useCallback(m=>de(void 0,void 0,void 0,function*(){var v,g;const{chain:y}=m,b=Ede(t,y);let k=null;if(i){(v=b==null?void 0:b.walletConnector)===null||v===void 0||v.setVerifiedCredentials(i.verifiedCredentials);const T=L3(m,i.verifiedCredentials);T?(yield rj({account:T,primaryWalletId:T.id,verifiedCredentials:i.verifiedCredentials,walletConnectorOptions:t}),k=T.id):k=m.id}k&&To(k);const _=!!(!((g=m.walletProperties)===null||g===void 0)&&g.isAuthenticatorAttached);if(!(b!=null&&b.walletConnector))throw new Error("Could not find the embedded wallet connector");const R=b.walletConnector,I=R.createWallet({address:(yield R.getAddress())||"",chain:R.connectedChain,connector:R,id:m.id,isAuthenticated:_,key:m.walletName||R.key||""});return Promise.resolve(I)}),[t,i]);return{createTurnkeyWallet:x.useCallback((m,v)=>de(void 0,void 0,void 0,function*(){var g,y,b,k,_,R;if(!i)throw new Error(Kr);const I=((g=e==null?void 0:e.sdk.embeddedWallets)===null||g===void 0?void 0:g.automaticEmbeddedWalletCreation)===!1,T=((y=e==null?void 0:e.sdk.embeddedWallets)===null||y===void 0?void 0:y.defaultWalletVersion)===Lc.V2,M=_0(e),D=Uh(i,m??[M]),A=Cde(i);if(!(A!=null&&A.length)||!D&&I){const U=M3(i,Zo.Email);return!(!((b=e==null?void 0:e.sdk.embeddedWallets)===null||b===void 0)&&b.forceAuthenticatorAtSignup)&&U||v!=null&&v.webAuthnAttestation||T?c(m,v):d(m)}else if(D&&i.newUser&&(!((k=e==null?void 0:e.sdk.embeddedWallets)===null||k===void 0)&&k.automaticEmbeddedWalletCreation)){const U=Mde(t,M);if(!U)throw new Error("Could not find the embedded wallet connector");const $=U.createWallet({address:(yield U.getAddress())||"",chain:U.connectedChain,connector:U,id:D.id,isAuthenticated:!!(!((_=D==null?void 0:D.walletProperties)===null||_===void 0)&&_.isAuthenticatorAttached),key:(R=D.walletName)!==null&&R!==void 0?R:U.key});To(D.id),rt.emit("embeddedWalletCreated",$,D,i)}if(n(!1,{performMultiWalletChecks:!1}),!D)throw new Error("Primary wallet is not an embedded wallet");return u(D)}),[i,e,o,l,n,u,c,d,t])}},WG=e=>{var t;return!e||!Pa(e)?!1:!!(!((t=e.sessionKeys)===null||t===void 0)&&t.publicKey)},$Ve=()=>{var e,t,n,r,i;const{projectSettings:o,primaryWallet:s,user:a,environmentId:l,walletConnectorOptions:c}=$e(),{addedWalletsIds:d}=_s(),{createTurnkeyWallet:u}=jVe(),{hasRecoveryEmail:h}=da(),{createRootElement:m}=rg(),{isLoadingEmbeddedWallet:v,setIsLoadingEmbeddedWallet:g}=S3(),{getEOAWallet:y}=xs(),b=(e=s&&y(s))!==null&&e!==void 0?e:s,k=x.useCallback(()=>XM(a,"turnkey"),[a]),_=x.useCallback(()=>Pa(b==null?void 0:b.connector)?o1.V2:o1.V1,[b==null?void 0:b.connector]),{shouldInitRecovery:R,initPasskeyRecoveryProcess:I}=Qh(),T=x.useCallback((P,j)=>de(void 0,void 0,void 0,function*(){var V;if(!a)throw new Se(Kr);const K=Cde(a),F=_0(o),O=Uh(a,P??[F]),W=((V=o==null?void 0:o.sdk.embeddedWallets)===null||V===void 0?void 0:V.automaticEmbeddedWalletCreation)===!1;if(K!=null&&K.length&&!O&&!W)throw new Zie("User already has a linked branded wallet, and manual mode creation is not enabled.");return x4(o),g(!1),u(P,j)}),[u,o,g,a]),M=x.useCallback(P=>de(void 0,[P],void 0,function*({chain:j}){var V,K,F;if(!a)throw new Error(Kr);x4(o);const O=_0(o),W=Uh(a,[O]);if(!((V=W==null?void 0:W.walletProperties)===null||V===void 0?void 0:V.turnkeyHDWalletId))throw new Se("No HD wallet was found for this user to derive a wallet account. Use createEmbeddedWallet first","NoHdWalletFound");const Y=yield LMe({chain:j,environmentId:l});Pa(b==null?void 0:b.connector)?yield(K=b==null?void 0:b.connector)===null||K===void 0?void 0:K.createOrRestoreSession({ignoreRestore:!0}):(yield R())&&(yield I("email"));const ie=yield(F=b==null?void 0:b.connector)===null||F===void 0?void 0:F.stampCreateWalletAccountRequest({request:Y}),ye=yield UMe({createEmbeddedWalletAccountRequest:ie,environmentId:l}),me=Dde(a.verifiedCredentials,ye.user.verifiedCredentials).filter(({format:be})=>be===Zo.Blockchain).map(({id:be})=>be);return d.current=d.current.concat(me),D3({environmentId:l})}),[l,b==null?void 0:b.connector,I,o,R,a,d]),D=x.useCallback(P=>de(void 0,void 0,void 0,function*(){var j,V,K,F,O,W,G;if(!a)throw new Se(Kr);const Y=s==null?void 0:s.connector;if(Y&&Pa(Y))return Y.createOrRestoreSession();const ie=b==null?void 0:b.connector;if(ie&&Pa(ie))return ie.createOrRestoreSession();const ye=Sk(b==null?void 0:b.connector);if(ye.isSessionActive())return zK;const me=m(HK);if(Pde((j=o==null?void 0:o.sdk.embeddedWallets)===null||j===void 0?void 0:j.sessionKeyDuration))try{if(yield Bde({iframeContainer:me.current,iframeElementId:GK,sessionExpiration:vN((K=(V=o==null?void 0:o.sdk)===null||V===void 0?void 0:V.embeddedWallets)===null||K===void 0?void 0:K.sessionKeyDuration),user:a,wallet:s}))return AMe}catch(De){Ie.error("Failed to restore embedded wallet",De)}if(!(P!=null&&P.oneTimeCode))throw new Se("One-time code is required to create a session.",SMe);if(!k()||!h)throw new Se("User does not have a secure enclave wallet or a verified email",Py);if(!s)throw new Se("No primary wallet found");const be=k3(s.id,(a==null?void 0:a.verifiedCredentials)||[]),Me=(G=(W=(O=(F=a==null?void 0:a.verifiedCredentials)===null||F===void 0?void 0:F.find(({walletName:De,id:gt})=>(De==null?void 0:De.startsWith("turnkey"))&&gt===be))===null||O===void 0?void 0:O.walletProperties)===null||W===void 0?void 0:W.turnkeySubOrganizationId)!==null&&G!==void 0?G:void 0;yield ye.verifyRecoveryCode(P.oneTimeCode,Me??void 0);const Fe={createdAt:new Date().getTime(),emailCode:P.oneTimeCode,userId:ye.recoveryUserId};return ot.setItem(b0,Fe),CMe}),[m,a,h,s,(n=(t=o==null?void 0:o.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration,k,b==null?void 0:b.connector]),A=x.useCallback(P=>de(void 0,void 0,void 0,function*(){var j,V;if(!a)throw new Se(Kr);x4(o);const K=_4(c,(j=o==null?void 0:o.sdk.embeddedWallets)===null||j===void 0?void 0:j.chainConfigurations,a.verifiedCredentials);if(!(K!=null&&K.walletConnector))throw new Se("Wallet connector not found",Py);const F=K.walletConnector;F.setEmail(a==null?void 0:a.email),a&&!(a!=null&&a.email)&&Ade(F,a);const O=M3(a,Zo.Email);if(!("id"in K)||!O)return F.getWebAuthnAttestation();const W=(V=K==null?void 0:K.walletProperties)===null||V===void 0?void 0:V.turnkeySubOrganizationId;if(!W)throw new Se("No sub organization id found for the wallet",Py);const G=Sk(F);yield D(P);const{attestation:Y,challenge:ie,displayName:ye}=yield F.getWebAuthnAttestation();if(yield G.addPasskeyAuthenticator({attestation:Y,challenge:ie,turnkeySubOrganizationId:W}),!(yield Ale({attestation:Y,challenge:ie,environmentId:l,walletId:K==null?void 0:K.id})))throw new Se("Error completing passkey recovery");return{attestation:Y,challenge:ie,displayName:ye}}),[D,l,o,a,c]),U=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!a)throw new Se(Kr);return(yield Rle({environmentId:l})).passkeys}),[a,l]),$=x.useMemo(()=>{var P;const j=b==null?void 0:b.connector;return!j||!("getAuthenticatorHandler"in j)?!1:(P=Sk(j))===null||P===void 0?void 0:P.isSessionActive()},[b==null?void 0:b.connector]),q=x.useMemo(()=>WG(b==null?void 0:b.connector),[b==null?void 0:b.connector]),z=x.useMemo(()=>WG(s==null?void 0:s.connector),[s==null?void 0:s.connector]),S=$||z||q,E=x.useCallback(P=>de(void 0,[P],void 0,function*({type:j,htmlContainerId:V}){var K,F,O,W,G,Y;if(!a)throw new Se(Kr);yield Tde({wallet:b});const ie=_4(c,(K=o==null?void 0:o.sdk.embeddedWallets)===null||K===void 0?void 0:K.chainConfigurations,a==null?void 0:a.verifiedCredentials),ye=(F=ie==null?void 0:ie.walletProperties)===null||F===void 0?void 0:F.turnkeyHDWalletId;j==="recoveryPhrase"&&!ye&&(j="privateKey");const me=m(JK,V||VMe);me.current.style.display="none",Pa(b==null?void 0:b.connector)&&(yield(O=b==null?void 0:b.connector)===null||O===void 0?void 0:O.createOrRestoreSession()),yield Rde({iframeContainer:me.current,iframeElementId:JK,wallet:b});try{yield LS({address:j==="privateKey"?b==null?void 0:b.address:void 0,environmentId:l,user:a,wallet:b})}catch(be){Pa(b==null?void 0:b.connector)&&(!((W=b==null?void 0:b.connector)===null||W===void 0)&&W.removeSessionKeys)&&(yield(G=b==null?void 0:b.connector)===null||G===void 0?void 0:G.removeSessionKeys(),yield(Y=b==null?void 0:b.connector)===null||Y===void 0?void 0:Y.createOrRestoreSession({ignoreRestore:!0}),Ie.error("[TK - removeSessionKeys] failed to perform revealEmbeddedWalletKey activity",{address:b==null?void 0:b.address,err:be,userId:a==null?void 0:a.userId})),yield LS({address:j==="privateKey"?b==null?void 0:b.address:void 0,environmentId:l,user:a,wallet:b})}return me.current.style.display="block",!0}),[m,l,b,(i=(r=o==null?void 0:o.sdk)===null||r===void 0?void 0:r.embeddedWallets)===null||i===void 0?void 0:i.chainConfigurations,a,c]),N=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var P,j;if(!a)throw new Se(Kr);const V=_4(c,(P=o==null?void 0:o.sdk.embeddedWallets)===null||P===void 0?void 0:P.chainConfigurations,a.verifiedCredentials);if(!V||!("id"in V))throw new Se("User does not have a valid secure enclave wallet",Py);const K=Sk(V==null?void 0:V.walletConnector),F=V.id;if(K.isSessionActive())throw new Se("Session is active. No need to create a new one",zK);const W=m(HK),G=yield K.initRecovery("email",W.current,GK,vN((j=o==null?void 0:o.sdk.embeddedWallets)===null||j===void 0?void 0:j.sessionKeyDuration));if(!G)throw new Se(kMe);const Y=yield pM({authenticatorType:"email",environmentId:l,publicKey:G,walletId:F});return K.recoveryUserId=Y.turnkeyUserId,EMe}),[m,a,l,o,c]);return x.useMemo(()=>({createEmbeddedWallet:T,createEmbeddedWalletAccount:M,createOrRestoreSession:D,createPasskey:A,getPasskeys:U,getWalletVersion:_,isLoadingEmbeddedWallet:v,isSessionActive:S,revealEmbeddedWalletKey:E,sendOneTimeCode:N,userHasEmbeddedWallet:k}),[T,M,D,A,U,_,v,S,E,N,k])},U3=()=>{const{user:e,projectSettings:t}=$e(),{isTurnkeyWallet:n}=da(),{createEmbeddedWallet:r,createEmbeddedWalletAccount:i,createOrRestoreSession:o,createPasskey:s,revealEmbeddedWalletKey:a,getPasskeys:l,isSessionActive:c,sendOneTimeCode:d,getWalletVersion:u}=$Ve(),{isLoadingEmbeddedWallet:h}=S3(),m=x.useCallback(()=>XM(e),[e]),v=x.useCallback(()=>{if(!e)throw new Se(Kr);if(!m())throw new Se("Embedded wallet not found");if(n)return u()},[u,n,e,m]),g=x.useCallback((I,T)=>de(void 0,void 0,void 0,function*(){return yield r(I,T)}),[r]),y=I=>de(void 0,void 0,void 0,function*(){if(!e)throw new Se(Kr);if(!m())throw new Se("Embedded wallet not found");return a(I)}),b=x.useCallback(()=>{var I;return!!(!((I=t==null?void 0:t.sdk.embeddedWallets)===null||I===void 0)&&I.promptForKeyExport)},[t]),k=x.useCallback(()=>{var I;return(I=t==null?void 0:t.sdk.embeddedWallets)===null||I===void 0?void 0:I.defaultWalletVersion},[t]),_=x.useCallback(I=>Ide(I,t,!0),[t]),R=x.useCallback(()=>{var I,T;const M=Lh(t),{user:D}=Js(),A=Wd();if(k()===Lc.V3){const U=_(D);return U&&!A&&To(U.id),!1}if(!M||A)return!1;if(D){const U=_(D);if(U)return To(U.id),!1}return!(Lh(t)&&!(!((T=(I=t==null?void 0:t.sdk)===null||I===void 0?void 0:I.embeddedWallets)===null||T===void 0)&&T.automaticEmbeddedWalletCreation))},[t,k,_]);return{createEmbeddedWallet:g,createEmbeddedWalletAccount:i,createOrRestoreSession:o,createPasskey:s,embeddedWalletSettingVersion:k,getPasskeys:l,getWalletVersion:v,isLoadingEmbeddedWallet:h,isSessionActive:c,revealWalletKey:y,sendOneTimeCode:d,shouldAutoCreateEmbeddedWallet:R,shouldPromptForKeyExport:b,userHasEmbeddedWallet:m}},ij=x.createContext(void 0),LVe=({children:e})=>{var t,n,r,i,o,s,a,l;const{userHasEmbeddedWallet:c,getWalletVersion:d}=U3(),{isSessionKeyCompatible:u,isTurnkeyWalletWithoutAuthenticator:h}=da(),{environmentId:m,projectSettings:v,user:g}=$e(),[y,b]=x.useState(!1),[k,_]=x.useState(void 0),[R,I]=x.useState(void 0),[T,M]=iv(wae,!0),D=x.useMemo(()=>{var S,E,N,P;const j=!!(!((P=(N=(E=(S=v==null?void 0:v.sdk)===null||S===void 0?void 0:S.embeddedWallets)===null||E===void 0?void 0:E.supportedSecurityMethods)===null||N===void 0?void 0:N.passkey)===null||P===void 0)&&P.isEnabled);return T!==!1&&h&&j},[h,T,(i=(r=(n=(t=v==null?void 0:v.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.supportedSecurityMethods)===null||r===void 0?void 0:r.passkey)===null||i===void 0?void 0:i.isEnabled]),A=x.useCallback(()=>{var S,E,N,P;const j=!!(!((P=(N=(E=(S=v==null?void 0:v.sdk)===null||S===void 0?void 0:S.embeddedWallets)===null||E===void 0?void 0:E.supportedSecurityMethods)===null||N===void 0?void 0:N.passkey)===null||P===void 0)&&P.isEnabled);return!u&&(!D&&h&&j)},[(l=(a=(s=(o=v==null?void 0:v.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0?void 0:s.supportedSecurityMethods)===null||a===void 0?void 0:a.passkey)===null||l===void 0?void 0:l.isEnabled,D,u,h]),U=vr(()=>de(void 0,void 0,void 0,function*(){if(d()===o1.V1)return(yield Rle({environmentId:m})).passkeys}),{deps:[m,g,c(),y,d],enabled:!!(m&&g&&c())}),$=x.useMemo(()=>{if(typeof window>"u")return!1;const S=Ln.getHostname();return U.data?U.data.some(E=>{if(!E.origin)return!1;try{const N=new URL(E.origin).hostname;return N===Jy()||N===S}catch(N){return Ie.error(N),!1}}):!1},[U.data]),q=!h&&!$,z=x.useMemo(()=>{var S;return{passkey:k,passkeyEdited:y,passkeyIcon:R,setPasskey:_,setPasskeyEdited:b,setPasskeyIcon:I,setShowSecureAccountBanner:M,showAlert:A,showSecureAccountBanner:D,userHasPasskeysForCurrentOrigin:$,userNeedsCrossDomainPasskey:q,userPasskeys:(S=U.data)!==null&&S!==void 0?S:[],userPasskeysLoading:U.isLoading}},[k,y,R,$,U.data,U.isLoading,q,A,M,D]);return f.jsx(ij.Provider,{value:z,children:e})},UVe=({children:e})=>f.jsx(LVe,{children:e}),cv=()=>{const e=x.useContext(ij);if(e===void 0)throw new Error("usage of PasskeyContext not wrapped in `PasskeyContextProvider`.");return e},oj=(e,t)=>{const n=()=>de(void 0,void 0,void 0,function*(){var o,s,a,l,c;if(!e)return null;const d=yield e.getNetwork(!0),u=Uc((o=e.connectedChain)!==null&&o!==void 0?o:"");if(!d)return{name:u==null?void 0:u.displayName,symbol:u==null?void 0:u.symbol};const h=e.getEnabledNetworks(),m=h==null?void 0:h.find(v=>v.chainId===d);return{name:(a=(s=m==null?void 0:m.nativeCurrency)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:u==null?void 0:u.displayName,symbol:(c=(l=m==null?void 0:m.nativeCurrency)===null||l===void 0?void 0:l.symbol)!==null&&c!==void 0?c:u==null?void 0:u.symbol}}),{data:r,isLoading:i}=vr(n,{deps:[t,e==null?void 0:e.key],enabled:!!e,initialData:null});return{currency:r,isLoading:i}},ep=e=>{x.useEffect(e,[])},qG=e=>Pa(e)||n3(e)&&Pa(e.getEOAConnector()),$de=(e,t,n)=>{if(!(e!=null&&e.price)||!t.fee.gas)return;let r=e.price;return n&&(r=n),(Number(t.format(t.fee.gas))*r).toFixed(2)},Lde=(e,t,n,r)=>{const i=$de(e,t,n);return!i||!(e!=null&&e.price)?void 0:(Number(i)+Number(r)*e.price).toFixed(2)},Ude=(e,t)=>{const[n,r]=x.useState(),i=x.useCallback(o=>{if(!Array.isArray(o))return;const[s]=o;r(s.contentRect)},[t,r]);return w_(()=>{if(!e.current)return;let o=new ResizeObserver(i);return o.observe(e.current),()=>{o==null||o.disconnect(),o=null}},[e]),[n]},ig=e=>{var{style:t,children:n,className:r}=e,i=bs(e,["style","children","className"]);const o=x.useRef(null),s=x.useRef(null),[a]=Ude(s),l=x.useMemo(()=>a==null?void 0:a.height,[a]),{mount:c,stage:d,currentDuration:u}=b_(Object.assign({animateOnMount:!1},i)),h=x.useMemo(()=>!c||d==="EXITING"||d==="UNMOUNT"?0:l,[d,l,c]);return f.jsx("div",{ref:o,className:Ke(r,"vertical-drawer-animation"),style:Object.assign(Object.assign({},t),{maxHeight:h,transitionDuration:`${u}ms`}),children:f.jsx("div",{ref:s,children:c&&n})})},Zs=e=>{var{className:t=""}=e,n=bs(e,["className"]);return f.jsx("button",Object.assign({className:Ke("text-button",t)},n))},FVe=e=>{switch(e.toLowerCase()){case"slack":return f.jsx(Nt,{size:"xsmall",children:f.jsx(BD,{})});case"discord":return f.jsx(Nt,{size:"xsmall",children:f.jsx(PD,{})});case"twitter":return f.jsx(Nt,{size:"xsmall",children:f.jsx(DD,{})});default:return null}},Fde=({supportEmail:e,supportUrls:t})=>{const{t:n}=Xe();return!e&&!t?null:f.jsxs("div",{className:"support-links",children:[e&&f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_need_help_section.contact_support",children:f.jsx(se,{variant:"body_small",color:"link",as:"span",children:f.jsx("a",{href:`mailto:${e}`,children:n("dyn_need_help_section.contact_support")})})}),t&&f.jsx("div",{className:"support-links__icons-container",children:Object.entries(t).map(([r,i])=>{const o=FVe(r),s=r.charAt(0).toUpperCase()+r.slice(1);return o?f.jsxs("a",{href:i,rel:"noreferrer",target:"_blank",className:"support-links__icon-link",children:[o,f.jsx(se,{variant:"body_small",color:"secondary",as:"span",children:s})]},r):null})})]})},tp=({isRecoveryFlow:e=!1,isExport:t=!1,walletCredential:n})=>{var r,i,o,s,a,l;const{projectSettings:c}=$e(),{t:d}=Xe(),{pushView:u}=At(),{initPasskeyRecoveryProcess:h}=Qh(),m=(r=c==null?void 0:c.general)===null||r===void 0?void 0:r.supportEmail,v=(i=c==null?void 0:c.general)===null||i===void 0?void 0:i.supportUrls,g=!e&&((o=c==null?void 0:c.providers)===null||o===void 0?void 0:o.find(_=>_.provider===pn.Turnkey&&_.enabledAt))&&!!(!((a=(s=c==null?void 0:c.sdk)===null||s===void 0?void 0:s.embeddedWallets)===null||a===void 0)&&a.emailRecoveryEnabled),y=((l=n==null?void 0:n.walletProperties)===null||l===void 0?void 0:l.version)===Lc.V1&&g,b=!!(m||Object.keys(v||{}).length>0),k=()=>y?f.jsx(Zs,{copykey:"dyn_need_help_section.help_button",className:Ke("need-help-section__helper-link"),onClick:()=>h(void 0,{settings:t?{goBack:()=>{u("embedded-reveal-view")}}:void 0,type:"helpSession"}),children:d("dyn_need_help_section.help_button")}):b?f.jsx(Fde,{supportEmail:m,supportUrls:v}):null;return k()?f.jsxs("div",{className:"need-help-section",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:"dyn_need_help_section.info",children:d(y?"dyn_need_help_section.info.v1":"dyn_need_help_section.info.not_v1")}),k()]}):null};var zG,VG,WVe=["title","titleId"];function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wN.apply(null,arguments)}function qVe(e,t){if(e==null)return{};var n,r,i=zVe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var VVe=function(t){var n=t.title,r=t.titleId,i=qVe(t,WVe);return x.createElement("svg",wN({fill:"none",viewBox:"0 0 114 21",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,zG||(zG=x.createElement("g",{clipPath:"url(#dynamic-logo_svg__a)",fill:"currentColor"},x.createElement("path",{d:"M10.053 2.002c-.43.4-.85.793-1.273 1.184-1.959 1.818-3.918 3.638-5.879 5.453-.45.417-.915.817-1.48 1.061C.75 9.99.365 9.81.15 9.085-.153 8.072.009 7.128.59 6.258 1.087 5.517 1.71 4.9 2.354 4.3A178.857 178.857 0 0 1 5.45 1.47c.457-.408.957-.78 1.567-.905 1.828-.368 2.994 1.384 3.038 1.436l-.002.001zM1.259 11.254c1.112-.32 1.946-1.026 2.758-1.768 2.59-2.363 5.176-4.728 7.777-7.078A16.823 16.823 0 0 1 13.609.96C14.42.408 15.303.33 16.173.855c.314.189.623.409.878.672a106.565 106.565 0 0 1 5.28 5.866c.298.358.542.774.744 1.196.375.785.279 1.561-.178 2.293-.409.655-.956 1.192-1.52 1.702a699.92 699.92 0 0 1-6.653 5.96c-.6.53-1.26 1.004-1.94 1.422-1.282.791-2.568.693-3.737-.244A16.245 16.245 0 0 1 7.14 17.92c-1.883-2.087-3.73-4.203-5.592-6.31-.094-.106-.18-.22-.29-.358v.002zM39.574.915h2.808V16.14h-2.808v-1.284c-.827 1.06-2.003 1.587-3.526 1.587-1.522 0-2.717-.555-3.755-1.664s-1.556-2.469-1.556-4.078c0-1.609.518-2.968 1.556-4.077s2.288-1.665 3.755-1.665 2.7.53 3.526 1.587V.913v.002zm-5.17 11.996c.573.572 1.294.859 2.166.859s1.589-.287 2.155-.86c.566-.572.849-1.309.849-2.207 0-.898-.283-1.635-.85-2.207-.565-.572-1.283-.859-2.154-.859s-1.593.287-2.166.86c-.574.571-.86 1.308-.86 2.206 0 .898.286 1.635.86 2.208zM51.766 5.264h3.004l-3.968 10.894c-.566 1.554-1.315 2.682-2.251 3.385-.934.704-2.098 1.02-3.489.947v-2.61c.755.015 1.352-.144 1.796-.477.442-.334.796-.87 1.057-1.61L43.453 5.268h3.069l2.837 7.308 2.409-7.308-.002-.002zM61.908 4.959c1.19 0 2.174.398 2.949 1.196.777.798 1.163 1.9 1.163 3.305v6.678h-2.808v-6.33c0-.723-.196-1.279-.588-1.664-.392-.383-.914-.576-1.567-.576-.725 0-1.306.224-1.74.674s-.654 1.124-.654 2.022v5.872h-2.808V5.261h2.808v1.218c.683-1.014 1.763-1.522 3.243-1.522l.002.002zM76.243 5.264h2.808V16.14h-2.808v-1.283c-.842 1.06-2.024 1.587-3.548 1.587s-2.695-.555-3.733-1.665-1.556-2.468-1.556-4.077c0-1.61.518-2.968 1.556-4.078C70 5.514 71.242 4.96 72.695 4.96c1.524 0 2.706.53 3.548 1.587V5.262v.002zm-5.182 7.646c.566.572 1.284.86 2.156.86s1.592-.288 2.166-.86c.573-.572.86-1.309.86-2.207 0-.898-.287-1.635-.86-2.207-.574-.572-1.295-.86-2.166-.86s-1.59.288-2.156.86c-.566.572-.849 1.309-.849 2.207 0 .898.283 1.635.85 2.207zM92.864 4.959c1.249 0 2.246.406 2.993 1.218.748.813 1.121 1.9 1.121 3.263v6.7H94.17V9.637c0-.652-.16-1.16-.48-1.523s-.769-.544-1.35-.544c-.638 0-1.135.211-1.49.631-.356.42-.533 1.03-.533 1.828v6.113h-2.808V9.638c0-.651-.16-1.159-.48-1.522-.32-.363-.77-.544-1.35-.544-.623 0-1.121.21-1.491.631-.37.42-.555 1.03-.555 1.828v6.113h-2.808V5.269h2.808v1.153c.653-.972 1.661-1.457 3.027-1.457 1.365 0 2.321.522 2.96 1.566.724-1.044 1.807-1.566 3.242-1.566l.002-.006zM100.15 3.959c-.464 0-.868-.17-1.208-.511a1.653 1.653 0 0 1-.512-1.207c0-.465.17-.87.512-1.219.34-.348.744-.522 1.208-.522.464 0 .888.174 1.23.522.341.348.511.754.511 1.219 0 .464-.17.866-.511 1.207-.34.34-.751.511-1.23.511zM98.757 16.14V5.265h2.808V16.14h-2.808zM108.69 16.443c-1.641 0-3.008-.55-4.103-1.654-1.095-1.101-1.643-2.464-1.643-4.088s.548-2.987 1.643-4.089 2.464-1.653 4.103-1.653c1.06 0 2.024.253 2.895.76.871.508 1.532 1.19 1.981 2.045l-2.416 1.413a2.464 2.464 0 0 0-.989-1.067 2.878 2.878 0 0 0-1.491-.39c-.842 0-1.539.28-2.091.837-.551.559-.827 1.272-.827 2.142 0 .87.276 1.563.827 2.12.552.56 1.249.837 2.091.837.566 0 1.069-.126 1.513-.381.442-.254.773-.606.99-1.056l2.438 1.393a5.463 5.463 0 0 1-2.024 2.055c-.871.515-1.835.772-2.895.772l-.002.004z"}))),VG||(VG=x.createElement("defs",null,x.createElement("clipPath",{id:"dynamic-logo_svg__a"},x.createElement("path",{transform:"translate(0 .5)",fill:"#fff",d:"M0 0h113.61v20H0z"})))))};const Wde=({children:e})=>f.jsx("div",{className:"dynamic-widget-footer","data-testid":"dynamic-widget-footer",children:e}),KVe="https://dynamic.xyz",HVe={center:"powered-by-dynamic--center",right:"powered-by-dynamic--right"},Gc=({align:e="center",classNameLogo:t,classNameRoot:n,classNameText:r,asFooter:i})=>{var o;const s=vo();if(((o=s==null?void 0:s.sdk)===null||o===void 0?void 0:o.displayDynamicMessaging)===!1)return null;const a=f.jsxs("a",{target:"_blank",href:KVe,className:Ke("powered-by-dynamic",HVe[e],n),rel:"noreferrer",children:[f.jsx(se,{as:"span",color:"tertiary",weight:"regular",variant:"body_mini",className:Ke("powered-by-dynamic__text",r),children:"Powered by"}),f.jsx(VVe,{className:Ke("powered-by-dynamic__logo",t)})]});return i?f.jsx(Wde,{children:a}):a},GVe=(e,t)=>{if(!e)return;const n=Math.pow(10,t),r=Math.round(e*n)/n,i="0".repeat(t-1);return r===0?`<0.${i}1`:r},JVe=(e,t)=>(e==null?void 0:e.symbol)||t,qde=(e,t)=>{let n;return e?n=t.value?t.format(t.value):"0":n=t!=null&&t.nonNativeValue&&(t!=null&&t.formatNonNativeToken)?t.formatNonNativeToken(t.nonNativeValue,t.nonNativeDecimal||18):"0",GVe(Number(n),6)},ZVe=(e,t,n)=>{if(e===void 0||isNaN(e)||!n||!t)return 0;const r=Math.pow(10,n);try{const i=BigInt(Math.round(e*r)),o=BigInt(Math.round(t*r)),s=i*o/BigInt(r);return Number(s)/r}catch{return}},zde=(e,t)=>{if(!(t!=null&&t.price))return"--";const n=ZVe(e,t.price,t.decimals);return n===void 0?"--":n===0||n>=.01?n.toFixed(2):"<0.01"},YVe=(e,t,n,r,i,o)=>{const s=()=>de(void 0,void 0,void 0,function*(){(yield r())&&e&&!t(e)&&(yield i("email",{type:"sendTransaction"})),n==null||n("callHandlerOutsideModal")});ep(()=>{o&&s()})},XVe=(e,t,n)=>r=>de(void 0,void 0,void 0,function*(){const{walletConnector:i,usingSessionKey:o,onClickSend:s,isTurnkeyWallet:a,userNeedsCrossDomainPasskey:l}=e,{shouldInitRecovery:c,initPasskeyRecoveryProcess:d}=t,{pushView:u,setShowAuthFlow:h}=n;if(i&&o(i)){s(r);return}if((yield c())&&(yield d("email",{type:"sendTransaction"})),a&&l){u("passkey-new-domain-detected"),h(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),rt.once("passkeyRecoveryCompleted",()=>{s(r)});return}s(r)});var KG,QVe=["title","titleId"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bN.apply(null,arguments)}function eKe(e,t){if(e==null)return{};var n,r,i=tKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Vde=function(t){var n=t.title,r=t.titleId,i=eKe(t,QVe);return x.createElement("svg",bN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,KG||(KG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm10-5a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1Zm-1 9a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"#ABACB2"})))};const sj=({chain:e,networkId:t,networkInfo:n})=>{var r,i;if(Ie.logVerboseTroubleshootingMessage("[getNetworkInfoEntry]",{chain:e,networkId:t,networkInfo:n}),!e||!t)return;const o=(r=Fm(e))===null||r===void 0?void 0:r.name;if(!o)return;const s=n[o];if(s)return Ie.logVerboseTroubleshootingMessage("[getNetworkInfoEntry]",{networkData:s,normalizedChain:o}),(i=s.find(a=>a.chainId.toString()===t.toString()))!==null&&i!==void 0?i:s[0]},nKe=e=>({1:"Ethereum",10:"OP Mainnet",11155111:"Sepolia",137:"Polygon",42161:"Arbitrum One",43114:"Avalanche",8453:"Base"})[e]||"Unknown",A_=e=>{const t=()=>de(void 0,void 0,void 0,function*(){var i,o;if(!e)return{chainId:void 0,name:"",symbol:void 0};const s=yield e.getNetwork(!0),{connectedChain:a}=e,l=Uc(a||""),c={chainId:s,name:l==null?void 0:l.displayName,symbol:l==null?void 0:l.symbol},d=e==null?void 0:e.getEnabledNetworks();if(s&&d.length>0){const u=d.find(h=>h.chainId===s);c.name=(o=(i=u==null?void 0:u.vanityName)!==null&&i!==void 0?i:u==null?void 0:u.name)!==null&&o!==void 0?o:c.name,c.icon=u==null?void 0:u.iconUrls[0]}return c}),{data:n,isLoading:r}=vr(t,{deps:[e]});return{chain:n,isLoading:r}},F3=({projectSettings:e,cosmosNetworkOverrides:t,evmNetworksOverrides:n,solanaNetworksOverrides:r,tronNetworksOverrides:i,aptosNetworksOverrides:o,stellarNetworksOverrides:s,tonNetworksOverrides:a,bitcoinNetworksOverrides:l})=>x.useMemo(()=>{var c,d,u,h,m,v,g,y,b,k,_;const R=e==null?void 0:e.networks;if(!R)return{};const I=R.find(me=>me.chainName==="evm"),T=R.find(me=>me.chainName==="solana"),M=R.find(me=>me.chainName==="cosmos"),D=R.find(me=>me.chainName==="starknet"),A=R.find(me=>me.chainName==="stellar"),U=R.find(me=>me.chainName==="eclipse"),$=R.find(me=>me.chainName==="sui"),q=R.find(me=>me.chainName==="tron"),z=R.find(me=>me.chainName==="aptos"),S=R.find(me=>me.chainName==="ton"),E=R.find(me=>me.chainName==="bitcoin");let N=(c=M==null?void 0:M.networks)===null||c===void 0?void 0:c.map(me=>bc(me,Number.parseInt));N=Af(t,N);let P=(d=I==null?void 0:I.networks)===null||d===void 0?void 0:d.map(me=>bc(me,Number.parseInt));P=Af(n,P);const j=(u=D==null?void 0:D.networks)===null||u===void 0?void 0:u.map(me=>bc(me));let V=(h=T==null?void 0:T.networks)===null||h===void 0?void 0:h.map(me=>bc(me));V=Af(r,V);const K=(m=U==null?void 0:U.networks)===null||m===void 0?void 0:m.map(me=>bc(me));n&&(Array.isArray(n)?P=n:P=n(P??[]));const F=(v=$==null?void 0:$.networks)===null||v===void 0?void 0:v.map(me=>bc(me));let O=(g=q==null?void 0:q.networks)===null||g===void 0?void 0:g.map(me=>bc(me));O=Af(i,O);let W=(y=z==null?void 0:z.networks)===null||y===void 0?void 0:y.map(me=>bc(me));W=Af(o,W);let G=(b=S==null?void 0:S.networks)===null||b===void 0?void 0:b.map(me=>bc(me));G=Af(a,G);let Y=(k=A==null?void 0:A.networks)===null||k===void 0?void 0:k.map(me=>bc(me));Y=Af(s,Y);let ie=(_=E==null?void 0:E.networks)===null||_===void 0?void 0:_.map(me=>bc(me,Number.parseInt));return ie=Af(l,ie),{aptos:W,bitcoin:ie,cosmos:N,eclipse:K,evm:P,solana:V,starknet:j,stellar:Y,sui:F,ton:G,tron:O}},[e==null?void 0:e.networks,t,n,r,i,o,a,s,l]),bc=(e,t=n=>n)=>({bech32Prefix:e.bech32Prefix,blockExplorerUrls:e.blockExplorerUrls,chainId:t(e.chainId),cluster:e.cluster,genesisHash:e.genesisHash,iconUrls:e.iconUrls,isTestnet:e.isTestnet,key:e.key,lcdUrl:e.lcdUrl,name:e.name,nativeCurrency:e.nativeCurrency,networkId:t(e.networkId),privateCustomerRpcUrls:e.privateCustomerRpcUrls,rpcUrls:e.rpcUrls,vanityName:e.vanityName}),Af=(e,t)=>e?Array.isArray(e)?e:e(t??[]):t,rKe=({transaction:e,simulationResult:t,isGasSponsored:n,isAATransaction:r,recipient:i})=>{var o,s,a,l,c,d,u;const{t:h}=Xe(),{primaryWallet:m,projectSettings:v,overrides:g}=$e(),y=F3({evmNetworksOverrides:g==null?void 0:g.evmNetworks,projectSettings:v}),{chain:b}=A_(m==null?void 0:m.connector),k=sj({chain:(o=m==null?void 0:m.connector)===null||o===void 0?void 0:o.connectedChain,networkId:b==null?void 0:b.chainId,networkInfo:y}),{symbol:_,decimals:R}=(s=k==null?void 0:k.nativeCurrency)!==null&&s!==void 0?s:{},I=t==null?void 0:t.showTotalFiat,T=x.useMemo(()=>{var P;const j=(P=t==null?void 0:t.priceData)===null||P===void 0?void 0:P.nativeTokenUsdPrice;if(!(!j||!R))return Number(j)*Number(e.fee.gas)/Math.pow(10,R)},[t,R,e.fee.gas]),M=P=>{if(P)return P<.01?"<$0.01":`~$${P.toFixed(2)}`},D=x.useMemo(()=>{var P;const j=((P=t==null?void 0:t.outAssets)===null||P===void 0?void 0:P.reduce((V,K)=>{var F;const O=((F=K.transferOut)===null||F===void 0?void 0:F.reduce((W,G)=>W+Number((G==null?void 0:G.usdPrice)||0),0))||0;return V+O},0))||0;return I&&r?j:j+(_==="SOL"||n?0:T||0)},[t==null?void 0:t.outAssets,_,T]),A=P=>{if(P)return P<.01?"<$0.01":`~$${P.toFixed(2)}`},U=(P,j,V)=>{var K,F,O;["NATIVE","SOL","ETH"].includes(P.asset.type)&&((K=m==null?void 0:m.connector)===null||K===void 0?void 0:K.connectedChain)==="SOL"&&e.fee.gas&&(P.amount=(Number(P.amount)-Number(e.fee.gas)/Math.pow(10,9)).toString(),P.usdPrice=(Number(P.usdPrice)-Number(T)).toString());const W=()=>{const Y=Number(P.amount);return Number.isInteger(Y)?Y:Y<1e-6?"<0.000001":Y.toFixed(6)},G=()=>{const Y=Number(P.usdPrice);return Y<.01?"<$0.01":`$${Y.toFixed(2)}`};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`transaction-card__${P.direction}`,children:f.jsxs("div",{className:"transaction-card__info-container",children:[f.jsx(se,{variant:"body_normal",color:"secondary",children:P.direction==="in"?"Receive":"Send"}),f.jsxs("div",{className:"transaction-card__amount-symbol",children:[f.jsxs("div",{className:"transaction-card__token-info",children:[f.jsxs("div",{className:"transaction-card__token-row",children:[f.jsxs(se,{variant:"body_normal",color:P.direction==="in"?"green-1":"error-1",children:[P.direction==="out"?"-":"+",W()]}),f.jsx(se,{variant:"body_normal",color:"primary",children:(F=P.asset.symbol||P.asset.name)!==null&&F!==void 0?F:_})]}),Number(P.usdPrice)>0&&f.jsx(se,{variant:"body_small",color:P.direction==="in"?"green-1":"error-1",children:G()})]}),f.jsx("div",{className:"transaction-card__icon",children:f.jsx("div",{className:"transaction-card__icon__container",children:f.jsx("img",{src:P.asset.logoUrl||(k==null?void 0:k.nativeCurrency.iconUrl),alt:(O=P.asset.symbol)!==null&&O!==void 0?O:_,width:32,height:32,className:"transaction-card__icon__container__main"})})})]})]})}),j<V.length-1&&f.jsx("div",{className:"transaction-card__divider"})]})},$=((a=t==null?void 0:t.inAssets)===null||a===void 0?void 0:a.flatMap(P=>{var j;return((j=P.transferIn)===null||j===void 0?void 0:j.map(V=>{var K,F;return{amount:(K=V==null?void 0:V.value)!==null&&K!==void 0?K:"",asset:P.asset,direction:"in",usdPrice:(F=V==null?void 0:V.usdPrice)!==null&&F!==void 0?F:""}}))||[]}))||[],E=[...(((l=t==null?void 0:t.outAssets)===null||l===void 0?void 0:l.flatMap(P=>{var j;return((j=P.transferOut)===null||j===void 0?void 0:j.map(V=>{var K,F;return{amount:(K=V==null?void 0:V.value)!==null&&K!==void 0?K:"",asset:P.asset,direction:"out",usdPrice:(F=V==null?void 0:V.usdPrice)!==null&&F!==void 0?F:""}}))||[]}))||[]).filter(P=>!((P.asset.type==="NATIVE"||P.asset.type==="SOL")&&P.asset.chainName==="Solana"&&Number(P.amount)===Number(e.fee.gas)/Math.pow(10,9))).filter(P=>!(P.asset.type==="NATIVE"&&e.chain==="EVM"&&!e.value)),...$],N=()=>T?M(T):e.fee.gas?`${e.format(e.fee.gas,{precision:8})} ${_}`:`-- ${_}`;return f.jsxs("div",{className:"transaction-card-container",children:[E.length>0&&f.jsx("div",{className:"transaction-card",children:f.jsx("div",{className:"transaction-card__assets-container",children:E.map((P,j,V)=>f.jsx(Vt.Fragment,{children:U(P,j,V)},`asset-${j}`))})}),f.jsx("div",{className:"transaction-card",children:f.jsxs("div",{className:"transaction-card__details",children:[i&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.recipient",children:h("dyn_send_transaction.confirmation.data.recipient")}),f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-recipient",children:Ni(i)})]}),f.jsx("div",{className:"transaction-card__divider"})]}),!i&&(e.to||((c=t==null?void 0:t.counterparties)===null||c===void 0?void 0:c[0]))&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.destination",children:h("dyn_send_transaction.confirmation.data.destination")}),f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-destination",children:Ni((d=e.to)!==null&&d!==void 0?d:(u=t==null?void 0:t.counterparties)===null||u===void 0?void 0:u[0])})]}),f.jsx("div",{className:"transaction-card__divider"})]}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.network",children:h("dyn_send_transaction.confirmation.data.network")}),f.jsxs("div",{className:"transaction-card__network-info",children:[f.jsx(se,{variant:"body_normal",color:"primary",children:(k==null?void 0:k.name)||"Ethereum"}),f.jsx("img",{src:k==null?void 0:k.iconUrls[0],alt:(k==null?void 0:k.name)||"Network icon",width:16,height:16,className:"transaction-card__network-icon"})]})]}),!n&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsxs("div",{className:"transaction-card__label-with-tooltip",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.gas_estimate",children:h("dyn_send_transaction.confirmation.data.gas_estimate")}),f.jsx(C_,{content:"Network fees are paid to process your transaction",className:"transaction-confirmation",children:f.jsx(Nt,{size:"small",className:"fee-tooltip",children:f.jsx(Vde,{})})})]}),f.jsx("div",{className:"transaction-card__value",children:f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:N()})})]})]}),I&&D!==void 0&&D>0&&!(r&&!n)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",weight:"bold",copykey:"dyn_send_transaction.confirmation.data.total",children:h("dyn_send_transaction.confirmation.data.total")}),f.jsx("div",{className:"transaction-card__total-amount",children:f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-total",children:A(D)})})]})]})]})})]})},iKe=({transaction:e,currentToken:t,currencySymbol:n,valueRounded:r,transactionValue:i,isGasSponsored:o,gasFiatValue:s,totalGasFiatValue:a,currency:l,total:c,t:d,onFeeUpdate:u})=>{var h,m;const{primaryWallet:v,projectSettings:g,overrides:y}=$e(),b=F3({evmNetworksOverrides:y==null?void 0:y.evmNetworks,projectSettings:g}),{chain:k}=A_(v==null?void 0:v.connector),_=sj({chain:(h=v==null?void 0:v.connector)===null||h===void 0?void 0:h.connectedChain,networkId:k==null?void 0:k.chainId,networkInfo:b}),R=e.chain==="BTC"||((m=v==null?void 0:v.connector)===null||m===void 0?void 0:m.connectedChain)==="BTC"||(v==null?void 0:v.connector)&&AD(v.connector),I=e,[T,M]=x.useState((I==null?void 0:I.feePriority)||"medium"),D=x.useCallback($=>de(void 0,void 0,void 0,function*(){var q;!R||T===$||(M($),yield(q=I.updateFeePriority)===null||q===void 0?void 0:q.call(I,$),u==null||u())}),[R,T,I,u]),A=()=>f.jsx("div",{className:"transaction-card",children:f.jsx("div",{className:"transaction-card__assets-container",children:f.jsx("div",{className:"transaction-card__out",children:f.jsxs("div",{className:"transaction-card__info-container",children:[f.jsx(se,{variant:"body_normal",color:"secondary",children:d("dyn_send_transaction.confirmation.data.transfer.send")}),f.jsxs("div",{className:"transaction-card__amount-symbol",children:[f.jsxs("div",{className:"transaction-card__token-info",children:[f.jsxs("div",{className:"transaction-card__token-row",children:[f.jsxs(se,{variant:"body_normal",color:"error-1","data-testid":"transaction-transfer-amount",children:["-",r||(e!=null&&e.value?e.format(e.value,{precision:6}):"")]}),f.jsx(se,{variant:"body_normal",color:"secondary",children:n})]}),i&&f.jsxs(se,{variant:"body_small",color:"error-1","data-testid":"transaction-transfer-amount-fiat",children:["$",zde(Number(i)||Number(r)||0,t)]})]}),f.jsx("div",{className:"transaction-card__icon",children:f.jsx("div",{className:"transaction-card__icon__container",children:f.jsx("img",{src:(t==null?void 0:t.logoURI)||(_==null?void 0:_.nativeCurrency.iconUrl),alt:n,width:32,height:32,className:"transaction-card__icon__container__main"})})})]})]})})})}),U=()=>f.jsx("div",{className:"transaction-card",children:f.jsxs("div",{className:"transaction-card__details",children:[f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.destination",children:d("dyn_send_transaction.confirmation.data.destination")}),f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-destination",children:Ni(e.to)})]}),!o&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary","data-testid":"transaction-network",copykey:"dyn_send_transaction.confirmation.data.network",children:d("dyn_send_transaction.confirmation.data.network")}),f.jsxs("div",{className:"transaction-card__network-info",children:[f.jsx(se,{variant:"body_normal",color:"primary",children:(_==null?void 0:_.name)||(R?"Bitcoin":"Ethereum")}),f.jsx("img",{src:(_==null?void 0:_.iconUrls[0])||(k==null?void 0:k.icon),alt:(_==null?void 0:_.name)||(R?"Bitcoin":"Network icon"),width:16,height:16,className:"transaction-card__network-icon"})]})]}),R&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.fee_priority",children:"Fee Priority"}),f.jsxs("div",{className:"transaction-card__value",style:{alignItems:"center",display:"inline-flex",position:"relative"},children:[f.jsxs("select",{id:"fee-priority-select",value:T,onChange:$=>D($.target.value),"data-testid":"fee-priority-select",style:{MozAppearance:"none",WebkitAppearance:"none",appearance:"none",background:"transparent",border:"none",color:"inherit",cursor:"pointer",fontSize:"inherit",fontWeight:"inherit",outline:"none",padding:0,paddingRight:"20px"},children:[f.jsx("option",{value:"high",children:"High"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"low",children:"Low"})]}),f.jsx("div",{style:{alignItems:"center",display:"flex",opacity:.6,pointerEvents:"none",position:"absolute",right:0},children:f.jsx(Nt,{size:"small",children:f.jsx(j3,{})})})]})]})]}),f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsxs("div",{className:"transaction-card__label-with-tooltip",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.gas_estimate",children:d("dyn_send_transaction.confirmation.data.gas_estimate")}),f.jsx(C_,{content:"Network fees are paid to process your transaction",className:"transaction-confirmation",children:f.jsx(Nt,{size:"small",className:"fee-tooltip",children:f.jsx(Vde,{})})})]}),f.jsx("div",{className:"transaction-card__value",children:t!=null&&t.price?f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:Number(s)<=.01?"<$0.01":`$${s}`}):f.jsxs(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:[e.fee.gas?e.format(e.fee.gas,{precision:6}):"--"," ",l]})})]}),f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",weight:"bold",copykey:"dyn_send_transaction.confirmation.data.total",children:d("dyn_send_transaction.confirmation.data.total")}),f.jsx("div",{className:"transaction-card__value",children:t!=null&&t.price?f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-total",children:Number(a)<=.01?"<$0.01":`$${a}`}):f.jsxs(se,{variant:"body_normal",color:"primary","data-testid":"transaction-total",children:[c?e.format(c,{precision:6}):"--"," ",l]})})]})]})]})});return f.jsxs("div",{className:"transaction-card-container",children:[A(),U()]})},oKe=({onClickClose:e,isLoading:t,onClickBack:n,onClickSend:r,disableSendButton:i,displayPoweredByDynamicFooter:o=!1,error:s,fetchTransactionFee:a,alert:l,walletConnector:c,transaction:d,currentToken:u,children:h,hideModal:m,onSuccess:v,transactionValue:g,total:y,isGasSponsored:b,isNativeToken:k,walletKey:_,simulationResult:R,sendBalanceTransaction:I,recipient:T})=>{var M;const{t:D}=Xe(),{isTurnkeyWallet:A}=da(),{setShowAuthFlow:U,user:$,primaryWallet:q}=$e(),{pushView:z}=At(),{userNeedsCrossDomainPasskey:S}=cv(),{initPasskeyRecoveryProcess:E,shouldInitRecovery:N}=Qh(),P=x.useMemo(()=>{var ie;if(!(!$||!q))return(ie=$.verifiedCredentials)===null||ie===void 0?void 0:ie.find(ye=>ye.address===q.address)},[$,q]),{currency:j}=oj(c),V=JVe(u,j==null?void 0:j.symbol),{nativePrice:K}=ZM();YVe(c,qG,v,N,E,m);const F=XVe({isTurnkeyWallet:A,onClickSend:r,userNeedsCrossDomainPasskey:S,usingSessionKey:qG,walletConnector:c},{initPasskeyRecoveryProcess:E,shouldInitRecovery:N},{pushView:z,setShowAuthFlow:U}),O=e&&f.jsx(Sn,{type:"button",onClick:e,"data-testid":"close",disabled:t,children:f.jsx(Oi,{})}),W=n&&f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Xh,{})}),G=$de(u,d,K),Y=Lde(u,d,K,g);return m?null:f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:O,leading:W,alignContent:"bottom",children:f.jsx("div",{className:"send-balance-page-layout__header-content",children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_send_transaction.data.confirmation_tx",children:D("dyn_send_transaction.data.confirmation_tx")})})}),!I&&f.jsx("div",{className:"transaction-confirmation__banner",children:f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.data.banner",children:D("dyn_send_transaction.data.banner")})}),f.jsx(bj,{}),f.jsxs("div",{className:"transaction-confirmation__body",children:[f.jsxs("div",{className:"transaction-confirmation__content",children:[s&&f.jsx("div",{className:"transaction-confirmation__error",children:f.jsx(Lr,{children:s})}),I?f.jsx(iKe,{transaction:d,currentToken:u,currencySymbol:V,valueRounded:(M=qde(!!k,d))===null||M===void 0?void 0:M.toString(),transactionValue:g,isGasSponsored:b,gasFiatValue:G||"0",totalGasFiatValue:Y||"0",currency:j==null?void 0:j.symbol,total:y,t:D,onFeeUpdate:a}):f.jsx(rKe,{transaction:d,isGasSponsored:b,isAATransaction:(c==null?void 0:c.key)==="zerodev",simulationResult:R,recipient:T}),h&&f.jsx("div",{className:"transaction-confirmation__rows",children:h})]}),f.jsx(Hu,{animationComponent:f.jsx(ig,{}),children:l&&f.jsx("div",{className:"transaction-confirmation__warning",children:l})}),f.jsxs("div",{className:"transaction-confirmation__actions",children:[(n||e)&&f.jsx(xt,{buttonVariant:"primary",buttonPadding:"medium",onClick:n||e,expanded:!0,disabled:t,copykey:"dyn_send_transaction.confirmation.cancel_button",children:D("dyn_send_transaction.confirmation.cancel_button")}),f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"medium",onClick:F,expanded:!0,loading:t,disabled:i,copykey:"dyn_send_transaction.confirmation.send",dataTestId:"transaction-confirmation-send",children:D("dyn_send_transaction.confirmation.send")})]}),f.jsx(tp,{walletCredential:P}),o&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-confirmation__divider"}),f.jsx(Gc,{classNameRoot:"transaction-confirmation__footer"})]})]})]})},sKe=({transactionValue:e,gasTotalPrice:t,isGasSponsored:n=!1})=>x.useMemo(()=>n?e!==void 0?e:BigInt(0):t!==void 0&&e!==void 0?t+e:e||t,[t,e,n]),Kde=-32603,Ik={"-32002":"Insufficient funds for this transaction.",0:"The operation either timed out or was not allowed.",16:"Invalid Passkey signature. Select the passkey for this account and device.",3:"You reached the limit of passkeys for this account.",5:"Invalid Passkey signature.",INSUFFICIENT_FUNDS:"Insufficient funds for this transaction.",[Kde.toString()]:"A network error has occurred. Please try again later"},HG={"provided ENS name resolves to null":"Invalid address. Please check that the entered address is correct."},Hde=e=>{var t;const n=e;return(n==null?void 0:n.code)||((t=n==null?void 0:n.cause)===null||t===void 0?void 0:t.code)},aj=e=>{const t=e;return t==null?void 0:t.message},aKe=e=>"reason"in e&&e.reason!==void 0,lKe=e=>e!=null&&typeof e=="object"&&"walk"in e&&typeof e.walk=="function",cKe=e=>{const t=aj(e);return(t==null?void 0:t.replace("Error: ",""))||"Policy violation: unknown error, please try again."},dKe=e=>{const t=aj(e);return(t==null?void 0:t.toLowerCase().includes("policy violation"))||(t==null?void 0:t.toLowerCase().includes("explicitly denied by policy"))},uKe=e=>{let t=e;if(lKe(e)&&(t=e.walk()),Ie.debug("transaction error:",t),dKe(t))return cKe(t);if(vm.isInstance(t))return;if(qb.isInstance(t)||fKe(t))return Ik.INSUFFICIENT_FUNDS;const n=Hde(t);return n!==void 0&&Ik[n]?Ik[n]:aKe(t)&&HG[t.reason]?HG[t.reason]:"Something went wrong."},fKe=e=>{const t=Hde(e),n=aj(e);return t===Kde&&!!(n!=null&&n.includes("insufficient funds for gas * price + value"))},hKe=2e4;var uo;(function(e){e.LOADING="loading",e.FAILED="failed",e.SKIPPED="skipped",e.SUCCESS="success"})(uo||(uo={}));const Gde=({transaction:e,onError:t,onSuccess:n,mutation:r,onClickBack:i,walletConnector:o,onClickClose:s,title:a,displayPoweredByDynamicFooter:l=!1,copykey:c,hideModal:d,currentToken:u,isNativeToken:h,transactionValue:m,isModal:v,sendBalanceTransaction:g})=>{const{primaryWallet:y,environmentId:b}=$e(),[k,_]=x.useState(!1),[R,I]=x.useState(!1),T=Wle(),{t:M}=Xe(),{currency:D}=oj(o),A=x.useMemo(()=>{if(!(y!=null&&y.connector))return;const me=y.connector;return me._selectedChainId||me.lastUsedChainId},[y==null?void 0:y.connector]),[U,$]=x.useState({status:uo.LOADING}),[q,z]=x.useState(void 0),S=x.useRef(!1),E=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var me,be,Me,Fe,De,gt,tt;if(U.status===uo.LOADING&&!S.current){if(S.current=!0,g||d){$({status:uo.SKIPPED}),S.current=!1;return}if(!y||!A&&(y==null?void 0:y.chain)!=="SOL"&&(y==null?void 0:y.chain)!=="TON"){Ie.error("[TransactionConfirmationView] Simulation failed:",{chain:y==null?void 0:y.chain,chainId:A,primaryWallet:y}),$({status:uo.FAILED}),S.current=!1;return}try{let dt;if(y.connector.key==="zerodev"){const Qt=y.connector,{userOperation:lt,sponsored:jt}=yield Qt.getCurrentUserOperation(e);if(_(jt),I(!1),lt){const rn=yield Qt.formatUserOperation(lt);e.fee.gas=pKe(lt);const Re=yield(me=Qt.getAccountAbstractionProvider())===null||me===void 0?void 0:me.account.entryPoint;if(!Re){Ie.error("[TransactionConfirmationView] Simulation failed: No entry point address found"),$({status:uo.FAILED});return}z((be=e==null?void 0:e.getTransactionRecipient)===null||be===void 0?void 0:be.call(e)),dt=yield Qqe({chainId:String(A),entryPoint:Re,environmentId:b,userOperation:rn,value:((Me=e.value)===null||Me===void 0?void 0:Me.toString())||"0"})}else{$({status:uo.FAILED});return}}else if((o==null?void 0:o.connectedChain)==="SOL"){const Qt=(Fe=e.multipleTransactions)===null||Fe===void 0?void 0:Fe.map(lt=>uMe.encode(lt.serialize({requireAllSignatures:!1})));if(!Qt){Ie.error("[TransactionConfirmationView] Simulation failed: No encoded transactions"),$({status:uo.FAILED});return}dt=yield tze({accountAddress:e.from,chain:yield o==null?void 0:o.getNetwork(!0),environmentId:b,transactions:Qt})}else if((o==null?void 0:o.connectedChain)==="EVM")z((De=e==null?void 0:e.getTransactionRecipient)===null||De===void 0?void 0:De.call(e)),dt=yield eze({chainId:String(A),data:e.data||"0x",environmentId:b,from:e.from,to:e.to||"",value:((gt=e.value)===null||gt===void 0?void 0:gt.toString())||"0"});else if((o==null?void 0:o.connectedChain)==="TON"){$({status:uo.SKIPPED});return}if(!dt&&((tt=y.connector)===null||tt===void 0?void 0:tt.key)!=="zerodev"){Ie.warn("[TransactionConfirmationView] Simulation failed: No result"),$({status:uo.FAILED});return}$(dt?{result:dt,status:uo.SUCCESS}:{status:uo.FAILED})}catch(dt){Ie.error("[TransactionConfirmationView] Simulation failed:",dt),$({status:uo.FAILED})}finally{S.current=!1}}}),[g,d,y,A,b,e,o,U.status,$]);x.useEffect(()=>{U.status===uo.SUCCESS||U.status===uo.SKIPPED||E()},[E,y==null?void 0:y.connector,U.status]);const N=x.useCallback(()=>{var me;if(!((y==null?void 0:y.chain)===nr.Sol&&e.fee.gas!==void 0||y&&((me=y.connector)===null||me===void 0?void 0:me.key)==="zerodev")&&e.fetchFee){const be=e.fetchFee();be&&typeof be.finally=="function"&&be.finally(T)}},[y==null?void 0:y.chain,e,T]);x.useEffect(()=>{var me;!((me=e.isGasSponsored)===null||me===void 0)&&me.call(e)&&_(!0)},[e]);const{mutate:P,isLoading:j,error:V}=Xo(r,{onFailure:x.useCallback(me=>{N(),vm.isInstance(me)&&(Ie.debug(me),_(!1),n3(o)&&o.disableGasSponsorshipOnce()),Ie.error(me),t==null||t(me)},[N,t,o]),onSuccess:x.useCallback(me=>n==null?void 0:n(me),[n])});nze(N,j?null:hKe),ep(N);const K=sKe({gasTotalPrice:e.fee.gas,isGasSponsored:k,transactionValue:e.value}),F=V&&uKe(V),{data:O,isLoading:W}=vr(()=>e.getBalance()),G=x.useMemo(()=>K===void 0||O===void 0?!1:O<K,[O,K]),Y=x.useMemo(()=>{if(!(K===void 0||O===void 0))return K-O},[K,O]),ie=x.useMemo(()=>{if(F)return null;if(vm.isInstance(V))return f.jsx(tc,{icon:"error",variant:"error",copykey:"dyn_send_transaction.error_message.gas_not_sponsored",children:M("dyn_send_transaction.error_message.gas_not_sponsored")});if(!R&&!W&&Y===void 0&&e.fee.gas&&!k)return f.jsx(tc,{icon:"error",variant:"warning",copykey:"dyn_send_transaction.warning_message.insufficient_gas_funds",children:f.jsxs(se,{variant:"body_small",color:"current-color","data-testid":"warning_content",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.warning_message.insufficient_gas_funds.title",children:M("dyn_send_transaction.warning_message.insufficient_gas_funds.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.warning_message.insufficient_gas_funds.description",children:M("dyn_send_transaction.warning_message.insufficient_gas_funds.description",{amountLeft:e.format(e.fee.gas,{precision:6}),currencySymbol:D==null?void 0:D.symbol})})]})});if(G&&Y){const be=e.format(Y,{precision:6});return f.jsx(tc,{icon:"error",variant:"error",copykey:"dyn_send_transaction.warning_message.insufficient_funds",children:f.jsxs(se,{variant:"body_small",color:"current-color","data-testid":"warning_content",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.warning_message.insufficient_funds.title",children:M("dyn_send_transaction.warning_message.insufficient_funds.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.warning_message.insufficient_funds.description",children:M("dyn_send_transaction.warning_message.insufficient_funds.description",{amountLeft:be,currencySymbol:D==null?void 0:D.symbol})})]})})}return U.status===uo.FAILED?f.jsx(tc,{icon:"error",variant:"warning",copykey:"dyn_send_transaction.warning_message.failed_simulation",children:f.jsxs(se,{variant:"body_small",color:"current-color","data-testid":"warning_content",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.warning_message.failed_simulation.title",as:"div",children:M("dyn_send_transaction.warning_message.failed_simulation.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.warning_message.failed_simulation.description",as:"div",children:M("dyn_send_transaction.warning_message.failed_simulation.description")})]})}):null},[U.status,F,V,R,W,Y,e,k,G,M,D==null?void 0:D.symbol]);x.useEffect(()=>{var me,be;U.status===uo.SUCCESS&&!g&&((me=U.result)===null||me===void 0?void 0:me.outAssets.length)===0&&!A&&!(!((be=e.isGasSponsored)===null||be===void 0)&&be.call(e))&&$({result:U.result,status:uo.FAILED})},[U,A,e,g]);const ye=x.useMemo(()=>{var me;return{alert:ie,copykey:c,currentToken:u,disableSendButton:W,displayPoweredByDynamicFooter:l,error:F,fetchTransactionFee:N,hideModal:d,isGasSponsored:k,isGasSponsoredLoading:R,isLoading:j,isNativeToken:h,onClickBack:i,onClickClose:s,onClickSend:()=>P(),onSuccess:be=>n==null?void 0:n(be),recipient:q,sendBalanceTransaction:g,simulationResult:(me=U.result)!==null&&me!==void 0?me:void 0,title:a,total:K,transaction:e,transactionValue:m,walletConnector:o,walletKey:(y==null?void 0:y.key)||""}},[K,q,u,m,h,i,s,c,a,d,j,P,n,l,W,F,ie,o,e,k,R,y==null?void 0:y.key,U.result,g,N]);return U.status===uo.LOADING?null:f.jsx(oKe,Object.assign({},ye))},pKe=e=>(BigInt(e.callGasLimit||0)+BigInt(e.verificationGasLimit||0)+BigInt(e.preVerificationGas||0))*BigInt(e.maxFeePerGas||0),Em=({children:e,className:t="",textToCopy:n,onClick:r,variant:i="text",copykey:o,buttonPadding:s="small",buttonVariant:a="primary",buttonClassName:l="",startSlot:c,disabled:d})=>{const[u,h]=x.useState(!1),[m,v]=x.useState(null),g=()=>{navigator.clipboard.writeText(n),h(!0),r==null||r(),setTimeout(()=>{h(!1)},5e3)};return f.jsxs(f.Fragment,{children:[i==="text"?f.jsx(Zs,{className:Ke("copy-button__container",t),onClick:()=>g(),onMouseLeave:()=>h(!1),copykey:o,disabled:d,children:e}):f.jsx(xt,{buttonRef:v,expanded:!0,buttonPadding:s,buttonVariant:a,buttonClassName:l,onClick:()=>g(),copykey:o,startSlot:c,disabled:d,children:e}),f.jsx(C_,{className:"copy-button__tooltip",content:u?"Copied":"Copy",targetRef:m})]})},mKe=e=>{if(e===Nh.Kraken)return"https://support.kraken.com/articles/360000672863-adding-and-confirming-a-new-cryptocurrency-withdrawal-address"},gKe={[Nh.Kraken]:"https://www.kraken.com/",[Nh.Coinbase]:"https://www.coinbase.com/"},yKe=e=>{const t=gKe[e];t&&window.open(t,"_blank","noopener,noreferrer")},GG=96,vKe=({onContinue:e,exchange:t,onClose:n})=>{var r;const{t:i}=Xe(),o=E_(),{primaryWallet:s}=$e(),a=f.jsx(Sn,{onClick:n,type:"button",id:"close-button","data-testid":"close-button",children:f.jsx(Oi,{})}),l=mKe(t),c=t.charAt(0).toUpperCase()+t.slice(1);return f.jsxs("div",{className:"exchange-whitelist-warning",children:[f.jsx(Zn,{trailing:a,children:f.jsx(se,{variant:"title",copykey:"dyn_exchange_whitelist_warning.title",children:i("dyn_exchange_whitelist_warning.title")})}),f.jsxs("div",{className:"exchange-whitelist-warning__content",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__icon-holder",children:f.jsx(r3,{name:m1(t),variant:o,style:{height:Ut(GG*Yo),width:Ut(GG*Yo)}})}),f.jsx(se,{variant:"body_normal",color:"primary",className:"exchange-whitelist-warning__content__description",copykey:"dyn_exchange_whitelist_warning.description",children:i("dyn_exchange_whitelist_warning.description",{exchange:c})}),f.jsxs("div",{className:"exchange-whitelist-warning__content__steps",children:[f.jsxs("div",{className:"exchange-whitelist-warning__content__steps__step",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__steps__step__number-badge",children:"1"}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_exchange_whitelist_warning.step1",children:i(`dyn_exchange_whitelist_warning.step1.${t}`)})]}),f.jsxs("div",{className:"exchange-whitelist-warning__content__steps__step",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__steps__step__number-badge",children:"2"}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_exchange_whitelist_warning.step2",children:i("dyn_exchange_whitelist_warning.step2")})]}),f.jsxs("div",{className:"exchange-whitelist-warning__content__steps__step",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__steps__step__number-badge",children:"3"}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_exchange_whitelist_warning.step3",children:i("dyn_exchange_whitelist_warning.step3",{exchange:c})})]})]}),f.jsxs("div",{className:"exchange-whitelist-warning__content__address",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_exchange_whitelist_warning.address",children:i("dyn_exchange_whitelist_warning.address")}),f.jsxs("div",{className:"exchange-whitelist-warning__content__address__copy",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__address__copy__copy-input",children:f.jsx(Sl,{id:"wallet_address","data-testid":"wallet_address",label:Ni(s==null?void 0:s.address),disabled:!0})}),f.jsx(Em,{textToCopy:(r=s==null?void 0:s.address)!==null&&r!==void 0?r:"",children:f.jsx($h,{})})]})]}),l&&f.jsxs("div",{className:"exchange-whitelist-warning__content__instructions",children:[f.jsx(se,{as:"a",weight:"bold",href:l,target:"_blank",rel:"noreferrer",className:"exchange-whitelist-warning__content__instructions__link",variant:"body_small",children:i("dyn_exchange_whitelist_warning.view_instructions")}),f.jsx(I0,{style:{height:Ut(12),marginLeft:Ut(8),width:Ut(12)},className:"exchange-whitelist-warning__content__steps__step__icon"})]}),f.jsx("div",{className:"exchange-whitelist-warning__content__open",children:f.jsxs(Im,{onClick:()=>yKe(t),buttonVariant:"primary",className:"exchange-whitelist-warning__content__open__button",children:[f.jsx(se,{variant:"body_normal",children:i("dyn_exchange_whitelist_warning.open",{exchange:c})}),f.jsx(I0,{style:{height:Ut(14),marginLeft:Ut(8),width:Ut(14)}})]})}),f.jsx("div",{className:"exchange-whitelist-warning__content__done",children:f.jsx(xt,{dataTestId:"continue-button",buttonVariant:"brand-primary",typographyProps:{color:"white",weight:"regular"},className:"exchange-whitelist-warning__content__done__button",onClick:()=>{e()},copykey:"dyn_exchange_whitelist_warning.done",children:i("dyn_exchange_whitelist_warning.done")})})]})]})},wKe=()=>{const{projectSettings:e,user:t}=$e();return Qu()==="connect-only"&&!t?!1:JM({customFields:e==null?void 0:e.customFields,projectSettingsKyc:e==null?void 0:e.kyc,user:t}).length>0||Qce(e)},bKe=e=>{const[t,n]=x.useState(null);return{goToInitialView:()=>n(null),setView:n,view:t||e}},Jde=x.createContext(void 0),_Ke=({children:e})=>{const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),{setShowDynamicUserProfile:i,showDynamicUserProfile:o,multiWallet:s}=$e(),a=wKe(),{view:l,setView:c,goToInitialView:d}=bKe(a&&!s?"profile":"wallets"),[u,h]=x.useState(null),m=x.useRef(null),v=x.useCallback(()=>{h(null),m.current&&(clearTimeout(m.current),m.current=null)},[]),g=x.useCallback(T=>{var M;const D=(M=T==null?void 0:T.timeout)!==null&&M!==void 0?M:1e4;h(T),m.current=setTimeout(v,D)},[v]),[y,b]=x.useState({}),k=x.useCallback((T,M)=>{c(T),b(M||{}),v()},[v,c]),_=x.useCallback(()=>{if(a)return k("profile");k("wallets")},[a,k]),R=x.useMemo(()=>l==="manage-passkeys"||l==="manage-totp-mfa"||l==="manage-passkeys-mfa"||l==="account-and-security-settings"?"settings":!a&&!s&&l!=="settings"&&l!=="profile"?"wallets":l==="edit-profile"?"profile":l==="global-wallet"?"wallets":l,[l,a,s]);Un("logout",d),Un("userProfileClose",()=>{setTimeout(d,20)});const I=x.useMemo(()=>({availableWalletsContainerRef:r,dynamicWidgetView:l,goToInitialDynamicWidgetView:d,goToProfileView:_,headerAlert:u,inlineControlsRef:n,isOpen:o,overridenWidgetView:R,setDynamicWidgetView:k,setHeaderAlert:g,setIsOpen:i,viewProps:y,widgetRef:t}),[l,d,_,o,k,i,R,y,u,g]);return f.jsx(Jde.Provider,{value:I,children:e})},Jc=()=>{const e=x.useContext(Jde);if(e===void 0)throw new Error("usage of useWidgetContext not wrapped in `DynamicWidgetContextProvider`.");return e};var JG,xKe=["title","titleId"];function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_N.apply(null,arguments)}function kKe(e,t){if(e==null)return{};var n,r,i=SKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Zde=function(t){var n=t.title,r=t.titleId,i=kKe(t,xKe);return x.createElement("svg",_N({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,JG||(JG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2c.368 0 .667.298.667.667v4.666h4.666a.667.667 0 1 1 0 1.334H8.667v4.666a.667.667 0 1 1-1.334 0V8.667H2.667a.667.667 0 0 1 0-1.334h4.666V2.667C7.333 2.298 7.632 2 8 2Z",fill:"currentColor",fillOpacity:.4})))},ZG,IKe=["title","titleId"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(null,arguments)}function EKe(e,t){if(e==null)return{};var n,r,i=CKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Yde=function(t){var n=t.title,r=t.titleId,i=EKe(t,IKe);return x.createElement("svg",xN({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,ZG||(ZG=x.createElement("path",{d:"M11.833 4.667H9.167V6h2.666c1.1 0 2 .9 2 2s-.9 2-2 2H9.167v1.333h2.666a3.335 3.335 0 0 0 0-6.666Zm-4 5.333H5.167c-1.1 0-2-.9-2-2s.9-2 2-2h2.666V4.667H5.167a3.335 3.335 0 0 0 0 6.666h2.666V10Zm-2-2.667h5.334v1.334H5.833V7.333Z",fill:"currentColor"})))},YG,AKe=["title","titleId"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kN.apply(null,arguments)}function RKe(e,t){if(e==null)return{};var n,r,i=TKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var OKe=function(t){var n=t.title,r=t.titleId,i=RKe(t,AKe);return x.createElement("svg",kN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,YG||(YG=x.createElement("g",{clipPath:"url(#send_svg__clip0_6894_96)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m3.846 9.3.03-.01 14.64-5.728c.199-.078.399-.156.567-.205.156-.046.465-.126.794-.02.374.123.664.413.786.787.107.33.027.638-.019.794-.049.168-.127.368-.205.567L14.702 20.15c-.08.204-.16.408-.239.568-.073.147-.226.436-.537.614a1.277 1.277 0 0 1-1.136.072c-.323-.137-.496-.405-.58-.542-.09-.149-.184-.342-.278-.535l-2.693-5.52-5.546-2.724-.027-.014c-.193-.094-.385-.189-.533-.28-.137-.082-.403-.256-.54-.578a1.277 1.277 0 0 1 .074-1.136c.178-.31.466-.463.612-.536.16-.079.363-.158.567-.238Zm.972 1.425 4.88 2.396 2.912-2.913a.848.848 0 0 1 1.2-.017.848.848 0 0 1-.017 1.2l-2.898 2.898 2.384 4.888 5.433-13.888-13.894 5.436Z",fill:"currentColor",fillOpacity:.4}))))};const NKe=e=>{var t;return(t=e==null?void 0:e.verifiedCredentials)===null||t===void 0?void 0:t.find(n=>n.format==="oauth"&&n.id===e.lastVerifiedCredentialId)},lj=e=>{const t=qm.map(ps).map(n=>(n.iso2==="fr"&&(n.format="(.) .. .. .. .."),DPe(n)));return e?t.filter(([,n])=>e.includes(n)):t},cj=e=>{var t;const{country:n}=p3({countries:lj(),phone:e});if(!n)return e;const r=l_({dialCode:n.dialCode,phone:e}),i=Eae({country:n,phone:e}),o=/\./g;if(((t=i.match(o))!==null&&t!==void 0?t:[]).length!==PKe(r).length)return e;let s=0;const a=i.replace(o,()=>r[s++]);return`+${n.dialCode} ${a}`},PKe=e=>e.replace(/\D+/g,""),Xde=e=>{const t=NKe(e);return t!=null&&t.publicIdentifier?t.publicIdentifier:e!=null&&e.email?v1(e.email):e!=null&&e.phoneNumber?cj(e.phoneNumber):"My Profile"},Qde=({user:e,containerClassName:t,renderWithFallback:n=!0})=>{const i=(()=>{var o,s,a;return(a=(s=(o=e==null?void 0:e.verifiedCredentials)===null||o===void 0?void 0:o.find(c=>{var d;return e.lastVerifiedCredentialId===c.id&&((d=c.oauthAccountPhotos)===null||d===void 0?void 0:d.length)}))===null||s===void 0?void 0:s.oauthAccountPhotos)===null||a===void 0?void 0:a[0]})();return!i&&!n?null:f.jsx("div",{className:Ke("user-profile-social-account__connected-avatar",t),children:f.jsx(pde,{className:"user-profile-social-account__image",src:i,alt:"User avatar",dataTestId:"user-avatar",fallback:f.jsx(MD,{})})})},BKe=({className:e})=>{const{t}=Xe(),{primaryWallet:n}=$e(),{initPasskeyRecoveryProcess:r}=Qh(),{showSecureAccountBanner:i,setShowSecureAccountBanner:o}=cv(),{getEOAWallet:s}=xs(),a=n&&s(n),l=n&&Dh(n)||a&&Dh(a);return!i||l?null:f.jsxs("div",{className:Ke("secure-embedded-wallet-card",e),children:[f.jsxs("div",{className:"secure-embedded-wallet-card__text-content","data-testid":"secure-wallet-button",onClick:()=>r(),children:[f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_secure_pregenerated_wallet.description",children:t("dyn_secure_pregenerated_wallet.description")}),f.jsx(se,{variant:"body_small",weight:"bold",color:"brand-primary",copykey:"dyn_secure_pregenerated_wallet.action",className:"secure-embedded-wallet-card__link",children:t("dyn_secure_pregenerated_wallet.action")})]}),f.jsx("div",{children:f.jsx(Sn,{color:"text-secondary",onClick:()=>o(!1),children:f.jsx(Oi,{width:16,height:16})})})]})},Up=({elementId:e})=>{const{createRootElement:t}=rg(),n=t(e),[r,i]=x.useState(null),o=x.useCallback(s=>de(void 0,void 0,void 0,function*(){return new Promise((l,c)=>{try{i(s(l,c))}catch(d){c(d)}}).finally(()=>{i(void 0)})}),[i]);return{modal:r?f.jsx("div",{children:xm.createPortal(r,n.current)}):void 0,open:o}},dv=({children:e,className:t,isShown:n=!0,transitionProps:r})=>f.jsx("div",{className:Ke("modal",t),children:f.jsx(__,Object.assign({},r,{isShown:n,children:f.jsx("div",{className:"modal__items",children:e})}))}),Cm=({children:e,borderRadius:t="default",border:n=!1,sharpBottomRadiusOnMobile:r=!0,dataTestId:i="modal-card",sharpBorder:o=!1,dropShadow:s=!0})=>f.jsx("div",{"data-testid":i,className:Ke("modal-card",{"modal-card--no-shadow":!s,"modal-card--sharp-border-radius":o,"modal-card--sharp-mobile-bottom-radius":r,"modal-card--with-border":n},`modal-card--radius-${t}`),children:e}),DKe=["wallet-list","login-with-email-or-wallet-full-wallet-list","multi-wallet-wallet-list","login-with-wallet-only"],MKe=["wallet-connect-mobile-wallets-list","wallet-list","login-with-email-or-wallet-full-wallet-list","login-with-wallet-only"],jKe=["qr-code","no-qr-not-installed","wallet-used","chainalysis-blocked-wallet","wallet-sign","collect-user-data","passkey-new-domain-detected"],$Ke=["collect-user-data","no-access","chainalysis-blocked-wallet","wallet-locked-view","gate-blocked-wallet","email-wallet-otp-verification-view","bridge-welcome","bridge-summary","bridge-next-wallet-connection","passkey-intro","passkey-new-domain-detected","passkey-setup","passkey-confirm","social-redirect-view","collect-user-data-login-no-wallet","passkey-recovery-bundle","passkey-recovery-start","embedded-reveal-view","embedded-reveal-account-view","export-shares-view","wallet-delegation-view","mfa-exchange-view","exchange-whitelist-warning","rename-passkey","embedded-wallet-auth-choice","passkey-recovery-add-email","global-wallet-confirm","global-wallet-malicious","global-wallet-info","mfa-choose-device","mfa-verification","waas-upgrade-view","wallet-upgrade-flow-view","account-upgraded","waas-backup-view","waas-backup-info-view","waas-backup-cloud-provider-view","waas-backup-download-view","waas-backup-progress-view","waas-backup-success-view"],LKe=["wallet-list","qr-code","wallet-connect-mobile-wallets-list","pending-connect","pending-signature","pending-signature-without-back-button","bridge-next-wallet-connection","bridge-summary"],UKe=["login-with-email-or-wallet","login-with-email-or-wallet-full-wallet-list","login-with-wallet-only","login-with-email-verification","login-with-sms-verification","verify-email","verify-sms","pending-connect","wallet-group","select-wallet-in-wallet-group","select-hardware-wallet","pending-signature","qr-code","wallet-used","email-wallet-otp-verification-view","farcaster-connect-view","merge-user-accounts","merge-user-accounts-conflicts","mfa-verification","mfa-display-backup-codes","mfa-recovery","passkey-setup","passkey-confirm"],FKe=["collect-user-data","login-with-email-verification","login-with-sms-verification","backup-unsuccessful","wallet-upgrade-flow-view","wallet-delegation-view","waas-backup-progress-view"],WKe=["mfa-verification","mfa-choose-device","mfa-secure-device","mfa-display-backup-codes","mfa-recovery","passkey-setup","passkey-confirm"],qKe=["login-with-email-or-wallet-full-wallet-list","login-with-email-verification","login-with-sms-verification","network-not-supported","passkey-recovery-complete","passkey-recovery-start","passkey-recovery-bundle","passkey-confirm","rename-passkey","mobile-wallet-redirect-view","qr-code","mfa-verification","mfa-display-backup-codes","mfa-recovery","user-delete-account","backup-unsuccessful","waas-backup-view","waas-backup-info-view","waas-backup-cloud-provider-view","waas-backup-download-view","waas-backup-progress-view","waas-backup-success-view"],eue=()=>{const{view:e}=At(),t=x3(),{showAuthFlow:n}=$e(),i=!(t&&y_(t)&&WKe.includes(e.type))&&(!n||!FKe.includes(e.type)),o=i&&!qKe.includes(e.type);return{allowsClosing:i,showCloseButton:o}},zKe=({disabled:e,inputKey:t,onKeyPressed:n})=>{x.useEffect(()=>{const r=i=>{e||i.key!==t||n(i)};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,n])},VKe=({children:e,handleClose:t,withBackdrop:n=!0,whiteList:r})=>{const{allowsClosing:i}=eue(),o=x.useCallback(s=>{i&&(s.stopPropagation(),t(s))},[i,t]);return zKe({disabled:!i,inputKey:"Escape",onKeyPressed:t}),f.jsxs(yce,{className:"modal-component__container",whiteList:r,children:[n&&f.jsx("div",{"data-testid":"portal-backdrop",role:"button",onClick:o,tabIndex:0,"aria-label":"Close modal",className:"modal-component__backdrop"}),f.jsx("div",{children:e})]})},uv=({children:e,isShown:t,handleClose:n,withBackdrop:r,zIndex:i,transitionEvents:o,elementId:s="dynamic-modal"})=>{const{createRootElement:a}=rg(),l=a(s),c=x.useCallback(d=>l.current.contains(d),[l]);return xm.createPortal(f.jsx(R_,{zIndex:i,dataTestId:"dynamic-modal-shadow",children:f.jsx(__,Object.assign({isShown:t},o,{children:f.jsx(VKe,{handleClose:n,withBackdrop:r,whiteList:c,children:e})}))}),l.current)},KKe=({chain:e,chainName:t})=>{const n=Hc(t);return f.jsx(Nt,{size:"small",children:e!=null&&e.icon?f.jsx("img",{src:e.icon,alt:`${e.name} icon`}):f.jsx(n,{})})},HKe=e=>e<1?"":e%10===1&&e%100!==11?`${e}st`:e%10===2&&e%100!==12?`${e}nd`:e%10===3&&e%100!==13?`${e}rd`:`${e}th`,GKe=({children:e,htmlFor:t,className:n,divider:r})=>f.jsx("label",{className:Ke("form-field-label",{"form-field-label__with-divider":r},n),htmlFor:t,children:e});var XG,JKe=["title","titleId"];function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SN.apply(null,arguments)}function ZKe(e,t){if(e==null)return{};var n,r,i=YKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ku=function(t){var n=t.title,r=t.titleId,i=ZKe(t,JKe);return x.createElement("svg",SN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,XG||(XG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.293 19.707a1 1 0 0 1 0-1.414L14.586 12 8.293 5.707a1 1 0 0 1 1.414-1.414l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414 0Z",fill:"currentColor"})))};const XKe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],dj=({isOpen:e,onClickClose:t,popperProps:n,dropdownClassName:r,dropdownStyle:i,overlayCardClassName:o,overlayCardStyle:s,className:a,style:l,children:c,mobileTitle:d})=>rr()?f.jsxs(jc,{isOpen:e,onClose:t,className:Ke(o,a),style:Object.assign(Object.assign({},l),s),children:[f.jsx(jc.Header,{children:d}),f.jsx(jc.Content,{removePadding:!0,children:f.jsx("div",{className:"menu-list__overlay-card__container",children:c})})]}):f.jsx(A3,Object.assign({isOpen:e,onClickOutside:t,onScroll:t,className:Ke(r,a),style:Object.assign(Object.assign({},l),i)},n,{children:c})),QKe=({tokenBalances:e,currentToken:t,setCurrentToken:n,isLoading:r,setFieldValue:i,setErrors:o})=>{const{t:s}=Xe(),[a,l]=x.useState(!1),c=(e==null?void 0:e.filter(g=>g.name))||[],{primaryWallet:d}=$e(),u=x.useRef(null),h=g=>de(void 0,void 0,void 0,function*(){if(!d||!("getPublicClient"in d)||typeof d.getPublicClient!="function")return;const y=yield d.getPublicClient();if(!y)return;const b={abi:XKe,address:g.address},k=yield y.multicall({contracts:[Object.assign(Object.assign({},b),{args:[d==null?void 0:d.address],functionName:"balanceOf"}),Object.assign(Object.assign({},b),{functionName:"decimals"})]}),[_,R]=k.map(I=>Number(I.result));if(_&&R){if(g.balance=_/Math.pow(10,R),g.rawBalance=_,e){const I=e.findIndex(T=>T.name===g.name);e[I]=g}g.decimals=R}}),m=g=>de(void 0,void 0,void 0,function*(){var y,b;const k=(y=e==null?void 0:e.find(_=>_.name===g))!==null&&y!==void 0?y:void 0;k!=null&&k.address&&(k!=null&&k.address.startsWith("0x"))&&h(k),k&&(e&&(!((b=e[0])===null||b===void 0)&&b.price)&&g1("nativePrice",e[0].price),n(k),i("amount",""),g1("amount",0),o({})),l(!a)});if(r)return f.jsx(Vo,{});const v=(g,y)=>g!=null&&g.logoURI?f.jsx("img",{src:g.logoURI,alt:g==null?void 0:g.name,width:y,height:y}):f.jsx("div",{className:"token-balance-item__skeleton-icon","data-testid":"token-balance-item__skeleton-icon"});return f.jsxs("div",{className:"tokens-balance-dropdown",ref:u,onClick:()=>l(!a),"data-testid":"tokens-balance-dropdown",children:[!r&&f.jsxs("div",{className:"tokens-balance-dropdown__selected",children:[v(t,"20"),f.jsx(se,{variant:"body_normal",color:"primary",children:t==null?void 0:t.name}),f.jsx(Nt,{color:"text-primary",size:"small",className:Ke("evm-network-control__arrow-icon",{"evm-network-control__arrow-icon--active":a}),children:f.jsx(Ku,{})})]}),f.jsx(dj,{className:"tokens-balance-dropdown__menu_list",isOpen:a,popperProps:{anchorOrigin:"bottom-left",anchorRef:u},mobileTitle:"Select token",children:c.length>0?c.map(g=>f.jsxs("button",{className:"tokens-balance-dropdown__menu_list_item",onClick:()=>m(g.name),children:[f.jsxs("div",{className:"tokens-balance-dropdown__menu_list_item__name",children:[v(g,"16"),f.jsx(se,{variant:"body_small",color:"primary",children:g.name})]}),f.jsxs("div",{className:"tokens-balance-dropdown__menu_list_item__balance",style:{alignItems:"flex-end",display:"flex",flexDirection:"column"},children:[f.jsx(se,{variant:"body_small",color:"secondary",children:g.symbol}),f.jsx(se,{variant:"body_small",color:"primary",children:g.balance})]})]},g.address)):f.jsx("div",{className:"token-balance-list__empty",children:f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_information.multi_asset.empty_state",children:s("dyn_wallet_information.multi_asset.empty_state")})})})]})},eHe={amount:"",recipient:""},QG=(e,t,n,r)=>{const i={amount:{invalidDecimals:t("dyn_send_transaction.validation.amount.invalid_decimals",{decimals:r}),invalidFormat:t("dyn_send_transaction.validation.amount.invalid_decimals",{decimals:r}),overBalance:t("dyn_send_transaction.validation.amount.over_balance"),required:t("dyn_send_transaction.validation.amount.required")},recipient:{invalidFormat:t("dyn_send_transaction.validation.recipient.invalid_format"),required:t("dyn_send_transaction.validation.recipient.required")}},o=e[n];return o?i[n][o].replace("{decimals}",HKe(r??0)):""},tHe=({initialValues:e,onSubmit:t,decimals:n=18,validateAddress:r=()=>!0,validateAmount:i=()=>!0,currentToken:o,transaction:s,tokenBalances:a,setCurrentToken:l,isLoading:c})=>{const{t:d}=Xe(),{showFiat:u}=$e(),h=x.useRef(null),[m,v]=x.useState(0),{amount:g}=ZM();x.useEffect(()=>{if(h.current){const b=h.current.offsetWidth;v(b+15)}},[o]);const y=x.useMemo(()=>{const b=new RegExp(`^\\d*(\\.\\d{1,${n}})?$`);return i1().shape({amount:Ar().required("required").matches(/^\d*(\.\d+)?$/,"invalidFormat").matches(b,"invalidDecimals").test({message:"overBalance",test:k=>i(k)}),recipient:Ar().required("required").test({message:"invalidFormat",test:k=>r(k)})})},[n,r,i]);return f.jsx(B3,{initialValues:e||eHe,validationSchema:y,onSubmit:b=>t(b),validateOnChange:!1,validateOnBlur:!1,children:({errors:b,touched:k,values:_,handleChange:R,setFieldValue:I,setErrors:T,handleBlur:M,setFieldTouched:D,validateField:A})=>{var U;return f.jsxs(S_,{className:"send-balance-form",children:[f.jsxs("div",{className:"send-balance-page-layout__balance-container",children:[f.jsx(GKe,{children:"Select any token"}),f.jsx(QKe,{tokenBalances:a??(o&&[o]),currentToken:o,setCurrentToken:l,isLoading:c,setFieldValue:I,setErrors:T})]}),f.jsxs("div",{className:"send-balance-form__amount-container",children:[f.jsx(jh,{variant:"regular",className:`send-balance-form__amount-container__field ${u?"fiat":""}`,name:"amount",id:"amount",onChange:$=>{const q=$.target.value;if(!(q!==""&&!/^(?:\d+|\d*\.\d*|)$/.test(q))){if(T({}),R($),!q||Number.isNaN(q)){g1("amount",0);return}g1("amount",o!=null&&o.price?Number(q):void 0)}},onBlur:$=>{M($),D("amount",!0),A("amount")},placeholder:d("dyn_send_transaction.data.amount.placeholder"),as:Sl,error:b.amount,copykey:"dyn_send_transaction.data.amount.label",message:k.amount&&QG(b,d,"amount",n),style:{paddingLeft:`${m}px`}}),f.jsx("div",{className:"send-balance-form__amount-container__floating_value",ref:h,children:f.jsx(se,{variant:"title",weight:"regular",color:"secondary",children:o==null?void 0:o.symbol})}),f.jsx("div",{className:"send-balance-form__amount-container__balance",children:u&&!Number.isNaN(g)&&f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_mini",weight:"bold",color:"secondary",children:"$"}),f.jsx(se,{variant:"body_mini",weight:"regular",color:"secondary",children:zde(g,o)})]})})]}),f.jsx(se,{className:"send-balance-form__amount_available",variant:"body_small",weight:"regular",color:"secondary",as:"div",children:f.jsxs("div",{style:{display:"flex",gap:"0.225rem"},children:[f.jsx(se,{className:"send-balance-form__amount_available__line",variant:"body_small",weight:"bold",color:"primary",as:"div",children:(U=o==null?void 0:o.balance)!==null&&U!==void 0?U:0}),`${o==null?void 0:o.symbol} Available`]})}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:"dyn_send_transaction.data.recipient.label",children:"Recipient Address"}),f.jsx(jh,{className:"send-balance-form__field",placeholder:d("dyn_send_transaction.data.recipient.placeholder"),label:d("dyn_send_transaction.data.recipient.label"),id:"recipient",name:"recipient",as:Sl,error:b.recipient,copykey:"dyn_send_transaction.data.recipient.label",message:k.recipient&&QG(b,d,"recipient")}),f.jsx(xt,{dataTestId:"sendBalanceFormSubmitButton",expanded:!0,type:"submit",buttonVariant:"primary",buttonPadding:"small",buttonClassName:"send-balance-form__button",copykey:"dyn_send_transaction.preview_transaction",children:d("dyn_send_transaction.preview_transaction")})]})}})},nHe="0x0000000000000000000000000000000000000000",rHe="11111111111111111111111111111111",iHe=({error:e,onClickClose:t,onClickBack:n,onSubmit:r,displayPoweredByDynamicFooter:i=!1,transaction:o,networkCurrencyDecimals:s,tokenBalances:a,currentToken:l,setCurrentToken:c,isLoading:d,isNativeToken:u})=>{var h;const{t:m}=Xe(),{primaryWallet:v,projectSettings:g,overrides:y}=$e(),b=F3({evmNetworksOverrides:y==null?void 0:y.evmNetworks,projectSettings:g}),k=v==null?void 0:v.connector,{chain:_}=A_(k),R=t&&f.jsx(Sn,{type:"button",onClick:t,"data-testid":"close-button",children:f.jsx(Oi,{})}),I=n&&f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Xh,{})}),{data:T}=vr(()=>o.getBalance(),{deps:[o]});x.useEffect(()=>{const D=()=>de(void 0,void 0,void 0,function*(){var U;const $=sj({chain:(U=v==null?void 0:v.connector)===null||U===void 0?void 0:U.connectedChain,networkId:_==null?void 0:_.chainId,networkInfo:b});if(!$){Ie.error("Token info not found. Please make sure you are on a supported chain and it is enabled. See https://docs.dynamic.xyz/chains/enabling-chains");return}const q={address:(_==null?void 0:_.name)==="Solana"?rHe:nHe,balance:0,decimals:$.nativeCurrency.decimals,isNative:!0,logoURI:$.nativeCurrency.iconUrl||$.iconUrls[0],name:$.name,rawBalance:0,symbol:$.nativeCurrency.symbol},z=yield v==null?void 0:v.getBalance();z&&(q.balance=Number(z),q.rawBalance=Number(z)/Math.pow(10,q.decimals)),c(q)});de(void 0,void 0,void 0,function*(){d||(a===void 0||Array.isArray(a)&&a.length===0?yield D():l||c(a[0]))})},[a,_]);const M=()=>u?o.value?o.format(o.value):"":o!=null&&o.formatNonNativeToken&&(o!=null&&o.nonNativeValue)&&(o!=null&&o.nonNativeDecimal)?o.formatNonNativeToken(o.nonNativeValue,o.nonNativeDecimal):"";return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:I,trailing:R,alignContent:"bottom",children:f.jsx("div",{className:"send-balance-page-layout__header-content",children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_send_transaction.data.send",children:m("dyn_send_transaction.data.send")})})}),f.jsxs("div",{className:"send-balance-page-layout__body",children:[f.jsx(Hu,{animationComponent:f.jsx(ig,{}),children:e&&f.jsx("div",{className:"send-balance-page-layout__error",children:f.jsx(tc,{icon:"error",variant:"error",children:e})})}),f.jsx(tHe,{tokenBalances:a,setCurrentToken:c,isLoading:d,onSubmit:({amount:D,recipient:A})=>{u?o.value=o.parse(D):o.parseNonNativeToken&&(o.nonNativeValue=o.parseNonNativeToken(D,(l==null?void 0:l.decimals)||18),o.value=BigInt(0),o.nonNativeAddress=l==null?void 0:l.address,o.nonNativeDecimal=l==null?void 0:l.decimals),o.to=A,r()},initialValues:{amount:M(),recipient:(h=o.to)!==null&&h!==void 0?h:""},decimals:u?s:l==null?void 0:l.decimals,validateAddress:D=>D?o.validateAddressFormat(D):!0,validateAmount:D=>D?u?T?o.parse(D)<=T:!1:!(l!=null&&l.rawBalance)||!o.parseNonNativeToken?!1:Number(o.parseNonNativeToken(D,(l==null?void 0:l.decimals)||18))<=l.rawBalance:!1,currentToken:l,transaction:o}),i&&f.jsx(Gc,{classNameRoot:"send-balance-page-layout__footer"})]})]})};var eJ,oHe=["title","titleId"];function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IN.apply(null,arguments)}function sHe(e,t){if(e==null)return{};var n,r,i=aHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var lHe=function(t){var n=t.title,r=t.titleId,i=sHe(t,oHe);return x.createElement("svg",IN({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,eJ||(eJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm12.845-39.155a1.667 1.667 0 1 0-2.357-2.357L27.5 37.976l-5.488-5.488a1.667 1.667 0 1 0-2.357 2.357l6.666 6.667c.651.65 1.707.65 2.357 0l16.667-16.667Z",fill:"#4779FF"})))};const cHe=({destinationAddress:e,transactionValue:t,networkCurrency:n,onDone:r,displayPoweredByDynamicFooter:i=!0,onClickClose:o,transaction:s,currentToken:a,isNativeToken:l,transactionHash:c})=>{const{t:d}=Xe(),{showFiat:u,primaryWallet:h}=$e(),{nativePrice:m}=ZM(),{data:v}=vr(()=>de(void 0,void 0,void 0,function*(){if(!(!(h!=null&&h.connector)||!c))return eVe({transactionHash:c,walletConnector:h.connector})})),g=o&&f.jsx(Sn,{type:"button",onClick:o,"data-testid":"close",children:f.jsx(Oi,{})}),y=Lde(a,s,m,t);return f.jsxs("div",{className:"transaction-status-layout",children:[f.jsx(Zn,{trailing:g,alignContent:"bottom",children:f.jsx(Nt,{size:"large",className:"transaction-status-layout__status-icon",children:f.jsx(lHe,{})})}),f.jsxs("div",{className:"transaction-status-layout__body",children:[f.jsxs("div",{className:"transaction-status-layout__sent_to",children:[f.jsxs(se,{variant:"body_small",color:"secondary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:[d("dyn_send_transaction.succeeded.title")," "]}),f.jsx(se,{variant:"body_small",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:Ni(e)})]}),f.jsx("div",{className:"transaction-status-layout__content",children:f.jsx("div",{className:"transaction-status-layout__rows",children:f.jsxs(se,{variant:"title",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:[`${qde(l,s)} ${n} `,u&&(a==null?void 0:a.price)&&y!==void 0&&`($${Number(y)<=.01?"<0.01":y})`]})})}),f.jsx(Hu,{animationComponent:f.jsx(ig,{}),children:f.jsx("div",{className:"transaction-confirmation__warning",children:f.jsx(tc,{variant:"info",copykey:"dyn_send_transaction.info_message.refresh_balance_time",children:d("dyn_send_transaction.info_message.refresh_balance_time")})})}),f.jsx("div",{className:"transaction-status-layout__transaction-link-container",children:v&&f.jsx(se,{as:"a",href:v,target:"_blank",rel:"noreferrer",className:"transaction-status-layout__transaction-link-container__transaction-link",variant:"body_small",children:d("dyn_wallet_funding.success_txn_link")})}),f.jsx("div",{className:"transaction-status-layout__actions",children:f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"small",expanded:!0,onClick:r,loading:!1,copykey:"dyn_send_transaction.succeeded.continue_button",dataTestId:"transaction-done-continue",children:d("dyn_send_transaction.succeeded.continue_button")})}),i&&f.jsx(Gc,{classNameRoot:"transaction-status-layout__footer"})]})]})},dHe=e=>{const{data:t}=vr(()=>e==null?void 0:e.connector.getNetwork(!0),{enabled:!!e});if(!(!e||!t))return e.connector.getEnabledNetworks().find(n=>n.chainId===t)},uHe=()=>x.useCallback(e=>de(void 0,[e],void 0,function*({mfaAction:t}){return Kse({mfaAction:t})}),[]),tJ=e=>!!e.isNative,nJ=(e,t)=>t?e.value?e.format(e.value,{precision:6}):"0":e.nonNativeValue&&e.formatNonNativeToken?e.formatNonNativeToken(e.nonNativeValue,e.nonNativeDecimal||18):"0",fHe=e=>{const t={APTOS:nr.Aptos,BTC:nr.Btc,EVM:nr.Evm,SOL:nr.Sol,SUI:nr.Sui,TRON:nr.Tron};return e&&e in t?t[e]:nr.Evm},hHe=({initialRecipientAddress:e="",initialValue:t,onClickBack:n,onClickClose:r,onError:i,onSuccess:o,onDone:s,displayPoweredByDynamicFooter:a=!1})=>{const[l,c]=x.useState("form"),{primaryWallet:d,walletUiUtils:u}=$e(),h=uHe(),m=_de(),{t:v}=Xe(),[g,y]=x.useState(!1),[b,k]=x.useState(void 0),[_,R]=x.useState(void 0),[I,T]=x.useState(void 0),{showFiat:M}=$e(),D=d==null?void 0:d.connector,{chain:A}=A_(D),{tokenBalances:U,isLoading:$}=wde({chainName:fHe(D==null?void 0:D.connectedChain),includeFiat:M,includeNativeBalance:!0});if(!d)throw new Se("Primary wallet is not available, send balance cannot be displayed");if(D&&!RD(D))throw new Se("Primary wallet is not eligible for this operation. It must implement ISendBalanceWalletConnector");const[q,z]=x.useState(null);x.useEffect(()=>{const O=(D==null?void 0:D.connectedChain)==="EVM"?nKe(Number(A==null?void 0:A.chainId)):void 0;return g1("chainName",O||(A==null?void 0:A.name)||(D==null?void 0:D.connectedChain)),()=>{Yqe()}},[A==null?void 0:A.chainId,A==null?void 0:A.name,D==null?void 0:D.connectedChain]),x.useEffect(()=>{U&&R(U)},[U]),x.useEffect(()=>{D&&(b&&y(tJ(b)),D.createUiTransaction(d==null?void 0:d.address).then(O=>{e&&(O.to=e),t&&(O.value=t),b&&!tJ(b)&&(O.nonNativeAddress=b==null?void 0:b.address,O.nonNativeValue=BigInt(0),O.nonNativeDecimal=b==null?void 0:b.decimals),z(O)}).catch(O=>{if(Ie.debug("[SendBalanceView] Error creating transaction",O),O instanceof Se&&O.code==="0"){s==null||s();return}i==null||i(O)}))},[b]);const S=dHe(d);if(!q||!S)return f.jsx("div",{className:"send-balance-widget-view__spinner","data-testid":"send-balance-spinner",children:f.jsx(I_,{})});const E=O=>de(void 0,void 0,void 0,function*(){(D==null?void 0:D.connectedChain)==="SOL"&&setTimeout(()=>rt.emit("tokenBalancesChanged"),5e3),D!=null&&D.confirmTransactionStatus&&(yield D==null?void 0:D.confirmTransactionStatus(O),rt.emit("tokenBalancesChanged"))}),N=(b==null?void 0:b.symbol)||S.nativeCurrency.symbol,P=(A==null?void 0:A.name)&&f.jsx(KKe,{chain:A,chainName:A.name}),j=()=>f.jsx(iHe,{transaction:q,onClickBack:n,networkName:S.vanityName||S.name,networkIcon:P,networkCurrencyDecimals:S.nativeCurrency.symbol==="SOL"?9:S.nativeCurrency.decimals,walletAddress:Ni(b==null?void 0:b.address),walletKey:d==null?void 0:d.connector.key,onClickClose:r,displayPoweredByDynamicFooter:a,onSubmit:()=>c("confirmation"),tokenBalances:_??(b&&[b]),currentToken:b,setCurrentToken:k,isLoading:$,isNativeToken:g}),V=()=>f.jsx(Gde,{walletConnector:d==null?void 0:d.connector,transaction:q,mutation:()=>de(void 0,void 0,void 0,function*(){return d.connector.key==="dynamicwaas"&&(yield h({mfaAction:_h.WalletWaasSign}))&&(yield m({createMfaToken:!0})),u.disabledConfirmationOnce(),q.submit()}),copykey:"dyn_send_transaction.confirmation.title",title:v("dyn_send_transaction.confirmation.title"),onClickBack:()=>c("form"),onError:i,displayPoweredByDynamicFooter:a,onSuccess:O=>de(void 0,void 0,void 0,function*(){O&&(o==null||o(O),T(O),c("success"),E(O))}),currentToken:b,isNativeToken:g,transactionValue:nJ(q,g),sendBalanceTransaction:!0}),K=()=>{var O;return f.jsx(cHe,{transactionValue:nJ(q,g),destinationAddress:(O=q.to)!==null&&O!==void 0?O:"",networkCurrency:N,networkName:S.name||"",NetworkIcon:P,onClickClose:r,onDone:()=>s==null?void 0:s(),displayPoweredByDynamicFooter:a,transaction:q,currentToken:b,isNativeToken:g,transactionHash:I})};return(()=>{switch(l){case"form":return j();case"confirmation":return V();case"success":return K()}})()},pHe=({initialRecipientAddress:e,initialValue:t,onReject:n,onSuccess:r})=>{av(!0);const[i,o]=x.useState(!0),s=x.useRef(null),a=x.useRef(null),l=x.useCallback(()=>{if(a.current){r(a.current);return}n(s.current||new ooe)},[n,r]),c=()=>{o(!1)};return f.jsx(uv,{handleClose:c,isShown:i,zIndex:nv,withBackdrop:!0,elementId:"dynamic-send-balance",transitionEvents:{onUnmount:l},children:f.jsx(dv,{children:f.jsx(Cm,{children:f.jsx(ig,{isShown:!0,children:f.jsx(xM,{children:f.jsx(hHe,{initialRecipientAddress:e,initialValue:t,onError:d=>s.current=d,onClickClose:c,onDone:c,displayPoweredByDynamicFooter:!0,onSuccess:d=>{s.current=null,a.current=d}})})})})})})},mHe=new Se("No wallet connected"),gHe=new Se("Primary wallet must use embedded wallet"),tue=x.createContext(void 0),yHe=({children:e})=>{const{primaryWallet:t}=$e(),{open:n,modal:r}=Up({elementId:"dynamic-send-balance"}),i=x.useCallback(o=>de(void 0,void 0,void 0,function*(){return n((s,a)=>{if(!t)throw mHe;if(!RD(t.connector))throw gHe;return f.jsx(pHe,{onReject:a,onSuccess:s,initialRecipientAddress:o==null?void 0:o.recipientAddress,initialValue:o==null?void 0:o.value})})}),[n,t]);return f.jsxs(tue.Provider,{value:{open:i},children:[r,e]})},vHe=()=>{const e=x.useContext(tue);if(e===void 0)throw new Error("usage of useSendBalance not wrapped in `SendBalanceContextProvider`.");if(x.useContext(ij)===void 0)throw new Error("usage of useSendBalance not wrapped in `PasskeyContextProvider`.");return e};var rJ,wHe=["title","titleId"];function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EN.apply(null,arguments)}function bHe(e,t){if(e==null)return{};var n,r,i=_He(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _He(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var xHe=function(t){var n=t.title,r=t.titleId,i=bHe(t,wHe);return x.createElement("svg",EN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,rJ||(rJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.512 12a9.004 9.004 0 0 0 16.977 0 9.004 9.004 0 0 0-16.977 0Zm-2.008-.3C2.906 7.238 7.074 4 12 4c4.927 0 9.095 3.238 10.497 7.7a1 1 0 0 1 0 .6C21.095 16.762 16.927 20 12 20c-4.927 0-9.095-3.238-10.497-7.7a1 1 0 0 1 0-.6ZM12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"#ABACB2"})))},iJ,kHe=["title","titleId"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(null,arguments)}function SHe(e,t){if(e==null)return{};var n,r,i=IHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var EHe=function(t){var n=t.title,r=t.titleId,i=SHe(t,kHe);return x.createElement("svg",CN({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,iJ||(iJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 3a3.751 3.751 0 0 0-3.59 4.84.743.743 0 0 1-.187.746L3 13.062V15h1.5v-.75a.75.75 0 0 1 .75-.75H6v-.75a.75.75 0 0 1 .75-.75h1.188l1.476-1.473a.743.743 0 0 1 .746-.187A3.751 3.751 0 1 0 11.25 3ZM6 15v.75a.75.75 0 0 1-.75.75H3A1.5 1.5 0 0 1 1.5 15v-1.938c0-.398.156-.78.438-1.062l4.171-4.172A5.251 5.251 0 0 1 11.25 1.5a5.251 5.251 0 0 1 5.251 5.25 5.251 5.251 0 0 1-6.328 5.14l-1.39 1.391a.75.75 0 0 1-.532.219H7.5v.75a.75.75 0 0 1-.75.75Zm4.5-9.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25.75.75 0 0 1-1.5 0 .75.75 0 0 0-.75-.75.75.75 0 0 1-.75-.75Zm0 0",fill:"currentColor"})))},oJ,CHe=["title","titleId"];function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AN.apply(null,arguments)}function AHe(e,t){if(e==null)return{};var n,r,i=RHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var THe=function(t){var n=t.title,r=t.titleId,i=AHe(t,CHe);return x.createElement("svg",AN({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,oJ||(oJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.935 4.066a2.5 2.5 0 0 0-3.536 0l-.916.916a.833.833 0 0 1-1.179-1.179l.917-.916a4.167 4.167 0 0 1 5.892 5.893l-1.81 1.81-1.178-1.18 1.81-1.809a2.5 2.5 0 0 0 0-3.535Zm-10.06 6.523L4.698 9.411l-1.81 1.81a4.167 4.167 0 1 0 5.893 5.892l.918-.918a.833.833 0 0 0-1.179-1.178l-.918.917A2.5 2.5 0 0 1 4.066 12.4l1.81-1.81Zm-.488-6.38A.833.833 0 1 0 4.21 5.387l10.017 10.017a.833.833 0 1 0 1.179-1.178L5.387 4.209Z",fill:"currentColor"})))},sJ,OHe=["title","titleId"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(null,arguments)}function NHe(e,t){if(e==null)return{};var n,r,i=PHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var nue=function(t){var n=t.title,r=t.titleId,i=NHe(t,OHe);return x.createElement("svg",RN({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,sJ||(sJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 4a1 1 0 0 0 0 2h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-14a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h12a1 1 0 1 1 0 2h-12Zm-1 3.83V19a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-14c-.35 0-.687-.06-1-.17Zm11 6.17a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",fill:"#ABACB2"})))},aJ,BHe=["title","titleId"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TN.apply(null,arguments)}function DHe(e,t){if(e==null)return{};var n,r,i=MHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var rue=function(t){var n=t.title,r=t.titleId,i=DHe(t,BHe);return x.createElement("svg",TN({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,aJ||(aJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 64c17.673 0 32-14.327 32-32C64 14.327 49.673 0 32 0 14.327 0 0 14.327 0 32c0 17.673 14.327 32 32 32Zm8.334-45.333a3.333 3.333 0 0 0-3.333-3.334h-15a6.669 6.669 0 0 0-6.56 5.473 6.649 6.649 0 0 1 4.893-2.14h20ZM42 22a6.667 6.667 0 0 1 6.667 6.667V42A6.667 6.667 0 0 1 42 48.667H22A6.667 6.667 0 0 1 15.334 42V28.667A6.667 6.667 0 0 1 22 22h20Z",fill:"#4779FF","data-testid":"wallet-icon-embedded"})))},lJ,cJ,jHe=["title","titleId"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(null,arguments)}function $He(e,t){if(e==null)return{};var n,r,i=LHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var UHe=function(t){var n=t.title,r=t.titleId,i=$He(t,jHe);return x.createElement("svg",ON({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,lJ||(lJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16Zm4.667-23.467c0-1.03-.836-1.866-1.867-1.866h-8.4A3.734 3.734 0 0 0 6.727 9.73a3.723 3.723 0 0 1 2.74-1.198h11.2ZM21.6 10.4a3.733 3.733 0 0 1 3.733 3.733V21.6a3.733 3.733 0 0 1-3.733 3.733H10.4A3.733 3.733 0 0 1 6.667 21.6v-7.467A3.733 3.733 0 0 1 10.4 10.4h11.2Z",fill:"#4779FF"})),cJ||(cJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.455 12.667c.2 0 .38.123.452.31l.572 1.486c.145.379.191.488.254.576a.97.97 0 0 0 .228.228c.088.063.197.109.576.255l1.486.57a.485.485 0 0 1 0 .906l-1.486.571c-.379.146-.488.192-.576.255a.97.97 0 0 0-.228.228c-.063.088-.109.197-.254.576l-.572 1.485a.485.485 0 0 1-.905 0l-.571-1.485c-.146-.379-.192-.488-.254-.576a.97.97 0 0 0-.229-.229c-.088-.062-.197-.108-.576-.254l-1.485-.571a.485.485 0 0 1 0-.905l1.485-.572c.38-.145.488-.191.576-.254a.97.97 0 0 0 .229-.228c.062-.088.108-.197.254-.576l.571-1.486a.485.485 0 0 1 .453-.31ZM13.333 18c.184 0 .352.104.434.268l.38.76c.137.275.18.353.23.42.05.065.11.124.176.175.066.051.144.093.418.23l.761.38a.485.485 0 0 1 0 .867l-.76.38c-.274.138-.353.18-.42.23a.968.968 0 0 0-.175.176c-.05.066-.093.145-.23.419l-.38.76a.485.485 0 0 1-.867 0l-.38-.76c-.138-.274-.18-.353-.23-.419a.968.968 0 0 0-.176-.176c-.066-.05-.145-.092-.419-.23l-.76-.38a.485.485 0 0 1 0-.867l.76-.38c.274-.137.353-.179.419-.23a.968.968 0 0 0 .176-.176c.05-.066.092-.144.23-.418l.38-.761a.485.485 0 0 1 .433-.268Z",fill:"#4779FF"})))};const W3=()=>{const e=E_();return x.useCallback(t=>jD(t,e),[e])},NN=({iconSize:e=24,chainName:t,Icon:n,showNetwork:r=!0,walletKey:i,iconUrl:o})=>{const s=t?Hc(t):void 0;return f.jsxs("div",{className:"wallet-icon-with-network__container",children:[n?f.jsx(n,{style:{height:Ut(e),width:Ut(e)}}):f.jsx(oi,{icon:o,walletKey:i,style:{height:Ut(e),width:Ut(e)}}),s&&r&&f.jsx("div",{"data-testid":"network-container",className:Ke("wallet-icon-with-network__network-container"),children:f.jsx(s,{})})]})},FHe=({findSocialIcon:e,wallet:t,user:n})=>{if(ED(t.connector))return y0;if(X1(t.connector)){const r=Ele(n,t.id);if(!r||!r.oauthProvider)return y0;const{oauthProvider:i}=r;try{return e(i)}catch(o){Ie.error(o)}}return n3(t.connector)?UHe:CD(t.connector)?rue:null},uj=({iconSize:e=64,showNetworkIcon:t=!1,wallet:n})=>{const{primaryWallet:r,selectedWalletConnector:i,user:o,userWithMissingInfo:s}=$e(),{deniedOauthProvider:a,deniedAddress:l}=d_(),{isLoadingEmbeddedWallet:c}=S3(),d=W3();if(a){const m=d(a);return m?f.jsx(m,{style:{height:Ut(e),width:Ut(e)}}):null}if(l)return f.jsx(oi,{walletKey:i==null?void 0:i.key,icon:i==null?void 0:i.metadata.icon,style:{height:Ut(e),width:Ut(e)}});const u=n||r;if(!u)return c?f.jsx(NN,{iconSize:e,Icon:rue,chainName:"EVM",showNetwork:!1}):null;const h=FHe({findSocialIcon:d,user:o??s,wallet:u});return f.jsx(NN,{iconSize:e,Icon:h??null,chainName:u.chain,showNetwork:t,walletKey:u.key,iconUrl:u.connector.metadata.icon})},WHe=(e,t,n)=>{const r=new RegExp(t,"g");return e.replace(r,n)},qHe=e=>Math.floor(Gie(e,13)),zHe=1e3,dJ=1e6,uJ=1e4,VHe=(e,t=4)=>{const n=parseFloat(WHe(e,'"',""));if(n>dJ){const s=Math.floor(n);return`${Math.floor(s/dJ*uJ)/uJ}M`}if(n>zHe)return String(Math.floor(n));const r=Math.pow(10,t),i=1/r;if(n<i&&n>0)return`< ${i}`;const o=qHe(n*r)/r;return o===0?"0.0":String(o)},KHe=(e,t)=>{var n;if(!e||!(t!=null&&t.length)||!f6e(e))return;const r=(n=t.find(i=>i.provider===pn.MagicLink))===null||n===void 0?void 0:n.keyExportUrl;if(r)return()=>{Ln.openURL(r,"blank")}},iue=(e,t,n)=>t==null?void 0:t.find(({address:r})=>$a(r||"",e||"",n)),q3=({address:e,chain:t}={})=>{var n;const{getNameService:r,network:i}=$e(),o=(n=x3())===null||n===void 0?void 0:n.verifiedCredentials,s=x.useMemo(()=>{var l;if(!(!e||!t))return(l=iue(e,o,t))===null||l===void 0?void 0:l.nameService},[e,t,o]),{data:a}=vr(()=>r(e),{deps:[e,i,r]});return s??a},fj=({className:e})=>f.jsxs("div",{className:Ke("network-control-skeleton",e),"data-testid":"network-control-loading",children:[f.jsx("div",{className:"network-control-skeleton__icon"}),f.jsx(Vo,{className:"network-control-skeleton__skeleton"})]}),j2=({showMsg:e})=>{const{t}=Xe();return f.jsxs(f.Fragment,{children:[f.jsx(Nt,{size:"small",color:"text-error",children:f.jsx(Zh,{})}),e&&f.jsx(se,{className:"evm-network-control__network-name",as:"span",color:"error-1",variant:"body_small",copykey:"dyn_network_not_supported.button",children:t("dyn_network_not_supported.button")})]})},HHe=({enabledNetworks:e,className:t="",activeClassName:n="",network:r,walletConnector:i,isOpen:o,setIsOpen:s,showNetworkName:a=!1})=>{var l,c;const d=e.find(u=>r&&u.chainId.toString()===r.toString());if(!e.length)return f.jsx("div",{"data-testid":"NetworkSwitchControl",className:Ke("network-switch-control__container network-switch-control__container--error",t),children:f.jsx(j2,{showMsg:a})});if(!r){if(!i.isAvailable){const u=Hc(i.connectedChain),h=(l=Fm(i.connectedChain))===null||l===void 0?void 0:l.displayName;return f.jsxs("div",{"data-testid":"NetworkSwitchControl",className:Ke(t,"network-switch-control__container"),children:[f.jsx(Nt,{size:"small",children:f.jsx(u,{})}),a&&f.jsx(se,{className:"network-switch-control__network-name",as:"span",variant:"body_small",children:h})]})}return f.jsx("div",{"data-testid":"NetworkSwitchControl",className:Ke("network-switch-control__container",t),children:f.jsx(fj,{})})}if(e.length===1){const u=Ke(t,"network-switch-control__container","network-switch-control__container--error",{[n]:o});return d?f.jsxs("div",{"data-testid":"NetworkSwitchControl",onClick:()=>r&&s(!o),className:Ke("network-switch-control__container",{[n]:o},t),children:[d.iconUrls.length>0&&f.jsx(Nt,{size:"small",className:"network-switch-control__network-icon",children:f.jsx("img",{src:d.iconUrls[0],alt:`${d.name} icon`})}),a&&f.jsx(se,{className:"network-switch-control__network-name",as:"span",variant:"body_small",children:d.vanityName||d.name})]}):f.jsxs("button",{"data-testid":"NetworkSwitchControl",type:"button",onClick:()=>s(!o),className:u,children:[f.jsx(j2,{showMsg:a}),f.jsx(Nt,{color:"text-primary",size:"small",className:Ke("network-switch-control__arrow-icon",{"network-switch-control__arrow-icon--active":o}),children:f.jsx(Ku,{})})]})}return f.jsxs("button",{"data-testid":"NetworkSwitchControl",type:"button",onClick:u=>{u.stopPropagation(),r&&s(!o)},className:Ke(t,"network-switch-control__container",{[n]:o,"network-switch-control__container--error":!(d!=null&&d.name)}),children:[d!=null&&d.name?f.jsxs(f.Fragment,{children:[((c=d==null?void 0:d.iconUrls)===null||c===void 0?void 0:c[0])&&f.jsx(Nt,{size:"small",className:"network-switch-control__network-icon",children:f.jsx("img",{src:d.iconUrls[0],alt:`${d.name} icon`})}),a&&f.jsx(se,{className:"network-switch-control__network-name",as:"span",variant:"body_small",children:d.vanityName||d.name})]}):f.jsx(j2,{showMsg:a}),e.length>1&&f.jsx(Nt,{color:"text-primary",size:"small",className:Ke("network-switch-control__arrow-icon",{"network-switch-control__arrow-icon--active":o}),children:f.jsx(Ku,{})})]})},Nd=e=>{var t;return((t=e[0])===null||t===void 0?void 0:t.toUpperCase())+e.slice(1).toLowerCase()},GHe=({walletConnector:e,className:t,showNetworkName:n=!1,network:r,enabledNetworks:i})=>{const{chain:o,isLoading:s}=A_(e),a=Hc(e.connectedChain||""),l=x.useMemo(()=>{var u;if(!r)return;const h=(u=i==null?void 0:i.find(m=>m.chainId.toString()===r.toString()))===null||u===void 0?void 0:u.name;return h?Nd(h):void 0},[i,r]),c=x.useMemo(()=>{const u=o==null?void 0:o.name;return u?Nd(u):void 0},[o]),d=x.useMemo(()=>!l&&i&&i.length>0,[l,i]);return s?f.jsx(fj,{className:t}):f.jsxs("div",{"data-testid":"NonNetworkSwitchingSupportedControl",className:Ke("non-network-switching-supported-control",t),children:[d&&f.jsx(j2,{showMsg:n}),!d&&f.jsxs(f.Fragment,{children:[f.jsx(Nt,{size:"small",children:o!=null&&o.icon?f.jsx("img",{src:o.icon,alt:`${o.name} icon`}):f.jsx(a,{})}),n&&f.jsx(se,{className:Ke("non-network-switching-supported-control__network-name"),as:"span",variant:"body_small",children:l??c})]})]})},JHe=({loading:e,walletConnector:t,buttonClassName:n,network:r,activeClassName:i,isOpen:o,setIsOpen:s,showNetworkName:a})=>{const l=t.getEnabledNetworks(),c=t.connectedChain===nr.Evm&&typeof r=="string";return e||c?f.jsx(fj,{className:n}):t.supportsNetworkSwitching()?f.jsx(HHe,{showNetworkName:a,enabledNetworks:l,activeClassName:i,className:n,network:r,loading:e,isOpen:o,walletConnector:t,setIsOpen:s}):f.jsx(GHe,{className:n,showNetworkName:a,walletConnector:t,network:r,enabledNetworks:l})},ZHe=(e,t)=>!(t!=null&&t.find(n=>{var r;return e&&((r=n.chainId)===null||r===void 0?void 0:r.toString())===e.toString()}));var fJ,YHe=["title","titleId"];function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PN.apply(null,arguments)}function XHe(e,t){if(e==null)return{};var n,r,i=QHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var cc=function(t){var n=t.title,r=t.titleId,i=XHe(t,YHe);return x.createElement("svg",PN({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,fJ||(fJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.496 3.67a.583.583 0 0 1 0 .826l-5.834 5.833a.583.583 0 0 1-.824 0L2.504 7.996a.583.583 0 1 1 .825-.825L5.25 9.09l5.42-5.42a.583.583 0 0 1 .826 0Z",fill:"currentColor"})))};const eGe=({iconUrl:e,isActive:t,networkName:n,className:r,checkboxClassName:i="",isChanging:o,notSupported:s=!1})=>{const{t:a}=Xe();return f.jsxs("div",{className:Ke("network",r,{"network--not-supported":s}),children:[f.jsxs("div",{className:"network__container",children:[e?f.jsx("img",{src:e,className:"network__title-icon",alt:`${n} icon`}):f.jsx(Zh,{}),f.jsxs("div",{className:"network__title-container",children:[f.jsx(se,{variant:"button_primary",className:"network__title-copy",as:"span",weight:"medium",color:s?"secondary":"primary",children:n}),s&&f.jsx(se,{variant:"body_mini",className:"network__title-copy",as:"span",weight:"medium",color:s?"secondary":"primary","data-testid":"network-not-supported",copykey:"dyn_network_not_supported.wallet",children:a("dyn_network_not_supported.wallet")})]})]}),f.jsxs("div",{className:Ke("network__status-container",{"network__status-container--active":t},i),"data-testid":"single-network-checkbox",children:[t&&f.jsx(cc,{className:"network__status-icon"}),o&&f.jsx(cde,{className:"network__status-spinner-icon",size:12})]})]})},tGe=({iconUrl:e,networkId:t,network:n,onClick:r,networkName:i,checkboxClassName:o="",newNetworkId:s,notSupported:a})=>f.jsx("div",{className:Ke("network-action",{"network--not-supported":a}),onClick:()=>{!a&&r(t)},"data-testid":"network-action",children:f.jsx(eGe,{iconUrl:e,isActive:t===n,networkName:i,checkboxClassName:o,isChanging:s===t,notSupported:a})}),nGe=({anchorRef:e,connector:t,customCallbackOnSuccess:n,setIsNetworkPickerOpen:r,isNetworkPickerOpen:i,currentNetwork:o,className:s,checkboxClassName:a})=>{const[l,c]=x.useState(void 0),{data:d}=vr(()=>h6e(t)?t==null?void 0:t.getSupportedNetworks():Promise.resolve(void 0),{deps:[t,i],enabled:t.isWalletConnect,initialData:void 0});if(!t)return null;const u=t.getEnabledNetworks();if(!(ZHe(o,u)||u.length>1))return null;const m=v=>de(void 0,void 0,void 0,function*(){c(v);try{yield t.switchNetwork({networkChainId:v}),n==null||n()}catch(g){Ie.debug(g)}finally{c(void 0),r(!1)}});return f.jsx(dj,{className:s,isOpen:i,onClickClose:()=>r(!1),popperProps:{anchorOrigin:"bottom-left",anchorRef:e},mobileTitle:"Select network",children:u.map(({name:v,networkId:g,vanityName:y,iconUrls:b})=>f.jsx(tGe,{iconUrl:b==null?void 0:b[0],networkId:g,networkName:y||v,network:o,onClick:m,checkboxClassName:a,newNetworkId:l,notSupported:d&&!d.includes(`${g}`)},g))})},hj=({activeClassName:e="",buttonClassName:t="",checkboxClassName:n="",connector:r,listClassName:i="",mainClassName:o="",showNetworkName:s,customCallbackOnSuccess:a,currentNetwork:l,isLoading:c=!1})=>{const[d,u]=x.useState(!1),h=x.useRef(null),{loadingNetwork:m}=$e(),v=x.useRef(null);return r?f.jsxs("div",{className:Ke("non-widget-network-picker",o),ref:h,"data-testid":"network-picker",children:[f.jsxs("div",{className:"network-picker-network-control",children:[f.jsx(JHe,{activeClassName:e,network:l,loading:m||c,isOpen:d,setIsOpen:u,walletConnector:r,showNetworkName:s,buttonClassName:t}),f.jsx("div",{ref:v,className:"network-picker-network-control__anchor"})]}),f.jsx(nGe,{anchorRef:v,customCallbackOnSuccess:a,connector:r,className:i,checkboxClassName:n,isNetworkPickerOpen:d,setIsNetworkPickerOpen:u,currentNetwork:l})]}):null},z3=({variant:e,containerClassName:t})=>f.jsx("div",{"data-testid":"status-dot-container",className:Ke("status-dot__container",t||""),children:f.jsx("div",{"data-testid":"status-dot",className:Ke("status-dot",`status-dot--${e}`)})});var hJ,rGe=["title","titleId"];function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BN.apply(null,arguments)}function iGe(e,t){if(e==null)return{};var n,r,i=oGe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var sGe=function(t){var n=t.title,r=t.titleId,i=iGe(t,rGe);return x.createElement("svg",BN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,hJ||(hJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.955 12.806a7.373 7.373 0 1 0 9.14-7.07l.35.358a.922.922 0 1 1-1.32 1.287l-1.82-1.866a.922.922 0 0 1 .015-1.303l1.866-1.82a.922.922 0 0 1 1.287 1.32l-.182.177a9.217 9.217 0 1 1-6.548 1.01.922.922 0 0 1 .918 1.598 7.37 7.37 0 0 0-3.706 6.31Z",fill:"#ABACB2"})))};const pj=({wallet:e,network:t,className:n,variant:r="body_normal"})=>{const{currency:i,isLoading:o}=oj(e.connector,t),{balance:s,isLoading:a}=mVe({chain:i==null?void 0:i.symbol,network:t,wallet:e});return s?f.jsxs(se,{className:n,variant:r,color:"primary",children:[a?f.jsx(Vo,{className:"balance-skeleton"}):VHe(s)," ",!o&&f.jsx(se,{as:"span",variant:"body_normal",color:"secondary",children:i==null?void 0:i.symbol})]}):null},of=({text:e,className:t,style:n,fullWidth:r=!1,children:i})=>f.jsxs("div",{className:Ke("divider",t,{"divider__full-width":r,"divider__no-gap":e===void 0&&i===void 0}),style:n,children:[f.jsx("div",{className:"divider__dash"}),!!e&&f.jsx(se,{className:"divider__text",variant:"body_small",color:"secondary",children:e}),i&&f.jsx("div",{children:i}),f.jsx("div",{className:"divider__dash"})]}),aGe=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),lGe=({tokenBalance:e})=>{const{showFiat:t}=$e(),n=()=>{var r;return e.marketValue!==0&&!e.marketValue?"$-":e.marketValue>=.01?aGe.format(parseFloat((r=e.marketValue)===null||r===void 0?void 0:r.toFixed(2))):"<$0.01"};return f.jsxs("div",{className:"token-balance-item",children:[f.jsxs("div",{className:"token-balance-item__name",children:[e.logoURI?f.jsx(pde,{src:e.logoURI,alt:e.symbol,className:"token-balance-item__icon",dataTestId:"token-balance-item-icon"}):f.jsx("div",{className:"token-balance-item__skeleton-icon","data-testid":"token-balance-item__skeleton-icon"}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",className:"token-balance-item__title",color:"primary",children:e.name})})]}),f.jsxs("div",{className:"flex",children:[t?f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",style:{textAlign:"right"},children:n()}):null,f.jsx("div",{className:"token-balance-item__value",children:f.jsxs("div",{className:"token-balance-item__value__balance","data-testid":"token-balance-item-balance",children:[f.jsx(se,{variant:"body_small",color:"secondary",style:{marginRight:"2px"},children:e.balance}),f.jsx(se,{variant:"body_small",color:"secondary",className:"token-balance-item__symbol",children:e.symbol})]})})]})]},e.address)},cGe=({tokenBalances:e})=>{const{t}=Xe();return f.jsx("ul",{className:"token-balance-list",children:(e==null?void 0:e.length)===0?f.jsx("div",{className:"token-balance-list__empty",children:f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_information.multi_asset.empty_state",children:t("dyn_wallet_information.multi_asset.empty_state")})}):e==null?void 0:e.map((n,r)=>f.jsxs(Vt.Fragment,{children:[f.jsx(lGe,{tokenBalance:n}),e.length!==r+1?f.jsx(of,{className:"token-balance-list__divider"}):null]},r))})},pJ=({isLoading:e=!1})=>{var t;const{t:n}=Xe(),[r,i]=x.useState(!1),[o,s]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(!1),u=x.useRef(null),h=x.useRef(null),m=x.useRef(null),{primaryWallet:v,network:g,showFiat:y,multiAsset:b}=$e(),k=Qu(),_=vo(),{data:R}=vr(()=>de(void 0,void 0,void 0,function*(){return!!(yield v==null?void 0:v.connector.isTestnet())}),{deps:[g],initialData:!1}),{isLoading:I,tokenBalances:T,error:M,fetchAccountBalances:D}=wde({chainName:v==null?void 0:v.connector.connectedChain,includeFiat:y,includeNativeBalance:!0}),A=x.useMemo(()=>(T==null?void 0:T.filter(F=>F.name))||[],[T]),U=x.useMemo(()=>A.reduce((F,O)=>F+((O==null?void 0:O.marketValue)||0),0),[A]),$=x.useMemo(()=>{var F;return(k==="connect-and-sign"||k==="connect-only"&&((F=_==null?void 0:_.sdk.featureFlags)===null||F===void 0?void 0:F.connectOnlyMultiAsset))&&b},[k,(t=_==null?void 0:_.sdk.featureFlags)===null||t===void 0?void 0:t.connectOnlyMultiAsset,b]),z=!(M==="Too many requests fetching balances")&&$,S=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),E=x.useMemo(()=>!R&&y&&z&&!M,[R,y,z,M]),N=()=>{u.current&&s(u.current.scrollTop>0)},P=x.useCallback(F=>de(void 0,void 0,void 0,function*(){if(F.stopPropagation(),!(a||c)){h.current&&(clearTimeout(h.current),h.current=null),m.current&&(clearTimeout(m.current),m.current=null),l(!0),d(!1);try{yield D(!0),l(!1),d(!0),h.current=setTimeout(()=>{d(!1),h.current=null},5e3)}catch{m.current=setTimeout(()=>{l(!1),m.current=null},1e3)}}}),[a,c,D]),j=()=>!v||I||e?f.jsx(Vo,{className:"balance-container__skeleton"}):E?f.jsx(se,{variant:"numbers_display",color:"primary",children:U===0||U>=.01?S.format(parseFloat(U.toFixed(2))):"<$0.01"}):f.jsx(pj,{className:"balance-header__balance",wallet:v,network:g,variant:"numbers_display"}),V=()=>f.jsxs("div",{className:"balance-header__title",children:[I||e?f.jsx(Vo,{className:"balance-header__title-skeleton"}):f.jsx(se,{color:"secondary",variant:"body_normal",copykey:"dyn_active_wallet_info.balance",children:n("dyn_active_wallet_info.balance")}),f.jsxs("div",{className:"balance-header__balance",children:[j(),c?f.jsx("div",{className:"balance-header__success-icon",children:f.jsx(cc,{"data-testid":"success-icon"})}):f.jsx(sGe,{"data-testid":"refresh-balances",className:`balance-header__refresh-icon ${a?"balance-header__refresh-icon--spinning":""}`,onClick:P,style:{cursor:a?"not-allowed":"pointer",opacity:a?.5:1},title:"Refresh balances"})]})]}),K=x.useCallback(()=>{I||i(!r)},[I,r]);return z?f.jsx("div",{className:"balance-container",children:f.jsxs("div",{className:"multi-asset-balance-container",children:[f.jsx("div",{className:`${o?"shadow":""}`,children:f.jsxs("button",{onClick:K,className:"balance-header","data-testid":"balance-header",children:[V(),!I&&f.jsx("div",{className:r?"balance-header__chevron":"",children:f.jsx(j3,{})})]})}),f.jsx(FS,{isOpen:r,className:`multi-asset-balance-container__accordion ${"multi-asset-balance-container__accordion"+(r?"--expanded":"--collapsed")}`,handleScroll:N,ref:u,dataTestId:"multi-asset-balance-accordion",children:f.jsx(cGe,{tokenBalances:A})})]})}):f.jsx("div",{className:"balance-container",children:V()})},dGe=({address:e,open:t,onClose:n})=>{const{t:r}=Xe(),i=f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx($h,{})});return f.jsxs(jc,{isOpen:t,onClose:n,children:[f.jsx(jc.Header,{children:r("dyn_wallet_details_card.header")}),f.jsxs(jc.Content,{className:"wallet-details-card__body",children:[f.jsx(se,{className:"wallet-details-card__text",color:"primary",weight:"bold",variant:"body_small",copykey:"dyn_wallet_details_card.address",children:r("dyn_wallet_details_card.address")}),f.jsx(se,{className:"wallet-details-card__text",color:"secondary",weight:"regular",variant:"body_small",children:e}),f.jsx(Em,{textToCopy:e,variant:"button",startSlot:i,children:r("dyn_wallet_details_card.copy")})]})]})},uGe=({menuOption:e,wallet:t})=>{var n,r;const{t:i}=Xe(),o=(n=yN(zb.Ordinals,t))!==null&&n!==void 0?n:t==null?void 0:t.address,s=(r=yN(zb.Payment,t))!==null&&r!==void 0?r:t==null?void 0:t.address;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"active-wallet-information__address-container",children:[f.jsxs("div",{children:[f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_active_wallet_info.ordinals_address",children:i("dyn_active_wallet_info.ordinals_address")}),f.jsx(se,{className:"active-wallet-information__address",weight:"medium",variant:"body_normal",color:"primary",children:Ni(o)})]}),f.jsx(hde,{"data-testid":"dots-menu",options:e,buttonClassName:"active-wallet-information__dots-menu",buttonClassNameWithOpenMenu:"active-wallet-information__dots-menu"})]}),f.jsxs("div",{className:"active-wallet-information__address-container",children:[f.jsxs("div",{children:[f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_active_wallet_info.payment_address",children:i("dyn_active_wallet_info.payment_address")}),f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"primary",children:Ni(s)})]}),f.jsx(Em,{textToCopy:s??"",children:f.jsx(Nt,{size:"xsmall",children:f.jsx($h,{})})})]})]})};var mJ,fGe=["title","titleId"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN.apply(null,arguments)}function hGe(e,t){if(e==null)return{};var n,r,i=pGe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var MN=function(t){var n=t.title,r=t.titleId,i=hGe(t,fGe);return x.createElement("svg",DN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,mJ||(mJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.862 9.529c.26-.26.682-.26.943 0L12 13.724l4.195-4.195a.667.667 0 1 1 .943.942l-4.667 4.667a.667.667 0 0 1-.942 0l-4.667-4.667a.667.667 0 0 1 0-.942Z",fill:"currentColor"})))};const fv=({Icon:e,InnerIcon:t,containerClassName:n,iconSize:r=16,variant:i="green"})=>f.jsxs("div",{className:Ke("icon-with-status__container",n||""),children:[typeof e=="string"?f.jsx("img",{style:{height:Ut(r),width:Ut(r)},src:e,alt:"",className:"icon"}):f.jsx(e,{style:{height:Ut(r),width:Ut(r)}}),t?f.jsx("div",{className:"inner-icon__container",children:f.jsx("div",{className:Ke("inner-icon",`inner-icon--${i}`),children:f.jsx(t,{})})}):f.jsx(z3,{variant:i,containerClassName:"icon-with-status__status-dot"})]}),Tu=(e,t,n)=>{const r=x.useRef(n);r.current=n,x.useEffect(()=>{if(!e)return;const i=Array.isArray(e)?e:[e];i.forEach(a=>a.initEventListener());const s=Array.from(new Set(i)).map(a=>{const l=(...c)=>{r.current(...c,a)};return a.on(t,l),()=>a.off(t,l)});return()=>s.forEach(a=>a())},[e,t])},mj=(e,{onChange:t}={onChange:()=>{}})=>{const[n,r]=x.useState(),i=mze(),o=x.useMemo(()=>e?e.isWalletConnect?e.connectedChain==="EVM"?!!i.walletconnect:!!i.walletconnectsol:!!i[e.key]:!1,[i,e]),{isLoading:s}=vr(()=>e==null?void 0:e.getNetwork(!0),{deps:[e,o],onResolve:a=>{r(a)}});return Tu(e||void 0,"chainChange",({chain:a})=>{const l=(e==null?void 0:e.connectedChain)==="STARK"?a:parseInt(a);r(l),t==null||t(l)}),Tu(e||void 0,"disconnect",()=>de(void 0,void 0,void 0,function*(){if((e==null?void 0:e.key)!=="argentx")return;const a=yield e.getNetwork(!0);r(a),t==null||t(a)})),{isLoading:s,network:n}},mGe=e=>e&&(!e.connector.metadata.icon||e.connector.metadata.icon.includes("unknown-wallet"))?e.key.replace(/[-_]/g," ").replace(/\b\w/g,n=>n.toUpperCase()):void 0,gGe=({wallet:e,nameServiceName:t,menuOption:n,fullWidth:r=!1,isLoading:i=!1,addressTypeLabel:o})=>{const{showAlert:s}=cv(),a=t||mGe(e),{network:l}=mj(e==null?void 0:e.connector),[c,d]=x.useState(!1),u=x.useCallback(()=>{d(!1)},[d]),h=x.useCallback(()=>{setTimeout(()=>d(!0),0)},[d]),m=x.useRef(null),{data:v}=vr(()=>(e==null?void 0:e.connector.connectedChain)==="COSMOS"?e==null?void 0:e.connector.getAddress():e==null?void 0:e.address,{deps:[e,l],enabled:!!e}),g=x.useMemo(()=>f.jsx("div",{ref:m,className:"active-wallet-information__handle-icon",children:s()?f.jsx(fv,{Icon:()=>f.jsx(MN,{width:24,height:24}),variant:"yellow"}):f.jsx(MN,{width:24,height:24})}),[s]);return f.jsxs("div",{className:"active-wallet-information__address-container",children:[f.jsxs(ade,{onClick:h,dataTestId:"active-wallet-information-button",children:[f.jsxs("div",{className:"active-wallet-information__handle-row",children:[f.jsx(se,{className:r?"active-wallet-information__handle--full-width":"active-wallet-information__handle",color:"primary",variant:"body_normal","data-testid":"header-text",children:a}),a&&g]}),o&&f.jsx("div",{className:"active-wallet-information__handle-row",children:f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",children:o})}),f.jsxs("div",{className:"active-wallet-information__handle-row",children:[f.jsx(se,{className:"active-wallet-information__address",weight:a?"regular":"medium",variant:a?"body_small":"body_normal",color:a?"secondary":"primary",children:i?f.jsx(Vo,{className:"active-wallet-information__address-skeleton"}):Ni(v)}),!a&&g]})]}),f.jsx(A3,{isOpen:c,onClickOutside:u,onScroll:u,anchorRef:m,anchorOrigin:"bottom-right",transformOrigin:"top-left",children:f.jsx(fde,{options:n,setShowMenu:d})})]})},yGe=32,ad=16,vGe=({isLoading:e=!1})=>{var t,n,r;const{t:i}=Xe(),[o,s]=x.useState(!1),{primaryWallet:a,network:l,user:c,removeWallet:d}=$e(),{clearStackAndPushInitialView:u}=At(),h=Qu(),m=vo(),{setDynamicWidgetView:v,headerAlert:g}=Jc(),{isTurnkeyWalletWithoutAuthenticator:y}=da(),b=a==null?void 0:a.address,k=q3(a??void 0),{getEOAWallet:_}=xs(),{data:R}=vr(()=>de(void 0,void 0,void 0,function*(){return!!(yield a==null?void 0:a.connector.isTestnet())}),{deps:[l],initialData:!1}),I=KHe(a==null?void 0:a.connector,m==null?void 0:m.providers),{showAlert:T}=cv(),M=(t=a&&_(a))!==null&&t!==void 0?t:a,D=a&&AD(a==null?void 0:a.connector),A=a&&yS(a==null?void 0:a.connector),U=!!(M&&(!((r=(n=M==null?void 0:M.connector)===null||n===void 0?void 0:n.key)===null||r===void 0)&&r.startsWith("turnkey"))),$=x.useCallback(()=>{setTimeout(()=>s(!0),0)},[]),q=x.useCallback(()=>{const P=Wd();P&&d(P,u)},[d,u]),z=[{Icon:f.jsx($h,{width:ad,height:ad}),callback:()=>(k==null?void 0:k.name)&&navigator.clipboard.writeText(k==null?void 0:k.name),copykey:"dyn_active_wallet_info.options.copy_ens",hide:!(k!=null&&k.name),text:i("dyn_active_wallet_info.options.copy_ens")},{Icon:f.jsx(xHe,{width:ad,height:ad}),callback:$,copykey:"dyn_active_wallet_info.options.view_address",hide:!b,text:i("dyn_active_wallet_info.options.view_address")},{Icon:f.jsx(THe,{width:ad,height:ad}),callback:q,copykey:"dyn_active_wallet_info.options.disconnect",hide:!b||h!=="connect-only",text:i("dyn_active_wallet_info.options.disconnect")},{Icon:f.jsx(nue,{width:ad,height:ad}),callback:()=>v("settings"),copykey:"dyn_active_wallet_info.options.settings",endSlot:T()?f.jsx(z3,{variant:"yellow"}):void 0,hide:!U,text:i("dyn_active_wallet_info.options.settings")},{Icon:f.jsx(EHe,{width:ad,height:ad}),callback:I||(()=>Ie.info("No option to export private keys")),copykey:"dyn_active_wallet_info.options.export",hide:!I,text:i("dyn_active_wallet_info.options.export")}],S=R&&!y,E=m==null?void 0:m.sdk.hideNetworkInDynamicWidget,N=()=>D&&!A?f.jsx(uGe,{wallet:a,menuOption:z}):f.jsx(gGe,{wallet:a,nameServiceName:(k==null?void 0:k.name)||(c==null?void 0:c.email),menuOption:z,isLoading:e,fullWidth:E,addressTypeLabel:a7e((a==null?void 0:a.chain)||(a==null?void 0:a.connector.connectedChain),!!A,b)});return e?f.jsxs("div",{className:"active-wallet-information-container active-wallet-information-container--loading","data-testid":"active-wallet-information",children:[f.jsx("div",{className:"active-wallet-information active-wallet-information--loading",children:f.jsxs("div",{className:"active-wallet-information__header",children:[f.jsx("div",{className:"active-wallet-information__avatar",children:f.jsx("div",{className:"active-wallet-information__wallet-img",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-avatar"})})}),f.jsxs("div",{className:"active-wallet-information__details",children:[f.jsxs("div",{className:"active-wallet-information__addresses-container active-wallet-information__addresses-container--loading",children:[f.jsx("div",{className:"active-wallet-information__handle-row",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-handle"})}),f.jsx("div",{className:"active-wallet-information__handle-row",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-address"})})]}),!E&&f.jsx("div",{className:"active-wallet-information__network-picker",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-network"})})]})]})}),f.jsx(pJ,{isLoading:e})]}):f.jsxs("div",{className:"active-wallet-information-container","data-testid":"active-wallet-information",children:[f.jsxs("div",{className:"active-wallet-information",children:[f.jsxs("div",{className:"active-wallet-information__header",children:[f.jsx("div",{className:"active-wallet-information__avatar",children:k!=null&&k.avatar?f.jsx("div",{className:"active-wallet-information__avatar__name-service",children:f.jsx("img",{src:k==null?void 0:k.avatar,alt:""})}):f.jsx("div",{className:"active-wallet-information__wallet-img",children:f.jsx(uj,{iconSize:yGe})})}),f.jsxs("div",{className:"active-wallet-information__details",children:[f.jsx("div",{className:Ke("active-wallet-information__addresses-container",{"active-wallet-information__addresses-container--centered":!(k!=null&&k.name)}),children:N()}),b&&f.jsx(dGe,{open:o,address:b,onClose:()=>s(!1)}),!E&&f.jsx(hj,{currentNetwork:l,connector:a==null?void 0:a.connector,mainClassName:"active-wallet-information__network-picker",buttonClassName:"active-wallet-information__network-picker-button",showNetworkName:!0,isLoading:e})]})]}),g&&f.jsx(tc,{variant:g.variant,children:g.content}),S&&f.jsx(tc,{variant:"warning",copykey:"dyn_active_wallet_info.testnet_warning",children:i("dyn_active_wallet_info.testnet_warning")})]}),f.jsx(pJ,{})]})},oue=e=>{var t,n;return((n=(t=e==null?void 0:e.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.defaultWalletVersion)===Lc.V3},wGe=()=>{const e=mM(),t=Qu(),n=ov();return{isLoadingEmbeddedWallet:x.useMemo(()=>{var i,o;if(!oue(n)||!Lh(n))return!1;const s=(i=e==null?void 0:e.verifiedCredentials)===null||i===void 0?void 0:i.some(l=>l.format==="email"),a=(o=e==null?void 0:e.verifiedCredentials)===null||o===void 0?void 0:o.some(l=>l.format==="blockchain");return t==="connect-only"?s?!a:!1:!a},[n,e,t])}},sue=Vt.memo(({connector:e})=>{const{setDynamicWidgetView:t}=Jc(),n=()=>{t("global-wallet")};return e.globalWallet?f.jsx(xt,{expanded:!0,dataTestId:"link-button",buttonPadding:"small",buttonVariant:"primary",onClick:n,startSlot:f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(Yde,{})}),children:"Connect"}):null});sue.displayName="LinkButton";const aue=({variant:e})=>{const{primaryWallet:t,user:n}=$e(),{open:r}=vHe(),{setDynamicWidgetView:i,setIsOpen:o}=Jc(),{isLoadingEmbeddedWallet:s}=wGe(),{t:a}=Xe(),l=x.useMemo(()=>{const u=t==null?void 0:t.connector;return u?RD(u):!1},[t==null?void 0:t.connector]),c=()=>{e==="dropdown"?(o(!1),r().catch(u=>Ie.error(u))):i("send-balance")},d=()=>t||s?f.jsx(vGe,{isLoading:s}):f.jsx("div",{className:"dynamic-widget-wallet-header__icon-container",children:f.jsx(Qde,{user:n})});return f.jsxs("div",{className:"dynamic-widget-wallet-header","data-testid":"dynamic-widget-wallet-header",children:[d(),t?f.jsxs("div",{"data-testid":"primaryWalletStatus",className:"dynamic-widget-wallet-header__wallet-info",children:[f.jsx(BKe,{className:"dynamic-widget-wallet-header__wallet-info__secure-wallet"}),f.jsxs("div",{className:"dynamic-widget-wallet-header__wallet-actions",children:[f.jsx(xt,{expanded:!0,dataTestId:"buy-crypto-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>i("choose-wallet-funding-method"),startSlot:f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(Zde,{})}),copykey:"dyn_widget_header.buttons.deposit_funds",children:a("dyn_widget_header.buttons.deposit_funds")}),l&&f.jsx(xt,{expanded:!0,dataTestId:"send-balance-button",buttonPadding:"small",buttonVariant:"primary",onClick:c,startSlot:f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(OKe,{})}),copykey:"dyn_widget_header.buttons.send_funds",children:a("dyn_widget_header.buttons.send_funds")}),f.jsx(sue,{connector:t.connector})]})]}):f.jsx(se,{className:"dynamic-widget-wallet-header__email",variant:"body_normal",weight:"regular",children:!s&&Xde(n)})]})};Vt.memo(aue);const bGe=({variant:e})=>{const{overridenWidgetView:t}=Jc(),{multiWallet:n}=$e();return f.jsxs("div",{className:"dynamic-widget-header",children:[f.jsx(bj,{className:"dynamic-widget-header__passkey-success"}),(t==="wallets"||t==="profile"&&!n)&&f.jsx(aue,{variant:e})]})};Vt.memo(bGe);const lue=({className:e,networkIcon:t,networkName:n,children:r})=>{const{t:i}=Xe();return f.jsxs("div",{className:Ke("dynamic-bridge-wallet-card",e),children:[f.jsxs("div",{className:"dynamic-bridge-wallet-card__network",children:[t&&Vt.cloneElement(t,{className:"dynamic-bridge-wallet-card__network-icon"}),n&&f.jsx(se,{className:"dynamic-bridge-wallet-card__network-name",variant:"body_small",color:"primary",weight:"medium",as:"span",copykey:"dyn_bridge.widget.wallet_network",children:i("dyn_bridge.widget.wallet_network",{networkName:n})})]}),r]})},_Ge=({address:e,ens:t,balance:n,icon:r,network:i,menu:o})=>{const{t:s}=Xe(),a=x.useMemo(()=>{const l=Ni(e);return t?f.jsxs(f.Fragment,{children:[f.jsx(se,{color:"primary",variant:"body_normal",truncate:!0,children:t}),f.jsx(se,{weight:"regular",variant:"body_small",color:"secondary",children:l})]}):f.jsx(se,{weight:"medium",variant:"body_normal",color:"primary",children:l})},[t,e]);return f.jsxs("div",{className:"wallet-information-card",children:[f.jsxs("div",{className:"wallet-information-card__header",children:[f.jsxs("div",{className:"wallet-information-card__details-container",children:[r&&f.jsx(Nt,{className:"wallet-information-card__icon",children:r}),f.jsx("div",{className:"wallet-information-card__details",children:a}),f.jsx("div",{className:"wallet-information-card__menu",children:o})]}),i]}),f.jsxs("div",{className:"wallet-information-card__balance-container",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:"dyn_wallet_information.balance",children:s("dyn_wallet_information.balance")}),n]})]})},cue=({walletAddress:e,walletBalance:t,walletKey:n,onDisconnectClick:r})=>{const{t:i}=Xe(),o=q3({address:e}),s=[{Icon:null,callback:()=>(o==null?void 0:o.name)&&navigator.clipboard.writeText(o==null?void 0:o.name),copykey:"dyn_bridge.widget.copy.ens",hide:!(o!=null&&o.name),text:i("dyn_bridge.widget.copy.ens")},{Icon:null,callback:()=>e&&navigator.clipboard.writeText(e),copykey:"dyn_bridge.widget.copy.address",hide:!e,text:i("dyn_bridge.widget.copy.address")},{Icon:null,callback:()=>r==null?void 0:r(),copykey:"dyn_bridge.widget.disconnect",hide:!r,text:i("dyn_bridge.widget.disconnect")}];return f.jsx(_Ge,{ens:o==null?void 0:o.name,address:e,icon:f.jsx(oi,{walletKey:n}),balance:t,menu:f.jsx(hde,{options:s}),copykey:"dyn_bridge.widget"})},xGe=({chain:e})=>{const{t}=Xe(),{bridgeChainsToConnect:n,setShowAuthFlow:r,setShowBridgeWidget:i}=$e();if(!(n!=null&&n.length)||!e)return null;const o=Uc(e),s=Hc(e);return f.jsxs("div",{role:"button",className:"dynamic-bridge-widget-empty-card","data-testid":"dynamic-bridge-widget-empty-card",onClick:()=>{i(!1),r(!0)},children:[f.jsx(s,{className:"dynamic-bridge-widget-empty-card__icon"}),f.jsx(se,{variant:"body_normal",weight:"medium",as:"span",color:"primary",className:"dynamic-bridge-widget-empty-card__text",copykey:"dyn_bridge.widget.connect_with_network",children:t("dyn_bridge.widget.connect_with_network",{blockchainName:o==null?void 0:o.blockchainName})})]})},kGe=({hideUnlinkAction:e=!1})=>{const{disconnectWallet:t,bridgeChains:n,connectedWallets:r,primaryWalletId:i}=$e(),o=x.useMemo(()=>{var c;return(c=n==null?void 0:n[1])===null||c===void 0?void 0:c.chain},[n]),s=x.useMemo(()=>r.find(c=>c.id!==i&&c.chain===o),[r,i,o]),a=s&&Hc(s==null?void 0:s.chain),l=s&&Uc(s==null?void 0:s.chain);return f.jsxs(f.Fragment,{children:[!s&&f.jsx(xGe,{chain:o}),s&&a&&f.jsx(lue,{networkIcon:f.jsx(a,{}),networkName:l==null?void 0:l.displayName,children:f.jsx(cue,{walletKey:s.connector.key,walletAddress:s.address,walletBalance:f.jsx(pj,{wallet:s,network:s.chain}),onDisconnectClick:e?void 0:()=>t(s.id)},s.id)})]})},SGe=Vt.memo(kGe),gJ=["apple","coinbasesocial","discord","epicgames","facebook","farcaster","github","google","kraken","line","shopify","spotify","tiktok","telegram","twitch","twitter"],IGe=["twitter","github"],V3=({onSettled:e,onError:t,onFarcasterUrl:n})=>{var r;const{environmentId:i,setShowAuthFlow:o,socialSettings:s,projectSettings:a,redirectUrl:l}=$e(),c=x.useMemo(()=>(s==null?void 0:s.strategy)||"redirect",[s]),{setErrorMessage:d,setError:u}=so(),{initAuth:h}=sf({authMethod:"social"}),{generateSessionKey:m,shouldRegisterSessionKeysOnSignin:v}=Gm({environmentId:i,projectSettings:a}),[g,y]=x.useState(!1),[b,k]=x.useState(),{engageCaptcha:_}=Gd(),R=x.useCallback(()=>{k(void 0),u(void 0)},[u]),I=x.useCallback((S,E,N)=>{y(!1),t==null||t(E.error),e==null||e(),S&&(N!=null&&N.raiseAuthFailure)&&rt.emit("authFailure",{option:S,provider:S,type:"social"},E)},[t,e]),T=x.useCallback((S,E,N,P)=>{const j={code:E,message:N};Ie.error(N),k(j),d(E),I(S,{error:j},P)},[I,d]),M=x.useCallback((S,E)=>S?gJ.includes(S)?!0:(T(S,ti.INVALID_PROVIDER,`Invalid social provider. Valid providers are: ${gJ.join(", ")}`,{raiseAuthFailure:E==="signin"}),!1):(T(S,ti.NO_PROVIDER,"Provider is required",{raiseAuthFailure:E==="signin"}),!1),[T]),D=x.useCallback((S,E)=>de(void 0,void 0,void 0,function*(){try{if(!(yield E())){T(S,ti.VERIFICATION_ERROR,`Failed to link social account: ${S}`,{raiseAuthFailure:!1});return}e==null||e()}catch(N){N instanceof noe&&T(S,ti.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE,`Social account already linked to a different profile: ${S}`,{raiseAuthFailure:!1})}}),[T,e]),A=x.useCallback((S,E)=>de(void 0,void 0,void 0,function*(){yield h({onError:()=>T(S,ti.SIGNIN_ERROR,`Failed to sign-in with social account: ${S}`,{raiseAuthFailure:!0}),onSettled:e,options:{provider:S},verifyFunction:()=>E()})}),[T,h,e]),U=x.useCallback(S=>de(void 0,[S],void 0,function*({authMode:E,provider:N,state:P,authCode:j,captchaToken:V,verifier:K,telegramAuthToken:F,forceCreateUser:O=!1,ssoProviderId:W}){try{let G;if(Br.logEvent("oauth","completeConnection",Br.formatObject({authMode:E,provider:N,shouldRegisterSessionKeysOnSignin:v()})),v()&&(G=(yield m()).publicKey,Br.logEvent("oauth","completeConnection key generated",Br.formatObject({sessionPublicKey:G}))),E==="signin"){if(yield Fc(),N===pn.Telegram&&F)return yield A(N,()=>hG(i,{captchaToken:V,forceCreateUser:O,sessionPublicKey:G,telegramAuthToken:F}));N===pn.Telegram?yield A(N,()=>hG(i,{captchaToken:V,code:j,sessionPublicKey:G,state:P})):yield A(N,()=>MWe(i,N,{captchaToken:V,code:j,codeVerifier:K,sessionPublicKey:G,ssoProviderId:W,state:P}))}else N===pn.Telegram?yield D(N,()=>UWe(i,{captchaToken:V,code:j,state:P})):yield D(N,()=>BWe(i,N,{code:j,codeVerifier:K,state:P}))}catch(G){throw Ie.error("Social connection failed with unexpected error:",G),I(N,{error:G},{raiseAuthFailure:E==="signin"}),G}}),[i,m,D,I,v,A]),$=x.useCallback((S,E)=>de(void 0,[S,E],void 0,function*(N,{captchaToken:P,redirectUrl:j}){let V;try{V=Fue()}catch{T(pn.Farcaster,ti.GENERAL_ERROR,"Missing nonce",{raiseAuthFailure:N==="signin"});return}const K=Ln.getHost(),F=yield eqe({domain:K,nonce:V,redirectUrl:j||l,siweUri:Ln.getOrigin()});if(!(F!=null&&F.url)||!(F!=null&&F.channelToken)){T(pn.Farcaster,ti.GENERAL_ERROR,"Farcaster didn't return a valid url.",{raiseAuthFailure:N==="signin"});return}rr()?yield Ln.openURL(F.url):(o(!0),n==null||n(F.url));const O=yield nqe({channelToken:F.channelToken});if(O.type==="cancelled"){y(!1);return}if(O.type==="timeout"){T(pn.Farcaster,ti.GENERAL_ERROR,`Farcaster timed out while waiting for connection status. Error: ${O.error}`,{raiseAuthFailure:N==="signin"});return}if(!O.data.message||!O.data.custody||!O.data.signature||!O.data.nonce){T(pn.Farcaster,ti.GENERAL_ERROR,`Farcaster returned invalid data. Expected to be defined: message, custody, signature, nonce. Received: ${JSON.stringify(O.data)}`,{raiseAuthFailure:N==="signin"});return}const{custody:W,message:G,signature:Y,nonce:ie}=O.data;if(N==="signin"){let ye;v()&&(ye=(yield m()).publicKey),yield Fc();const me=()=>$We(i,{address:W,captchaToken:P,domain:K,message:G,nonce:ie,sessionPublicKey:ye,signature:Y});yield A(pn.Farcaster,me)}else{const ye=()=>LWe({environmentId:i,farcasterSignInRequest:{address:W,captchaToken:P,domain:K,message:G,nonce:ie,signature:Y}});yield D(pn.Farcaster,ye),o(!1,{clearErrors:!1})}y(!1)}),[l,i,m,T,D,n,o,v,A]),q=x.useCallback(S=>de(void 0,[S],void 0,function*({authMode:E,provider:N,validator:P,captchaToken:j,isHeadlessSocialSignIn:V,payingWithDynamic:K,triggerFundFromExchangeOnSuccess:F,redirectUrl:O,telegramAuthToken:W,showWidgetAfterConnection:G,forcePopup:Y,ssoProviderId:ie}){var ye,me;if(R(),y(!0),!E){Ie.error('Auth mode is required. Please use either "link" or "signin"');return}if(!M(N,E)||P&&!P(N))return;if(rt.emit("authInit",{option:N,provider:N,type:"social"}),N===pn.Farcaster)return $(E,{captchaToken:j,redirectUrl:O});const be=r1(32),Me=r1(43),Fe=IGe.includes(N);GWe(N,{captchaToken:j,codeVerifier:Fe?Me:void 0,dynamicOauthSsoProviderId:ie,isHeadlessSocialSignIn:V,mode:E,payingWithDynamic:K,showWidgetAfterConnection:G,state:be,triggerFundFromExchangeOnSuccess:F});const De=KWe((ye=a==null?void 0:a.providers)!==null&&ye!==void 0?ye:[],N);if(!De){T(N,ti.NO_OAUTH_URL,`Failed to get login url to connect social account: ${N}`,{raiseAuthFailure:E==="signin"});return}const gt=new URL(De);if(gt.searchParams.set("state",be),Fe){const dt=yield FWe(Me);gt.searchParams.set("code_challenge",WWe(dt)),gt.searchParams.set("code_challenge_method","S256")}const tt=rr();try{const dt=Y?"popup":c,Qt=yield hS.getOauthCode({apiProvider:GM((me=a==null?void 0:a.providers)!==null&&me!==void 0?me:[],N),getOAuthResultFromApi:()=>jWe(i,N,{state:be}),initWebAuth:({redirectUrl:lt}={})=>PWe(i,N,{redirectUrl:lt?EGe(lt):void 0,state:be}),isMobile:tt,oauthLoginUrl:gt,onSettled:e,provider:N,redirectUrl:O??l,setIsProcessing:y,state:be,strategy:dt});yield U({authCode:Qt,authMode:E,captchaToken:j,provider:N,ssoProviderId:ie,state:be,telegramAuthToken:W,verifier:Me})}catch(dt){if(hS.isGetOauthCodeError(dt))throw T(N,dt.code,dt.message,{raiseAuthFailure:E==="signin"}),dt;Ie.error("Social connection failed with unexpected error:",dt.message,dt),I(N,{error:dt},{raiseAuthFailure:E==="signin"})}}),[M,R,U,$,l,i,T,I,e,a==null?void 0:a.providers,c]),z=x.useCallback(S=>de(void 0,void 0,void 0,function*(){var E;if(S.authMode==="signin"&&Js().user)throw new Se("User is already logged in");if(S.authMode==="link"&&!Js().user)throw new Se("User is not logged in");if(!(!((E=a==null?void 0:a.security.hCaptcha)===null||E===void 0)&&E.enabled)){yield q(S);return}o(!0,{initializeWalletConnect:!1,performMultiWalletChecks:!1}),_({authMethod:"social",onCaptchaSuccess:N=>de(void 0,void 0,void 0,function*(){yield q(Object.assign(Object.assign({},S),{captchaToken:N})),o(!1)})})}),[o,q,_,(r=a==null?void 0:a.security.hCaptcha)===null||r===void 0?void 0:r.enabled]);return x.useMemo(()=>({checkValidProvider:M,completeConnection:U,connectSocialAccount:z,error:b,handleError:T,isProcessing:g,setError:k,setIsProcessing:y}),[M,U,z,b,T,g])},EGe=e=>{const t=new URL(e);return t.searchParams.delete("dynamicOauthState"),t.searchParams.delete("dynamicOauthCode"),t.toString()},due=({onError:e}={})=>{var t;const{environmentId:n,user:r,projectSettings:i}=$e(),{pushView:o}=At(),{setSocialProvider:s}=af(),[a,l]=x.useState(new Map),c=x.useCallback((S,E)=>{l(N=>new Map(N).set(S,E))},[]),d=x.useCallback(S=>{var E;return(E=a.get(S))!==null&&E!==void 0?E:!1},[a]),u=x.useCallback(S=>o("farcaster-connect-view",{url:S},{onBackClick:()=>{s(void 0),rt.emit("farcasterConnectCancelled"),rt.emit("authFailure",{option:pn.Farcaster,provider:pn.Farcaster,type:"social"},"user-cancelled")}}),[o,s]),{handleError:h,setError:m,checkValidProvider:v,error:g,connectSocialAccount:y}=V3({onError:e,onFarcasterUrl:u}),b=x.useMemo(()=>{var S,E;const N=(E=(S=r==null?void 0:r.verifiedCredentials)===null||S===void 0?void 0:S.filter(j=>j.format==="oauth"))!==null&&E!==void 0?E:[],P=new Map;return N.forEach(j=>{var V,K;const F=(V=j.oauthProvider)!==null&&V!==void 0?V:j.id,O=(K=P.get(F))!==null&&K!==void 0?K:[];P.set(F,[...O,j])}),Object.fromEntries(P)},[r==null?void 0:r.verifiedCredentials]),k=x.useCallback(S=>{if(!Qce(i))return h(S,ti.SOCIAL_LINKING_NOT_ENABLED,"Social linking is not enabled in Information Capture on the dashboard",{raiseAuthFailure:!1}),!1;const E=OWe(i==null?void 0:i.providers);return(E==null?void 0:E.find(P=>P.provider===S))?!0:(h(S,ti.PROVIDER_NOT_ENABLED,`Social linking provider is not enabled in Information Capture on the dashboard: ${S}`,{raiseAuthFailure:!1}),!1)},[h,i]),_=x.useCallback((S,...E)=>de(void 0,[S,...E],void 0,function*(N,{forcePopup:P,redirectUrl:j,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K,payingWithDynamic:F}={forcePopup:!1,payingWithDynamic:void 0,redirectUrl:void 0,showWidgetAfterConnection:!1,triggerFundFromExchangeOnSuccess:void 0}){c(N,!0);try{yield y({authMode:"link",forcePopup:P,payingWithDynamic:F,provider:N,redirectUrl:j,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K,validator:k})}finally{c(N,!1)}}),[k,y,c]),R=x.useCallback((S,E)=>{var N;const P=(N=b[S])!==null&&N!==void 0?N:[];return E?P.find(V=>V.id===E):P[0]},[b]),I=x.useCallback((S,E)=>de(void 0,void 0,void 0,function*(){var N;if(m(void 0),c(S,!0),!v(S,"unlink")){c(S,!1);return}const P=R(S,E);if(!P){h(S,ti.NO_ACCOUNT_LINKED,`No account linked for provider: ${S}`,{raiseAuthFailure:!1}),c(S,!1);return}try{const j=Wd();if(!(yield DWe({environmentId:n,primaryWalletId:j,verifiedCredentialId:(N=P.id)!==null&&N!==void 0?N:""}))){h(S,ti.UNLINK_ERROR,`Failed to unlink social account: ${S} | ${P.id}`,{raiseAuthFailure:!1});return}}catch{h(S,ti.GENERAL_ERROR,`Failed to unlink social account: ${S} | ${P.id}`,{raiseAuthFailure:!1})}finally{c(S,!1)}}),[v,n,h,m,c,R]),T=x.useCallback(S=>{var E;return!!(!((E=b[S])===null||E===void 0)&&E.length)},[b]),M=S=>{const{id:E,oauthAccountId:N,oauthAccountPhotos:P,oauthDisplayName:j,oauthEmails:V,oauthProvider:K,oauthUsername:F,publicIdentifier:O}=S;return{accountId:N??void 0,avatar:P==null?void 0:P[0],displayName:j??void 0,email:V==null?void 0:V[0],id:E,provider:K,publicIdentifier:O,username:F}},D=x.useCallback((S,E)=>{const N=R(S,E);if(N)return M(N)},[R]),A=x.useCallback(S=>{var E;return((E=b[S])!==null&&E!==void 0?E:[]).map(P=>M(P))},[b]),U=x.useCallback(()=>Object.values(b).flat().map(S=>M(S)),[b]),$=x.useCallback(S=>{var E;return NWe((E=i==null?void 0:i.sdk.socialSignIn)===null||E===void 0?void 0:E.providers).find(P=>P===S)?!0:(h(S,ti.PROVIDER_NOT_ENABLED,`Provider is not enabled for sign-in on the dashboard: ${S}`,{raiseAuthFailure:!0}),!1)},[h,(t=i==null?void 0:i.sdk.socialSignIn)===null||t===void 0?void 0:t.providers]),q=x.useCallback((S,...E)=>de(void 0,[S,...E],void 0,function*(N,{redirectUrl:P,payingWithDynamic:j,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K}={redirectUrl:void 0}){c(N,!0);try{yield y({authMode:"signin",isHeadlessSocialSignIn:!0,payingWithDynamic:j,provider:N,redirectUrl:P,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K,validator:$})}finally{c(N,!1)}}),[$,y,c]),z=x.useMemo(()=>Array.from(a.values()).some(Boolean),[a]);return x.useMemo(()=>({error:g,getAllLinkedAccounts:U,getLinkedAccountInformation:D,getLinkedAccounts:A,isLinked:T,isProcessing:z,isProcessingForProvider:d,linkSocialAccount:_,signInWithSocialAccount:q,unlinkSocialAccount:I}),[g,D,A,T,z,d,_,q,I,U])},K3=()=>x.useCallback(()=>de(void 0,void 0,void 0,function*(){const e=yield D3({environmentId:ef()});if(!(e!=null&&e.verifiedCredentials))throw new Error("useRefreshUser resulted in an invalid user: no verified credentials found");if(e.verifiedCredentials.some(({id:r})=>r===Wd()))return e;const n=Ide(e);return n?(To(n.id),e):(Nae(void 0),e)}),[]),gj="https://app.dynamicauth.com/api/v0",yj=()=>{const e=sv(),t=Lae(),n=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!(e!=null&&e.sessionId)||!t)throw new Error("Session ID and public key are required");const i=yield v7e({sessionId:e==null?void 0:e.sessionId});return Ie.instrument("[SessionChaining] Generated session signature",{environmentId:e.projectEnvironmentId,key:"generated_session_signature",sessionId:e.sessionId,sessionPublicKey:t,sessionSignature:i.sessionSignature,time:0}),i.sessionSignature}),[e==null?void 0:e.sessionId,t]),{data:r}=vr(n,{deps:[e==null?void 0:e.sessionId,t],enabled:!!(e!=null&&e.sessionId)&&!!t,initialData:void 0,retries:2});return{getSignedSessionId:n,sessionPublicKey:t,sessionSignature:r}},uue=()=>{const e=x.useCallback((...t)=>de(void 0,[...t],void 0,function*({mfaAction:n}={}){return n?Kse({mfaAction:n}):!0}),[]);return x.useCallback((...t)=>de(void 0,[...t],void 0,function*({mfaAction:n}={}){if(yield e({mfaAction:n}))try{return kTe()}catch(i){if(!n){Ie.warn("No MFA token found",i);return}const o=`MFA Token required for this action: ${n}`;throw Ie.error(o,i),new Se(o)}}),[e])},CGe="No enabled embedded wallet chains. Please go to the Dynamic Dashboard, select Embedded Wallets, and then click the gear icon on the top row to enable a new chain.",AGe="Dynamic Waas connector not found",RGe="The following chains are not enabled for embedded wallets",TGe="Failed to create wallet account for the following chains",OGe=e=>typeof e=="object"&&e!==null&&"chain"in e,NGe=(e,t)=>{if(e.length===0)return[];const[n]=e;return OGe(n)?e:e.map(r=>{const i={chain:r};return r===nr.Btc&&t&&(i.bitcoinConfig=t),i})},yJ="dynamicwaas",fue=({walletConnector:e,environmentId:t,apiBaseUrl:n,relayUrl:r,baseClientKeysharesRelayApiUrl:i,authMode:o="header",getSignedSessionId:s,getMfaToken:a})=>{var l;return e.setEnvironmentId(t),e.setBaseApiUrl((l=n||gj)===null||l===void 0?void 0:l.replace("/api/v0","")),o==="cookie"?(e.setWaasAuthMode("cookie"),e.setGetAuthTokenFunction(()=>"")):(e.setWaasAuthMode("header"),e.setGetAuthTokenFunction(XD)),e.setGetSignedSessionIdFunction(s),e.setRelayUrl(r),e.setGetMfaTokenFunction(a),e.setBaseClientKeysharesRelayApiUrl(i),e},np=()=>{var e,t,n,r,i,o;const{setShowAuthFlow:s,primaryWallet:a}=$e(),{addedWalletsIds:l,userWallets:c}=_s(),d=v_(),u=Tae(),h=vo(),m=Vm(),v=bM(),g=K3(),y=(t=(e=h==null?void 0:h.sdk)===null||e===void 0?void 0:e.waas)===null||t===void 0?void 0:t.relayUrl,b=(r=(n=h==null?void 0:h.sdk)===null||n===void 0?void 0:n.waas)===null||r===void 0?void 0:r.customKeyshareRelayBaseUrl,k=h==null?void 0:h.sdk.embeddedWallets,_=(i=k==null?void 0:k.chainConfigurations)===null||i===void 0?void 0:i.filter(ie=>ie.enabled),R=_==null?void 0:_.find(ie=>ie.primary),I=_==null?void 0:_.map(ie=>ie.name),T=k==null?void 0:k.automaticEmbeddedWalletCreation,M=k==null?void 0:k.automaticEmbeddedWalletCreationForExternal,A=(k==null?void 0:k.defaultWalletVersion)===Lc.V3,U=XD(),{getSignedSessionId:$}=yj(),q=uue(),z=h&&iM(),S=x.useRef(!1),E=x.useCallback(ie=>{var ye;if(!z&&!U||!v.length||!m)return;const me=(ye=v.find(Me=>Me.key.includes(yJ)&&Me.walletConnector.connectedChain===ie))===null||ye===void 0?void 0:ye.walletConnector;if(!me)throw new Se(AGe);return fue({apiBaseUrl:u||gj,authMode:z?"cookie":"header",baseClientKeysharesRelayApiUrl:b,environmentId:m,getMfaToken:q,getSignedSessionId:$,relayUrl:y??"",walletConnector:me})},[z,U,v,m,u,q,$,y,b]),N=x.useMemo(()=>{var ie;const ye=!!(d!=null&&d.id&&(d!=null&&d.sessionId)),me=!!(!((ie=d==null?void 0:d.verifiedCredentials)===null||ie===void 0)&&ie.length),be=!!(I!=null&&I.length),Me=!!v.length;return ye&&me&&A&&be&&Me},[d==null?void 0:d.id,d==null?void 0:d.sessionId,(o=d==null?void 0:d.verifiedCredentials)===null||o===void 0?void 0:o.length,A,I==null?void 0:I.length,v.length]),P=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!(!N||!d))try{const ie=new Date().getTime(),ye=yield $();yield Promise.all((I||[]).map(me=>de(void 0,void 0,void 0,function*(){const be=E(me);if(!be)return;const Me=d.verifiedCredentials.filter(Fe=>{var De;return Fe.walletName==="dynamicwaas"&&Fe.address&&ec[(De=Fe.chain)!==null&&De!==void 0?De:""]===be.connectedChain});try{const Fe=yield be.getWaasWalletClient();Jn.debug("[useDynamicWaas] initialized waas iframe");const De=new Date().getTime(),gt=De-ie;Jn.instrument("Waas iframe initialized",{chain:me,end:De,environmentId:d.projectEnvironmentId,key:"waasIframeInitialized",start:ie,time:gt,userId:d==null?void 0:d.id}),Me.length>0&&(yield Promise.all(Me.filter(tt=>tt.address).map(tt=>de(void 0,void 0,void 0,function*(){try{Jn.debug("[useDynamicWaas] restoring wallet keyshare",{chain:tt.chain,sessionId:d.sessionId,userId:d.id,walletAddress:tt.address});const dt=new Date().getTime();yield Fe.getWallet({accountAddress:tt.address,signedSessionId:ye,walletOperation:"SIGN_MESSAGE"});const Qt=new Date().getTime(),lt=Qt-dt,jt=Qt-ie;Jn.instrument("Waas wallet keyshare restored",{accountAddress:tt.address,chain:me,end:Qt,environmentId:d.projectEnvironmentId,key:"waasWalletKeyshareRestored",keyshareRestorationTime:lt,start:ie,time:jt,userId:d==null?void 0:d.id})}catch(dt){Jn.warn("[useDynamicWaas] Error restoring wallet keyshare",{chain:me,error:dt,sessionId:d.sessionId,userId:d.id,walletAddress:tt.address})}}))))}catch(Fe){Jn.error("Error initializing waas wallet client",{chain:me,error:Fe,sessionId:d.sessionId,userId:d.id})}})))}catch(ie){Jn.error("Error initializing waas",{error:ie,sessionId:d.sessionId,userId:d.id})}}),[I,$,E,N,d]),j=x.useCallback((ie,ye,me)=>de(void 0,void 0,void 0,function*(){if(S.current)return;if(!(I!=null&&I.length))throw new Se(CGe);const be=NGe(ie,me);(lt=>{const rn=lt.map(Re=>Re.chain).filter(Re=>!I.includes(Re));if(rn.length>0)throw new Se(`${RGe}: ${rn.join(", ")}`)})(be);const Fe=(d==null?void 0:d.verifiedCredentials)||[],De=yield Promise.allSettled(be.map(lt=>de(void 0,void 0,void 0,function*(){const jt=E(lt.chain);if(!jt)throw new Error("No connector");const rn=lt.chain===nr.Btc?lt.bitcoinConfig:void 0,Re=Object.assign({password:ye,thresholdSignatureScheme:"TWO_OF_TWO"},rn&&{bitcoinConfig:rn}),Ze=yield jt.createWalletAccount(Re);return Object.assign(Object.assign({},Ze),{chainName:lt.chain})}))),tt=((lt,jt)=>{const rn=[],Re=[];if(lt.forEach((Ze,ct)=>{if(Ze.status==="rejected"){const st=jt[ct];rn.push(st.chain);const vt=Ze.reason instanceof Error?Ze.reason.message:String(Ze.reason);Re.push(`${st.chain}: ${vt}`)}}),rn.length>0)throw g(),new Se(`${TGe}: ${rn.join(", ")}. Errors: ${Re.join("; ")}`);return lt.map(Ze=>Ze.status==="fulfilled"?Ze.value:void 0)})(De,be),dt=tt==null?void 0:tt.find(lt=>(lt==null?void 0:lt.chainName)===(R==null?void 0:R.name)),Qt=yield g();if(Qt){const lt=Dde(Fe,Qt.verifiedCredentials).filter(({format:Ze})=>Ze===Zo.Blockchain);(Ze=>{Ze.forEach(ct=>{var st,vt,$t;try{const zt=ec[(st=ct==null?void 0:ct.chain)!==null&&st!==void 0?st:""],ce=E(zt);if(!ce)return;const X=ce.createWallet({address:(vt=ct.address)!==null&&vt!==void 0?vt:"",chain:zt,connector:ce,id:ct.id,isAuthenticated:!0,key:($t=ct.walletName)!==null&&$t!==void 0?$t:""});rt.emit("embeddedWalletCreated",X,ct,d?Hm(d):void 0)}catch(zt){Jn.error(zt)}})})(lt);const rn=lt.map(({id:Ze})=>Ze);l.current=l.current.concat(rn),((Ze,ct)=>{if(!Ze)return;const st=ct.verifiedCredentials.find(ce=>{var X,ee,we;return((X=ce.walletName)===null||X===void 0?void 0:X.includes(yJ))&&((ee=ce.address)===null||ee===void 0?void 0:ee.toLowerCase())===((we=Ze.accountAddress)===null||we===void 0?void 0:we.toLowerCase())});if(!st||Fe.find(ce=>ce.format==="blockchain"))return;const $t=L3(st,ct.verifiedCredentials),zt=($t==null?void 0:$t.id)||st.id;To(zt)})(dt,Qt)}return s(!1,{performMultiWalletChecks:!1}),tt}),[E,R,I,s,d,g,l]),V=x.useMemo(()=>{var ie;if(!d||!A||!T)return[];const ye=De=>{var gt,tt;return(tt=(gt=d==null?void 0:d.verifiedCredentials)===null||gt===void 0?void 0:gt.some(dt=>dt.chain&&Kae(dt.chain,De)&&dt.walletProvider===Ao.EmbeddedWallet))!==null&&tt!==void 0?tt:!1};if(!(((ie=d==null?void 0:d.verifiedCredentials)===null||ie===void 0?void 0:ie.some(De=>De.format===Zo.Blockchain&&De.walletProvider!==Ao.EmbeddedWallet))?M:!0))return[];const Me=[];I!=null&&I.includes(nr.Btc)&&(ye(nr.Btc)||Me.push({bitcoinConfig:{addressType:"native_segwit"},chain:nr.Btc}));const Fe=I==null?void 0:I.filter(De=>De!==nr.Btc&&!ye(De));return Fe==null||Fe.forEach(De=>{Me.push({chain:De})}),Me},[d,A,T,M,I]),K=ie=>de(void 0,[ie],void 0,function*({chainName:ye,privateKey:me,addressType:be,legacyWalletId:Me}){const Fe=E(ye);Fe&&(yield Fe.importPrivateKey({addressType:be,chainName:ye,legacyWalletId:Me,privateKey:me}),yield g())}),F=x.useCallback(ie=>de(void 0,[ie],void 0,function*({privateKey:ye,wallet:me}){if(S.current=!0,!a)throw new Se("Primary wallet not found");const be=me.chain,Me=me.id,Fe=E(be);if(!Fe)throw new Se("Wallet connector not found");let De=!1;const gt=(Me==null?void 0:Me.replace("-zerodev",""))||Me;try{yield _Me({environmentId:m,walletId:gt}),De=!0,yield Fe.importPrivateKey({chainName:be,legacyWalletId:gt,privateKey:ye,publicAddressCheck:me.address}),S.current=!1}catch(tt){throw De&&(yield xMe({environmentId:m,walletId:gt}),yield g()),S.current=!1,tt instanceof Se?tt:((tt==null?void 0:tt.message)||"").includes("Public address mismatch")?new Se("Public address mismatch. Ensure the private key is copied correctly."):new Se("Upgrade failed, please try again.")}}),[m,E,a,g]),O=x.useCallback(()=>c.filter(ie=>ie.key==="dynamicwaas"),[c]),W=x.useCallback(()=>d!=null&&d.verifiedCredentials?d.verifiedCredentials.filter(ie=>ie.walletName==="dynamicwaas"&&ie.address&&ie.chain&&ec[ie.chain]):[],[d==null?void 0:d.verifiedCredentials]),G=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var ie;if(!(d!=null&&d.verifiedCredentials))return;const ye=d.verifiedCredentials.filter(me=>{var be;return me.walletName==="dynamicwaas"&&((be=me.walletProperties)===null||be===void 0?void 0:be.settings)});for(const me of ye)try{const be=(ie=me.walletProperties)===null||ie===void 0?void 0:ie.settings,{address:Me,chain:Fe}=me;if(!be||!Me||!Fe)continue;const{shouldRefreshOnNextSignOn:De,reshareOnNextSignOn:gt,revokeOnNextSignOn:tt}=be,dt=ec[Fe],Qt=E(dt);if(!Qt)continue;tt&&(yield Qt.revokeDelegation({accountAddress:Me})),De&&(yield Qt.refreshWalletAccountShares({accountAddress:Me})),gt&&(yield Qt.reshareWalletAccountShares({accountAddress:Me,thresholdSignatureScheme:gt}))}catch(be){Jn.error("Failed to process wallet settings:",{error:be,wallet:me})}yield g()}),[d,E,g]),Y=x.useMemo(()=>!(d!=null&&d.verifiedCredentials)||!A?!1:d.verifiedCredentials.some(ie=>{var ye;return ie.walletName==="dynamicwaas"&&((ye=ie.walletProperties)===null||ye===void 0?void 0:ye.settings)&&(ie.walletProperties.settings.shouldRefreshOnNextSignOn||ie.walletProperties.settings.reshareOnNextSignOn||ie.walletProperties.settings.revokeOnNextSignOn)}),[d,A]);return{createWalletAccount:j,dynamicWaasIsEnabled:A,getWaasWalletConnector:E,getWaasWallets:O,getWaasWalletsByCredentials:W,importPrivateKey:K,initializeWaas:P,needsAutoCreateWalletChains:V,needsSettingsProcessing:Y,processSignOnWalletSettings:G,shouldInitializeWaas:N,upgradeToDynamicWaas:F}},PGe=[Ph.GoogleDrive,Ph.ICloud],BGe=e=>{var t;const n=(t=e.walletProperties)===null||t===void 0?void 0:t.keyShares;return!n||!Array.isArray(n)?!1:n.some(r=>r&&typeof r=="object"&&"backupLocation"in r&&PGe.includes(r.backupLocation))},vj=()=>{var e,t;const{setShowAuthFlow:n}=$e(),{pushView:r}=At(),i=v_(),o=vo(),s=K3(),{getWaasWalletConnector:a,getWaasWalletsByCredentials:l}=np(),{linkSocialAccount:c,isLinked:d}=due(),u=(t=(e=o==null?void 0:o.sdk)===null||e===void 0?void 0:e.waas)===null||t===void 0?void 0:t.backupOptions,h=x.useMemo(()=>d(pn.Google),[d]),[m,v]=x.useState({currentIndex:0,failedIndex:null,hasError:!1,isComplete:!1,isProcessing:!1,totalWallets:0}),g=x.useRef(null);x.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const y=x.useCallback(()=>l().map(E=>({address:E.address,chain:ec[E.chain],status:BGe(E)?"backed-up":"pending"})),[l]),b=x.useCallback(()=>y().filter(E=>E.status==="pending").map(({address:E,chain:N})=>({address:E,chain:N})),[y]),k=x.useMemo(()=>{const E=y();return E.length>0&&E.every(N=>N.status==="backed-up")},[y]),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var E;if(h)return!0;try{yield c(pn.Google,{forcePopup:!0,showWidgetAfterConnection:!1});const N=yield s();return!!((E=N==null?void 0:N.verifiedCredentials)===null||E===void 0?void 0:E.some(j=>j.format==="oauth"&&j.oauthProvider===pn.Google))}catch(N){return Ie.warn("Error linking Google account for backup",{error:N}),!1}}),[h,c,s]),R=x.useCallback((E,N)=>de(void 0,void 0,void 0,function*(){try{const P=a(N);return P?(yield P.displayICloudSignIn({displayContainer:E}),!0):(Ie.warn("No WaaS connector found for showing iCloud auth",{chain:N}),!1)}catch(P){return Ie.warn("Error showing iCloud auth",{error:P}),!1}}),[a]),I=x.useCallback(E=>de(void 0,void 0,void 0,function*(){try{const N=a(E);return N?yield N.isICloudAuthenticated():(Ie.warn("No WaaS connector found for checking iCloud auth",{chain:E}),!1)}catch(N){return Ie.warn("Error checking iCloud auth",{error:N}),!1}}),[a]),T=x.useCallback(E=>de(void 0,void 0,void 0,function*(){try{const N=a(E);if(!N){Ie.warn("No WaaS connector found for hiding iCloud auth",{chain:E});return}yield N.hideICloudSignIn()}catch(N){Ie.warn("Error hiding iCloud auth",{error:N})}}),[a]),M=x.useCallback((E,...N)=>de(void 0,[E,...N],void 0,function*(P,j=ra.GoogleDrive,V){try{const K=a(P.chain);return K?(j===ra.GoogleDrive?yield K.backupKeySharesToGoogleDrive({accountAddress:P.address}):j===ra.ICloud&&(yield K.backupKeySharesToICloud({accountAddress:P.address})),!0):(Ie.warn("No WaaS connector found for wallet",{address:P.address}),!1)}catch(K){return Ie.warn("Error backing up wallet",{address:P.address,error:K}),!1}}),[a]),D=x.useCallback((E,...N)=>de(void 0,[E,...N],void 0,function*(P,j=ra.GoogleDrive,V){const K=P??b();for(const F of K)yield M(F,j,V);yield s()}),[b,M,s]),A=x.useCallback((E,...N)=>de(void 0,[E,...N],void 0,function*(P,j=0,V=ra.GoogleDrive,K){g.current&&(clearTimeout(g.current),g.current=null);const F=b();if(F.length===0){P==null||P();return}v(O=>Object.assign(Object.assign({},O),{failedIndex:null,hasError:!1,isProcessing:!0,totalWallets:F.length}));for(let O=j;O<F.length;O++)if(v(G=>Object.assign(Object.assign({},G),{currentIndex:O+1})),!(yield M(F[O],V,K))){v(G=>Object.assign(Object.assign({},G),{failedIndex:O,hasError:!0,isProcessing:!1}));return}yield s(),v(O=>Object.assign(Object.assign({},O),{isComplete:!0,isProcessing:!1})),P&&(g.current=setTimeout(P,1e3))}),[b,M,s]),U=x.useCallback(()=>{if(!i)throw new Error(Kr);n(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),r("waas-backup-progress-view")},[n,r,i]),$=x.useCallback(E=>de(void 0,void 0,void 0,function*(){const N=p1[E];return N.requiresOAuth&&N.oauthProvider?_():!0}),[_]),q=x.useCallback(E=>p1[E].requiresOAuth?h:!0,[h]),z=x.useCallback((E,N)=>de(void 0,void 0,void 0,function*(){try{const{provider:P,password:j}=E,V=a(N.chain);return V?(P===ra.GoogleDrive?yield V.backupKeySharesToGoogleDrive({accountAddress:N.address,password:j}):P===ra.ICloud&&(yield V.backupKeySharesToICloud({accountAddress:N.address,password:j})),!0):(Ie.warn("No WaaS connector found for wallet",{address:N.address}),!1)}catch(P){return Ie.warn("Error backing up to cloud provider",{error:P,options:E}),!1}}),[a]),S=x.useCallback(()=>fqe(u),[u]);return{areAllWalletsBackedUp:k,backupAllWallets:D,backupState:m,backupToCloudProvider:z,backupWallet:M,checkICloudAuth:I,ensureGoogleLinked:_,ensureProviderLinked:$,getSupportedProviders:S,getWalletsBackupStatus:y,getWalletsToBackup:b,hideICloudAuth:T,initBackupProcess:U,isGoogleLinked:h,isProviderLinked:q,showICloudAuth:R,startBackup:A}},DGe=(e,t=ra.GoogleDrive,n)=>{const{backupState:r,startBackup:i}=vj(),o=x.useRef(!1),s=x.useRef(e);s.current=e;const a=p1[t],l=x.useCallback(()=>{if(!o.current){if(a.requiresIframe&&!n)throw new Error(`${a.name} backup requires iframe to be ready`);o.current=!0,i(()=>s.current(),0,t,n)}},[i,t,n,a]),c=x.useCallback(()=>{var d;o.current=!1;const u=(d=r.failedIndex)!==null&&d!==void 0?d:0;o.current=!0,i(()=>s.current(),u,t,n)},[i,r.failedIndex,t,n]);return x.useEffect(()=>{o.current||a.requiresIframe||l()},[a.requiresIframe,l]),Object.assign(Object.assign({},r),{retry:c,start:l})},MGe=e=>{const{getWaasWalletConnector:t,getWaasWalletsByCredentials:n}=np(),[r,i]=x.useState({currentIndex:0,failedIndex:null,hasError:!1,isComplete:!1,isProcessing:!1,totalWallets:0}),o=x.useRef(!1),s=x.useRef(e);s.current=e;const a=x.useMemo(()=>n().map(u=>({address:u.address,chain:ec[u.chain]})),[n]),l=x.useCallback(u=>de(void 0,void 0,void 0,function*(){try{const h=t(u.chain);return h?(yield h.exportClientKeyshares({accountAddress:u.address}),!0):(Ie.warn("No WaaS connector found for wallet",{address:u.address}),!1)}catch(h){return Ie.warn("Error downloading key share",{address:u.address,error:h}),!1}}),[t]),c=x.useCallback((...u)=>de(void 0,[...u],void 0,function*(h=0){if(!(o.current||a.length===0)){o.current=!0,i(m=>Object.assign(Object.assign({},m),{currentIndex:h,failedIndex:null,hasError:!1,isComplete:!1,isProcessing:!0,totalWallets:a.length}));for(let m=h;m<a.length;m++)if(i(g=>Object.assign(Object.assign({},g),{currentIndex:m+1})),!(yield l(a[m]))){i(g=>Object.assign(Object.assign({},g),{failedIndex:m,hasError:!0,isProcessing:!1})),o.current=!1;return}if(i(m=>Object.assign(Object.assign({},m),{isComplete:!0,isProcessing:!1})),o.current=!1,s.current){const m=a.length;setTimeout(()=>{var v;return(v=s.current)===null||v===void 0?void 0:v.call(s,m)},500)}}}),[a,l]),d=x.useCallback(()=>{var u;const h=(u=r.failedIndex)!==null&&u!==void 0?u:0;c(h)},[c,r.failedIndex]);return Object.assign(Object.assign({},r),{retry:d,startDownload:()=>c(0)})},hue=()=>{const{bridgeChains:e,bridgeChainsToConnect:t,setShowAuthFlow:n,bridgeOnboardingCompleted:r,setBridgeOnboardingCompleted:i}=$e(),{pushView:o,clearStackAndPushInitialView:s}=At();return{handleWalletsToConnect:({walletConnector:l})=>{if(!e){n(!1);return}if(!t){i(!0),n(!1);return}if(t.length===0||!l||!l.connectedChain)return n(!1),s();if(t.filter(u=>u.chain!==(l==null?void 0:l.connectedChain)).length===0){r?(n(!1),s()):(i(!0),o("bridge-summary"));return}o("bridge-next-wallet-connection")}}},jGe=["bloctoevm","perawallet","metamaskstarknet"],pue=(e,t)=>de(void 0,void 0,void 0,function*(){const n=Zb(e);if(n==="walletConnect"||n==="qrCode")return;jGe.forEach(i=>{e.key===i&&t("pending-connect")}),(yield e.getConnectedAccounts()).length===0&&t("pending-connect")}),hv=()=>wl()==="connect-only",$Ge=5500,jN=()=>{TO(!1)},LGe=()=>{const e=setTimeout(()=>{jN(),clearTimeout(e),rt.removeListener("walletAdded",jN)},$Ge)},wj=({shouldUpdateWallets:e=!0,shouldCallCallback:t=!0}={})=>{const{pushView:n,clearStackAndPushInitialView:r,replaceView:i}=At(),{engageCaptcha:o,getCaptchaToken:s}=Gd(),{setErrorMessage:a,setError:l,setDefaultError:c}=so(),{connectWallet:d,displaySiweStatement:u,environmentId:h,projectSettings:m,networkValidationMode:v,setIsSingleWalletAccount:g,setShowAuthFlow:y,walletUiUtils:b}=$e(),{handleWalletsToConnect:k}=hue(),_=Z3({displaySiweStatement:u,environmentId:h,projectSettings:m,setIsSingleWalletAccount:g}),R=(M,D,A)=>de(void 0,void 0,void 0,function*(){!bm(M)||fq(M)?(i("pending-signature"),y(!0)):b.disabledConfirmationOnce(),yield Fc(),yield _({captchaToken:A,publicWalletAddress:D,walletConnector:M})}),I=M=>{var D;(M==null?void 0:M.code)==="user-cancelled"||Ie.debug(M),r(),M instanceof h0?l(M.message,M.code):a((D=M==null?void 0:M.code)===null||D===void 0?void 0:D.toString())},T=M=>{M instanceof KF||(r(),M instanceof h0?l(M.message,M.code):c())};return M=>de(void 0,[M],void 0,function*({walletConnector:D,getAddressOpts:A=void 0}){var U;const $=new Um,q=()=>de(void 0,void 0,void 0,function*(){TO(!1),$.reject(new KF)});try{rt.on("goBack",q),rt.on("authFlowClose",q),rt.once("walletAdded",jN),TO(!0),yield pue(D,n),bm(D)&&(ED(D)?n("email-wallet-otp-verification-view"):fq(D)||n("wait-for-email-confirmation-view"));const z=d(D,A,{applyHandleConnectedWallet:t});try{yield Promise.race([z,$.promise])}catch(V){T(V);return}const S=yield z;if(!(S!=null&&S.address)){T();return}const{address:E}=S,N=yield D.getNetwork(!0);if(!ng({network:N,walletConnector:D})&&(v==="always"||v==="sign-in"))return VM(D)?n("network-not-supported"):n("network-not-supported-manual");if(hv()){ot.setItem(Xu,D.key),e&&k({walletConnector:D});return}if(!((U=m==null?void 0:m.security.hCaptcha)===null||U===void 0)&&U.enabled){o({authMethod:"wallet",onCaptchaSuccess:V=>de(void 0,void 0,void 0,function*(){try{yield R(D,E,V)}catch(K){I(K)}})});return}yield R(D,E,s())}catch(z){I(z)}finally{LGe(),rt.removeListener("goBack",q),rt.removeListener("authFlowClose",q)}})},mue=()=>{const{pushView:e,clearStackAndPushInitialView:t}=At(),{setErrorMessage:n}=so(),{getCaptchaToken:r,engageCaptcha:i}=Gd(),{connectWallet:o,displaySiweStatement:s,projectSettings:a,environmentId:l,networkValidationMode:c,setIsSingleWalletAccount:d,setShowAuthFlow:u}=$e(),{handleWalletsToConnect:h}=hue(),m=Z3({displaySiweStatement:s,environmentId:l,projectSettings:a,setIsSingleWalletAccount:d}),v=b=>{var k;Ie.debug(b),!(b instanceof dO&&rr())&&(t(),n((k=b.code)!==null&&k!==void 0?k:b.toString()))};return{onlyConnectUser:b=>de(void 0,[b],void 0,function*({walletConnector:k,getAddressOpts:_=void 0,shouldShowPendingConnectView:R=!0}){var I;R&&(yield pue(k,e));try{if(yield o(k,_),hv()){ot.setItem(Xu,k.key),h({walletConnector:k});return}if(!((I=a==null?void 0:a.security.hCaptcha)===null||I===void 0)&&I.enabled){i({authMethod:"wallet",onCaptchaSuccess:T=>de(void 0,void 0,void 0,function*(){u(!0),e("pending-signature")})});return}u(!0),e("pending-signature")}catch(T){v(T);return}}),signAlreadyConnectedUser:b=>de(void 0,[b],void 0,function*({walletConnector:k,getAddressOpts:_=void 0}){try{const R=yield o(k,_);if(!(R!=null&&R.address))return;const I=yield k.getNetwork(!0);if(!ng({network:I,walletConnector:k})&&(c==="always"||c==="sign-in"))return VM(k)?e("network-not-supported"):e("network-not-supported-manual");yield Fc(),yield m({captchaToken:r(),publicWalletAddress:R.address,walletConnector:k})}catch(R){v(R);return}})}},rp=()=>{const{setMultiWalletWidgetState:e}=$e(),{onlyConnectUser:t}=mue(),n=wj(),{pushView:r}=At(),i=o=>de(void 0,[o],void 0,function*({requiresTwoStepAuthentication:s,walletConnector:a}){const l=wl();s||l==="connect-only"?(r("pending-connect"),yield t({walletConnector:a})):e("awaiting_signature",void 0,"linking_new_wallet")});return yde({allowAlreadyConnectedWallet:!1,onConnectOnly:t,onCustodialWallet:i,onInstalledExtension:i,onQrCodeConnect:n})},gue=Vt.createContext(void 0),H3=()=>{const e=Vt.useContext(gue);if(e===void 0)throw new Error("usage of useWalletGroupContext not wrapped in `WalletGroupContextProvider`.");return e},UGe=({children:e})=>{const[t,n]=Vt.useState(),{pushView:r}=At(),{handleWalletItemClick:i}=rp(),s={navigateToWalletGroup:Vt.useCallback((a,{onSelectWallet:l}={})=>{n(a);const c=Yce(a),d={"multi-chain":"wallet-group","multi-wallet":"select-wallet-in-wallet-group"},u=c?d[c]:d["multi-chain"];r(u,{onSelectWallet:l??i})},[i,r]),selectedWalletGroup:t};return f.jsx(gue.Provider,{value:s,children:e})};var E0;(function(e){e[e.CREATED=0]="CREATED",e[e.EDITED=1]="EDITED"})(E0||(E0={}));const bj=({className:e})=>{const{passkeySuccessPopup:t}=$e(),{t:n}=Xe();return f.jsxs(Hu,{animationComponent:f.jsx(__,{}),children:[t===E0.EDITED&&f.jsx(Lr,{variant:"success",className:e,copykey:"dyn_passkey_success.edited",children:n("dyn_passkey_success.edited")}),t===E0.CREATED&&f.jsx(Lr,{variant:"success",className:e,copykey:"dyn_passkey_success.created",children:n("dyn_passkey_success.created")})]})},Hu=({children:e,animationComponent:t})=>{const[n,r]=x.useState(!0),i=Wle(),o=x.useRef(null),s=x.useMemo(()=>!!e,[e]),a=yje(s),l=x.useCallback(()=>{o.current=null,i()},[i]);return x.useEffect(()=>{x.isValidElement(e)&&(o.current=x.Children.map(e,c=>x.cloneElement(c)))},[e]),x.useEffect(()=>{s&&!a&&r(!0),a&&!s&&r(!1)},[s,a]),x.cloneElement(t,{children:e||o.current,isShown:n,onUnmount:l})},FGe=({isOpen:e,children:t,onClickOverlay:n,style:r,className:i})=>{const o=yqe(e);av(e&&!o);const s=x.useRef(null);_M(s,()=>n==null?void 0:n());const a=f.jsx(__,{className:"overlay-card-base__animation",duration:QK}),l=f.jsx(Sje,{className:"overlay-card-base__animation",duration:QK}),c=f.jsx("div",{className:Ke("overlay-card-base",{"overlay-card-base--disabled":!e}),style:{position:o===void 0?"fixed":"absolute"},children:e&&f.jsxs(f.Fragment,{children:[f.jsx(Hu,{animationComponent:a,children:f.jsx("div",{onClick:n,className:"overlay-card-base__overlay"})}),f.jsx("div",{className:"overlay-card-base__content-wrapper",children:f.jsx(Hu,{animationComponent:l,children:f.jsx("div",{ref:s,className:Ke("overlay-card-base__content",i),style:r,children:t})})})]})});return o?xm.createPortal(c,o):xm.createPortal(f.jsx(R_,{children:c}),document.body)},yue=x.createContext(void 0),WGe=({children:e,closeDisabled:t})=>{const n=x.useContext(yue),r=f.jsx(Sn,{onClick:n,type:"button",id:"close-button",disabled:t,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsx(Zn,{trailing:r,children:f.jsx(se,{as:"h1",variant:"title",color:"primary",children:e})})},qGe=({children:e,className:t,removePadding:n})=>f.jsx("div",{className:Ke("overlay-card__content",{"overlay-card__content-p0":n},t),"data-testid":"overlay-content",children:e}),jc=({children:e,isOpen:t,onClose:n,className:r,style:i})=>f.jsx(yue.Provider,{value:n,children:f.jsx(FGe,{isOpen:t,onClickOverlay:n,className:r,style:i,children:e})});jc.Header=WGe;jc.Content=qGe;var vue='@layer shadow-reset{.dynamic-shadow-dom-content{all:initial}}@layer preflight{a,hr{color:inherit}progress,sub,sup{vertical-align:baseline}blockquote,body,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,menu,ol,p,pre,ul{margin:0}fieldset,legend,menu,ol,ul{padding:0}*,:after,:before{border:0 solid;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit}hr{border-top-width:1px;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;-moz-appearance:button;appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none;appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;appearance:button;font:inherit}summary{display:list-item}menu,ol,ul{list-style:none}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}}.button{align-items:center;cursor:pointer;display:flex;gap:.375rem;justify-content:center;position:relative;transition:all .2s ease}.button:disabled:not(.button--loading){background-color:var(--dynamic-base-3);cursor:default}.button--expanded{align-self:stretch;flex:1;width:100%}.button--brand-primary{background:var(--dynamic-brand-primary-color);border:var(--dynamic-button-primary-border);box-shadow:var(--dynamic-shadow-down-1);color:#fff;padding:var(--dynamic-button-primary-padding)}.button--brand-primary .spinner{color:var(--dynamic-base-1)!important}.button--brand-primary:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--brand-primary:active:enabled,.button--primary{box-shadow:var(--dynamic-shadow-down-1)}.button--primary{background:var(--dynamic-button-primary-background);border:var(--dynamic-button-primary-border);padding:var(--dynamic-button-primary-padding)}.button--primary:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--primary:active:enabled,.button--secondary{box-shadow:var(--dynamic-shadow-down-1)}.button--secondary{background:var(--dynamic-button-secondary-background);border:var(--dynamic-button-secondary-border);padding:var(--dynamic-button-secondary-padding)}.button--secondary:hover:enabled{background:var(--dynamic-hover)}.button--secondary:active:enabled{background:var(--dynamic-base-3)}.button--tertiary,.button--tertiary .typography{color:var(--dynamic-text-secondary)}.button--tertiary:hover:enabled,.button--tertiary:hover:enabled .typography{color:var(--dynamic-text-primary)}.button--card{background:var(--dynamic-button-primary-background);box-shadow:0 .0625rem .125rem 0 rgba(24,39,75,.04);padding:var(--dynamic-button-primary-padding)}.button--card:hover:enabled{box-shadow:0 .75rem 1.25rem -.375rem rgba(24,39,75,.02),0 1rem 1.625rem -.25rem rgba(24,39,75,.04)}.button--danger{background:var(--dynamic-error-1);border:var(--dynamic-button-primary-border);color:var(--dynamic-base-1);padding:var(--dynamic-button-primary-padding)}.button--danger:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--danger:active:enabled{box-shadow:var(--dynamic-shadow-down-1)}.button--padding-default{padding:.625rem 1rem}.button--padding-default,.button--padding-large{border-radius:calc(var(--dynamic-border-radius)/2)}.button--padding-large{padding:.875rem 1.25rem}.button--padding-medium{border-radius:calc(var(--dynamic-border-radius)/3);padding:.625rem 1rem}.button--padding-small{border-radius:calc(var(--dynamic-border-radius)/4);padding:.5rem .75rem}.button--padding-none{padding:0}.button--padding-login-screen-height{border-radius:calc(var(--dynamic-border-radius)/2);min-height:2.5rem;padding:0 1rem}.button__spinner{margin-left:auto;margin-right:auto}.button__end-slot,.button__start-slot{display:inline-flex}.button__spinner-container{align-items:center;bottom:0;color:var(--dynamic-text-primary);display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.button--loading>:not(.button__spinner-container){opacity:0}.accordion-item{overflow:hidden;position:relative;transition-duration:.15s;transition-property:max-height;transition-timing-function:ease-out}.accordion-item--full-height{height:var(--dynamic-modal-height,100vh)}.accordion-item__curtain{background-color:var(--dynamic-overlay);left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.accordion-item__curtain--dimmed{bottom:0;opacity:1}.dyn-accordion-toggle{align-items:center;border:none;border-radius:0;box-shadow:none;display:flex;flex:1;justify-content:space-between}.dyn-accordion-toggle__label{display:flex}.dyn-accordion-toggle__icon{display:flex;transition:transform .3s cubic-bezier(0,0,.24,1)}.dyn-accordion-toggle__icon-open{transform:rotate(-180deg)}.dyn-accordion-toggle:enabled,.dyn-accordion-toggle:enabled:hover{box-shadow:none}.vertical-accordion__container{display:flex;flex-direction:column}.alert{border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:.75rem;justify-content:center;padding:.75rem}.alert--with-icon{justify-content:flex-start}.alert--error{background-color:var(--dynamic-error-2);color:var(--dynamic-error-1)}.alert--warning{background-color:var(--dynamic-base-2);color:var(--dynamic-alert-1)}.alert--info{background-color:var(--dynamic-brand-secondary-color);color:var(--dynamic-brand-primary-color)}.alert--success{background-color:var(--dynamic-success-2);color:var(--dynamic-success-1)}.alert__icon{flex-shrink:0}.badge__container{align-items:center;border-radius:9999px;display:flex;font-size:.625rem;font-weight:500;gap:.25rem;padding:.25rem .5rem;position:relative;transition:color .3s,background-color .3s;white-space:nowrap}.badge__container__primary{background-color:var(--dynamic-badge-primary-background);color:var(--dynamic-badge-primary-color)}.badge__container__secondary{background-color:var(--dynamic-badge-background);color:var(--dynamic-badge-color)}.badge__dot{background-color:var(--dynamic-badge-dot-background);border-radius:9999px;height:.375rem;transition:color .3s,background-color .3s;width:.375rem}.checkbox--hidden{cursor:pointer;display:block;height:1rem;opacity:0;position:absolute;width:1rem;z-index:10}.checkbox--hidden:checked+.checkbox--visible{background:var(--dynamic-brand-primary-color);border-style:none}.checkbox--hidden:checked+.checkbox--visible>.checkbox__icon{opacity:1}.checkbox--hidden:disabled{pointer-events:none}.checkbox--visible{align-items:center;background:var(--dynamic-base-3);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/4);display:flex;height:1rem;justify-content:center;position:absolute;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);width:1rem;z-index:0}.checkbox__container{height:1rem;position:relative;width:1rem}.checkbox__icon{color:#fff;height:.75rem;opacity:0;transition-duration:.2s;transition-property:opacity;width:.75rem}.connect-button{background:var(--dynamic-connect-button-background);border:var(--dynamic-connect-button-border);border-radius:calc(var(--dynamic-connect-button-radius, var(--dynamic-border-radius))/2);box-shadow:var(--dynamic-connect-button-shadow)}.connect-button:hover:enabled{background:var(--dynamic-connect-button-background-hover);border:var(--dynamic-connect-button-border-hover);box-shadow:var(--dynamic-connect-button-shadow-hover)}.connect-button:hover:enabled .typography{color:var(--dynamic-connect-button-color-hover)}.connect-button .typography{color:var(--dynamic-connect-button-color)}.copy-button__container{position:relative}.copy-button__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}@keyframes enter-tile{0%{opacity:0;transform:translateY(.5rem)}to{opacity:1;transform:translateY(0)}}.enter-list-tile-animation{animation-duration:.2s;animation-fill-mode:both;animation-iteration-count:1;animation-name:enter-tile;animation-timing-function:ease-out}.error-container{word-wrap:break-word;align-items:flex-start;display:flex;justify-content:flex-start;margin-bottom:.5rem;overflow:visible;padding:.5rem .75rem;transition:all .3s ease;word-break:break-word}.error-container img,.error-container svg{flex-shrink:0;height:1.25rem;margin-top:.125rem;width:1.25rem}.error-container--error{background:var(--dynamic-error-2);color:var(--dynamic-error-1)}.error-container--info{background:var(--dynamic-base-3);color:var(--dynamic-text-primary)}.error-container--success{background:var(--dynamic-success-2);color:var(--dynamic-success-1)}.error-container--multi-wallet{margin-bottom:.75rem}.error--with-icon{flex:1;margin-left:.875rem;min-width:0}.error-container *{transition:all .3s ease}.icon--color-brand-primary{color:var(--dynamic-brand-primary-color)}.icon--color-text-primary{color:var(--dynamic-text-primary)}.icon--color-text-secondary{color:var(--dynamic-text-secondary)}.icon--color-text-tertiary{color:var(--dynamic-text-tertiary)}.icon--color-text-error{color:var(--dynamic-error-1)}.icon--color-success-1{color:var(--dynamic-success-1)}.icon--size-xsmall{height:.75rem;width:.75rem}.icon--size-small{height:1rem;width:1rem}.icon--size-mini{height:1.25rem;width:1.25rem}.icon--size-medium{height:1.5rem;width:1.5rem}.icon--size-mlarge{height:1.875rem;width:1.875rem}.icon--size-large{height:2.375rem;width:2.375rem}.icon-button{align-items:center;border-radius:100%;color:var(--dynamic-text-tertiary);display:flex;justify-content:center}.icon-button svg:hover{color:var(--dynamic-text-secondary)}.icon-button svg:active{color:var(--dynamic-text-primary)}.indicator__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;bottom:0;display:flex;justify-content:center;position:absolute;right:0}.indicator__icon{background:var(--dynamic-success-1);border-radius:100%}.indicator__wallet-connect{background:#4084ed;bottom:0;color:#fff;position:absolute;right:-.125rem}.icon-with-spinner__container,.indicator__wallet-connect{align-items:center;border-radius:9999px;display:flex;justify-content:center}.icon-with-spinner__container{position:relative}.icon-with-spinner__container img{height:100%;width:100%}.icon-with-spinner__icon-container{align-items:center;display:flex;justify-content:center;position:relative}.icon-with-spinner__spinner-container{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));grid-template-rows:repeat(2,minmax(0,1fr));position:absolute;right:0;top:0}.icon-with-spinner__spinner{grid-column-start:2;grid-row-start:1;height:100%;width:100%}.icon-with-spinner__animation{animation:spin 1.4s linear infinite}.icon-with-status__container{margin-bottom:12px;max-width:-moz-fit-content;max-width:fit-content;position:relative}.icon-with-status__container .icon{border-radius:100%}.icon-with-status__status-dot{bottom:-.125rem;position:absolute;right:-.25rem}.icon-with-status__container .inner-icon__container{background:var(--dynamic-base-1);border-radius:100%;bottom:-.125rem;padding:.1875rem;position:absolute;right:-.1875rem}.icon-with-status__container .inner-icon{border-radius:100%}.icon-with-status__container .inner-icon svg{height:1rem;width:1rem}.icon-with-status__container .inner-icon--green{background:var(--dynamic-success-1)}.icon-with-status__container .inner-icon--red{background:var(--dynamic-error-1)}.icon-with-status__container .inner-icon path{fill:var(--dynamic-base-1)}.icon-with-status__container .status-dot__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;bottom:-.125rem;display:flex;height:.625rem;justify-content:center;position:absolute;right:-.25rem;width:.625rem}.icon-with-status__container .status-dot{border-radius:100%;height:.375rem;width:.375rem}.icon-with-status__container .status-dot--green{background:var(--dynamic-success-1)}.icon-with-status__container .status-dot--red{background:var(--dynamic-error-1)}.info-item__container{color:var(--dynamic-text-tertiary);display:flex}.info-item__container a{text-decoration:underline}.info-item__container .info-item__icon-container{border-radius:calc(var(--dynamic-border-radius)/3);color:var(--dynamic-text-tertiary);display:flex;margin-right:1.125rem}.info-item__container .info-item__icon-container svg{height:1.5rem;width:1.5rem}.info-item__container .info-item__secondary-text{margin-top:.25rem}.phone-number-field{display:flex;flex-direction:column}.phone-number-field__fields{align-items:stretch;display:flex;position:relative;width:100%}.phone-number-field__fields__country-code{align-items:center;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4) 0 0 calc(var(--dynamic-border-radius)*.4);border-right:none;cursor:pointer;display:flex;padding-left:.75rem;position:relative;transition:all .2s ease;width:6.25rem}.phone-number-field__fields__country-code--disabled{background-color:var(--dynamic-base-3);pointer-events:none}.phone-number-field__fields__country-code__flag{margin-right:.5rem}.phone-number-field__fields__country-code__plus{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.phone-number-field__fields__country-code__container{align-items:center;display:flex;flex:1;pointer-events:none}.phone-number-field__fields__country-code .phone-number-field__fields__country-code__container .phone-number-field__fields__country-code__container__input{border:none;flex:1;padding:0;width:100%}.phone-number-field__fields__country-code__chevron{cursor:pointer;position:absolute;right:.5rem;width:1rem}.phone-number-field__fields__phone-number{align-items:center;display:flex;flex:1;position:relative}.phone-number-field__fields .phone-number-field__fields__phone-number .phone-number-field__fields__phone-number__input{border-radius:0 calc(var(--dynamic-border-radius)*.4) calc(var(--dynamic-border-radius)*.4) 0;padding-left:.75rem}.phone-number-field__fields__placeholder{align-self:center;color:var(--dynamic-text-secondary);left:7.0625rem;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.phone-number-field__fields__inline-submit{align-self:center;position:absolute;right:.75rem}.phone-number-field__dropdown{width:calc(var(--dynamic-modal-width) - 3rem)}.phone-number-field__dropdown__items{display:flex;flex-direction:column}.phone-number-field__dropdown__items__country{align-items:center;cursor:pointer;display:flex;gap:.375rem;padding:.375rem .75rem}.phone-number-field__dropdown__items__country__flag{width:1.5rem}.phone-number-field__dropdown__items__country__name{font-size:var(--dynamic-text-size-body-small)}.phone-number-field__dropdown__items__country__code{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small)}.phone-number-field__dropdown__items__country:hover{background-color:var(--dynamic-base-4)}.phone-number-field__dropdown__items__country--selected{background-color:var(--dynamic-base-3)}.phone-number-field__error-message{color:var(--dynamic-error-1);padding:.5rem 0}.phone-number-field input::-webkit-inner-spin-button,.phone-number-field input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.phone-number-field input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.icon-button{--icon-arrow:var(--dynamic-text-tertiary);--icon-background:var(--dynamic-base-3)}.icon-button,.icon-button path,.icon-button rect{transition:all .2s}.icon-button--active,.icon-button:hover{--icon-arrow:var(--dynamic-text-secondary);--icon-background:var(--dynamic-hover)}.icon-button--has-content,.icon-button--has-content:hover{--icon-arrow:var(--dynamic-base-2);--icon-background:var(--dynamic-brand-primary-color)}.input__container{position:relative}.input__container .input__suffix{position:absolute;right:1rem;top:1rem}.input__container .input{background:var(--dynamic-base-2);border-color:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400;margin:0;outline:none;transition:all .2s ease;width:100%}.input__container .input:disabled{background:var(--dynamic-base-3);border-color:var(--dynamic-base-4)}.input__container .input:disabled .input__label{color:var(--dynamic-text-tertiary)}.input__container .input__label{color:var(--dynamic-text-secondary);cursor:text;font-size:.625rem;pointer-events:none}.input__container .input:not(.input__error,.input__success):focus,.input__container .input:not(.input__error,.input__success):hover{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4)}.input__container .input__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.input__container .input__error~.input__label,.input__container .input__error~.input__trailing{color:var(--dynamic-error-1)}.input__container .input__success{border-color:var(--dynamic-success-1)}.input__container .input__success~.input__label,.input__container .input__success~.input__trailing{color:var(--dynamic-success-1)}.input__container .input__has_trailing{padding-right:4rem}.input__container .input__trailing{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.input__container--dense .input{padding:1.125rem .75rem .375rem}.input__container--dense .input::-moz-placeholder{color:transparent}.input__container--dense .input::placeholder{color:transparent}.input__container--dense .input--no-label{padding-block:.75rem}.input__container--dense .input__label{left:.75rem;position:absolute;top:.4375rem;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.input__container--dense .input:-moz-placeholder-shown~.input__label{font-size:.9375rem;top:.75rem}.input__container--dense .input:placeholder-shown~.input__label{font-size:.9375rem;top:.75rem}.input__container--dense .input:focus~.input__label{font-size:.625rem;top:.4375rem}.input__container--regular{display:flex;flex-direction:column}.input__container--regular .input{padding:.75rem}.input__container--regular .input__label{align-items:center;display:inline-flex;font-size:.75rem;line-height:1rem;margin-bottom:.5rem;order:-1}.input__container--regular .input__label:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.input__container--regular .input__suffix{top:2.375rem}.input__message{color:var(--dynamic-text-primary);padding:.5rem 0}.input__message__error{color:var(--dynamic-error-1)}.input__message__success{color:var(--dynamic-success-1)}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{-webkit-transition:background-color 5000s ease-in-out 0s!important;transition:background-color 5000s ease-in-out 0s!important}.list-tile{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:var(--dynamic-wallet-list-tile-padding);transition-duration:var(--dynamic-wallet-list-tile-animation-duration);transition-property:all;transition-timing-function:ease-out;width:100%}.list-tile:not(:disabled):active{transform:scale(.95)}.list-tile:not(:disabled):hover{background-color:var(--dynamic-wallet-list-tile-background-hover);border:var(--dynamic-wallet-list-tile-border-hover);box-shadow:var(--dynamic-wallet-list-tile-shadow-hover)}.list-tile__children{flex-grow:1;text-align:left}.user-wallet{align-items:center;display:flex;height:3.4375rem;justify-content:space-between}.user-wallet__info{align-items:center;display:flex;gap:.5rem}.user-wallet__info__icon{height:1.75rem;width:1.75rem}.user-wallet__info__icon--avatar{border-radius:50%;overflow:hidden}.user-wallet__info__address{display:flex;flex-direction:column;text-align:left}.user-wallets-list{-ms-overflow-style:none;display:flex;flex-direction:column;gap:.5rem;margin-inline:1.5rem;margin-bottom:1.5rem;max-height:100%;overflow-y:auto;scrollbar-width:none}.user-wallets-list::-webkit-scrollbar{display:none}.modal-header{align-items:center;background:var(--dynamic-header-background);display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-header-padding);width:100%}.modal-header--border{border-bottom:var(--dynamic-header-border-bottom)}.modal-header--empty{padding-bottom:0}.modal-header--filled{background:var(--dynamic-base-2)}.modal-header__content{align-items:center;display:flex;justify-content:center;width:100%}.modal-header__content--align-content-bottom{align-items:start}.modal-header__content__leading,.modal-header__content__trailing{align-items:center;display:flex;flex:1;gap:.25rem;height:1.5rem}.modal-header__content__leading--empty,.modal-header__content__trailing--empty{height:0}.modal-header__content__leading{justify-content:flex-start;margin-right:auto}.modal-header__content__trailing{justify-content:flex-end;margin-left:auto}.hardware-wallet-toggle__toggle{pointer-events:none}.network-switch-control__container{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);bottom:0;color:var(--dynamic-text-primary);display:flex;gap:.375rem;max-width:100%;padding:.25rem;position:absolute;right:0;transform:translateX(50%)}.network-switch-control__container--error{border:1px solid var(--dynamic-error-1);color:var(--dynamic-error-1);cursor:auto}.network-switch-control__network-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network-switch-control__network-icon{border-radius:50%}.network-switch-control__arrow-icon{min-width:1rem;transform:rotate(90deg);transition:transform .15s linear}.network-switch-control__arrow-icon--active{transform:rotate(-90deg)}@keyframes spinner-animation{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.network{color:var(--dynamic-text-primary);display:flex;justify-content:space-between;width:100%}.network .network__container{align-items:flex-start;display:flex;flex:1}.network .network__title-icon{border-radius:50%;height:1rem;margin-right:.5rem;margin-top:.0625rem;width:1rem}.network .network__title-container{display:flex;flex-direction:column;gap:.25rem;overflow:hidden}.network .network__title-copy{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network .network__status-container{align-items:center;border-radius:100%;display:flex;height:1rem;justify-content:center;width:1rem}.network .network__status-container .network__status-icon{color:#fff;height:.75rem;width:.75rem}.network .network__status-container .network__status-icon svg path{fill:currentcolor}.network .network__status-container .network__status-spinner-icon{animation:spinner-animation 2s linear infinite;height:.75rem;margin-right:-.9375rem;margin-top:-.75rem;transform-origin:0 100%;width:.75rem}.network .network__status-container--active{background-color:var(--dynamic-brand-primary-color)}.network-action{align-items:center;display:flex;padding:.5rem 1rem}@media (pointer:coarse){.network-action{padding:.5rem 1.5rem}}.network-action:not(.network--not-supported){cursor:pointer}.network-action:not(.network--not-supported):hover{background-color:var(--dynamic-hover)}.network-control-skeleton{align-items:center;border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:.375rem;justify-content:center;padding:.1875rem .25rem}.network-control-skeleton__icon{background-color:var(--dynamic-base-3);border:1px solid var(--dynamic-base-4);border-radius:100%;height:1.125rem;width:1.125rem}.network-control-skeleton__skeleton{width:1.875rem}.non-network-switching-supported-control{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);bottom:0;color:var(--dynamic-text-primary);display:flex;gap:.375rem;justify-content:center;padding:.25rem;position:absolute;right:0;transform:translateX(50%)}.non-network-switching-supported-control--error{background-color:var(--dynamic-error-2);cursor:auto}.non-network-switching-supported-control__network-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network-picker-network-control{display:flex;flex-direction:column}.network-picker-network-control__anchor{position:relative}.linear-gradient-frame{align-items:center;display:flex;flex-direction:column;justify-content:center;position:relative}.linear-gradient-frame__icon{position:absolute}.pin-field__container{display:flex;flex:1;flex-grow:0;gap:2.5%;justify-content:space-between;margin-top:1rem;max-width:19.5rem;width:100%}.pin-input__input{background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:.75rem;color:var(--dynamic-text-primary);font-size:1rem;height:2.75rem;max-width:2.75rem;outline:.125rem solid transparent;outline-offset:.125rem;text-align:center;width:100%}.pin-input__input:last-child{margin-right:0}.pin-input__input:disabled{cursor:not-allowed;opacity:.5}.pin-input__input--error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1);color:var(--dynamic-error-1)}.pin-input__input--success{background:var(--dynamic-success-2);border-color:var(--dynamic-success-1);color:var(--dynamic-success-1)}.modal-component__container{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.modal-component__backdrop{-webkit-backdrop-filter:var(--dynamic-modal-backdrop-filter);backdrop-filter:var(--dynamic-modal-backdrop-filter);background:var(--dynamic-modal-backdrop-background);cursor:default;height:100%;left:0;position:fixed;top:0;width:100%}.search__container{align-items:center;background:var(--dynamic-search-bar-background);border:var(--dynamic-search-bar-border);border-radius:calc(var(--dynamic-border-radius)/1.5);cursor:text;display:flex;gap:.625rem;height:2.625rem;justify-content:space-between;min-height:2.25rem;padding-left:.75rem;padding-right:.75rem}.search__container,.search__container svg{color:var(--dynamic-text-tertiary)}.search__container:hover:not(.search__container--active,.search__container:focus-within){background:var(--dynamic-search-bar-background-hover);border:var(--dynamic-search-bar-border-hover);color:var(--dynamic-text-secondary)}.search__container:hover:not(.search__container--active,.search__container:focus-within) svg{color:var(--dynamic-text-secondary)}.search__container--active,.search__container:focus-within{background:var(--dynamic-search-bar-background-focus);border:var(--dynamic-search-bar-border-focus);color:var(--dynamic-text-primary)}.search__container--active svg,.search__container:focus-within svg{color:var(--dynamic-text-secondary)}.search-icon__container{align-items:center;color:var(--dynamic-text-tertiary);display:flex;height:1rem;justify-content:center;width:1rem}.search__input{background:none;border:0;color:var(--dynamic-text-primary);display:flex;flex-grow:1;font-size:var(--dynamic-text-size-body-small);font-weight:500;line-height:1rem;margin:0;outline:none;padding-bottom:.25rem;padding-top:.25rem}.search__input::-moz-placeholder{color:var(--dynamic-text-tertiary)}.search__input::placeholder{color:var(--dynamic-text-tertiary)}.search__input:hover::-moz-placeholder{color:var(--dynamic-text-secondary)}.search__input:hover::placeholder{color:var(--dynamic-text-secondary)}.search__input:focus::-moz-placeholder{color:transparent}.search__input:focus::placeholder{color:transparent}.search__button--clear{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-mini)}.search__button--clear:hover{color:var(--dynamic-text-primary)}.select__container{cursor:pointer;position:relative}.select__container .select{-webkit-appearance:none;-moz-appearance:none;appearance:none;bottom:0;left:0;opacity:0;outline:none;position:absolute;right:0;top:0}.select__container .select::-moz-placeholder{color:transparent}.select__container .select::placeholder{color:transparent}.select__container .select__body{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;display:block;margin:0;padding:1.125rem .75rem .375rem;position:relative;transition:all .2s ease;width:100%}.select__container .select__value{color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400}.select__container .select__label{color:var(--dynamic-text-secondary);font-size:.9375rem;left:.75rem;pointer-events:none;position:absolute;top:.75rem;transition:all .2s ease}.select__container .select__control_icon{align-items:center;bottom:0;color:var(--dynamic-text-secondary);display:flex;position:absolute;right:.75rem;top:0}.select__container .select__has_value .select__label{font-size:.625rem;top:.4375rem}.select__container .select:has(.select__error)~.select__body{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.select__container .select__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.select__container .select__error .select__control_icon,.select__container .select__error .select__label{color:var(--dynamic-error-1)}.select__message{color:var(--dynamic-text-primary);padding-top:.5rem}.select__message__error{color:var(--dynamic-error-1)}.separator{border-top:.0625rem solid var(--dynamic-base-3)}@keyframes shimmer{to{transform:translateX(100%)}}.skeleton{background:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/6);display:inline-flex;line-height:1;min-width:100%;overflow:hidden;position:relative;z-index:0}.skeleton:after{animation:shimmer 2s infinite;background-image:var(--dynamic-loading-animation-gradient);bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:translateX(-100%)}.spinner{animation:spin 1s linear infinite;color:var(--dynamic-brand-primary-color)}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.status-dot__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;display:flex;height:.625rem;justify-content:center;width:.625rem}.status-dot{border-radius:100%;height:.375rem;width:.375rem}.status-dot--green{background:var(--dynamic-success-1)}.status-dot--red{background:var(--dynamic-error-1)}.status-dot--yellow{background:var(--dynamic-alert-1)}.support-links{display:flex;flex-direction:column;gap:.5rem}.support-links__icons-container{align-items:center;display:flex;gap:1rem;justify-content:center}.support-links__icon-link{align-items:center;display:inline-flex;gap:.25rem;text-decoration:none}.switch__container{display:flex}.switch__container.disabled{opacity:.2;pointer-events:none}.switch__container .button{background:var(--dynamic-base-2);border-radius:0;box-shadow:var(--dynamic-shadow-down-1);color:var(--dynamic-text-primary);font-size:var(--dynamic-text-size-button-primary);font-weight:400;margin:0;padding:.75rem 0;width:100%}.switch__container .button:first-child{border-bottom-left-radius:calc(var(--dynamic-border-radius)/3);border-right:0;border-top-left-radius:calc(var(--dynamic-border-radius)/3)}.switch__container .button:last-child{border-bottom-right-radius:calc(var(--dynamic-border-radius)/3);border-top-right-radius:calc(var(--dynamic-border-radius)/3)}.switch__container .button.active{background:var(--dynamic-brand-primary-color);color:#fff}.text-button{align-items:center;border-radius:calc(var(--dynamic-border-radius)/6);color:var(--dynamic-text-secondary);cursor:pointer;display:flex;font-size:.75rem;font-weight:500;gap:.375rem;padding:.125rem .375rem}.text-button:hover{background-color:var(--dynamic-hover)}.tos-and-pp__text{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small);margin:0 auto;text-align:center}.tos-and-pp__text .tos-and-pp__link{color:var(--dynamic-text-link);text-decoration:none}.zoom-transition__root{transform-origin:50% 50%}.vertical-drawer-animation{overflow:hidden;transition-property:max-height;transition-timing-function:ease-out}.typography{font-family:var(--dynamic-font-family-primary);font-weight:400;line-height:normal}.typography--title{font-size:var(--dynamic-text-size-title)}.typography--body-normal{font-size:var(--dynamic-text-size-body-normal)}.typography--body-small{font-size:var(--dynamic-text-size-body-small)}.typography--body-mini{font-size:var(--dynamic-text-size-body-mini)}.typography--button-primary{font-size:var(--dynamic-text-size-button-primary);font-weight:700}.typography--button-secondary{font-size:var(--dynamic-text-size-button-secondary);font-weight:700}.typography--button-tertiary{font-size:var(--dynamic-text-size-button-secondary);font-weight:400}.typography--numbers-display{font-size:var(--dynamic-text-size-numbers-display);font-weight:700}.typography--numbers-big{font-family:var(--dynamic-font-family-numbers);font-size:var(--dynamic-text-size-numbers-big)}.typography--numbers-medium{font-family:var(--dynamic-font-family-numbers);font-size:var(--dynamic-text-size-numbers-medium)}.typography--bold{font-weight:700}.typography--medium{font-weight:500}.typography--regular{font-weight:400}.typography--link{color:var(--dynamic-text-link)}.typography--brand-primary{color:var(--dynamic-brand-primary-color)}.typography--primary{color:var(--dynamic-text-primary)}.typography--secondary{color:var(--dynamic-text-secondary)}.typography--tertiary{color:var(--dynamic-text-tertiary)}.typography--uppercase{text-transform:uppercase}.typography--dynamic-error-1{color:var(--dynamic-error-1)}.typography--error-2{color:var(--dynamic-error-2)}.typography--alert-1{color:var(--dynamic-alert-1)}.typography--connection-green-1{color:var(--dynamic-success-1)}.typography--tooltip{color:var(--dynamic-tooltip-text-color)}.typography--inherit{color:inherit}.typography--white{color:#fff}.typography--current-color{color:currentcolor}.typography--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.typography-button__content{align-items:center;display:flex;flex-direction:column}.typography-button__content--with-description{align-items:flex-start;flex:1;text-align:left}.powered-by-dynamic{align-items:center;color:var(--dynamic-text-tertiary);display:flex;text-decoration:none;width:100%}.powered-by-dynamic--center{justify-content:center}.powered-by-dynamic--right{justify-content:end}.powered-by-dynamic__logo,.powered-by-dynamic__text{display:inline-block}.powered-by-dynamic__text{margin-right:.25rem}.powered-by-dynamic__logo{display:inline-block;margin-top:.0625rem;max-width:3.6875rem;width:3.6875rem}.dynamic-footer{background:var(--dynamic-footer-background);padding:var(--dynamic-footer-padding);width:100%}.dynamic-footer:not(.dynamic-footer__top-border){padding-top:0}.dynamic-footer__top-border{border-top:var(--dynamic-footer-border-top)}.user-address,.user-address__container{align-items:center;display:flex;justify-content:center}.user-address__container{margin-top:.375rem}.user-address__status-dot{margin-right:.375rem}.user-address__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.app-origin-tile.chip{align-self:center;padding:.625rem 1.25rem}.options-switcher{background-color:var(--dynamic-base-4);display:flex;min-height:2rem;position:relative}.options-switcher,.options-switcher__active-rail,.options-switcher__button{border-radius:calc(var(--dynamic-border-radius)/3)}.options-switcher__button{color:var(--dynamic-text-secondary);flex:1;font-size:var(--dynamic-text-size-button-secondary);font-weight:500;position:relative}.options-switcher__button--active{color:var(--dynamic-text-primary)}.options-switcher__active-rail{background-color:var(--dynamic-base-2);box-shadow:var(--dynamic-shadow-down-1);height:100%;position:absolute;transition:left .1s ease-in-out}.dynamic-verified-icon{color:var(--dynamic-success-1)}.user-profile-field__value{align-items:center;display:flex;min-height:.9375rem;overflow:auto}.user-profile-field__verify-icon{margin-left:.25rem}.user-profile-section{margin:0 0 .75rem}.user-profile-section__title{margin-bottom:.5rem}.user-profile-section__header{display:flex;flex-direction:row;justify-content:space-between}.user-profile-section__action{display:flex;margin:0 0 .5rem}.user-profile-social-account__connected-avatar{border-radius:100%;height:100%;overflow:hidden;position:relative;width:100%}.user-profile-social-account__connected-provider-icon{background-color:#fff;border-radius:100%;bottom:-.1875rem;height:.875rem;padding:.09375rem;position:absolute;right:-.3125rem;width:.875rem}.user-profile-social-account__image{-o-object-fit:cover;object-fit:cover}.user-profile-social-account{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:var(--dynamic-wallet-list-tile-padding);width:100%}.user-profile-social-account__icon{flex-shrink:0;height:1.5rem;position:relative;width:1.5rem}.user-profile-social-account__label{flex-grow:1;text-align:left}.user-profile-social-account__button{box-shadow:none;flex-shrink:0;padding:.1875rem .28125rem}.user-profile-social-account__button .button__spinner-container{left:auto}.user-profile__fields{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);padding:.75rem}.user-profile__fields,.user-profile__social-accounts{display:flex;flex-direction:column;gap:.5rem}.divider{align-items:center;display:flex;gap:.75rem;justify-content:space-between;padding:1rem 0}.divider__dash{background:var(--dynamic-base-4);height:.0625rem;width:100%}.divider__text{white-space:nowrap}.divider__full-width{width:100%}.divider__no-gap{gap:0}.dynamic-tooltip{background-color:var(--dynamic-tooltip-color);border-radius:calc(var(--dynamic-border-radius)/4);opacity:0;padding:.125rem .5rem;pointer-events:none;position:absolute;transform:translate(-50%,-100%);transform-origin:50% 50%;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;z-index:-1}.dynamic-tooltip__arrow{bottom:-.1875rem;color:var(--dynamic-tooltip-color);height:.25rem;left:50%;position:absolute;transform:translateX(-50%);width:.375rem}.dynamic-tooltip--visible{opacity:1;pointer-events:unset;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset;z-index:1}.modal-header-banner{padding:.5rem .75rem;text-align:center}.modal-header-banner__error{background-color:var(--dynamic-error-2)}.modal-header-banner__success{background-color:var(--dynamic-success-2)}.modal-header-banner__notice{background-color:var(--dynamic-brand-secondary-color)}.otp-verification-view{align-items:center;display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding);text-align:center}.otp-verification-view__icon-with-spinner{margin:0 auto .75rem}.otp-verification-view--message{padding:var(--dynamic-layout-content-error-padding)}.otp-verification-view__status-header{align-items:center;display:flex;justify-content:center}.otp-verification-view__footer{display:flex;flex-direction:column;gap:1rem}.otp-verification-view__destination-container{align-items:center;display:flex;gap:.25rem;justify-content:center}.otp-verification-view__retry-container{margin:1rem auto 0}.overlay-card__content{display:flex;flex-direction:column;padding:.25rem 1.5rem 1.5rem}.overlay-card__content-p0{padding:0}.overlay-card-base{bottom:0;height:100%;left:0;max-height:100%;overflow:hidden;position:absolute;right:0}.overlay-card-base--disabled{pointer-events:none}.overlay-card-base__animation{bottom:0;height:100%;left:0;max-height:100%;position:absolute;right:0;top:0}.overlay-card-base__overlay{background-color:var(--dynamic-overlay);bottom:0;left:0;position:absolute;right:0;top:0}.overlay-card-base__content-wrapper{bottom:0;left:0;max-height:80%;position:absolute;right:0;top:20%}.overlay-card-base__content{background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/1.5);border-top:.0625rem solid var(--dynamic-base-4);bottom:0;display:flex;flex-direction:column;left:0;max-height:100%;overflow-y:auto;position:absolute;right:0}@media (pointer:coarse){.overlay-card-base__content{border-bottom-left-radius:0;border-bottom-right-radius:0}}.overlay-card-target{bottom:0;height:100%;left:0;max-height:100%;overflow:auto;position:absolute;right:0}.icon-list-tile{padding-left:0;padding-right:0}.icon-list-tile--children{align-items:center;display:flex;justify-content:center}.popper-content{display:flex;position:absolute;z-index:100}.popper-content__transform-origin-bottom-left{transform:translateY(-100%)}.popper-content__transform-origin-bottom-right{transform:translate(-100%,-100%)}.popper-content__transform-origin-top-left{transform:translate(0)}.popper-content__transform-origin-top-right{transform:translate(-100%)}.dropdown{align-items:stretch;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/3);box-shadow:0 .5rem .75rem -.375rem rgba(24,39,75,.06),0 .5rem .75rem -.1875rem rgba(24,39,75,.06);display:flex;flex-direction:column;max-height:var(--max-height);min-width:10rem;overflow-y:auto;padding-block:.1875rem}.dropdown--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-entering-animation;animation-timing-function:ease-out}.dropdown--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-exiting-animation;animation-timing-function:ease-out}.dots-menu-dropdown__container{padding:.375rem 0}.dots-menu-dropdown__item{align-items:center;cursor:pointer;display:flex;font-size:var(--dynamic-text-size-body-small);gap:.5rem;padding:.5rem .75rem;width:100%}.dots-menu-dropdown__item .typography{white-space:nowrap}.dots-menu-dropdown__item__end-slot{position:absolute;right:.75rem}.dots-menu-dropdown__item:hover{background-color:var(--dynamic-hover)}.dots-menu-dropdown__item:hover .typography{color:var(--dynamic-text-primary)}@media (pointer:coarse){.dots-menu-dropdown__item{font-size:var(--dynamic-text-size-body-normal)}}.dots-menu-dropdown__item-text{align-items:center;display:flex;gap:.5rem}.menu-list__overlay-card__container{align-items:stretch;display:flex;flex-direction:column;overflow-y:auto;padding-bottom:1.25rem}.transaction-confirmation.dynamic-tooltip{word-wrap:break-word;color:var(--dynamic-base-1);font-size:12px;line-height:1.4;max-width:145px;white-space:normal;width:-moz-max-content;width:max-content}.transaction-confirmation__banner{margin:-8px auto 0;padding-bottom:16px;text-align:center;width:75%}.transaction-confirmation__actions{align-items:center;display:flex;flex-direction:row;gap:.375rem;padding:16px 0;width:100%}.transaction-confirmation__actions .button--brand-primary .icon--color-text-secondary,.transaction-confirmation__actions .button--brand-primary .typography--primary{color:#fff}.transaction-confirmation__body{align-items:stretch;display:flex;flex:1;flex-direction:column;overflow:hidden;padding:0 1.5rem .75rem}.transaction-confirmation__app-origin-tile{padding:.75rem}.transaction-confirmation__content{display:flex;flex:1;flex-direction:column;justify-content:flex-start;margin-top:.25rem;overflow:auto;width:100%}.transaction-confirmation__rows{max-height:14.375rem;padding:.5rem .75rem;width:100%}.transaction-confirmation__rows .flex{display:flex;justify-content:space-between}.transaction-confirmation__rows .flex-row{flex-direction:row;gap:.5rem}.transaction-confirmation__rows .row{padding:.5rem 0}.transaction-confirmation__rows .gap{gap:.3rem}.transaction-confirmation__secure-wallet{margin-bottom:0;margin-top:1rem}.transaction-confirmation__info{text-align:right}.transaction-confirmation__error{padding-top:.75rem}.transaction-confirmation__warning{padding-top:12px}.transaction-confirmation__divider{background-color:var(--dynamic-base-3);height:1px;margin:.5rem 0 .75rem;position:relative;transform:translateX(-50%);width:100vw}.transaction-card-container{display:flex;flex-direction:column;gap:.75rem}.transaction-card{background-color:var(--dynamic-base-2);border-radius:.75rem;display:flex;flex-direction:column;padding:.5rem}.transaction-card__icon{align-items:center;display:flex;margin-left:auto}.transaction-card__icon__container{align-items:center;display:flex;justify-content:center;position:relative}.transaction-card__icon__container__main{border-radius:50%;height:2rem;width:2rem}.transaction-card__icon__container__network{background-color:var(--dynamic-base-1);border:1px solid var(--dynamic-base-1);border-radius:50%;bottom:-3px;height:1rem;position:absolute;right:-3px;width:1rem}.transaction-card__total p .typography{gap:.3rem}.transaction-card__info{align-items:center;display:flex;flex-direction:row;gap:.25rem}.transaction-card__assets-container{display:flex;flex-direction:column}.transaction-card__in,.transaction-card__out{padding:.25rem 0;width:100%}.transaction-card__info-container{align-items:center;display:flex;justify-content:space-between;padding:.5rem;width:100%}.transaction-card__amount-symbol{align-items:center;display:flex;gap:.75rem}.transaction-card__token-info{align-items:flex-end;display:flex;flex-direction:column;gap:.125rem}.transaction-card__token-row{align-items:center;display:flex;gap:.5rem}.transaction-card__arrow{color:var(--dynamic-text-secondary);font-size:1.25rem;margin-left:.5rem}.transaction-card__destination{align-items:center;display:flex;gap:.5rem;margin:0}.transaction-card .row{border-top:1px solid var(--dynamic-base-3);display:flex;justify-content:space-between;padding:.6rem 0}.transaction-card .flex-row{display:flex;flex-direction:row;gap:.1rem}.transaction-card .gap-native{gap:.3rem}.transaction-card__divider{border-top:1px solid var(--dynamic-base-3);margin:0 .75rem}.transaction-card__details{display:flex;flex-direction:column}.transaction-card__row{align-items:center;display:flex;justify-content:space-between;padding:.5rem}.transaction-card__value{align-items:flex-end;display:flex;flex-direction:column;gap:.125rem}.transaction-card__network-info{align-items:center;display:flex;gap:.5rem}.transaction-card__network-icon{border-radius:50%}.transaction-card__fee-info{align-items:center;display:flex;gap:.5rem}.transaction-card__fee-info .fee-tooltip{margin-right:.25rem}.transaction-card__label-with-tooltip{align-items:center;display:flex;gap:.25rem}.transaction-card__label-with-tooltip .fee-tooltip{align-items:center;display:flex}.transaction-status-layout{display:flex;flex:1;flex-direction:column;overflow:hidden}.transaction-status-layout .modal-header{padding:3rem .3125rem .625rem}.transaction-status-layout__status-icon{color:var(--dynamic-brand-primary-color);height:4rem;width:4rem}.transaction-status-layout__title{text-align:center}.transaction-status-layout__body{align-items:stretch;display:flex;flex:1;flex-direction:column;padding:.25rem 1.5rem 1.5rem}.transaction-status-layout__sent_to{text-align:center}.transaction-status-layout__sent_to p{display:inline}.transaction-status-layout__content{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-top:.375rem;width:100%}.transaction-status-layout__rows{max-height:14.375rem;overflow-y:auto;padding:.375rem .75rem;width:100%}.transaction-status-layout__rows p{font-size:1.5rem}.transaction-status-layout__rows>.transaction-row:not(:first-child){border-top:1px solid var(--dynamic-base-4)}.transaction-status-layout__actions{margin-top:auto;padding-top:1rem}.transaction-status-layout__actions .button--brand-primary .typography--primary{color:var(--dynamic-base-2)}.transaction-status-layout__footer{padding-top:1rem}.transaction-status-layout__transaction-link-container{display:flex;justify-content:center;margin-top:1rem;width:100%}.transaction-status-layout__transaction-link-container__transaction-link{color:var(--dynamic-text-primary-color);text-decoration:underline;text-decoration-thickness:.0625rem;text-underline-offset:.125rem}.tokens-balance-dropdown{background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;padding:.875rem .75rem}.tokens-balance-dropdown,.tokens-balance-dropdown__selected{align-items:center;display:flex;gap:.5rem;justify-content:space-between}.tokens-balance-dropdown__selected .evm-network-control__arrow-icon{position:absolute;right:2.625rem}.tokens-balance-dropdown__menu_list{border-radius:calc(var(--dynamic-border-radius)/2);padding:.5rem 1rem;width:19.375rem}@media (max-width:640px){.tokens-balance-dropdown__menu_list{margin:0 auto;width:100%}.tokens-balance-dropdown__menu_list .modal-header{padding:1rem 0 1rem 1.25rem}}.tokens-balance-dropdown__menu_list .modal-header__leading{flex:none}.tokens-balance-dropdown__menu_list_item{align-items:center;display:flex;gap:.625rem;justify-content:space-between;padding:.5rem 0;text-align:left}.tokens-balance-dropdown__menu_list_item__name{display:flex;gap:.3125rem;min-width:9.375rem}.tokens-balance-dropdown__menu_list_item__balance{display:flex;gap:.3125rem}.tokens-balance-dropdown__chain{align-items:center;display:flex;gap:.375rem}.tokens-balance-dropdown__chain__icon{height:1rem;width:1rem}.tokens-balance-dropdown__balance-container{align-items:center;display:flex;gap:.25rem}.tokens-balance-dropdown__balance{align-items:center;display:flex;gap:.125rem}.send-balance-page-layout__header-content{align-items:center;display:flex;gap:.5rem}.send-balance-page-layout__body{display:flex;flex:1;flex-direction:column;overflow:auto;padding:.25rem 1.5rem 1.5rem}.send-balance-page-layout__balance-container{display:flex;flex-direction:column;gap:.5rem;padding-bottom:.5rem}.send-balance-page-layout__error{padding-bottom:1rem}.send-balance-page-layout__footer{padding-top:1.5rem}.send-balance-page-layout__network-container{display:flex;justify-content:center;padding-bottom:.5rem}.send-balance-form{display:flex;flex:1;flex-direction:column;gap:.5rem}.send-balance-form__button{flex:unset;margin-top:auto}.send-balance-form__secure-wallet{margin:0}.send-balance-form__field.fiat{padding-left:1.5625rem}.send-balance-form__amount-container{position:relative}.send-balance-form__amount-container__fiat_sign{left:.625rem;position:absolute;top:.6875rem}.send-balance-form__amount-container__double_arrow{position:absolute;right:.625rem;top:.875rem}.send-balance-form__amount-container__balance{display:flex;gap:.25rem;position:absolute;right:.75rem;top:.9375rem}.send-balance-form__amount-container__field.input{padding-left:3.125rem;transition:none}.send-balance-form__amount-container__floating_value{color:#000;font-size:1rem;left:10px;pointer-events:none;position:absolute;top:.6875rem;white-space:nowrap}.send-balance-form__amount_available{border-bottom:1px solid var(--dynamic-base-3);padding-bottom:.75rem}.send-balance-form .input__container--regular .input__label:after{content:"";height:0}.select-network-button__icon{display:inline;margin:0 6px 3px;max-height:16px;max-width:16px;vertical-align:middle}.chip{border:1px solid var(--dynamic-text-tertiary);border-radius:2rem;display:inline-flex;gap:.25rem;padding:.25rem .5rem}.chip,.chip--leading,.chip--trailing{align-items:center;justify-content:center}.chip--leading,.chip--trailing{display:flex}.form-field-label{align-items:center;color:var(--dynamic-text-secondary);cursor:text;display:flex;font-size:.75rem}.form-field-label__with-divider:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.step{counter-increment:step;gap:.5rem}.step,.step__icon{align-items:center;display:flex}.step__icon{flex-shrink:0;height:1.25rem;justify-content:center;width:1.25rem}.step__icon--done{background-color:var(--dynamic-success-1);border-radius:50%}.step__icon__check-mark{color:var(--dynamic-base-1);height:1rem;width:1rem}.step__index{align-items:center;border:1px solid var(--dynamic-base-4);border-radius:.625rem;display:flex;height:1.25rem;justify-content:center;min-width:1.25rem;padding:0 .25rem}.step__index-label:before{content:counter(step)}.step__leading{max-width:-moz-fit-content;max-width:fit-content;position:relative}.stepper{counter-reset:step;display:flex;gap:1rem;width:100%}.stepper__divider{flex-grow:1}.modal{left:50%;margin:auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:var(--dynamic-modal-width)}@media (max-width:640px){.modal{bottom:0;max-width:37.5rem;top:auto;transform:translate(-50%);width:100%}}.modal__items{display:flex;flex-direction:column;gap:.75rem}.modal-card{background:var(--dynamic-base-1);border-radius:var(--dynamic-border-radius);box-shadow:var(--dynamic-shadow-down-3);overflow:hidden;width:100%}.modal-card--radius-small{border-radius:calc(var(--dynamic-border-radius)*.75)}.modal-card--with-border{border:1px solid var(--dynamic-base-4)}.modal-card--sharp-border-radius{border-radius:0}.modal-card--no-shadow{box-shadow:none}@media (max-width:640px){.modal-card{bottom:0;max-width:37.5rem;top:auto;transform:translateY(0);width:100%}.modal-card--sharp-mobile-bottom-radius:last-child{border-radius:var(--dynamic-border-radius) var(--dynamic-border-radius) 0 0}}.inline-widget-button{align-items:center;background-color:var(--dynamic-base-1);display:flex;gap:.5rem;min-height:100%;padding:.5rem .75rem;width:-moz-fit-content;width:fit-content}.inline-widget-button:hover{background-color:var(--dynamic-hover)}.inline-widget-button__icon{height:1.25rem;width:1.25rem}.inline-widget-button__vertical-divider{background-color:var(--dynamic-base-3);content:"";height:1rem;width:.0625rem}.inline-widget{align-items:center;background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/3);display:flex;justify-content:center;overflow:hidden;width:-moz-fit-content;width:fit-content}.inline-widget>*{border-right:1px solid var(--dynamic-base-3)}.inline-widget>:last-child{border-right:none}.wallet-information-card{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column}.wallet-information-card__header{border-bottom:1px solid var(--dynamic-base-3);display:flex;gap:.5rem;justify-content:space-between;padding:.75rem}.wallet-information-card__details-container{align-items:center;display:flex;gap:.75rem;justify-content:space-between;min-width:0}.wallet-information-card__menu{flex-shrink:0}.wallet-information-card__icon{height:1.75rem;width:1.75rem}.wallet-information-card__details{display:flex;flex-direction:column;overflow:hidden}.wallet-information-card__balance-container{align-items:center;display:flex;gap:.5rem;justify-content:space-between;padding:.75rem}.social-sign-in{display:flex;flex-wrap:wrap;gap:.375rem;justify-content:space-between}.social-sign-in--tile{flex:1;height:2.5rem}.social-sign-in--tile__full-width{flex:1 0 100%}.social-sign-in--card{display:flex;flex-direction:column;min-height:11.5625rem}.social-sign-in--card--body{display:grid;gap:.375rem;grid-template-columns:auto auto auto auto}.social-sign-in--card--tile{height:2.5rem}.sign-typed-data-preview--attribute-row{display:flex;gap:.5rem}.sign-typed-data-preview--fields-list,.sign-typed-data-preview--type-container{display:flex;flex-direction:column;gap:.25rem}.sign-typed-data-preview--type-container{padding-left:1rem}.need-help-section{align-items:center;display:flex;flex-direction:column;gap:1rem}.need-help-section__links{display:flex;gap:.5rem}.need-help-section__links>*+*{padding-left:.5rem;position:relative}.need-help-section__links>*+:after{border-left:1px solid var(--dynamic-text-secondary);bottom:15%;content:"";left:0;position:absolute;top:15%;width:50%}.need-help-section__helper-link{color:var(--dynamic-text-link)}.textarea__container{position:relative}.textarea__container .textarea__suffix{position:absolute;right:1rem;top:1rem}.textarea__container .textarea{background:var(--dynamic-base-2);border-color:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400;margin:0;outline:none;resize:none;transition:all .2s ease;width:100%}.textarea__container .textarea:disabled{background:var(--dynamic-base-3);border-color:var(--dynamic-base-4)}.textarea__container .textarea:disabled .textarea__label{color:var(--dynamic-text-tertiary)}.textarea__container .textarea__label{color:var(--dynamic-text-secondary);cursor:text;font-size:.625rem}.textarea__container .textarea:not(.textarea__error):focus,.textarea__container .textarea:not(.textarea__error):hover{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4)}.textarea__container .textarea__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.textarea__container .textarea__error~.textarea__label,.textarea__container .textarea__error~.textarea__trailing{color:var(--dynamic-error-1)}.textarea__container .textarea__valid{background:var(--dynamic-success-2);border-color:var(--dynamic-success-1)}.textarea__container .textarea__valid~.textarea__label,.textarea__container .textarea__valid~.textarea__trailing{color:var(--dynamic-success-1)}.textarea__container .textarea__has_trailing{padding-right:4rem}.textarea__container .textarea__trailing{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.textarea__container--dense .textarea{padding:1.125rem .75rem .375rem}.textarea__container--dense .textarea::-moz-placeholder{color:transparent}.textarea__container--dense .textarea::placeholder{color:transparent}.textarea__container--dense .textarea__label{left:.75rem;position:absolute;top:.4375rem;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.textarea__container--dense .textarea:-moz-placeholder-shown~.textarea__label{font-size:.9375rem;top:.75rem}.textarea__container--dense .textarea:placeholder-shown~.textarea__label{font-size:.9375rem;top:.75rem}.textarea__container--dense .textarea:focus~.textarea__label{font-size:.625rem;top:.4375rem}.textarea__container--regular{display:flex;flex-direction:column}.textarea__container--regular .textarea{padding:.75rem}.textarea__container--regular .textarea__label{align-items:center;display:inline-flex;font-size:.75rem;line-height:1rem;margin-bottom:.5rem;order:-1}.textarea__container--regular .textarea__label:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.textarea__container--regular .textarea__suffix{top:2.375rem}.textarea__message{color:var(--dynamic-text-primary);padding:.5rem 0}.textarea__message__error{color:var(--dynamic-error-1)}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{-webkit-text-fill-color:var(--dynamic-text-primary)!important;background:var(--dynamic-base-2);border-color:var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary)!important;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.secure-embedded-wallet-card{background:var(--dynamic-brand-secondary-color);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:.75rem;transition-duration:var(--dynamic-wallet-list-tile-animation-duration);transition-property:all;transition-timing-function:ease-out;width:100%}.secure-embedded-wallet-card__text-content{align-items:flex-start;cursor:pointer;display:flex;flex-direction:column;flex-grow:1;padding:0;text-align:left}.secure-embedded-wallet-card__text-content,.secure-embedded-wallet-card__text-content:hover{background-color:transparent;box-shadow:none}.secure-embedded-wallet-card__link{line-height:20px;text-decoration:underline}.toggle{-webkit-tap-highlight-color:transparent;cursor:pointer;display:inline-block}.toggle--input{display:none}.toggle--input:checked+.toggle--content__variant-primary{background-color:var(--dynamic-brand-primary-color);color:var(--dynamic-brand-primary-color)}.toggle--input:checked+.toggle--content .toggle--knob{left:1.09375rem}.toggle--input:checked+.toggle--content .toggle--knob>*{opacity:1}.toggle--content{background-color:var(--dynamic-base-3);border-radius:.625rem;height:1.25rem;position:relative;transition:background-color .2s ease;width:2.25rem}.toggle--knob{align-items:center;background-color:#fff;border-radius:100%;display:flex;height:1.0625rem;justify-content:center;left:.09375rem;position:absolute;top:.09375rem;transition:left .2s ease;width:1.0625rem}.toggle--knob>*{opacity:0;transition:opacity .2s ease}.list-tile-animated-trailing{position:relative}.list-tile-animated-trailing__child{position:absolute;right:0;transform:translateY(-50%);transition-duration:.2s;transition-property:opacity,transform;transition-timing-function:ease-in}.list-tile-animated-trailing__hover-element{opacity:0;position:absolute;right:0;transform:translate(-.625rem,-50%);transition-duration:.3s}.list-tile:hover .list-tile-animated-trailing__hover-element{opacity:1;transform:translateY(-50%)}.list-tile:hover .list-tile-animated-trailing__child{opacity:0;transform:translate(-.625rem,-50%)}.wallet-group-view-layout__container{padding:var(--dynamic-layout-content-padding)}.wallet-group-view-layout__icon{height:4rem;margin:0 auto .75rem;width:4rem}.wallet-group-view-layout__list{display:flex;flex-direction:column;gap:.5rem}.wallet-group-view-layout__title{padding-bottom:1rem;text-align:center}.retry-send-verification-code-section{align-items:center;display:flex;flex-direction:column}.retry-send-verification-code-section__confirmation{color:var(--dynamic-success-1);display:flex;gap:.3125rem;padding:.125rem .375rem}.retry-send-verification-code-section__not-received{text-align:center}.toggle-visibility-button__container{position:relative}.toggle-visibility-button__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.qrcode{--background:var(--dynamic-base-1);color:var(--dynamic-text-primary);position:relative}.qrcode__container{align-items:center;border-radius:calc(var(--dynamic-border-radius)/1.5);display:flex;height:18.125rem;justify-content:center;margin:auto;width:18.125rem}.qrcode__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.qrcode-container__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.qrcode-container__container--message{padding:var(--dynamic-layout-content-error-padding)}.qrcode-container__container .button__content{display:flex;gap:.375rem}.qrcode-container__top{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*.6);display:flex;flex-direction:column;gap:.625rem;margin-bottom:1.25rem;padding:.75rem}.qrcode-container__top .button-container{align-items:center;display:flex;gap:.5rem;width:100%}.qrcode-container__top .button-container svg path{fill-opacity:100%}.qrcode-container__top .button-container .qr-code-button{height:2.375rem}.qrcode-container__content{max-width:20rem;text-align:center}.qrcode-container__tos{margin-top:1rem;max-width:17.5rem;text-align:center}.qrcode-container__tos .tos__link{color:var(--dynamic-text-link)}.qrcode-container__tos .tos__link:hover{text-decoration:underline}.qr-code-wrapper__scan-issue-message{align-items:center;background:var(--dynamic-base-2);border-bottom:var(--dynamic-button-primary-border);border-radius:0;border-top:var(--dynamic-button-primary-border);color:var(--dynamic-text-primary);display:flex;justify-content:center;padding:.5rem .75rem;text-align:center;width:100%}.qr-code-wrapper__scan-issue-button{color:var(--dynamic-text-link);font-size:.75rem;text-decoration:underline}.radio-button{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.5rem;padding:.75rem;width:100%}.radio-button input{height:1.5rem;width:1.5rem}.mfa-device-skeleton{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;flex-direction:row;gap:.625rem;margin-bottom:.625rem;padding:.625rem;width:auto}.mfa-device-skeleton__details{display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;padding-right:.625rem}.embedded-wallet-export__iframe-container,.embedded-wallet-export__iframe-container iframe,.embedded-wallet-export__iframe-container iframe *,.embedded-wallet-export__iframe-container iframe body,.embedded-wallet-export__iframe-container iframe html{-ms-overflow-style:none!important;overflow:hidden!important;overflow-x:hidden!important;overflow-y:hidden!important;scrollbar-width:none!important}.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar,.embedded-wallet-export__iframe-container::-webkit-scrollbar{display:none!important;height:0!important;width:0!important}.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container::-webkit-scrollbar-track{display:none!important}.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container::-webkit-scrollbar-corner{display:none!important}.embedded-wallet-export__credential-container{align-items:flex-start;display:flex;flex:none;flex-direction:column;flex-grow:0;gap:8px;height:85px;min-height:85px;padding:0;position:relative;width:100%}.embedded-wallet-export__credential-container--hidden{display:none;height:0;margin:0;min-height:0}.embedded-wallet-export__credential-container--waas{margin:0}.embedded-wallet-export__iframe-container{-webkit-overflow-scrolling:touch;align-items:center;background-color:#fff;border:1px solid var(--dynamic-base-4);border-radius:.75rem;display:flex;flex:none;flex-direction:column;flex-grow:0;height:85px;min-height:85px;padding:1rem 1.25rem;position:relative;scroll-behavior:auto;width:100%}.embedded-wallet-export__iframe-container--hidden{display:none}.embedded-wallet-export__iframe-container--invisible{visibility:hidden}.embedded-wallet-export__iframe-container iframe{background:transparent!important;border:none!important;scroll-behavior:auto!important}.embedded-wallet-export__iframe-container iframe body,.embedded-wallet-export__iframe-container iframe html{height:100%!important;max-height:100%!important}.embedded-wallet-export__skeleton-container{align-items:flex-start;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;display:flex;flex:none;flex-direction:column;flex-grow:0;gap:8px;height:85px;left:0;padding:1rem 1.25rem;position:absolute;top:0;width:100%;z-index:2}.embedded-wallet-export__skeleton-line{background-color:var(--dynamic-base-3);border-radius:.25rem;height:1rem;overflow:hidden;position:relative;width:100%;z-index:0}.embedded-wallet-export__skeleton-line--short{width:70%}.embedded-wallet-export__skeleton-line:after{animation:shimmer 2s infinite;background-image:var(--dynamic-loading-animation-gradient);bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:translateX(-100%)}#dyn-turnkey-export-container-id{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;overflow:auto;padding:.75rem}#dyn-turnkey-export-element-id{word-wrap:break-word;max-height:-moz-min-content;max-height:min-content;width:100%}.phantom-ledger-icon{position:absolute}.phantom-ledger-icon__container{align-items:center;display:flex;height:100%;position:relative}.account-exists__container{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;padding:.3125rem}.account-exists__main{padding:var(--dynamic-modal-padding)}.account-exists__social-icon{margin:auto}.account-exists__image{padding:.3125rem;width:4.375rem}.account-exists__content{text-align:center}.account-exists__content--primary{margin-bottom:.375rem}.account-exists__content--secondary{margin-bottom:1rem}.account-exists__button--primary{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-down-1);margin:0}.account-upgraded-view{align-items:center;display:flex;flex-direction:column;gap:2.5rem;padding:2rem 1.5rem 1.5rem}.account-upgraded-view__content{align-items:center;display:flex;flex-direction:column;gap:2rem;justify-content:center}.account-upgraded-view__icon-container{align-items:center;display:flex;justify-content:center;margin-bottom:8px}.account-upgraded-view__icon-background{align-items:center;background:var(--dynamic-brand-primary-color);border-radius:50%;box-shadow:0 8px 24px rgba(0,0,0,.12);display:flex;height:88px;justify-content:center;position:relative;width:88px}.account-upgraded-view__icon-background:before{border-radius:50%;content:"";inset:3px;pointer-events:none;position:absolute}.account-upgraded-view__icon{color:#fff;height:44px;position:relative;width:44px;z-index:1}.account-upgraded-view__message{line-height:1.5;max-width:340px;text-align:center}.account-upgraded-view__actions{max-width:340px;width:100%}[data-dynamic-theme=dark] .account-upgraded-view__icon-background{background:linear-gradient(135deg,var(--dynamic-brand) 0,var(--dynamic-brand-dark,var(--dynamic-brand)) 100%);box-shadow:0 8px 24px rgba(0,0,0,.25)}[data-dynamic-theme=dark] .account-upgraded-view__icon-background:before{background:linear-gradient(135deg,hsla(0,0%,100%,.15),hsla(0,0%,100%,.03))}.user-data-form__form{display:flex;flex-direction:column}.user-data-form__error{margin-bottom:.625rem}.user-field__checkbox-container{background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column;padding:.625rem}.user-field__checkbox-container--error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.user-field__consent-checkbox{display:flex;margin-bottom:.5rem}.user-field__consent-checkbox a{color:var(--dynamic-text-link)}.user-field__consent-checkbox:last-child{margin-bottom:0}.user-field__checkbox-label{padding-left:.75rem}.user-field__error-message{color:var(--dynamic-error-1);padding:.25rem}.user-phone-field__optional-label{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;pointer-events:none;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.user-data-fields__fields-column{display:flex;flex-direction:column;gap:.375rem;margin-bottom:.5rem;overflow:auto}.user-data-fields__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.collect-user-data::-webkit-scrollbar,.collect-user-data::-webkit-scrollbar-thumb,.collect-user-data::-webkit-scrollbar-track{display:none}.collect-user-data__main-img{width:100%}.collect-user-data__form{padding:var(--dynamic-layout-content-padding)}.collect-user-data__form--error{padding:var(--dynamic-layout-content-error-padding)}.collect-user-data__img-container{align-items:center;display:flex;justify-content:center}.collect-user-data__img{height:1.75rem;width:1.75rem}.collect-user-data__img--rounded{border-radius:9999px}.collect-user-data__wallet-address{margin-left:.5rem}.collect-user-data__success-icon{align-items:center;display:flex;justify-content:center}.collect-user-data__success-icon svg{height:4rem;width:4rem}.collect-user-data__welcome-container{margin:1rem 0;text-align:center}.collect-user-data__welcome-title{margin-bottom:.25rem}.collect-user-data__log-out{margin:.75rem auto 0}.collect-user-data__error--not-supported{align-items:center;border-radius:0;display:flex;justify-content:center;margin:0;width:100%}.collect-user-data__network-picker{margin:auto 0;max-width:-moz-fit-content;max-width:fit-content}.collect-user-data__network-picker-button{border:1px solid var(--dynamic-base-4);position:static;transform:translateX(0)}.collect-user-data__network-picker-button:hover{background:var(--dynamic-hover)}.collect-user-data__network-container{border:var(--dynamic-header-border-bottom);display:flex;justify-content:space-between;padding:var(--dynamic-header-padding);position:relative}.collect-user-data-login-no-wallet::-webkit-scrollbar,.collect-user-data-login-no-wallet::-webkit-scrollbar-thumb,.collect-user-data-login-no-wallet::-webkit-scrollbar-track{display:none}.collect-user-data-login-no-wallet__main-img{width:100%}.collect-user-data-login-no-wallet__user-info-container{align-items:center;border:var(--dynamic-header-border-bottom);display:flex;justify-content:center;padding:var(--dynamic-header-padding)}.collect-user-data-login-no-wallet__user-identification{margin-left:.5rem}.collect-user-data-login-no-wallet__icon-container{height:1.5rem;width:1.5rem}.collect-user-data-login-no-wallet__icon-container .user-profile-social-account__connected-avatar{margin-top:.125rem}.collect-user-data-login-no-wallet__form{padding:var(--dynamic-layout-content-padding)}.collect-user-data-login-no-wallet__success-icon{align-items:center;display:flex;justify-content:center}.collect-user-data-login-no-wallet__success-icon svg{height:4rem;width:4rem}.collect-user-data-login-no-wallet__welcome-container{margin:1rem 0;text-align:center}.collect-user-data-login-no-wallet__welcome-title{margin-bottom:.375rem}.collect-user-data-login-no-wallet__log-out{margin:.75rem auto 0}.email-verification__retry-container{margin:1rem auto 0}.email-verification__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.email-verification__container--error{padding:var(--dynamic-layout-content-error-padding)}.email-verification__icon-with-spinner{margin:0 auto .75rem}.email-verification__error-message{margin:0}.email-verification__error-message,.email-verification__transfer-message{align-items:center;border-radius:0;display:flex;justify-content:center;width:100%}.email-verification__transfer-message{background:var(--dynamic-success-2);color:var(--dynamic-success-1);margin-bottom:.5rem;padding:.5rem .75rem;text-align:center}.email-verification__icon--verified{margin:0 auto 1rem}.email-verification__title{margin-top:.5rem;text-align:center}.email-verification__retry-copy{margin-top:1rem}.email-verification__copy-text-container{margin:0;text-align:center}.email-verification__text-button{color:var(--dynamic-text-link)}.email-verification__text-button:disabled{color:var(--dynamic-text-tertiary);cursor:not-allowed}.email-verification__log-out{margin:.75rem auto 0}.no-qr-code-installed__container{align-items:center;color:var(--dynamic-text-primary);flex-direction:column;margin:-2.25rem 0 0;padding:var(--dynamic-modal-padding);padding-top:0;width:100%}.no-qr-code-installed__container:first-child,.no-qr-code-installed__container:last-child{margin-right:0}.no-qr-code-installed__img{display:flex;height:auto;justify-content:center;margin:auto;text-align:center}.no-qr-code-installed__typography{text-align:center}.no-qr-code-installed__typography--title{margin:1rem 0 .375rem;text-align:center}.no-qr-code-installed__links-section{flex-direction:column;margin:1rem 0}.wallet-help-link__anchor{align-items:center;background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);color:var(--dynamic-text-primary);display:flex;gap:.625rem;margin-bottom:.5rem;padding:.75rem;position:relative;width:100%}.pending-connect__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.pending-connect__copy-text{color:var(--dynamic-text-secondary);max-width:20rem;text-align:center}.pending-connect__icon-with-spinner{margin:0 auto .75rem}.pending-signature__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.pending-signature__container .pending-signature__icon-with-spinner{margin:0 auto .75rem}.pending-signature__container .pending-signature__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;max-width:20rem;text-align:center}.pending-signature__container .pending-signature__copy--mini{line-height:1rem;margin-top:.25rem}.pending-signature__container .pending-signature__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.social-wrong-account-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:0 var(--dynamic-modal-padding) 1.125rem}.social-wrong-account-view__container .social-wrong-account-view__title{color:var(--dynamic-text-primary);line-height:1.5rem}.social-wrong-account-view__container .social-wrong-account-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;margin-top:.375rem;max-width:20rem;text-align:center}.social-wrong-account-view__container .social-wrong-account-view__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.social-redirect-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:2rem var(--dynamic-modal-padding)}.social-redirect-view__container .social-redirect-view__title{color:var(--dynamic-text-primary);line-height:2.25rem}.sms-verification__text-button{color:var(--dynamic-text-link)}.sms-verification__text-button:disabled{color:var(--dynamic-text-tertiary);cursor:not-allowed}.sms-verification__log-out{margin:.75rem auto 0}.wallet-list-item__tile{border-radius:calc(var(--dynamic-border-radius)/2)}.wallet-list-grid-tabs{border-bottom:1px solid var(--dynamic-base-4);border-top:1px solid var(--dynamic-base-4);display:flex;width:100%}.wallet-list-grid-tabs__button{align-items:center;border-left:1px solid var(--dynamic-base-4);display:flex;flex-basis:50%;gap:.25rem;justify-content:center;outline:none;padding:.5rem .625rem}.wallet-list-grid-tabs__button:first-child{border-left:none}.wallet-list-grid-tabs__button--selected{background-color:var(--dynamic-wallet-list-tile-background)}.wallet-list-grid-tabs__button--text{flex-basis:100%}.wallet-list-grid-tabs__icon--selected{filter:grayscale(100%)}.wallet-list__error-container{margin:0}.wallet-list__search-container{padding:var(--dynamic-search-padding)}.wallet-list__tabs-container{margin-bottom:.5rem}.wallet-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.wallet-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.wallet-list__scroll-container::-webkit-scrollbar,.wallet-list__scroll-container::-webkit-scrollbar-track{display:none}.wallet-list__scroll-container::-webkit-scrollbar-thumb{display:none}.wallet-list__scroll-container:empty{display:flex}.wallet-list__scroll-container--fixed-height{height:var(--dynamic-wallet-list-max-height)}.wallet-list__search-skeleton{height:2.625rem}.wallet-list__search-skeleton,.wallet-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.wallet-list__tile-skeleton{height:3rem;padding:.75rem}.wallet-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.wallet-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.wallet-no-access__container{background:var(--dynamic-base-1)}.wallet-no-access__main{padding:var(--dynamic-modal-padding)}.wallet-no-access__social-info-container{align-items:center;display:flex;justify-content:center;margin-top:1.5rem}.wallet-no-access__waitlist-link{align-items:center;display:flex;gap:8px;justify-content:center}.wallet-no-access__social-icon{margin:auto}.wallet-no-access__image{width:100%}.wallet-no-access__user-info-container{align-items:center;display:flex;flex-direction:column;margin-bottom:1rem}.wallet-no-access__content{text-align:center}.wallet-no-access__content--primary{margin-bottom:.375rem}.wallet-no-access__content--secondary{margin-bottom:1rem}.wallet-no-access__wallet-address{margin-left:.375rem}.wallet-no-access__wallet-address-container{align-items:center;display:flex;justify-content:center}.wallet-no-access__button--primary{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-down-1);margin:0}.wallet-no-access__icon--verified{margin:0 auto 1rem}.wallet-sign-spinner__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.wallet-sign-spinner__copy{color:var(--dynamic-text-secondary);margin:0;text-align:center}.wallet-sign-spinner__button{box-shadow:var(--dynamic-shadow-down-1);margin:.75rem 0 0}.wallet-used-view__container{display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding);text-align:center}.wallet-used-view__icon{display:flex;justify-content:center;margin:0 0 .5rem}.wallet-used-view__icon svg{margin:0 auto}.wallet-used-view__shorten-wallet-address{margin:0 0 1rem}.wallet-used-view__copy{margin:0 0 .75rem}.wallet-used-view__accept-button,.wallet-used-view__footer{margin:0 0 .5rem}.wallet-used-view__logout{background:none;border:none;box-shadow:none;margin:auto}.wallet-used-view__checkbox-label{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:.5rem;justify-content:center;margin:1rem auto .5rem;padding:.75rem;text-align:left}.wallet-used-view__checkbox-container{flex-shrink:0}.network-not-supported__content-container{padding:var(--dynamic-layout-content-padding)}.network-not-supported__content-container--error{padding:var(--dynamic-layout-content-error-padding)}.network-not-supported__main-img{width:100%}.network-not-supported__img-container{align-items:center;display:flex;justify-content:center}.network-not-supported__img{border-radius:100%;height:4rem;width:4rem}.network-not-supported__welcome-container{margin:1rem 0;text-align:center}.network-not-supported__welcome-title{margin-bottom:.375rem}.network-not-supported__continue{margin-top:1rem}.network-not-supported__log-out{margin:.75rem auto 0}.network-not-supported__error--not-supported{align-items:center;border-radius:0;display:flex;justify-content:center;margin:0;width:100%}.network-not-supported__network-container{margin-top:.5rem;position:relative}.network-not-supported__network-picker{margin:auto;max-width:-moz-fit-content;max-width:fit-content}.network-not-supported__network-picker-button{position:static;transform:translateX(0)}.email-confirmation-waiting-view{align-items:center;display:flex;flex-direction:column;padding-bottom:1.625rem;text-align:center}.email-confirmation-waiting-view__title{padding-bottom:.375rem}.email-confirmation-waiting-view__email-container{align-items:center;display:flex;gap:.25rem;justify-content:center}.email-confirmation-waiting-view__edit-icon-button{display:inline-flex}.email-confirmation-waiting-view__header-icon{display:flex;justify-content:center;margin-top:-2rem}.email-confirmation-waiting-view__note{max-width:16.25rem;padding-top:1rem;text-align:center}.email-confirmation-waiting-view__powered_by_dynamic_footer{padding-top:1rem;width:100%}.login-with-email-form{display:flex;flex-direction:column;gap:.375rem}.login-with-email-form .input__suffix{top:.6875rem}.login-with-email-form .input__suffix .icon-button{--icon-arrow:var(--dynamic-text-tertiary);--icon-background:var(--dynamic-base-3);transition:all .2s}.login-with-email-form .input__suffix .icon-button path,.login-with-email-form .input__suffix .icon-button rect{transition:all .2s}.login-with-email-form .input__suffix .icon-button--active,.login-with-email-form .input__suffix .icon-button:hover{--icon-arrow:var(--dynamic-text-secondary);--icon-background:var(--dynamic-hover)}.login-with-email-form .input__suffix .icon-button--has-content,.login-with-email-form .input__suffix .icon-button--has-content:hover{--icon-arrow:var(--dynamic-base-2);--icon-background:var(--dynamic-brand-primary-color)}.list-item-button{background:none;box-shadow:none}.list-item-button__trailing{position:relative}.list-item-button__trailing-child{position:absolute;right:0;transition-property:opacity,transform;transition-timing-function:ease-in}.list-item-button__trailing-label{transform:translateY(-50%);transition-duration:.2s}.list-item-button__trailing-icon{transition-duration:.3s}.list-item-button:hover .list-item-button__trailing-label,.list-item-button__trailing-icon{opacity:0;transform:translate(-.625rem,-50%)}.list-item-button:hover .list-item-button__trailing-icon{opacity:1;transform:translateY(-50%)}.login-with-email-wallet-list__skeleton{border-radius:calc(var(--dynamic-border-radius)/2);height:2.625rem;margin-bottom:.5rem}.login-with-email-wallet-list__container{display:flex;flex-direction:column;gap:.375rem}.connect-with-wallet-button{height:2.5rem}.toggleable-section{align-items:stretch;display:flex;flex-direction:column;gap:.75rem}.toggleable-section__toggle-prompt{align-items:center;display:flex;justify-content:space-between}.toggleable-section__toggle-prompt__button{cursor:pointer;margin:-.75rem 0 0 -.75rem;outline:none;padding:.75rem 0 0 .75rem}.toggleable-section__toggle-prompt__button__text{outline:none;transition:all .2s}.toggleable-section__toggle-prompt__button:focus .toggleable-section__toggle-prompt__button__text,.toggleable-section__toggle-prompt__button:focus-visible .toggleable-section__toggle-prompt__button__text,.toggleable-section__toggle-prompt__button:hover .toggleable-section__toggle-prompt__button__text{background-color:var(--dynamic-brand-secondary-color)}.login-with-phone-number-form{display:flex;flex-direction:column;gap:.375rem}.login-with-phone-number-form__fields{align-items:stretch;display:flex;position:relative;width:100%}.login-with-phone-number-form__fields__country-code{align-items:center;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4) 0 0 calc(var(--dynamic-border-radius)*.4);border-right:none;cursor:pointer;display:flex;padding-left:.75rem;position:relative;transition:all .2s ease;width:6.25rem}.login-with-phone-number-form__fields__country-code--disabled{background-color:var(--dynamic-base-3);pointer-events:none}.login-with-phone-number-form__fields__country-code__flag{margin-right:.5rem}.login-with-phone-number-form__fields__country-code__plus{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-with-phone-number-form__fields__country-code__container{align-items:center;display:flex;flex:1;pointer-events:none}.login-with-phone-number-form__fields__country-code__container .login-with-phone-number-form__fields__country-code__container__input{border:none;flex:1;padding:0;width:100%}.login-with-phone-number-form__fields__country-code__chevron{cursor:pointer;position:absolute;right:.5rem;width:1rem}.login-with-phone-number-form__fields__phone-number{align-items:center;display:flex;flex:1;position:relative}.login-with-phone-number-form__fields__phone-number .login-with-phone-number-form__fields__phone-number__input{border-radius:0 calc(var(--dynamic-border-radius)*.4) calc(var(--dynamic-border-radius)*.4) 0;padding-left:.75rem}.login-with-phone-number-form__fields__placeholder{align-self:center;color:var(--dynamic-text-secondary);left:7.0625rem;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-with-phone-number-form__fields__inline-submit{align-self:center;position:absolute;right:.75rem}.login-with-phone-number-form__dropdown{width:calc(var(--dynamic-modal-width) - 3rem)}.login-with-phone-number-form__dropdown__items{display:flex;flex-direction:column}.login-with-phone-number-form__dropdown__items__country{align-items:center;cursor:pointer;display:flex;gap:.375rem;padding:.375rem .75rem}.login-with-phone-number-form__dropdown__items__country__flag{width:1.5rem}.login-with-phone-number-form__dropdown__items__country__name{font-size:var(--dynamic-text-size-body-small)}.login-with-phone-number-form__dropdown__items__country__code{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small)}.login-with-phone-number-form__dropdown__items__country:hover{background-color:var(--dynamic-base-4)}.login-with-phone-number-form__dropdown__items__country--selected{background-color:var(--dynamic-base-3)}.login-with-phone-number-form__error-message{color:var(--dynamic-error-1);padding:.5rem 0}.login-with-phone-number-form input::-webkit-inner-spin-button,.login-with-phone-number-form input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.login-with-phone-number-form input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.login-view__text{padding:.5rem 0}.login-view__error-container{margin:0}.login-view__container{padding:var(--dynamic-initial-view-content-padding)}.login-view__container--error{padding:var(--dynamic-layout-content-error-padding)}@media (pointer:coarse){.login-view__container{padding:.75rem}}.login-view__scroll{align-items:stretch;gap:.375rem;height:100%;max-height:36.25rem;overflow:auto}.login-view__scroll,.login-view__scroll__section{display:flex;flex-direction:column}.login-view__scroll__section--emailAndPhone+.login-view__scroll__section--social{margin-top:1rem}.login-view__scroll::-webkit-scrollbar,.login-view__scroll::-webkit-scrollbar-track{display:none}.login-view__scroll::-webkit-scrollbar-thumb{display:none}.login-view__scroll:empty{display:flex}.login-view__scroll--full-height{height:100vh}.login-view__scroll--email-first{flex-direction:column-reverse}.login-view__scroll__web2{display:flex;flex-direction:column;gap:.75rem}.login-view__passkey-button{align-items:center;display:flex;gap:.5rem;height:2.5rem}.login-view__passkey-button .icon-list-tile--children{gap:.25rem}.mobile-wallet-redirect{align-items:stretch;display:flex;flex-direction:column;gap:1.5rem;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mobile-wallet-redirect__icon-with-spinner{align-self:center}.mobile-wallet-redirect__copy-text{align-self:center;max-width:20rem;text-align:center}.mobile-wallet-redirect__alert{text-align:center}.mobile-wallet-redirect__wallet-app{align-items:center;background-color:var(--dynamic-base-2);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex-wrap:wrap;gap:.875rem;justify-content:space-between;padding:.625rem .75rem}.mobile-wallet-redirect__wallet-app__group{align-items:center;display:flex;gap:.5rem}.mobile-wallet-redirect__wallet-app__group__app-store{text-align:right}.captcha-verify-user__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:0 1.5rem 1.5rem;text-align:center}.captcha-verify-user__icon{height:4rem;margin-bottom:1rem;width:4rem}.captcha-verify-user__title{margin-bottom:.375rem}.captcha-verify-user__subtitle{margin-bottom:1rem}.captcha-verify-user__dynamic-logo{margin-top:1rem}.network-not-supported-switch-manual{margin-top:-1.5rem;padding:0 1.5rem 1.5rem}.network-not-supported-switch-manual__img-container{align-items:center;display:flex;justify-content:center;margin-bottom:1rem}.network-not-supported-switch-manual__img{border-radius:100%;height:4rem;width:4rem}.network-not-supported-switch-manual__network-container{position:relative}.network-not-supported-switch-manual__content{text-align:center}.network-not-supported-switch-manual__title{margin:0 0 .375rem}.wallet-group__list{display:flex;flex-direction:column}.wallet-locked-view__error-container{align-items:center;display:flex;justify-content:center}.wallet-locked-view__button-header{margin:.75rem}.wallet-locked-view__button{margin:.75rem auto auto}.wallet-locked-view__icon{margin:auto}.wallet-locked-view__content{padding:0 var(--dynamic-modal-padding) 2.1875rem;text-align:center}@media (pointer:coarse){.wallet-locked-view__content{padding:0 .75rem}}.wallet-locked-view__title{margin-top:.75rem}.wallet-locked-view__log-out{margin:.75rem auto 0}.merge-user-accounts__error{margin-bottom:.75rem;padding:.75rem 1.5rem}.merge-user-accounts__container{display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}@media (pointer:coarse){.merge-user-accounts__container{padding:0 .75rem}}.merge-user-accounts-conflicts__error{margin-bottom:.75rem;padding:.75rem 1.5rem}.merge-user-accounts-conflicts__container{display:flex;flex-direction:column}@media (pointer:coarse){.merge-user-accounts-conflicts__container{padding:0 .75rem}}.merge-user-accounts-conflicts__description{padding:0 1.5rem .75rem}.merge-user-accounts-conflicts__fields{display:flex;flex-direction:column;gap:1rem;max-height:22.5rem;overflow-y:auto;padding:.75rem 1.5rem}.merge-user-accounts-conflicts__fields__item{display:flex;flex-direction:column;gap:.5rem}.merge-user-accounts-conflicts__fields__item__button{padding:.5rem .75rem}.merge-user-accounts-conflicts__buttons{background:var(--dynamic-base-1);box-shadow:0 -8px 48px -8px rgba(109,121,165,.16);display:flex;flex-direction:column;gap:.5rem;padding:.75rem 1.5rem}.merge-user-accounts-with-same-email__container{padding:0 1.5rem 1.5rem}@media (pointer:coarse){.merge-user-accounts-with-same-email__container{padding:0 .75rem}}.merge-user-accounts-with-same-email__accounts{align-items:center;display:flex;justify-content:space-between;margin:-1.5rem auto 1.5rem;max-width:270px;width:100%}.merge-user-accounts-with-same-email__accounts__item{align-items:center;display:flex;flex-direction:column;gap:.625rem;justify-content:center;width:100%}.merge-user-accounts-with-same-email__accounts__item__icon{height:3.5rem;width:3.5rem}.merge-user-accounts-with-same-email__accounts__divider{height:16px;margin-top:-1.5rem;width:16px}.merge-user-accounts-with-same-email__accounts__divider__icon>path{fill:var(--dynamic-text-secondary)}.merge-user-accounts-with-same-email__text{text-align:center}.merge-user-accounts-with-same-email__text__header{color:var(--dynamic-text-primary);margin-bottom:.5rem}.merge-user-accounts-with-same-email__text__body{color:var(--dynamic-text-secondary);margin-bottom:1rem}.merge-user-accounts-with-same-email__text--bold{font-weight:700}.merge-user-accounts-with-same-email__buttons{display:flex;flex-direction:column;gap:.5rem}.merge-user-accounts-with-same-email__buttons__button{width:100%}.wallet-cannot-be-transferred-view__container{padding:var(--dynamic-modal-padding);text-align:center}.wallet-cannot-be-transferred-view__icon{display:flex;justify-content:center;margin:0 0 .5rem}.wallet-cannot-be-transferred-view__icon svg{margin:0 auto}.wallet-cannot-be-transferred-view__shorten-wallet-address{margin:0 0 1rem}.wallet-cannot-be-transferred-view__title{margin:0 0 .375rem}.wallet-cannot-be-transferred-view__copy{margin:0 0 .75rem}.wallet-cannot-be-transferred-view__transfer-alt-wallet-button{margin:0 0 1rem}.wallet-cannot-be-transferred-view__footer{margin:0 0 .5rem}.wallet-cannot-be-transferred-view__cancel{background:none;border:none;box-shadow:none;margin:auto}.user-field-editor__header{align-items:center;display:flex;flex-direction:column;gap:1.25rem;text-align:center}.user-field-editor__header__icon{align-items:center;background-color:var(--dynamic-base-2);border-radius:50%;display:flex;height:4rem;justify-content:center;width:4rem}.user-field-editor__body{align-items:center;display:flex;flex-direction:column;gap:.5rem;margin:0 1.5rem 1.5rem;text-align:center}.user-field-editor__body__subtitle{margin-block:-.375rem .5rem}.user-field-editor__body__form{width:100%}.passkey-intro-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-intro-view__header{display:flex;width:100%}.passkey-intro-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-intro-view__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-intro-view__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-intro-view__log-out{font-size:.875rem;justify-content:center;line-height:20px}.passkey-intro-view__log-out:hover{background-color:transparent}.passkey-intro-view__skip{color:var(--dynamic-text-secondary);font-size:.875rem;justify-content:center;line-height:1rem}.passkey-intro-view__skip:hover{background-color:transparent}.passkey-recovery-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-recovery-view__header{align-items:center;display:flex;justify-content:center;margin-bottom:-5rem;width:12.875rem}.passkey-recovery-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-recovery-view__input-valid{background:var(--dynamic-success-2)!important;border-color:var(--dynamic-success-1)!important}.passkey-recovery-view__input-valid,.passkey-recovery-view__input-valid~.input__label{color:var(--dynamic-success-1)!important}.passkey-recovery-view__form{display:flex;flex-direction:column;width:100%}.passkey-recovery-view__skip{justify-content:center;margin-top:1.5rem}.passkey-recovery-view__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-recovery-view__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-recovery-view__resend-code{align-items:center;display:flex;flex-direction:column}.passkey-recovery-view button.text-button:not(.passkey-recovery-view__skip){color:inherit}.edit-passkeys-widget-view,.edit-passkeys-widget-view__body{display:flex;flex-direction:column}.edit-passkeys-widget-view__body{flex:1;gap:1.25rem;justify-content:space-between;margin-top:1.25rem;padding:0 1.5rem 1.5rem}.edit-passkeys-widget-view__icon{height:100px;margin-left:auto;margin-right:auto;margin-top:-40px;width:100px}.edit-passkeys-widget-view__title{margin-left:auto;margin-right:auto;margin-top:1.25rem}.passkey-new-domain-detected{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-new-domain-detected__header{align-items:center;display:flex;justify-content:center}.passkey-new-domain-detected__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-new-domain-detected__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-new-domain-detected__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-new-domain-detected__log-out{font-size:.875rem;justify-content:center;line-height:20px}.passkey-new-domain-detected__log-out:hover{background-color:transparent}.embedded-delete-view{display:flex;flex-direction:column;gap:.5rem;height:100%;overflow:auto}.embedded-delete-view__header{align-items:center;display:flex;justify-content:center}.embedded-delete-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:.75rem}.embedded-delete-view__body__description{display:flex;justify-content:center;text-align:center}.embedded-delete-view__body__badge{font-size:.75rem}.embedded-delete-view__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;margin-left:1.5rem;margin-right:1.5rem;max-height:21.875rem;overflow:auto;padding:.75rem}.embedded-delete-view__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.embedded-delete-view__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.embedded-delete-view__body__card__icon{color:var(--dynamic-text-tertiary);height:1.5rem;min-width:1.5rem;width:1.5rem}.embedded-delete-view__body__card__skeleton{border-radius:.75rem;height:3.75rem}.embedded-delete-view__body__confirm_card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.75rem;letter-spacing:-.15px;margin-bottom:.75rem;margin-left:1.5rem;margin-right:1.5rem;max-height:21.875rem;overflow:auto;padding:.625rem}.embedded-delete-view__body__button{height:3rem;width:9.4375rem}.embedded-delete-view__body__cta_button_wrapper{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:1.5rem;margin-left:1.5rem;margin-right:1.5rem}.embedded-reveal-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.embedded-reveal-view__header,.embedded-reveal-view__header__hero{align-items:center;display:flex;justify-content:center}.embedded-reveal-view__header__hero{width:13.75rem}.embedded-reveal-view__zerodev-warning{background-color:var(--dynamic-error-1);border-radius:.5rem;margin-bottom:1rem;padding:1.25rem}.embedded-reveal-view__zerodev-warning__title-row{align-items:center;display:flex;margin-bottom:.5rem}.embedded-reveal-view__zerodev-warning__icon{flex-shrink:0;height:1.25rem;margin-right:.5rem;width:1.25rem}.embedded-reveal-view__zerodev-warning__link-button{background:none;border:none;cursor:pointer;display:inline;font:inherit;margin-left:.25rem;padding:0}.embedded-reveal-view__zerodev-warning .typography{color:inherit}.embedded-reveal-view__zerodev-warning .typography.underline{text-decoration:underline}.embedded-reveal-view__coinbase{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);color:var(--dynamic-text-secondary);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;overflow-wrap:break-word;padding:.75rem}.embedded-reveal-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.embedded-reveal-view__body--waas-credentials{padding-top:0}.embedded-reveal-view__body__description{display:flex;flex-direction:column;gap:1rem;justify-content:center;text-align:center}.embedded-reveal-view__body__badge,.embedded-reveal-view__body__badge-container{display:flex;justify-content:center}.embedded-reveal-view__body__badge{font-size:.75rem}.embedded-reveal-view__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;padding:.75rem}.embedded-reveal-view__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.embedded-reveal-view__body__card__statement__text{display:flex;gap:.25rem}.embedded-reveal-view__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.embedded-reveal-view__body__card__icon{color:var(--dynamic-text-tertiary);height:1rem;min-width:1rem;width:1rem}.embedded-reveal-view__body__card__skeleton{border-radius:.75rem;height:3.75rem}.embedded-reveal-view__body__confirm_card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.75rem;letter-spacing:-.15px;max-height:21.875rem;overflow:auto;padding:1rem}.embedded-reveal-view__body__button_section{display:flex;width:100%}.embedded-reveal-view__body__unlink_button{text-decoration:underline}.embedded-reveal-view__body__bullet-list{display:flex;flex-direction:column;gap:.25rem;margin:0;padding-left:1.5rem}.embedded-reveal-view__body__bullet-list li{color:var(--dynamic-text-primary)}.embedded-auth-choice{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.embedded-auth-choice__header{align-items:center;display:flex;justify-content:center;width:100%}.embedded-auth-choice__support-links{display:flex;flex-direction:column;gap:.25rem;width:100%}.embedded-auth-choice__skip-button{margin-top:-.25rem}.action-card{background-color:var(--dynamic-base-2);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);display:flex;padding:1rem;text-align:left;transition:all .2s ease}.action-card:hover{box-shadow:var(--dynamic-button-shadow)}.action-card__icon{height:1.75rem;min-width:1.75rem;width:1.75rem}.action-card__icon,.action-card__icon path{fill:var(--dynamic-text-tertiary)}.action-card__action-icon{margin-left:auto;min-width:1rem;transform:rotate(180deg);width:1rem}.action-card__content{display:flex;flex-direction:column;gap:.25rem;margin-left:8px}.action-card__content__row{align-items:flex-start;display:flex;gap:.375rem}.action-card__content__row__badge--primary{background:var(--dynamic-brand-primary-color);color:var(--dynamic-base-2)}.embedded-auth-choice-cards{display:flex;flex-direction:column;gap:.625rem;width:100%}.auth-choice-info{align-items:flex-start;align-self:stretch;background:var(--default-base-2,#fff);border:1px solid var(--default-base-4,#e7e8ed);border-radius:12px;display:flex;flex-direction:column;gap:12px;justify-content:center;padding:16px 12px 12px}.auth-choice-info__container-item{display:flex;flex-direction:row;gap:.5rem;text-align:start}.setup-passkey-view{align-items:center;display:flex;flex-direction:column;text-align:center}.setup-passkey-view__header{align-items:center;display:flex;justify-content:center}.setup-passkey-view__header-banner{margin-bottom:.75rem}.setup-passkey-view__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:var(--dynamic-layout-content-padding)}.setup-passkey-view__choose-another-method{display:flex;justify-content:center;margin-bottom:1.5rem;width:100%}.setup-passkey-view__choose-another-method-button{color:var(--dynamic-text-link)}.waas-upgrade-view{display:flex;flex-direction:column;height:80%;overflow:hidden}.waas-upgrade-view__content{display:flex;flex:1;flex-direction:column;gap:.75rem;overflow:auto;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem}.waas-upgrade-view__illustration{align-items:center;display:flex;justify-content:center}.waas-upgrade-view__illustration svg{height:7rem;width:20.5rem}.waas-upgrade-view__wallets-section{display:flex;flex-direction:column}.waas-upgrade-view__section-header{align-items:center;display:flex;justify-content:space-between;padding:.75rem 0}.waas-upgrade-view__wallets-list{display:flex;flex-direction:column;gap:.5rem;max-height:12.5rem;overflow-y:auto;padding:.125rem}.waas-upgrade-view__wallet-item{align-items:center;border-radius:.5rem;display:flex;gap:.75rem;transition:all .2s ease}.waas-upgrade-view__wallet-checkbox{flex-shrink:0}.waas-upgrade-view__wallet-info{flex:1;min-width:0}.waas-upgrade-view__wallet-details{align-items:center;display:flex;gap:.5rem;justify-content:space-between}.waas-upgrade-view__options-section{display:flex;flex-direction:column;gap:.75rem}.waas-upgrade-view__options-title{margin-bottom:.25rem}.waas-upgrade-view__option{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;cursor:pointer;display:flex;gap:.375rem;padding:.75rem}.waas-upgrade-view__option:hover{box-shadow:0 4px 12px rgba(0,0,0,.1)}.waas-upgrade-view__option--selected{background:var(--dynamic-brand-secondary-color);border:1.5px solid var(--dynamic-brand-primary-color);border-radius:.75rem}.waas-upgrade-view__option--selected:hover{box-shadow:0 4px 12px rgba(0,0,0,.1)}.waas-upgrade-view__option-icon{align-items:center;display:flex;flex-shrink:0;height:1.5rem;justify-content:center;margin-top:.125rem;width:1.5rem}.waas-upgrade-view__option-icon svg{color:var(--dynamic-text-secondary);height:1.25rem;width:1.25rem}.waas-upgrade-view__option-checkbox{flex-shrink:0;margin-top:.125rem}.waas-upgrade-view__option-content{display:flex;flex:1;flex-direction:column;gap:.25rem;min-width:0;position:relative}.waas-upgrade-view__recommended-badge{display:flex;gap:.5rem}.waas-upgrade-view__recommended-badge-text{background-color:var(--dynamic-brand-primary-color);color:#fff}.waas-upgrade-view__actions{display:flex;flex-direction:column;gap:.5rem;margin-top:auto;padding-top:.25rem}.waas-upgrade-view__upgrade-button{font-weight:500;text-align:center;transition:all .2s ease}.waas-upgrade-view__upgrade-button:hover:not(:disabled){opacity:.9}.waas-upgrade-view__upgrade-button:disabled{cursor:not-allowed;opacity:.5}.waas-upgrade-view__new-version-message{padding-left:.75rem;padding-right:.75rem;text-align:center}@media (max-width:480px){.waas-upgrade-view__content{gap:.5rem;padding:1rem}.waas-upgrade-view__illustration svg{height:6rem;width:17.5rem}.waas-upgrade-view__option,.waas-upgrade-view__wallet-item{padding:.75rem}.waas-upgrade-view__wallets-list{max-height:9.375rem}}.confirm-passkey-view{align-items:center;display:flex;flex-direction:column;text-align:center}.confirm-passkey-view__header{align-items:center;display:flex;justify-content:center}.confirm-passkey-view__header-banner{margin-bottom:.75rem}.confirm-passkey-view__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:var(--dynamic-layout-content-padding)}.confirm-passkey-view__choose-another-method{display:flex;justify-content:center;margin-bottom:1.5rem;width:100%}.confirm-passkey-view__choose-another-method-button{color:var(--dynamic-text-link)}.select-hardware-wallet-view__container{align-items:stretch;display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding)}.select-hardware-wallet-view__icon{height:6rem;margin:0 auto .75rem;width:4rem}.select-hardware-wallet-view__text{padding-bottom:1rem;text-align:center}.wallet-redirect-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-modal-padding)}.wallet-redirect-view__container .wallet-redirect-view__title{color:var(--dynamic-text-primary);line-height:2.25rem}.wallet-redirect-view__container .powered-by-dynamic{margin-top:1.5rem}.mfa-choose-device-view__body{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mfa-choose-device-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;text-align:center;width:75%}.mfa-choose-device-view__button{box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;gap:.25rem;margin-top:.75rem;text-align:left}.mfa-choose-device-view__button__header{align-items:center;display:flex;justify-content:space-between;width:100%}.mfa-choose-device-view__button__description.mfa-choose-device-view__button__description{font-size:var(--dynamic-text-size-body-small)}.mfa-choose-device-view__icon--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg);width:1rem}.mfa-choose-device-view__logout{margin-top:1.125rem}.mfa-secure-device-view__body{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mfa-secure-device-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;text-align:center;width:75%}.mfa-secure-device-view__button,.mfa-secure-device-view__logout-button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.mfa-secure-device-view__loading-spinner{height:394px}.mfa-secure-device-view__qrcode{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*.6);display:flex;flex-direction:column;gap:.625rem;margin:1rem 0;padding:.75rem}.mfa-secure-device-view__qrcode .button-container{display:flex;gap:.5rem;justify-content:center;width:100%}.mfa-secure-device-view__qrcode .button-container svg path{fill-opacity:100%}.mfa-secure-device-view__qrcode .button-container .qr-code-button{height:2.375rem}.mfa-display-backup-codes-view__body{align-items:center;display:flex;flex-direction:column;gap:1rem;justify-content:center;padding:var(--dynamic-layout-content-padding);text-align:center}.mfa-display-backup-codes-view__warning{border-radius:var(--dynamic-border-radius);padding:.25rem .5rem}.mfa-display-backup-codes-view__loading-spinner{height:19.5rem}.mfa-display-backup-codes-view__codes{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.mfa-display-backup-codes-view__code{background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-button-primary-border);border-radius:var(--dynamic-border-radius);color:var(--dynamic-text-secondary);padding:.75rem 1.125rem;text-align:center;width:8.75rem}.mfa-display-backup-codes-view__actions{display:flex;gap:.5rem;width:100%}.mfa-display-backup-codes-view__actions button{border-radius:calc(var(--dynamic-border-radius)/3)}.mfa-display-backup-codes-view__complete{display:flex;flex-direction:column;gap:.5rem;width:100%}.mfa-display-backup-codes-view__acknowledgement{border-radius:calc(var(--dynamic-border-radius)/3);justify-content:left}.mfa-display-backup-codes-view__acknowledgement .typography{font-size:var(--dynamic-text-size-button-secondary);font-weight:500}.mfa-recovery-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.mfa-recovery-view__body{padding:.3125rem,0}.mfa-recovery-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.mfa-recovery-view__get-help{padding:.3125rem,0}.mfa-verification-view__choose-another-method{align-items:center;display:flex;flex-direction:column;gap:.5rem;justify-content:center;margin-bottom:1.5rem;width:100%}.mfa-verification-view__choose-another-method-button{color:var(--dynamic-text-link)}.access-blocked__container{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;padding:.3125rem}.access-blocked__icon{margin-bottom:.3125rem}.access-blocked__content{margin:.9375rem 0;padding:0 .625rem .625rem;text-align:center}.switch-wallet{white-space:pre-line}.switch-wallet__body{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);margin-top:.625rem;padding:1rem 0;width:100%}.switch-wallet__body__divider{gap:0;padding:.75rem 0}.switch-wallet__body__divider svg{transform:rotate(90deg)}.switch-wallet__body__expected-address__prompt{margin-bottom:.5rem;margin-top:1rem}.switch-wallet__body__expected-address__address{font-size:1.5rem;line-height:1.25rem}.sync-wallet-view .qr-code-wrapper{padding-top:.5rem}.sync-wallet-view .prompt-modal-portal,.sync-wallet-view .prompt-modal-portal__container{position:relative}.mfa-qrcode-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.mfa-qrcode-help-content__vertical-container{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column}.mfa-qrcode-help-content__setup-container{font-family:Arial,sans-serif;margin:0 auto;max-width:400px;width:100%}.mfa-qrcode-help-content__step{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);color:gray;display:flex;flex-direction:row;height:100%;justify-content:flex-start;margin-bottom:.625rem;max-width:100%;padding:1rem}.mfa-qrcode-help-content__step__title{margin-bottom:.3125rem}.mfa-qrcode-help-content__step__number{align-items:center;align-self:flex-start;background-color:var(--dynamic-base-4);border-radius:50%;color:var(--dynamic-brand-primary-color);display:flex;height:1.5rem;justify-content:center;margin-right:.625rem;min-width:1.5rem;width:1.5rem}.mfa-qrcode-help-content__step__nocopy-box{align-items:center;border:var(--dynamic-button-primary-border);border-radius:.3125rem;display:flex;justify-content:space-between;padding:.625rem}.mfa-qrcode-help-content__step__nocopy-text{word-break:break-all}.mfa-qrcode-help-content__copy-button{background-color:transparent;border:none;cursor:pointer}.sandbox-threshold__main{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;justify-content:center;padding:0 var(--dynamic-modal-padding) 1.125rem}.sandbox-threshold__title{color:var(--dynamic-text-primary);line-height:1.5rem;text-align:center}.sandbox-threshold__description{color:var(--dynamic-text-secondary);line-height:1.25rem;margin-bottom:1.5rem;margin-top:.75rem;text-align:center}.sandbox-threshold__button{box-shadow:var(--dynamic-shadow-down-1)}.global-wallet-confirm .popup-content .wallet-connection-view{align-items:center;display:flex;flex-direction:column;padding:24px}.global-wallet-confirm .popup-content .wallet-connection-view .dapp-icon{height:64px;margin-bottom:16px;width:64px}.global-wallet-confirm .popup-content .wallet-connection-view .connection-title{color:var(--dynamic-text-primary);margin-bottom:16px;text-align:center}.global-wallet-confirm .popup-content .wallet-connection-view .dapp-url{color:var(--dynamic-text-secondary);margin-bottom:24px;text-align:center}.global-wallet-confirm .popup-content .wallet-connection-view .button-group{display:flex;gap:16px;width:100%}.global-wallet-confirm .popup-content .wallet-connection-view .button-group button{cursor:pointer;flex:1}.global-wallet-confirm .popup-content .wallet-connection-view .button-group button.cancel-button{background-color:var(--dynamic-base-2)}.global-wallet-confirm .popup-content .wallet-connection-view .button-group button.connect-global-button{background-color:#3b82f6;color:#fff}.info-card .wrapper{background:var(--dynamic-base-2);border:1px solid var(--dynamic-border-2);border-radius:16px;display:flex;flex-direction:column;gap:.75rem;padding:1.5rem;text-align:left}.inline-icon-text{display:inline}.inline-icon-text svg{display:inline-block;height:1em;margin:0 .25em;vertical-align:middle;width:1em}.nowrap{align-items:center;display:inline-flex;white-space:nowrap}.learn-more-link{align-items:center;display:flex;justify-content:center;padding:4px;pointer-events:auto;text-decoration:none}.learn-more-link svg{cursor:pointer;height:.5rem;margin-left:.25rem;width:.5rem}.malicious-site-view .popup-content .wallet-connection-view{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:24px;text-align:center}.malicious-site-view .popup-content .wallet-connection-view .header{align-items:center;display:flex;justify-content:center;margin-bottom:16px;width:100%}.malicious-site-view .popup-content .wallet-connection-view .header .back-button{background:none;border:none;cursor:pointer;left:24px;padding:8px;position:absolute}.malicious-site-view .popup-content .wallet-connection-view .header h1{color:var(--dynamic-text-primary);margin:0}.malicious-site-view .popup-content .wallet-connection-view .warning-card{align-items:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;margin-bottom:16px;padding:16px;width:100%}.malicious-site-view .popup-content .wallet-connection-view .warning-card .warning-icon{height:48px;margin-bottom:8px;width:48px}.malicious-site-view .popup-content .wallet-connection-view .connection-title{margin-top:16px}.malicious-site-view .popup-content .wallet-connection-view .site-info{color:var(--dynamic-text-secondary);padding:16px}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container{border-radius:12px;display:flex;flex-direction:column;margin-top:16px;padding:16px;position:relative}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container.definitely-malicious{background-color:var(--dynamic-error-2)}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container.unknown{background-color:#f4d09a}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle-header-container{align-items:flex-start;display:flex;margin-bottom:4px}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle-header-container .caution-icon{height:24px;left:16px;position:absolute;top:16px;width:24px}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle-header-container .subtitle-header{flex:1;margin-bottom:0;margin-left:32px;text-align:left}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle{margin-top:0;padding-left:32px;text-align:left}.malicious-site-view .popup-content .wallet-connection-view .button-group{display:flex;gap:16px;margin-top:16px;width:100%}.malicious-site-view .popup-content .wallet-connection-view .button-group button{cursor:pointer;flex:1}.malicious-site-view .popup-content .wallet-connection-view .button-group button.cancel-button{background-color:var(--dynamic-base-2)}.malicious-site-view .popup-content .wallet-connection-view .button-group button.proceed-button{background-color:inherit;box-shadow:none}.add-network-view{display:flex;flex-direction:column}.add-network-view__description,.add-network-view__title{text-align:center}.add-network-view__text-container{display:flex;flex-direction:column;gap:.25rem}.add-network-view__body{align-items:center;display:flex;flex-direction:column;gap:1rem;padding:var(--dynamic-layout-content-padding);text-align:center}.add-network-view__network-icon{height:4rem;width:4rem}.add-network-view__actions{display:flex;gap:.25rem;width:100%}.subdomain-field__container{align-items:flex-start;display:flex;flex-direction:row;gap:.25rem}.subdomain-field__container span{margin-top:.875rem}.subdomain-field__details{margin-top:.5rem}.wallet-already-exists-view__container{align-items:center;display:flex;flex-direction:column;padding-bottom:24px;padding-left:24px;padding-right:24px;text-align:center}.wallet-already-exists-view__icon{align-items:center;display:flex;height:64px;justify-content:center;margin-bottom:8px;width:64px}.wallet-already-exists-view__shorten-wallet-address{margin-bottom:8px}.wallet-already-exists-view__copy{max-width:320px}.delete-account-view{background:var(--dynamic-base-1);display:flex;flex-direction:column;width:100%}.delete-account-view__content{align-items:center;display:flex;flex-direction:column;gap:24px;padding:0 24px 24px;width:100%}.delete-account-view__content .warning-section{align-items:center;display:flex;flex-direction:column;gap:8px;padding-top:.75rem;width:100%}.delete-account-view__content .warning-section .warning-icon-container{height:64px;position:relative;width:64px}.delete-account-view__content .warning-section .warning-icon-container .warning-icon{color:var(--dynamic-error-1);height:100%;width:100%}.delete-account-view__content .warning-section .warning-icon-container .exclamation-icon{color:var(--dynamic-text-white);height:24px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:24px}.delete-account-view__content .message-box{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;padding:12px;width:100%}.delete-account-view__content .confirmation-section{align-items:flex-start;display:flex;flex-direction:column;gap:24px;width:100%}.delete-account-view__content .confirmation-section .checkbox-container{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:var(--dynamic-border-radius);box-sizing:border-box;display:flex;flex-direction:row;gap:8px;padding:10px;width:100%}.delete-account-view__content .confirmation-section .input-section{display:flex;flex-direction:column;gap:8px;width:100%}.delete-account-view__content .button-group{display:flex;flex-direction:row;gap:24px;margin-top:auto;width:100%}.delete-account-view__content .button-group .cancel-button,.delete-account-view__content .button-group .delete-button{border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);flex:1;height:48px}.delete-account-view__content .button-group .cancel-button{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);color:var(--dynamic-text-primary)}.session-permissions-view{display:flex;flex-direction:column;gap:.25rem}.session-permissions-view__header{padding:.25rem 0}.session-permissions-view__card{align-items:flex-start;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:.5rem;display:flex;flex-direction:column;gap:.5rem;margin-bottom:.25rem;padding:.75rem}.session-permissions-view__card-permission{align-items:center;display:flex;flex-direction:row;gap:.5rem}.session-permissions-view__token-card{align-items:center;flex-direction:row;justify-content:space-between}.session-permissions-view__token{align-items:center;display:flex;gap:.5rem}.session-permissions-view__spending{align-items:flex-end;display:flex;flex-direction:column}.session-permissions-view__panel{background-color:var(--dynamic-base-1);border:1px solid var(--dynamic-base-3);border-radius:.5rem;display:flex;flex-direction:column;margin-top:.5rem;overflow:hidden}.session-permissions-view__panel-toggle{background-color:var(--dynamic-base-1);padding:.75rem}.session-permissions-view__panel-toggle-label{align-items:flex-start;flex-direction:column}.session-permissions-view__panel-content{display:flex;flex:1;width:100%}.session-permissions-view__panel-content .textarea__container{display:flex;flex:1}.session-permissions-view__panel-content .textarea__container .textarea{border:none;border-radius:0}.session-key-approval-view{display:flex;flex-direction:column;gap:.5rem;overflow-y:auto}.session-key-approval-view__body{display:flex;flex-direction:column;gap:1rem;padding:0 1.5rem}.session-key-approval-view__footer{display:flex;flex-direction:column;gap:.5rem;padding:1rem 1.5rem}.backup-unsuccessful-view{display:flex;flex-direction:column;margin:0 auto;max-width:480px;min-height:auto;text-align:center}.backup-unsuccessful-view__content{padding:16px 24px 24px}.backup-unsuccessful-view .backup-icon-container{align-items:center;display:flex;height:64px;justify-content:center;margin-bottom:16px;margin-left:auto;margin-right:auto;position:relative;width:64px}.backup-unsuccessful-view .backup-icon-container .backup-icon{height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.backup-unsuccessful-view .backup-icon-container .backup-icon svg{height:100%!important;width:100%!important}.backup-unsuccessful-view .backup-icon-container .warning-icon-container{height:40px;position:absolute;right:-30px;width:40px}.backup-unsuccessful-view .backup-icon-container .warning-icon-container .combined-icon{display:block;height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.backup-unsuccessful-view .backup-message{font-size:15px;line-height:1.5;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:32px}.backup-unsuccessful-view .button-group{display:flex;justify-content:center;margin:0 auto;width:100%}.backup-unsuccessful-view .button-group .retry-button{background-color:var(--dynamic-brand-primary-color);width:100%}.backup-unsuccessful-view .button-group .logout-button{font-weight:500}.backup-unsuccessful-view .button-group--with-help-section{padding-bottom:1rem}.backup-unsuccessful-view .logout-group{margin-top:.125rem}.search-instead__container{font-size:.75rem;line-height:1rem;margin-top:2.5rem;padding-bottom:1rem;text-align:center;transition-duration:.3s;transition-property:background-color,border-color,color,fill,stroke;width:100%}.search-instead__container__image{display:flex;justify-content:center;margin:.5rem auto}.exchange-list-item__tile{border-radius:calc(var(--dynamic-border-radius)/2)}.exchange-list__error-container{margin:0}.exchange-list__search-container{padding:var(--dynamic-search-padding)}.exchange-list__tabs-container{margin-bottom:.5rem}.exchange-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.exchange-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.exchange-list__scroll-container::-webkit-scrollbar,.exchange-list__scroll-container::-webkit-scrollbar-track{display:none}.exchange-list__scroll-container::-webkit-scrollbar-thumb{display:none}.exchange-list__scroll-container:empty{display:flex}.exchange-list__scroll-container--fixed-height{height:var(--dynamic-exchange-list-max-height)}.exchange-list__search-skeleton{height:2.625rem}.exchange-list__search-skeleton,.exchange-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.exchange-list__tile-skeleton{height:3rem;padding:.75rem}.exchange-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.exchange-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.duplicate-wallet-view__content{padding:0 var(--dynamic-modal-padding) 2.1875rem;text-align:center}@media (pointer:coarse){.duplicate-wallet-view__content{padding:0 .75rem}}.duplicate-wallet-view__title{margin-top:.75rem}.duplicate-wallet-view__icon{margin:auto}.duplicate-wallet-view__button{margin:1.5rem auto auto}.mfa-exchange-view__content{align-items:center;display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}.mfa-exchange-view__content__icon-description{align-items:center;display:flex;flex-direction:column;gap:.75rem}.mfa-exchange-view__content__icon-description__description-holder{align-items:center;display:flex;flex-direction:column;gap:.375rem}.mfa-exchange-view__content__icon-description__description-holder__description{text-align:center}.mfa-exchange-view__content__icon-description__icon-holder{align-items:center;display:flex;flex-direction:column;gap:.75rem}.mfa-exchange-view__content__icon-description__icon-holder__icon{height:6rem;width:6rem}.mfa-exchange-view__content__input,.mfa-exchange-view__content__input__input{align-items:center;border-radius:.75rem;display:flex;flex:1 0 0;gap:.5rem;height:3rem;justify-content:center;letter-spacing:.5rem;padding:.25rem .75rem;text-align:center;width:100%}.mfa-exchange-view__content__input__input{border:1px solid var(--default-base-4,#e7e8ed)}.mfa-exchange-view__content__confirm{align-items:center;align-self:stretch;display:flex;gap:.46875rem;justify-content:center;padding:.625rem .9375rem}.mfa-exchange-view__content__confirm__button{border-radius:.3125rem;width:100%}.exchange-whitelist-warning__content{align-items:center;display:flex;flex-direction:column;padding:0 1.5rem 1.5rem}.exchange-whitelist-warning__content__icon-holder{align-items:center;display:flex;flex-direction:column;padding-bottom:0;padding-top:.75rem}.exchange-whitelist-warning__content__modal-header{align-items:center;padding-top:0}.exchange-whitelist-warning__content__description{padding-top:.75rem;text-align:center}.exchange-whitelist-warning__content__steps{display:flex;flex-direction:column;gap:1rem;padding-top:1.5rem}.exchange-whitelist-warning__content__steps__step{align-items:center;display:flex;flex-direction:row;gap:.5rem}.exchange-whitelist-warning__content__steps__step__number-badge{align-items:center;background-color:var(--dynamic-brand-primary-color);border-radius:50%;box-sizing:border-box;color:#fff;display:flex;flex-shrink:0;font-size:1rem;font-weight:700;height:1.5rem;justify-content:center;line-height:1;padding:0;text-align:center;width:1.5rem}.exchange-whitelist-warning__content__steps__step__icon{color:var(--dynamic-brand-primary-color);flex-shrink:0}.exchange-whitelist-warning__content__address{align-items:flex-start;display:flex;flex-direction:column;gap:.25rem;padding-top:1.5rem;width:100%}.exchange-whitelist-warning__content__address__copy{align-items:center;display:flex;flex-direction:row;gap:.5rem;width:100%}.exchange-whitelist-warning__content__address__copy__copy-input{flex:9.5 9.5 0}.exchange-whitelist-warning__content__open{padding-top:1.25rem;width:100%}.exchange-whitelist-warning__content__open__button{align-items:center;width:100%}.exchange-whitelist-warning__content__instructions{align-items:center;display:flex;flex-direction:row;padding-top:1.25rem}.exchange-whitelist-warning__content__instructions__link{color:var(--dynamic-brand-primary-color)}.exchange-whitelist-warning__content__done{padding-top:.75rem;width:100%}.exchange-whitelist-warning__content__done__button{width:100%}.unified-list__error-container{margin:0}.unified-list__search-container{padding:var(--dynamic-search-padding)}.unified-list__tabs-container{margin-bottom:.5rem}.unified-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.unified-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.unified-list__scroll-container::-webkit-scrollbar,.unified-list__scroll-container::-webkit-scrollbar-track{display:none}.unified-list__scroll-container::-webkit-scrollbar-thumb{display:none}.unified-list__scroll-container:empty{display:flex}.unified-list__scroll-container--fixed-height{height:var(--dynamic-wallet-list-max-height)}.unified-list__search-skeleton{height:2.625rem}.unified-list__search-skeleton,.unified-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.unified-list__tile-skeleton{height:3rem;padding:.75rem}.unified-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.unified-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.onramp-item__tile{border-radius:calc(var(--dynamic-border-radius)/2)}.onramp-item__icon{height:1.75rem;width:1.75rem}.wallet-upgrade-flow-view{display:flex;flex-direction:column;height:100%;width:100%}.wallet-upgrade-flow-view__header{padding:0}.wallet-upgrade-flow-view__steps{align-items:center;display:flex;gap:.75rem;justify-content:center}.wallet-upgrade-flow-view__step{align-items:center;display:flex;flex-direction:column;gap:.5rem;min-width:80px}.wallet-upgrade-flow-view__step--completed .wallet-upgrade-flow-view__step-indicator{background-color:var(--dynamic-brand-primary-color);border-color:var(--dynamic-brand-primary-color)}.wallet-upgrade-flow-view__step--completed .wallet-upgrade-flow-view__step-check{color:var(--dynamic-base-white)}.wallet-upgrade-flow-view__step--current .wallet-upgrade-flow-view__step-indicator{background-color:var(--dynamic-brand-primary-color);border-color:var(--dynamic-brand-primary-color)}.wallet-upgrade-flow-view__step--current .wallet-upgrade-flow-view__step-number{color:var(--dynamic-base-2)}.wallet-upgrade-flow-view__step-indicator{align-items:center;background-color:var(--dynamic-brand-secondary-color);border:2px solid var(--dynamic-border-color);border-radius:50%;color:var(--dynamic-base-white);display:flex;font-size:14px;font-weight:600;height:32px;justify-content:center;transition:all .2s ease;width:32px}.wallet-upgrade-flow-view__step-check,.wallet-upgrade-flow-view__step-number{color:var(--dynamic-brand-primary-color);font-size:14px;font-weight:600}.wallet-upgrade-flow-view__step-title{text-align:center;white-space:nowrap}.wallet-upgrade-flow-view__step-container{align-items:center;display:flex}.wallet-upgrade-flow-view__content{display:flex;flex:1;flex-direction:column;gap:.75rem;overflow-y:auto;padding:0 1.5rem}.wallet-upgrade-flow-view__title-section{margin-bottom:.5rem;text-align:center}.wallet-upgrade-flow-view__subtitle{margin-top:.5rem}.wallet-upgrade-flow-view__export-section{display:flex;flex-direction:column;min-height:100px}.wallet-upgrade-flow-view__section-title{margin-bottom:.5rem}.wallet-upgrade-flow-view__input-section{display:flex;flex-direction:column;gap:1rem}.wallet-upgrade-flow-view__input-instructions{margin-bottom:.5rem;text-align:center}.wallet-upgrade-flow-view__input-container{display:flex;flex-direction:column;gap:.5rem}.wallet-upgrade-flow-view__private-key-input{background-color:var(--dynamic-background-color);border:1px solid var(--dynamic-border-color);border-radius:.5rem;color:var(--dynamic-text-primary-color);font-family:var(--dynamic-font-family-mono,"SF Mono","Monaco","Inconsolata","Fira Code","Droid Sans Mono","Source Code Pro",monospace);font-size:14px;line-height:1.4;min-height:48px;padding:.75rem 1rem;transition:border-color .2s ease,box-shadow .2s ease;width:100%}.wallet-upgrade-flow-view__private-key-input::-moz-placeholder{color:var(--dynamic-text-secondary-color)}.wallet-upgrade-flow-view__private-key-input::placeholder{color:var(--dynamic-text-secondary-color)}.wallet-upgrade-flow-view__private-key-input:focus{border-color:var(--dynamic-brand-primary-color);box-shadow:0 0 0 3px var(--dynamic-brand-primary-color-10);outline:none}.wallet-upgrade-flow-view__private-key-input:disabled{background-color:var(--dynamic-background-disabled-color);cursor:not-allowed;opacity:.6}.wallet-upgrade-flow-view__actions{display:flex;flex-direction:column;gap:.75rem;margin-top:auto;padding:1.5rem}.wallet-upgrade-flow-view__paste-input{margin-bottom:.75rem;margin-top:.75rem}.wallet-upgrade-flow-view__paste-input .input{font-family:var(--dynamic-font-family-mono,"SF Mono","Monaco","Inconsolata","Fira Code","Droid Sans Mono","Source Code Pro",monospace);line-height:1.4;min-height:80px!important;overflow-wrap:break-word;padding:1rem .75rem;white-space:pre-wrap;word-break:break-all}.wallet-upgrade-flow-view__step-separator{background-color:var(--dynamic-base-4);border-radius:1px;height:3px;margin:0 -.5rem;width:3rem}@media (max-width:480px){.wallet-upgrade-flow-view__steps{gap:1rem}.wallet-upgrade-flow-view__step{min-width:60px}.wallet-upgrade-flow-view__step-separator{margin:0 -.25rem;width:1.5rem}.wallet-upgrade-flow-view__step-indicator{font-size:12px;height:28px;width:28px}.wallet-upgrade-flow-view__step-title{font-size:12px}.wallet-upgrade-flow-view__content{gap:1.25rem;padding:0 1rem 1rem}}.embedded-delegated-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.embedded-delegated-view__body{display:flex;flex:1;flex-direction:column;gap:1rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.embedded-delegated-view__body__description{display:flex;flex-direction:column;gap:.5rem;justify-content:center;text-align:center}.embedded-delegated-view__approval-section{align-items:center;display:flex;flex-direction:column;text-align:center}.embedded-delegated-view__approval-icon{align-items:center;background:var(--dynamic-brand-primary-color);border-radius:50%;box-shadow:none;display:flex;height:3.75rem;justify-content:center;position:relative;width:3.75rem}.embedded-delegated-view__approval-icon:before{display:none}.embedded-delegated-view__approval-icon svg{fill:#fff;color:#fff;display:block;height:1.5rem;width:1.5rem}.embedded-delegated-view__approval-title{color:var(--dynamic-text-primary);font-size:1rem!important;font-weight:600;margin-top:1rem}.embedded-delegated-view__approval-description{color:var(--dynamic-text-secondary);font-size:.875rem;line-height:1.5;margin-top:.375rem}.embedded-delegated-view__body__card{border-radius:.75rem;display:flex;flex:1;flex-direction:column;gap:.5rem;max-height:21.875rem;overflow:auto}.embedded-delegated-view__body__button_section{display:flex;flex-direction:column;gap:.5rem;width:100%}.embedded-delegated-view__body__button{width:100%}.embedded-delegated-view__body__button[data-testid=embedded-delegation-deny-button]{background-color:var(--dynamic-base-2)!important;border:1px solid var(--dynamic-base-4)!important}.embedded-delegated-view__wallet-selection{background:var(--dynamic-base-2);border-radius:.5rem;display:flex;flex-direction:column;gap:1rem;padding:.75rem}.embedded-delegated-view__wallet-selection__header{align-items:center;display:flex;justify-content:space-between}.embedded-delegated-view__wallet-selection__header-text{display:flex;gap:.375rem}.embedded-delegated-view__wallet-selection__deselect-all{background:none;border:none;cursor:pointer;padding:0}.embedded-delegated-view__wallet-selection__deselect-all p{text-decoration:underline;text-decoration-color:var(--dynamic-text-secondary);text-decoration-style:dotted;text-underline-offset:.25rem}.embedded-delegated-view__wallet-list{display:flex;flex-direction:column;gap:.25rem}.embedded-delegated-view__wallet-item{align-items:center;border-radius:.5rem;cursor:pointer;display:flex;padding:.625rem .875rem .625rem .625rem;transition:background-color .2s ease}.embedded-delegated-view__wallet-item--selected{background-color:var(--dynamic-base-1)}.embedded-delegated-view__wallet-item:hover:not(.embedded-delegated-view__wallet-item--selected){background-color:var(--dynamic-base-2)}.embedded-delegated-view__wallet-item__content{align-items:center;display:flex;gap:.5rem;width:100%}.embedded-delegated-view__wallet-item__icon{align-items:center;display:flex;justify-content:center}.embedded-delegated-view__wallet-item__info{display:flex;flex:1;flex-direction:column;gap:.25rem}.embedded-delegated-view__wallet-item__checkbox{align-items:center;display:flex}.embedded-delegated-view__error-icon{align-items:center;background:var(--dynamic-error-1);border-radius:50%;box-shadow:none;display:flex;height:3.75rem;justify-content:center;position:relative;width:3.75rem}.embedded-delegated-view__error-icon svg{color:#fff;height:1.5rem;width:1.5rem}.embedded-delegated-view__wallet-card-container{display:flex;flex-direction:column;gap:.5rem;padding:0}.embedded-delegated-view__wallet-card{align-items:center;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.125rem}.embedded-delegated-view__wallet-card-header{align-items:baseline;display:flex;gap:.25rem}.embedded-delegated-view__wallet-address{align-items:center;display:flex;gap:.5rem}.embedded-delegated-view__wallet-address-dot{background-color:var(--dynamic-brand-primary-color);border-radius:50%;height:.5rem;width:.5rem}.embedded-delegated-view__edit-selections-button{background:none;border:none;cursor:pointer;padding:0;position:relative}.embedded-delegated-view__edit-selections-button:hover{opacity:.8}.embedded-delegated-view__edit-selections-button p{text-decoration:underline;text-decoration-color:var(--dynamic-text-secondary);text-decoration-style:dotted;text-underline-offset:.25rem}.embedded-delegated-view__agreement-section{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.5rem;cursor:pointer;display:flex;gap:.625rem;padding:.75rem 1.125rem}.embedded-delegated-view__learn-more-content-icon{align-items:center;box-shadow:none;display:flex;justify-content:center;position:relative}.embedded-delegated-view__learn-more-content-icon:before{display:none}.embedded-delegated-view__learn-more-content-icon svg{color:var(--dynamic-brand-primary-color);height:3.75rem;width:3.75rem}.embedded-delegated-view__learn-more-content-description{color:var(--dynamic-text-secondary);font-size:.875rem;line-height:1.5;margin-top:.75rem}.sign-message-confirmation__actions{align-items:center;display:flex;flex-direction:row;gap:.375rem;padding-bottom:1rem;width:100%}.sign-message-confirmation__body{align-items:stretch;display:flex;flex-direction:column;gap:1rem;padding:0 1.5rem 1.5rem}.sign-message-confirmation__warning{text-align:center}.sign-message-confirmation__message-container-wrapper{display:flex;flex-direction:column;gap:.5rem}.sign-message-confirmation__message-container{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);margin-bottom:.5rem;max-height:12.5rem;overflow-y:scroll;padding:.75rem;width:100%}.sign-message-confirmation__secure-wallet{margin-block:.5rem}.sign-message-confirmation__message{overflow-wrap:break-word}.sign-message-confirmation__title{text-align:center}.sign-message-confirmation__error{padding-top:.75rem}.bridge-welcome-layout{display:flex;flex-direction:column;gap:.75rem}.bridge-welcome-layout__body{display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}.bridge-welcome-layout__message-container{display:flex;flex-direction:column;gap:.25rem;text-align:center}.bridge-welcome-layout__chain-icon-group{align-items:center;display:flex;flex-direction:row-reverse;padding-top:.875rem}.bridge-welcome-layout__chain-icon{background-color:var(--dynamic-base-1);border-radius:50%;height:4rem;margin-left:-1.375rem;outline:.25rem solid var(--dynamic-base-1);overflow:hidden;width:4rem}.bridge-welcome-layout__chain-icon:last-child{margin-left:0}.select-wallet-list-layout{display:flex;flex-direction:column;min-height:320px}.select-wallet-list-layout__wallet-list{display:flex;flex-direction:column;flex-grow:1;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow-y:auto;padding:.25rem 1.5rem 1.5rem}.connected-wallets-list-layout{display:flex;flex-direction:column}.connected-wallets-list-layout__body{display:flex;flex-direction:column;gap:1rem;padding:.25rem 1.5rem 1.5rem}.connected-wallets-list-layout__body__text{text-align:center}.bridge-next-wallet-to-connect-layout__chain-icon{height:4rem;margin:1rem 1rem 0;width:4rem}.bridge-next-wallet-to-connect-layout__body{align-items:center;display:flex;flex-direction:column;gap:1.5rem;padding:1rem 1.5rem 1.5rem;text-align:center}.account-control__name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.account-control__icon{min-width:1rem}.account-control__social_icon{height:1rem;width:1rem}.account-control__container{align-items:center;border-radius:calc(var(--dynamic-border-radius)/3);color:var(--dynamic-text-primary);display:flex;gap:.375rem;min-height:100%;padding:.75rem;z-index:10}.account-control__container--multiwallet-disabled{border-bottom-left-radius:0;border-top-left-radius:0}.account-control__container--active,.account-control__container:hover{background-color:var(--dynamic-hover)}.dynamic-widget-inline-controls{background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/3);display:flex;font-size:var(--dynamic-text-size-body-small);max-height:2.5rem;min-width:100%;position:relative}.dynamic-widget-inline-controls__network-picker-main{min-width:60px}.dynamic-widget-inline-controls__account-control{max-width:100%;min-width:max(100%,45px)}.dynamic-widget-inline-controls__account-control .account-control__icon{margin-left:auto}.dynamic-widget-inline-controls__account-control-container{min-width:60px;overflow:hidden}.dynamic-widget-inline-controls__network-picker{background:unset;border-bottom-left-radius:calc(var(--dynamic-border-radius)/3);border-bottom-right-radius:unset;border-top-left-radius:calc(var(--dynamic-border-radius)/3);border-top-right-radius:unset;min-width:100%;padding:.75rem;position:unset;transform:unset}.dynamic-widget-inline-controls__network-picker--active,.dynamic-widget-inline-controls__network-picker:hover{background:var(--dynamic-hover)}.dynamic-widget-inline-controls__network-picker-checkbox{margin:0 0 0 .5rem}.dynamic-widget-inline-controls__network-picker-list{top:2.5rem}@media (pointer:coarse){.dynamic-widget-inline-controls__network-picker-list{top:unset}}.dynamic-widget-dropdown{position:absolute;right:0;top:3.0625rem}.dynamic-widget-dropdown__root{min-width:22.5rem}.dynamic-widget-modal{left:50%;margin:0 auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:min(100%,22.5rem)}@media (pointer:coarse){.dynamic-widget-modal{bottom:0;top:unset;transform:translate(-50%);width:100%}}.dynamic-widget-card{background-color:var(--dynamic-base-1);border:.0625rem solid var(--dynamic-base-4);border-radius:var(--dynamic-border-radius);box-shadow:var(--dynamic-shadow-down-3);height:100%;overflow:hidden;position:relative;transition:max-height .1s linear}@media (pointer:coarse){.dynamic-widget-card{border-bottom-left-radius:0;border-bottom-right-radius:0}}.dynamic-widget-header{background-color:var(--dynamic-base-2);position:relative}.dynamic-widget-header__switcher{margin:0 0 1rem}.dynamic-widget-header__passkey-success{margin-inline:-1.5rem}.dynamic-widget-wallet-header{position:relative}.dynamic-widget-wallet-header__email{color:var(--dynamic-text-primary);margin:.5rem 0;text-align:center}.dynamic-widget-wallet-header__icon-container{height:4rem;margin:1rem auto auto;position:relative;width:4rem}.dynamic-widget-wallet-header__icon-container img,.dynamic-widget-wallet-header__icon-container svg{height:100%;width:100%}.dynamic-widget-wallet-header__wallet-info{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:1rem 1.5rem}.dynamic-widget-wallet-header__wallet-info .text-button{padding:0}.dynamic-widget-wallet-header__wallet-info__secure-wallet{margin-bottom:1rem;margin-top:0}.dynamic-widget-wallet-header__wallet-address{align-items:center;display:flex;justify-content:center}.dynamic-widget-wallet-header__balance{margin-bottom:.0625rem}.dynamic-widget-wallet-header__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.dynamic-widget-wallet-header__status-dot{margin-right:.375rem}.dynamic-widget-wallet-header__ens-name{max-width:12.5rem}.dynamic-widget-wallet-header__network-picker.evm-network-control__container{height:1.5rem}.dynamic-widget-wallet-header__network-picker.non-network-switching-supported-control{height:1.5rem;width:1.5rem}.dynamic-widget-wallet-header__network-picker.network-control-skeleton{bottom:0;height:1.5rem;position:absolute;right:0;width:1.5rem}.dynamic-widget-wallet-header__network-picker .evm-network-control__network-name,.dynamic-widget-wallet-header__network-picker .non-network-switching-supported-control__network-name{display:none}.dynamic-widget-wallet-header__wallet-avatar{border-radius:100%;overflow:hidden}.dynamic-widget-wallet-header__wallet-avatar img{height:4rem;width:4rem}.dynamic-widget-wallet-header__wallet-actions{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:stretch;width:100%}.dynamic-widget-wallet-header__wallet-loading{width:100%}.empty-wallet__container{align-items:center;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:.5rem;text-align:center;width:100%}.empty-wallet__container--big{margin:0 0 1rem;padding:.75rem}.empty-wallet__icon{height:1.5rem;width:1.5rem}.empty-wallet__icon--big{height:3rem;width:3rem}.empty-wallet__icon>path{fill:var(--dynamic-text-tertiary)}.empty-wallet__text-container{max-width:10rem}.wallet__container{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:row;padding:.75rem}.wallet__container:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-.75rem;padding-bottom:1.5rem}.wallet__container:hover .wallet__menu{opacity:1}.wallet__menu{color:var(--dynamic-text-tertiary)}.wallet__row{align-items:center;display:flex;flex:1}.wallet__row--clickable{cursor:pointer}.wallet__row__separator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.wallet__row__menu__separator{height:auto}.wallet__icon-container{margin-right:.375rem}.wallet__ens-name{max-width:9.375rem}.wallet__actions{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}.wallet__actions__expanded{max-height:6.25rem}.wallet__actions__inner{padding-top:.75rem}.wallet-details-card__body{gap:.5rem}.wallet-details-card__text{word-wrap:break-word}.dynamic-widget-footer{border-bottom-left-radius:var(--dynamic-border-radius);border-bottom-right-radius:var(--dynamic-border-radius);border-top:.0625rem solid var(--dynamic-base-4);color:var(--dynamic-text-primary);display:flex;gap:.5rem;margin-top:auto;padding:1rem 1.5rem}.dynamic-widget-footer__button:hover:enabled svg{color:var(--dynamic-text-secondary)}.dynamic-widget-footer__button svg{color:var(--dynamic-text-tertiary)}.dynamic-widget-footer__button-align-right{margin-left:auto}@media (pointer:coarse){.dynamic-widget-footer{border-bottom-left-radius:unset;border-bottom-right-radius:unset}}.wallet-icon-with-network__container{position:relative}.wallet-icon-with-network__network-container{align-items:center;background-color:var(--dynamic-base-1);border-radius:100%;bottom:-.1875rem;display:flex;height:.75rem;justify-content:center;position:absolute;right:-.1875rem;width:.75rem}@keyframes desktop-dropdown-entering-animation{0%{opacity:0;transform:scale(.8) translateY(0)}70%{transform:scale(1) translateY(0)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes desktop-dropdown-exiting-animation{0%{opacity:1;transform:scale(1) translateY(0)}25%{opacity:1}50%{transform:scale(1.01) translateY(0)}to{opacity:0;transform:scale(1.02) translateY(1.875rem)}}@keyframes mobile-dropdown-entering-animation{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes mobile-dropdown-exiting-animation{0%{transform:translateY(0)}50%{transform:translateY(0)}to{transform:translateY(200%)}}.dots-menu-wrapper{position:relative}.dots-menu-wrapper__container--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-entering-animation;animation-timing-function:ease-out}@media (pointer:coarse){.dots-menu-wrapper__container--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:mobile-dropdown-entering-animation;animation-timing-function:ease-out}}.dots-menu-wrapper__container--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-exiting-animation;animation-timing-function:ease-out}@media (pointer:coarse){.dots-menu-wrapper__container--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:mobile-dropdown-exiting-animation;animation-timing-function:ease-out}}.dots-menu-wrapper__container{background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/3);box-shadow:0 .5rem .75rem -.375rem rgba(24,39,75,.06),0 .5rem .75rem -.1875rem rgba(24,39,75,.06);margin-top:.5rem;position:absolute;right:0;z-index:2147483647}.dots-menu-wrapper__container__alignment__top{bottom:1.375rem}.dots-menu-wrapper__container__alignment__bottom{top:1.375rem}@media (min-width:768px){.dots-menu-wrapper__container{min-width:9.375rem}}@media (pointer:coarse){.dots-menu-wrapper__container{border:none;border-radius:var(--dynamic-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;bottom:0;left:calc(50% - 18.75rem);margin:auto;max-width:37.5rem;padding-bottom:2rem;padding-top:0;position:fixed;right:calc(50% - 18.75rem);top:unset;width:100%}}.dots-menu-wrapper__header{display:none;padding:.75rem 1.5rem .25rem}@media (pointer:coarse){.dots-menu-wrapper__header{align-items:center;display:flex;justify-content:space-between}}.dots-menu-wrapper__header__icon{min-height:1.5rem;min-width:1.5rem}.dots-menu-wrapper__backdrop{cursor:default;display:none;height:100%;left:0;position:fixed;top:0;width:100%;z-index:10}@media (pointer:coarse){.dots-menu-wrapper__backdrop{background-color:var(--dynamic-overlay);display:block}}.dynamic-widget-wallets-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:1rem 1.5rem .75rem}.dynamic-widget-wallets-header__add_wallet{display:flex}.dynamic-widget-wallets{margin:0 1.5rem;overflow:auto}.dynamic-widget-wallets__body{display:flex;flex-direction:column;gap:1rem}.dynamic-widget-wallets__body__wallet-list{max-height:13rem}.widget-portal{background-color:var(--dynamic-overlay);top:0;z-index:50}.widget-portal,.widget-portal__container{border-radius:calc(var(--dynamic-border-radius)/1.5);bottom:0;left:0;position:absolute;right:0}.widget-portal__container{background-color:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);padding:1.5rem}@media (pointer:coarse){.widget-portal__container{border-bottom-left-radius:0;border-bottom-right-radius:0}}.widget-portal__container--no-padding{padding:0}.widget-portal__container__header{position:relative}.widget-portal__container__close-button{position:absolute;right:0}.single-wallet-buttons{display:flex;gap:.625rem;padding:0 1.5rem 1.5rem}.single-wallet-buttons--center{align-items:center;display:flex;justify-content:center}.single-wallet-buttons__copied{align-items:center;display:flex;gap:8px}.single-wallet-buttons__copied svg{color:var(--dynamic-success-1)}.email-connector-pending-sign-modal-content{align-items:center;display:flex;flex-direction:column;text-align:center;width:100%}.email-connector-pending-sign-modal-content__body{align-items:center;display:flex;flex-direction:column;gap:.5rem}.active-wallet-information{border-bottom:1px solid var(--dynamic-base-3);display:flex;flex-flow:column;gap:.5rem;padding:1rem 1.5rem}.active-wallet-information__header{align-items:center;display:flex;gap:.5rem}.active-wallet-information__handle-row{align-items:center;display:flex;flex-direction:row}.active-wallet-information__handle{max-width:100px;overflow:hidden;text-overflow:ellipsis}.active-wallet-information__handle--full-width{max-width:230px;overflow:hidden;text-overflow:ellipsis}.active-wallet-information__handle-icon{color:var(--dynamic-text-tertiary)}.active-wallet-information__handle-icon .icon-with-status__container{margin-bottom:0}.active-wallet-information__handle-icon .icon-with-status__container .status-dot__container{right:-.05rem;top:-.05rem}.active-wallet-information-container{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2)}.active-wallet-information-container--loading .active-wallet-information{padding:.75rem 1rem}.active-wallet-information__details{align-items:center;display:flex;flex:1;gap:.5rem;justify-content:space-between;overflow:hidden}.active-wallet-information__avatar img{height:2rem;min-height:2rem;min-width:2rem;width:2rem}.active-wallet-information__avatar__name-service{align-items:center;border-radius:100%;display:flex;overflow:hidden}.active-wallet-information__addresses-container{display:flex;flex-direction:column;gap:.5rem}.active-wallet-information__addresses-container--centered{justify-content:center}.active-wallet-information__addresses-container--loading{gap:.25rem}.active-wallet-information__address-container{display:flex}.active-wallet-information__address{align-items:center;display:flex}.active-wallet-information__address-skeleton{width:60px}.active-wallet-information__network-picker{overflow:hidden}.active-wallet-information__network-picker-button{border:1px solid var(--dynamic-base-4);border-radius:1rem;height:100%;position:relative;transform:translateX(0)}.active-wallet-information__network-picker-button:hover{background:var(--dynamic-hover)}.active-wallet-information__skeleton-avatar{border-radius:50%;height:32px;width:32px}.active-wallet-information__skeleton-handle{height:20px;width:120px}.active-wallet-information__skeleton-address{height:12px;width:90px}.active-wallet-information__skeleton-network{height:24px;width:100px}.balance-header{align-items:flex-start;display:flex;justify-content:space-between;width:100%}.balance-header__title{align-items:flex-start;display:flex;flex-direction:column}.balance-header__title-skeleton{height:1rem;margin-bottom:.25rem;width:6.25rem}.balance-header__chevron{rotate:180deg}.balance-header__balance{align-items:center;display:flex;gap:.5rem}.balance-header__refresh-icon{cursor:pointer;height:1rem;transition:opacity .2s ease,transform .2s ease;width:1rem}.balance-header__refresh-icon:hover{opacity:.7}.balance-header__refresh-icon--spinning{animation:spin-ccw 1s linear}.balance-header__success-icon{align-items:center;background-color:#2b8d69;border-radius:50%;display:flex;height:1rem;justify-content:center;padding:.125rem;width:1rem}.balance-header__success-icon svg{color:#fff;height:.75rem;width:.75rem}.balance-container{align-items:center;display:flex;justify-content:space-between;padding:1rem 1.5rem 0;position:relative}.balance-container__skeleton{display:table-cell;height:2rem;width:6.25rem}.multi-asset-balance-container{display:flex;flex:1;flex-direction:column;position:relative}.multi-asset-balance-container .shadow{border-bottom:1px solid var(--dynamic-base-3)}.multi-asset-balance-container__accordion{overflow-y:auto}.multi-asset-balance-container__accordion--collapsed{max-height:0!important}.multi-asset-balance-container__accordion--expanded{height:100%!important;max-height:11.25rem!important}@keyframes spin-ccw{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}.prompt-modal{padding:1.5rem}.prompt-modal__header{position:relative;width:100%}.prompt-modal__close-button{position:absolute;right:1rem;top:1rem}.balance-skeleton{display:table-cell;width:1.875rem}.token-balance-item{align-items:center;display:flex;gap:.5rem;justify-content:space-between;padding:8px 0;width:100%}.token-balance-item>.flex{flex-shrink:1;min-width:0;overflow:hidden;text-align:right}.token-balance-item__name{align-items:center;display:flex;flex-shrink:0;min-width:0}.token-balance-item__title{max-width:8.4375rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.token-balance-item__icon,.token-balance-item__skeleton-icon{border-radius:100%;flex-shrink:0;height:20px;margin-right:6px;overflow:hidden;width:20px}.token-balance-item__skeleton-icon{background-color:var(--dynamic-base-3)}.token-balance-item__value{display:flex;flex-shrink:1;justify-content:flex-end;min-width:0}.token-balance-item__value__balance{display:flex;min-width:0;overflow:hidden}.token-balance-item__symbol,.token-balance-item__value__balance>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.token-balance-item__symbol{flex-shrink:1;max-width:5rem}.token-balance-list__empty{display:flex;margin-top:.5rem}.token-balance-list__divider{padding:0}.footer-options-switcher__container{background-color:var(--dynamic-base-2);border-bottom-left-radius:var(--dynamic-border-radius);border-bottom-right-radius:var(--dynamic-border-radius);display:flex;justify-content:space-around;margin-top:auto;padding:.75rem 0}.footer-options-switcher__label{font-size:12px;margin-top:.25rem}.footer-options-switcher__tab{align-items:center;color:var(--dynamic-text-secondary);cursor:pointer;display:flex;flex-direction:column;text-align:center}.footer-options-switcher__tab--active{color:var(--dynamic-text-primary)}.passkey-card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);padding:.75rem;width:100%}.passkey-card__body{display:flex;flex-direction:row;justify-content:space-between}.passkey-card__left{align-items:center;display:flex;gap:.5rem;min-width:0}.passkey-card__info{align-items:center;border-bottom:1px solid var(--dynamic-base-4);gap:.25rem;padding-bottom:.5rem}.passkey-card__info__icon{flex-shrink:0;justify-self:start;width:1.5rem}.passkey-card__info__alias{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.passkey-card__info__tooltip{display:none}@media (hover:none),(pointer:coarse){.passkey-card__info__tooltip{background-color:#555;border:1px solid;border-radius:6px;color:#fff;display:block;font-size:12px;opacity:0;padding:3px;position:absolute;transition:opacity .5s;visibility:hidden;width:-moz-fit-content;width:fit-content}.passkey-card__info__tooltip--visible{opacity:1;transition:opacity .3s;visibility:visible}}.passkey-card__date{padding-top:.5rem}.dynamic-widget-index-view__email-container{display:flex;flex-direction:column;gap:1rem;text-align:center}.dynamic-widget-index-view__footer{display:flex;justify-content:space-between;width:100%}.dynamic-widget-index-view__user-profile{margin:0 0 1rem;padding:0 1.5rem}.dynamic-widget-index-view__user-profile-title{border-bottom:.0625rem solid var(--dynamic-base-4);margin:0 1.5rem .75rem;padding-bottom:.375rem}.profile-view{flex:1;overflow:auto;padding:1.5rem}.profile-view__footer{display:flex;justify-content:space-between;width:100%}.dynamic-widget-edit-profile-container{padding-top:1rem}.dynamic-widget-edit-profile-container,.dynamic-widget-edit-profile-view{display:flex;flex:1;flex-direction:column;overflow:hidden}.dynamic-widget-edit-profile-view__fields{flex:1;overflow:auto;padding:0 1.5rem 1rem}.dynamic-widget-edit-profile-view__profile-title{border-bottom:.0625rem solid var(--dynamic-base-4);margin:0 1.5rem .75rem;padding-bottom:.375rem}.send-balance-widget-view{display:flex;flex:1;flex-direction:column;overflow:auto}.send-balance-widget-view__spinner{align-items:center;display:flex;flex:1;justify-content:center}.manage-passkeys-widget-view,.manage-passkeys-widget-view__body{display:flex;flex:1;flex-direction:column}.manage-passkeys-widget-view__body{gap:1rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.manage-passkeys-widget-view__body__cards{display:flex;flex:1;flex-direction:column;gap:.5rem;max-height:23.75rem;overflow:auto}.manage-passkeys-widget-view__body__cards__skeleton{border-radius:.75rem;height:3.75rem}.manage-passkeys-widget-view__reveal{display:flex;flex:1;flex-direction:column;gap:.5rem}.manage-passkeys-widget-view__reveal-helper-text{color:var(--dynamic-text-secondary);font-size:.9375rem;line-height:1.25rem}.manage-passkeys-widget-view__reveal-button{border-radius:calc(var(--dynamic-border-radius)/2);justify-content:space-between}.manage-passkeys-widget-view__reveal-button__start-slot{align-items:center;display:flex;font-size:.9375rem}.manage-passkeys-widget-view__reveal-button__icon{color:var(--dynamic-text-tertiary);height:1.75rem;margin-right:.5rem}.manage-passkeys-widget-view__reveal-button__icon--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg)}.empty-screen{align-items:center;display:none;flex:1;flex-direction:column;gap:2.25rem;justify-content:center}.empty-screen:only-child{display:flex}.settings-view{display:flex;flex:1;flex-direction:column;overflow:hidden;padding:1.5rem}.settings-view__delete-account-container{display:flex;justify-content:center;padding-top:1.5rem;width:100%}.settings-view__delete-account-container__delete-button{cursor:pointer}.settings-view__logout-button-container{bottom:60px;color:var(--dynamic-text-secondary);width:100%}.settings-view__logout-button-container__button{width:100%}.settings-view__header{align-items:center;display:flex;gap:.5rem}.settings-view__body{display:flex;flex-direction:column;gap:1rem;height:100%;margin-bottom:1.5rem;overflow-y:auto}.settings-view__body__section{display:flex;flex-direction:column;gap:.75rem}.settings-view__body__section__title{color:var(--dynamic-text-secondary);font-size:.9375rem;line-height:1.25rem}.settings-view__body__section__title__info-icon{align-items:center;display:flex;gap:5px}.settings-view__body__section__title__info-icon svg path{fill:var(--dynamic-alert-1)}.settings-view__body__section__button{border-radius:calc(var(--dynamic-border-radius)/2);justify-content:space-between}.settings-view__body__section__button__start-slot{align-items:center;display:flex;font-size:.9375rem}.settings-view__body__section__button__badge .badge__container.badge__container__secondary{margin-left:.625rem}.settings-view__body__section__button__icon{color:var(--dynamic-text-tertiary);height:1.75rem!important;margin-right:.625rem;width:1.75rem!important}.settings-view__body__section__button__icon.email{color:transparent}.settings-view__body__section__button__icon__stroke{stroke:var(--dynamic-text-tertiary);height:1.75rem;margin-right:.625rem;width:1.75rem}.settings-view__body__section__button__icon-secondary{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;width:1rem}.settings-view__body__section__button__icon-secondary--success{color:var(--dynamic-success-1);height:1rem;justify-content:end;width:1rem}.settings-view__body__section__button__icon-secondary--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg);width:1rem}.manage-totp-mfa-widget-view{display:flex;flex:1;flex-direction:column;overflow:hidden}.manage-totp-mfa-widget-view__description-container{background:var(--dynamic-base-4)}.manage-totp-mfa-widget-view__description-container__text{margin:.625rem}.manage-totp-mfa-widget-view__add-mfa-button-container{bottom:60px;padding:.625rem 1.5rem 1.5rem;width:100%}.manage-totp-mfa-widget-view__add-mfa-button-container__button{width:100%}.manage-totp-mfa-widget-view__no-devices{align-items:center;display:flex;flex-direction:column;gap:1rem;height:100%;justify-content:center;padding:1rem}.manage-totp-mfa-widget-view__scroll-container{display:flex;flex:1;flex-direction:column;gap:.75rem;overflow-y:auto;padding:.625rem 1.5rem 1.5rem}.manage-totp-mfa-widget-view__list-tile{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;flex-direction:row;gap:.625rem;margin-bottom:.625rem;padding:.625rem;width:auto}.manage-totp-mfa-widget-view__list-tile__icon{height:1.5rem;position:relative;width:1.5rem}.manage-totp-mfa-widget-view__list-tile__details{display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;padding-right:.625rem}.manage-totp-mfa-widget-view__list-tile__details__title{display:flex;flex-direction:row;gap:.25rem}.manage-totp-mfa-widget-view__list-tile__dots-menu{color:var(--dynamic-text-tertiary);margin-left:.375rem}.connect-dapps-view{max-width:400px;padding:1.5rem;position:relative}.connect-dapps-view .header{align-items:center;display:flex;justify-content:space-between;margin-bottom:1rem;position:relative}.connect-dapps-view .header h1{flex-grow:1;margin:0 auto;text-align:center}.connect-dapps-view .header button{background:none;border:none;cursor:pointer;padding:.5rem;position:absolute;top:50%;transform:translateY(-50%)}.connect-dapps-view .header button:first-child{left:0}.connect-dapps-view .header button:last-child{right:0}.connect-dapps-view .scanner-wrapper{aspect-ratio:1/1;height:200px;margin-left:-24px;margin-right:-24px;overflow:hidden;position:relative;width:calc(100% + 48px)}.connect-dapps-view .scanner-wrapper video{height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.connect-dapps-view .scanner-overlay{align-items:center;bottom:0;display:flex;justify-content:center;left:0;pointer-events:none;position:absolute;right:0;top:0}.connect-dapps-view .scanner-frame{border-radius:12px;height:80%;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%}.connect-dapps-view .corner{border:4px solid #fff;height:16px;position:absolute;width:16px}.connect-dapps-view .top-left{border-bottom:none;border-right:none;border-top-left-radius:8px;left:-3px;top:-3px}.connect-dapps-view .top-right{border-bottom:none;border-left:none;border-top-right-radius:8px;right:-3px;top:-3px}.connect-dapps-view .bottom-left{border-bottom-left-radius:8px;border-right:none;border-top:none;bottom:-3px;left:-3px}.connect-dapps-view .bottom-right{border-bottom-right-radius:8px;border-left:none;border-top:none;bottom:-3px;right:-3px}.connect-dapps-view .scanner-overlay-content{align-items:center;border-radius:8px;display:flex;flex-direction:column;padding:16px;z-index:1}.connect-dapps-view .scanner-icon{height:20px;margin-bottom:2px;-o-object-fit:contain;object-fit:contain;width:20px}.connect-dapps-view .info-card,.connect-dapps-view .wallet-connect-card{margin-bottom:1rem;position:relative}.connect-dapps-view .wallet-connect-card{align-items:center;display:flex;flex-direction:column}.connect-dapps-view .wallet-connect-card h2{align-self:flex-start;margin-bottom:.5rem;width:100%}.connect-dapps-view .input-group{width:100%}.connect-dapps-view .input-suffix{transform:translateY(-20%)}.connect-dapps-view .banner{border-radius:8px;margin-top:.5rem;padding:6px;text-align:center;width:100%}.connect-dapps-view .banner.success{background-color:var(--dynamic-success-2)}.connect-dapps-view .banner.error{background-color:var(--dynamic-error-2)}.connect-dapps-view .info-card .wrapper{background:var(--dynamic-base-2);border:1px solid var(--dynamic-border-2);border-radius:16px;display:flex;flex-direction:column;padding:1.5rem;text-align:left}.connect-dapps-view .info-card .learn-more-link{align-items:center;display:flex;justify-content:center;padding:4px;pointer-events:auto;text-decoration:none}.connect-dapps-view .info-card .learn-more-link svg{cursor:pointer;height:.5rem;margin-left:.25rem;width:.5rem}.connect-dapps-view .inline-logo-text{align-items:center;display:flex;flex-wrap:nowrap}.connect-dapps-view .inline-logo-text .inline-logo{flex-shrink:0;margin:0 4px}.connected-apps-view{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;position:relative}.connected-apps-view .header{align-items:center;display:flex;justify-content:space-between;padding-bottom:.25rem;position:relative}.connected-apps-view .header .title{flex-grow:1;text-align:center}.connected-apps-view .header .arrow-left-icon{transform:rotate(90deg)}.connected-apps-view .subheader{align-items:center;display:flex;flex-grow:1;justify-content:space-between;padding-bottom:.25rem;position:relative;text-align:center}.connected-apps-view .connected-apps-list{display:flex;flex-direction:column;gap:.75rem;list-style-type:none;margin:0;padding:0}.connected-apps-view .connected-app-item{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;padding:.75rem}.connected-apps-view .connected-app-item .app-icon{border-radius:50%;height:2rem;margin-right:.75rem;width:2rem}.connected-apps-view .connected-app-item .app-info{display:flex;flex:1;flex-direction:column}.connected-apps-view .connected-app-item .app-actions{display:flex;gap:.5rem;margin-left:10px}.connected-apps-view .success-message{align-items:center;background-color:var(--dynamic-success-2);border:1px solid var(--dynamic-border-1);border-radius:.5rem;display:flex;padding:.75rem;text-align:left}.connected-apps-view .success-message svg{color:#30a67b;flex-shrink:0;height:1.5rem;margin-right:.75rem;width:1.5rem}.wallets-delegated-settings-view{display:flex;flex-direction:column;height:100%}.wallets-delegated-settings-view .header{align-items:center;display:flex;padding:1.25rem 1rem;position:relative}.wallets-delegated-settings-view .header .back-button svg{transform:rotate(90deg)!important}.wallets-delegated-settings-view .header .title{flex:1;text-align:center}.wallets-delegated-settings-view .delegated-wallets-list{display:flex;flex:1;flex-direction:column;gap:.5rem;list-style-type:none;margin:0;overflow-y:auto;padding:1rem}.wallets-delegated-settings-view .delegated-wallets-item{align-items:center;background-color:var(--dynamic-base-2);border-radius:.75rem;display:flex;padding:.75rem;transition:background-color .2s ease}.wallets-delegated-settings-view .delegated-wallets-item .wallet-icon{display:flex;margin-right:.75rem}.wallets-delegated-settings-view .delegated-wallets-item .wallet-info{display:flex;flex:1;flex-direction:column;gap:.25rem}.wallets-delegated-settings-view .delegated-wallets-item .status-badge{align-items:center;background-color:var(--dynamic-brand-secondary-color);border-radius:1rem;display:inline-flex;padding:.25rem .5rem;width:-moz-fit-content;width:fit-content}.wallets-delegated-settings-view .delegated-wallets-item .status-badge p{color:var(--dynamic-brand-primary-color);font-size:.6875rem;line-height:.875rem}.wallets-delegated-settings-view .delegated-wallets-item .status-badge--disconnected{background-color:var(--dynamic-base-3)}.wallets-delegated-settings-view .delegated-wallets-item .status-badge--disconnected p{color:var(--dynamic-text-secondary)}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button{margin-left:auto}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button button{background-color:#fff!important;border:1px solid var(--dynamic-base-4)!important}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading button,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) button{background-color:var(--dynamic-base-2)!important;border-color:var(--dynamic-base-3)!important}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading .button__spinner-container,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) .button__spinner-container{background-color:var(--dynamic-base-2);border-radius:inherit}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading .button__spinner,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) .button__spinner{color:var(--dynamic-text-secondary)!important}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading .typography-button__content,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) .typography-button__content{opacity:0!important;visibility:hidden}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:disabled:not(.button--loading) button{background-color:var(--dynamic-base-3)!important;border-color:var(--dynamic-base-3)!important;cursor:not-allowed}.wallets-delegated-settings-view .revoke-all-section{display:flex;justify-content:center;margin-top:auto;padding:1.25rem}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button{color:var(--dynamic-red-2);cursor:pointer}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button p{color:var(--dynamic-red-2)}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:hover p{text-decoration:underline}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button.button--loading .button__spinner-container,.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:has(.button__spinner-container) .button__spinner-container{background-color:transparent}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button.button--loading .button__spinner,.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:has(.button__spinner-container) .button__spinner{color:var(--dynamic-red-2)!important}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button.button--loading .typography-button__content,.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:has(.button__spinner-container) .typography-button__content{opacity:0!important;visibility:hidden}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:disabled:not(.button--loading){cursor:not-allowed;opacity:.6}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:disabled:not(.button--loading) p{color:var(--dynamic-text-tertiary)}.wallets-delegated-settings-view .success-message{align-items:center;background-color:var(--dynamic-success-2);border-top:1px solid var(--dynamic-border-1);display:flex;padding:.75rem 1.5rem;text-align:left}.wallets-delegated-settings-view .success-message svg{color:#30a67b;flex-shrink:0;height:1.5rem;margin-right:.75rem;width:1.5rem}.token-option{align-items:center;background:var(--dynamic-base-2);border:1.5px solid transparent;border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:0 1px 2px 0 rgba(24,39,75,.04);cursor:pointer;display:flex;gap:.625rem;padding:.625rem .75rem;transition:all .2s ease-in-out}.token-option:hover{box-shadow:0 12px 20px -6px rgba(24,39,75,.02),0 16px 26px -4px rgba(24,39,75,.04)}.token-option--selected{background:var(--dynamic-brand-secondary-color);border-color:var(--dynamic-brand-primary-color)}.token-option__icon{background-color:var(--dynamic-base-1);border-radius:50%;height:1.75rem;overflow:hidden;width:1.75rem}.token-option__name{flex:1}.token-option__balance-container{align-items:flex-end;display:flex;flex-direction:column}.token-option__balance-container__balance-value-container{align-items:center;display:flex;gap:.25rem}.token-select{align-items:stretch;display:flex;flex-direction:column}.token-select__no-assets{flex-direction:column;gap:2.25rem;margin-top:2.75rem}.token-select__no-assets,.token-select__search{align-items:center;display:flex;margin-inline:1.5rem}.token-select__search{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*2);gap:.5rem;margin-bottom:1rem;padding:.625rem .75rem}.token-select__search__input{background:transparent;border:none;color:var(--dynamic-text-primary);flex:1;font-size:.9375rem;font-weight:400;line-height:1.25rem;outline:none}.token-select__search__input::-moz-placeholder{color:var(--dynamic-text-secondary)}.token-select__search__input::placeholder{color:var(--dynamic-text-secondary)}.token-select__tokens{-ms-overflow-style:none;align-items:stretch;display:flex;flex:1;flex-direction:column;gap:.5rem;margin-inline:1.5rem;margin-bottom:1.5rem;overflow-y:auto;scrollbar-width:none}.token-select__tokens::-webkit-scrollbar{display:none}.formatted-input{--size:calc(500px/(var(--char-count) + 8));align-items:center;color:var(--dynamic-text-primary);display:flex;font-size:var(--size);gap:.1875rem;justify-content:center;overflow:hidden}.formatted-input__leading,.formatted-input__trailing{-webkit-user-select:none;-moz-user-select:none;user-select:none}.formatted-input__trailing{margin-left:.625rem}.formatted-input__leading--secondary,.formatted-input__trailing{color:var(--dynamic-text-secondary)}.formatted-input__input-container{position:relative}.formatted-input__input-container__ghost-text,.formatted-input__input-container__input{align-items:center;background:transparent;border:none;display:flex;justify-content:center;min-height:3.25rem;outline:none;overflow:hidden;text-align:center}.formatted-input__input-container__input{bottom:0;color:var(--dynamic-text-primary);height:100%;left:0;position:absolute;resize:none;right:0;top:0;width:100%}.formatted-input__input-container__input::-moz-placeholder{color:var(--dynamic-text-secondary)}.formatted-input__input-container__input::placeholder{color:var(--dynamic-text-secondary)}.formatted-input__input-container__input:-moz-placeholder-shown{text-align:left}.formatted-input__input-container__input:placeholder-shown{text-align:left}.formatted-input__input-container__ghost-text{color:transparent;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.formatted-input__input-container__ghost-text--visible{color:var(--dynamic-text-primary);pointer-events:unset;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset}.fund-from-wallet{position:relative}.fund-from-wallet__content{justify-content:center;padding:0 1.5rem 1.5rem}.fund-from-wallet__content__token-icon{background-color:var(--dynamic-base-1);border-radius:50%;height:1rem;overflow:hidden;width:1rem}.fund-from-wallet__content__wallet-card{border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:0 .0625rem .125rem 0 rgba(24,39,75,.04);gap:.5rem;padding:.625rem .75rem}.fund-from-wallet__content__wallet-card--invisible{opacity:0;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.fund-from-wallet__content__wallet-card--has-minimum-error{margin-bottom:1.5rem}.fund-from-wallet__content__wallet-card__wallet-details{gap:.625rem}.fund-from-wallet__content__wallet-card__wallet-details__icon{height:1.75rem;width:1.75rem}.fund-from-wallet__content__wallet-card__balance{cursor:pointer;gap:.625rem}.fund-from-wallet__content__wallet-card__balance--disable-select{cursor:default}.fund-from-wallet__content__wallet-card__balance-skeleton{align-items:stretch;align-self:stretch;display:flex;width:5.3125rem}.fund-from-wallet__content__amount-container{flex:1;gap:1rem;justify-content:center;overflow:hidden}.fund-from-wallet__content__amount-container__amount{max-width:100%}.fund-from-wallet__content__amount-container__secondary-amount-container{align-items:center;display:flex;gap:.375rem}.fund-from-wallet__content__amount-container__secondary-amount-container__amount--grayed-out{color:var(--dynamic-text-tertiary)}.fund-from-wallet__content__amount-container__secondary-amount-container__switch{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.fund-from-wallet__content__amount-container__skeleton{align-items:stretch;display:flex;height:3.25rem;max-width:9.375rem;width:100%}.fund-from-wallet__content__amount-container__quick-suggestions{gap:.75rem}.fund-from-wallet__content__amount-container__quick-suggestions>*{align-items:center;background:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*1.25);display:flex;justify-content:center;padding:.25rem .5rem;text-align:center}.fund-from-wallet__content__amount-container__secondary-missing{align-items:center;display:flex;gap:.5rem}.fund-from-wallet__content__amount-container__secondary-missing__tooltip{color:var(--dynamic-base-2);font-size:.8125rem;font-weight:400}.fund-from-wallet__content__amount-container__balance-error,.fund-from-wallet__content__amount-container__minimum-error{max-height:0;opacity:0;transition:all .2s ease-in-out}.fund-from-wallet__content__amount-container__balance-error--visible,.fund-from-wallet__content__amount-container__minimum-error--visible{max-height:1.5625rem;opacity:1}.fund-from-wallet__content__amount-container__balance-error{margin-top:-1rem}.fund-from-wallet__content__amount-container__balance-error--visible{margin-top:0}.fund-from-wallet__content__amount-container__minimum-error{margin-bottom:-1rem}.fund-from-wallet__content__amount-container__minimum-error--visible{margin-bottom:0}.fund-from-wallet__token-select{background:var(--dynamic-base-1);height:100%;left:0;opacity:0;padding-top:-6.25rem;pointer-events:none;position:absolute;top:0;transition:all .2s ease-in-out;width:100%;z-index:1000}.fund-from-wallet__token-select:before{content:"";display:block;margin-bottom:-6.25rem;transition:all .2s ease-in-out}.fund-from-wallet__token-select--open{opacity:1;padding-top:0;pointer-events:all}.fund-from-wallet__token-select--open:before{margin-bottom:0}.choose-wallet-funding-method__header-description{margin-top:1rem;text-align:center}.choose-wallet-funding-method__options{display:flex;flex-direction:column;gap:.5rem;padding:0 1.5rem 1.5rem}.choose-wallet-funding-method__options__option{gap:.625rem;justify-content:start;padding-inline:.75rem}.choose-wallet-funding-method__options__option__icon{height:1.75rem;width:1.75rem}.choose-wallet-funding-method__options__option__trailing{align-items:center;display:flex;gap:.5rem;margin-left:auto}.choose-wallet-funding-method__options__option__trailing__preview-icons{align-items:center;display:flex}@media (max-width:500px){.choose-wallet-funding-method__options__option__trailing__preview-icons{display:none}}.choose-wallet-funding-method__options__option__trailing__preview-icons>*{height:1rem;width:1rem;z-index:var(--z-index,0)}.choose-wallet-funding-method__options__option__trailing__preview-icons>:not(:first-child){margin-left:-.3125rem}.choose-wallet-funding-method__options__option__trailing__preview-icons__onramp-icon,.choose-wallet-funding-method__options__option__trailing__preview-icons__plus-icon,.choose-wallet-funding-method__options__option__trailing__preview-icons__wallet-icon{align-items:center;border-radius:50%;display:flex;justify-content:center}.choose-wallet-funding-method__options__option__trailing__preview-icons__onramp-icon{background-color:#121730}.choose-wallet-funding-method__options__option__trailing__preview-icons__onramp-icon>*{height:100%;width:100%}.choose-wallet-funding-method__options__option__trailing__preview-icons__wallet-icon{background-color:var(--dynamic-base-2)}.choose-wallet-funding-method__options__option__trailing__preview-icons__wallet-icon>*{height:100%;width:100%}.choose-wallet-funding-method__options__option__trailing__preview-icons__plus-icon{background-color:var(--dynamic-base-1)}.deposit-view__content{align-items:center;display:flex;flex-direction:column;gap:2rem;margin-top:1rem}.deposit-view__content__qr-code{height:13.4375rem;width:13.4375rem}.deposit-view__content__address{align-items:center;display:flex;flex-direction:column;gap:.5rem}.deposit-view__content__address__ens{font-size:1.125rem;font-weight:700;text-align:center}.deposit-view__content__address__wrapper{align-items:center;display:flex;flex-direction:row;gap:.5rem}.deposit-view__content__address__wrapper__text{color:var(--dynamic-text-secondary);font-size:1.125rem;font-weight:500}.deposit-view__content__address__wrapper__copy{color:var(--dynamic-text-secondary);cursor:pointer;padding:0}.deposit-view__content__network{color:var(--dynamic-text-secondary);font-size:.875rem;font-weight:500;line-height:1rem;text-align:center}.choose-onramp-provider__header-description{margin-top:1rem;text-align:center}.choose-onramp-provider__options{display:flex;flex-direction:column;gap:.5rem;padding:0 1.5rem 1.5rem}.choose-onramp-provider__options__option{gap:.625rem;justify-content:start;padding-inline:.75rem}.choose-onramp-provider__options__option__icon{height:1.75rem;width:1.75rem}.account-wrap{display:flex;flex:1;flex-direction:column;padding:0 1.5rem}.account-and-security-settings-view{display:flex;flex-direction:column;height:100%}.account-and-security-settings-view__delete-account-container{display:flex;justify-content:center;margin-top:auto;padding:1.5rem 0;width:100%}.account-and-security-settings-view__delete-account-container__delete-button{cursor:pointer}.choose-linked-wallet-view{display:flex;flex-direction:column;gap:.5rem;max-height:100%}.session-management-view__body{display:flex;flex:1;flex-direction:column}.session-management-view__sessions-container{display:flex;flex-direction:column;gap:1rem;padding:1rem 1.5rem}.session-management-view__session{align-items:center;display:flex;flex-direction:row;justify-content:space-between}.empty-sessions-view{align-items:center;display:flex;flex:1;justify-content:center;padding:1rem}.session-management-info-view{display:flex;flex:1;flex-direction:column}.session-management-info-view__body{display:flex;flex:1;flex-direction:column;gap:1rem;padding:1rem 1.5rem}.session-management-info-view__footer{display:flex;padding:1rem 1.5rem}.revoke-access-view{display:flex;flex:1;flex-direction:column;overflow-y:auto}.revoke-access-view__body{display:flex;flex:1;flex-direction:column;gap:1rem;padding:0 1.5rem}.revoke-access-view__footer{display:flex;flex-direction:column;gap:.5rem;justify-self:flex-end;padding:1rem 1.5rem}.session-management-session{background-color:var(--dynamic-base-2);border-radius:.25rem;display:flex;flex-direction:column;padding:0 .75rem .25rem}.session-management-session__main{align-items:center;border-bottom:1px solid var(--dynamic-base-3);display:flex;flex-direction:row;justify-content:space-between;padding:.5rem}.session-management-session__permissions-accordion{border-bottom:none;display:flex;flex:1;flex-direction:column}.session-management-session__permissions-toggle{padding:.5rem}.session-management-session__permissions{align-items:flex-start;background-color:var(--dynamic-base-1);border-radius:.25rem;display:flex;flex:1;flex-direction:column;margin:0 0 .5rem;padding:.25rem .5rem}.session-management-session__permissions-header{align-items:center;border-bottom:1px solid var(--dynamic-base-3);display:flex;flex:1;padding:.25rem 0;width:100%}.session-management-session__permissions-body{align-items:center;display:flex;flex-direction:column;padding:.25rem 0}.session-management-session__permissions-list{align-items:flex-start;color:var(--dynamic-text-secondary);display:flex;flex-direction:column;list-style:disc;padding-left:1rem}.confirm-exchange-transfer{background-color:var(--dynamic-base-3)}.confirm-exchange-transfer__content{align-items:center;background-color:var(--dynamic-base-3);display:flex;flex-direction:column;gap:.75rem;padding:0 1rem}.confirm-exchange-transfer__content__modal{background-color:var(--dynamic-base-1);border-radius:.25rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;width:100%}.confirm-exchange-transfer__content__modal__top__token{align-items:center;display:flex;gap:.625rem}.confirm-exchange-transfer__content__modal__top__token__name{flex:1}.confirm-exchange-transfer__content__modal__top__token__balance-container{align-items:flex-end;display:flex;flex-direction:column}.confirm-exchange-transfer__content__modal__top__token__balance-container__balance-value-container{align-items:center;display:flex;gap:.25rem}.confirm-exchange-transfer__content__modal__top__token__icon{background-color:var(--dynamic-base-1);border-radius:50%;height:1.75rem;overflow:hidden;width:1.75rem}.confirm-exchange-transfer__content__modal__transaction{background-color:var(--dynamic-base-1);display:flex;flex-direction:column;gap:0;margin:0}.confirm-exchange-transfer__content__modal__transaction__from{align-items:center;display:flex;gap:0}.confirm-exchange-transfer__content__modal__transaction__from__title{flex:1}.confirm-exchange-transfer__content__modal__transaction__from__exchange{align-items:flex-end}.confirm-exchange-transfer__content__modal__transaction__receive{align-items:center;display:flex;gap:.625rem}.confirm-exchange-transfer__content__modal__transaction__receive__name{flex:1}.confirm-exchange-transfer__content__modal__transaction__receive__container{display:flex;flex-direction:column}.confirm-exchange-transfer__content__modal__transaction__receive__amount-container{align-items:flex-end;display:flex;flex-direction:column;margin-left:auto}.confirm-exchange-transfer__content__terms{background-color:var(--dynamic-base-1);border-radius:.25rem;display:flex;flex-direction:column;gap:.5rem;padding:.625rem}.confirm-exchange-transfer__content__buttons{align-items:center;display:flex;gap:1rem;padding:.5rem 0 0;width:100%}.confirm-exchange-transfer__content__buttons__button{width:100%}.confirm-exchange-transfer__content__footer{padding:.5rem 0}.deposited-exchange-view{display:flex;flex-direction:column;height:100%}.deposited-exchange-view__container{align-items:center;display:flex;flex:1 0 0;flex-direction:column;gap:1.5rem;justify-content:flex-end;padding:2.75rem}.deposited-exchange-view__container__icon-holder{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:.5rem .46875rem .5rem .53125rem}.deposited-exchange-view__container__icon-holder__icon{height:6rem;width:6rem}.deposited-exchange-view__container__description{align-items:center;align-self:stretch;display:flex;flex-direction:column;gap:.5rem;height:6rem}.deposited-exchange-view__container__description__text{text-align:center}.deposited-exchange-view__container__buttons{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:.5rem}.deposited-exchange-view__container__buttons__button{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:.25rem}.deposited-exchange-view__container__buttons__button__button{align-items:center;align-self:stretch;border:.0625rem solid var(--default-base-4,#e7e8ed);border-radius:.25rem;display:flex;gap:.375rem;justify-content:center;padding:.625rem 1rem}.currency-select{align-items:stretch;display:flex;flex-direction:column;height:100%}.currency-select__search{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*2);display:flex;gap:.5rem;margin-bottom:1rem;margin-inline:1.5rem;padding:.625rem .75rem}.currency-select__search__input{background:transparent;border:none;color:var(--dynamic-text-primary);flex:1;font-size:.9375rem;font-weight:400;line-height:1.25rem;outline:none}.currency-select__search__input::-moz-placeholder{color:var(--dynamic-text-secondary)}.currency-select__search__input::placeholder{color:var(--dynamic-text-secondary)}.currency-select__currencies{-ms-overflow-style:none;align-items:stretch;display:flex;flex:1;flex-direction:column;gap:.5rem;margin-inline:1.5rem;margin-bottom:1.5rem;overflow-y:auto;scrollbar-width:none}.currency-select__currencies::-webkit-scrollbar{display:none}.currency-select__currencies__option{align-items:center;background:var(--dynamic-base-2);border-radius:var(--dynamic-border-radius);cursor:pointer;display:flex;justify-content:space-between;padding:.75rem 1rem;transition:background-color .2s ease}.currency-select__currencies__option--selected,.currency-select__currencies__option:hover{background:var(--dynamic-base-3)}.currency-select__currencies__option__info{display:flex;flex-direction:column;gap:.25rem}.fund-from-wallet{height:100%;overflow:auto;width:100%}.fund-from-wallet,.fund-from-wallet__content{align-items:stretch;display:flex;flex:1;flex-direction:column}.fund-from-wallet__content{gap:1rem;padding:1.5rem}.fund-from-wallet__content__amount-container{align-items:center;display:flex;flex-direction:column;gap:.75rem}.fund-from-wallet__content__amount-container__amount{text-align:center;width:100%}.fund-from-wallet__content__amount-container__amount .formatted-input{background:transparent;border:none;color:var(--dynamic-text-primary);font-size:2rem;font-weight:600;text-align:center}.fund-from-wallet__content__amount-container__amount .formatted-input:focus{outline:none}.fund-from-wallet__content__amount-container__quick-suggestions{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.fund-from-wallet__content__amount-container__quick-suggestions>*{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*2);cursor:pointer;padding:.5rem .75rem;transition:background-color .2s ease}.fund-from-wallet__content__amount-container__quick-suggestions>:hover{background-color:var(--dynamic-base-3)}.fund-from-wallet__content__amount-container__error{margin-bottom:.5rem;text-align:center}.fund-from-wallet__content__wallet-card{align-items:center;background:var(--dynamic-base-2);border-radius:var(--dynamic-border-radius);display:flex;gap:.75rem;justify-content:space-between;padding:.75rem 1rem}.fund-from-wallet__content__wallet-card__wallet-details{align-items:center;display:flex;flex:1;gap:.75rem}.fund-from-wallet__content__wallet-card__wallet-details__rows{display:flex;flex-direction:column;gap:.125rem}.fund-from-wallet__content__wallet-card__wallet-details__icon{border-radius:calc(var(--dynamic-border-radius)*.5);height:2rem;overflow:hidden;width:2rem}.fund-from-wallet__content__wallet-card__balance{align-items:center;display:flex;gap:.5rem}.fund-from-wallet__content__wallet-card__balance__rows{align-items:flex-end;display:flex;flex-direction:column;gap:.125rem}.fund-from-wallet__content__currency-selector{display:flex;flex-direction:column;gap:.5rem}.fund-from-wallet__content__currency-selector__dropdown{align-items:center;background-color:var(--dynamic-base-2);border-radius:var(--dynamic-border-radius);cursor:pointer;display:flex;justify-content:space-between;padding:.75rem 1rem;transition:background-color .2s ease}.fund-from-wallet__content__currency-selector__dropdown:hover{background-color:var(--dynamic-base-3)}.fund-from-wallet__content__currency-selector__dropdown__content{display:flex;flex:1;flex-direction:column;gap:.25rem}.fund-from-wallet__content__currency-selector__dropdown__icon{align-items:center;display:flex;flex-shrink:0;height:1.25rem;justify-content:center;margin-left:.5rem;width:1.25rem}.fund-from-wallet__confirm-button{border-radius:var(--dynamic-border-radius);margin:1.5rem}.waas-backup-view{padding:0 24px 16px}.waas-backup-view__body{display:flex;flex-direction:column}.waas-backup-view__icon-container{display:flex;justify-content:center;margin-bottom:16px}.waas-backup-view__subtitle{margin-bottom:24px;text-align:center}.waas-backup-view__stepper{justify-content:center;margin-bottom:24px}.waas-backup-view__step,.waas-backup-view__step-container,.waas-backup-view__stepper{align-items:center;display:flex}.waas-backup-view__step{flex-direction:column}.waas-backup-view__step--completed .waas-backup-view__step-indicator{background-color:var(--dynamic-brand-primary-color);border-color:var(--dynamic-brand-primary-color)}.waas-backup-view__step--completed .waas-backup-view__step-number{color:#fff}.waas-backup-view__step--current .waas-backup-view__step-indicator{background-color:transparent;border-color:var(--dynamic-brand-primary-color)}.waas-backup-view__step--current .waas-backup-view__step-number{color:var(--dynamic-brand-primary-color)}.waas-backup-view__step--upcoming .waas-backup-view__step-indicator{background-color:transparent;border-color:var(--dynamic-text-tertiary)}.waas-backup-view__step--upcoming .waas-backup-view__step-number{color:var(--dynamic-text-tertiary)}.waas-backup-view__step-indicator{align-items:center;background-color:transparent;border:2px solid var(--dynamic-text-tertiary);border-radius:50%;display:flex;height:28px;justify-content:center;transition:all .2s ease;width:28px}.waas-backup-view__step-number{color:var(--dynamic-text-secondary);font-size:14px;font-weight:500}.waas-backup-view__step-separator{border-top:2px dashed var(--dynamic-brand-primary-color);height:0;margin:0 8px;opacity:.4;width:32px}.waas-backup-view__cloud-title{font-size:15px;line-height:20px;margin-bottom:8px;text-align:center}.waas-backup-view__cloud-subtitle{margin-bottom:12px;text-align:center}.waas-backup-view__provider-button{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-border-color);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:12px;justify-content:center;margin-bottom:12px;padding:16px;transition:all .2s ease;width:100%}.waas-backup-view__provider-button:last-of-type{margin-bottom:0}.waas-backup-view__provider-button:hover{background-color:var(--dynamic-hover)}.waas-backup-view__provider-button:disabled{cursor:not-allowed;opacity:.5}.waas-backup-view__provider-button .typography{font-weight:600}.waas-backup-view__provider-icon{flex-shrink:0;height:20px;width:20px}.waas-backup-view__iframe-container{border-radius:calc(var(--dynamic-border-radius)/2);margin-top:16px;overflow:hidden;width:100%}.waas-backup-view__checkbox-container{margin-bottom:16px}.waas-backup-view__checkbox-label{align-items:flex-start;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:12px;padding:16px}.waas-backup-view__checkbox-label .checkbox__container{flex-shrink:0;margin-top:2px}.waas-backup-view__checkbox-label .typography{font-family:DM Sans,sans-serif;font-size:15px;font-weight:400;letter-spacing:0;line-height:20px}.waas-backup-view__actions .button{width:100%}.waas-backup-view .google-drive-section{display:flex;flex-direction:column}.waas-backup-view .google-drive-container{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/4);display:flex;gap:16px;justify-content:space-between;padding:10px 12px}.waas-backup-view .google-drive-icon{flex-shrink:0;height:20px!important;max-height:20px;max-width:20px;min-height:20px;min-width:20px;width:20px!important}.waas-backup-view .google-drive-header{align-items:flex-start;display:flex;flex:1;gap:8px}.waas-backup-view .google-drive-text{display:flex;flex-direction:column;gap:2px}.waas-backup-view .google-drive-title-row{align-items:center;display:flex;gap:4px}.waas-backup-view .backed-up-pill{background-color:rgba(65,204,153,.15);border-radius:12px;color:#0f5c3e;font-size:10px;font-weight:700;padding:4px 5px;text-transform:uppercase;white-space:nowrap}.waas-backup-view .google-drive-check-icon{align-self:center;color:#10b981;flex-shrink:0;height:20px;width:20px}.waas-backup-view__progress{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center}.waas-backup-view__progress-icon{align-items:center;display:flex;height:80px;justify-content:center;margin-bottom:16px;position:relative;width:80px}.waas-backup-view__progress-icon svg{height:100%;width:100%}.waas-backup-view__progress-icon:after{animation:swoosh 2s ease-in-out infinite;border-color:transparent #60a5fa #60a5fa transparent;border-radius:50%;border-style:solid;border-width:3px;content:"";height:100px;left:50%;margin-left:-50px;margin-top:-45px;position:absolute;top:50%;width:100px}.waas-backup-view__progress-icon--error:after{display:none}.waas-backup-view__progress-error-badge{align-items:center;background-color:#ef4444;border-radius:50%;bottom:8px;display:flex;height:32px;justify-content:center;position:absolute;right:-8px;width:32px}.waas-backup-view__progress-error-badge svg{height:18px;width:6px}.waas-backup-view__progress-error-badge svg path{fill:#fff}.waas-backup-view__progress-actions{margin-top:24px;width:100%}@keyframes swoosh{0%{opacity:.5;transform:rotate(45deg)}50%{opacity:.9}to{opacity:.5;transform:rotate(405deg)}}.waas-backup-view__progress-title{margin-bottom:8px}.waas-backup-view__progress-subtitle{max-width:280px}.waas-backup-view__info{align-items:center;display:flex;flex-direction:column;text-align:center}.waas-backup-view__info-icon{margin-bottom:16px}.waas-backup-view__info-subtitle{margin-bottom:12px}.waas-backup-view__info-description{margin-bottom:24px}.waas-backup-view__info-alert{align-items:flex-start;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:12px;padding:12px;text-align:left}.waas-backup-view__info-alert-icon{flex-shrink:0;height:16px;margin-top:2px;width:16px}.waas-backup-view__info-alert-icon path{fill:var(--dynamic-text-tertiary)}.waas-backup-view__step-check{height:12px;width:12px}.waas-backup-view__step-check path{fill:#fff}.waas-backup-view__download-icon{height:16px;width:16px}.waas-backup-view__download-button-content{align-items:center;display:flex;gap:8px;justify-content:center}.waas-backup-view__body--centered{align-items:center;text-align:center}.waas-backup-view__success-description,.waas-backup-view__success-icon{margin-bottom:16px}.waas-backup-view__step-separator--solid{border-style:solid;opacity:1}.waas-backup-view{display:flex;flex-direction:column;height:100%}.waas-backup-view .account-wrap{flex:1;overflow-y:auto}.waas-backup-view .backup-content{display:flex;flex-direction:column}.waas-backup-view .backup-icon-container{display:flex;justify-content:center;margin-bottom:16px}.waas-backup-view .backup-content>.typography:first-of-type{margin-bottom:24px;text-align:left}.waas-backup-view .backup-content>.typography{text-align:left}.waas-backup-view .alert{margin:24px 0}.waas-backup-view .backup-actions{display:flex;justify-content:center}.waas-backup-view .backup-actions .backup-button{flex-shrink:0;width:100%}.waas-backup-view .backup-button{flex-shrink:0}.export-and-recovery-view{display:flex;flex-direction:column;height:100%}.export-and-recovery-view__export-shares-label{align-items:center;display:flex;gap:8px}.export-and-recovery-view__advanced-badge{align-items:center;background-color:#d7dbe7;border-radius:4px;color:#57627b;display:inline-flex;font-size:10px;font-weight:700;padding:2px 6px;text-transform:uppercase}.export-shares-passcode-view{display:flex;flex-direction:column;height:100%}.export-shares-passcode-view__content{display:flex;flex-direction:column;padding:16px}.export-shares-passcode-view__description{margin-bottom:24px;text-align:center}.export-shares-passcode-view__label{margin-bottom:8px}.export-shares-passcode-view__pin-container{display:flex;justify-content:center;margin-bottom:24px}.default-prompt-modal{align-items:center;display:flex;flex-direction:column;text-align:center}.default-prompt-modal__icon-with-spinner{margin:0 auto .75rem}.default-prompt-modal__content{flex-direction:column;width:100%}.default-prompt-modal__button .typography,.default-prompt-modal__content{align-items:center;display:flex;gap:.375rem;justify-content:center}.detected-new-wallet-modal__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;text-align:center}.detected-new-wallet-modal__top-section{align-items:center;display:flex;flex-direction:column;gap:1.125rem;text-align:center}.no-qr-code-not-installed-modal-view{align-items:center;display:flex;flex-direction:column;gap:1rem}.no-qr-code-not-installed-modal-view__links-section{width:100%}.qr-code-modal-view{display:flex;flex-direction:column;gap:.5rem}.qr-code-modal-view__title{text-align:center}.qr-code-modal-view .qrcode__container{height:10.9375rem;width:10.9375rem}.qr-code-modal-view__container{align-items:center;display:flex;justify-content:center}.qr-code-modal-view__wrapper{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*3/4);padding:.5rem}.qr-code-modal-view .info-item{margin-bottom:.75rem}.qr-code-modal-view .info-item__text{font-size:var(--dynamic-text-size-body-small)}.qr-code-modal-view .info-item svg path{fill:var(--dynamic-text-secondary)}.qr-code-modal-view .button__container{flex-direction:column}.qr-code-modal-view .button__container,.qr-code-modal-view .button__container span{align-items:center;display:flex;gap:.375rem}.unlink-wallet-popup__container{align-items:center;display:flex;flex-direction:column;width:100%}.unlink-wallet-popup__button,.unlink-wallet-popup__label,.unlink-wallet-popup__title{text-align:center}.unlink-wallet-popup__title{padding-bottom:.5rem}.unlink-wallet-popup__label{padding-bottom:.5rem;padding-top:.5rem}.unlink-wallet-popup__button{margin-top:.5rem}.unlink-wallet-popup__button--shadow{box-shadow:var(--dynamic-shadow-down-1)}.dynamic-widget__container{z-index:2147483646}.onramp-widget__backdrop{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background-color:rgba(0,0,0,.25);inset:0;position:fixed;z-index:2147483645}.onramp-widget__modal{align-items:center;display:flex;inset:0;justify-content:center;overflow-y:auto;padding:1rem;position:fixed;z-index:2147483646}@media (pointer:coarse){.onramp-widget__modal{padding:0}}.onramp-widget__modal iframe{border:none;border-radius:1.5rem;height:635px;margin:auto;max-width:470px;overflow:hidden;width:100%;z-index:2147483647}@media (pointer:coarse){.onramp-widget__modal iframe{border-bottom-left-radius:0;border-bottom-right-radius:0;margin:initial;margin-top:auto}}.embedded-widget{max-width:100%;width:var(--dynamic-modal-width)}.embedded-widget--background-default,.embedded-widget--background-none{background:none}.dynamic-bridge-user-profile__switcher{margin:0 0 1rem;padding:1.5rem 1.5rem 0}.dynamic-bridge-wallet-card__network{margin:0 0 .5rem}.dynamic-bridge-wallet-card__network,.dynamic-bridge-wallet-card__network-icon,.dynamic-bridge-wallet-card__network-name{display:inline-block;vertical-align:middle}.dynamic-bridge-wallet-card__network-icon{height:1rem;margin-right:.375rem;width:1rem}.dynamic-bridge-widget-empty-card{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);padding:.75rem;transition:transform .1s linear}.dynamic-bridge-widget-empty-card:active{transform:scale(.98)}.dynamic-bridge-widget-empty-card__icon{display:inline-flex;height:1.75rem;margin-right:.63rem;vertical-align:middle;width:1.75rem}.dynamic-bridge-widget-empty-card__text{overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.dynamic-bridge-widget-wallets-view{display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.dynamic-bridge-widget-wallets-view__logout-button{margin:0 auto}.dynamic-bridge-widget-wallets-view__unlink-button{color:var(--dynamic-text-secondary);margin:auto 0 0 auto}.dynamic-bridge-widget__skeleton{height:1.25rem;width:5rem}.dynamic-bridge-widget__skeleton-button{cursor:default}.dynamic-bridge-widget__skeleton-button:hover{background-color:initial}.footer-buttons-item{align-items:center;background:var(--dynamic-base-2);border:0;border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);cursor:pointer;display:flex;padding:.75rem;transition:all .3s;width:100%}.footer-buttons-item__icon--left{margin-right:.625rem}.footer-buttons-item__icon--left img,.footer-buttons-item__icon--left svg{height:1.25rem;width:1.25rem}.new-to-web3-buttons__container{margin-top:1rem}.new-to-web3-buttons__container button{background:var(--dynamic-brand-primary-color);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);color:#fff;padding:.75rem;width:100%}.walletlist-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.walletlist-help-content__icon{align-items:center;display:flex;height:3.5rem;justify-content:center;margin:0 auto;width:3.5rem}.walletlist-help-content__typography-wrapper{color:var(--dynamic-text-primary);margin:1rem 0;text-align:center}.walletlist-help-content__typography-wrapper .walletlist-help-content__typography--label{margin-top:.375rem}.walletlist-help-content__buttons-wrapper{display:flex;flex-direction:column;gap:.375rem;margin-top:1rem}.walletlist-help-content__buttons-wrapper button{text-align:left;width:100%}.walletlist-help-content__custodial-wallet-area--title{margin:.75rem 0;text-align:center}.footer-more-info-content__wrapper{display:flex;flex-direction:column;gap:.75rem;padding:1.5rem}.footer-more-info-content__item--phantom-ledger{font-size:.6875rem;margin-bottom:.5rem}.footer-more-info-content__item--phantom-ledger p{margin-bottom:.5rem}.footer-more-info-content__item--phantom-ledger p:last-child,.footer-more-info-content__item:last-child{margin-bottom:0}.back-button{rotate:-90deg}.help-header{border-bottom:1px solid var(--dynamic-base-4)}.passkey-info-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.passkey-info-help-content__typography-wrapper{color:var(--dynamic-text-primary);display:flex;flex-direction:column;gap:1rem;text-align:left}.passkey-info-help-content__wrapper{flex:1}.passkey-info-help-content__details{display:flex;flex-direction:row;gap:1rem}.layout-header{align-items:stretch;background:var(--dynamic-header-background);display:flex;flex-direction:column;width:100%}.layout-header__skeleton{width:7.5rem}.layout-header__typography{margin:0;text-align:center}.layout-header__typography img,.layout-header__typography svg{display:inline-block}.layout-header__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.layout-header__icon svg{height:1.5rem;width:1.5rem}.layout-header__description{margin-top:1rem;padding-inline:1.5rem;text-align:center}.tos-and-pp__footer{background:var(--dynamic-footer-background);border-top:var(--dynamic-footer-border-top);bottom:0;padding:var(--dynamic-footer-padding);position:relative;width:100%}.default-footer__footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);min-height:1.5rem;opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible;width:100%}.default-footer__footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.wallet-progress-stepper{padding:.5rem 1rem}.dynamic-user-profile-layout{display:flex;flex-direction:column;height:33.125rem;overflow:hidden}.dynamic-user-profile-layout--unset-max-height{height:unset}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover{box-shadow:unset!important}.dynamic-modal{display:flex;flex-direction:column-reverse;left:50%;letter-spacing:0;position:absolute}.dynamic-shadow-dom-content{font-family:var(--dynamic-font-family-primary)}';const vJ=()=>f.jsx("link",{rel:"stylesheet",href:"https://app.dynamic.xyz/assets/legacySafari/styles.css"}),zGe=()=>{if(Td())return!1;const e="shadowDOM.enabled",t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e)==="true":!0},VGe=Vt.createContext({}),wJ=()=>f.jsx("style",{children:vue}),R_=({mode:e="open",id:t,className:n,children:r,dataTestId:i,zIndex:o})=>{const{shadowDOMEnabled:s,cssOverrides:a}=$e(),c=zGe()&&s,[d,u]=x.useState(null),[h,m]=x.useState(),v=x.useMemo(()=>a&&typeof a!="string"?()=>a:a&&typeof a=="string"?()=>f.jsx("style",{children:a}):null,[a]);w_(()=>{if(d&&c)try{const y=d.attachShadow({mode:e});m(y)}catch{}},[c,d,e]);const g=x.useMemo(()=>!!Object.keys(vue).length,[]);return c?f.jsx(zO,{children:f.jsx(VGe.Provider,{value:{shadowRoot:h},children:f.jsx("div",{"data-testid":i,ref:u,id:t,className:Ke("dynamic-shadow-dom",n),style:{zIndex:o},children:h&&xm.createPortal(f.jsxs("div",{className:"dynamic-shadow-dom-content",children:[r,g&&f.jsx(wJ,{}),uO()&&f.jsx(vJ,{}),v&&f.jsx(v,{})]}),h)})})}):f.jsx(zO,{children:f.jsxs("div",{"data-testid":i,ref:u,id:t,className:Ke("dynamic-shadow-dom",n),style:{zIndex:o},children:[r,g&&f.jsx(wJ,{}),uO()&&f.jsx(vJ,{}),v&&f.jsx(v,{})]})})},wue=({onSubmit:e,onError:t,userProfile:n,shouldEnforcePolicies:r=!0,fields:i})=>{var o;const{mockedSDK:s}=kj(),[a,l]=x.useState(!1),{fieldsConfig:c}=vM(),d=r&&((o=i.find(g=>g.name==="policiesConsent"))===null||o===void 0?void 0:o.enabled),u=g=>`${g.charAt(0).toUpperCase()+g.slice(1)} is required`,h=x.useMemo(()=>i1().shape(Object.fromEntries(i.map(({name:g,required:y,type:b,validationType:k,validationRules:_})=>{let R=b===Cd.Custom?Oy(Dle,k):Oy(c,g).validation;return b===Cd.Custom&&_&&(k===lm.Select||k===lm.Text)&&(R=R,_.validOptions?R=R.oneOf(_.validOptions.map(I=>I.label),"Select a valid option"):_.regex&&(R=R.matches(new RegExp(_.regex),"Invalid field format"))),[g,y?R.required(u(g)):R]}))),[i]),m=x.useMemo(()=>Object.fromEntries(i.map(({name:g,type:y,validationRules:b,validationType:k})=>{var _,R,I,T;const M=n??{};if(y===Cd.Custom){let U="";return k===lm.Select&&(b!=null&&b.validOptions)&&(U=(_=b.validOptions[0].label)!==null&&_!==void 0?_:""),[g,(()=>{var $;const q=M.metadata?Oy(M.metadata,g):void 0;return Array.isArray(q)?q:($=q==null?void 0:q.toString())!==null&&$!==void 0?$:U})()]}const A=(R={country:WD[0].code,policiesConsent:!1,tShirtSize:FD[0],team:qD[0]}[g])!==null&&R!==void 0?R:"";return[g,(T=(I=Oy(M,g))===null||I===void 0?void 0:I.toString())!==null&&T!==void 0?T:A]}))||{},[i,n]),v=x.useCallback((g,y)=>de(void 0,void 0,void 0,function*(){const b={},k={};if(!s)try{if(!(n!=null&&n.environmentId))throw new Se("Invalid environment ID");l(!0);let _=g;Object.entries(_).forEach(([R,I])=>{const T=i.find(M=>M.name===R&&M.type===Cd.Custom);T&&(b[R]=I,delete _[R],T.unique&&(k[R]=I))}),Object.keys(b).length>0&&(_.metadata=b),d&&(_=Object.assign(Object.assign({},_),{policiesConsent:!0}),delete _.policiesConsentArray),yield e==null?void 0:e(_)}catch(_){Ie.error(_),t==null||t(_),_ instanceof hD?y.setErrors({email:"Email already exists"}):_ instanceof fD?y.setFormikState(R=>Object.assign(Object.assign({},R),{errors:Object.fromEntries(Object.entries(k).map(([I])=>[I,Object.entries(k).length>1?"One or more fields are already tied to another user":`${I} is already tied to another user`])),touched:Object.fromEntries(Object.entries(k).map(([I])=>[I,!0])),values:Object.assign(Object.assign({},m),k)})):_ instanceof yD?y.setErrors({email:"Too many email verification attempts."}):_ instanceof vD?y.setErrors({username:"Username already exists"}):_ instanceof mD?y.setErrors({phoneNumber:_.message}):y.setErrors({api:"Something went wrong. Please try again."})}finally{l(!1)}}),[s,n==null?void 0:n.environmentId,d,e,i,t,m]);return{enforcePolicies:d,fetch:a,formikInitialValues:m,formikValidationSchema:h,onFormSubmit:v}},Kd=({ariaLabel:e,checked:t,className:n="",defaultChecked:r,disabled:i,id:o,name:s,onChange:a,value:l})=>f.jsxs("div",{className:Ke("checkbox__container",n),children:[f.jsx("input",{type:"checkbox",id:o,"aria-label":e,"aria-checked":t,className:"checkbox--hidden",value:l,checked:t,name:s,disabled:i,defaultChecked:r,onChange:c=>!!a&&(a==null?void 0:a(c,c.currentTarget.value)),"data-testid":"input-checkbox"}),f.jsx("div",{className:"checkbox--visible",children:f.jsx(cc,{className:"checkbox__icon"})})]}),bue=e=>{var t,n;const r=GM((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],pn.Sms);return((n=r==null?void 0:r.enabledCountries)!==null&&n!==void 0?n:[]).map(i=>i.isoCountryCode.toLowerCase())},KGe=["us","ca"],_ue=e=>e.length?e:KGe,HGe=(e,t)=>{const n=x.useRef(!1),r=x.useRef(e);return r.current=e,x.useCallback((...i)=>{n.current||(r.current(...i),n.current=!0,setTimeout(()=>n.current=!1,t))},[t])},GGe=(e,t)=>(e%t+t)%t,JGe=({defaultIso2:e,countries:t,initialPhone:n})=>{if(n){const{country:l}=p3({countries:t,phone:n});if(l)return l}const r=t.map(ps),i=ot.getItem(Zw),o=r.find(({iso2:l})=>l===i);if(o)return o;const s=r.find(({iso2:l})=>l===e);if(s)return s;const a=r.find(({iso2:l})=>l==="us");if(a)return a;if(r[0])return r[0];throw new Error("No country list was provided")},ZGe=50,YGe=20,XGe=({countryInputRef:e,setCountryDropdownOpen:t,setInvalidNumberMessage:n,onUpdate:r,initialPhone:i,countries:o,defaultIso2:s})=>{const a=x.useRef(r);a.current=r;const l=x.useMemo(()=>JGe({countries:o,defaultIso2:s,initialPhone:i}),[o,s,i]),{inputValue:c,phone:d,country:u,setCountry:h,handlePhoneValueChange:m,inputRef:v}=Iae({countries:o,defaultCountry:l.iso2,disableDialCodeAndPrefix:!0,value:i}),[g,y]=x.useState(l.dialCode),b=x.useMemo(()=>d.length===("+"+u.dialCode).length?"":d,[u.dialCode,d]);x.useEffect(()=>{var V;(V=a.current)===null||V===void 0||V.call(a,{country:u,formattedPhone:c,phone:b})},[u.iso2,c,b]);const[k,_]=x.useState(""),R=x.useMemo(()=>k?isNaN(parseInt(k))?o.filter(V=>{const{name:K,iso2:F}=ps(V);return K.toLowerCase().includes(k.toLowerCase())||F===k.toLowerCase()||u.iso2===F}):o.filter(V=>{const{dialCode:K,iso2:F}=ps(V);return K.includes(k)||u.iso2===F}):o,[o,u.iso2,k]),I=()=>{_(""),t(!0)},T=x.useCallback(()=>{t(!1)},[t]),M=x.useRef(l),D=({target:V})=>{const K=V.value.slice(0,4);y(K),_(K);const{country:F}=p3({countries:o,currentCountryIso2:u.iso2,phone:K});F&&(M.current=F,h(F.iso2),ot.setItem(Zw,F.iso2),setTimeout(()=>E(F.iso2),YGe))},A=()=>{!M.current||g===M.current.dialCode||(h(M.current.iso2),ot.setItem(Zw,M.current.iso2),y(M.current.dialCode),n(void 0))},U=x.useCallback(V=>{V.preventDefault();const K=R.findIndex(W=>ps(W).iso2===u.iso2),F=V.key==="ArrowUp"?-1:1,O=ps(R[GGe(K+F,R.length)]);E(O.iso2),y(O.dialCode),h(O.iso2),M.current=O,ot.setItem(Zw,O.iso2),n(void 0)},[u.iso2,R,n,h]),$=x.useCallback(()=>{var V;T(),(V=v.current)===null||V===void 0||V.select()},[T,v]),q=x.useCallback(V=>{if(V.key==="Tab")return T();if(V.key==="ArrowUp"||V.key==="ArrowDown")return U(V);if(V.key==="Enter")return $(V)},[T,U,$]),z=x.useMemo(()=>l_({charAfterDialCode:"+",dialCode:u.dialCode,phone:d}).length>0,[u.dialCode,d]),S=x.useRef(null),E=V=>{var K;const F=(K=S.current)===null||K===void 0?void 0:K.querySelector("#"+V);F==null||F.scrollIntoView({behavior:"instant",block:"center",inline:"center"})},N=HGe(V=>{var K;const F=!!S.current,O=!!V;S.current=V,!(F||!O)&&((K=e.current)===null||K===void 0||K.select(),E(u.iso2))},ZGe),P=V=>{y(V.dialCode),h(V.iso2),ot.setItem(Zw,V.iso2),M.current=V,n(void 0)},j=x.useMemo(()=>g.length>3?"var(--dynamic-text-size-body-mini)":g.length>2?"var(--dynamic-text-size-body-small)":"var(--dynamic-text-size-body-normal)",[g.length]);return{closeDropdown:T,countryFontSize:j,countryInput:g,currentCountry:u,filteredCountries:R,formattedPhone:c,handleCountryInput:D,handleCountryKeyDown:q,handlePhoneInput:m,hasInput:z,inputRef:v,onBlurCountry:A,onFocusCountry:I,onMenuDisplayToggle:N,openDropdown:I,setCountry:P}},xue=({isLoading:e,disabled:t,error:n,label:r,onUpdate:i,appendRight:o,setIsFocused:s,setIsHovered:a,initialPhone:l,onBlur:c,countries:d})=>{const{t:u}=Xe(),h=x.useRef(null),[m,v]=x.useState(!1),g=x.useRef(null),{defaultPhoneInputIso2:y}=$e(),[b,k]=x.useState(void 0),{formattedPhone:_,currentCountry:R,handleCountryInput:I,handlePhoneInput:T,hasInput:M,inputRef:D,countryInput:A,onBlurCountry:U,filteredCountries:$,openDropdown:q,handleCountryKeyDown:z,closeDropdown:S,setCountry:E,onMenuDisplayToggle:N,onFocusCountry:P,countryFontSize:j}=XGe({countries:d,countryInputRef:h,defaultIso2:y,initialPhone:l,onUpdate:i,setCountryDropdownOpen:v,setInvalidNumberMessage:k});return f.jsxs("div",{className:"phone-number-field",children:[f.jsxs("div",{className:"phone-number-field__fields",onPointerEnter:()=>a==null?void 0:a(!0),onPointerLeave:()=>a==null?void 0:a(!1),onFocus:()=>s==null?void 0:s(!0),onBlur:V=>{s==null||s(!1),c==null||c(V)},ref:g,children:[f.jsxs("div",{className:Ke("phone-number-field__fields__country-code",{"phone-number-field__fields__country-code--disabled":e||t}),onClick:q,"data-testid":"country-code",children:[f.jsx(AS,{iso2:R.iso2,size:"24px",className:"phone-number-field__fields__country-code__flag"}),f.jsx(se,{className:"phone-number-field__fields__country-code__plus",variant:"body_normal",weight:"regular",style:{fontSize:j},color:"primary",children:"+"}),f.jsx(Sl,{label:"",id:"country_code_field",value:A,onChange:I,disabled:e||t,containerClassName:"phone-number-field__fields__country-code__container",className:"phone-number-field__fields__country-code__container__input",onBlur:U,ref:h,onKeyDown:z,onFocus:P,style:{fontSize:j},"data-testid":"country-code-input",inputMode:"numeric",autoComplete:"tel-country-code"}),f.jsx(Nt,{className:"phone-number-field__fields__country-code__chevron",children:f.jsx(j3,{})})]}),f.jsx(Sl,{label:"",id:"phoneNumber",value:_,onChange:T,disabled:e||t,containerClassName:"phone-number-field__fields__phone-number",className:"phone-number-field__fields__phone-number__input",ref:D,error:!!(b||n),inputMode:"numeric","data-testid":"phone_number_input",autoComplete:"tel-national"}),!M&&f.jsx(se,{className:"phone-number-field__fields__placeholder",variant:"body_normal",weight:"regular",copykey:"dyn_collect_user_data.fields.phone_number.label",children:r??u("dyn_collect_user_data.fields.phone_number.label")}),o]}),f.jsx(dj,{isOpen:m,onClickClose:S,popperProps:{anchorOrigin:"bottom-left",anchorRef:g},mobileTitle:"Select country",dropdownClassName:"phone-number-field__dropdown",children:f.jsx("div",{className:"phone-number-field__dropdown__items",ref:N,children:$.map(V=>{const K=ps(V),{iso2:F,name:O,dialCode:W}=K,G=F===R.iso2;return f.jsxs("div",{className:Ke("phone-number-field__dropdown__items__country",{"phone-number-field__dropdown__items__country--selected":G}),onClick:()=>{E(K),S()},id:F,children:[f.jsx(AS,{iso2:F,size:"24px"}),f.jsx(se,{variant:"body_small",color:"primary",children:O}),f.jsx(se,{variant:"body_small",color:"secondary",children:W})]},F)})})}),!!(b||n)&&f.jsx(se,{variant:"body_mini",className:"phone-number-field__error-message",children:n??b})]})},QGe=({onChange:e,value:t,onBlur:n,disabled:r,label:i,required:o,error:s,name:a,verify:l})=>{const{selectedPhoneCountry:c}=gM(),{projectSettings:d}=$e(),u=({country:m,phone:v})=>{c.current=m,v!==t&&e({target:{name:a,value:v}})},h=x.useMemo(()=>{const m=bue(d);return lj(l?_ue(m):void 0)},[l,d]);return f.jsx(xue,{countries:h,initialPhone:t,disabled:r,onUpdate:u,onBlur:n,label:i,appendRight:!r&&!o?f.jsx(se,{variant:"body_small",color:"secondary",className:"user-phone-field__optional-label",children:"Optional"}):void 0,error:s})},US=(e,t)=>{var n;if(!t)return;const r={required:i=>`${i} is required`};return((n=r[t])===null||n===void 0?void 0:n.call(r,e))||t},eJe=e=>{if(!e)return;const{selectedIndex:t}=e;if(t===void 0)return;const n=e.options[t];if(n.hasAttribute("value"))return n.text},tJe=e=>{var{children:t,className:n="",id:r,label:i,value:o,error:s=!1,selectDataTestId:a,message:l}=e,c=bs(e,["children","className","id","label","value","error","selectDataTestId","message"]);const d=x.useRef(null),[u,h]=x.useState();return w_(()=>{if(!o)return;const m=d.current;h(eJe(m))},[o,h]),f.jsxs("div",{className:"select__field",children:[f.jsxs("div",{className:Ke(n,"select__container"),children:[f.jsxs("label",{className:Ke("select__body",{select__error:s,select__has_value:!!u}),htmlFor:r,children:[f.jsx("span",{className:"select__value",children:u||f.jsx("span",{children:""})}),f.jsx("span",{className:"select__label",children:i}),f.jsx("div",{className:"select__control_icon",children:f.jsx(Nt,{size:"medium",children:f.jsx(MN,{})})})]}),f.jsx("select",Object.assign({},c,{"data-testid":a,ref:d,id:r,value:o,placeholder:i,className:"select",children:t}))]}),l&&f.jsx(se,{className:Ke("select__message",{select__message__error:s}),variant:"body_mini",children:l})]})},Ek=({key:e,name:t,label:n,type:r,options:i,disabled:o,dataTestId:s},{errors:a,touched:l})=>f.jsx(jh,{copykey:e,as:tJe,type:r,id:t,name:t,label:n,error:!!(a[t]&&l[t]),selectDataTestId:s,message:l[t]&&US(n,a[t]),disabled:o,children:i.map(c=>typeof c=="string"?f.jsx("option",{value:c,children:c},c):f.jsx("option",{value:c.value,children:c.label},c.value))},t),nJe=(e,t,n,r,i,o,s)=>f.jsxs("div",{children:[f.jsx("div",{role:"group","aria-labelledby":"checkbox-group",className:`user-field__checkbox-container ${i[t]&&o[t]?"user-field__checkbox-container--error":""}`,children:(r==null?void 0:r.checkboxText)&&f.jsxs("div",{className:"user-field__consent-checkbox",children:[f.jsx(jh,{as:Kd,id:e,name:t,type:"checkbox",value:"0",disabled:s,selectDataTestId:"customFieldCheckbox"},e),f.jsx("label",{htmlFor:e,className:"user-field__checkbox-label",children:f.jsx(se,{variant:"body_small",color:"secondary",children:r.checkboxText})})]},e)},"customConsentGroup"),o[t]&&US(n,i[t])&&f.jsx(se,{variant:"body_mini",className:"user-field__error-message",children:`${t.charAt(0).toUpperCase()+t.slice(1)} is required`})]}),rJe=(e,t,n)=>f.jsx("div",{role:"group","aria-labelledby":"checkbox-group",className:"user-field__checkbox-container",children:t==null?void 0:t.map((r,i)=>f.jsxs("div",{className:"user-field__consent-checkbox",children:[f.jsx(jh,{copykey:e,as:Kd,id:`policiesConsent_${i}`,name:"policiesConsentArray",type:"checkbox",value:`${i}`,disabled:n},`policiesConsent_${i}`),f.jsx("label",{htmlFor:`policiesConsent_${i}`,className:"user-field__checkbox-label",children:f.jsx(se,{variant:"body_small",color:"secondary",children:r})})]},`policiesConsent_${i}`))},"policiesConsentGroup"),iJe=({fieldData:{validationRules:e,isCustom:t,key:n,label:r,type:i,autoComplete:o},fieldSettings:{enabled:s,name:a,required:l,verify:c,label:d=r},errors:u,touched:h,disabled:m,policiesConsentInnerComponentArray:v})=>{if(t){if(i===lm.Select&&(e!=null&&e.validOptions)){const g=e.validOptions.map(y=>y.label);return Ek({dataTestId:"customFieldSelect",disabled:m,key:n,label:d,name:a,options:g,type:i},{errors:u,touched:h})}else if(i===lm.Checkbox)return nJe(n,a,d,e,u,h,m)}switch(a){case"tShirtSize":return Ek({dataTestId:"tShirtSizeSelect",disabled:m,key:n,label:d,name:a,options:FD,type:i},{errors:u,touched:h});case"team":return Ek({dataTestId:"teamSelect",disabled:m,key:n,label:d,name:a,options:qD,type:i},{errors:u,touched:h});case"country":return Ek({dataTestId:"countrySelect",disabled:m,key:n,label:d,name:a,options:WD.map(g=>({label:g.name,value:g.code})),type:i},{errors:u,touched:h});case"policiesConsent":return rJe(n,v,m);case"phoneNumber":return f.jsx(jh,{name:a,as:QGe,disabled:m,label:d,required:l,error:h[a]&&u[a]?US(d,u[a]):void 0,verify:c,autoComplete:o},a);default:return f.jsx(jh,{copykey:n,disabled:m,as:Sl,type:i,id:a,name:a,label:d,optional:s&&!l,error:u[a]&&h[a],message:h[a]&&US(d,u[a]),autoComplete:o},a)}},oJe=({enabled:e,name:t,lockForVerification:n})=>{if(t==="email"&&!e)return"dyn_collect_user_data.update_email_tooltip";if(t==="phoneNumber"&&!e)return"dyn_collect_user_data.update_phone_number_tooltip";if(n)return"dyn_collect_user_data.lock_editing_multiple_verified_fields"},kue=({errors:e,policiesConsentInnerComponentArray:t,fields:n,touched:r,currentValues:i,disableEditingMultipleFieldsWithVerification:o,initialValues:s})=>{const{fieldsConfig:a}=vM(),{t:l}=Xe(),c=x.useMemo(()=>s&&i&&n?n.filter(d=>d.verify&&s[d.name]!==i[d.name]).map(d=>d.name):[],[i,n,s]);return f.jsx("div",{className:"user-data-fields__fields-column",children:n==null?void 0:n.map(d=>{const{enabled:u,name:h,verify:m}=d;if(h===yM)return;const v=o&&m&&c.length>0&&!c.includes(h),g=!u||v,y=oJe({enabled:u,lockForVerification:v,name:h});let b;d.type!==Cd.Custom?b=a[h]:b={isCustom:!0,key:d.name,label:d.name,type:d.validationType,validation:Dle[d.validationType],validationRules:d.validationRules};const k=f.jsx(iJe,{disabled:!!g,errors:e,fieldData:b,fieldSettings:d,touched:r,policiesConsentInnerComponentArray:t},b.key);return y?f.jsx(C_,{content:l(y),className:"user-data-fields__tooltip",copykey:y,children:k},b.key+"__tooltip"):k})})},Sue=(e,t)=>{const n=x.useRef(null),r=x.useRef(e);return r.current=e,x.useCallback(((...i)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{r.current(...i)},t)}),[t])},Iue=({showDetails:e=!1})=>{const{t}=Xe(),{values:n,setFieldValue:r,initialValues:i}=qM(),o=TWe(),{projectSettings:s}=$e(),[a,l]=x.useState(void 0),c=x.useMemo(()=>n["name-service-subdomain-handle"]===void 0?i["name-service-subdomain-handle"]||"":n["name-service-subdomain-handle"],[n,i]),d=x.useMemo(()=>{var g;const y=(g=s==null?void 0:s.sdk.nameService)===null||g===void 0?void 0:g.evm.domain;if(y)return`.${y}`},[s]),u=x.useCallback(g=>de(void 0,void 0,void 0,function*(){if(g!==""&&g!==i["name-service-subdomain-handle"]){const y=yield o({subdomain:g});l(y)}else l(void 0)}),[o,i]),h=Sue(u,500),m=g=>de(void 0,void 0,void 0,function*(){r("name-service-subdomain-handle",g.target.value),h(g.target.value)}),v=x.useMemo(()=>{if(a)return a!=null&&a.error?t("dyn_subdomain_field.error"):a!=null&&a.available?t("dyn_subdomain_field.available"):t("dyn_subdomain_field.not_available")},[a,t]);return d?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"subdomain-field__container",children:[f.jsx(Sl,{id:"subdomain-field",className:"input__container--available",value:c,onChange:m,label:t("dyn_subdomain_field.label"),error:!!(v&&!(a!=null&&a.available)),success:a==null?void 0:a.available,message:v}),f.jsx(se,{as:"span",color:"secondary",variant:"body_normal",children:d})]}),e&&f.jsx(se,{as:"p",color:"secondary",variant:"body_small",className:"subdomain-field__details",copykey:"dyn_subdomain_field.details",children:t("dyn_subdomain_field.details")}),f.jsx(of,{})]}):(Ie.error("Failed to get ENS domain from settings.sdk.nameService"),null)},sJe=({filterFields:e,formClassName:t,fieldsContainerStyle:n,onEditProfileSubmit:r,onEditProfileCancel:i,options:o={buttonsAsFooter:!0,cancelText:"Cancel",shouldEnforcePolicies:!1,submitText:"Save"}})=>{const{projectSettings:s,user:a,primaryWallet:l}=$e(),c=x.useMemo(()=>{const y=JM({customFields:s==null?void 0:s.customFields,projectSettingsKyc:s==null?void 0:s.kyc,user:a});return e?y.filter(({name:b})=>e.includes(b)):y},[e,s==null?void 0:s.customFields,s==null?void 0:s.kyc,a]),{fetch:d,formikInitialValues:u,formikValidationSchema:h,onFormSubmit:m}=wue({fields:c,onSubmit:r,shouldEnforcePolicies:o.shouldEnforcePolicies,userProfile:a}),v=x.useMemo(()=>c.some(y=>y.name===yM)&&(l==null?void 0:l.connector.isEmbeddedWallet),[c,l]),g=(y,b,k)=>f.jsxs(f.Fragment,{children:[!o.hideCancelButton&&f.jsx(xt,Object.assign({disabled:d,expanded:!0,buttonPadding:"medium",buttonVariant:"secondary",type:"button",typographyProps:{variant:"button_secondary"},onClick:i,dataTestId:"cancel-button"},o.cancelButtonProps,{children:o.cancelText})),f.jsx(xt,Object.assign({buttonClassName:"dynamic-widget-footer__button",disabled:d||!b||!k,expanded:!0,type:"submit",buttonPadding:"medium",typographyProps:{variant:"button_secondary"},loading:y,startSlot:f.jsx(cc,{}),dataTestId:"submit-button"},o.submitButtonProps,{children:o.submitText}))]});return f.jsx(B3,{onSubmit:m,initialValues:u,validationSchema:h,validateOnChange:!0,children:({errors:y,touched:b,isSubmitting:k,isValid:_,dirty:R,values:I})=>f.jsxs(S_,{className:Ke("dynamic-widget-edit-profile-view",t),"data-testid":"editUserProfileForm",children:[f.jsxs("div",{className:"dynamic-widget-edit-profile-view__fields",style:n,children:[v&&f.jsx(Iue,{}),f.jsx(kue,{errors:y,fields:c,touched:b,currentValues:I,initialValues:u,disableEditingMultipleFieldsWithVerification:!0})]}),o.buttonsAsFooter?f.jsx(Wde,{children:g(k,_,R)}):g(k,_,R)]})})},aJe=e=>e.replace(/([a-z])([A-Z])/g,"$1 $2"),lJe=(e,t)=>{const{appName:n,user:r}=$e(),i=n?`${n} `:"";if(e.submitText||(e.submitText="Update"),t.length!==1)return e.title||(e.title="Update your info"),e.subtitle||(e.subtitle=`Fill out your info for your ${i}account`),e;const[o]=t,s=aJe(o).toLowerCase(),a=r!=null&&r[o]?"Update":"Enter";return e.title||(e.title=`${a} your ${s}`),e.subtitle||(e.subtitle=`Add your ${s} to your ${i}account`),e};var bJ,cJe=["title","titleId"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$N.apply(null,arguments)}function dJe(e,t){if(e==null)return{};var n,r,i=uJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var fJe=function(t){var n=t.title,r=t.titleId,i=dJe(t,cJe);return x.createElement("svg",$N({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,bJ||(bJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 4 14.928 1 1 0 1 1 1 1.732A9.96 9.96 0 0 1 11.942 22C6.446 21.968 2 17.503 2 12 2 6.477 6.477 2 12 2s10 4.477 10 10v1.5a3.5 3.5 0 0 1-6.396 1.966A5 5 0 1 1 17 12v1.5a1.5 1.5 0 0 0 3 0V12a8 8 0 0 0-8-8Zm3 8a3 3 0 1 0-6 0 3 3 0 0 0 6 0Z",fill:"currentColor"})))},_J,hJe=["title","titleId"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LN.apply(null,arguments)}function pJe(e,t){if(e==null)return{};var n,r,i=mJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var gJe=function(t){var n=t.title,r=t.titleId,i=pJe(t,hJe);return x.createElement("svg",LN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,_J||(_J=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Z",fill:"currentColor"})))},xJ,yJe=["title","titleId"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN.apply(null,arguments)}function vJe(e,t){if(e==null)return{};var n,r,i=wJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var bJe=function(t){var n=t.title,r=t.titleId,i=vJe(t,yJe);return x.createElement("svg",UN({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,xJ||(xJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6 8.067a9.333 9.333 0 0 0-13.2 13.2l5.658 5.657c.52.52 1.363.52 1.884 0l5.658-5.658a9.333 9.333 0 0 0 0-13.199ZM7.515 6.181c4.686-4.686 12.284-4.686 16.97 0 4.687 4.687 4.687 12.285 0 16.97l-4.67 4.67c-.041.042.019-.018-.023.024l-.964.964a3.998 3.998 0 0 1-5.655 0l-5.658-5.657c-4.687-4.686-4.687-12.284 0-16.97ZM16 12a2.667 2.667 0 1 0 0 5.333A2.667 2.667 0 0 0 16 12Zm-5.333 2.667a5.333 5.333 0 1 1 10.666 0 5.333 5.333 0 0 1-10.666 0Z",fill:"currentColor"})))},kJ,_Je=["title","titleId"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FN.apply(null,arguments)}function xJe(e,t){if(e==null)return{};var n,r,i=kJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Eue=function(t){var n=t.title,r=t.titleId,i=xJe(t,_Je);return x.createElement("svg",FN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,kJ||(kJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm2 2.869V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9.869l-6.336 4.223a3 3 0 0 1-3.328 0L4 9.87Zm16-2.404-7.445 4.963a1 1 0 0 1-1.11 0L4 7.465V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v.465Z",fill:"currentColor"})))},SJ,SJe=["title","titleId"];function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(null,arguments)}function IJe(e,t){if(e==null)return{};var n,r,i=EJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var CJe=function(t){var n=t.title,r=t.titleId,i=IJe(t,SJe);return x.createElement("svg",WN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,SJ||(SJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 5a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V5Zm3-1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H8Zm3 14a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"currentColor"})))},IJ,AJe=["title","titleId"];function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(null,arguments)}function RJe(e,t){if(e==null)return{};var n,r,i=TJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var OJe=function(t){var n=t.title,r=t.titleId,i=RJe(t,AJe);return x.createElement("svg",qN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,IJ||(IJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h4a3 3 0 0 1 3 2.93 3 3 0 0 1 4.192.05l2.829 2.828A3 3 0 0 1 19.069 12 3 3 0 0 1 22 15v4a3 3 0 0 1-3 3H7a5 5 0 0 1-5-5V5Zm9.071 15H19a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-1.929l-6 6Zm4.878-7.707h.001l1.657-1.657a1 1 0 0 0 0-1.414l-2.829-2.829a1 1 0 0 0-1.414 0L12 7.757v8.486l3.95-3.95ZM9.123 19.12A2.99 2.99 0 0 0 10 17V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a3 3 0 0 0 5.123 2.12ZM6 17a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Z",fill:"currentColor"})))},EJ,NJe=["title","titleId"];function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zN.apply(null,arguments)}function PJe(e,t){if(e==null)return{};var n,r,i=BJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var CJ=function(t){var n=t.title,r=t.titleId,i=PJe(t,NJe);return x.createElement("svg",zN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,EJ||(EJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 5a3 3 0 1 1 6 0h4a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h4Zm.17 2H5a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-4.17a3.001 3.001 0 0 1-5.66 0ZM12 4a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V5a1 1 0 0 0-1-1Zm-3 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm2.4 2.8a3 3 0 1 0-4.8 0 4.01 4.01 0 0 0-1.372 1.867 1 1 0 1 0 1.885.666 2.001 2.001 0 0 1 3.773 0 1 1 0 1 0 1.886-.666A4.01 4.01 0 0 0 11.4 13.8ZM14 11a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z",fill:"currentColor"})))},AJ,DJe=["title","titleId"];function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VN.apply(null,arguments)}function MJe(e,t){if(e==null)return{};var n,r,i=jJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var $Je=function(t){var n=t.title,r=t.titleId,i=MJe(t,DJe);return x.createElement("svg",VN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,AJ||(AJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 0 0-6.598 12.526A14.943 14.943 0 0 1 12 15c2.366 0 4.606.548 6.598 1.526A8 8 0 0 0 12 4Zm7.654 14.436A9.96 9.96 0 0 0 22 12c0-5.523-4.477-10-10-10S2 6.477 2 12a9.96 9.96 0 0 0 2.37 6.464A9.978 9.978 0 0 0 12 22a9.978 9.978 0 0 0 7.654-3.564ZM17.2 18.08A12.954 12.954 0 0 0 12 17c-1.85 0-3.607.386-5.199 1.08A7.968 7.968 0 0 0 12 20c1.985 0 3.8-.723 5.199-1.92ZM12 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"currentColor"})))},RJ,LJe=["title","titleId"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(null,arguments)}function UJe(e,t){if(e==null)return{};var n,r,i=FJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var WJe=function(t){var n=t.title,r=t.titleId,i=UJe(t,LJe);return x.createElement("svg",KN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,RJ||(RJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h2V4ZM5 7a1 1 0 0 0-1 1v4.57A22.95 22.95 0 0 0 12 14c2.815 0 5.51-.505 8-1.43V8a1 1 0 0 0-1-1H5Zm10-2H9V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1Zm5 9.692A24.971 24.971 0 0 1 12 16c-2.796 0-5.487-.46-8-1.308V18a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3.308ZM11 12a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"currentColor"})))};const qJe={alias:$Je,country:bJe,email:Eue,firstName:CJ,jobTitle:WJe,lastName:CJ,phoneNumber:CJe,tShirtSize:OJe,username:fJe},zJe=({fields:e,className:t})=>{const n=e.length===1?qJe[e[0]]:void 0;return n?f.jsx(n,{className:t}):f.jsx(gJe,{className:t})},VJe=({onClickClose:e,onSubmit:t,fields:n,submitText:r,subtitle:i,title:o})=>{({submitText:r,subtitle:i,title:o}=lJe({submitText:r,subtitle:i,title:o},n));const s=e&&f.jsx(Sn,{type:"button",onClick:e,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{alignContent:"bottom",trailing:s,children:f.jsxs("div",{className:"user-field-editor__header",children:[f.jsx("div",{className:"user-field-editor__header__icon",children:f.jsx(Nt,{color:"brand-primary",size:"large",children:f.jsx(zJe,{fields:n})})}),o&&f.jsx(se,{variant:"title",color:"primary",children:o})]})}),f.jsxs("div",{className:"user-field-editor__body",children:[i&&f.jsx(se,{className:"user-field-editor__body__subtitle",variant:"body_normal",color:"secondary",children:i}),f.jsx(sJe,{filterFields:n,onEditProfileSubmit:t,formClassName:"user-field-editor__body__form",fieldsContainerStyle:{padding:0},options:{buttonsAsFooter:!1,hideCancelButton:!0,submitButtonProps:{buttonPadding:"large",startSlot:void 0,typographyProps:{variant:"button_primary"}},submitText:r}})]}),f.jsx(Gc,{asFooter:!0})]})},KJe=e=>{var{onCancel:t,onSubmit:n,fields:r}=e,i=bs(e,["onCancel","onSubmit","fields"]);const[o,s]=x.useState(!0),a=x.useRef(!1),l=x.useCallback(()=>{a.current||t("User cancelled"),a.current=!0},[t]),c=u=>de(void 0,void 0,void 0,function*(){return n(u).then(()=>{a.current=!0,s(!1)})}),d=()=>s(!1);return f.jsx(uv,{handleClose:d,isShown:o,zIndex:nv,withBackdrop:!0,elementId:"dynamic-edit-user-field",transitionEvents:{onUnmount:l},children:f.jsx(dv,{children:f.jsx(Cm,{children:f.jsx(VJe,Object.assign({onSubmit:c,onClickClose:d,fields:r},i))})})})},HJe=({children:e,shadowDOMProps:t})=>f.jsx(R_,Object.assign({},t,{children:f.jsx(xM,{children:e})})),Cue=x.createContext(void 0),GJe=({children:e})=>{const{modal:t,open:n}=Up({elementId:"dynamic-edit-user-field"}),r=x.useCallback((o,s)=>de(void 0,void 0,void 0,function*(){return n((a,l)=>{const c=d=>s(d).then(u=>a({fields:d,updateUserResult:u}));return f.jsx(HJe,{children:f.jsx(KJe,{fields:o.fields,submitText:o.submitText,title:o.title,subtitle:o.subtitle,onCancel:l,onSubmit:c})})})}),[n]),i=x.useMemo(()=>({open:r}),[r]);return f.jsxs(Cue.Provider,{value:i,children:[t,e]})},JJe=({children:e,className:t,style:n,view:r})=>f.jsx("div",{className:Ke(t,"vertical-accordion__container"),style:n,"data-dynamic-view":r,children:e}),ZJe=(e,t,n)=>(e==null?void 0:e.verifiedCredentials)!==void 0&&t==="multi-wallet-wallet-list"&&!n,_j=({view:e})=>{const{t}=Xe(),{isTurnkeyWalletWithoutAuthenticator:n}=da(),{selectedWalletConnector:r}=$e(),i=Qu(),o=x.useMemo(()=>({"login-with-email-or-wallet-full-wallet-list":{copykey:"dyn_login.helper.all_wallet_list",heading:t("dyn_login.helper.all_wallet_list")},"login-with-wallet-only":{copykey:"dyn_login.helper.wallet_only",heading:t("dyn_login.helper.wallet_only")},"passkey-intro":{copykey:"dyn_passkey_intro.helper.title",heading:t("dyn_passkey_intro.helper.title")},"pending-connect":{copykey:"dyn_login.helper.pending_connect.title",heading:t("dyn_login.helper.pending_connect.title")},"pending-signature":{copykey:"dyn_login.helper.pending_signature.title",heading:t("dyn_login.helper.pending_signature.title")},"pending-signature-without-back-button":{copykey:"dyn_login.helper.pending_signature_without_back_button.title",heading:t("dyn_login.helper.pending_signature_without_back_button.title")},"qr-code":{copykey:"dyn_login.helper.qr_code.title",heading:t("dyn_login.helper.qr_code.title")},"wallet-connect-mobile-wallets-list":{copykey:"dyn_wallet_conect.mobile.wallet_list.helper",heading:t("dyn_wallet_conect.mobile.wallet_list.helper")},"wallet-list":{copykey:"dyn_wallet_list.helper",heading:t("dyn_wallet_list.helper")}}),[t]),s=x.useMemo(()=>{var u;return{"account-exists":{copykey:"dyn_account_exists.title",heading:t("dyn_account_exists.title")},"backup-unsuccessful":{copykey:"dyn_waas.backup_unsuccessful.title",heading:t("dyn_waas.backup_unsuccessful.title")},"chainalysis-blocked-wallet":{copykey:"dyn_chainalysis_blocked_wallet.title",heading:t("dyn_chainalysis_blocked_wallet.title")},"confirm-exchange-transfer":{copykey:"dyn_exchange_transfer_confirmation.title",heading:t("dyn_exchange_transfer_confirmation.title")},"deposit-view":{copykey:"dyn_deposit.title",heading:t("dyn_deposit.title")},"duplicate-wallet":{copykey:"dyn_duplicate_wallet.title",heading:t("dyn_duplicate_wallet.title")},"embedded-delete-view":{copykey:"dyn_embedded_delete.title",heading:t("dyn_embedded_delete.title")},"embedded-wallet-exists":{copykey:"dyn_wallet_link.already_exists.title",heading:t("dyn_wallet_link.already_exists.title")},"external-funding-exchange-list":{copykey:"dyn_wallet_funding.from_exchange.title",heading:t("dyn_wallet_funding.from_exchange.title")},"external-funding-wallet-list":{copykey:"dyn_wallet_funding.from_external_wallet.title",heading:t("dyn_wallet_funding.from_external_wallet.title")},"farcaster-connect-view":{copykey:"dyn_login.qr_code.title",heading:t("dyn_login.qr_code.title")},"login-with-email-or-wallet":{copykey:"dyn_login.title.all",heading:t("dyn_login.title.all")},"login-with-email-or-wallet-full-wallet-list":{copykey:"dyn_login.title.all_wallet_list",heading:t("dyn_login.title.all_wallet_list")},"login-with-email-verification":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"login-with-sms-verification":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"login-with-wallet-only":{copykey:"dyn_login.title.wallet_only",heading:t("dyn_login.title.wallet_only")},"merge-user-accounts":{copykey:"dyn_merge_user_accounts.wallet.title",heading:t("dyn_merge_user_accounts.wallet.title")},"merge-user-accounts-conflicts":{copykey:"dyn_merge_user_accounts_conflicts.title",heading:t("dyn_merge_user_accounts_conflicts.title")},"mfa-choose-device":{copykey:"dyn_mfa.choose_device_view.title",heading:t("dyn_mfa.choose_device_view.title")},"mfa-display-backup-codes":{copykey:"dyn_mfa.display_backup_codes_view.title",heading:t("dyn_mfa.display_backup_codes_view.title")},"mfa-recovery":{copykey:"dyn_mfa.recovery_view.title",heading:t("dyn_mfa.recovery_view.title")},"mfa-secure-device":{copykey:"dyn_mfa.secure_device_view.title",heading:t("dyn_mfa.secure_device_view.title")},"mfa-secure-device-help":{copykey:"dyn_mfa.secure_device_view.helper.title",heading:t("dyn_mfa.secure_device_view.helper.title")},"mfa-verification":{copykey:"dyn_mfa.otp_verification_view.title",heading:t("dyn_mfa.otp_verification_view.title")},"mobile-wallet-redirect-view":{copykey:"dyn_login.mobile_wallet_redirect.backup_title",heading:(u=r==null?void 0:r.name)!==null&&u!==void 0?u:t("dyn_login.mobile_wallet_redirect.backup_title")},"multi-wallet-wallet-list":{copykey:i==="connect-only"?"dyn_wallet_list.title.connect":"dyn_wallet_list.title.link",heading:t(i==="connect-only"?"dyn_wallet_list.title.connect":"dyn_wallet_list.title.link")},"network-not-supported":{copykey:"dyn_network_not_supported.title",heading:t("dyn_network_not_supported.title")},"passkey-recovery-complete":{copykey:n?"dyn_passkey_secure_modal.complete.title":"dyn_passkey_recovery.complete.title",heading:t(n?"dyn_passkey_secure_modal.complete.title":"dyn_passkey_recovery.complete.title")},"passkey-recovery-start":{copykey:n?"dyn_passkey_secure_modal.start.title":"dyn_passkey_recovery.start.title",heading:t(n?"dyn_passkey_secure_modal.start.title":"dyn_passkey_recovery.start.title")},"pending-connect":{copykey:"dyn_login.connect_wallet.title",heading:t("dyn_login.connect_wallet.title")},"pending-signature":{copykey:"dyn_login.sign_wallet.title",heading:t("dyn_login.sign_wallet.title")},"qr-code":{copykey:"dyn_login.qr_code.title",heading:t("dyn_login.qr_code.title")},"select-hardware-wallet":{copykey:"dyn_select_hardware_wallet.title",heading:t("dyn_select_hardware_wallet.title")},"select-wallet-in-wallet-group":{copykey:"dyn_login.select_wallet_in_wallet_group.title",heading:t("dyn_login.select_wallet_in_wallet_group.title")},"unified-wallet-exchange-list":{copykey:"dyn_unified_list.title",heading:t("dyn_unified_list.title")},"user-delete-account":{copykey:"dyn_settings.delete_account.title",heading:t("dyn_settings.delete_account.title")},"verify-email":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"verify-sms":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"wallet-connect-mobile-wallets-list":{copykey:"dyn_wallet_conect.mobile.wallet_list.title",heading:f.jsxs(f.Fragment,{children:[f.jsx(fRe,{style:{height:"1.5rem",width:"1.5rem"}})," ",t("dyn_wallet_conect.mobile.wallet_list.title")]})},"wallet-group":{copykey:"dyn_login.wallet_group.title",heading:t("dyn_login.wallet_group.title")},"wallet-list":{copykey:"dyn_wallet_list.title.select",heading:t("dyn_wallet_list.title.select")},"wallet-sign":{copykey:"dyn_wallet_transfer.sign.title",heading:t("dyn_wallet_transfer.sign.title")},"wallet-used":{copykey:"dyn_wallet_link.title",heading:t("dyn_wallet_link.title")}}},[n,r==null?void 0:r.name,t]),a=x.useMemo(()=>({}),[]);if(e==="no-access")return{headerData:{copykey:"dyn_no_access.title",heading:t("dyn_no_access.title")}};if(e==="access-blocked")return{headerData:{copykey:"dyn_access_blocked.title",heading:t("dyn_access_blocked.title")}};const l=o[e],c=s[e];return{descriptionData:a[e],headerData:c,helpHeaderData:l}},og=()=>{var e;const{view:t}=At(),{customPrivacyPolicy:n,customTermsOfServices:r,privacyPolicyUrl:i,termsOfServiceUrl:o,isBridgeFlow:s}=$e(),{isFooterExpanded:a}=I3(),{mockedSDK:l}=kj(),{helpHeaderData:c}=_j({view:t.type}),d=x3(),u=vo(),h=ZJe(d,t.type,l),m=!DKe.includes(t.type)||a,v=MKe.includes(t.type),g=!!(c&&!jKe.includes(t.type)&&!h),y=!$Ke.includes(t.type),b=s&&LKe.includes(t.type),k=!!(!h&&(t.type==="wallet-list"||t.type==="wallet-connect-mobile-wallets-list"||(t.type==="login-with-email-or-wallet"||t.type==="login-with-email-or-wallet-full-wallet-list"||t.type==="login-with-wallet-only"||t.type==="multi-wallet-wallet-list")&&(o||i||n||r))),_=!!(!((e=u==null?void 0:u.sdk)===null||e===void 0)&&e.displayDynamicMessaging)&&UKe.includes(t.type),R=!b&&!_&&!k,I=_&&k,{allowsClosing:T,showCloseButton:M}=eue();return{allowsClosing:T,displayBorderBelowHeader:m,isWalletListTypeView:v,shouldHideDynamicFooterSeparator:I,showCloseButton:M,showConnectedWalletProgress:b,showDefaultFooter:R,showDynamicFooter:_,showHeader:y,showHelpContent:g,showToSFooter:k}},Aue=()=>{const{shouldHideDynamicFooterSeparator:e}=og();return f.jsx("div",{"data-testid":"dynamic-footer",className:Ke("dynamic-footer",{"dynamic-footer__top-border":!e}),children:f.jsx(Gc,{})})};var TJ,OJ,YJe=["title","titleId"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(null,arguments)}function XJe(e,t){if(e==null)return{};var n,r,i=QJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var pv=function(t){var n=t.title,r=t.titleId,i=XJe(t,YJe);return x.createElement("svg",HN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,TJ||(TJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.25a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM1.667 10a8.333 8.333 0 1 1 16.666 0 8.333 8.333 0 0 1-16.666 0Z",fill:"currentcolor"})),OJ||(OJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.31 7.044a1.784 1.784 0 0 0-1.133.192 1.513 1.513 0 0 0-.699.783.792.792 0 0 1-1.481-.559c.26-.689.768-1.257 1.42-1.613a3.368 3.368 0 0 1 2.144-.367 3.262 3.262 0 0 1 1.908 1.023c.496.55.775 1.254.774 1.99 0 1.201-.948 1.972-1.587 2.369a6.63 6.63 0 0 1-1.354.635l-.028.01-.008.002h-.003l-.002.001-.235-.756.235.756A.792.792 0 0 1 9.789 10h.001m0 0 .014-.005.06-.021a5.054 5.054 0 0 0 .956-.456c.575-.357.84-.717.84-1.024 0-.332-.125-.66-.367-.928a1.68 1.68 0 0 0-.982-.521M9.265 13.77c0-.438.355-.792.792-.792h.01a.792.792 0 1 1 0 1.584h-.01a.792.792 0 0 1-.792-.792Z",fill:"currentcolor"})))};const eZe=({onClose:e,heading:t,projectSettings:n,copykey:r,description:i,descriptionCopykey:o})=>{const{setError:s}=so(),{isFooterExpanded:a,setIsFooterExpanded:l}=I3(),{view:c,canGoBack:d,goBack:u}=At(),{showCloseButton:h,showHelpContent:m,isWalletListTypeView:v,displayBorderBelowHeader:g}=og(),{setExistentAccountData:y}=u_(),b=x.useCallback(()=>{var I,T;(T=(I=c.events)===null||I===void 0?void 0:I.onBackClick)===null||T===void 0||T.call(I),u(),y(void 0),s(void 0)},[c.events,u,y,s]),k=h&&e&&f.jsx(Sn,{onClick:e,type:"button",id:"close-button","data-testid":"close-button",className:"layout-header__icon",children:f.jsx(Oi,{})}),_=m&&f.jsx(C_,{content:"Need some help?",className:"layout-header__tooltip",children:f.jsx(Sn,{type:"button",onClick:()=>l(!a),"data-testid":"info-button",className:"layout-header__icon",children:v?f.jsx(pv,{}):f.jsx(Nze,{})})},"info-button"),R=[];return d&&R.push(f.jsx(Sn,{type:"button",onClick:b,"data-testid":"back-button",className:"layout-header__icon",children:f.jsx(Xh,{})},"back-button")),k&&_&&R.push(_),f.jsx("div",{className:"layout-header",children:f.jsx(Zn,{leading:R,trailing:k||_,displayBorder:g,alignContent:"bottom",description:i&&f.jsx(se,{as:"p",variant:"body_mini",color:"secondary",copykey:o,className:"layout-header__description",children:i}),children:(!n||t)&&f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"layout-header__typography",copykey:r,children:n?t:f.jsx(Vo,{className:"layout-header__skeleton"})})})})},tZe=()=>f.jsx("div",{"data-testid":"empty-help-content"});var NJ,nZe=["title","titleId"];function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(null,arguments)}function rZe(e,t){if(e==null)return{};var n,r,i=iZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var PJ=function(t){var n=t.title,r=t.titleId,i=rZe(t,nZe);return x.createElement("svg",GN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,NJ||(NJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.995 4.167c3.965 0 6.643 2.655 7.937 4.675a2.14 2.14 0 0 1 0 2.316c-1.294 2.02-3.972 4.675-7.937 4.675-3.965 0-6.643-2.655-7.937-4.675a2.14 2.14 0 0 1 0-2.316c1.294-2.02 3.972-4.675 7.937-4.675ZM14.16 10a4.167 4.167 0 1 1-8.333 0 4.167 4.167 0 0 1 8.333 0Zm-4.12 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",fill:"currentColor"})))},BJ,oZe=["title","titleId"];function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JN.apply(null,arguments)}function sZe(e,t){if(e==null)return{};var n,r,i=aZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var k4=function(t){var n=t.title,r=t.titleId,i=sZe(t,oZe);return x.createElement("svg",JN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,BJ||(BJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.667 18.333a2 2 0 0 0 2-2V3.667a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v12.666a2 2 0 0 0 2 2h6ZM9 8.333a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H4.333a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1H9ZM17.5 5.833c.46 0 .833.373.833.834v7.5H17.5h.833V14.186a1.201 1.201 0 0 1-.005.113 2.881 2.881 0 0 1-.29 1.075c-.155.307-.398.64-.779.893-.386.258-.863.4-1.426.4-.562 0-1.04-.142-1.425-.4a2.295 2.295 0 0 1-.778-.893 2.878 2.878 0 0 1-.296-1.16v-.045l.833-.001h-.834V9.185l-.001-.011a.2.2 0 0 0-.015-.051v-.001s.005.008.016.02V7.5c.354 0 .675.091.944.27.264.176.43.404.53.607A1.856 1.856 0 0 1 15 9.13v.035c0 .001 0 .002-.832.002H15v4.992l.001.02a1.228 1.228 0 0 0 .12.448c.054.11.123.194.211.253.083.055.23.12.501.12s.419-.065.502-.12a.633.633 0 0 0 .211-.253 1.218 1.218 0 0 0 .12-.468V6.667c0-.46.374-.834.834-.834ZM13.378 9.17h.002-.002Z",fill:"currentColor"})))},DJ,lZe=["title","titleId"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(null,arguments)}function cZe(e,t){if(e==null)return{};var n,r,i=dZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Rue=function(t){var n=t.title,r=t.titleId,i=cZe(t,lZe);return x.createElement("svg",ZN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,DJ||(DJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.125 6.875a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-2.5 0a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Zm-7.809 3.243a6.258 6.258 0 0 0 1.671 1.865L7.13 14.34l1.752 1.753-1.768 1.767-1.752-1.752-1.718 1.718-1.768-1.767 5.941-5.942Z",fill:"currentColor"})))};const Tue=e=>e!=null&&Bh(e)&&e.isHardwareWalletEnabled,G3=({children:e,className:t="",delay:n=0,dataTestId:r})=>{const i=x.useMemo(()=>({animationDelay:n}),[n]);return f.jsx("div",{"data-testid":r,className:Ke(t,"enter-list-tile-animation"),style:i,children:e})},uZe=({title:e,content:t,Icon:n,className:r="",iconClassName:i="",textClassName:o=""})=>f.jsxs("div",{className:Ke("info-item__container",r),children:[f.jsx("div",{className:Ke("info-item__icon-container",i,{"icon-container--has-content":!!t}),children:f.jsx(n,{})}),f.jsxs("div",{children:[f.jsx(se,{as:"h2",className:o,variant:"body_normal",color:"primary",weight:"medium",children:e}),t&&f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",className:"info-item__secondary-text",children:t})]})]}),MJ=({variant:e,wallet:t})=>{const n={info:[{content:"Signing proves you have access to your wallet. Its a bit like verifying your email by clicking an email confirmation link in your inbox during signup. This does not approve a transaction.",icon:Rue,title:"Confirms you own your wallet"},{icon:k4,title:"There are no associated gas costs"}]},r=Tue(t)?{info:[{content:"By connecting a wallet to a website, you are allowing the site to read the contents of your wallet. This does not approve a transaction.",icon:PJ,title:"Allows read access"},{content:f.jsxs("div",{className:"footer-more-info-content__item--phantom-ledger",children:[f.jsx(se,{as:"p",variant:"body_small",weight:"regular",children:"Ledger does not support message signing functionality, commonly used to log in to sites. Instead, we sign a transaction as a proxy to prove ownership of the wallet."}),f.jsxs(se,{as:"p",variant:"body_small",weight:"regular",children:[f.jsx("strong",{children:"Important"}),": we do not"," ",f.jsx("strong",{children:"broadcast"})," this transaction, meaning Ledger based login will still be gasless."]}),f.jsx(se,{as:"p",variant:"body_small",weight:"regular",children:"Phantom in turn shows that a fee may apply as part of the transaction."}),f.jsx(se,{as:"p",variant:"body_small",weight:"regular",children:"As always, please be cautious of the extensions and websites you use to prevent unwanted transactions from being broadcasted to the network."})]}),icon:k4,title:"Why do I see a fee when using ledger"}]}:n,i={connect:{info:[{content:"By connecting a wallet to a website, you are allowing the site to read the contents of your wallet. This does not approve a transaction.",icon:PJ,title:"Allows read access"},{icon:k4,title:"There are no associated gas costs"}]},sign:r};return f.jsx("div",{className:"footer-more-info-content__wrapper",children:i[e].info.map((o,s)=>f.jsx("div",{className:"footer-more-info-content__item",children:f.jsx(G3,{delay:`${.3+s*.2}s`,children:f.jsx(uZe,{Icon:o.icon,title:o.title,content:o.content})})},s))})};var jJ,fZe=["title","titleId"];function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YN.apply(null,arguments)}function hZe(e,t){if(e==null)return{};var n,r,i=pZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var mZe=function(t){var n=t.title,r=t.titleId,i=hZe(t,fZe);return x.createElement("svg",YN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,jJ||(jJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.044 20.998a.693.693 0 0 0 .7-.68V16.59c.239-2.01 1.121-1.413 2.16-.791 2.51 1.502 4.177-2.45 2.148-3.67-1.592-.956-2.281.689-3.448.52-.45-.067-.763-.54-.862-1.261V8.693a.692.692 0 0 0-.7-.68h-3.21c-2.65-.327-.297-1.755-.297-3.083.001-1.066-.99-1.93-2.214-1.93-1.222 0-2.344.864-2.344 1.93 0 1.253 2.435 2.756-.253 3.083H3.7a.692.692 0 0 0-.699.68v2.688c.205 1.146 1.001 1.411 2.021.655.344-.256.924-.554 1.344-.554 1.094 0 1.982.965 1.982 2.154 0 1.19-.887 2.416-1.982 2.416-.39 0-.755-.123-1.063-.338 0 .091-1.913-1.674-2.302.486v4.121c0 .375.315.68.699.68L10.16 21c.085-.393-.191-.844-.45-1.234-2.04-3.075 5.895-3.382 3.855.095-.1.172-.2.338-.277.5-.098.202-.162.45-.149.639l2.905-.002Z",fill:"currentColor"})))};const Oue=e=>{const t=G1()||ZI(),n=kze()||"chrome";let r;switch(n){case"edge":r=e.edge;break;case"firefox":r=e.firefox;break;case"chrome":default:r=e.chrome;break}const i=!t&&!!e.android,o=(t||!rr())&&!!e.ios;return{canShowAndroidAppButton:i,canShowIosAppButton:o,currentDesktopUrl:r,hasMobileAppUrl:i||o,userBrowser:n}},Nue=()=>ot.getItem(Xu),gZe=(e,t)=>{const n=t==null?void 0:t.find(s=>e.groupedWallets.some(a=>s.walletKey===a.walletConnector.key));if(n)return{isRecommended:!0,label:n.label||"Recommended"};const r=Nue();if(e.groupedWallets.some(s=>s.walletConnector.key===r))return{label:"Last used"};if(e.groupedWallets.some(s=>s.isInstalledOnBrowser))return{label:"Installed"};if(Yce(e)==="multi-chain")return{label:"Multichain"}},yZe=(e,t)=>{const n=Nue(),{key:r}=e.walletConnector,i=t==null?void 0:t.find(s=>s.walletKey===r);if(i)return{isRecommended:!0,label:i.label||"Recommended"};if(r===n)return{label:"Last used"};if(e.isInstalledOnBrowser)return{label:"Installed"}},xj=({wallet:e,recommendedWallets:t})=>$3(e)?gZe(e,t):yZe(e,t),T_=({hoverElement:e,children:t})=>f.jsx("div",{children:f.jsxs("div",{className:"list-tile-animated-trailing",children:[f.jsx("div",{className:"list-tile-animated-trailing__child",children:t}),f.jsx("div",{className:"list-tile-animated-trailing__hover-element",children:e})]})}),ip=({children:e,onClick:t,leading:n,disabled:r=!1,trailing:i,style:o,className:s="",dataTestId:a,copykey:l})=>f.jsxs("button",{"data-testid":a,type:"button",className:Ke(s,"list-tile"),onClick:t,style:o,disabled:r,children:[n,f.jsx("div",{className:"list-tile__children",children:f.jsx(se,{weight:"medium",variant:"body_normal",color:"primary",as:"span",copykey:l,children:e})}),i]}),vZe=({leading:e,name:t,onClick:n,trailing:r})=>f.jsx(ip,{leading:e,trailing:r,onClick:n,className:"wallet-list-item__tile",dataTestId:"ListTile",children:t}),J3=({disabled:e=!1,wallet:t,onResetSearchValue:n,recommendedWallets:r,tile:i=vZe,onSelectWallet:o,trailingProp:s=void 0})=>{var a,l,c,d,u;const{navigateToWalletGroup:h}=H3(),{pushView:m}=At(),v=$3(t),g=Jm(),y=xj({recommendedWallets:r,wallet:t}),b=i,k=()=>de(void 0,void 0,void 0,function*(){if(!e){if(n==null||n(""),v)return h(t,{onSelectWallet:o});if(Bh(t.walletConnector)&&t.walletConnector.canConnectWithHardwareWallet()){m("select-hardware-wallet",{onSelectWallet:o,wallet:t});return}o(t)}}),_=v?(a=g[t.key])===null||a===void 0?void 0:a.name:t.walletConnector.metadata.name,R=(c=(l=t.walletConnector)===null||l===void 0?void 0:l.metadata.icon)!==null&&c!==void 0?c:(u=(d=g[t.key])===null||d===void 0?void 0:d.brand)===null||u===void 0?void 0:u.icon,I=f.jsx(oi,{className:"wallet-list-item__leading",icon:R,walletKey:t.key,style:{height:Ut(28),width:Ut(28)},isGroup:v}),T=s??f.jsx(T_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Ku,{})}),children:y&&f.jsx(rf,{dot:!y.isRecommended,variant:y.isRecommended?"primary":"secondary",text:f.jsx(se,{variant:"body_small",children:y.label})})});return f.jsx(b,{leading:I,trailing:T,name:_,onClick:k})},XN=({children:e,style:t,wallet:n})=>{const{handleWalletItemClick:r}=rp();return f.jsx(J3,{wallet:n,onSelectWallet:r,tile:e?({onClick:i})=>f.jsx("button",{className:"new-to-web3--button",style:t,onClick:i,children:e}):void 0})},wZe=({heading:e,StartIcon:t,EndIcon:n,message:r,url:i})=>f.jsxs("a",{className:"footer-buttons-item",href:i,rel:"noopener noreferrer",target:"_blank",children:[f.jsx("div",{className:"footer-buttons-item__icon--left",children:f.jsx(t,{})}),f.jsxs("div",{className:"footer-buttons-item__typography",children:[f.jsx(se,{as:"h2",weight:"regular",color:"primary",variant:"body_normal",children:e}),r&&f.jsx(se,{as:"p",weight:"regular",color:"secondary",children:r})]}),n&&f.jsx(n,{style:{height:"1.5rem",width:"1.5rem"}})]}),bZe=({wallet:e,selectedUrl:t})=>{const n=!!t.length&&!(e!=null&&e.isInstalledOnBrowser),r=()=>{e!=null&&e.key&&(ot.setItem(RO,e.key),window.location.reload())};return f.jsxs("div",{className:"new-to-web3-buttons__container",children:[!rr()&&f.jsxs(f.Fragment,{children:[(e==null?void 0:e.isInstalledOnBrowser)&&f.jsx(XN,{wallet:e,children:f.jsx(se,{as:"p","data-testid":"desktop-interactive-wallet-item",variant:"body_normal",weight:"bold",children:"Continue"})}),n&&f.jsx("button",{onClick:r,children:f.jsx(se,{as:"p","data-testid":"refresh-once-installed-button",variant:"body_normal",weight:"bold",children:"Continue once installed"})})]}),e&&rr()&&f.jsx(XN,{wallet:e,children:f.jsx("p",{"data-testid":"mobile-interactive-wallet-item",children:"Continue once installed"})})]})},_Ze=({chains:e,newToWeb3WalletChainMap:t})=>{var n;const{walletConnectorOptions:r}=$e(),{walletBook:i}=TD(),[o,s]=x.useState(""),a=((n=e==null?void 0:e.filter(b=>!!b.enabled).find(b=>b.name===t.primary_chain))===null||n===void 0?void 0:n.name)||"evm",l=Oy(t==null?void 0:t.wallets,a),c=r.find(b=>b.key===l),d=c==null?void 0:c.walletConnector.canConnectViaCustodialService,u=c==null?void 0:c.walletConnector.metadata,h=n_(u==null?void 0:u.downloadLinks),{currentDesktopUrl:m,canShowAndroidAppButton:v,canShowIosAppButton:g}=Oue(h),y=[{content:"Install Desktop extension",icon:mZe,isEnabled:!!(m!=null&&m.length)&&!rr(),url:m},{content:"Install iOS app",icon:ese,isEnabled:g,url:h.ios},{content:"Install Android app",icon:tse,isEnabled:v,url:h.android}];return v0(i)?f.jsx("div",{className:"walletlist-help-content__container",children:f.jsxs(G3,{delay:"300ms",children:[f.jsx("div",{className:"walletlist-help-content__icon",children:f.jsx(oi,{icon:u==null?void 0:u.icon,walletKey:l,style:{height:Ut(56),width:Ut(56)}})}),f.jsxs("div",{className:"walletlist-help-content__typography-wrapper",children:[f.jsxs(se,{as:"p",variant:"title",weight:"medium",children:["We recommend installing ",u==null?void 0:u.name]}),f.jsx(se,{as:"label",variant:"body_normal",weight:"regular",color:"secondary",className:"walletlist-help-content__typography--label",children:"Select your preferred option below:"})]}),f.jsx("div",{className:"walletlist-help-content__buttons-wrapper",children:y.map((b,k)=>b.isEnabled?f.jsx("button",{onClick:()=>s(b.url),children:f.jsx(wZe,{StartIcon:b.icon,heading:b.content,url:b.url})},k):void 0)}),d&&f.jsxs("div",{className:"walletlist-help-content__custodial-wallet-area",children:[f.jsx(se,{className:"walletlist-help-content__custodial-wallet-area--title",as:"p",color:"secondary",variant:"body_normal",weight:"regular",children:"If you don't want to install a wallet, then use:"}),f.jsx(XN,{wallet:c})]}),f.jsx(bZe,{selectedUrl:o,wallet:c})]})}):f.jsx(Vo,{className:"walletlist-footer-content__container"})};var $J,xZe=["title","titleId"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QN.apply(null,arguments)}function kZe(e,t){if(e==null)return{};var n,r,i=SZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Hd=function(t){var n=t.title,r=t.titleId,i=kZe(t,xZe);return x.createElement("svg",QN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,$J||($J=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.09 3.577a.833.833 0 0 1 0 1.179L7.844 10l5.244 5.244a.833.833 0 0 1-1.178 1.179l-5.834-5.834a.833.833 0 0 1 0-1.178l5.834-5.834a.833.833 0 0 1 1.178 0Z",fill:"currentcolor"})))};const IZe=()=>{const{setIsFooterExpanded:e}=I3(),{view:t}=At(),{helpHeaderData:n}=_j({view:t.type}),{displayBorderBelowHeader:r}=og(),i=f.jsx(Sn,{type:"button",onClick:()=>e(!1),"data-testid":"back-button",className:"header__icon",children:f.jsx(Hd,{className:"back-button "})});return f.jsx("div",{className:"help-header",children:f.jsx(Zn,{trailing:i,displayLeading:!1,displayBorder:r,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-help-heading",className:"header__typography",copykey:n==null?void 0:n.copykey,children:n==null?void 0:n.heading})})})};var LJ,EZe=["title","titleId"];function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eP.apply(null,arguments)}function CZe(e,t){if(e==null)return{};var n,r,i=AZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var RZe=function(t){var n=t.title,r=t.titleId,i=CZe(t,EZe);return x.createElement("svg",eP({width:60,height:50,viewBox:"0 0 60 50",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,LJ||(LJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.931 49.48A29.223 29.223 0 0 0 59.333 30C59.333 13.8 46.2.667 30 .667S.667 13.8.667 30A29.224 29.224 0 0 0 8.07 49.483c5.52-6.63 16.005-9.007 22.387-9.007 6.383 0 15.962 1.903 21.473 9.004ZM19 22.667c0-6.076 4.925-11 11-11s11 4.924 11 11c0 6.075-4.925 11-11 11s-11-4.925-11-11Z",fill:"#4779FF"})))};const TZe=()=>{const{t:e}=Xe();return f.jsx("div",{className:"passkey-info-help-content__container",children:f.jsx(G3,{delay:"300ms",children:f.jsxs("div",{className:"passkey-info-help-content__typography-wrapper",children:[f.jsxs("div",{className:"passkey-info-help-content__details",children:[f.jsx(Nt,{size:"medium",color:"text-tertiary",children:f.jsx(RZe,{})}),f.jsxs("div",{className:"passkey-info-help-content__wrapper",children:[f.jsx(se,{variant:"title",weight:"medium",copykey:"dyn_passkey_intro.helper.section_1.title",children:e("dyn_passkey_intro.helper.section_1.title")}),f.jsx(se,{as:"p",variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-info-help-content__typography--label",copykey:"dyn_passkey_intro.helper.section_1.description",children:e("dyn_passkey_intro.helper.section_1.description")})]})]}),f.jsxs("div",{className:"passkey-info-help-content__details",children:[f.jsx(Nt,{size:"medium",color:"text-tertiary",children:f.jsx(Rue,{})}),f.jsxs("div",{className:"passkey-info-help-content__wrapper",children:[f.jsx(se,{variant:"title",weight:"medium",copykey:"dyn_passkey_intro.helper.section_2.title",children:e("dyn_passkey_intro.helper.section_2.title")}),f.jsx(se,{as:"p",variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-info-help-content__typography--label",copykey:"dyn_passkey_intro.helper.section_2.description",children:e("dyn_passkey_intro.helper.section_2.description")})]})]})]})})})},OZe=()=>f.jsxs("div",{children:[f.jsx(IZe,{}),f.jsx(NZe,{})]}),NZe=()=>{const{view:e}=At(),{projectSettings:t,newToWeb3WalletChainMap:n,selectedWalletConnector:r}=$e(),i=x.useMemo(()=>e.type==="wallet-connect-mobile-wallets-list"||e.type==="wallet-list"||e.type==="login-with-email-or-wallet-full-wallet-list"||e.type==="login-with-wallet-only",[e]),o=x.useMemo(()=>e.type==="pending-signature-without-back-button"||e.type==="pending-signature",[e]),s=x.useMemo(()=>e.type==="pending-connect"||e.type==="qr-code",[e]),a=x.useMemo(()=>e.type==="passkey-intro",[e]);return i?f.jsx(_Ze,{chains:t==null?void 0:t.chains,newToWeb3WalletChainMap:n}):o?f.jsx(MJ,{variant:"sign",wallet:r||void 0}):s?f.jsx(MJ,{variant:"connect"}):a?f.jsx(TZe,{}):f.jsx(tZe,{})},PZe=()=>{const{customPrivacyPolicy:e,customTermsOfServices:t,privacyPolicyUrl:n,termsOfServiceUrl:r}=$e(),i=hv()?"connecting":"logging in",o=()=>{if(r)return f.jsx("a",{className:"tos-and-pp__link",href:r,target:"_blank",rel:"noreferrer",children:"Terms of Service"})},s=()=>{if(n)return f.jsxs(f.Fragment,{children:[r&&f.jsx(f.Fragment,{children:"&"}),f.jsx("a",{className:"tos-and-pp__link",href:n,target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]})},a=()=>f.jsx(se,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",id:"custom-tos-and-pp-footer-start","data-testid":"custom-tos-and-pp-footer-start"}),l=()=>f.jsx(se,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",id:"custom-tos-and-pp-footer-end","data-testid":"custom-tos-and-pp-footer-end"});return f.jsxs(f.Fragment,{children:[a(),(n||r)&&f.jsxs(se,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",children:["By ",i,", you agree to",f.jsx("br",{}),"our",o(),s(),"."]}),t,e,l()]})},BZe=()=>f.jsx("div",{className:"tos-and-pp__footer",children:f.jsx(PZe,{})}),DZe=(e,t)=>{const n=e===t[0],r=!t.includes(e);return n?"current":r?"done":"upcoming"},MZe={current:"1",default:"1",done:"0.4",upcoming:"0.15"},Pue=({children:e,className:t,icon:n,state:r="default"})=>{const i=x.useMemo(()=>({opacity:r==="upcoming"?.5:1}),[r]),o=x.useMemo(()=>r==="done"?f.jsx("div",{className:"step__icon step__icon--done",children:f.jsx(Nt,{className:"step__icon__check-mark",children:f.jsx(cc,{style:i})})}):n?f.jsx(Nt,{className:"step__icon",children:f.jsx("div",{style:i,children:n})}):f.jsx("div",{className:"step__index",children:f.jsx(se,{color:"primary",variant:"body_small",style:i,children:f.jsx("span",{className:"step__index-label"})})}),[n,r,i]);return f.jsxs("div",{className:Ke("step",t),children:[o,f.jsx(se,{color:"primary",variant:"body_small",style:{opacity:MZe[r]},children:e})]})},Bue=({children:e})=>f.jsx("div",{className:"stepper",children:x.Children.map(e,(t,n)=>{const r=n===0?void 0:f.jsx(of,{className:"stepper__divider"});return f.jsxs(f.Fragment,{children:[r,t]})})}),Due=()=>{const{bridgeChainsToConnect:e=[],bridgeChains:t=[]}=$e(),n=t.map(({chain:i})=>i),r=[...e].map(({chain:i})=>i);return f.jsx("div",{className:"wallet-progress-stepper","data-testid":"wallet-progress-stepper",children:f.jsx(Bue,{children:n.map((i,o)=>{var s;const a=Uc(i),l=Hc(i);return f.jsx(Pue,{state:DZe(i,r),icon:f.jsx(l,{}),children:(s=a==null?void 0:a.blockchainName)!==null&&s!==void 0?s:a==null?void 0:a.displayName},i)})})})},jZe=({children:e,className:t,style:n,onClose:r,projectSettings:i,hideBridgeProgressSteppers:o})=>{const{view:s}=At(),{isFooterExpanded:a}=I3(),{headerData:l,helpHeaderData:c,descriptionData:d}=_j({view:s.type}),{showConnectedWalletProgress:u,showHeader:h,showHelpContent:m,showToSFooter:v,showDynamicFooter:g}=og();return f.jsx(gqe,{children:f.jsxs(JJe,{style:n,className:t,view:s.type,children:[f.jsxs(FS,{isOpen:!a,dimOnHide:!0,children:[u&&!o&&f.jsx(Due,{}),h&&f.jsx(eZe,{onClose:r,heading:(l==null?void 0:l.heading)||"",projectSettings:i,copykey:l==null?void 0:l.copykey,description:d==null?void 0:d.text,descriptionCopykey:d==null?void 0:d.copykey}),e,v&&f.jsx(BZe,{}),g&&f.jsx(Aue,{})]}),c&&m&&f.jsx(FS,{isOpen:a,children:f.jsx("div",{children:f.jsx(OZe,{})},a.toString())})]})})},$Ze=({children:e})=>{const{projectSettings:t}=$e(),n=x.useRef(null),[r,i]=x.useState(void 0),o=(t==null?void 0:t.environmentName)===dS.Sandbox;return x.useEffect(()=>{var s;const a=(s=n.current)===null||s===void 0?void 0:s.clientHeight;i(a)},[n,i]),o?f.jsxs("div",{style:{position:"relative"},children:[f.jsx("div",{ref:n,style:{background:"var(--dynamic-alert-1)",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",color:"white",left:"calc( var(--dynamic-border-radius) + 8px)",padding:"2px 8px 4px",position:"absolute",top:-(r||0)},"data-testid":"sandbox-indicator",children:Nd((t==null?void 0:t.environmentName)||"")}),e]}):f.jsx(f.Fragment,{children:e})},LZe=({children:e,onClose:t,transitionProps:n,projectSettings:r,className:i})=>{const{showConnectedWalletProgress:o}=og();return f.jsxs(dv,{isShown:!!(n!=null&&n.isShown),children:[o&&f.jsx(Cm,{borderRadius:"small",children:f.jsx(Due,{})}),f.jsx($Ze,{children:f.jsx(Cm,{dataTestId:"dynamic-auth-modal",children:f.jsx(jZe,{className:i,projectSettings:r,onClose:t,hideBridgeProgressSteppers:!0,children:e})})})]})},UZe=x.createContext(void 0),kj=()=>{const e=x.useContext(UZe);return e===void 0?{mockedSDK:!1}:e},Mue=x.createContext(void 0),FZe=({children:e})=>{const[t,n]=x.useState(!1);Un("logout",()=>n(!1)),Un("embeddedWalletCreated",()=>n(!1));const r=x.useMemo(()=>({loading:t,setLoading:n}),[t]);return f.jsx(Mue.Provider,{value:r,children:e})},mv=()=>{const e=x.useContext(Mue);if(e===void 0)throw new Error("usage of useLoadingContext not wrapped in `LoadingContextProvider`.");return e},jue=()=>{const{handlers:e}=$e(),{handleAuthenticatedUser:t}=e??{},n=x.useRef(t);return n.current=t,x.useCallback(r=>de(void 0,void 0,void 0,function*(){n.current&&(yield Fxe(()=>{var i;return(i=n.current)===null||i===void 0?void 0:i.call(n,{user:r})}))}),[])},WZe=()=>uoe(1500),sf=({authMethod:e})=>{const{handleLogOut:t,setShowAuthFlow:n,setCallback:r,setMultiWalletWidgetState:i,walletConnectorOptions:o}=$e(),{setDeniedOauthUsername:s,setDeniedOauthProvider:a}=d_(),{view:l,pushView:c,clearStackAndPushInitialView:d}=At(),{setLoading:u}=mv(),{setErrorMessage:h,setError:m}=so(),{setExistentAccountData:v}=u_(),g=jue(),{shouldAutoCreateEmbeddedWallet:y,shouldPromptForKeyExport:b,embeddedWalletSettingVersion:k}=U3(),_=A=>A.user,R=x.useCallback(()=>de(void 0,void 0,void 0,function*(){Ie.debug("cancelAuth",{authMethod:e}),yield t(),d()}),[e,d,t]),I=x.useCallback((A,{options:U={},onError:$})=>{var q,z;if(A instanceof Ose||A instanceof zD||A instanceof hD||A instanceof fD||A instanceof vD||A instanceof yD||A instanceof mD)throw A;if(A instanceof tv){a(A==null?void 0:A.socialProvider),s((q=A==null?void 0:A.socialUsername)!==null&&q!==void 0?q:""),c("no-access");return}if(A instanceof H1){v(A.errorPayload),c("account-exists");return}if(A instanceof Ud||A instanceof Nse){c("sandbox-maximum-threshold-reached");return}if(A instanceof roe){c("merge-user-accounts-with-same-email",{returnToView:"isEmailRecoveryFlow"in U&&U.isEmailRecoveryFlow?"passkey-recovery-add-email":void 0});return}if((A==null?void 0:A.name)==="NotAllowedError"&&(((z=A==null?void 0:A.constructor)===null||z===void 0?void 0:z.name)==="WebAuthnError"||(A==null?void 0:A.code)==="ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY")||(A==null?void 0:A.name)==="InvalidStateError"&&(A==null?void 0:A.code)==="ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED")throw A;if($){$==null||$(A);return}A.code?h(A.code):m(A.message)},[c,a,s,m,h,v]),T=x.useCallback(A=>de(void 0,[A],void 0,function*({isSignIn:U=!0,verifyFunction:$,onVerifySuccess:q,onSettled:z,onError:S,showSuccessMessage:E=!1,skipDefaultErrorHandling:N=!1}){var P;Ie.debug("initAuth",{authMethod:e,isSignIn:U});try{const j=yield $();if(!j)throw yield R(),new Se("No user returned from verify function");let V;if(_(j)?V=Ii(j):V=j,q==null||q(V),o.forEach(W=>{W.walletConnector.setVerifiedCredentials(V.verifiedCredentials)}),y_(V)||U&&(!((P=V.missingFields)===null||P===void 0)&&P.length))return;i("idle"),yield g(V);const K=y(),F=b();E&&(yield WZe()),U&&r("authSuccess"),k()===Lc.V1&&K?n(!0):(!K||!F)&&n(!1),z==null||z()}catch(j){if(Ie.debug(j),N){S==null||S(j);return}I(j,{onError:S})}finally{u(!1),z==null||z()}}),[e,R,k,I,g,r,u,i,n,y,b,o]),M=x.useCallback(A=>de(void 0,[A],void 0,function*({missingFields:U,isEmailVerificationRequired:$,isSmsVerificationRequired:q}){if($&&U.find(z=>z.name==="email")){c("verify-email");return}if(q&&U.find(z=>z.name==="phoneNumber")){c("verify-sms");return}c(l.type)}),[c,l==null?void 0:l.type]),D=x.useCallback(A=>de(void 0,[A],void 0,function*({completeSignInFlow:U,updateJwtFunction:$,onValidUpdatedJwt:q,options:z={}}){Ie.debug("completeAuth",{authMethod:e});try{const{updateUserProfileResponse:S,isSmsVerificationRequired:E,isEmailVerificationRequired:N,missingFields:P}=yield $();q==null||q();const j=Ii({expiresAt:S.expiresAt,jwt:S.jwt,minifiedJwt:S.minifiedJwt,user:S.user});if(P.length>0){yield M({isEmailVerificationRequired:N,isSmsVerificationRequired:E,missingFields:P});return}if(yield g(j),r("authSuccess"),U&&(yield U(S)))return;!y()&&j.mfaBackupCodeAcknowledgement!==Vu.Pending&&n(!1)}catch(S){Ie.debug(S),I(S,{options:z})}finally{u(!1)}}),[e,I,g,M,r,u,n,y]);return{cancelAuth:R,completeAuth:D,handleAuthError:I,initAuth:T}},Z3=({displaySiweStatement:e,environmentId:t,projectSettings:n,setIsSingleWalletAccount:r})=>{const{setExistentAccountData:i}=u_(),{setDeniedAddress:o,setDeniedOauthProvider:s}=d_(),{pushView:a,clearStackAndPushInitialView:l}=At(),{setErrorMessage:c,setError:d}=so(),{multiWalletWidgetState:u,debugError:h,multiWallet:m,appName:v,primaryWalletId:g,setShowAuthFlow:y,siweStatement:b,connectedWallets:k,user:_,events:R,primaryWallet:I,enableConnectOnlyFallback:T,selectedWalletConnector:M}=$e(),{addedWalletsIds:D}=_s(),{initAuth:A}=sf({authMethod:"wallet"}),{generateSessionKey:U,shouldRegisterSessionKeysOnSignin:$}=Gm({environmentId:t,projectSettings:n}),q=!_,z=T&&(q||!m),S=(V,K,F,O,W,G,Y,ie)=>de(void 0,void 0,void 0,function*(){const ye=yield Cle({displaySiweStatement:e,environmentId:t,getAddressOpts:F,messageToSignOverride:ie,publicWalletAddress:O,signedMessageOverride:Y,siweStatement:hM({appName:v,siweStatement:b}),walletConnector:V,walletProvider:K});if($()&&q){const be=yield U();ye.sessionPublicKey=be.publicKey}yield Fc();let me;return _?me=yMe(t,ye):me=bMe(t,Object.assign(Object.assign({},ye),{captchaToken:W,oauth:G})),{verifyArgs:ye,verifyFunction:()=>me}}),E=({walletConnector:V,verifiedCredentials:K,lastVerifiedCredentialId:F})=>{const O=K.find(W=>W.id===F&&W.format==="blockchain");if(O){const W=K.find(G=>G.id===g);(q||!I||u==="awaiting_signature"&&O.walletName===(W==null?void 0:W.walletName)||(W==null?void 0:W.chain)==="flow"&&V.connectedChain==="FLOW")&&To(O.id)}},N=V=>{var K;y(!0),a("wallet-used"),r(!1),V.code==="reassign_wallet_error"&&(!((K=n==null?void 0:n.sdk)===null||K===void 0)&&K.preventOrphanedAccounts&&a("wallet-cannot-be-transferred"),r(!0))},P=({walletConnector:V,endSession:K=!0})=>{eM(),K&&(V==null||V.endSession())},j=(V,K,F,O)=>{var W;if(V.message==="ignore")return;if(M&&M.key===K.key&&rt.emit("authFailure",{address:F,connectorName:K.name,option:K.name,type:"wallet"},{error:V}),V instanceof Yie){a("embedded-wallet-exists"),y(!0);return}if(V instanceof soe)return P({endSession:!1,walletConnector:K}),N(V);if(V instanceof Qie){a("merge-user-accounts",Object.assign({},V)),y(!0);return}if(V instanceof Jie){P({walletConnector:K}),o(F),a("chainalysis-blocked-wallet");return}if(V instanceof pD){P({walletConnector:K}),o(F),a("gate-blocked-wallet");return}if(V instanceof Ud){a("sandbox-maximum-threshold-reached");return}if(V instanceof tv){P({walletConnector:K}),o(F),X1(K)&&s(O==null?void 0:O.provider),a("no-access");return}if(V instanceof H1){P({walletConnector:K}),i(V.errorPayload),a("account-exists");return}const G=wl();if(k.length&&G==="connect-only")throw new Se(V.message);const Y=(W=V==null?void 0:V.message)===null||W===void 0?void 0:W.includes("User rejected the request");if(z&&!Y){Ie.warn("Verification failed, changing to connect-only"),n1("connect-only"),a("wallet-list");return}else P({walletConnector:K}),l();Ie.error(V),h?d(`${V.message}
 ${V.stack}`):c(V.code)};return V=>de(void 0,[V],void 0,function*({walletConnector:K,getAddressOpts:F,publicWalletAddress:O,captchaToken:W,oauth:G,signedMessageOverride:Y,messageToSignOverride:ie}){const ye=Zb(K);rt.emit("authInit",{address:O,connectorName:K.name,option:K.name,type:"wallet"});try{const{verifyFunction:me,verifyArgs:be}=yield S(K,ye,F,O,W,G,Y,ie);yield A({isSignIn:q,onError:Me=>{j(Me,K,O,G)},onVerifySuccess:Me=>{var Fe;if(!Me)throw new Se(Kr);try{(Fe=R==null?void 0:R.onSignedMessage)===null||Fe===void 0||Fe.call(R,{messageToSign:be.messageToSign,signedMessage:be.signedMessage})}catch{Ie.warn("Error calling onSignedMessage callback")}ot.setItem(Xu,K.key),n1("connect-and-sign"),E({lastVerifiedCredentialId:Me.lastVerifiedCredentialId,verifiedCredentials:Me.verifiedCredentials,walletConnector:K});const De=Me.lastVerifiedCredentialId;De&&D.current.push(De)},options:{address:O,connectorName:K.name},skipDefaultErrorHandling:!0,verifyFunction:me})}catch(me){j(me,K,O,G)}})},qZe=(e,t)=>{const n=x.useRef(!1),r=x.useRef(e);r.current=e,x.useEffect(()=>{t&&!n.current&&(r.current(),n.current=!0)},[t])},$ue=e=>{if(!e)return;const t=Object.values(wm);for(const n of t)if(n===e)return n},zZe=()=>{const{setDynamicWidgetView:e,goToInitialDynamicWidgetView:t}=Jc(),{setShowDynamicUserProfile:n,primaryWallet:r,setShowAuthFlow:i}=$e(),{getExchangeUserAccounts:o,getExchangeWhitelistedDestinations:s}=Kze(),{clearStackAndPush:a}=At();return x.useCallback(l=>de(void 0,[l],void 0,function*({exchange:c,payingWithDynamic:d,onBack:u,hideBackButton:h}){var m,v;let g,y;d?(g=d.tokenSymbol,y=yield o({chainName:d.chainName,exchange:c,includeChainName:!0,networkId:typeof d.network=="string"?parseInt(d.network,10):d.network})):(y=yield o({exchange:c}),g=y.some(R=>R.balances.some(I=>I.currency==="USDC"))?"USDC":(v=(m=y[0])===null||m===void 0?void 0:m.balances[0])===null||v===void 0?void 0:v.currency);const b=yield s({exchange:c}),k=()=>{d?e("receive-wallet-funds",{accounts:y,amount:{rule:"exact",value:d.tokenAmount},destinationAddress:d.destinationAddress,exchange:c,fundingWithExchange:!0,hideBackButton:h,onBack:u,token:{rule:"exact-with-amount",value:g}}):e("receive-wallet-funds",{accounts:y,exchange:c,fundingWithExchange:!0,hideBackButton:h,onBack:u,token:{rule:"recommended",value:g}}),n(!0)},_=d?d.destinationAddress:r==null?void 0:r.address;b.enforcesAddressWhitelist&&!b.destinations.some(R=>R.address.trim().toLowerCase()===(_==null?void 0:_.trim().toLowerCase()))?(i(!0),a("exchange-whitelist-warning",{exchange:c,onClose:()=>{i(!1),t()},onContinue:()=>{i(!1),k()}})):k()}),[o,s,e,n,r==null?void 0:r.address,i,a,t])},UJ=e=>{if(!e)return null;try{const t=new URL(e),n=t.searchParams.get("dynamicOauthCode"),r=t.searchParams.get("dynamicOauthState"),i=t.searchParams.get("dynamicOauthSsoProviderId")||void 0;return!n||!r?null:{dynamicOauthCode:n,dynamicOauthSsoProviderId:i,dynamicOauthState:r}}catch(t){return Ie.error("Error extracting dynamic redirect data from URL",t),null}},VZe=(e,t)=>{if(e){const r=UJ(e);if(r)return r}const n=UJ(t);return n||null},KZe=({setSocialProvider:e})=>{const{clearStackAndPush:t}=At(),{setDynamicWidgetView:n}=Jc(),r=zZe(),[i,o]=x.useState(null),{sdkHasLoaded:s,setShowAuthFlow:a,isRenderingEmbeddedAuthFlow:l,setShowDynamicUserProfile:c,redirectUrl:d}=$e(),{completeConnection:u}=V3({}),h=x.useCallback(m=>{const v=$ue(m.provider);e(v),t("social-redirect-view");const g=!!m.isHeadlessSocialSignIn;!l&&!g&&a(!0)},[e,t,l,a]);ep(()=>{var m;if(Td())return;const{dynamicOauthCode:v,dynamicOauthState:g,dynamicOauthSsoProviderId:y}=(m=VZe(d??null,window.location.href))!==null&&m!==void 0?m:{};if(!g||!v)return;const b=HWe(g);b&&(b.code=v,b.dynamicOauthSsoProviderId=y,o(b),JWe(b.provider))}),qZe(()=>de(void 0,void 0,void 0,function*(){if(i){if(i.mode==="signin"){if(Js().user){Ie.error(new Se("User is already logged in"));return}h(i)}else if(i.mode==="link"){if(!Js().user){Ie.error(new Se("User not logged in"));return}i.showWidgetAfterConnection&&(n("profile"),c(!0))}if(yield u({authCode:i.code,authMode:i.mode,captchaToken:i.captchaToken,provider:i.provider,ssoProviderId:i.dynamicOauthSsoProviderId,state:i.state,verifier:i.codeVerifier}),i.triggerFundFromExchangeOnSuccess){const m=i.payingWithDynamic;r(m?{exchange:i.triggerFundFromExchangeOnSuccess,hideBackButton:!0,payingWithDynamic:m}:{exchange:i.triggerFundFromExchangeOnSuccess})}}}),!!i&&s)},Lue=x.createContext(void 0),HZe=({children:e})=>{var t,n,r,i;const{setShowAuthFlow:o,walletConnectorOptions:s,setSelectedWalletConnectorKey:a,walletUiUtils:l,displaySiweStatement:c,environmentId:d,projectSettings:u,setIsSingleWalletAccount:h,setShowDynamicUserProfile:m,secondaryWallets:v,sdkHasLoaded:g,user:y,connectWallet:b,primaryWallet:k,socialProvidersFilter:_=F=>F}=$e(),{setErrorMessage:R}=so(),{clearStackAndPush:I,pushView:T}=At(),{getCaptchaToken:M}=Gd(),D=Z3({displaySiweStatement:c,environmentId:d,projectSettings:u,setIsSingleWalletAccount:h}),A=(t=u==null?void 0:u.sdk.socialSignIn)===null||t===void 0?void 0:t.signInProvider,U=(r=(n=u==null?void 0:u.sdk.socialSignIn)===null||n===void 0?void 0:n.providers)!==null&&r!==void 0?r:[],$=(i=_(U.filter(F=>F.enabled).map(F=>F.provider)))!==null&&i!==void 0?i:[],q=s.map(({walletConnector:F})=>F).find(X1),[z,S]=x.useState("idle"),[E,N]=x.useState(),j=(k?[k,...v]:v).find(F=>F.connector.key===(q==null?void 0:q.key)),V=x.useMemo(()=>j?Ele(y,j.id):void 0,[y,j]);Un("logout",()=>N(void 0));const K=x.useCallback(F=>{Ie.error(F),y?(o(!1,{emitCancelAuth:!0}),m(!0)):(o(!0),I("wallet-list"),R("-1"))},[y,R,o,m,I]);return x.useEffect(()=>{var F,O;if(!u||!q||!g){new URLSearchParams(window.location.search).has("magic_oauth_request_id")&&(I("social-redirect-view"),o(!0));return}const W=new URLSearchParams(window.location.search);if(W.has("error")&&W.has("provider")){const G=W.get("error_description");K(G??"Unknown error"),(F=q.getSession)===null||F===void 0||F.call(q);return}if(W.has("magic_oauth_request_id")){const G=W.get("provider");N(G),S("loading"),I("social-redirect-view"),o(!0),y||a(q.key),(O=q.getSession)===null||O===void 0||O.call(q).then(Y=>de(void 0,void 0,void 0,function*(){if(y){if(!V)throw new Error("Social account not found");V.oauthAccountId===Y.oauthId?(j==null?void 0:j.id)!==(k==null?void 0:k.id)&&(To(j.id),o(!1),m(!0)):(yield q.endSession(),T("social-wrong-account"))}else{yield b(q);const ie=yield q.getAddress();l.disabledConfirmationOnce(),yield Fc(),yield D({captchaToken:M(),oauth:{accessToken:Y.accessToken,didToken:Y.didToken,provider:G},publicWalletAddress:ie,walletConnector:q})}N(void 0),S("success")})).catch(Y=>{N(void 0),S("error"),K(Y)})}},[V,y,u,g,v,a,o,m,T,q,D,l,j,K,b,k==null?void 0:k.id,M,I]),KZe({setSocialProvider:N}),f.jsx(Lue.Provider,{value:{enabledSocialProviders:$,redirectStatus:z,setSocialProvider:N,signInProvider:A,socialAccount:V,socialProvider:E,socialWalletConnector:q},children:e})},af=()=>{const e=x.useContext(Lue);if(e===void 0)throw new Error("useSocialRedirectContext must be used within a SocialRedirectContextProvider");return e},{getNonce:Uue,setNonce:Sj,useNonce:GZe}=Vc("nonce"),JZe=()=>Uue().nonce,Ij=()=>GZe().nonce,ZZe=e=>{const t=new Date().getTime()+864e5;Sj({expiresAt:t,nonce:e})};let S4;const FJ=()=>{const e=Uue();if(!(e!=null&&e.expiresAt))return;S4&&clearTimeout(S4);const t=e.expiresAt-new Date().getTime(),n=t>0?t:0;S4=setTimeout(()=>{Ie.debug("[Nonce] Expiring nonce",{expiresAt:e.expiresAt,nonce:e.nonce}),Sj({expiresAt:void 0,nonce:void 0})},n)},YZe=({shouldFetch:e=!0,retries:t=2}={})=>{const n=Ij(),r=Vm();FJ();const{retrigger:i}=vr(()=>de(void 0,void 0,void 0,function*(){return Fae(r)}),{deps:[r],enabled:e&&!n,onResolve:o=>{ZZe(o),FJ()},retries:t});return w8e("logout",i),n},Fue=()=>{const e=JZe();if(!e)throw new Se("Nonce is not defined");return Sj({expiresAt:void 0,nonce:void 0}),e},Wue=x.createContext(void 0),XZe=({children:e})=>{const{pushView:t}=At(),{setShowAuthFlow:n}=$e(),[r,i,o]=iv(xPe,void 0),[s,a]=x.useState(),l=x.useCallback(({authMethod:u,onCaptchaSuccess:h})=>{a({authMethod:u,onCaptchaSuccess:h}),t("captcha"),n(!0)},[t,a,n]),c=x.useCallback(()=>{const u=r;return o(),u},[r,o]),d=x.useMemo(()=>({captchaAuthState:s,engageCaptcha:l,getCaptchaToken:c,removeCaptchaToken:o,setCaptchaAuthState:a,setCaptchaToken:i}),[s,c,l,a,i,o]);return f.jsx(Wue.Provider,{value:d,children:e})},Gd=()=>{const e=x.useContext(Wue);if(e===void 0)throw new Error("usage of useCaptchaContext not wrapped in `CaptchaContextProvider`.");return e},FS=x.forwardRef(({children:e,className:t="",isOpen:n,dataTestId:r,dimOnHide:i=!1,handleScroll:o=()=>{}},s)=>{const a=x.useRef(null),l=x.useRef(),[c]=Ude(a),d=x.useMemo(()=>n?c?c.height:l.current:0,[n,c]);return x.useEffect(()=>{const u=c==null?void 0:c.height;u&&(l.current=u)},[c]),f.jsxs("div",{"data-testid":r,style:{maxHeight:d},className:Ke(t,"accordion-item",{"accordion-item--full-height":!!d}),onScroll:o,ref:s,children:[i&&f.jsx("div",{"data-testid":"accordion-item-curtain",className:Ke("accordion-item__curtain",{"accordion-item__curtain--dimmed":!n})}),f.jsx("div",{ref:a,children:e})]})});FS.displayName="AccordionItem";const WJ=["Cloud Backup","Download"],Ej=({currentStep:e,completedSteps:t})=>{const n=i=>{const o=["waas-backup-view__step"];return i<t?o.push("waas-backup-view__step--completed"):i===e?o.push("waas-backup-view__step--current"):o.push("waas-backup-view__step--upcoming"),o.join(" ")},r=()=>{const i=["waas-backup-view__step-separator"];return t>=1&&i.push("waas-backup-view__step-separator--solid"),i.join(" ")};return f.jsx("div",{className:"waas-backup-view__stepper",children:WJ.map((i,o)=>f.jsxs("div",{className:"waas-backup-view__step-container",children:[f.jsx("div",{className:n(o),children:f.jsx("div",{className:"waas-backup-view__step-indicator",children:o<t?f.jsx(cc,{className:"waas-backup-view__step-check"}):f.jsx("div",{className:"waas-backup-view__step-number",children:o+1})})}),o<WJ.length-1&&f.jsx("div",{className:r()})]},i))})},QZe=()=>{var e;const{pushView:t,goBack:n}=At(),{t:r}=Xe(),{isProcessingForProvider:i,error:o}=due(),{ensureProviderLinked:s,getSupportedProviders:a}=vj(),[l,c]=x.useState(null),d=a(),u=x.useCallback(()=>n(),[n]),h=x.useCallback(()=>{t("waas-backup-info-view")},[t]),m=x.useCallback(y=>de(void 0,void 0,void 0,function*(){c(null);const b=d.find(k=>k.id===y);if(b){if(b.requiresOAuth&&!(yield s(y))){c(r("dyn_waas.backup.error"));return}t("waas-backup-progress-view",{provider:y})}}),[s,t,d,r]),v=f.jsx(Sn,{type:"button",onClick:u,"data-testid":"back-button",children:f.jsx(Hd,{})}),g=f.jsx(Sn,{type:"button",onClick:h,"data-testid":"info-button",children:f.jsx(pv,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:v,trailing:g,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.title",children:r("dyn_waas.backup.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body",children:[f.jsx(Ej,{currentStep:0,completedSteps:0}),(l||o)&&f.jsx(Lr,{variant:"error",withIcon:!1,children:(e=o==null?void 0:o.message)!==null&&e!==void 0?e:l}),f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.cloud_backup_title",className:"waas-backup-view__cloud-title",children:r("dyn_waas.backup.cloud_backup_title","1. Cloud Backup")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.cloud_backup_subtitle",className:"waas-backup-view__cloud-subtitle",children:r("dyn_waas.backup.cloud_backup_subtitle","Back up your first key share to a cloud provider")}),d.map(y=>f.jsxs("button",{type:"button",className:"waas-backup-view__provider-button",onClick:()=>m(y.id),disabled:y.requiresOAuth&&y.oauthProvider&&i(y.oauthProvider),"data-testid":`${y.id}-button`,children:[y.icon,f.jsx(se,{variant:"body_normal",color:"primary",children:r(`dyn_waas.backup.backup_to_${y.id}`,`Backup to ${y.name}`)})]},y.id))]})})]})};var qJ,eYe=["title","titleId"];function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tP.apply(null,arguments)}function tYe(e,t){if(e==null)return{};var n,r,i=nYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var que=function(t){var n=t.title,r=t.titleId,i=tYe(t,eYe);return x.createElement("svg",tP({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,qJ||(qJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.417 14.167c0 .92.746 1.666 1.666 1.666h8.334c.92 0 1.666-.746 1.666-1.666v-.834a.833.833 0 0 1 1.667 0v.834a3.333 3.333 0 0 1-3.333 3.333H6.083a3.333 3.333 0 0 1-3.333-3.333v-.834a.833.833 0 0 1 1.667 0v.834Zm1.91-4.756a.833.833 0 0 1 1.179 0l1.91 1.91V3.333a.833.833 0 0 1 1.667 0v7.989l1.911-1.911a.833.833 0 1 1 1.179 1.178l-3.334 3.334a.833.833 0 0 1-1.178 0l-3.334-3.334a.833.833 0 0 1 0-1.178Z",fill:"#ABACB2"})))};const rYe=()=>{const{pushView:e}=At(),{t}=Xe(),n=x.useCallback(m=>{e("waas-backup-success-view",{walletCount:m})},[e]),{currentIndex:r,hasError:i,isComplete:o,isProcessing:s,retry:a,startDownload:l,totalWallets:c}=MGe(n),d=x.useCallback(()=>{e("waas-backup-info-view")},[e]),u=f.jsx(Sn,{type:"button",onClick:d,"data-testid":"info-button",children:f.jsx(pv,{})}),h=()=>o?f.jsxs("span",{className:"waas-backup-view__download-button-content",children:[f.jsx(cc,{className:"waas-backup-view__download-icon"}),t("dyn_waas.backup.download_complete")]}):s?f.jsxs("span",{className:"waas-backup-view__download-button-content",children:[f.jsx(que,{className:"waas-backup-view__download-icon"}),t("dyn_waas.backup.downloading",{current:r,total:c})]}):t(i?"dyn_waas.backup.error_try_again":"dyn_waas.backup.download_key_share");return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:u,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.title",children:t("dyn_waas.backup.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body",children:[f.jsx(Ej,{currentStep:1,completedSteps:1}),i&&f.jsx(Lr,{variant:"error",withIcon:!1,children:t("dyn_waas.backup.download_error")}),f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.download_title",className:"waas-backup-view__cloud-title",children:t("dyn_waas.backup.download_title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.download_subtitle",className:"waas-backup-view__cloud-subtitle",children:t("dyn_waas.backup.download_subtitle")}),f.jsx(xt,{dataTestId:"download-key-share-button",onClick:i?a:l,disabled:s||o,buttonVariant:s||o?"secondary":"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:h()})]})})]})};var zJ,iYe=["title","titleId"];function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nP.apply(null,arguments)}function oYe(e,t){if(e==null)return{};var n,r,i=sYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var zue=function(t){var n=t.title,r=t.titleId,i=oYe(t,iYe);return x.createElement("svg",nP({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,zJ||(zJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.335 1.917c.962-1.667 3.368-1.667 4.33 0l5.774 10c.962 1.666-.241 3.75-2.166 3.75H2.726c-1.924 0-3.127-2.084-2.165-3.75l5.774-10Zm2.887.833a.833.833 0 0 0-1.444 0l-5.773 10A.833.833 0 0 0 2.726 14h11.547a.833.833 0 0 0 .722-1.25l-5.773-10ZM8.5 5.667c.46 0 .833.373.833.833v1.667a.833.833 0 0 1-1.666 0V6.5c0-.46.373-.833.833-.833ZM7.667 11.5c0-.46.373-.833.833-.833h.008a.833.833 0 1 1 0 1.666H8.5a.833.833 0 0 1-.833-.833Z",fill:"#DD8500"})))},VJ,aYe=["title","titleId"];function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rP.apply(null,arguments)}function lYe(e,t){if(e==null)return{};var n,r,i=cYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Vue=function(t){var n=t.title,r=t.titleId,i=lYe(t,aYe);return x.createElement("svg",rP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,VJ||(VJ=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm.11 42.446c-1.561 0-2.828 1.243-2.828 2.777 0 1.533 1.267 2.777 2.828 2.777h.038c1.562 0 2.828-1.244 2.828-2.777 0-1.534-1.266-2.777-2.828-2.777h-.038Zm1.8-26.297a12.215 12.215 0 0 0-7.658 1.286c-2.326 1.25-4.14 3.242-5.07 5.659-.55 1.434.187 3.036 1.648 3.578 1.461.541 3.092-.183 3.644-1.617.428-1.116 1.294-2.103 2.495-2.75a6.458 6.458 0 0 1 3.783-.708l-1.595 10.396-.003.001c-1.488.457-2.319 2.012-1.856 3.475.463 1.464 2.048 2.283 3.539 1.828l-.839-2.652c.8 2.525.84 2.644.843 2.65l.004-.001.01-.003.032-.01.098-.031a23.601 23.601 0 0 0 1.448-.535c.906-.368 2.136-.93 3.388-1.693 2.28-1.392 5.665-4.095 5.665-8.304.004-2.583-.993-5.054-2.763-6.98-1.767-1.921-4.188-3.176-6.814-3.589Zm-.894 5.484c1.405.22 2.642.884 3.51 1.827.862.938 1.307 2.092 1.305 3.252v.005c0 1.075-.945 2.335-2.995 3.587-.913.557-1.848.988-2.566 1.28a17.913 17.913 0 0 1-1.064.393l1.81-10.344Z",fill:"currentColor"})))};const dYe=()=>{const{goBack:e}=At(),{t}=Xe(),n=x.useCallback(()=>e(),[e]),r=f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Hd,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:r,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup_info.title",children:t("dyn_waas.backup_info.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__info",children:[f.jsx("div",{className:"waas-backup-view__info-icon",children:f.jsx(Nt,{color:"brand-primary",children:f.jsx(Vue,{width:64,height:64})})}),f.jsx(se,{variant:"body_normal",weight:"medium",color:"primary",copykey:"dyn_waas.backup_info.subtitle",className:"waas-backup-view__info-subtitle",children:t("dyn_waas.backup_info.subtitle")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup_info.description",className:"waas-backup-view__info-description",children:t("dyn_waas.backup_info.description")}),f.jsxs("div",{className:"waas-backup-view__info-alert",children:[f.jsx(zue,{className:"waas-backup-view__info-alert-icon"}),f.jsx(se,{variant:"body_small",color:"secondary",children:t("dyn_waas.backup_info.warning")})]})]})})]})};var KJ,uYe=["title","titleId"];function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iP.apply(null,arguments)}function fYe(e,t){if(e==null)return{};var n,r,i=hYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Y3=function(t){var n=t.title,r=t.titleId,i=fYe(t,uYe);return x.createElement("svg",iP({width:7,height:32,viewBox:"0 0 7 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,KJ||(KJ=x.createElement("path",{d:"M6.4 3.2a3.2 3.2 0 0 0-6.4 0V16a3.2 3.2 0 0 0 6.4 0V3.2ZM3.2 25.6a3.2 3.2 0 0 0 0 6.4h.032a3.2 3.2 0 0 0 0-6.4H3.2Z",fill:"#F9F9FB"})))};const pYe=({provider:e=ra.GoogleDrive})=>{const{goBack:t,pushView:n}=At(),{t:r}=Xe(),i=p1[e],{getWalletsToBackup:o,showICloudAuth:s,checkICloudAuth:a,hideICloudAuth:l}=vj(),[c,d]=x.useState(null),[u,h]=x.useState("pending"),[m,v]=x.useState(null),g=x.useRef(!1),y=x.useCallback(()=>{n("waas-backup-download-view")},[n]),b=x.useCallback(()=>t(),[t]),{currentIndex:k,hasError:_,isComplete:R,retry:I,totalWallets:T,start:M}=DGe(y,e,c||void 0),D=x.useCallback(S=>{i.requiresIframe&&S&&d(S)},[i.requiresIframe]);x.useEffect(()=>{if(g.current)return;if(!i.requiresIframe){g.current=!0,M();return}if(!c||u!=="pending")return;const S=o();if(S.length===0)return;g.current=!0,de(void 0,void 0,void 0,function*(){(yield s(c,S[0].chain))?(yield a(S[0].chain))?(h("authenticated"),M()):h("shown"):(h("failed"),v(r("dyn_waas.backup.error")))})},[i.requiresIframe,c,u,s,a,o,r,M]),x.useEffect(()=>()=>{if(i.requiresIframe&&c){const S=o();S.length>0&&l(S[0].chain)}},[i.requiresIframe,c,l,o]);const A=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!c){v(r("dyn_waas.backup.error"));return}const S=o();if(S.length===0)return;if(!(yield a(S[0].chain))){h("failed"),v(r("dyn_waas.backup.error_title"));return}h("authenticated"),M()}),[c,a,o,M,r]),U=x.useCallback(()=>{i.requiresIframe?(g.current=!1,h("pending"),v(null)):I()},[i.requiresIframe,I]),$=()=>R?r("dyn_waas.backup.progress_complete"):T===0?r("dyn_waas.backup.progress_initializing"):r("dyn_waas.backup.progress_title",{current:k,total:T}),q=()=>_||u==="failed"?f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_waas.backup.error_title",className:"waas-backup-view__progress-title",children:m||r("dyn_waas.backup.error_title")}),f.jsx("div",{className:"waas-backup-view__progress-actions",children:f.jsx(xt,{dataTestId:"retry-backup-button",onClick:U,copykey:"dyn_waas.backup.error_try_again",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:r("dyn_waas.backup.error_try_again")})})]}):i.requiresIframe&&u==="shown"&&T===0&&!R?f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.icloud_ready_title",className:"waas-backup-view__progress-title",children:r("dyn_waas.backup.icloud_ready_title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.icloud_ready_subtitle",className:"waas-backup-view__progress-subtitle",children:r("dyn_waas.backup.icloud_ready_subtitle")}),f.jsx("div",{className:"waas-backup-view__progress-actions",children:f.jsx(xt,{dataTestId:"continue-icloud-backup-button",onClick:A,copykey:"dyn_waas.backup.continue_backup",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!c,expanded:!0,children:r("dyn_waas.backup.continue_backup")})})]}):f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.progress_title",className:"waas-backup-view__progress-title",children:$()}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.progress_subtitle",className:"waas-backup-view__progress-subtitle",children:r("dyn_waas.backup.progress_subtitle")})]}),z=_?f.jsx(Sn,{type:"button",onClick:b,"data-testid":"back-button",children:f.jsx(Hd,{})}):void 0;return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:z,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.cloud_backup_header",children:r("dyn_waas.backup.cloud_backup_header")})}),f.jsxs("div",{className:"waas-backup-view",children:[f.jsxs("div",{className:"waas-backup-view__progress",children:[f.jsxs("div",{className:`waas-backup-view__progress-icon ${_?"waas-backup-view__progress-icon--error":""}`,children:[i.icon,_&&f.jsx("div",{className:"waas-backup-view__progress-error-badge",children:f.jsx(Y3,{})})]}),q()]}),i.requiresIframe&&f.jsx("div",{ref:D,className:"waas-backup-view__icloud-container"})]})]})};var HJ,mYe=["title","titleId"];function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oP.apply(null,arguments)}function gYe(e,t){if(e==null)return{};var n,r,i=yYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Kue=function(t){var n=t.title,r=t.titleId,i=gYe(t,mYe);return x.createElement("svg",oP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,HJ||(HJ=x.createElement("path",{d:"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm10.325 34.635a.89.89 0 0 0-1.258-.016l-1.8 1.757a.89.89 0 0 0-.016 1.258l1.758 1.801a.89.89 0 0 0 1.273-1.242l-.338-.346a7.119 7.119 0 1 1-5.245.735.89.89 0 1 0-.886-1.543 8.897 8.897 0 1 0 6.321-.975l.176-.171a.89.89 0 0 0 .015-1.258ZM19.95 15A4.95 4.95 0 0 0 15 19.95v23.1A4.95 4.95 0 0 0 19.95 48h8.11a12.481 12.481 0 0 1-.383-3.081c0-6.002 4.245-11.014 9.897-12.193a2.47 2.47 0 0 1 2.183-.257A12.405 12.405 0 0 1 48 35.262V26.55a4.95 4.95 0 0 0-4.95-4.95h-23.1a1.65 1.65 0 1 1 0-3.3h19.8a1.65 1.65 0 1 0 0-3.3h-19.8Z",fill:"#4779FF"})))};const vYe=({walletCount:e=1})=>{const{goBack:t,pushView:n}=At(),{setShowAuthFlow:r}=$e(),{t:i}=Xe(),o=x.useCallback(()=>t(),[t]),s=x.useCallback(()=>{n("waas-backup-info-view")},[n]),a=x.useCallback(()=>{r(!1)},[r]),l=f.jsx(Sn,{type:"button",onClick:o,"data-testid":"back-button",children:f.jsx(Hd,{})}),c=f.jsx(Sn,{type:"button",onClick:s,"data-testid":"info-button",children:f.jsx(pv,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:l,trailing:c,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.success_title",children:i("dyn_waas.backup.success_title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body waas-backup-view__body--centered",children:[f.jsx("div",{className:"waas-backup-view__success-icon",children:f.jsx(Nt,{color:"brand-primary",children:f.jsx(Kue,{width:64,height:64})})}),f.jsx(Ej,{currentStep:1,completedSteps:2}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.success_description",className:"waas-backup-view__success-description",children:i("dyn_waas.backup.success_description",{count:e})}),f.jsx(xt,{dataTestId:"done-button",onClick:a,buttonVariant:"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:i("dyn_waas.backup.done")})]})})]})},wYe=()=>{const{setShowAuthFlow:e}=$e(),{pushView:t}=At(),{t:n}=Xe(),[r,i]=x.useState(!1),o=x.useCallback(()=>{e(!1)},[e]),s=x.useCallback(()=>{t("waas-backup-info-view")},[t]),a=x.useCallback(()=>{t("waas-backup-cloud-provider-view")},[t]),l=x.useCallback(()=>{i(u=>!u)},[]),c=f.jsx(Sn,{type:"button",onClick:o,"data-testid":"back-button",children:f.jsx(Hd,{})}),d=f.jsx(Sn,{type:"button",onClick:s,"data-testid":"info-button",children:f.jsx(pv,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:c,trailing:d,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.title",children:n("dyn_waas.backup.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body",children:[f.jsx("div",{className:"waas-backup-view__icon-container",children:f.jsx(Nt,{color:"brand-primary",children:f.jsx(Kue,{width:64,height:64})})}),f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_waas.backup.subtitle",className:"waas-backup-view__subtitle",children:n("dyn_waas.backup.subtitle")}),f.jsx("div",{className:"waas-backup-view__checkbox-container",children:f.jsxs("label",{className:"waas-backup-view__checkbox-label",children:[f.jsx(Kd,{checked:r,onChange:l,ariaLabel:n("dyn_waas.backup.checkbox_label")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.checkbox_label",children:n("dyn_waas.backup.checkbox_label")})]})}),f.jsx("div",{className:"waas-backup-view__actions",children:f.jsx(xt,{dataTestId:"continue-backup-button",onClick:a,disabled:!r,copykey:"dyn_waas.backup.continue_button",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:n("dyn_waas.backup.continue_button")})})]})})]})};var GJ,JJ,bYe=["title","titleId"];function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sP.apply(null,arguments)}function _Ye(e,t){if(e==null)return{};var n,r,i=xYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var kYe=function(t){var n=t.title,r=t.titleId,i=_Ye(t,bYe);return x.createElement("svg",sP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,GJ||(GJ=x.createElement("g",{clipPath:"url(#access-blocked_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#access-blocked_svg__b)",fillOpacity:.12}),x.createElement("circle",{cx:220.352,cy:29.265,r:15.729,transform:"rotate(15 220.352 29.265)",fill:"#4779FF"}),x.createElement("path",{d:"M223.594 23.62a1.573 1.573 0 1 0-3.038-.815l-1.629 6.078a1.573 1.573 0 1 0 3.039.814l1.628-6.077ZM219.225 33.848a1.573 1.573 0 0 0-.814 3.039l.015.004a1.574 1.574 0 0 0 .814-3.039l-.015-.004Z",fill:"#F9F9FB"}),x.createElement("g",{clipPath:"url(#access-blocked_svg__c)",fill:"#4779FF"},x.createElement("path",{d:"M101.972 36.04a8 8 0 0 1 9.798 5.657l-2.897.777a5 5 0 0 0-9.66 2.588l-2.897.776a8 8 0 0 1 5.656-9.797ZM118.498 47.487a5.333 5.333 0 0 0-6.532-3.772l-14.81 3.969a5.333 5.333 0 0 0-3.772 6.532l1.898 7.084a5.333 5.333 0 0 0 6.532 3.77l14.811-3.968a5.334 5.334 0 0 0 3.771-6.532l-1.898-7.083Z"})),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-3.344 46.703c-1.172-2.936-2.026-7.051-2.236-11.797h9.298c-.21 4.746-1.064 8.861-2.236 11.797-.683 1.709-1.393 2.816-1.971 3.428-.198.21-.346.328-.442.393a2.703 2.703 0 0 1-.442-.392c-.578-.613-1.288-1.72-1.971-3.429Zm0-28.13c-1.208 3.025-2.078 7.301-2.253 12.228h9.332c-.175-4.927-1.045-9.203-2.253-12.227-.683-1.709-1.393-2.816-1.971-3.429a2.703 2.703 0 0 0-.442-.392 2.703 2.703 0 0 0-.442.392c-.578.613-1.288 1.72-1.971 3.429Zm-15.106 12.228h8.746c.21-6.38 1.506-11.989 3.423-15.668-6.57 2.184-11.466 8.283-12.169 15.668Zm.046 4.105h8.716c.253 6.201 1.533 11.642 3.407 15.238-6.442-2.141-11.274-8.046-12.123-15.238Zm34.946 0h-8.716c-.253 6.201-1.533 11.642-3.407 15.238 6.442-2.141 11.275-8.046 12.123-15.238Zm.133-2.267v.065-.131.066Zm-8.833-1.838h8.746c-.703-7.385-5.599-13.484-12.169-15.668 1.917 3.68 3.213 9.289 3.423 15.668Zm-8.909 19.795c0-.001.007-.004.023-.008a.077.077 0 0 1-.023.008Zm.25-.008a.064.064 0 0 1 .022.008s-.007-.001-.022-.008Zm.022-35.907c0 .001-.007.004-.023.008a.077.077 0 0 1 .023-.008Zm-.249.008c-.016-.004-.023-.007-.023-.008 0 0 .007.001.023.008Z",fill:"#4779FF"}))),JJ||(JJ=x.createElement("defs",null,x.createElement("clipPath",{id:"access-blocked_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"access-blocked_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 188.268 -307.493)",d:"M0 0h32v32H0z"})),x.createElement("linearGradient",{id:"access-blocked_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const SYe=()=>{const[e,t]=x.useState(),{t:n}=Xe(),{getIpConfiguration:r}=pqe();return vr(r,{deps:[r,e],onResolve:i=>t(i==null?void 0:i.country),retries:2}),f.jsxs("div",{className:"access-blocked__container",children:[f.jsx("div",{className:"access-blocked__icon",children:f.jsx(kYe,{})}),f.jsx("div",{className:"access-blocked__content",children:f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_access_blocked.content",children:n("dyn_access_blocked.content",{jurisdiction:e})})})]})},Cj=e=>e!==void 0&&(Mc(e,pn.Dynamic)||Mc(e,pn.Blocto)||Mc(e,pn.MagicLink)),IYe=e=>e.map(({walletConnector:n})=>n).find(n=>bm(n)&&n.requiresNonDynamicEmailOtp),Hue=({emailProvider:e}={})=>{const t=x.useContext(tde);if(!t)throw new Error("useConnectWithOtp must be used within a DynamicContextProvider");return{connectWithEmail:(n,r={})=>t.connectWithEmail(n,Object.assign({provider:e},r)),connectWithSms:t.connectWithSms,retryOneTimePassword:t.retryOneTimePassword,verifyOneTimePassword:t.verifyOneTimePassword}},EYe=()=>{const{projectSettings:e,walletConnectorOptions:t}=$e(),{connectWithEmail:n}=Hue(),{engageCaptcha:r}=Gd(),i=IYe(t);return{connectWithEmail:x.useCallback((s,a)=>de(void 0,void 0,void 0,function*(){var l;rt.emit("authInit",{email:s,option:s,type:"email"});try{!((l=e==null?void 0:e.security.hCaptcha)===null||l===void 0)&&l.enabled&&(i==null?void 0:i.key)!=="magicemailotp"?r({authMethod:"email",onCaptchaSuccess:c=>de(void 0,void 0,void 0,function*(){yield n(s,{captchaToken:c}),a==null||a()})}):(yield n(s),a==null||a())}catch(c){throw rt.emit("authFailure",{email:s,option:s,type:"email"},{error:c}),c}}),[n,r,e==null?void 0:e.security.hCaptcha,i])}},CYe=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,Gue=e=>CYe.test(e);var ZJ,YJ,AYe=["title","titleId"];function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aP.apply(null,arguments)}function RYe(e,t){if(e==null)return{};var n,r,i=TYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var OYe=function(t){var n=t.title,r=t.titleId,i=RYe(t,AYe);return x.createElement("svg",aP({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,ZJ||(ZJ=x.createElement("rect",{x:.5,width:24,height:24,rx:12,fill:"var(--icon-background, var(--dynamic-hover))"})),YJ||(YJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.22 7.47a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1 0 1.06l-3.75 3.75a.75.75 0 1 1-1.06-1.06l2.47-2.47H7.5a.75.75 0 0 1 0-1.5h8.19l-2.47-2.47a.75.75 0 0 1 0-1.06Z",fill:"var(--icon-arrow, var(--dynamic-text-secondary))"})))};const Jue=({disabled:e,highlighted:t,isFocused:n,isHovered:r,className:i,style:o,emailSubmitButtonInsideInput:s=!1})=>s?f.jsx(Sn,{"data-testid":"in_line_submit_button",type:"submit",className:Ke("inline-submit-button",i,{"icon-button--active":n||r,"icon-button--has-content":t}),disabled:e,style:o,children:f.jsx(OYe,{})}):null,Zue=({isLoading:e,onSubmit:t,isEmailInvalid:n=!1,currentEmail:r,emailSubmitButtonInsideInput:i=!1,buttonCopyKey:o="dyn_login.email_form.submit_button.label",isDisabled:s=!1,className:a,style:l})=>{const{t:c}=Xe(),[d,u]=x.useState(r??""),[h,m]=x.useState(!1),[v,g]=x.useState(!1),y=k=>{const{value:_}=k.currentTarget;u(_)},b=k=>de(void 0,void 0,void 0,function*(){k.preventDefault(),Gue(d)&&(t==null||t(d))});return f.jsxs("form",{className:Ke("login-with-email-form",a),style:l,"data-testid":"email-form",onSubmit:k=>b(k),children:[f.jsx(Sl,{id:"email_field",value:d,onChange:y,copykey:"dyn_login.email_form.email_field.label",label:c("dyn_login.email_form.email_field.label"),error:n,message:n&&c("dyn_login.helper.email_form.invalid_email"),suffix:f.jsx(Jue,{disabled:e||s,highlighted:d.length>0,isFocused:v,isHovered:h,emailSubmitButtonInsideInput:i}),disabled:e||s,type:"email",onPointerEnter:()=>m(!0),onPointerLeave:()=>m(!1),onFocus:()=>g(!0),onBlur:()=>g(!1),autoComplete:"email"}),!i&&f.jsx(xt,{dataTestId:"submit_button",buttonClassName:"login-with-email-form__button",type:"submit",loading:e,disabled:e||d.length<3||s,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,copykey:o,typographyProps:{color:"inherit"},children:c(o)})]})},lP=({isLoading:e,onSubmit:t,onSubmitError:n,currentEmail:r,className:i,style:o})=>{var s;const a=vo(),{view:l,pushView:c}=At(),{setVerificationUUID:d,setDisplayedDestination:u}=Kc(),{setError:h}=so(),[m,v]=x.useState(!1),{connectWithEmail:g}=EYe(),y=x.useCallback(k=>{k.message==="Email is not valid"||k.message==="Invalid Email Address"?v(!0):h(k.message),Ie.debug(k),n==null||n()},[h,n]),b=x.useCallback(k=>de(void 0,void 0,void 0,function*(){t==null||t();try{yield g(k,()=>{d(void 0),u(k),c("login-with-email-verification")})}catch(_){y(_),c(l.type)}}),[g,t,y,c,l,d,u]);return a?Cj(a.providers)?f.jsx(Zue,{onSubmit:b,isLoading:e,currentEmail:r,emailSubmitButtonInsideInput:(s=a==null?void 0:a.design.modal)===null||s===void 0?void 0:s.emailSubmitButtonInsideInput,isEmailInvalid:m,className:i,style:o}):(Ie.error("Failed to render EmailSignInSection - no sign in provider enabled"),null):(Ie.debug("Failed to render EmailSignInSection - no project settings"),null)},w1=e=>{var{children:t,className:n}=e,r=bs(e,["children","className"]);return f.jsx(ip,Object.assign({},r,{className:Ke(n,"icon-list-tile"),children:f.jsx("div",{className:"icon-list-tile--children",children:t})}))},NYe=()=>{const{existentAccountData:e}=u_(),{t}=Xe(),{email:n,embeddedSocialSigninProvider:r}=e||{},i=$ue(r),{socialProvider:o,setSocialProvider:s,socialWalletConnector:a}=af(),l=W3(),{mutate:c}=Xo(()=>de(void 0,void 0,void 0,function*(){return s(i),yield a==null?void 0:a.endSession(),a==null?void 0:a.connect(r)})),d=()=>r?t("dyn_account_exists.description_social"):f.jsxs(f.Fragment,{children:[t("dyn_account_exists.description_email")," ",f.jsx("strong",{children:n})," ",t("dyn_account_exists.trail_message_email")]});return f.jsxs("div",{className:"account-exists__container",children:[f.jsx(MD,{className:"account-exists__image"}),f.jsxs("div",{className:"account-exists__main",children:[f.jsx("div",{className:"account-exists__content",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"account-exists__content--secondary",copykey:"dyn_account_exists",children:d()})}),r?f.jsxs(w1,{dataTestId:`inline-${r}`,onClick:()=>c(),className:"social-sign-in--tile",children:[f.jsx(si,{Icon:l(r),isSpinning:o===i,iconSize:32}),f.jsx(se,{variant:"button_primary",copykey:"dyn_account_exists.connect",children:t("dyn_account_exists.connect",{socialOauth:Nd(r==null?void 0:r.toString())})})]},r):f.jsx(lP,{isLoading:!1,currentEmail:n})]})]})};var XJ,PYe=["title","titleId"];function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cP.apply(null,arguments)}function BYe(e,t){if(e==null)return{};var n,r,i=DYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var MYe=function(t){var n=t.title,r=t.titleId,i=BYe(t,PYe);return x.createElement("svg",cP({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,XJ||(XJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.667 2.667C7.403 2.667 8 3.264 8 4v1.333h1.333a1.333 1.333 0 0 1 0 2.667H8v1.333a1.333 1.333 0 1 1-2.667 0V8H4a1.333 1.333 0 0 1 0-2.667h1.333V4c0-.736.597-1.333 1.334-1.333Zm10.666 0c.574 0 1.084.367 1.265.911l2.847 8.54 7.023 2.634a1.333 1.333 0 0 1 0 2.496l-7.023 2.634-2.847 8.54a1.333 1.333 0 0 1-2.53 0l-2.846-8.54-7.023-2.634a1.333 1.333 0 0 1 0-2.496l7.023-2.634 2.846-8.54a1.333 1.333 0 0 1 1.265-.911Zm0 5.55-1.782 5.348c-.128.381-.42.685-.797.826L10.464 16l4.29 1.609c.377.141.67.445.797.826l1.782 5.349 1.783-5.348c.127-.382.42-.686.797-.827L24.203 16l-4.29-1.609a1.333 1.333 0 0 1-.797-.826l-1.783-5.349ZM8 21.332c.736 0 1.333.597 1.333 1.334V24h1.334a1.333 1.333 0 0 1 0 2.667H9.333V28a1.333 1.333 0 1 1-2.666 0v-1.333H5.333a1.333 1.333 0 0 1 0-2.667h1.334v-1.333c0-.737.597-1.334 1.333-1.334Z",fill:"currentColor"})))};const jYe=()=>{const{setShowAuthFlow:e}=$e(),{t}=Xe(),n=()=>{e(!1)},r=f.jsx(Sn,{onClick:()=>{e(!1)},type:"button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:r,displayBorder:!0,children:f.jsx(se,{variant:"title",color:"primary",children:t("dyn_account_upgraded.title")})}),f.jsxs("div",{className:"account-upgraded-view",children:[f.jsxs("div",{className:"account-upgraded-view__content",children:[f.jsx("div",{className:"account-upgraded-view__icon-container",children:f.jsx("div",{className:"account-upgraded-view__icon-background",children:f.jsx(MYe,{className:"account-upgraded-view__icon"})})}),f.jsx("div",{className:"account-upgraded-view__message",children:f.jsx(se,{variant:"body_normal",color:"primary",style:{textAlign:"center"},children:t("dyn_account_upgraded.message")})})]}),f.jsx("div",{className:"account-upgraded-view__actions",children:f.jsx(xt,{onClick:n,buttonVariant:"brand-primary",expanded:!0,buttonPadding:"large",typographyProps:{color:"white"},dataTestId:"account-upgraded-continue-button",children:t("dyn_account_upgraded.continue_button")})})]})]})};var QJ,$Ye=["title","titleId"];function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dP.apply(null,arguments)}function LYe(e,t){if(e==null)return{};var n,r,i=UYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Aj=function(t){var n=t.title,r=t.titleId,i=LYe(t,$Ye);return x.createElement("svg",dP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,QJ||(QJ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"#FF4646"})))},eZ,FYe=["title","titleId"];function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uP.apply(null,arguments)}function WYe(e,t){if(e==null)return{};var n,r,i=qYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var zYe=function(t){var n=t.title,r=t.titleId,i=WYe(t,FYe);return x.createElement("svg",uP({xmlns:"http://www.w3.org/2000/svg",width:65,height:64,viewBox:"0 0 65 64",fill:"none","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,eZ||(eZ=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm10.325 34.635a.89.89 0 0 0-1.258-.016l-1.8 1.757a.89.89 0 0 0-.016 1.258l1.758 1.801a.89.89 0 0 0 1.273-1.242l-.338-.346a7.119 7.119 0 1 1-5.245.735.89.89 0 1 0-.886-1.543 8.897 8.897 0 1 0 6.321-.975l.176-.171a.89.89 0 0 0 .015-1.258ZM20.45 15a4.95 4.95 0 0 0-4.95 4.95v23.1A4.95 4.95 0 0 0 20.45 48h8.11a12.481 12.481 0 0 1-.383-3.081c0-6.004 4.247-11.016 9.901-12.194a2.462 2.462 0 0 1 2.172-.256 12.403 12.403 0 0 1 8.25 2.795V26.55a4.95 4.95 0 0 0-4.95-4.95h-23.1a1.65 1.65 0 1 1 0-3.3h19.8a1.65 1.65 0 1 0 0-3.3h-19.8Z",fill:"currentColor"})))};const Yue=()=>{var e,t,n;const{user:r,primaryWallet:i,projectSettings:o}=$e(),s=Qu(),{getEOAWallet:a}=xs(),l=i&&a(i),c=i&&Dh(i)||l&&Dh(l),d=Lh(o),u=!!r||s==="connect-only"&&!!i,h=(e=r==null?void 0:r.verifiedCredentials)===null||e===void 0?void 0:e.filter(({walletProvider:y})=>y),m=!!(h!=null&&h.find(({walletProvider:y})=>y==="embeddedWallet")),g=!oue(o)&&d&&((n=(t=o==null?void 0:o.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.automaticEmbeddedWalletCreation)&&(!(o!=null&&o.sdk.embeddedWallets.forceAuthenticatorAtSignup)||c)&&(!(h!=null&&h.length)||m);return x.useEffect(()=>{Ie.logVerboseTroubleshootingMessage("useIsLoggedIn",{authMode:s,eoaWallet:l,isSessionKeyCompatible:c,isTurnkeyProviderEnabled:d,primaryWallet:i,projectSettings:o,user:r})},[s,l,c,d,i,o,r]),g?!!(i&&u):u},VYe=e=>{const t=x.useRef(e),n=Yue(),r=Qu();return t.current=e,x.useMemo(()=>({authMode:r,setAuthMode:i=>{if(i!==r){if(n){Ie.error("Calling DynamicContext's setAuthMode method when the user already has a wallet is a noop");return}return n1(i)}}}),[n,r])},Zc=()=>{const e=x.useContext(eE);if(e===void 0)throw new Error("useDynamicContext must be used within a DynamicContextProvider");const{accountSwitchState:t,awaitingSignatureState:n,getNameService:r,handleLogOut:i,removeWallet:o,loadingNetwork:s,locale:a,loginWithEmail:l,multiWalletWidgetState:c,network:d,networkConfigurations:u,qrcodeUri:h,refetchProjectSettings:m,sdkHasLoaded:v,setLogInWithEmail:g,setMultiWalletWidgetState:y,setShowAuthFlow:b,setShowDynamicUserProfile:k,setShowQrcodeModal:_,shadowDOMEnabled:R,showAuthFlow:I,showQrcodeModal:T,user:M,userWithMissingInfo:D,bridgeChains:A,bridgeChainsToConnect:U,primaryWallet:$,setShowBridgeWidget:q,sendWagmiSettings:z,showDynamicUserProfile:S,selectedTabIndex:E,setSelectedTabIndex:N}=e,{authMode:P,setAuthMode:j}=VYe(e),V=x.useCallback(O=>{b(O,{clearErrors:!0,emitCancelAuth:!0,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!0})},[b]),{initialWalletVerificationInProgress:K}=xae(),F=x.useRef(null);return(!K||!$)&&(F.current=$),{accountSwitchState:t,authMode:P,awaitingSignatureState:n,bridgeChains:A,bridgeChainsToConnect:U,getNameService:r,handleLogOut:i,handleUnlinkWallet:o,loadingNetwork:s,locale:a,loginWithEmail:l,multiWalletWidgetState:c,network:d,networkConfigurations:u,primaryWallet:F.current,qrcodeUri:h,refetchProjectSettings:m,removeWallet:o,sdkHasLoaded:v,selectedTabIndex:E,sendWagmiSettings:z,setAuthMode:j,setLogInWithEmail:g,setMultiWalletWidgetState:y,setSelectedTabIndex:N,setShowAuthFlow:V,setShowBridgeWidget:q,setShowDynamicUserProfile:k,setShowQrcodeModal:_,shadowDOMEnabled:R,showAuthFlow:I,showDynamicUserProfile:S,showQrcodeModal:T,user:M,userWithMissingInfo:D}},KYe=()=>{var e,t;const{t:n}=Xe(),r=vo(),i=x.useRef(!1),o=(e=r==null?void 0:r.general)===null||e===void 0?void 0:e.supportEmail,s=(t=r==null?void 0:r.general)===null||t===void 0?void 0:t.supportUrls,a=!!(o||Object.keys(s||{}).length>0),{handleLogOut:l}=Zc(),c=()=>{window.location.reload()};return x.useEffect(()=>{const d=setTimeout(()=>{i.current=!0},100);return()=>{clearTimeout(d),i.current&&setTimeout(()=>{c()},0)}},[]),f.jsxs("div",{className:"backup-unsuccessful-view",children:[f.jsxs("div",{className:"backup-unsuccessful-view__content",children:[f.jsxs("div",{className:"backup-icon-container",children:[f.jsx(Nt,{color:"brand-primary",children:f.jsx(zYe,{className:"backup-icon",width:64,height:64})}),f.jsxs("div",{className:"warning-icon-container",children:[f.jsx(Aj,{className:"combined-icon",width:40,height:40}),f.jsx(Y3,{className:"exclamation-icon",width:20,height:20,style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}})]})]}),f.jsx(se,{variant:"body_normal",className:"backup-message",color:"primary",copykey:"dyn_waas.backup_unsuccessful.description",children:n("dyn_waas.backup_unsuccessful.description")}),f.jsx("div",{className:Ke("button-group",{"button-group--with-help-section":a}),children:f.jsx(xt,{buttonClassName:"retry-button",buttonVariant:"brand-primary",type:"submit",onClick:()=>c(),copykey:"dyn_waas.backup_unsuccessful.try_again",typographyProps:{color:"inherit"},children:n("dyn_waas.backup_unsuccessful.try_again")})}),f.jsx("div",{className:Ke("button-group","logout-group",{"button-group--with-help-section":a}),children:f.jsx(xt,{buttonClassName:"logout-button",buttonVariant:"tertiary",type:"submit",onClick:()=>{Ie.error("BackupUnsuccessfulView: Could not backup wallet, logging out"),l()},copykey:"dyn_waas.backup_unsuccessful.log_out",typographyProps:{color:"inherit",weight:"medium"},children:n("dyn_waas.backup_unsuccessful.log_out")})}),f.jsx("div",{className:"need-help-section",children:f.jsx(tp,{})})]}),f.jsx(Gc,{asFooter:!0})]})},HYe=({chainName:e,chainIcon:t,onClickAction:n,onClickClose:r})=>{const i=r&&f.jsx(Sn,{type:"button",onClick:r,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs("div",{className:"bridge-next-wallet-to-connect-layout",children:[f.jsx(Zn,{trailing:i,alignContent:"bottom",children:t&&f.jsx("div",{className:"bridge-next-wallet-to-connect-layout__chain-icon",children:t})}),f.jsxs("div",{className:"bridge-next-wallet-to-connect-layout__body",children:[f.jsxs(se,{color:"primary",variant:"title",children:["Nice! Now lets connect your ",e," wallet"]}),f.jsx(xt,{expanded:!0,buttonPadding:"large",onClick:n,children:`Connect ${e} wallet`})]})]})},GYe=()=>{const{setShowAuthFlow:e,bridgeChainsToConnect:t}=$e(),{pushView:n}=At();if(!(t!=null&&t.length))throw new Se("No wallets to connect");const[r]=t,{chain:i}=r,o=Uc(i),s=Hc(i);if(!o)throw new Se("No chain info found for chain",i);return f.jsx(HYe,{chainName:o.blockchainName,chainIcon:f.jsx(s,{}),onClickAction:()=>n("wallet-list"),onClickClose:()=>e(!1,{emitCancelAuth:!0})})},JYe=({title:e,body:t,onClickBack:n,onClickClose:r,onClickAction:i,actionButtonText:o="Continue",children:s,copykey:a})=>{const l=r&&f.jsx(Sn,{type:"button",onClick:r,"data-testid":"close-button",children:f.jsx(Oi,{})}),c=n&&f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Hd,{})});return f.jsxs("div",{className:"connected-wallets-list-layout",children:[f.jsx(Zn,{leading:c,trailing:l,children:f.jsx(se,{variant:"title",color:"primary",copykey:a,children:e})}),f.jsxs("div",{className:"connected-wallets-list-layout__body",children:[f.jsx(se,{variant:"body_normal",color:"secondary",className:"connected-wallets-list-layout__body__text",children:t}),s,f.jsx(xt,{buttonPadding:"large",buttonVariant:"primary",onClick:i,children:o})]})]})},ZYe=()=>{const{primaryWallet:e,setShowAuthFlow:t,appName:n,bridgeChains:r=[]}=$e(),{t:i}=Xe(),o=()=>t(!1,{emitCancelAuth:!0}),s=x.useMemo(()=>{const l=r.map(({chain:u})=>{var h;return(h=Uc(u))===null||h===void 0?void 0:h.blockchainName}),[c,d]=l;return i("dyn_bridge.summary_view.connection_succeed",{firstBlockchainName:c,secondBlockchainName:d})},[r,i]),a=l=>{const c=Hc(l.chain),d=Uc(l.chain);return f.jsx(lue,{networkIcon:f.jsx(c,{}),networkName:d==null?void 0:d.displayName,children:f.jsx(cue,{walletKey:l.connector.key,walletAddress:l.address,walletBalance:f.jsx(pj,{wallet:l,network:l.chain})})})};return f.jsxs(JYe,{onClickClose:o,onClickAction:o,copykey:"dyn_bridge.summary_view.title",title:i("dyn_bridge.summary_view.title",{appName:n}),body:s,children:[e&&a(e),f.jsx(SGe,{hideUnlinkAction:!0})]})},YYe=({body:e,chains:t=[],onClickAction:n,onClickClose:r,title:i,actionButtonText:o,copykey:s})=>{const a=r&&f.jsx(Sn,{type:"button",onClick:r,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs("div",{className:"bridge-welcome-layout",children:[f.jsx(Zn,{trailing:a,alignContent:"bottom",children:f.jsx("div",{className:"bridge-welcome-layout__chain-icon-group",children:[...t].reverse().map((l,c)=>f.jsx("div",{className:"bridge-welcome-layout__chain-icon",style:{zIndex:c},children:l.icon},l.id))})}),f.jsxs("div",{className:"bridge-welcome-layout__body",children:[f.jsxs("div",{className:"bridge-welcome-layout__message-container",children:[f.jsx(se,{variant:"title",color:"primary",copykey:s,children:i}),f.jsx(se,{variant:"body_normal",color:"secondary",children:e})]}),f.jsx("div",{children:f.jsx(Bue,{children:t.map(l=>f.jsx(Pue,{children:l.name},l.id))})}),f.jsx(xt,{buttonVariant:"primary",buttonPadding:"large",onClick:n,children:o})]})]})},XYe=e=>e!==void 0,QYe=()=>{const{appName:e,bridgeChains:t=[],setShowAuthFlow:n}=$e(),{pushView:r}=At(),{t:i}=Xe(),o=x.useMemo(()=>{const a=t.map(({chain:d})=>{var u;return(u=Uc(d))===null||u===void 0?void 0:u.blockchainName}),[l,c]=a;return i("dyn_bridge.welcome_view.description",{firstBlockchainName:l,secondBlockchainName:c})},[t,i]),s=x.useMemo(()=>t.map(({chain:a},l)=>{const c=Uc(a),d=Hc(a);if(c&&d)return{icon:f.jsx(d,{}),id:l,name:c.blockchainName}}).filter(XYe),[t]);return f.jsx(YYe,{onClickClose:()=>n(!1,{emitCancelAuth:!0}),title:i("dyn_bridge.welcome_view.title",{appName:e}),copykey:"dyn_bridge.welcome_view.title",body:o,chains:s,actionButtonText:i("dyn_bridge.welcome_view.button"),onClickAction:()=>r("wallet-list")})},eXe=({handleSuccess:e})=>{var t;const{projectSettings:n}=$e();return!((t=n==null?void 0:n.security.hCaptcha)===null||t===void 0)&&t.siteKey?f.jsx("form",{"data-testid":"captcha-form",children:f.jsx(Sqe,{sitekey:n.security.hCaptcha.siteKey,onVerify:r=>e(r),theme:document.body.dataset.dynamicTheme})}):null},tXe=()=>{const{t:e}=Xe(),{captchaAuthState:t,setCaptchaToken:n}=Gd(),r=i=>de(void 0,void 0,void 0,function*(){var o;n(i),yield(o=t==null?void 0:t.onCaptchaSuccess)===null||o===void 0?void 0:o.call(t,i)});return f.jsxs("div",{className:"captcha-verify-user__container",children:[f.jsx(hRe,{className:"captcha-verify-user__icon"}),f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"captcha-verify-user__title",copykey:"dyn_captcha.verify_user_title",children:e("dyn_captcha.verify_user_title")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"captcha-verify-user__subtitle",copykey:"dyn_captcha.verify_user_subtitle",children:e("dyn_captcha.verify_user_subtitle")}),f.jsx(eXe,{handleSuccess:r}),f.jsx(Gc,{classNameRoot:"captcha-verify-user__dynamic-logo"})]})};var tZ,nXe=["title","titleId"];function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fP.apply(null,arguments)}function rXe(e,t){if(e==null)return{};var n,r,i=iXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Xue=function(t){var n=t.title,r=t.titleId,i=rXe(t,nXe);return x.createElement("svg",fP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,tZ||(tZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm12.845-39.155a1.667 1.667 0 1 0-2.357-2.357L27.5 37.976l-5.488-5.488a1.667 1.667 0 1 0-2.357 2.357l6.666 6.667c.651.65 1.707.65 2.357 0l16.667-16.667Z",fill:"#4779FF"})))};const Que=e=>{if(e===Vb.VerifyEmail)return"email";if(e===Vb.VerifySms)return"sms"},oXe=e=>de(void 0,[e],void 0,function*({email:t,environmentId:n,captchaToken:r}){try{return yield cn().createEmailVerification({emailVerificationCreateRequest:{captchaToken:r,email:t},environmentId:n})}catch(i){const o=yield Tr(i,"Error creating email verification");throw new GI(o.error,o.code)}}),efe=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r,captchaToken:i,sessionPublicKey:o}){try{return yield cn().signInWithEmailVerification({emailVerificationVerifyRequest:{captchaToken:i,sessionPublicKey:o,verificationToken:t,verificationUUID:n},environmentId:r})}catch(s){const a=yield Tr(s,"Error email signin");throw a.error.code==="missing_from_list"?new tv({email:a.payload.email}):a.code==="email_associated_with_different_provider"?new H1(a.error,a.payload):a.error.code==="sandbox_maximum_threshold_reached"?new Ud(a.error.message):new GI(a.error,a.code)}}),tfe=e=>de(void 0,[e],void 0,function*({email:t,environmentId:n,verificationUUID:r}){try{return yield cn().retryEmailVerification({emailVerificationRetryRequest:{email:t,verificationUUID:r},environmentId:n})}catch(i){const o=yield Tr(i,"Error retrying email verification");throw new GI(o.error,o.code)}}),sXe=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r}){try{return yield cn().verifyEmailVerification({emailVerificationVerifyRequest:{verificationToken:t,verificationUUID:n},environmentId:r})}catch(i){const o=yield Tr(i,"Error linking email");throw o.code===Hb.UserHasAlreadyAccountWithEmail?new roe(o.error):o.error.code==="sandbox_maximum_threshold_reached"?new Ud(o.error.message):new GI(o.error,o.code)}}),nfe=e=>de(void 0,[e],void 0,function*({isoCountryCode:t,phoneNumber:n,phoneCountryCode:r,environmentId:i,captchaToken:o}){try{return yield cn().createSmsVerification({environmentId:i,smsVerificationCreateRequest:{captchaToken:o,isoCountryCode:t,phoneCountryCode:r,phoneNumber:n}})}catch(s){const a=yield Tr(s,"Error creating phone number verification");throw new m0(a.error,a.code)}}),rfe=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r,captchaToken:i,sessionPublicKey:o}){var s;try{return yield cn().signInWithSmsVerification({environmentId:r,smsVerificationVerifyRequest:{captchaToken:i,sessionPublicKey:o,verificationToken:t,verificationUUID:n}})}catch(a){const l=yield Tr(a,"Error signin phone number");throw((s=l.error)===null||s===void 0?void 0:s.code)==="missing_from_list"?new tv({phoneNumber:l.payload.phoneNumber}):l.code==="wrong_sms_verification_token"?new m0(wi.getInstance().t("dyn_login.helper.phone_number_form.invalid_sms_verification"),l.code):l.error.code==="sandbox_maximum_threshold_reached"?new Ud(l.error.message):new m0(l.error,l.code)}}),aXe=e=>de(void 0,[e],void 0,function*({isoCountryCode:t,phoneCountryCode:n,phoneNumber:r,environmentId:i,verificationUUID:o}){try{return yield cn().retrySmsVerification({environmentId:i,smsVerificationRetryRequest:{isoCountryCode:t,phoneCountryCode:n,phoneNumber:r,verificationUUID:o}})}catch(s){const a=yield Tr(s,"Error retrying phone number verification");throw new m0(a.error,a.code)}}),lXe=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r}){try{return yield cn().verifySmsVerification({environmentId:r,smsVerificationVerifyRequest:{verificationToken:t,verificationUUID:n}})}catch(i){const o=yield Tr(i,"Error verifying phone number");throw Ie.error(o.error),o.error.code==="sandbox_maximum_threshold_reached"?new Ud(o.error.message):new m0(o.error,o.code)}}),ife=()=>{const{environmentId:e,user:t,userWithMissingInfo:n}=$e(),{verificationUUID:r}=Kc();return{verifyOtp:x.useCallback((o,s,a,l)=>de(void 0,void 0,void 0,function*(){var c;if(!t&&!n)throw new Se(Kr);if(!l&&!r)throw new Se("No verification UUID is available");const h=yield(a==="email"?sXe:lXe)({environmentId:e,verificationToken:s,verificationUUID:l??r}),m=h.user,v=(c=m==null?void 0:m.missingFields)!==null&&c!==void 0?c:[],g=Que(h.nextView);return Ii(h),g?o({destination:g,missingFields:v,updateUserProfileResponse:h}):{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:v,updateUserProfileResponse:h}}),[r,e,t,n])}},ofe=()=>{const e=sfe(),{verifyOtp:t}=ife();return x.useMemo(()=>({verifyOtp:(n,r,i)=>t(e,n,r,i)}),[e,t])},cXe=(e,t)=>{var n,r,i,o,s,a,l;return t==="email"?{displayDestination:(n=e.emailVerification)===null||n===void 0?void 0:n.email,verificationUUID:(r=e.emailVerification)===null||r===void 0?void 0:r.verificationUUID}:{displayDestination:cj("+"+((o=(i=e.smsVerification)===null||i===void 0?void 0:i.phoneCountryCode)!==null&&o!==void 0?o:"")+((a=(s=e.smsVerification)===null||s===void 0?void 0:s.phoneNumber)!==null&&a!==void 0?a:"")),verificationUUID:(l=e.smsVerification)===null||l===void 0?void 0:l.verificationUUID}},sfe=()=>{const{setVerificationUUID:e,setDisplayedDestination:t}=Kc(),{environmentId:n}=$e(),{verifyOtp:r}=ife(),i=x.useCallback((s,a)=>de(void 0,void 0,void 0,function*(){if(s==="email"&&a.emailVerification||s==="sms"&&a.smsVerification)return a;const l=s==="email"?"email":"phoneNumber";if(!a.user[l])throw new HF(`missing ${l} field to perform update`);const c=yield Ile.validate({[l]:a.user[l]}),{emailVerification:d,smsVerification:u}=yield zM(n,c);if(s==="email"&&!d||s==="sms"&&!u)throw new HF(`could not get ${s} verification data from api`);return Object.assign(Object.assign({},a),{emailVerification:d,smsVerification:u})}),[n]),o=x.useCallback(s=>de(void 0,[s],void 0,function*({updateUserProfileResponse:a,missingFields:l,destination:c}){const d=yield i(c,a),{displayDestination:u,verificationUUID:h}=cXe(d,c);t(u),e(h);const m=v=>de(void 0,void 0,void 0,function*(){return r(o,v,c,h)});return c==="email"?{isEmailVerificationRequired:!0,isSmsVerificationRequired:!1,missingFields:l,updateUserProfileResponse:d,verifyOtp:m}:{isEmailVerificationRequired:!1,isSmsVerificationRequired:!0,missingFields:l,updateUserProfileResponse:d,verifyOtp:m}}),[i,t,e,r]);return o},dXe=e=>{const{environmentId:t,userWithMissingInfo:n}=$e(),{setRetryData:r}=Kc(),{selectedPhoneCountry:i}=gM(),o=sfe();return x.useCallback((a,l)=>de(void 0,void 0,void 0,function*(){var c,d;let{metadata:u}=a;u=u?Object.assign(Object.assign({},n==null?void 0:n.metadata),u):n==null?void 0:n.metadata;const h=yield Ile.validate(a,{stripUnknown:e});h.phoneNumber&&h.phoneNumber.length>0&&i.current&&r({dialCode:i.current.dialCode,iso2:i.current.iso2,phone:h.phoneNumber});const m=yield zM((c=l==null?void 0:l.userEnvironmentId)!==null&&c!==void 0?c:t,Object.assign(Object.assign({},h),{metadata:u})),v=(d=m.user.missingFields)!==null&&d!==void 0?d:[],g=Que(m.nextView);return g?o({destination:g,missingFields:v,updateUserProfileResponse:m}):{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:v,updateUserProfileResponse:m}}),[n==null?void 0:n.metadata,e,i,r,t,o])},uXe=(e,t,n)=>{if(!e.length)return"At least one field must be provided for editing";if(!t)return"No signed-in user";const r=JM({customFields:n==null?void 0:n.customFields,projectSettingsKyc:n==null?void 0:n.kyc,user:t});for(const i of e)if(!r.find(({name:o})=>o===i))return`Please ensure field "${i}" is enabled under "Configurations > Onboarding > Information capture" in your app's dashboard before using it with updateUserWithModal`;return""},fXe=(e,t,n,r,i)=>de(void 0,[e,t,n,r,i],void 0,function*({fields:o,updateUserResult:{isEmailVerificationRequired:s,isSmsVerificationRequired:a}},l,c,d,u){if(!s&&!a){d(o);return}if(l(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),s){c("verify-email"),rt.once("emailVerificationResult",(h,m)=>{o.email=m,h?d(o):u("Failed to verify email, no fields were updated")});return}c("verify-sms"),rt.once("smsVerificationResult",(h,{phone:m})=>{o.phoneNumber=m,h?d(o):u("Failed to verify phone number, no fields were updated")})}),hXe=e=>{const{user:t,projectSettings:n,setShowAuthFlow:r}=$e(),{pushView:i}=At(),o=x.useContext(Cue);if(!o)throw new Se("useUserUpdateRequest can only be used inside the context of DynamicContextProvider");const{open:s}=o;return x.useCallback((l,c)=>new Promise((d,u)=>{const h=uXe(l,t,n);if(h){u(h);return}s({fields:l,submitText:c==null?void 0:c.submitText,subtitle:c==null?void 0:c.subtitle,title:c==null?void 0:c.title},e).then(m=>fXe(m,r,i,d,u)).catch(m=>{if(/email already exists/gi.test(m))throw m;u(m)})}),[t,n,s,e,r,i])},pXe=()=>{const{environmentId:e}=$e();return x.useCallback(n=>de(void 0,[n],void 0,function*({verifiedCredentialId:r}){var i;const o=(i=Js())===null||i===void 0?void 0:i.user,s=Wd();if(!s)throw new Se("Primary wallet not found");const a=o==null?void 0:o.verifiedCredentials.find(l=>l.id===r);if(!a)throw new Se("Verified credential not found");if(a.format!==Zo.Email)throw new Se("Verified credential is not an email");return RWe({environmentId:e,primaryWalletId:s,verifiedCredentialId:r})}),[e])},afe=({validationSchemaStripUnknown:e})=>{const t=dXe(e),n=hXe(t);return{unlinkUserEmail:pXe(),updateUser:t,updateUserWithModal:n}},lfe=({children:e,userProfile:t,disableSubmit:n})=>{const{policiesConsentInnerComponent:r,userWithMissingInfo:i,primaryWallet:o}=$e(),{error:s}=so(),{completeAuth:a}=sf({}),{updateUser:l}=afe({validationSchemaStripUnknown:!1}),c=x.useCallback(b=>de(void 0,void 0,void 0,function*(){yield a({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return l(b)})})}),[a,l]),d=x.useMemo(()=>{var b;return((b=i==null?void 0:i.missingFields)===null||b===void 0?void 0:b.some(k=>k.name===yM))&&(o==null?void 0:o.connector.isEmbeddedWallet)},[i==null?void 0:i.missingFields,o]),{fetch:u,formikInitialValues:h,formikValidationSchema:m,enforcePolicies:v,onFormSubmit:g}=wue({fields:(i==null?void 0:i.missingFields)||[],onSubmit:c,userProfile:t}),y=[r].flat();return f.jsx(B3,{onSubmit:g,initialValues:h,validationSchema:m,children:({errors:b,touched:k,values:_})=>{var R;const I=n||v&&(y==null?void 0:y.length)!==((R=_.policiesConsentArray)===null||R===void 0?void 0:R.length);return f.jsx(S_,{className:"user-data-form__form",children:f.jsxs(f.Fragment,{children:[e,d&&f.jsx(Iue,{showDetails:!0}),s&&f.jsx(tc,{icon:"error",variant:"error",className:"user-data-form__error",children:s}),f.jsx(kue,{fields:i==null?void 0:i.missingFields,errors:b,touched:k,policiesConsentInnerComponentArray:y}),f.jsx(xt,{type:"submit",loading:u,disabled:I,buttonVariant:"primary",expanded:!0,buttonPadding:"login-screen-height",children:"Continue"})]})})}})},mXe=()=>{var e;const{appName:t,projectSettings:n,network:r,selectedWalletConnector:i,handleLogOut:o,onboardingImageUrl:s,userWithMissingInfo:a}=$e(),l=q3(),{t:c}=Xe();if(!a)return null;const u=!(!r||!i||ng({network:r,walletConnector:i}))&&!!i,h=(e=a==null?void 0:a.verifiedCredentials.find(m=>m.id===a.lastVerifiedCredentialId))===null||e===void 0?void 0:e.address;return f.jsxs("div",{className:"collect-user-data","data-testid":"collect-user-data-view",children:[f.jsxs("div",{className:"collect-user-data__network-container",children:[f.jsxs("div",{className:"collect-user-data__img-container",children:[l!=null&&l.avatar?f.jsx("img",{src:l.avatar,alt:"",className:"collect-user-data__img collect-user-data__img--rounded"}):f.jsx(uj,{iconSize:28}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"medium",className:"collect-user-data__wallet-address",children:(l==null?void 0:l.name)||Ni(h)})]}),i&&f.jsx(hj,{currentNetwork:r,connector:i,showNetworkName:!0,buttonClassName:"collect-user-data__network-picker-button",mainClassName:"collect-user-data__network-picker"})]}),s&&f.jsx("img",{className:"collect-user-data__main-img",src:s,alt:"onboarding"}),u&&f.jsx(Lr,{withIcon:!1,className:"collect-user-data__error--not-supported",copykey:"dyn_collect_user_data.not_supported_network.error_message",children:c("dyn_collect_user_data.not_supported_network.error_message")}),f.jsxs("div",{className:Ke("collect-user-data__form",{"collect-user-data__form--error":u}),children:[f.jsx("div",{className:"collect-user-data__success-icon",children:f.jsx(Nt,{color:"text-primary",size:"large",children:f.jsx(Xue,{})})}),f.jsx(lfe,{disableSubmit:u,userProfile:a,children:u?f.jsxs("div",{className:"collect-user-data__welcome-container",children:[f.jsx(se,{variant:"title",color:"primary",className:"collect-user-data__welcome-title",copykey:"dyn_collect_user_data.not_supported_network.title",children:c("dyn_collect_user_data.not_supported_network.title")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.not_supported_network.description",children:c("dyn_collect_user_data.not_supported_network.description")})]}):f.jsxs("div",{className:"collect-user-data__welcome-container",children:[f.jsx(se,{variant:"title",color:"primary",className:"collect-user-data__welcome-title",copykey:"dyn_collect_user_data.greeting",children:(n==null?void 0:n.general.collectUserDataWelcomeHeader)||c("dyn_collect_user_data.greeting",{appName:t})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.description",children:(n==null?void 0:n.general.collectUserDataWelcomeMessage)||c("dyn_collect_user_data.description")})]})}),f.jsx(Zs,{className:"collect-user-data__log-out",onClick:o,copykey:"dyn_collect_user_data.log_out_button",children:c("dyn_collect_user_data.log_out_button")})]})]})},gXe=({userIdentification:e,userIdentificationOverride:t})=>{var n;const{appName:r,handleLogOut:i,projectSettings:o,onboardingImageUrl:s,userWithMissingInfo:a}=$e(),{t:l}=Xe();return a?f.jsxs("div",{className:"collect-user-data-login-no-wallet","data-testid":"collect-user-data-login-no-wallet",children:[s&&f.jsx("img",{className:"collect-user-data-login-no-wallet__main-img",src:s,alt:"onboarding"}),f.jsxs("div",{className:"collect-user-data-login-no-wallet__user-info-container",children:[f.jsx("div",{className:"collect-user-data-login-no-wallet__icon-container",children:f.jsx(Qde,{user:a})}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"medium",className:"collect-user-data-login-no-wallet__user-identification",children:(n=t??a[e])!==null&&n!==void 0?n:Xde(a)})]}),f.jsxs("div",{className:"collect-user-data-login-no-wallet__form",children:[f.jsx("div",{className:"collect-user-data-login-no-wallet__success-icon",children:f.jsx(Nt,{color:"text-primary",size:"large",children:f.jsx(Xue,{})})}),f.jsx(lfe,{userProfile:a,children:f.jsxs("div",{className:"collect-user-data-login-no-wallet__welcome-container",children:[f.jsx(se,{variant:"title",color:"primary",className:"collect-user-data-login-no-wallet__welcome-title",copykey:"dyn_collect_user_data.greeting",children:(o==null?void 0:o.general.collectUserDataWelcomeHeader)||l("dyn_collect_user_data.greeting",{appName:r})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.description",children:(o==null?void 0:o.general.collectUserDataWelcomeMessage)||l("dyn_collect_user_data.description")})]})}),f.jsx(Zs,{className:"collect-user-data-login-no-wallet__log-out",onClick:i,copykey:"dyn_collect_user_data.log_out_button",children:l("dyn_collect_user_data.log_out_button")})]})]}):null},I4=64,yXe=({onReturn:e,initiatedByWidget:t})=>{const{primaryWallet:n}=$e(),{t:r}=Xe();if(!n)return null;const i=f.jsx(oi,{icon:n.connector.metadata.icon,walletKey:n.connector.key,style:{height:Ut(I4*Yo),width:Ut(I4*Yo)}});return f.jsx("div",{"data-testid":"duplicate-wallet-view",children:f.jsxs("div",{className:"duplicate-wallet-view__content",children:[f.jsx(si,{Icon:i,customSpinnerColor:"red",iconSize:I4,className:"duplicate-wallet-view__icon",isSpinning:!0}),f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_duplicate_wallet.description",children:r("dyn_duplicate_wallet.description")}),f.jsx(xt,{onClick:()=>e(t),buttonClassName:"duplicate-wallet-view__button",buttonVariant:"brand-primary",buttonPadding:"large",copykey:"dyn_duplicate_wallet.return",typographyProps:{color:"white",weight:"regular"},children:r("dyn_duplicate_wallet.return")})]})})};var nZ,vXe=["title","titleId"];function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hP.apply(null,arguments)}function wXe(e,t){if(e==null)return{};var n,r,i=bXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var cfe=function(t){var n=t.title,r=t.titleId,i=wXe(t,vXe);return x.createElement("svg",hP({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,nZ||(nZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.638 2.862a.667.667 0 0 0-.943 0L7.167 8.391v.943h.942l5.53-5.53a.667.667 0 0 0 0-.942Zm-1.886-.943a2 2 0 1 1 2.829 2.829l-5.724 5.724a.667.667 0 0 1-.471.195H6.5A.667.667 0 0 1 5.833 10V8.115c0-.177.07-.347.196-.472l5.723-5.724ZM4.5 4a.667.667 0 0 0-.667.667V12c0 .368.299.667.667.667h7.333A.667.667 0 0 0 12.5 12V8.667a.667.667 0 0 1 1.333 0V12a2 2 0 0 1-2 2H4.5a2 2 0 0 1-2-2V4.667a2 2 0 0 1 2-2h3.333a.667.667 0 0 1 0 1.333H4.5Z",fill:"currentColor"})))};const _Xe=()=>{const{pushView:e}=At(),{clearStatesOnBackClick:t,selectedWalletConnector:n}=$e(),{t:r}=Xe();if(n&&!bm(n))throw new Error("Wallet connector is not email provider");const i=n,o=x.useCallback(()=>de(void 0,void 0,void 0,function*(){yield i==null?void 0:i.endSession(),e("login-with-email-or-wallet"),t()}),[e,i,t]);return f.jsxs("div",{className:"email-confirmation-waiting-view",children:[f.jsx("div",{className:"email-confirmation-waiting-view__header-icon",children:f.jsx(si,{Icon:y0,iconSize:80,isSpinning:!0})}),f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"email-confirmation-waiting-view__title",copykey:"dyn_email_confirmation.title",children:r("dyn_email_confirmation.title")}),f.jsx(se,{weight:"regular",variant:"body_normal",color:"secondary",copykey:"dyn_email_confirmation.description",children:r("dyn_email_confirmation.description")}),f.jsxs("div",{className:"email-confirmation-waiting-view__email-container",children:[f.jsx(se,{variant:"body_normal",color:"secondary",weight:"medium",as:"span",children:i==null?void 0:i.email}),f.jsx(Sn,{onClick:o,className:"email-confirmation-waiting-view__edit-icon-button","data-testid":"email-confirmation-waiting-view__edit-button",children:f.jsx(Nt,{color:"text-tertiary",children:f.jsx(cfe,{})})})]}),f.jsx("div",{className:"email-confirmation-waiting-view__note",children:f.jsx(se,{weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_email_confirmation.note",children:r("dyn_email_confirmation.note")})}),f.jsx(Gc,{classNameRoot:"email-confirmation-waiting-view__powered_by_dynamic_footer"})]})};var rZ,iZ,oZ,xXe=["title","titleId"];function pP(){return pP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pP.apply(null,arguments)}function kXe(e,t){if(e==null)return{};var n,r,i=SXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Rj=function(t){var n=t.title,r=t.titleId,i=kXe(t,xXe);return x.createElement("svg",pP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,rZ||(rZ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"currentColor"})),iZ||(iZ=x.createElement("path",{d:"M51 29.333a1.333 1.333 0 0 0-1.333 0l-17.334 9.8L15 29.333a1.333 1.333 0 0 0-2 1.16V42a4 4 0 0 0 4 4h30.667a4 4 0 0 0 4-4V30.5A1.333 1.333 0 0 0 51 29.333Z",fill:"#fff"})),oZ||(oZ=x.createElement("path",{d:"M47.667 18H17a4 4 0 0 0-4 4v2.5a1.334 1.334 0 0 0 .667 1.16l18 10.167a1.333 1.333 0 0 0 1.333 0L51 25.66a1.334 1.334 0 0 0 .667-1.16V22a4 4 0 0 0-4-4Z",fill:"#fff"})))};const IXe=10,dfe=e=>{const t=x.useRef(e);t.current=e,x.useEffect(()=>{const n=new Date;return()=>{new Date().getTime()-n.getTime()<IXe||t.current()}},[])},EXe=(e,t)=>!e||t.length>2?t.split(""):t===""?[]:e[0]===t[0]?[t[1]]:[t[0]],CXe=({autoFocus:e,disabled:t,inputIndex:n,inputMode:r,isValidated:i,name:o,onChange:s,pattern:a,type:l,value:c,values:d,hasError:u})=>{const h=x.useRef(null),m=g=>{const y=d[n],b=g.target.value.replace(/\s+/g,""),k=[...d],_=EXe(y,b).slice(0,k.length-n),R=(D,A)=>k[n+A]=D,I=l==="number"?/(^$)|(\d+)/:/.*/,T=_.every(D=>I.test(D));let M=h.current;if(T){_.length?_.forEach(R):k[n]="",s(k);for(let D=0;D<_.length;D++)M=M==null?void 0:M.nextElementSibling;_&&M instanceof HTMLInputElement&&M.focus()}},v=({key:g})=>{var y;if(g==="Backspace"&&d[n]===""&&n>0){const b=(y=h.current)===null||y===void 0?void 0:y.previousElementSibling;b instanceof HTMLInputElement&&b.focus()}};return x.useEffect(()=>{var g;e&&n===0&&((g=h==null?void 0:h.current)===null||g===void 0||g.focus())},[e,n]),f.jsx("input",{ref:h,className:Ke("pin-input__input",{"pin-input__input--error":!!u,"pin-input__input--success":!!i}),disabled:t,name:o,value:c,onChange:m,onKeyDown:v,"data-testid":n,pattern:a,inputMode:r,tabIndex:0})},AXe=e=>e.every(t=>t),ufe=({handleComplete:e,initialValue:t,inputMode:n,isLoading:r,isValidated:i,pattern:o,type:s="number",hasError:a,onChange:l,disabled:c})=>{const d=x.useRef(null),[u,h]=x.useState(t),m=v=>{const g=v.join("");h(v),l==null||l(g),AXe(v)&&e(g)};return x.useEffect(()=>{var v,g;a&&(h(t),(g=(v=d==null?void 0:d.current)===null||v===void 0?void 0:v.getElementsByTagName("input").item(0))===null||g===void 0||g.focus())},[a,t,d]),f.jsx("div",{className:"pin-field__container",ref:d,children:u.map((v,g)=>f.jsx(CXe,{values:u,inputIndex:g,value:v,onChange:m,disabled:r||c,inputMode:n,isValidated:i,pattern:o,type:s,autoFocus:!0,hasError:a},`pin_input_${g}`))})};var sZ,RXe=["title","titleId"];function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mP.apply(null,arguments)}function TXe(e,t){if(e==null)return{};var n,r,i=OXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var NXe=function(t){var n=t.title,r=t.titleId,i=TXe(t,RXe);return x.createElement("svg",mP({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,sZ||(sZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.666a5.333 5.333 0 1 0 0 10.667A5.333 5.333 0 0 0 8 2.666ZM1.333 8a6.667 6.667 0 1 1 13.333 0A6.667 6.667 0 0 1 1.333 8Zm9.138-1.805c.26.26.26.682 0 .943L7.804 9.804a.667.667 0 0 1-.942 0L5.528 8.471a.667.667 0 1 1 .943-.943l.862.862 2.195-2.195c.26-.26.683-.26.943 0Z",fill:"currentColor"})))};const PXe=({callback:e,seconds:t})=>{const[n,r]=x.useState(t),i=x.useRef(),o=()=>{if(i.current)return r(t);a()},s=()=>{clearTimeout(i.current),i.current=void 0},a=()=>{i.current=setTimeout(()=>{r(l=>l-1)},1e3)};return x.useEffect(()=>{if(i.current){if(n<=0){e&&e();return}return a(),()=>clearTimeout(i.current)}},[n,e]),{remainingSeconds:n,startCountdown:o,stopCountdown:s}},ffe=({retryHandler:e,secondsToRetry:t=15,disabled:n=!1,className:r})=>{const{t:i}=Xe(),[o,s]=x.useState(!1),{remainingSeconds:a,startCountdown:l}=PXe({callback:()=>s(!1),seconds:t}),{isLoading:c,mutate:d}=Xo(e,{onSuccess:()=>{s(!0),l()}}),u=Ke("retry-send-verification-code-section",r);return o?f.jsxs("div",{className:u,children:[f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_otp_verification.resend_code_in",children:i("dyn_otp_verification.resend_code_in",{remainingSeconds:a})}),f.jsxs("span",{className:"retry-send-verification-code-section__confirmation",children:[f.jsx(Nt,{color:"success-1",children:f.jsx(NXe,{})}),f.jsx(se,{variant:"body_small",weight:"medium",color:"primary",copykey:"dyn_otp_verification.code_sent",children:i("dyn_otp_verification.code_sent")})]})]}):f.jsxs("div",{className:u,children:[f.jsx(se,{variant:"body_small",weight:"medium",color:"secondary",copykey:"dyn_otp_verification.code_not_received",className:"retry-send-verification-code-section__not-received",children:i("dyn_otp_verification.code_not_received")}),f.jsx(Zs,{className:"email-verification__text-button",disabled:c||n,onClick:()=>d(),copykey:"dyn_otp_verification.resend_code",children:i("dyn_otp_verification.resend_code")})]})},BXe=15,aZ=({isEmailRecoveryFlow:e=!1,showRetryButton:t=!0,showTransferMessage:n=!1})=>{var r,i,o,s;const{environmentId:a,handleLogOut:l,setShowAuthFlow:c,projectSettings:d,user:u,userWithMissingInfo:h,walletConnectorOptions:m,primaryWallet:v}=$e(),{pushView:g,clearStackAndPushInitialView:y}=At(),{error:b,setError:k,setErrorMessage:_}=so(),{loading:R,setLoading:I}=mv(),[T,M]=x.useState(t),[D,A]=x.useState(n),{getEOAWallet:U}=xs(),[$,q]=x.useState(!1),z=x.useRef($),S=lt=>{q(lt),z.current=lt},{displayedDestination:E,verificationUUID:N,setVerificationUUID:P}=Kc(),{t:j}=Xe(),{addRecoveryEmail:V}=Qh(),{isTurnkeyWallet:K,hasTurnkeyVerifiedCredentialAuthenticator:F,hasRecoveryEmail:O}=da(),W=Lh(d),{initAuth:G,completeAuth:Y,cancelAuth:ie}=sf({authMethod:"email"}),{verifyOneTimePassword:ye,retryOneTimePassword:me}=Hue(),{generateSessionKey:be,shouldRegisterSessionKeysOnSignin:Me}=Gm({environmentId:a,projectSettings:d}),Fe=x.useRef(!0);dfe(()=>{if(!Fe.current)return;const lt=E??"";rt.emit("emailVerificationResult",z.current,lt),z.current||rt.emit("authFailure",{email:lt,option:lt,type:"email"},"user-cancelled"),E||Ie.warn("WARNING: emitted emailVerificationResult with incomplete params because useVerification's displayedDestination was undefined")});const{verifyOtp:De}=ofe(),gt=x.useCallback(lt=>de(void 0,void 0,void 0,function*(){var jt,rn,Re,Ze,ct,st,vt,$t;if(lt.nextView==="verified-and-transferred"&&(A==null||A(!0)),e)return g("passkey-recovery-add-email",{canSkipAddingEmail:!1,isFromEmailVerification:!0}),!0;if(!K)return!1;if(F&&!O&&(!((jt=lt==null?void 0:lt.user)===null||jt===void 0)&&jt.email))return Ii(lt),yield V(lt.user.email),c(!1),!0;if(W){const zt=(Re=(rn=d==null?void 0:d.sdk)===null||rn===void 0?void 0:rn.embeddedWallets)===null||Re===void 0?void 0:Re.automaticEmbeddedWalletCreation,ce=v&&U(v),X=v&&Dh(v)||ce&&Dh(ce),we=!!(!(((ct=(Ze=d==null?void 0:d.sdk)===null||Ze===void 0?void 0:Ze.embeddedWallets)===null||ct===void 0?void 0:ct.defaultWalletVersion)===Lc.V3)&&zt&&(!(!((vt=(st=d==null?void 0:d.sdk)===null||st===void 0?void 0:st.embeddedWallets)===null||vt===void 0)&&vt.forceAuthenticatorAtSignup)||X));if(we){const Ae=_0(d),Pe=Uh(Hm(lt.user),[Ae]);if(!Pe)throw new Error("Could not find an embedded wallet");const We=m==null?void 0:m.find(on=>on.key===Pe.walletName);if(!(We!=null&&We.walletConnector))throw new Error("Could not find connector for embedded wallet");const tn=We.walletConnector.createWallet({address:Pe.address||"",chain:We.walletConnector.connectedChain,connector:We.walletConnector,id:Pe.id,isAuthenticated:!1,key:($t=Pe.walletName)!==null&&$t!==void 0?$t:""});To(Pe.id),rt.emit("embeddedWalletCreated",tn,Pe,u)}if(we||!zt)return c(!1),!0}return!1}),[e,K,F,O,W,g,V,c,(i=(r=d==null?void 0:d.sdk)===null||r===void 0?void 0:r.embeddedWallets)===null||i===void 0?void 0:i.automaticEmbeddedWalletCreation,(s=(o=d==null?void 0:d.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0?void 0:s.forceAuthenticatorAtSignup,v,U,m,u]),tt=x.useCallback(lt=>de(void 0,void 0,void 0,function*(){return k(void 0),I(!0),!u&&!h?G({onVerifySuccess:()=>S(!0),options:{email:E},showSuccessMessage:!1,verifyFunction:()=>de(void 0,void 0,void 0,function*(){if(!N)return ye(lt,{skipSetUserAndAuthToken:!0});let jt;return Me()&&(jt=(yield be()).publicKey),yield Fc(),efe({environmentId:a,sessionPublicKey:jt,verificationToken:lt,verificationUUID:N})})}):N?Y({completeSignInFlow:jt=>de(void 0,void 0,void 0,function*(){return gt(jt)}),onValidUpdatedJwt:()=>{S(!0)},options:{email:E,isEmailRecoveryFlow:e},updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return De(lt,"email",N)})}):ie()}),[k,I,N,u,h,Y,E,e,ie,G,a,gt,De,ye,be,Me]),dt=()=>de(void 0,void 0,void 0,function*(){try{if(I(!0),!N||!E){yield me(),P(void 0),k(void 0);return}const{verificationUUID:lt}=yield tfe({email:E,environmentId:a,verificationUUID:N});P(lt),k(void 0)}catch(lt){Ie.debug(lt),_(lt.code),lt.code==="too_many_email_verification_attempts"&&M(!1),lt.code==="invalid_email_verification"&&y()}finally{I(!1)}}),Qt=x.useMemo(()=>jt=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(Rj,Object.assign({},jt))}),[]);return f.jsxs(f.Fragment,{children:[b&&f.jsx(Lr,{withIcon:!1,className:"email-verification__error-message",children:b}),f.jsxs("div",{className:Ke("email-verification__container",{"email-verification__container--error":!!b}),children:[D&&f.jsx("div",{className:"email-verification__transfer-message",copykey:"dyn_otp_verification.email.complete",children:j("dyn_otp_verification.email.complete")}),$?f.jsx("div",{className:"email-verification__icon-container",children:f.jsx(fv,{containerClassName:"email-verification__icon--verified",Icon:Qt,iconSize:64,InnerIcon:cc})}):f.jsx(si,{Icon:Qt,iconSize:96,isSpinning:!0,className:"email-verification__icon-with-spinner"}),f.jsxs("div",{className:"email-verification__copy-text-container",children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:j("dyn_otp_verification.description")}),f.jsx(se,{variant:"body_normal",weight:"bold",color:"secondary",children:v1(E)})]}),f.jsx(ufe,{initialValue:Array(6).fill(""),isLoading:R,handleComplete:tt,isValidated:$,inputMode:"numeric",pattern:"[0-9]*",hasError:!!b,onChange:()=>k(void 0)}),T&&f.jsx(ffe,{className:"email-verification__retry-container",retryHandler:dt,secondsToRetry:BXe}),(u||h)&&!e&&f.jsx(Zs,{className:"email-verification__log-out",onClick:l,copykey:"dyn_otp_verification.log_out_button",children:j("dyn_otp_verification.log_out_button")})]})]})},DXe={error:"error-1",notice:"brand-primary",success:"green-1"},WS=({messageKey:e,type:t="error",disableTruncate:n=!1,className:r})=>{const{t:i}=Xe();return f.jsx(Hu,{animationComponent:f.jsx(ig,{style:{width:"100%"}}),children:!!e&&f.jsx("div",{className:Ke("modal-header-banner",r,{"modal-header-banner__error":t==="error","modal-header-banner__notice":t==="notice","modal-header-banner__success":t==="success"}),children:f.jsx(se,{variant:"body_small",color:DXe[t],truncate:n===!1,copykey:e,children:i(e||"")})})})},Tj=({onClickBack:e,onClickEditDestination:t,isLoading:n,disabled:r,displayedDestination:i,description:o,onPinComplete:s,isValid:a,error:l,retryHandler:c,onPinChange:d,successBannerTextKey:u,MainIcon:h,hideHeader:m,appendAboveOTPInput:v,appendToEnd:g})=>{const{t:y}=Xe(),b=e&&f.jsx(Sn,{type:"button",onClick:e,"data-testid":"back-button",children:f.jsx(Xh,{})}),k=x.useMemo(()=>a?"dyn_otp_verification.verification_succeeded":"dyn_otp_verification.confirm_code",[a]);return f.jsxs(f.Fragment,{children:[!m&&f.jsx(Zn,{alignContent:"bottom",leading:e&&b,children:f.jsx("div",{className:"otp-verification-view__status-header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"otp-verification-view__title",copykey:k,children:y(k)})})}),u&&f.jsx(WS,{type:"notice",messageKey:u,disableTruncate:!0}),f.jsx(WS,{type:"error",messageKey:l==null?void 0:l.message}),f.jsxs("div",{className:Ke("otp-verification-view",{"otp-verification-view--message":!!(u||l)}),children:[a&&f.jsx(fv,{Icon:h,iconSize:64,InnerIcon:cc}),!a&&f.jsx(si,{Icon:h,iconSize:96,isSpinning:n,className:"otp-verification-view__icon-with-spinner",treatAsFunctionComponent:!0}),f.jsxs("div",{className:"otp-verification-view__body",children:[a&&f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.hang_tight",children:y("dyn_otp_verification.hang_tight")}),!a&&(o?f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:o}):f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:y("dyn_otp_verification.description")}),f.jsxs("div",{className:"otp-verification-view__destination-container",children:[i&&f.jsx(se,{variant:"body_normal",weight:"bold",color:"secondary",children:i}),t&&f.jsx(Sn,{onClick:t,"data-testid":"otp-verification-view__edit-button",children:f.jsx(Nt,{color:"text-tertiary",children:f.jsx(cfe,{})})})]})]}))]}),v,f.jsx(ufe,{initialValue:Array(6).join(".").split("."),isLoading:n,handleComplete:s,isValidated:a,inputMode:"numeric",pattern:"[0-9]*",hasError:!!l,onChange:d,disabled:r}),c&&f.jsx(ffe,{className:"otp-verification-view__retry-container",retryHandler:c}),g]})]})},MXe=e=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(Rj,Object.assign({},e,{"data-testid":"sign-in-with-email-icon"}))}),jXe=()=>{const{pushView:e}=At(),[t,n]=x.useState(),{selectedWalletConnector:r,clearStatesOnBackClick:i}=$e();if(!r||!ED(r))throw new Error("Current wallet is not EmailWalletConnector");const{email:o}=r;if(!o)throw new Error("EmailWalletOtpVerificationView requires a email");const s=()=>{r.clearEmail(),i(),e("login-with-email-or-wallet"),rt.emit("authFailure",{email:o,option:o,type:"email"},"user-cancelled")},{data:a,isLoading:l,mutate:c}=Xo(d=>r.verifyOneTimePassword(d),{onFailure:d=>{n(d),rt.emit("emailVerificationResult",!1,o)},onSuccess:()=>{rt.emit("emailVerificationResult",!0,o)}});return f.jsx(Tj,{MainIcon:MXe,displayedDestination:v1(o),error:t,onClickBack:s,isLoading:l,onPinComplete:c,isValid:a===!0,retryHandler:r.retryOneTimePassword.bind(r),onPinChange:()=>n(void 0),onClickEditDestination:s,successBannerTextKey:"dyn_magic_verification.banner_text"})};var lZ,cZ,$Xe=["title","titleId"];function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gP.apply(null,arguments)}function LXe(e,t){if(e==null)return{};var n,r,i=UXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var FXe=function(t){var n=t.title,r=t.titleId,i=LXe(t,$Xe);return x.createElement("svg",gP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,lZ||(lZ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"#FF4646"})),cZ||(cZ=x.createElement("path",{d:"M35.4 19.2a3.2 3.2 0 0 0-6.4 0V32a3.2 3.2 0 0 0 6.4 0V19.2ZM32.2 41.6a3.2 3.2 0 0 0 0 6.4h.032a3.2 3.2 0 0 0 0-6.4H32.2Z",fill:"#F9F9FB"})))};const yP=(e=!1)=>({0:"Operation was canceled.",16:e?"Error processing your request. Please try again.":"Invalid Passkey signature. Select the passkey for this account and device.",3:"You reached the limit of passkeys for this account.",5:e?"Error processing your request. Please try again.":"Invalid Passkey signature. Select the passkey for this account and device.",7:"The code is invalid or expired."}),Ck={RequestFailed:"Request failed. Please try again.",UserCancelled:yP(!1)[0]},WXe={NotAllowedError:"Request Cancelled. Select a device or password manager to set up a passkey."},op=(e,t)=>{var n,r;const i=((n=t==null?void 0:t.verifiedCredentials)===null||n===void 0?void 0:n.some(o=>{var s;return((s=o.walletProperties)===null||s===void 0?void 0:s.version)===Lc.V2}))||!1;if(typeof e=="string")return e;if("reason"in e)return e.reason;if(e instanceof DOMException)return WXe[e.name]||"Something went wrong";if("cause"in e){if(((r=e==null?void 0:e.cause)===null||r===void 0?void 0:r.code)!==void 0){if(e.cause.code===VK)throw new lS;return yP(i)[e.cause.code]}if(e.cause&&"error"in e.cause&&typeof e.cause.error=="string"&&Ck[e.cause.error])return Ck[e.cause.error]}if("code"in e&&e.code){if(e.code===VK)throw new lS;return yP(i)[e.code]}return"error"in e&&typeof e.error=="string"&&Ck[e.error]?Ck[e.error]:"Something went wrong"},qXe=()=>{const{primaryWallet:e,setShowAuthFlow:t,environmentId:n,handleLogOut:r,user:i}=$e(),[o,s]=x.useState(!1),[a,l]=x.useState(void 0),{t:c}=Xe(),[d,u]=x.useState(!1),{isSmartWallet:h,getEOAWallet:m}=xs(),v=x.useMemo(()=>{if(a){if(a instanceof Se)return a.message;try{return op(a,i)}catch{return"An unexpected error occured while deleting your embedded wallets."}}},[a,i]),g=()=>de(void 0,void 0,void 0,function*(){var b;if(e){u(!0);try{const k=k3(e.id,(i==null?void 0:i.verifiedCredentials)||[]),_=yield FMe({environmentId:n,walletId:k}),I=yield(h(e)?(b=m(e))===null||b===void 0?void 0:b.connector:e==null?void 0:e.connector).stampDeleteSubOrganizationRequest({request:_});yield WMe({deleteEmbeddedWalletsRequest:I,environmentId:n}),r()}catch(k){l(k)}finally{u(!1)}}}),y=f.jsx("div",{children:f.jsx("div",{className:"embedded-delete-view__body__description",children:f.jsx("div",{className:"embedded-delete-view__header",children:f.jsx(FXe,{})})})});return f.jsxs("div",{className:"embedded-delete-view",children:[f.jsx("div",{className:"embedded-delete-view__body",children:y}),v&&f.jsx(Lr,{children:v}),f.jsxs("div",{className:"embedded-delete-view__body__card",children:[f.jsx(se,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_delete.description_1",children:c("dyn_embedded_delete.description_1")}),f.jsx(se,{variant:"body_normal",color:"primary",style:{fontWeight:"bold",letterSpacing:"-0.15px"},copykey:"dyn_embedded_delete.description_2",children:c("dyn_embedded_delete.description_2")})]}),f.jsx("div",{className:"embedded-delete-view__body__confirm_card",children:f.jsxs("button",{className:"embedded-delete-view__body__card__acknowledgement","data-testid":"embedded-delete-checkbox",onClick:()=>s(!o),children:[f.jsx("div",{children:f.jsx(Kd,{checked:o,className:"embedded-delete-view__body__card__statement__checkbox",id:"embedded-reveal-checkbox-1"})}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_delete.acknowledgement",children:c("dyn_embedded_delete.acknowledgement")})})]})}),f.jsxs("div",{className:"embedded-delete-view__body__cta_button_wrapper",children:[f.jsx(xt,{buttonPadding:"large",buttonVariant:"primary",typographyProps:{color:"inherit"},onClick:()=>t(!1),disabled:!1,loading:!1,dataTestId:"embedded-delete-cancel-button",copykey:"dyn_embedded_delete.cancel_button",buttonClassName:"embedded-delete-view__body__button",children:c("dyn_embedded_delete.cancel_button")}),f.jsx(xt,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit",style:{fontSize:"13px"}},onClick:g,disabled:d||!o,loading:d,dataTestId:"embedded-delete-action-button",copykey:"dyn_embedded_delete.action_button",buttonClassName:"embedded-delete-view__body__button",children:c("dyn_embedded_delete.action_button")})]})]})},zXe="dyn-turnkey-export-container-id",VXe="dyn-turnkey-export-element-id",hfe=({wallet:e,isTurnkeyWallet:t,isWaasWallet:n,data:r,onIframeContainerRef:i,onExportReady:o,isVisible:s=!0})=>{const a=x.useRef(null),l=h=>{a.current=h,h&&i&&i(h)};vr(()=>de(void 0,void 0,void 0,function*(){var h,m,v;const g=a.current;if(!(!g||((h=g==null?void 0:g.children)===null||h===void 0?void 0:h.length)>0)&&(Pa(e==null?void 0:e.connector)&&(yield(m=e==null?void 0:e.connector)===null||m===void 0?void 0:m.createOrRestoreSession()),Woe(e==null?void 0:e.connector)&&(yield(v=e==null?void 0:e.connector)===null||v===void 0?void 0:v.getTurnkeyClient()),t)){yield Rde({iframeContainer:g,iframeElementId:VXe,wallet:e}),o==null||o(!0,e);return}}),{deps:[e.address]});const c=()=>{const h="embedded-wallet-export__credential-container";return!r&&!s?`${h} ${h}--hidden`:n?`${h} ${h}--waas`:h},d=()=>{const h="embedded-wallet-export__iframe-container";return r?h:`${h} ${h}--hidden`},u=()=>{const m=[];for(let v=0;v<3;v++){const y=v===2?"embedded-wallet-export__skeleton-line embedded-wallet-export__skeleton-line--short":"embedded-wallet-export__skeleton-line";m.push(f.jsx("div",{className:y,"data-testid":v===0?"private-key-skeleton":void 0},v))}return m};return!t&&!n?null:f.jsxs("div",{className:c(),children:[f.jsx("div",{id:zXe,className:d(),ref:l}),!r&&a.current&&f.jsx("div",{className:"embedded-wallet-export__skeleton-container",children:u()})]})};var dZ,uZ,KXe=["title","titleId"];function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vP.apply(null,arguments)}function HXe(e,t){if(e==null)return{};var n,r,i=GXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var pfe=function(t){var n=t.title,r=t.titleId,i=HXe(t,KXe);return x.createElement("svg",vP({width:329,height:88,viewBox:"0 0 329 88",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,dZ||(dZ=x.createElement("g",{clipPath:"url(#export-embedded-hero_svg__a)"},x.createElement("circle",{cx:164.5,cy:114,r:114,fill:"url(#export-embedded-hero_svg__b)",fillOpacity:.12}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M195 23a4 4 0 0 1 4-4h40a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4h-40a4 4 0 0 1-4-4v-8Zm13.585 4c0 1.473-1.217 2.667-2.717 2.667-1.501 0-2.717-1.194-2.717-2.667 0-1.473 1.216-2.667 2.717-2.667 1.5 0 2.717 1.194 2.717 2.667Zm6.34 2.667c1.5 0 2.717-1.194 2.717-2.667 0-1.473-1.217-2.667-2.717-2.667-1.501 0-2.717 1.194-2.717 2.667 0 1.473 1.216 2.667 2.717 2.667ZM226.698 27c0 1.473-1.216 2.667-2.717 2.667-1.5 0-2.717-1.194-2.717-2.667 0-1.473 1.217-2.667 2.717-2.667 1.501 0 2.717 1.194 2.717 2.667Zm8.057 0c0 .903-.751 1.667-1.717 1.667-.966 0-1.717-.764-1.717-1.667s.751-1.667 1.717-1.667c.966 0 1.717.764 1.717 1.667Zm1 0c0 1.473-1.217 2.667-2.717 2.667-1.501 0-2.717-1.194-2.717-2.667 0-1.473 1.216-2.667 2.717-2.667 1.5 0 2.717 1.194 2.717 2.667ZM110.237 57.018c8.535-2.287 13.601-11.06 11.314-19.596-2.287-8.535-11.061-13.6-19.596-11.313-8.536 2.287-13.601 11.06-11.314 19.596 2.287 8.535 11.061 13.6 19.596 11.313Zm-8.712-17.797-.522-1.949a4.037 4.037 0 0 1 7.798-2.09l.522 1.95a6.727 6.727 0 1 1-7.798 2.09Zm4.573-2.535-.195-.727a1.036 1.036 0 1 0-2.002.537l.194.726a6.81 6.81 0 0 1 2.003-.536Zm1.567 6.87a1.749 1.749 0 0 0-1.586-3.023 1.75 1.75 0 0 0 .137 3.412l.368 1.37a.75.75 0 1 0 1.448-.388l-.367-1.37Z",fill:"#4779FF"}),x.createElement("path",{d:"M171.501 40.667a4.666 4.666 0 0 1 4.667 4.666h-28a9.306 9.306 0 0 0-6.85 2.995c.788-4.357 4.6-7.661 9.183-7.661h21ZM187.834 59.333A9.334 9.334 0 0 0 178.5 50h-28a9.333 9.333 0 0 0-9.333 9.333V78a9.333 9.333 0 0 0 9.333 9.333h28A9.334 9.334 0 0 0 187.834 78V59.333Z",fill:"#4779FF"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M174.25 65.25a6 6 0 1 0-12 0 6 6 0 0 0 12 0Zm-3 0a3 3 0 1 0-6 0 3 3 0 0 0 6 0Zm-9.37 3.892a7.497 7.497 0 0 0 2.005 2.237l-2.831 2.83 2.103 2.103-2.121 2.122-2.103-2.103-2.062 2.062-2.121-2.121 7.13-7.13Z",fill:"#fff"}))),uZ||(uZ=x.createElement("defs",null,x.createElement("linearGradient",{id:"export-embedded-hero_svg__b",x1:164.5,y1:0,x2:164.5,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})),x.createElement("clipPath",{id:"export-embedded-hero_svg__a"},x.createElement("rect",{x:.5,width:328,height:88,rx:12,fill:"#fff"})))))},fZ,JXe=["title","titleId"];function wP(){return wP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wP.apply(null,arguments)}function ZXe(e,t){if(e==null)return{};var n,r,i=YXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var XXe=function(t){var n=t.title,r=t.titleId,i=ZXe(t,JXe);return x.createElement("svg",wP({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,fZ||(fZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.793 2.293a1 1 0 0 1 1.414 0l3.04 3.04A10.955 10.955 0 0 1 12.5 4c4.927 0 9.095 3.238 10.497 7.7a1 1 0 0 1 0 .6 11.014 11.014 0 0 1-3.552 5.231l2.762 2.762a1 1 0 0 1-1.414 1.414l-18-18a1 1 0 0 1 0-1.414Zm5.943 4.53 1.732 1.731a4 4 0 0 1 5.478 5.478l2.076 2.076A9.022 9.022 0 0 0 20.989 12 9.004 9.004 0 0 0 8.736 6.822Zm5.696 5.695a2 2 0 0 0-2.45-2.45l2.45 2.45ZM5.125 8.174a1 1 0 0 1 .194 1.4A8.975 8.975 0 0 0 4.012 12a9.004 9.004 0 0 0 10.177 5.842 1 1 0 0 1 .372 1.965c-.668.127-1.357.193-2.06.193-4.927 0-9.095-3.238-10.497-7.7a1 1 0 0 1 0-.6 10.97 10.97 0 0 1 1.72-3.332 1 1 0 0 1 1.4-.194Z",fill:"#ABACB2"})))},hZ,QXe=["title","titleId"];function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bP.apply(null,arguments)}function eQe(e,t){if(e==null)return{};var n,r,i=tQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var nQe=function(t){var n=t.title,r=t.titleId,i=eQe(t,QXe);return x.createElement("svg",bP({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,hZ||(hZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2.333a6.667 6.667 0 1 0 0 13.334A6.667 6.667 0 0 0 9 2.333ZM.667 9a8.333 8.333 0 1 1 16.666 0A8.333 8.333 0 0 1 .667 9Zm7.5-3.333c0-.46.373-.834.833-.834h.008a.833.833 0 0 1 0 1.667H9a.833.833 0 0 1-.833-.833ZM7.333 9c0-.46.373-.833.834-.833H9c.46 0 .833.373.833.833v2.5a.833.833 0 1 1 0 1.667H9a.833.833 0 0 1-.833-.834v-2.5A.833.833 0 0 1 7.333 9Z",fill:"#383C48"})))};const rQe=({user:e,wallet:t})=>{var n,r,i;if(!e)throw new Se(Kr);if(!(t!=null&&t.connector)||!(t!=null&&t.id))throw Ie.error("Cannot initialize embedded wallet export",{connector:(n=t==null?void 0:t.connector)===null||n===void 0?void 0:n.name,version:"v3",wallet:!!t,walletId:t==null?void 0:t.id}),new Ld;const o=t.connector;let s=(i=(r=e.verifiedCredentials)===null||r===void 0?void 0:r.find(({walletName:a})=>a==null?void 0:a.startsWith("dynamicwaas")))===null||i===void 0?void 0:i.walletProperties;if(s&&(s=Object.assign(Object.assign({},s),{accountAddress:t.address})),!s)throw new Se("Invalid token!");return{connector:o,walletProperties:s}},iQe=e=>de(void 0,[e],void 0,function*({user:t,wallet:n,address:r,iframeContainer:i}){const{connector:o,walletProperties:s}=rQe({user:t,wallet:n});return yield o.exportPrivateKey({accountAddress:r||s.accountAddress,displayContainer:i}),!0}),oQe=e=>de(void 0,[e],void 0,function*({wallet:t}){var n;const r=t==null?void 0:t.connector;try{(n=r==null?void 0:r.getExportHandler())===null||n===void 0||n.clear()}catch(i){Ie.error("Error cleaning up export:",i)}}),mfe=e=>de(void 0,[e],void 0,function*({isTurnkeyWallet:t,isWaasWallet:n,wallet:r,user:i,environmentId:o,exportPrivateKey:s,iframeContainerRef:a,handleAcknowledgeExportPrompt:l}){var c,d,u;if(l(),t)try{return yield LS({address:s?r==null?void 0:r.address:void 0,environmentId:o,user:i,wallet:r})}catch(h){return Pa(r==null?void 0:r.connector)&&(!((c=r==null?void 0:r.connector)===null||c===void 0)&&c.removeSessionKeys)&&(yield(d=r==null?void 0:r.connector)===null||d===void 0?void 0:d.removeSessionKeys(),yield(u=r==null?void 0:r.connector)===null||u===void 0?void 0:u.createOrRestoreSession({ignoreRestore:!0}),Ie.error("[TK - removeSessionKeys] failed to perform revealEmbeddedWalletKey activity",{address:r==null?void 0:r.address,err:h,userId:i==null?void 0:i.userId})),LS({address:s?r==null?void 0:r.address:void 0,environmentId:o,user:i,wallet:r})}if(n)return iQe({address:s?r==null?void 0:r.address:void 0,iframeContainer:a,user:i,wallet:r})}),gfe=()=>{const{primaryWallet:e,projectSettings:t,user:n,setShowAuthFlow:r}=$e(),{userHasEmbeddedWallet:i}=U3(),{pushView:o}=At(),{isTurnkeyWallet:s}=da(),a=({user:c,recoveryPhrase:d})=>{var u,h;if(!Lh(t))throw new Error("Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic Embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.");if(!i())throw new Error("Dynamic embedded wallet not found");const m=(h=(u=c.verifiedCredentials)===null||u===void 0?void 0:u.find(({walletName:g})=>g==null?void 0:g.startsWith("turnkey")))===null||h===void 0?void 0:h.walletProperties,v=m==null?void 0:m.turnkeyHDWalletId;if(d&&!v)throw new Error("Wallet is non-HD and does not have a recovery phrase")};return{initExportProcess:x.useCallback((...c)=>de(void 0,[...c],void 0,function*(d=!1,u=!1){if(!e)throw new Error("No primary wallet");if(!n)throw new Error(Kr);if(s&&a({recoveryPhrase:d,user:n}),!i())throw new Error("Dynamic embedded wallet not found");return r(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),o("embedded-reveal-view",{exportPrivateKey:!d,isPromptForExport:u}),new Promise((h,m)=>{rt.once("embeddedWalletRevealCompleted",v=>h(v)),rt.once("embeddedWalletRevealFailed",v=>m(v))})}),[e,s,r,o,n])}};let Zg=!1;const yfe=()=>{const{projectSettings:e,user:t,primaryWalletId:n,walletConnectorOptions:r,primaryWallet:i,setShowAuthFlow:o}=$e(),{isLoadingEmbeddedWallet:s}=S3(),{loading:a}=mv(),{initExportProcess:l}=gfe(),[c,d]=iv(`dynamic_export_prompt-${t==null?void 0:t.userId}`,!1,y=>!!y),{createEmbeddedWallet:u,shouldAutoCreateEmbeddedWallet:h,shouldPromptForKeyExport:m}=U3(),v=x.useRef(!1),g=x.useCallback((y=!0)=>{Zg=y,d(y)},[d]);return Un("logout",()=>{v.current=!1,Zg=!1}),x.useEffect(()=>{const y=t&&Js().user,b=()=>de(void 0,void 0,void 0,function*(){const M=y==null?void 0:y.newUser;if(_){v.current=!0;try{yield u()}catch(D){D instanceof Zie?Ie.debug("[useSyncEmbeddedWalletFlow][EmbeddedWalletException] Error creating embedded wallet",D):Ie.error("[useSyncEmbeddedWalletFlow] Error creating embedded wallet",D),o(!1)}}if(I&&M&&Uh(y)&&i)try{o(!0),yield l(!0,!0)}catch(D){Ie.error("Error initializing embedded wallet export",D),o(!1)}}),_=h()&&!v.current;c&&!Zg&&(Zg=!0);const I=m()&&!Zg;!(_||I)||!y||!e||!r.length||s||a||b()},[t,e,n,u,s,r,a,h,o,l,i,m,d,g,c]),{acknowledgedExportPrompt:Zg,handleAcknowledgeExportPrompt:g}},pZ=({exportPrivateKey:e,isPromptForExport:t=!1})=>{var n,r,i;const{primaryWallet:o,user:s,setShowAuthFlow:a,environmentId:l}=$e(),{handleAcknowledgeExportPrompt:c}=yfe(),{isTurnkeyWallet:d}=da(),u=!!(s!=null&&s.verifiedCredentials.find(Y=>{var ie;return(ie=Y.walletName)===null||ie===void 0?void 0:ie.startsWith("dynamicwaas")})),{setDynamicWidgetView:h}=Jc(),{pushView:m}=At(),{getEOAWallet:v,isSmartWallet:g}=xs(),[y,b]=x.useState(!1),[k,_]=x.useState(null);if(!o)throw new Se("No primary wallet found",Py);let R;try{R=k3(o.id,(s==null?void 0:s.verifiedCredentials)||[])}catch{}const I=(n=s==null?void 0:s.verifiedCredentials)===null||n===void 0?void 0:n.find(({walletName:Y,id:ie})=>(Y==null?void 0:Y.startsWith("turnkey"))&&ie===R),T=I==null?void 0:I.walletProperties,M=(r=s==null?void 0:s.verifiedCredentials)===null||r===void 0?void 0:r.find(Y=>Y.address===o.address),D=T==null?void 0:T.turnkeyHDWalletId,A=(i=o&&v(o))!==null&&i!==void 0?i:o;x.useEffect(()=>()=>{d&&Tde({wallet:A}),u&&oQe({wallet:A})},[]);const{mutate:U,isLoading:$,error:q,data:z}=Xo(()=>mfe({environmentId:l,exportPrivateKey:e,handleAcknowledgeExportPrompt:c,iframeContainerRef:k,isTurnkeyWallet:d,isWaasWallet:u,user:s,wallet:A}),{onFailure:Y=>{Ie.error("Failed to export",Y),rt.emit("embeddedWalletRevealFailed",Y)}}),S=x.useMemo(()=>{if(q){if(q instanceof Se)return q.message;try{return op(q,s)}catch(Y){Y instanceof lS&&m("access-blocked");return}}},[q,m,s]),{t:E}=Xe(),N=!$&&z&&!q,P=x.useRef(null);x.useEffect(()=>{N&&A&&(P.current=A)},[N,A]),x.useEffect(()=>()=>{P.current&&rt.emit("embeddedWalletRevealCompleted",P.current)},[]);const j=E(!D||e?"dyn_embedded_reveal.private_key_title":"dyn_embedded_reveal.recovery_phrase_title"),K=N?j:E(t?"dyn_embedded_reveal.prompt_for_export_title":"dyn_embedded_reveal.agreement_title"),F=()=>{m("embedded-delete-view")},O=f.jsx(Sn,{onClick:()=>{a(!1)},type:"button",children:f.jsx(Oi,{})}),W=()=>{const Y="embedded-reveal-view__body";return u&&N&&K===j?`${Y} ${Y}--waas-credentials`:Y},G=f.jsxs("div",{children:[o&&g(o)&&!$&&z&&!q&&f.jsxs("div",{className:"embedded-reveal-view__zerodev-warning",children:[f.jsxs("div",{className:"embedded-reveal-view__zerodev-warning__title-row",children:[f.jsx(nQe,{className:"embedded-reveal-view__zerodev-warning__icon"}),f.jsx(se,{variant:"body_normal",weight:"bold",copykey:"dyn_embedded_reveal.aa_warning.title",children:E("dyn_embedded_reveal.aa_warning.title")})]}),f.jsxs(se,{variant:"body_normal",weight:"regular",copykey:"dyn_embedded_reveal.aa_warning.subtitle",children:[E("dyn_embedded_reveal.aa_warning.subtitle"),f.jsx("button",{onClick:()=>{a(!1),h("send-balance")},className:"embedded-reveal-view__zerodev-warning__link-button",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"primary",className:"underline",copykey:"dyn_embedded_reveal.aa_warning.button",children:E("dyn_embedded_reveal.aa_warning.button")})})]})]}),f.jsx("div",{className:"embedded-reveal-view__body__description",children:!N&&f.jsx("div",{className:"embedded-reveal-view__header",children:f.jsx("div",{className:"embedded-reveal-view__header__hero",children:f.jsx(pfe,{})})})})]});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:t?null:O,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:K})}),f.jsx("div",{className:"embedded-reveal-view",children:f.jsxs("div",{className:W(),children:[(!u||!N||K!==j)&&G,(d||u)&&f.jsx(hfe,{wallet:A,isTurnkeyWallet:d,isWaasWallet:u,data:z,onIframeContainerRef:_,isVisible:!K.includes("Agree")}),N?f.jsxs(f.Fragment,{children:[f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",onClick:()=>{a(!1)},loading:$,copykey:"dyn_embedded_reveal.done_button_label",typographyProps:{color:"inherit"},children:E("dyn_embedded_reveal.done_button_label")}),!e&&f.jsx(xt,{buttonClassName:"embedded-reveal-view__body__unlink_button",buttonVariant:"tertiary",buttonPadding:"none",copykey:"dyn_embedded_reveal.unlink",onClick:F,typographyProps:{color:"secondary",variant:"button_tertiary"},children:E("dyn_embedded_reveal.unlink")})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"embedded-reveal-view__body__description",children:[f.jsx("div",{className:"embedded-reveal-view__body__badge-container",children:f.jsx(rf,{text:E("dyn_embedded_reveal.badge_label"),className:"embedded-reveal-view__body__badge"})}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_embedded_reveal.prompt_for_export_description",children:E("dyn_embedded_reveal.prompt_for_export_description")})]}),S&&f.jsx(Lr,{children:S}),f.jsxs("div",{className:"embedded-reveal-view__body__card",children:[f.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[f.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:f.jsx(nue,{height:16,width:16})}),f.jsxs("div",{className:"embedded-reveal-view__body__card__statement__text",children:[f.jsxs(se,{variant:"body_small",color:"primary",copykey:"dyn_embedded_reveal.statement_1.title",children:[E("dyn_embedded_reveal.statement_1.title"),":"]}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_embedded_reveal.statement_1.description",children:E("dyn_embedded_reveal.statement_1.description")})]})]}),f.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[f.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:f.jsx(XXe,{height:16,width:16})}),f.jsx("div",{className:"embedded-reveal-view__body__card__statement__text",children:f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_embedded_reveal.statement_2.title",children:E("dyn_embedded_reveal.statement_2.title")})})]})]}),f.jsx("div",{className:"embedded-reveal-view__body__confirm_card",children:f.jsxs("button",{className:"embedded-reveal-view__body__card__acknowledgement",onClick:()=>b(!y),children:[f.jsx("div",{children:f.jsx(Kd,{checked:y,onChange:()=>b(!y),className:"embedded-reveal-view__body__card__statement__checkbox",id:"export-agreement-checkbox"})}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_reveal.checkbox_label",children:E("dyn_embedded_reveal.checkbox_label")})})]})}),f.jsx(tp,{isExport:!0,walletCredential:M}),f.jsxs("div",{className:"embedded-reveal-view__body__button_section",children:[t&&f.jsx(xt,{buttonPadding:"medium",buttonVariant:"primary",onClick:()=>{c(),a(!1)},dataTestId:"export-agreement-skip-button",copykey:"dyn_embedded_reveal.skip_button_label",expanded:!0,buttonClassName:"embedded-reveal-view__body__button",children:E("dyn_embedded_reveal.skip_button_label")}),f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:()=>U(),disabled:!y,loading:$,dataTestId:"embedded-reveal-button",copykey:t?"dyn_embedded_reveal.backup_button_label":"dyn_embedded_reveal.reveal_button_label",style:{width:"100%"},className:"embedded-reveal-view__body__button",expanded:!0,children:E(t?"dyn_embedded_reveal.backup_button_label":"dyn_embedded_reveal.reveal_button_label")})]})]})]})})]})};var mZ,gZ,yZ,vZ,sQe=["title","titleId"];function _P(){return _P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_P.apply(null,arguments)}function aQe(e,t){if(e==null)return{};var n,r,i=lQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Oj=function(t){var n=t.title,r=t.titleId,i=aQe(t,sQe);return x.createElement("svg",_P({width:121,height:81,viewBox:"0 0 121 81",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,mZ||(mZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M99.064 34.016c-6.654 0-12.048 5.394-12.048 12.048 0 6.653 5.394 12.047 12.048 12.047 6.653 0 12.047-5.394 12.047-12.047 0-6.654-5.394-12.048-12.047-12.048ZM83 46.064C83 37.192 90.192 30 99.064 30c8.871 0 16.063 7.192 16.063 16.064 0 3.712-1.259 7.13-3.373 9.85l8.658 8.658a2.008 2.008 0 0 1-2.84 2.84l-8.658-8.658a15.994 15.994 0 0 1-9.85 3.373C90.192 62.127 83 54.935 83 46.064Z",fill:"currentColor",fillOpacity:.35})),gZ||(gZ=x.createElement("rect",{y:8,width:121,height:16,rx:4,fill:"currentColor",fillOpacity:.3})),yZ||(yZ=x.createElement("rect",{y:30,width:75,height:16,rx:4,fill:"currentColor",fillOpacity:.3})),vZ||(vZ=x.createElement("rect",{y:52,width:75,height:16,rx:4,fill:"currentColor",fillOpacity:.3})))};const Nj=({className:e="",id:t,label:n,type:r,onChange:i,onBlur:o,name:s,value:a,onClickClear:l,copykey:c})=>{const{t:d}=Xe();return f.jsxs("label",{htmlFor:t,className:Ke("search__container",a?"search__container--active":void 0),children:[f.jsx("div",{className:"search-icon__container",children:f.jsx(Zze,{})}),f.jsx("input",{name:s,value:a,onChange:i,onBlur:o,type:r,id:t,placeholder:n,className:Ke("search__input",e),"data-testid":"Search",copykey:c}),a.length>0&&f.jsx("button",{type:"button",onClick:l,className:"search__button--clear","data-testid":"search-clear-button",copykey:"dyn_search.clear",children:d("dyn_search.clear")})]})},X3=({hideBorder:e})=>f.jsx("div",{className:Ke("default-footer__footer",{"default-footer__footer--hidden":e}),"data-testid":"default-footer"}),qS=({titleKey:e,subtitleKey:t,image:n})=>{const{t:r}=Xe();return f.jsxs("div",{className:"search-instead__container",children:[n&&f.jsx(Nt,{className:"search-instead__container__image",color:"text-tertiary",children:n}),f.jsx(se,{color:"secondary",variant:"body_small",weight:"regular",copykey:e||"dyn_wallet_list.wallet_missing.title",children:r(e||"dyn_wallet_list.wallet_missing.title")}),f.jsx(se,{color:"primary",variant:"button_primary",weight:"regular",copykey:t||"dyn_wallet_list.wallet_missing.description",children:r(t||"dyn_wallet_list.wallet_missing.description")})]})},cQe=({leading:e,name:t,onClick:n,trailing:r})=>f.jsx(ip,{leading:e,trailing:r,onClick:n,className:"exchange-list-item__tile",dataTestId:"ListTile",children:t}),vfe=({disabled:e=!1,exchange:t,onResetSearchValue:n,tile:r=cQe,onSelectExchange:i,trailingProp:o=void 0})=>{var s,a;const l=r,c=E_(),{t:d}=Xe(),u=()=>de(void 0,void 0,void 0,function*(){e||(n==null||n(""),i(t))}),{user:h}=$e(),m=t,v=(a=(s=h==null?void 0:h.verifiedCredentials)===null||s===void 0?void 0:s.some(({oauthProvider:b})=>b===m1(t)))!==null&&a!==void 0?a:!1,g=f.jsx(r3,{name:m1(t),variant:c,style:{height:Ut(28),width:Ut(28)}}),y=o??f.jsx(T_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Ku,{})}),children:v&&f.jsx(rf,{dot:!0,variant:"primary",text:f.jsx(se,{variant:"body_small",copykey:"dyn_exchange_list.item.connected",children:d("dyn_exchange_list.item.connected")})})});return f.jsx(l,{leading:g,trailing:y,name:m.charAt(0).toUpperCase()+m.slice(1),onClick:u})},dQe=({onSelectExchange:e,showDefaultFooter:t,scrollContainerClassName:n})=>{var r;ep(()=>()=>ot==null?void 0:ot.setItem(Zy,""));const{error:i}=so(),[o,s]=x.useState(!0),{t:a}=Xe(),l=vo(),[c,d]=x.useState((r=ot.getItem(Zy))!==null&&r!==void 0?r:""),u=x.useMemo(()=>{if(!(l!=null&&l.exchanges))return[];const b=l.exchanges.flatMap(({exchange:k,enabledAt:_})=>_?[m1(k)]:[]);return[...new Set(b)]},[l==null?void 0:l.exchanges]),h=x.useMemo(()=>{const b=c.trim().toLowerCase();return b?u.filter(k=>jS(k).toLowerCase().includes(b)):u},[u,c]),m=x.useRef(null),v=()=>{const b=m.current;b&&((b==null?void 0:b.scrollTop)>(b==null?void 0:b.clientHeight)*1.25?s(!1):s(!0))},g=b=>{ot.setItem(Zy,b),d(b)},y=l?f.jsx("div",{className:Ke("exchange-list__search-container",{"exchange-list__search-container--scroll":!i}),children:f.jsx(Nj,{copykey:"dyn_exchange_list.search.label",label:a("dyn_exchange_list.search.label"),value:c,onChange:({target:{value:b}})=>g(b),onClickClear:()=>g("")})}):f.jsx(Vo,{className:"exchange-list__search-skeleton"});return f.jsxs(f.Fragment,{children:[y,!!i&&f.jsx(Lr,{className:"exchange-list__error-container",withIcon:!1,children:i}),f.jsx("div",{className:Ke("exchange-list__scroll-container",n,{"exchange-list__scroll-container--error":!!i,"exchange-list__scroll-container--fixed-height":!1}),"data-testid":"exchange-list-scroll-container",ref:m,onScroll:v,children:l?f.jsxs(f.Fragment,{children:[u.length===0&&f.jsx(Lr,{copykey:"dyn_exchange_list.no_exchange",children:a("dyn_exchange_list.no_exchanges")}),u.length&&h.length===0?f.jsx(qS,{titleKey:"dyn_exchange_list.search.not_found.title",subtitleKey:"dyn_exchange_list.search.not_found.description",image:f.jsx(Oj,{})}):h.map((b,k)=>f.jsx(vfe,{exchange:jS(b),onResetSearchValue:()=>g(""),onSelectExchange:e},`${b}_${k}`))]}):f.jsx(Vo,{count:10,className:"exchange-list__tile-skeleton"})}),t&&f.jsx(X3,{hideBorder:!o})]})},uQe=e=>(e==null?void 0:e.key)==="zerodev",fQe=e=>e?{THREE_OF_THREE:{required:3,total:3},TWO_OF_THREE:{required:2,total:3},TWO_OF_TWO:{required:2,total:2}}[e]||{required:2,total:3}:{required:2,total:3},hQe=({passcode:e})=>{const{t}=Xe(),{primaryWallet:n,setShowAuthFlow:r,user:i}=$e(),{getEOAWallet:o}=xs(),{goBack:s,canGoBack:a}=At(),[l,c]=x.useState(!1),[d,u]=x.useState(),[h,m]=x.useState(!1),v=n&&o(n),g=v??n,y=x.useMemo(()=>{var T;if(!(!i||!n))return(T=i.verifiedCredentials)===null||T===void 0?void 0:T.find(M=>M.walletName==="dynamicwaas"&&M.address===n.address)},[i,n]),b=x.useMemo(()=>{var T;const M=(T=y==null?void 0:y.walletProperties)===null||T===void 0?void 0:T.thresholdSignatureScheme;return fQe(M)},[y]),k=x.useCallback(()=>de(void 0,void 0,void 0,function*(){u(void 0),c(!0);try{if(!g)throw new Se("No wallet found");if(yS(g.connector)){yield g.connector.exportClientKeyshares({accountAddress:g.address,password:e}),r(!1);return}if(uQe(g.connector)){const{eoaConnector:T}=g.connector;if(T&&yS(T)){yield T.exportClientKeyshares({accountAddress:g.address,password:e}),r(!1);return}}throw new Se("Not a supported connector type for export shares")}catch(T){Ie.error("Error exporting shares",{error:T}),u(t("dyn_export_shares.error"))}finally{c(!1)}}),[g,e,r,t]),_=[{key:"dyn_export_shares.bullet_1"},{key:"dyn_export_shares.bullet_2",values:{required:b.required}},{key:"dyn_export_shares.bullet_3"}],R=a&&f.jsx(Sn,{onClick:s,type:"button",children:f.jsx(Xh,{})}),I=f.jsx(Sn,{onClick:()=>{r(!1)},type:"button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:R,trailing:I,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:t("dyn_export_shares.title")})}),f.jsx("div",{className:"embedded-reveal-view",children:f.jsxs("div",{className:"embedded-reveal-view__body",children:[f.jsx("div",{className:"embedded-reveal-view__body__description",children:f.jsx("div",{className:"embedded-reveal-view__header",children:f.jsx("div",{className:"embedded-reveal-view__header__hero",children:f.jsx(pfe,{})})})}),f.jsxs("div",{className:"embedded-reveal-view__body__description",children:[f.jsx("div",{className:"embedded-reveal-view__body__badge-container",children:f.jsx(rf,{text:t("dyn_export_shares.sensitive_info"),className:"embedded-reveal-view__body__badge"})}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_export_shares.threshold_description",children:t("dyn_export_shares.threshold_description",{required:b.required,total:b.total})})]}),d&&f.jsx(Lr,{children:d}),f.jsxs("div",{className:"embedded-reveal-view__body__card",children:[f.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[f.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:f.jsx(Vue,{height:16,width:16})}),f.jsx("div",{className:"embedded-reveal-view__body__card__statement__text",children:f.jsx(se,{variant:"body_small",color:"primary",weight:"medium",copykey:"dyn_export_shares.how_to_use_title",children:t("dyn_export_shares.how_to_use_title")})})]}),f.jsx("ul",{className:"embedded-reveal-view__body__bullet-list",children:_.map(T=>f.jsx("li",{children:f.jsx(se,{variant:"body_small",color:"primary",copykey:T.key,children:t(T.key,T.values)})},T.key))})]}),f.jsx("div",{className:"embedded-reveal-view__body__confirm_card",children:f.jsxs("button",{className:"embedded-reveal-view__body__card__acknowledgement",onClick:()=>m(!h),children:[f.jsx("div",{children:f.jsx(Kd,{checked:h,onChange:()=>m(!h),className:"embedded-reveal-view__body__card__statement__checkbox",id:"export-shares-checkbox"})}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_export_shares.acknowledge",children:t("dyn_export_shares.acknowledge")})})]})}),f.jsx(tp,{isExport:!0}),f.jsx("div",{className:"embedded-reveal-view__body__button_section",children:f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:k,disabled:!h,loading:l,dataTestId:"export-shares-submit-button",copykey:"dyn_export_shares.download_button",style:{width:"100%"},className:"embedded-reveal-view__body__button",expanded:!0,children:t("dyn_export_shares.download_button")})})]})})]})},pQe=(e,t)=>{const n=x.useRef(e);w_(()=>{n.current=e},[e]),x.useEffect(()=>{if(!t&&t!==0)return;const r=setTimeout(()=>n.current(),t);return()=>clearTimeout(r)},[t])},mQe={brave:Hoe,chrome:Goe,edge:Joe,firefox:Zoe,safari:Yoe},xP=e=>mQe[e],gQe=e=>{if(!(e!=null&&e.metadata.downloadLinks))return[];const t=n_(e.metadata.downloadLinks),{currentDesktopUrl:n,userBrowser:r}=Oue(t);return n?[{Icon:xP(r),key:r,link:n,name:r}]:Object.entries(t).filter(([,i])=>i!=="").filter(([i])=>i!=="ios"&&i!=="android").map(([i,o])=>({Icon:xP(i),key:i,link:o,name:i}))},yQe=(e,t)=>{const n=Array.prototype.slice.call(kce.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,o,s)=>(s%r===0?i.push([o]):i[i.length-1].push(o))&&i,[])},wfe=({ecl:e="M",Icon:t,logoMargin:n=0,logoSize:r=40,size:i=250,value:o,accentColor:s="currentColor",walletKey:a=void 0,showQrCodeImage:l,className:c,style:d})=>{const{data:u}=vr(()=>kce.toDataURL(o)),h=x.useMemo(()=>{const v=[],g=yQe(o||"QR Code value",e),y=i/g.length;[{x:0,y:0},{x:1,y:0},{x:0,y:1}].forEach(({x:I,y:T})=>{const M=(g.length-7)*y*I,D=(g.length-7)*y*T;for(let A=0;A<3;A++)v.push(f.jsx("rect",{"data-key":`corner-square-${I}-${T}-${A}`,fill:A%2!==0?"var(--background)":s,height:y*(7-A*2),rx:A===0?10:A===1?7:20,ry:A===0?10:A===1?7:20,width:y*(7-A*2),x:M+y*A,y:D+y*A},`corner-square-${I}-${T}-${A}`))});const k=Math.floor(r*1.5/y),_=g.length/2-k/2,R=g.length/2+k/2-1;for(let I=0;I<g.length;I++)for(let T=0;T<g[I].length;T++)g[I][T]&&(I<7&&T<7||I>g.length-8&&T<7||I<7&&T>g.length-8||I>_&&I<R&&T>_&&T<R||v.push(f.jsx("circle",{className:"qrcode__dot-circle",cx:I*y+y/2,cy:T*y+y/2,fill:Math.random()>.9?s:"currentColor",r:y/2.25},`dot-${I}-${T}`)));return v},[e,r,i,o,s]),m=i/2-r/2-n;return f.jsx("div",{className:Ke("qrcode__container",c),style:d,children:f.jsx("div",{className:"qrcode",children:l?f.jsx("img",{"data-testid":"qr-code-image",src:u,alt:""}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{height:"100%",width:"100%",viewBox:`0 0 ${i} ${i}`,"data-testid":"qr-code",children:[f.jsx("defs",{children:f.jsx("clipPath",{id:"clip-logo",children:f.jsx("rect",{height:r,width:r,x:m,y:m,rx:7,ry:7})})}),f.jsx("rect",{fill:"none",height:i,width:i}),h]}),f.jsx(si,{Icon:t,iconSize:r,isSpinning:!0,className:"qrcode__icon"})]})})})},vQe=({Icon:e,logoSize:t})=>f.jsx("div",{className:"qrcode__container qrcode","data-testid":"loading-qrcode",children:f.jsx(si,{Icon:e,iconSize:t,isSpinning:!0,className:"qrcode__icon"})}),wQe=({accentColor:e,walletConnector:t,qrcodeValue:n,Icon:r,showCopyToClipboardButton:i=!1,desktopUri:o,showQrCodeMessage:s,showQrCodeImage:a})=>{const{t:l}=Xe(),{pushView:c}=At(),d=gQe(t),u=()=>o?f.jsx(xt,{expanded:!0,dataTestId:"get-extension-button",buttonPadding:"small",buttonVariant:"primary",buttonClassName:"qr-code-button",onClick:()=>Ln.openURL(o,"blank"),copykey:"dyn_qr_code.open_button",typographyProps:{variant:"button_secondary"},startSlot:f.jsx(Nt,{size:"xsmall",color:"text-tertiary",children:f.jsx(I0,{})}),children:l("dyn_qr_code.open_button")}):d!=null&&d.length?f.jsx(xt,{expanded:!0,dataTestId:"get-extension-button",buttonPadding:"small",buttonVariant:"primary",buttonClassName:"qr-code-button",onClick:()=>c("no-qr-not-installed"),copykey:"dyn_qr_code.get_extension_button",typographyProps:{variant:"button_secondary"},startSlot:f.jsx(Nt,{size:"xsmall",color:"text-tertiary",children:f.jsx(I0,{})}),children:l("dyn_qr_code.get_extension_button")}):null;return f.jsxs("div",{className:Ke("qrcode-container__container",{"qrcode-container__container--message":s}),children:[f.jsxs("div",{className:"qrcode-container__top",children:[n.length?f.jsx(wfe,{Icon:r,accentColor:e,value:n,logoSize:50,walletKey:t==null?void 0:t.key,showQrCodeImage:a}):f.jsx(vQe,{Icon:r,logoSize:50}),f.jsxs("div",{className:"button-container",children:[i&&f.jsx(Em,{variant:"button",textToCopy:n,disabled:!n.length,buttonClassName:"qr-code-button",copykey:"dyn_qr_code.copy_button",startSlot:f.jsx(Nt,{size:"mini",color:"text-tertiary",children:f.jsx(Yde,{})}),children:l("dyn_qr_code.copy_button")}),u()]})]}),f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",className:"qrcode-container__content",copykey:"dyn_qr_code.scan_title",children:l("dyn_qr_code.scan_title",{app:t?"wallet":"app"})})]})},Pj=({uri:e,desktopUri:t,icon:n,accentColor:r,showCopyToClipboardButton:i,walletConnector:o})=>{const[s,a]=x.useState(!1),[l,c]=x.useState(!1);return pQe(()=>a(!0),e.length?5e3:null),f.jsxs("div",{"data-testid":"qr-code-wrapper",className:"qr-code-wrapper",children:[f.jsx(Hu,{animationComponent:f.jsx(ig,{style:{width:"100%"}}),children:s&&!l&&f.jsxs("div",{className:"qr-code-wrapper__scan-issue-message",children:[f.jsx(se,{color:"primary",variant:"body_small",children:"If you're having issues scanning, click"}),f.jsx("button",{"data-testid":"qr-code-wrapper__scan-issue-button",className:"qr-code-wrapper__scan-issue-button",onClick:()=>c(!0),children:"here"})]})}),f.jsx(wQe,{showQrCodeMessage:s,desktopUri:t,accentColor:r,walletConnector:o,qrcodeValue:e,Icon:n,showCopyToClipboardButton:i,showQrCodeImage:l})]})},bfe=({url:e})=>{const{theme:{theme:t}}=f_(),n=E_(),r=f.jsx(r3,{name:"farcaster",variant:n});return f.jsx(Pj,{uri:e,accentColor:n==="dark"?t.colors.textPrimary:"#7b65c0",icon:r,showCopyToClipboardButton:!0})},bQe=({pairingInfo:e,onConfirm:t,onCancel:n})=>{const{t:r}=Xe(),[i,o]=x.useState(!1),s=()=>{o(!0)};return f.jsx("div",{className:"global-wallet-confirm",children:f.jsx("div",{className:"popup-content",children:f.jsxs("div",{className:"wallet-connection-view",children:[!i&&f.jsx("img",{src:e.icons[0],alt:`${e.name} icon`,className:"dapp-icon",onError:s}),f.jsx(se,{className:"connection-title",variant:"title",font:"bold",copykey:"global_wallet.confirm.description",children:r("global_wallet.confirm.description",{name:e.name})}),f.jsx(se,{variant:"body_normal",className:"dapp-url",children:e.url}),f.jsxs("div",{className:"button-group",children:[f.jsx(xt,{buttonClassName:"cancel-button",onClick:n,type:"submit",buttonPadding:"large",copykey:"global_wallet.confirm.cancel_button",children:r("global_wallet.confirm.cancel_button")}),f.jsx(xt,{buttonClassName:"connect-global-button",onClick:t,type:"submit",buttonPadding:"large",typographyProps:{color:"white"},copykey:"global_wallet.confirm.connect_button",children:r("global_wallet.confirm.connect_button")})]})]})})})};var wZ,bZ,_Qe=["title","titleId"];function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kP.apply(null,arguments)}function xQe(e,t){if(e==null)return{};var n,r,i=kQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var SQe=function(t){var n=t.title,r=t.titleId,i=xQe(t,_Qe);return x.createElement("svg",kP({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,wZ||(wZ=x.createElement("g",{clipPath:"url(#blue-walletconnect_svg__a)"},x.createElement("path",{d:"M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12Z",fill:"#4084ED"}),x.createElement("path",{d:"M3.343 4.286a3.761 3.761 0 0 1 5.314 0l.176.176a.186.186 0 0 1 0 .265l-.603.603a.096.096 0 0 1-.133 0l-.243-.244a2.624 2.624 0 0 0-3.708 0l-.26.26a.096.096 0 0 1-.132 0l-.606-.6a.186.186 0 0 1 0-.266l.195-.194Zm6.563 1.248.538.537a.185.185 0 0 1 0 .265L8.018 8.757a.187.187 0 0 1-.264 0L6.034 7.04a.047.047 0 0 0-.068 0l-1.72 1.718a.187.187 0 0 1-.264 0l-2.426-2.42a.186.186 0 0 1 0-.266l.538-.537a.187.187 0 0 1 .265 0l1.72 1.718a.047.047 0 0 0 .067 0l1.72-1.718a.187.187 0 0 1 .265 0l1.72 1.718a.047.047 0 0 0 .068 0l1.72-1.718a.19.19 0 0 1 .267 0Z",fill:"#fff"}))),bZ||(bZ=x.createElement("defs",null,x.createElement("clipPath",{id:"blue-walletconnect_svg__a"},x.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"})))))};const _Z=({children:e})=>f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",children:f.jsx("span",{className:"inline-icon-text",children:e})}),IQe=()=>{const{t:e}=Xe();return f.jsx("div",{className:"info-card",children:f.jsxs("div",{className:"wrapper",children:[f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",as:"h2",children:"How do I find the URI or QR code?"}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:"global_wallet.help.step.1",children:e("global_wallet.help.step.1")}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:"global_wallet.help.step.2",children:e("global_wallet.help.step.2")}),f.jsxs(_Z,{children:["3. Open"," ",f.jsxs("span",{className:"nowrap",children:["WalletConnect ",f.jsx(SQe,{})]}),"from the list, this should show a QR code to scan"]}),f.jsxs(_Z,{children:["4. If you are not using the QR code, locate and click",f.jsxs("span",{className:"nowrap",children:[f.jsx($h,{})," to copy"]})," ","the URI code"]})]})})};var xZ,EQe=["title","titleId"];function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SP.apply(null,arguments)}function CQe(e,t){if(e==null)return{};var n,r,i=AQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var RQe=function(t){var n=t.title,r=t.titleId,i=CQe(t,EQe);return x.createElement("svg",SP({width:17,height:18,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,xZ||(xZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2.333a6.667 6.667 0 1 0 0 13.334 6.667 6.667 0 0 0 0-13.334ZM.167 9a8.333 8.333 0 1 1 16.666 0A8.333 8.333 0 0 1 .167 9ZM8.5 4.833c.46 0 .833.373.833.834V9a.833.833 0 1 1-1.667 0V5.667c0-.46.374-.834.834-.834Zm-.833 7.5c0-.46.373-.833.833-.833h.008a.833.833 0 0 1 0 1.667H8.5a.833.833 0 0 1-.833-.834Z",fill:"#FF4646"})))},kZ,TQe=["title","titleId"];function IP(){return IP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IP.apply(null,arguments)}function OQe(e,t){if(e==null)return{};var n,r,i=NQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var PQe=function(t){var n=t.title,r=t.titleId,i=OQe(t,TQe);return x.createElement("svg",IP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,kZ||(kZ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"#DD8500"})))};const BQe=({maliciousSiteInfo:e})=>{const{t}=Xe(),{setDynamicWidgetView:n}=Jc(),{setShowAuthFlow:r}=$e(),i=()=>{n("global-wallet"),r(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},o=()=>{var s;(s=e.proceedFlow)===null||s===void 0||s.call(e)};return f.jsx("div",{className:"malicious-site-view",children:f.jsx("div",{className:"popup-content",children:f.jsxs("div",{className:"wallet-connection-view",children:[f.jsxs("div",{className:"warning-icon-container",style:{position:"relative"},children:[e.isDefinitelyMalicious?f.jsx(Aj,{className:"warning-icon"}):f.jsx(PQe,{className:"warning-icon"}),f.jsx(Y3,{className:"exclamation-icon",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}})]}),f.jsx(se,{className:"connection-title",variant:"title",font:"bold",color:"primary",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.title"):t("global_wallet.malicious_site.unknown.title")}),f.jsxs("div",{className:`subtitle-container ${e.isDefinitelyMalicious?"definitely-malicious":"unknown"}`,children:[f.jsxs("div",{className:"subtitle-header-container",children:[e.isDefinitelyMalicious?f.jsx(RQe,{className:"caution-icon"}):f.jsx(zue,{className:"caution-icon"}),f.jsx(se,{variant:"body_normal",className:"subtitle-header",color:"primary",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.subtitle_header"):t("global_wallet.malicious_site.unknown.subtitle_header")})]}),f.jsx(se,{variant:"body_normal",className:"subtitle",color:"secondary",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.subtitle_text"):t("global_wallet.malicious_site.unknown.subtitle_text")})]}),f.jsx(se,{variant:"body_normal",className:"site-info",color:"secondary",children:e.url}),f.jsxs("div",{className:"button-group",children:[f.jsx(xt,{buttonClassName:"cancel-button",buttonVariant:"primary",type:"submit",buttonPadding:"large",onClick:i,copykey:"global_wallet.malicious_site.go_back",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.go_back"):t("global_wallet.malicious_site.unknown.go_back")}),f.jsx(xt,{buttonClassName:"proceed-button",buttonVariant:"secondary",type:"submit",buttonPadding:"large",onClick:o,copykey:"global_wallet.malicious_site.proceed",typographyProps:{color:"error-1"},children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.proceed"):t("global_wallet.malicious_site.unknown.proceed")})]})]})})})},DQe=()=>{const{setError:e}=so(),[t,n]=x.useState(void 0),r=x.useRef(!1),i=Ij(),o=x.useCallback(()=>{e("Something went wrong")},[e]),s=x.useCallback(l=>{n(l)},[n]),{connectSocialAccount:a}=V3({onError:o,onFarcasterUrl:s});return x.useEffect(()=>{r.current||!i||(r.current=!0,a({authMode:"signin",provider:pn.Farcaster}))},[a,i]),f.jsx(bfe,{url:t??""})},MQe=(e,t)=>t.reduce((n,r)=>{const i=e.indexOf(r.toLowerCase());return i>n?i:n},-1),jQe=({hasWalletFilter:e,defaultOffset:t,list:n,priorityList:r})=>{const i=MQe(n,r);return t===_se&&!e&&n.length>t&&i!==-1?i+1:t},$Qe=({walletOptions:e,userWallets:t})=>{const n=new Set(t.map(r=>r.connector.key));return(n.has("phantom")||n.has("phantomledger"))&&(n.add("phantom"),n.add("phantomledger")),e.filter(r=>!n.has(r.walletConnector.key))},LQe=e=>rr()||e.isWalletConnect?"mobile":"desktop",UQe=(e,t)=>t.filter(n=>n.walletConnector&&Q4e(n.walletConnector,"accountChanged",LQe(n.walletConnector))?!0:!e.some(r=>r.connector.key===n.key)),SZ="metamask",FQe=e=>rr()?e.some(n=>n.key===SZ)?n=>n.walletConnector.key!==SZ:()=>!0:()=>!0,WQe=({userWallets:e,walletOptions:t})=>{const n=t.filter(FQe(e));return wl()==="connect-only"?$Qe({userWallets:e,walletOptions:n}):UQe(e,n)},$2=["metamask","coinbase","walletconnect","walletconnectsol","phantom","argentx","blocto","solflare","braavos","trust","rainbow","dapper","glow","flowwalletflow"],qQe=(e,t)=>{const n=[],r=[],i=[];e.forEach(a=>{const l=t.includes(a.key);l?n.push(a):$2.includes(a.key)&&!l?r.push(a):i.push(a)});const o=r.slice().sort((a,l)=>$2.indexOf(a.key)-$2.indexOf(l.key));return[...n.slice().sort((a,l)=>t.indexOf(a.key)-t.indexOf(l.key)),...o,...i]},Bj=({userWallets:e,multiWallet:t,numberOfWalletsToShow:n,inputList:r,isWalletConnectList:i,lastUsedWalletKey:o,searchFilter:s,walletsFilter:a,loginWithEmail:l,groupWallets:c,walletGroups:d,showMoreWalletsWithFilter:u,recommendedWallets:h})=>{let m=r;i&&(m=r.filter(A=>A.walletConnector.isWalletConnect&&A.key!=="walletconnect"&&A.key!=="walletconnectsol")),t&&(m=WQe({userWallets:e,walletOptions:m}));const v=!!a,g=[],y=[],b=[],k=[],_=Array.from(new Set((h||[]).map(A=>A.walletKey))),R=zQe(m,a,i,_);R.forEach(A=>{CD(A.walletConnector)||!A.walletConnector.isAvailable||(_!=null&&_.includes(A.key)?y.push(A):o===A.key?g.push(A):A.isInstalledOnBrowser?b.push(A):k.push(A))});const I=[...y,...g,...b,...k],T=vde(d,I),M=u&&v?GQe(R,g.concat(b),n):n,D=HQe(T,s,i,M,v,l);return{numberOfWallets:I.length,walletsList:D}},zQe=(e,t,n,r)=>{const i=qQe(e,r);return!n&&t?t(i):i},VQe=["walletconnect","walletconnect sol","bitcoin.com wallet"],KQe=(e,t)=>{const n=e.trim().toLowerCase(),r=i=>{const o=i.trim().toLowerCase();return VQe.includes(o)?o:o.replace("wallet","").replace("evm","").replace("starknet","").replace("solana","").replace("flow","").replace("bitcoin","")};return t.filter(i=>{var o;return r(i.name).includes(n)||((o=i.groupedWallets)===null||o===void 0?void 0:o.some(s=>r(s.name).includes(n)))})},HQe=(e,t,n,r,i,o)=>{if(t)return KQe(t,e);if(n)return e;if(o)return e.slice(0,r);{const s=e.map(l=>l.name.toLowerCase()),a=jQe({defaultOffset:r,hasWalletFilter:i,list:s,priorityList:$2});return e.slice(0,a)}},GQe=(e,t,n)=>{const r=e.slice(0,n),i=t.filter(o=>!r.includes(o)).length;return n+i},JQe=(e,t)=>e&&(e!=null&&e.recommendedWallets)?e.recommendedWallets:t,ZQe=(e,t)=>e&&(e!=null&&e.walletsFilter)?e.walletsFilter:t,_fe=({isWalletConnectList:e=!1,viewWalletsFilter:t,searchFilter:n,lastUsedWalletKey:r})=>{const{walletsFilter:i,walletConnectorOptions:o,defaultNumberOfWalletsToShow:s,bridgeChainsToConnect:a,multiWallet:l,recommendedWallets:c,selectedTabSettings:d}=$e(),{userWallets:u}=_s(),h=Jm(),m=(a==null?void 0:a.length)&&nVe(a[0].chain),v=m&&m(o),g=JQe(d,c),y=ZQe(d,i),{numberOfWallets:b,walletsList:k}=Bj({groupWallets:!0,inputList:v||o,isWalletConnectList:e,lastUsedWalletKey:r,multiWallet:l,numberOfWalletsToShow:s,recommendedWallets:g,searchFilter:n,showMoreWalletsWithFilter:!0,userWallets:u,walletGroups:h,walletsFilter:t&&y?doe(t).pipe(y):t||y});return{numberOfWallets:b,recommendedWallets:g,walletsList:k}},YQe=({items:e,onSelect:t,value:n})=>f.jsx("div",{className:"wallet-list-grid-tabs",children:e.map((r,i)=>{const o=n===i,{icon:s,text:a}=r.label,l=`${a}-${s}-${e.indexOf(r)}`,c=typeof s=="string"?f.jsx("img",{src:s,alt:a}):s;return f.jsxs("button",{type:"button",className:Ke("wallet-list-grid-tabs__button",{"wallet-list-grid-tabs__button--selected":o,"wallet-list-grid-tabs__button--text":!!a}),tabIndex:-1,"aria-label":a,onClick:()=>t(i),children:[c&&f.jsx(Nt,{size:"small",className:Ke({"wallet-list-grid-tabs__icon--selected":!o}),children:c}),a&&f.jsx(se,{as:"span",variant:"body_small",weight:o?"bold":"medium",color:o?"primary":"secondary",children:a})]},l)})}),Dj=({isWalletConnectList:e=!1,onSelectWallet:t,viewWalletsFilter:n,showDefaultFooter:r,scrollContainerClassName:i})=>{var o,s;ep(()=>()=>ot==null?void 0:ot.setItem(xh,""));const{walletConnectorOptions:a,projectSettings:l,defaultNumberOfWalletsToShow:c,selectedTabIndex:d,setSelectedTabIndex:u,tabsItems:h}=$e(),{error:m}=so(),[v,g]=x.useState(!0),{t:y}=Xe(),[b,k]=x.useState((o=ot.getItem(xh))!==null&&o!==void 0?o:""),{numberOfWallets:_,walletsList:R,recommendedWallets:I}=_fe({isWalletConnectList:e,lastUsedWalletKey:(s=ot.getItem(Xu))!==null&&s!==void 0?s:void 0,searchFilter:b,viewWalletsFilter:n}),T=!!b||_>c&&R.length!==_,M=!!(h!=null&&h.length),D=x.useRef(null),A=()=>{const q=D.current;q&&((q==null?void 0:q.scrollTop)>(q==null?void 0:q.clientHeight)*1.25?g(!1):g(!0))},U=q=>{ot.setItem(xh,q),k(q)},$=l?T&&f.jsx("div",{className:Ke("wallet-list__search-container",{"wallet-list__search-container--scroll":!m}),children:f.jsx(Nj,{copykey:"dyn_wallet_list.search.label",label:y("dyn_wallet_list.search.label",{numberOfWallets:_}),value:b,onChange:({target:{value:q}})=>U(q),onClickClear:()=>U("")})}):f.jsx(Vo,{className:"wallet-list__search-skeleton"});return f.jsxs(f.Fragment,{children:[M&&f.jsx("div",{className:"wallet-list__tabs-container",children:f.jsx(YQe,{items:h,value:d||0,onSelect:u})}),$,!!m&&f.jsx(Lr,{className:"wallet-list__error-container",withIcon:!1,children:m}),f.jsxs("div",{className:Ke("wallet-list__scroll-container",i,{"wallet-list__scroll-container--error":!!m,"wallet-list__scroll-container--fixed-height":M}),"data-testid":"wallet-list-scroll-container",ref:D,onScroll:A,children:[l?f.jsxs(f.Fragment,{children:[a.length===0&&f.jsx(Lr,{copykey:"dyn_wallet_list.configuration_mismatch",children:y("dyn_wallet_list.configuration_mismatch")}),a.length&&R.length===0?f.jsx(qS,{titleKey:"dyn_wallet_list.search.not_found.title",subtitleKey:"dyn_wallet_list.search.not_found.description",image:f.jsx(Oj,{})}):R.map((q,z)=>f.jsx(J3,{wallet:q,onResetSearchValue:()=>U(""),recommendedWallets:I,onSelectWallet:t},`${q.key}_${z}`))]}):f.jsx(Vo,{count:10,className:"wallet-list__tile-skeleton"}),T&&!b&&l&&f.jsx(qS,{})]}),r&&f.jsx(X3,{hideBorder:!v})]})};var IZ,XQe=["title","titleId"];function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EP.apply(null,arguments)}function QQe(e,t){if(e==null)return{};var n,r,i=eet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var xfe=function(t){var n=t.title,r=t.titleId,i=QQe(t,XQe);return x.createElement("svg",EP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,IZ||(IZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.055 2.4A3.548 3.548 0 0 1 21.6 5.945v2.013a1.095 1.095 0 0 1-2.19 0V5.945c0-.747-.608-1.355-1.355-1.355h-2.012a1.095 1.095 0 1 1 0-2.19h2.012Zm-10.098 0a1.095 1.095 0 0 1 0 2.19H5.945c-.747 0-1.355.608-1.355 1.355v2.013a1.095 1.095 0 0 1-2.19 0V5.945A3.548 3.548 0 0 1 5.945 2.4h2.012Zm7.692 5.083c.6 0 1.086.486 1.086 1.086v1.347a1.086 1.086 0 1 1-2.172 0V8.57c0-.6.486-1.086 1.086-1.086Zm-4.121 0c.614 0 1.112.498 1.112 1.112v2.982h.008a1.113 1.113 0 0 1 0 2.226h-.386a1.849 1.849 0 0 1-1.847-1.848v-3.36c0-.614.498-1.112 1.113-1.112Zm-3.282 0c.6 0 1.086.486 1.086 1.086v1.347a1.086 1.086 0 0 1-2.172 0V8.57c0-.6.486-1.086 1.086-1.086Zm12.259 7.465c.605 0 1.095.49 1.095 1.095v2.012a3.548 3.548 0 0 1-3.545 3.545h-2.012a1.095 1.095 0 1 1 0-2.19h2.012c.747 0 1.355-.608 1.355-1.355v-2.012c0-.605.49-1.095 1.095-1.095Zm-17.01 0c.605 0 1.095.49 1.095 1.095v2.012c0 .747.608 1.355 1.355 1.355h2.012a1.095 1.095 0 0 1 0 2.19H5.945A3.548 3.548 0 0 1 2.4 18.055v-2.012c0-.605.49-1.095 1.095-1.095Zm5.365 1.337a.473.473 0 0 0 0 0l-.434.47a1.113 1.113 0 0 1 1.51-1.634c.563.52 1.296.806 2.064.806s1.5-.286 2.065-.807a1.113 1.113 0 0 1 1.51 1.634A5.255 5.255 0 0 1 12 18.153a5.255 5.255 0 0 1-3.574-1.397l.434-.47a4.615 4.615 0 0 1 0 0Zm5.947.28a4.694 4.694 0 0 1 0 0Z",fill:"#ABACB2"})))};const tet=({relatedOriginRpId:e}={})=>{const{setCallback:t}=$e();return x.useCallback(()=>de(void 0,void 0,void 0,function*(){yield Fc();const n=yield yNe({relatedOriginRpId:e});return t("authSuccess"),n}),[e,t])},net=({isLoading:e,onSubmit:t,onSubmitError:n})=>{const{t:r}=Xe(),i=tet(),{setError:o}=so(),{isLoading:s,mutate:a}=Xo(()=>de(void 0,void 0,void 0,function*(){t==null||t(),o(""),yield i()}),{onFailure:c=>{var d,u;Ie.error("Passkey sign in failed:",c);let h="Failed to sign in with passkey. Please try again.";c instanceof Error&&(!((d=c.name)===null||d===void 0)&&d.includes("NotAllowedError")?h="Passkey sign-in was cancelled or not allowed.":!((u=c==null?void 0:c.message)===null||u===void 0)&&u.includes("No passkey found")?h="No account found with this passkey. Please set up a passkey after using another sign-in method.":c!=null&&c.message&&(h=c.message)),o(h),n==null||n()}}),l=e||s;return f.jsxs(w1,{onClick:()=>a(),disabled:l,dataTestId:"passkey-sign-in-button",className:"login-view__passkey-button",children:[f.jsx(xfe,{}),f.jsx(se,{variant:"button_primary",copykey:"dyn_login.passkey.button_label",children:r("dyn_login.passkey.button_label")})]})},kfe=e=>!!(e&&Mc(e,pn.Sms)),ret=({onSubmit:e,onSubmitError:t,country:n,phone:r,setInvalidNumberMessage:i})=>{const{engageCaptcha:o}=Gd(),{view:s,pushView:a}=At(),{environmentId:l,projectSettings:c}=$e(),{setDisplayedDestination:d,setVerificationUUID:u,setRetryData:h}=Kc(),{fieldsConfig:m}=vM(),{t:v}=Xe(),g=y=>de(void 0,void 0,void 0,function*(){if(n)try{const b=l_({dialCode:n.dialCode,phone:r}),{verificationUUID:k}=yield nfe({captchaToken:y,environmentId:l,isoCountryCode:n.iso2,phoneCountryCode:n.dialCode,phoneNumber:b});h({dialCode:n.dialCode,iso2:n.iso2,phone:b}),a("login-with-sms-verification"),d(cj(r)),u(k);const _={dialCode:n.dialCode,iso2:n.iso2,phone:b};rt.emit("authInit",{option:_,phone:_,type:"sms"}),e==null||e()}catch(b){if(a(s.type),b instanceof m0){let k=v("dyn_login.helper.phone_number_form.invalid_phone");b.code==="too_many_sms_verification_attempts"&&(k=v("dyn_login.helper.phone_number_form.too_many_sms_verification_attempts")),b.code&&b.code in AO.dyn_login.helper.phone_number_form&&(k=v("dyn_login.helper.phone_number_form."+b.code)),i(k)}else typeof b=="string"&&i(b);t==null||t()}});return y=>de(void 0,void 0,void 0,function*(){var b;if(n){y.preventDefault();try{m.phoneNumber.validation.validateSync(r)}catch(k){const{message:_}=k;i(_),t==null||t();return}if(!((b=c==null?void 0:c.security.hCaptcha)===null||b===void 0)&&b.enabled){o({authMethod:"phone",onCaptchaSuccess:g});return}g()}})},EZ=({isLoading:e,onSubmit:t,onSubmitError:n})=>{var r,i;const o=vo(),s=x.useMemo(()=>{const R=bue(o);return lj(_ue(R))},[o]),[a,l]=x.useState(void 0),[c,d]=x.useState(!1),[u,h]=x.useState({country:void 0,phone:""}),m=x.useCallback(R=>{h(R),d(Ble(R.phone,R.country))},[]),[v,g]=x.useState(!1),[y,b]=x.useState(!1),k=ret({country:u.country,onSubmit:t,onSubmitError:n,phone:u.phone,setInvalidNumberMessage:l});if(!o)return Ie.debug("Failed to render PhoneNumberSignInSection - no project settings"),null;if(!kfe((r=o==null?void 0:o.providers)!==null&&r!==void 0?r:[]))return Ie.error("Failed to render PhoneNumberSignInSection - no sign in provider enabled"),null;const _=!(!((i=o==null?void 0:o.design.modal)===null||i===void 0)&&i.emailSubmitButtonInsideInput);return f.jsxs("form",{className:"login-with-phone-number-form",onSubmit:R=>k(R),children:[f.jsx(xue,{countries:s,onUpdate:m,error:a,setIsHovered:g,setIsFocused:b,appendRight:f.jsx(Jue,{disabled:e||!c,highlighted:c,isFocused:y,isHovered:v,className:"login-with-phone-number-form__fields__inline-submit",emailSubmitButtonInsideInput:!_})}),_&&f.jsx(xt,{dataTestId:"big-submit-button",buttonClassName:"login-with-phone-number-form__button",type:"submit",loading:e,disabled:e||!c,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,typographyProps:{color:"inherit"},children:"Continue"})]})},iet=e=>{if(!e)return;const t=Object.values(wm);for(const n of t)if(n===e)return n};var CZ,oet=["title","titleId"];function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CP.apply(null,arguments)}function set(e,t){if(e==null)return{};var n,r,i=aet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var cet=function(t){var n=t.title,r=t.titleId,i=set(t,oet);return x.createElement("svg",CP({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,CZ||(CZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.7 10a1.667 1.667 0 1 1 3.333 0A1.667 1.667 0 0 1 2.7 10Zm5.833 0a1.667 1.667 0 1 1 3.334 0 1.667 1.667 0 0 1-3.334 0Zm5.834 0a1.667 1.667 0 1 1 3.333 0 1.667 1.667 0 0 1-3.333 0Z",fill:"currentColor",fillOpacity:.4})))};const det=e=>{if(e)return e===wm.Twitter?"X":e===wm.Coinbasesocial?"Coinbase":Nd(e)},uet=5,Sfe=({providers:e,onSelectProvider:t,isLoading:n,selectedProvider:r,testId:i,defaultProvider:o,numOfItemsToDisplay:s=5,collapsedLayout:a})=>{const{t:l}=Xe(),c=E_();o&&!e.includes(o)&&([o]=e);const d=e.filter(R=>R!==o),u=Math.min(s,uet),h=d.length>u,m=h?d.slice(0,u-1):d.slice(0,u),[v,g]=x.useState(!1),y=()=>!n&&g(!1),b=e.length===1||!a&&e.length<4,k=R=>R,_=(R,I=!1,T=!1)=>f.jsxs(w1,{dataTestId:T?`card-${R}`:`inline-${R}`,onClick:()=>t(R),disabled:!!r,className:Ke({"social-sign-in--card--tile":T,"social-sign-in--tile":!T,"social-sign-in--tile__full-width":I}),children:[f.jsx(si,{Icon:f.jsx(r3,{name:k(R),variant:c}),isSpinning:r===R,iconSize:32}),!T&&I&&f.jsx(se,{variant:"button_primary",copykey:"dyn_login.social.button_label",children:l("dyn_login.social.button_label",{provider:det(R)})})]},k(R));return e.length?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"social-sign-in","data-testid":i,children:[o&&_(o,!0),m.map(R=>_(R,b)),h&&f.jsx(w1,{dataTestId:"show-more-options",onClick:()=>g(!0),className:"social-sign-in--tile",children:f.jsx(Nt,{color:"text-primary",children:f.jsx(cet,{})})},"show-more-options")]}),f.jsxs(jc,{isOpen:v,onClose:y,children:[f.jsx(jc.Header,{closeDisabled:n,children:l("dyn_login.social.overlay_title")}),f.jsx(jc.Content,{className:"social-sign-in--card--body",children:e.map(R=>_(R,!1,!0))})]})]}):(Ie.error("Failed to render SocialSignInSection - no social providers enabled"),null)},fet=({defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})=>{const{projectSettings:r}=$e(),{socialProvider:i,setSocialProvider:o,socialWalletConnector:s,enabledSocialProviders:a}=af(),{engageCaptcha:l}=Gd(),{mutate:c,isLoading:d}=Xo(u=>de(void 0,void 0,void 0,function*(){var h;if(!((h=r==null?void 0:r.security.hCaptcha)===null||h===void 0)&&h.enabled){l({authMethod:"social",onCaptchaSuccess:m=>de(void 0,void 0,void 0,function*(){return o(u),yield s==null?void 0:s.endSession(),s==null?void 0:s.connect(u)})});return}return o(u),yield s==null?void 0:s.endSession(),s==null?void 0:s.connect(u)}));return f.jsx(Sfe,{onSelectProvider:c,providers:a,selectedProvider:i,isLoading:d,testId:"magic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})},het=({defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})=>{const{setShowAuthFlow:r}=$e(),{setSocialProvider:i,socialProvider:o,enabledSocialProviders:s}=af(),{pushView:a,clearStackAndPushInitialView:l}=At(),c=x.useCallback(()=>{l()},[l]),d=x.useCallback(g=>a("farcaster-connect-view",{url:g},{onBackClick:()=>{i(void 0),rt.emit("farcasterConnectCancelled"),rt.emit("authFailure",{option:pn.Farcaster,provider:pn.Farcaster,type:"social"},"user-cancelled"),l()}}),[l,a,i]),u=x.useCallback(()=>{i(void 0)},[i]),{isProcessing:h,connectSocialAccount:m}=V3({onError:c,onFarcasterUrl:d,onSettled:u}),v=g=>{const y=Xce(g);i(g),a("social-redirect-view"),r(!0),m({authMode:"signin",provider:y})};return f.jsx(Sfe,{onSelectProvider:v,providers:s,selectedProvider:o,isLoading:h,testId:"dynamic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})},pet=({sectionData:e,collapsedLayout:t})=>{var n,r,i;const o=vo();if(!o)return Ie.debug("Failed to render SocialSignInSection - no project settings"),null;const s=(n=o.providers)!==null&&n!==void 0?n:[],a={collapsedLayout:t,defaultProvider:iet(e.defaultItem),numOfItemsToDisplay:e.numOfItemsToDisplay};return Mc(s,pn.MagicLink)&&((r=o.sdk.socialSignIn)===null||r===void 0?void 0:r.signInProvider)===Kb.MagicLink?f.jsx(fet,Object.assign({},a)):((i=o.sdk.socialSignIn)===null||i===void 0?void 0:i.signInProvider)===Kb.Dynamic?f.jsx(het,Object.assign({},a)):(Ie.error("Failed to render SocialSignInSection - no sign in provider enabled"),null)},met=({sections:e})=>{const[t,n]=x.useState(!0),r=t?e[0]:e[1];return f.jsxs("div",{className:"toggleable-section",children:[r.component,f.jsxs("div",{className:"toggleable-section__toggle-prompt",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:r.labelCopyKey,children:r.label}),f.jsx("button",{className:"toggleable-section__toggle-prompt__button",onClick:()=>n(!t),children:f.jsx(se,{weight:"medium",variant:"body_small",color:"brand-primary",className:"toggleable-section__toggle-prompt__button__text",copykey:r.buttonCopyKey,children:r.button})})]})]})},get=({text:e,onClick:t,numberOfWallets:n,disabled:r=!1,copykey:i})=>{const o=x.useMemo(()=>n<=10?n:`${Math.floor(n/10)*10}+`,[n]),s=f.jsxs("div",{className:"list-item-button__trailing",children:[f.jsx("div",{className:Ke("list-item-button__trailing-child","list-item-button__trailing-label"),children:f.jsx(rf,{text:`${o} available`})}),f.jsx("div",{className:Ke("list-item-button__trailing-child","list-item-button__trailing-icon"),children:f.jsx(Nt,{color:"text-primary",size:"small",children:f.jsx(Ku,{})})})]});return f.jsx(ip,{trailing:s,onClick:t,className:"list-item-button",disabled:r,copykey:i,children:e})},yet=({previewWalletsNumber:e,disabled:t=!1,onshowAllWallets:n})=>{var r;const{t:i}=Xe(),{walletConnectorOptions:o,projectSettings:s,walletsFilter:a,multiWallet:l,recommendedWallets:c}=$e(),{userWallets:d}=_s(),u=Jm(),{handleWalletItemClick:h}=rp(),{numberOfWallets:m,walletsList:v}=Bj({groupWallets:!0,inputList:o,isWalletConnectList:!1,lastUsedWalletKey:(r=ot.getItem(Xu))!==null&&r!==void 0?r:void 0,loginWithEmail:!0,multiWallet:l,numberOfWalletsToShow:e,recommendedWallets:c,searchFilter:void 0,userWallets:d,walletGroups:u,walletsFilter:a});return s?f.jsxs("div",{className:"login-with-email-wallet-list__container","data-testid":"top-wallets-list",children:[v.map((g,y)=>f.jsx(J3,{wallet:g,disabled:t,onSelectWallet:h,recommendedWallets:c},`${g.key}_${y}`)),f.jsx(get,{copykey:"dyn_wallet_list.view_all",text:i("dyn_wallet_list.view_all"),onClick:n,numberOfWallets:m,disabled:t})]}):f.jsx(Vo,{count:e+1,className:"login-with-email-wallet-list__skeleton"})},vet=({numberOfItemsToShow:e,isLoading:t,onSubmit:n})=>{const{t:r}=Xe();return e>0?f.jsx(yet,{previewWalletsNumber:e,onshowAllWallets:()=>n==null?void 0:n(),disabled:t}):f.jsx(w1,{onClick:()=>n==null?void 0:n(),disabled:t,className:"connect-with-wallet-button",children:f.jsx(se,{variant:"button_primary",copykey:"dyn_login.wallet_list.button_only",children:r("dyn_login.wallet_list.button_only")})})},wet=({viewSection:e,index:t,walletCount:n,gotToWalletList:r})=>{const{loading:i}=mv(),{t:o}=Xe(),[s,a]=x.useState(i);switch(e.type){case Eo.Separator:return f.jsx(of,{text:e.label});case Eo.Email:return f.jsx(lP,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s});case Eo.Phone:return f.jsx(EZ,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s});case Eo.EmailAndPhone:const l=[{button:o("dyn_login.email_or_phone.use_phone"),buttonCopyKey:"dyn_login.email_or_phone.use_phone",component:f.jsx(lP,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s}),label:o("dyn_login.email_or_phone.prefer_phone"),labelCopyKey:"dyn_login.email_or_phone.prefer_phone"},{button:o("dyn_login.email_or_phone.use_email"),buttonCopyKey:"dyn_login.email_or_phone.use_email",component:f.jsx(EZ,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s}),label:o("dyn_login.email_or_phone.prefer_email"),labelCopyKey:"dyn_login.email_or_phone.prefer_email"}];return e.defaultItem==="phone"&&l.reverse(),f.jsx(met,{sections:l});case Eo.Wallet:return f.jsx(vet,{numberOfItemsToShow:e.numOfItemsToDisplay||0,onSubmit:r,isLoading:s});case Eo.Social:return f.jsx(pet,{collapsedLayout:n>1,sectionData:e});case Eo.Passkey:return f.jsx(net,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s});case Eo.Text:return e.label?f.jsx(se,{variant:"body_normal",color:"secondary",align:e.alignment,className:"login-view__text","data-testid":"login-view-section__text",children:e.label}):null}},bet=e=>!!(e&&Mc(e,pn.Passkey)),AZ=e=>({numOfItemsToDisplay:e,type:Eo.Wallet}),RZ=(e,t)=>({defaultItem:t,numOfItemsToDisplay:e,type:Eo.Social}),Ak=e=>({type:e}),_et=({socialAboveEmail:e,showWallets:t,web3Layout:n,numOfWalletsToDisplay:r,showEmail:i,showPhone:o,showSocial:s,showPasskey:a,splitEmailAndSocial:l,defaultSocialItem:c})=>{const d=!l&&(i||o),u=l?c:void 0;return[{condition:t&&n,section:AZ(r)},{condition:s&&e,hideSeparator:d?"below":void 0,section:RZ(5,u)},{condition:i&&!o,section:Ak(Eo.Email)},{condition:!i&&o,section:Ak(Eo.Phone)},{condition:i&&o,section:Ak(Eo.EmailAndPhone)},{condition:s&&!e,hideSeparator:d?"above":void 0,section:RZ(5,u)},{condition:a,section:Ak(Eo.Passkey)},{condition:t&&!n,section:AZ(r)}]},xet=e=>{var t,n,r;const{projectSettings:i,overrides:o}=$e(),s=(n=(t=i==null?void 0:i.sdk)===null||t===void 0?void 0:t.views)===null||n===void 0?void 0:n.find(l=>l.type===e);return((r=o==null?void 0:o.views)===null||r===void 0?void 0:r.find(l=>l.type===e))||s},ket=3,Iet=()=>{const e=xet(yO.Login),{authorizationViewDisplayOrder:t,loginWithEmail:n,walletsFilter:r}=$e(),i=vo(),{t:o}=Xe(),{enabledSocialProviders:s}=af(),{numberOfWallets:a}=_fe({viewWalletsFilter:r}),l=!!(s!=null&&s.length),c=Cj(i==null?void 0:i.providers),d=kfe(i==null?void 0:i.providers),u=bet(i==null?void 0:i.providers),h=x.useMemo(()=>{var g;return i?!n&&!d&&!l?!0:!((g=e==null?void 0:e.sections)===null||g===void 0)&&g.length?e.sections.length===1&&e.sections[0].type==="wallet":!c&&!d&&!l:!1},[e==null?void 0:e.sections,i,n,l,d,c]),m=x.useCallback(g=>{var y;const b=_=>{var R;return(R=_.networks)===null||R===void 0?void 0:R.some(I=>I.enabled)},k=(y=i==null?void 0:i.chains)===null||y===void 0?void 0:y.some(_=>_.enabled&&b(_));return i&&!k&&g.find(_=>_.type==="wallet")&&Ie.error("Failed to render WalletSignInSection - no chains enabled"),a>0?g:g.filter(_=>_.type!=="wallet")},[a,i]),v=x.useMemo(()=>{var g,y,b,k,_,R;if(!((g=e==null?void 0:e.sections)===null||g===void 0)&&g.length)return m(e==null?void 0:e.sections);const{splitEmailAndSocial:I=!1,socialAboveEmail:T=!1}=(y=i==null?void 0:i.design.modal)!==null&&y!==void 0?y:{},M=[],D=_et({defaultSocialItem:s[0],numOfWalletsToDisplay:!((k=(b=i==null?void 0:i.design)===null||b===void 0?void 0:b.modal)===null||k===void 0)&&k.showWalletsButton?0:ket,showEmail:c,showPasskey:u,showPhone:d,showSocial:!!(s!=null&&s.length),showWallets:a>0&&!(!((R=(_=i==null?void 0:i.design)===null||_===void 0?void 0:_.modal)===null||R===void 0)&&R.emailOnly),socialAboveEmail:T,splitEmailAndSocial:I,web3Layout:t==="web3"}),A={label:o("dyn_login.separators.default"),type:Eo.Separator};let U=!1;for(const $ of D)$.condition&&(M.length>0&&!U&&$.hideSeparator!=="above"&&M.push(A),M.push($.section),U=$.hideSeparator==="below");return M},[e==null?void 0:e.sections,i==null?void 0:i.design.modal,s,c,u,d,a,t,o,m]);return{isWalletOnly:h,loginViewSections:v}},Eet=(e,t)=>e.length===1&&e[0].type===Eo.Social&&t.length===1&&t.includes(wm.Farcaster)&&!rr(),TZ=()=>{var e;const{errorText:t}=ize(),{pushView:n}=At(),{isWalletOnly:r,loginViewSections:i}=Iet(),{enabledSocialProviders:o}=af(),{showDefaultFooter:s}=og(),{handleWalletItemClick:a}=rp(),l=((e=i.find(h=>h.type===Eo.Wallet))===null||e===void 0?void 0:e.numOfItemsToDisplay)||0,c=x.useMemo(()=>i.map((h,m)=>f.jsx("div",{className:Ke("login-view__scroll__section",`login-view__scroll__section--${h.type}`),children:f.jsx(wet,{gotToWalletList:()=>n("login-with-email-or-wallet-full-wallet-list"),index:m,viewSection:h,walletCount:l})},`${h.type}__${m}`)),[i,l,n]),d=t&&f.jsx(Lr,{className:"login-view__error-container",withIcon:!1,children:t});if(Eet(i,o))return f.jsxs(f.Fragment,{children:[d,f.jsx(DQe,{})]});if(r)return f.jsx(Dj,{onSelectWallet:a,showDefaultFooter:s});const u=rr()&&s;return f.jsxs(f.Fragment,{children:[d,f.jsx("div",{className:Ke("login-view__container",{"login-view__container--error":!!t}),children:f.jsx("div",{className:"login-view__scroll","data-testid":"login-view-scroll",children:c})}),u&&f.jsx(X3,{hideBorder:!0})]})},Ife=()=>{const{environmentId:e,setShowAuthFlow:t,selectedWalletConnector:n}=$e(),{addedWalletsIds:r}=_s();return{mergeUserAccounts:o=>de(void 0,void 0,void 0,function*(){const a=(yield EWe(e,o)).lastVerifiedCredentialId;a&&r.current.push(a);const l=yield n==null?void 0:n.getConnectedAccounts();l!=null&&l.length&&rt.emit("triggerComputePrimaryWalletMultiWalletStateFromAccounts",{accounts:l}),t(!1)})}},OZ=({children:e,checked:t,value:n,name:r,disabled:i=!1,className:o="",onChange:s})=>{const a=`${r}_${n}`;return f.jsxs("div",{className:Ke("radio-button",o),children:[f.jsx("input",{type:"radio",id:a,name:r,value:n,disabled:i,defaultChecked:t,onChange:s}),f.jsx("label",{htmlFor:a,children:e})]})},Cet=({mergeConflicts:e})=>{const{mergeUserAccounts:t}=Ife(),{t:n}=Xe(),[r,i]=x.useState(""),o=x.useRef(Object.fromEntries(e.map(({field:l,currentUser:c})=>[`${l.name}_${l.type}`,{fieldKey:l.name,type:l.type||Cd.Standard,userId:c.userId}]))),s=()=>de(void 0,void 0,void 0,function*(){const l=Object.values(o.current).map(({fieldKey:c,type:d,userId:u})=>({fieldKey:c,type:d,userId:u}));try{yield t(l)}catch(c){Ie.error("Error merging user accounts",c),i(n("dyn_merge_user_accounts_conflicts.errors.merge_error"))}});if(!(e!=null&&e.length))return null;const a=(l,c,d,u)=>{i(""),u&&(o.current[`${l}_${c}`]={fieldKey:l,type:c||Cd.Standard,userId:d})};return f.jsxs("div",{className:"merge-user-accounts-conflicts__container",children:[r&&f.jsx(tc,{icon:"error",variant:"error",className:"merge-user-accounts-conflicts__error",children:r}),f.jsx("div",{className:"merge-user-accounts-conflicts__description",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_merge_user_accounts_conflicts.description",children:n("dyn_merge_user_accounts_conflicts.description")})}),f.jsx("div",{className:"merge-user-accounts-conflicts__fields",children:e.map(({field:l,currentUser:c,fromUser:d})=>{var u;return f.jsxs("div",{className:"merge-user-accounts-conflicts__fields__item",children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts-conflicts__fields__item__name",children:(u=l.label)!==null&&u!==void 0?u:Nd(l.name)}),f.jsx(OZ,{name:l.name,value:c.value,checked:!0,className:"merge-user-accounts-conflicts__fields__item__button",onChange:h=>a(l.name,l.type,c.userId,h.target.checked),children:c.value}),f.jsx(OZ,{name:l.name,value:d.value,className:"merge-user-accounts-conflicts__fields__item__button",onChange:h=>a(l.name,l.type,d.userId,h.target.checked),children:d.value})]},l.name)})}),f.jsx("div",{className:"merge-user-accounts-conflicts__buttons",children:f.jsx(xt,{className:"merge-user-accounts-conflicts__buttons__button",onClick:s,buttonVariant:"primary",buttonPadding:"large",expanded:!0,copykey:"dyn_merge_user_accounts_conflicts.confirm_button",children:n("dyn_merge_user_accounts_conflicts.confirm_button")})})]})},Aet=e=>{const{pushView:t}=At(),{mergeUserAccounts:n}=Ife(),{t:r}=Xe(),[i,o]=x.useState(""),{mergeConflicts:s}=e,a=()=>{const c=()=>{t("merge-user-accounts",e)};t("merge-user-accounts-conflicts",{mergeConflicts:(s==null?void 0:s.conflicts)||[]},{onBackClick:c})},l=()=>de(void 0,void 0,void 0,function*(){if(s!=null&&s.conflicts.length){a();return}try{yield n([])}catch(c){Ie.error("Error merging user accounts",c),o(r("dyn_merge_user_accounts.errors.merge_error"))}});return f.jsxs("div",{className:"merge-user-accounts",children:[i&&f.jsx(tc,{icon:"error",variant:"error",className:"merge-user-accounts__error",children:i}),f.jsxs("div",{className:"merge-user-accounts__container",children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts__title",copykey:"dyn_merge_user_accounts.wallet.content",children:r("dyn_merge_user_accounts.wallet.content")}),f.jsx(xt,{onClick:l,buttonClassName:"merge-user-accounts__button",buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"inherit"},expanded:!0,copykey:"dyn_merge_user_accounts.confirm_button",children:r("dyn_merge_user_accounts.confirm_button")})]})]})};var NZ,Ret=["title","titleId"];function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AP.apply(null,arguments)}function Tet(e,t){if(e==null)return{};var n,r,i=Oet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Net=function(t){var n=t.title,r=t.titleId,i=Tet(t,Ret);return x.createElement("svg",AP({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,NZ||(NZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.862 2.862c.26-.26.682-.26.943 0L8.47 7.529a.667.667 0 0 1 0 .942l-4.666 4.667a.667.667 0 0 1-.943-.943L7.057 8 2.862 3.805a.667.667 0 0 1 0-.943Zm5.333 0c.26-.26.683-.26.943 0l4.667 4.667c.26.26.26.682 0 .942l-4.667 4.667a.667.667 0 0 1-.943-.943L12.39 8 8.195 3.805a.667.667 0 0 1 0-.943Z",fill:"currentColor"})))};const Pet=({returnToView:e})=>{const{environmentId:t,setShowAuthFlow:n,setCallback:r,primaryWallet:i,user:o}=$e(),s=jue(),{t:a}=Xe(),{setError:l}=so(),{pushView:c,clearStackAndPushInitialView:d}=At(),{displayedDestination:u}=Kc(),h=()=>de(void 0,void 0,void 0,function*(){try{const v=yield IWe(t);if(!v)throw new Se("Something went wrong, please try again.");yield s(v),n(!1),r("authSuccess")}catch{if(l(a("dyn_merge_user_accounts_with_same_email.errors.merge_error")),o){n(!1,{emitCancelAuth:!0});return}d()}}),m=()=>{if(l(void 0),e){c(e);return}if(o){n(!1);return}c("collect-user-data")};return f.jsxs("div",{className:"merge-user-accounts-with-same-email__container",children:[f.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts",children:[f.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[f.jsx(oi,{icon:i==null?void 0:i.connector.metadata.icon,walletKey:i==null?void 0:i.connector.key,className:"merge-user-accounts-with-same-email__accounts__item__icon"}),f.jsx(se,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:Ni(i==null?void 0:i.address)})]}),f.jsx("div",{className:"merge-user-accounts-with-same-email__accounts__divider",children:f.jsx(Nt,{color:"text-secondary",size:"small",children:f.jsx(Net,{})})}),f.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[f.jsx(MD,{className:"merge-user-accounts-with-same-email__accounts__item__icon"}),f.jsx(se,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:v1(u,{breakpoint:4,cutEnd:1,cutStart:2})})]})]}),f.jsx(se,{weight:"regular",variant:"title",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__header",copykey:"dyn_merge_user_accounts_with_same_email.title",children:a("dyn_merge_user_accounts_with_same_email.title")}),f.jsxs(se,{weight:"medium",variant:"body_normal",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__body",copykey:"dyn_merge_user_accounts_with_same_email.existing_account",children:[a("dyn_merge_user_accounts_with_same_email.existing_account")," ",f.jsx("span",{className:"merge-user-accounts-with-same-email__text--bold",children:v1(u,{breakpoint:14})})," ",a("dyn_merge_user_accounts_with_same_email.existing_account_trail")]}),f.jsxs("div",{className:"merge-user-accounts-with-same-email__buttons",children:[f.jsx(xt,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:h,buttonVariant:"primary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.confirm_button",children:a("dyn_merge_user_accounts_with_same_email.confirm_button")}),f.jsx(xt,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:m,buttonVariant:"secondary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.cancel_button",children:a("dyn_merge_user_accounts_with_same_email.cancel_button")})]})]})};var PZ,BZ,DZ,MZ,jZ,$Z,LZ,Bet=["title","titleId"];function RP(){return RP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RP.apply(null,arguments)}function Det(e,t){if(e==null)return{};var n,r,i=Met(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Met(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var jet=function(t){var n=t.title,r=t.titleId,i=Det(t,Bet);return x.createElement("svg",RP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,x.createElement("mask",{id:"secure-account_svg__a",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:327,height:112},PZ||(PZ=x.createElement("path",{d:"M315 0H12C5.373 0 0 5.373 0 12v88c0 6.627 5.373 12 12 12h303c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12Z",fill:"#fff"}))),x.createElement("g",{mask:"url(#secure-account_svg__a)"},BZ||(BZ=x.createElement("path",{d:"M164 228c62.96 0 114-51.04 114-114S226.96 0 164 0 50 51.04 50 114s51.04 114 114 114Z",fill:"url(#secure-account_svg__b)",fillOpacity:.12})),x.createElement("mask",{id:"secure-account_svg__c",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:86,y:29,width:40,height:40},DZ||(DZ=x.createElement("path",{d:"M116.91 29 86 37.282l8.282 30.91 30.91-8.282L116.91 29Z",fill:"#fff"}))),x.createElement("g",{mask:"url(#secure-account_svg__c)"},x.createElement("mask",{id:"secure-account_svg__d",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:90,y:33,width:31,height:31},MZ||(MZ=x.createElement("path",{d:"M119.763 44.8c-2.097-7.825-10.139-12.468-17.963-10.371-7.824 2.096-12.468 10.138-10.371 17.962 2.096 7.825 10.139 12.468 17.963 10.371 7.824-2.096 12.467-10.138 10.371-17.962Z",fill:"#fff"}))),jZ||(jZ=x.createElement("g",{mask:"url(#secure-account_svg__d)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.37-7.825 2.096-12.468 10.138-10.371 17.962a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.847 5.5 5.5 0 0 1-10.625 2.847Z",fill:"#4779FF"})))),$Z||($Z=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm7.008 18.695c0-1.726-1.4-3.126-3.127-3.126h-14.069a6.253 6.253 0 0 0-6.153 5.133 6.234 6.234 0 0 1 4.589-2.007h18.76Zm1.562 3.127c3.454 0 6.253 2.8 6.253 6.253v12.506a6.253 6.253 0 0 1-6.253 6.254h-18.759a6.253 6.253 0 0 1-6.253-6.254V60.14a6.253 6.253 0 0 1 6.253-6.253h18.759Z",fill:"#4779FF"}))),LZ||(LZ=x.createElement("defs",null,x.createElement("linearGradient",{id:"secure-account_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const $et=()=>{const{completeAuth:e}=sf({});return x.useCallback(()=>de(void 0,void 0,void 0,function*(){let t;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return t=yield pNe(),rt.emit("mfaCompletionSuccess",{mfaToken:t.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:t}})}),t}),[e])},Let=({isInitialSetup:e=!0,createMfaToken:t=!1})=>{const{handleLogOut:n}=Zc(),{t:r}=Xe(),{pushView:i}=At(),o=$et(),s=bde(),a=lze(e),{data:l}=vr(a,{deps:[e],initialData:[]}),c=()=>{if(e){const v=o();i("passkey-setup",{registerPasskeyPromise:v});return}const m=s({createMfaToken:t?{singleUse:!0}:void 0});i("passkey-confirm",{authenticatePasskeyPromise:m,createMfaToken:t})},d=()=>{if(e){i("mfa-secure-device",{isInitialSetup:!0,type:Ji.Totp});return}i("mfa-verification",{createMfaToken:t,isInitialSetup:e,showBackButton:!0,type:Ji.Totp})},u=h=>{switch(h.type){case"backupCode":i("mfa-recovery");break;case Ji.Passkey:c();break;case Ji.Totp:d();break;default:Ie.error(`No handler found for selected MFA option: ${h.type}`);break}};return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{alignContent:"bottom",children:f.jsx("div",{className:"otp-verification-view__status-header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"otp-verification-view__title",children:r(e?"dyn_mfa.choose_device_view.title":"dyn_mfa.choose_device_view.choose_another_method")})})}),f.jsxs("div",{className:"mfa-choose-device-view__body","data-testid":"mfa-choose-device-view",children:[f.jsx(jet,{}),f.jsx(se,{className:"mfa-choose-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:r(e?"dyn_mfa.choose_device_view.select_options":"dyn_mfa.choose_device_view.choose_another_method_description")}),l.map(h=>f.jsxs(Im,{buttonClassName:"mfa-choose-device-view__button",expanded:!0,onClick:()=>u(h),children:[f.jsxs("div",{className:"mfa-choose-device-view__button__header","data-testid":`mfa-device-header-${h.type}`,children:[f.jsx(se,{copykey:h.labelKey,color:"primary",children:r(h.labelKey)}),f.jsx(Hd,{className:"mfa-choose-device-view__icon--rotate"})]}),f.jsx(se,{className:"mfa-choose-device-view__button__description",color:"secondary",copykey:h.descriptionKey,children:r(h.descriptionKey)})]},h.type)),f.jsx(Zs,{className:"mfa-choose-device-view__logout",onClick:n,copykey:"dyn_mfa.choose_device_view.logout",children:r("dyn_mfa.choose_device_view.logout")})]})]})},Uet=({code:e})=>{const t=Js(),n=Tn(t);return ao({},t).registerTotpMfaDeviceVerify({environmentId:n.environmentId,mFARegisterTotpDevicePostRequest:{code:e,type:Ji.Totp}})},Q3=()=>{const{completeAuth:e}=sf({}),t=x.useCallback(g=>de(void 0,[g],void 0,function*({code:y,type:b,deviceId:k,createMfaToken:_,resultHandler:R}){let I;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){if(b!==Ji.Totp)throw new Error("Only Totp is supported");const T=yield kNe({code:y,createMfaTokenOptions:_,deviceId:k});return I=R(T),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:T}})}),I}),[e]),n=x.useCallback(()=>de(void 0,void 0,void 0,function*(){return yield eA()}),[]),r=x.useCallback(g=>de(void 0,void 0,void 0,function*(){if(!(yield eA()).find(k=>k.id===g))throw new Error("Device not found");yield ANe({deviceId:g})}),[]),i=x.useCallback((g,y)=>de(void 0,void 0,void 0,function*(){if(!(yield eA()).find(_=>_.id===g))throw new Error("Device not found");yield SNe({deviceId:g,mfaAuthToken:y}),yield D3({environmentId:ef()})}),[]),o=x.useCallback((...g)=>de(void 0,[...g],void 0,function*(y=Ji.Totp){if(y===Ji.Totp)return CNe();throw new Error("Unsupported MFA device type")}),[]),s=x.useCallback((g,...y)=>de(void 0,[g,...y],void 0,function*(b,k=Ji.Totp,_){let R=!1;return yield t({code:b,deviceId:_,resultHandler:()=>(R=!0,!0),type:k}),R}),[t]),a=x.useCallback(g=>de(void 0,[g],void 0,function*({code:y,type:b=Ji.Totp,deviceId:k,createMfaToken:_}){return t({code:y,createMfaToken:_,deviceId:k,resultHandler:R=>R.mfaToken,type:b})}),[t]),l=x.useCallback(g=>de(void 0,void 0,void 0,function*(){let y=!1;return yield e({onValidUpdatedJwt:()=>de(void 0,void 0,void 0,function*(){y=!0}),updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){const b=yield jq({code:g,createMfaTokenOptions:{singleUse:!0}});if(!b)throw new Error("Failed to authenticate recovery code");return rt.emit("mfaCompletionSuccess",{mfaToken:b.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:b}})}),y}),[e]),c=x.useCallback(g=>de(void 0,[g],void 0,function*({code:y,createMfaToken:b}){let k;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){const _=yield jq({code:y,createMfaTokenOptions:b});if(!_)throw new Error("Failed to authenticate recovery code");return k=_.mfaToken,rt.emit("mfaCompletionSuccess",{mfaToken:_.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:_}})}),k}),[e]),d=x.useCallback((g,...y)=>de(void 0,[g,...y],void 0,function*(b,k=Ji.Totp){if(k===Ji.Totp){const _=yield Uet({code:b});if(!_)throw new Error("Failed to verify device");return _}throw new Error("Unsupported MFA device type")}),[]),u=x.useCallback((...g)=>de(void 0,[...g],void 0,function*(y=!1){if(y){const{recoveryCodes:b}=yield $q();return b}else{const{recoveryCodes:b}=yield INe();return b}}),[]),h=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const{recoveryCodes:g}=yield $q();return g}),[]),m=x.useCallback(()=>de(void 0,void 0,void 0,function*(){return ENe()}),[]),v=x.useCallback(()=>de(void 0,void 0,void 0,function*(){yield wNe()}),[]);return{addDevice:o,authDevice:s,authRecoveryCode:l,authenticateDevice:a,authenticateRecoveryCode:c,completeAcknowledgement:v,deleteUserDevice:i,getNewRecoveryCodes:h,getRecoveryCodes:u,getUserDevices:n,isPendingRecoveryCodesAcknowledgment:m,updateUserDevice:r,verifyDevice:d}},Fet=({regenerateCodes:e=!1})=>{const{setShowAuthFlow:t}=$e(),[n,r]=x.useState(!1),{t:i}=Xe(),{getRecoveryCodes:o,completeAcknowledgement:s}=Q3(),{data:a,isLoading:l}=vr(()=>o(e)),c=(a||[]).join(`
`),d=()=>de(void 0,void 0,void 0,function*(){t(!1),yield s()}),u=h=>de(void 0,void 0,void 0,function*(){h.preventDefault();const m=new Blob([c],{type:"text/plain"});yield Ln.downloadFile("mfa-backup-codes.txt",m)});return f.jsxs("div",{className:"mfa-display-backup-codes-view__body","data-testid":"mfa-display-backup-codes-view",children:[f.jsx(se,{className:"mfa-display-backup-codes-view__copy",variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_mfa.display_backup_codes_view.body",children:i("dyn_mfa.display_backup_codes_view.body")}),f.jsx(tc,{variant:"warning",copykey:"dyn_mfa.display_backup_codes_view.warning",className:"mfa-display-backup-codes-view__warning",children:i("dyn_mfa.display_backup_codes_view.warning")}),l?f.jsx(I_,{className:"mfa-display-backup-codes-view__loading-spinner"}):f.jsxs("div",{className:"mfa-display-backup-codes-view__codes",children:[a==null?void 0:a.map((h,m)=>f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"mfa-display-backup-codes-view__code",children:h},m)),f.jsxs("div",{className:"mfa-display-backup-codes-view__actions",children:[f.jsx(Em,{variant:"button",textToCopy:c,copykey:"dyn_mfa.display_backup_codes_view.copy_all",startSlot:f.jsx(Nt,{size:"mini",color:"text-tertiary",children:f.jsx($h,{})}),children:i("dyn_mfa.display_backup_codes_view.copy_all")}),f.jsx(xt,{dataTestId:"download-button",buttonPadding:"small",buttonVariant:"primary",onClick:u,startSlot:f.jsx(que,{}),expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.download",children:i("dyn_mfa.display_backup_codes_view.download")})]})]}),f.jsxs("div",{className:"mfa-display-backup-codes-view__complete",children:[f.jsx(xt,{buttonClassName:"mfa-display-backup-codes-view__acknowledgement",dataTestId:"ack-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>r(!n),startSlot:f.jsx(Kd,{checked:n,onChange:()=>{r(!n)},className:"mfa-display-backup-codes-view__acknowledgement__checkbox"}),expanded:!0,typographyProps:{color:"secondary"},copykey:"dyn_mfa.display_backup_codes_view.checkbox",children:i("dyn_mfa.display_backup_codes_view.checkbox")}),f.jsx(xt,{dataTestId:"complete-button",buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!n,expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.complete",onClick:d,children:i("dyn_mfa.display_backup_codes_view.complete")})]})]})};var UZ,Wet=["title","titleId"];function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TP.apply(null,arguments)}function qet(e,t){if(e==null)return{};var n,r,i=zet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Vet=function(t){var n=t.title,r=t.titleId,i=qet(t,Wet);return x.createElement("svg",TP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,UZ||(UZ=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm.455 13a8.074 8.074 0 0 0-8.073 8.073v4.037A13.435 13.435 0 0 0 19.5 35.875c0 7.431 6.025 13.456 13.456 13.456 7.431 0 13.455-6.025 13.455-13.456 0-4.403-2.114-8.312-5.383-10.767v-4.035a8.073 8.073 0 0 0-7.657-8.062L32.955 13ZM33 30a3.5 3.5 0 0 1 1.5 6.663V39.5a1.5 1.5 0 0 1-3 0v-2.837A3.5 3.5 0 0 1 33 30Zm-.045-14a5.073 5.073 0 0 1 5.073 5.073v2.335a13.418 13.418 0 0 0-5.072-.99c-1.795 0-3.508.353-5.074.991v-2.336A5.074 5.074 0 0 1 32.955 16Z",fill:"#0A0B0C"})))};const E4=96,Ket=({onSubmit:e,onBack:t})=>{const{t:n}=Xe(),[r,i]=x.useState(""),o=l=>{const c=l.target.value;i(c)},s=f.jsx(Sn,{type:"button",id:"back-button","data-testid":"back-button",onClick:()=>{t()},children:f.jsx(Xh,{})}),a=f.jsx(Vet,{style:{height:Ut(E4*Yo),width:Ut(E4*Yo)}});return f.jsxs("div",{className:"mfa-exchange-view",children:[f.jsx(Zn,{leading:s,children:f.jsx(se,{variant:"title",copykey:"dyn_exchange_mfa.title",children:n("dyn_exchange_mfa.title")})}),f.jsxs("div",{className:"mfa-exchange-view__content",children:[f.jsxs("div",{className:"mfa-exchange-view__content__icon-description",children:[f.jsx("div",{className:"mfa-exchange-view__content__icon-description__icon-holder",children:f.jsx(si,{Icon:a,customSpinnerColor:"black",iconSize:E4,className:"mfa-exchange-view__content__icon-description__icon-holder__icon",isSpinning:!0})}),f.jsx("div",{className:"mfa-exchange-view__content__icon-description__description-holder",children:f.jsx(se,{variant:"body_normal",className:"mfa-exchange-view__content__icon-description__description-holder__description",color:"secondary",copykey:"dyn_exchange_mfa.description",children:n("dyn_exchange_mfa.description")})})]}),f.jsx("div",{className:"mfa-exchange-view__content__input",children:f.jsx("input",{id:"mfa-input","data-testid":"mfa-input",value:r,onChange:o,className:"mfa-exchange-view__content__input__input"})}),f.jsx("div",{className:"mfa-exchange-view__content__confirm",children:f.jsx(xt,{dataTestId:"confirm-button",buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"white"},className:"mfa-exchange-view__content__confirm__button",disabled:r==="",onClick:()=>{e(r)},copykey:"dyn_exchange_mfa.button",children:n("dyn_exchange_mfa.button")})})]}),f.jsx(Gc,{asFooter:!0})]})},Het=e=>/^[a-zA-Z0-9]{10}$/.test(e);var FZ,Get=["title","titleId"];function OP(){return OP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OP.apply(null,arguments)}function Jet(e,t){if(e==null)return{};var n,r,i=Zet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Yet=function(t){var n=t.title,r=t.titleId,i=Jet(t,Get);return x.createElement("svg",OP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,FZ||(FZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-9.322-18.117a1.828 1.828 0 1 0 3.613.568l1.152-7.457h7.144l-1.1 6.89a1.828 1.828 0 1 0 3.612.567l1.153-7.457h3.504a1.691 1.691 0 0 0 0-3.383h-2.948l1.16-7.222h3.597a1.691 1.691 0 0 0 0-3.383h-3.087l1.1-6.89a1.829 1.829 0 1 0-3.612-.567l-1.153 7.457H30.17l1.1-6.89a1.828 1.828 0 1 0-3.613-.567l-1.152 7.457h-3.458a1.691 1.691 0 0 0 0 3.383h2.901l-1.16 7.222h-3.597a1.691 1.691 0 0 0 0 3.383h3.087l-1.1 6.89Zm12.42-10.272H28.5l1.16-7.222h7.097l-1.16 7.222Z",fill:"#4779FF"})))};const Xet=e=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(Yet,Object.assign({},e,{"data-testid":"mfa-recovery-icon"}))}),Qet=()=>{var e;const{t}=Xe(),{projectSettings:n}=$e(),{authRecoveryCode:r}=Q3(),[i,o]=x.useState(""),[s,a]=x.useState(!1),[l,c]=x.useState(""),d=(e=n==null?void 0:n.general)===null||e===void 0?void 0:e.supportEmail,u=()=>de(void 0,void 0,void 0,function*(){if(i)try{a(!0),yield r(i)}catch(m){c(m.message||"Something went wrong")}finally{a(!1)}}),h=m=>{const v=m.target.value;o(v),c("")};return f.jsxs(f.Fragment,{children:[l&&f.jsx(Lr,{children:l}),f.jsxs("div",{className:"mfa-recovery-view",children:[f.jsx(si,{Icon:Xet,isSpinning:s,iconSize:96}),f.jsx("div",{className:"mfa-recovery-view__body",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_mfa.recovery_view.body",children:t("dyn_mfa.recovery_view.body")})}),f.jsxs("div",{className:"mfa-recovery-view__actions",children:[f.jsx(Sl,{id:"mfa-recovery-input","data-testid":"mfa-recovery-input",label:t("dyn_mfa.recovery_view.input_label"),onChange:h,value:i}),f.jsx(Im,{expanded:!0,buttonVariant:"brand-primary",disabled:s||!Het(i),onClick:u,dataTestId:"mfa-recovery-submit",children:f.jsx(se,{copykey:"dyn_mfa.recovery_view.button_label",children:t("dyn_mfa.recovery_view.button_label")})})]}),d&&f.jsxs("div",{className:"mfa-recovery-view__get-help",children:[f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_mfa.recovery_view.get_help.description",children:t("dyn_mfa.recovery_view.get_help.description")}),f.jsx(se,{variant:"body_small",color:"link",copykey:"dyn_mfa.recovery_view.get_help.button_label",children:f.jsx("a",{href:`mailto:${d}`,children:t("dyn_mfa.recovery_view.get_help.button_label")})})]})]})]})},ett=({uri:e,secret:t})=>{const{t:n}=Xe();return f.jsx("div",{className:"mfa-qrcode-help-content__container",children:f.jsx(G3,{delay:"300ms",children:f.jsxs("div",{className:"mfa-qrcode-help-content__setup-container",children:[f.jsxs("div",{className:"mfa-qrcode-help-content__step",children:[f.jsx("div",{className:"mfa-qrcode-help-content__step__number",children:"1"}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__instructions",children:[f.jsx(se,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",copykey:"dyn_mfa.secure_device_view.helper.step1.title",children:n("dyn_mfa.secure_device_view.helper.step1.title")}),f.jsx(se,{variant:"body_small",className:"mfa-qrcode-help-content__step__subtext",copykey:"dyn_mfa.secure_device_view.helper.step1.description",children:n("dyn_mfa.secure_device_view.helper.step1.description")})]})]}),f.jsxs("div",{className:"mfa-qrcode-help-content__vertical-container",children:[f.jsxs("div",{className:"mfa-qrcode-help-content__step",children:[f.jsx("div",{className:"mfa-qrcode-help-content__step__number",children:"2"}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__instructions",children:[f.jsx(se,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",copykey:"dyn_mfa.secure_device_view.helper.step2.title",children:n("dyn_mfa.secure_device_view.helper.step2.title")}),f.jsx(se,{variant:"body_small",className:"mfa-qrcode-help-content__step__subtext",copykey:"dyn_mfa.secure_device_view.helper.step2.description",children:n("dyn_mfa.secure_device_view.helper.step2.description")})]})]}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__nocopy-box",children:[f.jsx(se,{className:"mfa-qrcode-help-content__step__nocopy-text",variant:"body_small",children:t}),f.jsx(Em,{textToCopy:t,children:f.jsx($h,{"data-testid":"copy-secret",onClick:r=>{r.preventDefault()}})})]})]}),f.jsx(of,{text:"OR"}),f.jsxs("div",{className:"mfa-qrcode-help-content__vertical-container",children:[f.jsx("div",{className:"mfa-qrcode-help-content__step",children:f.jsxs("div",{className:"uri-section",children:[f.jsx(se,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",copykey:"dyn_mfa.secure_device_view.helper.uri.title",children:n("dyn_mfa.secure_device_view.helper.uri.title")}),f.jsx(se,{className:"uri-subtext",variant:"body_small",copykey:"dyn_mfa.secure_device_view.helper.uri.description",children:n("dyn_mfa.secure_device_view.helper.uri.description")})]})}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__nocopy-box",children:[f.jsx(se,{className:"mfa-qrcode-help-content__step__nocopy-text",variant:"body_small",children:e}),f.jsx(Em,{textToCopy:e,children:f.jsx($h,{"data-testid":"copy-uri",onClick:r=>{r.preventDefault()}})})]})]})]})})})};var WZ,ttt=["title","titleId"];function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NP.apply(null,arguments)}function ntt(e,t){if(e==null)return{};var n,r,i=rtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Efe=function(t){var n=t.title,r=t.titleId,i=ntt(t,ttt);return x.createElement("svg",NP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,WZ||(WZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-7.618-38.89v-4.037a8.074 8.074 0 0 1 16.147 0v4.036a13.436 13.436 0 0 1 5.383 10.766c0 7.431-6.025 13.456-13.456 13.456-7.432 0-13.456-6.025-13.456-13.456 0-4.402 2.114-8.31 5.382-10.765Zm13.147-1.702v-2.335a5.074 5.074 0 0 0-10.147 0v2.336a13.416 13.416 0 0 1 5.074-.99c1.795 0 3.507.352 5.073.99ZM34.5 36.663a3.5 3.5 0 1 0-3 0V39.5a1.5 1.5 0 0 0 3 0v-2.837Z",fill:"#4779FF"})))};const itt=({type:e,isInitialSetup:t=!1})=>{const{t:n}=Xe(),{handleLogOut:r}=Zc(),{pushView:i}=At(),{addDevice:o}=Q3(),{data:s,isLoading:a}=vr(()=>o(e)),l=()=>{i("mfa-verification",{deviceId:s==null?void 0:s.id,isInitialSetup:t,showBackButton:!0,type:e})},c=({secret:d,uri:u})=>{i("mfa-secure-device-help",{secret:d,uri:u})};return f.jsxs("div",{className:"mfa-secure-device-view__body","data-testid":"mfa-secure-device-view",children:[f.jsx(se,{className:"mfa-secure-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_mfa.secure_device_view.body",children:n("dyn_mfa.secure_device_view.body")}),a&&f.jsx(I_,{className:"mfa-secure-device-view__loading-spinner"}),s&&f.jsxs("div",{className:"mfa-secure-device-view__qrcode",children:[f.jsx(wfe,{Icon:f.jsx(Efe,{}),value:s.uri,logoSize:50}),f.jsx("div",{className:"button-container",children:f.jsx("button",{onClick:()=>c({secret:s.secret,uri:s.uri}),children:f.jsx(se,{variant:"body_small",weight:"medium",color:"secondary",copykey:"dyn_mfa.secure_device_view.helper.button",children:n("dyn_mfa.secure_device_view.helper.button")})})})]}),f.jsx(xt,{className:"mfa-secure-device-view__button",expanded:!0,onClick:l,copykey:"dyn_mfa.secure_device_view.continue",children:n("dyn_mfa.secure_device_view.continue")}),f.jsx(Zs,{className:"mfa-secure-device-view__logout-button",onClick:r,copykey:"dyn_mfa.choose_device_view.logout",children:n("dyn_mfa.secure_device_view.logout")})]})},ott=({type:e,isInitialSetup:t=!1,showBackButton:n=!1,createMfaToken:r=!1,deviceId:i})=>{const{t:o}=Xe(),{handleLogOut:s}=Zc(),{clearStackAndPush:a,pushView:l,goBack:c,canGoBack:d}=At(),{authenticateDevice:u}=Q3(),[h,m]=x.useState(""),[v,g]=x.useState(),[y,b]=x.useState(!1),{data:k,isLoading:_}=vr(()=>u({code:h,createMfaToken:r?{singleUse:!0}:void 0,deviceId:i,type:e}),{deps:[h],enabled:(h==null?void 0:h.length)===6,initialData:void 0,onReject:M=>{M instanceof zD?(b(!0),g(new Se(o("dyn_mfa.otp_verification_view.rate_limit_error")))):g(new Se(o("dyn_mfa.otp_verification_view.error")))},onResolve:()=>de(void 0,void 0,void 0,function*(){const M=g_();(M==null?void 0:M.mfaBackupCodeAcknowledgement)!==Vu.Complete&&a("mfa-display-backup-codes")})}),R=M=>{g(void 0),m(M)},I=M=>{m(M)},T=d&&n?c:void 0;return f.jsxs(f.Fragment,{children:[f.jsx(Tj,{MainIcon:Efe,error:v,isLoading:_,onPinComplete:I,isValid:!!k,onPinChange:R,description:o("dyn_mfa.otp_verification_view.body"),onClickBack:T,disabled:y}),!t&&f.jsxs("div",{className:"mfa-verification-view__choose-another-method",children:[f.jsx(Zs,{className:"mfa-verification-view__choose-another-method-button",onClick:()=>l("mfa-choose-device",{createMfaToken:r,isInitialSetup:t}),copykey:"dyn_mfa.otp_verification_view.choose_another_method",children:o("dyn_mfa.otp_verification_view.choose_another_method")}),f.jsx(Zs,{onClick:s,copykey:"dyn_mfa.otp_verification_view.logout",children:o("dyn_mfa.otp_verification_view.logout")})]})]})},Cfe=({onRetry:e,connector:t})=>{const{selectedWalletConnector:n}=$e(),r=x.useMemo(()=>t||n,[t,n]),{t:i}=Xe(),{storeName:o,walletLink:s}=x.useMemo(()=>{const c=n_(r==null?void 0:r.metadata.downloadLinks);return c!=null&&c.ios&&YI()?{storeName:"App Store",walletLink:c.ios}:c!=null&&c.android&&(XI()||loe())?{storeName:"Play Store",walletLink:c.android}:{storeName:void 0,walletLink:void 0}},[r]),a=()=>s&&Ln.openURL(s,"blank","noopener,noreferrer"),l=c=>f.jsx(oi,{icon:r==null?void 0:r.metadata.icon,walletKey:r==null?void 0:r.key,style:{height:Ut(c),width:Ut(c)}});return f.jsxs("div",{className:"mobile-wallet-redirect",children:[f.jsx(si,{Icon:l(94*Yo),iconSize:94,isSpinning:!0,className:"mobile-wallet-redirect__icon-with-spinner"}),f.jsx(se,{variant:"body_normal",weight:"regular",className:"mobile-wallet-redirect__copy-text",copykey:"dyn_login.mobile_wallet_redirect.prompt",children:i("dyn_login.mobile_wallet_redirect.prompt")}),f.jsxs(xt,{buttonVariant:"brand-primary",typographyProps:{color:"white",variant:"button_secondary"},onClick:e,buttonPadding:"small",copykey:"dyn_login.mobile_wallet_redirect.open_prompt",children:[i("dyn_login.mobile_wallet_redirect.open_prompt")," ",r==null?void 0:r.name]}),o&&f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_small",color:"secondary",className:"mobile-wallet-redirect__alert",copykey:"dyn_login.mobile_wallet_redirect.redirect_fail_message",children:i("dyn_login.mobile_wallet_redirect.redirect_fail_message",{walletName:r==null?void 0:r.name})}),f.jsxs("div",{className:"mobile-wallet-redirect__wallet-app",onClick:a,children:[f.jsxs("div",{className:"mobile-wallet-redirect__wallet-app__group",children:[l(26),f.jsxs(se,{variant:"body_small",weight:"bold",copykey:"dyn_login.mobile_wallet_redirect.get_app_prompt",children:[i("dyn_login.mobile_wallet_redirect.get_app_prompt")," ",r==null?void 0:r.name]})]}),f.jsxs("div",{className:"mobile-wallet-redirect__wallet-app__group",children:[f.jsx(se,{className:"mobile-wallet-redirect__wallet-app__group__app-store",variant:"body_small",weight:"bold",color:"secondary",children:o}),f.jsx(Nt,{color:"text-secondary",size:"small",children:f.jsx(I0,{})})]})]})]})]})},stt=({userProfile:e,walletConnector:t})=>{const n=e==null?void 0:e.verifiedCredentials.find(o=>o.id===e.lastVerifiedCredentialId),r=q3(n),{data:i}=vr(()=>t==null?void 0:t.getAddress(),{enabled:!e&&!!t});return f.jsxs("div",{className:"user-address__container",children:[f.jsx(z3,{variant:"green",containerClassName:"user-address__status-dot"}),r!=null&&r.name?f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"numbers_big",color:"primary",className:"user-address",children:r.name}),f.jsx("div",{className:"dynamic-widget-wallet-header__seperator"}),f.jsx(se,{variant:"numbers_medium",color:"secondary",className:"user-address",children:Ni(n==null?void 0:n.address)})]}):f.jsx(se,{variant:"numbers_big",color:"primary",className:"user-address",children:Ni((n==null?void 0:n.address)||i)})]})},att=({networkId:e,networkName:t,networkIconUrl:n,onClick:r})=>{const i=f.jsx("img",{alt:t,className:"select-network-button__icon",src:n});return f.jsxs(xt,{dataTestId:"SelectNetworkButton",onClick:()=>r(e),expanded:!0,className:"select-network-button",children:["Select",i,t," network"]})},Afe=()=>{const{selectedWalletConnector:e,setShowAuthFlow:t,bridgeChainsToConnect:n,bridgeOnboardingCompleted:r,isBridgeFlow:i,user:o}=$e(),s=wj({shouldCallCallback:!1,shouldUpdateWallets:!!(n!=null&&n.length)}),{network:a}=mj(e,{onChange:l=>{!e||!ng({network:l,walletConnector:e})||s({walletConnector:e}).then(()=>{const c=wl();!o&&c==="connect-and-sign"||(!i||r||!(n!=null&&n.length))&&t(!1)})}});return{currentNetwork:a}},ltt=()=>{const{onboardingImageUrl:e,selectedWalletConnector:t}=$e(),{t:n}=Xe(),{currentNetwork:r}=Afe();if(!t)return null;const i=a=>de(void 0,void 0,void 0,function*(){try{yield t.switchNetwork({networkChainId:a})}catch(l){Ie.debug(l)}}),o=t.getEnabledNetworks(),s=ng({network:r,walletConnector:t});return f.jsxs("div",{className:"network-not-supported","data-testid":"network-not-supported",children:[e&&f.jsx("img",{className:"network-not-supported__main-img",src:e,alt:"onboarding"}),!s&&f.jsx(Lr,{variant:"info",withIcon:!1,className:"network-not-supported__error--not-supported",copykey:"dyn_network_not_supported.warning_message",children:n("dyn_network_not_supported.warning_message")}),f.jsxs("div",{className:Ke("network-not-supported__content-container",{"network-not-supported__content-container--error":!s}),children:[f.jsx("div",{className:"network-not-supported__img-container",children:f.jsx(oi,{style:{height:64,width:64},icon:t.metadata.icon,walletKey:t.key})}),f.jsx(stt,{walletConnector:t}),f.jsx("div",{className:"network-not-supported__network-container",children:o.length>1&&f.jsx(hj,{currentNetwork:r,connector:t,showNetworkName:!0,buttonClassName:"network-not-supported__network-picker-button",mainClassName:"network-not-supported__network-picker"})}),f.jsx("div",{className:"network-not-supported__welcome-container",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_network_not_supported.subtitle",children:n("dyn_network_not_supported.subtitle")})}),o.length===1&&f.jsx(att,{onClick:i,networkId:o[0].networkId,networkName:o[0].vanityName||o[0].name,networkIconUrl:o[0].iconUrls[0]})]})]})},ctt=()=>{var e;const{selectedWalletConnector:t}=$e();Afe();const{t:n}=Xe(),r=80,i=f.jsx(oi,{icon:t==null?void 0:t.metadata.icon,walletKey:t==null?void 0:t.key,style:{height:Ut(r*Yo),width:Ut(r*Yo)}}),o=(e=t==null?void 0:t.getEnabledNetworks())!==null&&e!==void 0?e:[],s=()=>(t==null?void 0:t.key)==="metamaskstarknet"?"dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet":o.length?"dyn_network_not_supported_manual_switch.subtitle_network_defined":"dyn_network_not_supported_manual_switch.subtitle_no_network_defined",a=()=>(t==null?void 0:t.key)==="metamaskstarknet"?f.jsxs(f.Fragment,{children:[n("dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet",{network:o[0].name}),f.jsxs("a",{href:"https://snaps.consensys.io/starknet",target:"_blank",rel:"noreferrer",children:[" ",n("dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet_companion_app")," ",f.jsx(I0,{style:{display:"inline-block"}})]})]}):o.length?n("dyn_network_not_supported_manual_switch.subtitle_network_defined",{network:o[0].name}):n("dyn_network_not_supported_manual_switch.subtitle_no_network_defined");return f.jsxs("div",{"data-testid":"network-not-supported",className:"network-not-supported-switch-manual",children:[f.jsx("div",{className:"network-not-supported-switch-manual__img-container",children:f.jsx("div",{className:"network-not-supported-switch-manual__network-container",children:f.jsx(si,{Icon:i,iconSize:r,isSpinning:!0})})}),f.jsxs("div",{className:"network-not-supported-switch-manual__content",children:[f.jsx(se,{className:"network-not-supported-switch-manual__title",weight:"medium",variant:"title",color:"primary",copykey:"dyn_network_not_supported_manual_switch.title",children:n("dyn_network_not_supported_manual_switch.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:s(),children:a()})]})]})},dtt={discord:PD,helpdesk:Qoe,slack:BD,twitter:DD},utt=e=>dtt[e],ftt=()=>{const{socialMediaLinkText:e,socialMediaUrl:t,accessDeniedMessagePrimary:n,accessDeniedMessageSecondary:r}=$e(),{view:i}=At(),{t:o}=Xe(),s=i.type==="chainalysis-blocked-wallet",a=i.type==="gate-blocked-wallet",l=i.type==="no-access",c=()=>{if(s)return o(_c.chainalysis._socialMediaLinkText);if(!a)return e},d=()=>{if(s)return o(_c.chainalysis._socialMediaUrl);if(!a)return t},u=()=>s?o(_c.chainalysis.title):a?o(_c.gate.title):n||o(_c.default.title),h=()=>s?o(_c.chainalysis.subtitle):a?o(_c.gate.subtitle):r||o(_c.default.subtitle),m=()=>o(s?_c.chainalysis.buttonTitle:a?_c.gate.buttonTitle:_c.default.buttonTitle);return{_socialMediaLinkText:c(),_socialMediaUrl:d(),buttonTitle:m(),isAccessListView:l,isChainalysisView:s,isGateBlockedView:a,subtitle:h(),title:u()}},_c={chainalysis:{_socialMediaLinkText:"dyn_no_access.chainalysis.social_media_link_text",_socialMediaUrl:"dyn_no_access.chainalysis.social_media_link_url",buttonTitle:"dyn_no_access.chainalysis.button_text",subtitle:"dyn_no_access.chainalysis.description",title:"dyn_no_access.chainalysis.title"},default:{buttonTitle:"dyn_no_access.default.button_text",subtitle:"dyn_no_access.default.description",title:"dyn_no_access.default.title"},gate:{buttonTitle:"dyn_no_access.gate.button_text",subtitle:"dyn_no_access.gate.description",title:"dyn_no_access.gate.title"}},C4=()=>{const{deniedAddress:e,setDeniedAddress:t,setDeniedOauthProvider:n,deniedOauthProvider:r,deniedOauthUsername:i}=d_(),{t:o}=Xe(),s=r?jD(r):void 0,{selectedWalletConnector:a,socialMediaIconUrl:l,notInTheListImageUrl:c,accessDeniedButton:d}=$e(),{displayedDestination:u}=Kc(),{clearStackAndPushInitialView:h}=At(),{_socialMediaLinkText:m,_socialMediaUrl:v,isAccessListView:g,isGateBlockedView:y,subtitle:b,title:k,buttonTitle:_}=ftt(),R=()=>{h(),t(""),n(void 0),a==null||a.endSession()},I=!l||typeof l=="string"?null:utt(Object.keys(l)[0]),T=x.useMemo(()=>a?f.jsx(uj,{}):f.jsx(fv,{containerClassName:"wallet-no-access__icon--verified",Icon:s??y0,iconSize:50,InnerIcon:Zh,variant:"red"}),[s,a]),M=Ni(e),D=(d==null?void 0:d.title)||_,A=(d==null?void 0:d.action)||R,$=r===void 0?u??M:i,q=!!c&&(g||y),z=I&&(g||y);return f.jsxs("div",{className:"wallet-no-access__container",children:[q&&f.jsx("img",{src:c,alt:o("dyn_no_access.not_in_the_list_image_alt"),className:"wallet-no-access__image",copykey:"dyn_no_access.not_in_the_list_image_alt"}),f.jsxs("div",{className:"wallet-no-access__main",children:[f.jsxs("div",{className:"wallet-no-access__user-info-container",children:[T,f.jsxs("div",{"data-testid":"walletAddress",className:"wallet-no-access__wallet-address-container",children:[a&&f.jsx(z3,{variant:"red",containerClassName:"user-info__status-dot"}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"medium",className:"wallet-no-access__wallet-address",children:$})]})]}),f.jsxs("div",{className:"wallet-no-access__content",children:[f.jsx(se,{variant:"title",color:"primary",className:"wallet-no-access__content--primary",children:k}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"wallet-no-access__content--secondary",children:b})]}),f.jsx(xt,{onClick:A,className:"wallet-no-access__button--primary",expanded:!0,buttonPadding:"large",children:D}),v&&m&&f.jsxs("div",{className:"wallet-no-access__social-info-container",children:[f.jsxs("a",{href:v,className:"wallet-no-access__waitlist-link",children:[f.jsx(se,{variant:"button_primary",color:"primary",children:m}),z&&f.jsx(I,{className:"wallet-no-access__social-icon",style:{height:Ut(24),width:Ut(24)}})]}),typeof l=="string"&&f.jsx("img",{alt:"social media",src:l,style:{height:"1.5rem",width:"1.5rem"}})]})]})]})},htt=e=>e[0].toUpperCase()+e.slice(1),ptt=({name:e,link:t,Icon:n})=>{const{t:r}=Xe();return f.jsx("div",{className:"wallet-help-link",children:f.jsxs("a",{className:"wallet-help-link__anchor",href:t,target:"_blank",rel:"noreferrer",children:[f.jsx(n,{style:{height:"1.5rem",width:"1.5rem"}}),f.jsx(se,{variant:"button_primary",weight:"medium",copykey:"dyn_qr_code.wallet_not_installed.browser_install",children:r("dyn_qr_code.wallet_not_installed.browser_install",{browser:htt(e)})})]})})},mtt=()=>{const{selectedWalletConnector:e}=$e(),{t}=Xe();if(!e)return null;const{metadata:n}=e,r=Object.entries(n_(n.downloadLinks)).filter(([,i])=>i!=="").filter(([i])=>i!=="ios"&&i!=="android").map(([i,o])=>f.jsx(ptt,{name:i,link:o,Icon:xP(i)},i));return f.jsxs("div",{className:"no-qr-code-installed__container","data-testid":"no-qr-code-installed",children:[f.jsx("div",{className:"no-qr-code-installed__img",children:f.jsx(oi,{icon:n.icon,walletKey:e.key,style:{height:Ut(64),width:Ut(64)}})}),f.jsx(se,{className:"no-qr-code-installed__typography--title",variant:"title",copykey:"dyn_qr_code.wallet_not_installed.install",children:t("dyn_qr_code.wallet_not_installed.install",{wallet:n.name})}),f.jsx(se,{variant:"body_normal",className:"no-qr-code-installed__typography",color:"secondary",copykey:"dyn_qr_code.wallet_not_installed.select",children:t("dyn_qr_code.wallet_not_installed.select")}),f.jsx("div",{className:"no-qr-code-installed__links-section",children:r}),f.jsx(se,{variant:"body_mini",className:"no-qr-code-installed__typography",weight:"medium",color:"secondary",copykey:"dyn_qr_code.wallet_not_installed.refresh",children:t("dyn_qr_code.wallet_not_installed.refresh")})]})};var qZ,zZ,gtt=["title","titleId"];function PP(){return PP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PP.apply(null,arguments)}function ytt(e,t){if(e==null)return{};var n,r,i=vtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wtt=function(t){var n=t.title,r=t.titleId,i=ytt(t,gtt);return x.createElement("svg",PP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,qZ||(qZ=x.createElement("g",{clipPath:"url(#passkey-intro2_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#passkey-intro2_svg__b)",fillOpacity:.12}),x.createElement("g",{clipPath:"url(#passkey-intro2_svg__c)",fill:"#4779FF"},x.createElement("path",{d:"M106.009 34.681a2.666 2.666 0 0 1 3.266 1.886l-15.454 4.141a5.319 5.319 0 0 0-3.339 2.666 5.335 5.335 0 0 1 3.936-5.587l11.591-3.106ZM117.785 42.57a5.333 5.333 0 0 0-6.532-3.772l-15.455 4.141a5.333 5.333 0 0 0-3.771 6.532l2.76 10.303a5.333 5.333 0 0 0 6.533 3.771l15.454-4.14a5.333 5.333 0 0 0 3.772-6.533l-2.761-10.303Z"})),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.314.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.325 9.325 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.732-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-1.34 14.592a15.89 15.89 0 0 0-7.978 2.135 1.772 1.772 0 0 0 1.775 3.069 12.347 12.347 0 0 1 6.203-1.66c6.853 0 12.408 5.556 12.408 12.409a44.34 44.34 0 0 1-1.688 12.156 1.772 1.772 0 1 0 3.41.97 47.883 47.883 0 0 0 1.823-13.126c0-8.81-7.142-15.953-15.953-15.953Zm-10.749 9.75a1.772 1.772 0 1 0-3.069-1.775 15.891 15.891 0 0 0-2.135 7.978c0 2.499-.573 4.86-1.594 6.96a1.772 1.772 0 1 0 3.189 1.55 19.43 19.43 0 0 0 1.95-8.51c0-2.263.604-4.38 1.659-6.203Zm10.749-2.66a8.863 8.863 0 0 0-8.863 8.863c0 4.516-1.29 8.704-3.518 12.246l1.5.944-1.5-.944-.121.196a1.774 1.774 0 0 0 3.049 1.81 26.434 26.434 0 0 0 4.135-14.253 5.318 5.318 0 0 1 10.636 0c0 1.723-.118 3.418-.345 5.078a1.773 1.773 0 0 0 3.513.48 41.12 41.12 0 0 0 .377-5.557 8.863 8.863 0 0 0-8.863-8.863Zm1.772 8.863a1.772 1.772 0 1 0-3.545 0c0 5.89-1.688 11.381-4.607 16.021a1.773 1.773 0 0 0 3.001 1.888 33.528 33.528 0 0 0 5.151-17.91Zm5.554 11.117a1.773 1.773 0 0 0-3.411-.965 37.01 37.01 0 0 1-2.523 6.502 1.771 1.771 0 1 0 3.169 1.588 40.517 40.517 0 0 0 2.765-7.124Z",fill:"#4779FF"}))),zZ||(zZ=x.createElement("defs",null,x.createElement("clipPath",{id:"passkey-intro2_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"passkey-intro2_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),x.createElement("linearGradient",{id:"passkey-intro2_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))},VZ,KZ,HZ,btt=["title","titleId"];function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BP.apply(null,arguments)}function _tt(e,t){if(e==null)return{};var n,r,i=xtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ktt=function(t){var n=t.title,r=t.titleId,i=_tt(t,btt);return x.createElement("svg",BP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,VZ||(VZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 57.887c14.297 0 25.887-11.59 25.887-25.887S46.297 6.113 32 6.113 6.113 17.703 6.113 32 17.703 57.887 32 57.887ZM32 60c15.464 0 28-12.536 28-28S47.464 4 32 4 4 16.536 4 32s12.536 28 28 28Z",fill:"#1A73E8"})),KZ||(KZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.752 46.831c.27.582.018 1.274-.565 1.544-2.69 1.25-5.356 1.479-7.54.476-2.215-1.017-3.66-3.173-4.134-6.099l2.295-.372c.383 2.364 1.466 3.742 2.809 4.359 1.374.63 3.299.592 5.591-.472a1.162 1.162 0 0 1 1.544.564ZM33.585 35.17v-4.755h2.113v6.868h-5.811V35.17h3.698Z",fill:"#1A73E8"})),HZ||(HZ=x.createElement("path",{d:"M46.792 25.132a2.113 2.113 0 1 1-4.226 0 2.113 2.113 0 0 1 4.226 0ZM21.434 25.132a2.113 2.113 0 1 1-4.227 0 2.113 2.113 0 0 1 4.227 0Z",fill:"#1A73E8"})))},GZ,Stt=["title","titleId"];function DP(){return DP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DP.apply(null,arguments)}function Itt(e,t){if(e==null)return{};var n,r,i=Ett(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ett(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Rfe=function(t){var n=t.title,r=t.titleId,i=Itt(t,Stt);return x.createElement("svg",DP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,GZ||(GZ=x.createElement("path",{d:"M47.493 11.92c-.213 0-.426-.053-.613-.16C41.76 9.12 37.333 8 32.027 8c-5.28 0-10.294 1.253-14.854 3.76-.64.347-1.44.107-1.813-.533a1.35 1.35 0 0 1 .533-1.814c4.96-2.693 10.4-4.08 16.134-4.08 5.68 0 10.64 1.254 16.08 4.054.666.346.906 1.146.56 1.786-.24.48-.694.747-1.174.747Zm-38.16 14a1.33 1.33 0 0 1-1.093-2.107c2.64-3.733 6-6.666 10-8.72 8.373-4.32 19.093-4.346 27.493-.026 4 2.053 7.36 4.96 10 8.666.427.587.294 1.44-.32 1.867a1.33 1.33 0 0 1-1.866-.32c-2.4-3.36-5.44-6-9.04-7.84-7.654-3.92-17.44-3.92-25.067.027-3.627 1.866-6.667 4.533-9.067 7.893-.213.373-.613.56-1.04.56ZM26 58.107c-.347 0-.693-.134-.933-.4-2.32-2.32-3.574-3.814-5.36-7.04-1.84-3.28-2.8-7.28-2.8-11.574 0-7.92 6.773-14.373 15.093-14.373s15.093 6.453 15.093 14.373a1.32 1.32 0 0 1-1.333 1.334 1.32 1.32 0 0 1-1.333-1.334c0-6.453-5.574-11.706-12.427-11.706S19.573 32.64 19.573 39.093c0 3.84.854 7.387 2.48 10.267 1.707 3.067 2.88 4.373 4.934 6.453a1.37 1.37 0 0 1 0 1.894c-.294.266-.64.4-.987.4Zm19.12-4.934c-3.173 0-5.973-.8-8.267-2.373-3.973-2.693-6.346-7.067-6.346-11.707a1.32 1.32 0 0 1 1.333-1.333 1.32 1.32 0 0 1 1.333 1.333c0 3.76 1.92 7.307 5.174 9.494 1.893 1.28 4.106 1.893 6.773 1.893.64 0 1.707-.08 2.773-.267a1.33 1.33 0 0 1 1.547 1.094 1.33 1.33 0 0 1-1.093 1.546c-1.52.294-2.854.32-3.227.32Zm-5.36 5.494a1.56 1.56 0 0 1-.347-.054c-4.24-1.173-7.013-2.746-9.92-5.6-3.733-3.706-5.786-8.64-5.786-13.92 0-4.32 3.68-7.84 8.213-7.84 4.533 0 8.213 3.52 8.213 7.84 0 2.854 2.48 5.174 5.547 5.174 3.067 0 5.547-2.32 5.547-5.174 0-10.053-8.667-18.213-19.334-18.213-7.573 0-14.506 4.213-17.626 10.747-1.04 2.16-1.574 4.693-1.574 7.466 0 2.08.187 5.36 1.787 9.627a1.301 1.301 0 0 1-.773 1.707A1.323 1.323 0 0 1 12 49.653c-1.307-3.493-1.947-6.96-1.947-10.56 0-3.2.614-6.106 1.814-8.64 3.546-7.44 11.413-12.266 20.026-12.266 12.134 0 22 9.36 22 20.88 0 4.32-3.68 7.84-8.213 7.84-4.533 0-8.213-3.52-8.213-7.84 0-2.854-2.48-5.174-5.547-5.174-3.067 0-5.547 2.32-5.547 5.174 0 4.56 1.76 8.826 4.987 12.026 2.533 2.507 4.96 3.894 8.72 4.934.72.186 1.12.933.933 1.626a1.301 1.301 0 0 1-1.253 1.014Z",fill:"#1A73E8"})))},JZ,ZZ,Ctt=["title","titleId"];function MP(){return MP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MP.apply(null,arguments)}function Att(e,t){if(e==null)return{};var n,r,i=Rtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ttt=function(t){var n=t.title,r=t.titleId,i=Att(t,Ctt);return x.createElement("svg",MP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,JZ||(JZ=x.createElement("g",{clipPath:"url(#iphone-touch-id_svg__a)",fill:"#000"},x.createElement("path",{d:"M38.635.943c-4.483-1.118-9.2-1.278-13.79-.287a.657.657 0 0 0 .277 1.285c4.396-.95 8.924-.793 13.232.287 10.3 2.582 18.875 10.327 22.14 20.444 1.264 3.912 1.8 8.078 1.908 12.445a.657.657 0 0 0 1.313-.033c-.108-4.426-.651-8.7-1.945-12.74C58.378 11.75 49.417 3.632 38.635.943ZM21.51 2.932a.657.657 0 1 0-.35-1.267c-4.801 1.324-11.554 5.9-15.728 12.014a.754.754 0 0 0-.004.007C1.763 19.208-.534 26.148.108 32.883l.001.019c.154 1.23.412 2.457.67 3.686.544 2.588 1.09 5.183.665 7.818a.657.657 0 1 0 1.297.21c.445-2.755-.107-5.443-.66-8.13-.254-1.244-.51-2.487-.666-3.737-.604-6.364 1.57-13.002 5.105-18.333 4.015-5.879 10.516-10.25 14.99-11.484Z"}),x.createElement("path",{d:"M30.133 4.4c8.25-.504 16.499 2.863 22.039 9.314a.657.657 0 1 1-.997.856c-5.268-6.134-13.118-9.339-20.966-8.858H30.2c-9.925.48-19.22 7.214-22.638 16.648a.657.657 0 1 1-1.236-.447C9.928 11.973 19.688 4.907 30.133 4.4ZM54.174 16.585a.657.657 0 0 0-1.091.733c3.07 4.572 4.34 9.548 4.843 15.454a.657.657 0 0 0 1.31-.112c-.514-6.034-1.823-11.252-5.062-16.075ZM58.796 35.45a.657.657 0 0 1 .697.615c.247 3.963.25 8.446-.189 11.76a.657.657 0 1 1-1.303-.173c.423-3.193.425-7.582.18-11.505a.657.657 0 0 1 .615-.697ZM6.57 25.543a.657.657 0 1 0-1.278-.308 26.58 26.58 0 0 0-.743 6.104c-.01 2.117.385 4.184.78 6.25.323 1.692.646 3.384.747 5.104.134 2.26-.341 4.523-1.163 6.677a.657.657 0 1 0 1.228.469c.868-2.277 1.395-4.73 1.247-7.223-.1-1.709-.424-3.39-.747-5.072-.394-2.051-.788-4.102-.778-6.199.01-1.952.248-3.902.706-5.802Z"}),x.createElement("path",{d:"M23.813 10.94a.657.657 0 0 1-.365.855c-6.813 2.736-11.93 8.91-12.973 16.19-.436 3.042.035 6.055.506 9.067.265 1.696.53 3.392.634 5.093.223 3.688-.197 7.739-2.597 11.425a.657.657 0 0 1-1.101-.718c2.186-3.358 2.6-7.088 2.386-10.627-.105-1.726-.368-3.442-.632-5.156-.472-3.077-.944-6.15-.497-9.27 1.115-7.774 6.563-14.324 13.784-17.224a.657.657 0 0 1 .855.365ZM46.882 14.681c-5.374-5.034-13.164-6.79-20.244-5.238a.657.657 0 1 0 .282 1.284c6.704-1.47 14.039.207 19.064 4.914 4.235 3.967 6.695 9.739 7.339 16.037a.657.657 0 0 0 1.307-.134c-.668-6.54-3.232-12.633-7.748-16.863ZM54.493 34.674a.657.657 0 0 1 .72.586c.625 6.077.356 12.64-.587 18.99a.657.657 0 0 1-1.3-.193c.93-6.261 1.191-12.713.58-18.662a.657.657 0 0 1 .587-.721Z"}),x.createElement("path",{d:"M31.582 13.355c-10.07 0-18.252 8.034-18.252 17.967 0 1.06.094 2.1.274 3.111a.657.657 0 0 0 1.294-.23 16.469 16.469 0 0 1-.254-2.881c0-9.187 7.574-16.652 16.938-16.652 4.232 0 8.098 1.525 11.066 4.045a.657.657 0 0 0 .85-1.002 18.353 18.353 0 0 0-11.916-4.358ZM44.971 20.163a.657.657 0 0 1 .93.02c2.9 3.024 3.828 7.777 4.442 11.766.692 4.494.798 8.877.798 10.91a.657.657 0 0 1-1.315 0c0-2-.104-6.31-.782-10.71-.57-3.703-1.392-8.24-4.092-11.056a.657.657 0 0 1 .02-.93ZM50.974 46.622a.657.657 0 0 0-1.31-.105c-.323 4.048-.745 8.092-1.6 11.827a.657.657 0 1 0 1.28.293c.879-3.833 1.306-7.956 1.63-12.015ZM14.662 36.852a.657.657 0 0 1 .771.518c1.39 7.056.43 13.466-3.25 19.08a.657.657 0 0 1-1.099-.72c3.462-5.283 4.394-11.331 3.06-18.106a.657.657 0 0 1 .518-.772Z"}),x.createElement("path",{d:"M31.582 17.631c-6.537 0-12.95 5.06-13.604 11.42-.287 2.784.116 5.526.519 8.27.351 2.395.703 4.791.596 7.217-.244 5.552-1.873 10.135-4.672 13.91a.657.657 0 1 0 1.056.782c2.968-4.003 4.674-8.844 4.93-14.634.106-2.415-.247-4.804-.6-7.19-.403-2.73-.806-5.459-.521-8.221.574-5.587 6.325-10.24 12.296-10.24 2.785 0 9.991 1.508 12.283 8.976 1.437 4.679 1.828 11.012 1.48 17.164-.347 6.151-1.43 12.035-2.885 15.808a.657.657 0 0 0 1.227.473c1.522-3.947 2.619-9.98 2.97-16.207.353-6.226-.034-12.734-1.535-17.624-2.545-8.289-10.52-9.904-13.54-9.904Z"}),x.createElement("path",{d:"M21.47 56.451c.303.198.389.606.19.91-.407.624-.765 1.278-1.124 1.932-.359.654-.717 1.307-1.125 1.932a.657.657 0 1 1-1.1-.718c.407-.624.765-1.278 1.124-1.932.359-.654.717-1.308 1.125-1.932a.657.657 0 0 1 .91-.192ZM27.096 24.453a.657.657 0 1 0-.73-1.093c-2.603 1.74-4.2 4.134-4.2 7.64 0 2.088.37 3.795.75 5.545.567 2.62.953 5.233.883 7.923-.084 3.267-.723 6.252-1.952 9.096a.657.657 0 1 0 1.207.521c1.299-3.007 1.971-6.158 2.06-9.583.071-2.796-.325-5.513-.913-8.235-.38-1.758-.72-3.328-.72-5.267 0-3.004 1.321-5.013 3.615-6.547ZM29.66 22.144c2.728-.556 5.662.13 7.822 1.879 3.858 3.122 4.371 8.817 4.787 13.432l.021.235c.538 5.949-.077 11.726-1.316 17.529a.657.657 0 1 1-1.286-.275c1.22-5.715 1.815-11.355 1.293-17.136l-.052-.582v-.002c-.37-4.17-.832-9.394-4.274-12.18-1.846-1.494-4.379-2.092-6.732-1.613a.657.657 0 1 1-.262-1.287ZM40.045 58.489a.657.657 0 1 0-1.274-.325 15.88 15.88 0 0 1-1.785 4.266.657.657 0 1 0 1.127.675 17.188 17.188 0 0 0 1.932-4.616ZM36.831 48.952c.36.043.618.37.576.73-.62 5.245-2.022 9.922-4.27 13.98a.657.657 0 0 1-1.15-.638c2.152-3.882 3.51-8.39 4.115-13.496a.657.657 0 0 1 .73-.576Z"}),x.createElement("path",{d:"M36.696 30.656c-.456-2.435-2.545-4.297-5.081-4.297-3.435 0-5.845 3.462-4.996 6.683 1.437 5.686 1.673 11.166.7 16.444v.003c-.845 4.739-2.465 9.002-4.677 12.614a.657.657 0 0 0 1.121.686c2.302-3.76 3.978-8.178 4.85-13.067 1.01-5.482.759-11.154-.72-17.005l-.002-.007c-.637-2.41 1.138-5.037 3.724-5.037 1.865 0 3.44 1.373 3.788 3.22.957 5.548 1.455 10.693 1.1 15.123a.657.657 0 1 0 1.31.105c.368-4.592-.151-9.863-1.115-15.456l-.002-.01ZM29.654 59.117c.323.166.45.562.284.885l-1.741 3.389a.657.657 0 1 1-1.17-.601L28.77 59.4a.657.657 0 0 1 .885-.284Z"}),x.createElement("path",{d:"M32.103 31.29a.657.657 0 1 0-1.28.3c2.217 9.433 1.913 17.717-.787 24.773a.657.657 0 1 0 1.228.47c2.814-7.358 3.1-15.919.84-25.544Z"}))),ZZ||(ZZ=x.createElement("defs",null,x.createElement("clipPath",{id:"iphone-touch-id_svg__a"},x.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))))};const Mj=({defaultIcon:e,className:t,size:n="small"})=>{let r=e||null;if(G1()&&(Bxe()?r=f.jsx(Ttt,{"data-testid":"iphone-8-icon"}):r=f.jsx(xfe,{"data-testid":"iphone-icon"})),XI()){const i=jxe();i&&i>=9?r=f.jsx(Rfe,{"data-testid":"android-9-icon"}):r=f.jsx(ktt,{"data-testid":"android-icon"})}return r?f.jsx(Nt,{className:t,size:n,children:r}):f.jsx(f.Fragment,{})},Tfe=({choice:e,variant:t="default"})=>{const{t:n}=Xe(),r={passkey:{default:[{description:"dyn_embedded_authenticator.passkey.auth_info.convinience.description",title:"dyn_embedded_authenticator.passkey.auth_info.convinience.title"},{description:"dyn_embedded_authenticator.passkey.auth_info.security.description",title:"dyn_embedded_authenticator.passkey.auth_info.security.title"}],noEmailSignup:[{description:"dyn_embedded_authenticator.passkey.no_email_auth_info.convinience.description",title:"dyn_embedded_authenticator.passkey.no_email_auth_info.convinience.title"},{description:"dyn_embedded_authenticator.passkey.no_email_auth_info.security.description",title:"dyn_embedded_authenticator.passkey.no_email_auth_info.security.title"}]}};return f.jsx("div",{className:"auth-choice-info",children:r[e][t].map((i,o)=>f.jsxs("div",{className:"auth-choice-info__container-item",children:[f.jsx("div",{className:"auth-choice-info__container-icon",children:f.jsx(Nt,{size:"medium",className:"auth-choice-info__icon",children:f.jsx(Zde,{})})}),f.jsxs("div",{className:"action-card__item-title",children:[f.jsx(se,{variant:"body_normal",weight:"regular",copykey:i.title,children:n(i.title)}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:i.description,children:n(i.description)})]})]},`authChoiceInfo_${o}`))})},Ott=({chains:e})=>{var t;const{walletConnectorOptions:n,environmentId:r,handleLogOut:i,user:o,userWithMissingInfo:s}=$e(),a=((t=o==null?void 0:o.verifiedCredentials)===null||t===void 0?void 0:t.length)===1&&!M3(o,Zo.Email),{t:l}=Xe(),[c,d]=x.useState(!1);x.useEffect(()=>ot.removeItem(Xu),[]);const{createDynamicEmbeddedWalletMutation:u,isLoading:h,error:m}=jde(),v=y=>de(void 0,void 0,void 0,function*(){if(!o&&!s)throw new Error("User is not logged in");d(y),yield u({chains:e,environmentId:r,walletConnectorOptions:n,withAuthenticator:y})}),g=x.useMemo(()=>{if(m)return m instanceof Se?m.message:op(m)},[m]);return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_passkey_intro.title",children:l("dyn_passkey_intro.title")})}),f.jsxs("div",{className:"passkey-intro-view",children:[f.jsx("div",{className:"passkey-intro-view__header",children:f.jsx(wtt,{})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-intro-view__subtitle",copykey:"dyn_passkey_intro.subtitle",children:l("dyn_passkey_intro.subtitle")}),g&&f.jsx(Lr,{children:g}),f.jsx(Tfe,{choice:"passkey",variant:a?"noEmailSignup":"default"}),f.jsxs("div",{className:"passkey-intro-view__actions",children:[f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"large",onClick:()=>v(!0),dataTestId:"setup-passkey-button",loading:h&&c,disabled:h,typographyProps:{color:"inherit"},children:f.jsxs("div",{className:"passkey-intro-view__inline-button",children:[f.jsx(Mj,{size:"small"}),f.jsx(se,{copykey:"dyn_passkey_intro.button",children:l("dyn_passkey_intro.button")})]})}),f.jsx(Zs,{"data-testid":"setup-passkey-logout-button",className:"passkey-intro-view__log-out",onClick:i,copykey:"dyn_passkey_intro.button_logout",children:l("dyn_passkey_intro.button_logout")})]})]})]})};var YZ,XZ,QZ,eY,Ntt=["title","titleId"];function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(null,arguments)}function Ptt(e,t){if(e==null)return{};var n,r,i=Btt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Btt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ofe=function(t){var n=t.title,r=t.titleId,i=Ptt(t,Ntt);return x.createElement("svg",jP({width:206,height:206,viewBox:"0 0 206 206",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,YZ||(YZ=x.createElement("circle",{cx:103,cy:103,r:103,fill:"url(#passkey-intro-icon_svg__a)",fillOpacity:.12})),XZ||(XZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.59 42.066a6.37 6.37 0 0 1 1.822 0c.696.1 1.343.345 1.858.54l.138.051 17.072 6.402.416.156c1.967.734 3.695 1.38 5.025 2.551a9.553 9.553 0 0 1 2.612 3.77c.631 1.657.628 3.501.625 5.6v15.672c0 9-4.895 16.504-10.187 22.016-5.326 5.55-11.421 9.469-14.643 11.349l-.131.077c-.588.345-1.351.793-2.361 1.01a6.78 6.78 0 0 1-2.67 0c-1.01-.217-1.774-.665-2.362-1.01l-.13-.077c-3.223-1.88-9.317-5.799-14.644-11.349-5.291-5.512-10.186-13.015-10.186-22.016V61.137c-.003-2.1-.006-3.944.625-5.601a9.553 9.553 0 0 1 2.612-3.77c1.33-1.172 3.058-1.817 5.025-2.551l.416-.156 17.072-6.402.138-.052c.514-.194 1.162-.439 1.858-.54ZM94.382 69.11v-4.037a8.073 8.073 0 1 1 16.147 0v4.036a13.434 13.434 0 0 1 5.383 10.766c0 7.431-6.024 13.456-13.456 13.456C95.025 93.33 89 87.306 89 79.875c0-4.402 2.114-8.31 5.382-10.765Zm13.147-1.702v-2.335a5.073 5.073 0 1 0-10.147 0v2.336a13.414 13.414 0 0 1 5.074-.99c1.795 0 3.508.352 5.073.99ZM106 77.5a3.5 3.5 0 0 1-2 3.163V83.5a1.5 1.5 0 1 1-3 0v-2.837a3.5 3.5 0 1 1 5-3.163ZM126 22a4 4 0 0 1 4-4h45a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4h-45a4 4 0 0 1-4-4V22Zm15 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm7 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm13-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm9 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm1 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"#4779FF"})),QZ||(QZ=x.createElement("g",{clipPath:"url(#passkey-intro-icon_svg__b)"},x.createElement("g",{clipPath:"url(#passkey-intro-icon_svg__c)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.731 54.983a15.068 15.068 0 0 0 1.087-10.69C58.656 36.226 50.362 31.438 42.294 33.6c-8.069 2.162-12.857 10.455-10.695 18.524a15.068 15.068 0 0 0 6.288 8.715c1.864-4.039 6.77-6.622 9.948-7.473 3.179-.852 8.204-1.183 11.896 1.618Zm-19.98-8.96a5.672 5.672 0 1 1 10.957-2.935 5.672 5.672 0 0 1-10.957 2.936Z",fill:"#4779FF"})))),eY||(eY=x.createElement("defs",null,x.createElement("clipPath",{id:"passkey-intro-icon_svg__b"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 151.778 -80.474)",d:"M0 0h33v33H0z"})),x.createElement("clipPath",{id:"passkey-intro-icon_svg__c"},x.createElement("rect",{x:27.684,y:37.513,width:30.25,height:30.25,rx:15.125,transform:"rotate(-15 27.684 37.513)",fill:"#fff"})),x.createElement("linearGradient",{id:"passkey-intro-icon_svg__a",x1:103,y1:0,x2:103,y2:105.711,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const Dtt=({canSkipAddingEmail:e=!0,shouldInitRecovery:t=!1,authenticatorType:n,currentAction:r,isFromEmailVerification:i=!1})=>{const{user:o,setShowAuthFlow:s}=$e(),{t:a}=Xe(),{addRecoveryEmail:l,initPasskeyRecoveryProcess:c}=Qh(),[d,u]=x.useState(!1),[h,m]=x.useState(void 0);ep(()=>{rt.once("embeddedWalletRecoveryEmailCompleted",()=>de(void 0,void 0,void 0,function*(){if(u(!0),m(void 0),!t){setTimeout(()=>{s(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},5e3);return}return c(n,r)})),rt.once("embeddedWalletRecoveryEmailFailed",_=>de(void 0,void 0,void 0,function*(){m(_)}))});const{mutate:v,isLoading:g}=Xo(_=>de(void 0,void 0,void 0,function*(){yield l(_)})),y=()=>{s(!1)},b=()=>{if(h)return h instanceof Se?h.message:op(h,o)},k=e&&f.jsx(Sn,{onClick:y,type:"button","data-testid":"add-recovery-email-close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:k,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"passkey-recovery-heading",className:"header__typography",copykey:"dyn_passkey_recovery.add_email.title",children:a("dyn_passkey_recovery.add_email.title")})}),f.jsxs("div",{className:"passkey-recovery-view",children:[f.jsx("div",{className:"passkey-recovery-view__header",children:f.jsx(Ofe,{})}),d&&f.jsx(Lr,{variant:"success",copykey:"dyn_passkey_recovery.add_email.success_message",children:a("dyn_passkey_recovery.add_email.success_message")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",copykey:"dyn_passkey_recovery.add_email.description",children:a("dyn_passkey_recovery.add_email.description")}),h!==void 0&&f.jsx(Lr,{children:b()}),f.jsx("div",{className:"passkey-recovery-view__form",children:f.jsx(Zue,{onSubmit:v,currentEmail:o==null?void 0:o.email,isLoading:(g||i)&&!h,buttonCopyKey:"dyn_passkey_recovery.add_email.confirm_button",isDisabled:i&&!h&&!d})})]})]})},Mtt=new RegExp(/^([A-Za-z0-9\s_+@\.-]+)$/),jtt=({authenticatorType:e,currentAction:t})=>{const{primaryWallet:n,environmentId:r,user:i,setShowAuthFlow:o}=$e(),{isTurnkeyWalletWithoutAuthenticator:s}=da(),{getEOAWallet:a}=xs(),[l,c]=x.useState(""),[d,u]=x.useState(!1),[h,m]=x.useState(!1),{t:v}=Xe(),{pushView:g}=At(),{mutate:y,isLoading:b,error:k}=Xo(U=>de(void 0,void 0,void 0,function*(){var $;const q=($=n&&a(n))!==null&&$!==void 0?$:n;yield RVe({bundleInput:U,user:i,wallet:q}),m(!0),e==="email"&&rt.emit("passkeyRecoveryCompleted",n),setTimeout(()=>{const z=()=>{var S,E,N;!((S=t==null?void 0:t.settings)===null||S===void 0)&&S.goBack?(N=(E=t==null?void 0:t.settings)===null||E===void 0?void 0:E.goBack)===null||N===void 0||N.call(E):o(!1)};if(e==="passkey")return g("passkey-recovery-complete",{goBack:z});(t==null?void 0:t.type)!=="reveal"&&z()},2e3)})),_=U=>!(!(U!=null&&U.length)||U.length<100||U.length>=256||!Mtt.test(U)),R=U=>{var $;const q=($=U.target.value)===null||$===void 0?void 0:$.trim();c(q),_(q)&&y(q)},I=()=>de(void 0,void 0,void 0,function*(){try{u(!0),yield TVe({authenticatorType:e,environmentId:r,user:i,wallet:n})}catch(U){Ie.error("Failed to complete passkey recovery",U)}finally{u(!1)}}),T=x.useMemo(()=>{if(k)return k instanceof Se?k.message:op(k)},[k]),M=f.jsx(Nt,{color:"brand-primary",children:f.jsx(y0,{})}),D=s?"dyn_passkey_secure_modal":"dyn_passkey_recovery",A=f.jsx(Sn,{type:"button",onClick:()=>{o(!1,{emitCancelAuth:!0}),rt.emit("passkeyRecoveryFailed",new Se("Validation request cancelled"))},"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:A,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:`${D}.code.title`,children:v(`${D}.code.title`)})}),f.jsxs("div",{className:"passkey-recovery-view",children:[!k&&!h?f.jsx(si,{Icon:M,isSpinning:!k&&!h,iconSize:96}):f.jsx(fv,{Icon:y0,iconSize:64,variant:k?"red":"green",InnerIcon:k?Zh:cc}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",copykey:`${D}.code.description`,children:v(`${D}.code.description`,{email:i==null?void 0:i.email})}),f.jsx("div",{className:"passkey-recovery-view__actions",children:f.jsx(Sl,{id:"passkey-recovery-bundle","data-testid":"passkey-recovery-bundle-input",value:l,onChange:R,label:v(`${D}.code.input_label`),disabled:b||d,error:!!k,className:h?"passkey-recovery-view__input-valid":"",autoFocus:!0,message:T})}),f.jsxs("div",{className:"passkey-recovery-view__resend-code",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:`${D}.code.resend.text`,children:v(`${D}.code.resend.text`)}),f.jsx(se,{variant:"body_small",color:"link",copykey:`${D}.code.resend.button`,children:f.jsx(Zs,{"data-testid":"resend-email-button",onClick:I,disabled:d||b||l.length>0&&!k,children:v(`${D}.code.resend.button`)})})]})]})]})},$tt=({goBack:e})=>{const{primaryWallet:t,environmentId:n,user:r,setPasskeySuccessPopup:i}=$e(),{isTurnkeyWalletWithoutAuthenticator:o}=da(),{getEOAWallet:s}=xs(),{t:a}=Xe(),{mutate:l,isLoading:c,error:d}=Xo(()=>de(void 0,void 0,void 0,function*(){var m;const v=(m=t&&s(t))!==null&&m!==void 0?m:t;if(!(yield OVe({environmentId:n,user:r,wallet:v})))throw new Se("Error completing passkey recovery");rt.emit("passkeyRecoveryCompleted",t),e(),i(E0.CREATED)}),{onFailure:m=>{Ie.error("Failed to init passkey recovery",m),rt.emit("passkeyRecoveryFailed",m)}}),u=x.useMemo(()=>{if(d)return d instanceof Se?d.message:op(d)},[d]),h=o?"dyn_passkey_secure_modal":"dyn_passkey_recovery";return f.jsxs("div",{className:"passkey-recovery-view",children:[f.jsx("div",{className:"passkey-recovery-view__header",children:f.jsx(Ofe,{})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",children:a(`${h}.complete.description`)}),u&&f.jsx(Lr,{children:u}),f.jsx("div",{className:"passkey-recovery-view__actions",children:f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"large",dataTestId:"passkey-recovery-complete-button",onClick:()=>l(),disabled:c,showInternalLoading:!1,typographyProps:{color:"inherit"},children:f.jsxs("div",{className:"passkey-recovery-view__inline-button",children:[f.jsx(Mj,{size:"small"}),f.jsx(se,{copykey:`${h}.complete.complete_button`,children:a(`${h}.complete.complete_button`)})]})})}),f.jsx(tp,{isRecoveryFlow:!0})]})},Ltt=({authenticatorType:e})=>{const{setShowAuthFlow:t}=$e(),{isTurnkeyWalletWithoutAuthenticator:n}=da(),{initAuthMethod:r,isLoading:i,error:o}=nj(),{createRootElement:s}=rg(),a=s(ej),{t:l}=Xe(),c=x.useMemo(()=>{if(o)return o instanceof Se?o.message:"Something went wrong."},[o]),d=f.jsx(Nt,{color:"brand-primary",children:f.jsx(Rj,{})}),u=n?"dyn_passkey_secure_modal":"dyn_passkey_recovery",h=f.jsx(Sn,{type:"button",onClick:()=>t(!1,{emitCancelAuth:!0}),"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:h,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:l(`${u}.start.title`)})}),f.jsxs("div",{className:"passkey-recovery-view",children:[f.jsx(si,{Icon:d,isSpinning:i,iconSize:96}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",children:l(`${u}.start.description`)}),c&&f.jsx(Lr,{children:c}),f.jsx("div",{className:"passkey-recovery-view__actions",children:f.jsx(xt,{buttonPadding:"large",dataTestId:"passkey-recovery-button",onClick:()=>r({authenticatorType:e,iframeContainer:a.current}),disabled:i,showInternalLoading:!1,children:f.jsx("div",{children:f.jsx(se,{copykey:`${u}.start.start_button`,children:l(`${u}.start.start_button`)})})})}),f.jsx(tp,{isRecoveryFlow:!0})]})]})},Utt=({onUpdate:e})=>{var t;const{passkey:n,setPasskey:r,passkeyIcon:i,passkeyEdited:o,setPasskeyEdited:s}=cv(),{t:a}=Xe(),{setShowAuthFlow:l,setPasskeySuccessPopup:c}=$e(),[d,u]=x.useState(!1),h=g=>de(void 0,void 0,void 0,function*(){if(g&&(n!=null&&n.id)){const y=yield MMe({alias:g.trim(),environmentId:ef(),id:n.id});y?(r(y),s(!o),l(!1),c(E0.EDITED),e==null||e()):u(!0)}else u(!0)}),m=f.jsx(Sn,{type:"button",onClick:()=>{l(!1)},"data-testid":"back-button",children:f.jsx(Hd,{})}),v=f.jsx(Sn,{onClick:()=>l(!1),type:"button",id:"close-button","data-testid":"close-button",children:f.jsx(Oi,{})});return n?f.jsxs("div",{className:"edit-passkeys-widget-view",children:[f.jsx(Zn,{leading:m,trailing:v}),f.jsx("div",{className:"edit-passkeys-widget-view__icon",children:i}),f.jsx(se,{as:"h1",variant:"title",color:"primary",className:"edit-passkeys-widget-view__title",copykey:"dyn_rename_passkeys.title",children:a("dyn_rename_passkeys.title")}),f.jsx(B3,{initialValues:{alias:(t=n.alias)!==null&&t!==void 0?t:""},onSubmit:g=>{h(g.alias)},children:({values:g})=>f.jsxs(S_,{className:"edit-passkeys-widget-view__body",children:[f.jsx(jh,{"data-testid":"input-field",name:"alias",type:"text",label:a("dyn_rename_passkeys.input_label"),copykey:"dyn_rename_passkeys.input_label",className:"edit-passkeys-widget-view__input",as:Sl,error:d,maxLength:32}),f.jsx(xt,{type:"submit",buttonPadding:"large",disabled:!g.alias,copykey:"dyn_rename_passkeys.save",children:a("dyn_rename_passkeys.save")}),d&&f.jsx(se,{as:"h1",variant:"body_small",color:"error-1",copykey:"dyn_rename_passkeys.error",children:a("dyn_rename_passkeys.error")})]})})]}):f.jsx(se,{as:"h1",variant:"title",color:"primary",className:"edit-passkeys-widget-view__title",children:a("dyn_rename_passkeys.not_found")})};var tY,nY,Ftt=["title","titleId"];function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$P.apply(null,arguments)}function Wtt(e,t){if(e==null)return{};var n,r,i=qtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ztt=function(t){var n=t.title,r=t.titleId,i=Wtt(t,Ftt);return x.createElement("svg",$P({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,tY||(tY=x.createElement("g",{clipPath:"url(#multiple-account-security_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#multiple-account-security_svg__b)",fillOpacity:.12}),x.createElement("g",{clipPath:"url(#multiple-account-security_svg__c)"},x.createElement("g",{clipPath:"url(#multiple-account-security_svg__d)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.371-7.824 2.096-12.468 10.139-10.371 17.963a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.848 5.5 5.5 0 0 1-10.625 2.848Z",fill:"#4779FF"}))),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm7.008 18.695c0-1.726-1.4-3.126-3.127-3.126h-14.069a6.253 6.253 0 0 0-6.153 5.133 6.234 6.234 0 0 1 4.589-2.007h18.76Zm1.562 3.127c3.454 0 6.253 2.8 6.253 6.253v12.506a6.253 6.253 0 0 1-6.253 6.254h-18.759a6.253 6.253 0 0 1-6.253-6.254V60.14a6.253 6.253 0 0 1 6.253-6.253h18.759Z",fill:"#4779FF"}))),nY||(nY=x.createElement("defs",null,x.createElement("clipPath",{id:"multiple-account-security_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"multiple-account-security_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),x.createElement("clipPath",{id:"multiple-account-security_svg__d"},x.createElement("rect",{x:87.633,y:38.225,width:29.333,height:29.333,rx:14.667,transform:"rotate(-15 87.633 38.225)",fill:"#fff"})),x.createElement("linearGradient",{id:"multiple-account-security_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))},rY,iY,Vtt=["title","titleId"];function LP(){return LP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LP.apply(null,arguments)}function Ktt(e,t){if(e==null)return{};var n,r,i=Htt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Htt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Gtt=function(t){var n=t.title,r=t.titleId,i=Ktt(t,Vtt);return x.createElement("svg",LP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,rY||(rY=x.createElement("g",{clipPath:"url(#passkey-account-security_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#passkey-account-security_svg__b)",fillOpacity:.12}),x.createElement("g",{clipPath:"url(#passkey-account-security_svg__c)",fill:"#4779FF"},x.createElement("path",{d:"M106.009 34.681a2.666 2.666 0 0 1 3.266 1.886l-15.454 4.141a5.319 5.319 0 0 0-3.339 2.666 5.335 5.335 0 0 1 3.936-5.587l11.591-3.105ZM117.785 42.57a5.333 5.333 0 0 0-6.532-3.772l-15.455 4.141a5.333 5.333 0 0 0-3.771 6.532l2.76 10.303a5.334 5.334 0 0 0 6.533 3.771l15.454-4.14a5.333 5.333 0 0 0 3.772-6.533l-2.761-10.303Z"})),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.846 9.846 0 0 0-3.409-1.665 9.849 9.849 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-1.34 14.592a15.89 15.89 0 0 0-7.978 2.135 1.772 1.772 0 1 0 1.776 3.069 12.34 12.34 0 0 1 6.202-1.66c6.853 0 12.408 5.556 12.408 12.409a44.34 44.34 0 0 1-1.688 12.156 1.772 1.772 0 1 0 3.41.97 47.883 47.883 0 0 0 1.823-13.126c0-8.81-7.142-15.953-15.953-15.953Zm-10.749 9.75a1.772 1.772 0 1 0-3.068-1.775 15.882 15.882 0 0 0-2.136 7.978c0 2.499-.573 4.86-1.594 6.96a1.772 1.772 0 1 0 3.189 1.55 19.43 19.43 0 0 0 1.95-8.51c0-2.263.605-4.38 1.659-6.203Zm10.749-2.66a8.863 8.863 0 0 0-8.863 8.863c0 4.516-1.29 8.704-3.518 12.246l1.5.944-1.5-.944a8.75 8.75 0 0 0-.12.196 1.773 1.773 0 1 0 3.048 1.81c.023-.04.048-.079.072-.118a26.434 26.434 0 0 0 4.063-14.134 5.318 5.318 0 0 1 10.636 0c0 1.722-.118 3.417-.344 5.077a1.772 1.772 0 1 0 3.512.48 41.12 41.12 0 0 0 .377-5.557 8.863 8.863 0 0 0-8.863-8.863Zm1.772 8.863a1.772 1.772 0 1 0-3.545 0c0 5.89-1.688 11.381-4.607 16.021a1.773 1.773 0 0 0 3.001 1.888 33.528 33.528 0 0 0 5.151-17.91Zm5.554 11.117a1.773 1.773 0 0 0-3.411-.965 37.01 37.01 0 0 1-2.523 6.502 1.771 1.771 0 1 0 3.169 1.588 40.517 40.517 0 0 0 2.765-7.124Z",fill:"#4779FF"}))),iY||(iY=x.createElement("defs",null,x.createElement("clipPath",{id:"passkey-account-security_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"passkey-account-security_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),x.createElement("linearGradient",{id:"passkey-account-security_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const Jtt=({titleKey:e,descriptionKey:t,description:n,LeadingIcon:r,action:i,badgeVariant:o,badgeKey:s,isLoading:a,dataTestId:l})=>{const{t:c}=Xe();return f.jsxs("button",{className:"action-card",onClick:i,"data-testid":l,children:[f.jsx(Nt,{className:"action-card__icon",children:r}),f.jsxs("div",{className:"action-card__content",children:[f.jsxs("div",{className:"action-card__content__row",children:[f.jsx(se,{variant:"body_normal",weight:"medium",copykey:e,children:c(e)}),f.jsx(rf,{text:c(s),className:Ke("action-card__content__row__badge",{"action-card__content__row__badge--primary":o==="primary"},{"action-card__content__row__badge--secondary":o==="secondary"}),copykey:s})]}),f.jsx(se,{variant:"body_small",color:"secondary",copykey:t,children:n})]}),f.jsx(Nt,{color:"text-tertiary",className:"action-card__action-icon",children:a?f.jsx(I_,{}):f.jsx(Hd,{})})]})},Nfe=({currentAction:e,supportedAuthenticators:t})=>{var n,r;const[i,o]=x.useState(),{projectSettings:s}=$e(),{t:a}=Xe(),{initAuthMethod:l,isLoading:c}=nj(),{createRootElement:d}=rg(),u=d(ej),h={email:{badgeKey:"dyn_embedded_authenticator.email.badge",description:a("dyn_embedded_authenticator.email.description",{expiration:(r=(n=s==null?void 0:s.sdk.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration)===null||r===void 0?void 0:r.amount}),descriptionKey:"dyn_embedded_authenticator.email.description",icon:f.jsx(Nt,{color:"text-tertiary",size:"small",children:f.jsx(Eue,{})},"one-time-code-icon"),titleKey:"dyn_embedded_authenticator.email.title"},passkey:{badgeKey:"dyn_embedded_authenticator.passkey.badge",description:a("dyn_embedded_authenticator.passkey.description"),descriptionKey:"dyn_embedded_authenticator.passkey.description",icon:f.jsx(Mj,{defaultIcon:f.jsx(Rfe,{"data-testid":"default-icon"})}),titleKey:(e==null?void 0:e.type)==="reveal"?"dyn_embedded_authenticator.passkey.reveal_title":"dyn_embedded_authenticator.passkey.title"}},m=v=>()=>de(void 0,void 0,void 0,function*(){o(v),yield l({authenticatorType:v,currentAction:e,iframeContainer:u.current})});return f.jsx("div",{className:"embedded-auth-choice-cards",children:t&&t.map(v=>f.jsx(Jtt,{LeadingIcon:h[v].icon,action:m(v),badgeKey:h[v].badgeKey,badgeVariant:v==="passkey"?"primary":"secondary",descriptionKey:h[v].descriptionKey,description:h[v].description,titleKey:h[v].titleKey,isLoading:c&&v===i,dataTestId:`embedded-auth-choice__item-${v}`},v))})},Ztt={helpSession:{description:"dyn_embedded_authenticator.need_help_description",title:"dyn_embedded_authenticator.need_help_title"},reveal:{description:"dyn_embedded_authenticator.reveal_description",title:"dyn_embedded_authenticator.reveal_title"},sendTransaction:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"},signMessage:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"},signTransaction:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"}},Ytt=({currentAction:e})=>{var t,n,r;const{t:i}=Xe(),{primaryWallet:o,projectSettings:s,setShowAuthFlow:a}=$e(),{getEOAWallet:l}=xs(),c=(t=o&&l(o))!==null&&t!==void 0?t:o,{initPasskeyRecoveryProcess:d}=Qh(),{isTurnkeyWallet:u}=da(),h=x.useMemo(()=>{var R;const I=QM((R=s==null?void 0:s.sdk.embeddedWallets)===null||R===void 0?void 0:R.supportedSecurityMethods),T=Object.keys(I);return!e||!["helpSession","reveal"].includes(e.type)?T.filter(M=>M!=="email"):T},[s==null?void 0:s.sdk.embeddedWallets]),m=()=>!c||!u?!1:c.connector.getAuthenticatorHandler().isSessionActive(),v=()=>h.length>1?f.jsx(ztt,{}):f.jsx(Gtt,{}),g=m()?"dyn_embedded_authenticator.passkey.auth_info.start_button":"dyn_embedded_authenticator.passkey.auth_info.add_button",{title:y,description:b}=Ztt[(e==null?void 0:e.type)||"signMessage"],k=(n=s==null?void 0:s.general)===null||n===void 0?void 0:n.supportUrls,_=(r=s==null?void 0:s.general)===null||r===void 0?void 0:r.supportEmail;return h!=null&&h.length?f.jsxs(f.Fragment,{children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:y,children:i(y)})}),f.jsxs("div",{className:"embedded-auth-choice",children:[f.jsx("div",{className:"embedded-auth-choice__header",children:v()}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"embedded-auth-choice__subtitle",copykey:b,children:i(b)}),h.length>1?f.jsx(Nfe,{currentAction:e,supportedAuthenticators:h}):f.jsxs(f.Fragment,{children:[f.jsx(Tfe,{choice:"passkey"}),f.jsx(xt,{dataTestId:"passkey-only-choice-button",buttonVariant:"brand-primary",expanded:!0,onClick:()=>d("passkey"),copykey:g,typographyProps:{color:"inherit"},children:i(g)})]}),(e==null?void 0:e.type)!=="reveal"&&f.jsx(xt,{buttonVariant:"primary",buttonClassName:"embedded-auth-choice__skip-button",expanded:!0,onClick:()=>{var R,I,T;!((R=e==null?void 0:e.settings)===null||R===void 0)&&R.goBack?(T=(I=e==null?void 0:e.settings)===null||I===void 0?void 0:I.goBack)===null||T===void 0||T.call(I):a(!1)},copykey:"dyn_embedded_authenticator.skip",children:i("dyn_embedded_authenticator.skip")}),(e==null?void 0:e.type)==="helpSession"&&(k||_)&&f.jsx("div",{className:"embedded-auth-choice__support-links",children:f.jsx(Fde,{supportEmail:_,supportUrls:k})})]})]}):null};var oY,Xtt=["title","titleId"];function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UP.apply(null,arguments)}function Qtt(e,t){if(e==null)return{};var n,r,i=ent(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ent(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var tnt=function(t){var n=t.title,r=t.titleId,i=Qtt(t,Xtt);return x.createElement("svg",UP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,oY||(oY=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm.11 42.446c-1.561 0-2.828 1.243-2.828 2.777 0 1.533 1.267 2.777 2.828 2.777h.038c1.562 0 2.828-1.244 2.828-2.777 0-1.534-1.266-2.777-2.828-2.777h-.038Zm1.8-26.297a12.215 12.215 0 0 0-7.658 1.286c-2.326 1.25-4.14 3.242-5.07 5.659-.55 1.434.187 3.036 1.648 3.578 1.461.541 3.092-.183 3.644-1.617.428-1.116 1.294-2.103 2.495-2.75a6.458 6.458 0 0 1 3.783-.708l-1.595 10.396-.003.001c-1.488.457-2.319 2.012-1.856 3.475.463 1.464 2.048 2.283 3.539 1.828l-.839-2.652c.8 2.525.84 2.644.843 2.65l.004-.001.01-.003.032-.01.098-.031a23.601 23.601 0 0 0 1.448-.535c.906-.368 2.136-.93 3.388-1.693 2.28-1.392 5.665-4.095 5.665-8.304.004-2.583-.993-5.054-2.763-6.98-1.767-1.921-4.188-3.176-6.814-3.589Zm-.894 5.484c1.405.22 2.642.884 3.51 1.827.862.938 1.307 2.092 1.305 3.252v.005c0 1.075-.945 2.335-2.995 3.587-.913.557-1.848.988-2.566 1.28a17.913 17.913 0 0 1-1.064.393l1.81-10.344Z",fill:"currentColor"})))},sY,nnt=["title","titleId"];function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(null,arguments)}function rnt(e,t){if(e==null)return{};var n,r,i=int(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function int(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var aY=function(t){var n=t.title,r=t.titleId,i=rnt(t,nnt);return x.createElement("svg",FP({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,sY||(sY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.256 5.244a.833.833 0 0 1 0 1.179l-3.333 3.333a.833.833 0 0 1-1.179-1.179l1.91-1.91H6.668a.833.833 0 0 1 0-1.667h7.988l-1.91-1.91a.833.833 0 1 1 1.178-1.18l3.333 3.334Zm-11.91 8.09h7.987a.833.833 0 1 1 0 1.666H5.345l1.91 1.91a.833.833 0 1 1-1.178 1.18l-3.333-3.334a.833.833 0 0 1 0-1.179l3.333-3.333a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"currentColor"})))};const ont=(e,t)=>{var n;const r=vo(),i=zm();return(n=r==null?void 0:r.general[e])!==null&&n!==void 0?n:i[t]},snt=()=>ont("displayName","appName"),Pfe=()=>zm().redirectUrl,ant=(e,t,n)=>de(void 0,void 0,void 0,function*(){try{yield cn().updateWaasWalletSettings({environmentId:e,updateWaasWalletSettingsRequest:n,walletId:t},{credentials:"omit"})}catch(r){throw Ie.error("Failed to update waas wallet settings",{error:r,walletId:t}),r}}),lY=(e,t)=>e&&e.length>0?t().filter(i=>i.status==="pending"||i.status==="denied"||i.isDismissedThisSession).filter(i=>e.some(o=>o.accountAddress===i.address&&o.chainName===i.chain)):t().filter(r=>r.status==="pending"),WP=()=>{var e,t,n;const{setShowAuthFlow:r}=$e(),{userWallets:i}=_s(),{pushView:o}=At(),s=vo(),a=v_(),l=Vm(),c=K3(),{getWaasWalletConnector:d}=np(),u=s==null?void 0:s.sdk.waas,h=(e=u==null?void 0:u.delegatedAccess)===null||e===void 0?void 0:e.enabled,m=(t=u==null?void 0:u.delegatedAccess)===null||t===void 0?void 0:t.promptUsersOnSignIn,v=(n=u==null?void 0:u.delegatedAccess)===null||n===void 0?void 0:n.requiresDelegation,g=x.useCallback(()=>{if(!h||!m||!(a!=null&&a.verifiedCredentials))return!1;const M=ot.getItem(_d);return M!=null&&M.dismissed?!1:a.verifiedCredentials.filter(U=>U.walletName==="dynamicwaas"&&U.format===Zo.Blockchain).some(U=>{var $,q,z,S,E;const N=(q=($=U.walletProperties)===null||$===void 0?void 0:$.keyShares)===null||q===void 0?void 0:q.some(V=>V.backupLocation==="delegated"),P=((S=(z=U.walletProperties)===null||z===void 0?void 0:z.settings)===null||S===void 0?void 0:S.hasDeniedDelegatedAccess)===!0,j=(E=M==null?void 0:M.dismissedWallets)===null||E===void 0?void 0:E.includes(U.id);return!N&&!P&&!j})},[a==null?void 0:a.verifiedCredentials,h,m]),y=x.useCallback(M=>de(void 0,void 0,void 0,function*(){if(!a)throw new Error(Kr);return r(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),o("wallet-delegation-view",{wallets:M==null?void 0:M.wallets}),new Promise((D,A)=>{rt.once("embeddedWalletDelegationCompleted",()=>D()),rt.once("embeddedWalletDelegationFailed",U=>A(U))})}),[r,o,a]),b=x.useCallback(()=>{if(!(a!=null&&a.verifiedCredentials))return[];const M=ot.getItem(_d);return a.verifiedCredentials.filter(A=>A.walletName==="dynamicwaas"&&A.format===Zo.Blockchain).map(A=>{var U,$,q,z,S;let E="pending";const N=($=(U=A.walletProperties)===null||U===void 0?void 0:U.keyShares)===null||$===void 0?void 0:$.some(K=>K.backupLocation==="delegated"),P=((z=(q=A.walletProperties)===null||q===void 0?void 0:q.settings)===null||z===void 0?void 0:z.hasDeniedDelegatedAccess)===!0;N?E="delegated":P&&(E="denied");const j=(S=M==null?void 0:M.dismissedWallets)===null||S===void 0?void 0:S.includes(A.id),V=i.find(K=>K.address===A.address);return V?Object.assign(Object.assign({},V),{isDismissedThisSession:j,status:E}):(Ie.warn("Wallet not found for verified credential",{address:A.address,vcId:A.id}),null)}).filter(A=>A!==null)},[a==null?void 0:a.verifiedCredentials,i]),k=x.useCallback(M=>de(void 0,void 0,void 0,function*(){if(!h)throw new Error("Wallet delegation is not enabled for this project environment. Please check the project settings.");const D=lY(M,b).map(A=>({accountAddress:A.address,chainName:A.chain}));if(D.length===0)throw new Error("No eligible wallets to delegate, only Dynamic WaaS wallets are eligible for delegation");for(const A of D){const U=d(A.chainName);if(!U){Ie.warn("Wallet connector not found, skipping delegate",{accountAddress:A.accountAddress,chainName:A.chainName});continue}try{yield U.delegateKeyShares({accountAddress:A.accountAddress})}catch($){Ie.error("Failed to delegate key shares:",{error:$,wallet:A})}}yield c()}),[d,c,b,h]),_=x.useCallback(M=>de(void 0,void 0,void 0,function*(){const D=b();for(const A of M){const U=d(A.chainName);if(!U)continue;const $=D.find(q=>q.address===A.accountAddress&&q.chain===A.chainName);if(!$||$.status!=="delegated"){Ie.warn("Wallet is not delegated, skipping revoke",{accountAddress:A.accountAddress,chainName:A.chainName,status:$==null?void 0:$.status});continue}try{yield U.revokeDelegation({accountAddress:A.accountAddress})}catch(q){Ie.error("Failed to revoke delegation:",{error:q,wallet:A})}}yield c()}),[d,c,b]),R=x.useCallback(M=>de(void 0,void 0,void 0,function*(){try{yield ant(l,M,{hasDeniedDelegatedAccess:!0}),yield c();const D=ot.getItem(_d)||{};D.dismissedWallets&&(D.dismissedWallets=D.dismissedWallets.filter(A=>A!==M),ot.setItem(_d,D))}catch(D){throw Ie.error("Failed to deny wallet delegation",D),D}}),[l,c]),I=x.useCallback(M=>{const D=ot.getItem(_d)||{};M?D.dismissedWallets=[...D.dismissedWallets||[],M]:D.dismissed=!0,ot.setItem(_d,D)},[]);return{clearDelegationSessionState:x.useCallback(()=>{ot.removeItem(_d)},[]),delegateKeyShares:k,delegatedAccessEnabled:h,denyWalletDelegation:R,dismissDelegationPrompt:I,getWalletsDelegatedStatus:b,getWalletsToDelegate:lY,initDelegationProcess:y,requiresDelegation:v,revokeDelegation:_,shouldPromptWalletDelegation:g}},cY=({checked:e,onToggle:t,text:n,className:r})=>{const i=a=>{(a.key===" "||a.key==="Enter")&&(a.preventDefault(),t())},o=a=>{a.stopPropagation(),t()},s=r?`embedded-delegated-view__agreement-section ${r}`:"embedded-delegated-view__agreement-section";return f.jsxs("div",{className:s,onClick:t,role:"checkbox","aria-checked":e,tabIndex:0,onKeyDown:i,children:[f.jsx(Kd,{checked:e,onChange:o,value:"agreement"}),f.jsx(se,{variant:"body_small",color:"secondary",children:n})]})},lnt=({wallets:e})=>{const{setShowAuthFlow:t,handleLogOut:n}=$e(),{user:r}=Zc(),i=snt(),{getWalletsToDelegate:o,delegateKeyShares:s}=WP(),{requiresDelegation:a,denyWalletDelegation:l,getWalletsDelegatedStatus:c}=WP(),[d,u]=x.useState(new Set),[h,m]=x.useState(!1),[v,g]=x.useState(!1),[y,b]=x.useState(!1),[k,_]=x.useState(!1),R=x.useMemo(()=>{const De=e?e.map(gt=>({accountAddress:gt.address,chainName:gt.chain})):void 0;return o(De,c)},[e,c,o]);x.useEffect(()=>{k||(R.length===1?(u(new Set([R[0].id])),_(!0)):R.length>1&&(u(new Set(R.map(De=>De.id))),_(!0)))},[R,k]);const I=(De,gt)=>{_(!0),u(tt=>{const dt=new Set(tt);return dt.has(De)?dt.delete(De):dt.add(De),dt})},T=()=>{_(!0),u(new Set(R.map(De=>De.id)))},M=()=>{_(!0),u(new Set)},D=()=>de(void 0,void 0,void 0,function*(){try{for(const De of d)yield l(De);t(!1)}catch(De){Ie.error("Failed to deny wallet delegation",De),t(!1)}}),{mutate:A,isLoading:U,error:$,data:q}=Xo(()=>de(void 0,void 0,void 0,function*(){if(d.size===0)throw new Se("No wallets selected for delegation");const De=R.filter(tt=>d.has(tt.id)),gt=De.map(tt=>({accountAddress:tt.address,chainName:tt.chain}));try{yield s(gt),De.forEach(tt=>{rt.emit("embeddedWalletDelegationCompleted",tt)})}catch(tt){throw Ie.error("Failed to delegate wallets",tt),tt}return rt.emit("embeddedWalletDelegationCompleted",De[0]),!0}),{onFailure:De=>{Ie.error("Failed to delegate wallets",De),rt.emit("embeddedWalletDelegationFailed",De)}}),z=x.useMemo(()=>{if($){if($ instanceof Se)return $.message;try{return op($,r)}catch(De){Ie.error("Error getting proper error message",De);return}}},[$,r]),{t:S}=Xe(),E=()=>d.size===R.length?S("dyn_wallet_delegation.deselect_all"):d.size===0?S("dyn_wallet_delegation.select_all"):S("dyn_wallet_delegation.clear"),N=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__approval-icon",children:f.jsx(aY,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",children:S("dyn_wallet_delegation.approving_permissions",{appName:i})}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",children:S("dyn_wallet_delegation.revoke_note")})]})}),P=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__approval-icon",children:f.jsx(cc,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",children:S("dyn_wallet_delegation.permissions_granted",{appName:i})}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",children:S("dyn_wallet_delegation.revoke_note")})]})}),j=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__error-icon",children:f.jsx(Oi,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",children:S("dyn_wallet_delegation.something_went_wrong")}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",children:S("dyn_wallet_delegation.delegation_timeout_message")})]})}),V=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__approval-icon",children:f.jsx(aY,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",copykey:"dyn_wallet_delegation.approval_required",children:S(a?"dyn_wallet_delegation.approval_required":"dyn_wallet_delegation.approval_requested")}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",copykey:"dyn_wallet_delegation.approval_description",children:S("dyn_wallet_delegation.approval_description",{appName:i})})]})}),K=()=>{const[De]=R;return!De||!De.address?null:f.jsxs("div",{className:"embedded-delegated-view__wallet-card-container",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-card",children:[f.jsx(se,{variant:"body_normal",weight:"medium",color:"primary",children:S("dyn_wallet_delegation.my_wallet")}),f.jsxs("div",{className:"embedded-delegated-view__wallet-address",children:[f.jsx("div",{className:"embedded-delegated-view__wallet-address-dot"}),f.jsxs(se,{variant:"body_small",color:"secondary",children:[De.address.slice(0,6),"...",De.address.slice(-4)]})]})]}),f.jsx(cY,{checked:y,onToggle:()=>b(!y),text:S("dyn_wallet_delegation.agreement_text")})]})},F=()=>f.jsxs("div",{className:"embedded-delegated-view__wallet-card-container",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-card",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-card-header",children:[f.jsx(se,{variant:"body_normal",weight:"medium",color:"primary",children:S(d.size===R.length?"dyn_wallet_delegation.all_wallets":"dyn_wallet_delegation.selected_wallets")}),d.size!==R.length&&f.jsx(se,{variant:"body_normal",color:"tertiary",children:d.size.toString().padStart(2,"0")})]}),f.jsx("button",{onClick:()=>m(!0),className:"embedded-delegated-view__edit-selections-button",children:f.jsx(se,{variant:"body_small",color:"secondary",children:S("dyn_wallet_delegation.edit_selections")})})]}),f.jsx(cY,{checked:y,onToggle:()=>b(!y),text:S("dyn_wallet_delegation.agreement_text")})]}),O=()=>f.jsxs("div",{className:"embedded-delegated-view__wallet-selection",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-selection__header",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-selection__header-text",children:[f.jsx(se,{variant:"body_small",color:"secondary",children:S("dyn_wallet_delegation.selected_wallets")}),f.jsx(se,{variant:"body_small",color:"tertiary",children:d.size.toString().padStart(2,"0")})]}),f.jsx("button",{onClick:d.size===R.length?M:T,className:"embedded-delegated-view__wallet-selection__deselect-all",children:f.jsx(se,{variant:"body_small",color:"tertiary",children:E()})})]}),f.jsx("div",{className:"embedded-delegated-view__wallet-list",children:R==null?void 0:R.map(De=>{var gt,tt;return f.jsx("div",{className:`embedded-delegated-view__wallet-item${d.has(De.id)?" embedded-delegated-view__wallet-item--selected":""}`,onClick:()=>I(De.id),children:f.jsxs("div",{className:"embedded-delegated-view__wallet-item__content",children:[f.jsx("div",{className:"embedded-delegated-view__wallet-item__icon",children:f.jsx(NN,{walletKey:De.key,Icon:null,iconUrl:(tt=(gt=De.connector)===null||gt===void 0?void 0:gt.metadata)===null||tt===void 0?void 0:tt.icon,chainName:De.chain,iconSize:24,showNetwork:!0})}),f.jsx("div",{className:"embedded-delegated-view__wallet-item__info",children:f.jsxs(se,{variant:"body_small",weight:"medium",children:[De.address.slice(0,6),"...",De.address.slice(-4)]})}),f.jsx("div",{className:"embedded-delegated-view__wallet-item__checkbox",children:f.jsx(Kd,{checked:d.has(De.id),onChange:dt=>dt.stopPropagation(),value:De.id})})]})},De.id)})})]}),W=h||v?f.jsx(Sn,{onClick:()=>{m(!1),g(!1),b(!1)},type:"button",children:f.jsx(Xh,{})}):f.jsx(Sn,{onClick:()=>{const De=ot.getItem(_d)||{completed:{},denied:{},dismissed:!1};De.dismissed=!0,ot.setItem(_d,De),t(!1)},type:"button",children:f.jsx(Oi,{})}),G=f.jsx(Sn,{onClick:()=>g(!0),type:"button",children:f.jsx(pv,{})}),Y=()=>f.jsxs("div",{className:"embedded-delegated-view__learn-more-content",children:[f.jsx("div",{className:"embedded-delegated-view__learn-more-content-icon",children:f.jsx(tnt,{})}),f.jsx(se,{variant:"body_normal",color:"secondary",className:"embedded-delegated-view__learn-more-content-description",children:S("dyn_wallet_delegation.learn_more_description")})]}),ie=()=>U?N:q?P:$?j:V,ye=()=>v?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"secondary",typographyProps:{color:"primary",weight:"medium"},onClick:()=>{g(!1),m(!1),b(!1)},dataTestId:"embedded-delegation-okay-button",copykey:"dyn_wallet_delegation.learn_more_okay_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.learn_more_okay_button")}):q?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>t(!1),dataTestId:"embedded-delegation-done-button",copykey:"dyn_wallet_delegation.done_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.done_button")}):$?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>A(),dataTestId:"embedded-delegation-try-again-button",copykey:"dyn_wallet_delegation.try_again_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.try_again_button")}):h?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"secondary",typographyProps:{color:"primary",weight:"medium"},onClick:()=>{m(!1),b(!1),g(!1)},dataTestId:"embedded-delegation-done-button",copykey:"dyn_wallet_delegation.done_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.done_button")}):f.jsxs(f.Fragment,{children:[f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:()=>A(),loading:U,disabled:d.size===0||!y,dataTestId:"embedded-delegation-button",copykey:"dyn_wallet_delegation.approve_button",style:{width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.approve_button")}),!U&&!a&&f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>D(),dataTestId:"embedded-delegation-deny-button",copykey:"dyn_wallet_delegation.deny_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button embedded-delegated-view__body__deny-button",expanded:!0,children:S("dyn_wallet_delegation.deny_button")}),!U&&a&&f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>{n()},dataTestId:"embedded-delegation-logout-button",copykey:"dyn_wallet_delegation.logout_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button embedded-delegated-view__body__logout-button",expanded:!0,children:S("dyn_wallet_delegation.logout_button")})]});let me,be;h||v?(me=W,be=void 0):(!U&&!q&&!$&&(be=G),a?me=void 0:me=W);const Fe=(()=>{if(h)return f.jsx(se,{variant:"body_normal",weight:"bold",color:"primary",children:S("dyn_wallet_delegation.edit_wallets_to_delegate")});if(v)return f.jsx(se,{variant:"body_normal",weight:"bold",color:"primary",children:S("dyn_wallet_delegation.learn_more")})})();return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:me,trailing:be,style:{paddingBottom:h||v?"24px":0},children:Fe}),f.jsx("div",{className:"embedded-delegated-view",children:f.jsxs("div",{className:"embedded-delegated-view__body",children:[!h&&!v&&ie(),z&&f.jsx(Lr,{children:z}),!U&&!q&&!$&&f.jsx("div",{className:"embedded-delegated-view__body__card",children:h?O():v?Y():R.length===1?K():R.length>1?F():null}),f.jsx("div",{className:"embedded-delegated-view__body__button_section",children:ye()})]})})]})},dY=()=>{const[e,t]=x.useState(!1),{selectedWalletConnector:n}=$e(),{signAlreadyConnectedUser:r}=mue(),{t:i}=Xe(),o=96,s=Tue(n);if(!n)return null;const a=()=>de(void 0,void 0,void 0,function*(){try{t(!0),yield r({walletConnector:n})}catch(d){Ie.error(d)}finally{t(!1)}}),l=f.jsx(oi,{icon:n.metadata.icon,walletKey:n.key,style:{height:Ut(o*Yo),width:Ut(o*Yo)}}),c=i(s?"dyn_pending_signature.phantom_ledger_sign":"dyn_pending_signature.regular_sign_description");return f.jsxs("div",{className:"pending-signature__container","data-testid":"pending-signature-view",children:[f.jsx(si,{Icon:l,iconSize:o,isSpinning:!0,indicator:"connected",className:"pending-signature__icon-with-spinner"}),f.jsx(se,{variant:"body_normal",weight:"regular",className:Ke("pending-signature__copy"),copykey:s?"dyn_pending_signature.phantom_ledger_sign":"dyn_pending_signature.regular_sign_description",children:c}),s&&f.jsxs(se,{variant:"body_small",weight:"regular",className:Ke("pending-signature__copy","pending-signature__copy--mini"),copykey:"dyn_pending_signature.phantom_ledger_warning",children:[f.jsx("strong",{children:i("dyn_pending_signature.note")}),i("dyn_pending_signature.phantom_ledger_warning")]}),YM(n)&&f.jsx(xt,{buttonClassName:"pending-signature__button",onClick:a,loading:e,buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},copykey:"dyn_pending_signature.click_to_sign",children:i("dyn_pending_signature.click_to_sign")})]})},cnt=()=>{var e;const{theme:{theme:t}}=f_(),{name:n}=t,{qrcodeUri:r,desktopUri:i,selectedWalletConnector:o}=$e();if(!o)return null;const s=f.jsx(oi,{icon:o.metadata.icon,walletKey:o.key,style:{height:Ut(32),width:Ut(32)}});return f.jsx(Pj,{uri:r,desktopUri:i,accentColor:n==="dark"?t.colors.textPrimary:(e=o.metadata.brandColor)!==null&&e!==void 0?e:"",icon:s,showCopyToClipboardButton:o.isWalletConnect,walletConnector:o})};var uY,dnt=["title","titleId"];function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qP.apply(null,arguments)}function unt(e,t){if(e==null)return{};var n,r,i=fnt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fnt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Bfe=function(t){var n=t.title,r=t.titleId,i=unt(t,dnt);return x.createElement("svg",qP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,uY||(uY=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm6.389 39.467a1.815 1.815 0 0 0-2.24 1.252 37.88 37.88 0 0 1-2.583 6.654 1.814 1.814 0 0 0 3.244 1.625 41.508 41.508 0 0 0 2.83-7.292 1.814 1.814 0 0 0-1.251-2.24Zm-6.247-10.953a1.813 1.813 0 0 0-1.814 1.813 30.69 30.69 0 0 1-4.716 16.399 1.814 1.814 0 1 0 3.072 1.931 34.317 34.317 0 0 0 5.272-18.33 1.814 1.814 0 0 0-1.814-1.813Zm0-7.257a9.07 9.07 0 0 0-9.07 9.07c0 4.622-1.322 8.909-3.602 12.534l-.123.202a1.815 1.815 0 0 0 3.12 1.852l.074-.122a27.06 27.06 0 0 0 4.158-14.466 5.443 5.443 0 0 1 10.885 0c0 1.763-.12 3.498-.352 5.197a1.814 1.814 0 1 0 3.595.492c.254-1.862.386-3.761.386-5.689 0-5.01-4.062-9.07-9.071-9.07Zm0-7.257c-2.971 0-5.762.795-8.165 2.186a1.814 1.814 0 0 0 1.817 3.14 12.632 12.632 0 0 1 6.348-1.698c7.013 0 12.699 5.686 12.699 12.7 0 4.316-.602 8.49-1.727 12.442a1.814 1.814 0 1 0 3.49.993 49.017 49.017 0 0 0 1.866-13.436C48.97 21.31 41.659 14 32.642 14Zm-11.664 7.5a1.815 1.815 0 0 0-2.478.662 16.262 16.262 0 0 0-2.186 8.165c0 2.558-.587 4.974-1.631 7.125a1.815 1.815 0 1 0 3.263 1.585 19.884 19.884 0 0 0 1.997-8.71c0-2.316.618-4.482 1.698-6.348a1.815 1.815 0 0 0-.662-2.479Z",fill:"#4779FF"})))};const Dfe=e=>{const{t}=Xe();return x.useMemo(()=>{if(e)return e.name==="NotAllowedError"?t("dyn_mfa.confirm_passkey_view.error.not_allowed"):(e.name==="InvalidStateError",e.message)},[e,t])},hnt=({createMfaToken:e=!1,authenticatePasskeyPromise:t})=>{const{t:n}=Xe(),{setShowAuthFlow:r}=$e(),{pushView:i}=At(),{error:o,isLoading:s}=vr(()=>t,{initialData:void 0,onResolve:()=>{r(!1)}}),a=Dfe(o);return f.jsxs("div",{className:Ke("confirm-passkey-view"),children:[f.jsx(Zn,{alignContent:"bottom",children:f.jsx("div",{className:"confirm-passkey-view__header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"confirm-passkey-view__title",copykey:"dyn_mfa.confirm_passkey_view.title",children:n("dyn_mfa.confirm_passkey_view.title")})})}),f.jsx(WS,{type:"error",messageKey:a,className:"confirm-passkey-view__header-banner"}),f.jsxs("div",{className:Ke("confirm-passkey-view__content"),children:[f.jsx(si,{Icon:Bfe,iconSize:96,isSpinning:s,treatAsFunctionComponent:!0}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:Ke("confirm-passkey-view__description"),copykey:"dyn_mfa.confirm_passkey_view.description",children:n("dyn_mfa.confirm_passkey_view.description")})]}),f.jsx("div",{className:"confirm-passkey-view__choose-another-method",children:f.jsx(Zs,{className:"confirm-passkey-view__choose-another-method-button",onClick:()=>i("mfa-choose-device",{createMfaToken:e,isInitialSetup:!1}),copykey:"dyn_mfa.otp_verification_view.choose_another_method",children:n("dyn_mfa.otp_verification_view.choose_another_method")})})]})},pnt=({registerPasskeyPromise:e})=>{const{t}=Xe(),{clearStackAndPush:n,pushView:r,goBack:i,canGoBack:o}=At(),{setShowAuthFlow:s}=$e(),{error:a,isLoading:l}=vr(()=>e,{initialData:void 0,onResolve:u=>de(void 0,void 0,void 0,function*(){if((u==null?void 0:u.user.mfaBackupCodeAcknowledgement)===Vu.Pending){n("mfa-display-backup-codes");return}s(!1)})}),c=Dfe(a),d=o&&f.jsx(Sn,{type:"button",onClick:i,"data-testid":"back-button",children:f.jsx(Xh,{})});return f.jsxs("div",{className:Ke("setup-passkey-view"),children:[f.jsx(Zn,{alignContent:"bottom",leading:d,children:f.jsx("div",{className:"setup-passkey-view__header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"setup-passkey-view__title",copykey:"dyn_mfa.setup_passkey_view.title",children:t("dyn_mfa.setup_passkey_view.title")})})}),f.jsx(WS,{type:"error",messageKey:c,className:"setup-passkey-view__header-banner"}),f.jsxs("div",{className:Ke("setup-passkey-view__content"),children:[f.jsx(si,{Icon:Bfe,iconSize:96,isSpinning:l,treatAsFunctionComponent:!0}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:Ke("setup-passkey-view__description"),copykey:"dyn_mfa.setup_passkey_view.description",children:t("dyn_mfa.setup_passkey_view.description")})]}),f.jsx("div",{className:"setup-passkey-view__choose-another-method",children:f.jsx(Zs,{className:"setup-passkey-view__choose-another-method-button",onClick:()=>r("mfa-choose-device",{isInitialSetup:!0}),copykey:"dyn_mfa.otp_verification_view.choose_another_method",children:t("dyn_mfa.otp_verification_view.choose_another_method")})})]})},mnt=()=>{const{selectedWalletConnector:e}=$e(),{t}=Xe(),n=94,r=f.jsx(oi,{icon:e==null?void 0:e.metadata.icon,walletKey:e==null?void 0:e.key,style:{height:Ut(n*Yo),width:Ut(n*Yo)}});return f.jsxs("div",{className:"pending-connect__container",children:[f.jsx(si,{Icon:r,iconSize:n,isSpinning:!0,className:"pending-connect__icon-with-spinner"}),f.jsx(se,{variant:"body_normal",weight:"regular",className:"pending-connect__copy-text",copykey:rr()?"dyn_pending_connection.mobile":"dyn_pending_connection.computer",children:rr()?t("dyn_pending_connection.mobile"):t("dyn_pending_connection.computer")})]})},gnt=()=>{const{t:e}=Xe(),{clearStackAndPushInitialView:t}=At(),n=()=>{t()};return f.jsxs("div",{className:"sandbox-threshold__main",children:[f.jsx(se,{variant:"title",color:"primary",className:"sandbox-threshold__title",copykey:"dyn_sandbox_maximum_threshold.title",children:e("dyn_sandbox_maximum_threshold.title")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"sandbox-threshold__description",copykey:"dyn_sandbox_maximum_threshold.description",children:e("dyn_sandbox_maximum_threshold.description")}),f.jsx(xt,{onClick:n,className:"sandbox-threshold__button",expanded:!0,buttonPadding:"large",copykey:"dyn_sandbox_maximum_threshold.button",children:e("dyn_sandbox_maximum_threshold.button")})]})},ynt=({icon:e,variant:t="primary",value:n,onChange:r,dataTestId:i,className:o,style:s})=>f.jsxs("label",{className:Ke("toggle",o),style:s,children:[f.jsx("input",{type:"checkbox",className:"toggle--input","data-testid":i,checked:n,onChange:()=>r==null?void 0:r(!n)}),f.jsx("div",{className:Ke("toggle--content",`toggle--content__variant-${t}`),children:f.jsx("div",{className:"toggle--knob",children:e})})]}),Mfe=({connectors:e,label:t,copykey:n})=>{const[r,i]=x.useState(e.some(a=>a.isHardwareWalletEnabled)),o=x.useCallback(a=>{i(a),e.forEach(l=>{l.isHardwareWalletEnabled=a})},[e]),s=f.jsx(ynt,{value:r,dataTestId:"hardware-wallet-toggle",icon:f.jsx(Nt,{size:"small",children:f.jsx(cc,{})}),className:"hardware-wallet-toggle__toggle"});return f.jsx(ip,{onClick:()=>o(!r),trailing:s,children:f.jsx("span",{copykey:n,children:t})})},vnt=({wallet:e,onSelectWallet:t})=>{const{t:n}=Xe();return f.jsx("div",{className:"select-hardware-wallet-view",children:f.jsxs("div",{className:"select-hardware-wallet-view__container",children:[f.jsx(Nt,{className:"select-hardware-wallet-view__icon",children:f.jsx(oi,{icon:e.walletConnector.metadata.icon,walletKey:e.key})}),f.jsx(se,{className:"select-hardware-wallet-view__text",as:"p",color:"secondary",variant:"body_normal",copykey:"dyn_select_hardware_wallet.description",children:n("dyn_select_hardware_wallet.description")}),Bh(e.walletConnector)&&f.jsxs(f.Fragment,{children:[f.jsx(Mfe,{connectors:[e.walletConnector],copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:n("dyn_select_chain.using_hardware_wallet_toggle_label")}),f.jsx(of,{})]}),f.jsx(xt,{buttonVariant:"primary",onClick:()=>t==null?void 0:t(e),copykey:"dyn_select_hardware_wallet.button",dataTestId:"select-hardware-wallet-connect-button",children:n("dyn_select_hardware_wallet.button")})]})})},jfe=({icon:e,title:t,titleCopyKey:n,children:r})=>f.jsxs("div",{className:"wallet-group-view-layout__container",children:[f.jsx(si,{className:"wallet-group-view-layout__icon",Icon:e,iconSize:96}),f.jsxs("div",{className:"wallet-group-view-layout__body",children:[f.jsx(se,{className:"wallet-group-view-layout__title",as:"p",color:"secondary",variant:"body_normal",copykey:n,children:t}),f.jsx("div",{className:"wallet-group-view-layout__list",children:r})]})]}),wnt=({groupKey:e,wallet:t,onClick:n})=>{const{recommendedWallets:r}=$e(),{walletBook:i}=TD(),o=bRe(i,e,t.key),s=Fd(i,t.key),a=(o==null?void 0:o.brand)||(s==null?void 0:s.brand),l=(o==null?void 0:o.name)||(s==null?void 0:s.name),c=a?f.jsx(U4e,{brand:a,walletKey:t.key,style:{height:Ut(28),width:Ut(28)}}):null,d=xj({recommendedWallets:r,wallet:t}),u=f.jsx(T_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Ku,{})}),children:d&&f.jsx(rf,{dot:!d.isRecommended,variant:d.isRecommended?"primary":"secondary",text:f.jsx(se,{variant:"body_small",children:d.label})})});return f.jsx(ip,{onClick:n,leading:c,trailing:u,children:l})},bnt=({onSelectWallet:e})=>{var t;const{selectedWalletGroup:n}=H3(),r=Jm(),{t:i}=Xe();if(!n)throw new Error("Could not access WalletGroup view without selected group");const o=r[n.key];if(!o)throw new Error("Could not access WalletGroup view without group data");return f.jsx(jfe,{icon:f.jsx(oi,{walletKey:o.key,isGroup:!0,icon:(t=o.brand)===null||t===void 0?void 0:t.icon}),title:i("dyn_select_wallet.description",{walletName:o.name}),titleCopyKey:"dyn_select_wallet.description",children:n.groupedWallets.map((s,a)=>f.jsx(wnt,{groupKey:n.key,wallet:s,onClick:()=>e(s)},`${s.key}_${a}`))})};var fY,_nt=["title","titleId"];function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zP.apply(null,arguments)}function xnt(e,t){if(e==null)return{};var n,r,i=knt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function knt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Snt=function(t){var n=t.title,r=t.titleId,i=xnt(t,_nt);return x.createElement("svg",zP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,fY||(fY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 64c17.673 0 32-14.327 32-32C64 14.327 49.673 0 32 0 14.327 0 0 14.327 0 32c0 17.673 14.327 32 32 32Zm-7.91-50h14.892a4.092 4.092 0 0 1 4.09 4.09v27.82a4.092 4.092 0 0 1-4.09 4.09H24.09A4.092 4.092 0 0 1 20 45.91V18.09A4.092 4.092 0 0 1 24.09 14Zm4.992 31.91a2.451 2.451 0 0 0 2.454 2.454 2.451 2.451 0 0 0 2.455-2.455 2.451 2.451 0 0 0-2.455-2.454 2.451 2.451 0 0 0-2.454 2.454Zm-5.81-4.092H39.8V18.91H23.273v22.91Z",fill:"#4779FF"})))};const Int=e=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(Snt,Object.assign({},e,{"data-testid":"sign-in-with-sms-icon"}))}),Ent=e=>{const{verificationUUID:t,displayedDestination:n,retryData:r}=Kc(),{environmentId:i,user:o,userWithMissingInfo:s,projectSettings:a}=$e(),[l,c]=x.useState(),{verifyOtp:d}=ofe(),{generateSessionKey:u,shouldRegisterSessionKeysOnSignin:h}=Gm({environmentId:i,projectSettings:a}),{initAuth:m,completeAuth:v,cancelAuth:g}=sf({authMethod:"sms"}),y=x.useRef(!1);dfe(()=>{const T=r??{dialCode:"",iso2:"",phone:""};r||Ie.warn("WARNING: emitted smsVerificationResult with incomplete params because retryData was undefined"),rt.emit("smsVerificationResult",y.current,T),y.current||rt.emit("authFailure",{option:T,phone:T,type:"sms"},"user-cancelled")});const b=()=>de(void 0,void 0,void 0,function*(){if(c(void 0),!t||!r){yield g();return}aXe({environmentId:i,isoCountryCode:r.iso2,phoneCountryCode:r.dialCode,phoneNumber:l_({dialCode:r.dialCode,phone:r.phone}),verificationUUID:t})}),k=x.useCallback(T=>de(void 0,void 0,void 0,function*(){if(!t||!o&&!s){yield g();return}yield v({onValidUpdatedJwt:()=>y.current=!0,updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return d(T,"sms",t)})})}),[g,v,o,s,t,d]),_=x.useCallback(T=>de(void 0,void 0,void 0,function*(){if(!t){yield g();return}yield m({onError:M=>c(M),onVerifySuccess:()=>{y.current=!0},options:{phone:r},showSuccessMessage:!0,verifyFunction:()=>de(void 0,void 0,void 0,function*(){let M;return h()&&(M=(yield u()).publicKey),yield Fc(),rfe({environmentId:i,sessionPublicKey:M,verificationToken:T,verificationUUID:t})})})}),[t,m,r,g,i,u,h]),{isLoading:R,mutate:I}=Xo(e==="login"?_:k,{onFailure:T=>{c(T)}});return{error:l,formattedPhone:n??"",isLoading:R,isValid:y.current,onSubmit:I,retryOneTimePassword:b,setError:c}},hY=()=>{const{view:e}=At(),{handleLogOut:t}=$e(),{t:n}=Xe(),r=e.type==="login-with-sms-verification",{error:i,formattedPhone:o,isLoading:s,isValid:a,onSubmit:l,retryOneTimePassword:c,setError:d}=Ent(r?"login":"verify-only"),u=r?void 0:f.jsx(Zs,{className:"sms-verification__log-out",onClick:t,copykey:"dyn_otp_verification.log_out_button",children:n("dyn_otp_verification.log_out_button")});return f.jsx(Tj,{MainIcon:Int,displayedDestination:o,error:i,hideHeader:!0,isLoading:s,onPinComplete:l,isValid:a,retryHandler:c,onPinChange:()=>d(void 0),appendToEnd:u})},Cnt=()=>{const{socialProvider:e,signInProvider:t}=af(),n=W3(),{t:r}=Xe();return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Ke("social-redirect-view__container"),children:[e&&f.jsx(si,{iconSize:64,Icon:n(e),isSpinning:!0}),f.jsx(se,{weight:"medium",variant:"title",className:Ke("social-redirect-view__title"),copykey:"dyn_social_redirect.logging_in",children:r("dyn_social_redirect.logging_in")})]}),t!==Kb.MagicLink&&f.jsx(Aue,{})]})},Ant=()=>{const[e,t]=x.useState(!1),{socialWalletConnector:n,socialAccount:r}=af(),{t:i}=Xe(),o=W3();return!r||!n?null:f.jsxs("div",{className:Ke("social-wrong-account-view__container"),children:[f.jsx(si,{Icon:o(r.oauthProvider),isSpinning:e,iconSize:64}),f.jsx(se,{weight:"medium",variant:"title",className:Ke("social-wrong-account-view__title"),copykey:"dyn_login.wrong_social_account.title",children:i("dyn_login.wrong_social_account.title")}),f.jsx(se,{variant:"body_normal",weight:"regular",className:Ke("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.subtitle",children:i("dyn_login.wrong_social_account.subtitle")}),f.jsxs(se,{variant:"body_normal",weight:"regular",className:Ke("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.retry_title",children:[i("dyn_login.wrong_social_account.retry_title"),f.jsx("b",{children:r.oauthUsername})]}),f.jsx(xt,{buttonClassName:"social-wrong-account-view__button",buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},disabled:e,onClick:()=>{t(!0),n.connect(r.oauthProvider)},copykey:"dyn_login.wrong_social_account.retry_button",children:i("dyn_login.wrong_social_account.retry_button")})]})},Rnt=({leading:e,name:t,onClick:n,trailing:r})=>f.jsx(ip,{leading:e,trailing:r,onClick:n,className:"onramp-item__tile",dataTestId:"ListTile",children:t}),Tnt=({disabled:e=!1,onramp:t,onResetSearchValue:n,tile:r=Rnt,onSelectOnRamp:i,trailingProp:o=void 0})=>{const s=r,a=()=>de(void 0,void 0,void 0,function*(){e||(n==null||n(""),i(t))}),l=t.displayName,c=f.jsx(Nt,{className:"onramp-item__icon",children:f.jsx("img",{src:t.iconUrl,alt:t.displayName})}),d=o??f.jsx(T_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Ku,{})})});return f.jsx(s,{leading:c,trailing:d,name:l.charAt(0).toUpperCase()+l.slice(1),onClick:a})},Ont=({onSelectWallet:e,onSelectExchange:t,onSelectOnRamp:n,showDefaultFooter:r,scrollContainerClassName:i})=>{var o,s,a;const{t:l}=Xe(),{error:c}=so(),[d,u]=x.useState(!0),[h,m]=x.useState((o=ot.getItem(xh))!==null&&o!==void 0?o:""),{userWallets:v}=_s(),g=Jm(),{multiWallet:y,walletConnectorOptions:b}=$e(),{enabledOnrampProviders:k}=Sde(),_=zm(),{numberOfWallets:R,walletsList:I}=Bj({groupWallets:!0,inputList:b,isWalletConnectList:!1,lastUsedWalletKey:(s=ot.getItem(Xu))!==null&&s!==void 0?s:void 0,loginWithEmail:!0,multiWallet:y,numberOfWalletsToShow:(a=_.defaultNumberOfWalletsToShow)!==null&&a!==void 0?a:10,recommendedWallets:_.recommendedWallets,searchFilter:h,userWallets:v,walletGroups:g,walletsFilter:_.walletsFilter}),T=vo(),M=x.useMemo(()=>{if(!(T!=null&&T.exchanges))return[];const j=T.exchanges.flatMap(({exchange:V,enabledAt:K})=>K?[m1(V)]:[]);return[...new Set(j)]},[T==null?void 0:T.exchanges]),D=x.useMemo(()=>{const j=h.trim().toLowerCase();return j?M.filter(V=>jS(V).toLowerCase().includes(j)):M},[M,h]),A=x.useMemo(()=>k.filter(({isPaymentMethod:j})=>!j),[k]),U=x.useMemo(()=>{const j=h.trim().toLowerCase();return j?A.filter(({displayName:V})=>V.toLowerCase().includes(j)):A},[A,h]),$=x.useRef(null),q=()=>{const j=$.current;j&&u(j.scrollTop<=j.clientHeight*1.25)},z=j=>{ot.setItem(xh,j),m(j)},S=!T,E=f.jsx(se,{variant:"body_small",color:"tertiary",copykey:"dyn_unified_list.wallet",children:l("dyn_unified_list.wallet")}),N=f.jsx(se,{variant:"body_small",color:"tertiary",copykey:"dyn_unified_list.exchange",children:l("dyn_unified_list.exchange")}),P=f.jsx(se,{variant:"body_small",color:"tertiary",copykey:"dyn_unified_list.onramp",children:l("dyn_unified_list.onramp")});return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Ke("unified-list__search-container",{"unified-list__search-container--scroll":!c}),children:f.jsx(Nj,{copykey:"dyn_unified_list.search.label",label:l("dyn_unified_list.search.label",{count:R+D.length}),value:h,onChange:({target:{value:j}})=>z(j),onClickClear:()=>z("")})}),!!c&&f.jsx(Lr,{className:"unified-list__error-container",withIcon:!1,children:c}),f.jsx("div",{className:Ke("unified-list__scroll-container",i,{"unified-list__scroll-container--error":!!c}),ref:$,onScroll:q,"data-testid":"unified-list-scroll-container",children:S?f.jsx(Vo,{count:10,className:"unified-list__tile-skeleton"}):f.jsxs(f.Fragment,{children:[I.length===0&&D.length===0&&U.length===0&&(b.length||M.length||A.length)?f.jsx(qS,{titleKey:l("dyn_unified_list.search.not_found.title"),subtitleKey:l("dyn_unified_list.search.not_found.description"),image:f.jsx(Oj,{})}):I.map((j,V)=>f.jsx(J3,{wallet:j,onResetSearchValue:()=>z(""),recommendedWallets:_.recommendedWallets,onSelectWallet:e,trailingProp:E},`wallet_${j.key}_${V}`)),D.map((j,V)=>f.jsx(vfe,{exchange:jS(j),onResetSearchValue:()=>z(""),onSelectExchange:t,trailingProp:N},`exchange_${j}_${V}`)),U.map((j,V)=>f.jsx(Tnt,{onramp:j,onResetSearchValue:()=>z(""),onSelectOnRamp:n,trailingProp:P},`onramp_${j}_${V}`))]})}),r&&f.jsx(X3,{hideBorder:!d})]})},Nnt=()=>{const e=Vm(),{handleLogOut:t}=$e(),[n,r]=x.useState(!1),[i,o]=x.useState(null);return{deleteUser:()=>de(void 0,void 0,void 0,function*(){try{r(!0),o(null),yield CWe(e),yield t()}catch(a){throw o(a),a}finally{r(!1)}}),error:i,isLoading:n}},Pnt=()=>{const{setShowAuthFlow:e,user:t}=$e(),{t:n}=Xe(),{deleteUser:r,isLoading:i,error:o}=Nnt(),[s,a]=x.useState(!1),[l,c]=x.useState(""),d=x.useCallback(y=>{c(y.target.value)},[]),u=x.useCallback(y=>{a(y.target.checked)},[]),h=x.useCallback(()=>{e(!1)},[e]),m=x.useCallback(()=>de(void 0,void 0,void 0,function*(){s&&(yield r())}),[r,s]),v=x.useMemo(()=>s&&l==="DELETE"&&!i,[s,l,i]),g=x.useMemo(()=>t==null?void 0:t.verifiedCredentials.some(y=>y.walletProvider===Ao.EmbeddedWallet),[t]);return f.jsx("div",{className:"delete-account-view",children:f.jsxs("div",{className:"delete-account-view__content",children:[f.jsx("div",{className:"warning-section",children:f.jsxs("div",{className:"warning-icon-container",children:[f.jsx(Aj,{className:"warning-icon"}),f.jsx(Y3,{className:"exclamation-icon"})]})}),f.jsx("div",{className:"message-box",children:f.jsx(se,{variant:"body_normal",weight:"bold",copykey:"dyn_settings.delete_account.description",children:n("dyn_settings.delete_account.description")})}),f.jsxs("div",{className:"confirmation-section",children:[f.jsxs("div",{className:"checkbox-container",children:[f.jsx("input",{type:"checkbox",checked:s,onChange:u,"data-testid":"delete-account-checkbox"}),f.jsx(se,{className:"checkbox-text",variant:"body_small",copykey:g?"dyn_settings.delete_account.backup_confirmation_embedded":"dyn_settings.delete_account.backup_confirmation_no_embedded",children:n(g?"dyn_settings.delete_account.backup_confirmation_embedded":"dyn_settings.delete_account.backup_confirmation_no_embedded")})]}),f.jsxs("div",{className:"input-section",children:[f.jsx(se,{className:"input-label",variant:"body_small",copykey:"dyn_settings.delete_account.type_delete",children:n("dyn_settings.delete_account.type_delete")}),f.jsx(Sl,{id:"delete-confirmation",label:n("dyn_settings.delete_account.type_delete_label"),value:l,onChange:d,placeholder:"DELETE",variant:"dense","data-testid":"delete-account-input"})]}),o&&f.jsx(se,{variant:"body_small",color:"error-1",children:o.message})]}),f.jsxs("div",{className:"button-group",children:[f.jsx(xt,{buttonClassName:"cancel-button",buttonVariant:"primary",type:"button",onClick:h,copykey:"dyn_settings.delete_account.cancel",children:n("dyn_settings.delete_account.cancel")}),f.jsx(xt,{buttonClassName:"delete-button",buttonVariant:"danger",type:"submit",onClick:m,disabled:!v,copykey:"dyn_settings.delete_account.confirm",children:n(i?"dyn_settings.delete_account.deleting":"dyn_settings.delete_account.confirm")})]})]})})};var pY,mY,Bnt=["title","titleId"];function VP(){return VP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VP.apply(null,arguments)}function Dnt(e,t){if(e==null)return{};var n,r,i=Mnt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mnt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var jnt=function(t){var n=t.title,r=t.titleId,i=Dnt(t,Bnt);return x.createElement("svg",VP({width:328,height:112,viewBox:"0 0 328 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,pY||(pY=x.createElement("g",{clipPath:"url(#upgrade_svg__a)"},x.createElement("circle",{cx:164.5,cy:114,r:114,fill:"url(#upgrade_svg__b)",fillOpacity:.12}),x.createElement("path",{d:"M138.586 37.408s12.282 9.32 30.953-8.106c16.582-15.477 30.121 8.941 30.216 20.635.123 15.148-16.582 27.268-8.475 37.217 8.107 9.95-16.077 26.379-29.111 12.16-16.213-17.687-20.605-3.316-29.847-3.316-6.633 0-20.251-16.481-11.055-28.742 7.739-10.318 3.518-13.742 1.475-17.32-2.948-5.158 4.053-19.16 15.844-12.528Z",fill:"#DEE9FF"}),x.createElement("path",{d:"M193.356 31.055a7.764 7.764 0 0 1-8.274 7.741 7.76 7.76 0 1 1 8.274-7.74Z",fill:"#A2BDFF"}),x.createElement("path",{d:"M186.574 31.65c-.501.389-1.201 1.165-.99 2.89-.234.67-1.069 1.95-1.069 2.563 0 .612-1.002.723-1.113.556-.111-.168-.167-2.282-.779-2.671-.612-.39-.501-2.17-.501-2.17s.223-.668-.501-1.113c-.723-.445-1.227-1.502-.585-2.115.641-.612-1.084-1.001-1.306-1.446-.095-.19-.458-.612-.843-1.034a7.799 7.799 0 0 1 3.588-3.179c.569.594 1.061 1.355.927 2.154.022.39 1.713 1.001.885 1.836-.829.835-1.954 2.003 0 2.393 1.953.39 2.788.946 2.287 1.335ZM191.019 25.5c-.417.879-1.46 1.587-2.052 1.587-.668-.724-2.115.278-2.25-.89-.079-.682.697-1.739 1.359-2.505a7.777 7.777 0 0 1 2.943 1.809ZM193.326 31.734a7.74 7.74 0 0 1-2.46 5.02c-.257-.246-.474-.534-.397-.764.167-.501.846-1.559.729-2.226-.109-.623.466-2.509 2.128-2.03Z",fill:"#0E84E5"}),x.createElement("path",{d:"M180.69 70.309a21.881 21.881 0 0 1-1.227 4.48c-3.696 9.468-13.612 15.4-24.046 13.695a22.016 22.016 0 0 1-18.014-26.147c2.354-11.517 13.406-19.214 25.112-17.302a21.88 21.88 0 0 1 9.628 4.09 21.659 21.659 0 0 1 2.611 2.299 22 22 0 0 1 5.936 18.884Z",fill:"#699CFF"}),x.createElement("path",{d:"M179.463 74.79c-4.192 2.698-9.142 5.194-14.6 7.259-5.557 2.1-11.014 3.52-16.016 4.263-11.753 1.752-20.983-.206-23.063-5.707-1.948-5.139 2.843-12.098 11.619-18.268a21.656 21.656 0 0 0-.446 4.11c-5.057 3.904-7.688 7.727-6.651 10.47 1.009 2.667 5.291 3.802 11.383 3.48 5.955-.314 13.64-2.029 21.684-5.07 6.957-2.633 13.058-5.834 17.6-9.05 6.082-4.299 9.38-8.625 8.242-11.643-1.171-3.098-6.756-4.131-14.461-3.21a21.591 21.591 0 0 0-2.611-2.298c10.786-1.247 19.099.79 21.058 5.972 2.1 5.542-3.625 13.193-13.738 19.692Z",fill:"#0E84E5"}))),mY||(mY=x.createElement("defs",null,x.createElement("linearGradient",{id:"upgrade_svg__b",x1:164.5,y1:0,x2:164.5,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})),x.createElement("clipPath",{id:"upgrade_svg__a"},x.createElement("rect",{x:.5,width:327,height:112,rx:12,fill:"#fff"})))))};const $nt=!1,Lnt=({onUpgrade:e})=>{const{pushView:t}=At(),{userWallets:n}=_s(),{getEOAWallet:r}=xs(),i=n.reduce((u,h)=>{if(!h)return u;h.connector.key.startsWith("turnkey")&&u.push(h);const m=r(h);return m&&m.connector.key.startsWith("turnkey")&&(u.some(g=>g.id===m.id)||u.push(m)),u},[]),{t:o}=Xe(),{setShowAuthFlow:s}=Zc(),[a]=x.useState(i.map(u=>u.id)),[l,c]=x.useState("keep"),d=()=>de(void 0,void 0,void 0,function*(){if(a.length!==0){if(l==="keep"){const u=a.map(h=>i.find(m=>m.id===h)).filter(h=>h!=null);t("wallet-upgrade-flow-view",{method:"existing",wallets:u})}e==null||e(a,l)}});return f.jsxs("div",{className:"waas-upgrade-view",children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary",children:o("dyn_upgrade_wallet.title")})}),f.jsxs("div",{className:"waas-upgrade-view__content",children:[f.jsx("div",{className:"waas-upgrade-view__illustration",children:f.jsx(jnt,{})}),f.jsx(se,{as:"p",variant:"body_normal",className:"waas-upgrade-view__new-version-message",children:o("dyn_upgrade_wallet.description")}),f.jsxs("div",{className:"waas-upgrade-view__wallets-section",children:[f.jsx("div",{className:"waas-upgrade-view__section-header",children:f.jsx(se,{color:"primary",children:o("dyn_upgrade_wallet.eligible_wallets")})}),f.jsx("div",{className:"waas-upgrade-view__wallets-list",children:i.map(u=>f.jsx("div",{className:"waas-upgrade-view__wallet-item",children:f.jsx("div",{className:"waas-upgrade-view__wallet-info",children:f.jsxs("div",{className:"waas-upgrade-view__wallet-details",children:[f.jsx(se,{color:"primary",children:u.chain}),f.jsxs(se,{color:"primary",children:[u.address.slice(0,6),"...",u.address.slice(-4)]})]})})},u.id))})]}),$nt,f.jsxs("div",{className:"waas-upgrade-view__actions",children:[f.jsx(xt,{buttonVariant:"brand-primary",onClick:d,disabled:a.length===0,copykey:"dyn_upgrade_wallet.upgrade",typographyProps:{color:"inherit"},children:o("dyn_upgrade_wallet.upgrade")}),f.jsx(xt,{buttonVariant:"tertiary",onClick:()=>{s(!1)},children:o("dyn_upgrade_wallet.not_now")})]})]})]})},Unt=()=>{const{selectedWalletConnector:e}=$e(),{t}=Xe(),{data:n}=vr(()=>de(void 0,void 0,void 0,function*(){const i=yield e==null?void 0:e.getConnectedAccounts();return i==null?void 0:i[0]}),{deps:[e]}),r=Ni(n);return f.jsxs("div",{className:"wallet-already-exists-view__container",children:[f.jsx("div",{className:"wallet-already-exists-view__icon",children:f.jsx(oi,{icon:e==null?void 0:e.metadata.icon,walletKey:e==null?void 0:e.key,width:64,height:64})}),f.jsx(se,{className:"wallet-already-exists-view__shorten-wallet-address",variant:"body_normal",weight:"medium",color:"primary",children:r}),f.jsx(se,{className:"wallet-already-exists-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.already_exists.description",children:t("dyn_wallet_link.already_exists.description")})]})},Fnt=()=>{const{clearStackAndPushInitialView:e}=At(),{selectedWalletConnector:t}=$e(),{t:n}=Xe(),{data:r}=vr(()=>de(void 0,void 0,void 0,function*(){const i=yield t==null?void 0:t.getConnectedAccounts();return Ni(i==null?void 0:i[0])}),{deps:[t]});return f.jsxs("div",{className:"wallet-cannot-be-transferred-view__container",children:[f.jsx(se,{className:"wallet-cannot-be-transferred-view__title",as:"h6",variant:"title",color:"primary",weight:"medium",copykey:"dyn_wallet_link.cannot_link.title",children:n("dyn_wallet_link.cannot_link.title")}),f.jsx("div",{className:"wallet-cannot-be-transferred-view__icon",children:f.jsx(oi,{icon:t==null?void 0:t.metadata.icon,walletKey:t==null?void 0:t.key,width:64,height:64})}),f.jsx(se,{className:"wallet-cannot-be-transferred-view__shorten-wallet-address",variant:"body_normal",weight:"regular",color:"primary",children:r}),f.jsx(se,{className:"wallet-cannot-be-transferred-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.cannot_link.description",children:n("dyn_wallet_link.cannot_link.description")}),f.jsx(xt,{buttonClassName:"wallet-cannot-be-transferred-view__transfer-alt-wallet-button",buttonVariant:"primary",expanded:!0,buttonPadding:"large",onClick:e,dataTestId:"wallet-cannot-be-transferred-view-transfer-alt-wallet",copykey:"dyn_wallet_link.cannot_link.link_other_button",children:n("dyn_wallet_link.cannot_link.link_other_button")}),f.jsx(xt,{dataTestId:"wallet-cannot-be-transferred-view-cancel",buttonPadding:"small",buttonClassName:"wallet-cannot-be-transferred-view__cancel",onClick:e,copykey:"dyn_wallet_link.cannot_link.cancel_button",children:n("dyn_wallet_link.cannot_link.cancel_button")})]})},Wnt=({wallet:e,onClick:t})=>{const[n]=e.walletConnector.supportedChains,r=Uc(n),i=xj({wallet:e}),o=f.jsx(T_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Ku,{})}),children:i&&f.jsx(rf,{dot:!i.isRecommended,variant:i.isRecommended?"primary":"secondary",text:f.jsx(se,{variant:"body_small",children:i.label})})}),s=x.useMemo(()=>{const l={height:Ut(28),width:Ut(28)},c=Hc(n);return f.jsx(c,{style:l})},[n]),a=(r==null?void 0:r.displayName)||e.name;return f.jsx(ip,{className:"chain-card",onClick:t,leading:s,trailing:o,children:a},e.key)},qnt=({onSelectWallet:e})=>{var t;const{selectedWalletGroup:n}=H3(),r=Jm(),{t:i}=Xe();if(!n)throw new Error("Could not access WalletGroup view without selected group");const o=r[n.key];if(!o)throw new Error("Could not find group");const s=n.groupedWallets.map(({walletConnector:a})=>a).filter(a=>Bh(a)&&a.canConnectWithHardwareWallet());return f.jsx(jfe,{icon:f.jsx(oi,{walletKey:o.key,isGroup:!0,icon:(t=o.brand)===null||t===void 0?void 0:t.icon}),title:i("dyn_select_chain.description"),titleCopyKey:"dyn_select_chain.description",children:f.jsxs("div",{className:"wallet-group__list",children:[!!s.length&&f.jsxs(f.Fragment,{children:[f.jsx(Mfe,{connectors:s,copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:i("dyn_select_chain.using_hardware_wallet_toggle_label")}),f.jsx(of,{})]}),f.jsx("div",{className:"wallet-group-view-layout__list",children:n.groupedWallets.map((a,l)=>f.jsx(Wnt,{wallet:a,onClick:()=>e(a)},`${a.key}_${l}`))})]})})},Rk=({isWalletConnectList:e})=>{const{handleWalletItemClick:t}=rp(),{showDefaultFooter:n}=og();return f.jsx(Dj,{onSelectWallet:t,isWalletConnectList:e,showDefaultFooter:n})},A4=64,znt=()=>{const{handleLogOut:e,primaryWallet:t,setShowAuthFlow:n,appName:r}=$e(),{t:i}=Xe();if(!t)return null;const o=()=>de(void 0,void 0,void 0,function*(){try{yield t.connector.connect(),n(!1)}catch{Ie.info("could not connect wallet")}}),s=f.jsx(oi,{icon:t.connector.metadata.icon,walletKey:t.connector.key,style:{height:Ut(A4*Yo),width:Ut(A4*Yo)}});return f.jsxs("div",{"data-testid":"wallet-locked-view",children:[f.jsx(Lr,{withIcon:!1,variant:"success",className:"wallet-locked-view__error-container",copykey:"dyn_wallet_locked.connect_continue",children:i("dyn_wallet_locked.connect_continue")}),f.jsxs("div",{className:"wallet-locked-view__content",children:[f.jsx(si,{Icon:s,iconSize:A4,className:"wallet-locked-view__icon",isSpinning:!0}),f.jsx(se,{variant:"title",color:"primary",weight:"medium",className:"wallet-locked-view__title",copykey:"dyn_wallet_locked.title",children:i("dyn_wallet_locked.title")}),f.jsxs(se,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_locked.subtitle",children:[i("dyn_wallet_locked.subtitle"),r,"."]}),f.jsx(xt,{onClick:()=>o(),buttonClassName:"wallet-locked-view__button",copykey:"dyn_wallet_locked.connect",children:i("dyn_wallet_locked.connect")}),f.jsx(of,{text:"Or"}),f.jsx(Zs,{className:"wallet-locked-view__log-out",onClick:e,copykey:"dyn_wallet_locked.logout",children:i("dyn_wallet_locked.logout")})]})]})},Vnt=()=>{const{t:e}=Xe(),{selectedWalletConnector:t}=$e();return f.jsxs("div",{className:Ke("wallet-redirect-view__container"),children:[t&&f.jsx(si,{iconSize:64,Icon:f.jsx(oi,{icon:t.metadata.icon,walletKey:t.key}),isSpinning:!0}),f.jsx(se,{weight:"medium",variant:"title",className:Ke("wallet-redirect-view__title"),copykey:"dyn_wallet_redirect.loading",children:e("dyn_wallet_redirect.loading")}),f.jsx(Gc,{classNameRoot:"powered-by-dynamic"})]})},Knt=()=>{const{clearStackAndPushInitialView:e}=At(),{t}=Xe(),{setMultiWalletWidgetState:n,setSelectedWalletConnectorKey:r,selectedWalletConnector:i}=$e();if(!i)return null;const{key:o,metadata:s}=i,a=96,l=()=>de(void 0,void 0,void 0,function*(){e(),n("idle"),r(null),yield i==null?void 0:i.endSession()}),c=f.jsx(oi,{icon:s.icon,walletKey:o,style:{height:Ut(a*Yo),width:Ut(a*Yo)}});return f.jsxs("div",{className:"wallet-sign-spinner__container","data-testid":"wallet-sign-spinner-view",children:[f.jsx(si,{Icon:c,iconSize:a,isSpinning:!0}),f.jsx(se,{variant:"body_normal",weight:"regular",className:Ke("wallet-sign-spinner__copy"),copykey:"dyn_wallet_transfer.sign.spinner.confirm_transfer",children:t("dyn_wallet_transfer.sign.spinner.confirm_transfer")}),f.jsx(xt,{expanded:!0,buttonPadding:"large",buttonVariant:"primary",buttonClassName:"wallet-sign-spinner__button",onClick:()=>l(),typographyProps:{variant:"button_primary",weight:"medium"},copykey:"dyn_wallet_transfer.sign.spinner.cancel",children:t("dyn_wallet_transfer.sign.spinner.cancel")})]})},$fe=e=>{var{className:t="",id:n,label:r,onChange:i,onBlur:o,name:s,value:a,optional:l,error:c=!1,disabled:d,message:u,placeholder:h,variant:m="dense",isValid:v}=e,g=bs(e,["className","id","label","onChange","onBlur","name","value","optional","error","disabled","message","placeholder","variant","isValid"]);return f.jsxs("div",{className:Ke("textarea__container",{"textarea__container--dense":m==="dense","textarea__container--regular":m==="regular"}),children:[f.jsx("textarea",Object.assign({},g,{name:s,value:a,onChange:i,onBlur:o,id:n,placeholder:m==="regular"?h:r,disabled:d,className:Ke("textarea",t,{textarea__error:c,textarea__has_trailing:l,textarea__valid:v===!0})})),r&&f.jsx("label",{htmlFor:n,className:Ke("textarea__label"),children:r}),l&&f.jsx("span",{className:"textarea__trailing",children:"Optional"}),!!u&&f.jsx(se,{variant:"body_mini",className:Ke("textarea__message",{textarea__message__error:c}),children:u})]})},Hnt=({wallets:e,method:t,onComplete:n,onCancel:r})=>{var i;const{setShowAuthFlow:o,user:s,environmentId:a}=$e(),{upgradeToDynamicWaas:l}=np(),{t:c}=Xe(),{pushView:d}=At(),[u,h]=x.useState(0),[m,v]=x.useState(""),[g,y]=x.useState(null),b=u===e.length-1,k=u,_=e.length,R=K3(),I=!!(s!=null&&s.verifiedCredentials.find(N=>{var P;return(P=N.walletName)===null||P===void 0?void 0:P.startsWith("dynamicwaas")})),T=(N,P)=>{N&&M(P)},{mutate:M,data:D,error:A}=Xo(N=>mfe({environmentId:a,exportPrivateKey:!0,handleAcknowledgeExportPrompt:()=>{},iframeContainerRef:g,isTurnkeyWallet:!0,isWaasWallet:I,user:s,wallet:N}),{onFailure:N=>{Ie.error("Failed to export wallet in upgrade flow",N),rt.emit("embeddedWalletRevealFailed",N)}}),U=x.useRef(null);x.useEffect(()=>{D&&e[u]&&(U.current=e[u])},[D,e,u]),x.useEffect(()=>()=>{U.current&&rt.emit("embeddedWalletRevealCompleted",U.current)},[]);const{mutate:$,isLoading:q,error:z}=Xo(()=>de(void 0,void 0,void 0,function*(){if(!m.trim())throw new Se("Private key is required");yield l({privateKey:m.trim(),wallet:e[u]}),y(null),v(""),R(),b?(n==null||n(),d("account-upgraded")):h(N=>N+1)}),{onFailure:()=>{Ie.error("Failed to upgrade wallet in upgrade flow")}}),S=()=>{r==null||r(),o(!1)},E=N=>{var P;const j=((P=e[N])===null||P===void 0?void 0:P.chain)||"Wallet";return c("dyn_wallet_upgrade_flow.step_wallet_upgrade",{walletName:j})};return e[u]?t==="new"?f.jsxs("div",{className:"wallet-upgrade-flow-view",children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary",children:c("dyn_wallet_upgrade_flow.new_wallet_title")})}),f.jsx("div",{className:"wallet-upgrade-flow-view__content",children:f.jsx(se,{children:c("dyn_wallet_upgrade_flow.new_wallet_coming_soon")})})]}):f.jsxs("div",{className:"wallet-upgrade-flow-view",children:[f.jsx(Zn,{children:_>1&&f.jsx("div",{className:"wallet-upgrade-flow-view__header",children:f.jsx("div",{className:"wallet-upgrade-flow-view__steps",children:Array.from({length:_},(N,P)=>f.jsxs("div",{className:"wallet-upgrade-flow-view__step-container",children:[f.jsxs("div",{className:`wallet-upgrade-flow-view__step ${P<k?"wallet-upgrade-flow-view__step--completed":""} ${P===u?"wallet-upgrade-flow-view__step--current":""}`,children:[f.jsx("div",{className:"wallet-upgrade-flow-view__step-indicator",children:P<k?f.jsx("div",{className:"wallet-upgrade-flow-view__step-check",children:""}):f.jsx("div",{className:"wallet-upgrade-flow-view__step-number",children:P+1})}),f.jsx(se,{variant:"body_small",color:P<=u?"primary":"secondary",className:"wallet-upgrade-flow-view__step-title",children:E(P)})]}),P<_-1&&f.jsx("div",{className:"wallet-upgrade-flow-view__step-separator"})]},P))})})}),f.jsxs("div",{className:"wallet-upgrade-flow-view__content",children:[A&&f.jsx(Lr,{className:"wallet-upgrade-flow-view__error",children:A instanceof Error?A.message:c("dyn_wallet_upgrade_flow.export_failed")}),z&&f.jsx(Lr,{className:"wallet-upgrade-flow-view__error",children:z instanceof Error?z.message:c("dyn_wallet_upgrade_flow.upgrade_failed")}),f.jsxs("div",{className:"wallet-upgrade-flow-view__title-section",children:[f.jsx(se,{as:"h1",variant:"title",color:"primary",children:c("dyn_wallet_upgrade_flow.title")}),f.jsx(se,{color:"secondary",className:"wallet-upgrade-flow-view__subtitle",children:c("dyn_wallet_upgrade_flow.copy_private_key_subtitle")})]}),f.jsxs("div",{className:"wallet-upgrade-flow-view__export-section",children:[f.jsx(se,{color:"primary",variant:"body_normal",weight:"bold",className:"wallet-upgrade-flow-view__section-title",children:c("dyn_wallet_upgrade_flow.copy_private_key_title")}),f.jsx(hfe,{wallet:e[u],isTurnkeyWallet:!0,isWaasWallet:I,data:D,onIframeContainerRef:y,onExportReady:T},`wallet-export-${u}-${(i=e[u])===null||i===void 0?void 0:i.id}`)]}),f.jsx("div",{className:"wallet-upgrade-flow-view__input-section",children:f.jsxs("div",{className:"wallet-upgrade-flow-view__input-container",children:[f.jsxs(se,{variant:"body_normal",weight:"bold",color:"primary",copykey:"dyn_embedded_reveal.step_2_title",children:[f.jsx("span",{className:"wallet-upgrade-flow__step-description",children:c("dyn_wallet_upgrade_flow.step_2_upgrade_description")})," "]}),f.jsx($fe,{id:"paste-private-key-input",value:m,onChange:N=>v(N.target.value),variant:"regular",className:"wallet-upgrade-flow__paste-input",label:""})]})})]}),f.jsxs("div",{className:"wallet-upgrade-flow-view__actions",children:[f.jsx(xt,{buttonVariant:"brand-primary",onClick:()=>$(),disabled:!m.trim()||q,loading:q,copykey:"dyn_wallet_upgrade_flow.upgrade_button",typographyProps:{color:"inherit"},expanded:!0,children:c("dyn_wallet_upgrade_flow.upgrade_wallet")}),f.jsx(xt,{buttonVariant:"tertiary",onClick:S,disabled:q,children:c("dyn_wallet_upgrade_flow.cancel")})]})]}):null},Lfe=()=>{const e=sv(),{displaySiweStatement:t,events:n}=zm(),r=Vm(),{primaryWallet:i}=$e(),{addedWalletsIds:o}=_s(),s=x.useCallback((a,l)=>{const c=l.lastVerifiedCredentialId;if(!c)return;(!i||a.key===i.connector.key||i.connector.connectedChain==="FLOW"&&a.connectedChain==="FLOW")&&To(c)},[i]);return x.useCallback(a=>de(void 0,void 0,void 0,function*(){if(!e)throw new Se(Kr);const{overrideSiweStatement:l,walletConnector:c}=a,d=Object.assign(Object.assign({},a),{displaySiweStatement:t,environmentId:r,siweStatement:l,walletProvider:Zb(c)}),u=yield Cle(d);if(n!=null&&n.onSignedMessage)try{n.onSignedMessage({messageToSign:u.messageToSign,signedMessage:u.signedMessage})}catch(v){Ie.warn("Error calling onSignedMessage callback:",v)}const h=yield wMe(r,u);if(!h)throw new Se("Error transferring wallet.");s(c,h);const m=h.lastVerifiedCredentialId;m&&o.current.push(m)}),[o,t,r,n,s,e])},Gnt=()=>{const[e,t]=x.useState(!1),{t:n}=Xe(),{loading:r,setLoading:i}=mv(),{pushView:o}=At(),{setShowAuthFlow:s,appName:a,siweStatement:l,setMultiWalletWidgetState:c,connectWallet:d,selectedWalletConnector:u,isSingleWalletAccount:h,handleLogOut:m}=$e(),{data:v}=vr(()=>de(void 0,void 0,void 0,function*(){const k=yield u==null?void 0:u.getConnectedAccounts();return k==null?void 0:k[0]}),{deps:[u]}),g=Ni(v),y=Lfe(),b=()=>de(void 0,void 0,void 0,function*(){if(!u)return;c("awaiting_signature",void 0,"transferring_wallet"),i(!0),o("wallet-sign");const k=hM({appName:a,siweStatement:l});try{const _=yield d(u);if(!(_!=null&&_.address))return;u.key==="phantom"&&rr()&&(Ie.logVerboseTroubleshootingMessage("[WalletUsedView handleWalletTransfer] Setting PHANTOM_SIGNATURE_STATE to awaiting_transfer",{isChecked:e}),ot.setItem(_m,{loseOriginalAccountOnTransfer:e,submittedAtTimestamp:new Date().toString(),verificationType:"awaiting_transfer"})),yield y({overrideSiweStatement:k,publicWalletAddress:_.address,skipEmptyAccountCheck:e,walletConnector:u}),s(!1)}catch(_){Ie.error(_),s(!1,{emitCancelAuth:!0})}finally{i(!1),c("idle")}});return f.jsxs("div",{className:"wallet-used-view__container",children:[f.jsx("div",{className:"wallet-used-view__icon",children:f.jsx(oi,{icon:u==null?void 0:u.metadata.icon,walletKey:u==null?void 0:u.key,width:64,height:64})}),f.jsx(se,{className:"wallet-used-view__shorten-wallet-address",variant:"body_normal",weight:"medium",color:"primary",children:g}),f.jsx(se,{className:"wallet-used-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.existent_account.warning",children:n("dyn_wallet_link.existent_account.warning")}),h&&f.jsxs("label",{htmlFor:"skipEmptyAccountCheck",className:"wallet-used-view__checkbox-label",children:[f.jsx(Kd,{id:"skipEmptyAccountCheck",className:"wallet-used-view__checkbox-container",defaultChecked:e,onChange:()=>t(!e),ariaLabel:"skip empty account check"}),f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_link.existent_account.acceptance",children:n("dyn_wallet_link.existent_account.acceptance")})]}),f.jsx(xt,{buttonClassName:"wallet-used-view__accept-button",buttonVariant:"primary",expanded:!0,buttonPadding:"large",onClick:()=>b(),disabled:!e&&h||r,dataTestId:"wallet-used-view-transfer-wallet",copykey:"dyn_wallet_link.confirm_button",children:n("dyn_wallet_link.confirm_button")}),f.jsx(xt,{dataTestId:"wallet-used-view-log-out",buttonPadding:"small",buttonClassName:"wallet-used-view__logout",onClick:m,copykey:"dyn_wallet_link.log_out_button",children:n("dyn_wallet_link.log_out_button")})]})};var gY,Jnt=["title","titleId"];function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KP.apply(null,arguments)}function Znt(e,t){if(e==null)return{};var n,r,i=Ynt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ynt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Xnt=function(t){var n=t.title,r=t.titleId,i=Znt(t,Jnt);return x.createElement("svg",KP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,gY||(gY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-4.928-29.305h9.717c-.207 4.908-1.087 9.168-2.3 12.206-.7 1.756-1.433 2.9-2.036 3.54-.245.26-.42.387-.523.448-.102-.06-.277-.189-.522-.449-.603-.638-1.336-1.783-2.037-3.539-1.213-3.038-2.092-7.298-2.3-12.206Zm2.3-16.655c-1.242 3.108-2.134 7.497-2.314 12.55h9.744c-.18-5.053-1.071-9.442-2.313-12.55-.7-1.756-1.433-2.9-2.036-3.54-.245-.26-.42-.388-.523-.449-.102.061-.277.19-.522.45-.603.638-1.336 1.783-2.037 3.539ZM14.5 30.59h8.951c.216-6.53 1.541-12.27 3.503-16.036C20.23 16.789 15.22 23.03 14.5 30.59Zm.036 4.105h8.928c.25 6.387 1.563 11.993 3.49 15.692-6.622-2.201-11.582-8.288-12.418-15.692Zm35.789 0h-8.928c-.25 6.387-1.563 11.993-3.49 15.692 6.621-2.201 11.581-8.288 12.418-15.692Zm.125-2.224v.066-.133.066Zm-9.04-1.88h8.95c-.719-7.56-5.73-13.802-12.454-16.037 1.962 3.766 3.288 9.507 3.503 16.036Zm-9.09 20.35c0-.001.008-.004.023-.007-.015.006-.023.008-.023.007Zm.198-.007a.072.072 0 0 1 .023.007s-.008-.001-.023-.007ZM32.541 14s-.008.004-.023.007c.015-.006.023-.008.023-.007Zm-.198.007A.068.068 0 0 1 32.32 14s.008.001.023.007Z",fill:"#4779FF"})))};const Qnt=()=>{const{t:e}=Xe(),{projectSettings:t}=$e(),n=x.useMemo(()=>{var r;const i=QM((r=t==null?void 0:t.sdk.embeddedWallets)===null||r===void 0?void 0:r.supportedSecurityMethods);return Object.keys(i).filter(o=>o!=="email")},[t==null?void 0:t.sdk.embeddedWallets]);return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_passkey_new_domain_detected.title",children:e("dyn_passkey_new_domain_detected.title")})}),f.jsxs("div",{className:"passkey-new-domain-detected",children:[f.jsx(Xnt,{className:"passkey-new-domain-detected__header"}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_passkey_new_domain_detected.description",children:e("dyn_passkey_new_domain_detected.description")}),f.jsx(Nfe,{supportedAuthenticators:n}),f.jsx(tp,{isRecoveryFlow:!0})]})]})},ert={"access-blocked":SYe,"account-exists":NYe,"account-upgraded":jYe,"backup-unsuccessful":KYe,"bridge-next-wallet-connection":GYe,"bridge-summary":ZYe,"bridge-welcome":QYe,captcha:tXe,"chainalysis-blocked-wallet":C4,"collect-user-data":mXe,"collect-user-data-login-no-wallet":gXe,"duplicate-wallet":yXe,"email-wallet-otp-verification-view":jXe,"embedded-delete-view":qXe,"embedded-reveal-account-view":pZ,"embedded-reveal-view":pZ,"embedded-wallet-auth-choice":Ytt,"embedded-wallet-exists":Unt,"exchange-whitelist-warning":vKe,"export-shares-view":hQe,"external-funding-exchange-list":dQe,"external-funding-wallet-list":Dj,"farcaster-connect-view":bfe,"gate-blocked-wallet":C4,"global-wallet-confirm":bQe,"global-wallet-info":IQe,"global-wallet-malicious":BQe,"login-with-email-or-wallet":TZ,"login-with-email-or-wallet-full-wallet-list":Rk,"login-with-email-verification":aZ,"login-with-sms-verification":hY,"login-with-wallet-only":TZ,"merge-user-accounts":Aet,"merge-user-accounts-conflicts":Cet,"merge-user-accounts-with-same-email":Pet,"mfa-choose-device":Let,"mfa-display-backup-codes":Fet,"mfa-exchange-view":Ket,"mfa-recovery":Qet,"mfa-secure-device":itt,"mfa-secure-device-help":ett,"mfa-verification":ott,"mobile-wallet-redirect-view":Cfe,"multi-wallet-wallet-list":Rk,"network-not-supported":ltt,"network-not-supported-manual":ctt,"no-access":C4,"no-qr-not-installed":mtt,"passkey-confirm":hnt,"passkey-intro":Ott,"passkey-new-domain-detected":Qnt,"passkey-recovery-add-email":Dtt,"passkey-recovery-bundle":jtt,"passkey-recovery-complete":$tt,"passkey-recovery-start":Ltt,"passkey-setup":pnt,"pending-connect":mnt,"pending-signature":dY,"pending-signature-without-back-button":dY,"qr-code":cnt,"rename-passkey":Utt,"sandbox-maximum-threshold-reached":gnt,"select-hardware-wallet":vnt,"select-wallet-in-wallet-group":bnt,"social-redirect-view":Cnt,"social-wrong-account":Ant,"unified-wallet-exchange-list":Ont,"user-delete-account":Pnt,"verify-email":aZ,"verify-sms":hY,"waas-backup-cloud-provider-view":QZe,"waas-backup-download-view":rYe,"waas-backup-info-view":dYe,"waas-backup-progress-view":pYe,"waas-backup-success-view":vYe,"waas-backup-view":wYe,"waas-upgrade-view":Lnt,"wait-for-email-confirmation-view":_Xe,"wallet-cannot-be-transferred":Fnt,"wallet-connect-mobile-wallets-list":()=>f.jsx(Rk,{isWalletConnectList:!0}),"wallet-delegation-view":lnt,"wallet-group":qnt,"wallet-list":Rk,"wallet-locked-view":znt,"wallet-redirect-view":Vnt,"wallet-sign":Knt,"wallet-upgrade-flow-view":Hnt,"wallet-used":Gnt},trt=()=>{const{view:e}=At(),t=ert[e.type];return f.jsx(t,Object.assign({},e.props||{}))};function nrt(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var rrt='@layer dynamic-sdk-styles{#argent-mobile-modal-overlay,iframe[src*="wallet-dev.blocto.app"],iframe[src*="wallet-staging.blocto.app"],iframe[src*="wallet-testnet.blocto.app"],iframe[src*="wallet.blocto.app"]{z-index:2147483647!important}iframe[id*=dyn-passkey-recovery-element-id],iframe[id*=dyn-secure-enclave-element-id]{display:none!important}#pera-wallet-connect-modal-wrapper{position:relative;z-index:2147483647!important}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-italic.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:500;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:500;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-italic.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:700;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:700;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-italic.woff) format("woff")}@layer light-theme-default{:root{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:#ffe3e3;--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-display:1.875rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme-brand=bold],:root[data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme-brand=subtle],:root[data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}@media (prefers-color-scheme:light){:root [data-dynamic-theme=auto]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:#ffe3e3;--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-display:1.875rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}}:root [data-dynamic-theme=light]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:#ffe3e3;--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-display:1.875rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=light] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=light][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=light] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=light][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}}@layer dark-theme-default{@media (prefers-color-scheme:dark){:root [data-dynamic-theme=auto]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#0c0e13;--dynamic-base-2:#1b1d22;--dynamic-base-3:#24272e;--dynamic-base-4:#282b33;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#79ffcf;--dynamic-success-2:#192d2c;--dynamic-border-radius:1.5rem;--dynamic-hover:hsla(0,0%,100%,.1);--dynamic-error-1:#ff6a6a;--dynamic-error-2:hsla(0,100%,71%,.2);--dynamic-alert-1:#e2a140;--dynamic-alert-2:#2b2621;--dynamic-footer-background-color:#0c0e13;--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.01) 20%,hsla(0,0%,100%,.05) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(0,0,0,.25);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#69a5ff;--dynamic-text-primary:#fbfcff;--dynamic-text-secondary:#a8aab0;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#6f7177;--dynamic-badge-background:#24272e;--dynamic-badge-color:#a8aab0;--dynamic-badge-dot-background:#4779ff;--dynamic-badge-primary-background:#192d2c;--dynamic-badge-primary-color:#79ffcf;--dynamic-search-bar-background:#1b1d22;--dynamic-search-bar-background-hover:#1b1d22;--dynamic-search-bar-background-focus:#1b1d22;--dynamic-search-bar-border:0.0625rem solid #24272e;--dynamic-search-bar-border-hover:0.0625rem solid #282b33;--dynamic-search-bar-border-focus:0.0625rem solid #282b33;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#24272e;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#282b33;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#fbfcff;--dynamic-tooltip-text-color:#0c0e13;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#1b1d22;--dynamic-button-primary-background:#1b1d22;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #282b33;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#1a1c21;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#1b1d22;--dynamic-connect-button-background-hover:#1b1d22;--dynamic-connect-button-color:#fbfcff;--dynamic-connect-button-border:0.0625rem solid #282b33;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#fbfcff;--dynamic-connect-button-border-hover:0.0625rem solid #282b33;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #282b33;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#6f7177;--dynamic-footer-icon-color:#6f7177}}:root [data-dynamic-theme=dark]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#0c0e13;--dynamic-base-2:#1b1d22;--dynamic-base-3:#24272e;--dynamic-base-4:#282b33;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#79ffcf;--dynamic-success-2:#192d2c;--dynamic-border-radius:1.5rem;--dynamic-hover:hsla(0,0%,100%,.1);--dynamic-error-1:#ff6a6a;--dynamic-error-2:hsla(0,100%,71%,.2);--dynamic-alert-1:#e2a140;--dynamic-alert-2:#2b2621;--dynamic-footer-background-color:#0c0e13;--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.01) 20%,hsla(0,0%,100%,.05) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(0,0,0,.25);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#69a5ff;--dynamic-text-primary:#fbfcff;--dynamic-text-secondary:#a8aab0;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#6f7177;--dynamic-badge-background:#24272e;--dynamic-badge-color:#a8aab0;--dynamic-badge-dot-background:#4779ff;--dynamic-badge-primary-background:#192d2c;--dynamic-badge-primary-color:#79ffcf;--dynamic-search-bar-background:#1b1d22;--dynamic-search-bar-background-hover:#1b1d22;--dynamic-search-bar-background-focus:#1b1d22;--dynamic-search-bar-border:0.0625rem solid #24272e;--dynamic-search-bar-border-hover:0.0625rem solid #282b33;--dynamic-search-bar-border-focus:0.0625rem solid #282b33;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#24272e;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#282b33;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#fbfcff;--dynamic-tooltip-text-color:#0c0e13;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#1b1d22;--dynamic-button-primary-background:#1b1d22;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #282b33;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#1a1c21;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#1b1d22;--dynamic-connect-button-background-hover:#1b1d22;--dynamic-connect-button-color:#fbfcff;--dynamic-connect-button-border:0.0625rem solid #282b33;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#fbfcff;--dynamic-connect-button-border-hover:0.0625rem solid #282b33;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #282b33;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=dark] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=dark][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=dark] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=dark][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#6f7177;--dynamic-footer-icon-color:#6f7177}}.dynamic-shadow-dom{position:relative}#dynamic-tooltips{left:0;position:absolute;top:0}@supports (overflow:clip){.dynamic-no-scroll{overflow:clip}}@supports not (overflow:clip){.dynamic-no-scroll{overflow:hidden}}}';nrt(rrt);const irt=()=>{const{awaitingSignatureState:e,multiWalletWidgetState:t,setMultiWalletWidgetState:n,legacyIsVerifying:r,setLegacyIsVerifying:i,selectedWalletConnector:o}=$e(),s=wj(),a=x.useRef(!1),l=x.useCallback(c=>de(void 0,void 0,void 0,function*(){Ie.debug("runConnectAndSign",{selectedWalletConnector:o,walletConnector:c});const d=c??o;if(d){a.current=!0,i(!0);try{yield s({walletConnector:d})}catch(u){Ie.error(u)}n("idle"),i(!1),a.current=!1}}),[o==null?void 0:o.key,i,n,s]);x.useEffect(()=>{!r&&!a.current&&t==="awaiting_signature"&&o&&e==="linking_new_wallet"&&!YM(o)&&l()},[l,e,r,t,o==null?void 0:o.key,i,n]),Un("triggerConnectAndSign",l)},ort=["email-wallet-otp-verification-view","social-redirect-view","passkey-intro"],srt=()=>{const{selectedWalletConnector:e,linkedWallets:t,projectSettings:n,setShowAuthFlow:r,showAuthFlow:i,walletConnectorOptions:o,clearStatesOnBackClick:s,user:a,disconnectWallet:l,connectedWallets:c,handleLogOut:d}=$e(),{view:u,clearStackAndPushInitialView:h}=At(),{setDeniedAddress:m,setDeniedOauthProvider:v}=d_(),{setExistentAccountData:g}=u_(),{setSocialProvider:y}=af();av(i);const{userWallets:b}=_s(),k=()=>de(void 0,void 0,void 0,function*(){var q;if(!ort.includes(u.type)){if(!((q=u.events)===null||q===void 0)&&q.onClose){u.events.onClose();return}(u.type==="network-not-supported"||u.type==="network-not-supported-manual")&&b.length===1&&(yield d()),u.type==="farcaster-connect-view"&&(y(void 0),rt.emit("farcasterConnectCancelled")),r(!1,{emitCancelAuth:!0}),m(""),v(void 0),g(void 0),s()}}),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const q=["network-not-supported","network-not-supported-manual"];if(!hv()||!q.includes(u.type)||!e)return;const z=c.find(S=>S.connector.key===e.key);z&&(ng({network:yield z.connector.getNetwork(!0),walletConnector:z.connector})||l(z.id))}),[e,c,l,u]),R=x.useCallback(()=>{h()},[h]);irt();const{handleAlreadyConnectedWallet:I,handleCustodialWalletClick:T,handleInstalledExtensionClick:M,handleMobileWalletClick:D,handleUninstalledClick:A}=rp(),U=q=>de(void 0,void 0,void 0,function*(){r(!0),gde(t,q,a)?I(q):q.canConnectViaCustodialService?T(q):rr()?D(q):q.isInstalledOnBrowser()?M(q):A(q)});x.useEffect(()=>{const q=ot.getItem(RO);if(o!=null&&o.length&&q){const z=o.find(S=>S.key===q);z!=null&&z.walletConnector&&U(z.walletConnector),ot.removeItem(RO)}},[o]);const $=i&&!!n;return f.jsx(KMe,{children:f.jsx(uv,{zIndex:nv,isShown:$,handleClose:k,withBackdrop:!0,transitionEvents:{onExiting:_,onUnmount:R},children:f.jsx(xM,{children:f.jsx(LZe,{transitionProps:{isShown:$},onClose:k,projectSettings:n,children:f.jsx(trt,{})})})})})},art=()=>f.jsx(zO,{children:f.jsx(srt,{})}),yY="sdk-react-core-integration",lrt=e=>{mb({event:"mfaCompletionSuccess",listener:({mfaToken:t})=>{rt.emit("mfaCompletionSuccess",{mfaToken:t})}},e),mb({event:"mfaCompletionFailure",listener:({error:t})=>{rt.emit("mfaCompletionFailure",{error:t})}},e),mb({event:"logout",listener:()=>{rt.emit("logout")}},e)};let R4=null;const crt=({settings:e,client:t})=>{const n=o=>{xTe({extensionKey:yY},o)||(TNe(o),RNe({extensionKey:yY},o),lrt(o))};if(t){(!ONe()||Js()!==t)&&n(t);return}const r=[e.apiBaseUrl,e.environmentId].join("-");if(Ie.logVerboseTroubleshootingMessage("[useInitializeSdkClient] Checking if DynamicClient needs to be created...",{clientDependencyKey:r,lastClientDependencyKey:R4}),R4===r)return;R4=r,Ie.logVerboseTroubleshootingMessage("[useInitializeSdkClient] Creating DynamicClient...");const i=dNe({coreConfig:{apiBaseUrl:Od.getBaseUrl(),getApiHeaders:Uae},environmentId:e.environmentId,logLevel:e.logLevel==="DEBUG"?"debug":void 0});n(i)},vY=({as:e,href:t,id:n,type:r})=>{if(Td()||document.head.querySelector(`#${n}`))return;const o=document.createElement("link");o.setAttribute("id",n),o.setAttribute("rel","prefetch"),o.setAttribute("href",t),o.setAttribute("as",e),o.setAttribute("type",r),document.head.insertAdjacentElement("beforeend",o)};let Ufe,Ffe;const jj=1440*60*1e3,drt=()=>{Wfe(yae),Ufe=setTimeout(qfe,jj)},urt=()=>{Wfe(vae),Ffe=setTimeout(zfe,jj)},Wfe=e=>{const t=new Date().getTime();ot.setItem(e,t.toString())},qfe=()=>Vfe(yae,Ufe),zfe=()=>Vfe(vae,Ffe),Vfe=(e,t)=>{const n=ot.getItem(e);if(!n)return!0;const r=parseInt(n);return new Date().getTime()-r>jj?(clearTimeout(t),ot.removeItem(e),!0):!1},frt=({networkValidationMode:e,bridgeChains:t})=>e||(t?"always":"sign-in"),hrt=(e,t)=>t?"universal":e,prt=e=>{const t=new WeakMap,n=(r,i="")=>{for(const o in r){const s=i+(i===""?"":".")+o;if(typeof r[o]=="object"){if(t.has(r[o])){const a=t.get(r[o]);r[o]=`[Circular Reference => ${a}]`;continue}t.set(r[o],s),n(r[o],s)}}return r};return n(e)},Kfe=(e,t)=>de(void 0,void 0,void 0,function*(){try{const{dynamicContextProps:n,dynamicWagmiSettings:r,frameworkSettings:i}=t;n&&(yield wY(e,{dynamicContextProps:n,frameworkSettings:i},qfe,drt)),r&&(yield wY(e,{dynamicWagmiSettings:r},zfe,urt))}catch(n){Ie.warn("Error caught when sending sdkSettings to api. Please notify Dynamic, and send the DynamicContextProvider settings you currently have configured",{error:n})}}),wY=(e,t,n,r)=>de(void 0,void 0,void 0,function*(){n()&&(yield cn().logDynamicSdkSettings({environmentId:e,sdkSettingsRequest:prt(t)}),r())}),Hfe=(e,t)=>{if(!e||!t)return;const n=new Set(t.map(i=>i.walletChain));return e.filter(i=>!n.has(i.chain))},mrt=()=>x.useCallback(()=>de(void 0,void 0,void 0,function*(){return(yield GD())||void 0}),[]),grt=(e,t)=>{!e||!(t!=null&&t.length)||t.forEach(n=>{n.walletConnector.setVerifiedCredentials(e.verifiedCredentials)})},yrt=()=>{var e;return(e=u3("initStatus"))!==null&&e!==void 0?e:"uninitialized"},vrt=e=>de(void 0,[e],void 0,function*({environmentId:t,logout:n}){const r=ef();!r||t===r||(yield n("store and environment are out of sync",{currentEnvId:t,storedEnvId:r}),n7e(t))}),wrt=e=>de(void 0,[e],void 0,function*({logout:t}){const n=Wd();if(!n)return;const r=g_(),i=Dae();r||i.length>0||(yield t("wallet info is out of sync",{connectedWallets:i,primaryWalletId:n,user:r}))}),brt=({environmentId:e,handleLogOut:t})=>{const n=x.useRef(!1),r=vo(),i=yrt(),o=x.useCallback((a,l)=>de(void 0,void 0,void 0,function*(){return Ie.info(`Logging out due to invalid session - Reason: ${a}`,Object.assign({},l)),t()}),[t]),s=x.useCallback(a=>de(void 0,void 0,void 0,function*(){const l={environmentId:e,logout:o,projectSettings:a};yield Promise.all([vrt(l),wrt(l)]),TPe(!0)}),[o,e]);x.useEffect(()=>{n.current||!r||i!=="finished"||(n.current=!0,s(r))},[s,r,i])},Gfe=e=>{try{return e?e.map(t=>t.name):void 0}catch(t){Ie.error("error serializing walletConnectors",t);return}};class Jfe extends Se{constructor(t,n){super(`${t} is enabled but ${n} is not in your walletConnectors list. See https://docs.dynamic.xyz/react-sdk/wallet-connectors for more information.`)}}const _rt="magicemailotp",xrt="magicsocial",krt=(e,t)=>{var n;const r=Mc((n=e.providers)!==null&&n!==void 0?n:[],pn.MagicLink),i=t.some(({key:o})=>[_rt,xrt].includes(o));if(r&&!i)throw new Jfe("Magic","MagicWalletConnectors")},Srt="zerodev",Irt=(e,t)=>{var n;const r=Mc((n=e.providers)!==null&&n!==void 0?n:[],pn.Zerodev),i=t.some(({key:o})=>o===Srt);if(r&&!i)throw new Jfe("ZeroDev","ZeroDevSmartWalletConnectors")},Ert=(e,t)=>{krt(e,t),Irt(e,t)},Crt=e=>{var{projectSettings:t,networkConfigurations:n,walletBook:r,walletConnectorsProp:i,walletConnectorExtensions:o}=e,s=bs(e,["projectSettings","networkConfigurations","walletBook","walletConnectorsProp","walletConnectorExtensions"]);const a=Pfe(),l=x.useMemo(()=>{var u;return(u=Gfe(i))===null||u===void 0?void 0:u.join(",")},[i]),c=x.useMemo(()=>v0(r),[r]),d=x.useMemo(()=>!t||!c||!n?[]:A8e({getSupportedWalletOpts:Object.assign({networkConfigurations:n,redirectUrl:a,settings:t,skipMemo:!0,walletBook:r,walletConnectorsProp:i??[]},s),walletConnectorExtensions:o}),[t,a,l,c,n]);return x.useEffect(()=>{!t||d.length===0||(Ert(t,d.map(({walletConnector:u})=>u)),jle(d))},[d,t]),{walletConnectorOptions:d}},Art=e=>{const{metadata:t}=e.walletConnector,{name:n}=t,r=J1(n);return{brand:{icon:t.icon,primaryColor:t.brandColor},key:r,name:n}},Rrt=({walletConnectorOptions:e})=>{x.useEffect(()=>{if(!e.length)return;const t={};e.forEach(n=>{const r=Art(n);t[r.key]||(t[r.key]=r),n.chainGroup=r.key,n.group=r.key}),Ie.logVerboseTroubleshootingMessage("[DynamicContext] mergeWalletGroups",{groups:t}),rje(t)},[e])},Zfe=e=>e.connectedChain==="STARK"||e.connectedChain==="FLOW",Trt=e=>Object.assign(Object.assign({},e),{walletName:"phantom",walletProperties:{hardwareWallet:g0.Ledger}}),Ort=({user:e,walletConnectorOptions:t,primaryWalletId:n,separateSmartWalletAndSigner:r})=>!t||!e?[]:e.verifiedCredentials.map(Nrt).map(i=>{var o,s;const a=y1(i,t);return!a||(i.id===n&&Zfe(a.walletConnector)&&a.walletConnector.connect(),((o=i.walletProperties)===null||o===void 0?void 0:o.hardwareWallet)===g0.Ledger&&Bh(a.walletConnector)&&(a.walletConnector.isHardwareWalletEnabled=!0),!r&&DVe(i,e.verifiedCredentials))?null:i.address&&i.chain?(i.walletProvider===Ao.SmartContractWallet&&rj({account:i,primaryWalletId:n,verifiedCredentials:e.verifiedCredentials,walletConnectorOptions:t}),a.walletConnector.createWallet({additionalAddresses:i.walletAdditionalAddresses,address:i.address,chain:a.walletConnector.connectedChain,connector:a.walletConnector,id:i.id,isAuthenticated:!0,key:(s=i.walletName)!==null&&s!==void 0?s:a.walletConnector.key})):null}).filter(i=>i!==null),Nrt=e=>e.walletName==="phantomledger"?Trt(e):e,Prt=(e,t)=>{const n=[...e],r=new Set,i=new Set;for(const o of t){r.add(o.address),i.add(o.chain);const s=n.findIndex(a=>a.address===o.address&&a.chain===o.chain);if(s===-1){n.push(o);continue}n[s]=o}return n.filter(o=>r.has(o.address)&&i.has(o.chain))},Brt=({connectedWallets:e,walletConnectorOptions:t,setMultiWalletWidgetState:n,primaryWalletId:r,user:i,canHaveMultipleWalletsConnected:o,separateSmartWalletAndSigner:s=!1})=>{const[a,l]=x.useState(!1),c=x.useRef(r),d=x.useMemo(()=>i?Ort({primaryWalletId:r,separateSmartWalletAndSigner:s,user:i,walletConnectorOptions:t}):[],[i,r,t,s]);Ie.logVerboseTroubleshootingMessage("linkedWallets",d);const u=x.useMemo(()=>i?d:e??[],[e,d,i]);Ie.logVerboseTroubleshootingMessage("wallets",u),x.useEffect(()=>u.forEach(b=>{b.connector.initEventListener()}),[u]);const{setUserWallets:h}=_s();x.useEffect(()=>{Ie.logVerboseTroubleshootingMessage("[useWalletConnectors] will call setUserWallets",u),h(b=>Prt(b,u))},[h,u]);const m=x.useMemo(()=>{var b;return(b=u.find(k=>k.id===r))!==null&&b!==void 0?b:null},[r,u]);x.useEffect(()=>{m&&m.id!==c.current&&rt.emit("primaryWalletChanged",m),c.current=m==null?void 0:m.id},[m]);const v=x.useMemo(()=>o?u.filter(b=>b.id!==r):[],[r,u,o]),g=x.useCallback(b=>de(void 0,void 0,void 0,function*(){const k=u.find(({id:_})=>_===b);if(!k)throw new Se(`Wallet with id: ${b} not found`);return k}),[u]),y=x.useCallback(b=>de(void 0,void 0,void 0,function*(){const k=yield g(b);if(!r){To(b);return}if(r!==b){if(bm(k.connector)){const _=k.connector,R=localStorage.getItem("magic-link-email");R&&_.setEmail(R)}To(b),n("idle")}}),[g,r,n]);return{primaryWallet:m,secondaryWallets:v,setPrimaryWallet:y,setShowQrcodeModal:l,showQrcodeModal:a,wallets:u}};var bY,_Y,Drt=["title","titleId"];function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(null,arguments)}function Mrt(e,t){if(e==null)return{};var n,r,i=jrt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jrt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var $rt=function(t){var n=t.title,r=t.titleId,i=Mrt(t,Drt);return x.createElement("svg",HP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,bY||(bY=x.createElement("circle",{cx:32,cy:32,r:32,fill:"currentColor"})),_Y||(_Y=x.createElement("path",{d:"M34.048 17.611a5.5 5.5 0 1 1 7.779 7.779l-.611.61.193.193a4.5 4.5 0 0 1 0 6.364l-3.238 3.239a1.125 1.125 0 0 1-1.592-1.591l3.239-3.239a2.25 2.25 0 0 0 0-3.182l-.193-.193-12.704 12.705a1.123 1.123 0 0 1-.523.296l-9 2.25a1.125 1.125 0 0 1-1.34-1.447l2.812-8.438c.055-.166.148-.316.272-.44l14.906-14.906Zm6.188 1.591a3.25 3.25 0 0 0-4.597 0L20.921 33.92l-2.08 6.242 6.709-1.678 14.686-14.686a3.25 3.25 0 0 0 0-4.596ZM24.925 47.375c-2.779 0-4.967-1.275-6.424-2.49l2.89-.723c1.003.562 2.19.963 3.534.963.912 0 1.853-.369 2.856-1.028 1.005-.66 1.976-1.546 2.956-2.465l.255-.24c.865-.812 1.764-1.658 2.624-2.242.918-.624 2.135-1.191 3.413-.7.844.325 1.393.925 1.78 1.658.362.687.612 1.548.855 2.485.111.427.3.841.515 1.12.105.137.196.214.26.253.055.034.08.034.086.034.274 0 .745-.185 1.417-.643.417-.284.774-.568 1.13-.852.221-.177.443-.354.679-.53.628-.47 1.171-.785 1.57-.986a6.86 6.86 0 0 1 .625-.28l.045-.016.016-.006.006-.002h.003s.002-.002.359 1.065l-.357-1.067a1.125 1.125 0 0 1 .721 2.132l-.008.003a4.59 4.59 0 0 0-.394.178 8.472 8.472 0 0 0-1.238.78c-.132.098-.304.235-.5.391-.409.324-.921.73-1.39 1.05-.7.476-1.67 1.033-2.684 1.033-.98 0-1.69-.595-2.127-1.162-.447-.578-.746-1.29-.912-1.93-.247-.95-.442-1.573-.667-2-.201-.38-.383-.525-.598-.608-.184-.07-.552-.075-1.34.46-.704.48-1.472 1.2-2.38 2.053l-.225.211c-.97.91-2.071 1.922-3.26 2.703-1.19.783-2.566 1.398-4.091 1.398Z",fill:"#fff"})))};const Lrt=({children:e,leading:t,trailing:n,className:r})=>f.jsxs("div",{className:Ke("chip",r),children:[!!t&&f.jsx("div",{className:"chip--leading",children:t}),f.jsx(se,{variant:"body_small",children:e}),!!n&&f.jsx("div",{className:"chip--trailing",children:n})]}),Urt=()=>typeof window>"u"||!window.isGlobalWalletPopup||!window.globalWalletContext?{}:window.globalWalletContext,Yfe=({origin:e})=>{const{requesterOrigin:t}=Urt(),n=x.useMemo(()=>e||t||Ln.getDisplayOrigin(),[e,t]);return n?f.jsx(Lrt,{className:"app-origin-tile",children:f.jsx(se,{color:"secondary",variant:"body_normal",weight:"regular",as:"span",children:n})}):null},Frt=e=>{if(typeof e!="object"||e===null)return!1;const{types:t,message:n,primaryType:r}=e;return typeof t=="object"&&t!==null&&typeof n=="object"&&n!==null&&typeof r=="string"},Wrt=e=>typeof e!="object"||e===null?!1:typeof e.raw=="string",GP=({currentType:e,types:t,showTypeName:n=!1,data:r})=>{const i=t[e].map(o=>{var s;const a=o.type.replace("[]",""),l=o.type.endsWith("[]"),c=a in t;if(l&&c)return f.jsx(Tk,{title:Nd(o.name),children:(s=r==null?void 0:r[o.name])===null||s===void 0?void 0:s.map((h,m)=>f.jsx(Tk,{title:m.toString(),children:f.jsx(GP,{currentType:a,types:t,data:h})},m))},o.name);if(c)return f.jsx(Tk,{title:Nd(o.name),children:f.jsx(GP,{currentType:a,types:t,data:r==null?void 0:r[o.name]})},o.name);const d=r==null?void 0:r[o.name],u=o.type;return f.jsx(Krt,{name:Nd(o.name),data:d,displayValue:u==="address"?Ni(d):d},o.name)});return n?f.jsx(Tk,{title:e,children:i}):f.jsx("div",{className:"sign-typed-data-preview--fields-list",children:i})},Xfe=({children:e})=>f.jsx(se,{color:"secondary",weight:"medium",children:e}),qrt=Xfe,zrt=({children:e,title:t})=>f.jsx(se,{as:"span",weight:"regular",color:"primary",title:t,children:e}),Vrt=({children:e})=>f.jsx("div",{className:"sign-typed-data-preview--type-container",children:e}),Tk=({title:e,children:t})=>f.jsxs("div",{children:[f.jsx(Xfe,{children:e}),f.jsx(Vrt,{children:t})]}),Krt=({name:e,displayValue:t,data:n})=>f.jsxs("div",{className:"sign-typed-data-preview--attribute-row",children:[f.jsxs(qrt,{children:[Nd(e),": "]}),f.jsx(zrt,{title:n,children:t})]}),Hrt=e=>/[^ -~\s]/.test(e),Grt=e=>{try{return JSON.parse(e)}catch(t){if(e.includes("raw")){const n=e.replace(/\n/g,"\\n");return JSON.parse(n)}throw t}},Jrt=({message:e})=>{const t=x.useMemo(()=>{try{return Grt(e)}catch{return}},[e]),n=x.useMemo(()=>{const r=Wrt(t)?t.raw:e;let i=tW(r)?eW(r):r;return tW(i)&&(i=eW(i)),Hrt(i)?r:i},[t,e]);return Frt(t)?f.jsx(GP,{currentType:t.primaryType,types:t.types,showTypeName:!0,data:t.message}):f.jsx(se,{color:"primary",variant:"body_normal",children:f.jsx("span",{style:{whiteSpace:"pre-line"},children:n})})},Zrt=({message:e,handler:t,onReject:n,onSignMessage:r,hideModal:i})=>{av(!0);const o=x.useRef(!1),[s,a]=x.useState(!0),{initPasskeyRecoveryProcess:l,shouldInitRecovery:c}=Qh(),{isTurnkeyWallet:d}=da(),{setShowAuthFlow:u,primaryWallet:h,user:m}=$e(),{pushView:v}=At(),{userNeedsCrossDomainPasskey:g}=cv(),{t:y}=Xe(),{getEOAWallet:b}=xs(),k=h&&b(h),_=x.useMemo(()=>{var z;if(!(!m||!h))return(z=m.verifiedCredentials)===null||z===void 0?void 0:z.find(S=>S.address===h.address)},[m,h]),R=x.useCallback(()=>{o.current=!1,a(!1)},[a]),{isLoading:I,mutate:T,data:M,error:D}=Xo(()=>t(e),{onSuccess:()=>{o.current=!0,a(!1)}}),A=x.useMemo(()=>{if(D){if(D instanceof Se)return D.message;try{return op(D,m)}catch(z){z instanceof lS&&v("access-blocked");return}}},[D,v,m]),U=x.useCallback(()=>{if(M)return r(M);n(D||new ioe)},[M,r,n,D]),$=z=>de(void 0,void 0,void 0,function*(){const S=h&&Dh(h)||k&&Dh(k);if((yield c())&&!S&&(yield l("email",{type:"signMessage"})),z===!0){r("callHandlerOutsideModal");return}if(S){T();return}if(d&&g){v("passkey-new-domain-detected"),u(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),rt.once("passkeyRecoveryCompleted",()=>{T()});return}T()});ep(()=>{i&&$(!0)});const q=f.jsx(Sn,{type:"button",onClick:R,"data-testid":"close",disabled:I,children:f.jsx(Oi,{})});return i?null:f.jsx(uv,{handleClose:R,isShown:s,zIndex:nv,withBackdrop:!0,elementId:"dynamic-sign-message",transitionEvents:{onUnmount:U},children:f.jsx(dv,{children:f.jsxs(Cm,{children:[f.jsx(Zn,{trailing:q,alignContent:"bottom",children:f.jsx(si,{Icon:z=>f.jsx(Nt,{color:"brand-primary",children:f.jsx($rt,Object.assign({},z))}),iconSize:64,isSpinning:!0})}),f.jsx(bj,{}),f.jsxs("div",{className:"sign-message-confirmation__body",children:[f.jsx(se,{variant:"title",color:"primary",className:"sign-message-confirmation__title",copykey:"dyn_sign_message.title",children:y("dyn_sign_message.title")}),f.jsx(Yfe,{}),f.jsx(se,{variant:"body_normal",color:"secondary",className:"sign-message-confirmation__warning",copykey:"dyn_sign_message.warning",children:y("dyn_sign_message.warning")}),f.jsx(Hu,{animationComponent:f.jsx(ig,{}),children:D&&f.jsx("div",{className:"sign-message-confirmation__error",children:f.jsx(Lr,{children:A})})}),f.jsxs("div",{className:"sign-message-confirmation__message-container-wrapper",children:[f.jsx(se,{variant:"body_normal",color:"primary",weight:"bold",className:"sign-message-confirmation__message-container-label",copykey:"dyn_sign_message.message_label",children:y("dyn_sign_message.message_label")}),f.jsx("div",{className:"sign-message-confirmation__message-container",children:f.jsx("div",{className:"sign-message-confirmation__message",children:f.jsx(Jrt,{message:e.toString().replace(/^"(.*)"$/,"$1").replace(/\\n/g,`
`)})})})]}),f.jsxs("div",{className:"sign-message-confirmation__actions",children:[f.jsx(xt,{buttonVariant:"secondary",onClick:R,expanded:!0,buttonPadding:"large",disabled:I,copykey:"dyn_sign_message.cancel_button",children:y("dyn_sign_message.cancel_button")}),f.jsx(xt,{buttonVariant:"primary",buttonPadding:"large",onClick:$,expanded:!0,loading:I,copykey:"dyn_sign_message.sign_button",dataTestId:"sign-button",children:y("dyn_sign_message.sign_button")})]}),f.jsx(tp,{walletCredential:_}),f.jsx(Gc,{})]})]})})})},$j=({modalId:e,closeModal:t,show:n,zIndex:r,handleOnModalUnmount:i,children:o})=>f.jsx(uv,{elementId:e,handleClose:t,isShown:n,zIndex:r??nv+1,withBackdrop:!0,transitionEvents:{onUnmount:i},children:f.jsx(dv,{children:f.jsx(Cm,{children:o})})}),Lj=({onResolve:e,onReject:t,defaultErrorMessage:n})=>{av(!0);const[r,i]=x.useState(!0),o=x.useRef(null),s=x.useRef(null),a=x.useCallback(()=>{i(!1)},[i]),l=x.useCallback(()=>{if(s.current)return e(s.current);const u=o.current||new Se(n);return t(u)},[e,t,n]);return{closeModal:a,handleOnModalUnmount:l,onError:(u,h=!1)=>{s.current=null,o.current=u,h&&a()},onSuccess:(u,h=!0)=>{o.current=null,s.current=u,h&&a()},show:r}},Yrt=({children:e,onClose:t,disablePadding:n,portalClassName:r,portalContainerClassName:i})=>f.jsx("div",{className:Ke(r,"widget-portal"),onClick:t,"data-testid":"backdrop",children:f.jsxs("div",{className:Ke(i,"widget-portal__container",{"widget-portal__container--no-padding":n}),onClick:o=>o.stopPropagation(),children:[t&&f.jsx("div",{className:"widget-portal__container__header",children:f.jsx(Sn,{className:"widget-portal__container__close-button",onClick:o=>t(o),type:"button","data-testid":"close-button",children:f.jsx(Oi,{})})}),e]})}),Xrt=({children:e,className:t="",dataTestId:n="",icon:r,showSpinnerInIcon:i=!0,title:o})=>f.jsxs("div",{className:Ke("default-prompt-modal",t),"data-testid":n,children:[r&&f.jsx(si,{Icon:r,iconSize:96,isSpinning:i,className:"default-prompt-modal__icon-with-spinner"}),f.jsxs("div",{className:"default-prompt-modal__content",children:[o&&f.jsx(se,{variant:"title",color:"primary","data-testid":"title",children:o}),e]})]}),Uj=e=>f.jsx(Yrt,{onClose:e.onClose,portalClassName:"prompt-modal-portal",portalContainerClassName:"prompt-modal-portal__container",children:f.jsx(Xrt,Object.assign({},e))});var xY,Qrt=["title","titleId"];function JP(){return JP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JP.apply(null,arguments)}function eit(e,t){if(e==null)return{};var n,r,i=tit(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var nit=function(t){var n=t.title,r=t.titleId,i=eit(t,Qrt);return x.createElement("svg",JP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,xY||(xY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm10.293-3.707a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L13.586 13H8a1 1 0 1 1 0-2h5.586l-1.293-1.293a1 1 0 0 1 0-1.414Z",fill:"#ABACB2"})))};const rit=({onCancel:e,connector:t,expectedAddress:n,activeAddress:r})=>{const{t:i}=Xe();return f.jsx(Uj,{dataTestId:"switch-wallet",className:"switch-wallet",icon:f.jsx(oi,{icon:t.metadata.icon,walletKey:t.key}),title:i("dyn_sync_wallet.switch_wallet.title"),onClose:e,children:f.jsxs("div",{className:"switch-wallet__body",children:[r&&f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_mini",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.active_address.heading",children:i("dyn_sync_wallet.switch_wallet.active_address.heading")}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",children:Ni(r)}),f.jsx(of,{className:"switch-wallet__body__divider",children:f.jsx(nit,{})})]}),f.jsx(se,{variant:"body_mini",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.expected_address.heading",children:i("dyn_sync_wallet.switch_wallet.expected_address.heading")}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.expected_address.prompt",className:"switch-wallet__body__expected-address__prompt",children:i("dyn_sync_wallet.switch_wallet.expected_address.prompt")}),f.jsx(se,{color:"green-1",weight:"bold",className:"switch-wallet__body__expected-address__address",children:Ni(n)})]})})},iit=({onCancel:e,onSuccess:t,connector:n,expectedAddress:r})=>{var i;const{t:o}=Xe(),{theme:{theme:s}}=f_(),{name:a}=s,[l,c]=x.useState(),[d,u]=x.useState(),h=x.useRef(!1),{retrigger:m}=vr(()=>de(void 0,void 0,void 0,function*(){if(h.current)return;h.current=!0;const g=yield n.getAddress({onDesktopUri:y=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",y),u(y)}),onDisplayUri:y=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",y),c(y)})});if(g&&$a(g,r,n.connectedChain)){t();return}yield n.endSession(),e()}),{deps:[n],retries:3}),v=()=>{h.current=!1,m()};return f.jsx(Uj,{dataTestId:"reconnect-qr-code",title:o("dyn_sync_wallet.reconnect_with_qr_code.title"),onClose:e,children:rr()?f.jsx(Cfe,{onRetry:v,connector:n}):f.jsx(Pj,{uri:l||"",desktopUri:d,accentColor:a==="dark"?s.colors.textPrimary:(i=n.metadata.brandColor)!==null&&i!==void 0?i:"",icon:f.jsx(oi,{icon:n.metadata.icon,walletKey:n.key}),showCopyToClipboardButton:!0,walletConnector:n})})},oit=(e,t,n,r)=>de(void 0,void 0,void 0,function*(){if(!X1(t))return;const i=e==null?void 0:e.verifiedCredentials.find(o=>o.format===Zo.Oauth&&o.address&&$a(o.address,n,r));!i||!i.oauthProvider||(yield t.connect(i.oauthProvider))}),sit=({onCancel:e,onSuccess:t,connector:n,expectedAddress:r})=>{const{t:i}=Xe(),{user:o}=$e();return vr(()=>de(void 0,void 0,void 0,function*(){X1(n)&&(yield oit(o,n,r,n.connectedChain),t())}),{deps:[n]}),f.jsx(Uj,{dataTestId:"auto-reconnecting",icon:f.jsx(oi,{icon:n.metadata.icon,walletKey:n.key}),title:i("dyn_sync_wallet.reconnecting.title"),onClose:e,children:f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.reconnecting.description",children:i("dyn_sync_wallet.reconnecting.description",{walletAddress:Ni(r)})})})},ait=({onSuccess:e,onError:t,expectedAddress:n,activeAddress:r,connector:i})=>{const o=i.canConnectViaQrCode&&!i.isInstalledOnBrowser()&&!i.canConnectViaCustodialService;Ie.logVerboseTroubleshootingMessage("[SyncWallet]",{canConnectViaCustodialService:i.canConnectViaCustodialService,canConnectViaQrCode:i.canConnectViaQrCode,isEmbeddedWallet:i.isEmbeddedWallet,isInstalledOnBrowser:i.isInstalledOnBrowser()}),Tu(i,"accountChange",({accounts:l})=>{Ie.logVerboseTroubleshootingMessage("[SyncWallet] accountChange",{accounts:l,expectedAddress:n});const[c]=l;$a(c,n,i.connectedChain)&&e(!0)}),Un("logout",()=>t(new Error("user logged out"),!0));const s=()=>de(void 0,void 0,void 0,function*(){const l=yield i.getAddress();l&&$a(l,n,i.connectedChain)&&e(!0)}),a=()=>{Ie.logVerboseTroubleshootingMessage("[SyncWallet] handleCancel called"),t(new Se("User cancelled","0"),!0)};return i.isEmbeddedWallet?f.jsx("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:f.jsx(sit,{connector:i,expectedAddress:n,onCancel:a,onSuccess:()=>e(!0)})}):o?f.jsx("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:f.jsx(iit,{connector:i,expectedAddress:n,onCancel:a,onSuccess:()=>e(!0)})}):f.jsx("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:f.jsx(rit,{connector:i,expectedAddress:n,activeAddress:r,onCancel:a,onTryToReconnect:s})})},lit=({expectedAddress:e,connector:t,onResolve:n,onReject:r,activeAddress:i})=>{const{onSuccess:o,onError:s,show:a,handleOnModalUnmount:l}=Lj({defaultErrorMessage:"User canceled",onReject:r,onResolve:n});return f.jsx($j,{modalId:"sync-wallet-modal",show:a,closeModal:()=>{},handleOnModalUnmount:l,children:f.jsx(ait,{onSuccess:o,onError:s,expectedAddress:e,connector:t,activeAddress:i})})},kY=({title:e,onReject:t,onTransactionResponseSuccess:n,transaction:r,copykey:i,walletConnector:o,hideModal:s,isNativeToken:a,currentToken:l})=>{av(!0);const[c,d]=x.useState(!0),u=x.useRef(null),h=x.useRef(null),m=x.useCallback(()=>{d(!1)},[d]),v=x.useCallback(()=>h.current?n(h.current):t(u.current||new ooe),[n,t]);return f.jsx(uv,{handleClose:m,isShown:c,zIndex:nv,withBackdrop:!0,elementId:"dynamic-send-transaction",transitionEvents:{onUnmount:v},children:f.jsx(dv,{children:f.jsx(Cm,{children:f.jsx(Gde,{transaction:r,title:e,copykey:i,hideModal:s,mutation:()=>r.submit(),onClickClose:m,onError:g=>u.current=g,displayPoweredByDynamicFooter:!0,walletConnector:o,onSuccess:g=>{u.current=null,h.current=g,m()},isNativeToken:a,currentToken:l,isModal:!0})})})})},cit=({walletConnector:e,network:t,addNetworkMutation:n,onCancel:r,onNetworkAdded:i})=>{const{t:o}=Xe(),{iconUrls:s,name:a}=t,[l]=s,{mutate:c}=Xo(n,{onSuccess:i}),d=u=>f.jsx("img",Object.assign({},u,{src:l,className:"add-network-view__network-icon",alt:`${a} icon`}));return f.jsxs("div",{"data-testid":"add-network-view",className:"add-network-view",children:[f.jsx(Zn,{alignContent:"bottom"}),f.jsxs("div",{className:"add-network-view__body",children:[f.jsx(fv,{Icon:d,iconSize:64,InnerIcon:Zh,variant:"red"}),f.jsxs("div",{className:"add-network-view__text-container",children:[f.jsx(se,{weight:"bold",variant:"body_normal",color:"primary",copykey:"dyn_add_network_view.title",className:"add-network-view__title",children:o("dyn_add_network_view.title")}),f.jsx(se,{weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_add_network_view.description",className:"add-network-view__description",children:o("dyn_add_network_view.description",{name:e.metadata.name})})]}),f.jsxs("div",{className:"add-network-view__actions",children:[f.jsx(Im,{expanded:!0,buttonVariant:"primary",onClick:()=>r(),dataTestId:"add-network-view__cancel-button",children:f.jsx(se,{copykey:"dyn_add_network_view.cancel_button.title",children:o("dyn_add_network_view.cancel_button.title")})}),f.jsx(Im,{expanded:!0,buttonVariant:"brand-primary",onClick:()=>c(),children:f.jsx(se,{copykey:"dyn_add_network_view.add_button.title",children:o("dyn_add_network_view.add_button.title")})})]})]})]})},dit=({walletConnector:e,network:t,onCancel:n,onNetworkAdded:r,addNetworkMutation:i})=>{const{onSuccess:o,show:s,handleOnModalUnmount:a,closeModal:l}=Lj({defaultErrorMessage:"User canceled",onReject:n,onResolve:r});return f.jsx($j,{modalId:"prompt-to-add-network",show:s,closeModal:()=>{},handleOnModalUnmount:a,children:f.jsx(cit,{walletConnector:e,addNetworkMutation:i,network:t,onCancel:l,onNetworkAdded:o})})},uit=e=>{var t;return(t=e.origin)!==null&&t!==void 0?t:Ni(e.sessionId)},fit=e=>{const{value:t,unit:n}=Sze(new Date,new Date(Number(e.session.expiresAt)*1e3));return`${t} ${n}`},hit=e=>{var t,n;const r=e.session.transferPolicies;if(!r)return"0 ETH";let i=BigInt(0);for(const a of r)i+=(n=(t=a.valueLimit)===null||t===void 0?void 0:t.limit)!==null&&n!==void 0?n:BigInt(0);return`~${new Intl.NumberFormat(void 0,{maximumFractionDigits:6}).format(Number(i)/Math.pow(10,18))} ETH`},pit=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n,2),mit=({className:e,children:t,isOpen:n,onClick:r,labelClassName:i})=>{const{t:o}=Xe();return f.jsxs(Im,{onClick:r,className:Ke("dyn-accordion-toggle",e),children:[f.jsx("div",{className:Ke("dyn-accordion-toggle__label",i),children:t}),f.jsx(j3,{"data-testid":"dyn-accordion-toggle-icon",className:Ke("dyn-accordion-toggle__icon",{"dyn-accordion-toggle__icon-open":n}),"aria-label":o(n?"dyn_common.aria.expanded":"dyn_common.aria.collapsed"),role:"presentation"})]})};var SY,git=["title","titleId"];function ZP(){return ZP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZP.apply(null,arguments)}function yit(e,t){if(e==null)return{};var n,r,i=vit(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wit=function(t){var n=t.title,r=t.titleId,i=yit(t,git);return x.createElement("svg",ZP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,SY||(SY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm10-5a1 1 0 0 1 1 1v3.586l2.707 2.707a1 1 0 0 1-1.414 1.414l-3-3A1 1 0 0 1 11 12V8a1 1 0 0 1 1-1Z",fill:"currentColor"})))},IY,bit=["title","titleId"];function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YP.apply(null,arguments)}function _it(e,t){if(e==null)return{};var n,r,i=xit(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var kit=function(t){var n=t.title,r=t.titleId,i=_it(t,bit);return x.createElement("svg",YP({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,IY||(IY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 4a8 8 0 0 0-6.598 12.526A14.943 14.943 0 0 1 12.5 15c2.366 0 4.606.548 6.598 1.526A8 8 0 0 0 12.5 4Zm7.654 14.436A9.96 9.96 0 0 0 22.5 12c0-5.523-4.477-10-10-10s-10 4.477-10 10a9.96 9.96 0 0 0 2.37 6.464A9.978 9.978 0 0 0 12.5 22a9.978 9.978 0 0 0 7.654-3.564ZM17.7 18.08A12.954 12.954 0 0 0 12.5 17c-1.85 0-3.607.386-5.199 1.08A7.968 7.968 0 0 0 12.5 20c1.985 0 3.8-.723 5.199-1.92ZM12.5 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"currentColor"})))};const Sit=({session:e,showAdvanced:t=!1})=>{const{t:n}=Xe(),[r,i]=x.useState(!1),o=x.useCallback(()=>{i(!r)},[r]),s=x.useMemo(()=>fit(e),[e]),a=x.useMemo(()=>hit(e),[e]),l=x.useMemo(()=>pit(e),[e]);return f.jsxs("div",{className:"session-permissions-view",children:[f.jsx("div",{className:"session-permissions-view__header",children:f.jsx(se,{variant:"body_small",weight:"bold",copykey:"dyn_session_permissions.permissions_label",children:n("dyn_session_permissions.permissions_label")})}),f.jsxs("div",{className:"session-permissions-view__card",children:[f.jsxs("div",{className:"session-permissions-view__card-permission",children:[f.jsx(Nt,{size:"small",color:"text-tertiary",children:f.jsx(kit,{})}),f.jsx(se,{variant:"body_small",copykey:"dyn_session_permissions.permissions.ownership",children:n("dyn_session_permissions.permissions.ownership")})]}),f.jsxs("div",{className:"session-permissions-view__card-permission",children:[f.jsx(Nt,{size:"small",color:"text-tertiary",children:f.jsx(wit,{})}),f.jsx(se,{variant:"body_small",copykey:"dyn_session_permissions.permissions.access",children:n("dyn_session_permissions.permissions.access",{time:s})})]})]}),f.jsx("div",{className:"session-permissions-view__header",children:f.jsx(se,{variant:"body_small",weight:"bold",copykey:"dyn_session_permissions.spending_label",children:n("dyn_session_permissions.spending_label")})}),f.jsxs("div",{className:"session-permissions-view__card session-permissions-view__token-card",children:[f.jsxs("div",{className:"session-permissions-view__token",children:[f.jsx(Nt,{size:"medium",children:f.jsx(Xoe,{})}),f.jsx(se,{variant:"body_normal",children:"ETH"})]}),f.jsxs("div",{className:"session-permissions-view__spending",children:[f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_session_permissions.spending_limit",children:n("dyn_session_permissions.spending_limit")}),f.jsx(se,{variant:"body_small",children:a})]})]}),t&&f.jsxs("div",{className:"session-permissions-view__panel",children:[f.jsxs(mit,{className:"session-permissions-view__panel-toggle",isOpen:r,onClick:o,labelClassName:"session-permissions-view__panel-toggle-label",children:[f.jsx(se,{variant:"body_small",weight:"bold",copykey:"dyn_session_permissions.advanced_label",children:n("dyn_session_permissions.advanced_label")}),f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_session_permissions.advanced_description",children:n("dyn_session_permissions.advanced_description")})]}),r&&f.jsx("div",{className:"session-permissions-view__panel-content",children:f.jsx($fe,{value:l,readOnly:!0,rows:8,id:"session-permissions-view__raw-json","data-testid":"session-permissions-view__raw-json",label:""})})]})]})},Iit=({onApprove:e,onReject:t,session:n})=>{const{t:r}=Xe(),i=x.useMemo(()=>uit(n),[n]),o=x.useCallback(()=>f.jsx(Sn,{onClick:t,"aria-label":r("dyn_session_key_approval.aria.close_button_label"),children:f.jsx(Oi,{})}),[t,r]);return f.jsxs("div",{className:"session-key-approval-view",children:[f.jsx(Zn,{trailing:o(),children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_session_key_approval.title",children:r("dyn_session_key_approval.title")})}),f.jsxs("div",{className:"session-key-approval-view__body",children:[f.jsx(Yfe,{origin:i}),f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_session_key_approval.description",align:"center",children:r("dyn_session_key_approval.description")}),f.jsx(Sit,{showAdvanced:!0,session:n})]}),f.jsxs("div",{className:"session-key-approval-view__footer",children:[f.jsx(xt,{onClick:e,buttonVariant:"brand-primary",expanded:!0,copykey:"dyn_session_key_approval.approve_button",typographyProps:{color:"white"},children:r("dyn_session_key_approval.approve_button")}),f.jsx(xt,{onClick:t,expanded:!0,copykey:"dyn_session_key_approval.reject_button",children:r("dyn_session_key_approval.reject_button")})]})]})},Eit=({session:e,onCancel:t,onApproved:n})=>{const{onSuccess:r,show:i,handleOnModalUnmount:o,closeModal:s}=Lj({defaultErrorMessage:"User canceled",onReject:t,onResolve:n});return f.jsx($j,{modalId:"zksync-approval-modal",show:i,closeModal:()=>{},handleOnModalUnmount:o,children:f.jsx(Iit,{session:e,onApprove:r,onReject:s})})},Cit=({hideEmbeddedWalletTransactionUIs:e=!1})=>{const t=x.useRef("enabled"),{t:n}=Xe(),{modal:r,open:i}=Up({elementId:"dynamic-send-transaction"}),{modal:o,open:s}=Up({elementId:"dynamic-sign-message"}),{modal:a,open:l}=Up({elementId:"dynamic-sync-wallet"}),{modal:c,open:d}=Up({elementId:"dynamic-prompt-to-add-network"}),{modal:u,open:h}=Up({elementId:"dynamic-zksync-approval"}),m=x.useCallback(({walletConnector:T})=>(T==null?void 0:T.overrideKey)==="dynamicwaas"&&e?!1:t.current==="disabled"?(t.current="enabled",!1):!0,[e,t]),v=x.useCallback(T=>de(void 0,[T],void 0,function*({walletConnector:M,message:D,handler:A}){return m({walletConnector:M})?s((U,$)=>f.jsx(Zrt,{message:D,handler:A,onSignMessage:U,onReject:$,hideModal:e&&!(M!=null&&M.isGlobalTransaction)})).then(U=>de(void 0,void 0,void 0,function*(){return U==="callHandlerOutsideModal"?A():U})):A()}),[e,s,m]),g=x.useCallback((T,M)=>de(void 0,void 0,void 0,function*(){return m({walletConnector:T})?i((D,A)=>f.jsx(kY,{copykey:"dyn_send_transaction.confirmation.title",title:n("dyn_send_transaction.confirmation.title"),transaction:M,onTransactionResponseSuccess:D,onReject:A,walletConnector:T,hideModal:e&&!(T!=null&&T.isGlobalTransaction)})).then(D=>de(void 0,void 0,void 0,function*(){return D==="callHandlerOutsideModal"?M.submit():D})):M.submit()}),[e,i,m,n]),y=x.useCallback((T,M)=>de(void 0,void 0,void 0,function*(){return m({walletConnector:T})?i((D,A)=>f.jsx(kY,{copykey:"dyn_send_transaction.confirmation.title",title:n("dyn_send_transaction.confirmation.title"),transaction:M,onTransactionResponseSuccess:D,onReject:A,walletConnector:T,hideModal:e&&!(T!=null&&T.isGlobalTransaction)})).then(D=>de(void 0,void 0,void 0,function*(){return D==="callHandlerOutsideModal"?M.submit():D})):M.submit()}),[e,i,m,n]),b=x.useCallback(T=>de(void 0,[T],void 0,function*({walletConnector:M,activeAddress:D,expectedAddress:A}){yield l((U,$)=>f.jsx(lit,{onResolve:U,onReject:$,connector:M,expectedAddress:A,activeAddress:D}))}),[l]),k=x.useCallback(T=>de(void 0,[T],void 0,function*({handler:M,network:D,walletConnector:A}){yield d(U=>f.jsx(dit,{network:D,walletConnector:A,onCancel:U,onNetworkAdded:U,addNetworkMutation:M}))}),[d]),_=x.useCallback(T=>de(void 0,[T],void 0,function*({session:M}){return yield h((D,A)=>f.jsx(Eit,{session:M,onCancel:A,onApproved:()=>D(!0)}))}),[h]),R=x.useCallback(()=>{t.current="disabled"},[]),I=x.useMemo(()=>({addNetwork:k,disabledConfirmationOnce:R,sendTransaction:g,signMessage:v,signTransaction:y,syncWallet:b,zkSyncCreateSession:_}),[v,y,R,g,b,k,_]);return x.useMemo(()=>[o||r||a||c||u,I],[o,r,a,c,u,I])},Ait=(e,t,n)=>{const r=Tae(),{registerEmbeddedWalletSessionKey:i,removeSessionKey:o}=Gm({environmentId:t,projectSettings:n}),{getSignedSessionId:s}=yj(),a=uue(),l=n&&iM();e!=null&&e.length&&e.forEach(c=>{var d,u,h,m,v;Pa(c.walletConnector)?((d=c.walletConnector)===null||d===void 0||d.setSessionKeyFetcher(i),(u=c.walletConnector)===null||u===void 0||u.setSessionKeyRemoveFunction(()=>o())):yS(c.walletConnector)&&fue({apiBaseUrl:r??gj,authMode:l?"cookie":"header",environmentId:t,getMfaToken:a,getSignedSessionId:s,relayUrl:(v=(m=(h=n==null?void 0:n.sdk)===null||h===void 0?void 0:h.waas)===null||m===void 0?void 0:m.relayUrl)!==null&&v!==void 0?v:"",walletConnector:c.walletConnector})})},Rit=({settings:e,environmentId:t})=>{ep(()=>{const n={settings:Object.assign(Object.assign({},e),{customPrivacyPolicy:!!e.customPrivacyPolicy,customTermsOfServices:!!e.customTermsOfServices,policiesConsentInnerComponent:!!e.policiesConsentInnerComponent})},r=Tit(e.events),i=Gfe(e.walletConnectors),o=Object.assign(Object.assign({},n),{settings:Object.assign(Object.assign({},n.settings),{events:r,walletConnectors:i})});Kfe(t,{dynamicContextProps:o,frameworkSettings:Oit()})})},Tit=e=>{try{if(!e)return;const t=Object.values(e);return Object.keys(e).filter((r,i)=>t[i]===void 0?!1:r)}catch(t){Ie.error("error serializing events",t);return}},Oit=()=>{var e;return{nextJs:{version:(e=window.next)===null||e===void 0?void 0:e.version},react:{version:x.version}}};let EY=!1;const Nit=({suppress:e=!1,projectSettings:t})=>{x.useEffect(()=>{var n;!e&&!EY&&(t==null?void 0:t.environmentName)===dS.Live&&(EY=!0,Ie.info("%cWarning!","color: red; font-size: 32px;"),Ie.info(`%cThis is a browser feature intended for developers. You are reading this message because you opened the browser console, a developer tool.

%c1. Never share your tokens or sensitive information with anyone.
2. Do not paste any code you do not fully understand.
3. If someone instructed you to do this, it is likely a scam.

%cInjecting code into your browser could result in loss of tokens or control of your account that cannot be recovered or protected.`,"font-size: 16px;","font-size: 12px;","color: red; font-size: 12px;"),!((n=t==null?void 0:t.general)===null||n===void 0)&&n.supportUrls&&Object.values(t.general.supportUrls).length>0&&Ie.info(`%cFor more information, visit ${Object.values(t.general.supportUrls)[0]}`,"font-size: 12px;"))},[t==null?void 0:t.environmentName,e])},Pit="modulepreload",Bit=function(e){return"/"+e},CY={},wb=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(c=>{if(c=Bit(c),c in CY)return;CY[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Pit,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Dit=()=>{const[e,t]=iv(gae,void 0),n=e!==""&&e!==void 0;vr(()=>de(void 0,void 0,void 0,function*(){if(!(typeof window>"u"||typeof document>"u"))return wb(()=>import("./thumbmark.esm-Ca_gir3-.js"),[]).then(i=>i.getFingerprint()).catch(()=>{})}),{deps:[n],enabled:!n,initialData:void 0,onResolve:t,retries:2});const r=x.useCallback(()=>e,[e]);return{consumeDeviceFingerprint:()=>r()}},Mit=()=>{const{userWallets:e}=_s(),t=n=>n.find(r=>r.id===Wd());Un("walletAdded",(n,r)=>{rt.emit("userWalletsChanged",{addedWallet:n,primaryWallet:t(r),updateType:"walletAdded",userWallets:r})}),Un("walletRemoved",(n,r)=>{rt.emit("userWalletsChanged",{primaryWallet:t(r),removedWallet:n,updateType:"walletRemoved",userWallets:r})}),Un("primaryWalletChanged",n=>{rt.emit("userWalletsChanged",{primaryWallet:n,updateType:"primaryWalletChanged",userWallets:e})}),Un("primaryWalletNetworkChanged",n=>{rt.emit("userWalletsChanged",{newNetwork:n,primaryWallet:t(e),updateType:"primaryWalletNetworkChanged",userWallets:e})}),Un("nonPrimaryWalletNetworkChanged",(n,r)=>{const i=e.filter(o=>o.connector.key===r.key);rt.emit("userWalletsChanged",{affectedWallets:i,newNetwork:n,primaryWallet:t(e),updateType:"nonPrimaryWalletNetworkChanged",userWallets:e})})},jit=(e,{shouldRegisterSessionKeysOnSignin:t,generateSessionKey:n})=>(r,i)=>de(void 0,void 0,void 0,function*(){const o=yield oXe({captchaToken:i,email:r,environmentId:e});let{verificationUUID:s}=o;return{retry:()=>de(void 0,void 0,void 0,function*(){s=(yield tfe({email:r,environmentId:e,verificationUUID:s})).verificationUUID}),type:"email",verify:(a,l)=>de(void 0,void 0,void 0,function*(){let c;t()&&(c=(yield n()).publicKey),yield Fc();const d=yield efe({captchaToken:i,environmentId:e,sessionPublicKey:c,verificationToken:a,verificationUUID:s});return l!=null&&l.skipSetUserAndAuthToken||Ii(d),{destination:r,response:d,verified:!0}})}}),$it=(e,{shouldRegisterSessionKeysOnSignin:t,generateSessionKey:n})=>(r,i)=>de(void 0,void 0,void 0,function*(){const{verificationUUID:o}=yield nfe({captchaToken:i,environmentId:e,isoCountryCode:r.iso2,phoneCountryCode:r.dialCode,phoneNumber:r.phone});return{type:"sms",verify:(s,a)=>de(void 0,void 0,void 0,function*(){let l;t()&&(l=(yield n()).publicKey),yield Fc();const c=yield rfe({captchaToken:i,environmentId:e,sessionPublicKey:l,verificationToken:s,verificationUUID:o});return a!=null&&a.skipSetUserAndAuthToken||Ii(c),{destination:r,response:c,verified:!0}})}}),{Provider:Lit}=tde,Uit=({children:e})=>{const{environmentId:t,projectSettings:n,setCallback:r,setShowAuthFlow:i}=$e(),{engageCaptcha:o}=Gd(),s=Gm({environmentId:t,projectSettings:n}),a=x.useRef(null),l=(n==null?void 0:n.providers)||[],c={[pn.Dynamic]:{enabled:Mc(l,pn.Dynamic),handler:jit(t,s)}},d=g=>new Promise(y=>{var b;if(!(!((b=n==null?void 0:n.security.hCaptcha)===null||b===void 0)&&b.enabled)){y(void 0);return}i(!0,{initializeWalletConnect:!1,performMultiWalletChecks:!1}),o({authMethod:g,onCaptchaSuccess:k=>de(void 0,void 0,void 0,function*(){y(k),i(!1)})})}),u=(g,...y)=>de(void 0,[g,...y],void 0,function*(b,k={}){var _;if(!Gue(b))throw new Error("Email is not valid");const R="dynamic";if(!c[R].enabled)throw new Error("Email provider is not enabled");const I=(_=k.captchaToken)!==null&&_!==void 0?_:yield d("email"),T=yield c[R].handler(b,I);a.current=T}),h=(g,...y)=>de(void 0,[g,...y],void 0,function*(b,k={}){var _;if(!Mc(l,pn.Sms))throw new Error("SMS provider is not enabled");const R=$it(t,s),I=(_=k.captchaToken)!==null&&_!==void 0?_:yield d("phone"),T=yield R(b,I);a.current=T}),m=(g,y)=>de(void 0,void 0,void 0,function*(){if(!a.current)throw new Error("Verification has not started, use connectWithEmail or connectWithSms before verifying");const{type:b,verify:k}=a.current,{destination:_,response:R,verified:I}=yield k(g,y);return b==="sms"?rt.emit("smsVerificationResult",I,_):rt.emit("emailVerificationResult",I,_),y!=null&&y.skipSetUserAndAuthToken||r("authSuccess"),R}),v=()=>de(void 0,void 0,void 0,function*(){if(!a.current)throw new Error("Verification has not started, use connectWithEmail or connectWithSms before verifying");if(!a.current.retry)throw new Error("Re-send is not supported");return a.current.retry()});return f.jsx(Lit,{value:{connectWithEmail:u,connectWithSms:h,retryOneTimePassword:v,verifyOneTimePassword:m},children:e})},Fit=({handler:e}={})=>{const{setShowAuthFlow:t,userWithMissingInfo:n,sdkHasLoaded:r,setSelectedWalletConnectorKey:i}=$e(),{pushView:o}=At(),{updateUser:s}=afe({validationSchemaStripUnknown:!1}),{completeAuth:a,handleAuthError:l}=sf({}),{displayedDestination:c}=Kc(),d=x.useRef(!1);Un("logout",()=>{d.current=!1}),x.useEffect(()=>{var u;const h=()=>de(void 0,void 0,void 0,function*(){var v;if(!(!e||!(!((v=n==null?void 0:n.missingFields)===null||v===void 0)&&v.length))){d.current=!0;try{const g=n.missingFields.map(_=>({isCustom:_.type==="custom",key:_.name,label:_.label,required:_.required})),y=yield e(g),b={},k=Object.assign({},n==null?void 0:n.metadata);y.forEach(_=>{_.isCustom?k[_.key]=_.value:b[_.key]=_.value}),yield a({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return s(Object.assign(Object.assign({},b),{metadata:k}))})})}catch(g){Ie.error("Error handling user onboarding",g),l(g,{})}}}),m=()=>de(void 0,void 0,void 0,function*(){d.current=!0,t(!0);const v=n==null?void 0:n.verifiedCredentials.find(g=>g.id===(n==null?void 0:n.lastVerifiedCredentialId));switch(v!=null&&v.walletName&&i({chain:v!=null&&v.chain?ec[v.chain]:void 0,key:v==null?void 0:v.walletName}),v==null?void 0:v.format){case Zo.Email:case Zo.Oauth:o("collect-user-data-login-no-wallet",{userIdentification:"email"});break;case Zo.PhoneNumber:o("collect-user-data-login-no-wallet",{userIdentification:"phoneNumber",userIdentificationOverride:c});break;default:o("collect-user-data")}});if(!(!r||d.current||!(!((u=n==null?void 0:n.missingFields)===null||u===void 0)&&u.length)||y_(n))){if(e){h();return}m()}},[r,n,e,a,s,t,o,c,l,i])},Wit=({handler:e}={})=>{const{setShowAuthFlow:t,userWithMissingInfo:n,sdkHasLoaded:r}=$e(),i=_de(),{clearStackAndPush:o}=At(),s=x.useRef(!1);Un("logout",()=>{setTimeout(()=>{s.current=!1},0)}),x.useEffect(()=>{var a;if(!(!r||s.current)&&!(!n||!y_(n))){if(s.current=!0,e){t(!1),e();return}t(!0),!((a=n.scope)===null||a===void 0)&&a.includes("requiresAdditionalAuth")?i():o("mfa-display-backup-codes")}},[i,r,t,n,e,o])},qit=()=>{const e=sv(),t=vo(),n=bM(),{loading:r}=mv();return x.useCallback(()=>!(e&&Js().user)?{isValid:!1,reason:"User not authenticated"}:t?n.length?r?{isValid:!1,reason:"Authentication in progress"}:{isValid:!0}:{isValid:!1,reason:"No wallet connectors available"}:{isValid:!1,reason:"Project settings not loaded"},[e,t,n,r])},zit=()=>{const{setShowAuthFlow:e}=$e(),{clearStackAndPush:t}=At(),{createWalletAccount:n}=np(),r=sv(),i=Vm();return Xo(o=>de(void 0,void 0,void 0,function*(){const s=Date.now(),a=o.map(l=>l.chain).join(",");Ie.instrument("Auto wallet creation initiated",{chainCount:o.length,chains:a,environmentId:i,key:"auto_wallet_creation_initiated",time:0,userId:r==null?void 0:r.id});try{yield n(o);const l=Date.now()-s;Ie.instrument("Auto wallet creation successful",{chainCount:o.length,chains:a,environmentId:i,key:"auto_wallet_creation_success",time:l,userId:r==null?void 0:r.id})}catch(l){const c=Date.now()-s;throw Ie.instrument("Auto wallet creation failed",{chainCount:o.length,chains:a,environmentId:i,error:l instanceof Error?l.message:"Unknown error",key:"auto_wallet_creation_failed",time:c,userId:r==null?void 0:r.id}),l}}),{onFailure:o=>{Ie.error("Error creating dynamic waas wallet",o),e(!0),t("backup-unsuccessful")}})},Vit=()=>{const{processSignOnWalletSettings:e}=np();return Xo(()=>de(void 0,void 0,void 0,function*(){yield e()}),{onFailure:t=>{Ie.error("Error processing wallet settings",t)}})},Kit=()=>{const{needsAutoCreateWalletChains:e,needsSettingsProcessing:t,initializeWaas:n,shouldInitializeWaas:r}=np(),i=qit(),{mutate:o,isLoading:s}=zit(),{mutate:a,isLoading:l}=Vit(),{initDelegationProcess:c,shouldPromptWalletDelegation:d}=WP(),u=sv(),h=x.useRef(!1),m=x.useRef(!1),v=x.useRef(!1),g=x.useRef(void 0),y=x.useRef(!1);Un("logout",()=>{h.current=!1,m.current=!1});const b=x.useCallback(()=>h.current||s||!(e!=null&&e.length)?!1:i().isValid,[e,i,s]),k=x.useCallback(()=>m.current||l||!t?!1:i().isValid,[t,i,l]),_=x.useCallback(()=>{k()&&(a(),m.current=!0)},[k,a]);x.useEffect(()=>{k()&&_()},[k,_]);const R=x.useCallback(()=>{!b()||!e||(Ie.debug("Auto wallet creation triggered",{chainCount:e.length,chains:e.map(I=>I.chain)}),o(e),h.current=!0)},[b,e,o]);x.useEffect(()=>{if(g.current&&!(u!=null&&u.sessionId)&&(g.current=void 0,v.current=!1,y.current=!1),r&&(u!=null&&u.sessionId)){const{sessionId:I,id:T}=u;if(!y.current&&(!v.current||g.current!==I)){const D=g.current!==I;Ie.debug(D?"[useSyncDynamicWaas] session id changed, initializing waas":"[useSyncDynamicWaas] waas not initialized, initializing waas"),y.current=!0,n().then(()=>{Ie.debug("[useSyncDynamicWaas] waas initialized"),v.current=!0,g.current=I}).catch(A=>{Ie.warn("[useSyncDynamicWaas] Error initializing waas",{error:A,sessionId:I,userId:T})}).finally(()=>{y.current=!1})}}},[n,r,u]),x.useEffect(()=>{b()&&R()},[b,R]),x.useEffect(()=>{d()&&c()},[d,c])},Hit=()=>(Fit(),Kit(),yfe(),Wit(),null),Git=({connectorProps:e})=>{const{primaryWallet:t}=$e(),{handleWalletItemClick:n}=rp(),r=Pfe(),i=x.useRef([]),o=x.useRef(),s=x.useRef([]),a=x.useRef(),l=d=>{setTimeout(()=>{d()},0)},c=x.useMemo(()=>{var d,u;if(!(!e.projectSettings||!e.networkConfigurations||!v0(e.walletBook)))return gse(Object.assign(Object.assign({},e),{chainRpcProviders:Xb,redirectUrl:r,settings:e.projectSettings,walletConnectProjectId:(u=(d=e.projectSettings)===null||d===void 0?void 0:d.sdk.walletConnect)===null||u===void 0?void 0:u.projectId}))},[e,r]);return x.useEffect(()=>{const d=()=>{i.current.length!==0&&(Ie.debug("[WalletConnectorEvents] processPendingConstructors",{pendingConstructors:i.current}),i.current.forEach(h=>{if(!c)return;const m=new h(c);Ie.debug("[WalletConnectorEvents] handleProviderInjected",{injectedConnector:m}),Hl.emit("providerReady",{connector:m})}),i.current=[])},u=({injectedConnectorConstructor:h})=>{i.current.push(h),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d()},100)};return Hl.on("providerInjected",u),()=>{Hl.off("providerInjected",u),o.current&&clearTimeout(o.current),d()}},[c]),x.useEffect(()=>{const d=()=>{if(s.current.length===0)return;Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] processReadyConnectors",{connectors:s.current});const m=[...C3()];let v;s.current.forEach(({connector:g,shouldAutoConnect:y})=>{let b=!1;for(let k=0;k<m.length;k++){const _=m[k].key===g.key,R=!m[k].walletConnector.isWalletConnect&&g.isWalletConnect;if(_&&!R&&(m[k]=Object.assign(Object.assign({},m[k]),{isInstalledOnBrowser:g.isInstalledOnBrowser(),walletConnector:g})),_){b=!0;break}}if(!b){const k=wse(e.walletBook,g);m.push(k)}y&&(v=m.find(k=>k.key===g.key&&!k.walletConnector.isWalletConnect))}),jle(m),s.current=[],Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] processReadyConnectors",{walletOptionToAutoConnect:v}),v&&!t&&n(v)},u=h=>{Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] handleProviderReady",h),s.current.push(h),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{d()},100)};if(v0(e.walletBook))return Hl.on("providerReady",u),()=>{Hl.off("providerReady",u),a.current&&clearTimeout(a.current),d()}},[e.walletBook,n]),x.useEffect(()=>{const d=h=>{Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] handleConnectorInitStarted",{key:h}),l(()=>{PG(h,!0)})},u=h=>{Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] handleConnectorInitCompleted",{key:h}),l(()=>{PG(h,!1)})};return Hl.on("connectorInitStarted",d),Hl.on("connectorInitCompleted",u),()=>{Hl.off("connectorInitStarted",d),Hl.off("connectorInitCompleted",u)}},[]),null},Qfe=({authMode:e})=>e==="connect-and-sign"||rr(),Jit=["light","dark","auto"],Zit=e=>Jit.includes(e),Yit=(e,t)=>Zit(e)?BO(t,e):e,Xit={idle:["linking_new_wallet","primary_not_connected","switching_primary"],linking_new_wallet:["idle"],primary_not_connected:["idle"],switching_primary:["idle"]},Qit=({from:e,to:t})=>{if(e!==t&&!Xit[e].includes(t))throw new Error(`Invalid AccountSwitch state transition from ${e} to ${t}`);return!0},eot=e=>{if(e!=="awaiting_account_switch")throw new Error(`Invalid MultiWalletWidget state while trying to set AccountSwitch state: ${e}
Expected: awaiting_account_switch`)},tot=()=>{const[e,t]=x.useState("idle"),n=x.useCallback(()=>{t("idle")},[t]),r=x.useCallback((i,o)=>{eot(o),Qit({from:e,to:i}),t(i)},[e]);return[e,r,n]},not={idle:["linking_new_wallet","transferring_wallet"],linking_new_wallet:["idle"],transferring_wallet:["idle"]},rot=({from:e,to:t})=>{if(e!==t&&!not[e].includes(t))throw new Error(`Invalid AwaitingSignature state transition from ${e} to ${t}`);return!0},iot=e=>{if(e!=="awaiting_signature")throw new Error(`Invalid MultiWalletWidget state while trying to set AwaitingSignature state: ${e}
Expected: awaiting_signature`)},oot=()=>{const[e,t]=x.useState("idle"),n=x.useCallback(()=>{t("idle")},[t]),r=x.useCallback((i,o)=>{iot(o),rot({from:e,to:i}),t(i)},[e]);return[e,r,n]},sot={awaiting_account_switch:["awaiting_signature","idle"],awaiting_connection:["idle"],awaiting_signature:["idle"],detected_new_wallet:["awaiting_signature","idle"],idle:["awaiting_account_switch","awaiting_connection","awaiting_signature","detected_new_wallet"]},aot=({from:e,to:t})=>{if(e!==t&&!sot[e].includes(t))throw new Error(`Invalid MultiWalletWidget state transition from ${e} to ${t}`);return!0},lot=()=>{const[e,t]=x.useState("idle"),[n,r,i]=tot(),[o,s,a]=oot(),l=x.useCallback(()=>{i(),a()},[i,a]),c=x.useCallback((d,u,h)=>{aot({from:e,to:d}),t(d),l(),u&&r(u,d),h&&s(h,d)},[e,l,r,s]);return[e,c,{awaiting_account_switch:[n,r],awaiting_signature:[o,s]}]},cot=({connectors:e})=>{const t=x.useCallback(()=>{if(!(typeof window>"u")){for(const n of ot.getKeys())(n.startsWith("walletconnect")||n.startsWith("walletlink")||n.startsWith("wc@2"))&&localStorage.removeItem(n);e==null||e.forEach(n=>{var r,i,o;!((i=(r=n==null?void 0:n.name)===null||r===void 0?void 0:r.toLowerCase())===null||i===void 0)&&i.startsWith("turnkey")&&((o=n.getAuthenticatorHandler())===null||o===void 0||o.clear(),ot.removeItem(b0),ot.removeItem(wae))})}},[e]);return x.useEffect(()=>{if(typeof window>"u"||e.length===0)return;const n=new Set(e.map(r=>r.key));for(const r of ot.getKeys())r.startsWith("walletconnect")&&!n.has(r.replace("walletconnect-",""))&&localStorage.removeItem(r)},[e]),{clearAllWalletConnectSessions:t}},dot=({address:e,connectorKey:t,chain:n})=>`${t}-${e}-${n}`,uot=e=>{const t=Object.values(nr).find(n=>n===e);if(!t)throw new Se(`Invalid chain ${e}`);return t},fot=e=>{const t=Object.values(Ao).find(n=>n===e);if(!t)throw new Se(`Invalid provider ${e}`);return t},hot=e=>{const t=Object.values(fO).find(n=>n===e);if(!t)throw new Se(`Invalid authMode ${e}`);return t},pot=e=>de(void 0,[e],void 0,function*({authMode:t,chain:n,environmentId:r,walletProvider:i,publicWalletAddress:o,walletName:s}){try{const a={address:o,authMode:hot(t),chain:uot(n),provider:fot(i),walletName:s};yield cn().createVisit({connectRequest:a,environmentId:r})}catch(a){yield Tr(a,"Error creating visit")}}),mot=e=>{var t,n;if(!e)return;const r=C3(),{key:i,chain:o}=e,s=(t=r.find(l=>i===l.key&&l.walletConnector.connectedChain===o))===null||t===void 0?void 0:t.walletConnector;return s||((n=r.find(l=>l.key==="fallbackconnector"))===null||n===void 0?void 0:n.walletConnector)};class got extends Se{constructor(t){super(`Connection was not established because handleConnectedWallet returned false for wallet connector ${t.key}`),this.walletConnector=t}}const yot=(e,t)=>{const n=[...e],r=new Set,i=new Set;for(const o of t)r.add(o.address),i.add(o.chain),n.find(a=>a.address===o.address&&a.chain===o.chain)||n.push(o);return n.filter(o=>r.has(o.address)&&i.has(o.chain)||o.isAuthenticated)},vot=({enableVisitTrackingOnConnectOnly:e,environmentId:t,primaryWalletId:n,walletConnectorOptions:r,handleConnectedWallet:i,setShowAuthFlow:o,isBridgeFlow:s})=>{const a=Mae(),[l,c]=x.useState([]),{setUserWallets:d,addedWalletsIds:u,removedWalletsIds:h}=_s(),m=x.useCallback(I=>{c(T=>T.length===0&&I.length===0?T:I),d(T=>yot(T,I))},[d]),v=x.useCallback(I=>de(void 0,void 0,void 0,function*(){const T=l.find(A=>A.id===I);yield T==null?void 0:T.connector.endSession();const M=a.filter(A=>A.id!==I);if(NO(M),h.current.push(I),I!==n)return;const D=M.length>0;s||!D?Pae():To(M[0].id)}),[l,a,s,n,h]),g=Sue(()=>de(void 0,void 0,void 0,function*(){const I=r.map(M=>M.walletConnector);if(!I.length)return;const T=(yield Promise.all(a.map(M=>de(void 0,void 0,void 0,function*(){const D=dq(I,M.walletConnectorKey,M.walletChain);if(!D)return Jn.error("Could not find walletConnector: "+M.walletConnectorKey),yield v(M.id),null;Bh(D)&&M.hardwareWallet===g0.Ledger&&(D.isHardwareWalletEnabled=!0);const[A]=yield D.getConnectedAccounts();if(!A)return yield v(M.id),null;const U=yield D.getAdditionalAddresses(A),$=D.connectedChain;return D.createWallet({additionalAddresses:U,address:A,chain:$,connector:D,id:M.id,isAuthenticated:!1,key:D.key})})))).filter(M=>!!M);m(T)}),300);x.useEffect(()=>{g()},[a,r]);const y=x.useCallback((I,T)=>{var M;const D=[...l],A=D.findIndex(U=>U.id===I);A<0||(D[A]=D[A].connector.createWallet(Object.assign(Object.assign({},D[A]),{address:(M=T.address)!==null&&M!==void 0?M:D[A].address,connector:mot(D[A])})),m(D))},[l,m]),b=x.useCallback(({walletId:I,walletConnectorKey:T,walletChain:M,provider:D})=>{const A=[...a],U=r.map(z=>z.walletConnector),$=dq(U,T,M),q=$&&Bh($)&&$.isHardwareWalletEnabled?g0.Ledger:void 0;A.push({hardwareWallet:q,id:I,provider:D,walletChain:M,walletConnectorKey:T}),NO(A)},[a,r]),k=(I,T)=>de(void 0,void 0,void 0,function*(){Zfe(T)&&(yield T.connect());const M=yield T.getAddress();if(M&&i&&!(yield i({address:M,chain:T.connectedChain,connector:T}))){Jn.info("Connection was not established because handleConnectedWallet returned false"),v(I),o(!1,{emitCancelAuth:!0});return}y(I,{address:M})}),_=x.useCallback((I,T,M)=>de(void 0,void 0,void 0,function*(){const{applyHandleConnectedWallet:D=!0}=M??{};let A;try{A=yield I.getAddress(T)}catch(E){throw E instanceof h0?(rt.emit("walletConnectionFailed",I,E),E):(rt.emit("walletConnectionFailed",I,E),new dO)}if(!A){const E=new dO;throw rt.emit("walletConnectionFailed",I,E),E}if(i&&D&&!(yield i({address:A,chain:I.connectedChain,connector:I}))){Jn.info("Connection was not established because handleConnectedWallet returned false"),o(!1),rt.emit("walletConnectionFailed",I,new got(I));return}const U=a.some(({walletConnectorKey:E})=>E===I.key),$=I.connectedChain,q=wl();if(!U&&(q!=="connect-only"||e)&&pot({authMode:q,chain:$||"",environmentId:t,publicWalletAddress:A,walletName:I.key,walletProvider:Zb(I)}),!hv())return{address:A,id:""};const S=dot({address:A,chain:I.connectedChain,connectorKey:I.key});return n||To(S),u.current.push(S),U?yield g():b({provider:Zb(I),walletAddress:A,walletChain:$,walletConnectorKey:I.key,walletId:S}),{address:A,id:S}}),[u,b,a,e,t,i,n,o,g]),R=x.useCallback(I=>l.find(T=>T.id===I),[l]);return{connectWallet:_,connectedWallets:l,connectedWalletsInfo:a,disconnectWallet:v,getConnectedWalletById:R,refreshConnectedWallet:k}},wot=e=>({walletsForChainsMap:x.useMemo(()=>e?Object.assign(Object.assign({},J5),{primary_chain:e.primary_chain,wallets:Object.assign(Object.assign({},J5.wallets),!!e.wallets&&e.wallets)}):J5,[e])}),bot=e=>e.verifiedCredentials.find(t=>t.id===e.lastVerifiedCredentialId),_ot=()=>u3("initStatus"),xot=({connectedInfo:e,connectedWallets:t,projectSettings:n,primaryWalletId:r,primaryWallet:i,user:o,walletBook:s,enableInstrumentation:a,appName:l,environmentId:c,nonce:d})=>{var u;const h=x.useRef(!1),m=x.useRef(new Date().getTime()),v=x.useRef(!1),g=_ot();v.current||(v.current=!0,Br.logEvent("sdk-react-core.initialization","sdk-mounted"));const{sessionValidation:y}=xae(),b=Qu(),k=x.useMemo(()=>Qfe({authMode:b})&&!d,[b,d]),_=()=>{if(!h.current&&(h.current=!0,Ie.debug("[useGlobalLoading] SDK finished loading",{authMode:b,enableInstrumentation:a,primaryWallet:i,user:o}),Br.logEvent("sdk-react-core.initialization","sdk-loaded"),a)){const $=new Date().getTime()-m.current;Ie.instrument(`SDK loaded in (ms) ${$}`,{appName:l,environmentId:c,key:"sdkHasLoaded",primaryWalletId:r,time:$,userId:o==null?void 0:o.userId})}};if(h.current)return!0;const R=!v0(s),I=g==="uninitialized"||g==="in-progress",T=!n,D=!!((r||o&&((u=bot(o))===null||u===void 0?void 0:u.format)==="blockchain")&&!i),A=b==="connect-only"&&e&&t.length===0,U=!y;return Ie.logVerboseTroubleshootingMessage("[useGlobalLoading] SDK loading",{isConnectOnlyWalletsLoading:A,isFetchingNonce:k,isPrimaryWalletLoading:D,isProjectSettingsLoading:T,isValidatingSession:U,isWalletBookLoading:R,javascriptSDKInitStatus:g}),!R&&!T&&!D&&!A&&!U&&!k&&!I&&_(),h.current},kot=({disconnectWallet:e,handleLogOut:t,multiWallet:n,multiWalletWidgetState:r,primaryWallet:i,secondaryWallets:o,selectedWalletConnector:s,selectedWalletWithAction:a,setSelectedWalletConnectorKey:l,setSelectedWalletWithAction:c,setMultiWalletWidgetState:d,user:u,refreshConnectedWallet:h,detectNewWalletsForLinking:m})=>{const v=x.useCallback((b,k)=>{Ie.debug("handleAccountChangeWhenAwaitingAccountSwitch",{isPrimaryWallet:b,newAddress:k});const _=o.find(R=>$a(R.address,k,R.chain));if(Ie.logVerboseTroubleshootingMessage("[handleAccountChangeWhenAwaitingAccountSwitch]",{linkedSecondaryWallet:_}),!_){d("awaiting_signature",void 0,"linking_new_wallet"),b&&i&&l({chain:i.connector.connectedChain,key:i.connector.key});return}if(!_.connector.isAvailable){rt.emit("triggerConnectAndSign");return}c(null),To(_.id),d("idle")},[d,i,o,l,c]),g=x.useCallback(({accounts:b})=>{const k=wl();if(Ie.debug("calculatePrimaryWalletMultiWalletStateFromAccounts",{accounts:b,authMode:k,multiWallet:n,multiWalletWidgetState:r,primaryWallet:i}),!i)return;const[_]=b;if(!!$a(_,i.address,i.chain)){d("idle");return}if(k==="connect-only"){h(i.id,i.connector);return}if(!n)return;if(r==="awaiting_account_switch"){v(!0,_);return}r!=="idle"&&(Ie.error(`Unexpected multiWalletWidgetState (${r}) and onAccountChange combination. Resetting state to idle.`),d("idle"));const I=o.find(T=>$a(T.address,_,T.chain));if(I){To(I.id);return}u&&m&&(d("detected_new_wallet"),l({chain:i.connector.connectedChain,key:i.connector.key}))},[m,v,n,r,i,h,o,d,l,u]);Un("triggerComputePrimaryWalletMultiWalletStateFromAccounts",g),Tu(i==null?void 0:i.connector,"accountChange",({accounts:b})=>{Ie.debug("primary wallet account change",{accounts:b}),g({accounts:b})});const y=x.useMemo(()=>{const b=i==null?void 0:i.connector,k=o.map(({connector:R})=>R),_=new Set([...k,b,s].filter(R=>!!R));return b&&_.delete(b),Array.from(_)},[o,s,i==null?void 0:i.connector]);Tu(y,"accountChange",(b,k)=>de(void 0,void 0,void 0,function*(){if(Ie.debug("secondary wallet account change"),wl()==="connect-only"&&o.length){const R=o.filter(({connector:I})=>I.key===k.key);for(const I of R)h(I.id,I.connector);return}r==="awaiting_account_switch"&&v(!1,(a==null?void 0:a.wallet.address)||"")})),Tu(i==null?void 0:i.connector,"disconnect",()=>{Ie.debug("primary wallet disconnect"),wl()==="connect-only"&&t()}),Tu(y,"disconnect",b=>{if(Ie.debug("secondary wallet disconnect"),wl()==="connect-only"){const _=o.filter(({connector:R})=>R.key===b.key);for(const R of _)e(R.id)}}),Tu(y,"chainChange",({chain:b},k)=>{rt.emit("nonPrimaryWalletNetworkChanged",b,k)})},Sot=({settingsOverrides:e})=>{var t,n,r,i;const o=(t=e==null?void 0:e.views)===null||t===void 0?void 0:t.find(d=>d.type==="wallet-list"),[s,a]=x.useState(0),l=x.useCallback(d=>{const u=h=>{var m,v;const g=(m=o==null?void 0:o.tabs)===null||m===void 0?void 0:m.items[h];if(!g){Ie.error(`Tab with index ${h} not found. Available tabs: ${JSON.stringify((v=o==null?void 0:o.tabs)===null||v===void 0?void 0:v.items)}`);return}return rt.emit("walletTabSelected",{index:h,tab:g}),h};if(typeof d=="number"){const h=u(d);h!==void 0&&a(h);return}a(h=>{var m;const v=d(h);return(m=u(v))!==null&&m!==void 0?m:h})},[(n=o==null?void 0:o.tabs)===null||n===void 0?void 0:n.items]),c=s===null||(r=o==null?void 0:o.tabs)===null||r===void 0?void 0:r.items[s];return{selectedTabIndex:s,selectedTabSettings:c,setSelectedTabIndex:l,tabsItems:(i=o==null?void 0:o.tabs)===null||i===void 0?void 0:i.items}},Iot=Vt.createContext(void 0),AY="wallets",Eot=({children:e})=>{const t=x.useRef(null),n=x.useRef(null),[r,i]=x.useState(AY),o=x.useCallback(()=>{i(AY)},[]),s=x.useCallback(()=>{i("profile")},[]),a={bridgeWidgetView:r,events:{onDynamicBridgeWidgetClose:o},goToProfileView:s,inlineControlsRef:n,setBridgeWidgetView:i,widgetRef:t};return f.jsx(Iot.Provider,{value:a,children:e})},Cot=x.forwardRef(({children:e},t)=>f.jsx("div",{ref:t,className:"dynamic-widget-card",children:e}));Cot.displayName="DynamicWidgetCard";const Aot=x.createContext(null),Rot=({children:e})=>{const[t,n]=x.useState({}),r=x.useCallback((s,a)=>{n(l=>Object.assign(Object.assign({},l),{[s]:{type:a}}))},[n]),i=x.useCallback(s=>{n(a=>{const l=Object.assign({},a);return delete l[s],l})},[n]),o=x.useCallback(s=>Object.values(t).some(a=>a.type===s),[t]);return f.jsx(Aot.Provider,{value:{checkWidgetPresence:o,registerId:r,removeId:i},children:e})},Tot=()=>{const{showOnramp:e,selectedOnramp:t,onrampEnabled:n,setShowOnramp:r}=Sde(),[i,o]=x.useState(null);return _M(i,()=>r(!1)),n&&t&&t.openMode==="iframe"&&t.url?f.jsx(R_,{children:f.jsxs(__,{isShown:e,children:[f.jsx("div",{className:"onramp-widget__backdrop","aria-hidden":"true","data-testid":"onramp-widget-backdrop"}),f.jsx("div",{className:"onramp-widget__modal",children:f.jsx("iframe",{id:"onramp-iframe",src:t.url,allow:"camera *;geolocation *",title:"Crypto Onramp",ref:o,"data-testid":"onramp-widget-modal"})})]})}):null},Oot="ERROR_BOUNDARY_CONTEXT_NOT_FOUND",ehe=x.createContext(null);function the(e){if(e===null||typeof e.hasError!="boolean"||typeof e.error!="object"||typeof e.isDynamicSdkError!="boolean"){const t=new Error("ErrorBoundaryContext not found");throw t.cause=Oot,t}}class Fj extends x.Component{static getDerivedStateFromError(t){return{error:t,hasError:!0}}renderOrError(t,{isDynamicSdkError:n}){try{the(this.context),this.context.isDynamicSdkError=n}catch(r){return Ie.error(r),x.createElement(Lr,null,"ErrorBoundary must be used within ErrorBoundaryContext")}return t}}Fj.contextType=ehe;class Not extends Fj{constructor(t){super(t),this.state={error:null,hasError:!1}}componentDidCatch(t,n){var r;const{onError:i}=this.props;throw!((r=this.context)===null||r===void 0)&&r.isDynamicSdkError&&(i==null||i(t,n),Ie.error(t,{error:{bundleStack:t.stack,message:t,stack:n.componentStack}})),t}render(){const{children:t}=this.props,{hasError:n,error:r}=this.state;return n?(the(this.context),this.context.error=r,this.context.hasError=n,null):t}}const Pot=e=>{var{children:t}=e,n=bs(e,["children"]);return f.jsx(ehe.Provider,{value:{error:null,hasError:!1,isDynamicSdkError:!0},children:f.jsx(Not,Object.assign({},n,{children:t}))})};class Bot extends Fj{render(){const{children:t}=this.props;return this.renderOrError(t,{isDynamicSdkError:!1})}}const Dot=({wallet:e})=>{var t,n,r,i,o,s,a;const l=e.connector.connectedChain,c=(o=(i=(r=(n=(t=ov())===null||t===void 0?void 0:t.sdk.funding)===null||n===void 0?void 0:n.externalWallets)===null||r===void 0?void 0:r.defaultSettings)===null||i===void 0?void 0:i.chainSettings)===null||o===void 0?void 0:o.find(({chain:d})=>d===l);if(!(!((s=c==null?void 0:c.token)===null||s===void 0)&&s.value)||!(!((a=c==null?void 0:c.token)===null||a===void 0)&&a.rule))throw new Se(`No wallet funding chain settings found for chain ${l}`);return{token:{rule:c.token.rule,value:c.token.value},wallet:e}},Mot=()=>{const{walletConnectorOptions:e,displaySiweStatement:t,environmentId:n,projectSettings:r,setIsSingleWalletAccount:i,connectWallet:o,setShowAuthFlow:s,setSelectedWalletConnectorKey:a,siweStatement:l,appName:c,user:d}=$e(),{pushView:u}=At(),{setErrorMessage:h}=so(),{getCaptchaToken:m}=Gd(),{promptAmountAndFund:v}=pVe(),g=Z3({displaySiweStatement:t,environmentId:n,projectSettings:r,setIsSingleWalletAccount:i}),y=e.map(({walletConnector:I})=>I).find(Voe),b=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] called"),!y){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] no phantomRedirectConnector");return}Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] calling getSession"),yield y.getSession(),Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] getSession complete, calling connectWallet");const I=yield o(y);Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] connectWallet result",{connectResult:I});const T=ot.getItem(pb);if(T!=null&&T.connectorConsumed&&T.type==="external-wallet-funding"){if(!I)return;const M=y.createWallet({address:I.address,chain:y.connectedChain,connector:y,id:"external-funding-wallet",isAuthenticated:!1,key:y.key});if(rt.emit("walletConnectedForFunding",{initiatedByWidget:T.initiatedByWidget,isPhantomRedirect:!0,wallet:M}),!T.initiatedByWidget)return;const D=Dot({wallet:M});v(D);return}if(hv()){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] Connect-only mode: skipping verification",{authMode:"connect-only",connectResult:I}),I!=null&&I.address&&(ot.setItem(Xu,y.key),s(!1));return}Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] Connect-and-sign mode: proceeding to verification",{authMode:"connect-and-sign",connectResult:I}),s(!0,{ignoreIfIsEmbeddedWidget:!0}),u("pending-signature"),a("phantom")}),[y,o,s,u,a,v]),k=Lfe(),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var I,T,M,D;if(Ie.debug("[PhantomRedirect handleUserResponse] called"),!y){Ie.debug("[PhantomRedirect handleUserResponse] no phantomRedirectConnector");return}a("phantom");const[A]=yield y.getConnectedAccounts();Ie.debug("[PhantomRedirect handleUserResponse] got address",{address:A});const U=y.consumeMethod();switch(Ie.debug("[PhantomRedirect handleUserResponse] consumed method",{method:U}),U){case"signAndSendTransaction":{const $=(I=y.consumeRequestId)===null||I===void 0?void 0:I.call(y);Ie.debug("[PhantomRedirect handleUserResponse] handling signAndSendTransaction");try{const q=yield y.extractAndSendTransaction();y.emit("signAndSendTransaction",{requestId:$,signature:q})}catch(q){Ie.error("[PhantomRedirect handleUserResponse] Failed to send transaction",{error:q}),y.emit("signAndSendTransaction",{errorCode:"SEND_FAILED",errorMessage:q instanceof Error?q.message:"Failed to send transaction",requestId:$})}break}case"signAllTransactions":{const $=(T=y.consumeRequestId)===null||T===void 0?void 0:T.call(y);Ie.debug("[PhantomRedirect handleUserResponse] handling signAllTransactions"),y.emit("signAllTransactions",{requestId:$,transactions:y.extractTransactions()});break}case"signTransaction":{const $=(M=y.consumeRequestId)===null||M===void 0?void 0:M.call(y);Ie.debug("[PhantomRedirect handleUserResponse] handling signTransaction"),y.emit("signTransaction",{requestId:$,transaction:y.extractTransaction()});break}case"signMessage":{Ie.debug("[PhantomRedirect handleUserResponse] handling signMessage response");const{signature:$,message:q}=y.extractSignature();Ie.debug("[PhantomRedirect handleUserResponse] extracted signature and message",{message:q,messageLength:q==null?void 0:q.length,messagePreview:q==null?void 0:q.substring(0,200),signature:$,signatureLength:$==null?void 0:$.length});const z=ot.getItem(_m);if(ot.removeItem(_m),(z==null?void 0:z.verificationType)==="awaiting_transfer"){const S=hM({appName:c,siweStatement:l});Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] completeWalletTransfer",{messageToSignOverride:q,overrideSiweStatement:S,publicWalletAddress:A,signedMessageOverride:$}),yield k({messageToSignOverride:q,overrideSiweStatement:S,publicWalletAddress:A,signedMessageOverride:$,skipEmptyAccountCheck:z.loseOriginalAccountOnTransfer,walletConnector:y})}else if((z==null?void 0:z.verificationType)==="awaiting_verification"||!d){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] calling verifyWallet",{address:A,captchaTokenPresent:!!m(),message:q,messageLength:q==null?void 0:q.length,signature:$,signatureLength:$==null?void 0:$.length,user:!!d,verificationType:z==null?void 0:z.verificationType}),u("wallet-redirect-view");try{yield g({captchaToken:m(),messageToSignOverride:q,publicWalletAddress:A,signedMessageOverride:$,walletConnector:y}),Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] verifyWallet completed successfully")}catch(S){throw Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] verifyWallet threw error",{error:S}),S}}else{const S=(D=y.consumeRequestId)===null||D===void 0?void 0:D.call(y);Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] emitting signMessage event (post-auth sign)",{message:q,requestId:S,signature:$,signatureLength:$==null?void 0:$.length}),y.emit("signMessage",{message:q,requestId:S,signature:$})}break}}}),[y,a,d,c,l,k,u,g,m]),R=x.useCallback(I=>{var T;if(Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] called",{errorCode:I.get("errorCode"),errorMessage:I.get("errorMessage")}),!y){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] no phantomRedirectConnector");return}const M=I.get("errorCode"),D=(T=I.get("errorMessage"))!==null&&T!==void 0?T:void 0;if(!M){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] no errorCode");return}h(M);const A=y.consumeMethod();switch(Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] consumed method, emitting error",{errorCode:M,errorMessage:D,method:A}),A){case"signAndSendTransaction":y.emit("signAndSendTransaction",{errorCode:M,errorMessage:D});break;case"signAllTransactions":y.emit("signAllTransactions",{errorCode:M,errorMessage:D});break;case"signTransaction":y.emit("signTransaction",{errorCode:M,errorMessage:D});break;case"signMessage":y.emit("signMessage",{errorCode:M,errorMessage:D});break}},[y,h]);return{handleConnectResponse:b,handleErrorResponse:R,handleUserResponse:_,phantomRedirectConnector:y}},jot=x.createContext(void 0),$ot=({children:e})=>{const{sdkHasLoaded:t}=$e(),{phantomRedirectConnector:n,handleConnectResponse:r,handleUserResponse:i,handleErrorResponse:o}=Mot(),s=x.useRef(""),a=x.useCallback(l=>{const c=l.searchParams.has("data"),d=l.searchParams.has("phantom_encryption_public_key"),u=l.searchParams.has("errorCode");if((c||d||u)&&Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] processPhantomRedirect",{hasConnect:d,hasData:c,hasError:u,sdkHasLoaded:t}),!n||!rr()||!t)return;const h=l.searchParams,m=[h.get("errorCode"),h.get("phantom_encryption_public_key"),h.get("data"),h.get("nonce")].filter(Boolean).join("|");if(m&&m===s.current){Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] skipping - already processed");return}if(m&&(s.current=m),h.has("errorCode")){Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] handling errorCode response"),o(h);return}if(h.has("phantom_encryption_public_key")){Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] handling connect response"),r();return}h.has("data")&&(Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] handling user response (data)"),i())},[r,i,o,n,t]);return x.useEffect(()=>{a(Ln.getUrl())},[a]),x.useEffect(()=>Ln.onUrlUpdate(a),[a]),f.jsx(jot.Provider,{value:{phantomRedirectConnector:n},children:e})},Lot=x.createContext(void 0),Uot=({children:e,onReinitialize:t})=>{const[n,r]=x.useState(),i=x.useRef(t);i.current=t;const o=x.useCallback(()=>{var s;const a=r1(8);(s=i.current)===null||s===void 0||s.call(i,a),r(a)},[]);return f.jsx(Lot.Provider,{value:{key:n,reinitialize:o},children:x.cloneElement(e,{key:n})})},Fot=()=>{const{connectedWallets:e,selectedWalletConnector:t,setSelectedWalletConnectorKey:n,setShowAuthFlow:r,bridgeChainsToConnect:i,sdkHasLoaded:o}=$e(),{pushView:s}=At(),a=Yue(),l=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const u=[];for(const h of e){const m=i==null?void 0:i.some(y=>y.chain===h.chain),v=yield h.connector.getNetwork(!0),g=ng({network:v,walletConnector:h.connector});!m&&!g&&u.push(h)}return u}),[i,e]),c=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const u=yield l();if(!u.length)return;const[h]=u;h.connector.key!==(t==null?void 0:t.key)&&n({chain:h.connector.connectedChain,key:h.connector.key});const m=VM(h.connector)?"network-not-supported":"network-not-supported-manual";r(!0),s(m)}),[l,t==null?void 0:t.key,n,r,s]),d=x.useMemo(()=>{const u=e.map(({connector:m})=>m),h=new Set([...u].filter(m=>!!m));return Array.from(h)},[e]);Tu(d,"chainChange",({chain:u})=>{c()}),x.useEffect(()=>{!o||!a||c()},[o,a,c])},Wot=()=>(Fot(),null),qot=()=>{CPe(),ot.clearRegistry()},zot=e=>{if(e.length!==2)return!1;const[t,n]=e;return t==="wallet"&&n==="email"},Vot=e=>{const[t,n]=x.useState(null),r=x.useMemo(()=>{var i;const o=(i=e==null?void 0:e.design.modal)===null||i===void 0?void 0:i.displayOrder;return o?zot(o)?"web3":"web2":"web3"},[e]);return[t||r,n]},Kot=(e,t)=>{const[n,r]=x.useState(null),i=()=>{r(null)},o=x.useCallback(a=>{r(a)},[r]),s=x.useMemo(()=>t?!1:Cj(e),[e,t]);return[n??s,o,i]},Hot=e=>{const t=x.useRef(e);t.current=e;const n=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const r=t.current,i=[...r.walletConnectors,...r.connectedWallets.map(o=>o.connector)];yield JD(),Ie.logVerboseTroubleshootingMessage("useHandleLogout called",{params:t.current}),Br.logEvent("logout","useHandleLogout called"),r.setSelectedWalletConnectorKey(null),r.clearAllWalletConnectSessions(),r.setShowDynamicUserProfile(!1),r.setShowBridgeWidget(!1),r.resetLoginWithEmail(),r.setLegacyIsVerifying(!1),ot.removeItem(xh),ot.removeItem(Zy),ot.removeItem(_m),ot.removeItem(_d),b7e(),n1(r.initialAuthenticationMode),r.setShowAuthFlow(!1,{emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!1,initializeWalletConnect:!1,performMultiWalletChecks:!1}),r.setMultiWalletWidgetState("idle"),eM(),r.removeBridgeOnboardingCompleted(),Pae(),r.removeConnectedNameService(),r.removeSessionStorageSessionKeys(),yield Promise.all(i.map(o=>o.endSession()))}),[]);return x.useEffect(()=>(ot.events.on("parseFailure",n),()=>{ot.events.off("parseFailure",n)}),[n]),Un("triggerLogout",()=>n()),n},Got=({currentWallet:e,user:t})=>{const[n,r,i]=iv(bPe,null),o=x.useRef(),s=x.useRef(),a=x.useCallback(c=>de(void 0,void 0,void 0,function*(){const{address:d,connector:u}=c,h=yield u.getNetwork(!0);if(d===o.current&&h===s.current)return;r(null),o.current=d,s.current=h;let m;try{m=yield c.getNameService()}catch{}if(o.current===d&&s.current===h)return r({address:d,avatar:m==null?void 0:m.avatar,name:m==null?void 0:m.name,network:h}),m}),[r]);return{getNameService:x.useCallback(c=>de(void 0,void 0,void 0,function*(){var d;if(!e)return;const u=yield e.connector.getNetwork(!0),h=t==null?void 0:t.verifiedCredentials;if(h){const m=iue(e==null?void 0:e.address,h,e.chain);if(m&&(!((d=m.nameService)===null||d===void 0)&&d.name))return m.nameService}if(!(c&&(e==null?void 0:e.address)!==c))return n&&n.address===(e==null?void 0:e.address)&&n.network===u?{avatar:n.avatar,name:n.name}:a(e)}),[e,t==null?void 0:t.verifiedCredentials,n,a]),removeConnectedNameService:i}},Jot=({walletConnectorOptions:e})=>{const[t,n]=x.useState(null),r=o=>{n(typeof o=="string"?{key:o}:o)};return{selectedWalletConnector:x.useMemo(()=>{var o;if(!t)return null;const s=e.find(({walletConnector:a})=>a.key===t.key&&(!t.chain||a.connectedChain===t.chain));return(o=s==null?void 0:s.walletConnector)!==null&&o!==void 0?o:null},[t,e]),setSelectedWalletConnectorKey:r}},Zot=()=>{const e=Hfe(r7e(),Dae());return!!(!(e!=null&&e.length)&&Wd())},Yot=({isRenderingEmbeddedAuthFlow:e,isMultiWalletEnabled:t,setShowDynamicUserProfile:n})=>{const[r,i]=x.useState(!1),{setError:o}=so(),s=x.useCallback((a,l={})=>{const{emitCancelAuth:c,ignoreIfIsEmbeddedWidget:d,initializeWalletConnect:u,performMultiWalletChecks:h,clearErrors:m}=Object.assign({clearErrors:!0,emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!1},l),v=Zot();if(Ie.logVerboseTroubleshootingMessage("setShowAuthFlow",{areAllRequiredWalletsConnected:v,clearErrors:m,emitCancelAuth:c,ignoreIfIsEmbeddedWidget:d,initializeWalletConnect:u,performMultiWalletChecks:h}),!r&&a?rt.emit("authFlowOpen"):r&&!a&&rt.emit("authFlowClose"),a){if(d&&e)return;if(h&&v){if(!t)return n(!0);Ie.warn("Use setShowLinkNewWalletModal to render the wallet list instead. For more information, see: https://docs.dynamic.xyz/react-sdk/hooks/usedynamiccontext");return}}else c&&r&&rt.emit("authFlowCancelled");m&&o(void 0),i(a)},[t,e,o,n,r]);return[r,s]},Xot=()=>{const[e,t]=x.useState(void 0),n=x.useCallback(r=>{t(r),setTimeout(()=>{t(void 0)},2e3)},[t]);return{passkeySuccessPopup:e,setPasskeySuccessPopup:n}},Qot=({clientCallbacks:e,user:t})=>{Un("emailVerificationResult",(n,r)=>{var i;return(i=e==null?void 0:e.onOtpVerificationResult)===null||i===void 0?void 0:i.call(e,n,{type:"email",value:r})}),Un("smsVerificationResult",(n,r)=>{var i;return(i=e==null?void 0:e.onOtpVerificationResult)===null||i===void 0?void 0:i.call(e,n,{type:"sms",value:r})}),Un("authFlowCancelled",()=>{var n;return(n=e==null?void 0:e.onAuthFlowCancel)===null||n===void 0?void 0:n.call(e)}),Un("authFlowOpen",()=>{var n;(n=e==null?void 0:e.onAuthFlowOpen)===null||n===void 0||n.call(e)}),Un("authFlowClose",()=>{var n;(n=e==null?void 0:e.onAuthFlowClose)===null||n===void 0||n.call(e)}),Un("walletAdded",(n,r)=>{var i;Ie.debug("[walletAdded]",{userWallets:r,wallet:n}),(i=e==null?void 0:e.onWalletAdded)===null||i===void 0||i.call(e,{userWallets:r,wallet:n})}),Un("walletRemoved",(n,r)=>{var i;Ie.debug("[walletRemoved]",{userWallets:r,wallet:n}),(i=e==null?void 0:e.onWalletRemoved)===null||i===void 0||i.call(e,{userWallets:r,wallet:n})}),Un("embeddedWalletCreated",(n,r,i)=>{var o;Ie.debug("[embeddedWalletCreated]",{_wallet:n,jwtVerifiedCredential:r,user:i}),(o=e==null?void 0:e.onEmbeddedWalletCreated)===null||o===void 0||o.call(e,r,i)}),Un("embeddedWalletRevealCompleted",n=>{var r;Ie.debug("[embeddedWalletRevealCompleted]",{wallet:n}),(r=e==null?void 0:e.onEmbeddedWalletRevealSuccess)===null||r===void 0||r.call(e,n)}),Un("embeddedWalletRevealFailed",n=>{var r;Ie.debug("[embeddedWalletRevealFailed]",{error:n}),(r=e==null?void 0:e.onEmbeddedWalletRevealFailure)===null||r===void 0||r.call(e,n)}),Un("logout",()=>{var n;(n=e==null?void 0:e.onLogout)===null||n===void 0||n.call(e,t)}),Un("authFailure",(n,r)=>{var i;Ie.debug("[authFailure]",{data:n,reason:r}),(i=e==null?void 0:e.onAuthFailure)===null||i===void 0||i.call(e,n,r)}),Un("authInit",n=>{var r;Ie.debug("[authInit]",{data:n}),(r=e==null?void 0:e.onAuthInit)===null||r===void 0||r.call(e,n)}),Un("userProfileUpdated",n=>{var r;(r=e==null?void 0:e.onUserProfileUpdate)===null||r===void 0||r.call(e,n)}),Un("walletTabSelected",n=>{var r;(r=e==null?void 0:e.onWalletTabSelected)===null||r===void 0||r.call(e,n)}),Un("walletConnectionFailed",(n,r)=>{var i;(i=e==null?void 0:e.onWalletConnectionFailed)===null||i===void 0||i.call(e,n,r)})},est=({isBridgeFlow:e,multiWalletOverride:t,multiWalletSettings:n})=>{var r;return t!==void 0?t:(r=n||e)!==null&&r!==void 0?r:!1},tst=e=>{Un("userWalletsPopulated",t=>{if(e||t.some(r=>r.connector.isEmbeddedWallet)||Wd())return;const n=t[0];n&&To(n.id)})},nst=({isAuthenticated:e,bridgeOnboardingCompleted:t,isMultiWalletEnabled:n,isBridgeFlow:r,connectedWallets:i})=>e||t?n?"multi-wallet-wallet-list":"wallet-list":r&&!i.length?"bridge-welcome":"login-with-email-or-wallet",rst=({multiAssetOverride:e,multiAssetSettings:t})=>e!==void 0?e:t??!0,ist=()=>{if(x.useContext(eE))throw new Error("DynamicContextProvider should not be nested. Please wrap your application in a single DynamicContextProvider.")},ost=({storagePostfix:e})=>{const t=x.useRef(e);if(!Td()&&Ln.isNativeMobile)return;const n={clear:()=>{},getItem:()=>null,key:()=>null,length:0,removeItem:()=>{},setItem:()=>null},r=Td()?n:window.localStorage,i=Td()?n:window.sessionStorage;t.current!==e&&(t.current=e,ot.clearRegistry()),ot.getSourceStorage("localStorage")||ot.registerSourceStorage("localStorage",aq({postfix:e,storage:pS({storage:r})})),ot.getSourceStorage("sessionStorage")||ot.registerSourceStorage("sessionStorage",aq({postfix:e,storage:pS({storage:i})}))},sst=({secondaryWallets:e,handleLogOut:t,setPrimaryWallet:n})=>{const{removedWalletsIds:r,userWallets:i}=_s(),o=Mae(),s=x.useMemo(()=>e[0]?e[0].id:void 0,[e]);return x.useCallback((l,c)=>de(void 0,void 0,void 0,function*(){var d;const u=i.find(k=>k.id===l);if(!u)return;const h=Wd(),m=l===h,v=wl(),g=(d=Js())===null||d===void 0?void 0:d.user;if(v==="connect-and-sign"){if((g==null?void 0:g.verifiedCredentials.length)===1)throw new Se("This is your only login method. Add another wallet or log in method before removing it.");yield vMe({environmentId:ef(),onSuccess:()=>{r.current.push(l)},primaryWalletId:m?void 0:h,walletId:l})}else r.current.push(l);const y=o.filter(k=>k.id!==l);if(NO(y),m&&s&&n(s),!g&&!s){t();return}i.filter(({connector:k})=>k.key===u.connector.key).length===1&&(yield u.connector.endSession())}),[i,o,s,r,n,t])},ast=()=>{const[e,t]=x.useState(!1);return{setShowDynamicUserProfile:x.useCallback(r=>{t(r),!e&&r?rt.emit("userProfileOpen"):e&&!r&&rt.emit("userProfileClose")},[e]),showDynamicUserProfile:e}},lst=(e,t)=>{var n,r;return e!=null&&e.required?!0:t&&(r=(n=t.sdk.embeddedWallets)===null||n===void 0?void 0:n.showEmbeddedWalletActionsUI)!==null&&r!==void 0?r:!1},cst=({showFiatOverride:e,showFiatSettings:t})=>e!==void 0?e:t??!0,dst=e=>{const t=e.verifiedCredentials.find(n=>n.id===e.lastVerifiedCredentialId);return(t==null?void 0:t.format)===Zo.Blockchain},ust=e=>{var t;if(!e.sdk.automaticEmbeddedWalletCreation)return!1;const n=(t=e.sdk.embeddedWallets)===null||t===void 0?void 0:t.chainConfigurations;return n?n.some(r=>r.enabled):!1},fst=({callbacks:{onAuthSuccess:e},handleLogOut:t,primaryWallet:n,user:r,isAuthenticated:i})=>{const[o,s]=x.useState([]),a=x.useCallback((d,u)=>{if((d==null?void 0:d.callback)==="authSuccess")try{e==null||e({handleLogOut:t,isAuthenticated:i,primaryWallet:n,user:u})}catch(h){Ie.error("Error calling onAuthSuccess: ",h)}},[t,i,e,n]),l=vo();return x.useEffect(()=>{!o.length||!r||!l||dst(r)&&!n||ust(l)&&!n||(a(o[0],r),s(d=>{const[u,...h]=d;return u&&(Ie.debug("Resolved callback: ",u.callback),Ie.debug("Callbacks in queue: ",h.map(m=>m.callback))),h}))},[o,a,n,l,r]),{setCallback:x.useCallback((d,u)=>{s(h=>[...h,{callback:d,params:u}])},[])}},hst="2762a57b-faa4-41ce-9f16-abff9300e2c9",eE=x.createContext(void 0),pst=e=>{var t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k,_,R;const{children:I,theme:T,settings:M,locale:D,enableInstrumentation:A=!1}=e,{accessDeniedMessagePrimary:U,accessDeniedMessageSecondary:$,accessDeniedButton:q,defaultPhoneInputIso2:z,coinbaseWalletPreference:S,detectNewWalletsForLinking:E=na.detectNewWalletsForLinking,enableConnectOnlyFallback:N=na.enableConnectOnlyFallback,deepLinkPreference:P=na.deepLinkPreference,bridgeChains:j,cssOverrides:V,defaultNumberOfWalletsToShow:K=_se,flowNetwork:F,initialAuthenticationMode:O=na.initialAuthenticationMode,debugError:W=na.debugError,displaySiweStatement:G=na.displaySiweStatement,newToWeb3WalletChainMap:Y,enableVisitTrackingOnConnectOnly:ie=na.enableVisitTrackingOnConnectOnly,environmentId:ye,walletsFilter:me,logLevel:be=na.logLevel,mobileExperience:Me,notInTheListImageUrl:Fe,onboardingImageUrl:De,policiesConsentInnerComponent:gt,customPrivacyPolicy:tt,privacyPolicyUrl:dt,socialMediaLinkText:Qt,socialMediaIconUrl:lt,socialMediaUrl:jt,customTermsOfServices:rn,termsOfServiceUrl:Re,siweStatement:Ze,shadowDOMEnabled:ct=na.shadowDOMEnabled,walletConnectors:st,socialProvidersFilter:vt,showLockedWalletView:$t=na.showLockedWalletView,walletConnectPreferredChains:zt,walletConnectorExtensions:ce,recommendedWallets:X,handlers:ee,suppressEndUserConsoleWarning:we,transactionConfirmation:Ae,useMetamaskSdk:Pe=na.useMetamaskSdk}=M;let{appLogoUrl:We=na.appLogoUrl,appName:tn=na.appName}=M;ost({storagePostfix:M.localStorageSuffix}),APe(e),i7e(e),x.useEffect(()=>{n1(O)},[O]),i6e((t=M.overrides)===null||t===void 0?void 0:t.chainDisplayValues);const on=frt({bridgeChains:M.bridgeChains,networkValidationMode:M.networkValidationMode});if(!ye)throw new eoe;gi.setLogLevel(be),ye===hst&&Ie.warn(`WARNING: DYNAMIC is using a test environment ID ${ye}. Please sign up on https://app.dynamic.xyz/ to get your production environment ID.`);const nn=wi.setup(D),Bn=!!j,Jt=hrt(P,Bn),{selectedTabIndex:hr,setSelectedTabIndex:Wa,selectedTabSettings:pr,tabsItems:wr}=Sot({settingsOverrides:M.overrides}),[uc,ir,sr]=iv(_Pe,!1),{setShowDynamicUserProfile:Qo,showDynamicUserProfile:Or}=ast(),[Ir,fc]=x.useState(!1),[Er,Fn]=x.useState(!1),es=x3(),ne=mM();ne?gi.globalMetaData.set("user",ne):gi.globalMetaData.set("user",void 0),Dit(),yj();const fe=!!ne,[he,Z]=x.useState(""),[ve,Be]=x.useState(""),[Ne,Ge,{awaiting_account_switch:[ut],awaiting_signature:[bt]}]=lot(),Ye=vo(),jn=mrt(),Et=F3({aptosNetworksOverrides:(n=M.overrides)===null||n===void 0?void 0:n.aptosNetworks,bitcoinNetworksOverrides:(r=M.overrides)===null||r===void 0?void 0:r.bitcoinNetworks,cosmosNetworkOverrides:(i=M.overrides)===null||i===void 0?void 0:i.cosmosNetworks,evmNetworksOverrides:(o=M.overrides)===null||o===void 0?void 0:o.evmNetworks,projectSettings:Ye,solanaNetworksOverrides:(s=M.overrides)===null||s===void 0?void 0:s.solNetworks,stellarNetworksOverrides:(a=M.overrides)===null||a===void 0?void 0:a.stellarNetworks,tonNetworksOverrides:(l=M.overrides)===null||l===void 0?void 0:l.tonNetworks,tronNetworksOverrides:(c=M.overrides)===null||c===void 0?void 0:c.tronNetworks});Rit({environmentId:ye,settings:M}),Nit({projectSettings:Ye,suppress:we});const Zt=est({isBridgeFlow:Bn,multiWalletOverride:(d=M.overrides)===null||d===void 0?void 0:d.multiWallet,multiWalletSettings:(u=Ye==null?void 0:Ye.sdk)===null||u===void 0?void 0:u.multiWallet}),dn=rst({multiAssetOverride:(h=M.overrides)===null||h===void 0?void 0:h.multiAsset,multiAssetSettings:(m=Ye==null?void 0:Ye.sdk)===null||m===void 0?void 0:m.enableMultiAsset}),yn=cst({showFiatOverride:(v=M.overrides)===null||v===void 0?void 0:v.showFiat,showFiatSettings:(g=Ye==null?void 0:Ye.sdk)===null||g===void 0?void 0:g.showFiat}),[vn,un]=x.useState(!1),Rt=M4e(),{imageUserInAccessList:hn,imageUserNotInAccessList:Tt,displayName:Ft,appLogo:St}=(Ye==null?void 0:Ye.general)||{};We=St||We,tn=Ft||tn;const[Pt,Mt,_t]=Kot((Ye==null?void 0:Ye.providers)||[],ne),[Ue,Ve]=Vot(Ye),et=lst(Ae,Ye),[Qe,nt]=Cit({hideEmbeddedWalletTransactionUIs:!et}),pt=x.useMemo(()=>({appLogoUrl:We,appName:tn,coinbaseWalletPreference:S,deepLinkPreference:Jt,flowNetwork:F,mobileExperience:Me,networkConfigurations:Et,projectSettings:Ye,useMetamaskSdk:Pe,walletBook:Rt,walletConnectPreferredChains:zt,walletConnectorExtensions:ce,walletConnectorsProp:st,walletUiUtils:nt}),[We,tn,S,Jt,F,Me,Et,Ye,Pe,Rt,zt,ce,st,nt]);Crt(pt);const Wt=bM();Rrt({walletConnectorOptions:Wt});const mn=o7e(),gn=Qu(),[_n,Ee]=x.useState(!1),[On,$n]=Yot({isMultiWalletEnabled:Zt,isRenderingEmbeddedAuthFlow:_n,setShowDynamicUserProfile:Qo}),{connectWallet:Gn,connectedWalletsInfo:In,getConnectedWalletById:Dn,connectedWallets:Nn,disconnectWallet:Mr,refreshConnectedWallet:Yt}=vot({enableVisitTrackingOnConnectOnly:ie,environmentId:ye,handleConnectedWallet:ee==null?void 0:ee.handleConnectedWallet,isBridgeFlow:Bn,primaryWalletId:mn,setShowAuthFlow:$n,walletConnectorOptions:Wt}),Wr=x.useMemo(()=>Hfe(j,In),[j,In]),{selectedWalletConnector:ar,setSelectedWalletConnectorKey:Cr}=Jot({walletConnectorOptions:Wt}),[Gr,Mi]=x.useState(null);grt(ne??es,Wt),Ait(Wt,ye,Ye);const{primaryWallet:lr,showQrcodeModal:Ei,secondaryWallets:Yd,setPrimaryWallet:El,setShowQrcodeModal:hc,wallets:qa}=Brt({canHaveMultipleWalletsConnected:Zt||Bn,connectedWallets:Nn,primaryWalletId:mn,separateSmartWalletAndSigner:(b=(y=Ye==null?void 0:Ye.sdk)===null||y===void 0?void 0:y.accountAbstraction)===null||b===void 0?void 0:b.separateSmartWalletAndSigner,setMultiWalletWidgetState:Ge,user:ne||es,walletConnectorOptions:Wt});tst(Bn);const Xd=x.useMemo(()=>qa.map(qr=>qr.connector),[qa]);YZe({shouldFetch:Qfe({authMode:gn})});const{getNameService:cf,removeConnectedNameService:ed}=Got({currentWallet:lr??Nn[0],user:ne}),{clearAllWalletConnectSessions:Dv}=cot({connectors:Xd}),rx=()=>{Br.logEvent("session-key","removeSessionStorageSessionKeys"),ot.removeItem(O2,N2),Xd.forEach(qr=>{Pa(qr)&&typeof(qr==null?void 0:qr.removeSessionKeys)=="function"&&(qr==null||qr.removeSessionKeys())})},Cl=Hot({bridgeChains:j,clearAllWalletConnectSessions:Dv,connectedWallets:Nn,environmentId:ye,events:M.events,initialAuthenticationMode:O,removeBridgeOnboardingCompleted:sr,removeConnectedNameService:ed,removeSessionStorageSessionKeys:rx,resetLoginWithEmail:_t,setLegacyIsVerifying:un,setMultiWalletWidgetState:Ge,setSelectedWalletConnectorKey:Cr,setShowAuthFlow:$n,setShowBridgeWidget:fc,setShowDynamicUserProfile:Qo,user:ne,walletConnectors:Xd});brt({environmentId:ye,handleLogOut:Cl});const sC=Ij(),Mv=xot({appName:tn,connectedInfo:In[0],connectedWallets:Nn,enableInstrumentation:A,environmentId:ye,nonce:sC,primaryWallet:lr,primaryWalletId:mn,projectSettings:Ye,user:ne??es,walletBook:Rt});Qot({clientCallbacks:M.events,user:ne});const lp=sst({handleLogOut:Cl,secondaryWallets:Yd,setPrimaryWallet:El}),{isLoading:jv,network:ix}=mj(lr==null?void 0:lr.connector,{onChange:qr=>{qr&&rt.emit("primaryWalletNetworkChanged",qr)}});Mit(),kot({detectNewWalletsForLinking:E,disconnectWallet:Mr,handleLogOut:Cl,multiWallet:Zt,multiWalletWidgetState:Ne,primaryWallet:lr,refreshConnectedWallet:Yt,secondaryWallets:Yd,selectedWalletConnector:ar,selectedWalletWithAction:Gr,setMultiWalletWidgetState:Ge,setSelectedWalletConnectorKey:Cr,setSelectedWalletWithAction:Mi,user:ne});const{walletsForChainsMap:df}=wot(Y),{setCallback:uf}=fst({callbacks:{onAuthSuccess:(k=M.events)===null||k===void 0?void 0:k.onAuthSuccess,onUserProfileUpdate:(_=M.events)===null||_===void 0?void 0:_.onUserProfileUpdate},handleLogOut:Cl,isAuthenticated:fe,primaryWallet:lr,user:ne}),Qd=x.useCallback(()=>qr=>{const{dynamicWagmiSettings:Ig}=qr;Ig&&Kfe(ye,{dynamicWagmiSettings:{dynamicWagmiSettings:Ig}})},[ye]),cp=x.useCallback(()=>de(void 0,void 0,void 0,function*(){Be(""),un(!1),ne||Dv(),Ge("idle"),gn!=="connect-only"&&eM(),ot.getItem(xh)&&ot.removeItem(xh),ot.getItem(Zy)&&ot.removeItem(Zy),ot.removeItem(_m),ar&&(!lr||lr.connector.key!==ar.key)&&(yield ar==null?void 0:ar.endSession())}),[ne,Ge,gn,ar,lr,Dv]),{passkeySuccessPopup:ox,setPasskeySuccessPopup:sx}=Xot(),Sg=x.useMemo(()=>({changeLanguage:wi.getInstance().changeLanguage}),[]),dp=x.useMemo(()=>gn==="connect-only"||!ne?[]:qa,[gn,qa,ne]),$v=x.useMemo(()=>{var qr;return{accessDeniedButton:q,accessDeniedMessagePrimary:U,accessDeniedMessageSecondary:$,accountSwitchState:ut,appLogoUrl:We,appName:tn,authorizationViewDisplayOrder:Ue,awaitingSignatureState:bt,bridgeChains:j,bridgeChainsToConnect:Wr,bridgeOnboardingCompleted:uc,clearStatesOnBackClick:cp,connectWallet:Gn,connectedWallets:Nn,cssOverrides:V,customPrivacyPolicy:tt,customTermsOfServices:rn,debugError:W,defaultNumberOfWalletsToShow:K,defaultPhoneInputIso2:z,desktopUri:ve,detectNewWalletsForLinking:E,disconnectWallet:Mr,displaySiweStatement:G,enableConnectOnlyFallback:N,environmentId:ye,events:M.events,getConnectedWalletById:Dn,getNameService:cf,handleLogOut:Cl,handlers:ee,i18nSDKInstance:nn,isBridgeFlow:Bn,isRenderingEmbeddedAuthFlow:_n,isSingleWalletAccount:Er,legacyIsVerifying:vn,linkedWallets:dp,loadingNetwork:jv,locale:Sg,loginWithEmail:Pt,multiAsset:dn,multiWallet:Zt,multiWalletWidgetState:Ne,network:ix,networkConfigurations:Et,networkValidationMode:on,newToWeb3WalletChainMap:df,notInTheListImageUrl:Tt||Fe,onboardingImageUrl:hn||De,overrides:M.overrides,passkeySuccessPopup:ox,policiesConsentInnerComponent:gt,primaryWallet:lr,primaryWalletId:mn,privacyPolicyUrl:dt,projectSettings:Ye,qrcodeUri:he,recommendedWallets:X,redirectUrl:M.redirectUrl,refetchProjectSettings:jn,removeBridgeOnboardingCompleted:sr,removeWallet:lp,sdkHasLoaded:Mv,secondaryWallets:Yd,selectedTabIndex:hr,selectedTabSettings:pr,selectedWalletConnector:ar,selectedWalletWithAction:Gr,sendWagmiSettings:Qd,setAuthorizationViewDisplayOrder:Ve,setBridgeOnboardingCompleted:ir,setCallback:uf,setDesktopUri:Be,setIsRenderingEmbeddedAuthFlow:Ee,setIsSingleWalletAccount:Fn,setLegacyIsVerifying:un,setLogInWithEmail:Mt,setMultiWalletWidgetState:Ge,setPasskeySuccessPopup:sx,setPrimaryWallet:El,setQrcodeUri:Z,setSelectedTabIndex:Wa,setSelectedWalletConnectorKey:Cr,setSelectedWalletWithAction:Mi,setShowAuthFlow:$n,setShowBridgeWidget:fc,setShowDynamicUserProfile:Qo,setShowQrcodeModal:hc,shadowDOMEnabled:ct,showAuthFlow:On,showBridgeWidget:Ir,showDynamicUserProfile:Or,showFiat:yn,showLockedWalletView:$t,showQrcodeModal:Ei,siweStatement:Ze,socialMediaIconUrl:((qr=Ye==null?void 0:Ye.general)===null||qr===void 0?void 0:qr.supportUrls)||lt,socialMediaLinkText:Qt,socialMediaUrl:jt,socialProvidersFilter:vt,socialSettings:M.social,tabsItems:wr,termsOfServiceUrl:Re,theme:T,user:ne,userWithMissingInfo:es,walletConnectorOptions:Wt,walletUiUtils:nt,walletsFilter:me}},[q,U,$,ut,We,tn,Ue,bt,j,Wr,uc,cp,Gn,Nn,V,tt,rn,W,K,z,ve,E,Mr,G,N,ye,M.events,M.overrides,M.redirectUrl,M.social,Dn,cf,Cl,lp,ee,nn,Bn,_n,Er,vn,dp,jv,Sg,Pt,dn,Zt,Ne,ix,Et,on,df,Tt,Fe,hn,De,ox,gt,lr,mn,dt,Ye,he,X,jn,sr,Mv,Yd,hr,pr,ar,Gr,Qd,Ve,ir,uf,Mt,Ge,sx,El,Wa,Cr,$n,Qo,hc,ct,On,Ir,Or,yn,$t,Ei,Ze,lt,Qt,jt,vt,wr,Re,T,ne,es,Wt,nt,me]);vY({as:"image",href:ND(),id:"sprite",type:"image/svg+xml"}),vY({as:"fetch",href:ose(),id:"wallet-book",type:"application/json"});const ax=nst({bridgeOnboardingCompleted:uc,connectedWallets:Nn,isAuthenticated:fe||!!lr,isBridgeFlow:Bn,isMultiWalletEnabled:Zt});return f.jsx(KNe,{i18n:nn,children:f.jsx(eE.Provider,{value:$v,children:f.jsx(L4e,{walletBook:Rt,children:f.jsx(T7e,{customerTheme:Yit(T,((R=Ye==null?void 0:Ye.design)===null||R===void 0?void 0:R.modal)||void 0),designSettings:Ye==null?void 0:Ye.design,children:f.jsx(FZe,{children:f.jsxs(x8e,{initialViewType:ax,children:[on==="always"&&f.jsx(Wot,{}),f.jsx(XZe,{children:f.jsx(x7e,{children:f.jsx(zMe,{children:f.jsx(S7e,{children:f.jsx(UVe,{children:f.jsx(_Ke,{children:f.jsx(Eot,{children:f.jsx(kVe,{children:f.jsx(_7e,{children:f.jsx(yHe,{children:f.jsx(UGe,{children:f.jsx(GJe,{children:f.jsx(Uit,{children:f.jsx($ot,{children:f.jsxs(HZe,{children:[f.jsx(art,{}),f.jsx(Tot,{}),f.jsx(Hit,{}),f.jsx(Git,{connectorProps:pt}),Qe,f.jsx(Bot,{children:I})]})})})})})})})})})})})})})})})]})})})})})})},mst=e=>{const t=ID("DYNAMIC_API_BASE_URL",e.settings.apiBaseUrl||"");return Od.setBaseUrl(t),crt(e),gi.setEnvironmentId(e.settings.environmentId),gi.setEmitErrors(e.emitErrors),ist(),f.jsx(Uot,{onReinitialize:qot,children:f.jsx(Pot,{children:f.jsx(_8e,{children:f.jsx(k7e,{children:f.jsx(XMe,{children:f.jsx(hqe,{children:f.jsx(Rot,{children:f.jsx(pst,Object.assign({},e))})})})})})})})};Oo("@dynamic-labs/sdk-react-core",Uoe);Br.logEvent("sdk-react-core.initialization","script-loaded");function RY(e,t){const[n,r]=x.useState(()=>{try{const o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return console.error(o),t}});return[n,o=>{try{const s=o instanceof Function?o(n):o;r(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(s){console.error(s)}}]}const gst="https://c.prediction-markets-api.dflow.net/api/v1",zS="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",TY="KXSOL15M,KXBTC15M,KXETH15M";async function yst({limit:e=100,include15MinCrypto:t=!0}={}){var i,o,s;console.log("[DEBUG-MARKETS] fetchActiveMarkets called with:",{limit:e,include15MinCrypto:t});const r=typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:3001/api/markets":"/api/markets";console.log("[DEBUG-MARKETS] Using baseUrl:",r);try{const a=`${r}?withNestedMarkets=true&status=active&limit=${e}`;console.log("[DFlow] Fetching regular markets from:",a);const l=await fetch(a);let c=[];if(l.ok){const d=await l.json();for(const u of d.events||[])if(u.markets)for(const h of u.markets)c.push({...h,eventTicker:u.ticker,eventTitle:u.title,imageUrl:u.imageUrl});console.log("[DFlow] Regular markets:",c.length)}if(console.log("[DEBUG-CRYPTO15M] include15MinCrypto flag:",t),t){console.log("[DEBUG-CRYPTO15M] ========================================"),console.log("[DEBUG-CRYPTO15M] Fetching 15-minute crypto markets"),console.log("[DEBUG-CRYPTO15M] Series tickers:",TY);try{const d=`${r}?withNestedMarkets=true&seriesTickers=${TY}&status=active&limit=20`;console.log("[DEBUG-CRYPTO15M] Full URL:",d);const u=await fetch(d);if(console.log("[DEBUG-CRYPTO15M] Response status:",u.status),u.ok){const h=await u.json();console.log("[DEBUG-CRYPTO15M] Raw API response:",JSON.stringify(h).substring(0,500)),console.log("[DEBUG-CRYPTO15M] Events returned:",((i=h.events)==null?void 0:i.length)||0);let m=0;for(const v of h.events||[])if(console.log("[DEBUG-CRYPTO15M] Event:",v.ticker,"markets:",((o=v.markets)==null?void 0:o.length)||0),v.markets)for(const g of v.markets)console.log("[DEBUG-CRYPTO15M] Market found:",g.ticker,"-",(s=g.title)==null?void 0:s.substring(0,50)),c.push({...g,eventTicker:v.ticker,eventTitle:v.title,imageUrl:v.imageUrl,is15MinMarket:!0}),m++;console.log("[DEBUG-CRYPTO15M] Total 15-min crypto markets added:",m),console.log("[DEBUG-CRYPTO15M] Total markets now:",c.length)}else{const h=await u.text();console.log("[DEBUG-CRYPTO15M] API FAILED:",u.status,h)}}catch(d){console.log("[DEBUG-CRYPTO15M] Fetch EXCEPTION:",d.message)}console.log("[DEBUG-CRYPTO15M] ========================================")}if(console.log("[DEBUG-MARKETS] Final allMarkets count before return:",c.length),console.log("[DEBUG-MARKETS] Markets with is15MinMarket flag:",c.filter(d=>d.is15MinMarket).length),c.length>0)return c}catch(a){console.log("[DFlow] Events endpoint failed:",a.message)}throw new Error("Failed to fetch markets")}async function vst(e){try{const t=await fetch(`${gst}/markets/${e}`);if(!t.ok)return console.log("[DFlow] Failed to fetch market details:",t.status),null;const n=await t.json();return console.log("[DFlow] Market details:",n),n}catch(t){return console.error("[DFlow] Error fetching market details:",t),null}}const OY={Sports:"https://images.unsplash.com/photo-1461896836934-28e4b8c4e1c0?w=800&h=600&fit=crop",Finance:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop",Politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800&h=600&fit=crop",Crypto:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop",Tech:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&h=600&fit=crop",Weather:"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=800&h=600&fit=crop",Culture:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=800&h=600&fit=crop",Other:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=800&h=600&fit=crop"};function wst(e,t){const n=(e.title||"").toLowerCase();return n.includes("football")||n.includes("nfl")||n.includes("super bowl")||n.includes("pro football")?"https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=800&h=600&fit=crop":n.includes("basketball")||n.includes("nba")?"https://images.unsplash.com/photo-1546519638-68e109498ffc?w=800&h=600&fit=crop":n.includes("baseball")||n.includes("mlb")?"https://images.unsplash.com/photo-1529768167801-9173d94c2a42?w=800&h=600&fit=crop":n.includes("soccer")||n.includes("fifa")||n.includes("world cup")?"https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=800&h=600&fit=crop":n.includes("boxing")||n.includes("ufc")||n.includes("fight")?"https://images.unsplash.com/photo-1549719386-74dfcbf7dbed?w=800&h=600&fit=crop":n.includes("college football")||n.includes("ncaa")?"https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=800&h=600&fit=crop":n.includes("trump")||n.includes("biden")||n.includes("president")||n.includes("election")||n.includes("governor")||n.includes("mayor")?"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800&h=600&fit=crop":n.includes("bitcoin")||n.includes("btc")?"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop":n.includes("ethereum")||n.includes("eth")?"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&h=600&fit=crop":n.includes("crypto")?"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop":n.includes("stock")||n.includes("s&p")||n.includes("nasdaq")||n.includes("dow")?"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop":n.includes("federal reserve")||n.includes("fed ")||n.includes("rate cut")||n.includes("rate hike")||n.includes("interest rate")?"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=800&h=600&fit=crop":n.includes("weather")||n.includes("rain")||n.includes("temperature")||n.includes("hurricane")||n.includes("snow")?"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=800&h=600&fit=crop":n.includes("apple")||n.includes("iphone")?"https://images.unsplash.com/photo-1491933382434-500287f9b54b?w=800&h=600&fit=crop":n.includes("google")?"https://images.unsplash.com/photo-1573804633927-bfcbcd909acd?w=800&h=600&fit=crop":n.includes("tesla")?"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop":n.includes("ai")||n.includes("artificial intelligence")||n.includes("chatgpt")||n.includes("openai")?"https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=600&fit=crop":n.includes("spotify")||n.includes("music")||n.includes("artist")?"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=800&h=600&fit=crop":n.includes("time person")||n.includes("time's person")?"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&h=600&fit=crop":OY[t]||OY.Other}function XP(e,t=new Map){var k;const n=e.status==="finalized"||e.status==="resolved",r=e.result||e.resolution;let i,o,s,a;n&&r?r==="yes"?(i=1,s=1,o=0,a=0):(i=0,s=0,o=1,a=1):(i=parseFloat(e.yesAsk)||.5,o=parseFloat(e.noAsk)||.5,s=parseFloat(e.yesBid)||i,a=parseFloat(e.noBid)||o);const l=i>0?1/i-1:1,c=o>0?1/o-1:1,d=_st(e);let u=e.imageUrl||t.get(e.eventTicker);u||(u=wst(e,d));const h=(k=e.accounts)==null?void 0:k[zS],m=Object.keys(e.accounts||{}),v=m.length>0?e.accounts[m[0]]:null,g=h||v,y=(g==null?void 0:g.yesMint)||null,b=(g==null?void 0:g.noMint)||null;return g&&console.log("[DFlow] Extracted mints - YES:",y,"NO:",b),{id:e.ticker,eventTicker:e.eventTicker,title:e.title||"Unknown Market",subtitle:e.subtitle||e.yesSubTitle||"",category:d,image:u,yesProfit:Math.round(l*100)/100,noProfit:Math.round(c*100)/100,yesPrice:i,noPrice:o,yesBid:s,noBid:a,volume:e.volume||0,status:e.status,isResolved:n,resolution:r,expirationTime:e.expirationTime||null,closeTime:e.closeTime||null,yesMint:y,noMint:b,accounts:e.accounts||null}}function bst(e,t){return new RegExp(`\\b${t}\\b`,"i").test(e)}function _st(e){const t=(e.ticker||"").toUpperCase(),n=(e.title||"").toLowerCase();return t.includes("BTC")||t.includes("ETH")||t.includes("SOL")||t.includes("CRYPTO")||n.includes("bitcoin")||n.includes("ethereum")||n.includes("solana")||n.includes("crypto")?"Crypto":t.includes("NFL")||t.includes("KXSB")||t.includes("NBA")||t.includes("WNBA")||t.includes("NCAA")||t.includes("MLB")||t.includes("NHL")||t.includes("PGA")||t.includes("LPGA")||t.includes("GOLF")||t.includes("MLS")||t.includes("FIFA")||t.includes("BOXING")||t.includes("UFC")||t.includes("MMA")||t.includes("F1")||t.includes("NASCAR")||n.includes("basketball")||n.includes("football")||n.includes("baseball")||n.includes("tennis")||n.includes("boxing")||n.includes("ufc")||n.includes("golf")||n.includes(" pga")||n.includes("lpga")||n.includes("masters")||n.includes("farmers insurance open")||n.includes("us open")&&!n.includes("stock")||n.includes("hockey")||n.includes(" nhl")||n.includes("stanley cup")||n.includes("soccer")||n.includes(" mls")||n.includes("premier league")||n.includes("world cup")||n.includes("champions league")||n.includes("formula 1")||n.includes(" f1 ")||n.includes("nascar")||n.includes("grand prix")||n.includes("racing")||n.includes("tournament")||n.includes("championship")||n.includes("playoffs")||n.includes("super bowl")||n.includes("finals")||/will .+ win the .+/i.test(n)&&!n.includes("election")&&!n.includes("vote")&&!n.includes("president")?"Sports":t.includes("FED")||t.includes("RATE")||n.includes("federal reserve")||n.includes("interest rate")||n.includes("rate cut")||n.includes("rate hike")||n.includes("stock market")||n.includes("s&p 500")||n.includes("dow jones")||n.includes("nasdaq")?"Finance":t.includes("PRES")||t.includes("GOV")||t.includes("MAYOR")||n.includes("president")||n.includes("election")||n.includes("democrat")||n.includes("republican")||n.includes("senate")||n.includes("house")||n.includes("congress")||n.includes("governor")||n.includes("vote")||n.includes("ballot")||n.includes("primary")?"Politics":t.includes("LLM")||/\bAI\b/.test(t)||n.includes("artificial intelligence")||bst(n,"ai")||n.includes(" ai ")||n.includes(" ai?")||n.includes(" ai.")||n.includes("chatgpt")||n.includes("openai")||n.includes("llm")||n.includes("gpt-")||n.includes("machine learning")||n.includes("neural network")?"Tech":t.includes("TIME")||t.includes("GOOGLE")||n.includes("gta")||n.includes("video game")||n.includes("movie")||n.includes("spotify")||n.includes("album")||n.includes("grammy")||n.includes("oscar")||n.includes("emmy")||n.includes("netflix")||n.includes("disney")||n.includes("streaming")?"Culture":"Other"}function xst(e){if(e.length<=1)return e;const t={};for(const i of e){const o=i.category||"Other";t[o]||(t[o]=[]),t[o].push(i)}const n=[];let r=null;for(;Object.values(t).some(i=>i.length>0);){const i=Object.keys(t).filter(s=>t[s].length>0&&s!==r);let o;if(i.length>0)i.sort((s,a)=>t[a].length-t[s].length),o=i[0];else if(o=Object.keys(t).find(s=>t[s].length>0),!o)break;n.push(t[o].shift()),r=o}return n}async function kst({limit:e=100}={}){console.log("[DEBUG-MARKETS] getMarketsForApp called, fetching with include15MinCrypto=true");const t=await yst({limit:e,include15MinCrypto:!0});console.log("[DFlow] Raw markets count:",t.length);const n="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",r=t.filter(m=>{const v=(m.ticker||"").toUpperCase(),g=(m.title||"").toLowerCase();return v.includes("BTC")||v.includes("ETH")||v.includes("SOL")||g.includes("bitcoin")||g.includes("ethereum")||g.includes("solana")||g.includes("crypto")});console.log("[DFlow] Raw crypto-related markets:",r.length),r.length>0&&console.log("[DFlow] Sample crypto markets:",r.slice(0,5).map(m=>{var v;return{ticker:m.ticker,title:m.title,status:m.status,hasUsdc:!!((v=m.accounts)!=null&&v[n]),hasPricing:!!(m.yesAsk&&m.noAsk),yesAsk:m.yesAsk,noAsk:m.noAsk}}));const i=t.filter(m=>{var I,T,M,D;const v=(m.ticker||"").toUpperCase(),g=(m.title||"").toLowerCase(),y=v.includes("BTC")||v.includes("ETH")||v.includes("SOL")||g.includes("bitcoin")||g.includes("ethereum")||g.includes("solana"),b=(I=m.accounts)==null?void 0:I[n];if(!(b!=null&&b.yesMint)||!(b!=null&&b.noMint))return y&&console.log("[DFlow] Crypto market filtered (no USDC mints):",m.ticker,(T=m.title)==null?void 0:T.substring(0,40)),!1;if(!m.yesAsk||!m.noAsk)return y&&console.log("[DFlow] Crypto market filtered (no pricing):",m.ticker,(M=m.title)==null?void 0:M.substring(0,40)),!1;if(m.status!=="active")return y&&console.log("[DFlow] Crypto market filtered (not active):",m.ticker,m.status),!1;const k=(m.title||"").toLowerCase().trim(),_=k.startsWith("will "),R=k.includes("price up in next 15 mins")||k.includes("price down in next 15 mins");return m.is15MinMarket&&(console.log("[DEBUG-CRYPTO15M] Title filter check for:",m.ticker),console.log("[DEBUG-CRYPTO15M]   title:",m.title),console.log("[DEBUG-CRYPTO15M]   isWillQuestion:",_),console.log("[DEBUG-CRYPTO15M]   is15MinQuestion:",R),console.log("[DEBUG-CRYPTO15M]   PASSES:",_||R)),!_&&!R?(y&&console.log("[DFlow] Crypto market filtered (not a binary question):",m.ticker,(D=m.title)==null?void 0:D.substring(0,50)),!1):!0});console.log("[DFlow] Valid binary markets:",i.length);const o=i.filter(m=>{const v=(m.ticker||"").toUpperCase(),g=(m.title||"").toLowerCase();return v.includes("BTC")||v.includes("ETH")||v.includes("SOL")||g.includes("bitcoin")||g.includes("ethereum")||g.includes("solana")});console.log("[DFlow] Valid crypto markets after filtering:",o.length),o.length>0&&console.log("[DFlow] Valid crypto market samples:",o.slice(0,3).map(m=>{var v;return{ticker:m.ticker,title:(v=m.title)==null?void 0:v.substring(0,40)}}));const s=i.map(m=>XP(m)),a={};s.forEach(m=>{a[m.category]=(a[m.category]||0)+1}),console.log("[DFlow] Raw category distribution:",a);const l={};for(const m of s){const v=m.category||"Other";l[v]||(l[v]=[]),l[v].push(m)}for(const m of Object.keys(l))l[m].sort((v,g)=>{const y=v.expirationTime||1/0,b=g.expirationTime||1/0;return y-b});const c=[],d=20;for(const m of Object.keys(l))c.push(...l[m].slice(0,d));const u={};return c.forEach(m=>{u[m.category]=(u[m.category]||0)+1}),console.log("[DFlow] Selected category distribution:",u),xst(c)}async function Sst(e){var i,o,s,a,l,c,d,u,h,m;if(!e)return console.log("[DEBUG-HISTORY] fetchUserPositionsOnChain called with NO wallet address"),[];const t="https://mainnet.helius-rpc.com/?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e",r=typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:3001":"";try{console.log("[DEBUG-HISTORY] ========================================"),console.log("[DEBUG-HISTORY] fetchUserPositionsOnChain STARTING"),console.log("[DEBUG-HISTORY] Wallet address being queried:",e),console.log("[DEBUG-HISTORY] Proxy base URL:",r);const[v,g]=await Promise.all([fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getTokenAccountsByOwner",params:[e,{programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{encoding:"jsonParsed"}]})}),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:2,method:"getTokenAccountsByOwner",params:[e,{programId:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{encoding:"jsonParsed"}]})})]),y=await v.json(),b=await g.json(),k=[...((i=y.result)==null?void 0:i.value)||[],...((o=b.result)==null?void 0:o.value)||[]];if(console.log("[DEBUG-HISTORY] Token Program accounts:",((a=(s=y.result)==null?void 0:s.value)==null?void 0:a.length)||0),console.log("[DEBUG-HISTORY] Token-2022 accounts:",((c=(l=b.result)==null?void 0:l.value)==null?void 0:c.length)||0),console.log("[DEBUG-HISTORY] Total token accounts found:",k.length),k.length===0)return console.log("[DEBUG-HISTORY] NO token accounts found for this wallet"),[];const _=new Map;for(const q of k){const z=(h=(u=(d=q.account)==null?void 0:d.data)==null?void 0:u.parsed)==null?void 0:h.info;if(!z)continue;const S=z.mint,E=z.tokenAmount;console.log("[DEBUG-HISTORY] Token account:",{mint:(S==null?void 0:S.substring(0,10))+"...",rawAmount:E==null?void 0:E.amount,uiAmount:E==null?void 0:E.uiAmount,decimals:E==null?void 0:E.decimals});const N=parseFloat((E==null?void 0:E.uiAmount)||0);N>0&&_.set(S,{amount:N,rawAmount:E==null?void 0:E.amount,decimals:E==null?void 0:E.decimals,tokenAccount:q.pubkey})}if(_.size===0)return console.log("[DEBUG-HISTORY] No non-zero token balances found"),[];console.log("[DEBUG-HISTORY] Tokens with non-zero balances:",_.size),console.log("[DEBUG-HISTORY] All mint addresses:",Array.from(_.keys()));const R=Array.from(_.keys());console.log("[DEBUG-HISTORY] Calling filter_outcome_mints with",R.length,"mints");const I=await fetch(`${r}/api/filter-mints`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:R})});if(console.log("[DEBUG-HISTORY] filter_outcome_mints response status:",I.status),!I.ok){const q=await I.text();return console.log("[DEBUG-HISTORY] filter_outcome_mints FAILED:",I.status,q),[]}const T=await I.json(),M=T.outcomeMints||[];if(console.log("[DEBUG-HISTORY] filter_outcome_mints raw response:",JSON.stringify(T)),console.log("[DEBUG-HISTORY] Prediction market tokens found:",M.length),console.log("[DEBUG-HISTORY] Outcome mint addresses:",M),M.length===0)return console.log("[DEBUG-HISTORY] NO prediction market tokens found in wallet"),[];console.log("[DEBUG-HISTORY] Calling markets/batch with mints:",M);const D=await fetch(`${r}/api/markets-batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mints:M})});if(console.log("[DEBUG-HISTORY] markets/batch response status:",D.status),!D.ok){const q=await D.text();return console.log("[DEBUG-HISTORY] markets/batch FAILED:",D.status,q),[]}const A=await D.json(),U=A.markets||[];console.log("[DEBUG-HISTORY] markets/batch raw response:",JSON.stringify(A).substring(0,500)),console.log("[DEBUG-HISTORY] Markets returned:",U.length),console.log("[DEBUG-HISTORY] Market tickers:",U.map(q=>q.ticker));const $=[];for(const q of U){const z=(m=q.accounts)==null?void 0:m[zS];if(console.log("[DEBUG-HISTORY] Processing market:",q.ticker),console.log("[DEBUG-HISTORY]   status:",q.status,"| result:",q.result,"| resolution:",q.resolution),console.log("[DEBUG-HISTORY]   expirationTime:",q.expirationTime),console.log("[DEBUG-HISTORY]   hasUSDC:",!!z),!z){console.log("[DEBUG-HISTORY] Skipping market (no USDC account):",q.ticker);continue}if(z.yesMint&&_.has(z.yesMint)){const S=_.get(z.yesMint);console.log("[DEBUG-HISTORY] YES position in",q.ticker),console.log("[DEBUG-HISTORY]   uiAmount:",S.amount,"| rawAmount:",S.rawAmount,"| decimals:",S.decimals),console.log("[DEBUG-HISTORY]   market.yesAsk:",q.yesAsk,"| market.yesBid:",q.yesBid),$.push({market:XP(q),choice:"yes",amount:S.amount,rawAmount:S.rawAmount,decimals:S.decimals,tokenMint:z.yesMint,tokenAccount:S.tokenAccount,isOnChain:!0})}if(z.noMint&&_.has(z.noMint)){const S=_.get(z.noMint);console.log("[DEBUG-HISTORY] NO position in",q.ticker),console.log("[DEBUG-HISTORY]   uiAmount:",S.amount,"| rawAmount:",S.rawAmount,"| decimals:",S.decimals),console.log("[DEBUG-HISTORY]   market.noAsk:",q.noAsk,"| market.noBid:",q.noBid),$.push({market:XP(q),choice:"no",amount:S.amount,rawAmount:S.rawAmount,decimals:S.decimals,tokenMint:z.noMint,tokenAccount:S.tokenAccount,isOnChain:!0})}}return console.log("[DEBUG-HISTORY] ========================================"),console.log("[DEBUG-HISTORY] FINAL: Found",$.length,"on-chain positions"),console.log("[DEBUG-HISTORY] Position details:",$.map(q=>{var z;return{market:(z=q.market.title)==null?void 0:z.substring(0,30),choice:q.choice,amount:q.amount}})),$}catch(v){return console.error("[DFlow] Failed to fetch on-chain positions:",v),[]}}async function Ist({market:e,side:t,amount:n,userPublicKey:r}){var h;console.log("[DFlow] Placing bet:",{market:e.id,side:t,amount:n,userPublicKey:r});let i=t==="yes"?e.yesMint:e.noMint;if(!i){console.log("[DFlow] Token mint not found, fetching market details...");const m=await vst(e.id);if(m){const v=(h=m.accounts)==null?void 0:h[zS],g=Object.values(m.accounts||{})[0],y=v||g,b=y==null?void 0:y.yesMint,k=y==null?void 0:y.noMint;i=t==="yes"?b:k,console.log("[DFlow] Got mints from details - YES:",b,"NO:",k)}}if(!i)throw console.error("[DFlow] No outcome token mint found for",t,"Market:",e),new Error(`No ${t} token mint found for this market`);const o=Math.floor(n*1e6);console.log("[DFlow] Amount calculation:",{amountUSDC:n,amountInSmallestUnit:o,outputMint:i});const s=new URLSearchParams;s.append("inputMint",zS),s.append("outputMint",i),s.append("amount",o.toString()),s.append("slippageBps","100"),s.append("userPublicKey",r);const c=`${typeof window<"u"&&window.location.hostname!=="localhost"?"/api/dflow-order":"http://localhost:3001/api/dflow-order"}?${s.toString()}`;console.log("[DFlow] Using proxy:",c);const d=await fetch(c);if(!d.ok){const m=await d.text();throw console.error("[DFlow] Order failed:",d.status,m),new Error(`Order failed: ${d.status} - ${m}`)}const u=await d.json();return console.log("[DFlow] Order response:",u),u}function Est(e){const[t,n]=x.useState([]),[r,i]=x.useState(!1),[o,s]=x.useState(null),a=x.useCallback(async()=>{if(console.log("[DEBUG-HISTORY] ============================================"),console.log("[DEBUG-HISTORY] useOnChainPositions.fetchPositions called"),console.log("[DEBUG-HISTORY] walletAddress received:",e),console.log("[DEBUG-HISTORY] walletAddress type:",typeof e),console.log("[DEBUG-HISTORY] walletAddress length:",e==null?void 0:e.length),!e){console.log("[DEBUG-HISTORY] NO wallet address - clearing positions"),n([]);return}e.length!==44&&e.length!==43&&console.error("[DEBUG-HISTORY] WARNING: walletAddress length is unusual:",e.length),i(!0),s(null);try{console.log("[DEBUG-HISTORY] Calling fetchUserPositionsOnChain with:",e);const l=await Sst(e);console.log("[DEBUG-HISTORY] fetchUserPositionsOnChain returned:",l.length,"positions"),console.log("[DEBUG-HISTORY] Raw positions from API:",l.map(v=>{var g,y,b;return{marketId:(g=v.market)==null?void 0:g.id,ticker:(y=v.market)==null?void 0:y.ticker,choice:v.choice,amount:v.amount,tokenMint:(b=v.tokenMint)==null?void 0:b.substring(0,10)}}));const c=new Set,d=l.filter(v=>{var y;const g=v.tokenMint||`${(y=v.market)==null?void 0:y.id}-${v.choice}`;return c.has(g)?(console.log("[DEBUG-HISTORY] DUPLICATE found:",g),!1):(c.add(g),!0)});console.log("[DEBUG-HISTORY] After dedup:",d.length,"positions (was",l.length,")");const u=Math.floor(Date.now()/1e3),h=d.map(v=>{const g=v.amount,y=v.market,b=y.resolution,k=y.status,_=y.expirationTime,R=b==="yes"||b==="no",I=k==="finalized"||k==="resolved",T=_&&_<u;console.log("[Position]",y.ticker||y.id,"|",v.choice.toUpperCase(),"|",g.toFixed(2),"tokens"),console.log("[Position]   marketStatus:",k,"| result:",b,"| isFinalized:",I,"| isExpired:",T);let M="pending",D=0;return R?(M=v.choice==="yes"&&b==="yes"||v.choice==="no"&&b==="no"?"won":"lost",D=g,console.log("[Position]   RESOLVED:",M.toUpperCase(),"| payout: $"+D.toFixed(2))):I?(M="pending_resolution",console.log("[Position]   FINALIZED but no result field")):T&&(M="pending_resolution",console.log("[Position]   EXPIRED - awaiting resolution (or market deleted from API)")),{market:y,choice:v.choice,tokenCount:g,payout:D,timestamp:Date.now(),status:M,tokenMint:v.tokenMint,tokenAccount:v.tokenAccount,isOnChain:!0}});n(h);const m=h.reduce((v,g)=>v+(g.tokenCount||0),0);console.log("[useOnChainPositions] Positions:",h.length,"| Total tokens:",m.toFixed(2))}catch(l){console.error("[useOnChainPositions] Error:",l),s(l.message)}finally{i(!1)}},[e]);return x.useEffect(()=>{a()},[a]),{positions:t,isLoading:r,error:o,refetch:a}}const nhe=x.createContext(null);let Cst=0;function Ast({children:e}){const[t,n]=x.useState([]),r=x.useCallback(c=>{const d=++Cst,u={id:d,type:c.type||"info",message:c.message,button:c.button,onButtonClick:c.onButtonClick,onClick:c.onClick,autoDismiss:c.autoDismiss!==!1,duration:c.duration||3e3};return n(h=>[...h,u]),u.autoDismiss&&setTimeout(()=>{i(d)},u.duration),d},[]),i=x.useCallback(c=>{n(d=>d.filter(u=>u.id!==c))},[]),o=x.useCallback((c,d={})=>r({...d,type:"success",message:c,duration:d.duration||2e3}),[r]),s=x.useCallback((c,d={})=>r({...d,type:"error",message:c,autoDismiss:d.autoDismiss??!1}),[r]),a=x.useCallback((c,d={})=>r({...d,type:"warning",message:c,duration:d.duration||3e3}),[r]),l=x.useCallback((c,d={})=>r({...d,type:"info",message:c,duration:d.duration||3e3}),[r]);return f.jsx(nhe.Provider,{value:{toasts:t,showToast:r,dismissToast:i,success:o,error:s,warning:a,info:l},children:e})}function rhe(){const e=x.useContext(nhe);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const ihe=x.createContext(null);function Rst({audioContext:e,children:t}){return f.jsx(ihe.Provider,{value:e,children:t})}function Tst(){return x.useContext(ihe)}const ohe=x.createContext();function Ost({children:e}){const[t,n]=x.useState(()=>localStorage.getItem("instinct-theme")||"light");x.useEffect(()=>{localStorage.setItem("instinct-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")},i=t==="dark",o=i?{background:"#1a1a1a",backgroundSecondary:"#222",paper:"#2a2a2a",border:"#444",text:"#f0f0f0",textSecondary:"#aaa",textMuted:"#666"}:{background:"#E8E8E8",backgroundSecondary:"#f5f5f5",paper:"#fff",border:"#222",text:"#222",textSecondary:"#666",textMuted:"#888"};return f.jsx(ohe.Provider,{value:{theme:t,toggleTheme:r,isDark:i,colors:o},children:e})}function dc(){const e=x.useContext(ohe);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}var Nst="4.57.1",Pst="4.57.1";function mi(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function NY(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Bst(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function tE(e,...t){if(!Bst(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Dst(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");NY(e.outputLen),NY(e.blockLen)}function VS(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mst(e,t){tE(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Yg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T4=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ld=(e,t)=>e<<32-t|e>>>t;function jst(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Wj(e){return typeof e=="string"&&(e=jst(e)),tE(e),e}function $st(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];tE(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let she=class{clone(){return this._cloneInto()}};function ahe(e){const t=r=>e().update(Wj(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function lhe(e=32){if(Yg&&typeof Yg.getRandomValues=="function")return Yg.getRandomValues(new Uint8Array(e));if(Yg&&typeof Yg.randomBytes=="function")return Yg.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Lst(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}const Ust=(e,t,n)=>e&t^~e&n,Fst=(e,t,n)=>e&t^e&n^t&n;let che=class extends she{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=T4(this.buffer)}update(t){VS(this);const{view:n,buffer:r,blockLen:i}=this;t=Wj(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=T4(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){VS(this),Mst(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;Lst(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=T4(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const Ok=BigInt(2**32-1),QP=BigInt(32);function dhe(e,t=!1){return t?{h:Number(e&Ok),l:Number(e>>QP&Ok)}:{h:Number(e>>QP&Ok)|0,l:Number(e&Ok)|0}}function Wst(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=dhe(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const qst=(e,t)=>BigInt(e>>>0)<<QP|BigInt(t>>>0),zst=(e,t,n)=>e>>>n,Vst=(e,t,n)=>e<<32-n|t>>>n,Kst=(e,t,n)=>e>>>n|t<<32-n,Hst=(e,t,n)=>e<<32-n|t>>>n,Gst=(e,t,n)=>e<<64-n|t>>>n-32,Jst=(e,t,n)=>e>>>n-32|t<<64-n,Zst=(e,t)=>t,Yst=(e,t)=>e,Xst=(e,t,n)=>e<<n|t>>>32-n,Qst=(e,t,n)=>t<<n|e>>>32-n,eat=(e,t,n)=>t<<n-32|e>>>64-n,tat=(e,t,n)=>e<<n-32|t>>>64-n;function nat(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const rat=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),iat=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,oat=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),sat=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,aat=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),lat=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,Wn={fromBig:dhe,split:Wst,toBig:qst,shrSH:zst,shrSL:Vst,rotrSH:Kst,rotrSL:Hst,rotrBH:Gst,rotrBL:Jst,rotr32H:Zst,rotr32L:Yst,rotlSH:Xst,rotlSL:Qst,rotlBH:eat,rotlBL:tat,add:nat,add3L:rat,add3H:iat,add4L:oat,add4H:sat,add5H:lat,add5L:aat},[cat,dat]=Wn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Rf=new Uint32Array(80),Tf=new Uint32Array(80);let uat=class extends che{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let _=0;_<16;_++,n+=4)Rf[_]=t.getUint32(n),Tf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Rf[_-15]|0,I=Tf[_-15]|0,T=Wn.rotrSH(R,I,1)^Wn.rotrSH(R,I,8)^Wn.shrSH(R,I,7),M=Wn.rotrSL(R,I,1)^Wn.rotrSL(R,I,8)^Wn.shrSL(R,I,7),D=Rf[_-2]|0,A=Tf[_-2]|0,U=Wn.rotrSH(D,A,19)^Wn.rotrBH(D,A,61)^Wn.shrSH(D,A,6),$=Wn.rotrSL(D,A,19)^Wn.rotrBL(D,A,61)^Wn.shrSL(D,A,6),q=Wn.add4L(M,$,Tf[_-7],Tf[_-16]),z=Wn.add4H(q,T,U,Rf[_-7],Rf[_-16]);Rf[_]=z|0,Tf[_]=q|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=Wn.rotrSH(u,h,14)^Wn.rotrSH(u,h,18)^Wn.rotrBH(u,h,41),I=Wn.rotrSL(u,h,14)^Wn.rotrSL(u,h,18)^Wn.rotrBL(u,h,41),T=u&m^~u&g,M=h&v^~h&y,D=Wn.add5L(k,I,M,dat[_],Tf[_]),A=Wn.add5H(D,b,R,T,cat[_],Rf[_]),U=D|0,$=Wn.rotrSH(r,i,28)^Wn.rotrBH(r,i,34)^Wn.rotrBH(r,i,39),q=Wn.rotrSL(r,i,28)^Wn.rotrBL(r,i,34)^Wn.rotrBL(r,i,39),z=r&o^r&a^o&a,S=i&s^i&l^s&l;b=g|0,k=y|0,g=m|0,y=v|0,m=u|0,v=h|0,{h:u,l:h}=Wn.add(c|0,d|0,A|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=Wn.add3L(U,q,S);r=Wn.add3H(E,A,$,z),i=E|0}({h:r,l:i}=Wn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Wn.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Wn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Wn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=Wn.add(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=Wn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=Wn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:b,l:k}=Wn.add(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k)}roundClean(){Rf.fill(0),Tf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const fat=ahe(()=>new uat);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nE=BigInt(0),rE=BigInt(1),hat=BigInt(2);function Am(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function O_(e){if(!Am(e))throw new Error("Uint8Array expected")}function Fu(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const pat=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Rm(e){O_(e);let t="";for(let n=0;n<e.length;n++)t+=pat[e[n]];return t}function Dy(e){const t=e.toString(16);return t.length&1?"0"+t:t}function qj(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?nE:BigInt("0x"+e)}const lu={_0:48,_9:57,A:65,F:70,a:97,f:102};function PY(e){if(e>=lu._0&&e<=lu._9)return e-lu._0;if(e>=lu.A&&e<=lu.F)return e-(lu.A-10);if(e>=lu.a&&e<=lu.f)return e-(lu.a-10)}function C0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=PY(e.charCodeAt(o)),a=PY(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function fm(e){return qj(Rm(e))}function Qy(e){return O_(e),qj(Rm(Uint8Array.from(e).reverse()))}function A0(e,t){return C0(e.toString(16).padStart(t*2,"0"))}function b1(e,t){return A0(e,t).reverse()}function mat(e){return C0(Dy(e))}function ho(e,t,n){let r;if(typeof t=="string")try{r=C0(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Am(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Tm(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];O_(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}function gat(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function yat(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const O4=e=>typeof e=="bigint"&&nE<=e;function iE(e,t,n){return O4(e)&&O4(t)&&O4(n)&&t<=e&&e<n}function Ql(e,t,n,r){if(!iE(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function uhe(e){let t;for(t=0;e>nE;e>>=rE,t+=1);return t}function vat(e,t){return e>>BigInt(t)&rE}function wat(e,t,n){return e|(n?rE:nE)<<BigInt(t)}const zj=e=>(hat<<BigInt(e-1))-rE,N4=e=>new Uint8Array(e),BY=e=>Uint8Array.from(e);function fhe(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=N4(e),i=N4(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),l=(u=N4())=>{i=a(BY([0]),u),r=a(),u.length!==0&&(i=a(BY([1]),u),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<t;){r=a();const m=r.slice();h.push(m),u+=r.length}return Tm(...h)};return(u,h)=>{s(),l(u);let m;for(;!(m=h(c()));)l();return s(),m}}const bat={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Am(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function gv(e,t,n={}){const r=(i,o,s)=>{const a=bat[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+l)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const _at=()=>{throw new Error("not implemented")};function _1(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const xat=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Ql,abool:Fu,abytes:O_,bitGet:vat,bitLen:uhe,bitMask:zj,bitSet:wat,bytesToHex:Rm,bytesToNumberBE:fm,bytesToNumberLE:Qy,concatBytes:Tm,createHmacDrbg:fhe,ensureBytes:ho,equalBytes:gat,hexToBytes:C0,hexToNumber:qj,inRange:iE,isBytes:Am,memoized:_1,notImplemented:_at,numberToBytesBE:A0,numberToBytesLE:b1,numberToHexUnpadded:Dy,numberToVarBytesBE:mat,utf8ToBytes:yat,validateObject:gv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ko=BigInt(0),Ri=BigInt(1),Fp=BigInt(2),kat=BigInt(3),e7=BigInt(4),DY=BigInt(5),MY=BigInt(8);function xi(e,t){const n=e%t;return n>=Ko?n:t+n}function Sat(e,t,n){if(t<Ko)throw new Error("invalid exponent, negatives unsupported");if(n<=Ko)throw new Error("invalid modulus");if(n===Ri)return Ko;let r=Ri;for(;t>Ko;)t&Ri&&(r=r*e%n),e=e*e%n,t>>=Ri;return r}function qi(e,t,n){let r=e;for(;t-- >Ko;)r*=r,r%=n;return r}function t7(e,t){if(e===Ko)throw new Error("invert: expected non-zero number");if(t<=Ko)throw new Error("invert: expected positive modulus, got "+t);let n=xi(e,t),r=t,i=Ko,o=Ri;for(;n!==Ko;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Ri)throw new Error("invert: does not exist");return xi(i,t)}function Iat(e){const t=(e-Ri)/Fp;let n,r,i;for(n=e-Ri,r=0;n%Fp===Ko;n/=Fp,r++);for(i=Fp;i<e&&Sat(i,t,e)!==e-Ri;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+Ri)/e7;return function(l,c){const d=l.pow(c,s);if(!l.eql(l.sqr(d),c))throw new Error("Cannot find square root");return d}}const o=(n+Ri)/Fp;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),u=a.pow(l,o),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(h);m<c&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const v=a.pow(d,Ri<<BigInt(c-m-1));d=a.sqr(v),u=a.mul(u,v),h=a.mul(h,d),c=m}return u}}function Eat(e){if(e%e7===kat){const t=(e+Ri)/e7;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%MY===DY){const t=(e-DY)/MY;return function(r,i){const o=r.mul(i,Fp),s=r.pow(o,t),a=r.mul(i,s),l=r.mul(r.mul(a,Fp),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return Iat(e)}const Cat=(e,t)=>(xi(e,t)&Ri)===Ri,Aat=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rat(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Aat.reduce((r,i)=>(r[i]="function",r),t);return gv(e,n)}function Tat(e,t,n){if(n<Ko)throw new Error("invalid exponent, negatives unsupported");if(n===Ko)return e.ONE;if(n===Ri)return t;let r=e.ONE,i=t;for(;n>Ko;)n&Ri&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ri;return r}function Oat(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function hhe(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function oE(e,t,n=!1,r={}){if(e<=Ko)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=hhe(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:zj(i),ZERO:Ko,ONE:Ri,create:l=>xi(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ko<=l&&l<e},is0:l=>l===Ko,isOdd:l=>(l&Ri)===Ri,neg:l=>xi(-l,e),eql:(l,c)=>l===c,sqr:l=>xi(l*l,e),add:(l,c)=>xi(l+c,e),sub:(l,c)=>xi(l-c,e),mul:(l,c)=>xi(l*c,e),pow:(l,c)=>Tat(a,l,c),div:(l,c)=>xi(l*t7(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>t7(l,e),sqrt:r.sqrt||(l=>(s||(s=Eat(e)),s(a,l))),invertBatch:l=>Oat(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?b1(l,o):A0(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?Qy(l):fm(l)}});return Object.freeze(a)}function phe(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function mhe(e){const t=phe(e);return t+Math.ceil(t/2)}function Nat(e,t,n=!1){const r=e.length,i=phe(t),o=mhe(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Qy(e):fm(e),a=xi(s,t-Ri)+Ri;return n?b1(a,i):A0(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jY=BigInt(0),Nk=BigInt(1);function P4(e,t){const n=t.negate();return e?n:t}function ghe(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function B4(e,t){ghe(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function Pat(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Bat(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const D4=new WeakMap,yhe=new WeakMap;function M4(e){return yhe.get(e)||1}function vhe(e,t){return{constTimeNegate:P4,hasPrecomputes(n){return M4(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>jY;)r&Nk&&(i=i.add(o)),o=o.double(),r>>=Nk;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=B4(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){const{windows:o,windowSize:s}=B4(n,t);let a=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),d=2**n,u=BigInt(n);for(let h=0;h<o;h++){const m=h*s;let v=Number(i&c);i>>=u,v>s&&(v-=d,i+=Nk);const g=m,y=m+Math.abs(v)-1,b=h%2!==0,k=v<0;v===0?l=l.add(P4(b,r[g])):a=a.add(P4(k,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=B4(n,t),l=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let u=0;u<s;u++){const h=u*a;if(i===jY)break;let m=Number(i&l);if(i>>=d,m>a&&(m-=c,i+=Nk),m===0)continue;let v=r[h+Math.abs(m)-1];m<0&&(v=v.negate()),o=o.add(v)}return o},getPrecomputes(n,r,i){let o=D4.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&D4.set(r,i(o))),o},wNAFCached(n,r,i){const o=M4(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=M4(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){ghe(r,t),yhe.set(n,r),D4.delete(n)}}}function whe(e,t,n,r){if(Pat(n,e),Bat(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=uhe(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=new Array(a+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let d=i;for(let u=c;u>=0;u-=s){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],g=Number(v>>BigInt(u)&BigInt(a));l[g]=l[g].add(n[m])}let h=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),h=h.add(v);if(d=d.add(h),u!==0)for(let m=0;m<s;m++)d=d.double()}return d}function Vj(e){return Rat(e.Fp),gv(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hhe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xc=BigInt(0),ba=BigInt(1),Pk=BigInt(2),Dat=BigInt(8),Mat={zip215:!0};function jat(e){const t=Vj(e);return gv(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function $at(e){const t=jat(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=Pk<<BigInt(a*8)-ba,d=n.create,u=oE(t.n,t.nBitLength),h=t.uvRatio||((N,P)=>{try{return{isValid:!0,value:n.sqrt(N*n.inv(P))}}catch{return{isValid:!1,value:xc}}}),m=t.adjustScalarBytes||(N=>N),v=t.domain||((N,P,j)=>{if(Fu("phflag",j),P.length||j)throw new Error("Contexts/pre-hash are not supported");return N});function g(N,P){Ql("coordinate "+N,P,xc,c)}function y(N){if(!(N instanceof _))throw new Error("ExtendedPoint expected")}const b=_1((N,P)=>{const{ex:j,ey:V,ez:K}=N,F=N.is0();P==null&&(P=F?Dat:n.inv(K));const O=d(j*P),W=d(V*P),G=d(K*P);if(F)return{x:xc,y:ba};if(G!==ba)throw new Error("invZ was invalid");return{x:O,y:W}}),k=_1(N=>{const{a:P,d:j}=t;if(N.is0())throw new Error("bad point: ZERO");const{ex:V,ey:K,ez:F,et:O}=N,W=d(V*V),G=d(K*K),Y=d(F*F),ie=d(Y*Y),ye=d(W*P),me=d(Y*d(ye+G)),be=d(ie+d(j*d(W*G)));if(me!==be)throw new Error("bad point: equation left != right (1)");const Me=d(V*K),Fe=d(F*O);if(Me!==Fe)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(P,j,V,K){this.ex=P,this.ey=j,this.ez=V,this.et=K,g("x",P),g("y",j),g("z",V),g("t",K),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof _)throw new Error("extended point not allowed");const{x:j,y:V}=P||{};return g("x",j),g("y",V),new _(j,V,ba,d(j*V))}static normalizeZ(P){const j=n.invertBatch(P.map(V=>V.ez));return P.map((V,K)=>V.toAffine(j[K])).map(_.fromAffine)}static msm(P,j){return whe(_,u,P,j)}_setWindowSize(P){T.setWindowSize(this,P)}assertValidity(){k(this)}equals(P){y(P);const{ex:j,ey:V,ez:K}=this,{ex:F,ey:O,ez:W}=P,G=d(j*W),Y=d(F*K),ie=d(V*W),ye=d(O*K);return G===Y&&ie===ye}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:P}=t,{ex:j,ey:V,ez:K}=this,F=d(j*j),O=d(V*V),W=d(Pk*d(K*K)),G=d(P*F),Y=j+V,ie=d(d(Y*Y)-F-O),ye=G+O,me=ye-W,be=G-O,Me=d(ie*me),Fe=d(ye*be),De=d(ie*be),gt=d(me*ye);return new _(Me,Fe,gt,De)}add(P){y(P);const{a:j,d:V}=t,{ex:K,ey:F,ez:O,et:W}=this,{ex:G,ey:Y,ez:ie,et:ye}=P;if(j===BigInt(-1)){const Re=d((F-K)*(Y+G)),Ze=d((F+K)*(Y-G)),ct=d(Ze-Re);if(ct===xc)return this.double();const st=d(O*Pk*ye),vt=d(W*Pk*ie),$t=vt+st,zt=Ze+Re,ce=vt-st,X=d($t*ct),ee=d(zt*ce),we=d($t*ce),Ae=d(ct*zt);return new _(X,ee,Ae,we)}const me=d(K*G),be=d(F*Y),Me=d(W*V*ye),Fe=d(O*ie),De=d((K+F)*(G+Y)-me-be),gt=Fe-Me,tt=Fe+Me,dt=d(be-j*me),Qt=d(De*gt),lt=d(tt*dt),jt=d(De*dt),rn=d(gt*tt);return new _(Qt,lt,rn,jt)}subtract(P){return this.add(P.negate())}wNAF(P){return T.wNAFCached(this,P,_.normalizeZ)}multiply(P){const j=P;Ql("scalar",j,ba,r);const{p:V,f:K}=this.wNAF(j);return _.normalizeZ([V,K])[0]}multiplyUnsafe(P,j=_.ZERO){const V=P;return Ql("scalar",V,xc,r),V===xc?I:this.is0()||V===ba?this:T.wNAFCachedUnsafe(this,V,_.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(P){return b(this,P)}clearCofactor(){const{h:P}=t;return P===ba?this:this.multiplyUnsafe(P)}static fromHex(P,j=!1){const{d:V,a:K}=t,F=n.BYTES;P=ho("pointHex",P,F),Fu("zip215",j);const O=P.slice(),W=P[F-1];O[F-1]=W&-129;const G=Qy(O),Y=j?c:n.ORDER;Ql("pointHex.y",G,xc,Y);const ie=d(G*G),ye=d(ie-ba),me=d(V*ie-K);let{isValid:be,value:Me}=h(ye,me);if(!be)throw new Error("Point.fromHex: invalid y coordinate");const Fe=(Me&ba)===ba,De=(W&128)!==0;if(!j&&Me===xc&&De)throw new Error("Point.fromHex: x=0 and x_0=1");return De!==Fe&&(Me=d(-Me)),_.fromAffine({x:Me,y:G})}static fromPrivateKey(P){return A(P).point}toRawBytes(){const{x:P,y:j}=this.toAffine(),V=b1(j,n.BYTES);return V[V.length-1]|=P&ba?128:0,V}toHex(){return Rm(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,ba,d(t.Gx*t.Gy)),_.ZERO=new _(xc,ba,ba,xc);const{BASE:R,ZERO:I}=_,T=vhe(_,a*8);function M(N){return xi(N,r)}function D(N){return M(Qy(N))}function A(N){const P=n.BYTES;N=ho("private key",N,P);const j=ho("hashed private key",o(N),2*P),V=m(j.slice(0,P)),K=j.slice(P,2*P),F=D(V),O=R.multiply(F),W=O.toRawBytes();return{head:V,prefix:K,scalar:F,point:O,pointBytes:W}}function U(N){return A(N).pointBytes}function $(N=new Uint8Array,...P){const j=Tm(...P);return D(o(v(j,ho("context",N),!!i)))}function q(N,P,j={}){N=ho("message",N),i&&(N=i(N));const{prefix:V,scalar:K,pointBytes:F}=A(P),O=$(j.context,V,N),W=R.multiply(O).toRawBytes(),G=$(j.context,W,F,N),Y=M(O+G*K);Ql("signature.s",Y,xc,r);const ie=Tm(W,b1(Y,n.BYTES));return ho("result",ie,n.BYTES*2)}const z=Mat;function S(N,P,j,V=z){const{context:K,zip215:F}=V,O=n.BYTES;N=ho("signature",N,2*O),P=ho("message",P),j=ho("publicKey",j,O),F!==void 0&&Fu("zip215",F),i&&(P=i(P));const W=Qy(N.slice(O,2*O));let G,Y,ie;try{G=_.fromHex(j,F),Y=_.fromHex(N.slice(0,O),F),ie=R.multiplyUnsafe(W)}catch{return!1}if(!F&&G.isSmallOrder())return!1;const ye=$(K,Y.toRawBytes(),G.toRawBytes(),P);return Y.add(G.multiplyUnsafe(ye)).subtract(ie).clearCofactor().equals(_.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:U,sign:q,verify:S,ExtendedPoint:_,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>s(n.BYTES),precompute(N=8,P=_.BASE){return P._setWindowSize(N),P.multiply(BigInt(3)),P}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kj=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$Y=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Lat=BigInt(1),LY=BigInt(2);BigInt(3);const Uat=BigInt(5),Fat=BigInt(8);function Wat(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Kj,a=e*e%o*e%o,l=qi(a,LY,o)*a%o,c=qi(l,Lat,o)*e%o,d=qi(c,Uat,o)*c%o,u=qi(d,t,o)*d%o,h=qi(u,n,o)*u%o,m=qi(h,r,o)*h%o,v=qi(m,i,o)*m%o,g=qi(v,i,o)*m%o,y=qi(g,t,o)*d%o;return{pow_p_5_8:qi(y,LY,o)*e%o,b2:a}}function qat(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function zat(e,t){const n=Kj,r=xi(t*t*t,n),i=xi(r*r*t,n),o=Wat(e*i).pow_p_5_8;let s=xi(e*r*o,n);const a=xi(t*s*s,n),l=s,c=xi(s*$Y,n),d=a===e,u=a===xi(-e,n),h=a===xi(-e*$Y,n);return d&&(s=l),(u||h)&&(s=c),Cat(s,n)&&(s=xi(-s,n)),{isValid:d||u,value:s}}const Vat=oE(Kj,void 0,!0),Kat={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vat,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Fat,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:fat,randomBytes:lhe,adjustScalarBytes:qat,uvRatio:zat},lf=$at(Kat);var L2={exports:{}};const Hat={},Gat=Object.freeze(Object.defineProperty({__proto__:null,default:Hat},Symbol.toStringTag,{value:"Module"})),bhe=K1(Gat);var Jat=L2.exports,UY;function _he(){return UY||(UY=1,(function(e){(function(t,n){function r(z,S){if(!z)throw new Error(S||"Assertion failed")}function i(z,S){z.super_=S;var E=function(){};E.prototype=S.prototype,z.prototype=new E,z.prototype.constructor=z}function o(z,S,E){if(o.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((S==="le"||S==="be")&&(E=S,S=10),this._init(z||0,S||10,E||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=bhe.Buffer}catch{}o.isBN=function(S){return S instanceof o?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===o.wordSize&&Array.isArray(S.words)},o.max=function(S,E){return S.cmp(E)>0?S:E},o.min=function(S,E){return S.cmp(E)<0?S:E},o.prototype._init=function(S,E,N){if(typeof S=="number")return this._initNumber(S,E,N);if(typeof S=="object")return this._initArray(S,E,N);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),S=S.toString().replace(/\s+/g,"");var P=0;S[0]==="-"&&(P++,this.negative=1),P<S.length&&(E===16?this._parseHex(S,P,N):(this._parseBase(S,E,P),N==="le"&&this._initArray(this.toArray(),E,N)))},o.prototype._initNumber=function(S,E,N){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),E,N)},o.prototype._initArray=function(S,E,N){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var j,V,K=0;if(N==="be")for(P=S.length-1,j=0;P>=0;P-=3)V=S[P]|S[P-1]<<8|S[P-2]<<16,this.words[j]|=V<<K&67108863,this.words[j+1]=V>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);else if(N==="le")for(P=0,j=0;P<S.length;P+=3)V=S[P]|S[P+1]<<8|S[P+2]<<16,this.words[j]|=V<<K&67108863,this.words[j+1]=V>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);return this._strip()};function a(z,S){var E=z.charCodeAt(S);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;r(!1,"Invalid character in "+z)}function l(z,S,E){var N=a(z,E);return E-1>=S&&(N|=a(z,E-1)<<4),N}o.prototype._parseHex=function(S,E,N){this.length=Math.ceil((S.length-E)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var j=0,V=0,K;if(N==="be")for(P=S.length-1;P>=E;P-=2)K=l(S,E,P)<<j,this.words[V]|=K&67108863,j>=18?(j-=18,V+=1,this.words[V]|=K>>>26):j+=8;else{var F=S.length-E;for(P=F%2===0?E+1:E;P<S.length;P+=2)K=l(S,E,P)<<j,this.words[V]|=K&67108863,j>=18?(j-=18,V+=1,this.words[V]|=K>>>26):j+=8}this._strip()};function c(z,S,E,N){for(var P=0,j=0,V=Math.min(z.length,E),K=S;K<V;K++){var F=z.charCodeAt(K)-48;P*=N,F>=49?j=F-49+10:F>=17?j=F-17+10:j=F,r(F>=0&&j<N,"Invalid character"),P+=j}return P}o.prototype._parseBase=function(S,E,N){this.words=[0],this.length=1;for(var P=0,j=1;j<=67108863;j*=E)P++;P--,j=j/E|0;for(var V=S.length-N,K=V%P,F=Math.min(V,V-K)+N,O=0,W=N;W<F;W+=P)O=c(S,W,W+P,E),this.imuln(j),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(K!==0){var G=1;for(O=c(S,W,S.length,E),W=0;W<K;W++)G*=E;this.imuln(G),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this._strip()},o.prototype.copy=function(S){S.words=new Array(this.length);for(var E=0;E<this.length;E++)S.words[E]=this.words[E];S.length=this.length,S.negative=this.negative,S.red=this.red};function d(z,S){z.words=S.words,z.length=S.length,z.negative=S.negative,z.red=S.red}if(o.prototype._move=function(S){d(S,this)},o.prototype.clone=function(){var S=new o(null);return this.copy(S),S},o.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(S,E){S=S||10,E=E|0||1;var N;if(S===16||S==="hex"){N="";for(var P=0,j=0,V=0;V<this.length;V++){var K=this.words[V],F=((K<<P|j)&16777215).toString(16);j=K>>>24-P&16777215,P+=2,P>=26&&(P-=26,V--),j!==0||V!==this.length-1?N=h[6-F.length]+F+N:N=F+N}for(j!==0&&(N=j.toString(16)+N);N.length%E!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(S===(S|0)&&S>=2&&S<=36){var O=m[S],W=v[S];N="";var G=this.clone();for(G.negative=0;!G.isZero();){var Y=G.modrn(W).toString(S);G=G.idivn(W),G.isZero()?N=Y+N:N=h[O-Y.length]+Y+N}for(this.isZero()&&(N="0"+N);N.length%E!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(S,E){return this.toArrayLike(s,S,E)}),o.prototype.toArray=function(S,E){return this.toArrayLike(Array,S,E)};var g=function(S,E){return S.allocUnsafe?S.allocUnsafe(E):new S(E)};o.prototype.toArrayLike=function(S,E,N){this._strip();var P=this.byteLength(),j=N||Math.max(1,P);r(P<=j,"byte array longer than desired length"),r(j>0,"Requested array length <= 0");var V=g(S,j),K=E==="le"?"LE":"BE";return this["_toArrayLike"+K](V,P),V},o.prototype._toArrayLikeLE=function(S,E){for(var N=0,P=0,j=0,V=0;j<this.length;j++){var K=this.words[j]<<V|P;S[N++]=K&255,N<S.length&&(S[N++]=K>>8&255),N<S.length&&(S[N++]=K>>16&255),V===6?(N<S.length&&(S[N++]=K>>24&255),P=0,V=0):(P=K>>>24,V+=2)}if(N<S.length)for(S[N++]=P;N<S.length;)S[N++]=0},o.prototype._toArrayLikeBE=function(S,E){for(var N=S.length-1,P=0,j=0,V=0;j<this.length;j++){var K=this.words[j]<<V|P;S[N--]=K&255,N>=0&&(S[N--]=K>>8&255),N>=0&&(S[N--]=K>>16&255),V===6?(N>=0&&(S[N--]=K>>24&255),P=0,V=0):(P=K>>>24,V+=2)}if(N>=0)for(S[N--]=P;N>=0;)S[N--]=0},Math.clz32?o.prototype._countBits=function(S){return 32-Math.clz32(S)}:o.prototype._countBits=function(S){var E=S,N=0;return E>=4096&&(N+=13,E>>>=13),E>=64&&(N+=7,E>>>=7),E>=8&&(N+=4,E>>>=4),E>=2&&(N+=2,E>>>=2),N+E},o.prototype._zeroBits=function(S){if(S===0)return 26;var E=S,N=0;return(E&8191)===0&&(N+=13,E>>>=13),(E&127)===0&&(N+=7,E>>>=7),(E&15)===0&&(N+=4,E>>>=4),(E&3)===0&&(N+=2,E>>>=2),(E&1)===0&&N++,N},o.prototype.bitLength=function(){var S=this.words[this.length-1],E=this._countBits(S);return(this.length-1)*26+E};function y(z){for(var S=new Array(z.bitLength()),E=0;E<S.length;E++){var N=E/26|0,P=E%26;S[E]=z.words[N]>>>P&1}return S}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,E=0;E<this.length;E++){var N=this._zeroBits(this.words[E]);if(S+=N,N!==26)break}return S},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},o.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var E=0;E<S.length;E++)this.words[E]=this.words[E]|S.words[E];return this._strip()},o.prototype.ior=function(S){return r((this.negative|S.negative)===0),this.iuor(S)},o.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},o.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},o.prototype.iuand=function(S){var E;this.length>S.length?E=S:E=this;for(var N=0;N<E.length;N++)this.words[N]=this.words[N]&S.words[N];return this.length=E.length,this._strip()},o.prototype.iand=function(S){return r((this.negative|S.negative)===0),this.iuand(S)},o.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},o.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},o.prototype.iuxor=function(S){var E,N;this.length>S.length?(E=this,N=S):(E=S,N=this);for(var P=0;P<N.length;P++)this.words[P]=E.words[P]^N.words[P];if(this!==E)for(;P<E.length;P++)this.words[P]=E.words[P];return this.length=E.length,this._strip()},o.prototype.ixor=function(S){return r((this.negative|S.negative)===0),this.iuxor(S)},o.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},o.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},o.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var E=Math.ceil(S/26)|0,N=S%26;this._expand(E),N>0&&E--;for(var P=0;P<E;P++)this.words[P]=~this.words[P]&67108863;return N>0&&(this.words[P]=~this.words[P]&67108863>>26-N),this._strip()},o.prototype.notn=function(S){return this.clone().inotn(S)},o.prototype.setn=function(S,E){r(typeof S=="number"&&S>=0);var N=S/26|0,P=S%26;return this._expand(N+1),E?this.words[N]=this.words[N]|1<<P:this.words[N]=this.words[N]&~(1<<P),this._strip()},o.prototype.iadd=function(S){var E;if(this.negative!==0&&S.negative===0)return this.negative=0,E=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,E=this.isub(S),S.negative=1,E._normSign();var N,P;this.length>S.length?(N=this,P=S):(N=S,P=this);for(var j=0,V=0;V<P.length;V++)E=(N.words[V]|0)+(P.words[V]|0)+j,this.words[V]=E&67108863,j=E>>>26;for(;j!==0&&V<N.length;V++)E=(N.words[V]|0)+j,this.words[V]=E&67108863,j=E>>>26;if(this.length=N.length,j!==0)this.words[this.length]=j,this.length++;else if(N!==this)for(;V<N.length;V++)this.words[V]=N.words[V];return this},o.prototype.add=function(S){var E;return S.negative!==0&&this.negative===0?(S.negative=0,E=this.sub(S),S.negative^=1,E):S.negative===0&&this.negative!==0?(this.negative=0,E=S.sub(this),this.negative=1,E):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},o.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var E=this.iadd(S);return S.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var N=this.cmp(S);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,j;N>0?(P=this,j=S):(P=S,j=this);for(var V=0,K=0;K<j.length;K++)E=(P.words[K]|0)-(j.words[K]|0)+V,V=E>>26,this.words[K]=E&67108863;for(;V!==0&&K<P.length;K++)E=(P.words[K]|0)+V,V=E>>26,this.words[K]=E&67108863;if(V===0&&K<P.length&&P!==this)for(;K<P.length;K++)this.words[K]=P.words[K];return this.length=Math.max(this.length,K),P!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(S){return this.clone().isub(S)};function b(z,S,E){E.negative=S.negative^z.negative;var N=z.length+S.length|0;E.length=N,N=N-1|0;var P=z.words[0]|0,j=S.words[0]|0,V=P*j,K=V&67108863,F=V/67108864|0;E.words[0]=K;for(var O=1;O<N;O++){for(var W=F>>>26,G=F&67108863,Y=Math.min(O,S.length-1),ie=Math.max(0,O-z.length+1);ie<=Y;ie++){var ye=O-ie|0;P=z.words[ye]|0,j=S.words[ie]|0,V=P*j+G,W+=V/67108864|0,G=V&67108863}E.words[O]=G|0,F=W|0}return F!==0?E.words[O]=F|0:E.length--,E._strip()}var k=function(S,E,N){var P=S.words,j=E.words,V=N.words,K=0,F,O,W,G=P[0]|0,Y=G&8191,ie=G>>>13,ye=P[1]|0,me=ye&8191,be=ye>>>13,Me=P[2]|0,Fe=Me&8191,De=Me>>>13,gt=P[3]|0,tt=gt&8191,dt=gt>>>13,Qt=P[4]|0,lt=Qt&8191,jt=Qt>>>13,rn=P[5]|0,Re=rn&8191,Ze=rn>>>13,ct=P[6]|0,st=ct&8191,vt=ct>>>13,$t=P[7]|0,zt=$t&8191,ce=$t>>>13,X=P[8]|0,ee=X&8191,we=X>>>13,Ae=P[9]|0,Pe=Ae&8191,We=Ae>>>13,tn=j[0]|0,on=tn&8191,nn=tn>>>13,Bn=j[1]|0,Jt=Bn&8191,hr=Bn>>>13,Wa=j[2]|0,pr=Wa&8191,wr=Wa>>>13,uc=j[3]|0,ir=uc&8191,sr=uc>>>13,Qo=j[4]|0,Or=Qo&8191,Ir=Qo>>>13,fc=j[5]|0,Er=fc&8191,Fn=fc>>>13,es=j[6]|0,ne=es&8191,fe=es>>>13,he=j[7]|0,Z=he&8191,ve=he>>>13,Be=j[8]|0,Ne=Be&8191,Ge=Be>>>13,ut=j[9]|0,bt=ut&8191,Ye=ut>>>13;N.negative=S.negative^E.negative,N.length=19,F=Math.imul(Y,on),O=Math.imul(Y,nn),O=O+Math.imul(ie,on)|0,W=Math.imul(ie,nn);var jn=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(jn>>>26)|0,jn&=67108863,F=Math.imul(me,on),O=Math.imul(me,nn),O=O+Math.imul(be,on)|0,W=Math.imul(be,nn),F=F+Math.imul(Y,Jt)|0,O=O+Math.imul(Y,hr)|0,O=O+Math.imul(ie,Jt)|0,W=W+Math.imul(ie,hr)|0;var Et=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Et>>>26)|0,Et&=67108863,F=Math.imul(Fe,on),O=Math.imul(Fe,nn),O=O+Math.imul(De,on)|0,W=Math.imul(De,nn),F=F+Math.imul(me,Jt)|0,O=O+Math.imul(me,hr)|0,O=O+Math.imul(be,Jt)|0,W=W+Math.imul(be,hr)|0,F=F+Math.imul(Y,pr)|0,O=O+Math.imul(Y,wr)|0,O=O+Math.imul(ie,pr)|0,W=W+Math.imul(ie,wr)|0;var Zt=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,F=Math.imul(tt,on),O=Math.imul(tt,nn),O=O+Math.imul(dt,on)|0,W=Math.imul(dt,nn),F=F+Math.imul(Fe,Jt)|0,O=O+Math.imul(Fe,hr)|0,O=O+Math.imul(De,Jt)|0,W=W+Math.imul(De,hr)|0,F=F+Math.imul(me,pr)|0,O=O+Math.imul(me,wr)|0,O=O+Math.imul(be,pr)|0,W=W+Math.imul(be,wr)|0,F=F+Math.imul(Y,ir)|0,O=O+Math.imul(Y,sr)|0,O=O+Math.imul(ie,ir)|0,W=W+Math.imul(ie,sr)|0;var dn=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(dn>>>26)|0,dn&=67108863,F=Math.imul(lt,on),O=Math.imul(lt,nn),O=O+Math.imul(jt,on)|0,W=Math.imul(jt,nn),F=F+Math.imul(tt,Jt)|0,O=O+Math.imul(tt,hr)|0,O=O+Math.imul(dt,Jt)|0,W=W+Math.imul(dt,hr)|0,F=F+Math.imul(Fe,pr)|0,O=O+Math.imul(Fe,wr)|0,O=O+Math.imul(De,pr)|0,W=W+Math.imul(De,wr)|0,F=F+Math.imul(me,ir)|0,O=O+Math.imul(me,sr)|0,O=O+Math.imul(be,ir)|0,W=W+Math.imul(be,sr)|0,F=F+Math.imul(Y,Or)|0,O=O+Math.imul(Y,Ir)|0,O=O+Math.imul(ie,Or)|0,W=W+Math.imul(ie,Ir)|0;var yn=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(yn>>>26)|0,yn&=67108863,F=Math.imul(Re,on),O=Math.imul(Re,nn),O=O+Math.imul(Ze,on)|0,W=Math.imul(Ze,nn),F=F+Math.imul(lt,Jt)|0,O=O+Math.imul(lt,hr)|0,O=O+Math.imul(jt,Jt)|0,W=W+Math.imul(jt,hr)|0,F=F+Math.imul(tt,pr)|0,O=O+Math.imul(tt,wr)|0,O=O+Math.imul(dt,pr)|0,W=W+Math.imul(dt,wr)|0,F=F+Math.imul(Fe,ir)|0,O=O+Math.imul(Fe,sr)|0,O=O+Math.imul(De,ir)|0,W=W+Math.imul(De,sr)|0,F=F+Math.imul(me,Or)|0,O=O+Math.imul(me,Ir)|0,O=O+Math.imul(be,Or)|0,W=W+Math.imul(be,Ir)|0,F=F+Math.imul(Y,Er)|0,O=O+Math.imul(Y,Fn)|0,O=O+Math.imul(ie,Er)|0,W=W+Math.imul(ie,Fn)|0;var vn=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(vn>>>26)|0,vn&=67108863,F=Math.imul(st,on),O=Math.imul(st,nn),O=O+Math.imul(vt,on)|0,W=Math.imul(vt,nn),F=F+Math.imul(Re,Jt)|0,O=O+Math.imul(Re,hr)|0,O=O+Math.imul(Ze,Jt)|0,W=W+Math.imul(Ze,hr)|0,F=F+Math.imul(lt,pr)|0,O=O+Math.imul(lt,wr)|0,O=O+Math.imul(jt,pr)|0,W=W+Math.imul(jt,wr)|0,F=F+Math.imul(tt,ir)|0,O=O+Math.imul(tt,sr)|0,O=O+Math.imul(dt,ir)|0,W=W+Math.imul(dt,sr)|0,F=F+Math.imul(Fe,Or)|0,O=O+Math.imul(Fe,Ir)|0,O=O+Math.imul(De,Or)|0,W=W+Math.imul(De,Ir)|0,F=F+Math.imul(me,Er)|0,O=O+Math.imul(me,Fn)|0,O=O+Math.imul(be,Er)|0,W=W+Math.imul(be,Fn)|0,F=F+Math.imul(Y,ne)|0,O=O+Math.imul(Y,fe)|0,O=O+Math.imul(ie,ne)|0,W=W+Math.imul(ie,fe)|0;var un=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(un>>>26)|0,un&=67108863,F=Math.imul(zt,on),O=Math.imul(zt,nn),O=O+Math.imul(ce,on)|0,W=Math.imul(ce,nn),F=F+Math.imul(st,Jt)|0,O=O+Math.imul(st,hr)|0,O=O+Math.imul(vt,Jt)|0,W=W+Math.imul(vt,hr)|0,F=F+Math.imul(Re,pr)|0,O=O+Math.imul(Re,wr)|0,O=O+Math.imul(Ze,pr)|0,W=W+Math.imul(Ze,wr)|0,F=F+Math.imul(lt,ir)|0,O=O+Math.imul(lt,sr)|0,O=O+Math.imul(jt,ir)|0,W=W+Math.imul(jt,sr)|0,F=F+Math.imul(tt,Or)|0,O=O+Math.imul(tt,Ir)|0,O=O+Math.imul(dt,Or)|0,W=W+Math.imul(dt,Ir)|0,F=F+Math.imul(Fe,Er)|0,O=O+Math.imul(Fe,Fn)|0,O=O+Math.imul(De,Er)|0,W=W+Math.imul(De,Fn)|0,F=F+Math.imul(me,ne)|0,O=O+Math.imul(me,fe)|0,O=O+Math.imul(be,ne)|0,W=W+Math.imul(be,fe)|0,F=F+Math.imul(Y,Z)|0,O=O+Math.imul(Y,ve)|0,O=O+Math.imul(ie,Z)|0,W=W+Math.imul(ie,ve)|0;var Rt=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,F=Math.imul(ee,on),O=Math.imul(ee,nn),O=O+Math.imul(we,on)|0,W=Math.imul(we,nn),F=F+Math.imul(zt,Jt)|0,O=O+Math.imul(zt,hr)|0,O=O+Math.imul(ce,Jt)|0,W=W+Math.imul(ce,hr)|0,F=F+Math.imul(st,pr)|0,O=O+Math.imul(st,wr)|0,O=O+Math.imul(vt,pr)|0,W=W+Math.imul(vt,wr)|0,F=F+Math.imul(Re,ir)|0,O=O+Math.imul(Re,sr)|0,O=O+Math.imul(Ze,ir)|0,W=W+Math.imul(Ze,sr)|0,F=F+Math.imul(lt,Or)|0,O=O+Math.imul(lt,Ir)|0,O=O+Math.imul(jt,Or)|0,W=W+Math.imul(jt,Ir)|0,F=F+Math.imul(tt,Er)|0,O=O+Math.imul(tt,Fn)|0,O=O+Math.imul(dt,Er)|0,W=W+Math.imul(dt,Fn)|0,F=F+Math.imul(Fe,ne)|0,O=O+Math.imul(Fe,fe)|0,O=O+Math.imul(De,ne)|0,W=W+Math.imul(De,fe)|0,F=F+Math.imul(me,Z)|0,O=O+Math.imul(me,ve)|0,O=O+Math.imul(be,Z)|0,W=W+Math.imul(be,ve)|0,F=F+Math.imul(Y,Ne)|0,O=O+Math.imul(Y,Ge)|0,O=O+Math.imul(ie,Ne)|0,W=W+Math.imul(ie,Ge)|0;var hn=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(hn>>>26)|0,hn&=67108863,F=Math.imul(Pe,on),O=Math.imul(Pe,nn),O=O+Math.imul(We,on)|0,W=Math.imul(We,nn),F=F+Math.imul(ee,Jt)|0,O=O+Math.imul(ee,hr)|0,O=O+Math.imul(we,Jt)|0,W=W+Math.imul(we,hr)|0,F=F+Math.imul(zt,pr)|0,O=O+Math.imul(zt,wr)|0,O=O+Math.imul(ce,pr)|0,W=W+Math.imul(ce,wr)|0,F=F+Math.imul(st,ir)|0,O=O+Math.imul(st,sr)|0,O=O+Math.imul(vt,ir)|0,W=W+Math.imul(vt,sr)|0,F=F+Math.imul(Re,Or)|0,O=O+Math.imul(Re,Ir)|0,O=O+Math.imul(Ze,Or)|0,W=W+Math.imul(Ze,Ir)|0,F=F+Math.imul(lt,Er)|0,O=O+Math.imul(lt,Fn)|0,O=O+Math.imul(jt,Er)|0,W=W+Math.imul(jt,Fn)|0,F=F+Math.imul(tt,ne)|0,O=O+Math.imul(tt,fe)|0,O=O+Math.imul(dt,ne)|0,W=W+Math.imul(dt,fe)|0,F=F+Math.imul(Fe,Z)|0,O=O+Math.imul(Fe,ve)|0,O=O+Math.imul(De,Z)|0,W=W+Math.imul(De,ve)|0,F=F+Math.imul(me,Ne)|0,O=O+Math.imul(me,Ge)|0,O=O+Math.imul(be,Ne)|0,W=W+Math.imul(be,Ge)|0,F=F+Math.imul(Y,bt)|0,O=O+Math.imul(Y,Ye)|0,O=O+Math.imul(ie,bt)|0,W=W+Math.imul(ie,Ye)|0;var Tt=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,F=Math.imul(Pe,Jt),O=Math.imul(Pe,hr),O=O+Math.imul(We,Jt)|0,W=Math.imul(We,hr),F=F+Math.imul(ee,pr)|0,O=O+Math.imul(ee,wr)|0,O=O+Math.imul(we,pr)|0,W=W+Math.imul(we,wr)|0,F=F+Math.imul(zt,ir)|0,O=O+Math.imul(zt,sr)|0,O=O+Math.imul(ce,ir)|0,W=W+Math.imul(ce,sr)|0,F=F+Math.imul(st,Or)|0,O=O+Math.imul(st,Ir)|0,O=O+Math.imul(vt,Or)|0,W=W+Math.imul(vt,Ir)|0,F=F+Math.imul(Re,Er)|0,O=O+Math.imul(Re,Fn)|0,O=O+Math.imul(Ze,Er)|0,W=W+Math.imul(Ze,Fn)|0,F=F+Math.imul(lt,ne)|0,O=O+Math.imul(lt,fe)|0,O=O+Math.imul(jt,ne)|0,W=W+Math.imul(jt,fe)|0,F=F+Math.imul(tt,Z)|0,O=O+Math.imul(tt,ve)|0,O=O+Math.imul(dt,Z)|0,W=W+Math.imul(dt,ve)|0,F=F+Math.imul(Fe,Ne)|0,O=O+Math.imul(Fe,Ge)|0,O=O+Math.imul(De,Ne)|0,W=W+Math.imul(De,Ge)|0,F=F+Math.imul(me,bt)|0,O=O+Math.imul(me,Ye)|0,O=O+Math.imul(be,bt)|0,W=W+Math.imul(be,Ye)|0;var Ft=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,F=Math.imul(Pe,pr),O=Math.imul(Pe,wr),O=O+Math.imul(We,pr)|0,W=Math.imul(We,wr),F=F+Math.imul(ee,ir)|0,O=O+Math.imul(ee,sr)|0,O=O+Math.imul(we,ir)|0,W=W+Math.imul(we,sr)|0,F=F+Math.imul(zt,Or)|0,O=O+Math.imul(zt,Ir)|0,O=O+Math.imul(ce,Or)|0,W=W+Math.imul(ce,Ir)|0,F=F+Math.imul(st,Er)|0,O=O+Math.imul(st,Fn)|0,O=O+Math.imul(vt,Er)|0,W=W+Math.imul(vt,Fn)|0,F=F+Math.imul(Re,ne)|0,O=O+Math.imul(Re,fe)|0,O=O+Math.imul(Ze,ne)|0,W=W+Math.imul(Ze,fe)|0,F=F+Math.imul(lt,Z)|0,O=O+Math.imul(lt,ve)|0,O=O+Math.imul(jt,Z)|0,W=W+Math.imul(jt,ve)|0,F=F+Math.imul(tt,Ne)|0,O=O+Math.imul(tt,Ge)|0,O=O+Math.imul(dt,Ne)|0,W=W+Math.imul(dt,Ge)|0,F=F+Math.imul(Fe,bt)|0,O=O+Math.imul(Fe,Ye)|0,O=O+Math.imul(De,bt)|0,W=W+Math.imul(De,Ye)|0;var St=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(St>>>26)|0,St&=67108863,F=Math.imul(Pe,ir),O=Math.imul(Pe,sr),O=O+Math.imul(We,ir)|0,W=Math.imul(We,sr),F=F+Math.imul(ee,Or)|0,O=O+Math.imul(ee,Ir)|0,O=O+Math.imul(we,Or)|0,W=W+Math.imul(we,Ir)|0,F=F+Math.imul(zt,Er)|0,O=O+Math.imul(zt,Fn)|0,O=O+Math.imul(ce,Er)|0,W=W+Math.imul(ce,Fn)|0,F=F+Math.imul(st,ne)|0,O=O+Math.imul(st,fe)|0,O=O+Math.imul(vt,ne)|0,W=W+Math.imul(vt,fe)|0,F=F+Math.imul(Re,Z)|0,O=O+Math.imul(Re,ve)|0,O=O+Math.imul(Ze,Z)|0,W=W+Math.imul(Ze,ve)|0,F=F+Math.imul(lt,Ne)|0,O=O+Math.imul(lt,Ge)|0,O=O+Math.imul(jt,Ne)|0,W=W+Math.imul(jt,Ge)|0,F=F+Math.imul(tt,bt)|0,O=O+Math.imul(tt,Ye)|0,O=O+Math.imul(dt,bt)|0,W=W+Math.imul(dt,Ye)|0;var Pt=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,F=Math.imul(Pe,Or),O=Math.imul(Pe,Ir),O=O+Math.imul(We,Or)|0,W=Math.imul(We,Ir),F=F+Math.imul(ee,Er)|0,O=O+Math.imul(ee,Fn)|0,O=O+Math.imul(we,Er)|0,W=W+Math.imul(we,Fn)|0,F=F+Math.imul(zt,ne)|0,O=O+Math.imul(zt,fe)|0,O=O+Math.imul(ce,ne)|0,W=W+Math.imul(ce,fe)|0,F=F+Math.imul(st,Z)|0,O=O+Math.imul(st,ve)|0,O=O+Math.imul(vt,Z)|0,W=W+Math.imul(vt,ve)|0,F=F+Math.imul(Re,Ne)|0,O=O+Math.imul(Re,Ge)|0,O=O+Math.imul(Ze,Ne)|0,W=W+Math.imul(Ze,Ge)|0,F=F+Math.imul(lt,bt)|0,O=O+Math.imul(lt,Ye)|0,O=O+Math.imul(jt,bt)|0,W=W+Math.imul(jt,Ye)|0;var Mt=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,F=Math.imul(Pe,Er),O=Math.imul(Pe,Fn),O=O+Math.imul(We,Er)|0,W=Math.imul(We,Fn),F=F+Math.imul(ee,ne)|0,O=O+Math.imul(ee,fe)|0,O=O+Math.imul(we,ne)|0,W=W+Math.imul(we,fe)|0,F=F+Math.imul(zt,Z)|0,O=O+Math.imul(zt,ve)|0,O=O+Math.imul(ce,Z)|0,W=W+Math.imul(ce,ve)|0,F=F+Math.imul(st,Ne)|0,O=O+Math.imul(st,Ge)|0,O=O+Math.imul(vt,Ne)|0,W=W+Math.imul(vt,Ge)|0,F=F+Math.imul(Re,bt)|0,O=O+Math.imul(Re,Ye)|0,O=O+Math.imul(Ze,bt)|0,W=W+Math.imul(Ze,Ye)|0;var _t=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(_t>>>26)|0,_t&=67108863,F=Math.imul(Pe,ne),O=Math.imul(Pe,fe),O=O+Math.imul(We,ne)|0,W=Math.imul(We,fe),F=F+Math.imul(ee,Z)|0,O=O+Math.imul(ee,ve)|0,O=O+Math.imul(we,Z)|0,W=W+Math.imul(we,ve)|0,F=F+Math.imul(zt,Ne)|0,O=O+Math.imul(zt,Ge)|0,O=O+Math.imul(ce,Ne)|0,W=W+Math.imul(ce,Ge)|0,F=F+Math.imul(st,bt)|0,O=O+Math.imul(st,Ye)|0,O=O+Math.imul(vt,bt)|0,W=W+Math.imul(vt,Ye)|0;var Ue=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,F=Math.imul(Pe,Z),O=Math.imul(Pe,ve),O=O+Math.imul(We,Z)|0,W=Math.imul(We,ve),F=F+Math.imul(ee,Ne)|0,O=O+Math.imul(ee,Ge)|0,O=O+Math.imul(we,Ne)|0,W=W+Math.imul(we,Ge)|0,F=F+Math.imul(zt,bt)|0,O=O+Math.imul(zt,Ye)|0,O=O+Math.imul(ce,bt)|0,W=W+Math.imul(ce,Ye)|0;var Ve=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,F=Math.imul(Pe,Ne),O=Math.imul(Pe,Ge),O=O+Math.imul(We,Ne)|0,W=Math.imul(We,Ge),F=F+Math.imul(ee,bt)|0,O=O+Math.imul(ee,Ye)|0,O=O+Math.imul(we,bt)|0,W=W+Math.imul(we,Ye)|0;var et=(K+F|0)+((O&8191)<<13)|0;K=(W+(O>>>13)|0)+(et>>>26)|0,et&=67108863,F=Math.imul(Pe,bt),O=Math.imul(Pe,Ye),O=O+Math.imul(We,bt)|0,W=Math.imul(We,Ye);var Qe=(K+F|0)+((O&8191)<<13)|0;return K=(W+(O>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,V[0]=jn,V[1]=Et,V[2]=Zt,V[3]=dn,V[4]=yn,V[5]=vn,V[6]=un,V[7]=Rt,V[8]=hn,V[9]=Tt,V[10]=Ft,V[11]=St,V[12]=Pt,V[13]=Mt,V[14]=_t,V[15]=Ue,V[16]=Ve,V[17]=et,V[18]=Qe,K!==0&&(V[19]=K,N.length++),N};Math.imul||(k=b);function _(z,S,E){E.negative=S.negative^z.negative,E.length=z.length+S.length;for(var N=0,P=0,j=0;j<E.length-1;j++){var V=P;P=0;for(var K=N&67108863,F=Math.min(j,S.length-1),O=Math.max(0,j-z.length+1);O<=F;O++){var W=j-O,G=z.words[W]|0,Y=S.words[O]|0,ie=G*Y,ye=ie&67108863;V=V+(ie/67108864|0)|0,ye=ye+K|0,K=ye&67108863,V=V+(ye>>>26)|0,P+=V>>>26,V&=67108863}E.words[j]=K,N=V,V=P}return N!==0?E.words[j]=N:E.length--,E._strip()}function R(z,S,E){return _(z,S,E)}o.prototype.mulTo=function(S,E){var N,P=this.length+S.length;return this.length===10&&S.length===10?N=k(this,S,E):P<63?N=b(this,S,E):P<1024?N=_(this,S,E):N=R(this,S,E),N},o.prototype.mul=function(S){var E=new o(null);return E.words=new Array(this.length+S.length),this.mulTo(S,E)},o.prototype.mulf=function(S){var E=new o(null);return E.words=new Array(this.length+S.length),R(this,S,E)},o.prototype.imul=function(S){return this.clone().mulTo(S,this)},o.prototype.imuln=function(S){var E=S<0;E&&(S=-S),r(typeof S=="number"),r(S<67108864);for(var N=0,P=0;P<this.length;P++){var j=(this.words[P]|0)*S,V=(j&67108863)+(N&67108863);N>>=26,N+=j/67108864|0,N+=V>>>26,this.words[P]=V&67108863}return N!==0&&(this.words[P]=N,this.length++),this.length=S===0?1:this.length,E?this.ineg():this},o.prototype.muln=function(S){return this.clone().imuln(S)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(S){var E=y(S);if(E.length===0)return new o(1);for(var N=this,P=0;P<E.length&&E[P]===0;P++,N=N.sqr());if(++P<E.length)for(var j=N.sqr();P<E.length;P++,j=j.sqr())E[P]!==0&&(N=N.mul(j));return N},o.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var E=S%26,N=(S-E)/26,P=67108863>>>26-E<<26-E,j;if(E!==0){var V=0;for(j=0;j<this.length;j++){var K=this.words[j]&P,F=(this.words[j]|0)-K<<E;this.words[j]=F|V,V=K>>>26-E}V&&(this.words[j]=V,this.length++)}if(N!==0){for(j=this.length-1;j>=0;j--)this.words[j+N]=this.words[j];for(j=0;j<N;j++)this.words[j]=0;this.length+=N}return this._strip()},o.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},o.prototype.iushrn=function(S,E,N){r(typeof S=="number"&&S>=0);var P;E?P=(E-E%26)/26:P=0;var j=S%26,V=Math.min((S-j)/26,this.length),K=67108863^67108863>>>j<<j,F=N;if(P-=V,P=Math.max(0,P),F){for(var O=0;O<V;O++)F.words[O]=this.words[O];F.length=V}if(V!==0)if(this.length>V)for(this.length-=V,O=0;O<this.length;O++)this.words[O]=this.words[O+V];else this.words[0]=0,this.length=1;var W=0;for(O=this.length-1;O>=0&&(W!==0||O>=P);O--){var G=this.words[O]|0;this.words[O]=W<<26-j|G>>>j,W=G&K}return F&&W!==0&&(F.words[F.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(S,E,N){return r(this.negative===0),this.iushrn(S,E,N)},o.prototype.shln=function(S){return this.clone().ishln(S)},o.prototype.ushln=function(S){return this.clone().iushln(S)},o.prototype.shrn=function(S){return this.clone().ishrn(S)},o.prototype.ushrn=function(S){return this.clone().iushrn(S)},o.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var E=S%26,N=(S-E)/26,P=1<<E;if(this.length<=N)return!1;var j=this.words[N];return!!(j&P)},o.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var E=S%26,N=(S-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(E!==0&&N++,this.length=Math.min(N,this.length),E!==0){var P=67108863^67108863>>>E<<E;this.words[this.length-1]&=P}return this._strip()},o.prototype.maskn=function(S){return this.clone().imaskn(S)},o.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<=S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},o.prototype._iaddn=function(S){this.words[0]+=S;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(S){return this.clone().iaddn(S)},o.prototype.subn=function(S){return this.clone().isubn(S)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(S,E,N){var P=S.length+N,j;this._expand(P);var V,K=0;for(j=0;j<S.length;j++){V=(this.words[j+N]|0)+K;var F=(S.words[j]|0)*E;V-=F&67108863,K=(V>>26)-(F/67108864|0),this.words[j+N]=V&67108863}for(;j<this.length-N;j++)V=(this.words[j+N]|0)+K,K=V>>26,this.words[j+N]=V&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,j=0;j<this.length;j++)V=-(this.words[j]|0)+K,K=V>>26,this.words[j]=V&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(S,E){var N=this.length-S.length,P=this.clone(),j=S,V=j.words[j.length-1]|0,K=this._countBits(V);N=26-K,N!==0&&(j=j.ushln(N),P.iushln(N),V=j.words[j.length-1]|0);var F=P.length-j.length,O;if(E!=="mod"){O=new o(null),O.length=F+1,O.words=new Array(O.length);for(var W=0;W<O.length;W++)O.words[W]=0}var G=P.clone()._ishlnsubmul(j,1,F);G.negative===0&&(P=G,O&&(O.words[F]=1));for(var Y=F-1;Y>=0;Y--){var ie=(P.words[j.length+Y]|0)*67108864+(P.words[j.length+Y-1]|0);for(ie=Math.min(ie/V|0,67108863),P._ishlnsubmul(j,ie,Y);P.negative!==0;)ie--,P.negative=0,P._ishlnsubmul(j,1,Y),P.isZero()||(P.negative^=1);O&&(O.words[Y]=ie)}return O&&O._strip(),P._strip(),E!=="div"&&N!==0&&P.iushrn(N),{div:O||null,mod:P}},o.prototype.divmod=function(S,E,N){if(r(!S.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var P,j,V;return this.negative!==0&&S.negative===0?(V=this.neg().divmod(S,E),E!=="mod"&&(P=V.div.neg()),E!=="div"&&(j=V.mod.neg(),N&&j.negative!==0&&j.iadd(S)),{div:P,mod:j}):this.negative===0&&S.negative!==0?(V=this.divmod(S.neg(),E),E!=="mod"&&(P=V.div.neg()),{div:P,mod:V.mod}):(this.negative&S.negative)!==0?(V=this.neg().divmod(S.neg(),E),E!=="div"&&(j=V.mod.neg(),N&&j.negative!==0&&j.isub(S)),{div:V.div,mod:j}):S.length>this.length||this.cmp(S)<0?{div:new o(0),mod:this}:S.length===1?E==="div"?{div:this.divn(S.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new o(this.modrn(S.words[0]))}:this._wordDiv(S,E)},o.prototype.div=function(S){return this.divmod(S,"div",!1).div},o.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},o.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},o.prototype.divRound=function(S){var E=this.divmod(S);if(E.mod.isZero())return E.div;var N=E.div.negative!==0?E.mod.isub(S):E.mod,P=S.ushrn(1),j=S.andln(1),V=N.cmp(P);return V<0||j===1&&V===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(S){var E=S<0;E&&(S=-S),r(S<=67108863);for(var N=(1<<26)%S,P=0,j=this.length-1;j>=0;j--)P=(N*P+(this.words[j]|0))%S;return E?-P:P},o.prototype.modn=function(S){return this.modrn(S)},o.prototype.idivn=function(S){var E=S<0;E&&(S=-S),r(S<=67108863);for(var N=0,P=this.length-1;P>=0;P--){var j=(this.words[P]|0)+N*67108864;this.words[P]=j/S|0,N=j%S}return this._strip(),E?this.ineg():this},o.prototype.divn=function(S){return this.clone().idivn(S)},o.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var E=this,N=S.clone();E.negative!==0?E=E.umod(S):E=E.clone();for(var P=new o(1),j=new o(0),V=new o(0),K=new o(1),F=0;E.isEven()&&N.isEven();)E.iushrn(1),N.iushrn(1),++F;for(var O=N.clone(),W=E.clone();!E.isZero();){for(var G=0,Y=1;(E.words[0]&Y)===0&&G<26;++G,Y<<=1);if(G>0)for(E.iushrn(G);G-- >0;)(P.isOdd()||j.isOdd())&&(P.iadd(O),j.isub(W)),P.iushrn(1),j.iushrn(1);for(var ie=0,ye=1;(N.words[0]&ye)===0&&ie<26;++ie,ye<<=1);if(ie>0)for(N.iushrn(ie);ie-- >0;)(V.isOdd()||K.isOdd())&&(V.iadd(O),K.isub(W)),V.iushrn(1),K.iushrn(1);E.cmp(N)>=0?(E.isub(N),P.isub(V),j.isub(K)):(N.isub(E),V.isub(P),K.isub(j))}return{a:V,b:K,gcd:N.iushln(F)}},o.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var E=this,N=S.clone();E.negative!==0?E=E.umod(S):E=E.clone();for(var P=new o(1),j=new o(0),V=N.clone();E.cmpn(1)>0&&N.cmpn(1)>0;){for(var K=0,F=1;(E.words[0]&F)===0&&K<26;++K,F<<=1);if(K>0)for(E.iushrn(K);K-- >0;)P.isOdd()&&P.iadd(V),P.iushrn(1);for(var O=0,W=1;(N.words[0]&W)===0&&O<26;++O,W<<=1);if(O>0)for(N.iushrn(O);O-- >0;)j.isOdd()&&j.iadd(V),j.iushrn(1);E.cmp(N)>=0?(E.isub(N),P.isub(j)):(N.isub(E),j.isub(P))}var G;return E.cmpn(1)===0?G=P:G=j,G.cmpn(0)<0&&G.iadd(S),G},o.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var E=this.clone(),N=S.clone();E.negative=0,N.negative=0;for(var P=0;E.isEven()&&N.isEven();P++)E.iushrn(1),N.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;N.isEven();)N.iushrn(1);var j=E.cmp(N);if(j<0){var V=E;E=N,N=V}else if(j===0||N.cmpn(1)===0)break;E.isub(N)}while(!0);return N.iushln(P)},o.prototype.invm=function(S){return this.egcd(S).a.umod(S)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(S){return this.words[0]&S},o.prototype.bincn=function(S){r(typeof S=="number");var E=S%26,N=(S-E)/26,P=1<<E;if(this.length<=N)return this._expand(N+1),this.words[N]|=P,this;for(var j=P,V=N;j!==0&&V<this.length;V++){var K=this.words[V]|0;K+=j,j=K>>>26,K&=67108863,this.words[V]=K}return j!==0&&(this.words[V]=j,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(S){var E=S<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var N;if(this.length>1)N=1;else{E&&(S=-S),r(S<=67108863,"Number is too big");var P=this.words[0]|0;N=P===S?0:P<S?-1:1}return this.negative!==0?-N|0:N},o.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var E=this.ucmp(S);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var E=0,N=this.length-1;N>=0;N--){var P=this.words[N]|0,j=S.words[N]|0;if(P!==j){P<j?E=-1:P>j&&(E=1);break}}return E},o.prototype.gtn=function(S){return this.cmpn(S)===1},o.prototype.gt=function(S){return this.cmp(S)===1},o.prototype.gten=function(S){return this.cmpn(S)>=0},o.prototype.gte=function(S){return this.cmp(S)>=0},o.prototype.ltn=function(S){return this.cmpn(S)===-1},o.prototype.lt=function(S){return this.cmp(S)===-1},o.prototype.lten=function(S){return this.cmpn(S)<=0},o.prototype.lte=function(S){return this.cmp(S)<=0},o.prototype.eqn=function(S){return this.cmpn(S)===0},o.prototype.eq=function(S){return this.cmp(S)===0},o.red=function(S){return new $(S)},o.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(S){return this.red=S,this},o.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},o.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},o.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},o.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},o.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},o.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},o.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},o.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var I={k256:null,p224:null,p192:null,p25519:null};function T(z,S){this.name=z,this.p=new o(S,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var S=new o(null);return S.words=new Array(Math.ceil(this.n/13)),S},T.prototype.ireduce=function(S){var E=S,N;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),N=E.bitLength();while(N>this.n);var P=N<this.n?-1:E.ucmp(this.p);return P===0?(E.words[0]=0,E.length=1):P>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},T.prototype.split=function(S,E){S.iushrn(this.n,0,E)},T.prototype.imulK=function(S){return S.imul(this.k)};function M(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(M,T),M.prototype.split=function(S,E){for(var N=4194303,P=Math.min(S.length,9),j=0;j<P;j++)E.words[j]=S.words[j];if(E.length=P,S.length<=9){S.words[0]=0,S.length=1;return}var V=S.words[9];for(E.words[E.length++]=V&N,j=10;j<S.length;j++){var K=S.words[j]|0;S.words[j-10]=(K&N)<<4|V>>>22,V=K}V>>>=22,S.words[j-10]=V,V===0&&S.length>10?S.length-=10:S.length-=9},M.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var E=0,N=0;N<S.length;N++){var P=S.words[N]|0;E+=P*977,S.words[N]=E&67108863,E=P*64+(E/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(D,T);function A(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(A,T);function U(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,T),U.prototype.imulK=function(S){for(var E=0,N=0;N<S.length;N++){var P=(S.words[N]|0)*19+E,j=P&67108863;P>>>=26,S.words[N]=j,E=P}return E!==0&&(S.words[S.length++]=E),S},o._prime=function(S){if(I[S])return I[S];var E;if(S==="k256")E=new M;else if(S==="p224")E=new D;else if(S==="p192")E=new A;else if(S==="p25519")E=new U;else throw new Error("Unknown prime "+S);return I[S]=E,E};function $(z){if(typeof z=="string"){var S=o._prime(z);this.m=S.p,this.prime=S}else r(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}$.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},$.prototype._verify2=function(S,E){r((S.negative|E.negative)===0,"red works only with positives"),r(S.red&&S.red===E.red,"red works only with red numbers")},$.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):(d(S,S.umod(this.m)._forceRed(this)),S)},$.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},$.prototype.add=function(S,E){this._verify2(S,E);var N=S.add(E);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},$.prototype.iadd=function(S,E){this._verify2(S,E);var N=S.iadd(E);return N.cmp(this.m)>=0&&N.isub(this.m),N},$.prototype.sub=function(S,E){this._verify2(S,E);var N=S.sub(E);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},$.prototype.isub=function(S,E){this._verify2(S,E);var N=S.isub(E);return N.cmpn(0)<0&&N.iadd(this.m),N},$.prototype.shl=function(S,E){return this._verify1(S),this.imod(S.ushln(E))},$.prototype.imul=function(S,E){return this._verify2(S,E),this.imod(S.imul(E))},$.prototype.mul=function(S,E){return this._verify2(S,E),this.imod(S.mul(E))},$.prototype.isqr=function(S){return this.imul(S,S.clone())},$.prototype.sqr=function(S){return this.mul(S,S)},$.prototype.sqrt=function(S){if(S.isZero())return S.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(S,N)}for(var P=this.m.subn(1),j=0;!P.isZero()&&P.andln(1)===0;)j++,P.iushrn(1);r(!P.isZero());var V=new o(1).toRed(this),K=V.redNeg(),F=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new o(2*O*O).toRed(this);this.pow(O,F).cmp(K)!==0;)O.redIAdd(K);for(var W=this.pow(O,P),G=this.pow(S,P.addn(1).iushrn(1)),Y=this.pow(S,P),ie=j;Y.cmp(V)!==0;){for(var ye=Y,me=0;ye.cmp(V)!==0;me++)ye=ye.redSqr();r(me<ie);var be=this.pow(W,new o(1).iushln(ie-me-1));G=G.redMul(be),W=be.redSqr(),Y=Y.redMul(W),ie=me}return G},$.prototype.invm=function(S){var E=S._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},$.prototype.pow=function(S,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return S.clone();var N=4,P=new Array(1<<N);P[0]=new o(1).toRed(this),P[1]=S;for(var j=2;j<P.length;j++)P[j]=this.mul(P[j-1],S);var V=P[0],K=0,F=0,O=E.bitLength()%26;for(O===0&&(O=26),j=E.length-1;j>=0;j--){for(var W=E.words[j],G=O-1;G>=0;G--){var Y=W>>G&1;if(V!==P[0]&&(V=this.sqr(V)),Y===0&&K===0){F=0;continue}K<<=1,K|=Y,F++,!(F!==N&&(j!==0||G!==0))&&(V=this.mul(V,P[K]),F=0,K=0)}O=26}return V},$.prototype.convertTo=function(S){var E=S.umod(this.m);return E===S?E.clone():E},$.prototype.convertFrom=function(S){var E=S.clone();return E.red=null,E},o.mont=function(S){return new q(S)};function q(z){$.call(this,z),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(q,$),q.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},q.prototype.convertFrom=function(S){var E=this.imod(S.mul(this.rinv));return E.red=null,E},q.prototype.imul=function(S,E){if(S.isZero()||E.isZero())return S.words[0]=0,S.length=1,S;var N=S.imul(E),P=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=N.isub(P).iushrn(this.shift),V=j;return j.cmp(this.m)>=0?V=j.isub(this.m):j.cmpn(0)<0&&(V=j.iadd(this.m)),V._forceRed(this)},q.prototype.mul=function(S,E){if(S.isZero()||E.isZero())return new o(0)._forceRed(this);var N=S.mul(E),P=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=N.isub(P).iushrn(this.shift),V=j;return j.cmp(this.m)>=0?V=j.isub(this.m):j.cmpn(0)<0&&(V=j.iadd(this.m)),V._forceRed(this)},q.prototype.invm=function(S){var E=this.imod(S._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(e,Jat)})(L2)),L2.exports}var Zat=_he();const jd=Rr(Zat);var Bk={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var FY;function yv(){return FY||(FY=1,(function(e,t){var n=uD(),r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Bk,Bk.exports)),Bk.exports}var j4,WY;function Yat(){if(WY)return j4;WY=1;var e=yv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,b=0,k=0,_=g.length;k!==_&&g[k]===0;)k++,y++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=g[k],M=0,D=R-1;(T!==0||M<b)&&D!==-1;D--,M++)T+=256*I[D]>>>0,I[D]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=M,k++}for(var A=R-b;A!==R&&I[A]===0;)A++;for(var U=c.repeat(y);A<R;++A)U+=n.charAt(I[A]);return U}function m(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return e.alloc(0);for(var y=0,b=0,k=0;g[y]===c;)b++,y++;for(var _=(g.length-y)*d+1>>>0,R=new Uint8Array(_);y<g.length;){var I=g.charCodeAt(y);if(I>255)return;var T=r[I];if(T===255)return;for(var M=0,D=_-1;(T!==0||M<k)&&D!==-1;D--,M++)T+=l*R[D]>>>0,R[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=M,y++}for(var A=_-k;A!==_&&R[A]===0;)A++;var U=e.allocUnsafe(b+(_-A));U.fill(0,0,b);for(var $=b;A!==_;)U[$++]=R[A++];return U}function v(g){var y=m(g);if(y)return y;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return j4=t,j4}var $4,qY;function Xat(){if(qY)return $4;qY=1;var e=Yat(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return $4=e(t),$4}var Qat=Xat();const gs=Rr(Qat),Xg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hj(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function x1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ic(e,...t){if(!Hj(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function elt(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");x1(e.outputLen),x1(e.blockLen)}function R0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xhe(e,t){ic(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function tlt(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Fh(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function L4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cd(e,t){return e<<32-t|e>>>t}const nlt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rlt(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ilt(e){for(let t=0;t<e.length;t++)e[t]=rlt(e[t]);return e}const zY=nlt?e=>e:ilt,khe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",olt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T0(e){if(ic(e),khe)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=olt[e[n]];return t}const cu={_0:48,_9:57,A:65,F:70,a:97,f:102};function VY(e){if(e>=cu._0&&e<=cu._9)return e-cu._0;if(e>=cu.A&&e<=cu.F)return e-(cu.A-10);if(e>=cu.a&&e<=cu.f)return e-(cu.a-10)}function Gj(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(khe)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=VY(e.charCodeAt(o)),a=VY(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function slt(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function sE(e){return typeof e=="string"&&(e=slt(e)),ic(e),e}function Uu(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];ic(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let Jj=class{};function Zj(e){const t=r=>e().update(sE(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function She(e=32){if(Xg&&typeof Xg.getRandomValues=="function")return Xg.getRandomValues(new Uint8Array(e));if(Xg&&typeof Xg.randomBytes=="function")return Uint8Array.from(Xg.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function alt(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function llt(e,t,n){return e&t^~e&n}function clt(e,t,n){return e&t^e&n^t&n}let Ihe=class extends Jj{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=L4(this.buffer)}update(t){R0(this),t=sE(t),ic(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=L4(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){R0(this),xhe(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Fh(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;alt(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=L4(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Of=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ts=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Dk=BigInt(2**32-1),KY=BigInt(32);function dlt(e,t=!1){return t?{h:Number(e&Dk),l:Number(e>>KY&Dk)}:{h:Number(e>>KY&Dk)|0,l:Number(e&Dk)|0}}function Ehe(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=dlt(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const HY=(e,t,n)=>e>>>n,GY=(e,t,n)=>e<<32-n|t>>>n,Qg=(e,t,n)=>e>>>n|t<<32-n,ey=(e,t,n)=>e<<32-n|t>>>n,Mk=(e,t,n)=>e<<64-n|t>>>n-32,jk=(e,t,n)=>e>>>n-32|t<<64-n,ult=(e,t,n)=>e<<n|t>>>32-n,flt=(e,t,n)=>t<<n|e>>>32-n,hlt=(e,t,n)=>t<<n-32|e>>>64-n,plt=(e,t,n)=>e<<n-32|t>>>64-n;function du(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const mlt=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),glt=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ylt=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),vlt=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,wlt=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),blt=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,_lt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nf=new Uint32Array(64);let xlt=class extends Ihe{constructor(t=32){super(64,t,8,!1),this.A=Of[0]|0,this.B=Of[1]|0,this.C=Of[2]|0,this.D=Of[3]|0,this.E=Of[4]|0,this.F=Of[5]|0,this.G=Of[6]|0,this.H=Of[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Nf[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Nf[u-15],m=Nf[u-2],v=cd(h,7)^cd(h,18)^h>>>3,g=cd(m,17)^cd(m,19)^m>>>10;Nf[u]=g+Nf[u-7]+v+Nf[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=cd(a,6)^cd(a,11)^cd(a,25),m=d+h+llt(a,l,c)+_lt[u]+Nf[u]|0,g=(cd(r,2)^cd(r,13)^cd(r,22))+clt(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+g|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){Fh(Nf)}destroy(){this.set(0,0,0,0,0,0,0,0),Fh(this.buffer)}};const Che=Ehe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),klt=Che[0],Slt=Che[1],Pf=new Uint32Array(80),Bf=new Uint32Array(80);let Ilt=class extends Ihe{constructor(t=64){super(128,t,16,!1),this.Ah=Ts[0]|0,this.Al=Ts[1]|0,this.Bh=Ts[2]|0,this.Bl=Ts[3]|0,this.Ch=Ts[4]|0,this.Cl=Ts[5]|0,this.Dh=Ts[6]|0,this.Dl=Ts[7]|0,this.Eh=Ts[8]|0,this.El=Ts[9]|0,this.Fh=Ts[10]|0,this.Fl=Ts[11]|0,this.Gh=Ts[12]|0,this.Gl=Ts[13]|0,this.Hh=Ts[14]|0,this.Hl=Ts[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let _=0;_<16;_++,n+=4)Pf[_]=t.getUint32(n),Bf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Pf[_-15]|0,I=Bf[_-15]|0,T=Qg(R,I,1)^Qg(R,I,8)^HY(R,I,7),M=ey(R,I,1)^ey(R,I,8)^GY(R,I,7),D=Pf[_-2]|0,A=Bf[_-2]|0,U=Qg(D,A,19)^Mk(D,A,61)^HY(D,A,6),$=ey(D,A,19)^jk(D,A,61)^GY(D,A,6),q=ylt(M,$,Bf[_-7],Bf[_-16]),z=vlt(q,T,U,Pf[_-7],Pf[_-16]);Pf[_]=z|0,Bf[_]=q|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=Qg(u,h,14)^Qg(u,h,18)^Mk(u,h,41),I=ey(u,h,14)^ey(u,h,18)^jk(u,h,41),T=u&m^~u&g,M=h&v^~h&y,D=wlt(k,I,M,Slt[_],Bf[_]),A=blt(D,b,R,T,klt[_],Pf[_]),U=D|0,$=Qg(r,i,28)^Mk(r,i,34)^Mk(r,i,39),q=ey(r,i,28)^jk(r,i,34)^jk(r,i,39),z=r&o^r&a^o&a,S=i&s^i&l^s&l;b=g|0,k=y|0,g=m|0,y=v|0,m=u|0,v=h|0,{h:u,l:h}=du(c|0,d|0,A|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=mlt(U,q,S);r=glt(E,A,$,z),i=E|0}({h:r,l:i}=du(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=du(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=du(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=du(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=du(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=du(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=du(this.Gh|0,this.Gl|0,g|0,y|0),{h:b,l:k}=du(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k)}roundClean(){Fh(Pf,Bf)}destroy(){Fh(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ahe=Zj(()=>new xlt),Elt=Zj(()=>new Ilt),Wh=Ahe;var $r={},U4,JY;function Clt(){if(JY)return U4;JY=1;var e=yv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,b=0,k=0,_=g.length;k!==_&&g[k]===0;)k++,y++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=g[k],M=0,D=R-1;(T!==0||M<b)&&D!==-1;D--,M++)T+=256*I[D]>>>0,I[D]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=M,k++}for(var A=R-b;A!==R&&I[A]===0;)A++;for(var U=c.repeat(y);A<R;++A)U+=n.charAt(I[A]);return U}function m(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return e.alloc(0);for(var y=0,b=0,k=0;g[y]===c;)b++,y++;for(var _=(g.length-y)*d+1>>>0,R=new Uint8Array(_);y<g.length;){var I=g.charCodeAt(y);if(I>255)return;var T=r[I];if(T===255)return;for(var M=0,D=_-1;(T!==0||M<k)&&D!==-1;D--,M++)T+=l*R[D]>>>0,R[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=M,y++}for(var A=_-k;A!==_&&R[A]===0;)A++;var U=e.allocUnsafe(b+(_-A));U.fill(0,0,b);for(var $=b;A!==_;)U[$++]=R[A++];return U}function v(g){var y=m(g);if(y)return y;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return U4=t,U4}var F4,ZY;function Alt(){if(ZY)return F4;ZY=1;var e=Clt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return F4=e(t),F4}function Ou(e,t,n){return t<=e&&e<=n}function aE(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Rlt(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function Tlt(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var KS=-1;function Yj(e){this.tokens=[].slice.call(e)}Yj.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():KS},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var O0=-1;function W4(e,t){if(e)throw TypeError("Decoder error");return t||65533}var HS="utf-8";function GS(e,t){if(!(this instanceof GS))return new GS(e,t);if(e=e!==void 0?String(e).toLowerCase():HS,e!==HS)throw new Error("Encoding not supported. Only utf-8 is supported");t=aE(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}GS.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=aE(n),this._streaming||(this._decoder=new Olt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Yj(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==O0);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===O0)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Tlt(o)}};function JS(e,t){if(!(this instanceof JS))return new JS(e,t);if(e=e!==void 0?String(e).toLowerCase():HS,e!==HS)throw new Error("Encoding not supported. Only utf-8 is supported");t=aE(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}JS.prototype={encode:function(t,n){t=t?String(t):"",n=aE(n),this._streaming||(this._encoder=new Nlt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Yj(Rlt(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==O0);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==O0;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function Olt(e){var t=e.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===KS&&i!==0)return i=0,W4(t);if(l===KS)return O0;if(i===0){if(Ou(l,0,127))return l;if(Ou(l,194,223))i=1,n=l-192;else if(Ou(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(Ou(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return W4(t);return n=n<<6*i,null}if(!Ou(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),W4(t);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function Nlt(e){e.fatal,this.handler=function(t,n){if(n===KS)return O0;if(Ou(n,0,127))return n;var r,i;Ou(n,128,2047)?(r=1,i=192):Ou(n,2048,65535)?(r=2,i=224):Ou(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const Plt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:GS,TextEncoder:JS},Symbol.toStringTag,{value:"Module"})),Blt=K1(Plt);var YY;function Dlt(){if(YY)return $r;YY=1;var e=$r&&$r.__createBinding||(Object.create?(function(A,U,$,q){q===void 0&&(q=$),Object.defineProperty(A,q,{enumerable:!0,get:function(){return U[$]}})}):(function(A,U,$,q){q===void 0&&(q=$),A[q]=U[$]})),t=$r&&$r.__setModuleDefault||(Object.create?(function(A,U){Object.defineProperty(A,"default",{enumerable:!0,value:U})}):function(A,U){A.default=U}),n=$r&&$r.__decorate||function(A,U,$,q){var z=arguments.length,S=z<3?U:q===null?q=Object.getOwnPropertyDescriptor(U,$):q,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(A,U,$,q);else for(var N=A.length-1;N>=0;N--)(E=A[N])&&(S=(z<3?E(S):z>3?E(U,$,S):E(U,$))||S);return z>3&&S&&Object.defineProperty(U,$,S),S},r=$r&&$r.__importStar||function(A){if(A&&A.__esModule)return A;var U={};if(A!=null)for(var $ in A)$!=="default"&&Object.hasOwnProperty.call(A,$)&&e(U,A,$);return t(U,A),U},i=$r&&$r.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty($r,"__esModule",{value:!0}),$r.deserializeUnchecked=$r.deserialize=$r.serialize=$r.BinaryReader=$r.BinaryWriter=$r.BorshError=$r.baseDecode=$r.baseEncode=void 0;const o=i(_he()),s=i(Alt()),a=r(Blt),l=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,c=new l("utf-8",{fatal:!0});function d(A){return typeof A=="string"&&(A=Buffer.from(A,"utf8")),s.default.encode(Buffer.from(A))}$r.baseEncode=d;function u(A){return Buffer.from(s.default.decode(A))}$r.baseDecode=u;const h=1024;class m extends Error{constructor(U){super(U),this.fieldPath=[],this.originalMessage=U}addToFieldPath(U){this.fieldPath.splice(0,0,U),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}$r.BorshError=m;class v{constructor(){this.buf=Buffer.alloc(h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(h)]))}writeU8(U){this.maybeResize(),this.buf.writeUInt8(U,this.length),this.length+=1}writeU16(U){this.maybeResize(),this.buf.writeUInt16LE(U,this.length),this.length+=2}writeU32(U){this.maybeResize(),this.buf.writeUInt32LE(U,this.length),this.length+=4}writeU64(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",8)))}writeU128(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",16)))}writeU256(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",32)))}writeU512(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",64)))}writeBuffer(U){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),U,Buffer.alloc(h)]),this.length+=U.length}writeString(U){this.maybeResize();const $=Buffer.from(U,"utf8");this.writeU32($.length),this.writeBuffer($)}writeFixedArray(U){this.writeBuffer(Buffer.from(U))}writeArray(U,$){this.maybeResize(),this.writeU32(U.length);for(const q of U)this.maybeResize(),$(q)}toArray(){return this.buf.subarray(0,this.length)}}$r.BinaryWriter=v;function g(A,U,$){const q=$.value;$.value=function(...z){try{return q.apply(this,z)}catch(S){if(S instanceof RangeError){const E=S.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(E)>=0)throw new m("Reached the end of buffer when deserializing")}throw S}}}class y{constructor(U){this.buf=U,this.offset=0}readU8(){const U=this.buf.readUInt8(this.offset);return this.offset+=1,U}readU16(){const U=this.buf.readUInt16LE(this.offset);return this.offset+=2,U}readU32(){const U=this.buf.readUInt32LE(this.offset);return this.offset+=4,U}readU64(){const U=this.readBuffer(8);return new o.default(U,"le")}readU128(){const U=this.readBuffer(16);return new o.default(U,"le")}readU256(){const U=this.readBuffer(32);return new o.default(U,"le")}readU512(){const U=this.readBuffer(64);return new o.default(U,"le")}readBuffer(U){if(this.offset+U>this.buf.length)throw new m(`Expected buffer length ${U} isn't within bounds`);const $=this.buf.slice(this.offset,this.offset+U);return this.offset+=U,$}readString(){const U=this.readU32(),$=this.readBuffer(U);try{return c.decode($)}catch(q){throw new m(`Error decoding UTF-8 string: ${q}`)}}readFixedArray(U){return new Uint8Array(this.readBuffer(U))}readArray(U){const $=this.readU32(),q=Array();for(let z=0;z<$;++z)q.push(U());return q}}n([g],y.prototype,"readU8",null),n([g],y.prototype,"readU16",null),n([g],y.prototype,"readU32",null),n([g],y.prototype,"readU64",null),n([g],y.prototype,"readU128",null),n([g],y.prototype,"readU256",null),n([g],y.prototype,"readU512",null),n([g],y.prototype,"readString",null),n([g],y.prototype,"readFixedArray",null),n([g],y.prototype,"readArray",null),$r.BinaryReader=y;function b(A){return A.charAt(0).toUpperCase()+A.slice(1)}function k(A,U,$,q,z){try{if(typeof q=="string")z[`write${b(q)}`]($);else if(q instanceof Array)if(typeof q[0]=="number"){if($.length!==q[0])throw new m(`Expecting byte array of length ${q[0]}, but got ${$.length} bytes`);z.writeFixedArray($)}else if(q.length===2&&typeof q[1]=="number"){if($.length!==q[1])throw new m(`Expecting byte array of length ${q[1]}, but got ${$.length} bytes`);for(let S=0;S<q[1];S++)k(A,null,$[S],q[0],z)}else z.writeArray($,S=>{k(A,U,S,q[0],z)});else if(q.kind!==void 0)switch(q.kind){case"option":{$==null?z.writeU8(0):(z.writeU8(1),k(A,U,$,q.type,z));break}case"map":{z.writeU32($.size),$.forEach((S,E)=>{k(A,U,E,q.key,z),k(A,U,S,q.value,z)});break}default:throw new m(`FieldType ${q} unrecognized`)}else _(A,$,z)}catch(S){throw S instanceof m&&S.addToFieldPath(U),S}}function _(A,U,$){if(typeof U.borshSerialize=="function"){U.borshSerialize($);return}const q=A.get(U.constructor);if(!q)throw new m(`Class ${U.constructor.name} is missing in schema`);if(q.kind==="struct")q.fields.map(([z,S])=>{k(A,z,U[z],S,$)});else if(q.kind==="enum"){const z=U[q.field];for(let S=0;S<q.values.length;++S){const[E,N]=q.values[S];if(E===z){$.writeU8(S),k(A,E,U[E],N,$);break}}}else throw new m(`Unexpected schema kind: ${q.kind} for ${U.constructor.name}`)}function R(A,U,$=v){const q=new $;return _(A,U,q),q.toArray()}$r.serialize=R;function I(A,U,$,q){try{if(typeof $=="string")return q[`read${b($)}`]();if($ instanceof Array){if(typeof $[0]=="number")return q.readFixedArray($[0]);if(typeof $[1]=="number"){const z=[];for(let S=0;S<$[1];S++)z.push(I(A,null,$[0],q));return z}else return q.readArray(()=>I(A,U,$[0],q))}if($.kind==="option")return q.readU8()?I(A,U,$.type,q):void 0;if($.kind==="map"){let z=new Map;const S=q.readU32();for(let E=0;E<S;E++){const N=I(A,U,$.key,q),P=I(A,U,$.value,q);z.set(N,P)}return z}return T(A,$,q)}catch(z){throw z instanceof m&&z.addToFieldPath(U),z}}function T(A,U,$){if(typeof U.borshDeserialize=="function")return U.borshDeserialize($);const q=A.get(U);if(!q)throw new m(`Class ${U.name} is missing in schema`);if(q.kind==="struct"){const z={};for(const[S,E]of A.get(U).fields)z[S]=I(A,S,E,$);return new U(z)}if(q.kind==="enum"){const z=$.readU8();if(z>=q.values.length)throw new m(`Enum index: ${z} is out of range`);const[S,E]=q.values[z],N=I(A,S,E,$);return new U({[S]:N})}throw new m(`Unexpected schema kind: ${q.kind} for ${U.constructor.name}`)}function M(A,U,$,q=y){const z=new q($),S=T(A,U,z);if(z.offset<$.length)throw new m(`Unexpected ${$.length-z.offset} bytes after deserialized data`);return S}$r.deserialize=M;function D(A,U,$,q=y){const z=new q($);return T(A,U,z)}return $r.deserializeUnchecked=D,$r}var sa=Dlt(),ze={},XY;function Mlt(){if(XY)return ze;XY=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.s16=ze.s8=ze.nu64be=ze.u48be=ze.u40be=ze.u32be=ze.u24be=ze.u16be=ze.nu64=ze.u48=ze.u40=ze.u32=ze.u24=ze.u16=ze.u8=ze.offset=ze.greedy=ze.Constant=ze.UTF8=ze.CString=ze.Blob=ze.Boolean=ze.BitField=ze.BitStructure=ze.VariantLayout=ze.Union=ze.UnionLayoutDiscriminator=ze.UnionDiscriminator=ze.Structure=ze.Sequence=ze.DoubleBE=ze.Double=ze.FloatBE=ze.Float=ze.NearInt64BE=ze.NearInt64=ze.NearUInt64BE=ze.NearUInt64=ze.IntBE=ze.Int=ze.UIntBE=ze.UInt=ze.OffsetLayout=ze.GreedyCount=ze.ExternalLayout=ze.bindConstructorLayout=ze.nameWithProperty=ze.Layout=ze.uint8ArrayToBuffer=ze.checkUint8Array=void 0,ze.constant=ze.utf8=ze.cstr=ze.blob=ze.unionLayoutDiscriminator=ze.union=ze.seq=ze.bits=ze.struct=ze.f64be=ze.f64=ze.f32be=ze.f32=ze.ns64be=ze.s48be=ze.s40be=ze.s32be=ze.s24be=ze.s16be=ze.ns64=ze.s48=ze.s40=ze.s32=ze.s24=void 0;const e=uD();function t(O){if(!(O instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ze.checkUint8Array=t;function n(O){return t(O),e.Buffer.from(O.buffer,O.byteOffset,O.length)}ze.uint8ArrayToBuffer=n;let r=class{constructor(W,G){if(!Number.isInteger(W))throw new TypeError("span must be an integer");this.span=W,this.property=G}makeDestinationObject(){return{}}getSpan(W,G){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(W){const G=Object.create(this.constructor.prototype);return Object.assign(G,this),G.property=W,G}fromArray(W){}};ze.Layout=r;function i(O,W){return W.property?O+"["+W.property+"]":O}ze.nameWithProperty=i;function o(O,W){if(typeof O!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(O,"layout_"))throw new Error("Class is already bound to a layout");if(!(W&&W instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(W,"boundConstructor_"))throw new Error("layout is already bound to a constructor");O.layout_=W,W.boundConstructor_=O,W.makeDestinationObject=(()=>new O),Object.defineProperty(O.prototype,"encode",{value(G,Y){return W.encode(this,G,Y)},writable:!0}),Object.defineProperty(O,"decode",{value(G,Y){return W.decode(G,Y)},writable:!0})}ze.bindConstructorLayout=o;class s extends r{isCount(){throw new Error("ExternalLayout is abstract")}}ze.ExternalLayout=s;class a extends s{constructor(W=1,G){if(!Number.isInteger(W)||0>=W)throw new TypeError("elementSpan must be a (positive) integer");super(-1,G),this.elementSpan=W}isCount(){return!0}decode(W,G=0){t(W);const Y=W.length-G;return Math.floor(Y/this.elementSpan)}encode(W,G,Y){return 0}}ze.GreedyCount=a;class l extends s{constructor(W,G=0,Y){if(!(W instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(G))throw new TypeError("offset must be integer or undefined");super(W.span,Y||W.property),this.layout=W,this.offset=G}isCount(){return this.layout instanceof c||this.layout instanceof d}decode(W,G=0){return this.layout.decode(W,G+this.offset)}encode(W,G,Y=0){return this.layout.encode(W,G,Y+this.offset)}}ze.OffsetLayout=l;class c extends r{constructor(W,G){if(super(W,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,G=0){return n(W).readUIntLE(G,this.span)}encode(W,G,Y=0){return n(G).writeUIntLE(W,Y,this.span),this.span}}ze.UInt=c;class d extends r{constructor(W,G){if(super(W,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,G=0){return n(W).readUIntBE(G,this.span)}encode(W,G,Y=0){return n(G).writeUIntBE(W,Y,this.span),this.span}}ze.UIntBE=d;class u extends r{constructor(W,G){if(super(W,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,G=0){return n(W).readIntLE(G,this.span)}encode(W,G,Y=0){return n(G).writeIntLE(W,Y,this.span),this.span}}ze.Int=u;class h extends r{constructor(W,G){if(super(W,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(W,G=0){return n(W).readIntBE(G,this.span)}encode(W,G,Y=0){return n(G).writeIntBE(W,Y,this.span),this.span}}ze.IntBE=h;const m=Math.pow(2,32);function v(O){const W=Math.floor(O/m),G=O-W*m;return{hi32:W,lo32:G}}function g(O,W){return O*m+W}class y extends r{constructor(W){super(8,W)}decode(W,G=0){const Y=n(W),ie=Y.readUInt32LE(G),ye=Y.readUInt32LE(G+4);return g(ye,ie)}encode(W,G,Y=0){const ie=v(W),ye=n(G);return ye.writeUInt32LE(ie.lo32,Y),ye.writeUInt32LE(ie.hi32,Y+4),8}}ze.NearUInt64=y;class b extends r{constructor(W){super(8,W)}decode(W,G=0){const Y=n(W),ie=Y.readUInt32BE(G),ye=Y.readUInt32BE(G+4);return g(ie,ye)}encode(W,G,Y=0){const ie=v(W),ye=n(G);return ye.writeUInt32BE(ie.hi32,Y),ye.writeUInt32BE(ie.lo32,Y+4),8}}ze.NearUInt64BE=b;class k extends r{constructor(W){super(8,W)}decode(W,G=0){const Y=n(W),ie=Y.readUInt32LE(G),ye=Y.readInt32LE(G+4);return g(ye,ie)}encode(W,G,Y=0){const ie=v(W),ye=n(G);return ye.writeUInt32LE(ie.lo32,Y),ye.writeInt32LE(ie.hi32,Y+4),8}}ze.NearInt64=k;class _ extends r{constructor(W){super(8,W)}decode(W,G=0){const Y=n(W),ie=Y.readInt32BE(G),ye=Y.readUInt32BE(G+4);return g(ie,ye)}encode(W,G,Y=0){const ie=v(W),ye=n(G);return ye.writeInt32BE(ie.hi32,Y),ye.writeUInt32BE(ie.lo32,Y+4),8}}ze.NearInt64BE=_;class R extends r{constructor(W){super(4,W)}decode(W,G=0){return n(W).readFloatLE(G)}encode(W,G,Y=0){return n(G).writeFloatLE(W,Y),4}}ze.Float=R;class I extends r{constructor(W){super(4,W)}decode(W,G=0){return n(W).readFloatBE(G)}encode(W,G,Y=0){return n(G).writeFloatBE(W,Y),4}}ze.FloatBE=I;class T extends r{constructor(W){super(8,W)}decode(W,G=0){return n(W).readDoubleLE(G)}encode(W,G,Y=0){return n(G).writeDoubleLE(W,Y),8}}ze.Double=T;class M extends r{constructor(W){super(8,W)}decode(W,G=0){return n(W).readDoubleBE(G)}encode(W,G,Y=0){return n(G).writeDoubleBE(W,Y),8}}ze.DoubleBE=M;class D extends r{constructor(W,G,Y){if(!(W instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(G instanceof s&&G.isCount()||Number.isInteger(G)&&0<=G))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ie=-1;!(G instanceof s)&&0<W.span&&(ie=G*W.span),super(ie,Y),this.elementLayout=W,this.count=G}getSpan(W,G=0){if(0<=this.span)return this.span;let Y=0,ie=this.count;if(ie instanceof s&&(ie=ie.decode(W,G)),0<this.elementLayout.span)Y=ie*this.elementLayout.span;else{let ye=0;for(;ye<ie;)Y+=this.elementLayout.getSpan(W,G+Y),++ye}return Y}decode(W,G=0){const Y=[];let ie=0,ye=this.count;for(ye instanceof s&&(ye=ye.decode(W,G));ie<ye;)Y.push(this.elementLayout.decode(W,G)),G+=this.elementLayout.getSpan(W,G),ie+=1;return Y}encode(W,G,Y=0){const ie=this.elementLayout,ye=W.reduce((me,be)=>me+ie.encode(be,G,Y+me),0);return this.count instanceof s&&this.count.encode(W.length,G,Y),ye}}ze.Sequence=D;class A extends r{constructor(W,G,Y){if(!(Array.isArray(W)&&W.reduce((ye,me)=>ye&&me instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof G=="boolean"&&Y===void 0&&(Y=G,G=void 0);for(const ye of W)if(0>ye.span&&ye.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ie=-1;try{ie=W.reduce((ye,me)=>ye+me.getSpan(),0)}catch{}super(ie,G),this.fields=W,this.decodePrefixes=!!Y}getSpan(W,G=0){if(0<=this.span)return this.span;let Y=0;try{Y=this.fields.reduce((ie,ye)=>{const me=ye.getSpan(W,G);return G+=me,ie+me},0)}catch{throw new RangeError("indeterminate span")}return Y}decode(W,G=0){t(W);const Y=this.makeDestinationObject();for(const ie of this.fields)if(ie.property!==void 0&&(Y[ie.property]=ie.decode(W,G)),G+=ie.getSpan(W,G),this.decodePrefixes&&W.length===G)break;return Y}encode(W,G,Y=0){const ie=Y;let ye=0,me=0;for(const be of this.fields){let Me=be.span;if(me=0<Me?Me:0,be.property!==void 0){const Fe=W[be.property];Fe!==void 0&&(me=be.encode(Fe,G,Y),0>Me&&(Me=be.getSpan(G,Y)))}ye=Y,Y+=Me}return ye+me-ie}fromArray(W){const G=this.makeDestinationObject();for(const Y of this.fields)Y.property!==void 0&&0<W.length&&(G[Y.property]=W.shift());return G}layoutFor(W){if(typeof W!="string")throw new TypeError("property must be string");for(const G of this.fields)if(G.property===W)return G}offsetOf(W){if(typeof W!="string")throw new TypeError("property must be string");let G=0;for(const Y of this.fields){if(Y.property===W)return G;0>Y.span?G=-1:0<=G&&(G+=Y.span)}}}ze.Structure=A;class U{constructor(W){this.property=W}decode(W,G){throw new Error("UnionDiscriminator is abstract")}encode(W,G,Y){throw new Error("UnionDiscriminator is abstract")}}ze.UnionDiscriminator=U;class $ extends U{constructor(W,G){if(!(W instanceof s&&W.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(G||W.property||"variant"),this.layout=W}decode(W,G){return this.layout.decode(W,G)}encode(W,G,Y){return this.layout.encode(W,G,Y)}}ze.UnionLayoutDiscriminator=$;class q extends r{constructor(W,G,Y){let ie;if(W instanceof c||W instanceof d)ie=new $(new l(W));else if(W instanceof s&&W.isCount())ie=new $(W);else if(W instanceof U)ie=W;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(G===void 0&&(G=null),!(G===null||G instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(G!==null){if(0>G.span)throw new Error("defaultLayout must have constant span");G.property===void 0&&(G=G.replicate("content"))}let ye=-1;G&&(ye=G.span,0<=ye&&(W instanceof c||W instanceof d)&&(ye+=ie.layout.span)),super(ye,Y),this.discriminator=ie,this.usesPrefixDiscriminator=W instanceof c||W instanceof d,this.defaultLayout=G,this.registry={};let me=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(be){return me(be)},this.configGetSourceVariant=function(be){me=be.bind(this)}}getSpan(W,G=0){if(0<=this.span)return this.span;const Y=this.getVariant(W,G);if(!Y)throw new Error("unable to determine span for unrecognized variant");return Y.getSpan(W,G)}defaultGetSourceVariant(W){if(Object.prototype.hasOwnProperty.call(W,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(W,this.defaultLayout.property))return;const G=this.registry[W[this.discriminator.property]];if(G&&(!G.layout||G.property&&Object.prototype.hasOwnProperty.call(W,G.property)))return G}else for(const G in this.registry){const Y=this.registry[G];if(Y.property&&Object.prototype.hasOwnProperty.call(W,Y.property))return Y}throw new Error("unable to infer src variant")}decode(W,G=0){let Y;const ie=this.discriminator,ye=ie.decode(W,G),me=this.registry[ye];if(me===void 0){const be=this.defaultLayout;let Me=0;this.usesPrefixDiscriminator&&(Me=ie.layout.span),Y=this.makeDestinationObject(),Y[ie.property]=ye,Y[be.property]=be.decode(W,G+Me)}else Y=me.decode(W,G);return Y}encode(W,G,Y=0){const ie=this.getSourceVariant(W);if(ie===void 0){const ye=this.discriminator,me=this.defaultLayout;let be=0;return this.usesPrefixDiscriminator&&(be=ye.layout.span),ye.encode(W[ye.property],G,Y),be+me.encode(W[me.property],G,Y+be)}return ie.encode(W,G,Y)}addVariant(W,G,Y){const ie=new z(this,W,G,Y);return this.registry[W]=ie,ie}getVariant(W,G=0){let Y;return W instanceof Uint8Array?Y=this.discriminator.decode(W,G):Y=W,this.registry[Y]}}ze.Union=q;class z extends r{constructor(W,G,Y,ie){if(!(W instanceof q))throw new TypeError("union must be a Union");if(!Number.isInteger(G)||0>G)throw new TypeError("variant must be a (non-negative) integer");if(typeof Y=="string"&&ie===void 0&&(ie=Y,Y=null),Y){if(!(Y instanceof r))throw new TypeError("layout must be a Layout");if(W.defaultLayout!==null&&0<=Y.span&&Y.span>W.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ie!="string")throw new TypeError("variant must have a String property")}let ye=W.span;0>W.span&&(ye=Y?Y.span:0,0<=ye&&W.usesPrefixDiscriminator&&(ye+=W.discriminator.layout.span)),super(ye,ie),this.union=W,this.variant=G,this.layout=Y||null}getSpan(W,G=0){if(0<=this.span)return this.span;let Y=0;this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span);let ie=0;return this.layout&&(ie=this.layout.getSpan(W,G+Y)),Y+ie}decode(W,G=0){const Y=this.makeDestinationObject();if(this!==this.union.getVariant(W,G))throw new Error("variant mismatch");let ie=0;return this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span),this.layout?Y[this.property]=this.layout.decode(W,G+ie):this.property?Y[this.property]=!0:this.union.usesPrefixDiscriminator&&(Y[this.union.discriminator.property]=this.variant),Y}encode(W,G,Y=0){let ie=0;if(this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(W,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,G,Y);let ye=ie;if(this.layout&&(this.layout.encode(W[this.property],G,Y+ie),ye+=this.layout.getSpan(G,Y+ie),0<=this.union.span&&ye>this.union.span))throw new Error("encoded variant overruns containing union");return ye}fromArray(W){if(this.layout)return this.layout.fromArray(W)}}ze.VariantLayout=z;function S(O){return 0>O&&(O+=4294967296),O}class E extends r{constructor(W,G,Y){if(!(W instanceof c||W instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof G=="string"&&Y===void 0&&(Y=G,G=!1),4<W.span)throw new RangeError("word cannot exceed 32 bits");super(W.span,Y),this.word=W,this.msb=!!G,this.fields=[];let ie=0;this._packedSetValue=function(ye){return ie=S(ye),this},this._packedGetValue=function(){return ie}}decode(W,G=0){const Y=this.makeDestinationObject(),ie=this.word.decode(W,G);this._packedSetValue(ie);for(const ye of this.fields)ye.property!==void 0&&(Y[ye.property]=ye.decode(W));return Y}encode(W,G,Y=0){const ie=this.word.decode(G,Y);this._packedSetValue(ie);for(const ye of this.fields)if(ye.property!==void 0){const me=W[ye.property];me!==void 0&&ye.encode(me)}return this.word.encode(this._packedGetValue(),G,Y)}addField(W,G){const Y=new N(this,W,G);return this.fields.push(Y),Y}addBoolean(W){const G=new P(this,W);return this.fields.push(G),G}fieldFor(W){if(typeof W!="string")throw new TypeError("property must be string");for(const G of this.fields)if(G.property===W)return G}}ze.BitStructure=E;class N{constructor(W,G,Y){if(!(W instanceof E))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(G)||0>=G)throw new TypeError("bits must be positive integer");const ie=8*W.span,ye=W.fields.reduce((me,be)=>me+be.bits,0);if(G+ye>ie)throw new Error("bits too long for span remainder ("+(ie-ye)+" of "+ie+" remain)");this.container=W,this.bits=G,this.valueMask=(1<<G)-1,G===32&&(this.valueMask=4294967295),this.start=ye,this.container.msb&&(this.start=ie-ye-G),this.wordMask=S(this.valueMask<<this.start),this.property=Y}decode(W,G){const Y=this.container._packedGetValue();return S(Y&this.wordMask)>>>this.start}encode(W){if(typeof W!="number"||!Number.isInteger(W)||W!==S(W&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const G=this.container._packedGetValue(),Y=S(W<<this.start);this.container._packedSetValue(S(G&~this.wordMask)|Y)}}ze.BitField=N;class P extends N{constructor(W,G){super(W,1,G)}decode(W,G){return!!super.decode(W,G)}encode(W){typeof W=="boolean"&&(W=+W),super.encode(W)}}ze.Boolean=P;class j extends r{constructor(W,G){if(!(W instanceof s&&W.isCount()||Number.isInteger(W)&&0<=W))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let Y=-1;W instanceof s||(Y=W),super(Y,G),this.length=W}getSpan(W,G){let Y=this.span;return 0>Y&&(Y=this.length.decode(W,G)),Y}decode(W,G=0){let Y=this.span;return 0>Y&&(Y=this.length.decode(W,G)),n(W).slice(G,G+Y)}encode(W,G,Y){let ie=this.length;if(this.length instanceof s&&(ie=W.length),!(W instanceof Uint8Array&&ie===W.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+ie+") Uint8Array as src");if(Y+ie>G.length)throw new RangeError("encoding overruns Uint8Array");const ye=n(W);return n(G).write(ye.toString("hex"),Y,ie,"hex"),this.length instanceof s&&this.length.encode(ie,G,Y),ie}}ze.Blob=j;class V extends r{constructor(W){super(-1,W)}getSpan(W,G=0){t(W);let Y=G;for(;Y<W.length&&W[Y]!==0;)Y+=1;return 1+Y-G}decode(W,G=0){const Y=this.getSpan(W,G);return n(W).slice(G,G+Y-1).toString("utf-8")}encode(W,G,Y=0){typeof W!="string"&&(W=String(W));const ie=e.Buffer.from(W,"utf8"),ye=ie.length;if(Y+ye>G.length)throw new RangeError("encoding overruns Buffer");const me=n(G);return ie.copy(me,Y),me[Y+ye]=0,ye+1}}ze.CString=V;class K extends r{constructor(W,G){if(typeof W=="string"&&G===void 0&&(G=W,W=void 0),W===void 0)W=-1;else if(!Number.isInteger(W))throw new TypeError("maxSpan must be an integer");super(-1,G),this.maxSpan=W}getSpan(W,G=0){return t(W),W.length-G}decode(W,G=0){const Y=this.getSpan(W,G);if(0<=this.maxSpan&&this.maxSpan<Y)throw new RangeError("text length exceeds maxSpan");return n(W).slice(G,G+Y).toString("utf-8")}encode(W,G,Y=0){typeof W!="string"&&(W=String(W));const ie=e.Buffer.from(W,"utf8"),ye=ie.length;if(0<=this.maxSpan&&this.maxSpan<ye)throw new RangeError("text length exceeds maxSpan");if(Y+ye>G.length)throw new RangeError("encoding overruns Buffer");return ie.copy(n(G),Y),ye}}ze.UTF8=K;class F extends r{constructor(W,G){super(0,G),this.value=W}decode(W,G){return this.value}encode(W,G,Y){return 0}}return ze.Constant=F,ze.greedy=((O,W)=>new a(O,W)),ze.offset=((O,W,G)=>new l(O,W,G)),ze.u8=(O=>new c(1,O)),ze.u16=(O=>new c(2,O)),ze.u24=(O=>new c(3,O)),ze.u32=(O=>new c(4,O)),ze.u40=(O=>new c(5,O)),ze.u48=(O=>new c(6,O)),ze.nu64=(O=>new y(O)),ze.u16be=(O=>new d(2,O)),ze.u24be=(O=>new d(3,O)),ze.u32be=(O=>new d(4,O)),ze.u40be=(O=>new d(5,O)),ze.u48be=(O=>new d(6,O)),ze.nu64be=(O=>new b(O)),ze.s8=(O=>new u(1,O)),ze.s16=(O=>new u(2,O)),ze.s24=(O=>new u(3,O)),ze.s32=(O=>new u(4,O)),ze.s40=(O=>new u(5,O)),ze.s48=(O=>new u(6,O)),ze.ns64=(O=>new k(O)),ze.s16be=(O=>new h(2,O)),ze.s24be=(O=>new h(3,O)),ze.s32be=(O=>new h(4,O)),ze.s40be=(O=>new h(5,O)),ze.s48be=(O=>new h(6,O)),ze.ns64be=(O=>new _(O)),ze.f32=(O=>new R(O)),ze.f32be=(O=>new I(O)),ze.f64=(O=>new T(O)),ze.f64be=(O=>new M(O)),ze.struct=((O,W,G)=>new A(O,W,G)),ze.bits=((O,W,G)=>new E(O,W,G)),ze.seq=((O,W,G)=>new D(O,W,G)),ze.union=((O,W,G)=>new q(O,W,G)),ze.unionLayoutDiscriminator=((O,W)=>new $(O,W)),ze.blob=((O,W)=>new j(O,W)),ze.cstr=(O=>new V(O)),ze.utf8=((O,W)=>new K(O,W)),ze.constant=((O,W)=>new F(O,W)),ze}var B=Mlt(),jlt=8078e3,$lt=8078001,Llt=8078004,Ult=8078005,Flt=8078006,Wlt=8078011;function Rhe(e){return Array.isArray(e)?"%5B"+e.map(Rhe).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function qlt([e,t]){return`${e}=${Rhe(t)}`}function zlt(e){const t=Object.entries(e).map(qlt).join("&");return btoa(t)}function Vlt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${zlt(t)}'`),`${n}\``}}var e0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=Vlt(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function Klt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Hlt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Klt(t,e));return e.write(t,n,0),n}})}function Glt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ty(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function Jlt(e,t){if(ty(e)!==ty(t))throw new e0(Llt);if(ty(e)&&ty(t)&&e.fixedSize!==t.fixedSize)throw new e0(Ult,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ty(e)&&!ty(t)&&e.maxSize!==t.maxSize)throw new e0(Flt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Zlt(e,t,n=0){if(t.length-n<=0)throw new e0(jlt,{codecDescription:e})}function Ylt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new e0($lt,{bytesLength:i,codecDescription:e,expected:t})}function Xlt(e,t,n,r){if(r<t||r>n)throw new e0(Wlt,{codecDescription:e,max:n,min:t,value:r})}function The(e){return(e==null?void 0:e.endian)!==1}function Qlt(e){return Hlt({fixedSize:e.size,write(t,n,r){e.range&&Xlt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,The(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function ect(e){return Glt({fixedSize:e.size,read(t,n=0){Zlt(e.name,t,n),Ylt(e.name,e.size,t,n);const r=new DataView(tct(t,n,e.size));return[e.get(r,The(e.config)),n+e.size]}})}function tct(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var nct=(e={})=>Qlt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),rct=(e={})=>ect({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),ict=(e={})=>Jlt(nct(e),rct(e));class oct extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function sct(e){return N_(e)&&typeof e[Symbol.iterator]=="function"}function N_(e){return typeof e=="object"&&e!=null}function ZS(e){return N_(e)&&!Array.isArray(e)}function Wc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function act(e){const{done:t,value:n}=e.next();return t?void 0:n}function lct(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Wc(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:l}}function*QY(e,t,n,r){sct(e)||(e=[e]);for(const i of e){const o=lct(i,t,n,r);o&&(yield o)}}function*Xj(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,u]of t.entries(e,a)){const h=Xj(d,u,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of h)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],c===void 0?e=d:e instanceof Map?e.set(c,d):e instanceof Set?e.add(d):N_(e)&&(d!==void 0||c in e)&&(e[c]=d))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}let Jd=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return QY(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return QY(d,c,this,l)}:this.refiner=()=>[]}assert(t,n){return cct(t,this,n)}create(t,n){return ke(t,this,n)}is(t){return Ohe(t,this)}mask(t,n){return dct(t,this,n)}validate(t,n={}){return P_(t,this,n)}};function cct(e,t,n){const r=P_(e,t,{message:n});if(r[0])throw r[0]}function ke(e,t,n){const r=P_(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function dct(e,t,n){const r=P_(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Ohe(e,t){return!P_(e,t)[0]}function P_(e,t,n={}){const r=Xj(e,t,n),i=act(r);return i[0]?[new oct(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function sg(e,t){return new Jd({type:e,schema:null,validator:t})}function B_(){return sg("any",()=>!0)}function pe(e){return new Jd({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Wc(t)}`}})}function kn(){return sg("boolean",e=>typeof e=="boolean")}function ua(e){return sg("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Wc(t)}`)}function it(e){const t=Wc(e),n=typeof e;return new Jd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Wc(r)}`}})}function uct(){return sg("never",()=>!1)}function ge(e){return new Jd({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function H(){return sg("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Wc(e)}`)}function _e(e){return new Jd({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Zd(e,t){return new Jd({type:"record",schema:null,*entries(n){if(N_(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return ZS(n)||`Expected an object, but received: ${Wc(n)}`},coercer(n){return ZS(n)?{...n}:n}})}function ae(){return sg("string",e=>typeof e=="string"||`Expected a string, but received: ${Wc(e)}`)}function fa(e){const t=uct();return new Jd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Wc(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function re(e){const t=Object.keys(e);return new Jd({type:"type",schema:e,*entries(n){if(N_(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return ZS(n)||`Expected an object, but received: ${Wc(n)}`},coercer(n){return ZS(n)?{...n}:n}})}function Ot(e){const t=e.map(n=>n.type).join(" | ");return new Jd({type:"union",schema:null,coercer(n,r){for(const i of e){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of e){const[...s]=Xj(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Wc(n)}`,...i]}})}function Dr(){return sg("unknown",()=>!0)}function yi(e,t,n){return new Jd({...e,coercer:(r,i)=>Ohe(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var $k,fct=new Uint8Array(16);function Nhe(){if(!$k&&($k=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$k))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $k(fct)}const hct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lE(e){return typeof e=="string"&&hct.test(e)}var ls=[];for(var q4=0;q4<256;++q4)ls.push((q4+256).toString(16).substr(1));function cE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ls[e[t+0]]+ls[e[t+1]]+ls[e[t+2]]+ls[e[t+3]]+"-"+ls[e[t+4]]+ls[e[t+5]]+"-"+ls[e[t+6]]+ls[e[t+7]]+"-"+ls[e[t+8]]+ls[e[t+9]]+"-"+ls[e[t+10]]+ls[e[t+11]]+ls[e[t+12]]+ls[e[t+13]]+ls[e[t+14]]+ls[e[t+15]]).toLowerCase();if(!lE(n))throw TypeError("Stringified UUID is invalid");return n}var eX,z4,V4=0,K4=0;function pct(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var o=e.node||eX,s=e.clockseq!==void 0?e.clockseq:z4;if(o==null||s==null){var a=e.random||(e.rng||Nhe)();o==null&&(o=eX=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=z4=(a[6]<<8|a[7])&16383)}var l=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:K4+1,d=l-V4+(c-K4)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||l>V4)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");V4=l,K4=c,z4=s,l+=122192928e5;var u=((l&268435455)*1e4+c)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=u&255;var h=l/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return t||cE(i)}function Phe(e){if(!lE(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function mct(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var gct="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yct="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Bhe(e,t,n){function r(i,o,s,a){if(typeof i=="string"&&(i=mct(i)),typeof o=="string"&&(o=Phe(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return cE(l)}try{r.name=e}catch{}return r.DNS=gct,r.URL=yct,r}function vct(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return wct(bct(_ct(e),e.length*8))}function wct(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(s)}return t}function Dhe(e){return(e+64>>>9<<4)+14+1}function bct(e,t){e[t>>5]|=128<<t%32,e[Dhe(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,l=r,c=i,d=o;n=Os(n,r,i,o,e[s],7,-680876936),o=Os(o,n,r,i,e[s+1],12,-389564586),i=Os(i,o,n,r,e[s+2],17,606105819),r=Os(r,i,o,n,e[s+3],22,-1044525330),n=Os(n,r,i,o,e[s+4],7,-176418897),o=Os(o,n,r,i,e[s+5],12,1200080426),i=Os(i,o,n,r,e[s+6],17,-1473231341),r=Os(r,i,o,n,e[s+7],22,-45705983),n=Os(n,r,i,o,e[s+8],7,1770035416),o=Os(o,n,r,i,e[s+9],12,-1958414417),i=Os(i,o,n,r,e[s+10],17,-42063),r=Os(r,i,o,n,e[s+11],22,-1990404162),n=Os(n,r,i,o,e[s+12],7,1804603682),o=Os(o,n,r,i,e[s+13],12,-40341101),i=Os(i,o,n,r,e[s+14],17,-1502002290),r=Os(r,i,o,n,e[s+15],22,1236535329),n=Ns(n,r,i,o,e[s+1],5,-165796510),o=Ns(o,n,r,i,e[s+6],9,-1069501632),i=Ns(i,o,n,r,e[s+11],14,643717713),r=Ns(r,i,o,n,e[s],20,-373897302),n=Ns(n,r,i,o,e[s+5],5,-701558691),o=Ns(o,n,r,i,e[s+10],9,38016083),i=Ns(i,o,n,r,e[s+15],14,-660478335),r=Ns(r,i,o,n,e[s+4],20,-405537848),n=Ns(n,r,i,o,e[s+9],5,568446438),o=Ns(o,n,r,i,e[s+14],9,-1019803690),i=Ns(i,o,n,r,e[s+3],14,-187363961),r=Ns(r,i,o,n,e[s+8],20,1163531501),n=Ns(n,r,i,o,e[s+13],5,-1444681467),o=Ns(o,n,r,i,e[s+2],9,-51403784),i=Ns(i,o,n,r,e[s+7],14,1735328473),r=Ns(r,i,o,n,e[s+12],20,-1926607734),n=Ps(n,r,i,o,e[s+5],4,-378558),o=Ps(o,n,r,i,e[s+8],11,-2022574463),i=Ps(i,o,n,r,e[s+11],16,1839030562),r=Ps(r,i,o,n,e[s+14],23,-35309556),n=Ps(n,r,i,o,e[s+1],4,-1530992060),o=Ps(o,n,r,i,e[s+4],11,1272893353),i=Ps(i,o,n,r,e[s+7],16,-155497632),r=Ps(r,i,o,n,e[s+10],23,-1094730640),n=Ps(n,r,i,o,e[s+13],4,681279174),o=Ps(o,n,r,i,e[s],11,-358537222),i=Ps(i,o,n,r,e[s+3],16,-722521979),r=Ps(r,i,o,n,e[s+6],23,76029189),n=Ps(n,r,i,o,e[s+9],4,-640364487),o=Ps(o,n,r,i,e[s+12],11,-421815835),i=Ps(i,o,n,r,e[s+15],16,530742520),r=Ps(r,i,o,n,e[s+2],23,-995338651),n=Bs(n,r,i,o,e[s],6,-198630844),o=Bs(o,n,r,i,e[s+7],10,1126891415),i=Bs(i,o,n,r,e[s+14],15,-1416354905),r=Bs(r,i,o,n,e[s+5],21,-57434055),n=Bs(n,r,i,o,e[s+12],6,1700485571),o=Bs(o,n,r,i,e[s+3],10,-1894986606),i=Bs(i,o,n,r,e[s+10],15,-1051523),r=Bs(r,i,o,n,e[s+1],21,-2054922799),n=Bs(n,r,i,o,e[s+8],6,1873313359),o=Bs(o,n,r,i,e[s+15],10,-30611744),i=Bs(i,o,n,r,e[s+6],15,-1560198380),r=Bs(r,i,o,n,e[s+13],21,1309151649),n=Bs(n,r,i,o,e[s+4],6,-145523070),o=Bs(o,n,r,i,e[s+11],10,-1120210379),i=Bs(i,o,n,r,e[s+2],15,718787259),r=Bs(r,i,o,n,e[s+9],21,-343485551),n=wh(n,a),r=wh(r,l),i=wh(i,c),o=wh(o,d)}return[n,r,i,o]}function _ct(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Dhe(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function wh(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function xct(e,t){return e<<t|e>>>32-t}function dE(e,t,n,r,i,o){return wh(xct(wh(wh(t,e),wh(r,o)),i),n)}function Os(e,t,n,r,i,o,s){return dE(t&n|~t&r,e,t,i,o,s)}function Ns(e,t,n,r,i,o,s){return dE(t&r|n&~r,e,t,i,o,s)}function Ps(e,t,n,r,i,o,s){return dE(t^n^r,e,t,i,o,s)}function Bs(e,t,n,r,i,o,s){return dE(n^(t|~r),e,t,i,o,s)}var kct=Bhe("v3",48,vct);function Sct(e,t,n){e=e||{};var r=e.random||(e.rng||Nhe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return cE(r)}function Ict(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function H4(e,t){return e<<t|e>>>32-t}function Ect(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[l*64+d*4]<<24|e[l*64+d*4+1]<<16|e[l*64+d*4+2]<<8|e[l*64+d*4+3];a[l]=c}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(var u=0;u<s;++u){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=a[u][m];for(var v=16;v<80;++v)h[v]=H4(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);for(var g=n[0],y=n[1],b=n[2],k=n[3],_=n[4],R=0;R<80;++R){var I=Math.floor(R/20),T=H4(g,5)+Ict(I,y,b,k)+_+t[I]+h[R]>>>0;_=k,k=b,b=H4(y,30)>>>0,y=g,g=T}n[0]=n[0]+g>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+k>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Cct=Bhe("v5",80,Ect);const Act="00000000-0000-0000-0000-000000000000";function Rct(e){if(!lE(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const Tct=Object.freeze(Object.defineProperty({__proto__:null,NIL:Act,parse:Phe,stringify:cE,v1:pct,v3:kct,v4:Sct,v5:Cct,validate:lE,version:Rct},Symbol.toStringTag,{value:"Module"})),Mhe=K1(Tct);var G4,tX;function Oct(){if(tX)return G4;tX=1;const e=Mhe.v4;return G4=function(n,r,i,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const s=typeof o.version=="number"?o.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const a={method:n};if(s===2&&(a.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");a.params=r}if(typeof i>"u"){const l=typeof o.generator=="function"?o.generator:function(){return e()};a.id=l(a,o)}else s===2&&i===null?o.notificationIdNull&&(a.id=null):a.id=i;return a},G4}var J4,nX;function Nct(){if(nX)return J4;nX=1;const e=Mhe.v4,t=Oct(),n=function(r,i){if(!(this instanceof n))return new n(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return e()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return J4=n,n.prototype.request=function(r,i,o,s){const a=this;let l=null;const c=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof i=="function")s=i,l=r;else{typeof o=="function"&&(s=o,o=void 0);const h=typeof s=="function";try{l=t(r,i,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(h){s(m);return}throw m}if(!h)return l}let u;try{u=JSON.stringify(l,this.options.replacer)}catch(h){s(h);return}return this.callServer(u,function(h,m){a._parseResponse(h,m,s)}),l},n.prototype._parseResponse=function(r,i,o){if(r){o(r);return}if(!i){o();return}let s;try{s=JSON.parse(i,this.options.reviver)}catch(a){o(a);return}if(o.length===3)if(Array.isArray(s)){const a=function(c){return typeof c.error<"u"},l=function(c){return!a(c)};o(null,s.filter(a),s.filter(l));return}else{o(null,s.error,s.result);return}o(null,s)},J4}var Pct=Nct();const Qj=Rr(Pct);var Z4={exports:{}},rX;function Bct(){return rX||(rX=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Z4)),Z4.exports}var Dct=Bct();const jhe=Rr(Dct);var Mct=class extends jhe{constructor(t,n){super();ur(this,"socket");this.socket=new window.WebSocket(t,n.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(t,n,r){const i=r||n;try{this.socket.send(t),i()}catch(o){i(o)}}close(t,n){this.socket.close(t,n)}addEventListener(t,n,r){this.socket.addEventListener(t,n,r)}};function e9(e,t){return new Mct(e,t)}var jct=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},t9=class extends jhe{constructor(t,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();ur(this,"address");ur(this,"rpc_id");ur(this,"queue");ur(this,"options");ur(this,"autoconnect");ur(this,"ready");ur(this,"reconnect");ur(this,"reconnect_timer_id");ur(this,"reconnect_interval");ur(this,"max_reconnects");ur(this,"rest_options");ur(this,"current_reconnects");ur(this,"generate_request_id");ur(this,"socket");ur(this,"webSocketFactory");ur(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new jct,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(t,n),l={jsonrpc:"2.0",method:t,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){const n=await this.call("rpc.login",t);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(t,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.on",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);return n}async unsubscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.off",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(t,n){this.socket&&this.socket.close(t||1e3,n)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Te.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,n),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};const $ct=BigInt(0),kw=BigInt(1),Lct=BigInt(2),Uct=BigInt(7),Fct=BigInt(256),Wct=BigInt(113),$he=[],Lhe=[],Uhe=[];for(let e=0,t=kw,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],$he.push(2*(5*r+n)),Lhe.push((e+1)*(e+2)/2%64);let i=$ct;for(let o=0;o<7;o++)t=(t<<kw^(t>>Uct)*Wct)%Fct,t&Lct&&(i^=kw<<(kw<<BigInt(o))-kw);Uhe.push(i)}const Fhe=Ehe(Uhe,!0),qct=Fhe[0],zct=Fhe[1],iX=(e,t,n)=>n>32?hlt(e,t,n):ult(e,t,n),oX=(e,t,n)=>n>32?plt(e,t,n):flt(e,t,n);function Vct(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],u=iX(c,d,1)^n[a],h=oX(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=u,e[s+m+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=Lhe[s],l=iX(i,o,a),c=oX(i,o,a),d=$he[s];i=e[d],o=e[d+1],e[d]=l,e[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=qct[r],e[1]^=zct[r]}Fh(n)}class n9 extends Jj{constructor(t,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,x1(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=tlt(this.state)}clone(){return this._cloneInto()}keccak(){zY(this.state32),Vct(this.state32,this.rounds),zY(this.state32),this.posOut=0,this.pos=0}update(t){R0(this),t=sE(t),ic(t);const{blockLen:n,state:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){R0(this,!1),ic(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return x1(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xhe(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Fh(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new n9(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Kct=(e,t,n)=>Zj(()=>new n9(t,e,n)),Hct=Kct(1,136,256/8),Gct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Df=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mf=new Uint32Array(64);let Jct=class extends che{constructor(){super(64,32,8,!1),this.A=Df[0]|0,this.B=Df[1]|0,this.C=Df[2]|0,this.D=Df[3]|0,this.E=Df[4]|0,this.F=Df[5]|0,this.G=Df[6]|0,this.H=Df[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Mf[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Mf[u-15],m=Mf[u-2],v=ld(h,7)^ld(h,18)^h>>>3,g=ld(m,17)^ld(m,19)^m>>>10;Mf[u]=g+Mf[u-7]+v+Mf[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=ld(a,6)^ld(a,11)^ld(a,25),m=d+h+Ust(a,l,c)+Gct[u]+Mf[u]|0,g=(ld(r,2)^ld(r,13)^ld(r,22))+Fst(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+g|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){Mf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Zct=ahe(()=>new Jct);let Whe=class extends she{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Dst(t);const r=Wj(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return VS(this),this.iHash.update(t),this}digestInto(t){VS(this),tE(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const qhe=(e,t,n)=>new Whe(e,t).update(n).digest();qhe.create=(e,t)=>new Whe(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sX(e){e.lowS!==void 0&&Fu("lowS",e.lowS),e.prehash!==void 0&&Fu("prehash",e.prehash)}function Yct(e){const t=Vj(e);gv(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Xct,hexToBytes:Qct}=xat;let edt=class extends Error{constructor(t=""){super(t)}};const Su={Err:edt,_tlv:{encode:(e,t)=>{const{Err:n}=Su;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Dy(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Dy(i.length/2|128):"";return Dy(e)+o+i+t},decode(e,t){const{Err:n}=Su;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Su;if(e<Nu)throw new t("integer: negative integers are not allowed");let n=Dy(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Su;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Xct(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Su,i=typeof e=="string"?Qct(e):e;O_(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Su,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Nu=BigInt(0),Uo=BigInt(1);BigInt(2);const aX=BigInt(3);BigInt(4);function tdt(e){const t=Yct(e),{Fp:n}=t,r=oE(t.n,t.nBitLength),i=t.toBytes||((g,y,b)=>{const k=y.toAffine();return Tm(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),o=t.fromBytes||(g=>{const y=g.subarray(1),b=n.fromBytes(y.subarray(0,n.BYTES)),k=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:b,y:k}});function s(g){const{a:y,b}=t,k=n.sqr(g),_=n.mul(k,g);return n.add(n.add(_,n.mul(g,y)),b)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return iE(g,Uo,t.n)}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:k,n:_}=t;if(y&&typeof g!="bigint"){if(Am(g)&&(g=Rm(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(b*2,"0")}let R;try{R=typeof g=="bigint"?g:fm(ho("private key",g,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof g)}return k&&(R=xi(R,_)),Ql("private key",R,Uo,_),R}function c(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const d=_1((g,y)=>{const{px:b,py:k,pz:_}=g;if(n.eql(_,n.ONE))return{x:b,y:k};const R=g.is0();y==null&&(y=R?n.ONE:n.inv(_));const I=n.mul(b,y),T=n.mul(k,y),M=n.mul(_,y);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:I,y:T}}),u=_1(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:b}=g.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");const k=n.sqr(b),_=s(y);if(!n.eql(k,_))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,b,k){if(this.px=y,this.py=b,this.pz=k,y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:b,y:k}=y||{};if(!y||!n.isValid(b)||!n.isValid(k))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const _=R=>n.eql(R,n.ZERO);return _(b)&&_(k)?h.ZERO:new h(b,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=n.invertBatch(y.map(k=>k.pz));return y.map((k,_)=>k.toAffine(b[_])).map(h.fromAffine)}static fromHex(y){const b=h.fromAffine(o(ho("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return h.BASE.multiply(l(y))}static msm(y,b){return whe(h,r,y,b)}_setWindowSize(y){v.setWindowSize(this,y)}assertValidity(){u(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=y,M=n.eql(n.mul(b,T),n.mul(R,_)),D=n.eql(n.mul(k,T),n.mul(I,_));return M&&D}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=t,k=n.mul(b,aX),{px:_,py:R,pz:I}=this;let T=n.ZERO,M=n.ZERO,D=n.ZERO,A=n.mul(_,_),U=n.mul(R,R),$=n.mul(I,I),q=n.mul(_,R);return q=n.add(q,q),D=n.mul(_,I),D=n.add(D,D),T=n.mul(y,D),M=n.mul(k,$),M=n.add(T,M),T=n.sub(U,M),M=n.add(U,M),M=n.mul(T,M),T=n.mul(q,T),D=n.mul(k,D),$=n.mul(y,$),q=n.sub(A,$),q=n.mul(y,q),q=n.add(q,D),D=n.add(A,A),A=n.add(D,A),A=n.add(A,$),A=n.mul(A,q),M=n.add(M,A),$=n.mul(R,I),$=n.add($,$),A=n.mul($,q),T=n.sub(T,A),D=n.mul($,U),D=n.add(D,D),D=n.add(D,D),new h(T,M,D)}add(y){c(y);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=y;let M=n.ZERO,D=n.ZERO,A=n.ZERO;const U=t.a,$=n.mul(t.b,aX);let q=n.mul(b,R),z=n.mul(k,I),S=n.mul(_,T),E=n.add(b,k),N=n.add(R,I);E=n.mul(E,N),N=n.add(q,z),E=n.sub(E,N),N=n.add(b,_);let P=n.add(R,T);return N=n.mul(N,P),P=n.add(q,S),N=n.sub(N,P),P=n.add(k,_),M=n.add(I,T),P=n.mul(P,M),M=n.add(z,S),P=n.sub(P,M),A=n.mul(U,N),M=n.mul($,S),A=n.add(M,A),M=n.sub(z,A),A=n.add(z,A),D=n.mul(M,A),z=n.add(q,q),z=n.add(z,q),S=n.mul(U,S),N=n.mul($,N),z=n.add(z,S),S=n.sub(q,S),S=n.mul(U,S),N=n.add(N,S),q=n.mul(z,N),D=n.add(D,q),q=n.mul(P,N),M=n.mul(E,M),M=n.sub(M,q),q=n.mul(E,z),A=n.mul(P,A),A=n.add(A,q),new h(M,D,A)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return v.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:b,n:k}=t;Ql("scalar",y,Nu,k);const _=h.ZERO;if(y===Nu)return _;if(this.is0()||y===Uo)return this;if(!b||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:R,k1:I,k2neg:T,k2:M}=b.splitScalar(y),D=_,A=_,U=this;for(;I>Nu||M>Nu;)I&Uo&&(D=D.add(U)),M&Uo&&(A=A.add(U)),U=U.double(),I>>=Uo,M>>=Uo;return R&&(D=D.negate()),T&&(A=A.negate()),A=new h(n.mul(A.px,b.beta),A.py,A.pz),D.add(A)}multiply(y){const{endo:b,n:k}=t;Ql("scalar",y,Uo,k);let _,R;if(b){const{k1neg:I,k1:T,k2neg:M,k2:D}=b.splitScalar(y);let{p:A,f:U}=this.wNAF(T),{p:$,f:q}=this.wNAF(D);A=v.constTimeNegate(I,A),$=v.constTimeNegate(M,$),$=new h(n.mul($.px,b.beta),$.py,$.pz),_=A.add($),R=U.add(q)}else{const{p:I,f:T}=this.wNAF(y);_=I,R=T}return h.normalizeZ([_,R])[0]}multiplyAndAddUnsafe(y,b,k){const _=h.BASE,R=(T,M)=>M===Nu||M===Uo||!T.equals(_)?T.multiplyUnsafe(M):T.multiply(M),I=R(this,b).add(R(y,k));return I.is0()?void 0:I}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:b}=t;if(y===Uo)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=t;return y===Uo?this:b?b(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Fu("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return Fu("isCompressed",y),Rm(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,v=vhe(h,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function ndt(e){const t=Vj(e);return gv(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function rdt(e){const t=ndt(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(S){return xi(S,r)}function a(S){return t7(S,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:u}=tdt({...t,toBytes(S,E,N){const P=E.toAffine(),j=n.toBytes(P.x),V=Tm;return Fu("isCompressed",N),N?V(Uint8Array.from([E.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(P.y))},fromBytes(S){const E=S.length,N=S[0],P=S.subarray(1);if(E===i&&(N===2||N===3)){const j=fm(P);if(!iE(j,Uo,n.ORDER))throw new Error("Point is not on curve");const V=d(j);let K;try{K=n.sqrt(V)}catch(W){const G=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+G)}const F=(K&Uo)===Uo;return(N&1)===1!==F&&(K=n.neg(K)),{x:j,y:K}}else if(E===o&&N===4){const j=n.fromBytes(P.subarray(0,n.BYTES)),V=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=i,V=o;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+E)}}}),h=S=>Rm(A0(S,t.nByteLength));function m(S){const E=r>>Uo;return S>E}function v(S){return m(S)?s(-S):S}const g=(S,E,N)=>fm(S.slice(E,N));class y{constructor(E,N,P){this.r=E,this.s=N,this.recovery=P,this.assertValidity()}static fromCompact(E){const N=t.nByteLength;return E=ho("compactSignature",E,N*2),new y(g(E,0,N),g(E,N,2*N))}static fromDER(E){const{r:N,s:P}=Su.toSig(ho("DER",E));return new y(N,P)}assertValidity(){Ql("r",this.r,Uo,r),Ql("s",this.s,Uo,r)}addRecoveryBit(E){return new y(this.r,this.s,E)}recoverPublicKey(E){const{r:N,s:P,recovery:j}=this,V=T(ho("msgHash",E));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const K=j===2||j===3?N+t.n:N;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(j&1)===0?"02":"03",O=l.fromHex(F+h(K)),W=a(K),G=s(-V*W),Y=s(P*W),ie=l.BASE.multiplyAndAddUnsafe(O,G,Y);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return C0(this.toDERHex())}toDERHex(){return Su.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return C0(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(S){try{return c(S),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const S=mhe(t.n);return Nat(t.randomBytes(S),t.n)},precompute(S=8,E=l.BASE){return E._setWindowSize(S),E.multiply(BigInt(3)),E}};function k(S,E=!0){return l.fromPrivateKey(S).toRawBytes(E)}function _(S){const E=Am(S),N=typeof S=="string",P=(E||N)&&S.length;return E?P===i||P===o:N?P===2*i||P===2*o:S instanceof l}function R(S,E,N=!0){if(_(S))throw new Error("first arg must be private key");if(!_(E))throw new Error("second arg must be public key");return l.fromHex(E).multiply(c(S)).toRawBytes(N)}const I=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const E=fm(S),N=S.length*8-t.nBitLength;return N>0?E>>BigInt(N):E},T=t.bits2int_modN||function(S){return s(I(S))},M=zj(t.nBitLength);function D(S){return Ql("num < 2^"+t.nBitLength,S,Nu,M),A0(S,t.nByteLength)}function A(S,E,N=U){if(["recovered","canonical"].some(me=>me in N))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:j}=t;let{lowS:V,prehash:K,extraEntropy:F}=N;V==null&&(V=!0),S=ho("msgHash",S),sX(N),K&&(S=ho("prehashed msgHash",P(S)));const O=T(S),W=c(E),G=[D(W),D(O)];if(F!=null&&F!==!1){const me=F===!0?j(n.BYTES):F;G.push(ho("extraEntropy",me))}const Y=Tm(...G),ie=O;function ye(me){const be=I(me);if(!u(be))return;const Me=a(be),Fe=l.BASE.multiply(be).toAffine(),De=s(Fe.x);if(De===Nu)return;const gt=s(Me*s(ie+De*W));if(gt===Nu)return;let tt=(Fe.x===De?0:2)|Number(Fe.y&Uo),dt=gt;return V&&m(gt)&&(dt=v(gt),tt^=1),new y(De,dt,tt)}return{seed:Y,k2sig:ye}}const U={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function q(S,E,N=U){const{seed:P,k2sig:j}=A(S,E,N),V=t;return fhe(V.hash.outputLen,V.nByteLength,V.hmac)(P,j)}l.BASE._setWindowSize(8);function z(S,E,N,P=$){var tt;const j=S;E=ho("msgHash",E),N=ho("publicKey",N);const{lowS:V,prehash:K,format:F}=P;if(sX(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const O=typeof j=="string"||Am(j),W=!O&&!F&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!O&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,Y;try{if(W&&(G=new y(j.r,j.s)),O){try{F!=="compact"&&(G=y.fromDER(j))}catch(dt){if(!(dt instanceof Su.Err))throw dt}!G&&F!=="der"&&(G=y.fromCompact(j))}Y=l.fromHex(N)}catch{return!1}if(!G||V&&G.hasHighS())return!1;K&&(E=t.hash(E));const{r:ie,s:ye}=G,me=T(E),be=a(ye),Me=s(me*be),Fe=s(ie*be),De=(tt=l.BASE.multiplyAndAddUnsafe(Y,Me,Fe))==null?void 0:tt.toAffine();return De?s(De.x)===ie:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:R,sign:q,verify:z,ProjectivePoint:l,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function idt(e){return{hash:e,hmac:(t,...n)=>qhe(e,t,$st(...n)),randomBytes:lhe}}function odt(e,t){const n=r=>rdt({...e,...idt(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zhe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lX=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sdt=BigInt(1),n7=BigInt(2),cX=(e,t)=>(e+t/n7)/t;function adt(e){const t=zhe,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=qi(d,n,t)*d%t,h=qi(u,n,t)*d%t,m=qi(h,n7,t)*c%t,v=qi(m,i,t)*m%t,g=qi(v,o,t)*v%t,y=qi(g,a,t)*g%t,b=qi(y,l,t)*y%t,k=qi(b,a,t)*g%t,_=qi(k,n,t)*d%t,R=qi(_,s,t)*v%t,I=qi(R,r,t)*c%t,T=qi(I,n7,t);if(!r7.eql(r7.sqr(T),e))throw new Error("Cannot find square root");return T}const r7=oE(zhe,void 0,void 0,{sqrt:adt}),ag=odt({a:BigInt(0),b:BigInt(7),Fp:r7,n:lX,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=lX,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sdt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=cX(o*e,t),l=cX(-r*e,t);let c=xi(e-a*n-l*i,t),d=xi(-a*r-l*o,t);const u=c>s,h=d>s;if(u&&(c=t-c),h&&(d=t-d),c>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:h,k2:d}}}},Zct);BigInt(0);ag.ProjectivePoint;function dX(e){try{return lf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Vhe=(e,t)=>lf.sign(e,t.slice(0,32)),ldt=lf.verify,Fo=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let cdt=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(U2,this))}static decode(t){return sa.deserialize(U2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(U2,this,t)}};const U2=new Map;var Khe;const ddt=32,Sh=32;function udt(e){return e._bn!==void 0}let uX=1,fn=class _y extends cdt{constructor(t){if(super({}),this._bn=void 0,udt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=gs.decode(t);if(n.length!=Sh)throw new Error("Invalid public key input");this._bn=new jd(n)}else this._bn=new jd(t);if(this._bn.byteLength()>Sh)throw new Error("Invalid public key input")}}static unique(){const t=new _y(uX);return uX+=1,new _y(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return gs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Sh)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Wh(i);return new _y(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>ddt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,Fo(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Wh(r);if(dX(i))throw new Error("Invalid seeds, address must fall off the curve");return new _y(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new _y(t);return dX(n.toBytes())}};Khe=fn;fn.default=new Khe("11111111111111111111111111111111");U2.set(fn,{kind:"struct",fields:[["_bn","u256"]]});new fn("BPFLoader1111111111111111111111111111111111");const t0=1232,r9=127,YS=64;let Hhe=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Hhe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Ghe=class extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Ghe.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Qw=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Qw.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let XS=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const Qn=(e="publicKey")=>B.blob(32,e),fdt=(e="signature")=>B.blob(64,e),My=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},hdt=(e="authorized")=>B.struct([Qn("staker"),Qn("withdrawer")],e),pdt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),Qn("custodian")],e),mdt=(e="voteInit")=>B.struct([Qn("nodePubkey"),Qn("authorizedVoter"),Qn("authorizedWithdrawer"),B.u8("commission")],e),gdt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),Qn("currentAuthorityDerivedKeyOwnerPubkey"),My("currentAuthorityDerivedKeySeed"),Qn("newAuthorized")],e);function Jhe(e,t){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){const o=t[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return Jhe({layout:i},t[i.property]);return 0};let r=0;return e.layout.fields.forEach(i=>{r+=n(i)}),r}function il(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function ol(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function ni(e,t){if(!e)throw new Error(t||"Assertion failed")}let Zhe=class Yhe{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Yhe(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ni(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{ni(n.length>0,"Expected at least one writable signer key");const[l]=n[0];ni(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new fn(l)),...r.map(([l])=>new fn(l)),...i.map(([l])=>new fn(l)),...o.map(([l])=>new fn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new fn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(ni(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const Xhe="Reached end of buffer unexpectedly";function Pu(e){if(e.length===0)throw new Error(Xhe);return e.shift()}function sl(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Xhe);return e.splice(...t)}let Om=class i7{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new fn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gs.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new XS(this.staticAccountKeys)}static compile(t){const n=Zhe.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new XS(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gs.encode(a.data)}));return new i7({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ol(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(gs.decode(u.data));let g=[];ol(g,h.length);let y=[];return ol(y,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(g),keyIndices:h,dataLength:Te.Buffer.from(y),data:v}});let i=[];ol(i,r.length);let o=Te.Buffer.alloc(t0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(Qn("key"),t,"keys"),Qn("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>Fo(u.toBytes())),recentBlockhash:gs.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=Pu(n);if(r!==(r&r9))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Pu(n),o=Pu(n),s=il(n);let a=[];for(let h=0;h<s;h++){const m=sl(n,0,Sh);a.push(new fn(Te.Buffer.from(m)))}const l=sl(n,0,Sh),c=il(n);let d=[];for(let h=0;h<c;h++){const m=Pu(n),v=il(n),g=sl(n,0,v),y=il(n),b=sl(n,0,y),k=gs.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:g,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:gs.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new i7(u)}},i9=class o7{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new XS(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=Zhe.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new XS(a,i).compileInstructions(t.instructions);return new o7({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();ol(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ol(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ol(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(Qn(),this.staticAccountKeys.length,"staticAccountKeys"),Qn("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(t0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:gs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(t0);for(const r of this.compiledInstructions){const i=Array();ol(i,r.accountKeyIndexes.length);const o=Array();ol(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(t0);for(const r of this.addressTableLookups){const i=Array();ol(i,r.writableIndexes.length);const o=Array();ol(o,r.readonlyIndexes.length);const s=B.struct([Qn("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Pu(n),i=r&r9;ni(r!==i,"Expected versioned message but received legacy message");const o=i;ni(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Pu(n),numReadonlySignedAccounts:Pu(n),numReadonlyUnsignedAccounts:Pu(n)},a=[],l=il(n);for(let v=0;v<l;v++)a.push(new fn(sl(n,0,Sh)));const c=gs.encode(sl(n,0,Sh)),d=il(n),u=[];for(let v=0;v<d;v++){const g=Pu(n),y=il(n),b=sl(n,0,y),k=il(n),_=new Uint8Array(sl(n,0,k));u.push({programIdIndex:g,accountKeyIndexes:b,data:_})}const h=il(n),m=[];for(let v=0;v<h;v++){const g=new fn(sl(n,0,Sh)),y=il(n),b=sl(n,0,y),k=il(n),_=sl(n,0,k);m.push({accountKey:g,writableIndexes:b,readonlyIndexes:_})}return new o7({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}};const Qhe={deserializeMessageVersion(e){const t=e[0],n=t&r9;return n===t?"legacy":n},deserialize:e=>{const t=Qhe.deserializeMessageVersion(e);if(t==="legacy")return Om.from(e);if(t===0)return i9.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let jf=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const ydt=Te.Buffer.alloc(YS).fill(0);let el=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Bu=class s7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new el(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],o=[];n.forEach(g=>{g.keys.forEach(b=>{o.push({...b})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{o.push({pubkey:new fn(g),isSigner:!1,isWritable:!1})});const s=[];o.forEach(g=>{const y=g.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===y);b>-1?(s[b].isWritable=s[b].isWritable||g.isWritable,s[b].isSigner=s[b].isSigner||g.isSigner):s.push(g)}),s.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",b)});const a=s.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=s.splice(a,1);g.isSigner=!0,g.isWritable=!0,s.unshift(g)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=s.findIndex(b=>b.pubkey.equals(g.publicKey));if(y>-1)s[y].isSigner||(s[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:g,isSigner:y,isWritable:b})=>{y?(u.push(g.toString()),l+=1,b||(c+=1)):(h.push(g.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(g=>{const{data:y,programId:b}=g;return{programIdIndex:m.indexOf(b.toString()),accounts:g.keys.map(k=>m.indexOf(k.pubkey.toString())),data:gs.encode(y)}});return v.forEach(g=>{ni(g.programIdIndex>=0),g.accounts.forEach(y=>ni(y>=0))}),new Om({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=Vhe(r,i.secretKey);this._addSignature(i.publicKey,Fo(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){ni(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):ldt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];ol(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return ni(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(ni(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),ni(o.length<=t0,`Transaction too large: ${o.length} > ${t0}`),o}get keys(){return ni(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ni(this.instructions.length===1),this.instructions[0].programId}get data(){return ni(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=il(n);let i=[];for(let o=0;o<r;o++){const s=sl(n,0,YS);i.push(gs.encode(Te.Buffer.from(s)))}return s7.populate(Om.from(n),i)}static populate(t,n=[]){const r=new s7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==gs.encode(ydt)?null:gs.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new el({keys:o,programId:t.accountKeys[i.programIdIndex],data:gs.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}},vdt=class epe{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;ni(c>0,"Message header is invalid");const d=t.staticAccountKeys.length-s-l;ni(d>=0,"Message header is invalid");const u=t.getAccountKeys(n),h=u.get(0);if(h===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const v of i){const g=[];for(const b of v.accountKeyIndexes){const k=u.get(b);if(k===void 0)throw new Error(`Failed to find key for account key index ${b}`);const _=b<s;let R;_?R=b<c:b<u.staticAccountKeys.length?R=b-s<d:R=b-u.staticAccountKeys.length<u.accountKeysFromLookups.writable.length,g.push({pubkey:k,isSigner:b<r.numRequiredSignatures,isWritable:R})}const y=u.get(v.programIdIndex);if(y===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);m.push(new el({programId:y,data:Fo(v.data),keys:g}))}return new epe({payerKey:h,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Om.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return i9.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}},wdt=class tpe{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ni(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(YS));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ol(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(fdt(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=il(n);for(let s=0;s<i;s++)r.push(new Uint8Array(sl(n,0,YS)));const o=Qhe.deserialize(new Uint8Array(n));return new tpe(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));ni(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Vhe(n,i.secretKey)}}addSignature(t,n){ni(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));ni(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}};const bdt=160,_dt=64,xdt=bdt/_dt,kdt=1e3/xdt;new fn("SysvarC1ock11111111111111111111111111111111");new fn("SysvarEpochSchedu1e111111111111111111111111");new fn("Sysvar1nstructions1111111111111111111111111");const Y4=new fn("SysvarRecentB1ockHashes11111111111111111111"),fX=new fn("SysvarRent111111111111111111111111111111111");new fn("SysvarRewards111111111111111111111111111111");new fn("SysvarS1otHashes111111111111111111111111111");new fn("SysvarS1otHistory11111111111111111111111111");new fn("SysvarStakeHistory1111111111111111111111111");let hX=class extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}},sn=class extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};function xy(e){return new Promise(t=>setTimeout(t,e))}function jl(e,t){const n=e.layout.span>=0?e.layout.span:Jhe(e,t),r=Te.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const Sdt=B.nu64("lamportsPerSignature"),npe=B.struct([B.u32("version"),B.u32("state"),Qn("authorizedPubkey"),Qn("nonce"),B.struct([Sdt],"feeCalculator")]),pX=npe.span;let Idt=class rpe{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=npe.decode(Fo(t),0);return new rpe({authorizedPubkey:new fn(n.authorizedPubkey),nonce:new fn(n.nonce).toString(),feeCalculator:n.feeCalculator})}};function N0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=ict();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}const $l=Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),Qn("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),Qn("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),N0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),Qn("base"),My("seed"),B.ns64("lamports"),B.ns64("space"),Qn("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),Qn("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),Qn("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),Qn("base"),My("seed"),B.ns64("space"),Qn("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Qn("base"),My("seed"),Qn("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),N0("lamports"),My("seed"),Qn("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});let o9=class a7{constructor(){}static createAccount(t){const n=$l.Create,r=jl(n,{lamports:t.lamports,space:t.space,programId:Fo(t.programId.toBuffer())});return new el({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const i=$l.TransferWithSeed;n=jl(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=$l.Transfer;n=jl(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new el({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const i=$l.AssignWithSeed;n=jl(i,{base:Fo(t.basePubkey.toBuffer()),seed:t.seed,programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=$l.Assign;n=jl(i,{programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new el({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=$l.CreateWithSeed,r=jl(n,{base:Fo(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Fo(t.programId.toBuffer())});let i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new el({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Bu;"basePubkey"in t&&"seed"in t?n.add(a7.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:pX,programId:this.programId})):n.add(a7.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:pX,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=$l.InitializeNonceAccount,r=jl(n,{authorized:Fo(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Y4,isSigner:!1,isWritable:!1},{pubkey:fX,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new el(i)}static nonceAdvance(t){const n=$l.AdvanceNonceAccount,r=jl(n),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Y4,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new el(i)}static nonceWithdraw(t){const n=$l.WithdrawNonceAccount,r=jl(n,{lamports:t.lamports});return new el({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Y4,isSigner:!1,isWritable:!1},{pubkey:fX,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=$l.AuthorizeNonceAccount,r=jl(n,{authorized:Fo(t.newAuthorizedPubkey.toBuffer())});return new el({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const i=$l.AllocateWithSeed;n=jl(i,{base:Fo(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=$l.Allocate;n=jl(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new el({keys:r,programId:this.programId,data:n})}};o9.programId=new fn("11111111111111111111111111111111");new fn("BPFLoader2111111111111111111111111111111111");function Edt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X4,mX;function Cdt(){if(mX)return X4;mX=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=e.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=t(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return X4=function(r){var i=n(r,!1);if(i!==void 0)return""+i},X4}var Adt=Cdt(),gX=Edt(Adt);const Sw=32;function Q4(e){let t=0;for(;e>1;)e/=2,t++;return t}function Rdt(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}let Tdt=class{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Q4(Rdt(t+Sw+1))-Q4(Sw)-1,r=this.getSlotsInEpoch(n),i=t-(r-Sw);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Sw:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Q4(Sw)):this.slotsPerEpoch}};var Odt=globalThis.fetch;let Ndt=class extends t9{constructor(t,n,r){const i=o=>{const s=e9(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}};function Pdt(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const yX=56;let vX=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=Pdt(Bdt,t),r=t.length-yX;ni(r>=0,"lookup table is invalid"),ni(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=B.struct([B.seq(Qn(),i,"addresses")]).decode(t.slice(yX));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new fn(n.authority[0]):void 0,addresses:o.map(s=>new fn(s))}}};const Bdt={index:1,layout:B.struct([B.u32("typeIndex"),N0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(Qn(),B.offset(B.u8(),-1),"authority")])},Ddt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Mdt(e){const t=e.match(Ddt);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Pi=yi(ua(fn),ae(),e=>new fn(e)),ipe=fa([ae(),it("base64")]),s9=yi(ua(Te.Buffer),ipe,e=>Te.Buffer.from(e[0],"base64")),jdt=30*1e3;function $dt(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Zr(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function wX(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function ope(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Dr(),message:ae(),data:_e(B_())})})])}const Ldt=ope(Dr());function Vn(e){return yi(ope(e),Ldt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function eo(e){return Vn(re({context:re({slot:H()}),value:e}))}function uE(e){return re({context:re({slot:H()}),value:e})}function e8(e,t){return e===0?new i9({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new fn(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:gs.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Om(t)}const Udt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),Fdt=Vn(pe(ge(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(ge(H()))})))),Wdt=pe(re({slot:H(),prioritizationFee:H()})),qdt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),zdt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),Vdt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),Kdt=Zd(ae(),pe(H())),lg=ge(Ot([re({}),ae()])),Hdt=re({err:lg}),Gdt=it("receivedSignature"),Jdt=re({"solana-core":ae(),"feature-set":_e(H())}),Zdt=re({program:ae(),programId:Pi,parsed:Dr()}),Ydt=re({programId:Pi,accounts:pe(Pi),data:ae()}),bX=eo(re({err:ge(Ot([re({}),ae()])),logs:ge(pe(ae())),accounts:_e(ge(pe(ge(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(ge(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Ot([Zdt,Ydt]))}))))})),Xdt=eo(re({byIdentity:Zd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));function Qdt(e,t,n,r,i,o){const s=n||Odt;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const h=await new Promise((m,v)=>{try{r(d,u,(g,y)=>m([g,y]))}catch(g){v(g)}});return await s(...h)}),new Qj(async(d,u)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Qut)};try{let m=5,v,g=500;for(;l?v=await l(e,h):v=await s(e,h),!(v.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await xy(g),g*=2;const y=await v.text();v.ok?u(null,y):u(new Error(`${v.status} ${v.statusText}: ${y}`))}catch(m){m instanceof Error&&u(m)}},{})}function eut(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function tut(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const nut=Vn(Udt),rut=Vn(qdt),iut=Vn(Wdt),out=Vn(zdt),sut=Vn(Vdt),aut=Vn(Kdt),lut=Vn(H()),cut=eo(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Pi)})),l7=re({amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())}),dut=eo(pe(re({address:Pi,amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())}))),uut=eo(pe(re({pubkey:Pi,account:re({executable:kn(),owner:Pi,lamports:H(),data:s9,rentEpoch:H()})}))),c7=re({program:ae(),parsed:Dr(),space:H()}),fut=eo(pe(re({pubkey:Pi,account:re({executable:kn(),owner:Pi,lamports:H(),data:c7,rentEpoch:H()})}))),hut=eo(pe(re({lamports:H(),address:Pi}))),k1=re({executable:kn(),owner:Pi,lamports:H(),data:s9,rentEpoch:H()}),put=re({pubkey:Pi,account:k1}),mut=yi(Ot([ua(Te.Buffer),c7]),Ot([ipe,c7]),e=>Array.isArray(e)?ke(e,s9):e),d7=re({executable:kn(),owner:Pi,lamports:H(),data:mut,rentEpoch:H()}),gut=re({pubkey:Pi,account:d7}),yut=re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()}),vut=Vn(pe(re({signature:ae(),slot:H(),err:lg,memo:ge(ae()),blockTime:_e(ge(H()))}))),wut=Vn(pe(re({signature:ae(),slot:H(),err:lg,memo:ge(ae()),blockTime:_e(ge(H()))}))),but=re({subscription:H(),result:uE(k1)}),_ut=re({pubkey:Pi,account:k1}),xut=re({subscription:H(),result:uE(_ut)}),kut=re({parent:H(),slot:H(),root:H()}),Sut=re({subscription:H(),result:kut}),Iut=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]),Eut=re({subscription:H(),result:Iut}),Cut=re({subscription:H(),result:uE(Ot([Hdt,Gdt]))}),Aut=re({subscription:H(),result:H()}),Rut=re({pubkey:ae(),gossip:ge(ae()),tpu:ge(ae()),rpc:ge(ae()),version:ge(ae())}),_X=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ge(H())}),Tut=Vn(re({current:pe(_X),delinquent:pe(_X)})),Out=Ot([it("processed"),it("confirmed"),it("finalized")]),Nut=re({slot:H(),confirmations:ge(H()),err:lg,confirmationStatus:_e(Out)}),Put=eo(pe(ge(Nut))),But=Vn(H()),spe=re({accountKey:Pi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),a9=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(spe))})}),ape=re({pubkey:Pi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),lpe=re({accountKeys:pe(ape),signatures:pe(ae())}),cpe=re({parsed:Dr(),program:ae(),programId:Pi}),dpe=re({accounts:pe(Pi),data:ae(),programId:Pi}),Dut=Ot([dpe,cpe]),Mut=Ot([re({parsed:Dr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),upe=yi(Dut,Mut,e=>"accounts"in e?ke(e,dpe):ke(e,cpe)),fpe=re({signatures:pe(ae()),message:re({accountKeys:pe(ape),instructions:pe(upe),recentBlockhash:ae(),addressTableLookups:_e(ge(pe(spe)))})}),QS=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:l7}),hpe=re({writable:pe(Pi),readonly:pe(Pi)}),fE=re({err:lg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(QS))),postTokenBalances:_e(ge(pe(QS))),loadedAddresses:_e(hpe),computeUnitsConsumed:_e(H())}),l9=re({err:lg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(upe)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(QS))),postTokenBalances:_e(ge(pe(QS))),loadedAddresses:_e(hpe),computeUnitsConsumed:_e(H())}),vv=Ot([it(0),it("legacy")]),cg=re({pubkey:ae(),lamports:H(),postBalance:ge(H()),rewardType:ge(ae()),commission:_e(ge(H()))}),jut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:a9,meta:ge(fE),version:_e(vv)})),rewards:_e(pe(cg)),blockTime:ge(H()),blockHeight:ge(H())}))),$ut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(cg)),blockTime:ge(H()),blockHeight:ge(H())}))),Lut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:lpe,meta:ge(fE),version:_e(vv)})),rewards:_e(pe(cg)),blockTime:ge(H()),blockHeight:ge(H())}))),Uut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:fpe,meta:ge(l9),version:_e(vv)})),rewards:_e(pe(cg)),blockTime:ge(H()),blockHeight:ge(H())}))),Fut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:lpe,meta:ge(l9),version:_e(vv)})),rewards:_e(pe(cg)),blockTime:ge(H()),blockHeight:ge(H())}))),Wut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(cg)),blockTime:ge(H()),blockHeight:ge(H())}))),qut=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:a9,meta:ge(fE)})),rewards:_e(pe(cg)),blockTime:ge(H())}))),xX=Vn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:ge(H())}))),t8=Vn(ge(re({slot:H(),meta:ge(fE),blockTime:_e(ge(H())),transaction:a9,version:_e(vv)}))),Lk=Vn(ge(re({slot:H(),transaction:fpe,meta:ge(l9),blockTime:_e(ge(H())),version:_e(vv)}))),zut=eo(re({blockhash:ae(),lastValidBlockHeight:H()})),Vut=eo(kn()),Kut=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),Hut=Vn(pe(Kut)),Gut=eo(ge(re({feeCalculator:re({lamportsPerSignature:H()})}))),Jut=Vn(ae()),Zut=Vn(ae()),Yut=re({err:lg,logs:pe(ae()),signature:ae()}),Xut=re({result:uE(Yut),subscription:H()}),Qut={"solana-client":"js/1.0.0-maintenance"};let ppe=class{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:h}=Zr(d),m=this._buildArgs([],u,void 0,h),v=gX(m);return c[v]=c[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),y=ke(g,Vn(H()));if("error"in y)throw new sn(y.error,"failed to get block height information");return y.result}finally{delete c[v]}})(),await c[v]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=$dt(t),this._rpcWsEndpoint=r||Mdt(t),this._rpcClient=Qdt(t,i,o,s,a,l),this._rpcRequest=eut(this._rpcClient),this._rpcBatchRequest=tut(this._rpcClient),this._rpcWebSocket=new Ndt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ke(s,eo(H()));if("error"in a)throw new sn(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ke(n,Vn(ge(H())));if("error"in r)throw new sn(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ke(t,Vn(H()));if("error"in n)throw new sn(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ke(t,lut);if("error"in n)throw new sn(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ke(r,cut);if("error"in i)throw new sn(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ke(i,eo(l7));if("error"in o)throw new sn(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ke(i,eo(l7));if("error"in o)throw new sn(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Zr(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ke(l,uut);if("error"in c)throw new sn(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ke(s,fut);if("error"in a)throw new sn(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ke(i,hut);if("error"in o)throw new sn(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(i,dut);if("error"in o)throw new sn(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,eo(ge(k1)));if("error"in a)throw new sn(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,eo(ge(d7)));if("error"in a)throw new sn(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,eo(pe(ge(d7))));if("error"in l)throw new sn(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,eo(pe(ge(k1))));if("error"in l)throw new sn(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Zr(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ke(a,Vn(yut));if("error"in l)throw new sn(l.error,`failed to get Stake Activation ${t.toBase58()}`);return l.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Zr(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...s,...s.filters?{filters:wX(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(put),d=s.withContext===!0?ke(l,eo(c)):ke(l,Vn(c));if("error"in d)throw new sn(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ke(s,Vn(pe(gut)));if("error"in a)throw new sn(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=gs.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ni(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,h)=>{r=void 0;const m={context:h,value:u};l({__type:jf.PROCESSED,response:m})},t);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:h,value:m}=u;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:jf.PROCESSED,response:{context:h,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const h=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await h();if(!o){for(;m<=r;)if(await xy(1e3),o||(m=await h(),o))return;u({__type:jf.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===jf.PROCESSED)d=u.response;else throw new Hhe(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let v=o,g=null;const y=async()=>{try{const{context:b,value:k}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return g=b.slot,k==null?void 0:k.nonce}catch{return v}};(async()=>{if(v=await y(),!a)for(;;){if(o!==v){m({__type:jf.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await xy(2e3),a||(v=await y(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let h;try{const m=await Promise.race([u,d,l]);if(m.__type===jf.PROCESSED)h=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(s);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await xy(400);continue}v=g;break}if(v!=null&&v.value){const g=t||"finalized",{confirmationStatus:y}=v.value;switch(g){case"processed":case"recent":if(y!=="processed"&&y!=="confirmed"&&y!=="finalized")throw new Qw(s);break;case"confirmed":case"single":case"singleGossip":if(y!=="confirmed"&&y!=="finalized")throw new Qw(s);break;case"finalized":case"max":case"root":if(y!=="finalized")throw new Qw(s);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new Qw(s)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:jf.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===jf.PROCESSED)a=l.response;else throw new Ghe(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ke(t,Vn(pe(Rut)));if("error"in n)throw new sn(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ke(r,Tut);if("error"in i)throw new sn(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ke(o,Vn(H()));if("error"in s)throw new sn(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ke(o,Vn(ae()));if("error"in s)throw new sn(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=ke(i,Vn(pe(Pi)));if("error"in o)throw new sn(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);ni(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ke(i,Put);if("error"in o)throw new sn(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ke(o,Vn(H()));if("error"in s)throw new sn(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ke(r,nut);if("error"in i)throw new sn(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Zr(r),s=this._buildArgs([t.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ke(a,Fdt);if("error"in l)throw new sn(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ke(t,rut);if("error"in n)throw new sn(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ke(o,out);if("error"in s)throw new sn(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ke(t,sut);if("error"in n)throw new sn(n.error,"failed to get epoch schedule");const r=n.result;return new Tdt(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ke(t,aut);if("error"in n)throw new sn(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(i,But);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ke(n,Hut);if("error"in r)throw new sn(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(i,Gut);if("error"in o)throw new sn(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=Fo(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ke(o,eo(ge(H())));if("error"in s)throw new sn(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(i,iut);if("error"in o)throw new sn(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ke(o,zut);if("error"in s)throw new sn(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ke(s,Vut);if("error"in a)throw new sn(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ke(t,Vn(Jdt));if("error"in n)throw new sn(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ke(t,Vn(ae()));if("error"in n)throw new sn(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,Lut);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,$ut);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,jut);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:e8(u,c.message)},version:u}))}:null}}}catch(a){throw new sn(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,Fut);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,Wut);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,Uut);if("error"in a)throw a.error;return a.result}}}catch(a){throw new sn(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...l}=t;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ke(o,Xdt);if("error"in s)throw new sn(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ke(s,t8);if("error"in a)throw new sn(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:e8(l.version,l.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ke(s,Lk);if("error"in a)throw new sn(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,Lk);if("error"in c)throw new sn(c.error,"failed to get transactions");return c.result})}async getTransactions(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,t8);if("error"in c)throw new sn(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:e8(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),o=ke(i,qut);if("error"in o)throw new sn(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new Om(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Bu.populate(l.message,l.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=ke(o,Vn(pe(H())));if("error"in s)throw new sn(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,xX);if("error"in o)throw new sn(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,xX);if("error"in o)throw new sn(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),o=ke(i,t8);if("error"in o)throw new sn(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Om(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Bu.populate(a,l)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ke(i,Lk);if("error"in o)throw new sn(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ke(s,Lk);if("error"in a)throw new sn(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ke(o,vut);if("error"in s)throw new sn(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ke(o,wut);if("error"in s)throw new sn(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new vX({key:t,state:vX.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=Idt.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ke(r,Jut);if("error"in i)throw new sn(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await xy(100);const r=Date.now()-this._blockhashInfo.lastFetch>=jdt;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await xy(kdt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ke(o,eo(H()));if("error"in s)throw new sn(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const g=t.serialize(),y=Te.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const k=[y,b],_=await this._rpcRequest("simulateTransaction",k),R=ke(_,bX);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof Bu){let v=t;i=new Bu,i.feePayer=v.feePayer,i.instructions=t.instructions,i.nonceInfo=v.nonceInfo,i.signatures=v.signatures}else i=Bu.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(i.lastValidBlockHeight=g.lastValidBlockHeight,i.recentBlockhash=g.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const y=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(y)&&!this._blockhashInfo.transactionSignatures.includes(y)){this._blockhashInfo.simulatedSignatures.push(y);break}else v=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:s.nonProgramIds()).map(g=>g.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],h=await this._rpcRequest("simulateTransaction",u),m=ke(h,bX);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,y=g+v.join(g);console.error(m.error.message,y)}throw new hX({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const l=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=Fo(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),l=ke(a,Zut);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new hX({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ke(t,but);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=gX([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];ni(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:o}=Zr(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ke(t,xut);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:o,config:s}=Zr(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:wX(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ke(t,Xut);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ke(t,Sut);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ke(t,Eut);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ke(t,Cut);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ke(t,Aut);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),N0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),N0(),B.seq(Qn(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new fn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),N0("microLamports")])}});new fn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new fn("Ed25519SigVerify111111111111111111111111111");ag.utils.isValidPrivateKey;ag.getPublicKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new fn("KeccakSecp256k11111111111111111111111111111");var mpe;new fn("StakeConfig11111111111111111111111111111111");let gpe=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};mpe=gpe;gpe.default=new mpe(0,0,fn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),hdt(),pdt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Qn("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),Qn("newAuthorized"),B.u32("stakeAuthorizationType"),My("authoritySeed"),Qn("authorityOwner")])}});new fn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),mdt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Qn("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),gdt()])}});new fn("Vote111111111111111111111111111111111111111");new fn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new fn("Vote111111111111111111111111111111111111111");B.struct([Qn("nodePubkey"),Qn("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),Qn("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([Qn("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);var n8,kX;function eft(){if(kX)return n8;kX=1;var e=yv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,b=0,k=0,_=g.length;k!==_&&g[k]===0;)k++,y++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=g[k],M=0,D=R-1;(T!==0||M<b)&&D!==-1;D--,M++)T+=256*I[D]>>>0,I[D]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=M,k++}for(var A=R-b;A!==R&&I[A]===0;)A++;for(var U=c.repeat(y);A<R;++A)U+=n.charAt(I[A]);return U}function m(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return e.alloc(0);for(var y=0,b=0,k=0;g[y]===c;)b++,y++;for(var _=(g.length-y)*d+1>>>0,R=new Uint8Array(_);y<g.length;){var I=g.charCodeAt(y);if(I>255)return;var T=r[I];if(T===255)return;for(var M=0,D=_-1;(T!==0||M<k)&&D!==-1;D--,M++)T+=l*R[D]>>>0,R[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=M,y++}for(var A=_-k;A!==_&&R[A]===0;)A++;var U=e.allocUnsafe(b+(_-A));U.fill(0,0,b);for(var $=b;A!==_;)U[$++]=R[A++];return U}function v(g){var y=m(g);if(y)return y;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return n8=t,n8}var r8,SX;function tft(){if(SX)return r8;SX=1;var e=eft(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return r8=e(t),r8}var nft=tft();const ys=Rr(nft);var rft=8078e3,ift=8078001,oft=8078004,sft=8078005,aft=8078006,lft=8078011;function ype(e){return Array.isArray(e)?"%5B"+e.map(ype).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function cft([e,t]){return`${e}=${ype(t)}`}function dft(e){const t=Object.entries(e).map(cft).join("&");return btoa(t)}function uft(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${dft(t)}'`),`${n}\``}}var n0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=uft(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function fft(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function hft(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(fft(t,e));return e.write(t,n,0),n}})}function pft(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ny(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function mft(e,t){if(ny(e)!==ny(t))throw new n0(oft);if(ny(e)&&ny(t)&&e.fixedSize!==t.fixedSize)throw new n0(sft,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ny(e)&&!ny(t)&&e.maxSize!==t.maxSize)throw new n0(aft,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function gft(e,t,n=0){if(t.length-n<=0)throw new n0(rft,{codecDescription:e})}function yft(e,t,n,r=0){const i=n.length-r;if(i<t)throw new n0(ift,{bytesLength:i,codecDescription:e,expected:t})}function vft(e,t,n,r){if(r<t||r>n)throw new n0(lft,{codecDescription:e,max:n,min:t,value:r})}function vpe(e){return(e==null?void 0:e.endian)!==1}function wft(e){return hft({fixedSize:e.size,write(t,n,r){e.range&&vft(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,vpe(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function bft(e){return pft({fixedSize:e.size,read(t,n=0){gft(e.name,t,n),yft(e.name,e.size,t,n);const r=new DataView(_ft(t,n,e.size));return[e.get(r,vpe(e.config)),n+e.size]}})}function _ft(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var xft=(e={})=>wft({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),kft=(e={})=>bft({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),Sft=(e={})=>mft(xft(e),kft(e));function IX(e){try{return lf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const wpe=(e,t)=>lf.sign(e,t.slice(0,32)),Ift=lf.verify,Wo=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let Eft=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(F2,this))}static decode(t){return sa.deserialize(F2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(F2,this,t)}};const F2=new Map;var bpe;const Cft=32,Ih=32;function Aft(e){return e._bn!==void 0}let EX=1,Xt=class ky extends Eft{constructor(t){if(super({}),this._bn=void 0,Aft(t))this._bn=t._bn;else{if(typeof t=="string"){const n=ys.decode(t);if(n.length!=Ih)throw new Error("Invalid public key input");this._bn=new jd(n)}else this._bn=new jd(t);if(this._bn.byteLength()>Ih)throw new Error("Invalid public key input")}}static unique(){const t=new ky(EX);return EX+=1,new ky(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ys.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Ih)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Wh(i);return new ky(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>Cft)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,Wo(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Wh(r);if(IX(i))throw new Error("Invalid seeds, address must fall off the curve");return new ky(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ky(t);return IX(n.toBytes())}};bpe=Xt;Xt.default=new bpe("11111111111111111111111111111111");F2.set(Xt,{kind:"struct",fields:[["_bn","u256"]]});new Xt("BPFLoader1111111111111111111111111111111111");const r0=1232,c9=127,eI=64;let _pe=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(_pe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let xpe=class extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(xpe.prototype,"name",{value:"TransactionExpiredTimeoutError"});let eb=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(eb.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let tI=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const er=(e="publicKey")=>B.blob(32,e),Rft=(e="signature")=>B.blob(64,e),jy=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},Tft=(e="authorized")=>B.struct([er("staker"),er("withdrawer")],e),Oft=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),er("custodian")],e),Nft=(e="voteInit")=>B.struct([er("nodePubkey"),er("authorizedVoter"),er("authorizedWithdrawer"),B.u8("commission")],e),Pft=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),er("currentAuthorityDerivedKeyOwnerPubkey"),jy("currentAuthorityDerivedKeySeed"),er("newAuthorized")],e);function kpe(e,t){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){const o=t[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return kpe({layout:i},t[i.property]);return 0};let r=0;return e.layout.fields.forEach(i=>{r+=n(i)}),r}function al(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function ll(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function ri(e,t){if(!e)throw new Error(t||"Assertion failed")}let Spe=class Ipe{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Ipe(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ri(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{ri(n.length>0,"Expected at least one writable signer key");const[l]=n[0];ri(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Xt(l)),...r.map(([l])=>new Xt(l)),...i.map(([l])=>new Xt(l)),...o.map(([l])=>new Xt(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Xt(o),l=t.findIndex(c=>c.equals(a));l>=0&&(ri(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const Epe="Reached end of buffer unexpectedly";function Du(e){if(e.length===0)throw new Error(Epe);return e.shift()}function cl(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Epe);return e.splice(...t)}let Nm=class u7{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Xt(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ys.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new tI(this.staticAccountKeys)}static compile(t){const n=Spe.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new tI(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ys.encode(a.data)}));return new u7({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ll(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(ys.decode(u.data));let g=[];ll(g,h.length);let y=[];return ll(y,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(g),keyIndices:h,dataLength:Te.Buffer.from(y),data:v}});let i=[];ll(i,r.length);let o=Te.Buffer.alloc(r0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(er("key"),t,"keys"),er("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>Wo(u.toBytes())),recentBlockhash:ys.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=Du(n);if(r!==(r&c9))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Du(n),o=Du(n),s=al(n);let a=[];for(let h=0;h<s;h++){const m=cl(n,0,Ih);a.push(new Xt(Te.Buffer.from(m)))}const l=cl(n,0,Ih),c=al(n);let d=[];for(let h=0;h<c;h++){const m=Du(n),v=al(n),g=cl(n,0,v),y=al(n),b=cl(n,0,y),k=ys.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:g,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ys.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new u7(u)}},d9=class f7{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new tI(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=Spe.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new tI(a,i).compileInstructions(t.instructions);return new f7({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();ll(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ll(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ll(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(er(),this.staticAccountKeys.length,"staticAccountKeys"),er("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(r0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:ys.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(r0);for(const r of this.compiledInstructions){const i=Array();ll(i,r.accountKeyIndexes.length);const o=Array();ll(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(r0);for(const r of this.addressTableLookups){const i=Array();ll(i,r.writableIndexes.length);const o=Array();ll(o,r.readonlyIndexes.length);const s=B.struct([er("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Du(n),i=r&c9;ri(r!==i,"Expected versioned message but received legacy message");const o=i;ri(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Du(n),numReadonlySignedAccounts:Du(n),numReadonlyUnsignedAccounts:Du(n)},a=[],l=al(n);for(let v=0;v<l;v++)a.push(new Xt(cl(n,0,Ih)));const c=ys.encode(cl(n,0,Ih)),d=al(n),u=[];for(let v=0;v<d;v++){const g=Du(n),y=al(n),b=cl(n,0,y),k=al(n),_=new Uint8Array(cl(n,0,k));u.push({programIdIndex:g,accountKeyIndexes:b,data:_})}const h=al(n),m=[];for(let v=0;v<h;v++){const g=new Xt(cl(n,0,Ih)),y=al(n),b=cl(n,0,y),k=al(n),_=cl(n,0,k);m.push({accountKey:g,writableIndexes:b,readonlyIndexes:_})}return new f7({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}};const Cpe={deserializeMessageVersion(e){const t=e[0],n=t&c9;return n===t?"legacy":n},deserialize:e=>{const t=Cpe.deserializeMessageVersion(e);if(t==="legacy")return Nm.from(e);if(t===0)return d9.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let $f=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const Bft=Te.Buffer.alloc(eI).fill(0);let Ca=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Wp=class h7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ca(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],o=[];n.forEach(g=>{g.keys.forEach(b=>{o.push({...b})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{o.push({pubkey:new Xt(g),isSigner:!1,isWritable:!1})});const s=[];o.forEach(g=>{const y=g.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===y);b>-1?(s[b].isWritable=s[b].isWritable||g.isWritable,s[b].isSigner=s[b].isSigner||g.isSigner):s.push(g)}),s.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",b)});const a=s.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=s.splice(a,1);g.isSigner=!0,g.isWritable=!0,s.unshift(g)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=s.findIndex(b=>b.pubkey.equals(g.publicKey));if(y>-1)s[y].isSigner||(s[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:g,isSigner:y,isWritable:b})=>{y?(u.push(g.toString()),l+=1,b||(c+=1)):(h.push(g.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(g=>{const{data:y,programId:b}=g;return{programIdIndex:m.indexOf(b.toString()),accounts:g.keys.map(k=>m.indexOf(k.pubkey.toString())),data:ys.encode(y)}});return v.forEach(g=>{ri(g.programIdIndex>=0),g.accounts.forEach(y=>ri(y>=0))}),new Nm({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=wpe(r,i.secretKey);this._addSignature(i.publicKey,Wo(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){ri(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):Ift(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];ll(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return ri(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(ri(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),ri(o.length<=r0,`Transaction too large: ${o.length} > ${r0}`),o}get keys(){return ri(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ri(this.instructions.length===1),this.instructions[0].programId}get data(){return ri(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=al(n);let i=[];for(let o=0;o<r;o++){const s=cl(n,0,eI);i.push(ys.encode(Te.Buffer.from(s)))}return h7.populate(Nm.from(n),i)}static populate(t,n=[]){const r=new h7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==ys.encode(Bft)?null:ys.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new Ca({keys:o,programId:t.accountKeys[i.programIdIndex],data:ys.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};class u9{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;ri(c>0,"Message header is invalid");const d=t.staticAccountKeys.length-s-l;ri(d>=0,"Message header is invalid");const u=t.getAccountKeys(n),h=u.get(0);if(h===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const v of i){const g=[];for(const b of v.accountKeyIndexes){const k=u.get(b);if(k===void 0)throw new Error(`Failed to find key for account key index ${b}`);const _=b<s;let R;_?R=b<c:b<u.staticAccountKeys.length?R=b-s<d:R=b-u.staticAccountKeys.length<u.accountKeysFromLookups.writable.length,g.push({pubkey:k,isSigner:b<r.numRequiredSignatures,isWritable:R})}const y=u.get(v.programIdIndex);if(y===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);m.push(new Ca({programId:y,data:Wo(v.data),keys:g}))}return new u9({payerKey:h,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Nm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return d9.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}let f9=class Ape{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ri(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(eI));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ll(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(Rft(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=al(n);for(let s=0;s<i;s++)r.push(new Uint8Array(cl(n,0,eI)));const o=Cpe.deserialize(new Uint8Array(n));return new Ape(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));ri(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=wpe(n,i.secretKey)}}addSignature(t,n){ri(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));ri(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}};const Dft=160,Mft=64,jft=Dft/Mft,$ft=1e3/jft;new Xt("SysvarC1ock11111111111111111111111111111111");new Xt("SysvarEpochSchedu1e111111111111111111111111");new Xt("Sysvar1nstructions1111111111111111111111111");const i8=new Xt("SysvarRecentB1ockHashes11111111111111111111"),CX=new Xt("SysvarRent111111111111111111111111111111111");new Xt("SysvarRewards111111111111111111111111111111");new Xt("SysvarS1otHashes111111111111111111111111111");new Xt("SysvarS1otHistory11111111111111111111111111");new Xt("SysvarStakeHistory1111111111111111111111111");let AX=class extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}},an=class extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};function Sy(e){return new Promise(t=>setTimeout(t,e))}function Ll(e,t){const n=e.layout.span>=0?e.layout.span:kpe(e,t),r=Te.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const Lft=B.nu64("lamportsPerSignature"),Rpe=B.struct([B.u32("version"),B.u32("state"),er("authorizedPubkey"),er("nonce"),B.struct([Lft],"feeCalculator")]),RX=Rpe.span;let Uft=class Tpe{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=Rpe.decode(Wo(t),0);return new Tpe({authorizedPubkey:new Xt(n.authorizedPubkey),nonce:new Xt(n.nonce).toString(),feeCalculator:n.feeCalculator})}};function P0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=Sft();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}const Ul=Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),er("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),er("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),P0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),er("base"),jy("seed"),B.ns64("lamports"),B.ns64("space"),er("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),er("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),er("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),er("base"),jy("seed"),B.ns64("space"),er("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),er("base"),jy("seed"),er("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),P0("lamports"),jy("seed"),er("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});class S1{constructor(){}static createAccount(t){const n=Ul.Create,r=Ll(n,{lamports:t.lamports,space:t.space,programId:Wo(t.programId.toBuffer())});return new Ca({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const i=Ul.TransferWithSeed;n=Ll(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Ul.Transfer;n=Ll(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Ca({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const i=Ul.AssignWithSeed;n=Ll(i,{base:Wo(t.basePubkey.toBuffer()),seed:t.seed,programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ul.Assign;n=Ll(i,{programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ca({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Ul.CreateWithSeed,r=Ll(n,{base:Wo(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Wo(t.programId.toBuffer())});let i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Ca({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Wp;"basePubkey"in t&&"seed"in t?n.add(S1.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:RX,programId:this.programId})):n.add(S1.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:RX,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=Ul.InitializeNonceAccount,r=Ll(n,{authorized:Wo(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:i8,isSigner:!1,isWritable:!1},{pubkey:CX,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ca(i)}static nonceAdvance(t){const n=Ul.AdvanceNonceAccount,r=Ll(n),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:i8,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ca(i)}static nonceWithdraw(t){const n=Ul.WithdrawNonceAccount,r=Ll(n,{lamports:t.lamports});return new Ca({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:i8,isSigner:!1,isWritable:!1},{pubkey:CX,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=Ul.AuthorizeNonceAccount,r=Ll(n,{authorized:Wo(t.newAuthorizedPubkey.toBuffer())});return new Ca({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const i=Ul.AllocateWithSeed;n=Ll(i,{base:Wo(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ul.Allocate;n=Ll(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ca({keys:r,programId:this.programId,data:n})}}S1.programId=new Xt("11111111111111111111111111111111");new Xt("BPFLoader2111111111111111111111111111111111");function Fft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o8,TX;function Wft(){if(TX)return o8;TX=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=e.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=t(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return o8=function(r){var i=n(r,!1);if(i!==void 0)return""+i},o8}var qft=Wft(),OX=Fft(qft);const Iw=32;function s8(e){let t=0;for(;e>1;)e/=2,t++;return t}function zft(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}let Vft=class{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=s8(zft(t+Iw+1))-s8(Iw)-1,r=this.getSlotsInEpoch(n),i=t-(r-Iw);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Iw:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+s8(Iw)):this.slotsPerEpoch}};var Kft=globalThis.fetch;let Hft=class extends t9{constructor(t,n,r){const i=o=>{const s=e9(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}};function Gft(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const NX=56;let PX=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=Gft(Jft,t),r=t.length-NX;ri(r>=0,"lookup table is invalid"),ri(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=B.struct([B.seq(er(),i,"addresses")]).decode(t.slice(NX));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Xt(n.authority[0]):void 0,addresses:o.map(s=>new Xt(s))}}};const Jft={index:1,layout:B.struct([B.u32("typeIndex"),P0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(er(),B.offset(B.u8(),-1),"authority")])},Zft=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Yft(e){const t=e.match(Zft);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Bi=yi(ua(Xt),ae(),e=>new Xt(e)),Ope=fa([ae(),it("base64")]),h9=yi(ua(Te.Buffer),Ope,e=>Te.Buffer.from(e[0],"base64")),Xft=30*1e3;function Qft(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Yr(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function BX(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Npe(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Dr(),message:ae(),data:_e(B_())})})])}const eht=Npe(Dr());function Kn(e){return yi(Npe(e),eht,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function to(e){return Kn(re({context:re({slot:H()}),value:e}))}function hE(e){return re({context:re({slot:H()}),value:e})}function a8(e,t){return e===0?new d9({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Xt(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:ys.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Nm(t)}const tht=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),nht=Kn(pe(ge(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(ge(H()))})))),rht=pe(re({slot:H(),prioritizationFee:H()})),iht=re({total:H(),validator:H(),foundation:H(),epoch:H()}),oht=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),sht=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),aht=Zd(ae(),pe(H())),dg=ge(Ot([re({}),ae()])),lht=re({err:dg}),cht=it("receivedSignature"),dht=re({"solana-core":ae(),"feature-set":_e(H())}),uht=re({program:ae(),programId:Bi,parsed:Dr()}),fht=re({programId:Bi,accounts:pe(Bi),data:ae()}),DX=to(re({err:ge(Ot([re({}),ae()])),logs:ge(pe(ae())),accounts:_e(ge(pe(ge(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(ge(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Ot([uht,fht]))}))))})),hht=to(re({byIdentity:Zd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));function pht(e,t,n,r,i,o){const s=n||Kft;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const h=await new Promise((m,v)=>{try{r(d,u,(g,y)=>m([g,y]))}catch(g){v(g)}});return await s(...h)}),new Qj(async(d,u)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},ppt)};try{let m=5,v,g=500;for(;l?v=await l(e,h):v=await s(e,h),!(v.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await Sy(g),g*=2;const y=await v.text();v.ok?u(null,y):u(new Error(`${v.status} ${v.statusText}: ${y}`))}catch(m){m instanceof Error&&u(m)}},{})}function mht(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function ght(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const yht=Kn(tht),vht=Kn(iht),wht=Kn(rht),bht=Kn(oht),_ht=Kn(sht),xht=Kn(aht),kht=Kn(H()),Sht=to(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Bi)})),p7=re({amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())}),Iht=to(pe(re({address:Bi,amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())}))),Eht=to(pe(re({pubkey:Bi,account:re({executable:kn(),owner:Bi,lamports:H(),data:h9,rentEpoch:H()})}))),m7=re({program:ae(),parsed:Dr(),space:H()}),Cht=to(pe(re({pubkey:Bi,account:re({executable:kn(),owner:Bi,lamports:H(),data:m7,rentEpoch:H()})}))),Aht=to(pe(re({lamports:H(),address:Bi}))),I1=re({executable:kn(),owner:Bi,lamports:H(),data:h9,rentEpoch:H()}),Rht=re({pubkey:Bi,account:I1}),Tht=yi(Ot([ua(Te.Buffer),m7]),Ot([Ope,m7]),e=>Array.isArray(e)?ke(e,h9):e),g7=re({executable:kn(),owner:Bi,lamports:H(),data:Tht,rentEpoch:H()}),Oht=re({pubkey:Bi,account:g7}),Nht=re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()}),Pht=Kn(pe(re({signature:ae(),slot:H(),err:dg,memo:ge(ae()),blockTime:_e(ge(H()))}))),Bht=Kn(pe(re({signature:ae(),slot:H(),err:dg,memo:ge(ae()),blockTime:_e(ge(H()))}))),Dht=re({subscription:H(),result:hE(I1)}),Mht=re({pubkey:Bi,account:I1}),jht=re({subscription:H(),result:hE(Mht)}),$ht=re({parent:H(),slot:H(),root:H()}),Lht=re({subscription:H(),result:$ht}),Uht=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]),Fht=re({subscription:H(),result:Uht}),Wht=re({subscription:H(),result:hE(Ot([lht,cht]))}),qht=re({subscription:H(),result:H()}),zht=re({pubkey:ae(),gossip:ge(ae()),tpu:ge(ae()),rpc:ge(ae()),version:ge(ae())}),MX=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ge(H())}),Vht=Kn(re({current:pe(MX),delinquent:pe(MX)})),Kht=Ot([it("processed"),it("confirmed"),it("finalized")]),Hht=re({slot:H(),confirmations:ge(H()),err:dg,confirmationStatus:_e(Kht)}),Ght=to(pe(ge(Hht))),Jht=Kn(H()),Ppe=re({accountKey:Bi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),p9=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Ppe))})}),Bpe=re({pubkey:Bi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),Dpe=re({accountKeys:pe(Bpe),signatures:pe(ae())}),Mpe=re({parsed:Dr(),program:ae(),programId:Bi}),jpe=re({accounts:pe(Bi),data:ae(),programId:Bi}),Zht=Ot([jpe,Mpe]),Yht=Ot([re({parsed:Dr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),$pe=yi(Zht,Yht,e=>"accounts"in e?ke(e,jpe):ke(e,Mpe)),Lpe=re({signatures:pe(ae()),message:re({accountKeys:pe(Bpe),instructions:pe($pe),recentBlockhash:ae(),addressTableLookups:_e(ge(pe(Ppe)))})}),nI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:p7}),Upe=re({writable:pe(Bi),readonly:pe(Bi)}),pE=re({err:dg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(nI))),postTokenBalances:_e(ge(pe(nI))),loadedAddresses:_e(Upe),computeUnitsConsumed:_e(H()),costUnits:_e(H())}),m9=re({err:dg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe($pe)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(nI))),postTokenBalances:_e(ge(pe(nI))),loadedAddresses:_e(Upe),computeUnitsConsumed:_e(H()),costUnits:_e(H())}),wv=Ot([it(0),it("legacy")]),ug=re({pubkey:ae(),lamports:H(),postBalance:ge(H()),rewardType:ge(ae()),commission:_e(ge(H()))}),Xht=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:p9,meta:ge(pE),version:_e(wv)})),rewards:_e(pe(ug)),blockTime:ge(H()),blockHeight:ge(H())}))),Qht=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(ug)),blockTime:ge(H()),blockHeight:ge(H())}))),ept=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Dpe,meta:ge(pE),version:_e(wv)})),rewards:_e(pe(ug)),blockTime:ge(H()),blockHeight:ge(H())}))),tpt=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Lpe,meta:ge(m9),version:_e(wv)})),rewards:_e(pe(ug)),blockTime:ge(H()),blockHeight:ge(H())}))),npt=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Dpe,meta:ge(m9),version:_e(wv)})),rewards:_e(pe(ug)),blockTime:ge(H()),blockHeight:ge(H())}))),rpt=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(ug)),blockTime:ge(H()),blockHeight:ge(H())}))),ipt=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:p9,meta:ge(pE)})),rewards:_e(pe(ug)),blockTime:ge(H())}))),jX=Kn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:ge(H())}))),l8=Kn(ge(re({slot:H(),meta:ge(pE),blockTime:_e(ge(H())),transaction:p9,version:_e(wv)}))),Uk=Kn(ge(re({slot:H(),transaction:Lpe,meta:ge(m9),blockTime:_e(ge(H())),version:_e(wv)}))),opt=to(re({blockhash:ae(),lastValidBlockHeight:H()})),spt=to(kn()),apt=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),lpt=Kn(pe(apt)),cpt=to(ge(re({feeCalculator:re({lamportsPerSignature:H()})}))),dpt=Kn(ae()),upt=Kn(ae()),fpt=re({err:dg,logs:pe(ae()),signature:ae()}),hpt=re({result:hE(fpt),subscription:H()}),ppt={"solana-client":"js/1.0.0-maintenance"};let D_=class{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:h}=Yr(d),m=this._buildArgs([],u,void 0,h),v=OX(m);return c[v]=c[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),y=ke(g,Kn(H()));if("error"in y)throw new an(y.error,"failed to get block height information");return y.result}finally{delete c[v]}})(),await c[v]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=Qft(t),this._rpcWsEndpoint=r||Yft(t),this._rpcClient=pht(t,i,o,s,a,l),this._rpcRequest=mht(this._rpcClient),this._rpcBatchRequest=ght(this._rpcClient),this._rpcWebSocket=new Hft(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ke(s,to(H()));if("error"in a)throw new an(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ke(n,Kn(ge(H())));if("error"in r)throw new an(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ke(t,Kn(H()));if("error"in n)throw new an(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ke(t,kht);if("error"in n)throw new an(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ke(r,Sht);if("error"in i)throw new an(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ke(i,to(p7));if("error"in o)throw new an(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ke(i,to(p7));if("error"in o)throw new an(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Yr(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ke(l,Eht);if("error"in c)throw new an(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ke(s,Cht);if("error"in a)throw new an(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ke(i,Aht);if("error"in o)throw new an(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(i,Iht);if("error"in o)throw new an(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,to(ge(I1)));if("error"in a)throw new an(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,to(ge(g7)));if("error"in a)throw new an(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,to(pe(ge(g7))));if("error"in l)throw new an(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,to(pe(ge(I1))));if("error"in l)throw new an(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Yr(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ke(a,Kn(Nht));if("error"in l)throw new an(l.error,`failed to get Stake Activation ${t.toBase58()}`);return l.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Yr(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...s,...s.filters?{filters:BX(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(Rht),d=s.withContext===!0?ke(l,to(c)):ke(l,Kn(c));if("error"in d)throw new an(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ke(s,Kn(pe(Oht)));if("error"in a)throw new an(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=ys.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ri(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,h)=>{r=void 0;const m={context:h,value:u};l({__type:$f.PROCESSED,response:m})},t);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:h,value:m}=u;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:$f.PROCESSED,response:{context:h,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const h=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await h();if(!o){for(;m<=r;)if(await Sy(1e3),o||(m=await h(),o))return;u({__type:$f.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===$f.PROCESSED)d=u.response;else throw new _pe(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let v=o,g=null;const y=async()=>{try{const{context:b,value:k}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return g=b.slot,k==null?void 0:k.nonce}catch{return v}};(async()=>{if(v=await y(),!a)for(;;){if(o!==v){m({__type:$f.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await Sy(2e3),a||(v=await y(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let h;try{const m=await Promise.race([u,d,l]);if(m.__type===$f.PROCESSED)h=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(s);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Sy(400);continue}v=g;break}if(v!=null&&v.value){const g=t||"finalized",{confirmationStatus:y}=v.value;switch(g){case"processed":case"recent":if(y!=="processed"&&y!=="confirmed"&&y!=="finalized")throw new eb(s);break;case"confirmed":case"single":case"singleGossip":if(y!=="confirmed"&&y!=="finalized")throw new eb(s);break;case"finalized":case"max":case"root":if(y!=="finalized")throw new eb(s);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new eb(s)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:$f.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===$f.PROCESSED)a=l.response;else throw new xpe(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ke(t,Kn(pe(zht)));if("error"in n)throw new an(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ke(r,Vht);if("error"in i)throw new an(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ke(o,Kn(H()));if("error"in s)throw new an(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ke(o,Kn(ae()));if("error"in s)throw new an(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=ke(i,Kn(pe(Bi)));if("error"in o)throw new an(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);ri(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ke(i,Ght);if("error"in o)throw new an(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ke(o,Kn(H()));if("error"in s)throw new an(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ke(r,yht);if("error"in i)throw new an(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Yr(r),s=this._buildArgs([t.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ke(a,nht);if("error"in l)throw new an(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ke(t,vht);if("error"in n)throw new an(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ke(o,bht);if("error"in s)throw new an(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ke(t,_ht);if("error"in n)throw new an(n.error,"failed to get epoch schedule");const r=n.result;return new Vft(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ke(t,xht);if("error"in n)throw new an(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(i,Jht);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ke(n,lpt);if("error"in r)throw new an(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(i,cpt);if("error"in o)throw new an(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=Wo(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ke(o,to(ge(H())));if("error"in s)throw new an(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(i,wht);if("error"in o)throw new an(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ke(o,opt);if("error"in s)throw new an(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ke(s,spt);if("error"in a)throw new an(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ke(t,Kn(dht));if("error"in n)throw new an(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ke(t,Kn(ae()));if("error"in n)throw new an(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,ept);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,Qht);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,Xht);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:a8(u,c.message)},version:u}))}:null}}}catch(a){throw new an(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,npt);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,rpt);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,tpt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new an(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...l}=t;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ke(o,hht);if("error"in s)throw new an(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ke(s,l8);if("error"in a)throw new an(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:a8(l.version,l.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ke(s,Uk);if("error"in a)throw new an(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,Uk);if("error"in c)throw new an(c.error,"failed to get transactions");return c.result})}async getTransactions(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,l8);if("error"in c)throw new an(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:a8(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),o=ke(i,ipt);if("error"in o)throw new an(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new Nm(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Wp.populate(l.message,l.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=ke(o,Kn(pe(H())));if("error"in s)throw new an(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,jX);if("error"in o)throw new an(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,jX);if("error"in o)throw new an(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),o=ke(i,l8);if("error"in o)throw new an(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Nm(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Wp.populate(a,l)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ke(i,Uk);if("error"in o)throw new an(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ke(s,Uk);if("error"in a)throw new an(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ke(o,Pht);if("error"in s)throw new an(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ke(o,Bht);if("error"in s)throw new an(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new PX({key:t,state:PX.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=Uft.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ke(r,dpt);if("error"in i)throw new an(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Sy(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Xft;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Sy($ft/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ke(o,to(H()));if("error"in s)throw new an(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const g=t.serialize(),y=Te.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const k=[y,b],_=await this._rpcRequest("simulateTransaction",k),R=ke(_,DX);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof Wp){let v=t;i=new Wp,i.feePayer=v.feePayer,i.instructions=t.instructions,i.nonceInfo=v.nonceInfo,i.signatures=v.signatures}else i=Wp.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(i.lastValidBlockHeight=g.lastValidBlockHeight,i.recentBlockhash=g.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const y=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(y)&&!this._blockhashInfo.transactionSignatures.includes(y)){this._blockhashInfo.simulatedSignatures.push(y);break}else v=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:s.nonProgramIds()).map(g=>g.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],h=await this._rpcRequest("simulateTransaction",u),m=ke(h,DX);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,y=g+v.join(g);console.error(m.error.message,y)}throw new AX({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const l=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=Wo(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),l=ke(a,upt);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new AX({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ke(t,Dht);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=OX([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];ri(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:o}=Yr(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ke(t,jht);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:o,config:s}=Yr(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:BX(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ke(t,hpt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ke(t,Lht);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ke(t,Fht);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ke(t,Wht);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ke(t,qht);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),P0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),P0(),B.seq(er(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Xt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),P0("microLamports")])}});new Xt("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Xt("Ed25519SigVerify111111111111111111111111111");ag.utils.isValidPrivateKey;ag.getPublicKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Xt("KeccakSecp256k11111111111111111111111111111");var Fpe;new Xt("StakeConfig11111111111111111111111111111111");let Wpe=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};Fpe=Wpe;Wpe.default=new Fpe(0,0,Xt.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),Tft(),Oft()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),er("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),er("newAuthorized"),B.u32("stakeAuthorizationType"),jy("authoritySeed"),er("authorityOwner")])}});new Xt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),Nft()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),er("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Pft()])}});new Xt("Vote111111111111111111111111111111111111111");new Xt("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Xt("Vote111111111111111111111111111111111111111");B.struct([er("nodePubkey"),er("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),er("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([er("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);const bv=new Xt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Xt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const g9=new Xt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Xt("So11111111111111111111111111111111111111112");new Xt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const y9=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}};var Sp={},$X;function mpt(){if($X)return Sp;$X=1,Object.defineProperty(Sp,"__esModule",{value:!0});function e(i){{const o=Buffer.from(i);o.reverse();const s=o.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}Sp.toBigIntLE=e;function t(i){{const o=i.toString("hex");return o.length===0?BigInt(0):BigInt(`0x${o}`)}}Sp.toBigIntBE=t;function n(i,o){{const s=i.toString(16),a=Buffer.from(s.padStart(o*2,"0").slice(0,o*2),"hex");return a.reverse(),a}}Sp.toBufferLE=n;function r(i,o){{const s=i.toString(16);return Buffer.from(s.padStart(o*2,"0").slice(0,o*2),"hex")}}return Sp.toBufferBE=r,Sp}var LX=mpt();const gpt=e=>t=>{const n=B.blob(e,t),{encode:r,decode:i}=y9(n),o=n;return o.decode=(s,a)=>{const l=i(s,a);return LX.toBigIntLE(Buffer.from(l))},o.encode=(s,a,l)=>{const c=LX.toBufferLE(s,e);return r(c,a,l)},o},bb=gpt(8),qpe=e=>{const t=B.u8(e),{encode:n,decode:r}=y9(t),i=t;return i.decode=(o,s)=>!!r(o,s),i.encode=(o,s,a)=>{const l=Number(o);return n(l,s,a)},i},us=e=>{const t=B.blob(32,e),{encode:n,decode:r}=y9(t),i=t;return i.decode=(o,s)=>{const a=r(o,s);return new Xt(a)},i.encode=(o,s,a)=>{const l=o.toBuffer();return n(l,s,a)},i};class M_ extends Error{constructor(t){super(t)}}class ypt extends M_{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class vpt extends M_{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class wpt extends M_{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class UX extends M_{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class bpt extends M_{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var y7;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension",e[e.GroupPointerExtension=40]="GroupPointerExtension",e[e.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",e[e.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",e[e.PausableExtension=44]="PausableExtension"})(y7||(y7={}));var v7;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(v7||(v7={}));const _pt=1,xpt=B.struct([B.u8("m"),B.u8("n"),qpe("isInitialized"),us("signer1"),us("signer2"),us("signer3"),us("signer4"),us("signer5"),us("signer6"),us("signer7"),us("signer8"),us("signer9"),us("signer10"),us("signer11")]),kpt=xpt.span;var rI;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(rI||(rI={}));const zpe=B.struct([us("mint"),us("owner"),bb("amount"),B.u32("delegateOption"),us("delegate"),B.u8("state"),B.u32("isNativeOption"),bb("isNative"),bb("delegatedAmount"),B.u32("closeAuthorityOption"),us("closeAuthority")]),Ew=zpe.span;async function Spt(e,t,n,r=bv){const i=await e.getAccountInfo(t,n);return Ipt(t,i,r)}function Ipt(e,t,n=bv){if(!t)throw new ypt;if(!t.owner.equals(n))throw new wpt;if(t.data.length<Ew)throw new UX;const r=zpe.decode(t.data.slice(0,Ew));let i=Buffer.alloc(0);if(t.data.length>Ew){if(t.data.length===kpt)throw new UX;if(t.data[Ew]!=v7.Account)throw new vpt;i=t.data.slice(Ew+_pt)}return{address:e,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==rI.Uninitialized,isFrozen:r.state===rI.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}function Ept(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const r of n)e.push({pubkey:r instanceof Xt?r:r.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}const Cpt=B.struct([B.u32("mintAuthorityOption"),us("mintAuthority"),bb("supply"),B.u8("decimals"),qpe("isInitialized"),B.u32("freezeAuthorityOption"),us("freezeAuthority")]);Cpt.span;async function B0(e,t,n=!1,r=bv,i=g9){if(!n&&!Xt.isOnCurve(t.toBuffer()))throw new bpt;const[o]=await Xt.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return o}function v9(e,t,n,r,i=bv,o=g9){return Apt(e,t,n,r,Buffer.alloc(0),i,o)}function Apt(e,t,n,r,i,o=bv,s=g9){const a=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:S1.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Ca({keys:a,programId:s,data:i})}const FX=B.struct([B.u8("instruction"),bb("amount")]);function w9(e,t,n,r,i=[],o=bv){const s=Ept([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,i),a=Buffer.alloc(FX.span);return FX.encode({instruction:y7.Transfer,amount:BigInt(r)},a),new Ca({keys:s,programId:o,data:a})}const Rpt=e=>mi(void 0,[e],void 0,function*({connection:t,fromAddress:n,toAddress:r,tokenAddress:i,amount:o,decimals:s,blockhash:a,lastValidBlockHeight:l}){var c,d;const u=new fn(n),h=new fn(r),m=new fn(i),v=(d=(c=yield t.getTokenAccountsByOwner(u,{mint:m}))===null||c===void 0?void 0:c.value[0])===null||d===void 0?void 0:d.pubkey;if(!v)throw new Error("Source token account not found");let g;const y=[];try{g=yield B0(m,h),yield t.getTokenAccountBalance(g)}catch{g=yield B0(m,h),y.push(v9(u,g,h,m))}y.push(w9(v,g,u,BigInt(Number(o)*Math.pow(10,s||0))));const b=new Bu().add(...y);return b.recentBlockhash=a,b.lastValidBlockHeight=l,b.feePayer=u,b}),Tpt=e=>mi(void 0,[e],void 0,function*({fromAddress:t,toAddress:n,amount:r,blockhash:i}){const o=new vdt({instructions:[o9.transfer({fromPubkey:new fn(t),lamports:Math.round(HAe(r)),toPubkey:new fn(n)})],payerKey:new fn(t),recentBlockhash:i}).compileToV0Message();return new wdt(o)});class Vpe extends t8e{sendBalance(t){return mi(this,arguments,void 0,function*({amount:n,toAddress:r,token:i}){let o;const s=yield this.getConnection(),a=yield this.getSigner(),{blockhash:l,lastValidBlockHeight:c}=yield s.getLatestBlockhash("finalized");i!=null&&i.address?o=yield Rpt({amount:Number(n),blockhash:l,connection:s,decimals:i.decimals,fromAddress:this.address,lastValidBlockHeight:c,toAddress:r,tokenAddress:i.address}):o=yield Tpt({amount:Number(n),blockhash:l,fromAddress:this.address,toAddress:r});const{signature:d}=yield a.signAndSendTransaction(o);return d})}getConnection(){return mi(this,void 0,void 0,function*(){return this._connector.getWalletClient()})}getSigner(){return mi(this,void 0,void 0,function*(){const t=yield this._connector.getSigner();if(!t)throw new Error("unable to retrieve Solana signer");try{return Lxe(t,{signAllTransactions:n=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signAllTransactions(n)}),signAndSendTransaction:(n,...r)=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signAndSendTransaction(n,...r)}),signMessage:(n,...r)=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signMessage(n,...r)}),signTransaction:n=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signTransaction(n)})})}catch(n){return Jn.warn(`Failed to add logic to auto-sync the wallet. Signer might be out of sync for wallet: ${this._connector.name} (${this.address})`,n),t}})}}const Opt=e=>{const t=e.match(/Nonce: (.*)/);if(t&&t.length===2)return t[1]},mE=(e,t)=>{var n,r,i,o,s;const a=t.name.toLowerCase().includes("solana"),l=t.name.toLowerCase().includes("eclipse");let c;return a&&(c=(r=(n=e==null?void 0:e.customRpcUrls)===null||n===void 0?void 0:n.solana)===null||r===void 0?void 0:r[0]),l&&(c=(o=(i=e==null?void 0:e.customRpcUrls)===null||i===void 0?void 0:i.eclipse)===null||o===void 0?void 0:o[0]),c||((s=t.privateCustomerRpcUrls)===null||s===void 0?void 0:s[0])||t.rpcUrls[0]},i0="dynamic_svm_network_id",Npt={blockExplorerUrls:["https://explorer.solana.com"],chainId:"101",cluster:"mainnet",genesisHash:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",iconUrls:["https://app.dynamic.xyz/assets/networks/solana.svg"],isTestnet:!1,key:"solana",name:"Solana Mainnet",nativeCurrency:{decimals:9,iconUrl:"https://app.dynamic.xyz/assets/networks/solana.svg",name:"Solana",pricingProviderTokenId:"solana",symbol:"SOL"},networkId:"101",rpcUrls:["https://api.mainnet-beta.solana.com"],vanityName:"Solana"},Ppt={blockExplorerUrls:["https://explorer.solana.com/?cluster=testnet"],chainId:"102",cluster:"testnet",genesisHash:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",iconUrls:["https://app.dynamic.xyz/assets/networks/solana.svg"],isTestnet:!0,key:"solana",name:"Solana Testnet",nativeCurrency:{decimals:9,iconUrl:"https://app.dynamic.xyz/assets/networks/solana.svg",name:"Solana",pricingProviderTokenId:"solana",symbol:"SOL"},networkId:"102",rpcUrls:["https://api.testnet.solana.com"]},Bpt={blockExplorerUrls:["https://explorer.solana.com/?cluster=devnet"],chainId:"103",cluster:"devnet",genesisHash:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",iconUrls:["https://app.dynamic.xyz/assets/networks/solana.svg"],isTestnet:!0,key:"solana",name:"Solana Devnet",nativeCurrency:{decimals:9,iconUrl:"https://app.dynamic.xyz/assets/networks/solana.svg",name:"Solana",pricingProviderTokenId:"solana",symbol:"SOL"},networkId:"103",rpcUrls:["https://api.devnet.solana.com"]},Kpe=(e,t)=>{if(!(e!=null&&e.length))return[];if(e.length>1||e[0].chainId!=="101")return e;const n=mE(t,e[0]);return n.includes("testnet")?[Object.assign(Object.assign({},Ppt),{privateCustomerRpcUrls:[n]})]:n.includes("devnet")?[Object.assign(Object.assign({},Bpt),{privateCustomerRpcUrls:[n]})]:n.includes("mainnet")?[Object.assign(Object.assign({},Npt),{privateCustomerRpcUrls:[n]})]:e},Dpt=new fn("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");class j_ extends s3{constructor(t){var n;super(t),this.isHardwareWalletEnabled=!1,this.verifiedCredentials=[],this.ChainWallet=Vpe,this.supportedChains=["SOL"],this.connectedChain="SOL",this.solNetworks=Kpe(t.solNetworks,t.connectionConfig),this.chainRpcProviders=t.chainRpcProviders,this.connectionConfig=t.connectionConfig,(n=this.chainRpcProviders)===null||n===void 0||n.registerSolanaProviders(this.connectionConfig)}getNetworkId(){var t;const n=(t=this.solNetworks[0])===null||t===void 0?void 0:t.networkId.toString(),r=localStorage.getItem(i0);return r??n}setNetworkId(t){t?localStorage.setItem(i0,t):localStorage.removeItem(i0)}getSelectedNetwork(){return this.solNetworks.find(n=>n.networkId.toString()===this.getNetworkId())}getNetwork(){return mi(this,arguments,void 0,function*(t=!1){const n=this.getSelectedNetwork();if(!n)return"";const{networkId:r,genesisHash:i}=n;return t?r.toString():i==="5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"?"mainnet":i==="4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"?"testnet":i==="EtWTRABZaYq6iMfeYKouRu166VU2xqa1"?"devnet":r.toString()})}switchNetwork(t){return mi(this,arguments,void 0,function*({networkChainId:n}){if(!n)return;const r=n.toString();this.solNetworks.some(o=>o.networkId.toString()===r)&&(this.setNetworkId(r),this.emit("chainChange",{chain:r}))})}endSession(){return mi(this,void 0,void 0,function*(){this.setNetworkId(null);const t=yield this.getSigner();t&&(yield t.disconnect())})}getWalletClient(){var t;const n=this.getSelectedNetwork();if(!n)throw new Se("No enabled networks");const r=mE(this.connectionConfig,n);return new ppe(r,(t=this.connectionConfig)!==null&&t!==void 0?t:"confirmed")}getPublicClient(){return mi(this,void 0,void 0,function*(){var t;const n=this.getSelectedNetwork();if(!n)return;const r=n.networkId.toString(),i={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};if(!this.chainRpcProviders)return;const o=this.chainRpcProviders.getProviders(i);return(t=this.chainRpcProviders.getSolanaProviderByChainId(o,r))===null||t===void 0?void 0:t.provider})}getBalance(t){return mi(this,void 0,void 0,function*(){const n=new fn(t);return this.lamportsToSol(yield this.getWalletClient().getBalance(n)).toString()})}lamportsToSol(t){return t/1e9}canConnectWithHardwareWallet(){var t;return!!(!((t=this.metadata.supportedHardwareWallets)===null||t===void 0)&&t.includes("ledger"))}signMessage(t){const n=Object.create(null,{signMessage:{get:()=>super.signMessage}});return mi(this,void 0,void 0,function*(){if(this.isHardwareWalletEnabled)throw new toe(`Message signing is currently not supported on ${this.name} hardware wallet.
          You can use signMessageViaTransaction instead to achieve similar functionality
          by signing a transaction with a memo instruction.
          You can read more about it here https://github.com/solana-labs/solana/issues/21366`);return n.signMessage.call(this,t)})}proveOwnership(t,n){const r=Object.create(null,{proveOwnership:{get:()=>super.proveOwnership}});return mi(this,void 0,void 0,function*(){if(yield this.validateActiveWallet(t),this.isHardwareWalletEnabled){const i=Opt(n);if(!i)throw new Se("Nonce missing");return this.signMessageViaTransaction(i)}return r.proveOwnership.call(this,t,n)})}signMessageViaTransaction(t){return mi(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)throw new Se("Address missing");const r=this.buildAuthTx(t);r.feePayer=new fn(n),r.recentBlockhash=(yield this.getWalletClient().getLatestBlockhash()).blockhash;const i=yield this.getSigner();if(!i)throw new Se("Signer not found");const s=(yield i.signTransaction(r)).serialize();return JSON.stringify({signedTransaction:{data:Array.from(s),type:"Buffer"}})})}buildAuthTx(t){const n=new Bu;return n.add(new el({data:Buffer.from(t,"utf8"),keys:[],programId:Dpt})),n}setVerifiedCredentials(t){this.verifiedCredentials=t}isLedgerAddress(t){return $xe(t,this.verifiedCredentials)}getBlockExplorerUrlsForCurrentNetwork(){return mi(this,void 0,void 0,function*(){const t=this.getSelectedNetwork();return t?t.blockExplorerUrls:[]})}getEnabledNetworks(){return this.solNetworks}supportsNetworkSwitching(){return!0}}Xb.getSolanaProviderByChainId=(e,t)=>{var n;return(n=e.solana)===null||n===void 0?void 0:n.find(i=>i.chainId===t)};Xb.registerSolanaProviders=e=>{Xb.registerChainProviders(Yb.SOLANA,t=>{const n={};return t!=null&&t.solana&&(n.solana=t.solana.map(r=>{const i=mE(e,r),o=new ppe(i,e);return{chainId:r.chainId.toString(),chainName:r.name,provider:o}})),n.solana})};const WX=1e9;class Rd{constructor({onSubmit:t,from:n,connection:r,multipleTransactions:i}){this.chain="SOL",this.data=void 0,this.fee={gas:void 0},this.formatNonNativeToken=(o,s)=>(Number(o)/Number(Math.pow(10,s))).toString(),this.from=n,this.onSubmit=t,this.connection=r,this.multipleTransactions=i}fetchFee(){return mi(this,void 0,void 0,function*(){if(this.fee.gas)return;let t=this.multipleTransactions;if(!t){const o=yield this.createTransactionSafe();if(!o)return;t=o instanceof Array?o:[o]}const n=yield Promise.all(t.map(o=>mi(this,void 0,void 0,function*(){return"version"in o?o.message:o.compileMessage()})));if(n.some(o=>!o))throw new Error("Invalid transaction");const r=o=>mi(this,void 0,void 0,function*(){let s=yield this.connection.getFeeForMessage(o,"confirmed"),a=0;for(;s.value===null&&a<5;)s=yield this.connection.getFeeForMessage(o,"confirmed"),a++;return s.value?BigInt(s.value):BigInt(0)}),i=yield Promise.all(n.map(o=>r(o)));this.fee.gas=i.reduce((o,s)=>o+s,BigInt(0)),this.fee.gas===BigInt(0)&&(this.fee.gas=void 0)})}isGasSponsored(){var t;return!((t=this.multipleTransactions)===null||t===void 0)&&t.length?this.multipleTransactions.every(n=>{var r;return"version"in n?this.from!==n.message.staticAccountKeys[0].toBase58():"feePayer"in n?this.from!==((r=n.feePayer)===null||r===void 0?void 0:r.toBase58()):!1}):!1}parse(t){const n=parseFloat(t),r=Math.round(n*WX);return BigInt(r)}parseNonNativeToken(t,n){return BigInt(Math.floor(Number(t)*Math.pow(10,n)))}format(t,{precision:n}={}){const i=(Number(t)/WX).toLocaleString("fullwide",{maximumFractionDigits:20,minimumFractionDigits:0,useGrouping:!1});return fxe(i,{precision:n})}submit(){return mi(this,void 0,void 0,function*(){if(this.multipleTransactions)return this.onSubmit();const t=yield this.createTransaction();return this.onSubmit(t)})}getBalance(){return mi(this,void 0,void 0,function*(){const t=new fn(this.from),n=yield this.connection.getBalance(t);return BigInt(n)})}validateAddressFormat(t){return t==="dyn_send_transaction.multiple_recipients"?!0:/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(t)}createTransaction(){return mi(this,void 0,void 0,function*(){var t;const{value:n,to:r,nonNativeAddress:i,nonNativeValue:o}=this;if(!r)throw new Error("Destination is required");if(this.multipleTransactions)return this.multipleTransactions;const s=new Bu,a=new fn(this.from),l=new fn(r);if(i&&o){const d=new fn(i),u=o,h=(t=(yield this.connection.getTokenAccountsByOwner(a,{mint:d})).value[0])===null||t===void 0?void 0:t.pubkey;if(!h)throw new Error("Source token account not found");let m;try{m=yield B0(d,l),yield this.connection.getTokenAccountBalance(m)}catch{m=yield B0(d,l),s.add(v9(a,m,l,d))}s.add(w9(h,m,a,u))}else{const d=n??BigInt(0);s.add(o9.transfer({fromPubkey:a,lamports:d,toPubkey:l}))}const{blockhash:c}=yield this.connection.getLatestBlockhash();return s.feePayer=new fn(this.from),s.recentBlockhash=c,s})}createTransactionSafe(){return mi(this,void 0,void 0,function*(){try{return yield this.createTransaction()}catch{return}})}}const Mpt=e=>"version"in e,Hpe=e=>{let t=!1;return"version"in e?t=e.signatures.some(n=>!n.every(r=>r===0)):t=e.signatures.some(n=>n.signature),t},Gpe=e=>["SOL"].includes(e.chain);Oo("@dynamic-labs/solana-core",Pst);function Ht(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const b9=BigInt(0),w7=BigInt(1);function Pm(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Fk(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Jpe(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?b9:BigInt("0x"+e)}function gE(e){return Jpe(T0(e))}function E1(e){return ic(e),Jpe(T0(Uint8Array.from(e).reverse()))}function _9(e,t){return Gj(e.toString(16).padStart(t*2,"0"))}function yE(e,t){return _9(e,t).reverse()}function ro(e,t,n){let r;if(typeof t=="string")try{r=Gj(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Hj(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const c8=e=>typeof e=="bigint"&&b9<=e;function jpt(e,t,n){return c8(e)&&c8(t)&&c8(n)&&t<=e&&e<n}function $y(e,t,n,r){if(!jpt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function $pt(e){let t;for(t=0;e>b9;e>>=w7,t+=1);return t}const vE=e=>(w7<<BigInt(e))-w7;function Lpt(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(e),s=r(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...m)=>n(s,o,...m),d=(m=r(0))=>{s=c(i(0),m),o=c(),m.length!==0&&(s=c(i(1),m),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const v=[];for(;m<t;){o=c();const g=o.slice();v.push(g),m+=o.length}return Uu(...v)};return(m,v)=>{l(),d(m);let g;for(;!(g=v(u()));)d();return l(),g}}function $_(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function iI(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Da=BigInt(0),ws=BigInt(1),Zp=BigInt(2),Upt=BigInt(3),Zpe=BigInt(4),Ype=BigInt(5),Xpe=BigInt(8);function io(e,t){const n=e%t;return n>=Da?n:t+n}function zi(e,t,n){let r=e;for(;t-- >Da;)r*=r,r%=n;return r}function qX(e,t){if(e===Da)throw new Error("invert: expected non-zero number");if(t<=Da)throw new Error("invert: expected positive modulus, got "+t);let n=io(e,t),r=t,i=Da,o=ws;for(;n!==Da;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==ws)throw new Error("invert: does not exist");return io(i,t)}function Qpe(e,t){const n=(e.ORDER+ws)/Zpe,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Fpt(e,t){const n=(e.ORDER-Ype)/Xpe,r=e.mul(t,Zp),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,Zp),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Wpt(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ws,n=0;for(;t%Zp===Da;)t/=Zp,n++;let r=Zp;const i=_v(e);for(;zX(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Qpe;let o=i.pow(r,t);const s=(t+ws)/Zp;return function(l,c){if(l.is0(c))return c;if(zX(l,c)!==1)throw new Error("Cannot find square root");let d=n,u=l.mul(l.ONE,o),h=l.pow(c,t),m=l.pow(c,s);for(;!l.eql(h,l.ONE);){if(l.is0(h))return l.ZERO;let v=1,g=l.sqr(h);for(;!l.eql(g,l.ONE);)if(v++,g=l.sqr(g),v===d)throw new Error("Cannot find square root");const y=ws<<BigInt(d-v-1),b=l.pow(u,y);d=v,u=l.sqr(b),h=l.mul(h,u),m=l.mul(m,b)}return m}}function qpt(e){return e%Zpe===Upt?Qpe:e%Xpe===Ype?Fpt:Wpt(e)}const zpt=(e,t)=>(io(e,t)&ws)===ws,Vpt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kpt(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Vpt.reduce((r,i)=>(r[i]="function",r),t);return $_(e,n),e}function Hpt(e,t,n){if(n<Da)throw new Error("invalid exponent, negatives unsupported");if(n===Da)return e.ONE;if(n===ws)return t;let r=e.ONE,i=t;for(;n>Da;)n&ws&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ws;return r}function eme(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),o),r}function zX(e,t){const n=(e.ORDER-ws)/Zp,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function Gpt(e,t){t!==void 0&&x1(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _v(e,t,n=!1,r={}){if(e<=Da)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=Gpt(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:vE(s),ZERO:Da,ONE:ws,create:d=>io(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Da<=d&&d<e},is0:d=>d===Da,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&ws)===ws,neg:d=>io(-d,e),eql:(d,u)=>d===u,sqr:d=>io(d*d,e),add:(d,u)=>io(d+u,e),sub:(d,u)=>io(d-u,e),mul:(d,u)=>io(d*u,e),pow:(d,u)=>Hpt(c,d,u),div:(d,u)=>io(d*qX(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>qX(d,e),sqrt:o||(d=>(l||(l=qpt(e)),l(c,d))),toBytes:d=>n?yE(d,a):_9(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?E1(d):gE(d)},invertBatch:d=>eme(c,d),cmov:(d,u,h)=>h?u:d});return Object.freeze(c)}function tme(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function nme(e){const t=tme(e);return t+Math.ceil(t/2)}function Jpt(e,t,n=!1){const r=e.length,i=tme(t),o=nme(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?E1(e):gE(e),a=io(s,t-ws)+ws;return n?yE(a,i):_9(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D0=BigInt(0),Yp=BigInt(1);function _b(e,t){const n=t.negate();return e?n:t}function rme(e,t,n){const r=t==="pz"?s=>s.pz:s=>s.ez,i=eme(e.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(e.fromAffine)}function ime(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function d8(e,t){ime(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=vE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function VX(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=Yp);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function Zpt(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ypt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const u8=new WeakMap,ome=new WeakMap;function f8(e){return ome.get(e)||1}function KX(e){if(e!==D0)throw new Error("invalid wNAF")}function sme(e,t){return{constTimeNegate:_b,hasPrecomputes(n){return f8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>D0;)r&Yp&&(i=i.add(o)),o=o.double(),r>>=Yp;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=d8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=d8(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=VX(i,l,a);i=c,u?s=s.add(_b(m,r[v])):o=o.add(_b(h,r[d]))}return KX(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=d8(n,t);for(let a=0;a<s.windows&&i!==D0;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=VX(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return KX(i),o},getPrecomputes(n,r,i){let o=u8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),u8.set(r,o))),o},wNAFCached(n,r,i){const o=f8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=f8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){ime(r,t),ome.set(n,r),u8.delete(n)}}}function Xpt(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>D0||r>D0;)n&Yp&&(o=o.add(i)),r&Yp&&(s=s.add(i)),i=i.double(),n>>=Yp,r>>=Yp;return{p1:o,p2:s}}function ame(e,t,n,r){Zpt(n,e),Ypt(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=$pt(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=vE(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((t.BITS-1)/l)*l;let h=s;for(let m=u;m>=0;m-=l){d.fill(s);for(let g=0;g<o;g++){const y=r[g],b=Number(y>>BigInt(m)&c);d[b]=d[b].add(n[g])}let v=s;for(let g=d.length-1,y=s;g>0;g--)y=y.add(d[g]),v=v.add(y);if(h=h.add(v),m!==0)for(let g=0;g<l;g++)h=h.double()}return h}function HX(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Kpt(t),t}else return _v(e)}function lme(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const l=t[a];if(!(typeof l=="bigint"&&l>D0))throw new Error(`CURVE.${a} must be positive bigint`)}const r=HX(t.p,n.Fp),i=HX(t.n,n.Fn),s=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of s)if(!r.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yd=BigInt(0),ea=BigInt(1),h8=BigInt(2),Qpt=BigInt(8),emt={zip215:!0};function tmt(e,t,n,r){const i=e.sqr(n),o=e.sqr(r),s=e.add(e.mul(t.a,i),o),a=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(s,a)}function nmt(e,t={}){const{Fp:n,Fn:r}=lme("edwards",e,t),{h:i,n:o}=e;$_(t,{},{uvRatio:"function"});const s=h8<<BigInt(r.BYTES*8)-ea,a=g=>n.create(g),l=t.uvRatio||((g,y)=>{try{return{isValid:!0,value:n.sqrt(n.div(g,y))}}catch{return{isValid:!1,value:yd}}});if(!tmt(n,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function c(g,y,b=!1){const k=b?ea:yd;return $y("coordinate "+g,y,k,s),y}function d(g){if(!(g instanceof m))throw new Error("ExtendedPoint expected")}const u=iI((g,y)=>{const{ex:b,ey:k,ez:_}=g,R=g.is0();y==null&&(y=R?Qpt:n.inv(_));const I=a(b*y),T=a(k*y),M=a(_*y);if(R)return{x:yd,y:ea};if(M!==ea)throw new Error("invZ was invalid");return{x:I,y:T}}),h=iI(g=>{const{a:y,d:b}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:k,ey:_,ez:R,et:I}=g,T=a(k*k),M=a(_*_),D=a(R*R),A=a(D*D),U=a(T*y),$=a(D*a(U+M)),q=a(A+a(b*a(T*M)));if($!==q)throw new Error("bad point: equation left != right (1)");const z=a(k*_),S=a(R*I);if(z!==S)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(y,b,k,_){this.ex=c("x",y),this.ey=c("y",b),this.ez=c("z",k,!0),this.et=c("t",_),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof m)throw new Error("extended point not allowed");const{x:b,y:k}=y||{};return c("x",b),c("y",k),new m(b,k,ea,a(b*k))}static normalizeZ(y){return rme(m,"ez",y)}static msm(y,b){return ame(m,r,y,b)}_setWindowSize(y){this.precompute(y)}precompute(y=8,b=!0){return v.setWindowSize(this,y),b||this.multiply(h8),this}assertValidity(){h(this)}equals(y){d(y);const{ex:b,ey:k,ez:_}=this,{ex:R,ey:I,ez:T}=y,M=a(b*T),D=a(R*_),A=a(k*T),U=a(I*_);return M===D&&A===U}is0(){return this.equals(m.ZERO)}negate(){return new m(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:y}=e,{ex:b,ey:k,ez:_}=this,R=a(b*b),I=a(k*k),T=a(h8*a(_*_)),M=a(y*R),D=b+k,A=a(a(D*D)-R-I),U=M+I,$=U-T,q=M-I,z=a(A*$),S=a(U*q),E=a(A*q),N=a($*U);return new m(z,S,N,E)}add(y){d(y);const{a:b,d:k}=e,{ex:_,ey:R,ez:I,et:T}=this,{ex:M,ey:D,ez:A,et:U}=y,$=a(_*M),q=a(R*D),z=a(T*k*U),S=a(I*A),E=a((_+R)*(M+D)-$-q),N=S-z,P=S+z,j=a(q-b*$),V=a(E*N),K=a(P*j),F=a(E*j),O=a(N*P);return new m(V,K,O,F)}subtract(y){return this.add(y.negate())}multiply(y){const b=y;$y("scalar",b,ea,o);const{p:k,f:_}=v.wNAFCached(this,b,m.normalizeZ);return m.normalizeZ([k,_])[0]}multiplyUnsafe(y,b=m.ZERO){const k=y;return $y("scalar",k,yd,o),k===yd?m.ZERO:this.is0()||k===ea?this:v.wNAFCachedUnsafe(this,k,m.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return v.wNAFCachedUnsafe(this,o).is0()}toAffine(y){return u(this,y)}clearCofactor(){return i===ea?this:this.multiplyUnsafe(i)}static fromBytes(y,b=!1){return ic(y),this.fromHex(y,b)}static fromHex(y,b=!1){const{d:k,a:_}=e,R=n.BYTES;y=ro("pointHex",y,R),Pm("zip215",b);const I=y.slice(),T=y[R-1];I[R-1]=T&-129;const M=E1(I),D=b?s:n.ORDER;$y("pointHex.y",M,yd,D);const A=a(M*M),U=a(A-ea),$=a(k*A-_);let{isValid:q,value:z}=l(U,$);if(!q)throw new Error("Point.fromHex: invalid y coordinate");const S=(z&ea)===ea,E=(T&128)!==0;if(!b&&z===yd&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==S&&(z=a(-z)),m.fromAffine({x:z,y:M})}static fromPrivateScalar(y){return m.BASE.multiply(y)}toBytes(){const{x:y,y:b}=this.toAffine(),k=yE(b,n.BYTES);return k[k.length-1]|=y&ea?128:0,k}toRawBytes(){return this.toBytes()}toHex(){return T0(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}m.BASE=new m(e.Gx,e.Gy,ea,a(e.Gx*e.Gy)),m.ZERO=new m(yd,ea,ea,yd),m.Fp=n,m.Fn=r;const v=sme(m,r.BYTES*8);return m}function rmt(e,t){$_(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:r}=t,{BASE:i,Fp:o,Fn:s}=e,a=s.ORDER,l=t.randomBytes||She,c=t.adjustScalarBytes||(I=>I),d=t.domain||((I,T,M)=>{if(Pm("phflag",M),T.length||M)throw new Error("Contexts/pre-hash are not supported");return I});function u(I){return s.create(I)}function h(I){return u(E1(I))}function m(I){const T=o.BYTES;I=ro("private key",I,T);const M=ro("hashed private key",r(I),2*T),D=c(M.slice(0,T)),A=M.slice(T,2*T),U=h(D);return{head:D,prefix:A,scalar:U}}function v(I){const{head:T,prefix:M,scalar:D}=m(I),A=i.multiply(D),U=A.toBytes();return{head:T,prefix:M,scalar:D,point:A,pointBytes:U}}function g(I){return v(I).pointBytes}function y(I=Uint8Array.of(),...T){const M=Uu(...T);return h(r(d(M,ro("context",I),!!n)))}function b(I,T,M={}){I=ro("message",I),n&&(I=n(I));const{prefix:D,scalar:A,pointBytes:U}=v(T),$=y(M.context,D,I),q=i.multiply($).toBytes(),z=y(M.context,q,U,I),S=u($+z*A);$y("signature.s",S,yd,a);const E=o.BYTES,N=Uu(q,yE(S,E));return ro("result",N,E*2)}const k=emt;function _(I,T,M,D=k){const{context:A,zip215:U}=D,$=o.BYTES;I=ro("signature",I,2*$),T=ro("message",T),M=ro("publicKey",M,$),U!==void 0&&Pm("zip215",U),n&&(T=n(T));const q=E1(I.slice($,2*$));let z,S,E;try{z=e.fromHex(M,U),S=e.fromHex(I.slice(0,$),U),E=i.multiplyUnsafe(q)}catch{return!1}if(!U&&z.isSmallOrder())return!1;const N=y(A,S.toBytes(),z.toBytes(),T);return S.add(z.multiplyUnsafe(N)).subtract(E).clearCofactor().is0()}return i.precompute(8),{getPublicKey:g,sign:b,verify:_,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>l(o.BYTES),precompute(I=8,T=e.BASE){return T.precompute(I,!1)}},Point:e}}function imt(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=_v(t.n,e.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:e.uvRatio},o={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,eddsaOpts:o}}function omt(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function smt(e){const{CURVE:t,curveOpts:n,eddsaOpts:r}=imt(e),i=nmt(t,n),o=rmt(i,r);return omt(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const amt=BigInt(1),GX=BigInt(2);BigInt(3);const lmt=BigInt(5),cmt=BigInt(8),wE={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:cmt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function dmt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=wE.p,a=e*e%o*e%o,l=zi(a,GX,o)*a%o,c=zi(l,amt,o)*e%o,d=zi(c,lmt,o)*c%o,u=zi(d,t,o)*d%o,h=zi(u,n,o)*u%o,m=zi(h,r,o)*h%o,v=zi(m,i,o)*m%o,g=zi(v,i,o)*m%o,y=zi(g,t,o)*d%o;return{pow_p_5_8:zi(y,GX,o)*e%o,b2:a}}function umt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const JX=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function fmt(e,t){const n=wE.p,r=io(t*t*t,n),i=io(r*r*t,n),o=dmt(e*i).pow_p_5_8;let s=io(e*r*o,n);const a=io(t*s*s,n),l=s,c=io(s*JX,n),d=a===e,u=a===io(-e,n),h=a===io(-e*JX,n);return d&&(s=l),(u||h)&&(s=c),zpt(s,n)&&(s=io(-s,n)),{isValid:d||u,value:s}}const hmt=_v(wE.p,void 0,!0),pmt={...wE,Fp:hmt,hash:Elt,adjustScalarBytes:umt,uvRatio:fmt},L_=smt(pmt);var p8,ZX;function mmt(){if(ZX)return p8;ZX=1;var e=yv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,b=0,k=0,_=g.length;k!==_&&g[k]===0;)k++,y++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=g[k],M=0,D=R-1;(T!==0||M<b)&&D!==-1;D--,M++)T+=256*I[D]>>>0,I[D]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=M,k++}for(var A=R-b;A!==R&&I[A]===0;)A++;for(var U=c.repeat(y);A<R;++A)U+=n.charAt(I[A]);return U}function m(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return e.alloc(0);for(var y=0,b=0,k=0;g[y]===c;)b++,y++;for(var _=(g.length-y)*d+1>>>0,R=new Uint8Array(_);y<g.length;){var I=g.charCodeAt(y);if(I>255)return;var T=r[I];if(T===255)return;for(var M=0,D=_-1;(T!==0||M<k)&&D!==-1;D--,M++)T+=l*R[D]>>>0,R[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=M,y++}for(var A=_-k;A!==_&&R[A]===0;)A++;var U=e.allocUnsafe(b+(_-A));U.fill(0,0,b);for(var $=b;A!==_;)U[$++]=R[A++];return U}function v(g){var y=m(g);if(y)return y;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return p8=t,p8}var m8,YX;function gmt(){if(YX)return m8;YX=1;var e=mmt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return m8=e(t),m8}var ymt=gmt();const ia=Rr(ymt);var vmt=8078e3,wmt=8078001,bmt=8078004,_mt=8078005,xmt=8078006,kmt=8078011;function cme(e){return Array.isArray(e)?"%5B"+e.map(cme).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Smt([e,t]){return`${e}=${cme(t)}`}function Imt(e){const t=Object.entries(e).map(Smt).join("&");return btoa(t)}function Emt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${Imt(t)}'`),`${n}\``}}var o0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=Emt(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function Cmt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Amt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Cmt(t,e));return e.write(t,n,0),n}})}function Rmt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ry(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function Tmt(e,t){if(ry(e)!==ry(t))throw new o0(bmt);if(ry(e)&&ry(t)&&e.fixedSize!==t.fixedSize)throw new o0(_mt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ry(e)&&!ry(t)&&e.maxSize!==t.maxSize)throw new o0(xmt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Omt(e,t,n=0){if(t.length-n<=0)throw new o0(vmt,{codecDescription:e})}function Nmt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new o0(wmt,{bytesLength:i,codecDescription:e,expected:t})}function Pmt(e,t,n,r){if(r<t||r>n)throw new o0(kmt,{codecDescription:e,max:n,min:t,value:r})}function dme(e){return(e==null?void 0:e.endian)!==1}function Bmt(e){return Amt({fixedSize:e.size,write(t,n,r){e.range&&Pmt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,dme(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function Dmt(e){return Rmt({fixedSize:e.size,read(t,n=0){Omt(e.name,t,n),Nmt(e.name,e.size,t,n);const r=new DataView(Mmt(t,n,e.size));return[e.get(r,dme(e.config)),n+e.size]}})}function Mmt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var jmt=(e={})=>Bmt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),$mt=(e={})=>Dmt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),Lmt=(e={})=>Tmt(jmt(e),$mt(e));let ume=class extends Jj{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,elt(t);const r=sE(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Fh(o)}update(t){return R0(this),this.iHash.update(t),this}digestInto(t){R0(this),ic(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const fme=(e,t,n)=>new ume(e,t).update(n).digest();fme.create=(e,t)=>new ume(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XX(e){e.lowS!==void 0&&Pm("lowS",e.lowS),e.prehash!==void 0&&Pm("prehash",e.prehash)}let Umt=class extends Error{constructor(t=""){super(t)}};const Iu={Err:Umt,_tlv:{encode:(e,t)=>{const{Err:n}=Iu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Fk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Fk(i.length/2|128):"";return Fk(e)+o+i+t},decode(e,t){const{Err:n}=Iu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Iu;if(e<xb)throw new t("integer: negative integers are not allowed");let n=Fk(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Iu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return gE(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Iu,i=ro("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Iu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},xb=BigInt(0),kb=BigInt(1),Fmt=BigInt(2),Wk=BigInt(3),Wmt=BigInt(4);function qmt(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function hme(e,t,n){const{BYTES:r}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=ro("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function zmt(e,t={}){const{Fp:n,Fn:r}=lme("weierstrass",e,t),{h:i,n:o}=e;$_(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(D,A,U){const{x:$,y:q}=A.toAffine(),z=n.toBytes($);if(Pm("isCompressed",U),U){a();const S=!n.isOdd(q);return Uu(pme(S),z)}else return Uu(Uint8Array.of(4),z,n.toBytes(q))}function c(D){ic(D);const A=n.BYTES,U=A+1,$=2*A+1,q=D.length,z=D[0],S=D.subarray(1);if(q===U&&(z===2||z===3)){const E=n.fromBytes(S);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const N=h(E);let P;try{P=n.sqrt(N)}catch(K){const F=K instanceof Error?": "+K.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}a();const j=n.isOdd(P);return(z&1)===1!==j&&(P=n.neg(P)),{x:E,y:P}}else if(q===$&&z===4){const E=n.fromBytes(S.subarray(A*0,A*1)),N=n.fromBytes(S.subarray(A*1,A*2));if(!m(E,N))throw new Error("bad point: is not on curve");return{x:E,y:N}}else throw new Error(`bad point: got length ${q}, expected compressed=${U} or uncompressed=${$}`)}const d=t.toBytes||l,u=t.fromBytes||c,h=qmt(n,e.a,e.b);function m(D,A){const U=n.sqr(A),$=h(D);return n.eql(U,$)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,Wk),Wmt),g=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,g)))throw new Error("bad curve params: a or b");function y(D,A,U=!1){if(!n.isValid(A)||U&&n.is0(A))throw new Error(`bad point coordinate ${D}`);return A}function b(D){if(!(D instanceof I))throw new Error("ProjectivePoint expected")}const k=iI((D,A)=>{const{px:U,py:$,pz:q}=D;if(n.eql(q,n.ONE))return{x:U,y:$};const z=D.is0();A==null&&(A=z?n.ONE:n.inv(q));const S=n.mul(U,A),E=n.mul($,A),N=n.mul(q,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:S,y:E}}),_=iI(D=>{if(D.is0()){if(t.allowInfinityPoint&&!n.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:A,y:U}=D.toAffine();if(!n.isValid(A)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!m(A,U))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(D,A,U,$,q){return U=new I(n.mul(U.px,D),U.py,U.pz),A=_b($,A),U=_b(q,U),A.add(U)}class I{constructor(A,U,$){this.px=y("x",A),this.py=y("y",U,!0),this.pz=y("z",$),Object.freeze(this)}static fromAffine(A){const{x:U,y:$}=A||{};if(!A||!n.isValid(U)||!n.isValid($))throw new Error("invalid affine point");if(A instanceof I)throw new Error("projective point not allowed");return n.is0(U)&&n.is0($)?I.ZERO:new I(U,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return rme(I,"pz",A)}static fromBytes(A){return ic(A),I.fromHex(A)}static fromHex(A){const U=I.fromAffine(u(ro("pointHex",A)));return U.assertValidity(),U}static fromPrivateKey(A){const U=hme(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(U(A))}static msm(A,U){return ame(I,r,A,U)}precompute(A=8,U=!0){return M.setWindowSize(this,A),U||this.multiply(Wk),this}_setWindowSize(A){this.precompute(A)}assertValidity(){_(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){b(A);const{px:U,py:$,pz:q}=this,{px:z,py:S,pz:E}=A,N=n.eql(n.mul(U,E),n.mul(z,q)),P=n.eql(n.mul($,E),n.mul(S,q));return N&&P}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:U}=e,$=n.mul(U,Wk),{px:q,py:z,pz:S}=this;let E=n.ZERO,N=n.ZERO,P=n.ZERO,j=n.mul(q,q),V=n.mul(z,z),K=n.mul(S,S),F=n.mul(q,z);return F=n.add(F,F),P=n.mul(q,S),P=n.add(P,P),E=n.mul(A,P),N=n.mul($,K),N=n.add(E,N),E=n.sub(V,N),N=n.add(V,N),N=n.mul(E,N),E=n.mul(F,E),P=n.mul($,P),K=n.mul(A,K),F=n.sub(j,K),F=n.mul(A,F),F=n.add(F,P),P=n.add(j,j),j=n.add(P,j),j=n.add(j,K),j=n.mul(j,F),N=n.add(N,j),K=n.mul(z,S),K=n.add(K,K),j=n.mul(K,F),E=n.sub(E,j),P=n.mul(K,V),P=n.add(P,P),P=n.add(P,P),new I(E,N,P)}add(A){b(A);const{px:U,py:$,pz:q}=this,{px:z,py:S,pz:E}=A;let N=n.ZERO,P=n.ZERO,j=n.ZERO;const V=e.a,K=n.mul(e.b,Wk);let F=n.mul(U,z),O=n.mul($,S),W=n.mul(q,E),G=n.add(U,$),Y=n.add(z,S);G=n.mul(G,Y),Y=n.add(F,O),G=n.sub(G,Y),Y=n.add(U,q);let ie=n.add(z,E);return Y=n.mul(Y,ie),ie=n.add(F,W),Y=n.sub(Y,ie),ie=n.add($,q),N=n.add(S,E),ie=n.mul(ie,N),N=n.add(O,W),ie=n.sub(ie,N),j=n.mul(V,Y),N=n.mul(K,W),j=n.add(N,j),N=n.sub(O,j),j=n.add(O,j),P=n.mul(N,j),O=n.add(F,F),O=n.add(O,F),W=n.mul(V,W),Y=n.mul(K,Y),O=n.add(O,W),W=n.sub(F,W),W=n.mul(V,W),Y=n.add(Y,W),F=n.mul(O,Y),P=n.add(P,F),F=n.mul(ie,Y),N=n.mul(G,N),N=n.sub(N,F),F=n.mul(G,O),j=n.mul(ie,j),j=n.add(j,F),new I(N,P,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(I.ZERO)}multiply(A){const{endo:U}=t;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let $,q;const z=S=>M.wNAFCached(this,S,I.normalizeZ);if(U){const{k1neg:S,k1:E,k2neg:N,k2:P}=U.splitScalar(A),{p:j,f:V}=z(E),{p:K,f:F}=z(P);q=V.add(F),$=R(U.beta,j,K,S,N)}else{const{p:S,f:E}=z(A);$=S,q=E}return I.normalizeZ([$,q])[0]}multiplyUnsafe(A){const{endo:U}=t,$=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===xb||$.is0())return I.ZERO;if(A===kb)return $;if(M.hasPrecomputes(this))return this.multiply(A);if(U){const{k1neg:q,k1:z,k2neg:S,k2:E}=U.splitScalar(A),{p1:N,p2:P}=Xpt(I,$,z,E);return R(U.beta,N,P,q,S)}else return M.wNAFCachedUnsafe($,A)}multiplyAndAddUnsafe(A,U,$){const q=this.multiplyUnsafe(U).add(A.multiplyUnsafe($));return q.is0()?void 0:q}toAffine(A){return k(this,A)}isTorsionFree(){const{isTorsionFree:A}=t;return i===kb?!0:A?A(I,this):M.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:A}=t;return i===kb?this:A?A(I,this):this.multiplyUnsafe(i)}toBytes(A=!0){return Pm("isCompressed",A),this.assertValidity(),d(I,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return T0(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const T=r.BITS,M=sme(I,t.endo?Math.ceil(T/2):T);return I}function pme(e){return Uint8Array.of(e?2:3)}function Vmt(e,t,n={}){$_(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||She,i=t.hmac||(($,...q)=>fme(t.hash,$,Uu(...q))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c($){const q=a>>kb;return $>q}function d($){return c($)?s.neg($):$}function u($,q){if(!s.isValidNot0(q))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(q,z,S){u("r",q),u("s",z),this.r=q,this.s=z,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(q){const z=s.BYTES,S=ro("compactSignature",q,z*2);return new h(s.fromBytes(S.subarray(0,z)),s.fromBytes(S.subarray(z,z*2)))}static fromDER(q){const{r:z,s:S}=Iu.toSig(ro("DER",q));return new h(z,S)}assertValidity(){}addRecoveryBit(q){return new h(this.r,this.s,q)}recoverPublicKey(q){const z=o.ORDER,{r:S,s:E,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*Fmt<z&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=N===2||N===3?S+a:S;if(!o.isValid(j))throw new Error("recovery id 2 or 3 invalid");const V=o.toBytes(j),K=e.fromHex(Uu(pme((N&1)===0),V)),F=s.inv(j),O=_(ro("msgHash",q)),W=s.create(-O*F),G=s.create(E*F),Y=e.BASE.multiplyUnsafe(W).add(K.multiplyUnsafe(G));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(q){if(q==="compact")return Uu(s.toBytes(this.r),s.toBytes(this.s));if(q==="der")return Gj(Iu.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return T0(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return T0(this.toBytes("compact"))}}const m=hme(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=a;return Jpt(r(nme($)),$)},precompute($=8,q=e.BASE){return q.precompute($,!1)}};function g($,q=!0){return e.fromPrivateKey($).toBytes(q)}function y($){if(typeof $=="bigint")return!1;if($ instanceof e)return!0;const z=ro("key",$).length,S=o.BYTES,E=S+1,N=2*S+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===E))return z===E||z===N}function b($,q,z=!0){if(y($)===!0)throw new Error("first arg must be private key");if(y(q)===!1)throw new Error("second arg must be public key");return e.fromHex(q).multiply(m($)).toBytes(z)}const k=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const q=gE($),z=$.length*8-l;return z>0?q>>BigInt(z):q},_=t.bits2int_modN||function($){return s.create(k($))},R=vE(l);function I($){return $y("num < 2^"+l,$,xb,R),s.toBytes($)}function T($,q,z=M){if(["recovered","canonical"].some(G=>G in z))throw new Error("sign() legacy options not supported");const{hash:S}=t;let{lowS:E,prehash:N,extraEntropy:P}=z;E==null&&(E=!0),$=ro("msgHash",$),XX(z),N&&($=ro("prehashed msgHash",S($)));const j=_($),V=m(q),K=[I(V),I(j)];if(P!=null&&P!==!1){const G=P===!0?r(o.BYTES):P;K.push(ro("extraEntropy",G))}const F=Uu(...K),O=j;function W(G){const Y=k(G);if(!s.isValidNot0(Y))return;const ie=s.inv(Y),ye=e.BASE.multiply(Y).toAffine(),me=s.create(ye.x);if(me===xb)return;const be=s.create(ie*s.create(O+me*V));if(be===xb)return;let Me=(ye.x===me?0:2)|Number(ye.y&kb),Fe=be;return E&&c(be)&&(Fe=d(be),Me^=1),new h(me,Fe,Me)}return{seed:F,k2sig:W}}const M={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function A($,q,z=M){const{seed:S,k2sig:E}=T($,q,z);return Lpt(t.hash.outputLen,s.BYTES,i)(S,E)}e.BASE.precompute(8);function U($,q,z,S=D){const E=$;q=ro("msgHash",q),z=ro("publicKey",z),XX(S);const{lowS:N,prehash:P,format:j}=S;if("strict"in S)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const V=typeof E=="string"||Hj(E),K=!V&&!j&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!V&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,O;try{if(K)if(j===void 0||j==="js")F=new h(E.r,E.s);else throw new Error("invalid format");if(V){try{j!=="compact"&&(F=h.fromDER(E))}catch(Fe){if(!(Fe instanceof Iu.Err))throw Fe}!F&&j!=="der"&&(F=h.fromCompact(E))}O=e.fromHex(z)}catch{return!1}if(!F||N&&F.hasHighS())return!1;P&&(q=t.hash(q));const{r:W,s:G}=F,Y=_(q),ie=s.inv(G),ye=s.create(Y*ie),me=s.create(W*ie),be=e.BASE.multiplyUnsafe(ye).add(O.multiplyUnsafe(me));return be.is0()?!1:s.create(be.x)===W}return Object.freeze({getPublicKey:g,getSharedSecret:b,sign:A,verify:U,utils:v,Point:e,Signature:h})}function Kmt(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=_v(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function Hmt(e){const{CURVE:t,curveOpts:n}=Kmt(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function Gmt(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Jmt(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Hmt(e),i=zmt(t,n),o=Vmt(i,r,n);return Gmt(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zmt(e,t){const n=r=>Jmt({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oI={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const Ymt=BigInt(1),b7=BigInt(2),QX=(e,t)=>(e+t/b7)/t;function Xmt(e){const t=oI.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=zi(d,n,t)*d%t,h=zi(u,n,t)*d%t,m=zi(h,b7,t)*c%t,v=zi(m,i,t)*m%t,g=zi(v,o,t)*v%t,y=zi(g,a,t)*g%t,b=zi(y,l,t)*y%t,k=zi(b,a,t)*g%t,_=zi(k,n,t)*d%t,R=zi(_,s,t)*v%t,I=zi(R,r,t)*c%t,T=zi(I,b7,t);if(!_7.eql(_7.sqr(T),e))throw new Error("Cannot find square root");return T}const _7=_v(oI.p,void 0,void 0,{sqrt:Xmt}),Qmt=Zmt({...oI,Fp:_7,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=oI.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ymt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=QX(o*e,t),l=QX(-r*e,t);let c=io(e-a*n-l*i,t),d=io(-a*r-l*o,t);const u=c>s,h=d>s;if(u&&(c=t-c),h&&(d=t-d),c>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:h,k2:d}}}},Ahe);L_.utils.randomPrivateKey;L_.getPublicKey;function eQ(e){try{return L_.ExtendedPoint.fromHex(e),!0}catch{return!1}}const mme=(e,t)=>L_.sign(e,t.slice(0,32)),egt=L_.verify,x9=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let tgt=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(W2,this))}static decode(t){return sa.deserialize(W2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(W2,this,t)}};const W2=new Map;var gme;const ngt=32,Eh=32;function rgt(e){return e._bn!==void 0}let tQ=1,Cn=class Iy extends tgt{constructor(t){if(super({}),this._bn=void 0,rgt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=ia.decode(t);if(n.length!=Eh)throw new Error("Invalid public key input");this._bn=new jd(n)}else this._bn=new jd(t);if(this._bn.byteLength()>Eh)throw new Error("Invalid public key input")}}static unique(){const t=new Iy(tQ);return tQ+=1,new Iy(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ia.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Eh)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Wh(i);return new Iy(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>ngt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,x9(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Wh(r);if(eQ(i))throw new Error("Invalid seeds, address must fall off the curve");return new Iy(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Iy(t);return eQ(n.toBytes())}};gme=Cn;Cn.default=new gme("11111111111111111111111111111111");W2.set(Cn,{kind:"struct",fields:[["_bn","u256"]]});new Cn("BPFLoader1111111111111111111111111111111111");const s0=1232,k9=127,sI=64;let aI=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const or=(e="publicKey")=>B.blob(32,e),igt=(e="signature")=>B.blob(64,e),Ly=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},ogt=(e="authorized")=>B.struct([or("staker"),or("withdrawer")],e),sgt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),or("custodian")],e),agt=(e="voteInit")=>B.struct([or("nodePubkey"),or("authorizedVoter"),or("authorizedWithdrawer"),B.u8("commission")],e),lgt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),or("currentAuthorityDerivedKeyOwnerPubkey"),Ly("currentAuthorityDerivedKeySeed"),or("newAuthorized")],e);function dl(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function ul(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Io(e,t){if(!e)throw new Error(t||"Assertion failed")}let yme=class vme{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new vme(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Io(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Io(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Io(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Cn(l)),...r.map(([l])=>new Cn(l)),...i.map(([l])=>new Cn(l)),...o.map(([l])=>new Cn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Cn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(Io(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const wme="Reached end of buffer unexpectedly";function Mu(e){if(e.length===0)throw new Error(wme);return e.shift()}function fl(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(wme);return e.splice(...t)}let x7=class k7{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Cn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ia.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new aI(this.staticAccountKeys)}static compile(t){const n=yme.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new aI(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ia.encode(a.data)}));return new k7({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ul(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(ia.decode(u.data));let g=[];ul(g,h.length);let y=[];return ul(y,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(g),keyIndices:h,dataLength:Te.Buffer.from(y),data:v}});let i=[];ul(i,r.length);let o=Te.Buffer.alloc(s0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(or("key"),t,"keys"),or("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>x9(u.toBytes())),recentBlockhash:ia.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=Mu(n);if(r!==(r&k9))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Mu(n),o=Mu(n),s=dl(n);let a=[];for(let h=0;h<s;h++){const m=fl(n,0,Eh);a.push(new Cn(Te.Buffer.from(m)))}const l=fl(n,0,Eh),c=dl(n);let d=[];for(let h=0;h<c;h++){const m=Mu(n),v=dl(n),g=fl(n,0,v),y=dl(n),b=fl(n,0,y),k=ia.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:g,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ia.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new k7(u)}},cgt=class S7{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new aI(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=yme.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new aI(a,i).compileInstructions(t.instructions);return new S7({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();ul(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ul(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ul(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(or(),this.staticAccountKeys.length,"staticAccountKeys"),or("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(s0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:ia.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(s0);for(const r of this.compiledInstructions){const i=Array();ul(i,r.accountKeyIndexes.length);const o=Array();ul(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(s0);for(const r of this.addressTableLookups){const i=Array();ul(i,r.writableIndexes.length);const o=Array();ul(o,r.readonlyIndexes.length);const s=B.struct([or("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Mu(n),i=r&k9;Io(r!==i,"Expected versioned message but received legacy message");const o=i;Io(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Mu(n),numReadonlySignedAccounts:Mu(n),numReadonlyUnsignedAccounts:Mu(n)},a=[],l=dl(n);for(let v=0;v<l;v++)a.push(new Cn(fl(n,0,Eh)));const c=ia.encode(fl(n,0,Eh)),d=dl(n),u=[];for(let v=0;v<d;v++){const g=Mu(n),y=dl(n),b=fl(n,0,y),k=dl(n),_=new Uint8Array(fl(n,0,k));u.push({programIdIndex:g,accountKeyIndexes:b,data:_})}const h=dl(n),m=[];for(let v=0;v<h;v++){const g=new Cn(fl(n,0,Eh)),y=dl(n),b=fl(n,0,y),k=dl(n),_=fl(n,0,k);m.push({accountKey:g,writableIndexes:b,readonlyIndexes:_})}return new S7({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}};const bme={deserializeMessageVersion(e){const t=e[0],n=t&k9;return n===t?"legacy":n},deserialize:e=>{const t=bme.deserializeMessageVersion(e);if(t==="legacy")return x7.from(e);if(t===0)return cgt.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},dgt=Te.Buffer.alloc(sI).fill(0);let nQ=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},lI=class I7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new nQ(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],o=[];n.forEach(g=>{g.keys.forEach(b=>{o.push({...b})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{o.push({pubkey:new Cn(g),isSigner:!1,isWritable:!1})});const s=[];o.forEach(g=>{const y=g.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===y);b>-1?(s[b].isWritable=s[b].isWritable||g.isWritable,s[b].isSigner=s[b].isSigner||g.isSigner):s.push(g)}),s.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",b)});const a=s.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=s.splice(a,1);g.isSigner=!0,g.isWritable=!0,s.unshift(g)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=s.findIndex(b=>b.pubkey.equals(g.publicKey));if(y>-1)s[y].isSigner||(s[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:g,isSigner:y,isWritable:b})=>{y?(u.push(g.toString()),l+=1,b||(c+=1)):(h.push(g.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(g=>{const{data:y,programId:b}=g;return{programIdIndex:m.indexOf(b.toString()),accounts:g.keys.map(k=>m.indexOf(k.pubkey.toString())),data:ia.encode(y)}});return v.forEach(g=>{Io(g.programIdIndex>=0),g.accounts.forEach(y=>Io(y>=0))}),new x7({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=mme(r,i.secretKey);this._addSignature(i.publicKey,x9(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Io(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):egt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];ul(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return Io(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Io(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),Io(o.length<=s0,`Transaction too large: ${o.length} > ${s0}`),o}get keys(){return Io(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Io(this.instructions.length===1),this.instructions[0].programId}get data(){return Io(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=dl(n);let i=[];for(let o=0;o<r;o++){const s=fl(n,0,sI);i.push(ia.encode(Te.Buffer.from(s)))}return I7.populate(x7.from(n),i)}static populate(t,n=[]){const r=new I7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==ia.encode(dgt)?null:ia.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new nQ({keys:o,programId:t.accountKeys[i.programIdIndex],data:ia.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}},cI=class _me{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Io(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(sI));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ul(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(igt(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=dl(n);for(let s=0;s<i;s++)r.push(new Uint8Array(fl(n,0,sI)));const o=bme.deserialize(new Uint8Array(n));return new _me(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));Io(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=mme(n,i.secretKey)}}addSignature(t,n){Io(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));Io(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}};new Cn("SysvarC1ock11111111111111111111111111111111");new Cn("SysvarEpochSchedu1e111111111111111111111111");new Cn("Sysvar1nstructions1111111111111111111111111");new Cn("SysvarRecentB1ockHashes11111111111111111111");new Cn("SysvarRent111111111111111111111111111111111");new Cn("SysvarRewards111111111111111111111111111111");new Cn("SysvarS1otHashes111111111111111111111111111");new Cn("SysvarS1otHistory11111111111111111111111111");new Cn("SysvarStakeHistory1111111111111111111111111");const ugt=B.nu64("lamportsPerSignature"),fgt=B.struct([B.u32("version"),B.u32("state"),or("authorizedPubkey"),or("nonce"),B.struct([ugt],"feeCalculator")]);fgt.span;function M0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=Lmt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),or("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),or("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),M0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),or("base"),Ly("seed"),B.ns64("lamports"),B.ns64("space"),or("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),or("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),or("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),or("base"),Ly("seed"),B.ns64("space"),or("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),or("base"),Ly("seed"),or("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),M0("lamports"),Ly("seed"),or("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new Cn("11111111111111111111111111111111");new Cn("BPFLoader2111111111111111111111111111111111");B.struct([B.u32("typeIndex"),M0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(or(),B.offset(B.u8(),-1),"authority")]);const Zi=yi(ua(Cn),ae(),e=>new Cn(e)),xme=fa([ae(),it("base64")]),S9=yi(ua(Te.Buffer),xme,e=>Te.Buffer.from(e[0],"base64"));function kme(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Dr(),message:ae(),data:_e(B_())})})])}const hgt=kme(Dr());function ai(e){return yi(kme(e),hgt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function Yc(e){return ai(re({context:re({slot:H()}),value:e}))}function bE(e){return re({context:re({slot:H()}),value:e})}const pgt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});ai(pe(ge(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(ge(H()))}))));const mgt=pe(re({slot:H(),prioritizationFee:H()})),ggt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),ygt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),vgt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),wgt=Zd(ae(),pe(H())),fg=ge(Ot([re({}),ae()])),bgt=re({err:fg}),_gt=it("receivedSignature");re({"solana-core":ae(),"feature-set":_e(H())});const xgt=re({program:ae(),programId:Zi,parsed:Dr()}),kgt=re({programId:Zi,accounts:pe(Zi),data:ae()});Yc(re({err:ge(Ot([re({}),ae()])),logs:ge(pe(ae())),accounts:_e(ge(pe(ge(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(ge(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Ot([xgt,kgt]))}))))}));Yc(re({byIdentity:Zd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));ai(pgt);ai(ggt);ai(mgt);ai(ygt);ai(vgt);ai(wgt);ai(H());Yc(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Zi)}));const Sgt=re({amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())});Yc(pe(re({address:Zi,amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())})));Yc(pe(re({pubkey:Zi,account:re({executable:kn(),owner:Zi,lamports:H(),data:S9,rentEpoch:H()})})));const E7=re({program:ae(),parsed:Dr(),space:H()});Yc(pe(re({pubkey:Zi,account:re({executable:kn(),owner:Zi,lamports:H(),data:E7,rentEpoch:H()})})));Yc(pe(re({lamports:H(),address:Zi})));const I9=re({executable:kn(),owner:Zi,lamports:H(),data:S9,rentEpoch:H()});re({pubkey:Zi,account:I9});const Igt=yi(Ot([ua(Te.Buffer),E7]),Ot([xme,E7]),e=>Array.isArray(e)?ke(e,S9):e),Egt=re({executable:kn(),owner:Zi,lamports:H(),data:Igt,rentEpoch:H()});re({pubkey:Zi,account:Egt});re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()});ai(pe(re({signature:ae(),slot:H(),err:fg,memo:ge(ae()),blockTime:_e(ge(H()))})));ai(pe(re({signature:ae(),slot:H(),err:fg,memo:ge(ae()),blockTime:_e(ge(H()))})));re({subscription:H(),result:bE(I9)});const Cgt=re({pubkey:Zi,account:I9});re({subscription:H(),result:bE(Cgt)});const Agt=re({parent:H(),slot:H(),root:H()});re({subscription:H(),result:Agt});const Rgt=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]);re({subscription:H(),result:Rgt});re({subscription:H(),result:bE(Ot([bgt,_gt]))});re({subscription:H(),result:H()});re({pubkey:ae(),gossip:ge(ae()),tpu:ge(ae()),rpc:ge(ae()),version:ge(ae())});const rQ=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ge(H())});ai(re({current:pe(rQ),delinquent:pe(rQ)}));const Tgt=Ot([it("processed"),it("confirmed"),it("finalized")]),Ogt=re({slot:H(),confirmations:ge(H()),err:fg,confirmationStatus:_e(Tgt)});Yc(pe(ge(Ogt)));ai(H());const Sme=re({accountKey:Zi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),E9=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Sme))})}),Ime=re({pubkey:Zi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),Eme=re({accountKeys:pe(Ime),signatures:pe(ae())}),Cme=re({parsed:Dr(),program:ae(),programId:Zi}),Ame=re({accounts:pe(Zi),data:ae(),programId:Zi}),Ngt=Ot([Ame,Cme]),Pgt=Ot([re({parsed:Dr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),Rme=yi(Ngt,Pgt,e=>"accounts"in e?ke(e,Ame):ke(e,Cme)),Tme=re({signatures:pe(ae()),message:re({accountKeys:pe(Ime),instructions:pe(Rme),recentBlockhash:ae(),addressTableLookups:_e(ge(pe(Sme)))})}),dI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:Sgt}),Ome=re({writable:pe(Zi),readonly:pe(Zi)}),_E=re({err:fg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(dI))),postTokenBalances:_e(ge(pe(dI))),loadedAddresses:_e(Ome),computeUnitsConsumed:_e(H())}),C9=re({err:fg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Rme)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(dI))),postTokenBalances:_e(ge(pe(dI))),loadedAddresses:_e(Ome),computeUnitsConsumed:_e(H())}),xv=Ot([it(0),it("legacy")]),hg=re({pubkey:ae(),lamports:H(),postBalance:ge(H()),rewardType:ge(ae()),commission:_e(ge(H()))});ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:E9,meta:ge(_E),version:_e(xv)})),rewards:_e(pe(hg)),blockTime:ge(H()),blockHeight:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(hg)),blockTime:ge(H()),blockHeight:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Eme,meta:ge(_E),version:_e(xv)})),rewards:_e(pe(hg)),blockTime:ge(H()),blockHeight:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Tme,meta:ge(C9),version:_e(xv)})),rewards:_e(pe(hg)),blockTime:ge(H()),blockHeight:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Eme,meta:ge(C9),version:_e(xv)})),rewards:_e(pe(hg)),blockTime:ge(H()),blockHeight:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(hg)),blockTime:ge(H()),blockHeight:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:E9,meta:ge(_E)})),rewards:_e(pe(hg)),blockTime:ge(H())})));ai(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:ge(H())})));ai(ge(re({slot:H(),meta:ge(_E),blockTime:_e(ge(H())),transaction:E9,version:_e(xv)})));ai(ge(re({slot:H(),transaction:Tme,meta:ge(C9),blockTime:_e(ge(H())),version:_e(xv)})));Yc(re({blockhash:ae(),lastValidBlockHeight:H()}));Yc(kn());const Bgt=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});ai(pe(Bgt));Yc(ge(re({feeCalculator:re({lamportsPerSignature:H()})})));ai(ae());ai(ae());const Dgt=re({err:fg,logs:pe(ae()),signature:ae()});re({result:bE(Dgt),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),M0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),M0(),B.seq(or(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Cn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),M0("microLamports")])}});new Cn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Cn("Ed25519SigVerify111111111111111111111111111");Qmt.utils.isValidPrivateKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Cn("KeccakSecp256k11111111111111111111111111111");var Nme;new Cn("StakeConfig11111111111111111111111111111111");let Pme=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};Nme=Pme;Pme.default=new Nme(0,0,Cn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),ogt(),sgt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),or("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),or("newAuthorized"),B.u32("stakeAuthorizationType"),Ly("authoritySeed"),or("authorityOwner")])}});new Cn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),agt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),or("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),lgt()])}});new Cn("Vote111111111111111111111111111111111111111");new Cn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Cn("Vote111111111111111111111111111111111111111");B.struct([or("nodePubkey"),or("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),or("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([or("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);var Mgt=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},jgt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},q2;let Cw;const z2=new Set,Uy={};function Bme(){if(Cw||(Cw=Object.freeze({register:iQ,get:$gt,on:Lgt}),typeof window>"u"))return Cw;const e=Object.freeze({register:iQ});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new Ugt(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Cw}function iQ(...e){var t;return e=e.filter(n=>!z2.has(n)),e.length?(e.forEach(n=>z2.add(n)),(t=Uy.register)==null||t.forEach(n=>oQ(()=>n(...e))),function(){var r;e.forEach(i=>z2.delete(i)),(r=Uy.unregister)==null||r.forEach(i=>oQ(()=>i(...e)))}):()=>{}}function $gt(){return[...z2]}function Lgt(e,t){var n;return(n=Uy[e])!=null&&n.push(t)||(Uy[e]=[t]),function(){var i;Uy[e]=(i=Uy[e])==null?void 0:i.filter(o=>t!==o)}}function oQ(e){try{e()}catch(t){console.error(t)}}class Ugt extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),q2.set(this,void 0),Mgt(this,q2,t,"f")}get detail(){return jgt(this,q2,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}q2=new WeakMap;const Fgt=e=>{const{walletStandardLocators:t}=e;if(!t||t.length===0)return;const n=Bme().get();return t.reduce((r,i)=>{if(r)return r;const o=n.find(s=>s.name===i.name);if(o)return Uxe(o,i.locator)},void 0)},Dme=e=>!!e&&e.signature!==void 0;class Wgt{constructor(t){this.walletBookWallet=Fd(t.walletBook,t.key),this.connector=t}getInjectedConfig(){var t;const n=(t=this.walletBookWallet)===null||t===void 0?void 0:t.injectedConfig;return n==null?void 0:n.find(r=>r.chain===this.connector.connectedChain.toLowerCase())}getInstalledProvider(){const t=this.getInjectedConfig();if(!(!t||!t.extensionLocators))return this.installedProviderLookup(t.extensionLocators)}installedProviders(){var t,n;const r=this.getInjectedConfig();if(!r)return[];const i=[];if(r.windowLocations)for(const o of r.windowLocations){const s=hxe(o);s&&s.length&&i.push(...s)}if(r.extensionLocators.length!==0&&window.solana&&(window.solana.providers?window.solana.providers.forEach(o=>i.push(o)):i.push(window.solana)),((n=(t=r.walletStandardLocators)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0){const o=Fgt(r);o&&i.push(o)}return i}installedProviderLookup(t){const n=this.installedProviders();return t.length===0?n[0]:t6e(n,t)}findProvider(){return this.connector.findProvider()}isInstalledHelper(){return this.findProvider()!==void 0}getAddress(){return Ht(this,void 0,void 0,function*(){var t;const n=this.findProvider();if(n)return yield n.connect(),(t=n.publicKey)===null||t===void 0?void 0:t.toString()})}connect(){return Ht(this,void 0,void 0,function*(){const t=this.findProvider();if(!t){Jn.error("No Solanaprovider found to connect",{connector:this.connector.name});return}try{return t.isConnected||(yield t.connect()),t}catch(n){Jn.error("Error connecting to Solanaprovider",{connector:this.connector.name,error:n});return}})}signMessage(t){return Ht(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=this.findProvider();if(!r)return;const i=new TextEncoder().encode(t),o=yield r.signMessage(i,"utf8");if(o)return Oh(Dme(o)?o.signature:o)})}handleAccountChange(t,n,r){return Ht(this,void 0,void 0,function*(){var i;if(!r){yield n==null?void 0:n.connect(),!((i=n==null?void 0:n.publicKey)===null||i===void 0)&&i.toString()&&t.emit("accountChange",{accounts:[n.publicKey.toString()]});return}r.toString()&&t.emit("accountChange",{accounts:[r.toString()]})})}_setupEventListeners(){const t=this.findProvider();if(!t){Jn.warn("Provider not found",{connector:this.connector});return}if(!t.on){Jn.warn("Provider does not support event listeners",{connector:this.connector,provider:t});return}t.on("accountChanged",n=>this.handleAccountChange(this.connector,t,n)),t.on("disconnect",()=>this.connector.emit("disconnect"))}_teardownEventListeners(){const t=this.findProvider();t&&t.removeAllListeners()}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){var t,n;const r=this.findProvider();if(!r)return[];let i;try{r.isConnected||(i=yield r.connect({onlyIfTrusted:!0}))}catch{return[]}const o=i==null?void 0:i.address;if(o)return[o];try{const s=(t=i==null?void 0:i.publicKey)!==null&&t!==void 0?t:(n=r.publicKey)===null||n===void 0?void 0:n.toString();if(s)return[s==null?void 0:s.toString()]}catch(s){Jn.debug("Error getting public key",{connector:this.connector,error:s})}return[]})}}class qgt extends toe{constructor(t){super(`Message signing is currently not supported on ${t} hardware wallet.
    You can use signMessageViaTransaction instead to achieve similar functionality
    by signing a transaction with a memo instruction.
    You can read more about it here https://github.com/solana-labs/solana/issues/21366`)}}const Ct=new gi("solana");var sQ=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},zgt=(function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e})(),Vgt=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e})(),Kgt=(function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e})(),Hgt=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),Ggt=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),Jgt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Zgt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,aQ=3,Ygt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Jgt]],lQ=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Xgt(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Ggt:typeof navigator<"u"?eyt(navigator.userAgent):nyt()}function Qgt(e){return e!==""&&Ygt.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function eyt(e){var t=Qgt(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new Hgt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<aQ&&(i=sQ(sQ([],i,!0),ryt(aQ-i.length),!0)):i=[];var o=i.join("."),s=tyt(e),a=Zgt.exec(e);return a&&a[1]?new Kgt(n,o,s,a[1]):new zgt(n,o,s)}function tyt(e){for(var t=0,n=lQ.length;t<n;t++){var r=lQ[t],i=r[0],o=r[1],s=o.exec(e);if(s)return i}return null}function nyt(){var e=typeof process<"u"&&process.version;return e?new Vgt(process.version.slice(1)):null}function ryt(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var g8={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C7=function(e,t){return C7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},C7(e,t)};function iyt(e,t){C7(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var A7=function(){return A7=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},A7.apply(this,arguments)};function oyt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function syt(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function ayt(e,t){return function(n,r){t(n,r,e)}}function lyt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function cyt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function dyt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function uyt(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function fyt(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function R7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mme(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function hyt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mme(arguments[t]));return e}function pyt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function C1(e){return this instanceof C1?(this.v=e,this):new C1(e)}function myt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(v,g){o.push([h,m,v,g])>1||a(h,m)})})}function a(h,m){try{l(r[h](m))}catch(v){u(o[0][3],v)}}function l(h){h.value instanceof C1?Promise.resolve(h.value.v).then(c,d):u(o[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function gyt(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:C1(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function yyt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof R7=="function"?R7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function vyt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function wyt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function byt(e){return e&&e.__esModule?e:{default:e}}function _yt(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function xyt(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const kyt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return A7},__asyncDelegator:gyt,__asyncGenerator:myt,__asyncValues:yyt,__await:C1,__awaiter:cyt,__classPrivateFieldGet:_yt,__classPrivateFieldSet:xyt,__createBinding:uyt,__decorate:syt,__exportStar:fyt,__extends:iyt,__generator:dyt,__importDefault:byt,__importStar:wyt,__makeTemplateObject:vyt,__metadata:lyt,__param:ayt,__read:Mme,__rest:oyt,__spread:hyt,__spreadArrays:pyt,__values:R7},Symbol.toStringTag,{value:"Module"})),xE=K1(kyt);var y8={},Aw={},cQ;function Syt(){if(cQ)return Aw;cQ=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Aw.delay=e,Aw}var Ip={},v8={},Ep={},dQ;function Iyt(){return dQ||(dQ=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.ONE_THOUSAND=Ep.ONE_HUNDRED=void 0,Ep.ONE_HUNDRED=100,Ep.ONE_THOUSAND=1e3),Ep}var w8={},uQ;function Eyt(){return uQ||(uQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365})(w8)),w8}var fQ;function jme(){return fQ||(fQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=xE;t.__exportStar(Iyt(),e),t.__exportStar(Eyt(),e)})(v8)),v8}var hQ;function Cyt(){if(hQ)return Ip;hQ=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.fromMiliseconds=Ip.toMiliseconds=void 0;const e=jme();function t(r){return r*e.ONE_THOUSAND}Ip.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Ip.fromMiliseconds=n,Ip}var pQ;function Ayt(){return pQ||(pQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=xE;t.__exportStar(Syt(),e),t.__exportStar(Cyt(),e)})(y8)),y8}var iy={},mQ;function Ryt(){if(mQ)return iy;mQ=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return iy.Watch=e,iy.default=e,iy}var b8={},Rw={},gQ;function Tyt(){if(gQ)return Rw;gQ=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.IWatch=void 0;class e{}return Rw.IWatch=e,Rw}var yQ;function Oyt(){return yQ||(yQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),xE.__exportStar(Tyt(),e)})(b8)),b8}var vQ;function Nyt(){return vQ||(vQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=xE;t.__exportStar(Ayt(),e),t.__exportStar(Ryt(),e),t.__exportStar(Oyt(),e),t.__exportStar(jme(),e)})(g8)),g8}var It=Nyt(),zr={},wQ;function $me(){if(wQ)return zr;wQ=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.getLocalStorage=zr.getLocalStorageOrThrow=zr.getCrypto=zr.getCryptoOrThrow=zr.getLocation=zr.getLocationOrThrow=zr.getNavigator=zr.getNavigatorOrThrow=zr.getDocument=zr.getDocumentOrThrow=zr.getFromWindowOrThrow=zr.getFromWindow=void 0;function e(h){let m;return typeof window<"u"&&typeof window[h]<"u"&&(m=window[h]),m}zr.getFromWindow=e;function t(h){const m=e(h);if(!m)throw new Error(`${h} is not defined in Window`);return m}zr.getFromWindowOrThrow=t;function n(){return t("document")}zr.getDocumentOrThrow=n;function r(){return e("document")}zr.getDocument=r;function i(){return t("navigator")}zr.getNavigatorOrThrow=i;function o(){return e("navigator")}zr.getNavigator=o;function s(){return t("location")}zr.getLocationOrThrow=s;function a(){return e("location")}zr.getLocation=a;function l(){return t("crypto")}zr.getCryptoOrThrow=l;function c(){return e("crypto")}zr.getCrypto=c;function d(){return t("localStorage")}zr.getLocalStorageOrThrow=d;function u(){return e("localStorage")}return zr.getLocalStorage=u,zr}var Gu=$me(),Tw={},bQ;function Pyt(){if(bQ)return Tw;bQ=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.getWindowMetadata=void 0;const e=$me();function t(){let n,r;try{n=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function i(){const m=n.getElementsByTagName("link"),v=[];for(let g=0;g<m.length;g++){const y=m[g],b=y.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const k=y.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let _=r.protocol+"//"+r.host;if(k.indexOf("/")===0)_+=k;else{const R=r.pathname.split("/");R.pop();const I=R.join("/");_+=I+"/"+k}v.push(_)}else if(k.indexOf("//")===0){const _=r.protocol+k;v.push(_)}else v.push(k)}}return v}function o(...m){const v=n.getElementsByTagName("meta");for(let g=0;g<v.length;g++){const y=v[g],b=["itemprop","property","name"].map(k=>y.getAttribute(k)).filter(k=>k?m.includes(k):!1);if(b.length&&b){const k=y.getAttribute("content");if(k)return k}}return""}function s(){let m=o("name","og:site_name","og:title","twitter:title");return m||(m=n.title),m}function a(){return o("description","og:description","twitter:description","keywords")}const l=s(),c=a(),d=r.origin,u=i();return{description:c,url:d,icons:u,name:l}}return Tw.getWindowMetadata=t,Tw}var Byt=Pyt();function Lme(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<e.length;c++){const d=e.charAt(c),u=d.charCodeAt(0);if(t[u]!==255)throw new TypeError(d+" is ambiguous");t[u]=c}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function s(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,u=0,h=0;const m=c.length;for(;h!==m&&c[h]===0;)h++,d++;const v=(m-h)*o+1>>>0,g=new Uint8Array(v);for(;h!==m;){let k=c[h],_=0;for(let R=v-1;(k!==0||_<u)&&R!==-1;R--,_++)k+=256*g[R]>>>0,g[R]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");u=_,h++}let y=v-u;for(;y!==v&&g[y]===0;)y++;let b=r.repeat(d);for(;y<v;++y)b+=e.charAt(g[y]);return b}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,u=0,h=0;for(;c[d]===r;)u++,d++;const m=(c.length-d)*i+1>>>0,v=new Uint8Array(m);for(;d<c.length;){const k=c.charCodeAt(d);if(k>255)return;let _=t[k];if(_===255)return;let R=0;for(let I=m-1;(_!==0||R<h)&&I!==-1;I--,R++)_+=n*v[I]>>>0,v[I]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");h=R,d++}let g=m-h;for(;g!==m&&v[g]===0;)g++;const y=new Uint8Array(u+(m-g));let b=u;for(;g!==m;)y[b++]=v[g++];return y}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:a,decode:l}}var Dyt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Lme(Dyt);function Myt(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<t){const o=e.charCodeAt(r);(o&64512)===56320&&(++r,i=((i&1023)<<10)+(o&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function jyt(e,t,n){const r=e.length;let i=n,o=0;for(;o<r;){let s=e.charCodeAt(o++);if((s&4294967168)===0){t[i++]=s;continue}else if((s&4294965248)===0)t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<r){const a=e.charCodeAt(o);(a&64512)===56320&&(++o,s=((s&1023)<<10)+(a&1023)+65536)}(s&4294901760)===0?(t[i++]=s>>12&15|224,t[i++]=s>>6&63|128):(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128)}t[i++]=s&63|128}}const $yt=new TextEncoder,Lyt=50;function Uyt(e,t,n){$yt.encodeInto(e,t.subarray(n))}function Fyt(e,t,n){e.length>Lyt?Uyt(e,t,n):jyt(e,t,n)}const Wyt=4096;function Ume(e,t,n){let r=t;const i=r+n,o=[];let s="";for(;r<i;){const a=e[r++];if((a&128)===0)o.push(a);else if((a&224)===192){const l=e[r++]&63;o.push((a&31)<<6|l)}else if((a&240)===224){const l=e[r++]&63,c=e[r++]&63;o.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=e[r++]&63,c=e[r++]&63,d=e[r++]&63;let u=(a&7)<<18|l<<12|c<<6|d;u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|u&1023),o.push(u)}else o.push(a);o.length>=Wyt&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s}const qyt=new TextDecoder,zyt=200;function Vyt(e,t,n){const r=e.subarray(t,t+n);return qyt.decode(r)}function Kyt(e,t,n){return n>zyt?Vyt(e,t,n):Ume(e,t,n)}class qk{constructor(t,n){this.type=t,this.data=n}}class rl extends Error{constructor(t){super(t);const n=Object.create(rl.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:rl.name})}}const Ow=4294967295;function Hyt(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Fme(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Wme(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function Gyt(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const Jyt=-1,Zyt=4294967296-1,Yyt=17179869184-1;function Xyt({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=Yyt)if(t===0&&e<=Zyt){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,t<<2|n&3),o.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),Fme(r,4,e),n}}function Qyt(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function e0t(e){if(e instanceof Date){const t=Qyt(e);return Xyt(t)}else return null}function t0t(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),i=(n&3)*4294967296+r,o=n>>>2;return{sec:i,nsec:o}}case 12:{const n=Wme(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new rl(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function n0t(e){const t=t0t(e);return new Date(t.sec*1e3+t.nsec/1e6)}const r0t={type:Jyt,encode:e0t,decode:n0t};class uI{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(r0t)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const i=-1-t;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const o=i(t,n);if(o!=null){const s=-1-r;return new qk(s,o)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const o=i(t,n);if(o!=null){const s=r;return new qk(s,o)}}}return t instanceof qk?t:null}decode(t,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(t,n,r):new qk(n,t)}}uI.defaultCodec=new uI;function i0t(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function T7(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):i0t(e)?new Uint8Array(e):Uint8Array.from(e)}const o0t=100,s0t=2048;let a0t=class qme{constructor(t){this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??uI.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.maxDepth=(t==null?void 0:t.maxDepth)??o0t,this.initialBufferSize=(t==null?void 0:t.initialBufferSize)??s0t,this.sortKeys=(t==null?void 0:t.sortKeys)??!1,this.forceFloat32=(t==null?void 0:t.forceFloat32)??!1,this.ignoreUndefined=(t==null?void 0:t.ignoreUndefined)??!1,this.forceIntegerToFloat=(t==null?void 0:t.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new qme({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=Myt(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Fyt(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=T7(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of t)this.doEncode(i,n+1)}countWithoutUndefined(t,n){let r=0;for(const i of n)t[i]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const o of r){const s=t[o];this.ignoreUndefined&&s===void 0||(this.encodeString(o),this.doEncode(s,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),Hyt(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),Fme(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function l0t(e,t){return new a0t(t).encodeSharedRef(e)}function _8(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const c0t=16,d0t=16;class u0t{constructor(t=c0t,n=d0t){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const i=this.caches[r-1];e:for(const o of i){const s=o.bytes;for(let a=0;a<r;a++)if(s[a]!==t[n+a])continue e;return o.str}return null}store(t,n){const r=this.caches[t.length-1],i={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(t,n,r){const i=this.find(t,n,r);if(i!=null)return this.hit++,i;this.miss++;const o=Ume(t,n,r),s=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(s,o),o}}const O7="array",Sb="map_key",zme="map_value",f0t=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new rl("The type of key must be string or number but "+typeof e)};class h0t{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=O7,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=Sb,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===O7){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===Sb||t.type===zme){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Nw=-1,A9=new DataView(new ArrayBuffer(0)),p0t=new Uint8Array(A9.buffer);try{A9.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const _Q=new RangeError("Insufficient data"),m0t=new u0t;let g0t=class Vme{constructor(t){this.totalPos=0,this.pos=0,this.view=A9,this.bytes=p0t,this.headByte=Nw,this.stack=new h0t,this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??uI.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.rawStrings=(t==null?void 0:t.rawStrings)??!1,this.maxStrLength=(t==null?void 0:t.maxStrLength)??Ow,this.maxBinLength=(t==null?void 0:t.maxBinLength)??Ow,this.maxArrayLength=(t==null?void 0:t.maxArrayLength)??Ow,this.maxMapLength=(t==null?void 0:t.maxMapLength)??Ow,this.maxExtLength=(t==null?void 0:t.maxExtLength)??Ow,this.keyDecoder=(t==null?void 0:t.keyDecoder)!==void 0?t.keyDecoder:m0t,this.mapKeyConverter=(t==null?void 0:t.mapKeyConverter)??f0t}clone(){return new Vme({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Nw,this.stack.reset()}setBuffer(t){const n=T7(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===Nw&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=T7(t),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const a of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:o,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${_8(i)} at ${s} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,i=-1;for await(const o of t){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const i=t-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t<160){const i=t-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=t-160;n=this.decodeString(i,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(t===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(t===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(t===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(t===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(t===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(t===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(t===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(t===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(t===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new rl(`Unrecognized type byte: ${_8(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===O7)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===Sb){if(n==="__proto__")throw new rl("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=zme;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=Sb;continue e}}return n}}readHeadByte(){return this.headByte===Nw&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Nw}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new rl(`Unrecognized array type byte: ${_8(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new rl(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new rl(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){var o;if(t>this.maxStrLength)throw new rl(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw _Q;const r=this.pos+n;let i;return this.stateIsMapKey()&&((o=this.keyDecoder)!=null&&o.canBeCached(t))?i=this.keyDecoder.decode(this.bytes,r,t):i=Kyt(this.bytes,r,t),this.pos+=n+t,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Sb:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new rl(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw _Q;const r=this.pos+n,i=this.bytes.subarray(r,r+t);return this.pos+=n+t,i}decodeExtension(t,n){if(t>this.maxExtLength)throw new rl(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(t,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=Gyt(this.view,this.pos);return this.pos+=8,t}readI64(){const t=Wme(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function y0t(e,t){return new g0t(t).decode(e)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function v0t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Kme(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function fI(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function R9(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function N7(e){if(!Array.isArray(e))throw new Error("array expected")}function hI(e,t){if(!Kme(!0,t))throw new Error(`${e}: array of strings expected`)}function w0t(e,t){if(!Kme(!1,t))throw new Error(`${e}: array of numbers expected`)}function b0t(...e){const t=o=>o,n=(o,s)=>a=>o(s(a)),r=e.map(o=>o.encode).reduceRight(n,t),i=e.map(o=>o.decode).reduce(n,t);return{encode:r,decode:i}}function _0t(e){const t=typeof e=="string"?e.split(""):e,n=t.length;hI("alphabet",t);const r=new Map(t.map((i,o)=>[i,o]));return{encode:i=>(N7(i),i.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:i=>(N7(i),i.map(o=>{fI("alphabet.decode",o);const s=r.get(o);if(s===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return s}))}}function x0t(e=""){return fI("join",e),{encode:t=>(hI("join.decode",t),t.join(e)),decode:t=>(fI("join.decode",t),t.split(e))}}function k0t(e,t="="){return R9(e),fI("padding",t),{encode(n){for(hI("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){hI("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const Hme=(e,t)=>t===0?e:Hme(t,e%t),pI=(e,t)=>e+(t-Hme(e,t)),x8=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function xQ(e,t,n,r){if(N7(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(pI(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${pI(t,n)}`);let i=0,o=0;const s=x8[t],a=x8[n]-1,l=[];for(const c of e){if(R9(c),c>=s)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)l.push((i>>o-n&a)>>>0);const d=x8[o];if(d===void 0)throw new Error("invalid carry");i&=d-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&l.push(i>>>0),l}function S0t(e,t=!1){if(R9(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(pI(8,e)>32||pI(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!v0t(n))throw new Error("radix2.encode input should be Uint8Array");return xQ(Array.from(n),8,e,!t)},decode:n=>(w0t("radix2.decode",n),Uint8Array.from(xQ(n,e,8,t)))}}const I0t=b0t(S0t(5),_0t("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),k0t(5),x0t("")),E0t=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),C0t=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function j0(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return C0t(e)}catch{return e}}function Bm(e){return typeof e=="string"?e:E0t(e)||""}function A0t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gme(e,...t){if(!A0t(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function kQ(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function R0t(e,t){Gme(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const oy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k8=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function T0t(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Jme(e){return typeof e=="string"&&(e=T0t(e)),Gme(e),e}let O0t=class{clone(){return this._cloneInto()}};function N0t(e){const t=r=>e().update(Jme(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Zme(e=32){if(oy&&typeof oy.getRandomValues=="function")return oy.getRandomValues(new Uint8Array(e));if(oy&&typeof oy.randomBytes=="function")return oy.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function P0t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}let B0t=class extends O0t{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=k8(this.buffer)}update(t){kQ(this);const{view:n,buffer:r,blockLen:i}=this;t=Jme(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=k8(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){kQ(this),R0t(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;P0t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=k8(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const zk=BigInt(2**32-1),P7=BigInt(32);function Yme(e,t=!1){return t?{h:Number(e&zk),l:Number(e>>P7&zk)}:{h:Number(e>>P7&zk)|0,l:Number(e&zk)|0}}function D0t(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Yme(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const M0t=(e,t)=>BigInt(e>>>0)<<P7|BigInt(t>>>0),j0t=(e,t,n)=>e>>>n,$0t=(e,t,n)=>e<<32-n|t>>>n,L0t=(e,t,n)=>e>>>n|t<<32-n,U0t=(e,t,n)=>e<<32-n|t>>>n,F0t=(e,t,n)=>e<<64-n|t>>>n-32,W0t=(e,t,n)=>e>>>n-32|t<<64-n,q0t=(e,t)=>t,z0t=(e,t)=>e,V0t=(e,t,n)=>e<<n|t>>>32-n,K0t=(e,t,n)=>t<<n|e>>>32-n,H0t=(e,t,n)=>t<<n-32|e>>>64-n,G0t=(e,t,n)=>e<<n-32|t>>>64-n;function J0t(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Z0t=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Y0t=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,X0t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Q0t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,evt=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),tvt=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,qn={fromBig:Yme,split:D0t,toBig:M0t,shrSH:j0t,shrSL:$0t,rotrSH:L0t,rotrSL:U0t,rotrBH:F0t,rotrBL:W0t,rotr32H:q0t,rotr32L:z0t,rotlSH:V0t,rotlSL:K0t,rotlBH:H0t,rotlBL:G0t,add:J0t,add3L:Z0t,add3H:Y0t,add4L:X0t,add4H:Q0t,add5H:tvt,add5L:evt},[nvt,rvt]=qn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Lf=new Uint32Array(80),Uf=new Uint32Array(80);let ivt=class extends B0t{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let _=0;_<16;_++,n+=4)Lf[_]=t.getUint32(n),Uf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Lf[_-15]|0,I=Uf[_-15]|0,T=qn.rotrSH(R,I,1)^qn.rotrSH(R,I,8)^qn.shrSH(R,I,7),M=qn.rotrSL(R,I,1)^qn.rotrSL(R,I,8)^qn.shrSL(R,I,7),D=Lf[_-2]|0,A=Uf[_-2]|0,U=qn.rotrSH(D,A,19)^qn.rotrBH(D,A,61)^qn.shrSH(D,A,6),$=qn.rotrSL(D,A,19)^qn.rotrBL(D,A,61)^qn.shrSL(D,A,6),q=qn.add4L(M,$,Uf[_-7],Uf[_-16]),z=qn.add4H(q,T,U,Lf[_-7],Lf[_-16]);Lf[_]=z|0,Uf[_]=q|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=qn.rotrSH(u,h,14)^qn.rotrSH(u,h,18)^qn.rotrBH(u,h,41),I=qn.rotrSL(u,h,14)^qn.rotrSL(u,h,18)^qn.rotrBL(u,h,41),T=u&m^~u&g,M=h&v^~h&y,D=qn.add5L(k,I,M,rvt[_],Uf[_]),A=qn.add5H(D,b,R,T,nvt[_],Lf[_]),U=D|0,$=qn.rotrSH(r,i,28)^qn.rotrBH(r,i,34)^qn.rotrBH(r,i,39),q=qn.rotrSL(r,i,28)^qn.rotrBL(r,i,34)^qn.rotrBL(r,i,39),z=r&o^r&a^o&a,S=i&s^i&l^s&l;b=g|0,k=y|0,g=m|0,y=v|0,m=u|0,v=h|0,{h:u,l:h}=qn.add(c|0,d|0,A|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=qn.add3L(U,q,S);r=qn.add3H(E,A,$,z),i=E|0}({h:r,l:i}=qn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=qn.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=qn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=qn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=qn.add(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=qn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=qn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:b,l:k}=qn.add(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k)}roundClean(){Lf.fill(0),Uf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const ovt=N0t(()=>new ivt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T9=BigInt(0),Xme=BigInt(1),svt=BigInt(2);function O9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function N9(e){if(!O9(e))throw new Error("Uint8Array expected")}function S8(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const avt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function P9(e){N9(e);let t="";for(let n=0;n<e.length;n++)t+=avt[e[n]];return t}function Qme(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?T9:BigInt("0x"+e)}const uu={_0:48,_9:57,A:65,F:70,a:97,f:102};function SQ(e){if(e>=uu._0&&e<=uu._9)return e-uu._0;if(e>=uu.A&&e<=uu.F)return e-(uu.A-10);if(e>=uu.a&&e<=uu.f)return e-(uu.a-10)}function ege(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=SQ(e.charCodeAt(o)),a=SQ(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function lvt(e){return Qme(P9(e))}function V2(e){return N9(e),Qme(P9(Uint8Array.from(e).reverse()))}function tge(e,t){return ege(e.toString(16).padStart(t*2,"0"))}function B7(e,t){return tge(e,t).reverse()}function fu(e,t,n){let r;if(typeof t=="string")try{r=ege(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(O9(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function IQ(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];N9(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}const I8=e=>typeof e=="bigint"&&T9<=e;function cvt(e,t,n){return I8(e)&&I8(t)&&I8(n)&&t<=e&&e<n}function Pw(e,t,n,r){if(!cvt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function dvt(e){let t;for(t=0;e>T9;e>>=Xme,t+=1);return t}const uvt=e=>(svt<<BigInt(e-1))-Xme,fvt={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||O9(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function B9(e,t,n={}){const r=(i,o,s)=>{const a=fvt[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+l)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function EQ(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const Ho=BigInt(0),oo=BigInt(1),qp=BigInt(2),hvt=BigInt(3),D7=BigInt(4),CQ=BigInt(5),AQ=BigInt(8);function Co(e,t){const n=e%t;return n>=Ho?n:t+n}function pvt(e,t,n){if(t<Ho)throw new Error("invalid exponent, negatives unsupported");if(n<=Ho)throw new Error("invalid modulus");if(n===oo)return Ho;let r=oo;for(;t>Ho;)t&oo&&(r=r*e%n),e=e*e%n,t>>=oo;return r}function dd(e,t,n){let r=e;for(;t-- >Ho;)r*=r,r%=n;return r}function RQ(e,t){if(e===Ho)throw new Error("invert: expected non-zero number");if(t<=Ho)throw new Error("invert: expected positive modulus, got "+t);let n=Co(e,t),r=t,i=Ho,o=oo;for(;n!==Ho;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==oo)throw new Error("invert: does not exist");return Co(i,t)}function mvt(e){const t=(e-oo)/qp;let n,r,i;for(n=e-oo,r=0;n%qp===Ho;n/=qp,r++);for(i=qp;i<e&&pvt(i,t,e)!==e-oo;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+oo)/D7;return function(a,l){const c=a.pow(l,s);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const o=(n+oo)/qp;return function(s,a){if(s.pow(a,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,c=s.pow(s.mul(s.ONE,i),n),d=s.pow(a,o),u=s.pow(a,n);for(;!s.eql(u,s.ONE);){if(s.eql(u,s.ZERO))return s.ZERO;let h=1;for(let v=s.sqr(u);h<l&&!s.eql(v,s.ONE);h++)v=s.sqr(v);const m=s.pow(c,oo<<BigInt(l-h-1));c=s.sqr(m),d=s.mul(d,m),u=s.mul(u,c),l=h}return d}}function gvt(e){if(e%D7===hvt){const t=(e+oo)/D7;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%AQ===CQ){const t=(e-CQ)/AQ;return function(n,r){const i=n.mul(r,qp),o=n.pow(i,t),s=n.mul(r,o),a=n.mul(n.mul(s,qp),o),l=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return mvt(e)}const yvt=(e,t)=>(Co(e,t)&oo)===oo,vvt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wvt(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=vvt.reduce((r,i)=>(r[i]="function",r),t);return B9(e,n)}function bvt(e,t,n){if(n<Ho)throw new Error("invalid exponent, negatives unsupported");if(n===Ho)return e.ONE;if(n===oo)return t;let r=e.ONE,i=t;for(;n>Ho;)n&oo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=oo;return r}function _vt(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function nge(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function rge(e,t,n=!1,r={}){if(e<=Ho)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=nge(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:uvt(i),ZERO:Ho,ONE:oo,create:l=>Co(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ho<=l&&l<e},is0:l=>l===Ho,isOdd:l=>(l&oo)===oo,neg:l=>Co(-l,e),eql:(l,c)=>l===c,sqr:l=>Co(l*l,e),add:(l,c)=>Co(l+c,e),sub:(l,c)=>Co(l-c,e),mul:(l,c)=>Co(l*c,e),pow:(l,c)=>bvt(a,l,c),div:(l,c)=>Co(l*RQ(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>RQ(l,e),sqrt:r.sqrt||(l=>(s||(s=gvt(e)),s(a,l))),invertBatch:l=>_vt(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?B7(l,o):tge(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?V2(l):lvt(l)}});return Object.freeze(a)}const TQ=BigInt(0),Vk=BigInt(1);function E8(e,t){const n=t.negate();return e?n:t}function ige(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function C8(e,t){ige(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function xvt(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function kvt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const A8=new WeakMap,oge=new WeakMap;function R8(e){return oge.get(e)||1}function Svt(e,t){return{constTimeNegate:E8,hasPrecomputes(n){return R8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>TQ;)r&Vk&&(i=i.add(o)),o=o.double(),r>>=Vk;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=C8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){const{windows:o,windowSize:s}=C8(n,t);let a=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),d=2**n,u=BigInt(n);for(let h=0;h<o;h++){const m=h*s;let v=Number(i&c);i>>=u,v>s&&(v-=d,i+=Vk);const g=m,y=m+Math.abs(v)-1,b=h%2!==0,k=v<0;v===0?l=l.add(E8(b,r[g])):a=a.add(E8(k,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=C8(n,t),l=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let u=0;u<s;u++){const h=u*a;if(i===TQ)break;let m=Number(i&l);if(i>>=d,m>a&&(m-=c,i+=Vk),m===0)continue;let v=r[h+Math.abs(m)-1];m<0&&(v=v.negate()),o=o.add(v)}return o},getPrecomputes(n,r,i){let o=A8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&A8.set(r,i(o))),o},wNAFCached(n,r,i){const o=R8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=R8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){ige(r,t),oge.set(n,r),A8.delete(n)}}}function Ivt(e,t,n,r){if(xvt(n,e),kvt(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=dvt(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=new Array(a+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let d=i;for(let u=c;u>=0;u-=s){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],g=Number(v>>BigInt(u)&BigInt(a));l[g]=l[g].add(n[m])}let h=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),h=h.add(v);if(d=d.add(h),u!==0)for(let m=0;m<s;m++)d=d.double()}return d}function Evt(e){return wvt(e.Fp),B9(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nge(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const kc=BigInt(0),_a=BigInt(1),Kk=BigInt(2),Cvt=BigInt(8),Avt={zip215:!0};function Rvt(e){const t=Evt(e);return B9(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Tvt(e){const t=Rvt(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=Kk<<BigInt(a*8)-_a,d=n.create,u=rge(t.n,t.nBitLength),h=t.uvRatio||((E,N)=>{try{return{isValid:!0,value:n.sqrt(E*n.inv(N))}}catch{return{isValid:!1,value:kc}}}),m=t.adjustScalarBytes||(E=>E),v=t.domain||((E,N,P)=>{if(S8("phflag",P),N.length||P)throw new Error("Contexts/pre-hash are not supported");return E});function g(E,N){Pw("coordinate "+E,N,kc,c)}function y(E){if(!(E instanceof _))throw new Error("ExtendedPoint expected")}const b=EQ((E,N)=>{const{ex:P,ey:j,ez:V}=E,K=E.is0();N==null&&(N=K?Cvt:n.inv(V));const F=d(P*N),O=d(j*N),W=d(V*N);if(K)return{x:kc,y:_a};if(W!==_a)throw new Error("invZ was invalid");return{x:F,y:O}}),k=EQ(E=>{const{a:N,d:P}=t;if(E.is0())throw new Error("bad point: ZERO");const{ex:j,ey:V,ez:K,et:F}=E,O=d(j*j),W=d(V*V),G=d(K*K),Y=d(G*G),ie=d(O*N),ye=d(G*d(ie+W)),me=d(Y+d(P*d(O*W)));if(ye!==me)throw new Error("bad point: equation left != right (1)");const be=d(j*V),Me=d(K*F);if(be!==Me)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(N,P,j,V){this.ex=N,this.ey=P,this.ez=j,this.et=V,g("x",N),g("y",P),g("z",j),g("t",V),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof _)throw new Error("extended point not allowed");const{x:P,y:j}=N||{};return g("x",P),g("y",j),new _(P,j,_a,d(P*j))}static normalizeZ(N){const P=n.invertBatch(N.map(j=>j.ez));return N.map((j,V)=>j.toAffine(P[V])).map(_.fromAffine)}static msm(N,P){return Ivt(_,u,N,P)}_setWindowSize(N){T.setWindowSize(this,N)}assertValidity(){k(this)}equals(N){y(N);const{ex:P,ey:j,ez:V}=this,{ex:K,ey:F,ez:O}=N,W=d(P*O),G=d(K*V),Y=d(j*O),ie=d(F*V);return W===G&&Y===ie}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:N}=t,{ex:P,ey:j,ez:V}=this,K=d(P*P),F=d(j*j),O=d(Kk*d(V*V)),W=d(N*K),G=P+j,Y=d(d(G*G)-K-F),ie=W+F,ye=ie-O,me=W-F,be=d(Y*ye),Me=d(ie*me),Fe=d(Y*me),De=d(ye*ie);return new _(be,Me,De,Fe)}add(N){y(N);const{a:P,d:j}=t,{ex:V,ey:K,ez:F,et:O}=this,{ex:W,ey:G,ez:Y,et:ie}=N;if(P===BigInt(-1)){const rn=d((K-V)*(G+W)),Re=d((K+V)*(G-W)),Ze=d(Re-rn);if(Ze===kc)return this.double();const ct=d(F*Kk*ie),st=d(O*Kk*Y),vt=st+ct,$t=Re+rn,zt=st-ct,ce=d(vt*Ze),X=d($t*zt),ee=d(vt*zt),we=d(Ze*$t);return new _(ce,X,we,ee)}const ye=d(V*W),me=d(K*G),be=d(O*j*ie),Me=d(F*Y),Fe=d((V+K)*(W+G)-ye-me),De=Me-be,gt=Me+be,tt=d(me-P*ye),dt=d(Fe*De),Qt=d(gt*tt),lt=d(Fe*tt),jt=d(De*gt);return new _(dt,Qt,jt,lt)}subtract(N){return this.add(N.negate())}wNAF(N){return T.wNAFCached(this,N,_.normalizeZ)}multiply(N){const P=N;Pw("scalar",P,_a,r);const{p:j,f:V}=this.wNAF(P);return _.normalizeZ([j,V])[0]}multiplyUnsafe(N,P=_.ZERO){const j=N;return Pw("scalar",j,kc,r),j===kc?I:this.is0()||j===_a?this:T.wNAFCachedUnsafe(this,j,_.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(N){return b(this,N)}clearCofactor(){const{h:N}=t;return N===_a?this:this.multiplyUnsafe(N)}static fromHex(N,P=!1){const{d:j,a:V}=t,K=n.BYTES;N=fu("pointHex",N,K),S8("zip215",P);const F=N.slice(),O=N[K-1];F[K-1]=O&-129;const W=V2(F),G=P?c:n.ORDER;Pw("pointHex.y",W,kc,G);const Y=d(W*W),ie=d(Y-_a),ye=d(j*Y-V);let{isValid:me,value:be}=h(ie,ye);if(!me)throw new Error("Point.fromHex: invalid y coordinate");const Me=(be&_a)===_a,Fe=(O&128)!==0;if(!P&&be===kc&&Fe)throw new Error("Point.fromHex: x=0 and x_0=1");return Fe!==Me&&(be=d(-be)),_.fromAffine({x:be,y:W})}static fromPrivateKey(N){return A(N).point}toRawBytes(){const{x:N,y:P}=this.toAffine(),j=B7(P,n.BYTES);return j[j.length-1]|=N&_a?128:0,j}toHex(){return P9(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,_a,d(t.Gx*t.Gy)),_.ZERO=new _(kc,_a,_a,kc);const{BASE:R,ZERO:I}=_,T=Svt(_,a*8);function M(E){return Co(E,r)}function D(E){return M(V2(E))}function A(E){const N=n.BYTES;E=fu("private key",E,N);const P=fu("hashed private key",o(E),2*N),j=m(P.slice(0,N)),V=P.slice(N,2*N),K=D(j),F=R.multiply(K),O=F.toRawBytes();return{head:j,prefix:V,scalar:K,point:F,pointBytes:O}}function U(E){return A(E).pointBytes}function $(E=new Uint8Array,...N){const P=IQ(...N);return D(o(v(P,fu("context",E),!!i)))}function q(E,N,P={}){E=fu("message",E),i&&(E=i(E));const{prefix:j,scalar:V,pointBytes:K}=A(N),F=$(P.context,j,E),O=R.multiply(F).toRawBytes(),W=$(P.context,O,K,E),G=M(F+W*V);Pw("signature.s",G,kc,r);const Y=IQ(O,B7(G,n.BYTES));return fu("result",Y,n.BYTES*2)}const z=Avt;function S(E,N,P,j=z){const{context:V,zip215:K}=j,F=n.BYTES;E=fu("signature",E,2*F),N=fu("message",N),P=fu("publicKey",P,F),K!==void 0&&S8("zip215",K),i&&(N=i(N));const O=V2(E.slice(F,2*F));let W,G,Y;try{W=_.fromHex(P,K),G=_.fromHex(E.slice(0,F),K),Y=R.multiplyUnsafe(O)}catch{return!1}if(!K&&W.isSmallOrder())return!1;const ie=$(V,G.toRawBytes(),W.toRawBytes(),N);return G.add(W.multiplyUnsafe(ie)).subtract(Y).clearCofactor().equals(_.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:U,sign:q,verify:S,ExtendedPoint:_,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>s(n.BYTES),precompute(E=8,N=_.BASE){return N._setWindowSize(E),N.multiply(BigInt(3)),N}}}}BigInt(0),BigInt(1);const D9=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),OQ=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ovt=BigInt(1),NQ=BigInt(2);BigInt(3);const Nvt=BigInt(5),Pvt=BigInt(8);function Bvt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=D9,s=e*e%o*e%o,a=dd(s,NQ,o)*s%o,l=dd(a,Ovt,o)*e%o,c=dd(l,Nvt,o)*l%o,d=dd(c,t,o)*c%o,u=dd(d,n,o)*d%o,h=dd(u,r,o)*u%o,m=dd(h,i,o)*h%o,v=dd(m,i,o)*h%o,g=dd(v,t,o)*c%o;return{pow_p_5_8:dd(g,NQ,o)*e%o,b2:s}}function Dvt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Mvt(e,t){const n=D9,r=Co(t*t*t,n),i=Co(r*r*t,n),o=Bvt(e*i).pow_p_5_8;let s=Co(e*r*o,n);const a=Co(t*s*s,n),l=s,c=Co(s*OQ,n),d=a===e,u=a===Co(-e,n),h=a===Co(-e*OQ,n);return d&&(s=l),(u||h)&&(s=c),yvt(s,n)&&(s=Co(-s,n)),{isValid:d||u,value:s}}const jvt=rge(D9,void 0,!0),$vt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:jvt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Pvt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ovt,randomBytes:Zme,adjustScalarBytes:Dvt,uvRatio:Mvt},sge=Tvt($vt),Lvt="EdDSA",Uvt="JWT",mI=".",kE="base64url",age="utf8",lge="utf8",Fvt=":",Wvt="did",qvt="key",PQ="base58btc",zvt="z",Vvt="K36",Kvt=32;function M9(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function cge(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?M9(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function dge(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const n=cge(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return M9(n)}function Hvt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var g=0,y=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,g++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,M=_-1;(I!==0||T<y)&&M!==-1;M--,T++)I+=256*R[M]>>>0,R[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");y=T,b++}for(var D=_-y;D!==_&&R[D]===0;)D++;for(var A=l.repeat(g);D<_;++D)A+=e.charAt(R[D]);return A}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var g=0;if(v[g]!==" "){for(var y=0,b=0;v[g]===l;)y++,g++;for(var k=(v.length-g)*c+1>>>0,_=new Uint8Array(k);v[g];){var R=n[v.charCodeAt(g)];if(R===255)return;for(var I=0,T=k-1;(R!==0||I<b)&&T!==-1;T--,I++)R+=a*_[T]>>>0,_[T]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");b=I,g++}if(v[g]!==" "){for(var M=k-b;M!==k&&_[M]===0;)M++;for(var D=new Uint8Array(y+(k-M)),A=y;M!==k;)D[A++]=_[M++];return D}}}function m(v){var g=h(v);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:h,decode:m}}var Gvt=Hvt,Jvt=Gvt;const uge=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Zvt=e=>new TextEncoder().encode(e),Yvt=e=>new TextDecoder().decode(e);let Xvt=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Qvt=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return fge(this,t)}},ewt=class{constructor(t){this.decoders=t}or(t){return fge(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const fge=(e,t)=>new ewt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let twt=class{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Xvt(t,n,r),this.decoder=new Qvt(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const SE=({name:e,prefix:t,encode:n,decode:r})=>new twt(e,t,n,r),U_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Jvt(n,t);return SE({prefix:e,name:t,encode:r,decode:o=>uge(i(o))})},nwt=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let d=0;d<o;++d){const u=i[e[d]];if(u===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|u,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},rwt=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},ks=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>SE({prefix:t,name:e,encode(i){return rwt(i,r,n)},decode(i){return nwt(i,r,n,e)}}),iwt=SE({prefix:"\0",name:"identity",encode:e=>Yvt(e),decode:e=>Zvt(e)});var owt=Object.freeze({__proto__:null,identity:iwt});const swt=ks({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var awt=Object.freeze({__proto__:null,base2:swt});const lwt=ks({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var cwt=Object.freeze({__proto__:null,base8:lwt});const dwt=U_({prefix:"9",name:"base10",alphabet:"0123456789"});var uwt=Object.freeze({__proto__:null,base10:dwt});const fwt=ks({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hwt=ks({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var pwt=Object.freeze({__proto__:null,base16:fwt,base16upper:hwt});const mwt=ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gwt=ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ywt=ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vwt=ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wwt=ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bwt=ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_wt=ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xwt=ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kwt=ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Swt=Object.freeze({__proto__:null,base32:mwt,base32upper:gwt,base32pad:ywt,base32padupper:vwt,base32hex:wwt,base32hexupper:bwt,base32hexpad:_wt,base32hexpadupper:xwt,base32z:kwt});const Iwt=U_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ewt=U_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Cwt=Object.freeze({__proto__:null,base36:Iwt,base36upper:Ewt});const Awt=U_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Rwt=U_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Twt=Object.freeze({__proto__:null,base58btc:Awt,base58flickr:Rwt});const Owt=ks({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Nwt=ks({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pwt=ks({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bwt=ks({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Dwt=Object.freeze({__proto__:null,base64:Owt,base64pad:Nwt,base64url:Pwt,base64urlpad:Bwt});const hge=Array.from(""),Mwt=hge.reduce((e,t,n)=>(e[n]=t,e),[]),jwt=hge.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function $wt(e){return e.reduce((t,n)=>(t+=Mwt[n],t),"")}function Lwt(e){const t=[];for(const n of e){const r=jwt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Uwt=SE({prefix:"",name:"base256emoji",encode:$wt,decode:Lwt});var Fwt=Object.freeze({__proto__:null,base256emoji:Uwt}),Wwt=pge,BQ=128,qwt=-128,zwt=Math.pow(2,31);function pge(e,t,n){t=t||[],n=n||0;for(var r=n;e>=zwt;)t[n++]=e&255|BQ,e/=128;for(;e&qwt;)t[n++]=e&255|BQ,e>>>=7;return t[n]=e|0,pge.bytes=n-r+1,t}var Vwt=M7,Kwt=128,DQ=127;function M7(e,r){var n=0,r=r||0,i=0,o=r,s,a=e.length;do{if(o>=a)throw M7.bytes=0,new RangeError("Could not decode varint");s=e[o++],n+=i<28?(s&DQ)<<i:(s&DQ)*Math.pow(2,i),i+=7}while(s>=Kwt);return M7.bytes=o-r,n}var Hwt=Math.pow(2,7),Gwt=Math.pow(2,14),Jwt=Math.pow(2,21),Zwt=Math.pow(2,28),Ywt=Math.pow(2,35),Xwt=Math.pow(2,42),Qwt=Math.pow(2,49),ebt=Math.pow(2,56),tbt=Math.pow(2,63),nbt=function(e){return e<Hwt?1:e<Gwt?2:e<Jwt?3:e<Zwt?4:e<Ywt?5:e<Xwt?6:e<Qwt?7:e<ebt?8:e<tbt?9:10},rbt={encode:Wwt,decode:Vwt,encodingLength:nbt},mge=rbt;const MQ=(e,t,n=0)=>(mge.encode(e,t,n),t),jQ=e=>mge.encodingLength(e),j7=(e,t)=>{const n=t.byteLength,r=jQ(e),i=r+jQ(n),o=new Uint8Array(i+n);return MQ(e,o,0),MQ(n,o,r),o.set(t,i),new ibt(e,n,t,o)};let ibt=class{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}};const gge=({name:e,code:t,encode:n})=>new obt(e,t,n);let obt=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?j7(this.code,n):n.then(r=>j7(this.code,r))}else throw Error("Unknown type, must be binary type")}};const yge=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sbt=gge({name:"sha2-256",code:18,encode:yge("SHA-256")}),abt=gge({name:"sha2-512",code:19,encode:yge("SHA-512")});var lbt=Object.freeze({__proto__:null,sha256:sbt,sha512:abt});const vge=0,cbt="identity",wge=uge,dbt=e=>j7(vge,wge(e)),ubt={code:vge,name:cbt,encode:wge,digest:dbt};var fbt=Object.freeze({__proto__:null,identity:ubt});new TextEncoder,new TextDecoder;const $Q={...owt,...awt,...cwt,...uwt,...pwt,...Swt,...Cwt,...Twt,...Dwt,...Fwt};({...lbt,...fbt});function bge(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const LQ=bge("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),T8=bge("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=cge(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),_ge={utf8:LQ,"utf-8":LQ,hex:$Q.base16,latin1:T8,ascii:T8,binary:T8,...$Q};function IE(e,t="utf8"){const n=_ge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function kv(e,t="utf8"){const n=_ge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?M9(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function UQ(e){return j0(IE(kv(e,kE),age))}function gI(e){return IE(kv(Bm(e),age),kE)}function xge(e){const t=kv(Vvt,PQ),n=zvt+IE(dge([t,e]),PQ);return[Wvt,qvt,n].join(Fvt)}function hbt(e){return IE(e,kE)}function pbt(e){return kv(e,kE)}function mbt(e){return kv([gI(e.header),gI(e.payload)].join(mI),lge)}function gbt(e){return[gI(e.header),gI(e.payload),hbt(e.signature)].join(mI)}function $7(e){const t=e.split(mI),n=UQ(t[0]),r=UQ(t[1]),i=pbt(t[2]),o=kv(t.slice(0,2).join(mI),lge);return{header:n,payload:r,signature:i,data:o}}function FQ(e=Zme(Kvt)){const t=sge.getPublicKey(e);return{secretKey:dge([e,t]),publicKey:t}}async function ybt(e,t,n,r,i=It.fromMiliseconds(Date.now())){const o={alg:Lvt,typ:Uvt},s=xge(r.publicKey),a=i+n,l={iss:s,sub:e,aud:t,iat:i,exp:a},c=mbt({header:o,payload:l}),d=sge.sign(c,r.secretKey.slice(0,32));return gbt({header:o,payload:l,signature:d})}function j9(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function kge(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?j9(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ib(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const n=kge(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return j9(n)}function vbt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var g=0,y=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,g++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,M=_-1;(I!==0||T<y)&&M!==-1;M--,T++)I+=256*R[M]>>>0,R[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");y=T,b++}for(var D=_-y;D!==_&&R[D]===0;)D++;for(var A=l.repeat(g);D<_;++D)A+=e.charAt(R[D]);return A}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var g=0;if(v[g]!==" "){for(var y=0,b=0;v[g]===l;)y++,g++;for(var k=(v.length-g)*c+1>>>0,_=new Uint8Array(k);v[g];){var R=n[v.charCodeAt(g)];if(R===255)return;for(var I=0,T=k-1;(R!==0||I<b)&&T!==-1;T--,I++)R+=a*_[T]>>>0,_[T]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");b=I,g++}if(v[g]!==" "){for(var M=k-b;M!==k&&_[M]===0;)M++;for(var D=new Uint8Array(y+(k-M)),A=y;M!==k;)D[A++]=_[M++];return D}}}function m(v){var g=h(v);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:h,decode:m}}var wbt=vbt,bbt=wbt;const _bt=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},xbt=e=>new TextEncoder().encode(e),kbt=e=>new TextDecoder().decode(e);class Sbt{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Ibt{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Sge(this,t)}}class Ebt{constructor(t){this.decoders=t}or(t){return Sge(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Sge=(e,t)=>new Ebt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Cbt{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Sbt(t,n,r),this.decoder=new Ibt(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const EE=({name:e,prefix:t,encode:n,decode:r})=>new Cbt(e,t,n,r),F_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=bbt(n,t);return EE({prefix:e,name:t,encode:r,decode:o=>_bt(i(o))})},Abt=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let d=0;d<o;++d){const u=i[e[d]];if(u===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|u,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},Rbt=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Ss=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>EE({prefix:t,name:e,encode(i){return Rbt(i,r,n)},decode(i){return Abt(i,r,n,e)}}),Tbt=EE({prefix:"\0",name:"identity",encode:e=>kbt(e),decode:e=>xbt(e)}),Obt=Object.freeze(Object.defineProperty({__proto__:null,identity:Tbt},Symbol.toStringTag,{value:"Module"})),Nbt=Ss({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Pbt=Object.freeze(Object.defineProperty({__proto__:null,base2:Nbt},Symbol.toStringTag,{value:"Module"})),Bbt=Ss({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Dbt=Object.freeze(Object.defineProperty({__proto__:null,base8:Bbt},Symbol.toStringTag,{value:"Module"})),Mbt=F_({prefix:"9",name:"base10",alphabet:"0123456789"}),jbt=Object.freeze(Object.defineProperty({__proto__:null,base10:Mbt},Symbol.toStringTag,{value:"Module"})),$bt=Ss({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Lbt=Ss({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ubt=Object.freeze(Object.defineProperty({__proto__:null,base16:$bt,base16upper:Lbt},Symbol.toStringTag,{value:"Module"})),Fbt=Ss({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wbt=Ss({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qbt=Ss({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zbt=Ss({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Vbt=Ss({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kbt=Ss({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Hbt=Ss({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Gbt=Ss({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Jbt=Ss({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Zbt=Object.freeze(Object.defineProperty({__proto__:null,base32:Fbt,base32hex:Vbt,base32hexpad:Hbt,base32hexpadupper:Gbt,base32hexupper:Kbt,base32pad:qbt,base32padupper:zbt,base32upper:Wbt,base32z:Jbt},Symbol.toStringTag,{value:"Module"})),Ybt=F_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Xbt=F_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Qbt=Object.freeze(Object.defineProperty({__proto__:null,base36:Ybt,base36upper:Xbt},Symbol.toStringTag,{value:"Module"})),e1t=F_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),t1t=F_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),n1t=Object.freeze(Object.defineProperty({__proto__:null,base58btc:e1t,base58flickr:t1t},Symbol.toStringTag,{value:"Module"})),r1t=Ss({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i1t=Ss({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),o1t=Ss({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),s1t=Ss({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),a1t=Object.freeze(Object.defineProperty({__proto__:null,base64:r1t,base64pad:i1t,base64url:o1t,base64urlpad:s1t},Symbol.toStringTag,{value:"Module"})),Ige=Array.from(""),l1t=Ige.reduce((e,t,n)=>(e[n]=t,e),[]),c1t=Ige.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function d1t(e){return e.reduce((t,n)=>(t+=l1t[n],t),"")}function u1t(e){const t=[];for(const n of e){const r=c1t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const f1t=EE({prefix:"",name:"base256emoji",encode:d1t,decode:u1t}),h1t=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:f1t},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const WQ={...Obt,...Pbt,...Dbt,...jbt,...Ubt,...Zbt,...Qbt,...n1t,...a1t,...h1t};function Ege(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const qQ=Ege("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),O8=Ege("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=kge(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Cge={utf8:qQ,"utf-8":qQ,hex:WQ.base16,latin1:O8,ascii:O8,binary:O8,...WQ};function nc(e,t="utf8"){const n=Cge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?j9(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function La(e,t="utf8"){const n=Cge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const p1t={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var N8,zQ;function Age(){if(zQ)return N8;zQ=1;const e="Input must be an string, Buffer or Uint8Array";function t(s){let a;if(s instanceof Uint8Array)a=s;else if(typeof s=="string")a=new TextEncoder().encode(s);else throw new Error(e);return a}function n(s){return Array.prototype.map.call(s,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(s){return(4294967296+s).toString(16).substring(1)}function i(s,a,l){let c=`
`+s+" = ";for(let d=0;d<a.length;d+=2){if(l===32)c+=r(a[d]).toUpperCase(),c+=" ",c+=r(a[d+1]).toUpperCase();else if(l===64)c+=r(a[d+1]).toUpperCase(),c+=r(a[d]).toUpperCase();else throw new Error("Invalid size "+l);d%6===4?c+=`
`+new Array(s.length+4).join(" "):d<a.length-2&&(c+=" ")}console.log(c)}function o(s,a,l){let c=new Date().getTime();const d=new Uint8Array(a);for(let h=0;h<a;h++)d[h]=h%256;const u=new Date().getTime();console.log("Generated random input in "+(u-c)+"ms"),c=u;for(let h=0;h<l;h++){const m=s(d),v=new Date().getTime(),g=v-c;c=v,console.log("Hashed in "+g+"ms: "+m.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return N8={normalizeInput:t,toHex:n,debugPrint:i,testSpeed:o},N8}var P8,VQ;function m1t(){if(VQ)return P8;VQ=1;const e=Age();function t(b,k,_){const R=b[k]+b[_];let I=b[k+1]+b[_+1];R>=4294967296&&I++,b[k]=R,b[k+1]=I}function n(b,k,_,R){let I=b[k]+_;_<0&&(I+=4294967296);let T=b[k+1]+R;I>=4294967296&&T++,b[k]=I,b[k+1]=T}function r(b,k){return b[k]^b[k+1]<<8^b[k+2]<<16^b[k+3]<<24}function i(b,k,_,R,I,T){const M=c[I],D=c[I+1],A=c[T],U=c[T+1];t(l,b,k),n(l,b,M,D);let $=l[R]^l[b],q=l[R+1]^l[b+1];l[R]=q,l[R+1]=$,t(l,_,R),$=l[k]^l[_],q=l[k+1]^l[_+1],l[k]=$>>>24^q<<8,l[k+1]=q>>>24^$<<8,t(l,b,k),n(l,b,A,U),$=l[R]^l[b],q=l[R+1]^l[b+1],l[R]=$>>>16^q<<16,l[R+1]=q>>>16^$<<16,t(l,_,R),$=l[k]^l[_],q=l[k+1]^l[_+1],l[k]=q>>>31^$<<1,l[k+1]=$>>>31^q<<1}const o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(s.map(function(b){return b*2})),l=new Uint32Array(32),c=new Uint32Array(32);function d(b,k){let _=0;for(_=0;_<16;_++)l[_]=b.h[_],l[_+16]=o[_];for(l[24]=l[24]^b.t,l[25]=l[25]^b.t/4294967296,k&&(l[28]=~l[28],l[29]=~l[29]),_=0;_<32;_++)c[_]=r(b.b,4*_);for(_=0;_<12;_++)i(0,8,16,24,a[_*16+0],a[_*16+1]),i(2,10,18,26,a[_*16+2],a[_*16+3]),i(4,12,20,28,a[_*16+4],a[_*16+5]),i(6,14,22,30,a[_*16+6],a[_*16+7]),i(0,10,20,30,a[_*16+8],a[_*16+9]),i(2,12,22,24,a[_*16+10],a[_*16+11]),i(4,14,16,26,a[_*16+12],a[_*16+13]),i(6,8,18,28,a[_*16+14],a[_*16+15]);for(_=0;_<16;_++)b.h[_]=b.h[_]^l[_]^l[_+16]}const u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(b,k,_,R){if(b===0||b>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(R&&R.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const I={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:b};u.fill(0),u[0]=b,k&&(u[1]=k.length),u[2]=1,u[3]=1,_&&u.set(_,32),R&&u.set(R,48);for(let T=0;T<16;T++)I.h[T]=o[T]^r(u,T*4);return k&&(m(I,k),I.c=128),I}function m(b,k){for(let _=0;_<k.length;_++)b.c===128&&(b.t+=b.c,d(b,!1),b.c=0),b.b[b.c++]=k[_]}function v(b){for(b.t+=b.c;b.c<128;)b.b[b.c++]=0;d(b,!0);const k=new Uint8Array(b.outlen);for(let _=0;_<b.outlen;_++)k[_]=b.h[_>>2]>>8*(_&3);return k}function g(b,k,_,R,I){_=_||64,b=e.normalizeInput(b),R&&(R=e.normalizeInput(R)),I&&(I=e.normalizeInput(I));const T=h(_,k,R,I);return m(T,b),v(T)}function y(b,k,_,R,I){const T=g(b,k,_,R,I);return e.toHex(T)}return P8={blake2b:g,blake2bHex:y,blake2bInit:h,blake2bUpdate:m,blake2bFinal:v},P8}var B8,KQ;function g1t(){if(KQ)return B8;KQ=1;const e=Age();function t(v,g){return v[g]^v[g+1]<<8^v[g+2]<<16^v[g+3]<<24}function n(v,g,y,b,k,_){s[v]=s[v]+s[g]+k,s[b]=r(s[b]^s[v],16),s[y]=s[y]+s[b],s[g]=r(s[g]^s[y],12),s[v]=s[v]+s[g]+_,s[b]=r(s[b]^s[v],8),s[y]=s[y]+s[b],s[g]=r(s[g]^s[y],7)}function r(v,g){return v>>>g^v<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),s=new Uint32Array(16),a=new Uint32Array(16);function l(v,g){let y=0;for(y=0;y<8;y++)s[y]=v.h[y],s[y+8]=i[y];for(s[12]^=v.t,s[13]^=v.t/4294967296,g&&(s[14]=~s[14]),y=0;y<16;y++)a[y]=t(v.b,4*y);for(y=0;y<10;y++)n(0,4,8,12,a[o[y*16+0]],a[o[y*16+1]]),n(1,5,9,13,a[o[y*16+2]],a[o[y*16+3]]),n(2,6,10,14,a[o[y*16+4]],a[o[y*16+5]]),n(3,7,11,15,a[o[y*16+6]],a[o[y*16+7]]),n(0,5,10,15,a[o[y*16+8]],a[o[y*16+9]]),n(1,6,11,12,a[o[y*16+10]],a[o[y*16+11]]),n(2,7,8,13,a[o[y*16+12]],a[o[y*16+13]]),n(3,4,9,14,a[o[y*16+14]],a[o[y*16+15]]);for(y=0;y<8;y++)v.h[y]^=s[y]^s[y+8]}function c(v,g){if(!(v>0&&v<=32))throw new Error("Incorrect output length, should be in [1, 32]");const y=g?g.length:0;if(g&&!(y>0&&y<=32))throw new Error("Incorrect key length, should be in [1, 32]");const b={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:v};return b.h[0]^=16842752^y<<8^v,y>0&&(d(b,g),b.c=64),b}function d(v,g){for(let y=0;y<g.length;y++)v.c===64&&(v.t+=v.c,l(v,!1),v.c=0),v.b[v.c++]=g[y]}function u(v){for(v.t+=v.c;v.c<64;)v.b[v.c++]=0;l(v,!0);const g=new Uint8Array(v.outlen);for(let y=0;y<v.outlen;y++)g[y]=v.h[y>>2]>>8*(y&3)&255;return g}function h(v,g,y){y=y||32,v=e.normalizeInput(v);const b=c(y,g);return d(b,v),u(b)}function m(v,g,y){const b=h(v,g,y);return e.toHex(b)}return B8={blake2s:h,blake2sHex:m,blake2sInit:c,blake2sUpdate:d,blake2sFinal:u},B8}var D8,HQ;function y1t(){if(HQ)return D8;HQ=1;const e=m1t(),t=g1t();return D8={blake2b:e.blake2b,blake2bHex:e.blake2bHex,blake2bInit:e.blake2bInit,blake2bUpdate:e.blake2bUpdate,blake2bFinal:e.blake2bFinal,blake2s:t.blake2s,blake2sHex:t.blake2sHex,blake2sInit:t.blake2sInit,blake2sUpdate:t.blake2sUpdate,blake2sFinal:t.blake2sFinal},D8}var v1t=y1t();const Hk=BigInt(2**32-1),GQ=BigInt(32);function Rge(e,t=!1){return t?{h:Number(e&Hk),l:Number(e>>GQ&Hk)}:{h:Number(e>>GQ&Hk)|0,l:Number(e&Hk)|0}}function Tge(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=Rge(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const JQ=(e,t,n)=>e>>>n,ZQ=(e,t,n)=>e<<32-n|t>>>n,ch=(e,t,n)=>e>>>n|t<<32-n,dh=(e,t,n)=>e<<32-n|t>>>n,tb=(e,t,n)=>e<<64-n|t>>>n-32,nb=(e,t,n)=>e>>>n-32|t<<64-n,w1t=(e,t)=>t,b1t=(e,t)=>e,_1t=(e,t,n)=>e<<n|t>>>32-n,x1t=(e,t,n)=>t<<n|e>>>32-n,k1t=(e,t,n)=>t<<n-32|e>>>64-n,S1t=(e,t,n)=>e<<n-32|t>>>64-n;function Oc(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const $9=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),L9=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,I1t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),E1t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,C1t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),A1t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,sy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function U9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function qh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function oc(e,...t){if(!U9(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function R1t(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");qh(e.outputLen),qh(e.blockLen)}function zh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function F9(e,t){oc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function A1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function qc(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function M8(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ud(e,t){return e<<32-t|e>>>t}const Oge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nge(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const wu=Oge?e=>e:e=>Nge(e);function T1t(e){for(let t=0;t<e.length;t++)e[t]=Nge(e[t]);return e}const uh=Oge?e=>e:T1t,Pge=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",O1t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function R1(e){if(oc(e),Pge)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=O1t[e[n]];return t}const hu={_0:48,_9:57,A:65,F:70,a:97,f:102};function YQ(e){if(e>=hu._0&&e<=hu._9)return e-hu._0;if(e>=hu.A&&e<=hu.F)return e-(hu.A-10);if(e>=hu.a&&e<=hu.f)return e-(hu.a-10)}function W9(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Pge)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=YQ(e.charCodeAt(o)),a=YQ(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function N1t(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Wu(e){return typeof e=="string"&&(e=N1t(e)),oc(e),e}function Xp(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];oc(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let CE=class{};function W_(e){const t=r=>e().update(Wu(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function P1t(e){const t=(r,i)=>e(i).update(Wu(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Bge(e=32){if(sy&&typeof sy.getRandomValues=="function")return sy.getRandomValues(new Uint8Array(e));if(sy&&typeof sy.randomBytes=="function")return Uint8Array.from(sy.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const B1t=BigInt(0),Bw=BigInt(1),D1t=BigInt(2),M1t=BigInt(7),j1t=BigInt(256),$1t=BigInt(113),Dge=[],Mge=[],jge=[];for(let e=0,t=Bw,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Dge.push(2*(5*r+n)),Mge.push((e+1)*(e+2)/2%64);let i=B1t;for(let o=0;o<7;o++)t=(t<<Bw^(t>>M1t)*$1t)%j1t,t&D1t&&(i^=Bw<<(Bw<<BigInt(o))-Bw);jge.push(i)}const $ge=Tge(jge,!0),L1t=$ge[0],U1t=$ge[1],XQ=(e,t,n)=>n>32?k1t(e,t,n):_1t(e,t,n),QQ=(e,t,n)=>n>32?S1t(e,t,n):x1t(e,t,n);function F1t(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],u=XQ(c,d,1)^n[a],h=QQ(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=u,e[s+m+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=Mge[s],l=XQ(i,o,a),c=QQ(i,o,a),d=Dge[s];i=e[d],o=e[d+1],e[d]=l,e[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=L1t[r],e[1]^=U1t[r]}qc(n)}let W1t=class Lge extends CE{constructor(t,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,qh(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=A1(this.state)}clone(){return this._cloneInto()}keccak(){uh(this.state32),F1t(this.state32,this.rounds),uh(this.state32),this.posOut=0,this.pos=0}update(t){zh(this),t=Wu(t),oc(t);const{blockLen:n,state:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){zh(this,!1),oc(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return qh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(F9(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qc(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Lge(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const q1t=(e,t,n)=>W_(()=>new W1t(t,e,n));q1t(1,136,256/8);function z1t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function V1t(e,t,n){return e&t^~e&n}function K1t(e,t,n){return e&t^e&n^t&n}let Uge=class extends CE{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=M8(this.buffer)}update(t){zh(this),t=Wu(t),oc(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=M8(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){zh(this),F9(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,qc(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;z1t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=M8(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Ff=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ds=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ms=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),H1t=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wf=new Uint32Array(64);let G1t=class extends Uge{constructor(t=32){super(64,t,8,!1),this.A=Ff[0]|0,this.B=Ff[1]|0,this.C=Ff[2]|0,this.D=Ff[3]|0,this.E=Ff[4]|0,this.F=Ff[5]|0,this.G=Ff[6]|0,this.H=Ff[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Wf[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Wf[u-15],m=Wf[u-2],v=ud(h,7)^ud(h,18)^h>>>3,g=ud(m,17)^ud(m,19)^m>>>10;Wf[u]=g+Wf[u-7]+v+Wf[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=ud(a,6)^ud(a,11)^ud(a,25),m=d+h+V1t(a,l,c)+H1t[u]+Wf[u]|0,v=(ud(r,2)^ud(r,13)^ud(r,22))+K1t(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){qc(Wf)}destroy(){this.set(0,0,0,0,0,0,0,0),qc(this.buffer)}};const Fge=Tge(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),J1t=Fge[0],Z1t=Fge[1],qf=new Uint32Array(80),zf=new Uint32Array(80);let q9=class extends Uge{constructor(t=64){super(128,t,16,!1),this.Ah=Ms[0]|0,this.Al=Ms[1]|0,this.Bh=Ms[2]|0,this.Bl=Ms[3]|0,this.Ch=Ms[4]|0,this.Cl=Ms[5]|0,this.Dh=Ms[6]|0,this.Dl=Ms[7]|0,this.Eh=Ms[8]|0,this.El=Ms[9]|0,this.Fh=Ms[10]|0,this.Fl=Ms[11]|0,this.Gh=Ms[12]|0,this.Gl=Ms[13]|0,this.Hh=Ms[14]|0,this.Hl=Ms[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let _=0;_<16;_++,n+=4)qf[_]=t.getUint32(n),zf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=qf[_-15]|0,I=zf[_-15]|0,T=ch(R,I,1)^ch(R,I,8)^JQ(R,I,7),M=dh(R,I,1)^dh(R,I,8)^ZQ(R,I,7),D=qf[_-2]|0,A=zf[_-2]|0,U=ch(D,A,19)^tb(D,A,61)^JQ(D,A,6),$=dh(D,A,19)^nb(D,A,61)^ZQ(D,A,6),q=I1t(M,$,zf[_-7],zf[_-16]),z=E1t(q,T,U,qf[_-7],qf[_-16]);qf[_]=z|0,zf[_]=q|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=ch(u,h,14)^ch(u,h,18)^tb(u,h,41),I=dh(u,h,14)^dh(u,h,18)^nb(u,h,41),T=u&m^~u&g,M=h&v^~h&y,D=C1t(k,I,M,Z1t[_],zf[_]),A=A1t(D,b,R,T,J1t[_],qf[_]),U=D|0,$=ch(r,i,28)^tb(r,i,34)^tb(r,i,39),q=dh(r,i,28)^nb(r,i,34)^nb(r,i,39),z=r&o^r&a^o&a,S=i&s^i&l^s&l;b=g|0,k=y|0,g=m|0,y=v|0,m=u|0,v=h|0,{h:u,l:h}=Oc(c|0,d|0,A|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=$9(U,q,S);r=L9(E,A,$,z),i=E|0}({h:r,l:i}=Oc(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Oc(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Oc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Oc(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=Oc(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=Oc(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=Oc(this.Gh|0,this.Gl|0,g|0,y|0),{h:b,l:k}=Oc(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k)}roundClean(){qc(qf,zf)}destroy(){qc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Y1t=class extends q9{constructor(){super(48),this.Ah=Ds[0]|0,this.Al=Ds[1]|0,this.Bh=Ds[2]|0,this.Bl=Ds[3]|0,this.Ch=Ds[4]|0,this.Cl=Ds[5]|0,this.Dh=Ds[6]|0,this.Dl=Ds[7]|0,this.Eh=Ds[8]|0,this.El=Ds[9]|0,this.Fh=Ds[10]|0,this.Fl=Ds[11]|0,this.Gh=Ds[12]|0,this.Gl=Ds[13]|0,this.Hh=Ds[14]|0,this.Hl=Ds[15]|0}};const js=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let X1t=class extends q9{constructor(){super(32),this.Ah=js[0]|0,this.Al=js[1]|0,this.Bh=js[2]|0,this.Bl=js[3]|0,this.Ch=js[4]|0,this.Cl=js[5]|0,this.Dh=js[6]|0,this.Dl=js[7]|0,this.Eh=js[8]|0,this.El=js[9]|0,this.Fh=js[10]|0,this.Fl=js[11]|0,this.Gh=js[12]|0,this.Gl=js[13]|0,this.Hh=js[14]|0,this.Hl=js[15]|0}};const Q1t=W_(()=>new G1t),e_t=W_(()=>new q9),t_t=W_(()=>new Y1t);W_(()=>new X1t);const n_t=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),_o=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Bt=new Uint32Array(32);function Vf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Bt[2*e],c=Bt[2*e+1],d=Bt[2*t],u=Bt[2*t+1],h=Bt[2*n],m=Bt[2*n+1],v=Bt[2*r],g=Bt[2*r+1],y=$9(l,d,s);c=L9(y,c,u,a),l=y|0,{Dh:g,Dl:v}={Dh:g^c,Dl:v^l},{Dh:g,Dl:v}={Dh:w1t(g,v),Dl:b1t(g)},{h:m,l:h}=Oc(m,h,g,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:ch(u,d,24),Bl:dh(u,d,24)},Bt[2*e]=l,Bt[2*e+1]=c,Bt[2*t]=d,Bt[2*t+1]=u,Bt[2*n]=h,Bt[2*n+1]=m,Bt[2*r]=v,Bt[2*r+1]=g}function Kf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Bt[2*e],c=Bt[2*e+1],d=Bt[2*t],u=Bt[2*t+1],h=Bt[2*n],m=Bt[2*n+1],v=Bt[2*r],g=Bt[2*r+1],y=$9(l,d,s);c=L9(y,c,u,a),l=y|0,{Dh:g,Dl:v}={Dh:g^c,Dl:v^l},{Dh:g,Dl:v}={Dh:ch(g,v,16),Dl:dh(g,v,16)},{h:m,l:h}=Oc(m,h,g,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:tb(u,d,63),Bl:nb(u,d,63)},Bt[2*e]=l,Bt[2*e+1]=c,Bt[2*t]=d,Bt[2*t+1]=u,Bt[2*n]=h,Bt[2*n+1]=m,Bt[2*r]=v,Bt[2*r+1]=g}function r_t(e,t={},n,r,i){if(qh(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:o,salt:s,personalization:a}=t;if(o!==void 0&&(o.length<1||o.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let i_t=class extends CE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,qh(t),qh(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=A1(this.buffer)}update(t){zh(this),t=Wu(t),oc(t);const{blockLen:n,buffer:r,buffer32:i}=this,o=t.length,s=t.byteOffset,a=t.buffer;for(let l=0;l<o;){this.pos===n&&(uh(i),this.compress(i,0,!1),uh(i),this.pos=0);const c=Math.min(n-this.pos,o-l),d=s+l;if(c===n&&!(d%4)&&l+c<o){const u=new Uint32Array(a,d,Math.floor((o-l)/4));uh(u);for(let h=0;l+n<o;h+=i.length,l+=n)this.length+=n,this.compress(u,h,!1);uh(u);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(t){zh(this),F9(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,qc(this.buffer.subarray(n)),uh(r),this.compress(r,0,!0),uh(r);const i=A1(t);this.get().forEach((o,s)=>i[s]=wu(o))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.buffer.set(n),t.destroyed=o,t.finished=i,t.length=r,t.pos=a,t.outputLen=s,t}clone(){return this._cloneInto()}},o_t=class extends i_t{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=_o[0]|0,this.v0h=_o[1]|0,this.v1l=_o[2]|0,this.v1h=_o[3]|0,this.v2l=_o[4]|0,this.v2h=_o[5]|0,this.v3l=_o[6]|0,this.v3h=_o[7]|0,this.v4l=_o[8]|0,this.v4h=_o[9]|0,this.v5l=_o[10]|0,this.v5h=_o[11]|0,this.v6l=_o[12]|0,this.v6h=_o[13]|0,this.v7l=_o[14]|0,this.v7h=_o[15]|0,r_t(n,t,64,16,16);let{key:r,personalization:i,salt:o}=t,s=0;if(r!==void 0&&(r=Wu(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,o!==void 0){o=Wu(o);const a=A1(o);this.v4l^=wu(a[0]),this.v4h^=wu(a[1]),this.v5l^=wu(a[2]),this.v5h^=wu(a[3])}if(i!==void 0){i=Wu(i);const a=A1(i);this.v6l^=wu(a[0]),this.v6h^=wu(a[1]),this.v7l^=wu(a[2]),this.v7h^=wu(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:i,v2l:o,v2h:s,v3l:a,v3h:l,v4l:c,v4h:d,v5l:u,v5h:h,v6l:m,v6h:v,v7l:g,v7h:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=d|0,this.v5l=u|0,this.v5h=h|0,this.v6l=m|0,this.v6h=v|0,this.v7l=g|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((l,c)=>Bt[c]=l),Bt.set(_o,16);let{h:i,l:o}=Rge(BigInt(this.length));Bt[24]=_o[8]^o,Bt[25]=_o[9]^i,r&&(Bt[28]=~Bt[28],Bt[29]=~Bt[29]);let s=0;const a=n_t;for(let l=0;l<12;l++)Vf(0,4,8,12,t,n+2*a[s++]),Kf(0,4,8,12,t,n+2*a[s++]),Vf(1,5,9,13,t,n+2*a[s++]),Kf(1,5,9,13,t,n+2*a[s++]),Vf(2,6,10,14,t,n+2*a[s++]),Kf(2,6,10,14,t,n+2*a[s++]),Vf(3,7,11,15,t,n+2*a[s++]),Kf(3,7,11,15,t,n+2*a[s++]),Vf(0,5,10,15,t,n+2*a[s++]),Kf(0,5,10,15,t,n+2*a[s++]),Vf(1,6,11,12,t,n+2*a[s++]),Kf(1,6,11,12,t,n+2*a[s++]),Vf(2,7,8,13,t,n+2*a[s++]),Kf(2,7,8,13,t,n+2*a[s++]),Vf(3,4,9,14,t,n+2*a[s++]),Kf(3,4,9,14,t,n+2*a[s++]);this.v0l^=Bt[0]^Bt[16],this.v0h^=Bt[1]^Bt[17],this.v1l^=Bt[2]^Bt[18],this.v1h^=Bt[3]^Bt[19],this.v2l^=Bt[4]^Bt[20],this.v2h^=Bt[5]^Bt[21],this.v3l^=Bt[6]^Bt[22],this.v3h^=Bt[7]^Bt[23],this.v4l^=Bt[8]^Bt[24],this.v4h^=Bt[9]^Bt[25],this.v5l^=Bt[10]^Bt[26],this.v5h^=Bt[11]^Bt[27],this.v6l^=Bt[12]^Bt[28],this.v6h^=Bt[13]^Bt[29],this.v7l^=Bt[14]^Bt[30],this.v7h^=Bt[15]^Bt[31],qc(Bt)}destroy(){this.destroyed=!0,qc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};P1t(e=>new o_t(e));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Wge(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function L7(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function j8(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ta(e,...t){if(!Wge(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function eee(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s_t(e,t){Ta(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ch(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function $0(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function a_t(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const l_t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function c_t(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function U7(e){if(typeof e=="string")e=c_t(e);else if(Wge(e))e=F7(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function d_t(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function u_t(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const f_t=(e,t)=>{function n(r,...i){if(Ta(r),!l_t)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");e.varSizeNonce?Ta(c):Ta(c,e.nonceLength)}const o=e.tagLength;o&&i[1]!==void 0&&Ta(i[1]);const s=t(r,...i),a=(c,d)=>{if(d!==void 0){if(c!==2)throw new Error("cipher output not supported");Ta(d)}};let l=!1;return{encrypt(c,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Ta(c),a(s.encrypt.length,d),s.encrypt(c,d)},decrypt(c,d){if(Ta(c),o&&c.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return a(s.decrypt.length,d),s.decrypt(c,d)}}}return Object.assign(n,e),n};function tee(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!p_t(t))throw new Error("invalid output, must be aligned");return t}function nee(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o);e.setUint32(t+4,s,r),e.setUint32(t+0,a,r)}function h_t(e,t,n){L7(n);const r=new Uint8Array(16),i=a_t(r);return nee(i,0,BigInt(t),n),nee(i,8,BigInt(e),n),r}function p_t(e){return e.byteOffset%4===0}function F7(e){return Uint8Array.from(e)}const qge=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),m_t=qge("expand 16-byte k"),g_t=qge("expand 32-byte k"),y_t=Ch(m_t),v_t=Ch(g_t);function _r(e,t){return e<<t|e>>>32-t}function W7(e){return e.byteOffset%4===0}const Gk=64,w_t=16,zge=2**32-1,ree=new Uint32Array;function b_t(e,t,n,r,i,o,s,a){const l=i.length,c=new Uint8Array(Gk),d=Ch(c),u=W7(i)&&W7(o),h=u?Ch(i):ree,m=u?Ch(o):ree;for(let v=0;v<l;s++){if(e(t,n,r,d,s,a),s>=zge)throw new Error("arx: counter overflow");const g=Math.min(Gk,l-v);if(u&&g===Gk){const y=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let b=0,k;b<w_t;b++)k=y+b,m[k]=h[k]^d[b];v+=Gk;continue}for(let y=0,b;y<g;y++)b=v+y,o[b]=i[b]^c[y];v+=g}}function __t(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=d_t({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return j8(i),j8(s),L7(o),L7(n),(a,l,c,d,u=0)=>{Ta(a),Ta(l),Ta(c);const h=c.length;if(d===void 0&&(d=new Uint8Array(h)),Ta(d),j8(u),u<0||u>=zge)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const m=[];let v=a.length,g,y;if(v===32)m.push(g=F7(a)),y=v_t;else if(v===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=y_t,m.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);W7(l)||m.push(l=F7(l));const b=Ch(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,b,Ch(l.subarray(0,16)),b),l=l.subarray(16)}const k=16-i;if(k!==l.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const R=new Uint8Array(12);R.set(l,o?0:12-l.length),l=R,m.push(l)}const _=Ch(l);return b_t(e,y,b,_,c,d,u,s),$0(...m),d}}const rs=(e,t)=>e[t++]&255|(e[t++]&255)<<8;let x_t=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=U7(t),Ta(t,32);const n=rs(t,0),r=rs(t,2),i=rs(t,4),o=rs(t,6),s=rs(t,8),a=rs(t,10),l=rs(t,12),c=rs(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let d=0;d<8;d++)this.pad[d]=rs(t,16+2*d)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],c=s[2],d=s[3],u=s[4],h=s[5],m=s[6],v=s[7],g=s[8],y=s[9],b=rs(t,n+0),k=rs(t,n+2),_=rs(t,n+4),R=rs(t,n+6),I=rs(t,n+8),T=rs(t,n+10),M=rs(t,n+12),D=rs(t,n+14);let A=o[0]+(b&8191),U=o[1]+((b>>>13|k<<3)&8191),$=o[2]+((k>>>10|_<<6)&8191),q=o[3]+((_>>>7|R<<9)&8191),z=o[4]+((R>>>4|I<<12)&8191),S=o[5]+(I>>>1&8191),E=o[6]+((I>>>14|T<<2)&8191),N=o[7]+((T>>>11|M<<5)&8191),P=o[8]+((M>>>8|D<<8)&8191),j=o[9]+(D>>>5|i),V=0,K=V+A*a+U*(5*y)+$*(5*g)+q*(5*v)+z*(5*m);V=K>>>13,K&=8191,K+=S*(5*h)+E*(5*u)+N*(5*d)+P*(5*c)+j*(5*l),V+=K>>>13,K&=8191;let F=V+A*l+U*a+$*(5*y)+q*(5*g)+z*(5*v);V=F>>>13,F&=8191,F+=S*(5*m)+E*(5*h)+N*(5*u)+P*(5*d)+j*(5*c),V+=F>>>13,F&=8191;let O=V+A*c+U*l+$*a+q*(5*y)+z*(5*g);V=O>>>13,O&=8191,O+=S*(5*v)+E*(5*m)+N*(5*h)+P*(5*u)+j*(5*d),V+=O>>>13,O&=8191;let W=V+A*d+U*c+$*l+q*a+z*(5*y);V=W>>>13,W&=8191,W+=S*(5*g)+E*(5*v)+N*(5*m)+P*(5*h)+j*(5*u),V+=W>>>13,W&=8191;let G=V+A*u+U*d+$*c+q*l+z*a;V=G>>>13,G&=8191,G+=S*(5*y)+E*(5*g)+N*(5*v)+P*(5*m)+j*(5*h),V+=G>>>13,G&=8191;let Y=V+A*h+U*u+$*d+q*c+z*l;V=Y>>>13,Y&=8191,Y+=S*a+E*(5*y)+N*(5*g)+P*(5*v)+j*(5*m),V+=Y>>>13,Y&=8191;let ie=V+A*m+U*h+$*u+q*d+z*c;V=ie>>>13,ie&=8191,ie+=S*l+E*a+N*(5*y)+P*(5*g)+j*(5*v),V+=ie>>>13,ie&=8191;let ye=V+A*v+U*m+$*h+q*u+z*d;V=ye>>>13,ye&=8191,ye+=S*c+E*l+N*a+P*(5*y)+j*(5*g),V+=ye>>>13,ye&=8191;let me=V+A*g+U*v+$*m+q*h+z*u;V=me>>>13,me&=8191,me+=S*d+E*c+N*l+P*a+j*(5*y),V+=me>>>13,me&=8191;let be=V+A*y+U*g+$*v+q*m+z*h;V=be>>>13,be&=8191,be+=S*u+E*d+N*c+P*l+j*a,V+=be>>>13,be&=8191,V=(V<<2)+V|0,V=V+K|0,K=V&8191,V=V>>>13,F+=V,o[0]=K,o[1]=F,o[2]=O,o[3]=W,o[4]=G,o[5]=Y,o[6]=ie,o[7]=ye,o[8]=me,o[9]=be}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(i^1)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+n[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=s&65535;$0(r)}update(t){eee(this),t=U7(t),Ta(t);const{buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){for(;r<=i-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){$0(this.h,this.r,this.buffer,this.pad)}digestInto(t){eee(this),s_t(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}};function k_t(e){const t=(r,i)=>e(i).update(U7(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const S_t=k_t(e=>new x_t(e));function I_t(e,t,n,r,i,o=20){let s=e[0],a=e[1],l=e[2],c=e[3],d=t[0],u=t[1],h=t[2],m=t[3],v=t[4],g=t[5],y=t[6],b=t[7],k=i,_=n[0],R=n[1],I=n[2],T=s,M=a,D=l,A=c,U=d,$=u,q=h,z=m,S=v,E=g,N=y,P=b,j=k,V=_,K=R,F=I;for(let W=0;W<o;W+=2)T=T+U|0,j=_r(j^T,16),S=S+j|0,U=_r(U^S,12),T=T+U|0,j=_r(j^T,8),S=S+j|0,U=_r(U^S,7),M=M+$|0,V=_r(V^M,16),E=E+V|0,$=_r($^E,12),M=M+$|0,V=_r(V^M,8),E=E+V|0,$=_r($^E,7),D=D+q|0,K=_r(K^D,16),N=N+K|0,q=_r(q^N,12),D=D+q|0,K=_r(K^D,8),N=N+K|0,q=_r(q^N,7),A=A+z|0,F=_r(F^A,16),P=P+F|0,z=_r(z^P,12),A=A+z|0,F=_r(F^A,8),P=P+F|0,z=_r(z^P,7),T=T+$|0,F=_r(F^T,16),N=N+F|0,$=_r($^N,12),T=T+$|0,F=_r(F^T,8),N=N+F|0,$=_r($^N,7),M=M+q|0,j=_r(j^M,16),P=P+j|0,q=_r(q^P,12),M=M+q|0,j=_r(j^M,8),P=P+j|0,q=_r(q^P,7),D=D+z|0,V=_r(V^D,16),S=S+V|0,z=_r(z^S,12),D=D+z|0,V=_r(V^D,8),S=S+V|0,z=_r(z^S,7),A=A+U|0,K=_r(K^A,16),E=E+K|0,U=_r(U^E,12),A=A+U|0,K=_r(K^A,8),E=E+K|0,U=_r(U^E,7);let O=0;r[O++]=s+T|0,r[O++]=a+M|0,r[O++]=l+D|0,r[O++]=c+A|0,r[O++]=d+U|0,r[O++]=u+$|0,r[O++]=h+q|0,r[O++]=m+z|0,r[O++]=v+S|0,r[O++]=g+E|0,r[O++]=y+N|0,r[O++]=b+P|0,r[O++]=k+j|0,r[O++]=_+V|0,r[O++]=R+K|0,r[O++]=I+F|0}const E_t=__t(I_t,{counterRight:!1,counterLength:4,allowShortKeys:!1}),C_t=new Uint8Array(16),iee=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(C_t.subarray(n))},A_t=new Uint8Array(32);function oee(e,t,n,r,i){const o=e(t,n,A_t),s=S_t.create(o);i&&iee(s,i),iee(s,r);const a=h_t(r.length,i?i.length:0,!0);s.update(a);const l=s.digest();return $0(o,a),l}const R_t=e=>(t,n,r)=>({encrypt(i,o){const s=i.length;o=tee(s+16,o,!1),o.set(i);const a=o.subarray(0,-16);e(t,n,a,a,1);const l=oee(e,t,n,a,r);return o.set(l,s),$0(l),o},decrypt(i,o){o=tee(i.length-16,o,!1);const s=i.subarray(0,-16),a=i.subarray(-16),l=oee(e,t,n,s,r);if(!u_t(a,l))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,n,o,o,1),$0(l),o}});f_t({blockSize:64,nonceLength:12,tagLength:16},R_t(E_t));let Vge=class extends CE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,R1t(t);const r=Wu(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),qc(o)}update(t){return zh(this),this.iHash.update(t),this}digestInto(t){zh(this),oc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Kge=(e,t,n)=>new Vge(e,t).update(n).digest();Kge.create=(e,t)=>new Vge(e,t);Uint8Array.from([0]);const z9=BigInt(0),q7=BigInt(1);function yI(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Jk(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Hge(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?z9:BigInt("0x"+e)}function AE(e){return Hge(R1(e))}function vI(e){return oc(e),Hge(R1(Uint8Array.from(e).reverse()))}function V9(e,t){return W9(e.toString(16).padStart(t*2,"0"))}function K9(e,t){return V9(e,t).reverse()}function Aa(e,t,n){let r;if(typeof t=="string")try{r=W9(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(U9(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const $8=e=>typeof e=="bigint"&&z9<=e;function T_t(e,t,n){return $8(e)&&$8(t)&&$8(n)&&t<=e&&e<n}function z7(e,t,n,r){if(!T_t(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function O_t(e){let t;for(t=0;e>z9;e>>=q7,t+=1);return t}const RE=e=>(q7<<BigInt(e))-q7;function N_t(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(e),s=r(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),d=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<t;){o=c();const v=o.slice();m.push(v),h+=o.length}return Xp(...m)};return(h,m)=>{l(),d(h);let v;for(;!(v=m(u()));)d();return l(),v}}function TE(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function see(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const Ma=BigInt(0),aa=BigInt(1),Qp=BigInt(2),P_t=BigInt(3),Gge=BigInt(4),Jge=BigInt(5),Zge=BigInt(8);function Yl(e,t){const n=e%t;return n>=Ma?n:t+n}function Rc(e,t,n){let r=e;for(;t-- >Ma;)r*=r,r%=n;return r}function aee(e,t){if(e===Ma)throw new Error("invert: expected non-zero number");if(t<=Ma)throw new Error("invert: expected positive modulus, got "+t);let n=Yl(e,t),r=t,i=Ma,o=aa;for(;n!==Ma;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==aa)throw new Error("invert: does not exist");return Yl(i,t)}function Yge(e,t){const n=(e.ORDER+aa)/Gge,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function B_t(e,t){const n=(e.ORDER-Jge)/Zge,r=e.mul(t,Qp),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,Qp),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function D_t(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-aa,n=0;for(;t%Qp===Ma;)t/=Qp,n++;let r=Qp;const i=Sv(e);for(;lee(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Yge;let o=i.pow(r,t);const s=(t+aa)/Qp;return function(a,l){if(a.is0(l))return l;if(lee(a,l)!==1)throw new Error("Cannot find square root");let c=n,d=a.mul(a.ONE,o),u=a.pow(l,t),h=a.pow(l,s);for(;!a.eql(u,a.ONE);){if(a.is0(u))return a.ZERO;let m=1,v=a.sqr(u);for(;!a.eql(v,a.ONE);)if(m++,v=a.sqr(v),m===c)throw new Error("Cannot find square root");const g=aa<<BigInt(c-m-1),y=a.pow(d,g);c=m,d=a.sqr(y),u=a.mul(u,d),h=a.mul(h,y)}return h}}function M_t(e){return e%Gge===P_t?Yge:e%Zge===Jge?B_t:D_t(e)}const j_t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $_t(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=j_t.reduce((r,i)=>(r[i]="function",r),t);return TE(e,n),e}function L_t(e,t,n){if(n<Ma)throw new Error("invalid exponent, negatives unsupported");if(n===Ma)return e.ONE;if(n===aa)return t;let r=e.ONE,i=t;for(;n>Ma;)n&aa&&(r=e.mul(r,i)),i=e.sqr(i),n>>=aa;return r}function Xge(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),o),r}function lee(e,t){const n=(e.ORDER-aa)/Qp,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function U_t(e,t){t!==void 0&&qh(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Sv(e,t,n=!1,r={}){if(e<=Ma)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=U_t(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:RE(s),ZERO:Ma,ONE:aa,create:d=>Yl(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ma<=d&&d<e},is0:d=>d===Ma,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&aa)===aa,neg:d=>Yl(-d,e),eql:(d,u)=>d===u,sqr:d=>Yl(d*d,e),add:(d,u)=>Yl(d+u,e),sub:(d,u)=>Yl(d-u,e),mul:(d,u)=>Yl(d*u,e),pow:(d,u)=>L_t(c,d,u),div:(d,u)=>Yl(d*aee(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>aee(d,e),sqrt:o||(d=>(l||(l=M_t(e)),l(c,d))),toBytes:d=>n?K9(d,a):V9(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?vI(d):AE(d)},invertBatch:d=>Xge(c,d),cmov:(d,u,h)=>h?u:d});return Object.freeze(c)}function Qge(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function eye(e){const t=Qge(e);return t+Math.ceil(t/2)}function F_t(e,t,n=!1){const r=e.length,i=Qge(t),o=eye(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?vI(e):AE(e),a=Yl(s,t-aa)+aa;return n?K9(a,i):V9(a,i)}const L0=BigInt(0),em=BigInt(1);function Eb(e,t){const n=t.negate();return e?n:t}function W_t(e,t,n){const r=o=>o.pz,i=Xge(e.Fp,n.map(r));return n.map((o,s)=>o.toAffine(i[s])).map(e.fromAffine)}function tye(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function L8(e,t){tye(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=RE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function cee(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=em);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function q_t(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function z_t(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const U8=new WeakMap,nye=new WeakMap;function F8(e){return nye.get(e)||1}function dee(e){if(e!==L0)throw new Error("invalid wNAF")}function V_t(e,t){return{constTimeNegate:Eb,hasPrecomputes(n){return F8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>L0;)r&em&&(i=i.add(o)),o=o.double(),r>>=em;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=L8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=L8(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=cee(i,l,a);i=c,u?s=s.add(Eb(m,r[v])):o=o.add(Eb(h,r[d]))}return dee(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=L8(n,t);for(let a=0;a<s.windows&&i!==L0;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=cee(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return dee(i),o},getPrecomputes(n,r,i){let o=U8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),U8.set(r,o))),o},wNAFCached(n,r,i){const o=F8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=F8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){tye(r,t),nye.set(n,r),U8.delete(n)}}}function K_t(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>L0||r>L0;)n&em&&(o=o.add(i)),r&em&&(s=s.add(i)),i=i.double(),n>>=em,r>>=em;return{p1:o,p2:s}}function H_t(e,t,n,r){q_t(n,e),z_t(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=O_t(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=RE(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((t.BITS-1)/l)*l;let h=s;for(let m=u;m>=0;m-=l){d.fill(s);for(let g=0;g<o;g++){const y=r[g],b=Number(y>>BigInt(m)&c);d[b]=d[b].add(n[g])}let v=s;for(let g=d.length-1,y=s;g>0;g--)y=y.add(d[g]),v=v.add(y);if(h=h.add(v),m!==0)for(let g=0;g<l;g++)h=h.double()}return h}function uee(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $_t(t),t}else return Sv(e)}function G_t(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const a=t[s];if(!(typeof a=="bigint"&&a>L0))throw new Error(`CURVE.${s} must be positive bigint`)}const r=uee(t.p,n.Fp),i=uee(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const s of o)if(!r.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dw=BigInt(0),ay=BigInt(1),Zk=BigInt(2);function J_t(e){return TE(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function Z_t(e){const t=J_t(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:o,randomBytes:s}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=s||Bge,c=a?255:448,d=a?32:56,u=BigInt(a?9:5),h=BigInt(a?121665:39081),m=a?Zk**BigInt(254):Zk**BigInt(447),v=a?BigInt(8)*Zk**BigInt(251)-ay:BigInt(4)*Zk**BigInt(445)-ay,g=m+v+ay,y=A=>Yl(A,n),b=k(u);function k(A){return K9(y(A),d)}function _(A){const U=Aa("u coordinate",A,d);return a&&(U[31]&=127),y(vI(U))}function R(A){return vI(i(Aa("scalar",A,d)))}function I(A,U){const $=D(_(U),R(A));if($===Dw)throw new Error("invalid private or public key received");return k($)}function T(A){return I(A,b)}function M(A,U,$){const q=y(A*(U-$));return U=y(U-q),$=y($+q),{x_2:U,x_3:$}}function D(A,U){z7("u",A,Dw,n),z7("scalar",U,m,g);const $=U,q=A;let z=ay,S=Dw,E=A,N=ay,P=Dw;for(let V=BigInt(c-1);V>=Dw;V--){const K=$>>V&ay;P^=K,{x_2:z,x_3:E}=M(P,z,E),{x_2:S,x_3:N}=M(P,S,N),P=K;const F=z+S,O=y(F*F),W=z-S,G=y(W*W),Y=O-G,ie=E+N,ye=E-N,me=y(ye*F),be=y(ie*W),Me=me+be,Fe=me-be;E=y(Me*Me),N=y(q*y(Fe*Fe)),z=y(O*G),S=y(Y*(O+y(h*Y)))}({x_2:z,x_3:E}=M(P,z,E)),{x_2:S,x_3:N}=M(P,S,N);const j=o(S);return y(z*j)}return{scalarMult:I,scalarMultBase:T,getSharedSecret:(A,U)=>I(A,U),getPublicKey:A=>T(A),utils:{randomPrivateKey:()=>l(d)},GuBytes:b.slice()}}BigInt(0);const Y_t=BigInt(1),fee=BigInt(2),X_t=BigInt(3),Q_t=BigInt(5);BigInt(8);const rye={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ext(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=rye.p,s=e*e%o*e%o,a=Rc(s,fee,o)*s%o,l=Rc(a,Y_t,o)*e%o,c=Rc(l,Q_t,o)*l%o,d=Rc(c,t,o)*c%o,u=Rc(d,n,o)*d%o,h=Rc(u,r,o)*u%o,m=Rc(h,i,o)*h%o,v=Rc(m,i,o)*h%o,g=Rc(v,t,o)*c%o;return{pow_p_5_8:Rc(g,fee,o)*e%o,b2:s}}function txt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}(()=>{const e=rye.p;return Z_t({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=ext(t);return Yl(Rc(n,X_t,e)*r,e)},adjustScalarBytes:txt})})();function hee(e){e.lowS!==void 0&&yI("lowS",e.lowS),e.prehash!==void 0&&yI("prehash",e.prehash)}let nxt=class extends Error{constructor(t=""){super(t)}};const Eu={Err:nxt,_tlv:{encode:(e,t)=>{const{Err:n}=Eu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Jk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Jk(i.length/2|128):"";return Jk(e)+o+i+t},decode(e,t){const{Err:n}=Eu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Eu;if(e<Cb)throw new t("integer: negative integers are not allowed");let n=Jk(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Eu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return AE(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Eu,i=Aa("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Eu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Cb=BigInt(0),Ab=BigInt(1),rxt=BigInt(2),Yk=BigInt(3),ixt=BigInt(4);function oxt(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function iye(e,t,n){const{BYTES:r}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=Aa("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function sxt(e,t={}){const{Fp:n,Fn:r}=G_t("weierstrass",e,t),{h:i,n:o}=e;TE(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(D,A,U){const{x:$,y:q}=A.toAffine(),z=n.toBytes($);if(yI("isCompressed",U),U){a();const S=!n.isOdd(q);return Xp(oye(S),z)}else return Xp(Uint8Array.of(4),z,n.toBytes(q))}function c(D){oc(D);const A=n.BYTES,U=A+1,$=2*A+1,q=D.length,z=D[0],S=D.subarray(1);if(q===U&&(z===2||z===3)){const E=n.fromBytes(S);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const N=h(E);let P;try{P=n.sqrt(N)}catch(V){const K=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}a();const j=n.isOdd(P);return(z&1)===1!==j&&(P=n.neg(P)),{x:E,y:P}}else if(q===$&&z===4){const E=n.fromBytes(S.subarray(A*0,A*1)),N=n.fromBytes(S.subarray(A*1,A*2));if(!m(E,N))throw new Error("bad point: is not on curve");return{x:E,y:N}}else throw new Error(`bad point: got length ${q}, expected compressed=${U} or uncompressed=${$}`)}const d=t.toBytes||l,u=t.fromBytes||c,h=oxt(n,e.a,e.b);function m(D,A){const U=n.sqr(A),$=h(D);return n.eql(U,$)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,Yk),ixt),g=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,g)))throw new Error("bad curve params: a or b");function y(D,A,U=!1){if(!n.isValid(A)||U&&n.is0(A))throw new Error(`bad point coordinate ${D}`);return A}function b(D){if(!(D instanceof I))throw new Error("ProjectivePoint expected")}const k=see((D,A)=>{const{px:U,py:$,pz:q}=D;if(n.eql(q,n.ONE))return{x:U,y:$};const z=D.is0();A==null&&(A=z?n.ONE:n.inv(q));const S=n.mul(U,A),E=n.mul($,A),N=n.mul(q,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:S,y:E}}),_=see(D=>{if(D.is0()){if(t.allowInfinityPoint&&!n.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:A,y:U}=D.toAffine();if(!n.isValid(A)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!m(A,U))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(D,A,U,$,q){return U=new I(n.mul(U.px,D),U.py,U.pz),A=Eb($,A),U=Eb(q,U),A.add(U)}class I{constructor(A,U,$){this.px=y("x",A),this.py=y("y",U,!0),this.pz=y("z",$),Object.freeze(this)}static fromAffine(A){const{x:U,y:$}=A||{};if(!A||!n.isValid(U)||!n.isValid($))throw new Error("invalid affine point");if(A instanceof I)throw new Error("projective point not allowed");return n.is0(U)&&n.is0($)?I.ZERO:new I(U,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return W_t(I,"pz",A)}static fromBytes(A){return oc(A),I.fromHex(A)}static fromHex(A){const U=I.fromAffine(u(Aa("pointHex",A)));return U.assertValidity(),U}static fromPrivateKey(A){const U=iye(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(U(A))}static msm(A,U){return H_t(I,r,A,U)}precompute(A=8,U=!0){return M.setWindowSize(this,A),U||this.multiply(Yk),this}_setWindowSize(A){this.precompute(A)}assertValidity(){_(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){b(A);const{px:U,py:$,pz:q}=this,{px:z,py:S,pz:E}=A,N=n.eql(n.mul(U,E),n.mul(z,q)),P=n.eql(n.mul($,E),n.mul(S,q));return N&&P}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:U}=e,$=n.mul(U,Yk),{px:q,py:z,pz:S}=this;let E=n.ZERO,N=n.ZERO,P=n.ZERO,j=n.mul(q,q),V=n.mul(z,z),K=n.mul(S,S),F=n.mul(q,z);return F=n.add(F,F),P=n.mul(q,S),P=n.add(P,P),E=n.mul(A,P),N=n.mul($,K),N=n.add(E,N),E=n.sub(V,N),N=n.add(V,N),N=n.mul(E,N),E=n.mul(F,E),P=n.mul($,P),K=n.mul(A,K),F=n.sub(j,K),F=n.mul(A,F),F=n.add(F,P),P=n.add(j,j),j=n.add(P,j),j=n.add(j,K),j=n.mul(j,F),N=n.add(N,j),K=n.mul(z,S),K=n.add(K,K),j=n.mul(K,F),E=n.sub(E,j),P=n.mul(K,V),P=n.add(P,P),P=n.add(P,P),new I(E,N,P)}add(A){b(A);const{px:U,py:$,pz:q}=this,{px:z,py:S,pz:E}=A;let N=n.ZERO,P=n.ZERO,j=n.ZERO;const V=e.a,K=n.mul(e.b,Yk);let F=n.mul(U,z),O=n.mul($,S),W=n.mul(q,E),G=n.add(U,$),Y=n.add(z,S);G=n.mul(G,Y),Y=n.add(F,O),G=n.sub(G,Y),Y=n.add(U,q);let ie=n.add(z,E);return Y=n.mul(Y,ie),ie=n.add(F,W),Y=n.sub(Y,ie),ie=n.add($,q),N=n.add(S,E),ie=n.mul(ie,N),N=n.add(O,W),ie=n.sub(ie,N),j=n.mul(V,Y),N=n.mul(K,W),j=n.add(N,j),N=n.sub(O,j),j=n.add(O,j),P=n.mul(N,j),O=n.add(F,F),O=n.add(O,F),W=n.mul(V,W),Y=n.mul(K,Y),O=n.add(O,W),W=n.sub(F,W),W=n.mul(V,W),Y=n.add(Y,W),F=n.mul(O,Y),P=n.add(P,F),F=n.mul(ie,Y),N=n.mul(G,N),N=n.sub(N,F),F=n.mul(G,O),j=n.mul(ie,j),j=n.add(j,F),new I(N,P,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(I.ZERO)}multiply(A){const{endo:U}=t;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let $,q;const z=S=>M.wNAFCached(this,S,I.normalizeZ);if(U){const{k1neg:S,k1:E,k2neg:N,k2:P}=U.splitScalar(A),{p:j,f:V}=z(E),{p:K,f:F}=z(P);q=V.add(F),$=R(U.beta,j,K,S,N)}else{const{p:S,f:E}=z(A);$=S,q=E}return I.normalizeZ([$,q])[0]}multiplyUnsafe(A){const{endo:U}=t,$=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===Cb||$.is0())return I.ZERO;if(A===Ab)return $;if(M.hasPrecomputes(this))return this.multiply(A);if(U){const{k1neg:q,k1:z,k2neg:S,k2:E}=U.splitScalar(A),{p1:N,p2:P}=K_t(I,$,z,E);return R(U.beta,N,P,q,S)}else return M.wNAFCachedUnsafe($,A)}multiplyAndAddUnsafe(A,U,$){const q=this.multiplyUnsafe(U).add(A.multiplyUnsafe($));return q.is0()?void 0:q}toAffine(A){return k(this,A)}isTorsionFree(){const{isTorsionFree:A}=t;return i===Ab?!0:A?A(I,this):M.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:A}=t;return i===Ab?this:A?A(I,this):this.multiplyUnsafe(i)}toBytes(A=!0){return yI("isCompressed",A),this.assertValidity(),d(I,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return R1(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const T=r.BITS,M=V_t(I,t.endo?Math.ceil(T/2):T);return I}function oye(e){return Uint8Array.of(e?2:3)}function axt(e,t,n={}){TE(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Bge,i=t.hmac||(($,...q)=>Kge(t.hash,$,Xp(...q))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c($){const q=a>>Ab;return $>q}function d($){return c($)?s.neg($):$}function u($,q){if(!s.isValidNot0(q))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(q,z,S){u("r",q),u("s",z),this.r=q,this.s=z,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(q){const z=s.BYTES,S=Aa("compactSignature",q,z*2);return new h(s.fromBytes(S.subarray(0,z)),s.fromBytes(S.subarray(z,z*2)))}static fromDER(q){const{r:z,s:S}=Eu.toSig(Aa("DER",q));return new h(z,S)}assertValidity(){}addRecoveryBit(q){return new h(this.r,this.s,q)}recoverPublicKey(q){const z=o.ORDER,{r:S,s:E,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*rxt<z&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=N===2||N===3?S+a:S;if(!o.isValid(P))throw new Error("recovery id 2 or 3 invalid");const j=o.toBytes(P),V=e.fromHex(Xp(oye((N&1)===0),j)),K=s.inv(P),F=_(Aa("msgHash",q)),O=s.create(-F*K),W=s.create(E*K),G=e.BASE.multiplyUnsafe(O).add(V.multiplyUnsafe(W));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(q){if(q==="compact")return Xp(s.toBytes(this.r),s.toBytes(this.s));if(q==="der")return W9(Eu.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return R1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return R1(this.toBytes("compact"))}}const m=iye(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=a;return F_t(r(eye($)),$)},precompute($=8,q=e.BASE){return q.precompute($,!1)}};function g($,q=!0){return e.fromPrivateKey($).toBytes(q)}function y($){if(typeof $=="bigint")return!1;if($ instanceof e)return!0;const q=Aa("key",$).length,z=o.BYTES,S=z+1,E=2*z+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===S))return q===S||q===E}function b($,q,z=!0){if(y($)===!0)throw new Error("first arg must be private key");if(y(q)===!1)throw new Error("second arg must be public key");return e.fromHex(q).multiply(m($)).toBytes(z)}const k=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const q=AE($),z=$.length*8-l;return z>0?q>>BigInt(z):q},_=t.bits2int_modN||function($){return s.create(k($))},R=RE(l);function I($){return z7("num < 2^"+l,$,Cb,R),s.toBytes($)}function T($,q,z=M){if(["recovered","canonical"].some(G=>G in z))throw new Error("sign() legacy options not supported");const{hash:S}=t;let{lowS:E,prehash:N,extraEntropy:P}=z;E==null&&(E=!0),$=Aa("msgHash",$),hee(z),N&&($=Aa("prehashed msgHash",S($)));const j=_($),V=m(q),K=[I(V),I(j)];if(P!=null&&P!==!1){const G=P===!0?r(o.BYTES):P;K.push(Aa("extraEntropy",G))}const F=Xp(...K),O=j;function W(G){const Y=k(G);if(!s.isValidNot0(Y))return;const ie=s.inv(Y),ye=e.BASE.multiply(Y).toAffine(),me=s.create(ye.x);if(me===Cb)return;const be=s.create(ie*s.create(O+me*V));if(be===Cb)return;let Me=(ye.x===me?0:2)|Number(ye.y&Ab),Fe=be;return E&&c(be)&&(Fe=d(be),Me^=1),new h(me,Fe,Me)}return{seed:F,k2sig:W}}const M={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function A($,q,z=M){const{seed:S,k2sig:E}=T($,q,z);return N_t(t.hash.outputLen,s.BYTES,i)(S,E)}e.BASE.precompute(8);function U($,q,z,S=D){const E=$;q=Aa("msgHash",q),z=Aa("publicKey",z),hee(S);const{lowS:N,prehash:P,format:j}=S;if("strict"in S)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const V=typeof E=="string"||U9(E),K=!V&&!j&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!V&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,O;try{if(K)if(j===void 0||j==="js")F=new h(E.r,E.s);else throw new Error("invalid format");if(V){try{j!=="compact"&&(F=h.fromDER(E))}catch(Me){if(!(Me instanceof Eu.Err))throw Me}!F&&j!=="der"&&(F=h.fromCompact(E))}O=e.fromHex(z)}catch{return!1}if(!F||N&&F.hasHighS())return!1;P&&(q=t.hash(q));const{r:W,s:G}=F,Y=_(q),ie=s.inv(G),ye=s.create(Y*ie),me=s.create(W*ie),be=e.BASE.multiplyUnsafe(ye).add(O.multiplyUnsafe(me));return be.is0()?!1:s.create(be.x)===W}return Object.freeze({getPublicKey:g,getSharedSecret:b,sign:A,verify:U,utils:v,Point:e,Signature:h})}function lxt(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Sv(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function cxt(e){const{CURVE:t,curveOpts:n}=lxt(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function dxt(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function uxt(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=cxt(e),i=sxt(t,n),o=axt(i,r,n);return dxt(e,o)}function V7(e,t){const n=r=>uxt({...e,hash:r});return{...n(t),create:n}}const sye={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},aye={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},lye={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},fxt=Sv(sye.p),hxt=Sv(aye.p),pxt=Sv(lye.p);V7({...sye,Fp:fxt,lowS:!1},Q1t);V7({...aye,Fp:hxt,lowS:!1},t_t),V7({...lye,Fp:pxt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},e_t);const mxt={USER_DISCONNECTED:{message:"User disconnected.",code:6e3}};var W8,pee;function gxt(){if(pee)return W8;pee=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var g=0,y=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,g++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,M=_-1;(I!==0||T<y)&&M!==-1;M--,T++)I+=256*R[M]>>>0,R[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");y=T,b++}for(var D=_-y;D!==_&&R[D]===0;)D++;for(var A=l.repeat(g);D<_;++D)A+=t.charAt(R[D]);return A}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var g=0,y=0,b=0;v[g]===l;)y++,g++;for(var k=(v.length-g)*c+1>>>0,_=new Uint8Array(k);v[g];){var R=v.charCodeAt(g);if(R>255)return;var I=n[R];if(I===255)return;for(var T=0,M=k-1;(I!==0||T<b)&&M!==-1;M--,T++)I+=a*_[M]>>>0,_[M]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=T,g++}for(var D=k-b;D!==k&&_[D]===0;)D++;for(var A=new Uint8Array(y+(k-D)),U=y;D!==k;)A[U++]=_[D++];return A}function m(v){var g=h(v);if(g)return g;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:m}}return W8=e,W8}var q8,mee;function yxt(){return mee||(mee=1,q8=gxt()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),q8}var vxt=yxt();const Qi=Rr(vxt);var z8={exports:{}},gee;function wxt(){return gee||(gee=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(z8)),z8.exports}var bxt=wxt();const _xt=Rr(bxt);var xxt="4.57.1";function kxt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}var Xk={exports:{}},yee;function Sxt(){if(yee)return Xk.exports;yee=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(I,T,M){return Function.prototype.apply.call(I,T,M)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:n=function(I){return Object.getOwnPropertyNames(I)};function r(R){console&&console.warn&&console.warn(R)}var i=Number.isNaN||function(I){return I!==I};function o(){o.init.call(this)}Xk.exports=o,Xk.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");s=R}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function l(R){return R._maxListeners===void 0?o.defaultMaxListeners:R._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(I){for(var T=[],M=1;M<arguments.length;M++)T.push(arguments[M]);var D=I==="error",A=this._events;if(A!==void 0)D=D&&A.error===void 0;else if(!D)return!1;if(D){var U;if(T.length>0&&(U=T[0]),U instanceof Error)throw U;var $=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw $.context=U,$}var q=A[I];if(q===void 0)return!1;if(typeof q=="function")t(q,this,T);else for(var z=q.length,S=v(q,z),M=0;M<z;++M)t(S[M],this,T);return!0};function c(R,I,T,M){var D,A,U;if(a(T),A=R._events,A===void 0?(A=R._events=Object.create(null),R._eventsCount=0):(A.newListener!==void 0&&(R.emit("newListener",I,T.listener?T.listener:T),A=R._events),U=A[I]),U===void 0)U=A[I]=T,++R._eventsCount;else if(typeof U=="function"?U=A[I]=M?[T,U]:[U,T]:M?U.unshift(T):U.push(T),D=l(R),D>0&&U.length>D&&!U.warned){U.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=R,$.type=I,$.count=U.length,r($)}return R}o.prototype.addListener=function(I,T){return c(this,I,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(I,T){return c(this,I,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(R,I,T){var M={fired:!1,wrapFn:void 0,target:R,type:I,listener:T},D=d.bind(M);return D.listener=T,M.wrapFn=D,D}o.prototype.once=function(I,T){return a(T),this.on(I,u(this,I,T)),this},o.prototype.prependOnceListener=function(I,T){return a(T),this.prependListener(I,u(this,I,T)),this},o.prototype.removeListener=function(I,T){var M,D,A,U,$;if(a(T),D=this._events,D===void 0)return this;if(M=D[I],M===void 0)return this;if(M===T||M.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete D[I],D.removeListener&&this.emit("removeListener",I,M.listener||T));else if(typeof M!="function"){for(A=-1,U=M.length-1;U>=0;U--)if(M[U]===T||M[U].listener===T){$=M[U].listener,A=U;break}if(A<0)return this;A===0?M.shift():g(M,A),M.length===1&&(D[I]=M[0]),D.removeListener!==void 0&&this.emit("removeListener",I,$||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(I){var T,M,D;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[I]),this;if(arguments.length===0){var A=Object.keys(M),U;for(D=0;D<A.length;++D)U=A[D],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=M[I],typeof T=="function")this.removeListener(I,T);else if(T!==void 0)for(D=T.length-1;D>=0;D--)this.removeListener(I,T[D]);return this};function h(R,I,T){var M=R._events;if(M===void 0)return[];var D=M[I];return D===void 0?[]:typeof D=="function"?T?[D.listener||D]:[D]:T?y(D):v(D,D.length)}o.prototype.listeners=function(I){return h(this,I,!0)},o.prototype.rawListeners=function(I){return h(this,I,!1)},o.listenerCount=function(R,I){return typeof R.listenerCount=="function"?R.listenerCount(I):m.call(R,I)},o.prototype.listenerCount=m;function m(R){var I=this._events;if(I!==void 0){var T=I[R];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(R,I){for(var T=new Array(I),M=0;M<I;++M)T[M]=R[M];return T}function g(R,I){for(;I+1<R.length;I++)R[I]=R[I+1];R.pop()}function y(R){for(var I=new Array(R.length),T=0;T<I.length;++T)I[T]=R[T].listener||R[T];return I}function b(R,I){return new Promise(function(T,M){function D(U){R.removeListener(I,A),M(U)}function A(){typeof R.removeListener=="function"&&R.removeListener("error",D),T([].slice.call(arguments))}_(R,I,A,{once:!0}),I!=="error"&&k(R,D,{once:!0})})}function k(R,I,T){typeof R.on=="function"&&_(R,"error",I,T)}function _(R,I,T,M){if(typeof R.on=="function")M.once?R.once(I,T):R.on(I,T);else if(typeof R.addEventListener=="function")R.addEventListener(I,function D(A){M.once&&R.removeEventListener(I,D),T(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return Xk.exports}var Xc=Sxt();const cye=Rr(Xc);class pg{}let Ixt=class extends pg{constructor(t){super()}};const vee=It.FIVE_SECONDS,mg={pulse:"heartbeat_pulse"};let Ext=class dye extends Ixt{constructor(t){super(t),this.events=new Xc.EventEmitter,this.interval=vee,this.interval=(t==null?void 0:t.interval)||vee}static async init(t){const n=new dye(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),It.toMiliseconds(this.interval))}pulse(){this.events.emit(mg.pulse)}};const Cxt=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Axt=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Rxt=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Txt(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Oxt(e);return}return t}function Oxt(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Qk(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Rxt.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Cxt.test(e)||Axt.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Txt)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function Nxt(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function $o(e,...t){try{return Nxt(e(...t))}catch(n){return Promise.reject(n)}}function Pxt(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function Bxt(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function K2(e){if(Pxt(e))return String(e);if(Bxt(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return K2(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const K7="base64:";function Dxt(e){return typeof e=="string"?e:K7+$xt(e)}function Mxt(e){return typeof e!="string"||!e.startsWith(K7)?e:jxt(e.slice(K7.length))}function jxt(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function $xt(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Ia(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Lxt(...e){return Ia(e.join(":"))}function e2(e){return e=Ia(e),e?e+":":""}function Uxt(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function Fxt(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const Wxt="memory",qxt=()=>{const e=new Map;return{name:Wxt,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function zxt(e={}){const t={mounts:{"":e.driver||qxt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const d of t.mountpoints)if(c.startsWith(d))return{base:d,relativeKey:c.slice(d.length),driver:t.mounts[d]};return{base:"",relativeKey:c,driver:t.mounts[""]}},r=(c,d)=>t.mountpoints.filter(u=>u.startsWith(c)||d&&c.startsWith(u)).map(u=>({relativeBase:c.length>u.length?c.slice(u.length):void 0,mountpoint:u,driver:t.mounts[u]})),i=(c,d)=>{if(t.watching){d=Ia(d);for(const u of t.watchListeners)u(c,d)}},o=async()=>{if(!t.watching){t.watching=!0;for(const c in t.mounts)t.unwatch[c]=await wee(t.mounts[c],i,c)}},s=async()=>{if(t.watching){for(const c in t.unwatch)await t.unwatch[c]();t.unwatch={},t.watching=!1}},a=(c,d,u)=>{const h=new Map,m=v=>{let g=h.get(v.base);return g||(g={driver:v.driver,base:v.base,items:[]},h.set(v.base,g)),g};for(const v of c){const g=typeof v=="string",y=Ia(g?v:v.key),b=g?void 0:v.value,k=g||!v.options?d:{...d,...v.options},_=n(y);m(_).items.push({key:y,value:b,relativeKey:_.relativeKey,options:k})}return Promise.all([...h.values()].map(v=>u(v))).then(v=>v.flat())},l={hasItem(c,d={}){c=Ia(c);const{relativeKey:u,driver:h}=n(c);return $o(h.hasItem,u,d)},getItem(c,d={}){c=Ia(c);const{relativeKey:u,driver:h}=n(c);return $o(h.getItem,u,d).then(m=>Qk(m))},getItems(c,d={}){return a(c,d,u=>u.driver.getItems?$o(u.driver.getItems,u.items.map(h=>({key:h.relativeKey,options:h.options})),d).then(h=>h.map(m=>({key:Lxt(u.base,m.key),value:Qk(m.value)}))):Promise.all(u.items.map(h=>$o(u.driver.getItem,h.relativeKey,h.options).then(m=>({key:h.key,value:Qk(m)})))))},getItemRaw(c,d={}){c=Ia(c);const{relativeKey:u,driver:h}=n(c);return h.getItemRaw?$o(h.getItemRaw,u,d):$o(h.getItem,u,d).then(m=>Mxt(m))},async setItem(c,d,u={}){if(d===void 0)return l.removeItem(c);c=Ia(c);const{relativeKey:h,driver:m}=n(c);m.setItem&&(await $o(m.setItem,h,K2(d),u),m.watch||i("update",c))},async setItems(c,d){await a(c,d,async u=>{if(u.driver.setItems)return $o(u.driver.setItems,u.items.map(h=>({key:h.relativeKey,value:K2(h.value),options:h.options})),d);u.driver.setItem&&await Promise.all(u.items.map(h=>$o(u.driver.setItem,h.relativeKey,K2(h.value),h.options)))})},async setItemRaw(c,d,u={}){if(d===void 0)return l.removeItem(c,u);c=Ia(c);const{relativeKey:h,driver:m}=n(c);if(m.setItemRaw)await $o(m.setItemRaw,h,d,u);else if(m.setItem)await $o(m.setItem,h,Dxt(d),u);else return;m.watch||i("update",c)},async removeItem(c,d={}){typeof d=="boolean"&&(d={removeMeta:d}),c=Ia(c);const{relativeKey:u,driver:h}=n(c);h.removeItem&&(await $o(h.removeItem,u,d),(d.removeMeta||d.removeMata)&&await $o(h.removeItem,u+"$",d),h.watch||i("remove",c))},async getMeta(c,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),c=Ia(c);const{relativeKey:u,driver:h}=n(c),m=Object.create(null);if(h.getMeta&&Object.assign(m,await $o(h.getMeta,u,d)),!d.nativeOnly){const v=await $o(h.getItem,u+"$",d).then(g=>Qk(g));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(m,v))}return m},setMeta(c,d,u={}){return this.setItem(c+"$",d,u)},removeMeta(c,d={}){return this.removeItem(c+"$",d)},async getKeys(c,d={}){var y;c=e2(c);const u=r(c,!0);let h=[];const m=[];let v=!0;for(const b of u){(y=b.driver.flags)!=null&&y.maxDepth||(v=!1);const k=await $o(b.driver.getKeys,b.relativeBase,d);for(const _ of k){const R=b.mountpoint+Ia(_);h.some(I=>R.startsWith(I))||m.push(R)}h=[b.mountpoint,...h.filter(_=>!_.startsWith(b.mountpoint))]}const g=d.maxDepth!==void 0&&!v;return m.filter(b=>(!g||Uxt(b,d.maxDepth))&&Fxt(b,c))},async clear(c,d={}){c=e2(c),await Promise.all(r(c,!1).map(async u=>{if(u.driver.clear)return $o(u.driver.clear,u.relativeBase,d);if(u.driver.removeItem){const h=await u.driver.getKeys(u.relativeBase||"",d);return Promise.all(h.map(m=>u.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(c=>bee(c)))},async watch(c){return await o(),t.watchListeners.push(c),async()=>{t.watchListeners=t.watchListeners.filter(d=>d!==c),t.watchListeners.length===0&&await s()}},async unwatch(){t.watchListeners=[],await s()},mount(c,d){if(c=e2(c),c&&t.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(t.mountpoints.push(c),t.mountpoints.sort((u,h)=>h.length-u.length)),t.mounts[c]=d,t.watching&&Promise.resolve(wee(d,i,c)).then(u=>{t.unwatch[c]=u}).catch(console.error),l},async unmount(c,d=!0){var u,h;c=e2(c),!(!c||!t.mounts[c])&&(t.watching&&c in t.unwatch&&((h=(u=t.unwatch)[c])==null||h.call(u),delete t.unwatch[c]),d&&await bee(t.mounts[c]),t.mountpoints=t.mountpoints.filter(m=>m!==c),delete t.mounts[c])},getMount(c=""){c=Ia(c)+":";const d=n(c);return{driver:d.driver,base:d.base}},getMounts(c="",d={}){return c=Ia(c),r(c,d.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(c,d={})=>l.getKeys(c,d),get:(c,d={})=>l.getItem(c,d),set:(c,d,u={})=>l.setItem(c,d,u),has:(c,d={})=>l.hasItem(c,d),del:(c,d={})=>l.removeItem(c,d),remove:(c,d={})=>l.removeItem(c,d)};return l}function wee(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function bee(e){typeof e.dispose=="function"&&await $o(e.dispose)}function gg(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function uye(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=gg(n);return(i,o)=>r.then(s=>o(s.transaction(t,i).objectStore(t)))}let V8;function q_(){return V8||(V8=uye("keyval-store","keyval")),V8}function _ee(e,t=q_()){return t("readonly",n=>gg(n.get(e)))}function Vxt(e,t,n=q_()){return n("readwrite",r=>(r.put(t,e),gg(r.transaction)))}function Kxt(e,t=q_()){return t("readwrite",n=>(n.delete(e),gg(n.transaction)))}function Hxt(e=q_()){return e("readwrite",t=>(t.clear(),gg(t.transaction)))}function Gxt(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},gg(e.transaction)}function Jxt(e=q_()){return e("readonly",t=>{if(t.getAllKeys)return gg(t.getAllKeys());const n=[];return Gxt(t,r=>n.push(r.key)).then(()=>n)})}const Zxt="idb-keyval";var Yxt=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=uye(e.dbName,e.storeName)),{name:Zxt,options:e,async hasItem(i){return!(typeof await _ee(n(i),r)>"u")},async getItem(i){return await _ee(n(i),r)??null},setItem(i,o){return Vxt(n(i),o,r)},removeItem(i){return Kxt(n(i),r)},getKeys(){return Jxt(r)},clear(){return Hxt(r)}}};const Xxt="WALLET_CONNECT_V2_INDEXED_DB",Qxt="keyvaluestorage";let ekt=class{constructor(){this.indexedDb=zxt({driver:Yxt({dbName:Xxt,storeName:Qxt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Bm(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var K8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H2={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof K8<"u"&&K8.localStorage?H2.exports=K8.localStorage:typeof window<"u"&&window.localStorage?H2.exports=window.localStorage:H2.exports=new t})();function tkt(e){var t;return[e[0],j0((t=e[1])!=null?t:"")]}let nkt=class{constructor(){this.localStorage=H2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(tkt)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return j0(n)}async setItem(t,n){this.localStorage.setItem(t,Bm(n))}async removeItem(t){this.localStorage.removeItem(t)}};const rkt="wc_storage_version",xee=1,ikt=async(e,t,n)=>{const r=rkt,i=await t.getItem(r);if(i&&i>=xee){n(t);return}const o=await e.getKeys();if(!o.length){n(t);return}const s=[];for(;o.length;){const a=o.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await e.getItem(a);await t.setItem(a,c),s.push(a)}}await t.setItem(r,xee),n(t),okt(e,s)},okt=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let skt=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new nkt;this.storage=t;try{const n=new ekt;ikt(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var H8,kee;function akt(){if(kee)return H8;kee=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}H8=t;function t(n,r,i){var o=i&&i.stringify||e,s=1;if(typeof n=="object"&&n!==null){var a=r.length+s;if(a===1)return n;var l=new Array(a);l[0]=o(n);for(var c=1;c<a;c++)l[c]=o(r[c]);return l.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var u="",h=1-s,m=-1,v=n&&n.length||0,g=0;g<v;){if(n.charCodeAt(g)===37&&g+1<v){switch(m=m>-1?m:0,n.charCodeAt(g+1)){case 100:case 102:if(h>=d||r[h]==null)break;m<g&&(u+=n.slice(m,g)),u+=Number(r[h]),m=g+2,g++;break;case 105:if(h>=d||r[h]==null)break;m<g&&(u+=n.slice(m,g)),u+=Math.floor(Number(r[h])),m=g+2,g++;break;case 79:case 111:case 106:if(h>=d||r[h]===void 0)break;m<g&&(u+=n.slice(m,g));var y=typeof r[h];if(y==="string"){u+="'"+r[h]+"'",m=g+2,g++;break}if(y==="function"){u+=r[h].name||"<anonymous>",m=g+2,g++;break}u+=o(r[h]),m=g+2,g++;break;case 115:if(h>=d)break;m<g&&(u+=n.slice(m,g)),u+=String(r[h]),m=g+2,g++;break;case 37:m<g&&(u+=n.slice(m,g)),u+="%",m=g+2,g++,h--;break}++h}++g}return m===-1?n:(m<v&&(u+=n.slice(m)),u)}return H8}var G8,See;function lkt(){if(See)return G8;See=1;const e=akt();G8=i;const t=I().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:v,res:v,err:h};function r(T,M){return Array.isArray(T)?T.filter(function(A){return A!=="!stdSerializers.err"}):T===!0?Object.keys(M):!1}function i(T){T=T||{},T.browser=T.browser||{};const M=T.browser.transmit;if(M&&typeof M.send!="function")throw Error("pino: transmit option must have a send function");const D=T.browser.write||t;T.browser.write&&(T.browser.asObject=!0);const A=T.serializers||{},U=r(T.browser.serialize,A);let $=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&($=!1);const q=["error","fatal","warn","info","debug","trace"];typeof D=="function"&&(D.error=D.fatal=D.warn=D.info=D.debug=D.trace=D),T.enabled===!1&&(T.level="silent");const z=T.level||"info",S=Object.create(D);S.log||(S.log=y),Object.defineProperty(S,"levelVal",{get:N}),Object.defineProperty(S,"level",{get:P,set:j});const E={transmit:M,serialize:U,asObject:T.browser.asObject,levels:q,timestamp:m(T)};S.levels=i.levels,S.level=z,S.setMaxListeners=S.getMaxListeners=S.emit=S.addListener=S.on=S.prependListener=S.once=S.prependOnceListener=S.removeListener=S.removeAllListeners=S.listeners=S.listenerCount=S.eventNames=S.write=S.flush=y,S.serializers=A,S._serialize=U,S._stdErrSerialize=$,S.child=V,M&&(S._logEvent=u());function N(){return this.level==="silent"?1/0:this.levels.values[this.level]}function P(){return this._level}function j(K){if(K!=="silent"&&!this.levels.values[K])throw Error("unknown level "+K);this._level=K,o(E,S,"error","log"),o(E,S,"fatal","error"),o(E,S,"warn","error"),o(E,S,"info","log"),o(E,S,"debug","log"),o(E,S,"trace","log")}function V(K,F){if(!K)throw new Error("missing bindings for child Pino");F=F||{},U&&K.serializers&&(F.serializers=K.serializers);const O=F.serializers;if(U&&O){var W=Object.assign({},A,O),G=T.browser.serialize===!0?Object.keys(W):U;delete K.serializers,l([K],G,W,this._stdErrSerialize)}function Y(ie){this._childLevel=(ie._childLevel|0)+1,this.error=c(ie,K,"error"),this.fatal=c(ie,K,"fatal"),this.warn=c(ie,K,"warn"),this.info=c(ie,K,"info"),this.debug=c(ie,K,"debug"),this.trace=c(ie,K,"trace"),W&&(this.serializers=W,this._serialize=G),M&&(this._logEvent=u([].concat(ie._logEvent.bindings,K)))}return Y.prototype=this,new Y(this)}return S}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:k,unixTime:_,isoTime:R});function o(T,M,D,A){const U=Object.getPrototypeOf(M);M[D]=M.levelVal>M.levels.values[D]?y:U[D]?U[D]:t[D]||t[A]||y,s(T,M,D)}function s(T,M,D){!T.transmit&&M[D]===y||(M[D]=(function(A){return function(){const $=T.timestamp(),q=new Array(arguments.length),z=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var S=0;S<q.length;S++)q[S]=arguments[S];if(T.serialize&&!T.asObject&&l(q,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?A.call(z,a(this,D,q,$)):A.apply(z,q),T.transmit){const E=T.transmit.level||M.level,N=i.levels.values[E],P=i.levels.values[D];if(P<N)return;d(this,{ts:$,methodLevel:D,methodValue:P,transmitValue:i.levels.values[T.transmit.level||M.level],send:T.transmit.send,val:M.levelVal},q)}}})(M[D]))}function a(T,M,D,A){T._serialize&&l(D,T._serialize,T.serializers,T._stdErrSerialize);const U=D.slice();let $=U[0];const q={};A&&(q.time=A),q.level=i.levels.values[M];let z=(T._childLevel|0)+1;if(z<1&&(z=1),$!==null&&typeof $=="object"){for(;z--&&typeof U[0]=="object";)Object.assign(q,U.shift());$=U.length?e(U.shift(),U):void 0}else typeof $=="string"&&($=e(U.shift(),U));return $!==void 0&&(q.msg=$),q}function l(T,M,D,A){for(const U in T)if(A&&T[U]instanceof Error)T[U]=i.stdSerializers.err(T[U]);else if(typeof T[U]=="object"&&!Array.isArray(T[U]))for(const $ in T[U])M&&M.indexOf($)>-1&&$ in D&&(T[U][$]=D[$](T[U][$]))}function c(T,M,D){return function(){const A=new Array(1+arguments.length);A[0]=M;for(var U=1;U<A.length;U++)A[U]=arguments[U-1];return T[D].apply(this,A)}}function d(T,M,D){const A=M.send,U=M.ts,$=M.methodLevel,q=M.methodValue,z=M.val,S=T._logEvent.bindings;l(D,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=U,T._logEvent.messages=D.filter(function(E){return S.indexOf(E)===-1}),T._logEvent.level.label=$,T._logEvent.level.value=q,A($,T._logEvent,z),T._logEvent=u(S)}function u(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function h(T){const M={type:T.constructor.name,msg:T.message,stack:T.stack};for(const D in T)M[D]===void 0&&(M[D]=T[D]);return M}function m(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?b:k}function v(){return{}}function g(T){return T}function y(){}function b(){return!1}function k(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function R(){return new Date(Date.now()).toISOString()}function I(){function T(M){return typeof M<"u"&&M}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return G8}var Ey=lkt();const OE=Rr(Ey),ckt={level:"info"},z_="custom_context",H9=1e3*1024;let dkt=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Iee=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new dkt(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},fye=class{constructor(t,n=H9){this.level=t??"error",this.levelValue=Ey.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Iee(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Ey.levels.values.error?console.error(t):n===Ey.levels.values.warn?console.warn(t):n===Ey.levels.values.debug?console.debug(t):n===Ey.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Bm({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Iee(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Bm({extraMetadata:t})),new Blob(n,{type:"application/json"})}},ukt=class{constructor(t,n=H9){this.baseChunkLogger=new fye(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},fkt=class{constructor(t,n=H9){this.baseChunkLogger=new fye(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var hkt=Object.defineProperty,pkt=Object.defineProperties,mkt=Object.getOwnPropertyDescriptors,Eee=Object.getOwnPropertySymbols,gkt=Object.prototype.hasOwnProperty,ykt=Object.prototype.propertyIsEnumerable,Cee=(e,t,n)=>t in e?hkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wI=(e,t)=>{for(var n in t||(t={}))gkt.call(t,n)&&Cee(e,n,t[n]);if(Eee)for(var n of Eee(t))ykt.call(t,n)&&Cee(e,n,t[n]);return e},bI=(e,t)=>pkt(e,mkt(t));function G9(e){return bI(wI({},e),{level:(e==null?void 0:e.level)||ckt.level})}function vkt(e,t=z_){return e[t]||""}function wkt(e,t,n=z_){return e[n]=t,e}function Fa(e,t=z_){let n="";return typeof e.bindings>"u"?n=vkt(e,t):n=e.bindings().context||"",n}function bkt(e,t,n=z_){const r=Fa(e,n);return r.trim()?`${r}/${t}`:t}function ha(e,t,n=z_){const r=bkt(e,t,n),i=e.child({context:r});return wkt(i,r,n)}function _kt(e){var t,n;const r=new ukt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:OE(bI(wI({},e.opts),{level:"trace",browser:bI(wI({},(n=e.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function xkt(e){var t;const n=new fkt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:OE(bI(wI({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function kkt(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?_kt(e):xkt(e)}var Skt=Object.defineProperty,Ikt=(e,t,n)=>t in e?Skt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Aee=(e,t,n)=>Ikt(e,typeof t!="symbol"?t+"":t,n);let Ekt=class extends pg{constructor(t){super(),this.opts=t,Aee(this,"protocol","wc"),Aee(this,"version",2)}};var Ckt=Object.defineProperty,Akt=(e,t,n)=>t in e?Ckt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rkt=(e,t,n)=>Akt(e,t+"",n);let Tkt=class extends pg{constructor(t,n){super(),this.core=t,this.logger=n,Rkt(this,"records",new Map)}},Okt=class{constructor(t,n){this.logger=t,this.core=n}};class Nkt extends pg{constructor(t,n){super(),this.relayer=t,this.logger=n}}let Pkt=class extends pg{constructor(t){super()}},Bkt=class{constructor(t,n,r,i){this.core=t,this.logger=n,this.name=r}},Dkt=class extends pg{constructor(t,n){super(),this.relayer=t,this.logger=n}},Mkt=class extends pg{constructor(t,n){super(),this.core=t,this.logger=n}},jkt=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},$kt=class{constructor(t,n){this.projectId=t,this.logger=n}};class Lkt{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}}var Ukt=Object.defineProperty,Fkt=(e,t,n)=>t in e?Ukt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ree=(e,t,n)=>Fkt(e,typeof t!="symbol"?t+"":t,n);let Wkt=class{constructor(t){this.opts=t,Ree(this,"protocol","wc"),Ree(this,"version",2)}},qkt=class{constructor(t){this.client=t}};function T1(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function H7(e){return T1(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const hye="2.31.0";let Mw={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${hye}`};class Dm extends Error{constructor(t,n={}){var a;const r=(()=>{var l;return n.cause instanceof Dm?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Dm&&n.cause.docsPath||n.docsPath,o=(a=Mw.getDocsUrl)==null?void 0:a.call(Mw,{...n,docsPath:i}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Mw.version?[`Version: ${Mw.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=hye}walk(t){return pye(this,t)}}function pye(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?pye(e.cause,t):t?null:e}class mye extends Dm{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Iv(e,{dir:t,size:n=32}={}){return typeof e=="string"?zkt(e,{dir:t,size:n}):Vkt(e,{dir:t,size:n})}function zkt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new mye({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Vkt(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new mye({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=t==="right";r[o?i:n-i-1]=e[o?i:e.length-i-1]}return r}class Kkt extends Dm{constructor({max:t,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Hkt extends Dm{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Ev(e,{size:t}){if(H7(e)>t)throw new Hkt({givenSize:H7(e),maxSize:t})}function G7(e,t={}){const{signed:n}=t;t.size&&Ev(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Gkt(e,t={}){return Number(G7(e,t))}const Jkt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function J7(e,t={}){return typeof e=="number"||typeof e=="bigint"?yye(e,t):typeof e=="string"?Xkt(e,t):typeof e=="boolean"?Zkt(e,t):gye(e,t)}function Zkt(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ev(n,{size:t.size}),Iv(n,{size:t.size})):n}function gye(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=Jkt[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Ev(r,{size:t.size}),Iv(r,{dir:"right",size:t.size})):r}function yye(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof e=="bigint"?"n":"";throw new Kkt({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Iv(a,{size:r}):a}const Ykt=new TextEncoder;function Xkt(e,t={}){const n=Ykt.encode(e);return gye(n,t)}const Qkt=new TextEncoder;function e2t(e,t={}){return typeof e=="number"||typeof e=="bigint"?n2t(e,t):typeof e=="boolean"?t2t(e,t):T1(e)?vye(e,t):wye(e,t)}function t2t(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ev(n,{size:t.size}),Iv(n,{size:t.size})):n}const pu={zero:48,nine:57,A:65,F:70,a:97,f:102};function Tee(e){if(e>=pu.zero&&e<=pu.nine)return e-pu.zero;if(e>=pu.A&&e<=pu.F)return e-(pu.A-10);if(e>=pu.a&&e<=pu.f)return e-(pu.a-10)}function vye(e,t={}){let n=e;t.size&&(Ev(n,{size:t.size}),n=Iv(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=Tee(r.charCodeAt(a++)),c=Tee(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Dm(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function n2t(e,t){const n=yye(e,t);return vye(n)}function wye(e,t={}){const n=Qkt.encode(e);return typeof t.size=="number"?(Ev(n,{size:t.size}),Iv(n,{dir:"right",size:t.size})):n}function bye(e,t){const n=t||"hex",r=Hct(T1(e,{strict:!1})?e2t(e):e);return n==="bytes"?r:J7(r)}class r2t extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const J8=new r2t(8192);function i2t(e,t){if(J8.has(`${e}.${t}`))return J8.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=bye(wye(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return J8.set(`${e}.${t}`,o),o}function o2t(e){const t=bye(`0x${e.substring(4)}`).substring(26);return i2t(`0x${t}`)}async function s2t({hash:e,signature:t}){const n=T1(e)?e:J7(e),{secp256k1:r}=await wb(async()=>{const{secp256k1:s}=await import("./secp256k1-DylX8Kk-.js");return{secp256k1:s}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:c,s:d,v:u,yParity:h}=t,m=Number(h??u),v=Oee(m);return new r.Signature(G7(c),G7(d)).addRecoveryBit(v)}const s=T1(t)?t:J7(t);if(H7(s)!==65)throw new Error("invalid signature length");const a=Gkt(`0x${s.slice(130)}`),l=Oee(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Oee(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function a2t({hash:e,signature:t}){return o2t(await s2t({hash:e,signature:t}))}var l2t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const V_=Lme(l2t);var c2t={};const d2t=":";function G2(e){const[t,n]=e.split(d2t);return{namespace:t,reference:n}}function _ye(e,t){return e.includes(":")?[e]:t.chains||[]}var u2t=Object.defineProperty,f2t=Object.defineProperties,h2t=Object.getOwnPropertyDescriptors,Nee=Object.getOwnPropertySymbols,p2t=Object.prototype.hasOwnProperty,m2t=Object.prototype.propertyIsEnumerable,Z7=(e,t,n)=>t in e?u2t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pee=(e,t)=>{for(var n in t||(t={}))p2t.call(t,n)&&Z7(e,n,t[n]);if(Nee)for(var n of Nee(t))m2t.call(t,n)&&Z7(e,n,t[n]);return e},g2t=(e,t)=>f2t(e,h2t(t)),Bee=(e,t,n)=>Z7(e,typeof t!="symbol"?t+"":t,n);const y2t="ReactNative",bl={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},v2t="js";function _I(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function sp(){return!Gu.getDocument()&&!!Gu.getNavigator()&&navigator.product===y2t}function w2t(){return sp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function b2t(){return sp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Cv(){return!_I()&&!!Gu.getNavigator()&&!!Gu.getDocument()}function K_(){return sp()?bl.reactNative:_I()?bl.node:Cv()?bl.browser:bl.unknown}function Dee(){var e;try{return sp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function _2t(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const i=t[r];i!==void 0&&n.set(r,i)}return n.toString()}function x2t(e){var t,n;const r=xye();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e==null?void 0:e.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(i=>i!=="")),g2t(Pee(Pee({},r),e),{url:(e==null?void 0:e.url)||r.url,name:(e==null?void 0:e.name)||r.name,description:(e==null?void 0:e.description)||r.description,icons:(n=e==null?void 0:e.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function xye(){return Byt.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function k2t(){if(K_()===bl.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=Xgt();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function S2t(){var e;const t=K_();return t===bl.browser?[t,((e=Gu.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function kye(e,t,n){const r=k2t(),i=S2t();return[[e,t].join("-"),[v2t,n].join("-"),r,i].join("/")}function I2t({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:o,useOnCloseEvent:s,bundleId:a,packageName:l}){const c=n.split("?"),d=kye(e,t,r),u={auth:i,ua:d,projectId:o,useOnCloseEvent:s,packageName:l||void 0,bundleId:a||void 0},h=_2t(c[1]||"",u);return c[0]+"?"+h}function tm(e,t){return e.filter(n=>t.includes(n)).length===e.length}function Y7(e){return Object.fromEntries(e.entries())}function X7(e){return new Map(Object.entries(e))}function Dp(e=It.FIVE_MINUTES,t){const n=It.toMiliseconds(e||It.FIVE_MINUTES);let r,i,o,s;return{resolve:a=>{o&&r&&(clearTimeout(o),r(a),s=Promise.resolve(a))},reject:a=>{o&&i&&(clearTimeout(o),i(a))},done:()=>new Promise((a,l)=>{if(s)return a(s);o=setTimeout(()=>{const c=new Error(t);s=Promise.reject(c),l(c)},n),r=a,i=l})}}function bh(e,t,n){return new Promise(async(r,i)=>{const o=setTimeout(()=>i(new Error(n)),t);try{const s=await e;r(s)}catch(s){i(s)}clearTimeout(o)})}function Sye(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function E2t(e){return Sye("topic",e)}function C2t(e){return Sye("id",e)}function Iye(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function ko(e,t){return It.fromMiliseconds(Date.now()+It.toMiliseconds(e))}function fh(e){return Date.now()>=It.toMiliseconds(e)}function Pr(e,t){return`${e}${t?`:${t}`:""}`}function hm(e=[],t=[]){return[...new Set([...e,...t])]}async function A2t({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,o=i==null?void 0:i.href;if(typeof o!="string")return;const s=R2t(o,e,t),a=K_();if(a===bl.browser){if(!((r=Gu.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}T2t(s)}else a===bl.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(i){console.error(i)}}function R2t(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const o=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${o}${B2t(r,!0)}`}else i=`${i}/wc?${r}`;return i}function T2t(e){let t="_self";P2t()?t="_top":(N2t()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function O2t(e,t){let n="";try{if(Cv()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function Mee(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function jee(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function J9(){return typeof process<"u"&&c2t.IS_VITEST==="true"}function N2t(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function P2t(){try{return window.self!==window.top}catch{return!1}}function B2t(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function Eye(e){return Buffer.from(e,"base64").toString("utf-8")}function D2t(e){return new Promise(t=>setTimeout(t,e))}let M2t=class{constructor({limit:t}){Bee(this,"limit"),Bee(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}};const t2=BigInt(2**32-1),$ee=BigInt(32);function Cye(e,t=!1){return t?{h:Number(e&t2),l:Number(e>>$ee&t2)}:{h:Number(e>>$ee&t2)|0,l:Number(e&t2)|0}}function Aye(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=Cye(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const Lee=(e,t,n)=>e>>>n,Uee=(e,t,n)=>e<<32-n|t>>>n,hh=(e,t,n)=>e>>>n|t<<32-n,ph=(e,t,n)=>e<<32-n|t>>>n,rb=(e,t,n)=>e<<64-n|t>>>n-32,ib=(e,t,n)=>e>>>n-32|t<<64-n,j2t=(e,t)=>t,$2t=(e,t)=>e,L2t=(e,t,n)=>e<<n|t>>>32-n,U2t=(e,t,n)=>t<<n|e>>>32-n,F2t=(e,t,n)=>t<<n-32|e>>>64-n,W2t=(e,t,n)=>e<<n-32|t>>>64-n;function Nc(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Z9=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Y9=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,q2t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),z2t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,V2t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),K2t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,ly=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function X9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ju(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function sc(e,...t){if(!X9(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Q9(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ju(e.outputLen),Ju(e.blockLen)}function Vh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function e$(e,t){sc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function O1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ac(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Z8(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fd(e,t){return e<<32-t|e>>>t}const Rye=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tye(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const bu=Rye?e=>e:e=>Tye(e);function H2t(e){for(let t=0;t<e.length;t++)e[t]=Tye(e[t]);return e}const mh=Rye?e=>e:H2t,Oye=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",G2t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function N1(e){if(sc(e),Oye)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=G2t[e[n]];return t}const mu={_0:48,_9:57,A:65,F:70,a:97,f:102};function Fee(e){if(e>=mu._0&&e<=mu._9)return e-mu._0;if(e>=mu.A&&e<=mu.F)return e-(mu.A-10);if(e>=mu.a&&e<=mu.f)return e-(mu.a-10)}function t$(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Oye)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Fee(e.charCodeAt(o)),a=Fee(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function J2t(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function $c(e){return typeof e=="string"&&(e=J2t(e)),sc(e),e}function nm(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];sc(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let NE=class{};function H_(e){const t=r=>e().update($c(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Z2t(e){const t=(r,i)=>e(i).update($c(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Av(e=32){if(ly&&typeof ly.getRandomValues=="function")return ly.getRandomValues(new Uint8Array(e));if(ly&&typeof ly.randomBytes=="function")return Uint8Array.from(ly.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Y2t=BigInt(0),jw=BigInt(1),X2t=BigInt(2),Q2t=BigInt(7),eSt=BigInt(256),tSt=BigInt(113),Nye=[],Pye=[],Bye=[];for(let e=0,t=jw,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Nye.push(2*(5*r+n)),Pye.push((e+1)*(e+2)/2%64);let i=Y2t;for(let o=0;o<7;o++)t=(t<<jw^(t>>Q2t)*tSt)%eSt,t&X2t&&(i^=jw<<(jw<<BigInt(o))-jw);Bye.push(i)}const Dye=Aye(Bye,!0),nSt=Dye[0],rSt=Dye[1],Wee=(e,t,n)=>n>32?F2t(e,t,n):L2t(e,t,n),qee=(e,t,n)=>n>32?W2t(e,t,n):U2t(e,t,n);function iSt(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],u=Wee(c,d,1)^n[a],h=qee(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=u,e[s+m+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=Pye[s],l=Wee(i,o,a),c=qee(i,o,a),d=Nye[s];i=e[d],o=e[d+1],e[d]=l,e[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=nSt[r],e[1]^=rSt[r]}ac(n)}let oSt=class Mye extends NE{constructor(t,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Ju(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=O1(this.state)}clone(){return this._cloneInto()}keccak(){mh(this.state32),iSt(this.state32,this.rounds),mh(this.state32),this.posOut=0,this.pos=0}update(t){Vh(this),t=$c(t),sc(t);const{blockLen:n,state:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Vh(this,!1),sc(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ju(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(e$(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ac(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Mye(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const sSt=(e,t,n)=>H_(()=>new oSt(t,e,n)),aSt=sSt(1,136,256/8);function lSt(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function cSt(e,t,n){return e&t^~e&n}function dSt(e,t,n){return e&t^e&n^t&n}let jye=class extends NE{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Z8(this.buffer)}update(t){Vh(this),t=$c(t),sc(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Z8(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Vh(this),e$(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,ac(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;lSt(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Z8(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Hf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$s=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ls=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uSt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gf=new Uint32Array(64);let fSt=class extends jye{constructor(t=32){super(64,t,8,!1),this.A=Hf[0]|0,this.B=Hf[1]|0,this.C=Hf[2]|0,this.D=Hf[3]|0,this.E=Hf[4]|0,this.F=Hf[5]|0,this.G=Hf[6]|0,this.H=Hf[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Gf[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Gf[u-15],m=Gf[u-2],v=fd(h,7)^fd(h,18)^h>>>3,g=fd(m,17)^fd(m,19)^m>>>10;Gf[u]=g+Gf[u-7]+v+Gf[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=fd(a,6)^fd(a,11)^fd(a,25),m=d+h+cSt(a,l,c)+uSt[u]+Gf[u]|0,v=(fd(r,2)^fd(r,13)^fd(r,22))+dSt(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){ac(Gf)}destroy(){this.set(0,0,0,0,0,0,0,0),ac(this.buffer)}};const $ye=Aye(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),hSt=$ye[0],pSt=$ye[1],Jf=new Uint32Array(80),Zf=new Uint32Array(80);let n$=class extends jye{constructor(t=64){super(128,t,16,!1),this.Ah=Ls[0]|0,this.Al=Ls[1]|0,this.Bh=Ls[2]|0,this.Bl=Ls[3]|0,this.Ch=Ls[4]|0,this.Cl=Ls[5]|0,this.Dh=Ls[6]|0,this.Dl=Ls[7]|0,this.Eh=Ls[8]|0,this.El=Ls[9]|0,this.Fh=Ls[10]|0,this.Fl=Ls[11]|0,this.Gh=Ls[12]|0,this.Gl=Ls[13]|0,this.Hh=Ls[14]|0,this.Hl=Ls[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let _=0;_<16;_++,n+=4)Jf[_]=t.getUint32(n),Zf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Jf[_-15]|0,I=Zf[_-15]|0,T=hh(R,I,1)^hh(R,I,8)^Lee(R,I,7),M=ph(R,I,1)^ph(R,I,8)^Uee(R,I,7),D=Jf[_-2]|0,A=Zf[_-2]|0,U=hh(D,A,19)^rb(D,A,61)^Lee(D,A,6),$=ph(D,A,19)^ib(D,A,61)^Uee(D,A,6),q=q2t(M,$,Zf[_-7],Zf[_-16]),z=z2t(q,T,U,Jf[_-7],Jf[_-16]);Jf[_]=z|0,Zf[_]=q|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=hh(u,h,14)^hh(u,h,18)^rb(u,h,41),I=ph(u,h,14)^ph(u,h,18)^ib(u,h,41),T=u&m^~u&g,M=h&v^~h&y,D=V2t(k,I,M,pSt[_],Zf[_]),A=K2t(D,b,R,T,hSt[_],Jf[_]),U=D|0,$=hh(r,i,28)^rb(r,i,34)^rb(r,i,39),q=ph(r,i,28)^ib(r,i,34)^ib(r,i,39),z=r&o^r&a^o&a,S=i&s^i&l^s&l;b=g|0,k=y|0,g=m|0,y=v|0,m=u|0,v=h|0,{h:u,l:h}=Nc(c|0,d|0,A|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=Z9(U,q,S);r=Y9(E,A,$,z),i=E|0}({h:r,l:i}=Nc(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Nc(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Nc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Nc(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=Nc(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=Nc(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=Nc(this.Gh|0,this.Gl|0,g|0,y|0),{h:b,l:k}=Nc(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k)}roundClean(){ac(Jf,Zf)}destroy(){ac(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},mSt=class extends n${constructor(){super(48),this.Ah=$s[0]|0,this.Al=$s[1]|0,this.Bh=$s[2]|0,this.Bl=$s[3]|0,this.Ch=$s[4]|0,this.Cl=$s[5]|0,this.Dh=$s[6]|0,this.Dl=$s[7]|0,this.Eh=$s[8]|0,this.El=$s[9]|0,this.Fh=$s[10]|0,this.Fl=$s[11]|0,this.Gh=$s[12]|0,this.Gl=$s[13]|0,this.Hh=$s[14]|0,this.Hl=$s[15]|0}};const Us=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class gSt extends n${constructor(){super(32),this.Ah=Us[0]|0,this.Al=Us[1]|0,this.Bh=Us[2]|0,this.Bl=Us[3]|0,this.Ch=Us[4]|0,this.Cl=Us[5]|0,this.Dh=Us[6]|0,this.Dl=Us[7]|0,this.Eh=Us[8]|0,this.El=Us[9]|0,this.Fh=Us[10]|0,this.Fl=Us[11]|0,this.Gh=Us[12]|0,this.Gl=Us[13]|0,this.Hh=Us[14]|0,this.Hl=Us[15]|0}}const PE=H_(()=>new fSt),ySt=H_(()=>new n$),vSt=H_(()=>new mSt),wSt=H_(()=>new gSt),bSt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),xo=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Dt=new Uint32Array(32);function Yf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Dt[2*e],c=Dt[2*e+1],d=Dt[2*t],u=Dt[2*t+1],h=Dt[2*n],m=Dt[2*n+1],v=Dt[2*r],g=Dt[2*r+1],y=Z9(l,d,s);c=Y9(y,c,u,a),l=y|0,{Dh:g,Dl:v}={Dh:g^c,Dl:v^l},{Dh:g,Dl:v}={Dh:j2t(g,v),Dl:$2t(g)},{h:m,l:h}=Nc(m,h,g,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:hh(u,d,24),Bl:ph(u,d,24)},Dt[2*e]=l,Dt[2*e+1]=c,Dt[2*t]=d,Dt[2*t+1]=u,Dt[2*n]=h,Dt[2*n+1]=m,Dt[2*r]=v,Dt[2*r+1]=g}function Xf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Dt[2*e],c=Dt[2*e+1],d=Dt[2*t],u=Dt[2*t+1],h=Dt[2*n],m=Dt[2*n+1],v=Dt[2*r],g=Dt[2*r+1],y=Z9(l,d,s);c=Y9(y,c,u,a),l=y|0,{Dh:g,Dl:v}={Dh:g^c,Dl:v^l},{Dh:g,Dl:v}={Dh:hh(g,v,16),Dl:ph(g,v,16)},{h:m,l:h}=Nc(m,h,g,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:rb(u,d,63),Bl:ib(u,d,63)},Dt[2*e]=l,Dt[2*e+1]=c,Dt[2*t]=d,Dt[2*t+1]=u,Dt[2*n]=h,Dt[2*n+1]=m,Dt[2*r]=v,Dt[2*r+1]=g}function _St(e,t={},n,r,i){if(Ju(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:o,salt:s,personalization:a}=t;if(o!==void 0&&(o.length<1||o.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class xSt extends NE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ju(t),Ju(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=O1(this.buffer)}update(t){Vh(this),t=$c(t),sc(t);const{blockLen:n,buffer:r,buffer32:i}=this,o=t.length,s=t.byteOffset,a=t.buffer;for(let l=0;l<o;){this.pos===n&&(mh(i),this.compress(i,0,!1),mh(i),this.pos=0);const c=Math.min(n-this.pos,o-l),d=s+l;if(c===n&&!(d%4)&&l+c<o){const u=new Uint32Array(a,d,Math.floor((o-l)/4));mh(u);for(let h=0;l+n<o;h+=i.length,l+=n)this.length+=n,this.compress(u,h,!1);mh(u);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(t){Vh(this),e$(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,ac(this.buffer.subarray(n)),mh(r),this.compress(r,0,!0),mh(r);const i=O1(t);this.get().forEach((o,s)=>i[s]=bu(o))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.buffer.set(n),t.destroyed=o,t.finished=i,t.length=r,t.pos=a,t.outputLen=s,t}clone(){return this._cloneInto()}}class kSt extends xSt{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=xo[0]|0,this.v0h=xo[1]|0,this.v1l=xo[2]|0,this.v1h=xo[3]|0,this.v2l=xo[4]|0,this.v2h=xo[5]|0,this.v3l=xo[6]|0,this.v3h=xo[7]|0,this.v4l=xo[8]|0,this.v4h=xo[9]|0,this.v5l=xo[10]|0,this.v5h=xo[11]|0,this.v6l=xo[12]|0,this.v6h=xo[13]|0,this.v7l=xo[14]|0,this.v7h=xo[15]|0,_St(n,t,64,16,16);let{key:r,personalization:i,salt:o}=t,s=0;if(r!==void 0&&(r=$c(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,o!==void 0){o=$c(o);const a=O1(o);this.v4l^=bu(a[0]),this.v4h^=bu(a[1]),this.v5l^=bu(a[2]),this.v5h^=bu(a[3])}if(i!==void 0){i=$c(i);const a=O1(i);this.v6l^=bu(a[0]),this.v6h^=bu(a[1]),this.v7l^=bu(a[2]),this.v7h^=bu(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:i,v2l:o,v2h:s,v3l:a,v3h:l,v4l:c,v4h:d,v5l:u,v5h:h,v6l:m,v6h:v,v7l:g,v7h:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=d|0,this.v5l=u|0,this.v5h=h|0,this.v6l=m|0,this.v6h=v|0,this.v7l=g|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((l,c)=>Dt[c]=l),Dt.set(xo,16);let{h:i,l:o}=Cye(BigInt(this.length));Dt[24]=xo[8]^o,Dt[25]=xo[9]^i,r&&(Dt[28]=~Dt[28],Dt[29]=~Dt[29]);let s=0;const a=bSt;for(let l=0;l<12;l++)Yf(0,4,8,12,t,n+2*a[s++]),Xf(0,4,8,12,t,n+2*a[s++]),Yf(1,5,9,13,t,n+2*a[s++]),Xf(1,5,9,13,t,n+2*a[s++]),Yf(2,6,10,14,t,n+2*a[s++]),Xf(2,6,10,14,t,n+2*a[s++]),Yf(3,7,11,15,t,n+2*a[s++]),Xf(3,7,11,15,t,n+2*a[s++]),Yf(0,5,10,15,t,n+2*a[s++]),Xf(0,5,10,15,t,n+2*a[s++]),Yf(1,6,11,12,t,n+2*a[s++]),Xf(1,6,11,12,t,n+2*a[s++]),Yf(2,7,8,13,t,n+2*a[s++]),Xf(2,7,8,13,t,n+2*a[s++]),Yf(3,4,9,14,t,n+2*a[s++]),Xf(3,4,9,14,t,n+2*a[s++]);this.v0l^=Dt[0]^Dt[16],this.v0h^=Dt[1]^Dt[17],this.v1l^=Dt[2]^Dt[18],this.v1h^=Dt[3]^Dt[19],this.v2l^=Dt[4]^Dt[20],this.v2h^=Dt[5]^Dt[21],this.v3l^=Dt[6]^Dt[22],this.v3h^=Dt[7]^Dt[23],this.v4l^=Dt[8]^Dt[24],this.v4h^=Dt[9]^Dt[25],this.v5l^=Dt[10]^Dt[26],this.v5h^=Dt[11]^Dt[27],this.v6l^=Dt[12]^Dt[28],this.v6h^=Dt[13]^Dt[29],this.v7l^=Dt[14]^Dt[30],this.v7h^=Dt[15]^Dt[31],ac(Dt)}destroy(){this.destroyed=!0,ac(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const SSt=Z2t(e=>new kSt(e)),ISt="https://rpc.walletconnect.org/v1";function Lye(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(aSt(n)).toString("hex")}async function ESt(e,t,n,r,i,o){switch(n.t){case"eip191":return await CSt(e,t,n.s);case"eip1271":return await ASt(e,t,n.s,r,i,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function CSt(e,t,n){return(await a2t({hash:Lye(t),signature:n})).toLowerCase()===e.toLowerCase()}async function ASt(e,t,n,r,i,o){const s=G2(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),d=(c.length/2).toString(16).padStart(64,"0"),u=(t.startsWith("0x")?t:Lye(t)).substring(2),h=a+u+l+d+c,m=await fetch(`${o||ISt}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:RSt(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:h},"latest"]})}),{result:v}=await m.json();return v?v.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function RSt(){return Date.now()+Math.floor(Math.random()*1e3)}function TSt(e){const t=atob(e),n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const o=Buffer.from(e,"base64").slice(1,65);return V_.encode(o)}function OSt(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=SSt(r,{dkLen:32});return V_.encode(i)}function zee(e){const t=new Uint8Array(PE(NSt(e)));return V_.encode(t)}function NSt(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Vee(e){const t=Buffer.from(e,"base64"),n=y0t(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=l0t(n),i=Buffer.from("TX"),o=Buffer.concat([i,Buffer.from(r)]),s=wSt(o);return I0t.encode(s).replace(/=+$/,"")}function Y8(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function PSt(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Y8(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(Y8(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Y8(r.length)),i.push(r);const o=Buffer.concat(i),s=PE(o);return Buffer.from(s).toString("hex").toUpperCase()}var BSt=Object.defineProperty,DSt=Object.defineProperties,MSt=Object.getOwnPropertyDescriptors,Kee=Object.getOwnPropertySymbols,jSt=Object.prototype.hasOwnProperty,$St=Object.prototype.propertyIsEnumerable,Hee=(e,t,n)=>t in e?BSt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LSt=(e,t)=>{for(var n in t||(t={}))jSt.call(t,n)&&Hee(e,n,t[n]);if(Kee)for(var n of Kee(t))$St.call(t,n)&&Hee(e,n,t[n]);return e},USt=(e,t)=>DSt(e,MSt(t));const FSt="did:pkh:",r$=e=>e==null?void 0:e.split(":"),WSt=e=>{const t=e&&r$(e);if(t)return e.includes(FSt)?t[3]:t[1]},Q7=e=>{const t=e&&r$(e);if(t)return t[2]+":"+t[3]},xI=e=>{const t=e&&r$(e);if(t)return t.pop()};async function Gee(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,o=Uye(i,i.iss),s=xI(i.iss);return await ESt(s,o,r,Q7(i.iss),n)}const Uye=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=xI(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,s=`Version: ${e.version}`,a=`Chain ID: ${WSt(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,u=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,m=e.resources?`Resources:${e.resources.map(g=>`
- ${g}`).join("")}`:void 0,v=J2(e.resources);if(v){const g=P1(v);i=YSt(i,g)}return[n,r,"",i,"",o,s,a,l,c,d,u,h,m].filter(g=>g!=null).join(`
`)};function qSt(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function zSt(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Mm(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const o=r[i];if(!Array.isArray(o))throw new Error(`Ability limits ${i} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);o.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${s}`)})})})}function VSt(e,t,n,r={}){return n==null||n.sort((i,o)=>i.localeCompare(o)),{att:{[e]:KSt(t,n,r)}}}function KSt(e,t,n={}){t=t==null?void 0:t.sort((i,o)=>i.localeCompare(o));const r=t.map(i=>({[`${e}/${i}`]:[n]}));return Object.assign({},...r)}function Fye(e){return Mm(e),`urn:recap:${qSt(e).replace(/=/g,"")}`}function P1(e){const t=zSt(e.replace("urn:recap:",""));return Mm(t),t}function HSt(e,t,n){const r=VSt(e,t,n);return Fye(r)}function GSt(e){return e&&e.includes("urn:recap:")}function JSt(e,t){const n=P1(e),r=P1(t),i=ZSt(n,r);return Fye(i)}function ZSt(e,t){Mm(e),Mm(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,o)=>i.localeCompare(o)),r={att:{}};return n.forEach(i=>{var o,s;Object.keys(((o=e.att)==null?void 0:o[i])||{}).concat(Object.keys(((s=t.att)==null?void 0:s[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;r.att[i]=USt(LSt({},r.att[i]),{[a]:((l=e.att[i])==null?void 0:l[a])||((c=t.att[i])==null?void 0:c[a])})})}),r}function YSt(e="",t){Mm(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(a=>{const l=Object.keys(t.att[a]).map(u=>({ability:u.split("/")[0],action:u.split("/")[1]}));l.sort((u,h)=>u.action.localeCompare(h.action));const c={};l.forEach(u=>{c[u.ability]||(c[u.ability]=[]),c[u.ability].push(u.action)});const d=Object.keys(c).map(u=>(i++,`(${i}) '${u}': '${c[u].join("', '")}' for '${a}'.`));r.push(d.join(", ").replace(".,","."))});const o=r.join(" "),s=`${n}${o}`;return`${e?e+" ":""}${s}`}function Jee(e){var t;const n=P1(e);Mm(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function Zee(e){const t=P1(e);Mm(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(i=>{var o;(o=i==null?void 0:i[0])!=null&&o.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function J2(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return GSt(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Wye(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function eB(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function X8(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Oa(e,...t){if(!Wye(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Yee(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function XSt(e,t){Oa(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ah(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function U0(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function QSt(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const eIt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function tIt(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function tB(e){if(typeof e=="string")e=tIt(e);else if(Wye(e))e=nB(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function nIt(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function rIt(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const iIt=(e,t)=>{function n(r,...i){if(Oa(r),!eIt)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");e.varSizeNonce?Oa(c):Oa(c,e.nonceLength)}const o=e.tagLength;o&&i[1]!==void 0&&Oa(i[1]);const s=t(r,...i),a=(c,d)=>{if(d!==void 0){if(c!==2)throw new Error("cipher output not supported");Oa(d)}};let l=!1;return{encrypt(c,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Oa(c),a(s.encrypt.length,d),s.encrypt(c,d)},decrypt(c,d){if(Oa(c),o&&c.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return a(s.decrypt.length,d),s.decrypt(c,d)}}}return Object.assign(n,e),n};function Xee(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!sIt(t))throw new Error("invalid output, must be aligned");return t}function Qee(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o);e.setUint32(t+4,s,r),e.setUint32(t+0,a,r)}function oIt(e,t,n){eB(n);const r=new Uint8Array(16),i=QSt(r);return Qee(i,0,BigInt(t),n),Qee(i,8,BigInt(e),n),r}function sIt(e){return e.byteOffset%4===0}function nB(e){return Uint8Array.from(e)}const qye=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),aIt=qye("expand 16-byte k"),lIt=qye("expand 32-byte k"),cIt=Ah(aIt),dIt=Ah(lIt);function xr(e,t){return e<<t|e>>>32-t}function rB(e){return e.byteOffset%4===0}const n2=64,uIt=16,zye=2**32-1,ete=new Uint32Array;function fIt(e,t,n,r,i,o,s,a){const l=i.length,c=new Uint8Array(n2),d=Ah(c),u=rB(i)&&rB(o),h=u?Ah(i):ete,m=u?Ah(o):ete;for(let v=0;v<l;s++){if(e(t,n,r,d,s,a),s>=zye)throw new Error("arx: counter overflow");const g=Math.min(n2,l-v);if(u&&g===n2){const y=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let b=0,k;b<uIt;b++)k=y+b,m[k]=h[k]^d[b];v+=n2;continue}for(let y=0,b;y<g;y++)b=v+y,o[b]=i[b]^c[y];v+=g}}function hIt(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=nIt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return X8(i),X8(s),eB(o),eB(n),(a,l,c,d,u=0)=>{Oa(a),Oa(l),Oa(c);const h=c.length;if(d===void 0&&(d=new Uint8Array(h)),Oa(d),X8(u),u<0||u>=zye)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const m=[];let v=a.length,g,y;if(v===32)m.push(g=nB(a)),y=dIt;else if(v===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=cIt,m.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);rB(l)||m.push(l=nB(l));const b=Ah(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,b,Ah(l.subarray(0,16)),b),l=l.subarray(16)}const k=16-i;if(k!==l.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const R=new Uint8Array(12);R.set(l,o?0:12-l.length),l=R,m.push(l)}const _=Ah(l);return fIt(e,y,b,_,c,d,u,s),U0(...m),d}}const is=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class pIt{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=tB(t),Oa(t,32);const n=is(t,0),r=is(t,2),i=is(t,4),o=is(t,6),s=is(t,8),a=is(t,10),l=is(t,12),c=is(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let d=0;d<8;d++)this.pad[d]=is(t,16+2*d)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],c=s[2],d=s[3],u=s[4],h=s[5],m=s[6],v=s[7],g=s[8],y=s[9],b=is(t,n+0),k=is(t,n+2),_=is(t,n+4),R=is(t,n+6),I=is(t,n+8),T=is(t,n+10),M=is(t,n+12),D=is(t,n+14);let A=o[0]+(b&8191),U=o[1]+((b>>>13|k<<3)&8191),$=o[2]+((k>>>10|_<<6)&8191),q=o[3]+((_>>>7|R<<9)&8191),z=o[4]+((R>>>4|I<<12)&8191),S=o[5]+(I>>>1&8191),E=o[6]+((I>>>14|T<<2)&8191),N=o[7]+((T>>>11|M<<5)&8191),P=o[8]+((M>>>8|D<<8)&8191),j=o[9]+(D>>>5|i),V=0,K=V+A*a+U*(5*y)+$*(5*g)+q*(5*v)+z*(5*m);V=K>>>13,K&=8191,K+=S*(5*h)+E*(5*u)+N*(5*d)+P*(5*c)+j*(5*l),V+=K>>>13,K&=8191;let F=V+A*l+U*a+$*(5*y)+q*(5*g)+z*(5*v);V=F>>>13,F&=8191,F+=S*(5*m)+E*(5*h)+N*(5*u)+P*(5*d)+j*(5*c),V+=F>>>13,F&=8191;let O=V+A*c+U*l+$*a+q*(5*y)+z*(5*g);V=O>>>13,O&=8191,O+=S*(5*v)+E*(5*m)+N*(5*h)+P*(5*u)+j*(5*d),V+=O>>>13,O&=8191;let W=V+A*d+U*c+$*l+q*a+z*(5*y);V=W>>>13,W&=8191,W+=S*(5*g)+E*(5*v)+N*(5*m)+P*(5*h)+j*(5*u),V+=W>>>13,W&=8191;let G=V+A*u+U*d+$*c+q*l+z*a;V=G>>>13,G&=8191,G+=S*(5*y)+E*(5*g)+N*(5*v)+P*(5*m)+j*(5*h),V+=G>>>13,G&=8191;let Y=V+A*h+U*u+$*d+q*c+z*l;V=Y>>>13,Y&=8191,Y+=S*a+E*(5*y)+N*(5*g)+P*(5*v)+j*(5*m),V+=Y>>>13,Y&=8191;let ie=V+A*m+U*h+$*u+q*d+z*c;V=ie>>>13,ie&=8191,ie+=S*l+E*a+N*(5*y)+P*(5*g)+j*(5*v),V+=ie>>>13,ie&=8191;let ye=V+A*v+U*m+$*h+q*u+z*d;V=ye>>>13,ye&=8191,ye+=S*c+E*l+N*a+P*(5*y)+j*(5*g),V+=ye>>>13,ye&=8191;let me=V+A*g+U*v+$*m+q*h+z*u;V=me>>>13,me&=8191,me+=S*d+E*c+N*l+P*a+j*(5*y),V+=me>>>13,me&=8191;let be=V+A*y+U*g+$*v+q*m+z*h;V=be>>>13,be&=8191,be+=S*u+E*d+N*c+P*l+j*a,V+=be>>>13,be&=8191,V=(V<<2)+V|0,V=V+K|0,K=V&8191,V=V>>>13,F+=V,o[0]=K,o[1]=F,o[2]=O,o[3]=W,o[4]=G,o[5]=Y,o[6]=ie,o[7]=ye,o[8]=me,o[9]=be}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(i^1)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+n[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=s&65535;U0(r)}update(t){Yee(this),t=tB(t),Oa(t);const{buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){for(;r<=i-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){U0(this.h,this.r,this.buffer,this.pad)}digestInto(t){Yee(this),XSt(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function mIt(e){const t=(r,i)=>e(i).update(tB(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const gIt=mIt(e=>new pIt(e));function yIt(e,t,n,r,i,o=20){let s=e[0],a=e[1],l=e[2],c=e[3],d=t[0],u=t[1],h=t[2],m=t[3],v=t[4],g=t[5],y=t[6],b=t[7],k=i,_=n[0],R=n[1],I=n[2],T=s,M=a,D=l,A=c,U=d,$=u,q=h,z=m,S=v,E=g,N=y,P=b,j=k,V=_,K=R,F=I;for(let W=0;W<o;W+=2)T=T+U|0,j=xr(j^T,16),S=S+j|0,U=xr(U^S,12),T=T+U|0,j=xr(j^T,8),S=S+j|0,U=xr(U^S,7),M=M+$|0,V=xr(V^M,16),E=E+V|0,$=xr($^E,12),M=M+$|0,V=xr(V^M,8),E=E+V|0,$=xr($^E,7),D=D+q|0,K=xr(K^D,16),N=N+K|0,q=xr(q^N,12),D=D+q|0,K=xr(K^D,8),N=N+K|0,q=xr(q^N,7),A=A+z|0,F=xr(F^A,16),P=P+F|0,z=xr(z^P,12),A=A+z|0,F=xr(F^A,8),P=P+F|0,z=xr(z^P,7),T=T+$|0,F=xr(F^T,16),N=N+F|0,$=xr($^N,12),T=T+$|0,F=xr(F^T,8),N=N+F|0,$=xr($^N,7),M=M+q|0,j=xr(j^M,16),P=P+j|0,q=xr(q^P,12),M=M+q|0,j=xr(j^M,8),P=P+j|0,q=xr(q^P,7),D=D+z|0,V=xr(V^D,16),S=S+V|0,z=xr(z^S,12),D=D+z|0,V=xr(V^D,8),S=S+V|0,z=xr(z^S,7),A=A+U|0,K=xr(K^A,16),E=E+K|0,U=xr(U^E,12),A=A+U|0,K=xr(K^A,8),E=E+K|0,U=xr(U^E,7);let O=0;r[O++]=s+T|0,r[O++]=a+M|0,r[O++]=l+D|0,r[O++]=c+A|0,r[O++]=d+U|0,r[O++]=u+$|0,r[O++]=h+q|0,r[O++]=m+z|0,r[O++]=v+S|0,r[O++]=g+E|0,r[O++]=y+N|0,r[O++]=b+P|0,r[O++]=k+j|0,r[O++]=_+V|0,r[O++]=R+K|0,r[O++]=I+F|0}const vIt=hIt(yIt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),wIt=new Uint8Array(16),tte=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(wIt.subarray(n))},bIt=new Uint8Array(32);function nte(e,t,n,r,i){const o=e(t,n,bIt),s=gIt.create(o);i&&tte(s,i),tte(s,r);const a=oIt(r.length,i?i.length:0,!0);s.update(a);const l=s.digest();return U0(o,a),l}const _It=e=>(t,n,r)=>({encrypt(i,o){const s=i.length;o=Xee(s+16,o,!1),o.set(i);const a=o.subarray(0,-16);e(t,n,a,a,1);const l=nte(e,t,n,a,r);return o.set(l,s),U0(l),o},decrypt(i,o){o=Xee(i.length-16,o,!1);const s=i.subarray(0,-16),a=i.subarray(-16),l=nte(e,t,n,s,r);if(!rIt(a,l))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,n,o,o,1),U0(l),o}}),Vye=iIt({blockSize:64,nonceLength:12,tagLength:16},_It(vIt));let Kye=class extends NE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Q9(t);const r=$c(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),ac(o)}update(t){return Vh(this),this.iHash.update(t),this}digestInto(t){Vh(this),sc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const BE=(e,t,n)=>new Kye(e,t).update(n).digest();BE.create=(e,t)=>new Kye(e,t);function xIt(e,t,n){return Q9(e),n===void 0&&(n=new Uint8Array(e.outputLen)),BE(e,$c(n),$c(t))}const Q8=Uint8Array.from([0]),rte=Uint8Array.of();function kIt(e,t,n,r=32){Q9(e),Ju(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/i);n===void 0&&(n=rte);const s=new Uint8Array(o*i),a=BE.create(e,t),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let d=0;d<o;d++)Q8[0]=d+1,l.update(d===0?rte:c).update(n).update(Q8).digestInto(c),s.set(c,i*d),a._cloneInto(l);return a.destroy(),l.destroy(),ac(c,Q8),s.slice(0,r)}const SIt=(e,t,n,r,i)=>kIt(e,xIt(e,t,n),r,i),DE=PE,i$=BigInt(0),iB=BigInt(1);function kI(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function r2(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Hye(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?i$:BigInt("0x"+e)}function ME(e){return Hye(N1(e))}function SI(e){return sc(e),Hye(N1(Uint8Array.from(e).reverse()))}function o$(e,t){return t$(e.toString(16).padStart(t*2,"0"))}function s$(e,t){return o$(e,t).reverse()}function Ra(e,t,n){let r;if(typeof t=="string")try{r=t$(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(X9(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const eT=e=>typeof e=="bigint"&&i$<=e;function IIt(e,t,n){return eT(e)&&eT(t)&&eT(n)&&t<=e&&e<n}function oB(e,t,n,r){if(!IIt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function EIt(e){let t;for(t=0;e>i$;e>>=iB,t+=1);return t}const jE=e=>(iB<<BigInt(e))-iB;function CIt(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(e),s=r(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),d=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<t;){o=c();const v=o.slice();m.push(v),h+=o.length}return nm(...m)};return(h,m)=>{l(),d(h);let v;for(;!(v=m(u()));)d();return l(),v}}function $E(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function ite(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const ja=BigInt(0),la=BigInt(1),rm=BigInt(2),AIt=BigInt(3),Gye=BigInt(4),Jye=BigInt(5),Zye=BigInt(8);function Xl(e,t){const n=e%t;return n>=ja?n:t+n}function Tc(e,t,n){let r=e;for(;t-- >ja;)r*=r,r%=n;return r}function ote(e,t){if(e===ja)throw new Error("invert: expected non-zero number");if(t<=ja)throw new Error("invert: expected positive modulus, got "+t);let n=Xl(e,t),r=t,i=ja,o=la;for(;n!==ja;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==la)throw new Error("invert: does not exist");return Xl(i,t)}function Yye(e,t){const n=(e.ORDER+la)/Gye,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function RIt(e,t){const n=(e.ORDER-Jye)/Zye,r=e.mul(t,rm),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,rm),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function TIt(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-la,n=0;for(;t%rm===ja;)t/=rm,n++;let r=rm;const i=Rv(e);for(;ste(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Yye;let o=i.pow(r,t);const s=(t+la)/rm;return function(a,l){if(a.is0(l))return l;if(ste(a,l)!==1)throw new Error("Cannot find square root");let c=n,d=a.mul(a.ONE,o),u=a.pow(l,t),h=a.pow(l,s);for(;!a.eql(u,a.ONE);){if(a.is0(u))return a.ZERO;let m=1,v=a.sqr(u);for(;!a.eql(v,a.ONE);)if(m++,v=a.sqr(v),m===c)throw new Error("Cannot find square root");const g=la<<BigInt(c-m-1),y=a.pow(d,g);c=m,d=a.sqr(y),u=a.mul(u,d),h=a.mul(h,y)}return h}}function OIt(e){return e%Gye===AIt?Yye:e%Zye===Jye?RIt:TIt(e)}const NIt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function PIt(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=NIt.reduce((r,i)=>(r[i]="function",r),t);return $E(e,n),e}function BIt(e,t,n){if(n<ja)throw new Error("invalid exponent, negatives unsupported");if(n===ja)return e.ONE;if(n===la)return t;let r=e.ONE,i=t;for(;n>ja;)n&la&&(r=e.mul(r,i)),i=e.sqr(i),n>>=la;return r}function Xye(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),o),r}function ste(e,t){const n=(e.ORDER-la)/rm,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function DIt(e,t){t!==void 0&&Ju(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Rv(e,t,n=!1,r={}){if(e<=ja)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=DIt(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:jE(s),ZERO:ja,ONE:la,create:d=>Xl(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return ja<=d&&d<e},is0:d=>d===ja,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&la)===la,neg:d=>Xl(-d,e),eql:(d,u)=>d===u,sqr:d=>Xl(d*d,e),add:(d,u)=>Xl(d+u,e),sub:(d,u)=>Xl(d-u,e),mul:(d,u)=>Xl(d*u,e),pow:(d,u)=>BIt(c,d,u),div:(d,u)=>Xl(d*ote(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>ote(d,e),sqrt:o||(d=>(l||(l=OIt(e)),l(c,d))),toBytes:d=>n?s$(d,a):o$(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?SI(d):ME(d)},invertBatch:d=>Xye(c,d),cmov:(d,u,h)=>h?u:d});return Object.freeze(c)}function Qye(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function e0e(e){const t=Qye(e);return t+Math.ceil(t/2)}function MIt(e,t,n=!1){const r=e.length,i=Qye(t),o=e0e(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?SI(e):ME(e),a=Xl(s,t-la)+la;return n?s$(a,i):o$(a,i)}const F0=BigInt(0),im=BigInt(1);function Rb(e,t){const n=t.negate();return e?n:t}function jIt(e,t,n){const r=o=>o.pz,i=Xye(e.Fp,n.map(r));return n.map((o,s)=>o.toAffine(i[s])).map(e.fromAffine)}function t0e(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function tT(e,t){t0e(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=jE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function ate(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=im);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function $It(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function LIt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const nT=new WeakMap,n0e=new WeakMap;function rT(e){return n0e.get(e)||1}function lte(e){if(e!==F0)throw new Error("invalid wNAF")}function UIt(e,t){return{constTimeNegate:Rb,hasPrecomputes(n){return rT(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>F0;)r&im&&(i=i.add(o)),o=o.double(),r>>=im;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=tT(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=tT(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=ate(i,l,a);i=c,u?s=s.add(Rb(m,r[v])):o=o.add(Rb(h,r[d]))}return lte(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=tT(n,t);for(let a=0;a<s.windows&&i!==F0;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=ate(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return lte(i),o},getPrecomputes(n,r,i){let o=nT.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),nT.set(r,o))),o},wNAFCached(n,r,i){const o=rT(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=rT(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){t0e(r,t),n0e.set(n,r),nT.delete(n)}}}function FIt(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>F0||r>F0;)n&im&&(o=o.add(i)),r&im&&(s=s.add(i)),i=i.double(),n>>=im,r>>=im;return{p1:o,p2:s}}function WIt(e,t,n,r){$It(n,e),LIt(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=EIt(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=jE(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((t.BITS-1)/l)*l;let h=s;for(let m=u;m>=0;m-=l){d.fill(s);for(let g=0;g<o;g++){const y=r[g],b=Number(y>>BigInt(m)&c);d[b]=d[b].add(n[g])}let v=s;for(let g=d.length-1,y=s;g>0;g--)y=y.add(d[g]),v=v.add(y);if(h=h.add(v),m!==0)for(let g=0;g<l;g++)h=h.double()}return h}function cte(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return PIt(t),t}else return Rv(e)}function qIt(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const a=t[s];if(!(typeof a=="bigint"&&a>F0))throw new Error(`CURVE.${s} must be positive bigint`)}const r=cte(t.p,n.Fp),i=cte(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const s of o)if(!r.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const $w=BigInt(0),cy=BigInt(1),i2=BigInt(2);function zIt(e){return $E(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function VIt(e){const t=zIt(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:o,randomBytes:s}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=s||Av,c=a?255:448,d=a?32:56,u=BigInt(a?9:5),h=BigInt(a?121665:39081),m=a?i2**BigInt(254):i2**BigInt(447),v=a?BigInt(8)*i2**BigInt(251)-cy:BigInt(4)*i2**BigInt(445)-cy,g=m+v+cy,y=A=>Xl(A,n),b=k(u);function k(A){return s$(y(A),d)}function _(A){const U=Ra("u coordinate",A,d);return a&&(U[31]&=127),y(SI(U))}function R(A){return SI(i(Ra("scalar",A,d)))}function I(A,U){const $=D(_(U),R(A));if($===$w)throw new Error("invalid private or public key received");return k($)}function T(A){return I(A,b)}function M(A,U,$){const q=y(A*(U-$));return U=y(U-q),$=y($+q),{x_2:U,x_3:$}}function D(A,U){oB("u",A,$w,n),oB("scalar",U,m,g);const $=U,q=A;let z=cy,S=$w,E=A,N=cy,P=$w;for(let V=BigInt(c-1);V>=$w;V--){const K=$>>V&cy;P^=K,{x_2:z,x_3:E}=M(P,z,E),{x_2:S,x_3:N}=M(P,S,N),P=K;const F=z+S,O=y(F*F),W=z-S,G=y(W*W),Y=O-G,ie=E+N,ye=E-N,me=y(ye*F),be=y(ie*W),Me=me+be,Fe=me-be;E=y(Me*Me),N=y(q*y(Fe*Fe)),z=y(O*G),S=y(Y*(O+y(h*Y)))}({x_2:z,x_3:E}=M(P,z,E)),{x_2:S,x_3:N}=M(P,S,N);const j=o(S);return y(z*j)}return{scalarMult:I,scalarMultBase:T,getSharedSecret:(A,U)=>I(A,U),getPublicKey:A=>T(A),utils:{randomPrivateKey:()=>l(d)},GuBytes:b.slice()}}BigInt(0);const KIt=BigInt(1),dte=BigInt(2),HIt=BigInt(3),GIt=BigInt(5);BigInt(8);const r0e={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function JIt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=r0e.p,s=e*e%o*e%o,a=Tc(s,dte,o)*s%o,l=Tc(a,KIt,o)*e%o,c=Tc(l,GIt,o)*l%o,d=Tc(c,t,o)*c%o,u=Tc(d,n,o)*d%o,h=Tc(u,r,o)*u%o,m=Tc(h,i,o)*h%o,v=Tc(m,i,o)*h%o,g=Tc(v,t,o)*c%o;return{pow_p_5_8:Tc(g,dte,o)*e%o,b2:s}}function ZIt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const sB=(()=>{const e=r0e.p;return VIt({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=JIt(t);return Xl(Tc(n,HIt,e)*r,e)},adjustScalarBytes:ZIt})})();function ute(e){e.lowS!==void 0&&kI("lowS",e.lowS),e.prehash!==void 0&&kI("prehash",e.prehash)}class YIt extends Error{constructor(t=""){super(t)}}const Cu={Err:YIt,_tlv:{encode:(e,t)=>{const{Err:n}=Cu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=r2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?r2(i.length/2|128):"";return r2(e)+o+i+t},decode(e,t){const{Err:n}=Cu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Cu;if(e<Tb)throw new t("integer: negative integers are not allowed");let n=r2(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Cu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ME(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Cu,i=Ra("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Cu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Tb=BigInt(0),Ob=BigInt(1),XIt=BigInt(2),o2=BigInt(3),QIt=BigInt(4);function e3t(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function i0e(e,t,n){const{BYTES:r}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=Ra("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function t3t(e,t={}){const{Fp:n,Fn:r}=qIt("weierstrass",e,t),{h:i,n:o}=e;$E(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(D,A,U){const{x:$,y:q}=A.toAffine(),z=n.toBytes($);if(kI("isCompressed",U),U){a();const S=!n.isOdd(q);return nm(o0e(S),z)}else return nm(Uint8Array.of(4),z,n.toBytes(q))}function c(D){sc(D);const A=n.BYTES,U=A+1,$=2*A+1,q=D.length,z=D[0],S=D.subarray(1);if(q===U&&(z===2||z===3)){const E=n.fromBytes(S);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const N=h(E);let P;try{P=n.sqrt(N)}catch(V){const K=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}a();const j=n.isOdd(P);return(z&1)===1!==j&&(P=n.neg(P)),{x:E,y:P}}else if(q===$&&z===4){const E=n.fromBytes(S.subarray(A*0,A*1)),N=n.fromBytes(S.subarray(A*1,A*2));if(!m(E,N))throw new Error("bad point: is not on curve");return{x:E,y:N}}else throw new Error(`bad point: got length ${q}, expected compressed=${U} or uncompressed=${$}`)}const d=t.toBytes||l,u=t.fromBytes||c,h=e3t(n,e.a,e.b);function m(D,A){const U=n.sqr(A),$=h(D);return n.eql(U,$)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,o2),QIt),g=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,g)))throw new Error("bad curve params: a or b");function y(D,A,U=!1){if(!n.isValid(A)||U&&n.is0(A))throw new Error(`bad point coordinate ${D}`);return A}function b(D){if(!(D instanceof I))throw new Error("ProjectivePoint expected")}const k=ite((D,A)=>{const{px:U,py:$,pz:q}=D;if(n.eql(q,n.ONE))return{x:U,y:$};const z=D.is0();A==null&&(A=z?n.ONE:n.inv(q));const S=n.mul(U,A),E=n.mul($,A),N=n.mul(q,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:S,y:E}}),_=ite(D=>{if(D.is0()){if(t.allowInfinityPoint&&!n.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:A,y:U}=D.toAffine();if(!n.isValid(A)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!m(A,U))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(D,A,U,$,q){return U=new I(n.mul(U.px,D),U.py,U.pz),A=Rb($,A),U=Rb(q,U),A.add(U)}class I{constructor(A,U,$){this.px=y("x",A),this.py=y("y",U,!0),this.pz=y("z",$),Object.freeze(this)}static fromAffine(A){const{x:U,y:$}=A||{};if(!A||!n.isValid(U)||!n.isValid($))throw new Error("invalid affine point");if(A instanceof I)throw new Error("projective point not allowed");return n.is0(U)&&n.is0($)?I.ZERO:new I(U,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return jIt(I,"pz",A)}static fromBytes(A){return sc(A),I.fromHex(A)}static fromHex(A){const U=I.fromAffine(u(Ra("pointHex",A)));return U.assertValidity(),U}static fromPrivateKey(A){const U=i0e(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(U(A))}static msm(A,U){return WIt(I,r,A,U)}precompute(A=8,U=!0){return M.setWindowSize(this,A),U||this.multiply(o2),this}_setWindowSize(A){this.precompute(A)}assertValidity(){_(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){b(A);const{px:U,py:$,pz:q}=this,{px:z,py:S,pz:E}=A,N=n.eql(n.mul(U,E),n.mul(z,q)),P=n.eql(n.mul($,E),n.mul(S,q));return N&&P}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:U}=e,$=n.mul(U,o2),{px:q,py:z,pz:S}=this;let E=n.ZERO,N=n.ZERO,P=n.ZERO,j=n.mul(q,q),V=n.mul(z,z),K=n.mul(S,S),F=n.mul(q,z);return F=n.add(F,F),P=n.mul(q,S),P=n.add(P,P),E=n.mul(A,P),N=n.mul($,K),N=n.add(E,N),E=n.sub(V,N),N=n.add(V,N),N=n.mul(E,N),E=n.mul(F,E),P=n.mul($,P),K=n.mul(A,K),F=n.sub(j,K),F=n.mul(A,F),F=n.add(F,P),P=n.add(j,j),j=n.add(P,j),j=n.add(j,K),j=n.mul(j,F),N=n.add(N,j),K=n.mul(z,S),K=n.add(K,K),j=n.mul(K,F),E=n.sub(E,j),P=n.mul(K,V),P=n.add(P,P),P=n.add(P,P),new I(E,N,P)}add(A){b(A);const{px:U,py:$,pz:q}=this,{px:z,py:S,pz:E}=A;let N=n.ZERO,P=n.ZERO,j=n.ZERO;const V=e.a,K=n.mul(e.b,o2);let F=n.mul(U,z),O=n.mul($,S),W=n.mul(q,E),G=n.add(U,$),Y=n.add(z,S);G=n.mul(G,Y),Y=n.add(F,O),G=n.sub(G,Y),Y=n.add(U,q);let ie=n.add(z,E);return Y=n.mul(Y,ie),ie=n.add(F,W),Y=n.sub(Y,ie),ie=n.add($,q),N=n.add(S,E),ie=n.mul(ie,N),N=n.add(O,W),ie=n.sub(ie,N),j=n.mul(V,Y),N=n.mul(K,W),j=n.add(N,j),N=n.sub(O,j),j=n.add(O,j),P=n.mul(N,j),O=n.add(F,F),O=n.add(O,F),W=n.mul(V,W),Y=n.mul(K,Y),O=n.add(O,W),W=n.sub(F,W),W=n.mul(V,W),Y=n.add(Y,W),F=n.mul(O,Y),P=n.add(P,F),F=n.mul(ie,Y),N=n.mul(G,N),N=n.sub(N,F),F=n.mul(G,O),j=n.mul(ie,j),j=n.add(j,F),new I(N,P,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(I.ZERO)}multiply(A){const{endo:U}=t;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let $,q;const z=S=>M.wNAFCached(this,S,I.normalizeZ);if(U){const{k1neg:S,k1:E,k2neg:N,k2:P}=U.splitScalar(A),{p:j,f:V}=z(E),{p:K,f:F}=z(P);q=V.add(F),$=R(U.beta,j,K,S,N)}else{const{p:S,f:E}=z(A);$=S,q=E}return I.normalizeZ([$,q])[0]}multiplyUnsafe(A){const{endo:U}=t,$=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===Tb||$.is0())return I.ZERO;if(A===Ob)return $;if(M.hasPrecomputes(this))return this.multiply(A);if(U){const{k1neg:q,k1:z,k2neg:S,k2:E}=U.splitScalar(A),{p1:N,p2:P}=FIt(I,$,z,E);return R(U.beta,N,P,q,S)}else return M.wNAFCachedUnsafe($,A)}multiplyAndAddUnsafe(A,U,$){const q=this.multiplyUnsafe(U).add(A.multiplyUnsafe($));return q.is0()?void 0:q}toAffine(A){return k(this,A)}isTorsionFree(){const{isTorsionFree:A}=t;return i===Ob?!0:A?A(I,this):M.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:A}=t;return i===Ob?this:A?A(I,this):this.multiplyUnsafe(i)}toBytes(A=!0){return kI("isCompressed",A),this.assertValidity(),d(I,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return N1(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const T=r.BITS,M=UIt(I,t.endo?Math.ceil(T/2):T);return I}function o0e(e){return Uint8Array.of(e?2:3)}function n3t(e,t,n={}){$E(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Av,i=t.hmac||(($,...q)=>BE(t.hash,$,nm(...q))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c($){const q=a>>Ob;return $>q}function d($){return c($)?s.neg($):$}function u($,q){if(!s.isValidNot0(q))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(q,z,S){u("r",q),u("s",z),this.r=q,this.s=z,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(q){const z=s.BYTES,S=Ra("compactSignature",q,z*2);return new h(s.fromBytes(S.subarray(0,z)),s.fromBytes(S.subarray(z,z*2)))}static fromDER(q){const{r:z,s:S}=Cu.toSig(Ra("DER",q));return new h(z,S)}assertValidity(){}addRecoveryBit(q){return new h(this.r,this.s,q)}recoverPublicKey(q){const z=o.ORDER,{r:S,s:E,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*XIt<z&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=N===2||N===3?S+a:S;if(!o.isValid(P))throw new Error("recovery id 2 or 3 invalid");const j=o.toBytes(P),V=e.fromHex(nm(o0e((N&1)===0),j)),K=s.inv(P),F=_(Ra("msgHash",q)),O=s.create(-F*K),W=s.create(E*K),G=e.BASE.multiplyUnsafe(O).add(V.multiplyUnsafe(W));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(q){if(q==="compact")return nm(s.toBytes(this.r),s.toBytes(this.s));if(q==="der")return t$(Cu.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return N1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return N1(this.toBytes("compact"))}}const m=i0e(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=a;return MIt(r(e0e($)),$)},precompute($=8,q=e.BASE){return q.precompute($,!1)}};function g($,q=!0){return e.fromPrivateKey($).toBytes(q)}function y($){if(typeof $=="bigint")return!1;if($ instanceof e)return!0;const q=Ra("key",$).length,z=o.BYTES,S=z+1,E=2*z+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===S))return q===S||q===E}function b($,q,z=!0){if(y($)===!0)throw new Error("first arg must be private key");if(y(q)===!1)throw new Error("second arg must be public key");return e.fromHex(q).multiply(m($)).toBytes(z)}const k=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const q=ME($),z=$.length*8-l;return z>0?q>>BigInt(z):q},_=t.bits2int_modN||function($){return s.create(k($))},R=jE(l);function I($){return oB("num < 2^"+l,$,Tb,R),s.toBytes($)}function T($,q,z=M){if(["recovered","canonical"].some(G=>G in z))throw new Error("sign() legacy options not supported");const{hash:S}=t;let{lowS:E,prehash:N,extraEntropy:P}=z;E==null&&(E=!0),$=Ra("msgHash",$),ute(z),N&&($=Ra("prehashed msgHash",S($)));const j=_($),V=m(q),K=[I(V),I(j)];if(P!=null&&P!==!1){const G=P===!0?r(o.BYTES):P;K.push(Ra("extraEntropy",G))}const F=nm(...K),O=j;function W(G){const Y=k(G);if(!s.isValidNot0(Y))return;const ie=s.inv(Y),ye=e.BASE.multiply(Y).toAffine(),me=s.create(ye.x);if(me===Tb)return;const be=s.create(ie*s.create(O+me*V));if(be===Tb)return;let Me=(ye.x===me?0:2)|Number(ye.y&Ob),Fe=be;return E&&c(be)&&(Fe=d(be),Me^=1),new h(me,Fe,Me)}return{seed:F,k2sig:W}}const M={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function A($,q,z=M){const{seed:S,k2sig:E}=T($,q,z);return CIt(t.hash.outputLen,s.BYTES,i)(S,E)}e.BASE.precompute(8);function U($,q,z,S=D){const E=$;q=Ra("msgHash",q),z=Ra("publicKey",z),ute(S);const{lowS:N,prehash:P,format:j}=S;if("strict"in S)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const V=typeof E=="string"||X9(E),K=!V&&!j&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!V&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,O;try{if(K)if(j===void 0||j==="js")F=new h(E.r,E.s);else throw new Error("invalid format");if(V){try{j!=="compact"&&(F=h.fromDER(E))}catch(Me){if(!(Me instanceof Cu.Err))throw Me}!F&&j!=="der"&&(F=h.fromCompact(E))}O=e.fromHex(z)}catch{return!1}if(!F||N&&F.hasHighS())return!1;P&&(q=t.hash(q));const{r:W,s:G}=F,Y=_(q),ie=s.inv(G),ye=s.create(Y*ie),me=s.create(W*ie),be=e.BASE.multiplyUnsafe(ye).add(O.multiplyUnsafe(me));return be.is0()?!1:s.create(be.x)===W}return Object.freeze({getPublicKey:g,getSharedSecret:b,sign:A,verify:U,utils:v,Point:e,Signature:h})}function r3t(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Rv(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function i3t(e){const{CURVE:t,curveOpts:n}=r3t(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function o3t(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function s3t(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=i3t(e),i=t3t(t,n),o=n3t(i,r,n);return o3t(e,o)}function aB(e,t){const n=r=>s3t({...e,hash:r});return{...n(t),create:n}}const s0e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},a0e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},l0e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},a3t=Rv(s0e.p),l3t=Rv(a0e.p),c3t=Rv(l0e.p),d3t=aB({...s0e,Fp:a3t,lowS:!1},PE);aB({...a0e,Fp:l3t,lowS:!1},vSt),aB({...l0e,Fp:c3t,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},ySt);const u3t=d3t,c0e="base10",ca="base16",Dc="base64pad",gh="base64url",G_="utf8",d0e=0,qu=1,J_=2,f3t=0,fte=1,Nb=12,a$=32;function h3t(){const e=sB.utils.randomPrivateKey(),t=sB.getPublicKey(e);return{privateKey:La(e,ca),publicKey:La(t,ca)}}function lB(){const e=Av(a$);return La(e,ca)}function p3t(e,t){const n=sB.getSharedSecret(nc(e,ca),nc(t,ca)),r=SIt(DE,n,void 0,void 0,a$);return La(r,ca)}function Z2(e){const t=DE(nc(e,ca));return La(t,ca)}function kd(e){const t=DE(nc(e,G_));return La(t,ca)}function u0e(e){return nc(`${e}`,c0e)}function jm(e){return Number(La(e,c0e))}function f0e(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function h0e(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function m3t(e){const t=u0e(typeof e.type<"u"?e.type:d0e);if(jm(t)===qu&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?nc(e.senderPublicKey,ca):void 0,r=typeof e.iv<"u"?nc(e.iv,ca):Av(Nb),i=nc(e.symKey,ca),o=Vye(i,r).encrypt(nc(e.message,G_)),s=p0e({type:t,sealed:o,iv:r,senderPublicKey:n});return e.encoding===gh?f0e(s):s}function g3t(e){const t=nc(e.symKey,ca),{sealed:n,iv:r}=B1({encoded:e.encoded,encoding:e.encoding}),i=Vye(t,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return La(i,G_)}function y3t(e,t){const n=u0e(J_),r=Av(Nb),i=nc(e,G_),o=p0e({type:n,sealed:i,iv:r});return t===gh?f0e(o):o}function v3t(e,t){const{sealed:n}=B1({encoded:e,encoding:t});return La(n,G_)}function p0e(e){if(jm(e.type)===J_)return La(Ib([e.type,e.sealed]),Dc);if(jm(e.type)===qu){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return La(Ib([e.type,e.senderPublicKey,e.iv,e.sealed]),Dc)}return La(Ib([e.type,e.iv,e.sealed]),Dc)}function B1(e){const t=(e.encoding||Dc)===gh?h0e(e.encoded):e.encoded,n=nc(t,Dc),r=n.slice(f3t,fte),i=fte;if(jm(r)===qu){const l=i+a$,c=l+Nb,d=n.slice(i,l),u=n.slice(l,c),h=n.slice(c);return{type:r,sealed:h,iv:u,senderPublicKey:d}}if(jm(r)===J_){const l=n.slice(i),c=Av(Nb);return{type:r,sealed:l,iv:c}}const o=i+Nb,s=n.slice(i,o),a=n.slice(o);return{type:r,sealed:a,iv:s}}function w3t(e,t){const n=B1({encoded:e,encoding:t==null?void 0:t.encoding});return m0e({type:jm(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?La(n.senderPublicKey,ca):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function m0e(e){const t=(e==null?void 0:e.type)||d0e;if(t===qu){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function hte(e){return e.type===qu&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function pte(e){return e.type===J_}function b3t(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return Ib([new Uint8Array([4]),t,n])}function _3t(e,t){const[n,r,i]=e.split("."),o=Buffer.from(h0e(i),"base64");if(o.length!==64)throw new Error("Invalid signature length");const s=o.slice(0,32),a=o.slice(32,64),l=`${n}.${r}`,c=DE(l),d=b3t(t);if(!u3t.verify(Ib([s,a]),c,d))throw new Error("Invalid signature");return $7(e).payload}const x3t="irn";function II(e){return(e==null?void 0:e.relay)||{protocol:x3t}}function ob(e){const t=p1t[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function k3t(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(r)){const o=i.replace(r,""),s=e[i];n[o]=s}}),n}function mte(e){if(!e.includes("wc:")){const c=Eye(e);c!=null&&c.includes("wc:")&&(e=c)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),o=typeof n<"u"?e.substring(n):"",s=new URLSearchParams(o),a={};s.forEach((c,d)=>{a[d]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:S3t(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:k3t(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function S3t(e){return e.startsWith("//")?e.substring(2):e}function I3t(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(i=>{const o=i,s=n+t+o;e[o]&&(r[s]=e[o])}),r}function gte(e){const t=new URLSearchParams,n=I3t(e.relay);Object.keys(n).sort().forEach(i=>{t.set(i,n[i])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function s2(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var E3t=Object.defineProperty,C3t=Object.defineProperties,A3t=Object.getOwnPropertyDescriptors,yte=Object.getOwnPropertySymbols,R3t=Object.prototype.hasOwnProperty,T3t=Object.prototype.propertyIsEnumerable,vte=(e,t,n)=>t in e?E3t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O3t=(e,t)=>{for(var n in t||(t={}))R3t.call(t,n)&&vte(e,n,t[n]);if(yte)for(var n of yte(t))T3t.call(t,n)&&vte(e,n,t[n]);return e},N3t=(e,t)=>C3t(e,A3t(t));function Tv(e){const t=[];return e.forEach(n=>{const[r,i]=n.split(":");t.push(`${r}:${i}`)}),t}function P3t(e){const t=[];return Object.values(e).forEach(n=>{t.push(...Tv(n.accounts))}),t}function B3t(e,t){const n=[];return Object.values(e).forEach(r=>{Tv(r.accounts).includes(t)&&n.push(...r.methods)}),n}function D3t(e,t){const n=[];return Object.values(e).forEach(r=>{Tv(r.accounts).includes(t)&&n.push(...r.events)}),n}function g0e(e){return e.includes(":")}function M3t(e){return g0e(e)?e.split(":")[0]:e}function wte(e){var t,n,r;const i={};if(!D1(e))return i;for(const[o,s]of Object.entries(e)){const a=g0e(o)?[o]:s.chains,l=s.methods||[],c=s.events||[],d=M3t(o);i[d]=N3t(O3t({},i[d]),{chains:hm(a,(t=i[d])==null?void 0:t.chains),methods:hm(l,(n=i[d])==null?void 0:n.methods),events:hm(c,(r=i[d])==null?void 0:r.events)})}return i}function j3t(e){const t={};return e==null||e.forEach(n=>{var r;const[i,o]=n.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(n),(r=t[i].chains)==null||r.push(`${i}:${o}`)}),t}function bte(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=j3t(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=hm(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}function $3t(e,t){var n,r,i,o,s,a;const l=wte(e),c=wte(t),d={},u=Object.keys(l).concat(Object.keys(c));for(const h of u)d[h]={chains:hm((n=l[h])==null?void 0:n.chains,(r=c[h])==null?void 0:r.chains),methods:hm((i=l[h])==null?void 0:i.methods,(o=c[h])==null?void 0:o.methods),events:hm((s=l[h])==null?void 0:s.events,(a=c[h])==null?void 0:a.events)};return d}const L3t={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},U3t={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function kt(e,t){const{message:n,code:r}=U3t[e];return{message:t?`${n} ${t}`:n,code:r}}function Ki(e,t){const{message:n,code:r}=L3t[e];return{message:t?`${n} ${t}`:n,code:r}}function W0(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function D1(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ms(e){return typeof e>"u"}function go(e,t){return t&&ms(e)?!0:typeof e=="string"&&!!e.trim().length}function l$(e,t){return t&&ms(e)?!0:typeof e=="number"&&!isNaN(e)}function F3t(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let o=!0;return tm(i,r)?(r.forEach(s=>{const{accounts:a,methods:l,events:c}=e.namespaces[s],d=Tv(a),u=n[s];(!tm(_ye(s,u),d)||!tm(u.methods,l)||!tm(u.events,c))&&(o=!1)}),o):!1}function EI(e){return go(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function W3t(e){if(go(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&EI(n)}}return!1}function q3t(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(go(e,!1)){if(t(e))return!0;const n=Eye(e);return t(n)}}catch{}return!1}function z3t(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function V3t(e){return e==null?void 0:e.topic}function K3t(e,t){let n=null;return go(e==null?void 0:e.publicKey,!1)||(n=kt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function _te(e){let t=!0;return W0(e)?e.length&&(t=e.every(n=>go(n,!1))):t=!1,t}function H3t(e,t,n){let r=null;return W0(t)&&t.length?t.forEach(i=>{r||EI(i)||(r=Ki("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):EI(e)||(r=Ki("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function G3t(e,t,n){let r=null;return Object.entries(e).forEach(([i,o])=>{if(r)return;const s=H3t(i,_ye(i,o),`${t} ${n}`);s&&(r=s)}),r}function J3t(e,t){let n=null;return W0(e)?e.forEach(r=>{n||W3t(r)||(n=Ki("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ki("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Z3t(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=J3t(r==null?void 0:r.accounts,`${t} namespace`);i&&(n=i)}),n}function Y3t(e,t){let n=null;return _te(e==null?void 0:e.methods)?_te(e==null?void 0:e.events)||(n=Ki("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Ki("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function y0e(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=Y3t(r,`${t}, namespace`);i&&(n=i)}),n}function X3t(e,t,n){let r=null;if(e&&D1(e)){const i=y0e(e,t);i&&(r=i);const o=G3t(e,t,n);o&&(r=o)}else r=kt("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function iT(e,t){let n=null;if(e&&D1(e)){const r=y0e(e,t);r&&(n=r);const i=Z3t(e,t);i&&(n=i)}else n=kt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function v0e(e){return go(e.protocol,!0)}function Q3t(e,t){let n=!1;return e?e&&W0(e)&&e.length&&e.forEach(r=>{n=v0e(r)}):n=!0,n}function eEt(e){return typeof e=="number"}function Ea(e){return typeof e<"u"&&typeof e!==null}function tEt(e){return!(!e||typeof e!="object"||!e.code||!l$(e.code,!1)||!e.message||!go(e.message,!1))}function nEt(e){return!(ms(e)||!go(e.method,!1))}function rEt(e){return!(ms(e)||ms(e.result)&&ms(e.error)||!l$(e.id,!1)||!go(e.jsonrpc,!1))}function iEt(e){return!(ms(e)||!go(e.name,!1))}function xte(e,t){return!(!EI(t)||!P3t(e).includes(t))}function oEt(e,t,n){return go(n,!1)?B3t(e,t).includes(n):!1}function sEt(e,t,n){return go(n,!1)?D3t(e,t).includes(n):!1}function kte(e,t,n){let r=null;const i=aEt(e),o=lEt(t),s=Object.keys(i),a=Object.keys(o),l=Ste(Object.keys(e)),c=Ste(Object.keys(t)),d=l.filter(u=>!c.includes(u));return d.length&&(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(t).toString()}`)),tm(s,a)||(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(u=>{if(!u.includes(":")||r)return;const h=Tv(t[u].accounts);h.includes(u)||(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${u}
        Required: ${u}
        Approved: ${h.toString()}`))}),s.forEach(u=>{r||(tm(i[u].methods,o[u].methods)?tm(i[u].events,o[u].events)||(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${u}`)):r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${u}`))}),r}function aEt(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(i=>{t[i]={methods:e[n].methods,events:e[n].events}})}),t}function Ste(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function lEt(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=Tv(e[n].accounts);r==null||r.forEach(i=>{t[i]={accounts:e[n].accounts.filter(o=>o.includes(`${i}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function cEt(e,t){return l$(e,!1)&&e<=t.max&&e>=t.min}function Ite(){const e=K_();return new Promise(t=>{switch(e){case bl.browser:t(dEt());break;case bl.reactNative:t(uEt());break;case bl.node:t(fEt());break;default:t(!0)}})}function dEt(){return Cv()&&(navigator==null?void 0:navigator.onLine)}async function uEt(){if(sp()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function fEt(){return!0}function hEt(e){switch(K_()){case bl.browser:pEt(e);break;case bl.reactNative:mEt(e);break}}function pEt(e){!sp()&&Cv()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function mEt(e){sp()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}function gEt(){var e;return Cv()&&Gu.getDocument()?((e=Gu.getDocument())==null?void 0:e.visibilityState)==="visible":!0}const oT={};class Lw{static get(t){return oT[t]}static set(t,n){oT[t]=n}static delete(t){delete oT[t]}}function yEt(e){const t=V_.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function vEt({publicKey:e,signature:t,payload:n}){var r;const i=cB(n.method),o=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),s=_Et(n.address),a=n.era==="00"?new Uint8Array([0]):cB(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),c=new Uint8Array([l&255,l>>8&255]),d=BigInt(`0x${bEt(n.tip)}`),u=kEt(d),h=new Uint8Array([0,...e,s,...t,...a,...c,...u,...i]),m=xEt(h.length+1);return new Uint8Array([...m,o,...h])}function wEt(e){const t=cB(e),n=v1t.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function cB(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function bEt(e){return e.startsWith("0x")?e.slice(2):e}function _Et(e){const t=V_.decode(e)[0];return t===42?0:t===60?2:1}function xEt(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function kEt(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function SEt(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=yEt(e.transaction.address),r=vEt({publicKey:n,signature:t,payload:e.transaction}),i=Buffer.from(r).toString("hex");return wEt(i)}const IEt="PARSE_ERROR",EEt="INVALID_REQUEST",CEt="METHOD_NOT_FOUND",AEt="INVALID_PARAMS",w0e="INTERNAL_ERROR",c$="SERVER_ERROR",REt=[-32700,-32600,-32601,-32602,-32603],Pb={[IEt]:{code:-32700,message:"Parse error"},[EEt]:{code:-32600,message:"Invalid Request"},[CEt]:{code:-32601,message:"Method not found"},[AEt]:{code:-32602,message:"Invalid params"},[w0e]:{code:-32603,message:"Internal error"},[c$]:{code:-32e3,message:"Server error"}},b0e=c$;function TEt(e){return REt.includes(e)}function Ete(e){return Object.keys(Pb).includes(e)?Pb[e]:Pb[b0e]}function OEt(e){const t=Object.values(Pb).find(n=>n.code===e);return t||Pb[b0e]}function NEt(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var sT={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dB=function(e,t){return dB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},dB(e,t)};function PEt(e,t){dB(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var uB=function(){return uB=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},uB.apply(this,arguments)};function BEt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function DEt(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function MEt(e,t){return function(n,r){t(n,r,e)}}function jEt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function $Et(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function LEt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function UEt(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function FEt(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function fB(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _0e(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function WEt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_0e(arguments[t]));return e}function qEt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function M1(e){return this instanceof M1?(this.v=e,this):new M1(e)}function zEt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(v,g){o.push([h,m,v,g])>1||a(h,m)})})}function a(h,m){try{l(r[h](m))}catch(v){u(o[0][3],v)}}function l(h){h.value instanceof M1?Promise.resolve(h.value.v).then(c,d):u(o[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function VEt(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:M1(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function KEt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof fB=="function"?fB(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function HEt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function GEt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function JEt(e){return e&&e.__esModule?e:{default:e}}function ZEt(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function YEt(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const XEt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return uB},__asyncDelegator:VEt,__asyncGenerator:zEt,__asyncValues:KEt,__await:M1,__awaiter:$Et,__classPrivateFieldGet:ZEt,__classPrivateFieldSet:YEt,__createBinding:UEt,__decorate:DEt,__exportStar:FEt,__extends:PEt,__generator:LEt,__importDefault:JEt,__importStar:GEt,__makeTemplateObject:HEt,__metadata:jEt,__param:MEt,__read:_0e,__rest:BEt,__spread:WEt,__spreadArrays:qEt,__values:fB},Symbol.toStringTag,{value:"Module"})),QEt=K1(XEt);var gu={},Cte;function eCt(){if(Cte)return gu;Cte=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.isBrowserCryptoAvailable=gu.getSubtleCrypto=gu.getBrowerCrypto=void 0;function e(){return(Na==null?void 0:Na.crypto)||(Na==null?void 0:Na.msCrypto)||{}}gu.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}gu.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return gu.isBrowserCryptoAvailable=n,gu}var yu={},Ate;function tCt(){if(Ate)return yu;Ate=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.isBrowser=yu.isNode=yu.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}yu.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}yu.isNode=t;function n(){return!e()&&!t()}return yu.isBrowser=n,yu}var Rte;function nCt(){return Rte||(Rte=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=QEt;t.__exportStar(eCt(),e),t.__exportStar(tCt(),e)})(sT)),sT}var rCt=nCt();function wd(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function om(e=6){return BigInt(wd(e))}function sm(e,t,n){return{id:n||wd(),jsonrpc:"2.0",method:e,params:t}}function d$(e,t){return{id:e,jsonrpc:"2.0",result:t}}function u$(e,t,n){return{id:e,jsonrpc:"2.0",error:iCt(t)}}function iCt(e,t){return typeof e>"u"?Ete(w0e):(typeof e=="string"&&(e=Object.assign(Object.assign({},Ete(c$)),{message:e})),TEt(e.code)&&(e=OEt(e.code)),e)}class oCt{}class sCt extends oCt{constructor(){super()}}class aCt extends sCt{constructor(t){super()}}const lCt="^wss?:";function cCt(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function dCt(e,t){const n=cCt(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function Tte(e){return dCt(e,lCt)}function uCt(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function x0e(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function f$(e){return x0e(e)&&"method"in e}function LE(e){return x0e(e)&&(bd(e)||Jl(e))}function bd(e){return"result"in e}function Jl(e){return"error"in e}class fCt extends aCt{constructor(t){super(t),this.events=new Xc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(sm(t.method,t.params||[],t.id||om().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${t.id}`,o=>{Jl(o)?i(o.error):r(o.result)});try{await this.connection.send(t,n)}catch(o){i(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),LE(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const hCt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),pCt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Ote=e=>e.split("?")[0],Nte=10,mCt=hCt();let gCt=class{constructor(t){if(this.url=t,this.events=new Xc.EventEmitter,this.registering=!1,!Tte(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Bm(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!Tte(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const i=rCt.isReactNative()?void 0:{rejectUnauthorized:!uCt(t)},o=new mCt(t,[],i);pCt()?o.onerror=s=>{const a=s;r(this.emitError(a.error))}:o.on("error",s=>{r(this.emitError(s))}),o.onopen=()=>{this.onOpen(o),n(o)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?j0(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),o=u$(t,i);this.events.emit("payload",o)}parseError(t,n=this.url){return NEt(t,Ote(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Nte&&this.events.setMaxListeners(Nte)}emitError(t){const n=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Ote(this.url)}`));return this.events.emit("register_error",n),n}};var yCt={};const k0e="wc",S0e=2,hB="core",$d=`${k0e}@2:${hB}:`,vCt={logger:"error"},wCt={database:":memory:"},bCt="crypto",Pte="client_ed25519_seed",_Ct=It.ONE_DAY,xCt="keychain",kCt="0.3",SCt="messages",ICt="0.3",Bte=It.SIX_HOURS,ECt="publisher",I0e="irn",CCt="error",E0e="wss://relay.walletconnect.org",ACt="relayer",zo={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},RCt="_subscription",Fl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},TCt=.1,pB="2.21.5",hi={link_mode:"link_mode",relay:"relay"},Y2={inbound:"inbound",outbound:"outbound"},OCt="0.3",NCt="WALLETCONNECT_CLIENT_ID",Dte="WALLETCONNECT_LINK_MODE_APPS",Za={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},PCt="subscription",BCt="0.3",DCt="pairing",MCt="0.3",Uw={wc_pairingDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:It.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:It.ONE_DAY,prompt:!1,tag:0},res:{ttl:It.ONE_DAY,prompt:!1,tag:0}}},zp={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Sc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},jCt="history",$Ct="0.3",LCt="expirer",Vl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},UCt="0.3",FCt="verify-api",WCt="https://verify.walletconnect.com",C0e="https://verify.walletconnect.org",Bb=C0e,qCt=`${Bb}/v3`,zCt=[WCt,C0e],VCt="echo",KCt="https://echo.walletconnect.com",vd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},_u={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ic={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Cp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Ap={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Fw={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},HCt=.1,GCt="event-client",JCt=86400,ZCt="https://pulse.walletconnect.org/batch";function YCt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var g=0,y=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,g++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,M=_-1;(I!==0||T<y)&&M!==-1;M--,T++)I+=256*R[M]>>>0,R[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");y=T,b++}for(var D=_-y;D!==_&&R[D]===0;)D++;for(var A=l.repeat(g);D<_;++D)A+=e.charAt(R[D]);return A}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var g=0;if(v[g]!==" "){for(var y=0,b=0;v[g]===l;)y++,g++;for(var k=(v.length-g)*c+1>>>0,_=new Uint8Array(k);v[g];){var R=n[v.charCodeAt(g)];if(R===255)return;for(var I=0,T=k-1;(R!==0||I<b)&&T!==-1;T--,I++)R+=a*_[T]>>>0,_[T]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");b=I,g++}if(v[g]!==" "){for(var M=k-b;M!==k&&_[M]===0;)M++;for(var D=new Uint8Array(y+(k-M)),A=y;M!==k;)D[A++]=_[M++];return D}}}function m(v){var g=h(v);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:h,decode:m}}var XCt=YCt,QCt=XCt;const A0e=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},e5t=e=>new TextEncoder().encode(e),t5t=e=>new TextDecoder().decode(e);class n5t{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class r5t{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return R0e(this,t)}}class i5t{constructor(t){this.decoders=t}or(t){return R0e(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const R0e=(e,t)=>new i5t({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class o5t{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new n5t(t,n,r),this.decoder=new r5t(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const UE=({name:e,prefix:t,encode:n,decode:r})=>new o5t(e,t,n,r),Z_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=QCt(n,t);return UE({prefix:e,name:t,encode:r,decode:o=>A0e(i(o))})},s5t=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let d=0;d<o;++d){const u=i[e[d]];if(u===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|u,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},a5t=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Is=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>UE({prefix:t,name:e,encode(i){return a5t(i,r,n)},decode(i){return s5t(i,r,n,e)}}),l5t=UE({prefix:"\0",name:"identity",encode:e=>t5t(e),decode:e=>e5t(e)});var c5t=Object.freeze({__proto__:null,identity:l5t});const d5t=Is({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var u5t=Object.freeze({__proto__:null,base2:d5t});const f5t=Is({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var h5t=Object.freeze({__proto__:null,base8:f5t});const p5t=Z_({prefix:"9",name:"base10",alphabet:"0123456789"});var m5t=Object.freeze({__proto__:null,base10:p5t});const g5t=Is({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),y5t=Is({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var v5t=Object.freeze({__proto__:null,base16:g5t,base16upper:y5t});const w5t=Is({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),b5t=Is({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_5t=Is({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x5t=Is({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),k5t=Is({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),S5t=Is({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),I5t=Is({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),E5t=Is({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),C5t=Is({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var A5t=Object.freeze({__proto__:null,base32:w5t,base32upper:b5t,base32pad:_5t,base32padupper:x5t,base32hex:k5t,base32hexupper:S5t,base32hexpad:I5t,base32hexpadupper:E5t,base32z:C5t});const R5t=Z_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),T5t=Z_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var O5t=Object.freeze({__proto__:null,base36:R5t,base36upper:T5t});const N5t=Z_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),P5t=Z_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var B5t=Object.freeze({__proto__:null,base58btc:N5t,base58flickr:P5t});const D5t=Is({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),M5t=Is({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),j5t=Is({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$5t=Is({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var L5t=Object.freeze({__proto__:null,base64:D5t,base64pad:M5t,base64url:j5t,base64urlpad:$5t});const T0e=Array.from(""),U5t=T0e.reduce((e,t,n)=>(e[n]=t,e),[]),F5t=T0e.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function W5t(e){return e.reduce((t,n)=>(t+=U5t[n],t),"")}function q5t(e){const t=[];for(const n of e){const r=F5t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const z5t=UE({prefix:"",name:"base256emoji",encode:W5t,decode:q5t});var V5t=Object.freeze({__proto__:null,base256emoji:z5t}),K5t=O0e,Mte=128,H5t=-128,G5t=Math.pow(2,31);function O0e(e,t,n){t=t||[],n=n||0;for(var r=n;e>=G5t;)t[n++]=e&255|Mte,e/=128;for(;e&H5t;)t[n++]=e&255|Mte,e>>>=7;return t[n]=e|0,O0e.bytes=n-r+1,t}var J5t=mB,Z5t=128,jte=127;function mB(e,r){var n=0,r=r||0,i=0,o=r,s,a=e.length;do{if(o>=a)throw mB.bytes=0,new RangeError("Could not decode varint");s=e[o++],n+=i<28?(s&jte)<<i:(s&jte)*Math.pow(2,i),i+=7}while(s>=Z5t);return mB.bytes=o-r,n}var Y5t=Math.pow(2,7),X5t=Math.pow(2,14),Q5t=Math.pow(2,21),eAt=Math.pow(2,28),tAt=Math.pow(2,35),nAt=Math.pow(2,42),rAt=Math.pow(2,49),iAt=Math.pow(2,56),oAt=Math.pow(2,63),sAt=function(e){return e<Y5t?1:e<X5t?2:e<Q5t?3:e<eAt?4:e<tAt?5:e<nAt?6:e<rAt?7:e<iAt?8:e<oAt?9:10},aAt={encode:K5t,decode:J5t,encodingLength:sAt},N0e=aAt;const $te=(e,t,n=0)=>(N0e.encode(e,t,n),t),Lte=e=>N0e.encodingLength(e),gB=(e,t)=>{const n=t.byteLength,r=Lte(e),i=r+Lte(n),o=new Uint8Array(i+n);return $te(e,o,0),$te(n,o,r),o.set(t,i),new lAt(e,n,t,o)};class lAt{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const P0e=({name:e,code:t,encode:n})=>new cAt(e,t,n);class cAt{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?gB(this.code,n):n.then(r=>gB(this.code,r))}else throw Error("Unknown type, must be binary type")}}const B0e=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),dAt=P0e({name:"sha2-256",code:18,encode:B0e("SHA-256")}),uAt=P0e({name:"sha2-512",code:19,encode:B0e("SHA-512")});var fAt=Object.freeze({__proto__:null,sha256:dAt,sha512:uAt});const D0e=0,hAt="identity",M0e=A0e,pAt=e=>gB(D0e,M0e(e)),mAt={code:D0e,name:hAt,encode:M0e,digest:pAt};var gAt=Object.freeze({__proto__:null,identity:mAt});new TextEncoder,new TextDecoder;const Ute={...c5t,...u5t,...h5t,...m5t,...v5t,...A5t,...O5t,...B5t,...L5t,...V5t};({...fAt,...gAt});function j0e(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function yAt(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?j0e(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function $0e(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Fte=$0e("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),aT=$0e("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=yAt(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),vAt={utf8:Fte,"utf-8":Fte,hex:Ute.base16,latin1:aT,ascii:aT,binary:aT,...Ute};function wAt(e,t="utf8"){const n=vAt[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?j0e(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var bAt=Object.defineProperty,_At=(e,t,n)=>t in e?bAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hd=(e,t,n)=>_At(e,typeof t!="symbol"?t+"":t,n);class xAt{constructor(t,n){this.core=t,this.logger=n,hd(this,"keychain",new Map),hd(this,"name",xCt),hd(this,"version",kCt),hd(this,"initialized",!1),hd(this,"storagePrefix",$d),hd(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),hd(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),hd(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),hd(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:o}=kt("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return i}),hd(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=ha(n,this.name)}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Y7(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?X7(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var kAt=Object.defineProperty,SAt=(e,t,n)=>t in e?kAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,os=(e,t,n)=>SAt(e,typeof t!="symbol"?t+"":t,n);class IAt{constructor(t,n,r){this.core=t,this.logger=n,os(this,"name",bCt),os(this,"keychain"),os(this,"randomSessionIdentifier",lB()),os(this,"initialized",!1),os(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),os(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),os(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),o=FQ(i);return xge(o.publicKey)}),os(this,"generateKeyPair",()=>{this.isInitialized();const i=h3t();return this.setPrivateKey(i.publicKey,i.privateKey)}),os(this,"signJWT",async i=>{this.isInitialized();const o=await this.getClientSeed(),s=FQ(o),a=this.randomSessionIdentifier;return await ybt(a,i,_Ct,s)}),os(this,"generateSharedKey",(i,o,s)=>{this.isInitialized();const a=this.getPrivateKey(i),l=p3t(a,o);return this.setSymKey(l,s)}),os(this,"setSymKey",async(i,o)=>{this.isInitialized();const s=o||Z2(i);return await this.keychain.set(s,i),s}),os(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),os(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),os(this,"encode",async(i,o,s)=>{this.isInitialized();const a=m0e(s),l=Bm(o);if(pte(a))return y3t(l,s==null?void 0:s.encoding);if(hte(a)){const h=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(h,m)}const c=this.getSymKey(i),{type:d,senderPublicKey:u}=a;return m3t({type:d,symKey:c,message:l,senderPublicKey:u,encoding:s==null?void 0:s.encoding})}),os(this,"decode",async(i,o,s)=>{this.isInitialized();const a=w3t(o,s);if(pte(a)){const l=v3t(o,s==null?void 0:s.encoding);return j0(l)}if(hte(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=g3t({symKey:l,encoded:o,encoding:s==null?void 0:s.encoding});return j0(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),os(this,"getPayloadType",(i,o=Dc)=>{const s=B1({encoded:i,encoding:o});return jm(s.type)}),os(this,"getPayloadSenderPublicKey",(i,o=Dc)=>{const s=B1({encoded:i,encoding:o});return s.senderPublicKey?La(s.senderPublicKey,ca):void 0}),this.core=t,this.logger=ha(n,this.name),this.keychain=r||new xAt(this.core,this.logger)}get context(){return Fa(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Pte)}catch{t=lB(),await this.keychain.set(Pte,t)}return wAt(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var EAt=Object.defineProperty,CAt=Object.defineProperties,AAt=Object.getOwnPropertyDescriptors,Wte=Object.getOwnPropertySymbols,RAt=Object.prototype.hasOwnProperty,TAt=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?EAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OAt=(e,t)=>{for(var n in t||(t={}))RAt.call(t,n)&&yB(e,n,t[n]);if(Wte)for(var n of Wte(t))TAt.call(t,n)&&yB(e,n,t[n]);return e},NAt=(e,t)=>CAt(e,AAt(t)),Ja=(e,t,n)=>yB(e,typeof t!="symbol"?t+"":t,n);class PAt extends Okt{constructor(t,n){super(t,n),this.logger=t,this.core=n,Ja(this,"messages",new Map),Ja(this,"messagesWithoutClientAck",new Map),Ja(this,"name",SCt),Ja(this,"version",ICt),Ja(this,"initialized",!1),Ja(this,"storagePrefix",$d),Ja(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ja(this,"set",async(r,i,o)=>{this.isInitialized();const s=kd(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[s]<"u")return s;if(a[s]=i,this.messages.set(r,a),o===Y2.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,NAt(OAt({},l),{[s]:i}))}return await this.persist(),s}),Ja(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ja(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const o of r){const s=this.messagesWithoutClientAck.get(o)||{};i[o]=Object.values(s)}return i}),Ja(this,"has",(r,i)=>{this.isInitialized();const o=this.get(r),s=kd(i);return typeof o[s]<"u"}),Ja(this,"ack",async(r,i)=>{this.isInitialized();const o=this.messagesWithoutClientAck.get(r);if(typeof o>"u")return;const s=kd(i);delete o[s],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,o),await this.persist()}),Ja(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ha(t,this.name),this.core=n}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Y7(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Y7(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?X7(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?X7(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var BAt=Object.defineProperty,DAt=Object.defineProperties,MAt=Object.getOwnPropertyDescriptors,qte=Object.getOwnPropertySymbols,jAt=Object.prototype.hasOwnProperty,$At=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?BAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a2=(e,t)=>{for(var n in t||(t={}))jAt.call(t,n)&&vB(e,n,t[n]);if(qte)for(var n of qte(t))$At.call(t,n)&&vB(e,n,t[n]);return e},lT=(e,t)=>DAt(e,MAt(t)),Ec=(e,t,n)=>vB(e,typeof t!="symbol"?t+"":t,n);class LAt extends Nkt{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Ec(this,"events",new Xc.EventEmitter),Ec(this,"name",ECt),Ec(this,"queue",new Map),Ec(this,"publishTimeout",It.toMiliseconds(It.ONE_MINUTE)),Ec(this,"initialPublishTimeout",It.toMiliseconds(It.ONE_SECOND*15)),Ec(this,"needsTransportRestart",!1),Ec(this,"publish",async(r,i,o)=>{var s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:o}});const a=(o==null?void 0:o.ttl)||Bte,l=II(o),c=(o==null?void 0:o.prompt)||!1,d=(o==null?void 0:o.tag)||0,u=(o==null?void 0:o.id)||om().toString(),h={topic:r,message:i,opts:{ttl:a,relay:l,prompt:c,tag:d,id:u,attestation:o==null?void 0:o.attestation,tvf:o==null?void 0:o.tvf}},m=`Failed to publish payload, please try again. id:${u} tag:${d}`;try{const v=new Promise(async g=>{const y=({id:k})=>{h.opts.id===k&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(zo.publish,y),g(h))};this.relayer.events.on(zo.publish,y);const b=bh(new Promise((k,_)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:c,tag:d,id:u,attestation:o==null?void 0:o.attestation,tvf:o==null?void 0:o.tvf}).then(k).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),_(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${d}`);try{await b,this.events.removeListener(zo.publish,y)}catch(k){this.queue.set(u,lT(a2({},h),{attempt:1})),this.logger.warn(k,k==null?void 0:k.message)}});this.logger.trace({type:"method",method:"publish",params:{id:u,topic:r,message:i,opts:o}}),await bh(v,this.publishTimeout,m)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(s=o==null?void 0:o.internal)!=null&&s.throwOnFailedPublish)throw v}finally{this.queue.delete(u)}}),Ec(this,"on",(r,i)=>{this.events.on(r,i)}),Ec(this,"once",(r,i)=>{this.events.once(r,i)}),Ec(this,"off",(r,i)=>{this.events.off(r,i)}),Ec(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=t,this.logger=ha(n,this.name),this.registerEventListeners()}get context(){return Fa(this.logger)}async rpcPublish(t){var n,r,i,o;const{topic:s,message:a,ttl:l=Bte,prompt:c,tag:d,id:u,attestation:h,tvf:m}=t,v={method:ob(II().protocol).publish,params:a2({topic:s,message:a,ttl:l,prompt:c,tag:d,attestation:h},m),id:u};ms((n=v.params)==null?void 0:n.prompt)&&((r=v.params)==null||delete r.prompt),ms((i=v.params)==null?void 0:i.tag)&&((o=v.params)==null||delete o.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const g=await this.relayer.request(v);return this.relayer.events.emit(zo.publish,t),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{const r=t.attempt+1;this.queue.set(n,lT(a2({},t),{attempt:r}));const{topic:i,message:o,opts:s,attestation:a}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${r}`),await this.rpcPublish(lT(a2({},t),{topic:i,message:o,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:a,tvf:s.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(mg.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(zo.connection_stalled);return}this.checkQueue()}),this.relayer.on(zo.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var UAt=Object.defineProperty,FAt=(e,t,n)=>t in e?UAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dy=(e,t,n)=>FAt(e,typeof t!="symbol"?t+"":t,n);class WAt{constructor(){dy(this,"map",new Map),dy(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),dy(this,"get",t=>this.map.get(t)||[]),dy(this,"exists",(t,n)=>this.get(t).includes(n)),dy(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const i=r.filter(o=>o!==n);if(!i.length){this.map.delete(t);return}this.map.set(t,i)}),dy(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var qAt=Object.defineProperty,zAt=Object.defineProperties,VAt=Object.getOwnPropertyDescriptors,zte=Object.getOwnPropertySymbols,KAt=Object.prototype.hasOwnProperty,HAt=Object.prototype.propertyIsEnumerable,wB=(e,t,n)=>t in e?qAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ww=(e,t)=>{for(var n in t||(t={}))KAt.call(t,n)&&wB(e,n,t[n]);if(zte)for(var n of zte(t))HAt.call(t,n)&&wB(e,n,t[n]);return e},cT=(e,t)=>zAt(e,VAt(t)),Vr=(e,t,n)=>wB(e,typeof t!="symbol"?t+"":t,n);class GAt extends Dkt{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Vr(this,"subscriptions",new Map),Vr(this,"topicMap",new WAt),Vr(this,"events",new Xc.EventEmitter),Vr(this,"name",PCt),Vr(this,"version",BCt),Vr(this,"pending",new Map),Vr(this,"cached",[]),Vr(this,"initialized",!1),Vr(this,"storagePrefix",$d),Vr(this,"subscribeTimeout",It.toMiliseconds(It.ONE_MINUTE)),Vr(this,"initialSubscribeTimeout",It.toMiliseconds(It.ONE_SECOND*15)),Vr(this,"clientId"),Vr(this,"batchSubscribeTopicsLimit",500),Vr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Vr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=II(i),s={topic:r,relay:o,transportType:i==null?void 0:i.transportType};this.pending.set(r,s);const a=await this.rpcSubscribe(r,o,i);return typeof a=="string"&&(this.onSubscribe(a,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Vr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Vr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Vr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(o=>o.topic===r))})),Vr(this,"on",(r,i)=>{this.events.on(r,i)}),Vr(this,"once",(r,i)=>{this.events.once(r,i)}),Vr(this,"off",(r,i)=>{this.events.off(r,i)}),Vr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Vr(this,"start",async()=>{await this.onConnect()}),Vr(this,"stop",async()=>{await this.onDisconnect()}),Vr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Vr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Vr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(mg.pulse,async()=>{await this.checkPending()}),this.events.on(Za.created,async r=>{const i=Za.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Za.deleted,async r=>{const i=Za.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=t,this.logger=ha(n,this.name),this.clientId=""}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async i=>await this.unsubscribeById(t,i,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const i=II(r);await this.restartToComplete({topic:t,id:n,relay:i}),await this.rpcUnsubscribe(t,n,i);const o=Ki("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,n,r){var i;(!r||(r==null?void 0:r.transportType)===hi.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const o={method:ob(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const s=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(t);if((r==null?void 0:r.transportType)===hi.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(d=>this.logger.warn(d))},It.toMiliseconds(It.ONE_SECOND)),a;const l=new Promise(async d=>{const u=h=>{h.topic===t&&(this.events.removeListener(Za.created,u),d(h.id))};this.events.on(Za.created,u);try{const h=await bh(new Promise((m,v)=>{this.relayer.request(o).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),v(g)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(Za.created,u),d(h)}catch{}}),c=await bh(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!c&&s)throw new Error(`Subscribing to ${t} failed, please try again`);return c?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(zo.connection_stalled),s)throw a}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:ob(n.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await bh(new Promise(i=>{this.relayer.request(r).catch(o=>this.logger.warn(o)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(zo.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:ob(n.protocol).batchFetchMessages,params:{topics:t.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await bh(new Promise((o,s)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),s(a)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(zo.connection_stalled)}return i}rpcUnsubscribe(t,n,r){const i={method:ob(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,n){this.setSubscription(t,cT(Ww({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,Ww({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,Ww({},n)),this.topicMap.set(n.topic,t),this.events.emit(Za.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Za.deleted,cT(Ww({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Za.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Za.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>cT(Ww({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await D2t(It.toMiliseconds(It.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return kd(t+await this.getClientId())}}var JAt=Object.defineProperty,Vte=Object.getOwnPropertySymbols,ZAt=Object.prototype.hasOwnProperty,YAt=Object.prototype.propertyIsEnumerable,bB=(e,t,n)=>t in e?JAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kte=(e,t)=>{for(var n in t||(t={}))ZAt.call(t,n)&&bB(e,n,t[n]);if(Vte)for(var n of Vte(t))YAt.call(t,n)&&bB(e,n,t[n]);return e},kr=(e,t,n)=>bB(e,typeof t!="symbol"?t+"":t,n);class XAt extends Pkt{constructor(t){super(t),kr(this,"protocol","wc"),kr(this,"version",2),kr(this,"core"),kr(this,"logger"),kr(this,"events",new Xc.EventEmitter),kr(this,"provider"),kr(this,"messages"),kr(this,"subscriber"),kr(this,"publisher"),kr(this,"name",ACt),kr(this,"transportExplicitlyClosed",!1),kr(this,"initialized",!1),kr(this,"connectionAttemptInProgress",!1),kr(this,"relayUrl"),kr(this,"projectId"),kr(this,"packageName"),kr(this,"bundleId"),kr(this,"hasExperiencedNetworkDisruption",!1),kr(this,"pingTimeout"),kr(this,"heartBeatTimeout",It.toMiliseconds(It.THIRTY_SECONDS+It.FIVE_SECONDS)),kr(this,"reconnectTimeout"),kr(this,"connectPromise"),kr(this,"reconnectInProgress",!1),kr(this,"requestsInFlight",[]),kr(this,"connectTimeout",It.toMiliseconds(It.ONE_SECOND*15)),kr(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const o=n.id||om().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const s=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(s);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==s),a}catch(s){throw this.logger.debug(`Failed to Publish Request: ${o}`),s}}),kr(this,"resetPingTimeout",()=>{_I()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(s){this.logger.warn(s,s==null?void 0:s.message)}},this.heartBeatTimeout))}),kr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),kr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(zo.connect)}),kr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),kr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(zo.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),kr(this,"registerProviderListeners",()=>{this.provider.on(Fl.payload,this.onPayloadHandler),this.provider.on(Fl.connect,this.onConnectHandler),this.provider.on(Fl.disconnect,this.onDisconnectHandler),this.provider.on(Fl.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?ha(t.logger,this.name):OE(G9({level:t.logger||CCt})),this.messages=new PAt(this.logger,t.core),this.subscriber=new GAt(this,this.logger),this.publisher=new LAt(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||E0e,this.projectId=t.projectId,w2t()?this.packageName=Dee():b2t()&&(this.bundleId=Dee()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t==null?void 0:t.message))}get context(){return Fa(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:hi.relay},Y2.outbound)}async subscribe(t,n){var r,i,o;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const s=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((o=this.subscriber.topicMap.get(t))==null?void 0:o[0])||"",l;const c=d=>{d.topic===t&&(this.subscriber.off(Za.created,c),l())};return await Promise.all([new Promise(d=>{l=d,this.subscriber.on(Za.created,c)}),new Promise(async(d,u)=>{a=await this.subscriber.subscribe(t,Kte({internal:{throwOnFailedPublish:s}},n)).catch(h=>{s&&u(h)})||a,d()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await bh(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ite())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const i=ko(It.FIVE_MINUTES),o={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,o)}this.events.emit(zo.message,t),await this.recordMessageEvent(t,Y2.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const o=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Fl.disconnect,o),await bh(new Promise((s,a)=>{this.provider.connect().then(s).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{i(s)}).finally(()=>{this.provider.off(Fl.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(s,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Fl.disconnect,l),await this.subscriber.start().then(s).catch(a).finally(()=>{this.provider.off(Fl.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,It.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,i,o;if(_I())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((o=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,s==null?void 0:s.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fCt(new gCt(I2t({sdkVersion:pB,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:i}=t;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),f$(t)){if(!t.method.endsWith(RCt))return;const n=t.params,{topic:r,message:i,publishedAt:o,attestation:s}=n.data,a={topic:r,message:i,publishedAt:o,transportType:hi.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Kte({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else LE(t)&&this.events.emit(zo.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,Y2.inbound),this.events.emit(zo.message,t))}async acknowledgePayload(t){const n=d$(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Fl.payload,this.onPayloadHandler),this.provider.off(Fl.connect,this.onConnectHandler),this.provider.off(Fl.disconnect,this.onDisconnectHandler),this.provider.off(Fl.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Ite();hEt(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(mg.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&gEt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(zo.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t==null?void 0:t.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},It.toMiliseconds(TCt)))))}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function QAt(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Hte(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Gte(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const e6t="[object RegExp]",t6t="[object String]",n6t="[object Number]",r6t="[object Boolean]",Jte="[object Arguments]",i6t="[object Symbol]",o6t="[object Date]",s6t="[object Map]",a6t="[object Set]",l6t="[object Array]",c6t="[object Function]",d6t="[object ArrayBuffer]",dT="[object Object]",u6t="[object Error]",f6t="[object DataView]",h6t="[object Uint8Array]",p6t="[object Uint8ClampedArray]",m6t="[object Uint16Array]",g6t="[object Uint32Array]",y6t="[object BigUint64Array]",v6t="[object Int8Array]",w6t="[object Int16Array]",b6t="[object Int32Array]",_6t="[object BigInt64Array]",x6t="[object Float32Array]",k6t="[object Float64Array]";function S6t(){}function Zte(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function I6t(e,t,n){return sb(e,t,void 0,void 0,void 0,void 0,n)}function sb(e,t,n,r,i,o,s){const a=s(e,t,n,r,i,o);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Db(e,t,o,s)}return Db(e,t,o,s)}function Db(e,t,n,r){if(Object.is(e,t))return!0;let i=Gte(e),o=Gte(t);if(i===Jte&&(i=dT),o===Jte&&(o=dT),i!==o)return!1;switch(i){case t6t:return e.toString()===t.toString();case n6t:{const l=e.valueOf(),c=t.valueOf();return QAt(l,c)}case r6t:case o6t:case i6t:return Object.is(e.valueOf(),t.valueOf());case e6t:return e.source===t.source&&e.flags===t.flags;case c6t:return e===t}n=n??new Map;const s=n.get(e),a=n.get(t);if(s!=null&&a!=null)return s===t;n.set(e,t),n.set(t,e);try{switch(i){case s6t:{if(e.size!==t.size)return!1;for(const[l,c]of e.entries())if(!t.has(l)||!sb(c,t.get(l),l,e,t,n,r))return!1;return!0}case a6t:{if(e.size!==t.size)return!1;const l=Array.from(e.values()),c=Array.from(t.values());for(let d=0;d<l.length;d++){const u=l[d],h=c.findIndex(m=>sb(u,m,void 0,e,t,n,r));if(h===-1)return!1;c.splice(h,1)}return!0}case l6t:case h6t:case p6t:case m6t:case g6t:case y6t:case v6t:case w6t:case b6t:case _6t:case x6t:case k6t:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let l=0;l<e.length;l++)if(!sb(e[l],t[l],l,e,t,n,r))return!1;return!0}case d6t:return e.byteLength!==t.byteLength?!1:Db(new Uint8Array(e),new Uint8Array(t),n,r);case f6t:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Db(new Uint8Array(e),new Uint8Array(t),n,r);case u6t:return e.name===t.name&&e.message===t.message;case dT:{if(!(Db(e.constructor,t.constructor,n,r)||Zte(e)&&Zte(t)))return!1;const l=[...Object.keys(e),...Hte(e)],c=[...Object.keys(t),...Hte(t)];if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++){const u=l[d],h=e[u];if(!Object.hasOwn(t,u))return!1;const m=t[u];if(!sb(h,m,u,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function E6t(e,t){return I6t(e,t,S6t)}var C6t=Object.defineProperty,Yte=Object.getOwnPropertySymbols,A6t=Object.prototype.hasOwnProperty,R6t=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?C6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xte=(e,t)=>{for(var n in t||(t={}))A6t.call(t,n)&&_B(e,n,t[n]);if(Yte)for(var n of Yte(t))R6t.call(t,n)&&_B(e,n,t[n]);return e},xa=(e,t,n)=>_B(e,typeof t!="symbol"?t+"":t,n);class yg extends Bkt{constructor(t,n,r,i=$d,o=void 0){super(t,n,r,i),this.core=t,this.logger=n,this.name=r,xa(this,"map",new Map),xa(this,"version",OCt),xa(this,"cached",[]),xa(this,"initialized",!1),xa(this,"getKey"),xa(this,"storagePrefix",$d),xa(this,"recentlyDeleted",[]),xa(this,"recentlyDeletedLimit",200),xa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!ms(s)?this.map.set(this.getKey(s),s):z3t(s)?this.map.set(s.id,s):V3t(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)}),xa(this,"set",async(s,a)=>{this.isInitialized(),this.map.has(s)?await this.update(s,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:a}),this.map.set(s,a),await this.persist())}),xa(this,"get",s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s))),xa(this,"getAll",s=>(this.isInitialized(),s?this.values.filter(a=>Object.keys(s).every(l=>E6t(a[l],s[l]))):this.values)),xa(this,"update",async(s,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:a});const l=Xte(Xte({},this.getData(s)),a);this.map.set(s,l),await this.persist()}),xa(this,"delete",async(s,a)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:a}),this.map.delete(s),this.addToRecentlyDeleted(s),await this.persist())}),this.logger=ha(n,this.name),this.storagePrefix=i,this.getKey=o}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:i}=kt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var T6t=Object.defineProperty,O6t=(e,t,n)=>t in e?T6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cr=(e,t,n)=>O6t(e,typeof t!="symbol"?t+"":t,n);class N6t{constructor(t,n){this.core=t,this.logger=n,cr(this,"name",DCt),cr(this,"version",MCt),cr(this,"events",new cye),cr(this,"pairings"),cr(this,"initialized",!1),cr(this,"storagePrefix",$d),cr(this,"ignoredPayloadTypes",[qu]),cr(this,"registeredMethods",[]),cr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),cr(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),cr(this,"create",async r=>{this.isInitialized();const i=lB(),o=await this.core.crypto.setSymKey(i),s=ko(It.FIVE_MINUTES),a={protocol:I0e},l={topic:o,expiry:s,relay:a,active:!1,methods:r==null?void 0:r.methods},c=gte({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:i,relay:a,expiryTimestamp:s,methods:r==null?void 0:r.methods});return this.events.emit(zp.create,l),this.core.expirer.set(o,s),await this.pairings.set(o,l),await this.core.relayer.subscribe(o,{transportType:r==null?void 0:r.transportType}),{topic:o,uri:c}}),cr(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[vd.pairing_started]}});this.isValidPair(r,i);const{topic:o,symKey:s,relay:a,expiryTimestamp:l,methods:c}=mte(r.uri);i.props.properties.topic=o,i.addTrace(vd.pairing_uri_validation_success),i.addTrace(vd.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(o)){if(d=this.pairings.get(o),i.addTrace(vd.existing_pairing),d.active)throw i.setError(_u.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);i.addTrace(vd.pairing_not_expired)}const u=l||ko(It.FIVE_MINUTES),h={topic:o,relay:a,expiry:u,active:!1,methods:c};this.core.expirer.set(o,u),await this.pairings.set(o,h),i.addTrace(vd.store_new_pairing),r.activatePairing&&await this.activate({topic:o}),this.events.emit(zp.create,h),i.addTrace(vd.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(s,o),i.addTrace(vd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(_u.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:a})}catch(m){throw i.setError(_u.subscribe_pairing_topic_failure),m}return i.addTrace(vd.subscribe_pairing_topic_success),h}),cr(this,"activate",async({topic:r})=>{this.isInitialized();const i=ko(It.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),cr(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const o=await this.sendRequest(i,"wc_pairingPing",{}),{done:s,resolve:a,reject:l}=Dp();this.events.once(Pr("pairing_ping",o),({error:c})=>{c?l(c):a()}),await s()}}),cr(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),cr(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),cr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),cr(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ki("USER_DISCONNECTED")),await this.deletePairing(i))}),cr(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:o,expiry:s,methods:a}=r,l=this.core.crypto.keychain.get(i);return gte({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:o,expiryTimestamp:s,methods:a})}),cr(this,"sendRequest",async(r,i,o)=>{const s=sm(i,o),a=await this.core.crypto.encode(r,s),l=Uw[i].req;return this.core.history.set(r,s),this.core.relayer.publish(r,a,l),s.id}),cr(this,"sendResult",async(r,i,o)=>{const s=d$(r,o),a=await this.core.crypto.encode(i,s),l=(await this.core.history.get(i,r)).request.method,c=Uw[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(s)}),cr(this,"sendError",async(r,i,o)=>{const s=u$(r,o),a=await this.core.crypto.encode(i,s),l=(await this.core.history.get(i,r)).request.method,c=Uw[l]?Uw[l].res:Uw.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(s)}),cr(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ki("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),cr(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>fh(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),cr(this,"onRelayEventRequest",async r=>{const{topic:i,payload:o}=r;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,o);default:return await this.onUnknownRpcMethodRequest(i,o)}}),cr(this,"onRelayEventResponse",async r=>{const{topic:i,payload:o}=r,s=(await this.core.history.get(i,o.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(s)}}),cr(this,"onPairingPingRequest",async(r,i)=>{const{id:o}=i;try{this.isValidPing({topic:r}),await this.sendResult(o,r,!0),this.events.emit(zp.ping,{id:o,topic:r})}catch(s){await this.sendError(o,r,s),this.logger.error(s)}}),cr(this,"onPairingPingResponse",(r,i)=>{const{id:o}=i;setTimeout(()=>{bd(i)?this.events.emit(Pr("pairing_ping",o),{}):Jl(i)&&this.events.emit(Pr("pairing_ping",o),{error:i.error})},500)}),cr(this,"onPairingDeleteRequest",async(r,i)=>{const{id:o}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(zp.delete,{id:o,topic:r})}catch(s){await this.sendError(o,r,s),this.logger.error(s)}}),cr(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:o,method:s}=i;try{if(this.registeredMethods.includes(s))return;const a=Ki("WC_METHOD_UNSUPPORTED",s);await this.sendError(o,r,a),this.logger.error(a)}catch(a){await this.sendError(o,r,a),this.logger.error(a)}}),cr(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ki("WC_METHOD_UNSUPPORTED",r))}),cr(this,"isValidPair",(r,i)=>{var o;if(!Ea(r)){const{message:a}=kt("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(_u.malformed_pairing_uri),new Error(a)}if(!q3t(r.uri)){const{message:a}=kt("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(_u.malformed_pairing_uri),new Error(a)}const s=mte(r==null?void 0:r.uri);if(!((o=s==null?void 0:s.relay)!=null&&o.protocol)){const{message:a}=kt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(_u.malformed_pairing_uri),new Error(a)}if(!(s!=null&&s.symKey)){const{message:a}=kt("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(_u.malformed_pairing_uri),new Error(a)}if(s!=null&&s.expiryTimestamp&&It.toMiliseconds(s==null?void 0:s.expiryTimestamp)<Date.now()){i.setError(_u.pairing_expired);const{message:a}=kt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),cr(this,"isValidPing",async r=>{if(!Ea(r)){const{message:o}=kt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),cr(this,"isValidDisconnect",async r=>{if(!Ea(r)){const{message:o}=kt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),cr(this,"isValidPairingTopic",async r=>{if(!go(r,!1)){const{message:i}=kt("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=kt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(fh(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=kt("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=t,this.logger=ha(n,this.name),this.pairings=new yg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Fa(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(zo.message,async t=>{const{topic:n,message:r,transportType:i}=t;if(this.pairings.keys.includes(n)&&i!==hi.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const o=await this.core.crypto.decode(n,r);f$(o)?(this.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o})):LE(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o}),this.core.history.delete(n,o.id)),await this.core.relayer.messages.ack(n,r)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Vl.expired,async t=>{const{topic:n}=Iye(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(zp.expire,{topic:n}))})}}var P6t=Object.defineProperty,B6t=(e,t,n)=>t in e?P6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ss=(e,t,n)=>B6t(e,typeof t!="symbol"?t+"":t,n);class D6t extends Tkt{constructor(t,n){super(t,n),this.core=t,this.logger=n,ss(this,"records",new Map),ss(this,"events",new Xc.EventEmitter),ss(this,"name",jCt),ss(this,"version",$Ct),ss(this,"cached",[]),ss(this,"initialized",!1),ss(this,"storagePrefix",$d),ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ss(this,"set",(r,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:o}),this.records.has(i.id))return;const s={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:o,expiry:ko(It.THIRTY_DAYS)};this.records.set(s.id,s),this.persist(),this.events.emit(Sc.created,s)}),ss(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Jl(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Sc.updated,i))}),ss(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ss(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===r){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(Sc.deleted,o)}}),this.persist()}),ss(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ss(this,"on",(r,i)=>{this.events.on(r,i)}),ss(this,"once",(r,i)=>{this.events.once(r,i)}),ss(this,"off",(r,i)=>{this.events.off(r,i)}),ss(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ha(n,this.name)}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:sm(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Sc.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Sc.created,t=>{const n=Sc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(Sc.updated,t=>{const n=Sc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(Sc.deleted,t=>{const n=Sc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(mg.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{It.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Sc.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var M6t=Object.defineProperty,j6t=(e,t,n)=>t in e?M6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fs=(e,t,n)=>j6t(e,typeof t!="symbol"?t+"":t,n);class $6t extends Mkt{constructor(t,n){super(t,n),this.core=t,this.logger=n,Fs(this,"expirations",new Map),Fs(this,"events",new Xc.EventEmitter),Fs(this,"name",LCt),Fs(this,"version",UCt),Fs(this,"cached",[]),Fs(this,"initialized",!1),Fs(this,"storagePrefix",$d),Fs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fs(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Fs(this,"set",(r,i)=>{this.isInitialized();const o=this.formatTarget(r),s={target:o,expiry:i};this.expirations.set(o,s),this.checkExpiry(o,s),this.events.emit(Vl.created,{target:o,expiration:s})}),Fs(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Fs(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Vl.deleted,{target:i,expiration:o})}}),Fs(this,"on",(r,i)=>{this.events.on(r,i)}),Fs(this,"once",(r,i)=>{this.events.once(r,i)}),Fs(this,"off",(r,i)=>{this.events.off(r,i)}),Fs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ha(n,this.name)}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return E2t(t);if(typeof t=="number")return C2t(t);const{message:n}=kt("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vl.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;It.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Vl.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(mg.pulse,()=>this.checkExpirations()),this.events.on(Vl.created,t=>{const n=Vl.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Vl.expired,t=>{const n=Vl.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Vl.deleted,t=>{const n=Vl.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var L6t=Object.defineProperty,U6t=(e,t,n)=>t in e?L6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,co=(e,t,n)=>U6t(e,typeof t!="symbol"?t+"":t,n);class F6t extends jkt{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,co(this,"name",FCt),co(this,"abortController"),co(this,"isDevEnv"),co(this,"verifyUrlV3",qCt),co(this,"storagePrefix",$d),co(this,"version",S0e),co(this,"publicKey"),co(this,"fetchPromise"),co(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&It.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),co(this,"register",async i=>{if(!Cv()||this.isDevEnv)return;const o=window.location.origin,{id:s,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${s}&decryptedId=${a}`;try{const c=Gu.getDocument(),d=this.startAbortTimer(It.ONE_SECOND*5),u=await new Promise((h,m)=>{const v=()=>{window.removeEventListener("message",y),c.body.removeChild(g),m("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const g=c.createElement("iframe");g.src=l,g.style.display="none",g.addEventListener("error",v,{signal:this.abortController.signal});const y=b=>{if(b.data&&typeof b.data=="string")try{const k=JSON.parse(b.data);if(k.type==="verify_attestation"){if($7(k.attestation).payload.id!==s)return;clearInterval(d),c.body.removeChild(g),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",y),h(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};c.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",u),u}catch(c){this.logger.warn(c)}return""}),co(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:o,hash:s,encryptedId:a}=i;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if($7(o).payload.id!==a)return;const c=await this.isValidJwtAttestation(o);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!s)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(s,l)}),co(this,"fetchAttestation",async(i,o)=>{this.logger.debug(`resolving attestation: ${i} from url: ${o}`);const s=this.startAbortTimer(It.ONE_SECOND*5),a=await fetch(`${o}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(s),a.status===200?await a.json():void 0}),co(this,"getVerifyUrl",i=>{let o=i||Bb;return zCt.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${Bb}`),o=Bb),o}),co(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(It.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await o.json()}catch(i){this.logger.warn(i)}}),co(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),co(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),co(this,"isValidJwtAttestation",async i=>{const o=await this.getPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const s=await this.fetchAndPersistPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),co(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),co(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{const s=await this.fetchPublicKey();s&&(await this.persistPublicKey(s),o(s))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),co(this,"validateAttestation",(i,o)=>{const s=_3t(i,o.publicKey),a={hasExpired:It.toMiliseconds(s.exp)<Date.now(),payload:s};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ha(n,this.name),this.abortController=new AbortController,this.isDevEnv=J9(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Fa(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),It.toMiliseconds(t))}}var W6t=Object.defineProperty,q6t=(e,t,n)=>t in e?W6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qte=(e,t,n)=>q6t(e,typeof t!="symbol"?t+"":t,n);class z6t extends $kt{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,Qte(this,"context",VCt),Qte(this,"registerDeviceToken",async r=>{const{clientId:i,token:o,notificationType:s,enableEncrypted:a=!1}=r,l=`${KCt}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:s,token:o,always_raw:a})})}),this.logger=ha(n,this.context)}}var V6t=Object.defineProperty,ene=Object.getOwnPropertySymbols,K6t=Object.prototype.hasOwnProperty,H6t=Object.prototype.propertyIsEnumerable,xB=(e,t,n)=>t in e?V6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qw=(e,t)=>{for(var n in t||(t={}))K6t.call(t,n)&&xB(e,n,t[n]);if(ene)for(var n of ene(t))H6t.call(t,n)&&xB(e,n,t[n]);return e},Mo=(e,t,n)=>xB(e,typeof t!="symbol"?t+"":t,n);class G6t extends Lkt{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Mo(this,"context",GCt),Mo(this,"storagePrefix",$d),Mo(this,"storageVersion",HCt),Mo(this,"events",new Map),Mo(this,"shouldPersist",!1),Mo(this,"init",async()=>{if(!J9())try{const i={eventId:jee(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:kye(this.core.relayer.protocol,this.core.relayer.version,pB)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Mo(this,"createEvent",i=>{const{event:o="ERROR",type:s="",properties:{topic:a,trace:l}}=i,c=jee(),d=this.core.projectId||"",u=Date.now(),h=qw({eventId:c,timestamp:u,props:{event:o,type:s,properties:{topic:a,trace:l}},bundleId:d,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,h),this.shouldPersist=!0),h}),Mo(this,"getEvent",i=>{const{eventId:o,topic:s}=i;if(o)return this.events.get(o);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===s);if(a)return qw(qw({},a),this.setMethods(a.eventId))}),Mo(this,"deleteEvent",i=>{const{eventId:o}=i;this.events.delete(o),this.shouldPersist=!0}),Mo(this,"setEventListeners",()=>{this.core.heartbeat.on(mg.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{It.fromMiliseconds(Date.now())-It.fromMiliseconds(i.timestamp)>JCt&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Mo(this,"setMethods",i=>({addTrace:o=>this.addTrace(i,o),setError:o=>this.setError(i,o)})),Mo(this,"addTrace",(i,o)=>{const s=this.events.get(i);s&&(s.props.properties.trace.push(o),this.events.set(i,s),this.shouldPersist=!0)}),Mo(this,"setError",(i,o)=>{const s=this.events.get(i);s&&(s.props.type=o,s.timestamp=Date.now(),this.events.set(i,s),this.shouldPersist=!0)}),Mo(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Mo(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(o=>{this.events.set(o.eventId,qw(qw({},o),this.setMethods(o.eventId)))})}catch(i){this.logger.warn(i)}}),Mo(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[o,s]of this.events)s.props.type&&i.push(s);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const o of i)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),Mo(this,"sendEvent",async i=>{const o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ZCt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${pB}${o}`,{method:"POST",body:JSON.stringify(i)})}),Mo(this,"getAppDomain",()=>xye().url),this.logger=ha(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var J6t=Object.defineProperty,tne=Object.getOwnPropertySymbols,Z6t=Object.prototype.hasOwnProperty,Y6t=Object.prototype.propertyIsEnumerable,kB=(e,t,n)=>t in e?J6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nne=(e,t)=>{for(var n in t||(t={}))Z6t.call(t,n)&&kB(e,n,t[n]);if(tne)for(var n of tne(t))Y6t.call(t,n)&&kB(e,n,t[n]);return e},Xr=(e,t,n)=>kB(e,typeof t!="symbol"?t+"":t,n);class h$ extends Ekt{constructor(t){var n;super(t),Xr(this,"protocol",k0e),Xr(this,"version",S0e),Xr(this,"name",hB),Xr(this,"relayUrl"),Xr(this,"projectId"),Xr(this,"customStoragePrefix"),Xr(this,"events",new Xc.EventEmitter),Xr(this,"logger"),Xr(this,"heartbeat"),Xr(this,"relayer"),Xr(this,"crypto"),Xr(this,"storage"),Xr(this,"history"),Xr(this,"expirer"),Xr(this,"pairing"),Xr(this,"verify"),Xr(this,"echoClient"),Xr(this,"linkModeSupportedApps"),Xr(this,"eventClient"),Xr(this,"initialized",!1),Xr(this,"logChunkController"),Xr(this,"on",(a,l)=>this.events.on(a,l)),Xr(this,"once",(a,l)=>this.events.once(a,l)),Xr(this,"off",(a,l)=>this.events.off(a,l)),Xr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),Xr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const d={topic:a,message:l,publishedAt:Date.now(),transportType:hi.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:c})});const r=this.getGlobalCore(t==null?void 0:t.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||E0e,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=G9({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:vCt.logger,name:hB}),{logger:o,chunkLoggerController:s}=kkt({opts:i,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=s,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ha(o,this.name),this.heartbeat=new Ext,this.crypto=new IAt(this,this.logger,t==null?void 0:t.keychain),this.history=new D6t(this,this.logger),this.expirer=new $6t(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new skt(nne(nne({},wCt),t==null?void 0:t.storageOptions)),this.relayer=new XAt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new N6t(this,this.logger),this.verify=new F6t(this,this.logger,this.storage),this.echoClient=new z6t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new G6t(this,this.logger,t==null?void 0:t.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new h$(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(NCt,r),n}get context(){return Fa(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Dte,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Dte)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&yCt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const X6t=h$,L0e="wc",U0e=2,F0e="client",p$=`${L0e}@${U0e}:${F0e}:`,uT={name:F0e,logger:"error"},rne="WALLETCONNECT_DEEPLINK_CHOICE",Q6t="proposal",ine="Proposal expired",eRt="session",uy=It.SEVEN_DAYS,tRt="engine",jo={wc_sessionPropose:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1104},res:{ttl:It.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1106},res:{ttl:It.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1112},res:{ttl:It.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1114},res:{ttl:It.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:It.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:It.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1119}}},fT={min:It.FIVE_MINUTES,max:It.SEVEN_DAYS},pd={idle:"IDLE",active:"ACTIVE"},nRt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},rRt="request",iRt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],oRt="wc",sRt="auth",aRt="authKeys",lRt="pairingTopics",cRt="requests",FE=`${oRt}@${1.5}:${sRt}:`,X2=`${FE}:PUB_KEY`;var dRt=Object.defineProperty,uRt=Object.defineProperties,fRt=Object.getOwnPropertyDescriptors,one=Object.getOwnPropertySymbols,hRt=Object.prototype.hasOwnProperty,pRt=Object.prototype.propertyIsEnumerable,SB=(e,t,n)=>t in e?dRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ui=(e,t)=>{for(var n in t||(t={}))hRt.call(t,n)&&SB(e,n,t[n]);if(one)for(var n of one(t))pRt.call(t,n)&&SB(e,n,t[n]);return e},ka=(e,t)=>uRt(e,fRt(t)),mt=(e,t,n)=>SB(e,typeof t!="symbol"?t+"":t,n);class mRt extends qkt{constructor(t){super(t),mt(this,"name",tRt),mt(this,"events",new cye),mt(this,"initialized",!1),mt(this,"requestQueue",{state:pd.idle,queue:[]}),mt(this,"sessionRequestQueue",{state:pd.idle,queue:[]}),mt(this,"emittedSessionRequests",new M2t({limit:500})),mt(this,"requestQueueDelay",It.ONE_SECOND),mt(this,"expectedPairingMethodMap",new Map),mt(this,"recentlyDeletedMap",new Map),mt(this,"recentlyDeletedLimit",200),mt(this,"relayMessageCache",[]),mt(this,"pendingSessions",new Map),mt(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jo)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},It.toMiliseconds(this.requestQueueDelay)))}),mt(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ka(ui({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=$3t(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:s,sessionProperties:a,scopedProperties:l,relays:c}=r;let d=i,u,h=!1;try{if(d){const T=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),T}if(!d||!h){const{topic:T,uri:M}=await this.client.core.pairing.create();d=T,u=M}if(!d){const{message:T}=kt("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(T)}const m=await this.client.core.crypto.generateKeyPair(),v=jo.wc_sessionPropose.req.ttl||It.FIVE_MINUTES,g=ko(v),y=ka(ui(ui({requiredNamespaces:o,optionalNamespaces:s,relays:c??[{protocol:I0e}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:d},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:wd()}),b=Pr("session_connect",y.id),{reject:k,resolve:_,done:R}=Dp(v,ine),I=({id:T})=>{T===y.id&&(this.client.events.off("proposal_expire",I),this.pendingSessions.delete(y.id),this.events.emit(b,{error:{message:ine,code:0}}))};return this.client.events.on("proposal_expire",I),this.events.once(b,({error:T,session:M})=>{this.client.events.off("proposal_expire",I),T?k(T):M&&_(M)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:u,approval:R}}),mt(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),mt(this,"approve",async n=>{var r,i,o;const s=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ic.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(A){throw s.setError(Cp.no_internet_connection),A}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(A){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),s.setError(Cp.proposal_not_found),A}try{await this.isValidApprove(n)}catch(A){throw this.client.logger.error("approve() -> isValidApprove() failed"),s.setError(Cp.session_approve_namespace_validation_failure),A}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:d,scopedProperties:u,sessionConfig:h}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:s.eventId});const{pairingTopic:v,proposer:g,requiredNamespaces:y,optionalNamespaces:b}=m;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});k||(k=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:Ic.session_approve_started,properties:{topic:v,trace:[Ic.session_approve_started,Ic.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),R=g.publicKey,I=await this.client.core.crypto.generateSharedKey(_,R),T=ui(ui(ui({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:_,metadata:this.client.metadata},expiry:ko(uy)},d&&{sessionProperties:d}),u&&{scopedProperties:u}),h&&{sessionConfig:h}),M=hi.relay;k.addTrace(Ic.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:M})}catch(A){throw k.setError(Cp.subscribe_session_topic_failure),A}k.addTrace(Ic.subscribe_session_topic_success);const D=ka(ui({},T),{topic:I,requiredNamespaces:y,optionalNamespaces:b,pairingTopic:v,acknowledged:!1,self:T.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:_,transportType:hi.relay});await this.client.session.set(I,D),k.addTrace(Ic.store_session);try{k.addTrace(Ic.publishing_session_settle),await this.sendRequest({topic:I,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(A=>{throw k==null||k.setError(Cp.session_settle_publish_failure),A}),k.addTrace(Ic.session_settle_publish_success),k.addTrace(Ic.publishing_session_approve),await this.sendResult({id:a,topic:v,result:{relay:{protocol:l??"irn"},responderPublicKey:_},throwOnFailedPublish:!0}).catch(A=>{throw k==null||k.setError(Cp.session_approve_publish_failure),A}),k.addTrace(Ic.session_approve_publish_success)}catch(A){throw this.client.logger.error(A),this.client.session.delete(I,Ki("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(I),A}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(I,ko(uy)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),mt(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(s){throw this.client.logger.error("reject() -> isValidReject() failed"),s}const{id:r,reason:i}=n;let o;try{o=this.client.proposal.get(r).pairingTopic}catch(s){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),s}o&&await this.sendError({id:r,topic:o,error:i,rpcOpts:jo.wc_sessionPropose.reject}),await this.deleteProposal(r)}),mt(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(u){throw this.client.logger.error("update() -> isValidUpdate() failed"),u}const{topic:r,namespaces:i}=n,{done:o,resolve:s,reject:a}=Dp(),l=wd(),c=om().toString(),d=this.client.session.get(r).namespaces;return this.events.once(Pr("session_update",l),({error:u})=>{u?a(u):s()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(u=>{this.client.logger.error(u),this.client.session.update(r,{namespaces:d}),a(u)}),{acknowledged:o}}),mt(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=wd(),{done:o,resolve:s,reject:a}=Dp();return this.events.once(Pr("session_extend",i),({error:l})=>{l?a(l):s()}),await this.setExpiry(r,ko(uy)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:o}}),mt(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:o,expiry:s=jo.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(o);(a==null?void 0:a.transportType)===hi.relay&&await this.confirmOnlineStateOrThrow();const l=wd(),c=om().toString(),{done:d,resolve:u,reject:h}=Dp(s,"Request expired. Please try again.");this.events.once(Pr("session_request",l),({error:y,result:b})=>{y?h(y):u(b)});const m="wc_sessionRequest",v=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(v)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:o,method:m,params:{request:ka(ui({},i),{expiryTimestamp:ko(s)}),chainId:r},expiry:s,throwOnFailedPublish:!0,appLink:v}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:l}),await d();const g={request:ka(ui({},i),{expiryTimestamp:ko(s)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:o,method:m,params:g,expiry:s,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,g)}).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:l}),y()}),new Promise(async y=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const k=await O2t(this.client.core.storage,rne);await A2t({id:l,topic:o,wcDeepLink:k})}y()}),d()]).then(y=>y[2])}),mt(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:o}=i,s=this.client.session.get(r);s.transportType===hi.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);bd(i)?await this.sendResult({id:o,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Jl(i)&&await this.sendError({id:o,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),mt(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=wd(),o=om().toString(),{done:s,resolve:a,reject:l}=Dp();this.events.once(Pr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:o}),s()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),mt(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:o}=n,s=om().toString(),a=wd();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:o},throwOnFailedPublish:!0,relayRpcId:s,clientRpcId:a})}),mt(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ki("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=kt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),mt(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>F3t(r,n)))),mt(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),mt(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const o=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),s=o?hi.link_mode:hi.relay;s===hi.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:d,nonce:u,type:h,exp:m,nbf:v,methods:g=[],expiry:y}=n,b=[...n.resources||[]],{topic:k,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:_}});const R=await this.client.core.crypto.generateKeyPair(),I=Z2(R);if(await Promise.all([this.client.auth.authKeys.set(X2,{responseTopic:I,publicKey:R}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:k})]),await this.client.core.relayer.subscribe(I,{transportType:s}),this.client.logger.info(`sending request to new pairing topic: ${k}`),g.length>0){const{namespace:V}=G2(a[0]);let K=HSt(V,"request",g);J2(b)&&(K=JSt(K,b.pop())),b.push(K)}const T=y&&y>jo.wc_sessionAuthenticate.req.ttl?y:jo.wc_sessionAuthenticate.req.ttl,M={authPayload:{type:h??"caip122",chains:a,statement:l,aud:c,domain:d,version:"1",nonce:u,iat:new Date().toISOString(),exp:m,nbf:v,resources:b},requester:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:ko(T)},D={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},A={requiredNamespaces:{},optionalNamespaces:D,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:ko(jo.wc_sessionPropose.req.ttl),id:wd()},{done:U,resolve:$,reject:q}=Dp(T,"Request expired"),z=wd(),S=Pr("session_connect",A.id),E=Pr("session_request",z),N=async({error:V,session:K})=>{this.events.off(E,P),V?q(V):K&&$({session:K})},P=async V=>{var K,F,O;if(await this.deletePendingAuthRequest(z,{message:"fulfilled",code:0}),V.error){const be=Ki("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return V.error.code===be.code?void 0:(this.events.off(S,N),q(V.error.message))}await this.deleteProposal(A.id),this.events.off(S,N);const{cacaos:W,responder:G}=V.result,Y=[],ie=[];for(const be of W){await Gee({cacao:be,projectId:this.client.core.projectId})||(this.client.logger.error(be,"Signature verification failed"),q(Ki("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Me}=be,Fe=J2(Me.resources),De=[Q7(Me.iss)],gt=xI(Me.iss);if(Fe){const tt=Jee(Fe),dt=Zee(Fe);Y.push(...tt),De.push(...dt)}for(const tt of De)ie.push(`${tt}:${gt}`)}const ye=await this.client.core.crypto.generateSharedKey(R,G.publicKey);let me;Y.length>0&&(me={topic:ye,acknowledged:!0,self:{publicKey:R,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:ko(uy),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:bte([...new Set(Y)],[...new Set(ie)]),transportType:s},await this.client.core.relayer.subscribe(ye,{transportType:s}),await this.client.session.set(ye,me),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:G.metadata}),me=this.client.session.get(ye)),(K=this.client.metadata.redirect)!=null&&K.linkMode&&(F=G.metadata.redirect)!=null&&F.linkMode&&(O=G.metadata.redirect)!=null&&O.universal&&r&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(ye,{transportType:hi.link_mode})),$({auths:W,session:me})};this.events.once(S,N),this.events.once(E,P);let j;try{if(o){const V=sm("wc_sessionAuthenticate",M,z);this.client.core.history.set(k,V);const K=await this.client.core.crypto.encode("",V,{type:J_,encoding:gh});j=s2(r,k,K)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:M,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:z}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:A,expiry:jo.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(V){throw this.events.off(S,N),this.events.off(E,P),V}return await this.setProposal(A.id,A),await this.setAuthRequest(z,{request:ka(ui({},M),{verifyContext:{}}),pairingTopic:k,transportType:s}),{uri:j??_,response:U}}),mt(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,o=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Ap.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw o.setError(Fw.no_internet_connection),y}const s=this.getPendingAuthRequest(r);if(!s)throw o.setError(Fw.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=s.transportType||hi.relay;a===hi.relay&&await this.confirmOnlineStateOrThrow();const l=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),d=Z2(l),u={type:qu,receiverPublicKey:l,senderPublicKey:c},h=[],m=[];for(const y of i){if(!await Gee({cacao:y,projectId:this.client.core.projectId})){o.setError(Fw.invalid_cacao);const I=Ki("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:I,encodeOpts:u}),new Error(I.message)}o.addTrace(Ap.cacaos_verified);const{p:b}=y,k=J2(b.resources),_=[Q7(b.iss)],R=xI(b.iss);if(k){const I=Jee(k),T=Zee(k);h.push(...I),_.push(...T)}for(const I of _)m.push(`${I}:${R}`)}const v=await this.client.core.crypto.generateSharedKey(c,l);o.addTrace(Ap.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:v,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:s.requester.metadata},controller:l,expiry:ko(uy),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:bte([...new Set(h)],[...new Set(m)]),transportType:a},o.addTrace(Ap.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:a})}catch(y){throw o.setError(Fw.subscribe_authenticated_session_topic_failure),y}o.addTrace(Ap.subscribe_authenticated_session_topic_success),await this.client.session.set(v,g),o.addTrace(Ap.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}o.addTrace(Ap.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,a)})}catch(y){throw o.setError(Fw.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:g}}),mt(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,o=this.getPendingAuthRequest(r);if(!o)throw new Error(`Could not find pending auth request with id ${r}`);o.transportType===hi.relay&&await this.confirmOnlineStateOrThrow();const s=o.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=Z2(s),c={type:qu,receiverPublicKey:s,senderPublicKey:a};await this.sendError({id:r,topic:l,error:i,encodeOpts:c,rpcOpts:jo.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),mt(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return Uye(r,i)}),mt(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),mt(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var s,a;return((s=o.peerMetadata)==null?void 0:s.url)&&((a=o.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&o.topic&&o.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),mt(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:o=!1,emitEvent:s=!0,id:a=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ki("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),o||this.client.core.expirer.del(i),this.client.core.storage.removeItem(rne).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Ki("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=pd.idle),s&&this.client.events.emit("session_delete",{id:a,topic:i})}),mt(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),o=this.client.core.eventClient.getEvent({topic:i.pairingTopic});o==null||o.setError(Cp.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ki("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),mt(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==n),i&&(this.sessionRequestQueue.state=pd.idle,this.client.events.emit("session_request_expire",{id:n}))}),mt(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),mt(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),mt(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ko(jo.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),mt(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:o,transportType:s=hi.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:o,verifyContext:i.verifyContext,transportType:s})}),mt(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:o,verifyContext:s}=n,a=o.request.expiryTimestamp||ko(jo.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:o,verifyContext:s})}),mt(this,"sendRequest",async n=>{const{topic:r,method:i,params:o,expiry:s,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:d,tvf:u}=n,h=sm(i,o,l);let m;const v=!!d;try{const b=v?gh:Dc;m=await this.client.core.crypto.encode(r,h,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let g;if(iRt.includes(i)){const b=kd(JSON.stringify(h)),k=kd(m);g=await this.client.core.verify.register({id:k,decryptedId:b})}const y=jo[i].req;if(y.attestation=g,s&&(y.ttl=s),a&&(y.id=a),this.client.core.history.set(r,h),v){const b=s2(d,r,m);await global.Linking.openURL(b,this.client.name)}else{const b=jo[i].req;s&&(b.ttl=s),a&&(b.id=a),b.tvf=ka(ui({},u),{correlationId:h.id}),c?(b.internal=ka(ui({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,b)):this.client.core.relayer.publish(r,m,b).catch(k=>this.client.logger.error(k))}return h.id}),mt(this,"sendResult",async n=>{const{id:r,topic:i,result:o,throwOnFailedPublish:s,encodeOpts:a,appLink:l}=n,c=d$(r,o);let d;const u=l&&typeof(global==null?void 0:global.Linking)<"u";try{const v=u?gh:Dc;d=await this.client.core.crypto.encode(i,c,ka(ui({},a||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let h,m;try{h=await this.client.core.history.get(i,r);const v=h.request;try{m=this.getTVFParams(r,v.params,o)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),v}if(u){const v=s2(l,i,d);await global.Linking.openURL(v,this.client.name)}else{const v=h.request.method,g=jo[v].res;g.tvf=ka(ui({},m),{correlationId:r}),s?(g.internal=ka(ui({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,g)):this.client.core.relayer.publish(i,d,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(c)}),mt(this,"sendError",async n=>{const{id:r,topic:i,error:o,encodeOpts:s,rpcOpts:a,appLink:l}=n,c=u$(r,o);let d;const u=l&&typeof(global==null?void 0:global.Linking)<"u";try{const m=u?gh:Dc;d=await this.client.core.crypto.encode(i,c,ka(ui({},s||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let h;try{h=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(u){const m=s2(l,i,d);await global.Linking.openURL(m,this.client.name)}else{const m=h.request.method,v=a||jo[m].res;this.client.core.relayer.publish(i,d,v)}await this.client.core.history.resolve(c)}),mt(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let o=!1;fh(i.expiry)&&(o=!0),this.client.core.crypto.keychain.has(i.topic)||(o=!0),o&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{fh(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),mt(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),mt(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),mt(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===pd.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=pd.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=pd.idle}),mt(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:o,transportType:s,encryptedId:a}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:o,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:o,encryptedId:a,transportType:s});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:o,encryptedId:a,transportType:s});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),mt(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:o}=n,s=(await this.client.core.history.get(r,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,o);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}}),mt(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=kt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),mt(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,o=this.expectedPairingMethodMap.get(r);return!o||o.includes(i)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),mt(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:o,encryptedId:s}=n,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(_u.proposal_listener_not_found)),this.isValidConnect(ui({},i.params));const d=a.expiryTimestamp||ko(jo.wc_sessionPropose.req.ttl),u=ui({id:l,pairingTopic:r,expiryTimestamp:d,attestation:o,encryptedId:s},a);await this.setProposal(l,u);const h=await this.getVerifyContext({attestationId:o,hash:kd(JSON.stringify(i)),encryptedId:s,metadata:u.proposer.metadata});c==null||c.addTrace(vd.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:u,verifyContext:h})}catch(c){await this.sendError({id:l,topic:r,error:c,rpcOpts:jo.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),mt(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:o}=r;if(bd(r)){const{result:s}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const a=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const d=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(o,{sessionTopic:d,pairingTopic:n,proposalId:o,publicKey:l});const u=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:n})}else if(Jl(r)){await this.deleteProposal(o);const s=Pr("session_connect",o);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(s,{error:r.error})}}),mt(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:o}=r;try{this.isValidSessionSettleRequest(o);const{relay:s,controller:a,expiry:l,namespaces:c,sessionProperties:d,scopedProperties:u,sessionConfig:h}=r.params,m=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(m.proposalId),g=ka(ui(ui(ui({topic:n,relay:s,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),u&&{scopedProperties:u}),h&&{sessionConfig:h}),{transportType:hi.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Pr("session_connect",m.proposalId),{session:g}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),mt(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;bd(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Pr("session_approve",i),{})):Jl(r)&&(await this.client.session.delete(n,Ki("USER_DISCONNECTED")),this.events.emit(Pr("session_approve",i),{error:r.error}))}),mt(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:o}=r;try{const s=`${n}_session_update`,a=Lw.get(s);if(a&&this.isRequestOutOfSync(a,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:n,error:Ki("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ui({topic:n},i));try{Lw.set(s,o),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:n,result:!0})}catch(l){throw Lw.delete(s),l}this.client.events.emit("session_update",{id:o,topic:n,params:i})}catch(s){await this.sendError({id:o,topic:n,error:s}),this.client.logger.error(s)}}),mt(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),mt(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,o=Pr("session_update",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);bd(r)?this.events.emit(Pr("session_update",i),{}):Jl(r)&&this.events.emit(Pr("session_update",i),{error:r.error})}),mt(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ko(uy)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),mt(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,o=Pr("session_extend",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);bd(r)?this.events.emit(Pr("session_extend",i),{}):Jl(r)&&this.events.emit(Pr("session_extend",i),{error:r.error})}),mt(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),mt(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,o=Pr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);bd(r)?this.events.emit(Pr("session_ping",i),{}):Jl(r)&&this.events.emit(Pr("session_ping",i),{error:r.error})},500)}),mt(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(o=>{this.client.core.relayer.once(zo.publish,async()=>{o(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ki("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}}),mt(this,"onSessionRequest",async n=>{var r,i,o;const{topic:s,payload:a,attestation:l,encryptedId:c,transportType:d}=n,{id:u,params:h}=a;try{await this.isValidRequest(ui({topic:s},h));const m=this.client.session.get(s),v=await this.getVerifyContext({attestationId:l,hash:kd(JSON.stringify(sm("wc_sessionRequest",h,u))),encryptedId:c,metadata:m.peer.metadata,transportType:d}),g={id:u,topic:s,params:h,verifyContext:v};await this.setPendingSessionRequest(g),d===hi.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(m){await this.sendError({id:u,topic:s,error:m}),this.client.logger.error(m)}}),mt(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,o=Pr("session_request",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);bd(r)?this.events.emit(Pr("session_request",i),{result:r.result}):Jl(r)&&this.events.emit(Pr("session_request",i),{error:r.error})}),mt(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:o}=r;try{const s=`${n}_session_event_${o.event.name}`,a=Lw.get(s);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ui({topic:n},o)),this.client.events.emit("session_event",{id:i,topic:n,params:o}),Lw.set(s,i)}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),mt(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),bd(r)?this.events.emit(Pr("session_request",i),{result:r.result}):Jl(r)&&this.events.emit(Pr("session_request",i),{error:r.error})}),mt(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:o,attestation:s,encryptedId:a,transportType:l}=n;try{const{requester:c,authPayload:d,expiryTimestamp:u}=o.params,h=await this.getVerifyContext({attestationId:s,hash:kd(JSON.stringify(o)),encryptedId:a,metadata:c.metadata,transportType:l}),m={requester:c,pairingTopic:i,id:o.id,authPayload:d,verifyContext:h,expiryTimestamp:u};await this.setAuthRequest(o.id,{request:m,pairingTopic:i,transportType:l}),l===hi.link_mode&&(r=c.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:o.params,id:o.id,verifyContext:h})}catch(c){this.client.logger.error(c);const d=o.params.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(o.params.requester.metadata,l),m={type:qu,receiverPublicKey:d,senderPublicKey:u};await this.sendError({id:o.id,topic:i,error:c,encodeOpts:m,rpcOpts:jo.wc_sessionAuthenticate.autoReject,appLink:h})}}),mt(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),mt(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=pd.idle,this.processSessionRequestQueue()},It.toMiliseconds(this.requestQueueDelay))}),mt(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(o=>o.topic===n&&o.request.method==="wc_sessionRequest").forEach(o=>{const s=o.request.id,a=Pr("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Pr("session_request",o.request.id),{error:r})})}),mt(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===pd.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),mt(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=pd.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),mt(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:sm("wc_sessionPropose",ka(ui({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),mt(this,"isValidConnect",async n=>{if(!Ea(n)){const{message:c}=kt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:s,scopedProperties:a,relays:l}=n;if(ms(r)||await this.isValidPairingTopic(r),!Q3t(l)){const{message:c}=kt("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!ms(i)&&D1(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!ms(o)&&D1(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),ms(s)||this.validateSessionProps(s,"sessionProperties"),!ms(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(o||{}));if(!Object.keys(a).every(d=>c.includes(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),mt(this,"validateNamespaces",(n,r)=>{const i=X3t(n,"connect()",r);if(i)throw new Error(i.message)}),mt(this,"isValidApprove",async n=>{if(!Ea(n))throw new Error(kt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:o,sessionProperties:s,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),c=iT(i,"approve()");if(c)throw new Error(c.message);const d=kte(l.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!go(o,!0)){const{message:u}=kt("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(u)}if(ms(s)||this.validateSessionProps(s,"sessionProperties"),!ms(a)){this.validateSessionProps(a,"scopedProperties");const u=new Set(Object.keys(i));if(!Object.keys(a).every(h=>u.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(u).join(", ")}`)}}),mt(this,"isValidReject",async n=>{if(!Ea(n)){const{message:o}=kt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(o)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!tEt(i)){const{message:o}=kt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}}),mt(this,"isValidSessionSettleRequest",n=>{if(!Ea(n)){const{message:c}=kt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(c)}const{relay:r,controller:i,namespaces:o,expiry:s}=n;if(!v0e(r)){const{message:c}=kt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=K3t(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=iT(o,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(fh(s)){const{message:c}=kt("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),mt(this,"isValidUpdate",async n=>{if(!Ea(n)){const{message:l}=kt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const o=this.client.session.get(r),s=iT(i,"update()");if(s)throw new Error(s.message);const a=kte(o.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),mt(this,"isValidExtend",async n=>{if(!Ea(n)){const{message:i}=kt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),mt(this,"isValidRequest",async n=>{if(!Ea(n)){const{message:l}=kt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:o,expiry:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!xte(a,o)){const{message:l}=kt("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(l)}if(!nEt(i)){const{message:l}=kt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!oEt(a,o,i.method)){const{message:l}=kt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(s&&!cEt(s,fT)){const{message:l}=kt("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${fT.min} and ${fT.max}`);throw new Error(l)}}),mt(this,"isValidRespond",async n=>{var r;if(!Ea(n)){const{message:s}=kt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(s)}const{topic:i,response:o}=n;try{await this.isValidSessionTopic(i)}catch(s){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),s}if(!rEt(o)){const{message:s}=kt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(s)}}),mt(this,"isValidPing",async n=>{if(!Ea(n)){const{message:i}=kt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),mt(this,"isValidEmit",async n=>{if(!Ea(n)){const{message:a}=kt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:o}=n;await this.isValidSessionTopic(r);const{namespaces:s}=this.client.session.get(r);if(!xte(s,o)){const{message:a}=kt("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(a)}if(!iEt(i)){const{message:a}=kt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!sEt(s,o,i.name)){const{message:a}=kt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),mt(this,"isValidDisconnect",async n=>{if(!Ea(n)){const{message:i}=kt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),mt(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:o,nonce:s}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!go(i,!1))throw new Error("uri is required parameter");if(!go(o,!1))throw new Error("domain is required parameter");if(!go(s,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>G2(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=G2(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),mt(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:o,metadata:s,transportType:a}=n,l={verified:{verifyUrl:s.verifyUrl||Bb,validation:"UNKNOWN",origin:s.url||""}};try{if(a===hi.link_mode){const d=this.getAppLinkIfEnabled(s,a);return l.verified.validation=d&&new URL(d).origin===new URL(s.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:o,verifyUrl:s.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),mt(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,o)=>{if(i==null){const{message:s}=kt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[o]}`);throw new Error(s)}})}),mt(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),mt(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const o=this.recentlyDeletedLimit/2;for(const s of this.recentlyDeletedMap.keys()){if(i++>=o)break;this.recentlyDeletedMap.delete(s)}}}),mt(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=kt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),mt(this,"isLinkModeEnabled",(n,r)=>{var i,o,s,a,l,c,d,u,h;return!n||r!==hi.link_mode?!1:((o=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:o.linkMode)===!0&&((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),mt(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),mt(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=Mee(n,"topic")||"",i=decodeURIComponent(Mee(n,"wc_ev")||""),o=this.client.session.keys.includes(r);o&&this.client.session.update(r,{transportType:hi.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:o})}),mt(this,"registerLinkModeListeners",async()=>{var n;if(J9()||sp()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),mt(this,"getTVFParams",(n,r,i)=>{var o,s,a;if(!((o=r.request)!=null&&o.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(r.request.params)?[(a=(s=r.request.params)==null?void 0:s[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),mt(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const o=i.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),mt(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const o=n.method,s=nRt[o];if(o==="sui_signTransaction")return[OSt(r.transactionBytes)];if(o==="near_signTransaction")return[zee(r)];if(o==="near_signTransactions")return r.map(l=>zee(l));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(o==="polkadot_signTransaction")return[SEt({transaction:n.params.transactionPayload,signature:r.signature})];if(o==="algo_signTxn")return W0(r)?r.map(l=>Vee(l)):[Vee(r)];if(o==="cosmos_signDirect")return[PSt(r)];if(typeof r=="string")return[r];const a=r[s.key];if(W0(a))return o==="solana_signAllTransactions"?a.map(l=>TSt(l)):a;if(typeof a=="string")return[a]}catch(o){this.client.logger.warn("Error extracting tx hashes from result",o)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const o of i)try{await this.onProviderMessageEvent({topic:r,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${o}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(zo.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:i,transportType:o}=t,{publicKey:s}=this.client.auth.authKeys.keys.includes(X2)?this.client.auth.authKeys.get(X2):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:s,encoding:o===hi.link_mode?gh:Dc});f$(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:o,encryptedId:kd(r)})):LE(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:o}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:o}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Vl.expired,async t=>{const{topic:n,id:r}=Iye(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,kt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,kt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(zp.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(zp.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!go(t,!1)){const{message:n}=kt("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=kt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(fh(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=kt("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!go(t,!1)){const{message:n}=kt("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=kt("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(fh(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=kt("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=kt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(go(t,!1)){const{message:n}=kt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=kt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!eEt(t)){const{message:n}=kt("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=kt("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(fh(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=kt("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class gRt extends yg{constructor(t,n){super(t,n,Q6t,p$),this.core=t,this.logger=n}}class yRt extends yg{constructor(t,n){super(t,n,eRt,p$),this.core=t,this.logger=n}}class vRt extends yg{constructor(t,n){super(t,n,rRt,p$,r=>r.id),this.core=t,this.logger=n}}class wRt extends yg{constructor(t,n){super(t,n,aRt,FE,()=>X2),this.core=t,this.logger=n}}class bRt extends yg{constructor(t,n){super(t,n,lRt,FE),this.core=t,this.logger=n}}class _Rt extends yg{constructor(t,n){super(t,n,cRt,FE,r=>r.id),this.core=t,this.logger=n}}var xRt=Object.defineProperty,kRt=(e,t,n)=>t in e?xRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hT=(e,t,n)=>kRt(e,typeof t!="symbol"?t+"":t,n);class SRt{constructor(t,n){this.core=t,this.logger=n,hT(this,"authKeys"),hT(this,"pairingTopics"),hT(this,"requests"),this.authKeys=new wRt(this.core,this.logger),this.pairingTopics=new bRt(this.core,this.logger),this.requests=new _Rt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var IRt=Object.defineProperty,ERt=(e,t,n)=>t in e?IRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dr=(e,t,n)=>ERt(e,typeof t!="symbol"?t+"":t,n);class m$ extends Wkt{constructor(t){super(t),dr(this,"protocol",L0e),dr(this,"version",U0e),dr(this,"name",uT.name),dr(this,"metadata"),dr(this,"core"),dr(this,"logger"),dr(this,"events",new Xc.EventEmitter),dr(this,"engine"),dr(this,"session"),dr(this,"proposal"),dr(this,"pendingRequest"),dr(this,"auth"),dr(this,"signConfig"),dr(this,"on",(r,i)=>this.events.on(r,i)),dr(this,"once",(r,i)=>this.events.once(r,i)),dr(this,"off",(r,i)=>this.events.off(r,i)),dr(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),dr(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),dr(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),dr(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(o){throw this.logger.error(o.message),o}}),dr(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(t==null?void 0:t.name)||uT.name,this.metadata=x2t(t==null?void 0:t.metadata),this.signConfig=t==null?void 0:t.signConfig;const n=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:OE(G9({level:(t==null?void 0:t.logger)||uT.logger}));this.core=(t==null?void 0:t.core)||new X6t(t),this.logger=ha(n,this.name),this.session=new yRt(this.core,this.logger),this.proposal=new gRt(this.core,this.logger),this.pendingRequest=new vRt(this.core,this.logger),this.engine=new mRt(this),this.auth=new SRt(this.core,this.logger)}static async init(t){const n=new m$(t);return await n.initialize(),n}get context(){return Fa(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}let pT;const CRt=e=>kxt(void 0,[e],void 0,function*({projectId:t,appIcon:n,appName:r}){return pT||(pT=yield m$.init({customStoragePrefix:`dynamicauth_${t}_walletconnect`,metadata:{description:"",icons:[n],name:r,url:""},projectId:t})),pT});Oo("@dynamic-labs/wallet-connect",xxt);const ARt=({walletConnector:e})=>{const l={addListener:()=>{throw new Error("addListener - Not implemented")},connect:()=>Ht(void 0,void 0,void 0,function*(){const c=e.getActiveAddress();if(c)return{address:c,publicKey:new Cn(c)}}),disconnect:()=>Ht(void 0,void 0,void 0,function*(){yield e.endSession()}),emit:()=>{throw new Error("emit - Not implemented")},eventNames:()=>(Ct.error("eventNames - Not implemented"),[]),isBackpack:!1,isBraveWallet:!1,get isConnected(){return!!e.getActiveAddress()},isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!1,isSolflare:!1,listenerCount:()=>(Ct.error("listenerCount - Not implemented"),0),listeners:()=>(Ct.error("listeners - Not implemented"),[]),off:()=>{throw new Error("off - Not implemented")},on:(c,d)=>c==="connect"?(Ct.debug("on - Not implemented for event: connect"),l):c==="activeWalletDidChange"?(e.listenToActiveAccountChange(d),l):(e.signClient.on("session_event",u=>{if(!(!e.session||u.topic!==e.session.topic)){if(u.params.event.name==="accountsChanged"&&c==="accountChanged"){const h=u.params.event.data,m=hoe(h.map(v=>v.startsWith("solana:")?v.split(":")[2]:v));d(m[0]);return}if(u.params.event.name==="disconnected"&&c==="disconnect"){d("");return}}}),l),once:()=>{throw new Error("once - Not implemented")},providers:[],get publicKey(){const c=e.getActiveAddress();return c?new Cn(c):void 0},removeAllListeners:()=>{throw new Error("removeAllListeners - Not implemented")},removeListener:()=>{throw new Error("removeListener - Not implemented")},signAllTransactions:c=>Ht(void 0,void 0,void 0,function*(){return e.signAllTransactions(c)}),signAndSendTransaction:(c,d)=>Ht(void 0,void 0,void 0,function*(){return{signature:yield e.signAndSendTransaction(c,d)}}),signMessage:c=>Ht(void 0,void 0,void 0,function*(){return{signature:yield e.signEncodedMessage(c)}}),signTransaction:c=>Ht(void 0,void 0,void 0,function*(){return e.signTransaction(c)})};return l},RRt="dynamic-wc2-solana-current-chain";class fo extends j_{constructor(t){super(t),this.activeAccountEmitter=new _xt,this.isInitialized=!1,this.canConnectViaQrCode=!0,this.isWalletConnect=!0,this.canHandleMultipleConnections=!1,this.mergeWalletBookChains=!1,this.name=t.walletName;const n=ot.getItem(RRt);if(n&&this.setNetworkId(n),t.overrideKey&&(this.overrideKey=t.overrideKey),!t.projectId)throw new Se("WalletConnect project ID is required")}get deepLinkPreference(){var t;return(t=this.constructorProps.deepLinkPreference)!==null&&t!==void 0?t:"native"}get signClient(){if(!fo.signClientReference)throw new Se("Failed to access sign client for Wallet Connect Solana: Sign client not initialized");return fo.signClientReference}getAvailableMethods(){var t,n;return this.session?(n=(t=this.session.namespaces.solana)===null||t===void 0?void 0:t.methods)!==null&&n!==void 0?n:[]:[]}getSupportedNetworks(){return Ht(this,void 0,void 0,function*(){var t,n;if(!this.session)return this.solNetworks.map(i=>i.chainId.toString());const r=(n=(t=this.session.namespaces.solana)===null||t===void 0?void 0:t.chains)!==null&&n!==void 0?n:[];return this.solNetworks.filter(i=>r.includes(`solana:${i.genesisHash}`)).map(i=>i.chainId.toString())})}getActiveAddress(){var t,n;if(!this.session){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getActiveAddress - no session, returning undefined");return}return Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getActiveAddress - session",this.session),(n=(t=this.session.namespaces.solana)===null||t===void 0?void 0:t.accounts)===null||n===void 0?void 0:n[0].split(":")[2]}listenToActiveAccountChange(t){return this.activeAccountEmitter.on("activeAccountDidChange",t),()=>{this.activeAccountEmitter.off("activeAccountDidChange",t)}}isSendBalanceUnsupported(){if(!this.session)return!1;const t=this.getAvailableMethods();return!t.includes("solana_signAndSendTransaction")&&!t.includes("solana_signTransaction")}createUiTransaction(t){return Ht(this,void 0,void 0,function*(){if(yield this.validateActiveWallet(t),this.isSendBalanceUnsupported())throw new Se("Wallet does not support signing transactions. Please connect to a wallet that supports signing transactions.");return new Rd({connection:this.getWalletClient(),from:t,onSubmit:r=>Ht(this,void 0,void 0,function*(){var i;if(!r)return;const o=yield this.getWalletClient().getLatestBlockhash();return"version"in r?r.message.recentBlockhash=o.blockhash:(r.recentBlockhash=o.blockhash,r.feePayer=(i=r.feePayer)!==null&&i!==void 0?i:new Cn(t)),yield this.signAndSendTransaction(r)})})})}getSigner(){return Ht(this,void 0,void 0,function*(){return ARt({walletConnector:this})})}connect(){return Ht(this,void 0,void 0,function*(){throw new Error("Connect method not implemented.")})}static globalInit(t){return Ht(this,void 0,void 0,function*(){var n,r;fo.signClientPromise=CRt({appIcon:(n=t.appLogoUrl)!==null&&n!==void 0?n:"",appName:(r=t.appName)!==null&&r!==void 0?r:"",projectId:t.projectId}),fo.signClientReference=yield fo.signClientPromise,fo.signClientReference.on("session_event",i=>{fo.sessionEventListeners.forEach(o=>{o(i)})})})}static testOnly__reset(){fo.signClientPromise=void 0,fo.signClientReference=void 0,fo.sessionEventListeners=[]}init(){return Ht(this,void 0,void 0,function*(){var t,n,r,i;if(this.isInitialized)return;if(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] init called"),this.isInitialized=!0,!((i=(r=(n=(t=this.constructorProps.settings)===null||t===void 0?void 0:t.sdk)===null||n===void 0?void 0:n.walletConnect)===null||r===void 0?void 0:r.v2Enabled)!==null&&i!==void 0?i:!1)){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] skipping init - WalletConnect is not enabled in project settings");return}if(fo.signClientPromise){yield fo.signClientPromise,this.setupWCEventListeners();return}yield fo.globalInit(this.constructorProps),this.setupWCEventListeners()})}handleSessionEvent({params:{event:t},topic:n}){var r,i;if(!(!this.session||n!==this.session.topic)){if(t.name==="chainChanged"){const o=t.data;let s=o;if(typeof o=="string"&&o.startsWith("solana:")){const a=o.split(":")[1];s=(i=(r=this.solNetworks.find(l=>l.genesisHash===a))===null||r===void 0?void 0:r.networkId.toString())!==null&&i!==void 0?i:o}if(Ct.debug("[SolanaWalletConnect] onChainChange",{chainId:s}),s===this.getNetworkId()){Ct.debug(`[SolanaWalletConnect] onChainChange - ignoring chainChanged event with same chain id as current chain id: ${s}`);return}this.switchNetwork({networkChainId:parseInt(String(s))});return}if(t.name==="accountsChanged"){const o=t.data,s=hoe(o.map(a=>a.startsWith("solana:")?a.split(":")[2]:a));Ct.debug("[SolanaWalletConnect] onAccountChanged",{accounts:s}),this.emit("accountChange",{accounts:s});return}if(t.name==="disconnected"){Ct.debug("[SolanaWalletConnect] onDisconnect"),this.emit("disconnect"),this.endSession();return}}}setupWCEventListeners(){fo.sessionEventListeners.push(t=>this.handleSessionEvent(t))}endSession(){return Ht(this,void 0,void 0,function*(){Ct.debug("[SolanaWalletConnect] endSession"),this.connectionUri=void 0,this.session&&(yield this.signClient.disconnect({reason:mxt.USER_DISCONNECTED,topic:this.session.topic}),this.session=void 0)})}displayUri(t){return Ht(this,void 0,void 0,function*(){this.connectionUri&&(Ct.debug("[SolanaWalletConnect] handleDisplayURI",this.connectionUri),yield u6e(this.connectionUri,this.metadata.deepLinks,{onDesktopUri:t==null?void 0:t.onDesktopUri,onDisplayUri:t==null?void 0:t.onDisplayUri},this.deepLinkPreference))})}getAddress(t){return Ht(this,void 0,void 0,function*(){var n;if(Ct.debug("[SolanaWalletConnect] getAddress",t),this.session)return this.getActiveAddress();if(this.connectionUri){Ct.debug("[SolanaWalletConnect] getAddress - connecting to WalletConnect with existing connection URI"),yield this.displayUri(t);return}if(Ct.logVerboseTroubleshootingMessage("[WalletConnectConnector] getAddress",{inAppBrowserUrl:(n=this.metadata)===null||n===void 0?void 0:n.inAppBrowserUrl,isMobile:rr(),mobileExperience:this.mobileExperience}),this.openInAppBrowserIfRequired())return;Ct.debug("[SolanaWalletConnect] getAddress - connecting to WalletConnect");const i=this.solNetworks.map(s=>`solana:${s.genesisHash}`),o=yield fo.signClientPromise;if(!o)throw new Se("Failed to access sign client for Wallet Connect Solana: Sign client not initialized");try{const{approval:s,uri:a}=yield o.connect({optionalNamespaces:{solana:{chains:i,events:["chainChanged","accountsChanged","disconnected"],methods:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"]}}});Ct.debug("[SolanaWalletConnect] getAddress - connection URI",a),this.connectionUri=a,yield this.displayUri(t),this.session=yield s();const l=this.getActiveAddress();return this.activeAccountEmitter.emit("activeAccountDidChange",l),l}finally{this.connectionUri=void 0}})}signClientRequest(t){return Ht(this,arguments,void 0,function*({method:n,params:r}){var i,o;if(!this.session)throw new Se("Session not initialized. Please connect to a wallet first.");const a=`solana:${(o=(i=this.getSelectedNetwork())===null||i===void 0?void 0:i.genesisHash)!==null&&o!==void 0?o:this.solNetworks[0].genesisHash}`;try{const l=this.signClient.request({chainId:a,request:{method:n,params:r},topic:this.session.topic});return this.deepLinkIfApplicable({method:n}),yield l}catch(l){throw l.message==="An error has occured. Please, try again."?(yield this.endSession(),new Se("Wallet connection lost. Please, try again.")):l}})}deepLinkIfApplicable(t){const n=["solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction"],r=this.getDeepLink();rr()&&r&&n.includes(t.method)&&Ln.openURL(r)}signMessage(t,n){return Ht(this,void 0,void 0,function*(){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] signMessage",t,n);const r=new TextEncoder().encode(t),i=yield this.signEncodedMessage(r,n);return Oh(i)})}signEncodedMessage(t,n){return Ht(this,void 0,void 0,function*(){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] signEncodedMessage",t,n),n!=null&&n.address&&(yield this.validateActiveWallet(n.address));const r=this.getActiveAddress();if(!r)throw new Se("No active address found");const{signature:i}=yield this.signClientRequest({method:"solana_signMessage",params:{message:Qi.encode(t),pubkey:new Cn(r).toBase58()}});return Qi.decode(i)})}serializeTransaction(t){const n=t.serialize({requireAllSignatures:!1,verifySignatures:!1});return Buffer.from(new Uint8Array(n)).toString("base64")}signTransaction(t){return Ht(this,void 0,void 0,function*(){const n=this.getActiveAddress();if(!n)throw new Se("Active account address is required");Ct.debug("[SolanaWalletConnect] Signing transaction",{activeAddress:n,isVersioned:"version"in t,transaction:t});const r=this.serializeTransaction(t);Ct.debug("[SolanaWalletConnect] Sending to wallet for signing",{serializedLength:r.length});const{signature:i}=yield this.signClientRequest({method:"solana_signTransaction",params:{transaction:r}});Ct.debug("[SolanaWalletConnect] Received transaction signature from wallet",{signature:i});const o=Qi.decode(i);return t.addSignature(new Cn(n),o),t})}signAllTransactions(t){return Ht(this,void 0,void 0,function*(){const n=t.map(this.serializeTransaction),{transactions:r}=yield this.signClientRequest({method:"solana_signAllTransactions",params:{transactions:n}});return r.map((i,o)=>{const s=t[o],a=new Uint8Array(Buffer.from(i,"base64"));return Mpt(s)?cI.deserialize(a):lI.from(a)})})}signAndSendTransaction(t,n){return Ht(this,void 0,void 0,function*(){const r=this.getAvailableMethods();if(r.includes("solana_signAndSendTransaction")){const i=this.serializeTransaction(t),{signature:o}=yield this.signClientRequest({method:"solana_signAndSendTransaction",params:{sendOptions:n,transaction:i}});return o}if(r.includes("solana_signTransaction")){Ct.debug("[SolanaWalletConnect] Using fallback: signTransaction + sendRawTransaction");const i=yield this.signTransaction(t),o=Hpe(i);if(Ct.debug("[SolanaWalletConnect] Transaction signed, checking signatures",{hasSignatures:"signatures"in i&&i.signatures.length>0,isSigned:o,signaturesLength:"signatures"in i?i.signatures.length:"N/A"}),!o)throw new Se("Transaction returned from wallet was not properly signed. The wallet may have rejected the signing request.");const s=i.serialize();Ct.debug("[SolanaWalletConnect] Transaction serialized",{serializedLength:s.length});const a=yield this.getWalletClient().sendRawTransaction(s,n);return Ct.debug("[SolanaWalletConnect] Transaction sent successfully",{signature:a}),a}throw new Se("Wallet does not support signing and sending transactions. Please connect to a wallet that supports at least solana_signTransaction.")})}getDeepLink(){const t=zoe({deepLinks:this.metadata.deepLinks,mode:"regular",preference:this.deepLinkPreference});if(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getDeepLink - deepLink",t),!!t)return this.session?`${t}?sessionTopic=${this.session.topic}`:t}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){const t=this.getActiveAddress();return t?(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getConnectedAccounts - activeAccounts",[t]),[t]):(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getConnectedAccounts - no activeAccounts, returning empty array"),[])})}getConnectionUri(){return this.connectionUri}validateActiveWallet(t){return Ht(this,void 0,void 0,function*(){Ct.debug("[SolanaWalletConnect] validateActiveWallet - validating wallet",t);const[n]=yield this.getConnectedAccounts();if($a(n,t,this.connectedChain)){Ct.debug("[SolanaWalletConnect] validateActiveWallet - wallet is active");return}return this.handleWalletNotActive({activeAddress:n,expectedAddress:t})})}}fo.sessionEventListeners=[];class vg extends j_{constructor(){super(...arguments),this.walletConnectWalletBookEntry=void 0}getMobileOrInstalledWallet(){const t=this.walletConnectWalletBookEntry&&this.constructorProps.projectId;if(Ct.logVerboseTroubleshootingMessage("[SOL InjectedWalletBase] getMobileOrInstalledWallet",{canUseWalletConnect:t,isInstalledOnBrowser:this.isInstalledOnBrowser(),projectId:this.constructorProps.projectId,walletConnectWalletBookEntry:this.walletConnectWalletBookEntry}),this.isInstalledOnBrowser()||!t)return this;const n=new fo(Object.assign(Object.assign({},this.constructorProps),{metadata:t_(Object.assign(Object.assign({},this.metadata),{walletBook:this.walletBook,walletBookWallet:this.walletConnectWalletBookEntry,walletKey:this.key})),overrideKey:this.key,walletName:this.name}));return n.init(),n}get solProviderHelper(){return this._solProviderHelper||(this._solProviderHelper=new Wgt(this)),this._solProviderHelper}findProvider(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.getInstalledProvider()}setupEventListeners(){var t;(t=this.solProviderHelper)===null||t===void 0||t._setupEventListeners()}teardownEventListeners(){var t;(t=this.solProviderHelper)===null||t===void 0||t._teardownEventListeners()}connect(){return Ht(this,void 0,void 0,function*(){var t;yield(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}getSigner(){return Ht(this,void 0,void 0,function*(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}createUiTransaction(t){return Ht(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),new Rd({connection:this.getWalletClient(),from:t,onSubmit:r=>Ht(this,void 0,void 0,function*(){var i;if(!r)return;const o=yield this.getSigner();if(!o)throw new Error("Signer not found");const s=yield this.getWalletClient().getLatestBlockhash();if("version"in r)r.message.recentBlockhash=s.blockhash;else{const a=yield this.getAddress();if(!a)throw new Error("User address not found");r.recentBlockhash=s.blockhash,r.feePayer=(i=r.feePayer)!==null&&i!==void 0?i:new Cn(a)}return(yield o.signAndSendTransaction(r)).signature})})})}isInstalledOnBrowser(){var t;return!!(!((t=this.solProviderHelper)===null||t===void 0)&&t.isInstalledHelper())}getAddress(){return Ht(this,void 0,void 0,function*(){var t;if(!this.openInAppBrowserIfRequired())return(t=this.solProviderHelper)===null||t===void 0?void 0:t.getAddress()})}signMessage(t){return Ht(this,void 0,void 0,function*(){var n,r;const i=yield(n=this.solProviderHelper)===null||n===void 0?void 0:n.getAddress();if(i&&this.isLedgerAddress(i))throw new qgt(this.name);return(r=this.solProviderHelper)===null||r===void 0?void 0:r.signMessage(t)})}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){var t,n;return(n=(t=this.solProviderHelper)===null||t===void 0?void 0:t.getConnectedAccounts())!==null&&n!==void 0?n:[]})}}class W0e extends vg{constructor(t){super(t),this.name="Backpack",this.overrideKey="backpacksol",this.walletConnectWalletBookEntry=Fd(t.walletBook,this.key)}getSigner(){return Ht(this,void 0,void 0,function*(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}signMessage(t){return Ht(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=yield this.getSigner();if(!r)return;const i=yield r.signMessage(Buffer.from(t,"utf8"));if(i)return typeof i=="object"&&"signature"in i?Oh(i.signature):Oh(i)})}}Object.defineProperty(W0e,"key",{value:"backpacksol",writable:!1});var TRt="4.57.1",ORt="4.57.1";function po(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function sne(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function NRt(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i?i.value=n:t.set(e,n),n}const UUt=32;function q0e(e){const t=DRt(e);return PRt(t)}function FUt(e,t){const n=e.padStart(Math.ceil(e.length/2)*2,"0"),r=BRt(n,t);return q0e(r.reduce((i,o)=>i+String.fromCharCode(o),""))}function PRt(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function WUt(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"")}const BRt=(e,t)=>{const n=/^[0-9A-Fa-f]+$/;if(!e||e.length%2!=0||!n.test(e))throw new Error(`cannot create uint8array from invalid hex string: "${e}"`);const r=new Uint8Array(e.match(/../g).map(o=>parseInt(o,16)));if(!t)return r;if(e.length/2>t)throw new Error("hex value cannot fit in a buffer of "+t+" byte(s)");let i=new Uint8Array(t);return i.set(r,t-r.length),i};function DRt(e){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let t;for(e=`${e}`,t=0;t<e.length;t++)if(e.charCodeAt(t)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(t)} at position ${t}`);let n="";for(t=0;t<e.length;t+=3){const r=[void 0,void 0,void 0,void 0];r[0]=e.charCodeAt(t)>>2,r[1]=(e.charCodeAt(t)&3)<<4,e.length>t+1&&(r[1]|=e.charCodeAt(t+1)>>4,r[2]=(e.charCodeAt(t+1)&15)<<2),e.length>t+2&&(r[2]|=e.charCodeAt(t+2)>>6,r[3]=e.charCodeAt(t+2)&63);for(let i=0;i<r.length;i++)typeof r[i]>"u"?n+="=":n+=MRt(r[i])}return n}function MRt(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(e>=0&&e<64)return t[e]}const jRt="X-Stamp",$Rt=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",LRt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,URt=()=>$Rt?"browser":LRt?"node":"purejs",FRt=async(e,t)=>{const n=t??URt();switch(n){case"browser":return(await wb(async()=>{const{signWithApiKey:r}=await import("./webcrypto-DqquhqZe.js");return{signWithApiKey:r}},__vite__mapDeps([0,1]))).signWithApiKey(e);case"node":return(await wb(async()=>{const{signWithApiKey:r}=await import("./nodecrypto-csALEsmE.js");return{signWithApiKey:r}},__vite__mapDeps([2,1]))).signWithApiKey(e);case"purejs":return(await wb(async()=>{const{signWithApiKey:r}=await import("./purejs-DFI365oa.js");return{signWithApiKey:r}},[])).signWithApiKey(e);default:throw new Error(`Unsupported runtime: ${n}`)}};class WRt{constructor(t){this.apiPublicKey=t.apiPublicKey,this.apiPrivateKey=t.apiPrivateKey,this.runtimeOverride=t.runtimeOverride}async stamp(t){const n=await FRt({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:t},this.runtimeOverride),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:n};return{stampHeaderName:jRt,stampHeaderValue:q0e(JSON.stringify(r))}}}var l2={exports:{}},ane;function qRt(){return ane||(ane=1,(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Na<"u"&&Na,r=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof Na<"u"&&Na||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(E){return E&&DataView.prototype.isPrototypeOf(E)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(E){return E&&d.indexOf(Object.prototype.toString.call(E))>-1};function h(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function m(E){return typeof E!="string"&&(E=String(E)),E}function v(E){var N={next:function(){var P=E.shift();return{done:P===void 0,value:P}}};return l.iterable&&(N[Symbol.iterator]=function(){return N}),N}function g(E){this.map={},E instanceof g?E.forEach(function(N,P){this.append(P,N)},this):Array.isArray(E)?E.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(N){this.append(N,E[N])},this)}g.prototype.append=function(E,N){E=h(E),N=m(N);var P=this.map[E];this.map[E]=P?P+", "+N:N},g.prototype.delete=function(E){delete this.map[h(E)]},g.prototype.get=function(E){return E=h(E),this.has(E)?this.map[E]:null},g.prototype.has=function(E){return this.map.hasOwnProperty(h(E))},g.prototype.set=function(E,N){this.map[h(E)]=m(N)},g.prototype.forEach=function(E,N){for(var P in this.map)this.map.hasOwnProperty(P)&&E.call(N,this.map[P],P,this)},g.prototype.keys=function(){var E=[];return this.forEach(function(N,P){E.push(P)}),v(E)},g.prototype.values=function(){var E=[];return this.forEach(function(N){E.push(N)}),v(E)},g.prototype.entries=function(){var E=[];return this.forEach(function(N,P){E.push([P,N])}),v(E)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function b(E){return new Promise(function(N,P){E.onload=function(){N(E.result)},E.onerror=function(){P(E.error)}})}function k(E){var N=new FileReader,P=b(N);return N.readAsArrayBuffer(E),P}function _(E){var N=new FileReader,P=b(N),j=/charset=([A-Za-z0-9_-]+)/.exec(E.type),V=j?j[1]:"utf-8";return N.readAsText(E,V),P}function R(E){for(var N=new Uint8Array(E),P=new Array(N.length),j=0;j<N.length;j++)P[j]=String.fromCharCode(N[j]);return P.join("")}function I(E){if(E.slice)return E.slice(0);var N=new Uint8Array(E.byteLength);return N.set(new Uint8Array(E)),N.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:l.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:l.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():l.arrayBuffer&&l.blob&&c(E)?(this._bodyArrayBuffer=I(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||u(E))?this._bodyArrayBuffer=I(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=y(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function D(E){var N=E.toUpperCase();return M.indexOf(N)>-1?N:E}function A(E,N){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var P=N.body;if(E instanceof A){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,N.headers||(this.headers=new g(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!P&&E._bodyInit!=null&&(P=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new g(N.headers)),this.method=D(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||(function(){if("AbortController"in a){var K=new AbortController;return K.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var V=/\?/;this.url+=(V.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function U(E){var N=new FormData;return E.trim().split("&").forEach(function(P){if(P){var j=P.split("="),V=j.shift().replace(/\+/g," "),K=j.join("=").replace(/\+/g," ");N.append(decodeURIComponent(V),decodeURIComponent(K))}}),N}function $(E){var N=new g,P=E.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var V=j.split(":"),K=V.shift().trim();if(K){var F=V.join(":").trim();try{N.append(K,F)}catch(O){console.warn("Response "+O.message)}}}),N}T.call(A.prototype);function q(E,N){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new g(N.headers),this.url=N.url||"",this._initBody(E)}T.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},q.error=function(){var E=new q(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var z=[301,302,303,307,308];q.redirect=function(E,N){if(z.indexOf(N)===-1)throw new RangeError("Invalid status code");return new q(null,{status:N,headers:{location:E}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(N,P){this.message=N,this.name=P;var j=Error(N);this.stack=j.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function S(E,N){return new Promise(function(P,j){var V=new A(E,N);if(V.signal&&V.signal.aborted)return j(new s.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function F(){K.abort()}K.onload=function(){var G={statusText:K.statusText,headers:$(K.getAllResponseHeaders()||"")};V.url.indexOf("file://")===0&&(K.status<200||K.status>599)?G.status=200:G.status=K.status,G.url="responseURL"in K?K.responseURL:G.headers.get("X-Request-URL");var Y="response"in K?K.response:K.responseText;setTimeout(function(){P(new q(Y,G))},0)},K.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},K.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},K.onabort=function(){setTimeout(function(){j(new s.DOMException("Aborted","AbortError"))},0)};function O(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(K.open(V.method,O(V.url),!0),V.credentials==="include"?K.withCredentials=!0:V.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&(l.blob?K.responseType="blob":l.arrayBuffer&&(K.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof g||a.Headers&&N.headers instanceof a.Headers)){var W=[];Object.getOwnPropertyNames(N.headers).forEach(function(G){W.push(h(G)),K.setRequestHeader(G,m(N.headers[G]))}),V.headers.forEach(function(G,Y){W.indexOf(Y)===-1&&K.setRequestHeader(Y,G)})}else V.headers.forEach(function(G,Y){K.setRequestHeader(Y,G)});V.signal&&(V.signal.addEventListener("abort",F),K.onreadystatechange=function(){K.readyState===4&&V.signal.removeEventListener("abort",F)}),K.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return S.polyfill=!0,a.fetch||(a.fetch=S,a.Headers=g,a.Request=A,a.Response=q),s.Headers=g,s.Request=A,s.Response=q,s.fetch=S,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(l2,l2.exports)),l2.exports}var zRt=qRt();const VRt=zRt.fetch;function mT(e){return(e==null?void 0:e.name)==="TurnkeyClient"}class KRt extends Error{constructor(t){let n=`Turnkey error ${t.code}: ${t.message}`;t.details!=null&&(n+=` (Details: ${JSON.stringify(t.details)})`),super(n),this.name="TurnkeyRequestError",this.details=t.details??null,this.code=t.code}}const HRt="@turnkey/http@3.10.0";class a0{constructor(t,n){if(this.name="TurnkeyClient",this.getActivity=async r=>this.request("/public/v1/query/get_activity",r),this.stampGetActivity=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getApiKey=async r=>this.request("/public/v1/query/get_api_key",r),this.stampGetApiKey=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_api_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getApiKeys=async r=>this.request("/public/v1/query/get_api_keys",r),this.stampGetApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAttestationDocument=async r=>this.request("/public/v1/query/get_attestation",r),this.stampGetAttestationDocument=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_attestation",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAuthenticator=async r=>this.request("/public/v1/query/get_authenticator",r),this.stampGetAuthenticator=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_authenticator",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAuthenticators=async r=>this.request("/public/v1/query/get_authenticators",r),this.stampGetAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOauthProviders=async r=>this.request("/public/v1/query/get_oauth_providers",r),this.stampGetOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOrganization=async r=>this.request("/public/v1/query/get_organization",r),this.stampGetOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOrganizationConfigs=async r=>this.request("/public/v1/query/get_organization_configs",r),this.stampGetOrganizationConfigs=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_organization_configs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicy=async r=>this.request("/public/v1/query/get_policy",r),this.stampGetPolicy=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicyEvaluations=async r=>this.request("/public/v1/query/get_policy_evaluations",r),this.stampGetPolicyEvaluations=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_policy_evaluations",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPrivateKey=async r=>this.request("/public/v1/query/get_private_key",r),this.stampGetPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSmartContractInterface=async r=>this.request("/public/v1/query/get_smart_contract_interface",r),this.stampGetSmartContractInterface=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_smart_contract_interface",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getUser=async r=>this.request("/public/v1/query/get_user",r),this.stampGetUser=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWallet=async r=>this.request("/public/v1/query/get_wallet",r),this.stampGetWallet=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWalletAccount=async r=>this.request("/public/v1/query/get_wallet_account",r),this.stampGetWalletAccount=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_wallet_account",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getActivities=async r=>this.request("/public/v1/query/list_activities",r),this.stampGetActivities=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_activities",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicies=async r=>this.request("/public/v1/query/list_policies",r),this.stampGetPolicies=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_policies",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.listPrivateKeyTags=async r=>this.request("/public/v1/query/list_private_key_tags",r),this.stampListPrivateKeyTags=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_private_key_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPrivateKeys=async r=>this.request("/public/v1/query/list_private_keys",r),this.stampGetPrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSmartContractInterfaces=async r=>this.request("/public/v1/query/list_smart_contract_interfaces",r),this.stampGetSmartContractInterfaces=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_smart_contract_interfaces",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSubOrgIds=async r=>this.request("/public/v1/query/list_suborgs",r),this.stampGetSubOrgIds=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_suborgs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.listUserTags=async r=>this.request("/public/v1/query/list_user_tags",r),this.stampListUserTags=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_user_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getUsers=async r=>this.request("/public/v1/query/list_users",r),this.stampGetUsers=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getVerifiedSubOrgIds=async r=>this.request("/public/v1/query/list_verified_suborgs",r),this.stampGetVerifiedSubOrgIds=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_verified_suborgs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWalletAccounts=async r=>this.request("/public/v1/query/list_wallet_accounts",r),this.stampGetWalletAccounts=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWallets=async r=>this.request("/public/v1/query/list_wallets",r),this.stampGetWallets=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_wallets",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWhoami=async r=>this.request("/public/v1/query/whoami",r),this.stampGetWhoami=async r=>{const i=this.config.baseUrl+"/public/v1/query/whoami",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.approveActivity=async r=>this.request("/public/v1/submit/approve_activity",r),this.stampApproveActivity=async r=>{const i=this.config.baseUrl+"/public/v1/submit/approve_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createApiKeys=async r=>this.request("/public/v1/submit/create_api_keys",r),this.stampCreateApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createApiOnlyUsers=async r=>this.request("/public/v1/submit/create_api_only_users",r),this.stampCreateApiOnlyUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_api_only_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createAuthenticators=async r=>this.request("/public/v1/submit/create_authenticators",r),this.stampCreateAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createInvitations=async r=>this.request("/public/v1/submit/create_invitations",r),this.stampCreateInvitations=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_invitations",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createOauthProviders=async r=>this.request("/public/v1/submit/create_oauth_providers",r),this.stampCreateOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPolicies=async r=>this.request("/public/v1/submit/create_policies",r),this.stampCreatePolicies=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_policies",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPolicy=async r=>this.request("/public/v1/submit/create_policy",r),this.stampCreatePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPrivateKeyTag=async r=>this.request("/public/v1/submit/create_private_key_tag",r),this.stampCreatePrivateKeyTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPrivateKeys=async r=>this.request("/public/v1/submit/create_private_keys",r),this.stampCreatePrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createReadOnlySession=async r=>this.request("/public/v1/submit/create_read_only_session",r),this.stampCreateReadOnlySession=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_read_only_session",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createReadWriteSession=async r=>this.request("/public/v1/submit/create_read_write_session",r),this.stampCreateReadWriteSession=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_read_write_session",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createSmartContractInterface=async r=>this.request("/public/v1/submit/create_smart_contract_interface",r),this.stampCreateSmartContractInterface=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_smart_contract_interface",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createSubOrganization=async r=>this.request("/public/v1/submit/create_sub_organization",r),this.stampCreateSubOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_sub_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createUserTag=async r=>this.request("/public/v1/submit/create_user_tag",r),this.stampCreateUserTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_user_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createUsers=async r=>this.request("/public/v1/submit/create_users",r),this.stampCreateUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createWallet=async r=>this.request("/public/v1/submit/create_wallet",r),this.stampCreateWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createWalletAccounts=async r=>this.request("/public/v1/submit/create_wallet_accounts",r),this.stampCreateWalletAccounts=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteApiKeys=async r=>this.request("/public/v1/submit/delete_api_keys",r),this.stampDeleteApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteAuthenticators=async r=>this.request("/public/v1/submit/delete_authenticators",r),this.stampDeleteAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteInvitation=async r=>this.request("/public/v1/submit/delete_invitation",r),this.stampDeleteInvitation=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_invitation",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteOauthProviders=async r=>this.request("/public/v1/submit/delete_oauth_providers",r),this.stampDeleteOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePolicy=async r=>this.request("/public/v1/submit/delete_policy",r),this.stampDeletePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePrivateKeyTags=async r=>this.request("/public/v1/submit/delete_private_key_tags",r),this.stampDeletePrivateKeyTags=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePrivateKeys=async r=>this.request("/public/v1/submit/delete_private_keys",r),this.stampDeletePrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteSmartContractInterface=async r=>this.request("/public/v1/submit/delete_smart_contract_interface",r),this.stampDeleteSmartContractInterface=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_smart_contract_interface",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteSubOrganization=async r=>this.request("/public/v1/submit/delete_sub_organization",r),this.stampDeleteSubOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_sub_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteUserTags=async r=>this.request("/public/v1/submit/delete_user_tags",r),this.stampDeleteUserTags=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_user_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteUsers=async r=>this.request("/public/v1/submit/delete_users",r),this.stampDeleteUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteWallets=async r=>this.request("/public/v1/submit/delete_wallets",r),this.stampDeleteWallets=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_wallets",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.emailAuth=async r=>this.request("/public/v1/submit/email_auth",r),this.stampEmailAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/email_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportPrivateKey=async r=>this.request("/public/v1/submit/export_private_key",r),this.stampExportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportWallet=async r=>this.request("/public/v1/submit/export_wallet",r),this.stampExportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportWalletAccount=async r=>this.request("/public/v1/submit/export_wallet_account",r),this.stampExportWalletAccount=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_wallet_account",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.importPrivateKey=async r=>this.request("/public/v1/submit/import_private_key",r),this.stampImportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/import_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.importWallet=async r=>this.request("/public/v1/submit/import_wallet",r),this.stampImportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/import_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initFiatOnRamp=async r=>this.request("/public/v1/submit/init_fiat_on_ramp",r),this.stampInitFiatOnRamp=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_fiat_on_ramp",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initImportPrivateKey=async r=>this.request("/public/v1/submit/init_import_private_key",r),this.stampInitImportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_import_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initImportWallet=async r=>this.request("/public/v1/submit/init_import_wallet",r),this.stampInitImportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_import_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initOtp=async r=>this.request("/public/v1/submit/init_otp",r),this.stampInitOtp=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_otp",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initOtpAuth=async r=>this.request("/public/v1/submit/init_otp_auth",r),this.stampInitOtpAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_otp_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initUserEmailRecovery=async r=>this.request("/public/v1/submit/init_user_email_recovery",r),this.stampInitUserEmailRecovery=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.oauth=async r=>this.request("/public/v1/submit/oauth",r),this.stampOauth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/oauth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.oauthLogin=async r=>this.request("/public/v1/submit/oauth_login",r),this.stampOauthLogin=async r=>{const i=this.config.baseUrl+"/public/v1/submit/oauth_login",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.otpAuth=async r=>this.request("/public/v1/submit/otp_auth",r),this.stampOtpAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/otp_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.otpLogin=async r=>this.request("/public/v1/submit/otp_login",r),this.stampOtpLogin=async r=>{const i=this.config.baseUrl+"/public/v1/submit/otp_login",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.recoverUser=async r=>this.request("/public/v1/submit/recover_user",r),this.stampRecoverUser=async r=>{const i=this.config.baseUrl+"/public/v1/submit/recover_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.rejectActivity=async r=>this.request("/public/v1/submit/reject_activity",r),this.stampRejectActivity=async r=>{const i=this.config.baseUrl+"/public/v1/submit/reject_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.removeOrganizationFeature=async r=>this.request("/public/v1/submit/remove_organization_feature",r),this.stampRemoveOrganizationFeature=async r=>{const i=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.setOrganizationFeature=async r=>this.request("/public/v1/submit/set_organization_feature",r),this.stampSetOrganizationFeature=async r=>{const i=this.config.baseUrl+"/public/v1/submit/set_organization_feature",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signRawPayload=async r=>this.request("/public/v1/submit/sign_raw_payload",r),this.stampSignRawPayload=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signRawPayloads=async r=>this.request("/public/v1/submit/sign_raw_payloads",r),this.stampSignRawPayloads=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signTransaction=async r=>this.request("/public/v1/submit/sign_transaction",r),this.stampSignTransaction=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_transaction",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.stampLogin=async r=>this.request("/public/v1/submit/stamp_login",r),this.stampStampLogin=async r=>{const i=this.config.baseUrl+"/public/v1/submit/stamp_login",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updatePolicy=async r=>this.request("/public/v1/submit/update_policy",r),this.stampUpdatePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updatePrivateKeyTag=async r=>this.request("/public/v1/submit/update_private_key_tag",r),this.stampUpdatePrivateKeyTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateRootQuorum=async r=>this.request("/public/v1/submit/update_root_quorum",r),this.stampUpdateRootQuorum=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_root_quorum",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUser=async r=>this.request("/public/v1/submit/update_user",r),this.stampUpdateUser=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserEmail=async r=>this.request("/public/v1/submit/update_user_email",r),this.stampUpdateUserEmail=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_email",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserName=async r=>this.request("/public/v1/submit/update_user_name",r),this.stampUpdateUserName=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_name",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserPhoneNumber=async r=>this.request("/public/v1/submit/update_user_phone_number",r),this.stampUpdateUserPhoneNumber=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_phone_number",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserTag=async r=>this.request("/public/v1/submit/update_user_tag",r),this.stampUpdateUserTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateWallet=async r=>this.request("/public/v1/submit/update_wallet",r),this.stampUpdateWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.verifyOtp=async r=>this.request("/public/v1/submit/verify_otp",r),this.stampVerifyOtp=async r=>{const i=this.config.baseUrl+"/public/v1/submit/verify_otp",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.testRateLimits=async r=>this.request("/tkhq/api/v1/test_rate_limits",r),this.stampTestRateLimits=async r=>{const i=this.config.baseUrl+"/tkhq/api/v1/test_rate_limits",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},!t.baseUrl)throw new Error("Missing base URL. Please verify env vars.");this.config=t,this.stamper=n}async request(t,n){const r=this.config.baseUrl+t,i=JSON.stringify(n),o=await this.stamper.stamp(i),s=await VRt(r,{method:"POST",headers:{[o.stampHeaderName]:o.stampHeaderValue,"X-Client-Version":HRt},body:i,redirect:"follow"});if(!s.ok){let l;try{l=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new KRt(l)}return await s.json()}}class GRt extends Error{constructor(t){const{message:n,cause:r,activityId:i,activityStatus:o,activityType:s}=t;super(n),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=r??void 0}}class JRt extends Error{constructor(t){const{message:n,cause:r,activityId:i,activityStatus:o,activityType:s}=t;super(n),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=r??void 0}}function fy(e){const{id:t,status:n}=e;if(n==="ACTIVITY_STATUS_CONSENSUS_NEEDED")throw new JRt({message:"Activity requires consensus",activityId:t,activityStatus:n});if(n!=="ACTIVITY_STATUS_COMPLETED")throw new GRt({message:`Expected COMPLETED status, got ${n}`,activityId:t,activityStatus:n});return!0}function hy(e){if(e==null)throw new Error(`Got unexpected ${JSON.stringify(e)}`);return e}const ZRt="X-Stamp";var Lo;(function(e){e.PublicKeyReady="PUBLIC_KEY_READY",e.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",e.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",e.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",e.InjectImportBundle="INJECT_IMPORT_BUNDLE",e.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",e.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",e.ApplySettings="APPLY_SETTINGS",e.BundleInjected="BUNDLE_INJECTED",e.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",e.SettingsApplied="SETTINGS_APPLIED",e.StampRequest="STAMP_REQUEST",e.Stamp="STAMP",e.TurnkeyInitMessageChannel="TURNKEY_INIT_MESSAGE_CHANNEL",e.GetEmbeddedPublicKey="GET_EMBEDDED_PUBLIC_KEY",e.ClearEmbeddedKey="RESET_EMBEDDED_KEY",e.InitEmbeddedKey="INIT_EMBEDDED_KEY",e.Error="ERROR"})(Lo||(Lo={}));var CI;(function(e){e.Hexadecimal="HEXADECIMAL",e.Solana="SOLANA"})(CI||(CI={}));function YRt(){return crypto.randomUUID()}class g${constructor(t){if(typeof window>"u")throw new Error("Cannot initialize iframe in non-browser environment");if(typeof MessageChannel>"u")throw new Error("Cannot initialize iframe without MessageChannel support");if(!t.iframeContainer)throw new Error("Iframe container cannot be found");if(this.container=t.iframeContainer,this.container.querySelector(`#${t.iframeElementId}`))throw new Error(`Iframe element with ID ${t.iframeElementId} already exists`);let n=window.document.createElement("iframe");n.setAttribute("sandbox","allow-scripts allow-same-origin"),n.id=t.iframeElementId,n.src=t.iframeUrl,this.iframe=n;const r=new URL(t.iframeUrl);this.iframeOrigin=r.origin,this.iframePublicKey=null,this.messageChannel=new MessageChannel,this.pendingRequests=new Map}onMessageHandler(t){const{type:n,value:r,requestId:i}=t.data||{};if(!i){if(n===Lo.PublicKeyReady){this.iframePublicKey=r;return}return}const o=this.pendingRequests.get(i);if(!o){console.warn(`Received response for unknown request: ${i}`);return}if(this.pendingRequests.delete(i),n===Lo.Error){o.reject(new Error(r));return}switch(n){case Lo.Stamp:o.resolve({stampHeaderName:ZRt,stampHeaderValue:r});break;default:o.resolve(r)}}async init(t){return new Promise((n,r)=>{this.container.appendChild(this.iframe),this.iframe.addEventListener("load",()=>{var i;if(!((i=this.iframe.contentWindow)!=null&&i.postMessage)){r(new Error("contentWindow or contentWindow.postMessage does not exist"));return}this.iframe.contentWindow.postMessage({type:Lo.TurnkeyInitMessageChannel,dangerouslyOverrideIframeKeyTtl:t},this.iframeOrigin,[this.messageChannel.port2])}),this.messageChannel.port1.onmessage=i=>{var o;((o=i.data)==null?void 0:o.type)===Lo.PublicKeyReady&&(this.iframePublicKey=i.data.value,n(i.data.value)),this.onMessageHandler(i)}})}clear(){var t,n,r,i;(n=(t=this.messageChannel)==null?void 0:t.port1)==null||n.close(),(i=(r=this.messageChannel)==null?void 0:r.port2)==null||i.close(),this.iframe.remove(),this.pendingRequests.clear()}publicKey(){return this.iframePublicKey}async getEmbeddedPublicKey(){const t=await this.createRequest(Lo.GetEmbeddedPublicKey);return this.iframePublicKey=t,t}async clearEmbeddedKey(){return await this.createRequest(Lo.ClearEmbeddedKey),this.iframePublicKey="",null}async initEmbeddedKey(){const t=await this.createRequest(Lo.InitEmbeddedKey);return this.iframePublicKey=t,t}createRequest(t,n={}){return new Promise((r,i)=>{const o=YRt();this.pendingRequests.set(o,{resolve:r,reject:i,requestId:o}),this.messageChannel.port1.postMessage({type:t,requestId:o,...n})})}async injectCredentialBundle(t){return this.createRequest(Lo.InjectCredentialBundle,{value:t})}async injectKeyExportBundle(t,n,r){return this.createRequest(Lo.InjectKeyExportBundle,{value:t,keyFormat:r,organizationId:n})}async injectWalletExportBundle(t,n){return this.createRequest(Lo.InjectWalletExportBundle,{value:t,organizationId:n})}async injectImportBundle(t,n,r){return this.createRequest(Lo.InjectImportBundle,{value:t,organizationId:n,userId:r})}async extractWalletEncryptedBundle(){return this.createRequest(Lo.ExtractWalletEncryptedBundle)}async extractKeyEncryptedBundle(t){return this.createRequest(Lo.ExtractKeyEncryptedBundle,{keyFormat:t})}async applySettings(t){return this.createRequest(Lo.ApplySettings,{value:JSON.stringify(t)})}async stamp(t){if(this.iframePublicKey===null)throw new Error("null iframe public key. Have you called/awaited .init()?");return this.createRequest(Lo.StampRequest,{value:t})}}class z0e{get client(){return this.__turnkeyClient}get publicKey(){return this.__publicKey}clear(){var t;(t=this.__iframeStamper)===null||t===void 0||t.clear(),this.__iframeStamper=void 0,this.__publicKey=void 0,this.__turnkeyClient=void 0}}const l0="https://api.turnkey.com",XRt="Turnkey error 16: expired api key",QRt="Turnkey error 16: could not find public key",e4t="The operation either timed out or was not allowed",t4t="The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.",n4t="Turnkey error 5: webauthn authenticator not found in organization or parent organization",r4t="The user cancelled the request",lne=[XRt,QRt],i4t=[e4t,t4t,n4t,r4t],o4t={AUTHENTICATOR_TRANSPORT_BLE:$p.Ble,AUTHENTICATOR_TRANSPORT_HYBRID:$p.Hybrid,AUTHENTICATOR_TRANSPORT_INTERNAL:$p.Internal,AUTHENTICATOR_TRANSPORT_NFC:$p.Nfc,AUTHENTICATOR_TRANSPORT_USB:$p.Usb},s4t=e=>e.map(t=>o4t[t]);class a4t extends gi{constructor(t,n){super(t,n)}error(t,...n){const[r]=n;!(r!=null&&r.message)||!i4t.some(i=>r.message.includes(i))?this.log(Wi.ERROR,t,...n):this.warn(t,...n)}}const Gi=new a4t("Dynamic embedded wallets",Wi.INFO);function l4t(e){const t=new Uint8Array(e);let n="";for(const o of t)n+=String.fromCharCode(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const pm="copy",Cy="convert";function IB(e,t,n){if(t===pm)return n;if(t===Cy)return e(n);if(t instanceof Array)return n.map(r=>IB(e,t[0],r));if(t instanceof Object){const r={};for(const[i,o]of Object.entries(t)){if(o.derive){const s=o.derive(n);s!==void 0&&(n[i]=s)}if(!(i in n)){if(o.required)throw new Error(`Missing key: ${i}`);continue}if(n[i]==null){r[i]=null;continue}r[i]=IB(e,o.schema,n[i])}return r}}function c4t(e,t){return{required:!0,schema:e,derive:t}}function Qf(e){return{required:!0,schema:e}}function Q2(e){return{required:!1,schema:e}}const d4t={appid:Q2(pm),appidExclude:Q2(pm),credProps:Q2(pm)},u4t={type:Qf(pm),id:Qf(pm),rawId:Qf(Cy),authenticatorAttachment:Q2(pm),response:Qf({clientDataJSON:Qf(Cy),authenticatorData:Qf(Cy),signature:Qf(Cy),userHandle:Qf(Cy)}),clientExtensionResults:c4t(d4t,e=>e.getClientExtensionResults())};function f4t(e){return IB(l4t,u4t,e)}async function h4t(e){const t=await navigator.credentials.get(e);return t.toJSON=()=>f4t(t),t}const p4t=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function m4t(e){return new g4t}let g4t=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!c2||zw>=8e3)&&(c2=new ArrayBuffer(8e3),zw=0),this._byte=new Uint8Array(c2,zw,80),this._word=new Int32Array(c2,zw,20),zw+=80}update(t){if(typeof t=="string")return this._utf8(t);if(t==null)throw new TypeError("Invalid type: "+typeof t);const n=t.byteOffset,r=t.byteLength;let i=r/64|0,o=0;if(i&&!(n&3)&&!(this._size%64)){const a=new Int32Array(t.buffer,n,i*16);for(;i--;)this._int32(a,o>>2),o+=64;this._size+=o}if(t.BYTES_PER_ELEMENT!==1&&t.buffer){const a=new Uint8Array(t.buffer,n+o,r-o);return this._uint8(a)}return o===r?this:this._uint8(t,o)}_uint8(t,n){const{_byte:r,_word:i}=this,o=t.length;for(n=n|0;n<o;){const s=this._size%64;let a=s;for(;n<o&&a<64;)r[a++]=t[n++];a>=64&&this._int32(i),this._size+=a-s}return this}_utf8(t){const{_byte:n,_word:r}=this,i=t.length;let o=this._sp;for(let s=0;s<i;){const a=this._size%64;let l=a;for(;s<i&&l<64;){let c=t.charCodeAt(s++)|0;c<128?n[l++]=c:c<2048?(n[l++]=192|c>>>6,n[l++]=128|c&63):c<55296||c>57343?(n[l++]=224|c>>>12,n[l++]=128|c>>>6&63,n[l++]=128|c&63):o?(c=((o&1023)<<10)+(c&1023)+65536,n[l++]=240|c>>>18,n[l++]=128|c>>>12&63,n[l++]=128|c>>>6&63,n[l++]=128|c&63,o=0):o=c}l>=64&&(this._int32(r),r[0]=r[16]),this._size+=l-a}return this._sp=o,this}_int32(t,n){let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this,u=0;for(n=n|0;u<16;)Rp[u++]=Cc(t[n++]);for(u=16;u<64;u++)Rp[u]=S4t(Rp[u-2])+Rp[u-7]+k4t(Rp[u-15])+Rp[u-16]|0;for(u=0;u<64;u++){const h=d+x4t(a)+w4t(a,l,c)+p4t[u]+Rp[u]|0,m=_4t(r)+b4t(r,i,o)|0;d=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}this.A=r+this.A|0,this.B=i+this.B|0,this.C=o+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=l+this.F|0,this.G=c+this.G|0,this.H=d+this.H|0}digest(t){const{_byte:n,_word:r}=this;let i=this._size%64|0;for(n[i++]=128;i&3;)n[i++]=0;if(i>>=2,i>14){for(;i<16;)r[i++]=0;i=0,this._int32(r)}for(;i<16;)r[i++]=0;const o=this._size*8,s=(o&4294967295)>>>0,a=(o-s)/4294967296;return a&&(r[14]=Cc(a)),s&&(r[15]=Cc(s)),this._int32(r),t==="hex"?this._hex():this._bin()}_hex(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return eh(t)+eh(n)+eh(r)+eh(i)+eh(o)+eh(s)+eh(a)+eh(l)}_bin(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l,_byte:c,_word:d}=this;return d[0]=Cc(t),d[1]=Cc(n),d[2]=Cc(r),d[3]=Cc(i),d[4]=Cc(o),d[5]=Cc(s),d[6]=Cc(a),d[7]=Cc(l),c.slice(0,32)}};const Rp=new Int32Array(64);let c2,zw=0;const eh=e=>(e+4294967296).toString(16).substr(-8),y4t=(e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255),v4t=(e=>e),Cc=I4t()?v4t:y4t,w4t=(e,t,n)=>n^e&(t^n),b4t=(e,t,n)=>e&t|n&(e|t),_4t=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),x4t=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),k4t=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,S4t=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;function I4t(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}const E4t="X-Stamp-Webauthn",C4t=300*1e3,A4t="preferred";class V0e{constructor(t){this.rpId=t.rpId,this.timeout=t.timeout||C4t,this.userVerification=t.userVerification||A4t,this.allowCredentials=t.allowCredentials||[]}async stamp(t){const n=R4t(t),r={publicKey:{rpId:this.rpId,challenge:n,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},o=(await h4t(r)).toJSON(),s={authenticatorData:o.response.authenticatorData,clientDataJson:o.response.clientDataJSON,credentialId:o.id,signature:o.response.signature};return{stampHeaderName:E4t,stampHeaderValue:JSON.stringify(s)}}}function R4t(e){const t=m4t().update(e).digest("hex");return new TextEncoder().encode(t)}var T4t="4.57.1";class O4t extends Error{constructor(){super("Webauthn is not supported on this device")}}function K0e(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}function Vp(e){const t=new Uint8Array(e);let n="";for(const i of t)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function EB(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),i=atob(r),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return o}function H0e(){return N4t.stubThis((globalThis==null?void 0:globalThis.PublicKeyCredential)!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const N4t={stubThis:e=>e};function P4t(e){const{id:t}=e;return{...e,id:EB(t),transports:e.transports}}function B4t(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class Wl extends Error{constructor({message:t,code:n,cause:r,name:i}){super(t,{cause:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i??r.name,this.code=n}}function D4t({error:e,options:t}){var r,i,o;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wl({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new Wl({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new Wl({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=n.authenticatorSelection)==null?void 0:o.userVerification)==="required")return new Wl({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wl({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wl({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Wl({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wl({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=globalThis.location.hostname;if(B4t(s)){if(n.rp.id!==s)return new Wl({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wl({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Wl({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wl({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class M4t{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const j4t=new M4t,$4t=["cross-platform","platform"];function L4t(e){if(e&&!($4t.indexOf(e)<0))return e}async function U4t(e){var v;!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:n=!1}=e;if(!H0e())throw new Error("WebAuthn is not supported in this browser");const r={...t,challenge:EB(t.challenge),user:{...t.user,id:EB(t.user.id)},excludeCredentials:(v=t.excludeCredentials)==null?void 0:v.map(P4t)},i={};n&&(i.mediation="conditional"),i.publicKey=r,i.signal=j4t.createNewAbortSignal();let o;try{o=await navigator.credentials.create(i)}catch(g){throw D4t({error:g,options:i})}if(!o)throw new Error("Registration was not completed");const{id:s,rawId:a,response:l,type:c}=o;let d;typeof l.getTransports=="function"&&(d=l.getTransports());let u;if(typeof l.getPublicKeyAlgorithm=="function")try{u=l.getPublicKeyAlgorithm()}catch(g){gT("getPublicKeyAlgorithm()",g)}let h;if(typeof l.getPublicKey=="function")try{const g=l.getPublicKey();g!==null&&(h=Vp(g))}catch(g){gT("getPublicKey()",g)}let m;if(typeof l.getAuthenticatorData=="function")try{m=Vp(l.getAuthenticatorData())}catch(g){gT("getAuthenticatorData()",g)}return{id:s,rawId:Vp(a),response:{attestationObject:Vp(l.attestationObject),clientDataJSON:Vp(l.clientDataJSON),transports:d,publicKeyAlgorithm:u,publicKey:h,authenticatorData:m},type:c,clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:L4t(o.authenticatorAttachment)}}function gT(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}const F4t=new gi("Webauthn"),W4t=e=>K0e(void 0,void 0,void 0,function*(){if(!H0e())throw new O4t;let t;try{t=yield U4t({optionsJSON:e})}catch(n){throw F4t.debug("Failed to create webauthn credential",n),n}return t}),q4t=e=>{switch(e){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw new Error("unsupported transport format "+e)}},z4t=e=>K0e(void 0,void 0,void 0,function*(){if(!e.publicKey)throw new Error("Invalid options. Public key attribute must be defined");const t=yield W4t(K4t(e.publicKey));return V4t(t)}),V4t=e=>{var t;return{attestationObject:e.response.attestationObject,clientDataJson:e.response.clientDataJSON,credentialId:e.rawId,transports:((t=e.response.transports)===null||t===void 0?void 0:t.map(q4t))||[]}},K4t=e=>{var t;return Object.assign(Object.assign({},e),{challenge:yT(e.challenge),excludeCredentials:(t=e.excludeCredentials)===null||t===void 0?void 0:t.map(n=>Object.assign(Object.assign({},n),{id:yT(n.id)})),user:Object.assign(Object.assign({},e.user),{id:yT(e.user.id)})})},yT=e=>{if(e instanceof ArrayBuffer)return Vp(e);{const t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return Vp(t)}};Oo("@dynamic-labs/webauthn",T4t);const H4t=()=>({createWebauthnStamper:e=>new V0e(e),getWebAuthnAttestation:z4t});var xu,eS;class c0{static get implementation(){return sne(xu,xu,"f",eS)?sne(xu,xu,"f",eS):H4t()}static set implementation(t){NRt(xu,xu,t,"f",eS)}static get getWebAuthnAttestation(){return xu.implementation.getWebAuthnAttestation}static get createWebauthnStamper(){return xu.implementation.createWebauthnStamper}}xu=c0;eS={value:void 0};const G4t="https://recovery.turnkey.com",J4t="https://auth.turnkey.com",Z4t=900,Y4t=1800,X4t="CREDENTIAL_TYPE_API_KEY_P256",Q4t="CREDENTIAL_TYPE_RECOVER_USER_KEY_P256";class e8t extends z0e{constructor(){super(...arguments),this.isSessionActive=()=>!this.__createdAt||this.__recoveryType!=="email"?!1:this.isExpired(this.__createdAt,this.__sessionExpiration||Y4t)?(this.clear(),!1):!0,this.isValidCode=t=>po(this,void 0,void 0,function*(){var n,r,i,o;if(!t||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");const s=yield(n=this.__turnkeyClient)===null||n===void 0?void 0:n.getUser({organizationId:t,userId:this.__turnkeyRecoveryUserId}),a={email:X4t,passkey:Q4t},l=(o=(i=(r=s==null?void 0:s.user)===null||r===void 0?void 0:r.apiKeys)===null||i===void 0?void 0:i.filter(d=>d.credential.type===a[this.__recoveryType]))===null||o===void 0?void 0:o.pop();return!l||this.isExpired(parseInt(l.createdAt.seconds,10),Z4t)?!1:(this.__createdAt=parseInt(l.createdAt.seconds,10),!0)}),this.isExpired=(t,n)=>{const r=t+n,i=new Date(r*1e3);return new Date>=i}}get recoveryType(){return this.__recoveryType}get recoveryUserId(){return this.__turnkeyRecoveryUserId||""}set recoveryUserId(t){this.__turnkeyRecoveryUserId=t}clear(){super.clear(),this.__recoveryType=void 0,this.__turnkeyRecoveryUserId=void 0,this.__createdAt=void 0}initRecovery(t,n,r,i){return po(this,void 0,void 0,function*(){this.__recoveryType&&this.clear(),this.__sessionExpiration=i,this.__recoveryType=t;const o=t==="passkey"?G4t:J4t;return this.__iframeStamper=new g$({iframeContainer:n,iframeElementId:r,iframeUrl:o}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),this.__publicKey})}verifyRecoveryCode(t,n){return po(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new Se("Cannot proceed with your request");try{if(yield this.__iframeStamper.injectCredentialBundle(t),this.__turnkeyClient=new a0({baseUrl:l0},this.__iframeStamper),!n||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");if(!(yield this.isValidCode(n)))throw new Se("The code is invalid or expired.")}catch(r){throw Gi.error("Error while verifying recovery code",r),r instanceof Se?r:new Se("The code is invalid or expired.")}})}completeRecovery(t){return po(this,arguments,void 0,function*({attestation:n,challenge:r,turnkeySubOrganizationId:i}){if(!this.__turnkeyClient||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");try{return this.__turnkeyClient.recoverUser({organizationId:i,parameters:{authenticator:{attestation:n,authenticatorName:"Passkey",challenge:r},userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"})}catch(o){throw Gi.error("[TK] Error while completing recovery process",o),o}})}addPasskeyAuthenticator(t){return po(this,arguments,void 0,function*({attestation:n,challenge:r,turnkeySubOrganizationId:i}){if(!this.__turnkeyClient||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");try{return this.__turnkeyClient.createAuthenticators({organizationId:i,parameters:{authenticators:[{attestation:n,authenticatorName:"Passkey",challenge:r}],userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"})}catch(o){throw Gi.error("[TK] Error while creating new authenticator",o),o}})}addEmailRecovery(t){return po(this,arguments,void 0,function*({organizationId:n,email:r,turnkeyUserId:i}){let o=Jy();o||(o=Ln.getHostname());const s=c0.createWebauthnStamper({rpId:o}),a=new a0({baseUrl:l0},s);try{return{signedRequest:yield a.stampUpdateUser({organizationId:n,parameters:{userEmail:r,userId:i,userTagIds:[]},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"}),userId:i}}catch(l){throw Gi.error("Error while adding email recovery",l),l}})}}const CB=new e8t,t8t="https://export.turnkey.com";class tl extends z0e{initExport(t,n){return po(this,void 0,void 0,function*(){if(this.__iframeStamper=new g$({iframeContainer:t,iframeElementId:n,iframeUrl:t8t}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),CB.isSessionActive())this.__turnkeyClient=CB.client;else{let r=Jy();r||(r=Ln.getHostname());const i=c0.createWebauthnStamper({rpId:r}),o=tl==null?void 0:tl.apiKeyStamper,s=o??i;this.__turnkeyClient=new a0({baseUrl:l0},s)}return this.__publicKey})}verifyExportWallet(t){return po(this,arguments,void 0,function*({exportBundle:n,organizationId:r}){if(!this.__iframeStamper)throw new Se("Cannot proceed with your request");try{return yield this.__iframeStamper.injectWalletExportBundle(n,r)}catch(i){throw Gi.error("Error while verifying export wallet",i),i}})}verifyExportPrivateKey(t){return po(this,arguments,void 0,function*({exportBundle:n,organizationId:r,chain:i}){if(!this.__iframeStamper)throw new Se("Cannot proceed with your request");const o=i==="solana"||i==="SOL"?CI.Solana:CI.Hexadecimal;try{return yield this.__iframeStamper.injectKeyExportBundle(n,r,o)}catch(s){throw Gi.error("Error while verifying export private key",s),s}})}exportPrivateKey(t){return po(this,arguments,void 0,function*({privateKeyId:n,organizationId:r}){const i=tl==null?void 0:tl.apiKeyStamper;if(i&&(this.__turnkeyClient=new a0({baseUrl:l0},i)),!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!n)throw new Se("Cannot proceed with your request");try{return(yield this.__turnkeyClient.exportPrivateKey({organizationId:r,parameters:{privateKeyId:n,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"})).activity}catch(o){throw Gi.error("[TK] Error while completing export private key process",o),o}})}exportWallet(t){return po(this,arguments,void 0,function*({walletId:n,organizationId:r,address:i}){const o=tl==null?void 0:tl.apiKeyStamper;if(o&&(this.__turnkeyClient=new a0({baseUrl:l0},o)),!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!n)throw new Se("Cannot proceed with your request");try{return i?(yield this.__turnkeyClient.exportWalletAccount({organizationId:r,parameters:{address:i,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"})).activity:(yield this.__turnkeyClient.exportWallet({organizationId:r,parameters:{targetPublicKey:this.__publicKey,walletId:n},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"})).activity}catch(s){throw Gi.error("[TK] Error while completing export wallet process",s),s}})}}const n8t=e=>Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),cne=()=>{const e=new Uint8Array(32);return crypto.getRandomValues(e),e.buffer};class Ui extends s3{constructor(t,n){if(super(n),this.requiresNonDynamicEmailOtp=!1,this.isEmbeddedWallet=!0,this.removeSessionKeys=()=>po(this,void 0,void 0,function*(){Ui.sessionKeys=void 0,Ui.apiKeyStamper=void 0,tl.apiKeyStamper=void 0}),this.stampCreateWalletAccountRequest=r=>po(this,[r],void 0,function*({request:i}){return yield this.createOrRestoreSession(),(yield this.getTurnkeyClient()).stampCreateWalletAccounts(i)}),this.stampDeleteSubOrganizationRequest=r=>po(this,[r],void 0,function*({request:i}){return yield this.createOrRestoreSession(),(yield this.getTurnkeyClient()).stampDeleteSubOrganization(i)}),!n.appName)throw new Error("appName not set");this.name=t.name,this.overrideKey=t.key,this.appName=n.appName,this.__authenticatorMethodHandler=CB}getWebAuthnAttestation(){return po(this,void 0,void 0,function*(){const t=cne(),n=cne(),{email:r,passkeyIdentifier:i}=this;if(!r&&!i)throw new Error("Email or passkeyIdentifier must be set to register a webauthn credential.");const o=r||`${this.appName} - ${i}`,s={publicKey:{authenticatorSelection:{authenticatorAttachment:void 0,requireResidentKey:!1,residentKey:"preferred",userVerification:"discouraged"},challenge:t,pubKeyCredParams:[{alg:-7,type:"public-key"}],rp:{id:Jy(),name:this.appName},user:{displayName:o,id:n,name:r||`${this.appName} - ${i}`}}};let a;try{a=yield c0.getWebAuthnAttestation(s)}catch(l){Gi.warn(`Unable to register webauthn credential on the current page's TLD ${Jy()}. Falling back to using hostname. ${Ln.getHostname()}`,l),s.publicKey.rp.id=Ln.getHostname(),a=yield c0.getWebAuthnAttestation(s)}return{attestation:{attestationObject:a.attestationObject,clientDataJson:a.clientDataJson,credentialId:a.credentialId,transports:s4t(a.transports)},challenge:n8t(t),displayName:o}})}getAuthenticatorHandler(){return this.__authenticatorMethodHandler}getExportHandler(){return Ui.__exportHandler||(Ui.__exportHandler=new tl),Ui.__exportHandler}get email(){return this._email}setEmail(t){this._email=t}get phone(){return this._phone}setPhone(t){this._phone=t}get passkeyIdentifier(){return this._passkeyIdentifier}setPasskeyIdentifier(t){this._passkeyIdentifier=t}clearEmail(){this._email=null}getAddress(){return po(this,void 0,void 0,function*(){var t;return(t=this.verifiedCredential)===null||t===void 0?void 0:t.address})}getConnectedAccounts(){return po(this,void 0,void 0,function*(){return(this.verifiedCredentials||[]).map(r=>r==null?void 0:r.address).filter(r=>typeof r=="string")})}get turnkeyAddress(){var t;const{address:n}=(t=this.verifiedCredential)!==null&&t!==void 0?t:{};return n}get walletProperties(){const{walletProperties:t}=this.verifiedCredential||{};return t}set verifiedCredentials(t){this._verifiedCredentials=t}get verifiedCredentials(){return this._verifiedCredentials}set verifiedCredential(t){this._verifiedCredential=t}get verifiedCredential(){return this._verifiedCredential}setSessionKeyFetcher(t){this.createOrRestoreSessionFetcherFunction=t}setSessionKeyRemoveFunction(t){this.removeSessionKeysFunction=t}createOrRestoreSession(){return po(this,arguments,void 0,function*({ignoreRestore:t}={}){var n,r,i;if(!this.isSessionKeyCompatible()||Ui.isLoadingSession)return;if(!this.createOrRestoreSessionFetcherFunction)throw new Se("Cannot register session key to init provider");const{sessionKeys:o}=Ui;if(o!=null&&o.publicKey&&!(new Date>=new Date(o.expirationDate)))return o.publicKey;try{if(Ui.isLoadingSession=!0,this.isLoadingSessionDeferredPromise=new Um,!(!((n=this.verifiedCredential)===null||n===void 0)&&n.id))throw new Se("No wallet ID found");const s=yield this.createOrRestoreSessionFetcherFunction({ignoreRestore:t,walletId:(r=this.verifiedCredential)===null||r===void 0?void 0:r.id});return Ui.sessionKeys=s,Ui.apiKeyStamper=new WRt({apiPrivateKey:s.privateKey,apiPublicKey:s.publicKey}),tl.apiKeyStamper=Ui.apiKeyStamper,Gi.metaData.set("sessionApiPublicKey",s.publicKey),s.publicKey}catch(s){throw Gi.error(s),new Se("Failed to create or restore session")}finally{Ui.isLoadingSession=!1,(i=this.isLoadingSessionDeferredPromise)===null||i===void 0||i.resolve()}})}isSessionKeyCompatible(){var t;const n=(t=this.verifiedCredential)===null||t===void 0?void 0:t.walletProperties;return!!(n==null?void 0:n.isSessionKeyCompatible)}isSessionActive(){return po(this,void 0,void 0,function*(){return!!((yield this.getAddress())&&Ui.sessionKeys&&Ui.apiKeyStamper)})}get sessionKeys(){return Ui.sessionKeys}getTurnkeyClient(){return po(this,void 0,void 0,function*(){var t,n;Ui.isLoadingSession&&(yield(t=this.isLoadingSessionDeferredPromise)===null||t===void 0?void 0:t.promise);let r=Jy();r||(r=Ln.getHostname());const i=c0.createWebauthnStamper({rpId:r}),o=Ui==null?void 0:Ui.apiKeyStamper,s=o??i;return this.__turnkeyClient=(n=this.getAuthenticatorHandler().client)!==null&&n!==void 0?n:new a0({baseUrl:l0},s),this.__turnkeyClient})}setLoggerMetadata(){var t,n,r;Gi.metaData.set("turnkeySubOrganizationId",(n=(t=this._verifiedCredential)===null||t===void 0?void 0:t.walletProperties)===null||n===void 0?void 0:n.turnkeySubOrganizationId),Gi.metaData.set("walletId",(r=this._verifiedCredential)===null||r===void 0?void 0:r.id);let i="Unknown";this.isSessionKeyCompatible()?i="SessionKeys":this.__authenticatorMethodHandler.recoveryType==="passkey"?i="Passkey":this.__authenticatorMethodHandler.recoveryType==="email"&&(i="EmailAuth"),Gi.metaData.set("authMethod",i)}}Ui.isLoadingSession=!1;const r8t=(e,t)=>e==null?void 0:e.filter(({walletName:n,chain:r})=>(n==null?void 0:n.startsWith("turnkey"))&&t===r),i8t={TurnkeyHD:{key:"turnkeyhd",name:"Turnkey HD"}};Oo("@dynamic-labs/embedded-wallet",ORt);function o8t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fr(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function dne(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function s8t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function WE(e,...t){if(!s8t(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a8t(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dne(e.outputLen),dne(e.blockLen)}function AI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l8t(e,t){WE(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const py=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vT(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function md(e,t){return e<<32-t|e>>>t}Uint8Array.from([]).toHex;function c8t(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function y$(e){return typeof e=="string"&&(e=c8t(e)),WE(e),e}function d8t(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];WE(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}class G0e{clone(){return this._cloneInto()}}function J0e(e){const t=r=>e().update(y$(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Z0e(e=32){if(py&&typeof py.getRandomValues=="function")return py.getRandomValues(new Uint8Array(e));if(py&&typeof py.randomBytes=="function")return Uint8Array.from(py.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function u8t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function f8t(e,t,n){return e&t^~e&n}function h8t(e,t,n){return e&t^e&n^t&n}class Y0e extends G0e{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=vT(this.buffer)}update(t){AI(this);const{view:n,buffer:r,blockLen:i}=this;t=y$(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=vT(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){AI(this),l8t(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;u8t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=vT(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const p8t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),th=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nh=new Uint32Array(64);class m8t extends Y0e{constructor(t=32){super(64,t,8,!1),this.A=th[0]|0,this.B=th[1]|0,this.C=th[2]|0,this.D=th[3]|0,this.E=th[4]|0,this.F=th[5]|0,this.G=th[6]|0,this.H=th[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)nh[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=nh[u-15],m=nh[u-2],v=md(h,7)^md(h,18)^h>>>3,g=md(m,17)^md(m,19)^m>>>10;nh[u]=g+nh[u-7]+v+nh[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=md(a,6)^md(a,11)^md(a,25),m=d+h+f8t(a,l,c)+p8t[u]+nh[u]|0,g=(md(r,2)^md(r,13)^md(r,22))+h8t(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+g|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){nh.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const AB=J0e(()=>new m8t),d2=BigInt(2**32-1),RB=BigInt(32);function X0e(e,t=!1){return t?{h:Number(e&d2),l:Number(e>>RB&d2)}:{h:Number(e>>RB&d2)|0,l:Number(e&d2)|0}}function g8t(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=X0e(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const y8t=(e,t)=>BigInt(e>>>0)<<RB|BigInt(t>>>0),v8t=(e,t,n)=>e>>>n,w8t=(e,t,n)=>e<<32-n|t>>>n,b8t=(e,t,n)=>e>>>n|t<<32-n,_8t=(e,t,n)=>e<<32-n|t>>>n,x8t=(e,t,n)=>e<<64-n|t>>>n-32,k8t=(e,t,n)=>e>>>n-32|t<<64-n,S8t=(e,t)=>t,I8t=(e,t)=>e,E8t=(e,t,n)=>e<<n|t>>>32-n,C8t=(e,t,n)=>t<<n|e>>>32-n,A8t=(e,t,n)=>t<<n-32|e>>>64-n,R8t=(e,t,n)=>e<<n-32|t>>>64-n;function T8t(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const O8t=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),N8t=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,P8t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),B8t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,D8t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),M8t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,zn={fromBig:X0e,split:g8t,toBig:y8t,shrSH:v8t,shrSL:w8t,rotrSH:b8t,rotrSL:_8t,rotrBH:x8t,rotrBL:k8t,rotr32H:S8t,rotr32L:I8t,rotlSH:E8t,rotlSL:C8t,rotlBH:A8t,rotlBL:R8t,add:T8t,add3L:O8t,add3H:N8t,add4L:P8t,add4H:B8t,add5H:M8t,add5L:D8t},[j8t,$8t]=zn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),rh=new Uint32Array(80),ih=new Uint32Array(80);class L8t extends Y0e{constructor(t=64){super(128,t,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let _=0;_<16;_++,n+=4)rh[_]=t.getUint32(n),ih[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=rh[_-15]|0,I=ih[_-15]|0,T=zn.rotrSH(R,I,1)^zn.rotrSH(R,I,8)^zn.shrSH(R,I,7),M=zn.rotrSL(R,I,1)^zn.rotrSL(R,I,8)^zn.shrSL(R,I,7),D=rh[_-2]|0,A=ih[_-2]|0,U=zn.rotrSH(D,A,19)^zn.rotrBH(D,A,61)^zn.shrSH(D,A,6),$=zn.rotrSL(D,A,19)^zn.rotrBL(D,A,61)^zn.shrSL(D,A,6),q=zn.add4L(M,$,ih[_-7],ih[_-16]),z=zn.add4H(q,T,U,rh[_-7],rh[_-16]);rh[_]=z|0,ih[_]=q|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=zn.rotrSH(u,h,14)^zn.rotrSH(u,h,18)^zn.rotrBH(u,h,41),I=zn.rotrSL(u,h,14)^zn.rotrSL(u,h,18)^zn.rotrBL(u,h,41),T=u&m^~u&g,M=h&v^~h&y,D=zn.add5L(k,I,M,$8t[_],ih[_]),A=zn.add5H(D,b,R,T,j8t[_],rh[_]),U=D|0,$=zn.rotrSH(r,i,28)^zn.rotrBH(r,i,34)^zn.rotrBH(r,i,39),q=zn.rotrSL(r,i,28)^zn.rotrBL(r,i,34)^zn.rotrBL(r,i,39),z=r&o^r&a^o&a,S=i&s^i&l^s&l;b=g|0,k=y|0,g=m|0,y=v|0,m=u|0,v=h|0,{h:u,l:h}=zn.add(c|0,d|0,A|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=zn.add3L(U,q,S);r=zn.add3H(E,A,$,z),i=E|0}({h:r,l:i}=zn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=zn.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=zn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=zn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=zn.add(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=zn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=zn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:b,l:k}=zn.add(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,g,y,b,k)}roundClean(){rh.fill(0),ih.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const U8t=J0e(()=>new L8t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v$=BigInt(0),TB=BigInt(1);function q0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function w$(e){if(!q0(e))throw new Error("Uint8Array expected")}function Rh(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function u2(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Q0e(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?v$:BigInt("0x"+e)}const eve=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",F8t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function z0(e){if(w$(e),eve)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=F8t[e[n]];return t}const vu={_0:48,_9:57,A:65,F:70,a:97,f:102};function une(e){if(e>=vu._0&&e<=vu._9)return e-vu._0;if(e>=vu.A&&e<=vu.F)return e-(vu.A-10);if(e>=vu.a&&e<=vu.f)return e-(vu.a-10)}function RI(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(eve)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=une(e.charCodeAt(o)),a=une(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function mm(e){return Q0e(z0(e))}function Mb(e){return w$(e),Q0e(z0(Uint8Array.from(e).reverse()))}function j1(e,t){return RI(e.toString(16).padStart(t*2,"0"))}function TI(e,t){return j1(e,t).reverse()}function mo(e,t,n){let r;if(typeof t=="string")try{r=RI(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(q0(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function V0(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];w$(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}const wT=e=>typeof e=="bigint"&&v$<=e;function b$(e,t,n){return wT(e)&&wT(t)&&wT(n)&&t<=e&&e<n}function Bc(e,t,n,r){if(!b$(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function W8t(e){let t;for(t=0;e>v$;e>>=TB,t+=1);return t}const qE=e=>(TB<<BigInt(e))-TB,bT=e=>new Uint8Array(e),fne=e=>Uint8Array.from(e);function q8t(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=bT(e),i=bT(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),l=(u=bT(0))=>{i=a(fne([0]),u),r=a(),u.length!==0&&(i=a(fne([1]),u),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<t;){r=a();const m=r.slice();h.push(m),u+=r.length}return V0(...h)};return(u,h)=>{s(),l(u);let m;for(;!(m=h(c()));)l();return s(),m}}const z8t={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||q0(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Y_(e,t,n={}){const r=(i,o,s)=>{const a=z8t[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+l)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function OI(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Go=BigInt(0),Ti=BigInt(1),Kp=BigInt(2),V8t=BigInt(3),OB=BigInt(4),hne=BigInt(5),pne=BigInt(8);function ki(e,t){const n=e%t;return n>=Go?n:t+n}function K8t(e,t,n){if(t<Go)throw new Error("invalid exponent, negatives unsupported");if(n<=Go)throw new Error("invalid modulus");if(n===Ti)return Go;let r=Ti;for(;t>Go;)t&Ti&&(r=r*e%n),e=e*e%n,t>>=Ti;return r}function Vi(e,t,n){let r=e;for(;t-- >Go;)r*=r,r%=n;return r}function NB(e,t){if(e===Go)throw new Error("invert: expected non-zero number");if(t<=Go)throw new Error("invert: expected positive modulus, got "+t);let n=ki(e,t),r=t,i=Go,o=Ti;for(;n!==Go;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Ti)throw new Error("invert: does not exist");return ki(i,t)}function H8t(e){const t=(e-Ti)/Kp;let n,r,i;for(n=e-Ti,r=0;n%Kp===Go;n/=Kp,r++);for(i=Kp;i<e&&K8t(i,t,e)!==e-Ti;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+Ti)/OB;return function(l,c){const d=l.pow(c,s);if(!l.eql(l.sqr(d),c))throw new Error("Cannot find square root");return d}}const o=(n+Ti)/Kp;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),u=a.pow(l,o),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(h);m<c&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const v=a.pow(d,Ti<<BigInt(c-m-1));d=a.sqr(v),u=a.mul(u,v),h=a.mul(h,d),c=m}return u}}function G8t(e){if(e%OB===V8t){const t=(e+Ti)/OB;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%pne===hne){const t=(e-hne)/pne;return function(r,i){const o=r.mul(i,Kp),s=r.pow(o,t),a=r.mul(i,s),l=r.mul(r.mul(a,Kp),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return H8t(e)}const J8t=(e,t)=>(ki(e,t)&Ti)===Ti,Z8t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Y8t(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Z8t.reduce((r,i)=>(r[i]="function",r),t);return Y_(e,n)}function X8t(e,t,n){if(n<Go)throw new Error("invalid exponent, negatives unsupported");if(n===Go)return e.ONE;if(n===Ti)return t;let r=e.ONE,i=t;for(;n>Go;)n&Ti&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ti;return r}function Q8t(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function tve(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zE(e,t,n=!1,r={}){if(e<=Go)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=tve(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:qE(i),ZERO:Go,ONE:Ti,create:l=>ki(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Go<=l&&l<e},is0:l=>l===Go,isOdd:l=>(l&Ti)===Ti,neg:l=>ki(-l,e),eql:(l,c)=>l===c,sqr:l=>ki(l*l,e),add:(l,c)=>ki(l+c,e),sub:(l,c)=>ki(l-c,e),mul:(l,c)=>ki(l*c,e),pow:(l,c)=>X8t(a,l,c),div:(l,c)=>ki(l*NB(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>NB(l,e),sqrt:r.sqrt||(l=>(s||(s=G8t(e)),s(a,l))),invertBatch:l=>Q8t(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?TI(l,o):j1(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?Mb(l):mm(l)}});return Object.freeze(a)}function nve(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function rve(e){const t=nve(e);return t+Math.ceil(t/2)}function eTt(e,t,n=!1){const r=e.length,i=nve(t),o=rve(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Mb(e):mm(e),a=ki(s,t-Ti)+Ti;return n?TI(a,i):j1(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mne=BigInt(0),PB=BigInt(1);function _T(e,t){const n=t.negate();return e?n:t}function ive(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function xT(e,t){ive(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=qE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function gne(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=PB);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function tTt(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function nTt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const kT=new WeakMap,ove=new WeakMap;function ST(e){return ove.get(e)||1}function sve(e,t){return{constTimeNegate:_T,hasPrecomputes(n){return ST(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>mne;)r&PB&&(i=i.add(o)),o=o.double(),r>>=PB;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=xT(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=xT(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=gne(i,l,a);i=c,u?s=s.add(_T(m,r[v])):o=o.add(_T(h,r[d]))}return{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=xT(n,t);for(let a=0;a<s.windows&&i!==mne;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=gne(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return o},getPrecomputes(n,r,i){let o=kT.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&kT.set(r,i(o))),o},wNAFCached(n,r,i){const o=ST(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=ST(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){ive(r,t),ove.set(n,r),kT.delete(n)}}}function ave(e,t,n,r){if(tTt(n,e),nTt(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=W8t(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=qE(s),l=new Array(Number(a)+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let d=i;for(let u=c;u>=0;u-=s){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],g=Number(v>>BigInt(u)&a);l[g]=l[g].add(n[m])}let h=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),h=h.add(v);if(d=d.add(h),u!==0)for(let m=0;m<s;m++)d=d.double()}return d}function _$(e){return Y8t(e.Fp),Y_(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tve(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gd=BigInt(0),ta=BigInt(1),yne=BigInt(2),rTt=BigInt(8),iTt={zip215:!0};function oTt(e){const t=_$(e);return Y_(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function sTt(e){const t=oTt(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=yne<<BigInt(a*8)-ta,d=n.create,u=zE(t.n,t.nBitLength),h=t.uvRatio||((P,j)=>{try{return{isValid:!0,value:n.sqrt(P*n.inv(j))}}catch{return{isValid:!1,value:gd}}}),m=t.adjustScalarBytes||(P=>P),v=t.domain||((P,j,V)=>{if(Rh("phflag",V),j.length||V)throw new Error("Contexts/pre-hash are not supported");return P});function g(P,j,V=!1){const K=V?ta:gd;Bc("coordinate "+P,j,K,c)}function y(P){if(!(P instanceof _))throw new Error("ExtendedPoint expected")}const b=OI((P,j)=>{const{ex:V,ey:K,ez:F}=P,O=P.is0();j==null&&(j=O?rTt:n.inv(F));const W=d(V*j),G=d(K*j),Y=d(F*j);if(O)return{x:gd,y:ta};if(Y!==ta)throw new Error("invZ was invalid");return{x:W,y:G}}),k=OI(P=>{const{a:j,d:V}=t;if(P.is0())throw new Error("bad point: ZERO");const{ex:K,ey:F,ez:O,et:W}=P,G=d(K*K),Y=d(F*F),ie=d(O*O),ye=d(ie*ie),me=d(G*j),be=d(ie*d(me+Y)),Me=d(ye+d(V*d(G*Y)));if(be!==Me)throw new Error("bad point: equation left != right (1)");const Fe=d(K*F),De=d(O*W);if(Fe!==De)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(j,V,K,F){g("x",j),g("y",V),g("z",K,!0),g("t",F),this.ex=j,this.ey=V,this.ez=K,this.et=F,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof _)throw new Error("extended point not allowed");const{x:V,y:K}=j||{};return g("x",V),g("y",K),new _(V,K,ta,d(V*K))}static normalizeZ(j){const V=n.invertBatch(j.map(K=>K.ez));return j.map((K,F)=>K.toAffine(V[F])).map(_.fromAffine)}static msm(j,V){return ave(_,u,j,V)}_setWindowSize(j){T.setWindowSize(this,j)}assertValidity(){k(this)}equals(j){y(j);const{ex:V,ey:K,ez:F}=this,{ex:O,ey:W,ez:G}=j,Y=d(V*G),ie=d(O*F),ye=d(K*G),me=d(W*F);return Y===ie&&ye===me}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:j}=t,{ex:V,ey:K,ez:F}=this,O=d(V*V),W=d(K*K),G=d(yne*d(F*F)),Y=d(j*O),ie=V+K,ye=d(d(ie*ie)-O-W),me=Y+W,be=me-G,Me=Y-W,Fe=d(ye*be),De=d(me*Me),gt=d(ye*Me),tt=d(be*me);return new _(Fe,De,tt,gt)}add(j){y(j);const{a:V,d:K}=t,{ex:F,ey:O,ez:W,et:G}=this,{ex:Y,ey:ie,ez:ye,et:me}=j,be=d(F*Y),Me=d(O*ie),Fe=d(G*K*me),De=d(W*ye),gt=d((F+O)*(Y+ie)-be-Me),tt=De-Fe,dt=De+Fe,Qt=d(Me-V*be),lt=d(gt*tt),jt=d(dt*Qt),rn=d(gt*Qt),Re=d(tt*dt);return new _(lt,jt,Re,rn)}subtract(j){return this.add(j.negate())}wNAF(j){return T.wNAFCached(this,j,_.normalizeZ)}multiply(j){const V=j;Bc("scalar",V,ta,r);const{p:K,f:F}=this.wNAF(V);return _.normalizeZ([K,F])[0]}multiplyUnsafe(j,V=_.ZERO){const K=j;return Bc("scalar",K,gd,r),K===gd?I:this.is0()||K===ta?this:T.wNAFCachedUnsafe(this,K,_.normalizeZ,V)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(j){return b(this,j)}clearCofactor(){const{h:j}=t;return j===ta?this:this.multiplyUnsafe(j)}static fromHex(j,V=!1){const{d:K,a:F}=t,O=n.BYTES;j=mo("pointHex",j,O),Rh("zip215",V);const W=j.slice(),G=j[O-1];W[O-1]=G&-129;const Y=Mb(W),ie=V?c:n.ORDER;Bc("pointHex.y",Y,gd,ie);const ye=d(Y*Y),me=d(ye-ta),be=d(K*ye-F);let{isValid:Me,value:Fe}=h(me,be);if(!Me)throw new Error("Point.fromHex: invalid y coordinate");const De=(Fe&ta)===ta,gt=(G&128)!==0;if(!V&&Fe===gd&&gt)throw new Error("Point.fromHex: x=0 and x_0=1");return gt!==De&&(Fe=d(-Fe)),_.fromAffine({x:Fe,y:Y})}static fromPrivateKey(j){const{scalar:V}=A(j);return R.multiply(V)}toRawBytes(){const{x:j,y:V}=this.toAffine(),K=TI(V,n.BYTES);return K[K.length-1]|=j&ta?128:0,K}toHex(){return z0(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,ta,d(t.Gx*t.Gy)),_.ZERO=new _(gd,ta,ta,gd);const{BASE:R,ZERO:I}=_,T=sve(_,a*8);function M(P){return ki(P,r)}function D(P){return M(Mb(P))}function A(P){const j=n.BYTES;P=mo("private key",P,j);const V=mo("hashed private key",o(P),2*j),K=m(V.slice(0,j)),F=V.slice(j,2*j),O=D(K);return{head:K,prefix:F,scalar:O}}function U(P){const{head:j,prefix:V,scalar:K}=A(P),F=R.multiply(K),O=F.toRawBytes();return{head:j,prefix:V,scalar:K,point:F,pointBytes:O}}function $(P){return U(P).pointBytes}function q(P=new Uint8Array,...j){const V=V0(...j);return D(o(v(V,mo("context",P),!!i)))}function z(P,j,V={}){P=mo("message",P),i&&(P=i(P));const{prefix:K,scalar:F,pointBytes:O}=U(j),W=q(V.context,K,P),G=R.multiply(W).toRawBytes(),Y=q(V.context,G,O,P),ie=M(W+Y*F);Bc("signature.s",ie,gd,r);const ye=V0(G,TI(ie,n.BYTES));return mo("result",ye,n.BYTES*2)}const S=iTt;function E(P,j,V,K=S){const{context:F,zip215:O}=K,W=n.BYTES;P=mo("signature",P,2*W),j=mo("message",j),V=mo("publicKey",V,W),O!==void 0&&Rh("zip215",O),i&&(j=i(j));const G=Mb(P.slice(W,2*W));let Y,ie,ye;try{Y=_.fromHex(V,O),ie=_.fromHex(P.slice(0,W),O),ye=R.multiplyUnsafe(G)}catch{return!1}if(!O&&Y.isSmallOrder())return!1;const me=q(F,ie.toRawBytes(),Y.toRawBytes(),j);return ie.add(Y.multiplyUnsafe(me)).subtract(ye).clearCofactor().equals(_.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:$,sign:z,verify:E,ExtendedPoint:_,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>s(n.BYTES),precompute(P=8,j=_.BASE){return j._setWindowSize(P),j.multiply(BigInt(3)),j}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x$=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),vne=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const aTt=BigInt(1),wne=BigInt(2);BigInt(3);const lTt=BigInt(5),cTt=BigInt(8);function dTt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=x$,a=e*e%o*e%o,l=Vi(a,wne,o)*a%o,c=Vi(l,aTt,o)*e%o,d=Vi(c,lTt,o)*c%o,u=Vi(d,t,o)*d%o,h=Vi(u,n,o)*u%o,m=Vi(h,r,o)*h%o,v=Vi(m,i,o)*m%o,g=Vi(v,i,o)*m%o,y=Vi(g,t,o)*d%o;return{pow_p_5_8:Vi(y,wne,o)*e%o,b2:a}}function uTt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function fTt(e,t){const n=x$,r=ki(t*t*t,n),i=ki(r*r*t,n),o=dTt(e*i).pow_p_5_8;let s=ki(e*r*o,n);const a=ki(t*s*s,n),l=s,c=ki(s*vne,n),d=a===e,u=a===ki(-e,n),h=a===ki(-e*vne,n);return d&&(s=l),(u||h)&&(s=c),J8t(s,n)&&(s=ki(-s,n)),{isValid:d||u,value:s}}const bne=zE(x$,void 0,!0),hTt={a:bne.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bne,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:cTt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:U8t,randomBytes:Z0e,adjustScalarBytes:uTt,uvRatio:fTt},k$=sTt(hTt);var IT,_ne;function pTt(){if(_ne)return IT;_ne=1;var e=yv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,b=0,k=0,_=g.length;k!==_&&g[k]===0;)k++,y++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=g[k],M=0,D=R-1;(T!==0||M<b)&&D!==-1;D--,M++)T+=256*I[D]>>>0,I[D]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=M,k++}for(var A=R-b;A!==R&&I[A]===0;)A++;for(var U=c.repeat(y);A<R;++A)U+=n.charAt(I[A]);return U}function m(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return e.alloc(0);for(var y=0,b=0,k=0;g[y]===c;)b++,y++;for(var _=(g.length-y)*d+1>>>0,R=new Uint8Array(_);y<g.length;){var I=g.charCodeAt(y);if(I>255)return;var T=r[I];if(T===255)return;for(var M=0,D=_-1;(T!==0||M<k)&&D!==-1;D--,M++)T+=l*R[D]>>>0,R[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=M,y++}for(var A=_-k;A!==_&&R[A]===0;)A++;var U=e.allocUnsafe(b+(_-A));U.fill(0,0,b);for(var $=b;A!==_;)U[$++]=R[A++];return U}function v(g){var y=m(g);if(y)return y;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return IT=t,IT}var ET,xne;function mTt(){if(xne)return ET;xne=1;var e=pTt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return ET=e(t),ET}var gTt=mTt();const vs=Rr(gTt);var yTt=8078e3,vTt=8078001,wTt=8078004,bTt=8078005,_Tt=8078006,xTt=8078011;function lve(e){return Array.isArray(e)?"%5B"+e.map(lve).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function kTt([e,t]){return`${e}=${lve(t)}`}function STt(e){const t=Object.entries(e).map(kTt).join("&");return btoa(t)}function ITt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${STt(t)}'`),`${n}\``}}var d0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=ITt(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function ETt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function CTt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(ETt(t,e));return e.write(t,n,0),n}})}function ATt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function my(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function RTt(e,t){if(my(e)!==my(t))throw new d0(wTt);if(my(e)&&my(t)&&e.fixedSize!==t.fixedSize)throw new d0(bTt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!my(e)&&!my(t)&&e.maxSize!==t.maxSize)throw new d0(_Tt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function TTt(e,t,n=0){if(t.length-n<=0)throw new d0(yTt,{codecDescription:e})}function OTt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new d0(vTt,{bytesLength:i,codecDescription:e,expected:t})}function NTt(e,t,n,r){if(r<t||r>n)throw new d0(xTt,{codecDescription:e,max:n,min:t,value:r})}function cve(e){return(e==null?void 0:e.endian)!==1}function PTt(e){return CTt({fixedSize:e.size,write(t,n,r){e.range&&NTt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,cve(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function BTt(e){return ATt({fixedSize:e.size,read(t,n=0){TTt(e.name,t,n),OTt(e.name,e.size,t,n);const r=new DataView(DTt(t,n,e.size));return[e.get(r,cve(e.config)),n+e.size]}})}function DTt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var MTt=(e={})=>PTt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),jTt=(e={})=>BTt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),$Tt=(e={})=>RTt(MTt(e),jTt(e));class dve extends G0e{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,a8t(t);const r=y$(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return AI(this),this.iHash.update(t),this}digestInto(t){AI(this),WE(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uve=(e,t,n)=>new dve(e,t).update(n).digest();uve.create=(e,t)=>new dve(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kne(e){e.lowS!==void 0&&Rh("lowS",e.lowS),e.prehash!==void 0&&Rh("prehash",e.prehash)}function LTt(e){const t=_$(e);Y_(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}class UTt extends Error{constructor(t=""){super(t)}}const Au={Err:UTt,_tlv:{encode:(e,t)=>{const{Err:n}=Au;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=u2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?u2(i.length/2|128):"";return u2(e)+o+i+t},decode(e,t){const{Err:n}=Au;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Au;if(e<ju)throw new t("integer: negative integers are not allowed");let n=u2(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Au;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return mm(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Au,i=mo("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Au,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},ju=BigInt(0),qo=BigInt(1);BigInt(2);const Sne=BigInt(3);BigInt(4);function FTt(e){const t=LTt(e),{Fp:n}=t,r=zE(t.n,t.nBitLength),i=t.toBytes||((g,y,b)=>{const k=y.toAffine();return V0(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),o=t.fromBytes||(g=>{const y=g.subarray(1),b=n.fromBytes(y.subarray(0,n.BYTES)),k=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:b,y:k}});function s(g){const{a:y,b}=t,k=n.sqr(g),_=n.mul(k,g);return n.add(n.add(_,n.mul(g,y)),b)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return b$(g,qo,t.n)}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:k,n:_}=t;if(y&&typeof g!="bigint"){if(q0(g)&&(g=z0(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(b*2,"0")}let R;try{R=typeof g=="bigint"?g:mm(mo("private key",g,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof g)}return k&&(R=ki(R,_)),Bc("private key",R,qo,_),R}function c(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const d=OI((g,y)=>{const{px:b,py:k,pz:_}=g;if(n.eql(_,n.ONE))return{x:b,y:k};const R=g.is0();y==null&&(y=R?n.ONE:n.inv(_));const I=n.mul(b,y),T=n.mul(k,y),M=n.mul(_,y);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:I,y:T}}),u=OI(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:b}=g.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");const k=n.sqr(b),_=s(y);if(!n.eql(k,_))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,b,k){if(y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required");this.px=y,this.py=b,this.pz=k,Object.freeze(this)}static fromAffine(y){const{x:b,y:k}=y||{};if(!y||!n.isValid(b)||!n.isValid(k))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const _=R=>n.eql(R,n.ZERO);return _(b)&&_(k)?h.ZERO:new h(b,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=n.invertBatch(y.map(k=>k.pz));return y.map((k,_)=>k.toAffine(b[_])).map(h.fromAffine)}static fromHex(y){const b=h.fromAffine(o(mo("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return h.BASE.multiply(l(y))}static msm(y,b){return ave(h,r,y,b)}_setWindowSize(y){v.setWindowSize(this,y)}assertValidity(){u(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=y,M=n.eql(n.mul(b,T),n.mul(R,_)),D=n.eql(n.mul(k,T),n.mul(I,_));return M&&D}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=t,k=n.mul(b,Sne),{px:_,py:R,pz:I}=this;let T=n.ZERO,M=n.ZERO,D=n.ZERO,A=n.mul(_,_),U=n.mul(R,R),$=n.mul(I,I),q=n.mul(_,R);return q=n.add(q,q),D=n.mul(_,I),D=n.add(D,D),T=n.mul(y,D),M=n.mul(k,$),M=n.add(T,M),T=n.sub(U,M),M=n.add(U,M),M=n.mul(T,M),T=n.mul(q,T),D=n.mul(k,D),$=n.mul(y,$),q=n.sub(A,$),q=n.mul(y,q),q=n.add(q,D),D=n.add(A,A),A=n.add(D,A),A=n.add(A,$),A=n.mul(A,q),M=n.add(M,A),$=n.mul(R,I),$=n.add($,$),A=n.mul($,q),T=n.sub(T,A),D=n.mul($,U),D=n.add(D,D),D=n.add(D,D),new h(T,M,D)}add(y){c(y);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=y;let M=n.ZERO,D=n.ZERO,A=n.ZERO;const U=t.a,$=n.mul(t.b,Sne);let q=n.mul(b,R),z=n.mul(k,I),S=n.mul(_,T),E=n.add(b,k),N=n.add(R,I);E=n.mul(E,N),N=n.add(q,z),E=n.sub(E,N),N=n.add(b,_);let P=n.add(R,T);return N=n.mul(N,P),P=n.add(q,S),N=n.sub(N,P),P=n.add(k,_),M=n.add(I,T),P=n.mul(P,M),M=n.add(z,S),P=n.sub(P,M),A=n.mul(U,N),M=n.mul($,S),A=n.add(M,A),M=n.sub(z,A),A=n.add(z,A),D=n.mul(M,A),z=n.add(q,q),z=n.add(z,q),S=n.mul(U,S),N=n.mul($,N),z=n.add(z,S),S=n.sub(q,S),S=n.mul(U,S),N=n.add(N,S),q=n.mul(z,N),D=n.add(D,q),q=n.mul(P,N),M=n.mul(E,M),M=n.sub(M,q),q=n.mul(E,z),A=n.mul(P,A),A=n.add(A,q),new h(M,D,A)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return v.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:b,n:k}=t;Bc("scalar",y,ju,k);const _=h.ZERO;if(y===ju)return _;if(this.is0()||y===qo)return this;if(!b||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:R,k1:I,k2neg:T,k2:M}=b.splitScalar(y),D=_,A=_,U=this;for(;I>ju||M>ju;)I&qo&&(D=D.add(U)),M&qo&&(A=A.add(U)),U=U.double(),I>>=qo,M>>=qo;return R&&(D=D.negate()),T&&(A=A.negate()),A=new h(n.mul(A.px,b.beta),A.py,A.pz),D.add(A)}multiply(y){const{endo:b,n:k}=t;Bc("scalar",y,qo,k);let _,R;if(b){const{k1neg:I,k1:T,k2neg:M,k2:D}=b.splitScalar(y);let{p:A,f:U}=this.wNAF(T),{p:$,f:q}=this.wNAF(D);A=v.constTimeNegate(I,A),$=v.constTimeNegate(M,$),$=new h(n.mul($.px,b.beta),$.py,$.pz),_=A.add($),R=U.add(q)}else{const{p:I,f:T}=this.wNAF(y);_=I,R=T}return h.normalizeZ([_,R])[0]}multiplyAndAddUnsafe(y,b,k){const _=h.BASE,R=(T,M)=>M===ju||M===qo||!T.equals(_)?T.multiplyUnsafe(M):T.multiply(M),I=R(this,b).add(R(y,k));return I.is0()?void 0:I}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:b}=t;if(y===qo)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=t;return y===qo?this:b?b(h,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Rh("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return Rh("isCompressed",y),z0(this.toRawBytes(y))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,v=sve(h,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function WTt(e){const t=_$(e);return Y_(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function qTt(e){const t=WTt(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(S){return ki(S,r)}function a(S){return NB(S,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:u}=FTt({...t,toBytes(S,E,N){const P=E.toAffine(),j=n.toBytes(P.x),V=V0;return Rh("isCompressed",N),N?V(Uint8Array.from([E.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(P.y))},fromBytes(S){const E=S.length,N=S[0],P=S.subarray(1);if(E===i&&(N===2||N===3)){const j=mm(P);if(!b$(j,qo,n.ORDER))throw new Error("Point is not on curve");const V=d(j);let K;try{K=n.sqrt(V)}catch(W){const G=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+G)}const F=(K&qo)===qo;return(N&1)===1!==F&&(K=n.neg(K)),{x:j,y:K}}else if(E===o&&N===4){const j=n.fromBytes(P.subarray(0,n.BYTES)),V=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=i,V=o;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+E)}}}),h=S=>z0(j1(S,t.nByteLength));function m(S){const E=r>>qo;return S>E}function v(S){return m(S)?s(-S):S}const g=(S,E,N)=>mm(S.slice(E,N));class y{constructor(E,N,P){Bc("r",E,qo,r),Bc("s",N,qo,r),this.r=E,this.s=N,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact(E){const N=t.nByteLength;return E=mo("compactSignature",E,N*2),new y(g(E,0,N),g(E,N,2*N))}static fromDER(E){const{r:N,s:P}=Au.toSig(mo("DER",E));return new y(N,P)}assertValidity(){}addRecoveryBit(E){return new y(this.r,this.s,E)}recoverPublicKey(E){const{r:N,s:P,recovery:j}=this,V=T(mo("msgHash",E));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const K=j===2||j===3?N+t.n:N;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(j&1)===0?"02":"03",O=l.fromHex(F+h(K)),W=a(K),G=s(-V*W),Y=s(P*W),ie=l.BASE.multiplyAndAddUnsafe(O,G,Y);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return RI(this.toDERHex())}toDERHex(){return Au.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return RI(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(S){try{return c(S),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const S=rve(t.n);return eTt(t.randomBytes(S),t.n)},precompute(S=8,E=l.BASE){return E._setWindowSize(S),E.multiply(BigInt(3)),E}};function k(S,E=!0){return l.fromPrivateKey(S).toRawBytes(E)}function _(S){const E=q0(S),N=typeof S=="string",P=(E||N)&&S.length;return E?P===i||P===o:N?P===2*i||P===2*o:S instanceof l}function R(S,E,N=!0){if(_(S))throw new Error("first arg must be private key");if(!_(E))throw new Error("second arg must be public key");return l.fromHex(E).multiply(c(S)).toRawBytes(N)}const I=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const E=mm(S),N=S.length*8-t.nBitLength;return N>0?E>>BigInt(N):E},T=t.bits2int_modN||function(S){return s(I(S))},M=qE(t.nBitLength);function D(S){return Bc("num < 2^"+t.nBitLength,S,ju,M),j1(S,t.nByteLength)}function A(S,E,N=U){if(["recovered","canonical"].some(me=>me in N))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:j}=t;let{lowS:V,prehash:K,extraEntropy:F}=N;V==null&&(V=!0),S=mo("msgHash",S),kne(N),K&&(S=mo("prehashed msgHash",P(S)));const O=T(S),W=c(E),G=[D(W),D(O)];if(F!=null&&F!==!1){const me=F===!0?j(n.BYTES):F;G.push(mo("extraEntropy",me))}const Y=V0(...G),ie=O;function ye(me){const be=I(me);if(!u(be))return;const Me=a(be),Fe=l.BASE.multiply(be).toAffine(),De=s(Fe.x);if(De===ju)return;const gt=s(Me*s(ie+De*W));if(gt===ju)return;let tt=(Fe.x===De?0:2)|Number(Fe.y&qo),dt=gt;return V&&m(gt)&&(dt=v(gt),tt^=1),new y(De,dt,tt)}return{seed:Y,k2sig:ye}}const U={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function q(S,E,N=U){const{seed:P,k2sig:j}=A(S,E,N),V=t;return q8t(V.hash.outputLen,V.nByteLength,V.hmac)(P,j)}l.BASE._setWindowSize(8);function z(S,E,N,P=$){var tt;const j=S;E=mo("msgHash",E),N=mo("publicKey",N);const{lowS:V,prehash:K,format:F}=P;if(kne(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const O=typeof j=="string"||q0(j),W=!O&&!F&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!O&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,Y;try{if(W&&(G=new y(j.r,j.s)),O){try{F!=="compact"&&(G=y.fromDER(j))}catch(dt){if(!(dt instanceof Au.Err))throw dt}!G&&F!=="der"&&(G=y.fromCompact(j))}Y=l.fromHex(N)}catch{return!1}if(!G||V&&G.hasHighS())return!1;K&&(E=t.hash(E));const{r:ie,s:ye}=G,me=T(E),be=a(ye),Me=s(me*be),Fe=s(ie*be),De=(tt=l.BASE.multiplyAndAddUnsafe(Y,Me,Fe))==null?void 0:tt.toAffine();return De?s(De.x)===ie:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:R,sign:q,verify:z,ProjectivePoint:l,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zTt(e){return{hash:e,hmac:(t,...n)=>uve(e,t,d8t(...n)),randomBytes:Z0e}}function VTt(e,t){const n=r=>qTt({...e,...zTt(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fve=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ine=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),KTt=BigInt(1),BB=BigInt(2),Ene=(e,t)=>(e+t/BB)/t;function HTt(e){const t=fve,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=Vi(d,n,t)*d%t,h=Vi(u,n,t)*d%t,m=Vi(h,BB,t)*c%t,v=Vi(m,i,t)*m%t,g=Vi(v,o,t)*v%t,y=Vi(g,a,t)*g%t,b=Vi(y,l,t)*y%t,k=Vi(b,a,t)*g%t,_=Vi(k,n,t)*d%t,R=Vi(_,s,t)*v%t,I=Vi(R,r,t)*c%t,T=Vi(I,BB,t);if(!DB.eql(DB.sqr(T),e))throw new Error("Cannot find square root");return T}const DB=zE(fve,void 0,void 0,{sqrt:HTt}),GTt=VTt({a:BigInt(0),b:BigInt(7),Fp:DB,n:Ine,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ine,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-KTt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Ene(o*e,t),l=Ene(-r*e,t);let c=ki(e-a*n-l*i,t),d=ki(-a*r-l*o,t);const u=c>s,h=d>s;if(u&&(c=t-c),h&&(d=t-d),c>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:h,k2:d}}}},AB);BigInt(0);function Cne(e){try{return k$.ExtendedPoint.fromHex(e),!0}catch{return!1}}const hve=(e,t)=>k$.sign(e,t.slice(0,32)),JTt=k$.verify,K0=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let ZTt=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(tS,this))}static decode(t){return sa.deserialize(tS,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(tS,this,t)}};const tS=new Map;var pve;const YTt=32,Th=32;function XTt(e){return e._bn!==void 0}let Ane=1,Rn=class Ay extends ZTt{constructor(t){if(super({}),this._bn=void 0,XTt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=vs.decode(t);if(n.length!=Th)throw new Error("Invalid public key input");this._bn=new jd(n)}else this._bn=new jd(t);if(this._bn.byteLength()>Th)throw new Error("Invalid public key input")}}static unique(){const t=new Ay(Ane);return Ane+=1,new Ay(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return vs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Th)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=AB(i);return new Ay(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>YTt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,K0(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=AB(r);if(Cne(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ay(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Ay(t);return Cne(n.toBytes())}};pve=Rn;Rn.default=new pve("11111111111111111111111111111111");tS.set(Rn,{kind:"struct",fields:[["_bn","u256"]]});new Rn("BPFLoader1111111111111111111111111111111111");const u0=1232,S$=127,NI=64;class mve extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(mve.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class gve extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(gve.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ab extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ab.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let PI=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const tr=(e="publicKey")=>B.blob(32,e),QTt=(e="signature")=>B.blob(64,e),Fy=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},eOt=(e="authorized")=>B.struct([tr("staker"),tr("withdrawer")],e),tOt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),tr("custodian")],e),nOt=(e="voteInit")=>B.struct([tr("nodePubkey"),tr("authorizedVoter"),tr("authorizedWithdrawer"),B.u8("commission")],e),rOt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),tr("currentAuthorityDerivedKeyOwnerPubkey"),Fy("currentAuthorityDerivedKeySeed"),tr("newAuthorized")],e);function hl(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function pl(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function _i(e,t){if(!e)throw new Error(t||"Assertion failed")}let yve=class vve{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new vve(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];_i(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{_i(n.length>0,"Expected at least one writable signer key");const[l]=n[0];_i(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Rn(l)),...r.map(([l])=>new Rn(l)),...i.map(([l])=>new Rn(l)),...o.map(([l])=>new Rn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Rn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(_i(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const wve="Reached end of buffer unexpectedly";function $u(e){if(e.length===0)throw new Error(wve);return e.shift()}function ml(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(wve);return e.splice(...t)}let H0=class MB{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Rn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:vs.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new PI(this.staticAccountKeys)}static compile(t){const n=yve.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new PI(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:vs.encode(a.data)}));return new MB({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];pl(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(vs.decode(u.data));let g=[];pl(g,h.length);let y=[];return pl(y,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(g),keyIndices:h,dataLength:Te.Buffer.from(y),data:v}});let i=[];pl(i,r.length);let o=Te.Buffer.alloc(u0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(tr("key"),t,"keys"),tr("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>K0(u.toBytes())),recentBlockhash:vs.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=$u(n);if(r!==(r&S$))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=$u(n),o=$u(n),s=hl(n);let a=[];for(let h=0;h<s;h++){const m=ml(n,0,Th);a.push(new Rn(Te.Buffer.from(m)))}const l=ml(n,0,Th),c=hl(n);let d=[];for(let h=0;h<c;h++){const m=$u(n),v=hl(n),g=ml(n,0,v),y=hl(n),b=ml(n,0,y),k=vs.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:g,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:vs.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new MB(u)}};class $1{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new PI(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=yve.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new PI(a,i).compileInstructions(t.instructions);return new $1({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();pl(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();pl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();pl(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(tr(),this.staticAccountKeys.length,"staticAccountKeys"),tr("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(u0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:vs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(u0);for(const r of this.compiledInstructions){const i=Array();pl(i,r.accountKeyIndexes.length);const o=Array();pl(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(u0);for(const r of this.addressTableLookups){const i=Array();pl(i,r.writableIndexes.length);const o=Array();pl(o,r.readonlyIndexes.length);const s=B.struct([tr("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=$u(n),i=r&S$;_i(r!==i,"Expected versioned message but received legacy message");const o=i;_i(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:$u(n),numReadonlySignedAccounts:$u(n),numReadonlyUnsignedAccounts:$u(n)},a=[],l=hl(n);for(let v=0;v<l;v++)a.push(new Rn(ml(n,0,Th)));const c=vs.encode(ml(n,0,Th)),d=hl(n),u=[];for(let v=0;v<d;v++){const g=$u(n),y=hl(n),b=ml(n,0,y),k=hl(n),_=new Uint8Array(ml(n,0,k));u.push({programIdIndex:g,accountKeyIndexes:b,data:_})}const h=hl(n),m=[];for(let v=0;v<h;v++){const g=new Rn(ml(n,0,Th)),y=hl(n),b=ml(n,0,y),k=hl(n),_=ml(n,0,k);m.push({accountKey:g,writableIndexes:b,readonlyIndexes:_})}return new $1({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}}const bve={deserializeMessageVersion(e){const t=e[0],n=t&S$;return n===t?"legacy":n},deserialize:e=>{const t=bve.deserializeMessageVersion(e);if(t==="legacy")return H0.from(e);if(t===0)return $1.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let oh=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const iOt=Te.Buffer.alloc(NI).fill(0);let Rne=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Vw=class jB{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Rne(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],o=[];n.forEach(g=>{g.keys.forEach(b=>{o.push({...b})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{o.push({pubkey:new Rn(g),isSigner:!1,isWritable:!1})});const s=[];o.forEach(g=>{const y=g.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===y);b>-1?(s[b].isWritable=s[b].isWritable||g.isWritable,s[b].isSigner=s[b].isSigner||g.isSigner):s.push(g)}),s.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",b)});const a=s.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=s.splice(a,1);g.isSigner=!0,g.isWritable=!0,s.unshift(g)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=s.findIndex(b=>b.pubkey.equals(g.publicKey));if(y>-1)s[y].isSigner||(s[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:g,isSigner:y,isWritable:b})=>{y?(u.push(g.toString()),l+=1,b||(c+=1)):(h.push(g.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(g=>{const{data:y,programId:b}=g;return{programIdIndex:m.indexOf(b.toString()),accounts:g.keys.map(k=>m.indexOf(k.pubkey.toString())),data:vs.encode(y)}});return v.forEach(g=>{_i(g.programIdIndex>=0),g.accounts.forEach(y=>_i(y>=0))}),new H0({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=hve(r,i.secretKey);this._addSignature(i.publicKey,K0(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){_i(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):JTt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];pl(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return _i(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(_i(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),_i(o.length<=u0,`Transaction too large: ${o.length} > ${u0}`),o}get keys(){return _i(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return _i(this.instructions.length===1),this.instructions[0].programId}get data(){return _i(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=hl(n);let i=[];for(let o=0;o<r;o++){const s=ml(n,0,NI);i.push(vs.encode(Te.Buffer.from(s)))}return jB.populate(H0.from(n),i)}static populate(t,n=[]){const r=new jB;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==vs.encode(iOt)?null:vs.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new Rne({keys:o,programId:t.accountKeys[i.programIdIndex],data:vs.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};class VE{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)_i(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(NI));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();pl(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(QTt(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=hl(n);for(let s=0;s<i;s++)r.push(new Uint8Array(ml(n,0,NI)));const o=bve.deserialize(new Uint8Array(n));return new VE(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));_i(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=hve(n,i.secretKey)}}addSignature(t,n){_i(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));_i(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const oOt=160,sOt=64,aOt=oOt/sOt,lOt=1e3/aOt;new Rn("SysvarC1ock11111111111111111111111111111111");new Rn("SysvarEpochSchedu1e111111111111111111111111");new Rn("Sysvar1nstructions1111111111111111111111111");new Rn("SysvarRecentB1ockHashes11111111111111111111");new Rn("SysvarRent111111111111111111111111111111111");new Rn("SysvarRewards111111111111111111111111111111");new Rn("SysvarS1otHashes111111111111111111111111111");new Rn("SysvarS1otHistory11111111111111111111111111");new Rn("SysvarStakeHistory1111111111111111111111111");class Tne extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ln extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function Ry(e){return new Promise(t=>setTimeout(t,e))}const cOt=B.nu64("lamportsPerSignature"),_ve=B.struct([B.u32("version"),B.u32("state"),tr("authorizedPubkey"),tr("nonce"),B.struct([cOt],"feeCalculator")]);_ve.span;class I${constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=_ve.decode(K0(t),0);return new I$({authorizedPubkey:new Rn(n.authorizedPubkey),nonce:new Rn(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function G0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=$Tt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),tr("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),tr("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),G0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),tr("base"),Fy("seed"),B.ns64("lamports"),B.ns64("space"),tr("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),tr("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),tr("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),tr("base"),Fy("seed"),B.ns64("space"),tr("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),tr("base"),Fy("seed"),tr("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),G0("lamports"),Fy("seed"),tr("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new Rn("11111111111111111111111111111111");new Rn("BPFLoader2111111111111111111111111111111111");function dOt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var CT,One;function uOt(){if(One)return CT;One=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=e.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=t(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return CT=function(r){var i=n(r,!1);if(i!==void 0)return""+i},CT}var fOt=uOt(),Nne=dOt(fOt);const Kw=32;function AT(e){let t=0;for(;e>1;)e/=2,t++;return t}function hOt(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class pOt{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=AT(hOt(t+Kw+1))-AT(Kw)-1,r=this.getSlotsInEpoch(n),i=t-(r-Kw);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Kw:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+AT(Kw)):this.slotsPerEpoch}}var mOt=globalThis.fetch;class gOt extends t9{constructor(t,n,r){const i=o=>{const s=e9(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function yOt(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const Pne=56;class Bne{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=yOt(vOt,t),r=t.length-Pne;_i(r>=0,"lookup table is invalid"),_i(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=B.struct([B.seq(tr(),i,"addresses")]).decode(t.slice(Pne));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Rn(n.authority[0]):void 0,addresses:o.map(s=>new Rn(s))}}}const vOt={index:1,layout:B.struct([B.u32("typeIndex"),G0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(tr(),B.offset(B.u8(),-1),"authority")])},wOt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function bOt(e){const t=e.match(wOt);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Di=yi(ua(Rn),ae(),e=>new Rn(e)),xve=fa([ae(),it("base64")]),E$=yi(ua(Te.Buffer),xve,e=>Te.Buffer.from(e[0],"base64")),_Ot=30*1e3;function xOt(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Qr(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function Dne(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function kve(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Dr(),message:ae(),data:_e(B_())})})])}const kOt=kve(Dr());function Hn(e){return yi(kve(e),kOt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function no(e){return Hn(re({context:re({slot:H()}),value:e}))}function KE(e){return re({context:re({slot:H()}),value:e})}function RT(e,t){return e===0?new $1({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Rn(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:vs.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new H0(t)}const SOt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),IOt=Hn(pe(ge(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(ge(H()))})))),EOt=pe(re({slot:H(),prioritizationFee:H()})),COt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),AOt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),ROt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),TOt=Zd(ae(),pe(H())),wg=ge(Ot([re({}),ae()])),OOt=re({err:wg}),NOt=it("receivedSignature"),POt=re({"solana-core":ae(),"feature-set":_e(H())}),BOt=re({program:ae(),programId:Di,parsed:Dr()}),DOt=re({programId:Di,accounts:pe(Di),data:ae()}),Mne=no(re({err:ge(Ot([re({}),ae()])),logs:ge(pe(ae())),accounts:_e(ge(pe(ge(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(ge(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Ot([BOt,DOt]))}))))})),MOt=no(re({byIdentity:Zd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));function jOt(e,t,n,r,i,o){const s=n||mOt;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const h=await new Promise((m,v)=>{try{r(d,u,(g,y)=>m([g,y]))}catch(g){v(g)}});return await s(...h)}),new Qj(async(d,u)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},jNt)};try{let m=5,v,g=500;for(;l?v=await l(e,h):v=await s(e,h),!(v.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await Ry(g),g*=2;const y=await v.text();v.ok?u(null,y):u(new Error(`${v.status} ${v.statusText}: ${y}`))}catch(m){m instanceof Error&&u(m)}},{})}function $Ot(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function LOt(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const UOt=Hn(SOt),FOt=Hn(COt),WOt=Hn(EOt),qOt=Hn(AOt),zOt=Hn(ROt),VOt=Hn(TOt),KOt=Hn(H()),HOt=no(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Di)})),$B=re({amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())}),GOt=no(pe(re({address:Di,amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())}))),JOt=no(pe(re({pubkey:Di,account:re({executable:kn(),owner:Di,lamports:H(),data:E$,rentEpoch:H()})}))),LB=re({program:ae(),parsed:Dr(),space:H()}),ZOt=no(pe(re({pubkey:Di,account:re({executable:kn(),owner:Di,lamports:H(),data:LB,rentEpoch:H()})}))),YOt=no(pe(re({lamports:H(),address:Di}))),L1=re({executable:kn(),owner:Di,lamports:H(),data:E$,rentEpoch:H()}),XOt=re({pubkey:Di,account:L1}),QOt=yi(Ot([ua(Te.Buffer),LB]),Ot([xve,LB]),e=>Array.isArray(e)?ke(e,E$):e),UB=re({executable:kn(),owner:Di,lamports:H(),data:QOt,rentEpoch:H()}),eNt=re({pubkey:Di,account:UB}),tNt=re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()}),nNt=Hn(pe(re({signature:ae(),slot:H(),err:wg,memo:ge(ae()),blockTime:_e(ge(H()))}))),rNt=Hn(pe(re({signature:ae(),slot:H(),err:wg,memo:ge(ae()),blockTime:_e(ge(H()))}))),iNt=re({subscription:H(),result:KE(L1)}),oNt=re({pubkey:Di,account:L1}),sNt=re({subscription:H(),result:KE(oNt)}),aNt=re({parent:H(),slot:H(),root:H()}),lNt=re({subscription:H(),result:aNt}),cNt=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]),dNt=re({subscription:H(),result:cNt}),uNt=re({subscription:H(),result:KE(Ot([OOt,NOt]))}),fNt=re({subscription:H(),result:H()}),hNt=re({pubkey:ae(),gossip:ge(ae()),tpu:ge(ae()),rpc:ge(ae()),version:ge(ae())}),jne=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ge(H())}),pNt=Hn(re({current:pe(jne),delinquent:pe(jne)})),mNt=Ot([it("processed"),it("confirmed"),it("finalized")]),gNt=re({slot:H(),confirmations:ge(H()),err:wg,confirmationStatus:_e(mNt)}),yNt=no(pe(ge(gNt))),vNt=Hn(H()),Sve=re({accountKey:Di,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),C$=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Sve))})}),Ive=re({pubkey:Di,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),Eve=re({accountKeys:pe(Ive),signatures:pe(ae())}),Cve=re({parsed:Dr(),program:ae(),programId:Di}),Ave=re({accounts:pe(Di),data:ae(),programId:Di}),wNt=Ot([Ave,Cve]),bNt=Ot([re({parsed:Dr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),Rve=yi(wNt,bNt,e=>"accounts"in e?ke(e,Ave):ke(e,Cve)),Tve=re({signatures:pe(ae()),message:re({accountKeys:pe(Ive),instructions:pe(Rve),recentBlockhash:ae(),addressTableLookups:_e(ge(pe(Sve)))})}),BI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:$B}),Ove=re({writable:pe(Di),readonly:pe(Di)}),HE=re({err:wg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(BI))),postTokenBalances:_e(ge(pe(BI))),loadedAddresses:_e(Ove),computeUnitsConsumed:_e(H())}),A$=re({err:wg,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Rve)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(BI))),postTokenBalances:_e(ge(pe(BI))),loadedAddresses:_e(Ove),computeUnitsConsumed:_e(H())}),Ov=Ot([it(0),it("legacy")]),bg=re({pubkey:ae(),lamports:H(),postBalance:ge(H()),rewardType:ge(ae()),commission:_e(ge(H()))}),_Nt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:C$,meta:ge(HE),version:_e(Ov)})),rewards:_e(pe(bg)),blockTime:ge(H()),blockHeight:ge(H())}))),xNt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(bg)),blockTime:ge(H()),blockHeight:ge(H())}))),kNt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Eve,meta:ge(HE),version:_e(Ov)})),rewards:_e(pe(bg)),blockTime:ge(H()),blockHeight:ge(H())}))),SNt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Tve,meta:ge(A$),version:_e(Ov)})),rewards:_e(pe(bg)),blockTime:ge(H()),blockHeight:ge(H())}))),INt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Eve,meta:ge(A$),version:_e(Ov)})),rewards:_e(pe(bg)),blockTime:ge(H()),blockHeight:ge(H())}))),ENt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(bg)),blockTime:ge(H()),blockHeight:ge(H())}))),CNt=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:C$,meta:ge(HE)})),rewards:_e(pe(bg)),blockTime:ge(H())}))),$ne=Hn(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:ge(H())}))),TT=Hn(ge(re({slot:H(),meta:ge(HE),blockTime:_e(ge(H())),transaction:C$,version:_e(Ov)}))),f2=Hn(ge(re({slot:H(),transaction:Tve,meta:ge(A$),blockTime:_e(ge(H())),version:_e(Ov)}))),ANt=no(re({blockhash:ae(),lastValidBlockHeight:H()})),RNt=no(kn()),TNt=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),ONt=Hn(pe(TNt)),NNt=no(ge(re({feeCalculator:re({lamportsPerSignature:H()})}))),PNt=Hn(ae()),BNt=Hn(ae()),DNt=re({err:wg,logs:pe(ae()),signature:ae()}),MNt=re({result:KE(DNt),subscription:H()}),jNt={"solana-client":"js/1.0.0-maintenance"};class $Nt{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:h}=Qr(d),m=this._buildArgs([],u,void 0,h),v=Nne(m);return c[v]=c[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),y=ke(g,Hn(H()));if("error"in y)throw new ln(y.error,"failed to get block height information");return y.result}finally{delete c[v]}})(),await c[v]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=xOt(t),this._rpcWsEndpoint=r||bOt(t),this._rpcClient=jOt(t,i,o,s,a,l),this._rpcRequest=$Ot(this._rpcClient),this._rpcBatchRequest=LOt(this._rpcClient),this._rpcWebSocket=new gOt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ke(s,no(H()));if("error"in a)throw new ln(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ke(n,Hn(ge(H())));if("error"in r)throw new ln(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ke(t,Hn(H()));if("error"in n)throw new ln(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ke(t,KOt);if("error"in n)throw new ln(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ke(r,HOt);if("error"in i)throw new ln(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ke(i,no($B));if("error"in o)throw new ln(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ke(i,no($B));if("error"in o)throw new ln(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Qr(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ke(l,JOt);if("error"in c)throw new ln(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ke(s,ZOt);if("error"in a)throw new ln(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ke(i,YOt);if("error"in o)throw new ln(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(i,GOt);if("error"in o)throw new ln(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,no(ge(L1)));if("error"in a)throw new ln(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,no(ge(UB)));if("error"in a)throw new ln(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,no(pe(ge(UB))));if("error"in l)throw new ln(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,no(pe(ge(L1))));if("error"in l)throw new ln(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Qr(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ke(a,Hn(tNt));if("error"in l)throw new ln(l.error,`failed to get Stake Activation ${t.toBase58()}`);return l.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Qr(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...s,...s.filters?{filters:Dne(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(XOt),d=s.withContext===!0?ke(l,no(c)):ke(l,Hn(c));if("error"in d)throw new ln(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ke(s,Hn(pe(eNt)));if("error"in a)throw new ln(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=vs.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return _i(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,h)=>{r=void 0;const m={context:h,value:u};l({__type:oh.PROCESSED,response:m})},t);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:h,value:m}=u;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:oh.PROCESSED,response:{context:h,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const h=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await h();if(!o){for(;m<=r;)if(await Ry(1e3),o||(m=await h(),o))return;u({__type:oh.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===oh.PROCESSED)d=u.response;else throw new mve(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let v=o,g=null;const y=async()=>{try{const{context:b,value:k}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return g=b.slot,k==null?void 0:k.nonce}catch{return v}};(async()=>{if(v=await y(),!a)for(;;){if(o!==v){m({__type:oh.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await Ry(2e3),a||(v=await y(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let h;try{const m=await Promise.race([u,d,l]);if(m.__type===oh.PROCESSED)h=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(s);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Ry(400);continue}v=g;break}if(v!=null&&v.value){const g=t||"finalized",{confirmationStatus:y}=v.value;switch(g){case"processed":case"recent":if(y!=="processed"&&y!=="confirmed"&&y!=="finalized")throw new ab(s);break;case"confirmed":case"single":case"singleGossip":if(y!=="confirmed"&&y!=="finalized")throw new ab(s);break;case"finalized":case"max":case"root":if(y!=="finalized")throw new ab(s);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new ab(s)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:oh.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===oh.PROCESSED)a=l.response;else throw new gve(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ke(t,Hn(pe(hNt)));if("error"in n)throw new ln(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ke(r,pNt);if("error"in i)throw new ln(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ke(o,Hn(H()));if("error"in s)throw new ln(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ke(o,Hn(ae()));if("error"in s)throw new ln(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=ke(i,Hn(pe(Di)));if("error"in o)throw new ln(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);_i(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ke(i,yNt);if("error"in o)throw new ln(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ke(o,Hn(H()));if("error"in s)throw new ln(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ke(r,UOt);if("error"in i)throw new ln(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Qr(r),s=this._buildArgs([t.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ke(a,IOt);if("error"in l)throw new ln(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ke(t,FOt);if("error"in n)throw new ln(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ke(o,qOt);if("error"in s)throw new ln(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ke(t,zOt);if("error"in n)throw new ln(n.error,"failed to get epoch schedule");const r=n.result;return new pOt(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ke(t,VOt);if("error"in n)throw new ln(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(i,vNt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ke(n,ONt);if("error"in r)throw new ln(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(i,NNt);if("error"in o)throw new ln(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=K0(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ke(o,no(ge(H())));if("error"in s)throw new ln(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(i,WOt);if("error"in o)throw new ln(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ke(o,ANt);if("error"in s)throw new ln(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ke(s,RNt);if("error"in a)throw new ln(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ke(t,Hn(POt));if("error"in n)throw new ln(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ke(t,Hn(ae()));if("error"in n)throw new ln(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,kNt);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,xNt);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,_Nt);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:RT(u,c.message)},version:u}))}:null}}}catch(a){throw new ln(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,INt);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,ENt);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,SNt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ln(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...l}=t;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ke(o,MOt);if("error"in s)throw new ln(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ke(s,TT);if("error"in a)throw new ln(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:RT(l.version,l.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ke(s,f2);if("error"in a)throw new ln(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,f2);if("error"in c)throw new ln(c.error,"failed to get transactions");return c.result})}async getTransactions(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,TT);if("error"in c)throw new ln(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:RT(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),o=ke(i,CNt);if("error"in o)throw new ln(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new H0(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Vw.populate(l.message,l.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=ke(o,Hn(pe(H())));if("error"in s)throw new ln(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,$ne);if("error"in o)throw new ln(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,$ne);if("error"in o)throw new ln(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),o=ke(i,TT);if("error"in o)throw new ln(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new H0(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Vw.populate(a,l)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ke(i,f2);if("error"in o)throw new ln(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ke(s,f2);if("error"in a)throw new ln(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ke(o,nNt);if("error"in s)throw new ln(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ke(o,rNt);if("error"in s)throw new ln(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new Bne({key:t,state:Bne.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=I$.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ke(r,PNt);if("error"in i)throw new ln(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Ry(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_Ot;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Ry(lOt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ke(o,no(H()));if("error"in s)throw new ln(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const g=t.serialize(),y=Te.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const k=[y,b],_=await this._rpcRequest("simulateTransaction",k),R=ke(_,Mne);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof Vw){let v=t;i=new Vw,i.feePayer=v.feePayer,i.instructions=t.instructions,i.nonceInfo=v.nonceInfo,i.signatures=v.signatures}else i=Vw.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(i.lastValidBlockHeight=g.lastValidBlockHeight,i.recentBlockhash=g.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const y=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(y)&&!this._blockhashInfo.transactionSignatures.includes(y)){this._blockhashInfo.simulatedSignatures.push(y);break}else v=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:s.nonProgramIds()).map(g=>g.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],h=await this._rpcRequest("simulateTransaction",u),m=ke(h,Mne);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,y=g+v.join(g);console.error(m.error.message,y)}throw new Tne({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const l=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=K0(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),l=ke(a,BNt);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new Tne({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ke(t,iNt);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=Nne([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];_i(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:o}=Qr(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ke(t,sNt);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:o,config:s}=Qr(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:Dne(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ke(t,MNt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ke(t,lNt);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ke(t,dNt);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ke(t,uNt);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ke(t,fNt);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),G0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),G0(),B.seq(tr(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Rn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),G0("microLamports")])}});new Rn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Rn("Ed25519SigVerify111111111111111111111111111");GTt.utils.isValidPrivateKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Rn("KeccakSecp256k11111111111111111111111111111");var Nve;new Rn("StakeConfig11111111111111111111111111111111");let Pve=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};Nve=Pve;Pve.default=new Nve(0,0,Rn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),eOt(),tOt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),tr("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),tr("newAuthorized"),B.u32("stakeAuthorizationType"),Fy("authoritySeed"),tr("authorityOwner")])}});new Rn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),nOt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),tr("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),rOt()])}});new Rn("Vote111111111111111111111111111111111111111");new Rn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Rn("Vote111111111111111111111111111111111111111");B.struct([tr("nodePubkey"),tr("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),tr("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([tr("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);const LNt=1e9;class UNt{constructor(t){this.organizationId=t.organizationId,this.client=t.client}async signAllTransactions(t,n,r){var l,c;const i=new Xt(n);let o=t.map(d=>this.getMessageToSign(d).toString("hex"));const s=await this.signRawPayloads(o,n,r),a=(l=s==null?void 0:s.signatures)==null?void 0:l.map(d=>`${d==null?void 0:d.r}${d==null?void 0:d.s}`);for(let d in t)(c=t[d])==null||c.addSignature(i,Buffer.from(a[d],"hex"));return t}async addSignature(t,n,r){const i=new Xt(n),o=this.getMessageToSign(t),s=await this.signRawPayload(o.toString("hex"),n,r??this.organizationId),a=`${s==null?void 0:s.r}${s==null?void 0:s.s}`;t.addSignature(i,Buffer.from(a,"hex"))}async signMessage(t,n,r){const i=await this.signRawPayload(Buffer.from(t).toString("hex"),n,r);return Buffer.from(`${i==null?void 0:i.r}${i==null?void 0:i.s}`,"hex")}async signTransaction(t,n,r){const i=Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("hex"),o=await this.signTransactionImpl(i,n,r),s=Buffer.from(o,"hex");return"version"in t?f9.deserialize(s):Wp.from(s)}async signTransactionImpl(t,n,r){var i,o;if(mT(this.client)){const s=await this.client.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,unsignedTransaction:t,type:"TRANSACTION_TYPE_SOLANA"}}),{activity:a}=s;return fy(a),hy((o=(i=a==null?void 0:a.result)==null?void 0:i.signTransactionResult)==null?void 0:o.signedTransaction)}else{const{activity:s,signedTransaction:a}=await this.client.signTransaction({...r!==void 0&&{organizationId:r},signWith:n,unsignedTransaction:t,type:"TRANSACTION_TYPE_SOLANA"});return fy(s),hy(a)}}async signRawPayload(t,n,r){var i;if(mT(this.client)){const o=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:s}=o;return fy(s),hy((i=s==null?void 0:s.result)==null?void 0:i.signRawPayloadResult)}else{const{activity:o,r:s,s:a,v:l}=await this.client.signRawPayload({...r!==void 0&&{organizationId:r},signWith:n,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return fy(o),hy({r:s,s:a,v:l})}}async signRawPayloads(t,n,r){var i;if(mT(this.client)){const o=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payloads:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:s}=o;return fy(s),hy((i=s==null?void 0:s.result)==null?void 0:i.signRawPayloadsResult)}else{const{activity:o,signatures:s}=await this.client.signRawPayloads({...r!==void 0&&{organizationId:r},signWith:n,payloads:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return fy(o),hy({signatures:s})}}getMessageToSign(t){let n;return typeof t.serializeMessage=="function"?n=t.serializeMessage():n=Buffer.from(t.message.serialize()),n}}const FNt=(e,t)=>{if(!e)throw new Error("rpcUrl is required");return new $Nt(e,t)},WNt=e=>e instanceof VE?Buffer.from(e.serialize()).toString("base64"):Buffer.from(e.serialize({verifySignatures:!1})).toString("base64"),qNt=e=>{const t=Buffer.from(e,"base64");return VE.deserialize(t)},zNt=(e,t,n)=>fr(void 0,void 0,void 0,function*(){const r=WNt(t),i={environmentId:e,solanaTransactionOptimizationRequest:{address:n,transaction:r}},o=yield ao({},Fr()).optimizeTransaction(i);return qNt(o.transaction)});class VNt{constructor({walletConnector:t}){this.isConnected=!0,this.providers=[this],this.walletConnector=t,this.turnkeyAddress=this.walletConnector.turnkeyAddress,this.publicKey=this.turnkeyAddress?new Rn(this.turnkeyAddress):void 0}signMessage(t){return fr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signUint8ArrayMessage(t)}})}signTransaction(t){return fr(this,void 0,void 0,function*(){return this.walletConnector.signTransaction(t)})}signAllTransactions(t){return fr(this,void 0,void 0,function*(){return this.walletConnector.signAllTransactions(t)})}signAndSendTransaction(t,n){return fr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signAndSendTransaction(t,n)}})}connect(t){return fr(this,void 0,void 0,function*(){return{address:this.turnkeyAddress,publicKey:this.publicKey}})}disconnect(){return fr(this,void 0,void 0,function*(){})}}class KNt extends Ui{constructor(t,n){var r;super(t,n),this.ChainWallet=Vpe,this.connectedChain="SOL",this.supportedChains=["SOL"],this.verifiedCredentialChain="solana",this.getEnvId=()=>{const i=localStorage.getItem("dynamic_nonce");if(i){const s=JSON.parse(i);if(s&&s.environmentId)return s.environmentId}const o=localStorage.getItem("dynamic_nonce_demo");if(o){const s=JSON.parse(o);if(s&&s.environmentId)return s.environmentId}throw new Error("Failed to get environment id")},this.solNetworks=Kpe(n.solNetworks,n.connectionConfig),this.walletUiUtils=n.walletUiUtils,this._turnkeyAccount=void 0,this.connectionConfig=n.connectionConfig,this.chainRpcProviders=n.chainRpcProviders,(r=this.chainRpcProviders)===null||r===void 0||r.registerSolanaProviders(this.connectionConfig),this.getTurnkeyClient().then(i=>{this.__turnkeyClient=i})}getRpcUrl(){const t=this.getSelectedNetwork();if(!t)throw new Se("No enabled networks");return mE(this.connectionConfig,t)}getConnection(t){const n=this.getRpcUrl();if(!n)throw new Se("No rpcUrl");const r=typeof t=="string"?Object.assign(Object.assign({},this.connectionConfig),{commitment:t}):Object.assign(Object.assign({},this.connectionConfig),t);return FNt(n,r)}getWalletClient(){return this.getConnection()}getNetworkId(){var t;const n=(t=this.solNetworks[0])===null||t===void 0?void 0:t.networkId.toString(),r=localStorage.getItem(i0);return r??n}setNetworkId(t){t?localStorage.setItem(i0,t):localStorage.removeItem(i0)}getSelectedNetwork(){return this.solNetworks.find(n=>n.networkId.toString()===this.getNetworkId())}getNetwork(){return fr(this,arguments,void 0,function*(t=!1){const n=this.getSelectedNetwork();if(!n)return"";const{networkId:r,genesisHash:i}=n;return t?r.toString():i==="5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"?"mainnet":i==="4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"?"testnet":i==="EtWTRABZaYq6iMfeYKouRu166VU2xqa1"?"devnet":r.toString()})}switchNetwork(t){return fr(this,arguments,void 0,function*({networkChainId:n}){if(!n)return;const r=n.toString();this.solNetworks.some(o=>o.networkId.toString()===r)&&(this.setNetworkId(r),this.emit("chainChange",{chain:r}))})}getPublicClient(){return fr(this,void 0,void 0,function*(){var t;const n=this.getSelectedNetwork();if(!n)return;const r=n.networkId.toString(),i={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};if(!this.chainRpcProviders)return;const o=this.chainRpcProviders.getProviders(i);return(t=this.chainRpcProviders.getSolanaProviderByChainId(o,r))===null||t===void 0?void 0:t.provider})}supportsNetworkSwitching(){return!0}setVerifiedCredentials(t){const n=r8t(t,Yb.SOLANA),[r]=n;JSON.stringify(this.verifiedCredentials)!==JSON.stringify(n)&&(this.verifiedCredential=r,this.verifiedCredentials=n,this.refreshTurnkeyAccount())}validateActiveWallet(t){return fr(this,void 0,void 0,function*(){var n,r;const i=((n=this.verifiedCredential)===null||n===void 0?void 0:n.address)||"";if(!$a(i,t,this.connectedChain)){const s=(r=this.verifiedCredentials)===null||r===void 0?void 0:r.find(a=>(a==null?void 0:a.address)===t);if(!s)throw new Se("Account not found");this.verifiedCredential=s,this.refreshTurnkeyAccount()}})}getAccount(){return this.turnkeyAddress}endSession(){return fr(this,void 0,void 0,function*(){this.setNetworkId(null)})}refreshTurnkeyAccount(){return fr(this,void 0,void 0,function*(){return this._turnkeyAccount=void 0,this.getTurnkeyAccount()})}createTurnkeyAccount(t){return fr(this,arguments,void 0,function*({organizationId:n}){const r=yield this.getTurnkeyClient();return new UNt({client:r,organizationId:n})})}getTurnkeyAccount(){return fr(this,void 0,void 0,function*(){var t,n,r,i;if(this._turnkeyAccount&&(this.getAuthenticatorHandler().recoveryType==="passkey"&&((t=this.__turnkeyClient)===null||t===void 0?void 0:t.stamper)instanceof V0e||this.getAuthenticatorHandler().recoveryType==="email"&&((n=this.__turnkeyClient)===null||n===void 0?void 0:n.stamper)instanceof g$)&&this.__turnkeyClient===this.getAuthenticatorHandler().client)return this._turnkeyAccount;const{turnkeySubOrganizationId:o}=(r=this.walletProperties)!==null&&r!==void 0?r:{},{address:s}=(i=this.verifiedCredential)!==null&&i!==void 0?i:{};if(!(!o||!s))return this._turnkeyAccount=yield this.createTurnkeyAccount({organizationId:o}),this.setLoggerMetadata(),this._turnkeyAccount})}getSigner(){return fr(this,void 0,void 0,function*(){return new VNt({walletConnector:this})})}getBalance(t){return fr(this,void 0,void 0,function*(){const n=this.getConnection(),r=new Rn(t),i=yield n.getBalance(r);return this.lamportsToSol(i).toString()})}signUint8ArrayMessage(t){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("No turnkey account");const n=this.turnkeyAddress;let r;if(yield this.createOrRestoreSession(),yield this.walletUiUtils.signMessage({handler:()=>fr(this,void 0,void 0,function*(){var i;let o=yield this.getTurnkeyAccount();try{r=yield o==null?void 0:o.signMessage(t,n)}catch(s){yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),o=yield this.getTurnkeyAccount(),r=yield o==null?void 0:o.signMessage(t,n),Gi.error("[TK - removeSessionKeys] failed to perform signUint8ArrayMessage activity",{address:n,err:s,turnkeySubOrganizationId:(i=this.walletProperties)===null||i===void 0?void 0:i.turnkeySubOrganizationId})}return Oh(r||Buffer.from([]))}),message:new TextDecoder().decode(t)}),!r)throw new Error("Failed to sign message");return r})}signMessage(t){return fr(this,void 0,void 0,function*(){const r=new TextEncoder().encode(t),i=yield this.signUint8ArrayMessage(r);return Oh(i)})}internalSignTransaction(t){return fr(this,void 0,void 0,function*(){var n;yield this.createOrRestoreSession();let r=yield this.getTurnkeyAccount();const i=this.turnkeyAddress;if(!r||!i)throw new Error("No turnkey account");try{yield r.addSignature(t,i)}catch(o){if(lne.some(s=>o.message.toLowerCase().includes(s.toLowerCase())))yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),r=yield this.getTurnkeyAccount(),yield r.addSignature(t,i),Gi.error("[TK - removeSessionKeys] failed to perform SignTransaction activity",{address:i,err:o,turnkeySubOrganizationId:(n=this.walletProperties)===null||n===void 0?void 0:n.turnkeySubOrganizationId});else throw Gi.error("[TK] failed to perform SignTransaction activity",o),o}try{t.serialize({requireAllSignatures:!1})}catch(o){Gi.error("[SignTransaction] likely invalid signature, failed to serialize",o)}return t})}signTransaction(t){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("No turnkey account");const n=new Rd({connection:this.getConnection("confirmed"),from:this.turnkeyAddress,multipleTransactions:[t],onSubmit:()=>fr(this,void 0,void 0,function*(){return this.internalSignTransaction(t)})});return this.walletUiUtils.signTransaction(this,n)})}createUiTransaction(t){return fr(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),new Rd({connection:this.getConnection("confirmed"),from:t,onSubmit:r=>fr(this,void 0,void 0,function*(){if(r)return this.internalSignAndSendTransaction(r)})})})}internalSignAllTransactions(t){return fr(this,void 0,void 0,function*(){var n;yield this.createOrRestoreSession();let r=yield this.getTurnkeyAccount();const i=this.turnkeyAddress;let o;if(!r||!i)throw new Error("No turnkey account");try{o=yield r.signAllTransactions(t,i)}catch(s){if(lne.some(a=>s.message.toLowerCase().includes(a.toLowerCase())))yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),r=yield this.getTurnkeyAccount(),o=yield r.signAllTransactions(t,i),Gi.error("[TK - removeSessionKeys] failed to perform SignAllTransactions activity",{address:i,err:s,turnkeySubOrganizationId:(n=this.walletProperties)===null||n===void 0?void 0:n.turnkeySubOrganizationId});else throw Gi.error("[TK] failed to perform SignAllTransactions activity",s),s}try{o.forEach(s=>{s.serialize({requireAllSignatures:!1})})}catch(s){Gi.error("[SignAllTransactions] likely invalid signature, failed to serialize",s)}return o})}signAllTransactions(t){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("No turnkey account");const n=new Rd({connection:this.getConnection("confirmed"),from:this.turnkeyAddress,multipleTransactions:t,onSubmit:()=>fr(this,void 0,void 0,function*(){return this.internalSignAllTransactions(t)})});return this.walletUiUtils.signTransaction(this,n)})}internalSignAndSendTransaction(t,n){return fr(this,void 0,void 0,function*(){var r,i;if(!this.turnkeyAddress)throw new Se("Solana wallet not found");const o=this.getConnection((i=(r=this.connectionConfig)===null||r===void 0?void 0:r.commitment)!==null&&i!==void 0?i:"confirmed"),s=yield this.internalSignTransaction(t),a=yield o.sendRawTransaction(s.serialize(),n);return new Promise((l,c)=>{const d=setTimeout(()=>{c(new Se("Transaction timed out"))},6e4);o.onSignature(a,u=>{clearTimeout(d),u.err?c(new Se("Transaction failed")):l(a)},"confirmed")})})}signAndSendTransaction(t,n){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("Solana wallet not found");const r=yield this.optimizeTransaction(t),i=new Rd({connection:this.getConnection("confirmed"),from:this.turnkeyAddress,multipleTransactions:[r],onSubmit:()=>fr(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(r,n)})});return this.walletUiUtils.sendTransaction(this,i)})}sendTransaction(t,n){return fr(this,arguments,void 0,function*(r,i,o={}){var s;if(!this.turnkeyAddress)throw new Se("Solana wallet not found");if(!r||!i)throw new Se("Transaction and connection are required");const{signers:a}=o,l=o8t(o,["signers"]),c=yield i.getLatestBlockhash({commitment:o.preflightCommitment,minContextSlot:o.minContextSlot});"version"in r?a!=null&&a.length&&r.sign(a):(r.feePayer=r.feePayer||new Rn(this.turnkeyAddress),r.recentBlockhash=r.recentBlockhash||c.blockhash,a!=null&&a.length&&r.partialSign(...a)),l.preflightCommitment=l.preflightCommitment||i.commitment;const d=yield i.sendRawTransaction(r.serialize(),o),u={blockhash:c.blockhash,lastValidBlockHeight:c.lastValidBlockHeight,signature:d},h=yield i==null?void 0:i.confirmTransaction(u);return!((s=h==null?void 0:h.value)===null||s===void 0)&&s.err?JSON.stringify(h.value.err):d})}lamportsToSol(t){return t/LNt}optimizeTransaction(t){return fr(this,void 0,void 0,function*(){var n;let r=t;try{(yield this.getNetwork(!0))==="101"&&!Hpe(t)&&(r=yield zNt(this.getEnvId(),t,(n=this.turnkeyAddress)!==null&&n!==void 0?n:""))}catch(i){Gi.warn("Failed to optimize transaction",i)}return r})}getBlockExplorerUrlsForCurrentNetwork(){return fr(this,void 0,void 0,function*(){const t=this.getSelectedNetwork();return t?t.blockExplorerUrls:[]})}getEnabledNetworks(){return this.solNetworks}}const HNt=e=>{var t;if(!((t=e.apiProviders)===null||t===void 0)&&t.turnkey){const n=class extends KNt{constructor(r){super(i8t.TurnkeyHD,Object.assign(Object.assign({},e),r))}};return Object.defineProperty(n,"key",{value:"turnkeyhd",writable:!1}),[n]}return[]};Oo("@dynamic-labs/embedded-wallet-solana",TRt);var GNt="4.57.1";function Sr(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}var OT,Lne;function JNt(){if(Lne)return OT;Lne=1;var e=yv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var y=0,b=0,k=0,_=g.length;k!==_&&g[k]===0;)k++,y++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=g[k],M=0,D=R-1;(T!==0||M<b)&&D!==-1;D--,M++)T+=256*I[D]>>>0,I[D]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=M,k++}for(var A=R-b;A!==R&&I[A]===0;)A++;for(var U=c.repeat(y);A<R;++A)U+=n.charAt(I[A]);return U}function m(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return e.alloc(0);for(var y=0,b=0,k=0;g[y]===c;)b++,y++;for(var _=(g.length-y)*d+1>>>0,R=new Uint8Array(_);y<g.length;){var I=g.charCodeAt(y);if(I>255)return;var T=r[I];if(T===255)return;for(var M=0,D=_-1;(T!==0||M<k)&&D!==-1;D--,M++)T+=l*R[D]>>>0,R[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=M,y++}for(var A=_-k;A!==_&&R[A]===0;)A++;var U=e.allocUnsafe(b+(_-A));U.fill(0,0,b);for(var $=b;A!==_;)U[$++]=R[A++];return U}function v(g){var y=m(g);if(y)return y;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return OT=t,OT}var NT,Une;function ZNt(){if(Une)return NT;Une=1;var e=JNt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return NT=e(t),NT}var YNt=ZNt();const gl=Rr(YNt);var XNt=8078e3,QNt=8078001,ePt=8078004,tPt=8078005,nPt=8078006,rPt=8078011;function Bve(e){return Array.isArray(e)?"%5B"+e.map(Bve).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function iPt([e,t]){return`${e}=${Bve(t)}`}function oPt(e){const t=Object.entries(e).map(iPt).join("&");return btoa(t)}function sPt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${oPt(t)}'`),`${n}\``}}var f0=class extends Error{constructor(...[t,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=sPt(t,r);super(o,i);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:t,...r},this.name="SolanaError"}};function aPt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function lPt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(aPt(t,e));return e.write(t,n,0),n}})}function cPt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function gy(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function dPt(e,t){if(gy(e)!==gy(t))throw new f0(ePt);if(gy(e)&&gy(t)&&e.fixedSize!==t.fixedSize)throw new f0(tPt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!gy(e)&&!gy(t)&&e.maxSize!==t.maxSize)throw new f0(nPt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function uPt(e,t,n=0){if(t.length-n<=0)throw new f0(XNt,{codecDescription:e})}function fPt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new f0(QNt,{bytesLength:i,codecDescription:e,expected:t})}function hPt(e,t,n,r){if(r<t||r>n)throw new f0(rPt,{codecDescription:e,max:n,min:t,value:r})}function Dve(e){return(e==null?void 0:e.endian)!==1}function pPt(e){return lPt({fixedSize:e.size,write(t,n,r){e.range&&hPt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Dve(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function mPt(e){return cPt({fixedSize:e.size,read(t,n=0){uPt(e.name,t,n),fPt(e.name,e.size,t,n);const r=new DataView(gPt(t,n,e.size));return[e.get(r,Dve(e.config)),n+e.size]}})}function gPt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var yPt=(e={})=>pPt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),vPt=(e={})=>mPt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),wPt=(e={})=>dPt(yPt(e),vPt(e));function Fne(e){try{return lf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const bPt=(e,t)=>lf.sign(e,t.slice(0,32)),_Pt=lf.verify,R$=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);class xPt{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(nS,this))}static decode(t){return sa.deserialize(nS,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(nS,this,t)}}const nS=new Map;var Mve;const kPt=32,jb=32;function SPt(e){return e._bn!==void 0}let Wne=1;class Mn extends xPt{constructor(t){if(super({}),this._bn=void 0,SPt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=gl.decode(t);if(n.length!=jb)throw new Error("Invalid public key input");this._bn=new jd(n)}else this._bn=new jd(t);if(this._bn.byteLength()>jb)throw new Error("Invalid public key input")}}static unique(){const t=new Mn(Wne);return Wne+=1,new Mn(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return gl.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===jb)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Wh(i);return new Mn(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>kPt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,R$(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Wh(r);if(Fne(i))throw new Error("Invalid seeds, address must fall off the curve");return new Mn(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Mn(t);return Fne(n.toBytes())}}Mve=Mn;Mn.default=new Mve("11111111111111111111111111111111");nS.set(Mn,{kind:"struct",fields:[["_bn","u256"]]});new Mn("BPFLoader1111111111111111111111111111111111");const FB=1232,IPt=127,jve=64;class qne{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const yr=(e="publicKey")=>B.blob(32,e),Wy=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},EPt=(e="authorized")=>B.struct([yr("staker"),yr("withdrawer")],e),CPt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),yr("custodian")],e),APt=(e="voteInit")=>B.struct([yr("nodePubkey"),yr("authorizedVoter"),yr("authorizedWithdrawer"),B.u8("commission")],e),RPt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),yr("currentAuthorityDerivedKeyOwnerPubkey"),Wy("currentAuthorityDerivedKeySeed"),yr("newAuthorized")],e);function lb(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function cb(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function nl(e,t){if(!e)throw new Error(t||"Assertion failed")}class T${constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new T$(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];nl(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{nl(n.length>0,"Expected at least one writable signer key");const[l]=n[0];nl(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Mn(l)),...r.map(([l])=>new Mn(l)),...i.map(([l])=>new Mn(l)),...o.map(([l])=>new Mn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Mn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(nl(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const $ve="Reached end of buffer unexpectedly";function h2(e){if(e.length===0)throw new Error($ve);return e.shift()}function db(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error($ve);return e.splice(...t)}class U1{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Mn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gl.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new qne(this.staticAccountKeys)}static compile(t){const n=T$.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new qne(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gl.encode(a.data)}));return new U1({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];cb(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(gl.decode(u.data));let g=[];cb(g,h.length);let y=[];return cb(y,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(g),keyIndices:h,dataLength:Te.Buffer.from(y),data:v}});let i=[];cb(i,r.length);let o=Te.Buffer.alloc(FB);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(yr("key"),t,"keys"),yr("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>R$(u.toBytes())),recentBlockhash:gl.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=h2(n);if(r!==(r&IPt))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=h2(n),o=h2(n),s=lb(n);let a=[];for(let h=0;h<s;h++){const m=db(n,0,jb);a.push(new Mn(Te.Buffer.from(m)))}const l=db(n,0,jb),c=lb(n);let d=[];for(let h=0;h<c;h++){const m=h2(n),v=lb(n),g=db(n,0,v),y=lb(n),b=db(n,0,y),k=gl.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:g,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:gl.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new U1(u)}}const TPt=Te.Buffer.alloc(jve).fill(0);class zne{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class DI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new zne(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],o=[];n.forEach(g=>{g.keys.forEach(b=>{o.push({...b})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{o.push({pubkey:new Mn(g),isSigner:!1,isWritable:!1})});const s=[];o.forEach(g=>{const y=g.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===y);b>-1?(s[b].isWritable=s[b].isWritable||g.isWritable,s[b].isSigner=s[b].isSigner||g.isSigner):s.push(g)}),s.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",b)});const a=s.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=s.splice(a,1);g.isSigner=!0,g.isWritable=!0,s.unshift(g)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=s.findIndex(b=>b.pubkey.equals(g.publicKey));if(y>-1)s[y].isSigner||(s[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:g,isSigner:y,isWritable:b})=>{y?(u.push(g.toString()),l+=1,b||(c+=1)):(h.push(g.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(g=>{const{data:y,programId:b}=g;return{programIdIndex:m.indexOf(b.toString()),accounts:g.keys.map(k=>m.indexOf(k.pubkey.toString())),data:gl.encode(y)}});return v.forEach(g=>{nl(g.programIdIndex>=0),g.accounts.forEach(y=>nl(y>=0))}),new U1({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=bPt(r,i.secretKey);this._addSignature(i.publicKey,R$(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){nl(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):_Pt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];cb(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return nl(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(nl(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),nl(o.length<=FB,`Transaction too large: ${o.length} > ${FB}`),o}get keys(){return nl(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return nl(this.instructions.length===1),this.instructions[0].programId}get data(){return nl(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=lb(n);let i=[];for(let o=0;o<r;o++){const s=db(n,0,jve);i.push(gl.encode(Te.Buffer.from(s)))}return DI.populate(U1.from(n),i)}static populate(t,n=[]){const r=new DI;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==gl.encode(TPt)?null:gl.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new zne({keys:o,programId:t.accountKeys[i.programIdIndex],data:gl.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}}new Mn("SysvarC1ock11111111111111111111111111111111");new Mn("SysvarEpochSchedu1e111111111111111111111111");new Mn("Sysvar1nstructions1111111111111111111111111");new Mn("SysvarRecentB1ockHashes11111111111111111111");new Mn("SysvarRent111111111111111111111111111111111");new Mn("SysvarRewards111111111111111111111111111111");new Mn("SysvarS1otHashes111111111111111111111111111");new Mn("SysvarS1otHistory11111111111111111111111111");new Mn("SysvarStakeHistory1111111111111111111111111");const OPt=B.nu64("lamportsPerSignature"),NPt=B.struct([B.u32("version"),B.u32("state"),yr("authorizedPubkey"),yr("nonce"),B.struct([OPt],"feeCalculator")]);NPt.span;function J0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=wPt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),yr("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),yr("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),J0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),yr("base"),Wy("seed"),B.ns64("lamports"),B.ns64("space"),yr("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),yr("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),yr("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),yr("base"),Wy("seed"),B.ns64("space"),yr("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),yr("base"),Wy("seed"),yr("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),J0("lamports"),Wy("seed"),yr("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new Mn("11111111111111111111111111111111");new Mn("BPFLoader2111111111111111111111111111111111");B.struct([B.u32("typeIndex"),J0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(yr(),B.offset(B.u8(),-1),"authority")]);const Yi=yi(ua(Mn),ae(),e=>new Mn(e)),Lve=fa([ae(),it("base64")]),O$=yi(ua(Te.Buffer),Lve,e=>Te.Buffer.from(e[0],"base64"));function Uve(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Dr(),message:ae(),data:_e(B_())})})])}const PPt=Uve(Dr());function li(e){return yi(Uve(e),PPt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function Qc(e){return li(re({context:re({slot:H()}),value:e}))}function GE(e){return re({context:re({slot:H()}),value:e})}const BPt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});li(pe(ge(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(ge(H()))}))));const DPt=pe(re({slot:H(),prioritizationFee:H()})),MPt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),jPt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),$Pt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),LPt=Zd(ae(),pe(H())),_g=ge(Ot([re({}),ae()])),UPt=re({err:_g}),FPt=it("receivedSignature");re({"solana-core":ae(),"feature-set":_e(H())});const WPt=re({program:ae(),programId:Yi,parsed:Dr()}),qPt=re({programId:Yi,accounts:pe(Yi),data:ae()});Qc(re({err:ge(Ot([re({}),ae()])),logs:ge(pe(ae())),accounts:_e(ge(pe(ge(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(ge(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Ot([WPt,qPt]))}))))}));Qc(re({byIdentity:Zd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));li(BPt);li(MPt);li(DPt);li(jPt);li($Pt);li(LPt);li(H());Qc(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Yi)}));const zPt=re({amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())});Qc(pe(re({address:Yi,amount:ae(),uiAmount:ge(H()),decimals:H(),uiAmountString:_e(ae())})));Qc(pe(re({pubkey:Yi,account:re({executable:kn(),owner:Yi,lamports:H(),data:O$,rentEpoch:H()})})));const WB=re({program:ae(),parsed:Dr(),space:H()});Qc(pe(re({pubkey:Yi,account:re({executable:kn(),owner:Yi,lamports:H(),data:WB,rentEpoch:H()})})));Qc(pe(re({lamports:H(),address:Yi})));const N$=re({executable:kn(),owner:Yi,lamports:H(),data:O$,rentEpoch:H()});re({pubkey:Yi,account:N$});const VPt=yi(Ot([ua(Te.Buffer),WB]),Ot([Lve,WB]),e=>Array.isArray(e)?ke(e,O$):e),KPt=re({executable:kn(),owner:Yi,lamports:H(),data:VPt,rentEpoch:H()});re({pubkey:Yi,account:KPt});re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()});li(pe(re({signature:ae(),slot:H(),err:_g,memo:ge(ae()),blockTime:_e(ge(H()))})));li(pe(re({signature:ae(),slot:H(),err:_g,memo:ge(ae()),blockTime:_e(ge(H()))})));re({subscription:H(),result:GE(N$)});const HPt=re({pubkey:Yi,account:N$});re({subscription:H(),result:GE(HPt)});const GPt=re({parent:H(),slot:H(),root:H()});re({subscription:H(),result:GPt});const JPt=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]);re({subscription:H(),result:JPt});re({subscription:H(),result:GE(Ot([UPt,FPt]))});re({subscription:H(),result:H()});re({pubkey:ae(),gossip:ge(ae()),tpu:ge(ae()),rpc:ge(ae()),version:ge(ae())});const Vne=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ge(H())});li(re({current:pe(Vne),delinquent:pe(Vne)}));const ZPt=Ot([it("processed"),it("confirmed"),it("finalized")]),YPt=re({slot:H(),confirmations:ge(H()),err:_g,confirmationStatus:_e(ZPt)});Qc(pe(ge(YPt)));li(H());const Fve=re({accountKey:Yi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),P$=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Fve))})}),Wve=re({pubkey:Yi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),qve=re({accountKeys:pe(Wve),signatures:pe(ae())}),zve=re({parsed:Dr(),program:ae(),programId:Yi}),Vve=re({accounts:pe(Yi),data:ae(),programId:Yi}),XPt=Ot([Vve,zve]),QPt=Ot([re({parsed:Dr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),Kve=yi(XPt,QPt,e=>"accounts"in e?ke(e,Vve):ke(e,zve)),Hve=re({signatures:pe(ae()),message:re({accountKeys:pe(Wve),instructions:pe(Kve),recentBlockhash:ae(),addressTableLookups:_e(ge(pe(Fve)))})}),MI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:zPt}),Gve=re({writable:pe(Yi),readonly:pe(Yi)}),JE=re({err:_g,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(MI))),postTokenBalances:_e(ge(pe(MI))),loadedAddresses:_e(Gve),computeUnitsConsumed:_e(H())}),B$=re({err:_g,fee:H(),innerInstructions:_e(ge(pe(re({index:H(),instructions:pe(Kve)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(ge(pe(ae()))),preTokenBalances:_e(ge(pe(MI))),postTokenBalances:_e(ge(pe(MI))),loadedAddresses:_e(Gve),computeUnitsConsumed:_e(H())}),Nv=Ot([it(0),it("legacy")]),xg=re({pubkey:ae(),lamports:H(),postBalance:ge(H()),rewardType:ge(ae()),commission:_e(ge(H()))});li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:P$,meta:ge(JE),version:_e(Nv)})),rewards:_e(pe(xg)),blockTime:ge(H()),blockHeight:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(xg)),blockTime:ge(H()),blockHeight:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:qve,meta:ge(JE),version:_e(Nv)})),rewards:_e(pe(xg)),blockTime:ge(H()),blockHeight:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Hve,meta:ge(B$),version:_e(Nv)})),rewards:_e(pe(xg)),blockTime:ge(H()),blockHeight:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:qve,meta:ge(B$),version:_e(Nv)})),rewards:_e(pe(xg)),blockTime:ge(H()),blockHeight:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(xg)),blockTime:ge(H()),blockHeight:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:P$,meta:ge(JE)})),rewards:_e(pe(xg)),blockTime:ge(H())})));li(ge(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:ge(H())})));li(ge(re({slot:H(),meta:ge(JE),blockTime:_e(ge(H())),transaction:P$,version:_e(Nv)})));li(ge(re({slot:H(),transaction:Hve,meta:ge(B$),blockTime:_e(ge(H())),version:_e(Nv)})));Qc(re({blockhash:ae(),lastValidBlockHeight:H()}));Qc(kn());const e7t=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});li(pe(e7t));Qc(ge(re({feeCalculator:re({lamportsPerSignature:H()})})));li(ae());li(ae());const t7t=re({err:_g,logs:pe(ae()),signature:ae()});re({result:GE(t7t),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),J0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),J0(),B.seq(yr(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Mn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),J0("microLamports")])}});new Mn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Mn("Ed25519SigVerify111111111111111111111111111");ag.utils.isValidPrivateKey;ag.getPublicKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Mn("KeccakSecp256k11111111111111111111111111111");var Jve;new Mn("StakeConfig11111111111111111111111111111111");class Zve{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}Jve=Zve;Zve.default=new Jve(0,0,Mn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),EPt(),CPt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),yr("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),yr("newAuthorized"),B.u32("stakeAuthorizationType"),Wy("authoritySeed"),yr("authorityOwner")])}});new Mn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),APt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),yr("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),RPt()])}});new Mn("Vote111111111111111111111111111111111111111");new Mn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Mn("Vote111111111111111111111111111111111111111");B.struct([yr("nodePubkey"),yr("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),yr("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([yr("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);var Yve="4.57.1";function $i(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const cs=[];for(let e=0;e<256;++e)cs.push((e+256).toString(16).slice(1));function n7t(e,t=0){return(cs[e[t+0]]+cs[e[t+1]]+cs[e[t+2]]+cs[e[t+3]]+"-"+cs[e[t+4]]+cs[e[t+5]]+"-"+cs[e[t+6]]+cs[e[t+7]]+"-"+cs[e[t+8]]+cs[e[t+9]]+"-"+cs[e[t+10]]+cs[e[t+11]]+cs[e[t+12]]+cs[e[t+13]]+cs[e[t+14]]+cs[e[t+15]]).toLowerCase()}let PT;const r7t=new Uint8Array(16);function i7t(){if(!PT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");PT=crypto.getRandomValues.bind(crypto)}return PT(r7t)}const o7t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kne={randomUUID:o7t};function s7t(e,t,n){var i;if(Kne.randomUUID&&!e)return Kne.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??i7t();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,n7t(r)}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var BT,Hne;function a7t(){if(Hne)return BT;Hne=1,BT=e;function e(r){if(!r)throw new TypeError("argument namespace is required");function i(o){}return i._file=void 0,i._ignored=!0,i._namespace=r,i._traced=!1,i._warned=Object.create(null),i.function=t,i.property=n,i}function t(r,i){if(typeof r!="function")throw new TypeError("argument fn must be a function");return r}function n(r,i,o){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("argument obj must be object");var s=Object.getOwnPropertyDescriptor(r,i);if(!s)throw new TypeError("must call property on owner object");if(!s.configurable)throw new TypeError("property must be configurable")}return BT}var DT,Gne;function l7t(){if(Gne)return DT;Gne=1,DT=Object.setPrototypeOf||({__proto__:[]}instanceof Array?e:t);function e(n,r){return n.__proto__=r,n}function t(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(n,i)||(n[i]=r[i]);return n}return DT}var p2={exports:{}},Jne;function c7t(){return Jne||(Jne=1,typeof Object.create=="function"?p2.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:p2.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),p2.exports}/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var MT,Zne;function d7t(){if(Zne)return MT;Zne=1,MT=e;function e(t){return t.split(" ").map(function(n){return n.slice(0,1).toUpperCase()+n.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}return MT}var jT={exports:{}};const u7t={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var $T,Yne;function f7t(){if(Yne)return $T;Yne=1;var e=u7t;$T=o,o.message=e,o.code=t(e),o.codes=n(e),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0};function t(s){var a={};return Object.keys(s).forEach(function(c){var d=s[c],u=Number(c);a[d.toLowerCase()]=u}),a}function n(s){return Object.keys(s).map(function(l){return Number(l)})}function r(s){var a=s.toLowerCase();if(!Object.prototype.hasOwnProperty.call(o.code,a))throw new Error('invalid status message: "'+s+'"');return o.code[a]}function i(s){if(!Object.prototype.hasOwnProperty.call(o.message,s))throw new Error("invalid status code: "+s);return o.message[s]}function o(s){if(typeof s=="number")return i(s);if(typeof s!="string")throw new TypeError("code must be a number or string");var a=parseInt(s,10);return isNaN(a)?r(s):i(a)}return $T}/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var Xne;function h7t(){return Xne||(Xne=1,(function(e){var t=a7t()("http-errors"),n=l7t(),r=f7t(),i=c7t(),o=d7t();e.exports=a,e.exports.HttpError=l(),e.exports.isHttpError=d(e.exports.HttpError),m(e.exports,r.codes,e.exports.HttpError);function s(g){return+(String(g).charAt(0)+"00")}function a(){for(var g,y,b=500,k={},_=0;_<arguments.length;_++){var R=arguments[_],I=typeof R;if(I==="object"&&R instanceof Error)g=R,b=g.status||g.statusCode||b;else if(I==="number"&&_===0)b=R;else if(I==="string")y=R;else if(I==="object")k=R;else throw new TypeError("argument #"+(_+1)+" unsupported type "+I)}typeof b=="number"&&(b<400||b>=600)&&t("non-error status code; use only 4xx or 5xx status codes"),(typeof b!="number"||!r.message[b]&&(b<400||b>=600))&&(b=500);var T=a[b]||a[s(b)];g||(g=T?new T(y):new Error(y||r.message[b]),Error.captureStackTrace(g,a)),(!T||!(g instanceof T)||g.status!==b)&&(g.expose=b<500,g.status=g.statusCode=b);for(var M in k)M!=="status"&&M!=="statusCode"&&(g[M]=k[M]);return g}function l(){function g(){throw new TypeError("cannot construct abstract class")}return i(g,Error),g}function c(g,y,b){var k=v(y);function _(R){var I=R??r.message[b],T=new Error(I);return Error.captureStackTrace(T,_),n(T,_.prototype),Object.defineProperty(T,"message",{enumerable:!0,configurable:!0,value:I,writable:!0}),Object.defineProperty(T,"name",{enumerable:!1,configurable:!0,value:k,writable:!0}),T}return i(_,g),h(_,k),_.prototype.status=b,_.prototype.statusCode=b,_.prototype.expose=!0,_}function d(g){return function(b){return!b||typeof b!="object"?!1:b instanceof g?!0:b instanceof Error&&typeof b.expose=="boolean"&&typeof b.statusCode=="number"&&b.status===b.statusCode}}function u(g,y,b){var k=v(y);function _(R){var I=R??r.message[b],T=new Error(I);return Error.captureStackTrace(T,_),n(T,_.prototype),Object.defineProperty(T,"message",{enumerable:!0,configurable:!0,value:I,writable:!0}),Object.defineProperty(T,"name",{enumerable:!1,configurable:!0,value:k,writable:!0}),T}return i(_,g),h(_,k),_.prototype.status=b,_.prototype.statusCode=b,_.prototype.expose=!1,_}function h(g,y){var b=Object.getOwnPropertyDescriptor(g,"name");b&&b.configurable&&(b.value=y,Object.defineProperty(g,"name",b))}function m(g,y,b){y.forEach(function(_){var R,I=o(r.message[_]);switch(s(_)){case 400:R=c(b,I,_);break;case 500:R=u(b,I,_);break}R&&(g[_]=R,g[I]=R)})}function v(g){return g.substr(-5)!=="Error"?g+"Error":g}})(jT)),jT.exports}h7t();var Ru=(function(e){return e.development="development",e.preprod="preprod",e.production="production",e})({}),LT=(function(e){return e.REACH_THRESHOLD="REACH_THRESHOLD",e.REACH_ALL_PARTIES="REACH_ALL_PARTIES",e.SIGN_MESSAGE="SIGN_MESSAGE",e.SIGN_TRANSACTION="SIGN_TRANSACTION",e.REFRESH="REFRESH",e.RESHARE="RESHARE",e.EXPORT_PRIVATE_KEY="EXPORT_PRIVATE_KEY",e.NO_OPERATION="NO_OPERATION",e})({});const p7t={development:"http://localhost:4200",preprod:"https://app.dynamic-preprod.xyz",production:"https://app.dynamicauth.com"},Qne={[Ru.development]:/^http:\/\/localhost:\d+$/,[Ru.preprod]:/-preprod/,[Ru.production]:/^(?!.*dynamic-preprod)(?!http:\/\/localhost:\d+).*/};function m7t(e){return e?Qne[Ru.development].test(e)?Ru.development:Qne[Ru.preprod].test(e)?Ru.preprod:Ru.production:Ru.production}var rS=(function(e){return e.HEADER="header",e.COOKIE="cookie",e})({}),g7t="4.57.1";const ere=()=>{const e=new Set;return{emit:t=>e.forEach(n=>n(t)),off:t=>e.delete(t),on:t=>e.add(t)}},tre=({defaultOrigin:e,messageTransport:t})=>Object.assign(Object.assign({},t),{defaultOrigin:e,emit:n=>{var r;t.emit(Object.assign(Object.assign({},n),{origin:(r=n.origin)!==null&&r!==void 0?r:e}))}});var UT={exports:{}},nre;function y7t(){return nre||(nre=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(UT)),UT.exports}y7t();const v7t=e=>"recoveryManager"in e;function w7t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function b7t(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}let _7t=!1;const Xve=()=>_7t,x7t=e=>{if(typeof e!="object"||e===null)return!1;const{message:t,stack:n}=e;return typeof t=="string"&&typeof n=="string"},Sd=new gi("message-transport"),k7t=e=>{const{message:t,name:n,stack:r}=e,i=w7t(e,["message","name","stack"]);let o;if(t)try{const s=JSON.parse(t);if(Array.isArray(s))return s}catch{}switch(n){case"TypeError":o=new TypeError(t);break;case"ReferenceError":o=new ReferenceError(t);break;case"SyntaxError":o=new SyntaxError(t);break;case"RangeError":o=new RangeError(t);break;case"EvalError":o=new EvalError(t);break;case"URIError":o=new URIError(t);break;default:o=new Error(t),o.name=n||"Error"}return r&&(o.stack=[t,r].join(`
`)),Object.assign(o,i),o},S7t=e=>{if(e instanceof Error)return rre(e);if(Array.isArray(e))return{message:JSON.stringify(e)};if(typeof e=="object"&&e!==null){const t=I7t(e);return rre(Object.assign({message:t,name:"Error",stack:""},e))}return{message:String(e)}},rre=e=>Object.assign({message:e.message,name:e.name,stack:e.stack},e),I7t=e=>{try{return JSON.stringify(e)}catch{return String(e)}},ire=e=>`${e}__resolve`,ore=e=>`${e}__reject`,Qve=e=>`${e}__ack`,sre=e=>{const t=`No handlers were registered for message of type ${e}`;return Sd.error(t),new lxe(t)},E7t=5e3,are=({requestType:e,messageSessionId:t,timeoutMap:n,onReceiveAck:r,messageTransport:i,onTimeout:o,params:s,debugOverride:a,disableAckForOutgoingMessage:l=!1})=>{let c=!1;const d=Qve(e),u=()=>a??Xve(),h={args:s,doNotAck:l,messageSessionId:t,type:e},m=()=>new Date().toISOString(),v=({messageSessionId:y,type:b,doNotAck:k})=>{y!==t||b!==d||k||(u()&&Sd.debug(`[messageSender ${e} ${m()}]  received ack message (messageSessionId: ${t}). Message timeout ID: ${n[t]}. Content of timeoutMap: ${JSON.stringify(n)}`),clearTimeout(n[t]),delete n[t],r==null||r(),c&&(u()&&Sd.debug(`[messageSender ${e} ${m()}]  identified a false negative for message time out. Message: ${e} with session id ${t}`),Sd.instrument(`Identified a false negative for message time out. Message: ${e} with session id ${t}. Params: ${JSON.stringify(s)}`)))},g=()=>{if(l){i.emit(h);return}const y=()=>{const b=setTimeout(()=>{v7t(i)&&i.recoveryManager.canRetryMessageSessionId(t)?(u()&&Sd.debug(`[messageSender ${e} ${m()}]  timed out, triggering recovery (messageSessionId: ${t})`),i.recoveryManager.triggerRecovery(t),u()&&Sd.debug(`[messageSender ${e} ${m()}]  attempting to send message again (messageSessionId: ${t})`),g()):(o(),c=!0)},E7t);u()&&Sd.debug(`[messageSender ${e} ${m()}]  setting timeout timer (messageSessionId: ${t}). Timeout ID: ${b}. Content of timeoutMap: ${JSON.stringify(n)}`),n[t]=b};if("isBlocked"in i&&i.isBlocked()){i.emit(h,{onEmit:y});return}y(),i.emit(h)};return{handleAckMessage:v,sendMessage:g}},ewe=(e,{debugOverride:t,disableAcknowledgement:n}={})=>{let r=0;const i=Math.random().toString(),o=()=>`${i}-${r++}`,s={},a=()=>t??Xve(),l=()=>new Date().toISOString();return{emit:(c,...d)=>new Promise((u,h)=>{const m=o(),{handleAckMessage:v,sendMessage:g}=are({debugOverride:t,disableAckForOutgoingMessage:n,messageSessionId:m,messageTransport:e,onReceiveAck:()=>{y(),u()},onTimeout:()=>{h(sre(c)),y()},params:d,requestType:c,timeoutMap:s}),y=()=>e.off(v);n?u():e.on(v),g()}),handle:(c,d)=>{const u=h=>b7t(void 0,[h],void 0,function*({args:m,messageSessionId:v,type:g,doNotAck:y=!1}){if(c!==g)return;y||e.emit({args:[],messageSessionId:v,type:Qve(c)});const b=d(...m);if(b instanceof Promise)try{const k=yield b;e.emit({args:[k],messageSessionId:v,type:ire(c)})}catch(k){e.emit({args:[S7t(k)],messageSessionId:v,type:ore(c)})}});return e.on(u),()=>{e.off(u)}},request:(c,...d)=>new Promise((u,h)=>{const m=o(),v=ire(c),g=ore(c),{handleAckMessage:y,sendMessage:b}=are({debugOverride:t,disableAckForOutgoingMessage:n,messageSessionId:m,messageTransport:e,onTimeout:()=>{h(sre(c)),_()},params:d,requestType:c,timeoutMap:s}),k=R=>{if(R.messageSessionId!==m)return;a()&&Sd.debug(`[request ${c} ${l()}]  received response message (messageSessionId: ${m})`);const{args:[I],type:T}=R;if(T===v){_(),u(I),a()&&Sd.debug(`[request ${c} ${l()}]  resolved message (messageSessionId: ${m})`);return}if(T===g){_(),x7t(I)?h(k7t(I)):h(I),a()&&Sd.debug(`[request ${c} ${l()}]  rejected message (messageSessionId: ${m})`);return}y(R)},_=()=>e.off(k);e.on(k),b()})}},C7t=e=>{if(!e||typeof e!="object")return;const t={args:e.args,doNotAck:e.doNotAck,messageSessionId:e.messageSessionId,origin:e.origin,transportStamps:e.transportStamps,type:e.type};if(!(!Array.isArray(t.args)||typeof t.messageSessionId!="string"||typeof t.origin!="string"||typeof t.type!="string"))return t};Oo("@dynamic-labs/message-transport",g7t);function qB(){return qB=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qB.apply(this,arguments)}class lre{handleIframeMessageResponseError(t){if(typeof t=="object"&&t!==null&&"error"in t)throw new Error(String(t.error))}async getWallets(t){const n=await this.requestChannel.request("getWallets",t);return this.handleIframeMessageResponseError(n),n}async getWallet(t){const n=await this.requestChannel.request("getWallet",t);return this.handleIframeMessageResponseError(n),n}async createWalletAccount(t){const n=await this.requestChannel.request("createWalletAccount",t);return this.handleIframeMessageResponseError(n),n}async requiresPasswordForOperation(t){const n=await this.requestChannel.request("requiresPasswordForOperation",t);return this.handleIframeMessageResponseError(n),n}async signMessage(t){const n=await this.requestChannel.request("signMessage",t);return this.handleIframeMessageResponseError(n),n}async signRawMessage(t){const n=await this.requestChannel.request("signRawMessage",t);return this.handleIframeMessageResponseError(n),n}async signTransaction(t){const n=await this.requestChannel.request("signTransaction",t);return this.handleIframeMessageResponseError(n),n}async isPasswordEncrypted(t){const n=await this.requestChannel.request("isPasswordEncrypted",t);return this.handleIframeMessageResponseError(n),n}async backupKeySharesToGoogleDrive(t){const n=await this.requestChannel.request("backupKeySharesToGoogleDrive",t);this.handleIframeMessageResponseError(n)}async backupKeySharesToICloud(t){const n=await this.requestChannel.request("backupKeySharesToICloud",t);this.handleIframeMessageResponseError(n)}async displayICloudSignIn(t){await this.requestChannel.request("displayICloudSignIn",{chainName:t})}async hideICloudSignIn(){await this.requestChannel.request("hideICloudSignIn")}async isICloudAuthenticated(t){return this.requestChannel.request("isICloudAuthenticated",{chainName:t})}async delegateKeyShares(t){const n=await this.requestChannel.request("delegateKeyShares",t);this.handleIframeMessageResponseError(n)}async revokeDelegation(t){const n=await this.requestChannel.request("revokeDelegation",t);this.handleIframeMessageResponseError(n)}async exportClientKeysharesFromGoogleDrive(t){const n=await this.requestChannel.request("exportClientKeysharesFromGoogleDrive",t);this.handleIframeMessageResponseError(n)}async refreshWalletAccountShares(t){const n=await this.requestChannel.request("refreshWalletAccountShares",t);this.handleIframeMessageResponseError(n)}async reshare(t){const n=await this.requestChannel.request("reshare",t);this.handleIframeMessageResponseError(n)}async exportPrivateKey(t){const n=await this.requestChannel.request("exportPrivateKey",t);this.handleIframeMessageResponseError(n)}async verifyPassword(t){const n=await this.requestChannel.request("verifyPassword",t);this.handleIframeMessageResponseError(n)}async updatePassword(t){const n=await this.requestChannel.request("updatePassword",t);this.handleIframeMessageResponseError(n)}async importPrivateKey(t){const n=await this.requestChannel.request("importPrivateKey",t);return this.handleIframeMessageResponseError(n),n}async sendAuthToken(t,n,r){return this.requestChannel.request("sendAuthToken",t,n,r)}async exportClientKeyshares(t){const n=await this.requestChannel.request("exportClientKeyshares",t);this.handleIframeMessageResponseError(n)}async offlineExportPrivateKey(t){const n=await this.requestChannel.request("offlineExportPrivateKey",t);return this.handleIframeMessageResponseError(n),n}async signTypedData(t){const n=await this.requestChannel.request("signTypedData",t);return this.handleIframeMessageResponseError(n),n}async cleanup(){return this.requestChannel.request("cleanup")}constructor(t){this.requestChannel=ewe(t)}}const A7t=new gi("DynamicWaasWalletClient"),cre=(e,t,n)=>{if(!(t!=null&&t.contentWindow))throw new Error("Iframe or contentWindow not available");const r=new gi("debug");e.on(o=>{if(o.origin==="host"){var s;t==null||(s=t.contentWindow)==null||s.postMessage(o,n)}});const i=o=>{const{data:s}=o;if(s&&(s==null?void 0:s.origin)==="webview"&&typeof s=="object")try{const a=C7t(s);e.emit(a)}catch(a){a instanceof SyntaxError||r.error("Error handling incoming message:",a)}};document.addEventListener("message",i),window.addEventListener("message",i)};class An{async initialize(){await this.doInitializeIframeCommunication()}initializeIframeCommunication(){var t,n;return(n=(t=An).iframeLoadPromise)!=null||(t.iframeLoadPromise=this.doInitializeIframeCommunication()),An.iframeLoadPromise}async doInitializeIframeCommunication(){try{await this.loadIframe()}catch(t){throw this.logger.error("Error initializing iframe:",t),t}}async initializeMessageTransport(){if(this.messageTransport&&this.iframeMessageHandler){this.logger.debug("Skipping initializeMessageTransport: transport and message handler already initialized");return}await this.initializeIframeCommunication();const t=tre({defaultOrigin:"host",messageTransport:ere()});if(this.messageTransport=t,!this.iframe)throw new Error("Iframe not available");cre(this.messageTransport,this.iframe,this.iframeDomain),this.iframeMessageHandler=new lre(this.messageTransport),this.secureStorage&&this.setupSecureStorageHandlers(),await this.initAuthToken(),this.secureStorage&&this.iframeMessageHandler&&await this.notifySecureStorageAvailable()}setupSecureStorageHandlers(){this.messageTransport&&(this.iframeRequestChannel=ewe(this.messageTransport),this.iframeRequestChannel.handle("getClientKeyShare",this.handleGetClientKeyShare.bind(this)),this.iframeRequestChannel.handle("setClientKeyShare",this.handleSetClientKeyShare.bind(this)))}async handleGetClientKeyShare(t){if(!this.secureStorage)throw new Error("Secure storage not available");return{keyShares:await this.secureStorage.getClientKeyShare(t.chainName,t.accountAddress)}}async handleSetClientKeyShare(t){if(!this.secureStorage)throw new Error("Secure storage not available");await this.secureStorage.setClientKeyShare(t.chainName,t.accountAddress,t.keyShares)}async notifySecureStorageAvailable(){this.iframeMessageHandler&&await(this.iframeMessageHandler.sendSecureStorageConfig==null?void 0:this.iframeMessageHandler.sendSecureStorageConfig.call(this.iframeMessageHandler))}async initAuthToken(){if(!this.iframeMessageHandler)throw new Error("Iframe message handler not initialized");try{await this.iframeMessageHandler.sendAuthToken(this.authToken,this.authMode)}catch(t){throw new Error("Failed to establish secure token exchange: "+t)}}async resetSharedIframe(){An.sharedIframe=null,An.iframeInstanceCount=0,An.iframeLoadPromise=null,this.iframe=null,this.iframeMessageHandler=null,this.messageTransport=null,An.iframeLoadTimeout=Math.min(An.iframeLoadTimeout*2,6e4)}async loadIframe(){return An.sharedIframe?(this.assignExistingIframe(),Promise.resolve()):An.iframeLoadPromise?An.iframeLoadPromise.then(()=>{this.assignExistingIframe()}):(An.iframeLoadPromise=this.createIframeLoadPromise(),An.iframeLoadPromise)}assignExistingIframe(){this.iframe=An.sharedIframe,An.iframeInstanceCount++}createIframeLoadPromise(){return new Promise((t,n)=>{const r=()=>{An.iframeLoadAttempts++,this.logger.debug(`Loading iframe for waas wallet client... (attempt ${An.iframeLoadAttempts}/${An.maxRetryAttempts+1})`,this.getIframeContext());const i=document.createElement("iframe");let o=null;const s=qB({},this.getIframeContext(),{attempt:An.iframeLoadAttempts}),a=setTimeout(()=>{i.onerror&&i.onerror("Iframe load timeout")},An.iframeLoadTimeout);o=this.createMessageListener(i,a,t),window.addEventListener("message",o),this.configureIframe(i),this.setIframeSource(i),this.logger.debug("Creating iframe with src:",i.src),document.body.appendChild(i),this.setupIframeEventHandlersWithRetry(i,o,a,n,r,s)};r()})}setupIframeEventHandlersWithRetry(t,n,r,i,o,s){t.onload=()=>{this.logger.debug("Iframe onload fired, waiting for ready message...")},t.onerror=a=>{if(n&&window.removeEventListener("message",n),clearTimeout(r),An.iframeLoadAttempts<=An.maxRetryAttempts){const l=a instanceof Error?a.message:"Unknown error occurred.";this.logger.warn(`(loadIframe) Iframe failed to load on attempt ${An.iframeLoadAttempts}, retrying... context: ${JSON.stringify(s)}, error: ${l}`),t.parentNode&&t.parentNode.removeChild(t),setTimeout(()=>{o()},1e3)}else this.logger.error("Iframe failed to load after all retry attempts: ",a),this.resetSharedIframe(),An.iframeLoadAttempts=0,i(new Error(`Failed to load iframe after all retry attempts... context: ${JSON.stringify(s)}`))}}getIframeContext(){var t;return{iframeDomain:this.iframeDomain,environmentId:this.environmentId,sdkVersion:(t=this.sdkVersion)!=null?t:"",instanceId:this.instanceId,chainName:this.chainName,iframeLoadTimeout:An.iframeLoadTimeout}}createMessageListener(t,n,r){const i=o=>{o.source===t.contentWindow&&o.data===`iframe-ready-${this.instanceId}`&&(window.removeEventListener("message",i),clearTimeout(n),An.sharedIframe=t,this.iframe=t,An.iframeInstanceCount++,An.iframeLoadAttempts=0,r(),this.logger.debug("Iframe loaded successfully...",this.getIframeContext()))};return i}configureIframe(t){t.style.display="none",t.setAttribute("title","Dynamic Wallet Iframe"),t.setAttribute("sandbox","allow-scripts allow-same-origin allow-downloads"),t.setAttribute("referrerpolicy","origin"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="0",t.style.height="0",t.style.border="none",t.style.pointerEvents="none"}setIframeSource(t){var n,r,i;const o=new URLSearchParams({instanceId:(n=this.instanceId)!=null?n:"",hostOrigin:window.location.origin,environmentId:this.environmentId,baseApiUrl:this.baseApiUrl,baseMPCRelayApiUrl:this.baseMPCRelayApiUrl,sdkVersion:(r=this.sdkVersion)!=null?r:"",debug:String(this.debug),baseClientKeysharesRelayApiUrl:(i=this.baseClientKeysharesRelayApiUrl)!=null?i:""});t.src=`${this.iframeDomain}/waas-v1/${this.environmentId}?${o.toString()}`}loadIframeForContainer(t){return new Promise((n,r)=>{var i;const o={iframeDomain:this.iframeDomain,environmentId:this.environmentId,sdkVersion:(i=this.sdkVersion)!=null?i:"",instanceId:this.instanceId,chainName:this.chainName,iframeLoadTimeout:An.iframeLoadTimeout};this.logger.debug("Loading iframe for container...",o);const s=document.createElement("iframe");let a=null;const l=setTimeout(()=>{a&&window.removeEventListener("message",a),this.logger.error(`(loadIframeForContainer) Iframe load timeout due to no handshake message from iframe, this could be network issues, incorrect iframe domain, or CORS errors that prevents iframe from being loaded or sending handshake message, context: ${JSON.stringify(o)}`),r(new Error(`(loadIframeForContainer) Iframe load timeout due to no handshake message from iframe, this could be network issues, incorrect iframe domain, or CORS errors that prevents iframe from being loaded or sending handshake message, context: ${JSON.stringify(o)}`))},An.iframeLoadTimeout);s.style.display="block",s.style.width="100%",s.style.height="100%",s.setAttribute("title","Dynamic Wallet Storage"),s.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"),s.setAttribute("referrerpolicy","origin");var c,d,u;const h=new URLSearchParams({instanceId:(c=this.instanceId)!=null?c:"",hostOrigin:window.location.origin,environmentId:this.environmentId,baseApiUrl:this.baseApiUrl,baseMPCRelayApiUrl:this.baseMPCRelayApiUrl,sdkVersion:(d=this.sdkVersion)!=null?d:"",debug:String(this.debug),baseClientKeysharesRelayApiUrl:(u=this.baseClientKeysharesRelayApiUrl)!=null?u:""});s.src=`${this.iframeDomain}/waas-v1/${this.environmentId}?${h.toString()}`,this.logger.debug("Creating iframe with src:",s.src),t.appendChild(s),s.onload=()=>{this.logger.debug("Iframe onload fired, waiting for ready message...")},s.onerror=m=>{a&&window.removeEventListener("message",a),clearTimeout(l),this.logger.error("Iframe failed to load due to errors: ",m),r(new Error("Failed to load iframe due to unknown load errors, this is likely a browser or network issue."))},a=m=>{if(m.source===s.contentWindow&&m.data===`iframe-ready-${this.instanceId}`){a&&window.removeEventListener("message",a),clearTimeout(l),An.sharedIframe=s,this.iframe=s,An.iframeInstanceCount++,n(s);var v;this.logger.debug("Iframe loaded successfully...",{iframeDomain:this.iframeDomain,environmentId:this.environmentId,sdkVersion:(v=this.sdkVersion)!=null?v:"",instanceId:this.instanceId,chainName:this.chainName})}},window.addEventListener("message",a)})}async initializeIframeDisplayForContainer({container:t}){try{const r=await this.loadIframeForContainer(t),i=tre({defaultOrigin:"host",messageTransport:ere()});cre(i,r,this.iframeDomain);const o=new lre(i);var n;return await o.sendAuthToken(this.authToken,(n=this.authMode)!=null?n:rS.HEADER),{iframe:r,iframeDisplay:o,cleanup:()=>{t.removeChild(r)}}}catch(r){throw this.logger.error("Error initializing iframe:",r),r}}async cleanup(){if(await this.initializeMessageTransport(),!this.iframeMessageHandler)throw new Error("Iframe message handler not initialized");await this.iframeMessageHandler.cleanup(),this.iframe&&(An.iframeInstanceCount--,An.sharedIframe&&An.iframeInstanceCount===0&&(document.body.removeChild(An.sharedIframe),An.sharedIframe=null,An.iframeLoadPromise=null),this.iframe=null)}constructor({environmentId:t,baseApiUrl:n,baseMPCRelayApiUrl:r,chainName:i,sdkVersion:o,authMode:s=rS.HEADER,authToken:a,debug:l,baseClientKeysharesRelayApiUrl:c},d){this.logger=A7t,this.instanceId=null,this.iframeDomain=null,this.messageTransport=null,this.iframeMessageHandler=null,this.iframe=null,this.environmentId=t,this.authToken=a,this.authMode=s,this.baseApiUrl=n,this.baseMPCRelayApiUrl=r,this.chainName=i,this.sdkVersion=o,this.baseClientKeysharesRelayApiUrl=c,d!=null&&d.secureStorage&&(this.secureStorage=d.secureStorage);const u=m7t(n);this.iframeDomain=p7t[u],this.authMode===rS.COOKIE&&(this.iframeDomain=this.baseApiUrl),this.instanceId=s7t(),this.debug=!!l,this.logger.setLogLevel(this.debug?"DEBUG":"INFO")}}An.iframeLoadPromise=null;An.iframeLoadTimeout=1e4;An.iframeLoadAttempts=0;An.maxRetryAttempts=1;An.sharedIframe=null;An.iframeInstanceCount=0;class R7t extends An{async withHandler(t){if(await this.initializeMessageTransport(),!this.iframeMessageHandler)throw new Error("Iframe message handler not initialized");return t(this.iframeMessageHandler)}async getWallets(){return this.withHandler(t=>t.getWallets({chainName:this.chainName}))}async getWallet({accountAddress:t,walletOperation:n=LT.NO_OPERATION,signedSessionId:r,authToken:i}){return this.withHandler(o=>o.getWallet({chainName:this.chainName,accountAddress:t,walletOperation:n,signedSessionId:r,authToken:i}))}async createWalletAccount({thresholdSignatureScheme:t,password:n=void 0,signedSessionId:r,authToken:i,traceContext:o,bitcoinConfig:s}){return this.withHandler(a=>a.createWalletAccount({chainName:this.chainName,thresholdSignatureScheme:t,password:n,signedSessionId:r,authToken:i,traceContext:o,bitcoinConfig:s}))}async requiresPasswordForOperation({accountAddress:t,walletOperation:n=LT.REACH_THRESHOLD,authToken:r}){return this.withHandler(i=>i.requiresPasswordForOperation({chainName:this.chainName,accountAddress:t,walletOperation:n,authToken:r}))}async isPasswordEncrypted({accountAddress:t,authToken:n}){return this.withHandler(r=>r.isPasswordEncrypted({chainName:this.chainName,accountAddress:t,authToken:n}))}async signMessage({message:t,accountAddress:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,context:a,traceContext:l,bitcoinConfig:c}){const d=JSON.stringify(a,(u,h)=>typeof h=="bigint"?h.toString():h);return this.withHandler(u=>u.signMessage({chainName:this.chainName,message:t,accountAddress:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,context:d,traceContext:l,bitcoinConfig:c}))}async signRawMessage({message:t,accountAddress:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,context:a,traceContext:l,bitcoinConfig:c}){return this.withHandler(d=>d.signRawMessage({chainName:this.chainName,message:t,accountAddress:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,context:a,traceContext:l,bitcoinConfig:c}))}async signTransaction({senderAddress:t,transaction:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,chainId:a,traceContext:l,bitcoinConfig:c}){return this.withHandler(d=>d.signTransaction({chainName:this.chainName,senderAddress:t,transaction:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,chainId:a,traceContext:l,bitcoinConfig:c}))}async signTypedData({accountAddress:t,typedData:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a}){return this.withHandler(l=>l.signTypedData({chainName:this.chainName,accountAddress:t,typedData:JSON.stringify(n),password:r,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a}))}async backupKeySharesToGoogleDrive({accountAddress:t,password:n=void 0,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.backupKeySharesToGoogleDrive({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async backupKeySharesToICloud({accountAddress:t,password:n=void 0,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.backupKeySharesToICloud({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async displayICloudSignIn({displayContainer:t}){const{iframeDisplay:n}=await this.initializeIframeDisplayForContainer({container:t});if(!n)throw new Error("Failed to initialize iframe handler with display functionality");return n.displayICloudSignIn(this.chainName)}async hideICloudSignIn(){return this.withHandler(t=>t.hideICloudSignIn())}async isICloudAuthenticated(){return this.withHandler(t=>t.isICloudAuthenticated(this.chainName))}async delegateKeyShares({accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}){return this.withHandler(a=>a.delegateKeyShares({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}))}async revokeDelegation({accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}){return this.withHandler(a=>a.revokeDelegation({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}))}async exportClientKeysharesFromGoogleDrive({accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.exportClientKeysharesFromGoogleDrive({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async refreshWalletAccountShares({accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}){return this.withHandler(a=>a.refreshWalletAccountShares({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}))}async reshare({accountAddress:t,oldThresholdSignatureScheme:n,newThresholdSignatureScheme:r,password:i,signedSessionId:o,authToken:s,mfaToken:a,traceContext:l}){return this.withHandler(c=>c.reshare({chainName:this.chainName,accountAddress:t,oldThresholdSignatureScheme:n,newThresholdSignatureScheme:r,password:i,signedSessionId:o,authToken:s,mfaToken:a,traceContext:l}))}async exportPrivateKey({accountAddress:t,displayContainer:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a,bitcoinConfig:l}){const{iframeDisplay:c}=await this.initializeIframeDisplayForContainer({container:n});if(!c)throw new Error("Failed to initialize iframe handler with display functionality");return c.exportPrivateKey({chainName:this.chainName,accountAddress:t,password:r,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a,bitcoinConfig:l})}async verifyPassword({accountAddress:t,password:n,walletOperation:r=LT.NO_OPERATION,signedSessionId:i,authToken:o,traceContext:s}){return this.withHandler(a=>a.verifyPassword({chainName:this.chainName,accountAddress:t,password:n,walletOperation:r,signedSessionId:i,authToken:o,traceContext:s}))}async updatePassword({accountAddress:t,existingPassword:n,newPassword:r,signedSessionId:i,authToken:o,traceContext:s}){return this.withHandler(a=>a.updatePassword({chainName:this.chainName,accountAddress:t,existingPassword:n,newPassword:r,signedSessionId:i,authToken:o,traceContext:s}))}async importPrivateKey({privateKey:t,thresholdSignatureScheme:n,signedSessionId:r,authToken:i,publicAddressCheck:o,addressType:s,traceContext:a,legacyWalletId:l}){return this.withHandler(c=>c.importPrivateKey({chainName:this.chainName,privateKey:t,thresholdSignatureScheme:n,signedSessionId:r,authToken:i,publicAddressCheck:o,addressType:s,traceContext:a,legacyWalletId:l}))}async exportClientKeyshares({accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.exportClientKeyshares({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async offlineExportPrivateKey({keyShares:t,derivationPath:n,traceContext:r}){const i={chainName:this.chainName,keyShares:t,derivationPath:n},o=JSON.stringify(i),s=new TextEncoder().encode(o),a=Buffer.from(s).toString("base64");return this.withHandler(l=>l.offlineExportPrivateKey({chainName:this.chainName,base64Args:a,traceContext:r}))}constructor({environmentId:t,authToken:n,baseApiUrl:r,baseMPCRelayApiUrl:i,baseClientKeysharesRelayApiUrl:o,chainName:s,sdkVersion:a,debug:l,authMode:c=rS.HEADER},d){super({environmentId:t,authToken:n,baseApiUrl:r,baseMPCRelayApiUrl:i,baseClientKeysharesRelayApiUrl:o,chainName:s,sdkVersion:a,debug:l,authMode:c},d)}}const T7t="https://app.dynamicauth.com",O7t="https://relay.dynamicauth.com";class N7t{constructor(t){this.startTime=t||Date.now(),this.stepStartTime=this.startTime}getElapsed(){return Date.now()-this.startTime}startStep(){this.stepStartTime=Date.now()}getStepElapsed(){return Date.now()-this.stepStartTime}resetStep(){this.startStep()}setStartTime(t){this.startTime=t}setStepStartTime(t){this.stepStartTime=t}}class P7t{constructor(){this.iframeStamper=null}setIframeStamper(t){this.iframeStamper=t}clear(){this.iframeStamper&&(this.iframeStamper.remove(),this.iframeStamper=null)}}const B7t=e=>{class t extends e{setGetAuthTokenFunction(r){this.getAuthToken=r}setWaasAuthMode(r){this.authMode=r}setGetMfaTokenFunction(r){this.getMfaToken=r}setEnvironmentId(r){this.environmentId=r}setBaseApiUrl(r){this.baseApiUrl=r}setBaseClientKeysharesRelayApiUrl(r){this.baseClientKeysharesRelayApiUrl=r}setRelayUrl(r){this.relayUrl=r}setGetSignedSessionIdFunction(r){this.getSignedSessionId=r}delegateKeyShares(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Error("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Error("Signed session ID is required");const d=(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this);if(!d)throw new Error("Auth token is required");return l.delegateKeyShares({accountAddress:i,authToken:d,password:o,signedSessionId:c})})}constructor(...r){super(...r),this.name="Dynamic Waas",this.overrideKey="dynamicwaas",this.isEmbeddedWallet=!0,this.authMode="header",this.__exportHandler=new P7t;const{connectedChain:i}=this,s={BTC:"BTC",EVM:"EVM",SOL:"SVM",SUI:"SUI",TON:"TON"}[i];if(!s)throw new Se(`Unsupported chain: ${i}`);this.chainName=s}createDynamicWaasClient(r){return $i(this,void 0,void 0,function*(){var i;const o=(i=this.getAuthToken)===null||i===void 0?void 0:i.call(this);if(!o&&this.authMode==="header")throw new Se("Auth token is required in non-cookie auth mode");if(!this.environmentId)throw new Se("Environment ID is required");const s=new R7t({authMode:this.authMode||"header",authToken:o||"",baseApiUrl:this.baseApiUrl||T7t,baseClientKeysharesRelayApiUrl:this.baseClientKeysharesRelayApiUrl,baseMPCRelayApiUrl:this.relayUrl||O7t,chainName:this.chainName,environmentId:this.environmentId,sdkVersion:Yve});return this.instrumentAsync({context:r,fn:()=>$i(this,void 0,void 0,function*(){return s.initialize()}),operation:"createDynamicWaasClient",resource:"initialize"}),s})}getWaasWalletClient(r){return $i(this,void 0,void 0,function*(){return this.dynamicWaasClient||(this.dynamicWaasClient=yield this.createDynamicWaasClient(r)),this.dynamicWaasClient})}createWalletAccount(){return $i(this,arguments,void 0,function*({thresholdSignatureScheme:r="TWO_OF_TWO",password:i,bitcoinConfig:o}={}){var s,a;const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return yield l.createWalletAccount({authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),bitcoinConfig:o,password:i,signedSessionId:c,thresholdSignatureScheme:r})})}importPrivateKey(r){return $i(this,arguments,void 0,function*({privateKey:i,thresholdSignatureScheme:o="TWO_OF_TWO",publicAddressCheck:s,addressType:a,legacyWalletId:l}){var c,d;const u=yield this.getWaasWalletClient(),h=yield(c=this.getSignedSessionId)===null||c===void 0?void 0:c.call(this);if(!h)throw new Se("Signed session ID is required");yield u.importPrivateKey({addressType:a,authToken:(d=this.getAuthToken)===null||d===void 0?void 0:d.call(this),legacyWalletId:l,privateKey:i,publicAddressCheck:s,signedSessionId:h,thresholdSignatureScheme:o})})}exportPrivateKey(){return $i(this,arguments,void 0,function*({accountAddress:r,displayContainer:i,password:o}={}){var s,a,l;const c=yield this.getWaasWalletClient(),d=r||(yield this.getActiveAccountAddress());if(!d)throw new Se("Account address is required");if(!i)throw new Se("Missing display container for export private key");const u=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!u)throw new Se("Signed session ID is required");this.__exportHandler.setIframeStamper(i);const h=yield(a=this.getMfaToken)===null||a===void 0?void 0:a.call(this,{mfaAction:_h.WalletWaasExport});yield c.exportPrivateKey({accountAddress:d,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),displayContainer:i,mfaToken:h,password:o,signedSessionId:u})})}getExportHandler(){return this.__exportHandler}exportClientKeyshares(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!l)throw new Se("Signed session ID is required");yield(yield this.getWaasWalletClient()).exportClientKeyshares({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:l})})}backupKeySharesToGoogleDrive(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.backupKeySharesToGoogleDrive({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}exportClientKeysharesFromGoogleDrive(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.exportClientKeysharesFromGoogleDrive({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}backupKeySharesToICloud(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.backupKeySharesToICloud({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}displayICloudSignIn(r){return $i(this,arguments,void 0,function*({displayContainer:i}){return(yield this.getWaasWalletClient()).displayICloudSignIn({displayContainer:i})})}hideICloudSignIn(){return $i(this,void 0,void 0,function*(){return(yield this.getWaasWalletClient()).hideICloudSignIn()})}isICloudAuthenticated(){return $i(this,void 0,void 0,function*(){return(yield this.getWaasWalletClient()).isICloudAuthenticated()})}refreshWalletAccountShares(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a,l;if(!i)throw new Se("Account address is required");const c=yield this.getWaasWalletClient(),d=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!d)throw new Se("Signed session ID is required");const u=yield(a=this.getMfaToken)===null||a===void 0?void 0:a.call(this,{mfaAction:_h.WalletWaasRefresh});return c.refreshWalletAccountShares({accountAddress:i,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),mfaToken:u,password:o,signedSessionId:d})})}reshareWalletAccountShares(r){return $i(this,arguments,void 0,function*({accountAddress:i,thresholdSignatureScheme:o,password:s}){var a,l;if(!i)throw new Se("Account address is required");const c=yield this.getWaasWalletClient(),d=yield(a=this.getSignedSessionId)===null||a===void 0?void 0:a.call(this);if(!d)throw new Se("Signed session ID is required");const h=(yield c.getWallets()).find(v=>v.accountAddress===i);if(!h)throw new Se("Wallet not found");const m=h.thresholdSignatureScheme;return c.reshare({accountAddress:i,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),newThresholdSignatureScheme:o,oldThresholdSignatureScheme:m,password:s,signedSessionId:d})})}revokeDelegation(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.revokeDelegation({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}updatePassword(r){return $i(this,arguments,void 0,function*({accountAddress:i,existingPassword:o,newPassword:s}){var a,l;if(!i)throw new Se("Account address is required");const c=yield this.getWaasWalletClient(),d=yield(a=this.getSignedSessionId)===null||a===void 0?void 0:a.call(this);if(!d)throw new Se("Signed session ID is required");return c.updatePassword({accountAddress:i,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),existingPassword:o,newPassword:s,signedSessionId:d})})}signRawMessage(r){return $i(this,arguments,void 0,function*({accountAddress:i,message:o,password:s}){var a,l,c;if(!i)throw new Se("Account address is required");if(o.length!==64)throw new Se("Message must be 64 characters long");const d=yield this.getWaasWalletClient(),u=yield(a=this.getSignedSessionId)===null||a===void 0?void 0:a.call(this);if(!u)throw new Se("Signed session ID is required");const h=yield(l=this.getMfaToken)===null||l===void 0?void 0:l.call(this,{mfaAction:_h.WalletWaasSign});return d.signRawMessage({accountAddress:i,authToken:(c=this.getAuthToken)===null||c===void 0?void 0:c.call(this),message:o,mfaToken:h,password:s,signedSessionId:u})})}endSession(){return $i(this,void 0,void 0,function*(){const r=yield this.getWaasWalletClient();r&&(yield r.cleanup(),this.dynamicWaasClient=void 0)})}getConnectedAccounts(){return $i(this,void 0,void 0,function*(){try{return(yield(yield this.getWaasWalletClient()).getWallets()).map(s=>s==null?void 0:s.accountAddress).filter(s=>typeof s=="string")}catch(r){return this.logger.debug("[getConnectedAccounts] Failed to fetch wallets from Waas client",{error:r}),[]}})}generateTraceId(){const r=new Uint8Array(16);return crypto.getRandomValues(r),Array.from(r).map(i=>i.toString(16).padStart(2,"0")).join("")}instrument(r,i){const o={accountAddress:i.accountAddress||this.activeAccountAddress,environmentId:i.environmentId||this.environmentId,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,traceId:i.traceId||this.generateTraceId()};this.logger.debug(r,Object.assign(Object.assign({},o),i)),this.logger.instrument(r,Object.assign(Object.assign({},o),i))}instrumentAsync(r){return $i(this,arguments,void 0,function*({operation:i,resource:o,fn:s,context:a}){const l=new N7t(a==null?void 0:a.startTime);a!=null&&a.stepStartTime?l.setStepStartTime(a.stepStartTime):l.startStep(),this.instrument(`[${i}] ${o} - start`,Object.assign({key:`${o}-start`,operation:i,stepTime:l.getStepElapsed(),time:l.getElapsed()},a));try{const c=yield s(l);return this.instrument(`[${i}] ${o} - completed`,Object.assign({key:`${o}-completed`,operation:i,stepTime:l.getStepElapsed(),time:l.getElapsed()},a)),c}catch(c){throw this.instrument(`[${i}] ${o} - failed`,Object.assign(Object.assign({key:`${o}-failed`,operation:i,stepTime:l.getStepElapsed(),time:l.getElapsed()},a),{error:c})),c}})}}return t};Oo("@dynamic-labs/waas",Yve);const FT=new gi("@dynamic-labs/waas-svm");var WT,dre;function D7t(){if(dre)return WT;dre=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var g=0,y=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,g++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,M=_-1;(I!==0||T<y)&&M!==-1;M--,T++)I+=256*R[M]>>>0,R[M]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");y=T,b++}for(var D=_-y;D!==_&&R[D]===0;)D++;for(var A=l.repeat(g);D<_;++D)A+=t.charAt(R[D]);return A}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var g=0,y=0,b=0;v[g]===l;)y++,g++;for(var k=(v.length-g)*c+1>>>0,_=new Uint8Array(k);v[g];){var R=v.charCodeAt(g);if(R>255)return;var I=n[R];if(I===255)return;for(var T=0,M=k-1;(I!==0||T<b)&&M!==-1;M--,T++)I+=a*_[M]>>>0,_[M]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=T,g++}for(var D=k-b;D!==k&&_[D]===0;)D++;for(var A=new Uint8Array(y+(k-D)),U=y;D!==k;)A[U++]=_[D++];return A}function m(v){var g=h(v);if(g)return g;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:m}}return WT=e,WT}var qT,ure;function M7t(){return ure||(ure=1,qT=D7t()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),qT}var j7t=M7t();const $7t=Rr(j7t);var zT={exports:{}},fre;function L7t(){return fre||(fre=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,k,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,u),!0;case 4:return y.fn.call(y.context,d,u,h),!0;case 5:return y.fn.call(y.context,d,u,h,m),!0;case 6:return y.fn.call(y.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];y.fn.apply(y.context,k)}else{var R=y.length,I;for(_=0;_<R;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,u);break;case 4:y[_].fn.call(y[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];y[_].fn.apply(y[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||u&&v[g].context!==u)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(zT)),zT.exports}var U7t=L7t();const F7t=Rr(U7t);class W7t extends F7t{constructor({walletConnector:t}){super(),this.isConnected=!0,this.providers=[this],this.isBraveWallet=!1,this.isGlow=!1,this.isPhantom=!1,this.isSolflare=!1,this.isExodus=!1,this.isBackpack=!1,this.isMagicEden=!1,this.walletConnector=t,this.accountAddress=this.walletConnector.activeAccountAddress,this.publicKey=this.accountAddress?new Mn(this.accountAddress):void 0}signMessage(t){return Sr(this,void 0,void 0,function*(){const n=Buffer.from(t).toString(),r=yield this.walletConnector.signMessage(n);return{signature:$7t.decode(r)}})}signTransaction(t){return Sr(this,void 0,void 0,function*(){return this.walletConnector.signTransaction(t)})}signAllTransactions(t){return Sr(this,void 0,void 0,function*(){return this.walletConnector.signAllTransactions(t)})}signAndSendTransaction(t,n){return Sr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signAndSendTransaction(t,n)}})}connect(t){return Sr(this,void 0,void 0,function*(){return{address:this.accountAddress,publicKey:this.publicKey}})}disconnect(){return Sr(this,void 0,void 0,function*(){})}}class twe extends B7t(j_){connect(){throw new Error("Method not implemented.")}constructor(t){super(t),this.name="Dynamic Waas",this.overrideKey="dynamicwaas",this.isEmbeddedWallet=!0,this.logger=FT,this.walletUiUtils=t.walletUiUtils}setEnvironmentId(t){super.setEnvironmentId(t),gi.setEnvironmentId(t)}setActiveAccountAddress(t){this.activeAccountAddress=t}getActiveAccountAddress(){return Sr(this,void 0,void 0,function*(){return this.activeAccountAddress})}validateActiveWallet(t){return Sr(this,void 0,void 0,function*(){var n,r;const i=yield this.getWaasWalletClient(),o=yield(n=this.getSignedSessionId)===null||n===void 0?void 0:n.call(this);if(!o)throw new Se("Signed session ID is required");const s=yield i.getWallet({accountAddress:t,authToken:(r=this.getAuthToken)===null||r===void 0?void 0:r.call(this),signedSessionId:o});if(!s)throw new Se("Account not found");$a(s.accountAddress,this.activeAccountAddress||"",this.connectedChain)||(this.activeAccountAddress=s.accountAddress)})}internalSignMessage(t){return Sr(this,arguments,void 0,function*(n,{parentTraceId:r,startTime:i}={}){var o,s,a;const l=r||this.generateTraceId(),c=i||Date.now(),d=yield this.instrumentAsync({context:{chainName:"SVM",startTime:c,traceId:l},fn:()=>Sr(this,void 0,void 0,function*(){return this.getWaasWalletClient()}),operation:"internalSignMessage",resource:"getWaasWalletClient"});if(!this.activeAccountAddress)throw new Error("Active account address is required");const u=yield(o=this.getSignedSessionId)===null||o===void 0?void 0:o.call(this);if(!u)throw new Se("Signed session ID is required");const h=yield(s=this.getMfaToken)===null||s===void 0?void 0:s.call(this,{mfaAction:_h.WalletWaasSign}),m=this.activeAccountAddress,v=(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this);return yield this.instrumentAsync({context:{chainName:"SVM",startTime:c,traceId:l},fn:()=>Sr(this,void 0,void 0,function*(){return d.signMessage({accountAddress:m,authToken:v,message:n,mfaToken:h,signedSessionId:u,traceContext:{startTime:c,traceId:l}})}),operation:"internalSignMessage",resource:"walletClient.signMessage"})})}signMessage(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=this.generateTraceId(),r=Date.now();this.instrument("[signMessage] start",{key:"signMessage-start",startTime:r,time:0,traceId:n});const i=yield this.walletUiUtils.signMessage({handler:()=>Sr(this,void 0,void 0,function*(){return this.internalSignMessage(t,{parentTraceId:n,startTime:r})}),message:t,walletConnector:this});return this.instrument("[signMessage] completed",{key:"signMessage-completed",startTime:r,time:Date.now()-r,traceId:n}),i})}internalSignTransaction(t){return Sr(this,arguments,void 0,function*(n,{parentTraceId:r,startTime:i}={}){var o,s;const a=r||this.generateTraceId(),l=i||Date.now(),c=yield this.instrumentAsync({context:{chainName:"SVM",startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){return this.getWaasWalletClient()}),operation:"internalSignTransaction",resource:"getWaasWalletClient"}),d=yield(o=this.getSignedSessionId)===null||o===void 0?void 0:o.call(this);if(!d)throw new Se("Signed session ID is required");if(!this.activeAccountAddress)throw new Error("Active account address is required");const u=yield(s=this.getMfaToken)===null||s===void 0?void 0:s.call(this,{mfaAction:_h.WalletWaasSign}),h=n instanceof DI?n.serializeMessage():n.message.serialize(),m=Buffer.from(h).toString("hex"),v=yield this.getNetwork(!0),g=this.activeAccountAddress,y=yield this.instrumentAsync({context:{chainName:"SVM",startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){var b;return c.signTransaction({authToken:(b=this.getAuthToken)===null||b===void 0?void 0:b.call(this),chainId:v,mfaToken:u,senderAddress:g,signedSessionId:d,traceContext:{startTime:l,traceId:a},transaction:m})}),operation:"internalSignTransaction",resource:"signTransaction"});n.addSignature(new Mn(this.activeAccountAddress),Buffer.from(y,"hex"));try{n.serialize({requireAllSignatures:!1,verifySignatures:!0})}catch(b){FT.warn("[internalSignTransaction] Error signing transaction",b)}return n})}signTransaction(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=this.generateTraceId(),r=Date.now();this.instrument("[signTransaction] start",{key:"signTransaction-start",startTime:r,time:0,traceId:n});const i=new Rd({connection:this.getWalletClient(),from:this.activeAccountAddress,multipleTransactions:[t],onSubmit:()=>Sr(this,void 0,void 0,function*(){return this.internalSignTransaction(t,{parentTraceId:n,startTime:r})})}),o=yield this.walletUiUtils.signTransaction(this,i);return this.instrument("[signTransaction] completed",{key:"signTransaction-completed",startTime:r,time:Date.now()-r,traceId:n}),o})}internalSignAllTransactions(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=[];for(const r of t){const i=yield this.internalSignTransaction(r);n.push(i)}return n})}signAllTransactions(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=this.generateTraceId(),r=Date.now();this.instrument("[signAllTransactions] start",{key:"signAllTransactions-start",startTime:r,time:0,traceId:n});const i=new Rd({connection:this.getWalletClient(),from:this.activeAccountAddress,multipleTransactions:t,onSubmit:()=>Sr(this,void 0,void 0,function*(){return this.internalSignAllTransactions(t)})}),o=yield this.walletUiUtils.signTransaction(this,i);return this.instrument("[signAllTransactions] completed",{key:"signAllTransactions-completed",startTime:r,time:Date.now()-r,traceId:n}),o})}internalSignAndSendTransaction(t,n){return Sr(this,arguments,void 0,function*(r,i,{parentTraceId:o,startTime:s}={}){const a=o||this.generateTraceId(),l=s||Date.now();if(!this.activeAccountAddress)throw new Error("Active account address is required");const c=this.getWalletClient(),d=yield this.instrumentAsync({context:{chainName:"SVM",startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){return this.internalSignTransaction(r,{parentTraceId:a,startTime:l})}),operation:"internalSignAndSendTransaction",resource:"internalSignTransaction"}),u=yield this.instrumentAsync({context:{chainName:"SVM",rpcUrl:c.rpcEndpoint,startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){return c.sendRawTransaction(d.serialize({requireAllSignatures:!1,verifySignatures:!0}),i)}),operation:"internalSignAndSendTransaction",resource:"sendRawTransaction"}),h=Date.now();return new Promise((m,v)=>{var g;const y=setTimeout(()=>{const b=Date.now()-h;this.instrument(`[internalSignAndSendTransaction] Transaction timed out - total: ${b}ms`,{key:"internalSignAndSendTransaction-transactionTimedOut",rpcUrl:c.rpcEndpoint,time:b,traceId:a}),v(new Error("Transaction timed out"))},6e4);c.onSignature(u,b=>{clearTimeout(y);const k=Date.now(),_=k-h,R=k-l;b.err?(FT.error(`[internalSignAndSendTransaction] Transaction failed - total: ${R}ms, step: ${_}ms`,{accountAddress:this.activeAccountAddress,error:b.err,key:"internalSignAndSendTransaction-transactionFailed",rpcUrl:c.rpcEndpoint,stepTime:_,time:R,traceId:a}),v(new Error(`Transaction failed: ${b.err}`))):(this.instrument(`[internalSignAndSendTransaction] Transaction confirmed - total: ${R}ms, step: ${_}ms`,{key:"internalSignAndSendTransaction-transactionSuccess",rpcUrl:c.rpcEndpoint,stepTime:_,time:R,traceId:a}),m(u))},(g=i==null?void 0:i.preflightCommitment)!==null&&g!==void 0?g:"confirmed")})})}signAndSendTransaction(t,n){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const r=this.generateTraceId(),i=Date.now();this.instrument("[signAndSendTransaction] start",{key:"signAndSendTransaction-start",options:n,startTime:i,time:0,traceId:r});const o=new Rd({connection:this.getWalletClient(),from:this.activeAccountAddress,multipleTransactions:[t],onSubmit:()=>Sr(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(t,n,{parentTraceId:r,startTime:i})})}),s=yield this.walletUiUtils.sendTransaction(this,o);return this.instrument("[signAndSendTransaction] completed",{key:"signAndSendTransaction-completed",startTime:i,time:Date.now()-i,traceId:r}),s})}getSigner(){return Sr(this,void 0,void 0,function*(){return new W7t({walletConnector:this})})}getWalletClientByAddress({accountAddress:t}){return this.setActiveAccountAddress(t),this.getWalletClient()}exportClientKeyshares(t){const n=Object.create(null,{exportClientKeyshares:{get:()=>super.exportClientKeyshares}});return Sr(this,arguments,void 0,function*({accountAddress:r,password:i}){const o=r||this.activeAccountAddress;if(!o)throw new Error("Account address is required");const s=this.generateTraceId(),a=Date.now();this.instrument("[exportClientKeyshares] start",{key:"exportClientKeyshares-start",startTime:a,time:0,traceId:s});const l=yield n.exportClientKeyshares.call(this,{accountAddress:o,password:i});return this.instrument("[exportClientKeyshares] completed",{key:"exportClientKeyshares-completed",startTime:a,time:Date.now()-a,traceId:s}),l})}createUiTransaction(t){return Sr(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),new Rd({connection:this.getWalletClient(),from:t,onSubmit:r=>Sr(this,void 0,void 0,function*(){if(r)return this.internalSignAndSendTransaction(r)})})})}endSession(){const t=Object.create(null,{endSession:{get:()=>super.endSession}});return Sr(this,void 0,void 0,function*(){yield t.endSession.call(this)})}signMessageWithContext(){return Sr(this,void 0,void 0,function*(){throw new Error("Not implemented")})}}Object.defineProperty(twe,"key",{value:"dynamicwaas",writable:!1});const q7t=()=>[twe];Oo("@dynamic-labs/waas-svm",GNt);class z7t extends vg{constructor(){super(...arguments),this.name="Phantom",this.overrideKey="phantom"}getAddress(){const t=Object.create(null,{getAddress:{get:()=>super.getAddress}});return Ht(this,void 0,void 0,function*(){if(this.isInstalledOnBrowser())return t.getAddress.call(this);rr()&&coe({nativeLink:"phantom://browse",universalLink:"https://phantom.app/ul/browse"})})}canGetChainAddress(){var t,n;return((n=(t=this.solProviderHelper)===null||t===void 0?void 0:t.findProvider())===null||n===void 0?void 0:n.publicKey)!==null}}function V7t(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var VT={exports:{}},hre;function K7t(){return hre||(hre=1,(function(e){(function(t){var n=function(ne){var fe,he=new Float64Array(16);if(ne)for(fe=0;fe<ne.length;fe++)he[fe]=ne[fe];return he},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=n(),a=n([1]),l=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(ne,fe,he,Z){ne[fe]=he>>24&255,ne[fe+1]=he>>16&255,ne[fe+2]=he>>8&255,ne[fe+3]=he&255,ne[fe+4]=Z>>24&255,ne[fe+5]=Z>>16&255,ne[fe+6]=Z>>8&255,ne[fe+7]=Z&255}function g(ne,fe,he,Z,ve){var Be,Ne=0;for(Be=0;Be<ve;Be++)Ne|=ne[fe+Be]^he[Z+Be];return(1&Ne-1>>>8)-1}function y(ne,fe,he,Z){return g(ne,fe,he,Z,16)}function b(ne,fe,he,Z){return g(ne,fe,he,Z,32)}function k(ne,fe,he,Z){for(var ve=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Be=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,Ne=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Ge=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,ut=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,bt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,Ye=fe[0]&255|(fe[1]&255)<<8|(fe[2]&255)<<16|(fe[3]&255)<<24,jn=fe[4]&255|(fe[5]&255)<<8|(fe[6]&255)<<16|(fe[7]&255)<<24,Et=fe[8]&255|(fe[9]&255)<<8|(fe[10]&255)<<16|(fe[11]&255)<<24,Zt=fe[12]&255|(fe[13]&255)<<8|(fe[14]&255)<<16|(fe[15]&255)<<24,dn=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,yn=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,vn=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,un=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,Rt=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,hn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Tt=ve,Ft=Be,St=Ne,Pt=Ge,Mt=ut,_t=bt,Ue=Ye,Ve=jn,et=Et,Qe=Zt,nt=dn,pt=yn,Wt=vn,mn=un,gn=Rt,_n=hn,Ee,On=0;On<20;On+=2)Ee=Tt+Wt|0,Mt^=Ee<<7|Ee>>>25,Ee=Mt+Tt|0,et^=Ee<<9|Ee>>>23,Ee=et+Mt|0,Wt^=Ee<<13|Ee>>>19,Ee=Wt+et|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Ft|0,Qe^=Ee<<7|Ee>>>25,Ee=Qe+_t|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Qe|0,Ft^=Ee<<13|Ee>>>19,Ee=Ft+mn|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Ue|0,gn^=Ee<<7|Ee>>>25,Ee=gn+nt|0,St^=Ee<<9|Ee>>>23,Ee=St+gn|0,Ue^=Ee<<13|Ee>>>19,Ee=Ue+St|0,nt^=Ee<<18|Ee>>>14,Ee=_n+pt|0,Pt^=Ee<<7|Ee>>>25,Ee=Pt+_n|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Pt|0,pt^=Ee<<13|Ee>>>19,Ee=pt+Ve|0,_n^=Ee<<18|Ee>>>14,Ee=Tt+Pt|0,Ft^=Ee<<7|Ee>>>25,Ee=Ft+Tt|0,St^=Ee<<9|Ee>>>23,Ee=St+Ft|0,Pt^=Ee<<13|Ee>>>19,Ee=Pt+St|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Mt|0,Ue^=Ee<<7|Ee>>>25,Ee=Ue+_t|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Ue|0,Mt^=Ee<<13|Ee>>>19,Ee=Mt+Ve|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Qe|0,pt^=Ee<<7|Ee>>>25,Ee=pt+nt|0,et^=Ee<<9|Ee>>>23,Ee=et+pt|0,Qe^=Ee<<13|Ee>>>19,Ee=Qe+et|0,nt^=Ee<<18|Ee>>>14,Ee=_n+gn|0,Wt^=Ee<<7|Ee>>>25,Ee=Wt+_n|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Wt|0,gn^=Ee<<13|Ee>>>19,Ee=gn+mn|0,_n^=Ee<<18|Ee>>>14;Tt=Tt+ve|0,Ft=Ft+Be|0,St=St+Ne|0,Pt=Pt+Ge|0,Mt=Mt+ut|0,_t=_t+bt|0,Ue=Ue+Ye|0,Ve=Ve+jn|0,et=et+Et|0,Qe=Qe+Zt|0,nt=nt+dn|0,pt=pt+yn|0,Wt=Wt+vn|0,mn=mn+un|0,gn=gn+Rt|0,_n=_n+hn|0,ne[0]=Tt>>>0&255,ne[1]=Tt>>>8&255,ne[2]=Tt>>>16&255,ne[3]=Tt>>>24&255,ne[4]=Ft>>>0&255,ne[5]=Ft>>>8&255,ne[6]=Ft>>>16&255,ne[7]=Ft>>>24&255,ne[8]=St>>>0&255,ne[9]=St>>>8&255,ne[10]=St>>>16&255,ne[11]=St>>>24&255,ne[12]=Pt>>>0&255,ne[13]=Pt>>>8&255,ne[14]=Pt>>>16&255,ne[15]=Pt>>>24&255,ne[16]=Mt>>>0&255,ne[17]=Mt>>>8&255,ne[18]=Mt>>>16&255,ne[19]=Mt>>>24&255,ne[20]=_t>>>0&255,ne[21]=_t>>>8&255,ne[22]=_t>>>16&255,ne[23]=_t>>>24&255,ne[24]=Ue>>>0&255,ne[25]=Ue>>>8&255,ne[26]=Ue>>>16&255,ne[27]=Ue>>>24&255,ne[28]=Ve>>>0&255,ne[29]=Ve>>>8&255,ne[30]=Ve>>>16&255,ne[31]=Ve>>>24&255,ne[32]=et>>>0&255,ne[33]=et>>>8&255,ne[34]=et>>>16&255,ne[35]=et>>>24&255,ne[36]=Qe>>>0&255,ne[37]=Qe>>>8&255,ne[38]=Qe>>>16&255,ne[39]=Qe>>>24&255,ne[40]=nt>>>0&255,ne[41]=nt>>>8&255,ne[42]=nt>>>16&255,ne[43]=nt>>>24&255,ne[44]=pt>>>0&255,ne[45]=pt>>>8&255,ne[46]=pt>>>16&255,ne[47]=pt>>>24&255,ne[48]=Wt>>>0&255,ne[49]=Wt>>>8&255,ne[50]=Wt>>>16&255,ne[51]=Wt>>>24&255,ne[52]=mn>>>0&255,ne[53]=mn>>>8&255,ne[54]=mn>>>16&255,ne[55]=mn>>>24&255,ne[56]=gn>>>0&255,ne[57]=gn>>>8&255,ne[58]=gn>>>16&255,ne[59]=gn>>>24&255,ne[60]=_n>>>0&255,ne[61]=_n>>>8&255,ne[62]=_n>>>16&255,ne[63]=_n>>>24&255}function _(ne,fe,he,Z){for(var ve=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Be=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,Ne=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Ge=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,ut=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,bt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,Ye=fe[0]&255|(fe[1]&255)<<8|(fe[2]&255)<<16|(fe[3]&255)<<24,jn=fe[4]&255|(fe[5]&255)<<8|(fe[6]&255)<<16|(fe[7]&255)<<24,Et=fe[8]&255|(fe[9]&255)<<8|(fe[10]&255)<<16|(fe[11]&255)<<24,Zt=fe[12]&255|(fe[13]&255)<<8|(fe[14]&255)<<16|(fe[15]&255)<<24,dn=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,yn=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,vn=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,un=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,Rt=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,hn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Tt=ve,Ft=Be,St=Ne,Pt=Ge,Mt=ut,_t=bt,Ue=Ye,Ve=jn,et=Et,Qe=Zt,nt=dn,pt=yn,Wt=vn,mn=un,gn=Rt,_n=hn,Ee,On=0;On<20;On+=2)Ee=Tt+Wt|0,Mt^=Ee<<7|Ee>>>25,Ee=Mt+Tt|0,et^=Ee<<9|Ee>>>23,Ee=et+Mt|0,Wt^=Ee<<13|Ee>>>19,Ee=Wt+et|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Ft|0,Qe^=Ee<<7|Ee>>>25,Ee=Qe+_t|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Qe|0,Ft^=Ee<<13|Ee>>>19,Ee=Ft+mn|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Ue|0,gn^=Ee<<7|Ee>>>25,Ee=gn+nt|0,St^=Ee<<9|Ee>>>23,Ee=St+gn|0,Ue^=Ee<<13|Ee>>>19,Ee=Ue+St|0,nt^=Ee<<18|Ee>>>14,Ee=_n+pt|0,Pt^=Ee<<7|Ee>>>25,Ee=Pt+_n|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Pt|0,pt^=Ee<<13|Ee>>>19,Ee=pt+Ve|0,_n^=Ee<<18|Ee>>>14,Ee=Tt+Pt|0,Ft^=Ee<<7|Ee>>>25,Ee=Ft+Tt|0,St^=Ee<<9|Ee>>>23,Ee=St+Ft|0,Pt^=Ee<<13|Ee>>>19,Ee=Pt+St|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Mt|0,Ue^=Ee<<7|Ee>>>25,Ee=Ue+_t|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Ue|0,Mt^=Ee<<13|Ee>>>19,Ee=Mt+Ve|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Qe|0,pt^=Ee<<7|Ee>>>25,Ee=pt+nt|0,et^=Ee<<9|Ee>>>23,Ee=et+pt|0,Qe^=Ee<<13|Ee>>>19,Ee=Qe+et|0,nt^=Ee<<18|Ee>>>14,Ee=_n+gn|0,Wt^=Ee<<7|Ee>>>25,Ee=Wt+_n|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Wt|0,gn^=Ee<<13|Ee>>>19,Ee=gn+mn|0,_n^=Ee<<18|Ee>>>14;ne[0]=Tt>>>0&255,ne[1]=Tt>>>8&255,ne[2]=Tt>>>16&255,ne[3]=Tt>>>24&255,ne[4]=_t>>>0&255,ne[5]=_t>>>8&255,ne[6]=_t>>>16&255,ne[7]=_t>>>24&255,ne[8]=nt>>>0&255,ne[9]=nt>>>8&255,ne[10]=nt>>>16&255,ne[11]=nt>>>24&255,ne[12]=_n>>>0&255,ne[13]=_n>>>8&255,ne[14]=_n>>>16&255,ne[15]=_n>>>24&255,ne[16]=Ue>>>0&255,ne[17]=Ue>>>8&255,ne[18]=Ue>>>16&255,ne[19]=Ue>>>24&255,ne[20]=Ve>>>0&255,ne[21]=Ve>>>8&255,ne[22]=Ve>>>16&255,ne[23]=Ve>>>24&255,ne[24]=et>>>0&255,ne[25]=et>>>8&255,ne[26]=et>>>16&255,ne[27]=et>>>24&255,ne[28]=Qe>>>0&255,ne[29]=Qe>>>8&255,ne[30]=Qe>>>16&255,ne[31]=Qe>>>24&255}function R(ne,fe,he,Z){k(ne,fe,he,Z)}function I(ne,fe,he,Z){_(ne,fe,he,Z)}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function M(ne,fe,he,Z,ve,Be,Ne){var Ge=new Uint8Array(16),ut=new Uint8Array(64),bt,Ye;for(Ye=0;Ye<16;Ye++)Ge[Ye]=0;for(Ye=0;Ye<8;Ye++)Ge[Ye]=Be[Ye];for(;ve>=64;){for(R(ut,Ge,Ne,T),Ye=0;Ye<64;Ye++)ne[fe+Ye]=he[Z+Ye]^ut[Ye];for(bt=1,Ye=8;Ye<16;Ye++)bt=bt+(Ge[Ye]&255)|0,Ge[Ye]=bt&255,bt>>>=8;ve-=64,fe+=64,Z+=64}if(ve>0)for(R(ut,Ge,Ne,T),Ye=0;Ye<ve;Ye++)ne[fe+Ye]=he[Z+Ye]^ut[Ye];return 0}function D(ne,fe,he,Z,ve){var Be=new Uint8Array(16),Ne=new Uint8Array(64),Ge,ut;for(ut=0;ut<16;ut++)Be[ut]=0;for(ut=0;ut<8;ut++)Be[ut]=Z[ut];for(;he>=64;){for(R(Ne,Be,ve,T),ut=0;ut<64;ut++)ne[fe+ut]=Ne[ut];for(Ge=1,ut=8;ut<16;ut++)Ge=Ge+(Be[ut]&255)|0,Be[ut]=Ge&255,Ge>>>=8;he-=64,fe+=64}if(he>0)for(R(Ne,Be,ve,T),ut=0;ut<he;ut++)ne[fe+ut]=Ne[ut];return 0}function A(ne,fe,he,Z,ve){var Be=new Uint8Array(32);I(Be,Z,ve,T);for(var Ne=new Uint8Array(8),Ge=0;Ge<8;Ge++)Ne[Ge]=Z[Ge+16];return D(ne,fe,he,Ne,Be)}function U(ne,fe,he,Z,ve,Be,Ne){var Ge=new Uint8Array(32);I(Ge,Be,Ne,T);for(var ut=new Uint8Array(8),bt=0;bt<8;bt++)ut[bt]=Be[bt+16];return M(ne,fe,he,Z,ve,ut,Ge)}var $=function(ne){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var fe,he,Z,ve,Be,Ne,Ge,ut;fe=ne[0]&255|(ne[1]&255)<<8,this.r[0]=fe&8191,he=ne[2]&255|(ne[3]&255)<<8,this.r[1]=(fe>>>13|he<<3)&8191,Z=ne[4]&255|(ne[5]&255)<<8,this.r[2]=(he>>>10|Z<<6)&7939,ve=ne[6]&255|(ne[7]&255)<<8,this.r[3]=(Z>>>7|ve<<9)&8191,Be=ne[8]&255|(ne[9]&255)<<8,this.r[4]=(ve>>>4|Be<<12)&255,this.r[5]=Be>>>1&8190,Ne=ne[10]&255|(ne[11]&255)<<8,this.r[6]=(Be>>>14|Ne<<2)&8191,Ge=ne[12]&255|(ne[13]&255)<<8,this.r[7]=(Ne>>>11|Ge<<5)&8065,ut=ne[14]&255|(ne[15]&255)<<8,this.r[8]=(Ge>>>8|ut<<8)&8191,this.r[9]=ut>>>5&127,this.pad[0]=ne[16]&255|(ne[17]&255)<<8,this.pad[1]=ne[18]&255|(ne[19]&255)<<8,this.pad[2]=ne[20]&255|(ne[21]&255)<<8,this.pad[3]=ne[22]&255|(ne[23]&255)<<8,this.pad[4]=ne[24]&255|(ne[25]&255)<<8,this.pad[5]=ne[26]&255|(ne[27]&255)<<8,this.pad[6]=ne[28]&255|(ne[29]&255)<<8,this.pad[7]=ne[30]&255|(ne[31]&255)<<8};$.prototype.blocks=function(ne,fe,he){for(var Z=this.fin?0:2048,ve,Be,Ne,Ge,ut,bt,Ye,jn,Et,Zt,dn,yn,vn,un,Rt,hn,Tt,Ft,St,Pt=this.h[0],Mt=this.h[1],_t=this.h[2],Ue=this.h[3],Ve=this.h[4],et=this.h[5],Qe=this.h[6],nt=this.h[7],pt=this.h[8],Wt=this.h[9],mn=this.r[0],gn=this.r[1],_n=this.r[2],Ee=this.r[3],On=this.r[4],$n=this.r[5],Gn=this.r[6],In=this.r[7],Dn=this.r[8],Nn=this.r[9];he>=16;)ve=ne[fe+0]&255|(ne[fe+1]&255)<<8,Pt+=ve&8191,Be=ne[fe+2]&255|(ne[fe+3]&255)<<8,Mt+=(ve>>>13|Be<<3)&8191,Ne=ne[fe+4]&255|(ne[fe+5]&255)<<8,_t+=(Be>>>10|Ne<<6)&8191,Ge=ne[fe+6]&255|(ne[fe+7]&255)<<8,Ue+=(Ne>>>7|Ge<<9)&8191,ut=ne[fe+8]&255|(ne[fe+9]&255)<<8,Ve+=(Ge>>>4|ut<<12)&8191,et+=ut>>>1&8191,bt=ne[fe+10]&255|(ne[fe+11]&255)<<8,Qe+=(ut>>>14|bt<<2)&8191,Ye=ne[fe+12]&255|(ne[fe+13]&255)<<8,nt+=(bt>>>11|Ye<<5)&8191,jn=ne[fe+14]&255|(ne[fe+15]&255)<<8,pt+=(Ye>>>8|jn<<8)&8191,Wt+=jn>>>5|Z,Et=0,Zt=Et,Zt+=Pt*mn,Zt+=Mt*(5*Nn),Zt+=_t*(5*Dn),Zt+=Ue*(5*In),Zt+=Ve*(5*Gn),Et=Zt>>>13,Zt&=8191,Zt+=et*(5*$n),Zt+=Qe*(5*On),Zt+=nt*(5*Ee),Zt+=pt*(5*_n),Zt+=Wt*(5*gn),Et+=Zt>>>13,Zt&=8191,dn=Et,dn+=Pt*gn,dn+=Mt*mn,dn+=_t*(5*Nn),dn+=Ue*(5*Dn),dn+=Ve*(5*In),Et=dn>>>13,dn&=8191,dn+=et*(5*Gn),dn+=Qe*(5*$n),dn+=nt*(5*On),dn+=pt*(5*Ee),dn+=Wt*(5*_n),Et+=dn>>>13,dn&=8191,yn=Et,yn+=Pt*_n,yn+=Mt*gn,yn+=_t*mn,yn+=Ue*(5*Nn),yn+=Ve*(5*Dn),Et=yn>>>13,yn&=8191,yn+=et*(5*In),yn+=Qe*(5*Gn),yn+=nt*(5*$n),yn+=pt*(5*On),yn+=Wt*(5*Ee),Et+=yn>>>13,yn&=8191,vn=Et,vn+=Pt*Ee,vn+=Mt*_n,vn+=_t*gn,vn+=Ue*mn,vn+=Ve*(5*Nn),Et=vn>>>13,vn&=8191,vn+=et*(5*Dn),vn+=Qe*(5*In),vn+=nt*(5*Gn),vn+=pt*(5*$n),vn+=Wt*(5*On),Et+=vn>>>13,vn&=8191,un=Et,un+=Pt*On,un+=Mt*Ee,un+=_t*_n,un+=Ue*gn,un+=Ve*mn,Et=un>>>13,un&=8191,un+=et*(5*Nn),un+=Qe*(5*Dn),un+=nt*(5*In),un+=pt*(5*Gn),un+=Wt*(5*$n),Et+=un>>>13,un&=8191,Rt=Et,Rt+=Pt*$n,Rt+=Mt*On,Rt+=_t*Ee,Rt+=Ue*_n,Rt+=Ve*gn,Et=Rt>>>13,Rt&=8191,Rt+=et*mn,Rt+=Qe*(5*Nn),Rt+=nt*(5*Dn),Rt+=pt*(5*In),Rt+=Wt*(5*Gn),Et+=Rt>>>13,Rt&=8191,hn=Et,hn+=Pt*Gn,hn+=Mt*$n,hn+=_t*On,hn+=Ue*Ee,hn+=Ve*_n,Et=hn>>>13,hn&=8191,hn+=et*gn,hn+=Qe*mn,hn+=nt*(5*Nn),hn+=pt*(5*Dn),hn+=Wt*(5*In),Et+=hn>>>13,hn&=8191,Tt=Et,Tt+=Pt*In,Tt+=Mt*Gn,Tt+=_t*$n,Tt+=Ue*On,Tt+=Ve*Ee,Et=Tt>>>13,Tt&=8191,Tt+=et*_n,Tt+=Qe*gn,Tt+=nt*mn,Tt+=pt*(5*Nn),Tt+=Wt*(5*Dn),Et+=Tt>>>13,Tt&=8191,Ft=Et,Ft+=Pt*Dn,Ft+=Mt*In,Ft+=_t*Gn,Ft+=Ue*$n,Ft+=Ve*On,Et=Ft>>>13,Ft&=8191,Ft+=et*Ee,Ft+=Qe*_n,Ft+=nt*gn,Ft+=pt*mn,Ft+=Wt*(5*Nn),Et+=Ft>>>13,Ft&=8191,St=Et,St+=Pt*Nn,St+=Mt*Dn,St+=_t*In,St+=Ue*Gn,St+=Ve*$n,Et=St>>>13,St&=8191,St+=et*On,St+=Qe*Ee,St+=nt*_n,St+=pt*gn,St+=Wt*mn,Et+=St>>>13,St&=8191,Et=(Et<<2)+Et|0,Et=Et+Zt|0,Zt=Et&8191,Et=Et>>>13,dn+=Et,Pt=Zt,Mt=dn,_t=yn,Ue=vn,Ve=un,et=Rt,Qe=hn,nt=Tt,pt=Ft,Wt=St,fe+=16,he-=16;this.h[0]=Pt,this.h[1]=Mt,this.h[2]=_t,this.h[3]=Ue,this.h[4]=Ve,this.h[5]=et,this.h[6]=Qe,this.h[7]=nt,this.h[8]=pt,this.h[9]=Wt},$.prototype.finish=function(ne,fe){var he=new Uint16Array(10),Z,ve,Be,Ne;if(this.leftover){for(Ne=this.leftover,this.buffer[Ne++]=1;Ne<16;Ne++)this.buffer[Ne]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Z=this.h[1]>>>13,this.h[1]&=8191,Ne=2;Ne<10;Ne++)this.h[Ne]+=Z,Z=this.h[Ne]>>>13,this.h[Ne]&=8191;for(this.h[0]+=Z*5,Z=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Z,Z=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Z,he[0]=this.h[0]+5,Z=he[0]>>>13,he[0]&=8191,Ne=1;Ne<10;Ne++)he[Ne]=this.h[Ne]+Z,Z=he[Ne]>>>13,he[Ne]&=8191;for(he[9]-=8192,ve=(Z^1)-1,Ne=0;Ne<10;Ne++)he[Ne]&=ve;for(ve=~ve,Ne=0;Ne<10;Ne++)this.h[Ne]=this.h[Ne]&ve|he[Ne];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Be=this.h[0]+this.pad[0],this.h[0]=Be&65535,Ne=1;Ne<8;Ne++)Be=(this.h[Ne]+this.pad[Ne]|0)+(Be>>>16)|0,this.h[Ne]=Be&65535;ne[fe+0]=this.h[0]>>>0&255,ne[fe+1]=this.h[0]>>>8&255,ne[fe+2]=this.h[1]>>>0&255,ne[fe+3]=this.h[1]>>>8&255,ne[fe+4]=this.h[2]>>>0&255,ne[fe+5]=this.h[2]>>>8&255,ne[fe+6]=this.h[3]>>>0&255,ne[fe+7]=this.h[3]>>>8&255,ne[fe+8]=this.h[4]>>>0&255,ne[fe+9]=this.h[4]>>>8&255,ne[fe+10]=this.h[5]>>>0&255,ne[fe+11]=this.h[5]>>>8&255,ne[fe+12]=this.h[6]>>>0&255,ne[fe+13]=this.h[6]>>>8&255,ne[fe+14]=this.h[7]>>>0&255,ne[fe+15]=this.h[7]>>>8&255},$.prototype.update=function(ne,fe,he){var Z,ve;if(this.leftover){for(ve=16-this.leftover,ve>he&&(ve=he),Z=0;Z<ve;Z++)this.buffer[this.leftover+Z]=ne[fe+Z];if(he-=ve,fe+=ve,this.leftover+=ve,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(he>=16&&(ve=he-he%16,this.blocks(ne,fe,ve),fe+=ve,he-=ve),he){for(Z=0;Z<he;Z++)this.buffer[this.leftover+Z]=ne[fe+Z];this.leftover+=he}};function q(ne,fe,he,Z,ve,Be){var Ne=new $(Be);return Ne.update(he,Z,ve),Ne.finish(ne,fe),0}function z(ne,fe,he,Z,ve,Be){var Ne=new Uint8Array(16);return q(Ne,0,he,Z,ve,Be),y(ne,fe,Ne,0)}function S(ne,fe,he,Z,ve){var Be;if(he<32)return-1;for(U(ne,0,fe,0,he,Z,ve),q(ne,16,ne,32,he-32,ne),Be=0;Be<16;Be++)ne[Be]=0;return 0}function E(ne,fe,he,Z,ve){var Be,Ne=new Uint8Array(32);if(he<32||(A(Ne,0,32,Z,ve),z(fe,16,fe,32,he-32,Ne)!==0))return-1;for(U(ne,0,fe,0,he,Z,ve),Be=0;Be<32;Be++)ne[Be]=0;return 0}function N(ne,fe){var he;for(he=0;he<16;he++)ne[he]=fe[he]|0}function P(ne){var fe,he,Z=1;for(fe=0;fe<16;fe++)he=ne[fe]+Z+65535,Z=Math.floor(he/65536),ne[fe]=he-Z*65536;ne[0]+=Z-1+37*(Z-1)}function j(ne,fe,he){for(var Z,ve=~(he-1),Be=0;Be<16;Be++)Z=ve&(ne[Be]^fe[Be]),ne[Be]^=Z,fe[Be]^=Z}function V(ne,fe){var he,Z,ve,Be=n(),Ne=n();for(he=0;he<16;he++)Ne[he]=fe[he];for(P(Ne),P(Ne),P(Ne),Z=0;Z<2;Z++){for(Be[0]=Ne[0]-65517,he=1;he<15;he++)Be[he]=Ne[he]-65535-(Be[he-1]>>16&1),Be[he-1]&=65535;Be[15]=Ne[15]-32767-(Be[14]>>16&1),ve=Be[15]>>16&1,Be[14]&=65535,j(Ne,Be,1-ve)}for(he=0;he<16;he++)ne[2*he]=Ne[he]&255,ne[2*he+1]=Ne[he]>>8}function K(ne,fe){var he=new Uint8Array(32),Z=new Uint8Array(32);return V(he,ne),V(Z,fe),b(he,0,Z,0)}function F(ne){var fe=new Uint8Array(32);return V(fe,ne),fe[0]&1}function O(ne,fe){var he;for(he=0;he<16;he++)ne[he]=fe[2*he]+(fe[2*he+1]<<8);ne[15]&=32767}function W(ne,fe,he){for(var Z=0;Z<16;Z++)ne[Z]=fe[Z]+he[Z]}function G(ne,fe,he){for(var Z=0;Z<16;Z++)ne[Z]=fe[Z]-he[Z]}function Y(ne,fe,he){var Z,ve,Be=0,Ne=0,Ge=0,ut=0,bt=0,Ye=0,jn=0,Et=0,Zt=0,dn=0,yn=0,vn=0,un=0,Rt=0,hn=0,Tt=0,Ft=0,St=0,Pt=0,Mt=0,_t=0,Ue=0,Ve=0,et=0,Qe=0,nt=0,pt=0,Wt=0,mn=0,gn=0,_n=0,Ee=he[0],On=he[1],$n=he[2],Gn=he[3],In=he[4],Dn=he[5],Nn=he[6],Mr=he[7],Yt=he[8],Wr=he[9],ar=he[10],Cr=he[11],Gr=he[12],Mi=he[13],lr=he[14],Ei=he[15];Z=fe[0],Be+=Z*Ee,Ne+=Z*On,Ge+=Z*$n,ut+=Z*Gn,bt+=Z*In,Ye+=Z*Dn,jn+=Z*Nn,Et+=Z*Mr,Zt+=Z*Yt,dn+=Z*Wr,yn+=Z*ar,vn+=Z*Cr,un+=Z*Gr,Rt+=Z*Mi,hn+=Z*lr,Tt+=Z*Ei,Z=fe[1],Ne+=Z*Ee,Ge+=Z*On,ut+=Z*$n,bt+=Z*Gn,Ye+=Z*In,jn+=Z*Dn,Et+=Z*Nn,Zt+=Z*Mr,dn+=Z*Yt,yn+=Z*Wr,vn+=Z*ar,un+=Z*Cr,Rt+=Z*Gr,hn+=Z*Mi,Tt+=Z*lr,Ft+=Z*Ei,Z=fe[2],Ge+=Z*Ee,ut+=Z*On,bt+=Z*$n,Ye+=Z*Gn,jn+=Z*In,Et+=Z*Dn,Zt+=Z*Nn,dn+=Z*Mr,yn+=Z*Yt,vn+=Z*Wr,un+=Z*ar,Rt+=Z*Cr,hn+=Z*Gr,Tt+=Z*Mi,Ft+=Z*lr,St+=Z*Ei,Z=fe[3],ut+=Z*Ee,bt+=Z*On,Ye+=Z*$n,jn+=Z*Gn,Et+=Z*In,Zt+=Z*Dn,dn+=Z*Nn,yn+=Z*Mr,vn+=Z*Yt,un+=Z*Wr,Rt+=Z*ar,hn+=Z*Cr,Tt+=Z*Gr,Ft+=Z*Mi,St+=Z*lr,Pt+=Z*Ei,Z=fe[4],bt+=Z*Ee,Ye+=Z*On,jn+=Z*$n,Et+=Z*Gn,Zt+=Z*In,dn+=Z*Dn,yn+=Z*Nn,vn+=Z*Mr,un+=Z*Yt,Rt+=Z*Wr,hn+=Z*ar,Tt+=Z*Cr,Ft+=Z*Gr,St+=Z*Mi,Pt+=Z*lr,Mt+=Z*Ei,Z=fe[5],Ye+=Z*Ee,jn+=Z*On,Et+=Z*$n,Zt+=Z*Gn,dn+=Z*In,yn+=Z*Dn,vn+=Z*Nn,un+=Z*Mr,Rt+=Z*Yt,hn+=Z*Wr,Tt+=Z*ar,Ft+=Z*Cr,St+=Z*Gr,Pt+=Z*Mi,Mt+=Z*lr,_t+=Z*Ei,Z=fe[6],jn+=Z*Ee,Et+=Z*On,Zt+=Z*$n,dn+=Z*Gn,yn+=Z*In,vn+=Z*Dn,un+=Z*Nn,Rt+=Z*Mr,hn+=Z*Yt,Tt+=Z*Wr,Ft+=Z*ar,St+=Z*Cr,Pt+=Z*Gr,Mt+=Z*Mi,_t+=Z*lr,Ue+=Z*Ei,Z=fe[7],Et+=Z*Ee,Zt+=Z*On,dn+=Z*$n,yn+=Z*Gn,vn+=Z*In,un+=Z*Dn,Rt+=Z*Nn,hn+=Z*Mr,Tt+=Z*Yt,Ft+=Z*Wr,St+=Z*ar,Pt+=Z*Cr,Mt+=Z*Gr,_t+=Z*Mi,Ue+=Z*lr,Ve+=Z*Ei,Z=fe[8],Zt+=Z*Ee,dn+=Z*On,yn+=Z*$n,vn+=Z*Gn,un+=Z*In,Rt+=Z*Dn,hn+=Z*Nn,Tt+=Z*Mr,Ft+=Z*Yt,St+=Z*Wr,Pt+=Z*ar,Mt+=Z*Cr,_t+=Z*Gr,Ue+=Z*Mi,Ve+=Z*lr,et+=Z*Ei,Z=fe[9],dn+=Z*Ee,yn+=Z*On,vn+=Z*$n,un+=Z*Gn,Rt+=Z*In,hn+=Z*Dn,Tt+=Z*Nn,Ft+=Z*Mr,St+=Z*Yt,Pt+=Z*Wr,Mt+=Z*ar,_t+=Z*Cr,Ue+=Z*Gr,Ve+=Z*Mi,et+=Z*lr,Qe+=Z*Ei,Z=fe[10],yn+=Z*Ee,vn+=Z*On,un+=Z*$n,Rt+=Z*Gn,hn+=Z*In,Tt+=Z*Dn,Ft+=Z*Nn,St+=Z*Mr,Pt+=Z*Yt,Mt+=Z*Wr,_t+=Z*ar,Ue+=Z*Cr,Ve+=Z*Gr,et+=Z*Mi,Qe+=Z*lr,nt+=Z*Ei,Z=fe[11],vn+=Z*Ee,un+=Z*On,Rt+=Z*$n,hn+=Z*Gn,Tt+=Z*In,Ft+=Z*Dn,St+=Z*Nn,Pt+=Z*Mr,Mt+=Z*Yt,_t+=Z*Wr,Ue+=Z*ar,Ve+=Z*Cr,et+=Z*Gr,Qe+=Z*Mi,nt+=Z*lr,pt+=Z*Ei,Z=fe[12],un+=Z*Ee,Rt+=Z*On,hn+=Z*$n,Tt+=Z*Gn,Ft+=Z*In,St+=Z*Dn,Pt+=Z*Nn,Mt+=Z*Mr,_t+=Z*Yt,Ue+=Z*Wr,Ve+=Z*ar,et+=Z*Cr,Qe+=Z*Gr,nt+=Z*Mi,pt+=Z*lr,Wt+=Z*Ei,Z=fe[13],Rt+=Z*Ee,hn+=Z*On,Tt+=Z*$n,Ft+=Z*Gn,St+=Z*In,Pt+=Z*Dn,Mt+=Z*Nn,_t+=Z*Mr,Ue+=Z*Yt,Ve+=Z*Wr,et+=Z*ar,Qe+=Z*Cr,nt+=Z*Gr,pt+=Z*Mi,Wt+=Z*lr,mn+=Z*Ei,Z=fe[14],hn+=Z*Ee,Tt+=Z*On,Ft+=Z*$n,St+=Z*Gn,Pt+=Z*In,Mt+=Z*Dn,_t+=Z*Nn,Ue+=Z*Mr,Ve+=Z*Yt,et+=Z*Wr,Qe+=Z*ar,nt+=Z*Cr,pt+=Z*Gr,Wt+=Z*Mi,mn+=Z*lr,gn+=Z*Ei,Z=fe[15],Tt+=Z*Ee,Ft+=Z*On,St+=Z*$n,Pt+=Z*Gn,Mt+=Z*In,_t+=Z*Dn,Ue+=Z*Nn,Ve+=Z*Mr,et+=Z*Yt,Qe+=Z*Wr,nt+=Z*ar,pt+=Z*Cr,Wt+=Z*Gr,mn+=Z*Mi,gn+=Z*lr,_n+=Z*Ei,Be+=38*Ft,Ne+=38*St,Ge+=38*Pt,ut+=38*Mt,bt+=38*_t,Ye+=38*Ue,jn+=38*Ve,Et+=38*et,Zt+=38*Qe,dn+=38*nt,yn+=38*pt,vn+=38*Wt,un+=38*mn,Rt+=38*gn,hn+=38*_n,ve=1,Z=Be+ve+65535,ve=Math.floor(Z/65536),Be=Z-ve*65536,Z=Ne+ve+65535,ve=Math.floor(Z/65536),Ne=Z-ve*65536,Z=Ge+ve+65535,ve=Math.floor(Z/65536),Ge=Z-ve*65536,Z=ut+ve+65535,ve=Math.floor(Z/65536),ut=Z-ve*65536,Z=bt+ve+65535,ve=Math.floor(Z/65536),bt=Z-ve*65536,Z=Ye+ve+65535,ve=Math.floor(Z/65536),Ye=Z-ve*65536,Z=jn+ve+65535,ve=Math.floor(Z/65536),jn=Z-ve*65536,Z=Et+ve+65535,ve=Math.floor(Z/65536),Et=Z-ve*65536,Z=Zt+ve+65535,ve=Math.floor(Z/65536),Zt=Z-ve*65536,Z=dn+ve+65535,ve=Math.floor(Z/65536),dn=Z-ve*65536,Z=yn+ve+65535,ve=Math.floor(Z/65536),yn=Z-ve*65536,Z=vn+ve+65535,ve=Math.floor(Z/65536),vn=Z-ve*65536,Z=un+ve+65535,ve=Math.floor(Z/65536),un=Z-ve*65536,Z=Rt+ve+65535,ve=Math.floor(Z/65536),Rt=Z-ve*65536,Z=hn+ve+65535,ve=Math.floor(Z/65536),hn=Z-ve*65536,Z=Tt+ve+65535,ve=Math.floor(Z/65536),Tt=Z-ve*65536,Be+=ve-1+37*(ve-1),ve=1,Z=Be+ve+65535,ve=Math.floor(Z/65536),Be=Z-ve*65536,Z=Ne+ve+65535,ve=Math.floor(Z/65536),Ne=Z-ve*65536,Z=Ge+ve+65535,ve=Math.floor(Z/65536),Ge=Z-ve*65536,Z=ut+ve+65535,ve=Math.floor(Z/65536),ut=Z-ve*65536,Z=bt+ve+65535,ve=Math.floor(Z/65536),bt=Z-ve*65536,Z=Ye+ve+65535,ve=Math.floor(Z/65536),Ye=Z-ve*65536,Z=jn+ve+65535,ve=Math.floor(Z/65536),jn=Z-ve*65536,Z=Et+ve+65535,ve=Math.floor(Z/65536),Et=Z-ve*65536,Z=Zt+ve+65535,ve=Math.floor(Z/65536),Zt=Z-ve*65536,Z=dn+ve+65535,ve=Math.floor(Z/65536),dn=Z-ve*65536,Z=yn+ve+65535,ve=Math.floor(Z/65536),yn=Z-ve*65536,Z=vn+ve+65535,ve=Math.floor(Z/65536),vn=Z-ve*65536,Z=un+ve+65535,ve=Math.floor(Z/65536),un=Z-ve*65536,Z=Rt+ve+65535,ve=Math.floor(Z/65536),Rt=Z-ve*65536,Z=hn+ve+65535,ve=Math.floor(Z/65536),hn=Z-ve*65536,Z=Tt+ve+65535,ve=Math.floor(Z/65536),Tt=Z-ve*65536,Be+=ve-1+37*(ve-1),ne[0]=Be,ne[1]=Ne,ne[2]=Ge,ne[3]=ut,ne[4]=bt,ne[5]=Ye,ne[6]=jn,ne[7]=Et,ne[8]=Zt,ne[9]=dn,ne[10]=yn,ne[11]=vn,ne[12]=un,ne[13]=Rt,ne[14]=hn,ne[15]=Tt}function ie(ne,fe){Y(ne,fe,fe)}function ye(ne,fe){var he=n(),Z;for(Z=0;Z<16;Z++)he[Z]=fe[Z];for(Z=253;Z>=0;Z--)ie(he,he),Z!==2&&Z!==4&&Y(he,he,fe);for(Z=0;Z<16;Z++)ne[Z]=he[Z]}function me(ne,fe){var he=n(),Z;for(Z=0;Z<16;Z++)he[Z]=fe[Z];for(Z=250;Z>=0;Z--)ie(he,he),Z!==1&&Y(he,he,fe);for(Z=0;Z<16;Z++)ne[Z]=he[Z]}function be(ne,fe,he){var Z=new Uint8Array(32),ve=new Float64Array(80),Be,Ne,Ge=n(),ut=n(),bt=n(),Ye=n(),jn=n(),Et=n();for(Ne=0;Ne<31;Ne++)Z[Ne]=fe[Ne];for(Z[31]=fe[31]&127|64,Z[0]&=248,O(ve,he),Ne=0;Ne<16;Ne++)ut[Ne]=ve[Ne],Ye[Ne]=Ge[Ne]=bt[Ne]=0;for(Ge[0]=Ye[0]=1,Ne=254;Ne>=0;--Ne)Be=Z[Ne>>>3]>>>(Ne&7)&1,j(Ge,ut,Be),j(bt,Ye,Be),W(jn,Ge,bt),G(Ge,Ge,bt),W(bt,ut,Ye),G(ut,ut,Ye),ie(Ye,jn),ie(Et,Ge),Y(Ge,bt,Ge),Y(bt,ut,jn),W(jn,Ge,bt),G(Ge,Ge,bt),ie(ut,Ge),G(bt,Ye,Et),Y(Ge,bt,l),W(Ge,Ge,Ye),Y(bt,bt,Ge),Y(Ge,Ye,Et),Y(Ye,ut,ve),ie(ut,jn),j(Ge,ut,Be),j(bt,Ye,Be);for(Ne=0;Ne<16;Ne++)ve[Ne+16]=Ge[Ne],ve[Ne+32]=bt[Ne],ve[Ne+48]=ut[Ne],ve[Ne+64]=Ye[Ne];var Zt=ve.subarray(32),dn=ve.subarray(16);return ye(Zt,Zt),Y(dn,dn,Zt),V(ne,dn),0}function Me(ne,fe){return be(ne,fe,o)}function Fe(ne,fe){return r(fe,32),Me(ne,fe)}function De(ne,fe,he){var Z=new Uint8Array(32);return be(Z,he,fe),I(ne,i,Z,T)}var gt=S,tt=E;function dt(ne,fe,he,Z,ve,Be){var Ne=new Uint8Array(32);return De(Ne,ve,Be),gt(ne,fe,he,Z,Ne)}function Qt(ne,fe,he,Z,ve,Be){var Ne=new Uint8Array(32);return De(Ne,ve,Be),tt(ne,fe,he,Z,Ne)}var lt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function jt(ne,fe,he,Z){for(var ve=new Int32Array(16),Be=new Int32Array(16),Ne,Ge,ut,bt,Ye,jn,Et,Zt,dn,yn,vn,un,Rt,hn,Tt,Ft,St,Pt,Mt,_t,Ue,Ve,et,Qe,nt,pt,Wt=ne[0],mn=ne[1],gn=ne[2],_n=ne[3],Ee=ne[4],On=ne[5],$n=ne[6],Gn=ne[7],In=fe[0],Dn=fe[1],Nn=fe[2],Mr=fe[3],Yt=fe[4],Wr=fe[5],ar=fe[6],Cr=fe[7],Gr=0;Z>=128;){for(Mt=0;Mt<16;Mt++)_t=8*Mt+Gr,ve[Mt]=he[_t+0]<<24|he[_t+1]<<16|he[_t+2]<<8|he[_t+3],Be[Mt]=he[_t+4]<<24|he[_t+5]<<16|he[_t+6]<<8|he[_t+7];for(Mt=0;Mt<80;Mt++)if(Ne=Wt,Ge=mn,ut=gn,bt=_n,Ye=Ee,jn=On,Et=$n,Zt=Gn,dn=In,yn=Dn,vn=Nn,un=Mr,Rt=Yt,hn=Wr,Tt=ar,Ft=Cr,Ue=Gn,Ve=Cr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=(Ee>>>14|Yt<<18)^(Ee>>>18|Yt<<14)^(Yt>>>9|Ee<<23),Ve=(Yt>>>14|Ee<<18)^(Yt>>>18|Ee<<14)^(Ee>>>9|Yt<<23),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=Ee&On^~Ee&$n,Ve=Yt&Wr^~Yt&ar,et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=lt[Mt*2],Ve=lt[Mt*2+1],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=ve[Mt%16],Ve=Be[Mt%16],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,St=nt&65535|pt<<16,Pt=et&65535|Qe<<16,Ue=St,Ve=Pt,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=(Wt>>>28|In<<4)^(In>>>2|Wt<<30)^(In>>>7|Wt<<25),Ve=(In>>>28|Wt<<4)^(Wt>>>2|In<<30)^(Wt>>>7|In<<25),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=Wt&mn^Wt&gn^mn&gn,Ve=In&Dn^In&Nn^Dn&Nn,et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,Zt=nt&65535|pt<<16,Ft=et&65535|Qe<<16,Ue=bt,Ve=un,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=St,Ve=Pt,et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,bt=nt&65535|pt<<16,un=et&65535|Qe<<16,mn=Ne,gn=Ge,_n=ut,Ee=bt,On=Ye,$n=jn,Gn=Et,Wt=Zt,Dn=dn,Nn=yn,Mr=vn,Yt=un,Wr=Rt,ar=hn,Cr=Tt,In=Ft,Mt%16===15)for(_t=0;_t<16;_t++)Ue=ve[_t],Ve=Be[_t],et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ve[(_t+9)%16],Ve=Be[(_t+9)%16],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,St=ve[(_t+1)%16],Pt=Be[(_t+1)%16],Ue=(St>>>1|Pt<<31)^(St>>>8|Pt<<24)^St>>>7,Ve=(Pt>>>1|St<<31)^(Pt>>>8|St<<24)^(Pt>>>7|St<<25),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,St=ve[(_t+14)%16],Pt=Be[(_t+14)%16],Ue=(St>>>19|Pt<<13)^(Pt>>>29|St<<3)^St>>>6,Ve=(Pt>>>19|St<<13)^(St>>>29|Pt<<3)^(Pt>>>6|St<<26),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ve[_t]=nt&65535|pt<<16,Be[_t]=et&65535|Qe<<16;Ue=Wt,Ve=In,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[0],Ve=fe[0],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[0]=Wt=nt&65535|pt<<16,fe[0]=In=et&65535|Qe<<16,Ue=mn,Ve=Dn,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[1],Ve=fe[1],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[1]=mn=nt&65535|pt<<16,fe[1]=Dn=et&65535|Qe<<16,Ue=gn,Ve=Nn,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[2],Ve=fe[2],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[2]=gn=nt&65535|pt<<16,fe[2]=Nn=et&65535|Qe<<16,Ue=_n,Ve=Mr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[3],Ve=fe[3],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[3]=_n=nt&65535|pt<<16,fe[3]=Mr=et&65535|Qe<<16,Ue=Ee,Ve=Yt,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[4],Ve=fe[4],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[4]=Ee=nt&65535|pt<<16,fe[4]=Yt=et&65535|Qe<<16,Ue=On,Ve=Wr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[5],Ve=fe[5],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[5]=On=nt&65535|pt<<16,fe[5]=Wr=et&65535|Qe<<16,Ue=$n,Ve=ar,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[6],Ve=fe[6],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[6]=$n=nt&65535|pt<<16,fe[6]=ar=et&65535|Qe<<16,Ue=Gn,Ve=Cr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[7],Ve=fe[7],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[7]=Gn=nt&65535|pt<<16,fe[7]=Cr=et&65535|Qe<<16,Gr+=128,Z-=128}return Z}function rn(ne,fe,he){var Z=new Int32Array(8),ve=new Int32Array(8),Be=new Uint8Array(256),Ne,Ge=he;for(Z[0]=1779033703,Z[1]=3144134277,Z[2]=1013904242,Z[3]=2773480762,Z[4]=1359893119,Z[5]=2600822924,Z[6]=528734635,Z[7]=1541459225,ve[0]=4089235720,ve[1]=2227873595,ve[2]=4271175723,ve[3]=1595750129,ve[4]=2917565137,ve[5]=725511199,ve[6]=4215389547,ve[7]=327033209,jt(Z,ve,fe,he),he%=128,Ne=0;Ne<he;Ne++)Be[Ne]=fe[Ge-he+Ne];for(Be[he]=128,he=256-128*(he<112?1:0),Be[he-9]=0,v(Be,he-8,Ge/536870912|0,Ge<<3),jt(Z,ve,Be,he),Ne=0;Ne<8;Ne++)v(ne,8*Ne,Z[Ne],ve[Ne]);return 0}function Re(ne,fe){var he=n(),Z=n(),ve=n(),Be=n(),Ne=n(),Ge=n(),ut=n(),bt=n(),Ye=n();G(he,ne[1],ne[0]),G(Ye,fe[1],fe[0]),Y(he,he,Ye),W(Z,ne[0],ne[1]),W(Ye,fe[0],fe[1]),Y(Z,Z,Ye),Y(ve,ne[3],fe[3]),Y(ve,ve,d),Y(Be,ne[2],fe[2]),W(Be,Be,Be),G(Ne,Z,he),G(Ge,Be,ve),W(ut,Be,ve),W(bt,Z,he),Y(ne[0],Ne,Ge),Y(ne[1],bt,ut),Y(ne[2],ut,Ge),Y(ne[3],Ne,bt)}function Ze(ne,fe,he){var Z;for(Z=0;Z<4;Z++)j(ne[Z],fe[Z],he)}function ct(ne,fe){var he=n(),Z=n(),ve=n();ye(ve,fe[2]),Y(he,fe[0],ve),Y(Z,fe[1],ve),V(ne,Z),ne[31]^=F(he)<<7}function st(ne,fe,he){var Z,ve;for(N(ne[0],s),N(ne[1],a),N(ne[2],a),N(ne[3],s),ve=255;ve>=0;--ve)Z=he[ve/8|0]>>(ve&7)&1,Ze(ne,fe,Z),Re(fe,ne),Re(ne,ne),Ze(ne,fe,Z)}function vt(ne,fe){var he=[n(),n(),n(),n()];N(he[0],u),N(he[1],h),N(he[2],a),Y(he[3],u,h),st(ne,he,fe)}function $t(ne,fe,he){var Z=new Uint8Array(64),ve=[n(),n(),n(),n()],Be;for(he||r(fe,32),rn(Z,fe,32),Z[0]&=248,Z[31]&=127,Z[31]|=64,vt(ve,Z),ct(ne,ve),Be=0;Be<32;Be++)fe[Be+32]=ne[Be];return 0}var zt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ce(ne,fe){var he,Z,ve,Be;for(Z=63;Z>=32;--Z){for(he=0,ve=Z-32,Be=Z-12;ve<Be;++ve)fe[ve]+=he-16*fe[Z]*zt[ve-(Z-32)],he=Math.floor((fe[ve]+128)/256),fe[ve]-=he*256;fe[ve]+=he,fe[Z]=0}for(he=0,ve=0;ve<32;ve++)fe[ve]+=he-(fe[31]>>4)*zt[ve],he=fe[ve]>>8,fe[ve]&=255;for(ve=0;ve<32;ve++)fe[ve]-=he*zt[ve];for(Z=0;Z<32;Z++)fe[Z+1]+=fe[Z]>>8,ne[Z]=fe[Z]&255}function X(ne){var fe=new Float64Array(64),he;for(he=0;he<64;he++)fe[he]=ne[he];for(he=0;he<64;he++)ne[he]=0;ce(ne,fe)}function ee(ne,fe,he,Z){var ve=new Uint8Array(64),Be=new Uint8Array(64),Ne=new Uint8Array(64),Ge,ut,bt=new Float64Array(64),Ye=[n(),n(),n(),n()];rn(ve,Z,32),ve[0]&=248,ve[31]&=127,ve[31]|=64;var jn=he+64;for(Ge=0;Ge<he;Ge++)ne[64+Ge]=fe[Ge];for(Ge=0;Ge<32;Ge++)ne[32+Ge]=ve[32+Ge];for(rn(Ne,ne.subarray(32),he+32),X(Ne),vt(Ye,Ne),ct(ne,Ye),Ge=32;Ge<64;Ge++)ne[Ge]=Z[Ge];for(rn(Be,ne,he+64),X(Be),Ge=0;Ge<64;Ge++)bt[Ge]=0;for(Ge=0;Ge<32;Ge++)bt[Ge]=Ne[Ge];for(Ge=0;Ge<32;Ge++)for(ut=0;ut<32;ut++)bt[Ge+ut]+=Be[Ge]*ve[ut];return ce(ne.subarray(32),bt),jn}function we(ne,fe){var he=n(),Z=n(),ve=n(),Be=n(),Ne=n(),Ge=n(),ut=n();return N(ne[2],a),O(ne[1],fe),ie(ve,ne[1]),Y(Be,ve,c),G(ve,ve,ne[2]),W(Be,ne[2],Be),ie(Ne,Be),ie(Ge,Ne),Y(ut,Ge,Ne),Y(he,ut,ve),Y(he,he,Be),me(he,he),Y(he,he,ve),Y(he,he,Be),Y(he,he,Be),Y(ne[0],he,Be),ie(Z,ne[0]),Y(Z,Z,Be),K(Z,ve)&&Y(ne[0],ne[0],m),ie(Z,ne[0]),Y(Z,Z,Be),K(Z,ve)?-1:(F(ne[0])===fe[31]>>7&&G(ne[0],s,ne[0]),Y(ne[3],ne[0],ne[1]),0)}function Ae(ne,fe,he,Z){var ve,Be=new Uint8Array(32),Ne=new Uint8Array(64),Ge=[n(),n(),n(),n()],ut=[n(),n(),n(),n()];if(he<64||we(ut,Z))return-1;for(ve=0;ve<he;ve++)ne[ve]=fe[ve];for(ve=0;ve<32;ve++)ne[ve+32]=Z[ve];if(rn(Ne,ne,he),X(Ne),st(Ge,ut,Ne),vt(ut,fe.subarray(32)),Re(Ge,ut),ct(Be,Ge),he-=64,b(fe,0,Be,0)){for(ve=0;ve<he;ve++)ne[ve]=0;return-1}for(ve=0;ve<he;ve++)ne[ve]=fe[ve+64];return he}var Pe=32,We=24,tn=32,on=16,nn=32,Bn=32,Jt=32,hr=32,Wa=32,pr=We,wr=tn,uc=on,ir=64,sr=32,Qo=64,Or=32,Ir=64;t.lowlevel={crypto_core_hsalsa20:I,crypto_stream_xor:U,crypto_stream:A,crypto_stream_salsa20_xor:M,crypto_stream_salsa20:D,crypto_onetimeauth:q,crypto_onetimeauth_verify:z,crypto_verify_16:y,crypto_verify_32:b,crypto_secretbox:S,crypto_secretbox_open:E,crypto_scalarmult:be,crypto_scalarmult_base:Me,crypto_box_beforenm:De,crypto_box_afternm:gt,crypto_box:dt,crypto_box_open:Qt,crypto_box_keypair:Fe,crypto_hash:rn,crypto_sign:ee,crypto_sign_keypair:$t,crypto_sign_open:Ae,crypto_secretbox_KEYBYTES:Pe,crypto_secretbox_NONCEBYTES:We,crypto_secretbox_ZEROBYTES:tn,crypto_secretbox_BOXZEROBYTES:on,crypto_scalarmult_BYTES:nn,crypto_scalarmult_SCALARBYTES:Bn,crypto_box_PUBLICKEYBYTES:Jt,crypto_box_SECRETKEYBYTES:hr,crypto_box_BEFORENMBYTES:Wa,crypto_box_NONCEBYTES:pr,crypto_box_ZEROBYTES:wr,crypto_box_BOXZEROBYTES:uc,crypto_sign_BYTES:ir,crypto_sign_PUBLICKEYBYTES:sr,crypto_sign_SECRETKEYBYTES:Qo,crypto_sign_SEEDBYTES:Or,crypto_hash_BYTES:Ir,gf:n,D:c,L:zt,pack25519:V,unpack25519:O,M:Y,A:W,S:ie,Z:G,pow2523:me,add:Re,set25519:N,modL:ce,scalarmult:st,scalarbase:vt};function fc(ne,fe){if(ne.length!==Pe)throw new Error("bad key size");if(fe.length!==We)throw new Error("bad nonce size")}function Er(ne,fe){if(ne.length!==Jt)throw new Error("bad public key size");if(fe.length!==hr)throw new Error("bad secret key size")}function Fn(){for(var ne=0;ne<arguments.length;ne++)if(!(arguments[ne]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function es(ne){for(var fe=0;fe<ne.length;fe++)ne[fe]=0}t.randomBytes=function(ne){var fe=new Uint8Array(ne);return r(fe,ne),fe},t.secretbox=function(ne,fe,he){Fn(ne,fe,he),fc(he,fe);for(var Z=new Uint8Array(tn+ne.length),ve=new Uint8Array(Z.length),Be=0;Be<ne.length;Be++)Z[Be+tn]=ne[Be];return S(ve,Z,Z.length,fe,he),ve.subarray(on)},t.secretbox.open=function(ne,fe,he){Fn(ne,fe,he),fc(he,fe);for(var Z=new Uint8Array(on+ne.length),ve=new Uint8Array(Z.length),Be=0;Be<ne.length;Be++)Z[Be+on]=ne[Be];return Z.length<32||E(ve,Z,Z.length,fe,he)!==0?null:ve.subarray(tn)},t.secretbox.keyLength=Pe,t.secretbox.nonceLength=We,t.secretbox.overheadLength=on,t.scalarMult=function(ne,fe){if(Fn(ne,fe),ne.length!==Bn)throw new Error("bad n size");if(fe.length!==nn)throw new Error("bad p size");var he=new Uint8Array(nn);return be(he,ne,fe),he},t.scalarMult.base=function(ne){if(Fn(ne),ne.length!==Bn)throw new Error("bad n size");var fe=new Uint8Array(nn);return Me(fe,ne),fe},t.scalarMult.scalarLength=Bn,t.scalarMult.groupElementLength=nn,t.box=function(ne,fe,he,Z){var ve=t.box.before(he,Z);return t.secretbox(ne,fe,ve)},t.box.before=function(ne,fe){Fn(ne,fe),Er(ne,fe);var he=new Uint8Array(Wa);return De(he,ne,fe),he},t.box.after=t.secretbox,t.box.open=function(ne,fe,he,Z){var ve=t.box.before(he,Z);return t.secretbox.open(ne,fe,ve)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var ne=new Uint8Array(Jt),fe=new Uint8Array(hr);return Fe(ne,fe),{publicKey:ne,secretKey:fe}},t.box.keyPair.fromSecretKey=function(ne){if(Fn(ne),ne.length!==hr)throw new Error("bad secret key size");var fe=new Uint8Array(Jt);return Me(fe,ne),{publicKey:fe,secretKey:new Uint8Array(ne)}},t.box.publicKeyLength=Jt,t.box.secretKeyLength=hr,t.box.sharedKeyLength=Wa,t.box.nonceLength=pr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(ne,fe){if(Fn(ne,fe),fe.length!==Qo)throw new Error("bad secret key size");var he=new Uint8Array(ir+ne.length);return ee(he,ne,ne.length,fe),he},t.sign.open=function(ne,fe){if(Fn(ne,fe),fe.length!==sr)throw new Error("bad public key size");var he=new Uint8Array(ne.length),Z=Ae(he,ne,ne.length,fe);if(Z<0)return null;for(var ve=new Uint8Array(Z),Be=0;Be<ve.length;Be++)ve[Be]=he[Be];return ve},t.sign.detached=function(ne,fe){for(var he=t.sign(ne,fe),Z=new Uint8Array(ir),ve=0;ve<Z.length;ve++)Z[ve]=he[ve];return Z},t.sign.detached.verify=function(ne,fe,he){if(Fn(ne,fe,he),fe.length!==ir)throw new Error("bad signature size");if(he.length!==sr)throw new Error("bad public key size");var Z=new Uint8Array(ir+ne.length),ve=new Uint8Array(ir+ne.length),Be;for(Be=0;Be<ir;Be++)Z[Be]=fe[Be];for(Be=0;Be<ne.length;Be++)Z[Be+ir]=ne[Be];return Ae(ve,Z,Z.length,he)>=0},t.sign.keyPair=function(){var ne=new Uint8Array(sr),fe=new Uint8Array(Qo);return $t(ne,fe),{publicKey:ne,secretKey:fe}},t.sign.keyPair.fromSecretKey=function(ne){if(Fn(ne),ne.length!==Qo)throw new Error("bad secret key size");for(var fe=new Uint8Array(sr),he=0;he<fe.length;he++)fe[he]=ne[32+he];return{publicKey:fe,secretKey:new Uint8Array(ne)}},t.sign.keyPair.fromSeed=function(ne){if(Fn(ne),ne.length!==Or)throw new Error("bad seed size");for(var fe=new Uint8Array(sr),he=new Uint8Array(Qo),Z=0;Z<32;Z++)he[Z]=ne[Z];return $t(fe,he,!0),{publicKey:fe,secretKey:he}},t.sign.publicKeyLength=sr,t.sign.secretKeyLength=Qo,t.sign.seedLength=Or,t.sign.signatureLength=ir,t.hash=function(ne){Fn(ne);var fe=new Uint8Array(Ir);return rn(fe,ne,ne.length),fe},t.hash.hashLength=Ir,t.verify=function(ne,fe){return Fn(ne,fe),ne.length===0||fe.length===0||ne.length!==fe.length?!1:g(ne,0,fe,0,ne.length)===0},t.setPRNG=function(ne){r=ne},(function(){var ne=typeof self<"u"?self.crypto||self.msCrypto:null;if(ne&&ne.getRandomValues){var fe=65536;t.setPRNG(function(he,Z){var ve,Be=new Uint8Array(Z);for(ve=0;ve<Z;ve+=fe)ne.getRandomValues(Be.subarray(ve,ve+Math.min(Z-ve,fe)));for(ve=0;ve<Z;ve++)he[ve]=Be[ve];es(Be)})}else typeof V7t<"u"&&(ne=bhe,ne&&ne.randomBytes&&t.setPRNG(function(he,Z){var ve,Be=ne.randomBytes(Z);for(ve=0;ve<Z;ve++)he[ve]=Be[ve];es(Be)}))})()})(e.exports?e.exports:self.nacl=self.nacl||{})})(VT)),VT.exports}var H7t=K7t();const F1=Rr(H7t),KT=(e,t)=>`https://phantom.app/ul/v1/${e}?${t.toString()}`,HT=e=>(["data","nonce","phantom_encryption_public_key","errorCode","errorMessage","data"].forEach(n=>{e.searchParams.delete(n)}),e.toString()),GT=(e,t)=>{const n=`Failed to decrypt phantom redirect payload: ${e} was invalid (${t})`;throw Ct.error(n),new Error(n)},m2=(e,t,n)=>{e||GT("data",e),t||GT("nonce",t),n||GT("sharedSecret",n);const r=F1.box.open.after(Qi.decode(e),Qi.decode(t),n);if(!r)throw new Error("Unable to decrypt data");return JSON.parse(Buffer.from(r).toString("utf8"))},pre=(e,t)=>{const n=F1.randomBytes(24),r=F1.box.after(Buffer.from(JSON.stringify(e)),n,t);return[n,r]},fi={address:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_wallet_address"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] address.get",{value:t}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] address.remove"),localStorage.removeItem("dynamic_phantom_wallet_address")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] address.set",{address:e.toString()}),localStorage.setItem("dynamic_phantom_wallet_address",e.toString())}},encryptionPublicKey:{get:()=>{const e=localStorage.getItem("dynamic_phantom_public_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_public_key")},set:e=>{localStorage.setItem("dynamic_phantom_public_key",JSON.stringify([...e]))}},encryptionSecretKey:{get:()=>{const e=localStorage.getItem("dynamic_phantom_secret_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_secret_key")},set:e=>{localStorage.setItem("dynamic_phantom_secret_key",JSON.stringify([...e]))}},message:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_message_to_sign"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] message.get",{hasMessage:!!t,messageLength:t==null?void 0:t.length,messagePreview:t==null?void 0:t.substring(0,100)}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] message.remove"),localStorage.removeItem("dynamic_phantom_message_to_sign")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] message.set",{messageLength:e.length,messagePreview:e.substring(0,100)}),localStorage.setItem("dynamic_phantom_message_to_sign",e)}},method:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_method"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] method.get",{value:t}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] method.remove"),localStorage.removeItem("dynamic_phantom_method")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] method.set",{method:e}),localStorage.setItem("dynamic_phantom_method",e)}},requestId:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_request_id"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_request_id")},set:e=>{localStorage.setItem("dynamic_phantom_request_id",e)}},sendOptions:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_send_options"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_send_options")},set:e=>{localStorage.setItem("dynamic_phantom_send_options",e)}},session:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_session"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] session.get",{hasSession:!!t}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] session.remove"),localStorage.removeItem("dynamic_phantom_session")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] session.set",{session:e}),localStorage.setItem("dynamic_phantom_session",e)}},sharedSecret:{get:()=>{const e=localStorage.getItem("dynamic_phantom_shared_secret");if(Ct.logVerboseTroubleshootingMessage("[PhantomStorage] sharedSecret.get",{hasSharedSecret:!!e}),!!e)return new Uint8Array(JSON.parse(e))},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] sharedSecret.remove"),localStorage.removeItem("dynamic_phantom_shared_secret")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] sharedSecret.set",{sharedSecretLength:e.length}),localStorage.setItem("dynamic_phantom_shared_secret",JSON.stringify([...e]))}}},G7t=()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] clearStorage called");for(const e in fi)fi[e].remove()};class J7t extends j_{constructor(t){super(Object.assign({},t)),this.name="Phantom",this.overrideKey="phantom"}getMethod(){throw new Error("Method not implemented.")}setupNativeMobileListener({eventName:t,methodName:n,getResult:r,shouldIgnoreEvent:i}){if(!Ln.isNativeMobile)return;const o=`${Date.now()}-${Math.random().toString(36).slice(2)}`;return fi.requestId.set(o),Ct.logVerboseTroubleshootingMessage(`[PhantomRedirect] ${n} - setting up listener`,{requestId:o}),new Promise((s,a)=>{const l=c=>{if(c.requestId!==o||i!=null&&i(c,o)){Ct.logVerboseTroubleshootingMessage(`[PhantomRedirect] ${n} - ignoring event (requestId mismatch)`,{expectedRequestId:o,receivedRequestId:c.requestId});return}Ct.logVerboseTroubleshootingMessage(`[PhantomRedirect] ${n} - listener received matching event`,{errorCode:c.errorCode,requestId:o}),this.off(t,l),c.errorCode?a(new Error(c.errorMessage||c.errorCode)):s(r(c))};this.on(t,l)})}openPhantomUrl({payload:t,sharedSecret:n,encryptionPublicKey:r,phantomEndpoint:i,methodToStore:o}){const[s,a]=pre(t,n),l=new URLSearchParams({dapp_encryption_public_key:Qi.encode(r),nonce:Qi.encode(s),payload:Qi.encode(a),redirect_link:HT(Ln.getUrl())}),c=KT(i,l);fi.method.set(o),Ct.debug(`[PhantomRedirect] ${o} - opening Phantom`,{isNativeMobile:Ln.isNativeMobile}),Ln.openURL(c)}getAddress(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get();if(t)return t;yield this.connect()})}connect(){return Ht(this,void 0,void 0,function*(){var t;const n=ot.getItem(pb);n&&(n.connectorConsumed?ot.setItem(pb,void 0):(n.connectorConsumed=!0,ot.setItem(pb,n)));const r=F1.box.keyPair();fi.encryptionPublicKey.set(r.publicKey),fi.encryptionSecretKey.set(r.secretKey);const{href:i}=Ln.getUrl(),o=i.includes("localhost")||i.includes("0.0.0.0")||i.includes("127.0.0.1"),s=this.getSelectedNetwork();let a=(t=s==null?void 0:s.cluster)!==null&&t!==void 0?t:"mainnet-beta";a==="mainnet"&&(a="mainnet-beta");const l=new URLSearchParams({app_url:o?"https://demo.dynamic.xyz":i,cluster:a,dapp_encryption_public_key:Qi.encode(r.publicKey),redirect_link:HT(Ln.getUrl())}),c=KT("connect",l);Ln.openURL(c)})}getSession(){return Ht(this,void 0,void 0,function*(){const{data:t,nonce:n,phantom_encryption_public_key:r,encryptionSecretKey:i}=this.getInputsOrThrow("getSession",["data","nonce","phantom_encryption_public_key"],["encryptionSecretKey"]),o=F1.box.before(Qi.decode(r),i);fi.sharedSecret.set(o);const s=m2(t,n,o);return fi.session.set(s.session),fi.address.set(new Cn(s.public_key)),s.public_key})}signMessage(t){return Ht(this,void 0,void 0,function*(){Ct.debug("[PhantomRedirect] signMessage called",{messageLength:t.length,messagePreview:t.substring(0,200)});const{session:n,sharedSecret:r,encryptionPublicKey:i}=this.getInputsOrThrow("signMessage",[],["session","sharedSecret","encryptionPublicKey"]);fi.message.set(t);const o={message:Qi.encode(Buffer.from(t)),session:n};this.openPhantomUrl({encryptionPublicKey:i,methodToStore:"signMessage",payload:o,phantomEndpoint:"signMessage",sharedSecret:r});const s=this.setupNativeMobileListener({eventName:"signMessage",getResult:a=>a.signature,methodName:"signMessage",shouldIgnoreEvent:a=>a.message!==t});if(s)return s;throw Ct.debug("[PhantomRedirect] signMessage - mobile web, throwing ignore error"),new Error("ignore")})}extractSignature(){var t;Ct.debug("[PhantomRedirect] extractSignature called");const{data:n,nonce:r,sharedSecret:i,message:o}=this.getInputsOrThrow("extractSignature",["data","nonce"],["sharedSecret","message"]);Ct.debug("[PhantomRedirect] extractSignature - retrieved from storage",{dataPresent:!!n,message:o,messageLength:o==null?void 0:o.length,noncePresent:!!r,sharedSecretPresent:!!i});const s=m2(n,r,i);return Ct.debug("[PhantomRedirect] extractSignature - decrypted payload",{signature:s.signature,signatureLength:(t=s.signature)===null||t===void 0?void 0:t.length}),{message:o,signature:s.signature}}extractTransactions(){const{data:t,nonce:n,sharedSecret:r}=this.getInputsOrThrow("extractTransactions",["data","nonce"],["sharedSecret"]);return m2(t,n,r).transactions.map(s=>lI.from(Qi.decode(s)))}extractTransaction(){const{data:t,nonce:n,sharedSecret:r}=this.getInputsOrThrow("extractTransaction",["data","nonce"],["sharedSecret"]),i=m2(t,n,r),o=Qi.decode(i.transaction);try{return cI.deserialize(o)}catch{return lI.from(o)}}extractAndSendTransaction(){return Ht(this,void 0,void 0,function*(){Ct.debug("[PhantomRedirect] extractAndSendTransaction called");const t=this.extractTransaction(),n=fi.sendOptions.get();fi.sendOptions.remove();const r=n?JSON.parse(n):void 0;Ct.debug("[PhantomRedirect] Sending transaction to network",{hasSendOptions:!!r,isVersioned:t instanceof cI});const i=t.serialize(),o=yield this.getWalletClient().sendRawTransaction(i,r);return Ct.debug("[PhantomRedirect] Transaction sent successfully",{signature:o}),o})}consumeMethod(){const t=fi.method.get();return fi.method.remove(),t}consumeRequestId(){const t=fi.requestId.get();return fi.requestId.remove(),t}getSigner(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get();if(t)return{addListener:()=>{throw new Error("Not implemented")},connect:()=>{throw new Error("Not implemented")},disconnect:()=>{throw new Error("Not implemented")},emit:()=>{throw new Error("Not implemented")},eventNames:()=>{throw new Error("Not implemented")},isBackpack:!1,isBraveWallet:!1,isConnected:!0,isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!0,isSolflare:!1,listenerCount:()=>{throw new Error("Not implemented")},listeners:()=>{throw new Error("Not implemented")},off:()=>{throw new Error("Not implemented")},on:()=>{throw new Error("Not implemented")},once:()=>{throw new Error("Not implemented")},providers:[],publicKey:new Cn(t),removeAllListeners:()=>{throw new Error("Not implemented")},removeListener:()=>{throw new Error("Not implemented")},signAllTransactions:n=>Ht(this,void 0,void 0,function*(){const r=n.map(c=>Qi.encode(c.serialize({requireAllSignatures:!1}))),{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signAllTransactions",[],["session","sharedSecret","encryptionPublicKey"]),a={session:i,transactions:r};this.openPhantomUrl({encryptionPublicKey:s,methodToStore:"signAllTransactions",payload:a,phantomEndpoint:"signAllTransactions",sharedSecret:o});const l=this.setupNativeMobileListener({eventName:"signAllTransactions",getResult:c=>c.transactions||[],methodName:"signAllTransactions"});return l||[]}),signAndSendTransaction:(n,r)=>Ht(this,void 0,void 0,function*(){const i=Qi.encode(n.serialize({requireAllSignatures:!1})),{session:o,sharedSecret:s,encryptionPublicKey:a}=this.getInputsOrThrow("signAndSendTransaction",[],["session","sharedSecret","encryptionPublicKey"]),l={session:o,transaction:i};r&&fi.sendOptions.set(JSON.stringify(r)),this.openPhantomUrl({encryptionPublicKey:a,methodToStore:"signAndSendTransaction",payload:l,phantomEndpoint:"signTransaction",sharedSecret:s});const c=this.setupNativeMobileListener({eventName:"signAndSendTransaction",getResult:d=>({signature:d.signature||""}),methodName:"signAndSendTransaction"});return c||{signature:""}}),signMessage:n=>Ht(this,void 0,void 0,function*(){const r=new TextDecoder().decode(n),i=yield this.signMessage(r);return{signature:i?Qi.decode(i):new Uint8Array(0)}}),signTransaction:n=>Ht(this,void 0,void 0,function*(){const r=Qi.encode(n.serialize({requireAllSignatures:!1})),{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signTransaction",[],["session","sharedSecret","encryptionPublicKey"]),a={session:i,transaction:r};this.openPhantomUrl({encryptionPublicKey:s,methodToStore:"signTransaction",payload:a,phantomEndpoint:"signTransaction",sharedSecret:o});const l=this.setupNativeMobileListener({eventName:"signTransaction",getResult:c=>c.transaction,methodName:"signTransaction"});return l||n})}})}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get();return t?[t]:[]})}endSession(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get(),n=fi.session.get(),r=fi.sharedSecret.get(),i=fi.encryptionPublicKey.get();if(G7t(),!t||!n||!i||!r)return;const o={session:n},[s,a]=pre(o,r),l=new URLSearchParams({dapp_encryption_public_key:Qi.encode(i),nonce:Qi.encode(s),payload:Qi.encode(a),redirect_link:HT(Ln.getUrl())}),c=KT("disconnect",l);Ln.openURL(c)})}getInputsOrThrow(t,n,r){const i={},o=Ln.getUrl().searchParams;return n.forEach(s=>{const a=o.get(s);if(!a)throw new Error(`[PhantomRedirect] ${t} called, but required input '${s}' not found in query params`);i[s]=a}),r.forEach(s=>{const a=fi[s].get();if(!a)throw new Error(`[PhantomRedirect] ${t} called, but required input '${s}' not found in local storage`);i[s]=a}),i}}class nwe extends j_{constructor(){super(...arguments),this.name="Phantom",this.overrideKey="phantom"}connect(){return Ht(this,void 0,void 0,function*(){yield this.getMobileOrInstalledWallet().connect()})}getSigner(){return Ht(this,void 0,void 0,function*(){return this.getMobileOrInstalledWallet().getSigner()})}getMobileOrInstalledWallet(){const t=new z7t(this.constructorProps);return rr()&&!t.isInstalledOnBrowser()&&this.mobileExperience==="redirect"?new J7t(this.constructorProps):t}}Object.defineProperty(nwe,"key",{value:"phantom",writable:!1});class rwe extends vg{constructor(){super(...arguments),this.name="CoinbaseSolana",this.overrideKey="coinbasesolana"}getSigner(){return Ht(this,void 0,void 0,function*(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}signMessage(t){return Ht(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)return;const r=yield this.getSigner();if(!r)return;const i=new TextEncoder().encode(t),o=yield r.signMessage(i,n);if(o)return Oh(Dme(o)?o.signature:o)})}}Object.defineProperty(rwe,"key",{value:"coinbasesolana",writable:!1});class iwe extends vg{constructor(t){super(t),this.name="Solflare",this.overrideKey="solflare",this.walletConnectWalletBookEntry=Fd(t.walletBook,this.key)}getMobileOrInstalledWallet(){return rr()?this:super.getMobileOrInstalledWallet()}getAddress(){return Ht(this,void 0,void 0,function*(){var t,n;if(rr()&&!this.isInstalledOnBrowser()){const r=(t=this.metadata.deepLinks)===null||t===void 0?void 0:t.mobile;coe({nativeLink:(r==null?void 0:r.native)||"solflare://ul/v1/browse",universalLink:(r==null?void 0:r.universal)||"https://solflare.com/ul/v1/browse"});return}return(n=this.solProviderHelper)===null||n===void 0?void 0:n.getAddress()})}signMessage(t){return Ht(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=yield this.getSigner();if(!r)return;const i=new TextEncoder().encode(t),o=a=>a.signature!==void 0;yield r.connect(),yield new Promise(a=>{setTimeout(a,100)});const s=yield r.signMessage(i,"utf8");return o(s)?Oh(s.signature):void 0})}}Object.defineProperty(iwe,"key",{value:"solflare",writable:!1});const Z7t=({key:e,wallet:t,walletBook:n})=>{const{shortName:r}=t,i=r||t.name;let o;t.group&&(o=Object.values(n.wallets).find(a=>{var l;return a.walletConnect&&a.group===t.group&&((l=a.chains)===null||l===void 0?void 0:l.some(c=>c.includes("solana:")))}));const s=class extends vg{constructor(){super(...arguments),this.walletName=i,this.name=i,this.walletConnectWalletBookEntry=o,this.overrideKey=e}};return Object.defineProperty(s,"key",{value:e,writable:!1}),s},Y7t=e=>!("instructions"in e),X7t=({wallet:e,walletConnector:t})=>{const n=e.features,r=()=>{var m,v,g;return!!(((m=e.accounts)===null||m===void 0?void 0:m.length)>0&&(!((v=e.accounts[0])===null||v===void 0)&&v.publicKey)&&(!((g=e.accounts[0])===null||g===void 0)&&g.address))},i=m=>Ht(void 0,void 0,void 0,function*(){var v;const g=e.accounts;if(Ct.logVerboseTroubleshootingMessage("[SolanaWalletStandardConnector] - connect",{autoConnectedAccounts:g}),r())return{address:g[0].address,publicKey:g[0].publicKey};const y=(v=n["standard:connect"])===null||v===void 0?void 0:v.connect;if(!y){Ct.error("connect - Not implemented");return}const b=yield y({silent:!1});if(b.accounts[0])return{address:b.accounts[0].address,publicKey:b.accounts[0].publicKey}}),o=()=>Ht(void 0,void 0,void 0,function*(){var m;const v=(m=n["standard:disconnect"])===null||m===void 0?void 0:m.disconnect;if(!v){Ct.debug("disconnect - Not implemented");return}yield v()}),s=()=>Ht(void 0,void 0,void 0,function*(){const m=yield t.getAddress(),v=e.accounts.find(g=>g.address===m);if(!v)throw new Error("Account not found");return v}),a=()=>{var m;const v=t.getSelectedNetwork();if(!v)throw new Error("Network not found");return`solana:${(m=v.cluster)!==null&&m!==void 0?m:"mainnet"}`},l=m=>Ht(void 0,void 0,void 0,function*(){return(yield c([m]))[0]}),c=m=>Ht(void 0,void 0,void 0,function*(){const v=n["solana:signTransaction"].signTransaction,g=yield s(),y=a(),b=m.map(R=>({account:g,chain:y,transaction:R.serialize({requireAllSignatures:!1})}));return(yield v(...b)).map(({signedTransaction:R},I)=>{const T=m[I];return Y7t(T)?cI.deserialize(R):lI.from(R)})}),d=m=>Ht(void 0,void 0,void 0,function*(){var v;const g=(v=n["solana:signAndSendTransaction"])===null||v===void 0?void 0:v.signAndSendTransaction;if(!g)throw Ct.error("signAndSendTransaction - Not implemented"),new Error("signAndSendTransaction - Not implemented by wallet");const y=yield s(),b=yield g({account:y,chain:a(),transaction:m.serialize({requireAllSignatures:!1})}),[{signature:k}]=b;return{signature:Qi.encode(k)}}),u=m=>Ht(void 0,void 0,void 0,function*(){var v;const g=(v=n["solana:signMessage"])===null||v===void 0?void 0:v.signMessage;if(!g)throw Ct.error("signMessage - Not implemented"),new Error("signMessage - Not implemented by wallet");const y=yield s();return{signature:(yield g({account:y,message:m}))[0].signature}}),h=(m,v)=>{var g;const y=(g=n["standard:events"])===null||g===void 0?void 0:g.on;if(!y){Ct.error("on - Not implemented");return}if(Ct.debug(`[SolanaWalletStandardConnector] - on: ${m}`),m!=="accountChanged"){Ct.debug(`on - Not implemented for event: ${m}`);return}return y("change",k=>{var _,R;const I=(R=(_=k.accounts)===null||_===void 0?void 0:_[0])===null||R===void 0?void 0:R.publicKey;I&&v(new TextDecoder().decode(I))})};return{addListener:()=>{throw new Error("addListener - Not implemented")},connect:i,disconnect:o,emit:()=>{throw new Error("emit - Not implemented")},eventNames:()=>(Ct.error("eventNames - Not implemented"),[]),isBackpack:!1,isBraveWallet:!1,isConnected:r(),isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!1,isSolflare:!1,listenerCount:()=>(Ct.error("listenerCount - Not implemented"),0),listeners:()=>(Ct.error("listeners - Not implemented"),[]),off:()=>{throw new Error("off - Not implemented")},on:h,once:()=>{throw new Error("once - Not implemented")},providers:[],get publicKey(){var m,v;if(!((v=(m=e.accounts)===null||m===void 0?void 0:m[0])===null||v===void 0)&&v.publicKey)return new Cn(e.accounts[0].publicKey)},removeAllListeners:()=>{throw new Error("removeAllListeners - Not implemented")},removeListener:()=>{throw new Error("removeListener - Not implemented")},send:()=>{throw new Error("send - Not implemented")},signAllTransactions:c,signAndSendTransaction:d,signMessage:u,signTransaction:l}},owe=(e,t={},n=void 0)=>{const r=J1(e.name),i=class extends vg{constructor(o){super(Object.assign(Object.assign({},o),{metadata:Object.assign(Object.assign({},t),{groupKey:r,icon:e.icon,id:r,name:e.name})})),this.name=e.name,this.overrideKey=`${r}sol`,this._provider=X7t({wallet:e,walletConnector:this})}findProvider(){return this._provider}};return Object.defineProperty(i,"key",{value:n??r,writable:!1}),i},swe=()=>{const{get:e,on:t}=Bme();return{on:t,wallets:e()}},Q7t=(e,t="connect-and-sign")=>{var n,r,i,o;const s=!!(!((n=e.features)===null||n===void 0)&&n["standard:events"]&&(!((r=e.features)===null||r===void 0)&&r["standard:connect"])&&(!((i=e.features)===null||i===void 0)&&i["solana:signTransaction"])),a=t==="connect-and-sign"?!!(!((o=e.features)===null||o===void 0)&&o["solana:signMessage"]):!0;return s&&a};let g2=null;const eBt=[rwe,W0e,iwe],awe=["coinbasesolana","phantom","phantomledger","backpacksol","solflare"],lwe=(e,t,n)=>{var r;const{name:i}=e,o="sol",s=`${J1(i)}${o}`;Ct.logVerboseTroubleshootingMessage("[SOL shouldAddWalletStandardConnector]",i,o,s,e.features);const a=([d,u])=>{var h,m,v,g,y,b;const k=d===s,_=awe.includes(s),R=u.name===i&&((m=(h=u.injectedConfig)===null||h===void 0?void 0:h[0])===null||m===void 0?void 0:m.chain)===o,I=!(!((b=(y=(g=(v=u.injectedConfig)===null||v===void 0?void 0:v[0])===null||g===void 0?void 0:g.walletStandard)===null||y===void 0?void 0:y.features)===null||b===void 0)&&b.length);return(k||_||R)&&I},l=Object.entries((r=t==null?void 0:t.wallets)!==null&&r!==void 0?r:{}).find(a),c=Q7t(e,n);return Ct.logVerboseTroubleshootingMessage("[SOL shouldAddWalletStandardConnector]",{hasAllFeatures:c,shouldAdd:!l&&c,shouldHandleFromWalletBook:l}),!l&&c},tBt=(e,t)=>{if(typeof window>"u")return;g2==null||g2();const{on:n}=swe();g2=n("register",r=>{var i,o;if(!lwe(r,e,t))return;Ct.logVerboseTroubleshootingMessage("[SOL fetchInjectedWalletConnectors] Wallet registered via wallet-standard",r.name);const s=_Re(e,r.name,"sol"),a=s?(o=Object.entries((i=e==null?void 0:e.wallets)!==null&&i!==void 0?i:{}).find(([,d])=>d===s))===null||o===void 0?void 0:o[0]:void 0,l=s&&t_({walletBook:e,walletBookWallet:s,walletKey:a??`${J1(r.name)}sol`}),c=owe(r,l,a);Hl.emit("providerInjected",{injectedConnectorConstructor:c})})},nBt=({walletBook:e,authMode:t})=>{var n;tBt(e,t);const r=Object.entries((n=e==null?void 0:e.wallets)!==null&&n!==void 0?n:{}).filter(([s,a])=>{var l,c,d;const u=(l=a.injectedConfig)===null||l===void 0?void 0:l.find(v=>v.chain==="sol"),h=!!u,m=awe.includes(s)||((d=(c=u==null?void 0:u.walletStandard)===null||c===void 0?void 0:c.features)===null||d===void 0?void 0:d.length);return h&&!m}).map(([s,a])=>Z7t({key:s,wallet:a,walletBook:e})),{wallets:i}=swe(),o=i.filter(s=>lwe(s,e,t)).map(s=>{var a,l;const[c,d]=(l=Object.entries((a=e==null?void 0:e.wallets)!==null&&a!==void 0?a:{}).find(([,h])=>{var m,v;return h.name===s.name&&((v=(m=h.injectedConfig)===null||m===void 0?void 0:m[0])===null||v===void 0?void 0:v.chain)==="sol"}))!==null&&l!==void 0?l:[],u=d&&t_({walletBook:e,walletBookWallet:d,walletKey:c??`${J1(s.name)}sol`});return owe(s,u,c)});return Ct.logVerboseTroubleshootingMessage("[SOL fetchInjectedWalletConnectors] walletStandardConnectors",o.map(s=>s.name)),[...r,...o]};class cwe extends vg{constructor(){super(...arguments),this.name="Fallback Connector",this.overrideKey="fallbackconnector",this.isAvailable=!1}isInstalledOnBrowser(){return!1}}Object.defineProperty(cwe,"key",{value:"fallbackconnector",writable:!1});const rBt=()=>{const e=class extends fo{constructor(t){super(Object.assign(Object.assign({},t),{metadata:{groupKey:"walletconnect",name:"WalletConnect"},walletName:"WalletConnect Sol"}))}};return Object.defineProperty(e,"key",{value:"walletconnectsol",writable:!1}),e},iBt=({walletBook:e,connectors:t})=>{var n;const r=Object.entries((n=e==null?void 0:e.wallets)!==null&&n!==void 0?n:{}),i=r.filter(([,s])=>{var a;return s.walletConnect&&((a=s.chains)===null||a===void 0?void 0:a.some(l=>l.includes("solana:")))}).map(([s,a])=>{const{shortName:l}=a,c=l||a.name,d=class extends fo{constructor(h){super(Object.assign(Object.assign({},h),{metadata:t_({walletBook:e,walletBookWallet:a,walletKey:s}),overrideKey:s,walletName:c})),this.overrideKey=s}},u=r.filter(([,{group:h}])=>h&&h===a.group).map(([h])=>h);return Object.defineProperty(d,"key",{value:s,writable:!1}),Object.defineProperty(d,"groupedKeys",{value:u,writable:!1}),d});let o=i;return t.length>0&&(o=i.filter(s=>t.every(a=>a.key!==s.key&&!s.groupedKeys.includes(a.key)))),[...t,...o]},oBt=e=>{const n=(e.solNetworks||[]).length>0,r=[...eBt,...nBt(e),...HNt(e),...q7t(),nwe,cwe,...n?[rBt()]:[]];return n?iBt({connectors:r,walletBook:e.walletBook}):r};Oo("@dynamic-labs/solana",Nst);function sBt({children:e}){return f.jsx(mst,{settings:{environmentId:"efb7e70d-a833-428e-9537-c9510cf2c7ae",walletConnectors:[oBt],overrides:{views:[{type:"login",sections:[{type:"email"}]}]}},children:e})}const mre={success:{bg:"#dcfce7",border:"#22c55e",text:"#166534",icon:aBt},error:{bg:"#fee2e2",border:"#dc2626",text:"#991b1b",icon:lBt},warning:{bg:"#fef3c7",border:"#f59e0b",text:"#92400e",icon:cBt},info:{bg:"#dbeafe",border:"#3b82f6",text:"#1e40af",icon:dBt}};function aBt(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}function lBt(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function cBt(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function dBt(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function uBt({toast:e,onDismiss:t}){const n=mre[e.type]||mre.info,r=n.icon,i=!!e.onClick,o=()=>{e.onClick&&(e.onClick(),t())};return f.jsxs("div",{onClick:i?o:void 0,style:{backgroundColor:n.bg,border:`3px solid ${n.border}`,borderRadius:"12px",padding:"12px 16px",boxShadow:"4px 4px 0 #222",display:"flex",alignItems:"center",gap:"12px",maxWidth:"360px",width:"100%",animation:"slideDown 0.3s ease-out",color:n.text,cursor:i?"pointer":"default"},children:[f.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(r,{})}),f.jsx("div",{style:{flex:1,fontSize:"14px",fontWeight:"bold",lineHeight:1.3},children:e.message}),e.button&&f.jsx("button",{onClick:()=>{var s;(s=e.onButtonClick)==null||s.call(e),t()},style:{padding:"6px 12px",backgroundColor:n.border,color:"#fff",border:"2px solid #222",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},children:e.button}),f.jsx("button",{onClick:t,style:{flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",cursor:"pointer",opacity:.6,color:n.text},children:f.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}function fBt(){const{toasts:e,dismissToast:t}=rhe();return e.length===0?null:f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
      `}),f.jsx("div",{style:{position:"fixed",top:"16px",left:"50%",transform:"translateX(-50%)",zIndex:10001,display:"flex",flexDirection:"column",gap:"8px",padding:"0 16px",width:"100%",maxWidth:"400px",boxSizing:"border-box"},children:e.map(n=>f.jsx(uBt,{toast:n,onDismiss:()=>t(n.id)},n.id))})]})}function hBt({activeTab:e,onTabChange:t}){const{colors:n}=dc(),r=[{id:"history",label:"History",icon:"clock"},{id:"bet",label:"Bet",icon:"bolt"},{id:"wallet",label:"Wallet",icon:"wallet"}];return f.jsx("nav",{style:{position:"fixed",bottom:0,left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"480px",height:"80px",backgroundColor:n.backgroundSecondary,borderTop:`3px solid ${n.border}`,zIndex:9999,display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 16px",boxSizing:"border-box"},children:r.map(i=>f.jsxs("button",{onClick:()=>t(i.id),style:{width:"80px",height:"56px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"12px",border:e===i.id?`2px solid ${n.border}`:"2px solid transparent",backgroundColor:e===i.id?n.paper:"transparent",boxShadow:e===i.id?`2px 2px 0 ${n.border}`:"none",cursor:"pointer",transition:"none",color:n.text},children:[i.icon==="clock"&&f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.icon==="bolt"&&f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),i.icon==="wallet"&&f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),f.jsx("span",{style:{fontSize:"12px",fontWeight:"bold",marginTop:"4px"},children:i.label})]},i.id))})}function pBt({onAudioInit:e}){const{setShowAuthFlow:t}=Zc(),{colors:n,isDark:r}=dc(),i=async()=>{try{const o=new(window.AudioContext||window.webkitAudioContext);await o.resume(),e(o)}catch(o){console.error("Audio init error:",o),e(null)}t(!0)};return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",backgroundColor:n.background,backgroundImage:`radial-gradient(${r?"#444":"#ccc"} 1px, transparent 1px)`,backgroundSize:"20px 20px"},children:[f.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"#fff",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",boxShadow:`6px 6px 0 ${n.border}`,border:`4px solid ${n.border}`,padding:"8px"},children:f.jsx("img",{src:"/logo.png",alt:"Instinkt",style:{width:"100%",height:"100%",objectFit:"contain"}})}),f.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:n.text,margin:"0 0 8px 0",textAlign:"center"},children:"Instinkt"}),f.jsx("p",{style:{fontSize:"18px",color:n.textSecondary,margin:"0 0 48px 0",textAlign:"center",fontWeight:"bold"},children:"Bet on your gut feeling"}),f.jsxs("div",{style:{backgroundColor:n.paper,border:`4px solid ${n.border}`,borderRadius:"20px",padding:"32px",boxShadow:`8px 8px 0 ${n.border}`,maxWidth:"360px",width:"100%",textAlign:"center"},children:[f.jsx("div",{style:{marginBottom:"32px",display:"flex",flexDirection:"column",alignItems:"center"},children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#fef3c7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n.border}`,flexShrink:0},children:f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#f59e0b",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.text},children:"30 seconds per bet"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dcfce7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n.border}`,flexShrink:0},children:f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#22c55e",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.text},children:"Swipe to decide"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dbeafe",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n.border}`,flexShrink:0},children:f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.text},children:"Win real rewards"})]})]})}),f.jsx("button",{onClick:i,style:{width:"100%",padding:"18px 24px",backgroundColor:n.border,color:"#fff",border:`4px solid ${n.border}`,borderRadius:"14px",fontSize:"20px",fontWeight:"bold",cursor:"pointer",boxShadow:`4px 4px 0 ${r?"#000":n.border}`,transition:"transform 0.1s, box-shadow 0.1s"},onMouseDown:o=>{o.currentTarget.style.transform="translate(4px, 4px)",o.currentTarget.style.boxShadow="none"},onMouseUp:o=>{o.currentTarget.style.transform="none",o.currentTarget.style.boxShadow=`4px 4px 0 ${r?"#000":n.border}`},onMouseLeave:o=>{o.currentTarget.style.transform="none",o.currentTarget.style.boxShadow=`4px 4px 0 ${r?"#000":n.border}`},children:"Sign In"}),f.jsx("p",{style:{fontSize:"13px",color:n.textMuted,margin:"16px 0 0 0"},children:"Trust your instincts. Make your move."})]}),f.jsx("p",{style:{fontSize:"12px",color:n.textMuted,marginTop:"32px",textAlign:"center"},children:"By signing in, you agree to our Terms of Service"})]})}const D$=x.createContext({});function X_(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const ZE=x.createContext(null),YE=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class mBt extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gBt({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=x.useContext(YE);return x.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=i.current;if(t||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),f.jsx(mBt,{isPresent:t,childRef:r,sizeRef:i,children:x.cloneElement(e,{ref:r})})}const yBt=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=X_(vBt),l=x.useId(),c=x.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=x.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),o?[Math.random(),c]:[n,c]);return x.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=f.jsx(gBt,{isPresent:n,children:e})),f.jsx(ZE.Provider,{value:d,children:e})};function vBt(){return new Map}function dwe(e=!0){const t=x.useContext(ZE);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=x.useId();x.useEffect(()=>{e&&i(o)},[e]);const s=x.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const y2=e=>e.key||"";function gre(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const M$=typeof window<"u",j$=M$?x.useLayoutEffect:x.useEffect,XE=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[a,l]=dwe(s),c=x.useMemo(()=>gre(e),[e]),d=s&&!a?[]:c.map(y2),u=x.useRef(!0),h=x.useRef(c),m=X_(()=>new Map),[v,g]=x.useState(c),[y,b]=x.useState(c);j$(()=>{u.current=!1,h.current=c;for(let R=0;R<y.length;R++){const I=y2(y[R]);d.includes(I)?m.delete(I):m.get(I)!==!0&&m.set(I,!1)}},[y,d.length,d.join("-")]);const k=[];if(c!==v){let R=[...c];for(let I=0;I<y.length;I++){const T=y[I],M=y2(T);d.includes(M)||(R.splice(I,0,T),k.push(T))}o==="wait"&&k.length&&(R=k),b(gre(R)),g(c);return}const{forceRender:_}=x.useContext(D$);return f.jsx(f.Fragment,{children:y.map(R=>{const I=y2(R),T=s&&!a?!1:c===y||d.includes(I),M=()=>{if(m.has(I))m.set(I,!0);else return;let D=!0;m.forEach(A=>{A||(D=!1)}),D&&(_==null||_(),b(h.current),s&&(l==null||l()),r&&r())};return f.jsx(yBt,{isPresent:T,initial:!u.current||n?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:T?void 0:M,children:R},I)})})},xl=e=>e;let uwe=xl;function $$(e){let t;return()=>(t===void 0&&(t=e()),t)}const $m=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Pd=e=>e*1e3,Bd=e=>e/1e3,wBt={useManualTiming:!1};function bBt(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(c){o.has(c)&&(l.schedule(c),e()),c(s)}const l={schedule:(c,d=!1,u=!1)=>{const m=u&&r?t:n;return d&&o.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const v2=["read","resolveKeyframes","update","preRender","render","postRender"],_Bt=40;function fwe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=v2.reduce((b,k)=>(b[k]=bBt(o),b),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=s,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,_Bt),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},v=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:v2.reduce((b,k)=>{const _=s[k];return b[k]=(R,I=!1,T=!1)=>(n||v(),_.schedule(R,I,T)),b},{}),cancel:b=>{for(let k=0;k<v2.length;k++)s[v2[k]].cancel(b)},state:i,steps:s}}const{schedule:ii,cancel:Zu,state:fs,steps:JT}=fwe(typeof requestAnimationFrame<"u"?requestAnimationFrame:xl,!0),hwe=x.createContext({strict:!1}),yre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Z0={};for(const e in yre)Z0[e]={isEnabled:t=>yre[e].some(n=>!!t[n])};function xBt(e){for(const t in e)Z0[t]={...Z0[t],...e[t]}}const kBt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jI(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kBt.has(e)}let pwe=e=>!jI(e);function SBt(e){e&&(pwe=t=>t.startsWith("on")?!jI(t):e(t))}try{SBt(require("@emotion/is-prop-valid").default)}catch{}function IBt(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(pwe(i)||n===!0&&jI(i)||!t&&!jI(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function EBt(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const QE=x.createContext({});function W1(e){return typeof e=="string"||Array.isArray(e)}function eC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const L$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U$=["initial",...L$];function tC(e){return eC(e.animate)||U$.some(t=>W1(e[t]))}function mwe(e){return!!(tC(e)||e.variants)}function CBt(e,t){if(tC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||W1(n)?n:void 0,animate:W1(r)?r:void 0}}return e.inherit!==!1?t:{}}function ABt(e){const{initial:t,animate:n}=CBt(e,x.useContext(QE));return x.useMemo(()=>({initial:t,animate:n}),[vre(t),vre(n)])}function vre(e){return Array.isArray(e)?e.join(" "):e}const RBt=Symbol.for("motionComponentSymbol");function qy(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function TBt(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):qy(n)&&(n.current=r))},[t])}const F$=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OBt="framerAppearId",gwe="data-"+F$(OBt),{schedule:W$}=fwe(queueMicrotask,!1),ywe=x.createContext({});function NBt(e,t,n,r,i){var o,s;const{visualElement:a}=x.useContext(QE),l=x.useContext(hwe),c=x.useContext(ZE),d=x.useContext(YE).reducedMotion,u=x.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,m=x.useContext(ywe);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&PBt(u.current,n,i,m);const v=x.useRef(!1);x.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const g=n[gwe],y=x.useRef(!!g&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,g))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,g)));return j$(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),W$.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,g)}),y.current=!1))}),h}function PBt(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vwe(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&qy(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function vwe(e){if(e)return e.options.allowProjection!==!1?e.projection:vwe(e.parent)}function BBt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&xBt(e);function a(c,d){let u;const h={...x.useContext(YE),...c,layoutId:DBt(c)},{isStatic:m}=h,v=ABt(c),g=r(c,m);if(!m&&M$){MBt();const y=jBt(h);u=y.MeasureLayout,v.visualElement=NBt(i,g,h,t,y.ProjectionNode)}return f.jsxs(QE.Provider,{value:v,children:[u&&v.visualElement?f.jsx(u,{visualElement:v.visualElement,...h}):null,n(i,c,TBt(g,v.visualElement,d),g,m,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const l=x.forwardRef(a);return l[RBt]=i,l}function DBt({layoutId:e}){const t=x.useContext(D$).id;return t&&e!==void 0?t+"-"+e:e}function MBt(e,t){x.useContext(hwe).strict}function jBt(e){const{drag:t,layout:n}=Z0;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $Bt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function q$(e){return typeof e!="string"||e.includes("-")?!1:!!($Bt.indexOf(e)>-1||/[A-Z]/u.test(e))}function wre(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function z$(e,t,n,r){if(typeof t=="function"){const[i,o]=wre(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=wre(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const zB=e=>Array.isArray(e),LBt=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),UBt=e=>zB(e)?e[e.length-1]||0:e,Jo=e=>!!(e&&e.getVelocity);function iS(e){const t=Jo(e)?e.get():e;return LBt(t)?t.toValue():t}function FBt({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:WBt(r,i,o,e),renderState:t()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const wwe=e=>(t,n)=>{const r=x.useContext(QE),i=x.useContext(ZE),o=()=>FBt(e,t,r,i);return n?o():X_(o)};function WBt(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=iS(o[h]);let{initial:s,animate:a}=e;const l=tC(e),c=mwe(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;if(u&&typeof u!="boolean"&&!eC(u)){const h=Array.isArray(u)?u:[u];for(let m=0;m<h.length;m++){const v=z$(e,h[m]);if(v){const{transitionEnd:g,transition:y,...b}=v;for(const k in b){let _=b[k];if(Array.isArray(_)){const R=d?_.length-1:0;_=_[R]}_!==null&&(i[k]=_)}for(const k in g)i[k]=g[k]}}}return i}const Pv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kg=new Set(Pv),bwe=e=>t=>typeof t=="string"&&t.startsWith(e),_we=bwe("--"),qBt=bwe("var(--"),V$=e=>qBt(e)?zBt.test(e.split("/*")[0].trim()):!1,zBt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xwe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yu=(e,t,n)=>n>t?t:n<e?e:n,Bv={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},q1={...Bv,transform:e=>Yu(0,1,e)},w2={...Bv,default:1},Q_=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),lh=Q_("deg"),Dd=Q_("%"),xn=Q_("px"),VBt=Q_("vh"),KBt=Q_("vw"),bre={...Dd,parse:e=>Dd.parse(e)/100,transform:e=>Dd.transform(e*100)},HBt={borderWidth:xn,borderTopWidth:xn,borderRightWidth:xn,borderBottomWidth:xn,borderLeftWidth:xn,borderRadius:xn,radius:xn,borderTopLeftRadius:xn,borderTopRightRadius:xn,borderBottomRightRadius:xn,borderBottomLeftRadius:xn,width:xn,maxWidth:xn,height:xn,maxHeight:xn,top:xn,right:xn,bottom:xn,left:xn,padding:xn,paddingTop:xn,paddingRight:xn,paddingBottom:xn,paddingLeft:xn,margin:xn,marginTop:xn,marginRight:xn,marginBottom:xn,marginLeft:xn,backgroundPositionX:xn,backgroundPositionY:xn},GBt={rotate:lh,rotateX:lh,rotateY:lh,rotateZ:lh,scale:w2,scaleX:w2,scaleY:w2,scaleZ:w2,skew:lh,skewX:lh,skewY:lh,distance:xn,translateX:xn,translateY:xn,translateZ:xn,x:xn,y:xn,z:xn,perspective:xn,transformPerspective:xn,opacity:q1,originX:bre,originY:bre,originZ:xn},_re={...Bv,transform:Math.round},K$={...HBt,...GBt,zIndex:_re,size:xn,fillOpacity:q1,strokeOpacity:q1,numOctaves:_re},JBt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZBt=Pv.length;function YBt(e,t,n){let r="",i=!0;for(let o=0;o<ZBt;o++){const s=Pv[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=xwe(a,K$[s]);if(!l){i=!1;const d=JBt[s]||s;r+=`${d}(${c}) `}n&&(t[s]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function H$(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const c=t[l];if(kg.has(l)){s=!0;continue}else if(_we(l)){i[l]=c;continue}else{const d=xwe(c,K$[l]);l.startsWith("origin")?(a=!0,o[l]=d):r[l]=d}}if(t.transform||(s||n?r.transform=YBt(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${c} ${d}`}}const XBt={offset:"stroke-dashoffset",array:"stroke-dasharray"},QBt={offset:"strokeDashoffset",array:"strokeDasharray"};function eDt(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?XBt:QBt;e[o.offset]=xn.transform(-r);const s=xn.transform(t),a=xn.transform(n);e[o.array]=`${s} ${a}`}function xre(e,t,n){return typeof e=="string"?e:xn.transform(t+n*e)}function tDt(e,t,n){const r=xre(t,e.x,e.width),i=xre(n,e.y,e.height);return`${r} ${i}`}function G$(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(H$(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:v}=e;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=tDt(v,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&eDt(h,s,a,l,!1)}const J$=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kwe=()=>({...J$(),attrs:{}}),Z$=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Swe(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Iwe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ewe(e,t,n,r){Swe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Iwe.has(i)?i:F$(i),t.attrs[i])}const $I={};function nDt(e){Object.assign($I,e)}function Cwe(e,{layout:t,layoutId:n}){return kg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$I[e]||e==="opacity")}function Y$(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Jo(i[s])||t.style&&Jo(t.style[s])||Cwe(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function Awe(e,t,n){const r=Y$(e,t,n);for(const i in e)if(Jo(e[i])||Jo(t[i])){const o=Pv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function rDt(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const kre=["x","y","width","height","cx","cy","r"],iDt={useVisualState:wwe({scrapeMotionValuesFromProps:Awe,createRenderState:kwe,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in i)if(kg.has(a)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let a=0;a<kre.length;a++){const l=kre[a];e[l]!==t[l]&&(s=!0)}s&&ii.read(()=>{rDt(n,r),ii.render(()=>{G$(r,i,Z$(n.tagName),e.transformTemplate),Ewe(n,r)})})}})},oDt={useVisualState:wwe({scrapeMotionValuesFromProps:Y$,createRenderState:J$})};function Rwe(e,t,n){for(const r in t)!Jo(t[r])&&!Cwe(r,n)&&(e[r]=t[r])}function sDt({transformTemplate:e},t){return x.useMemo(()=>{const n=J$();return H$(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aDt(e,t){const n=e.style||{},r={};return Rwe(r,n,e),Object.assign(r,sDt(e,t)),r}function lDt(e,t){const n={},r=aDt(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function cDt(e,t,n,r){const i=x.useMemo(()=>{const o=kwe();return G$(o,t,Z$(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Rwe(o,e.style,e),i.style={...o,...i.style}}return i}function dDt(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(q$(n)?cDt:lDt)(r,o,s,n),c=IBt(r,typeof n=="string",e),d=n!==x.Fragment?{...c,...l,ref:i}:{},{children:u}=r,h=x.useMemo(()=>Jo(u)?u.get():u,[u]);return x.createElement(n,{...d,children:h})}}function uDt(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...q$(r)?iDt:oDt,preloadedFeatures:e,useRender:dDt(i),createVisualElement:t,Component:r};return BBt(s)}}function Twe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nC(e,t,n){const r=e.getProps();return z$(r,t,n!==void 0?n:r.custom,e)}const fDt=$$(()=>window.ScrollTimeline!==void 0);class hDt{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(fDt()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Owe extends hDt{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function X$(e,t){return e?e[t]||e.default||e:void 0}const LI=2e4;function Q$(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<LI;)t+=n,r=e.next(t);return t>=LI?1/0:t}function pDt(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Q$(r),LI);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Bd(i)}}function rC(e){return typeof e=="function"}function Sre(e,t){e.timeline=t,e.onfinish=null}const eL=e=>Array.isArray(e)&&typeof e[0]=="number",mDt={linearEasing:void 0};function gDt(e,t){const n=$$(e);return()=>{var r;return(r=mDt[t])!==null&&r!==void 0?r:n()}}const UI=gDt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nwe=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e($m(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Pwe(e){return!!(typeof e=="function"&&UI()||!e||typeof e=="string"&&(e in VB||UI())||eL(e)||Array.isArray(e)&&e.every(Pwe))}const ub=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,VB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ub([0,.65,.55,1]),circOut:ub([.55,0,1,.45]),backIn:ub([.31,.01,.66,-.59]),backOut:ub([.33,1.53,.69,.99])};function Bwe(e,t){if(e)return typeof e=="function"&&UI()?Nwe(e,t):eL(e)?ub(e):Array.isArray(e)?e.map(n=>Bwe(n,t)||VB.easeOut):VB[e]}const Pc={x:!1,y:!1};function Dwe(){return Pc.x||Pc.y}function Mwe(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function jwe(e,t){const n=Mwe(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Ire(e){return t=>{t.pointerType==="touch"||Dwe()||e(t)}}function yDt(e,t,n={}){const[r,i,o]=jwe(e,n),s=Ire(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const d=Ire(u=>{c(u),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const $we=(e,t)=>t?e===t?!0:$we(e,t.parentElement):!1,tL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vDt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wDt(e){return vDt.has(e.tagName)||e.tabIndex!==-1}const fb=new WeakSet;function Ere(e){return t=>{t.key==="Enter"&&e(t)}}function ZT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bDt=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ere(()=>{if(fb.has(n))return;ZT(n,"down");const i=Ere(()=>{ZT(n,"up")}),o=()=>ZT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Cre(e){return tL(e)&&!Dwe()}function _Dt(e,t,n={}){const[r,i,o]=jwe(e,n),s=a=>{const l=a.currentTarget;if(!Cre(a)||fb.has(l))return;fb.add(l);const c=t(a),d=(m,v)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h),!(!Cre(m)||!fb.has(l))&&(fb.delete(l),typeof c=="function"&&c(m,{success:v}))},u=m=>{d(m,n.useGlobalTarget||$we(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{!wDt(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",c=>bDt(c,i),i)}),o}function xDt(e){return e==="x"||e==="y"?Pc[e]?null:(Pc[e]=!0,()=>{Pc[e]=!1}):Pc.x||Pc.y?null:(Pc.x=Pc.y=!0,()=>{Pc.x=Pc.y=!1})}const Lwe=new Set(["width","height","top","left","right","bottom",...Pv]);let oS;function kDt(){oS=void 0}const Md={now:()=>(oS===void 0&&Md.set(fs.isProcessing||wBt.useManualTiming?fs.timestamp:performance.now()),oS),set:e=>{oS=e,queueMicrotask(kDt)}};function nL(e,t){e.indexOf(t)===-1&&e.push(t)}function iC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rL{constructor(){this.subscriptions=[]}add(t){return nL(this.subscriptions,t),()=>iC(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Uwe(e,t){return t?e*(1e3/t):0}const Are=30,SDt=e=>!isNaN(parseFloat(e)),$b={current:void 0};class IDt{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Md.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Md.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SDt(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new rL);const r=this.events[t].add(n);return t==="change"?()=>{r(),ii.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return $b.current&&$b.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Md.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Are)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Are);return Uwe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Y0(e,t){return new IDt(e,t)}function EDt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Y0(n))}function CDt(e,t){const n=nC(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=UBt(o[s]);EDt(e,s,a)}}function ADt(e){return!!(Jo(e)&&e.add)}function KB(e,t){const n=e.getValue("willChange");if(ADt(n))return n.add(t)}function Fwe(e){return e.props[gwe]}const Wwe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RDt=1e-7,TDt=12;function ODt(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Wwe(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>RDt&&++a<TDt);return s}function ex(e,t,n,r){if(e===t&&n===r)return xl;const i=o=>ODt(o,0,1,e,n);return o=>o===0||o===1?o:Wwe(i(o),t,r)}const qwe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zwe=e=>t=>1-e(1-t),Vwe=ex(.33,1.53,.69,.99),iL=zwe(Vwe),Kwe=qwe(iL),Hwe=e=>(e*=2)<1?.5*iL(e):.5*(2-Math.pow(2,-10*(e-1))),oL=e=>1-Math.sin(Math.acos(e)),Gwe=zwe(oL),Jwe=qwe(oL),Zwe=e=>/^0[^.\s]+$/u.test(e);function NDt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zwe(e):!0}const Lb=e=>Math.round(e*1e5)/1e5,sL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PDt(e){return e==null}const BDt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aL=(e,t)=>n=>!!(typeof n=="string"&&BDt.test(n)&&n.startsWith(e)||t&&!PDt(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ywe=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(sL);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},DDt=e=>Yu(0,255,e),YT={...Bv,transform:e=>Math.round(DDt(e))},am={test:aL("rgb","red"),parse:Ywe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+YT.transform(e)+", "+YT.transform(t)+", "+YT.transform(n)+", "+Lb(q1.transform(r))+")"};function MDt(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const HB={test:aL("#"),parse:MDt,transform:am.transform},zy={test:aL("hsl","hue"),parse:Ywe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Dd.transform(Lb(t))+", "+Dd.transform(Lb(n))+", "+Lb(q1.transform(r))+")"},Vs={test:e=>am.test(e)||HB.test(e)||zy.test(e),parse:e=>am.test(e)?am.parse(e):zy.test(e)?zy.parse(e):HB.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?am.transform(e):zy.transform(e)},jDt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $Dt(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sL))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(jDt))===null||n===void 0?void 0:n.length)||0)>0}const Xwe="number",Qwe="color",LDt="var",UDt="var(",Rre="${}",FDt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function z1(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(FDt,l=>(Vs.test(l)?(r.color.push(o),i.push(Qwe),n.push(Vs.parse(l))):l.startsWith(UDt)?(r.var.push(o),i.push(LDt),n.push(l)):(r.number.push(o),i.push(Xwe),n.push(parseFloat(l))),++o,Rre)).split(Rre);return{values:n,split:a,indexes:r,types:i}}function ebe(e){return z1(e).values}function tbe(e){const{split:t,types:n}=z1(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===Xwe?o+=Lb(i[s]):a===Qwe?o+=Vs.transform(i[s]):o+=i[s]}return o}}const WDt=e=>typeof e=="number"?0:e;function qDt(e){const t=ebe(e);return tbe(e)(t.map(WDt))}const Kh={test:$Dt,parse:ebe,createTransformer:tbe,getAnimatableNone:qDt},zDt=new Set(["brightness","contrast","saturate","opacity"]);function VDt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(sL)||[];if(!r)return e;const i=n.replace(r,"");let o=zDt.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const KDt=/\b([a-z-]*)\(.*?\)/gu,GB={...Kh,getAnimatableNone:e=>{const t=e.match(KDt);return t?t.map(VDt).join(" "):e}},HDt={...K$,color:Vs,backgroundColor:Vs,outlineColor:Vs,fill:Vs,stroke:Vs,borderColor:Vs,borderTopColor:Vs,borderRightColor:Vs,borderBottomColor:Vs,borderLeftColor:Vs,filter:GB,WebkitFilter:GB},lL=e=>HDt[e];function nbe(e,t){let n=lL(e);return n!==GB&&(n=Kh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const GDt=new Set(["auto","none","0"]);function JDt(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!GDt.has(o)&&z1(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=nbe(n,i)}const Tre=e=>e===Bv||e===xn,Ore=(e,t)=>parseFloat(e.split(", ")[t]),Nre=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Ore(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Ore(o[1],e):0}},ZDt=new Set(["x","y","z"]),YDt=Pv.filter(e=>!ZDt.has(e));function XDt(e){const t=[];return YDt.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const X0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Nre(4,13),y:Nre(5,14)};X0.translateX=X0.x;X0.translateY=X0.y;const gm=new Set;let JB=!1,ZB=!1;function rbe(){if(ZB){const e=Array.from(gm).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=XDt(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ZB=!1,JB=!1,gm.forEach(e=>e.complete()),gm.clear()}function ibe(){gm.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ZB=!0)})}function QDt(){ibe(),rbe()}class cL{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gm.add(this),JB||(JB=!0,ii.read(ibe),ii.resolveKeyframes(rbe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const obe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),eMt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tMt(e){const t=eMt.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function sbe(e,t,n=1){const[r,i]=tMt(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return obe(s)?parseFloat(s):s}return V$(i)?sbe(i,t,n+1):i}const abe=e=>t=>t.test(e),nMt={test:e=>e==="auto",parse:e=>e},lbe=[Bv,xn,Dd,lh,KBt,VBt,nMt],Pre=e=>lbe.find(abe(e));class cbe extends cL{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),V$(c))){const d=sbe(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Lwe.has(r)||t.length!==2)return;const[i,o]=t,s=Pre(i),a=Pre(o);if(s!==a)if(Tre(s)&&Tre(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)NDt(t[i])&&r.push(i);r.length&&JDt(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=X0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=X0[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Bre=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kh.test(e)||e==="0")&&!e.startsWith("url("));function rMt(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iMt(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=Bre(i,t),a=Bre(o,t);return!s||!a?!1:rMt(e)||(n==="spring"||rC(n))&&r}const oMt=e=>e!==null;function oC(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(oMt),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const sMt=40;class dbe{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Md.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sMt?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&QDt(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Md.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!iMt(t,r,i,o))if(s)this.options.duration=0;else{l&&l(oC(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Si=(e,t,n)=>e+(t-e)*n;function XT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function aMt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=XT(l,a,e+1/3),o=XT(l,a,e),s=XT(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function FI(e,t){return n=>n>0?t:e}const QT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},lMt=[HB,am,zy],cMt=e=>lMt.find(t=>t.test(e));function Dre(e){const t=cMt(e);if(!t)return!1;let n=t.parse(e);return t===zy&&(n=aMt(n)),n}const Mre=(e,t)=>{const n=Dre(e),r=Dre(t);if(!n||!r)return FI(e,t);const i={...n};return o=>(i.red=QT(n.red,r.red,o),i.green=QT(n.green,r.green,o),i.blue=QT(n.blue,r.blue,o),i.alpha=Si(n.alpha,r.alpha,o),am.transform(i))},dMt=(e,t)=>n=>t(e(n)),tx=(...e)=>e.reduce(dMt),YB=new Set(["none","hidden"]);function uMt(e,t){return YB.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fMt(e,t){return n=>Si(e,t,n)}function dL(e){return typeof e=="number"?fMt:typeof e=="string"?V$(e)?FI:Vs.test(e)?Mre:mMt:Array.isArray(e)?ube:typeof e=="object"?Vs.test(e)?Mre:hMt:FI}function ube(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>dL(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function hMt(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=dL(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function pMt(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const mMt=(e,t)=>{const n=Kh.createTransformer(t),r=z1(e),i=z1(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?YB.has(e)&&!i.values.length||YB.has(t)&&!r.values.length?uMt(e,t):tx(ube(pMt(r,i),i.values),n):FI(e,t)};function fbe(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Si(e,t,n):dL(e)(e,t)}const gMt=5;function hbe(e,t,n){const r=Math.max(t-gMt,0);return Uwe(n-e(r),t-r)}const Hi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eO=.001;function yMt({duration:e=Hi.duration,bounce:t=Hi.bounce,velocity:n=Hi.velocity,mass:r=Hi.mass}){let i,o,s=1-t;s=Yu(Hi.minDamping,Hi.maxDamping,s),e=Yu(Hi.minDuration,Hi.maxDuration,Bd(e)),s<1?(i=c=>{const d=c*s,u=d*e,h=d-n,m=XB(c,s),v=Math.exp(-u);return eO-h/m*v},o=c=>{const u=c*s*e,h=u*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,v=Math.exp(-u),g=XB(Math.pow(c,2),s);return(-i(c)+eO>0?-1:1)*((h-m)*v)/g}):(i=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-eO+d*u},o=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=wMt(i,o,a);if(e=Pd(e),isNaN(l))return{stiffness:Hi.stiffness,damping:Hi.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const vMt=12;function wMt(e,t,n){let r=n;for(let i=1;i<vMt;i++)r=r-e(r)/t(r);return r}function XB(e,t){return e*Math.sqrt(1-t*t)}const bMt=["duration","bounce"],_Mt=["stiffness","damping","mass"];function jre(e,t){return t.some(n=>e[n]!==void 0)}function xMt(e){let t={velocity:Hi.velocity,stiffness:Hi.stiffness,damping:Hi.damping,mass:Hi.mass,isResolvedFromDuration:!1,...e};if(!jre(e,_Mt)&&jre(e,bMt))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Yu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Hi.mass,stiffness:i,damping:o}}else{const n=yMt(e);t={...t,...n,mass:Hi.mass},t.isResolvedFromDuration=!0}return t}function uL(e=Hi.visualDuration,t=Hi.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=xMt({...n,velocity:-Bd(n.velocity||0)}),v=h||0,g=c/(2*Math.sqrt(l*d)),y=s-o,b=Bd(Math.sqrt(l/d)),k=Math.abs(y)<5;r||(r=k?Hi.restSpeed.granular:Hi.restSpeed.default),i||(i=k?Hi.restDelta.granular:Hi.restDelta.default);let _;if(g<1){const I=XB(b,g);_=T=>{const M=Math.exp(-g*b*T);return s-M*((v+g*b*y)/I*Math.sin(I*T)+y*Math.cos(I*T))}}else if(g===1)_=I=>s-Math.exp(-b*I)*(y+(v+b*y)*I);else{const I=b*Math.sqrt(g*g-1);_=T=>{const M=Math.exp(-g*b*T),D=Math.min(I*T,300);return s-M*((v+g*b*y)*Math.sinh(D)+I*y*Math.cosh(D))/I}}const R={calculatedDuration:m&&u||null,next:I=>{const T=_(I);if(m)a.done=I>=u;else{let M=0;g<1&&(M=I===0?Pd(v):hbe(_,I,T));const D=Math.abs(M)<=r,A=Math.abs(s-T)<=i;a.done=D&&A}return a.value=a.done?s:T,a},toString:()=>{const I=Math.min(Q$(R),LI),T=Nwe(M=>R.next(I*M).value,I,30);return I+"ms "+T}};return R}function $re({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,v=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let g=n*t;const y=u+g,b=s===void 0?y:s(y);b!==y&&(g=b-u);const k=D=>-g*Math.exp(-D/r),_=D=>b+k(D),R=D=>{const A=k(D),U=_(D);h.done=Math.abs(A)<=c,h.value=h.done?b:U};let I,T;const M=D=>{m(h.value)&&(I=D,T=uL({keyframes:[h.value,v(h.value)],velocity:hbe(_,D,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:D=>{let A=!1;return!T&&I===void 0&&(A=!0,R(D),M(D)),I!==void 0&&D>=I?T.next(D-I):(!A&&R(D),h)}}}const kMt=ex(.42,0,1,1),SMt=ex(0,0,.58,1),pbe=ex(.42,0,.58,1),mbe=e=>Array.isArray(e)&&typeof e[0]!="number",IMt={linear:xl,easeIn:kMt,easeInOut:pbe,easeOut:SMt,circIn:oL,circInOut:Jwe,circOut:Gwe,backIn:iL,backInOut:Kwe,backOut:Vwe,anticipate:Hwe},Lre=e=>{if(eL(e)){uwe(e.length===4);const[t,n,r,i]=e;return ex(t,n,r,i)}else if(typeof e=="string")return IMt[e];return e};function EMt(e,t,n){const r=[],i=n||fbe,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||xl:t;a=tx(l,a)}r.push(a)}return r}function gbe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(uwe(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=EMt(t,r,i),l=a.length,c=d=>{if(s&&d<e[0])return t[0];let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=$m(e[u],e[u+1],d);return a[u](h)};return n?d=>c(Yu(e[0],e[o-1],d)):c}function ybe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=$m(0,t,r);e.push(Si(n,1,i))}}function vbe(e){const t=[0];return ybe(t,e.length-1),t}function CMt(e,t){return e.map(n=>n*t)}function AMt(e,t){return e.map(()=>t||pbe).splice(0,e.length-1)}function WI({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=mbe(r)?r.map(Lre):Lre(r),o={done:!1,value:t[0]},s=CMt(n&&n.length===t.length?n:vbe(t),e),a=gbe(s,t,{ease:Array.isArray(i)?i:AMt(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const RMt=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ii.update(t,!0),stop:()=>Zu(t),now:()=>fs.isProcessing?fs.timestamp:Md.now()}},TMt={decay:$re,inertia:$re,tween:WI,keyframes:WI,spring:uL},OMt=e=>e/100;class fL extends dbe{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||cL,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=rC(n)?n:TMt[n]||WI;let l,c;a!==WI&&typeof t[0]!="number"&&(l=tx(OMt,fbe(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});o==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=Q$(d));const{calculatedDuration:u}=d,h=u+i,m=h*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),k=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,R=o;if(m){const D=Math.min(this.currentTime,d)/u;let A=Math.floor(D),U=D%1;!U&&D>=1&&(U=1),U===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(v==="reverse"?(U=1-U,g&&(U-=g/u)):v==="mirror"&&(R=s)),_=Yu(0,1,U)*u}const I=k?{done:!1,value:l[0]}:R.next(_);a&&(I.value=a(I.value));let{done:T}=I;!k&&c!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return M&&i!==void 0&&(I.value=oC(l,this.options,i)),y&&y(I.value),M&&this.finish(),I}get duration(){const{resolved:t}=this;return t?Bd(t.calculatedDuration):0}get time(){return Bd(this.currentTime)}set time(t){t=Pd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bd(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=RMt,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const NMt=new Set(["opacity","clipPath","filter","transform"]);function PMt(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=Bwe(a,i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const BMt=$$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qI=10,DMt=2e4;function MMt(e){return rC(e.type)||e.type==="spring"||!Pwe(e.ease)}function jMt(e,t){const n=new fL({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<DMt;)r=n.sample(o),i.push(r.value),o+=qI;return{times:void 0,keyframes:i,duration:o-qI,ease:"linear"}}const wbe={anticipate:Hwe,backInOut:Kwe,circInOut:Jwe};function $Mt(e){return e in wbe}class Ure extends dbe{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new cbe(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&UI()&&$Mt(o)&&(o=wbe[o]),MMt(this.options)){const{onComplete:u,onUpdate:h,motionValue:m,element:v,...g}=this.options,y=jMt(t,g);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,i=y.times,o=y.ease,s="keyframes"}const d=PMt(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:o});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Sre(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:u}=this.options;a.set(oC(t,this.options,n)),u&&u(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Bd(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Bd(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Pd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return xl;const{animation:r}=n;Sre(r,t)}return xl}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...m}=this.options,v=new fL({...m,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),g=Pd(this.time);c.setWithVelocity(v.sample(g-qI).value,v.sample(g).value,qI)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return BMt()&&r&&NMt.has(r)&&!l&&!c&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const LMt={type:"spring",stiffness:500,damping:25,restSpeed:10},UMt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FMt={type:"keyframes",duration:.8},WMt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qMt=(e,{keyframes:t})=>t.length>2?FMt:kg.has(e)?e.startsWith("scale")?UMt(t[1]):LMt:WMt;function zMt({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const hL=(e,t,n,r={},i,o)=>s=>{const a=X$(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Pd(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};zMt(a)||(d={...d,...qMt(e,d)}),d.duration&&(d.duration=Pd(d.duration)),d.repeatDelay&&(d.repeatDelay=Pd(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!o&&t.get()!==void 0){const h=oC(d.keyframes,a);if(h!==void 0)return ii.update(()=>{d.onUpdate(h),d.onComplete()}),new Owe([])}return!o&&Ure.supports(d)?new Ure(d):new fL(d)};function VMt({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function pL(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,(o=e.latestValues[u])!==null&&o!==void 0?o:null),m=l[u];if(m===void 0||d&&VMt(d,u))continue;const v={delay:n,...X$(s||{},u)};let g=!1;if(window.MotionHandoffAnimation){const b=Fwe(e);if(b){const k=window.MotionHandoffAnimation(b,u,ii);k!==null&&(v.startTime=k,g=!0)}}KB(e,u),h.start(hL(u,h,m,e.shouldReduceMotion&&Lwe.has(u)?{type:!1}:v,e,g));const y=h.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{ii.update(()=>{a&&CDt(e,a)})}),c}function QB(e,t,n={}){var r;const i=nC(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(pL(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=o;return KMt(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function KMt(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(HMt).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(QB(c,t,{...o,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function HMt(e,t){return e.sortNodePosition(t)}function GMt(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>QB(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=QB(e,t,n);else{const i=typeof t=="function"?nC(e,t,n.custom):t;r=Promise.all(pL(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const JMt=U$.length;function bbe(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bbe(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JMt;n++){const r=U$[n],i=e.props[r];(W1(i)||i===!1)&&(t[r]=i)}return t}const ZMt=[...L$].reverse(),YMt=L$.length;function XMt(e){return t=>Promise.all(t.map(({animation:n,options:r})=>GMt(e,n,r)))}function QMt(e){let t=XMt(e),n=Fre(),r=!0;const i=l=>(c,d)=>{var u;const h=nC(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:m,transitionEnd:v,...g}=h;c={...c,...g,...v}}return c};function o(l){t=l(e)}function s(l){const{props:c}=e,d=bbe(e.parent)||{},u=[],h=new Set;let m={},v=1/0;for(let y=0;y<YMt;y++){const b=ZMt[y],k=n[b],_=c[b]!==void 0?c[b]:d[b],R=W1(_),I=b===l?k.isActive:null;I===!1&&(v=y);let T=_===d[b]&&_!==c[b]&&R;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),k.protectedKeys={...m},!k.isActive&&I===null||!_&&!k.prevProp||eC(_)||typeof _=="boolean")continue;const M=ejt(k.prevProp,_);let D=M||b===l&&k.isActive&&!T&&R||y>v&&R,A=!1;const U=Array.isArray(_)?_:[_];let $=U.reduce(i(b),{});I===!1&&($={});const{prevResolvedValues:q={}}=k,z={...q,...$},S=P=>{D=!0,h.has(P)&&(A=!0,h.delete(P)),k.needsAnimating[P]=!0;const j=e.getValue(P);j&&(j.liveStyle=!1)};for(const P in z){const j=$[P],V=q[P];if(m.hasOwnProperty(P))continue;let K=!1;zB(j)&&zB(V)?K=!Twe(j,V):K=j!==V,K?j!=null?S(P):h.add(P):j!==void 0&&h.has(P)?S(P):k.protectedKeys[P]=!0}k.prevProp=_,k.prevResolvedValues=$,k.isActive&&(m={...m,...$}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(T&&M)||A)&&u.push(...U.map(P=>({animation:P,options:{type:b}})))}if(h.size){const y={};h.forEach(b=>{const k=e.getBaseTarget(b),_=e.getValue(b);_&&(_.liveStyle=!0),y[b]=k??null}),u.push({animation:y})}let g=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Fre(),r=!0}}}function ejt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Twe(t,e):!1}function Tp(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fre(){return{animate:Tp(!0),whileInView:Tp(),whileHover:Tp(),whileTap:Tp(),whileDrag:Tp(),whileFocus:Tp(),exit:Tp()}}class ap{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tjt extends ap{constructor(t){super(t),t.animationState||(t.animationState=QMt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();eC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let njt=0;class rjt extends ap{constructor(){super(...arguments),this.id=njt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ijt={animation:{Feature:tjt},exit:{Feature:rjt}};function V1(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function nx(e){return{point:{x:e.pageX,y:e.pageY}}}const ojt=e=>t=>tL(t)&&e(t,nx(t));function Ub(e,t,n,r){return V1(e,t,ojt(n),r)}const Wre=(e,t)=>Math.abs(e-t);function sjt(e,t){const n=Wre(e.x,t.x),r=Wre(e.y,t.y);return Math.sqrt(n**2+r**2)}class _be{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=nO(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=sjt(u.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=u,{timestamp:g}=fs;this.history.push({...v,timestamp:g});const{onStart:y,onMove:b}=this.handlers;h||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=tO(h,this.transformPagePoint),ii.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nO(u.type==="pointercancel"?this.lastMoveEventInfo:tO(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(u,y),v&&v(u,y)},!tL(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=nx(t),a=tO(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=fs;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,nO(a,this.history)),this.removeListeners=tx(Ub(this.contextWindow,"pointermove",this.handlePointerMove),Ub(this.contextWindow,"pointerup",this.handlePointerUp),Ub(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zu(this.updatePoint)}}function tO(e,t){return t?{point:t(e.point)}:e}function qre(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nO({point:e},t){return{point:e,delta:qre(e,xbe(t)),offset:qre(e,ajt(t)),velocity:ljt(t,.1)}}function ajt(e){return e[0]}function xbe(e){return e[e.length-1]}function ljt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=xbe(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Pd(t)));)n--;if(!r)return{x:0,y:0};const o=Bd(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const kbe=1e-4,cjt=1-kbe,djt=1+kbe,Sbe=.01,ujt=0-Sbe,fjt=0+Sbe;function Il(e){return e.max-e.min}function hjt(e,t,n){return Math.abs(e-t)<=n}function zre(e,t,n,r=.5){e.origin=r,e.originPoint=Si(t.min,t.max,e.origin),e.scale=Il(n)/Il(t),e.translate=Si(n.min,n.max,e.origin)-e.originPoint,(e.scale>=cjt&&e.scale<=djt||isNaN(e.scale))&&(e.scale=1),(e.translate>=ujt&&e.translate<=fjt||isNaN(e.translate))&&(e.translate=0)}function Fb(e,t,n,r){zre(e.x,t.x,n.x,r?r.originX:void 0),zre(e.y,t.y,n.y,r?r.originY:void 0)}function Vre(e,t,n){e.min=n.min+t.min,e.max=e.min+Il(t)}function pjt(e,t,n){Vre(e.x,t.x,n.x),Vre(e.y,t.y,n.y)}function Kre(e,t,n){e.min=t.min-n.min,e.max=e.min+Il(t)}function Wb(e,t,n){Kre(e.x,t.x,n.x),Kre(e.y,t.y,n.y)}function mjt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Si(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Si(n,e,r.max):Math.min(e,n)),e}function Hre(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gjt(e,{top:t,left:n,bottom:r,right:i}){return{x:Hre(e.x,n,i),y:Hre(e.y,t,r)}}function Gre(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function yjt(e,t){return{x:Gre(e.x,t.x),y:Gre(e.y,t.y)}}function vjt(e,t){let n=.5;const r=Il(e),i=Il(t);return i>r?n=$m(t.min,t.max-r,e.min):r>i&&(n=$m(e.min,e.max-i,t.min)),Yu(0,1,n)}function wjt(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eD=.35;function bjt(e=eD){return e===!1?e=0:e===!0&&(e=eD),{x:Jre(e,"left","right"),y:Jre(e,"top","bottom")}}function Jre(e,t,n){return{min:Zre(e,t),max:Zre(e,n)}}function Zre(e,t){return typeof e=="number"?e:e[t]||0}const Yre=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vy=()=>({x:Yre(),y:Yre()}),Xre=()=>({min:0,max:0}),Fi=()=>({x:Xre(),y:Xre()});function Kl(e){return[e("x"),e("y")]}function Ibe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _jt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xjt(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rO(e){return e===void 0||e===1}function tD({scale:e,scaleX:t,scaleY:n}){return!rO(e)||!rO(t)||!rO(n)}function Mp(e){return tD(e)||Ebe(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ebe(e){return Qre(e.x)||Qre(e.y)}function Qre(e){return e&&e!=="0%"}function zI(e,t,n){const r=e-n,i=t*r;return n+i}function eie(e,t,n,r,i){return i!==void 0&&(e=zI(e,i,r)),zI(e,n,r)+t}function nD(e,t=0,n=1,r,i){e.min=eie(e.min,t,n,r,i),e.max=eie(e.max,t,n,r,i)}function Cbe(e,{x:t,y:n}){nD(e.x,t.translate,t.scale,t.originPoint),nD(e.y,n.translate,n.scale,n.originPoint)}const tie=.999999999999,nie=1.0000000000001;function kjt(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Hy(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Cbe(e,s)),r&&Mp(o.latestValues)&&Hy(e,o.latestValues))}t.x<nie&&t.x>tie&&(t.x=1),t.y<nie&&t.y>tie&&(t.y=1)}function Ky(e,t){e.min=e.min+t,e.max=e.max+t}function rie(e,t,n,r,i=.5){const o=Si(e.min,e.max,i);nD(e,t,n,o,r)}function Hy(e,t){rie(e.x,t.x,t.scaleX,t.scale,t.originX),rie(e.y,t.y,t.scaleY,t.scale,t.originY)}function Abe(e,t){return Ibe(xjt(e.getBoundingClientRect(),t))}function Sjt(e,t,n){const r=Abe(e,n),{scroll:i}=t;return i&&(Ky(r.x,i.offset.x),Ky(r.y,i.offset.y)),r}const Rbe=({current:e})=>e?e.ownerDocument.defaultView:null,Ijt=new WeakMap;class Ejt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nx(d).point)},o=(d,u)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xDt(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kl(y=>{let b=this.getAxisMotionValue(y).get()||0;if(Dd.test(b)){const{projection:k}=this.visualElement;if(k&&k.layout){const _=k.layout.layoutBox[y];_&&(b=Il(_)*(parseFloat(b)/100))}}this.originPoint[y]=b}),v&&ii.postRender(()=>v(d,u)),KB(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=u;if(m&&this.currentDirection===null){this.currentDirection=Cjt(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),g&&g(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Kl(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _be(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Rbe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ii.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!b2(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=mjt(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&qy(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gjt(i.layoutBox,n):this.constraints=!1,this.elastic=bjt(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Kl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=wjt(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qy(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Sjt(r,i.root,this.visualElement.getTransformPagePoint());let s=yjt(i.layout.layoutBox,o);if(n){const a=n(_jt(s));this.hasMutatedConstraints=!!a,a&&(s=Ibe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Kl(d=>{if(!b2(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return KB(this.visualElement,t),r.start(hL(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kl(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kl(n=>{const{drag:r}=this.getProps();if(!b2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Si(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kl(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=vjt({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kl(s=>{if(!b2(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Si(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ijt.set(this.visualElement,this);const t=this.visualElement.current,n=Ub(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();qy(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ii.read(r);const s=V1(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Kl(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=eD,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function b2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Cjt(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ajt extends ap{constructor(t){super(t),this.removeGroupControls=xl,this.removeListeners=xl,this.controls=new Ejt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xl}unmount(){this.removeGroupControls(),this.removeListeners()}}const iie=e=>(t,n)=>{e&&ii.postRender(()=>e(t,n))};class Rjt extends ap{constructor(){super(...arguments),this.removePointerDownListener=xl}onPointerDown(t){this.session=new _be(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rbe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:iie(t),onStart:iie(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&ii.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Ub(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oie(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Hw={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xn.test(e))e=parseFloat(e);else return e;const n=oie(e,t.target.x),r=oie(e,t.target.y);return`${n}% ${r}%`}},Tjt={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Kh.parse(e);if(i.length>5)return r;const o=Kh.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const c=Si(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class Ojt extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;nDt(Njt),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),sS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||ii.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),W$.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Tbe(e){const[t,n]=dwe(),r=x.useContext(D$);return f.jsx(Ojt,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(ywe),isPresent:t,safeToRemove:n})}const Njt={borderRadius:{...Hw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hw,borderTopRightRadius:Hw,borderBottomLeftRadius:Hw,borderBottomRightRadius:Hw,boxShadow:Tjt};function Obe(e,t,n){const r=Jo(e)?e:Y0(e);return r.start(hL("",r,t,n)),r.animation}function Nbe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Pjt=(e,t)=>e.depth-t.depth;class Bjt{constructor(){this.children=[],this.isDirty=!1}add(t){nL(this.children,t),this.isDirty=!0}remove(t){iC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pjt),this.isDirty=!1,this.children.forEach(t)}}function Djt(e,t){const n=Md.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Zu(r),e(o-t))};return ii.read(r,!0),()=>Zu(r)}const Pbe=["TopLeft","TopRight","BottomLeft","BottomRight"],Mjt=Pbe.length,sie=e=>typeof e=="string"?parseFloat(e):e,aie=e=>typeof e=="number"||xn.test(e);function jjt(e,t,n,r,i,o){i?(e.opacity=Si(0,n.opacity!==void 0?n.opacity:1,$jt(r)),e.opacityExit=Si(t.opacity!==void 0?t.opacity:1,0,Ljt(r))):o&&(e.opacity=Si(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Mjt;s++){const a=`border${Pbe[s]}Radius`;let l=lie(t,a),c=lie(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||aie(l)===aie(c)?(e[a]=Math.max(Si(sie(l),sie(c),r),0),(Dd.test(c)||Dd.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Si(t.rotate||0,n.rotate||0,r))}function lie(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $jt=Bbe(0,.5,Gwe),Ljt=Bbe(.5,.95,xl);function Bbe(e,t,n){return r=>r<e?0:r>t?1:n($m(e,t,r))}function cie(e,t){e.min=t.min,e.max=t.max}function ql(e,t){cie(e.x,t.x),cie(e.y,t.y)}function die(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uie(e,t,n,r,i){return e-=t,e=zI(e,1/n,r),i!==void 0&&(e=zI(e,1/i,r)),e}function Ujt(e,t=0,n=1,r=.5,i,o=e,s=e){if(Dd.test(t)&&(t=parseFloat(t),t=Si(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Si(o.min,o.max,r);e===o&&(a-=t),e.min=uie(e.min,t,n,a,i),e.max=uie(e.max,t,n,a,i)}function fie(e,t,[n,r,i],o,s){Ujt(e,t[n],t[r],t[i],t.scale,o,s)}const Fjt=["x","scaleX","originX"],Wjt=["y","scaleY","originY"];function hie(e,t,n,r){fie(e.x,t,Fjt,n?n.x:void 0,r?r.x:void 0),fie(e.y,t,Wjt,n?n.y:void 0,r?r.y:void 0)}function pie(e){return e.translate===0&&e.scale===1}function Dbe(e){return pie(e.x)&&pie(e.y)}function mie(e,t){return e.min===t.min&&e.max===t.max}function qjt(e,t){return mie(e.x,t.x)&&mie(e.y,t.y)}function gie(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Mbe(e,t){return gie(e.x,t.x)&&gie(e.y,t.y)}function yie(e){return Il(e.x)/Il(e.y)}function vie(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zjt{constructor(){this.members=[]}add(t){nL(this.members,t),t.scheduleRender()}remove(t){if(iC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vjt(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const jp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hb=typeof window<"u"&&window.MotionDebug!==void 0,iO=["","X","Y","Z"],Kjt={visibility:"hidden"},wie=1e3;let Hjt=0;function oO(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jbe(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Fwe(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ii,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jbe(r)}function $be({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=Hjt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hb&&(jp.totalNodes=jp.resolvedTargetDeltas=jp.recalculatedProjection=0),this.nodes.forEach(Zjt),this.nodes.forEach(t9t),this.nodes.forEach(n9t),this.nodes.forEach(Yjt),hb&&window.MotionDebug.record(jp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bjt)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new rL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Nbe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Djt(h,250),sS.hasAnimatedSinceResize&&(sS.hasAnimatedSinceResize=!1,this.nodes.forEach(_ie))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||a9t,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=d.getProps(),k=!this.targetLayout||!Mbe(this.targetLayout,v)||m,_=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,_);const R={...X$(g,"layout"),onPlay:y,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else h||_ie(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r9t),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jbe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bie);return}this.isUpdating||this.nodes.forEach(Qjt),this.isUpdating=!1,this.nodes.forEach(e9t),this.nodes.forEach(Gjt),this.nodes.forEach(Jjt),this.clearAllSnapshots();const a=Md.now();fs.delta=Yu(0,1e3/60,a-fs.timestamp),fs.timestamp=a,fs.isProcessing=!0,JT.update.process(fs),JT.preRender.process(fs),JT.render.process(fs),fs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W$.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xjt),this.sharedNodes.forEach(i9t)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ii.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ii.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Dbe(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||Mp(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),l9t(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return Fi();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(c9t))){const{scroll:d}=this.root;d&&(Ky(l.x,d.offset.x),Ky(l.y,d.offset.y))}return l}removeElementScroll(s){var a;const l=Fi();if(ql(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&ql(l,s),Ky(l.x,u.offset.x),Ky(l.y,u.offset.y))}return l}applyTransform(s,a=!1){const l=Fi();ql(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Hy(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mp(d.latestValues)&&Hy(l,d.latestValues)}return Mp(this.latestValues)&&Hy(l,this.latestValues),l}removeTransform(s){const a=Fi();ql(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Mp(c.latestValues))continue;tD(c.latestValues)&&c.updateSnapshot();const d=Fi(),u=c.measurePageBox();ql(d,u),hie(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Mp(this.latestValues)&&hie(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=fs.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),Wb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fi(),this.targetWithTransforms=Fi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pjt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ql(this.target,this.layout.layoutBox),Cbe(this.target,this.targetDelta)):ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),Wb(this.relativeTargetOrigin,this.target,m.target),ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hb&&jp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tD(this.parent.latestValues)||Ebe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ql(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;kjt(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fi());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(die(this.prevProjectionDelta.x,this.projectionDelta.x),die(this.prevProjectionDelta.y,this.projectionDelta.y)),Fb(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!vie(this.projectionDelta.x,this.prevProjectionDelta.x)||!vie(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),hb&&jp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vy(),this.projectionDelta=Vy(),this.projectionDeltaWithTransform=Vy()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=Vy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Fi(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),b=!y||y.members.length<=1,k=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(s9t));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const I=R/1e3;xie(u.x,s.x,I),xie(u.y,s.y,I),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wb(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o9t(this.relativeTarget,this.relativeTargetOrigin,h,I),_&&qjt(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fi()),ql(_,this.relativeTarget)),g&&(this.animationValues=d,jjt(d,c,this.latestValues,I,k,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ii.update(()=>{sS.hasAnimatedSinceResize=!0,this.currentAnimation=Obe(0,wie,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Lbe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fi();const u=Il(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const h=Il(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ql(a,l),Hy(a,d),Fb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new zjt),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&oO("z",s,c,this.animationValues);for(let d=0;d<iO.length;d++)oO(`rotate${iO[d]}`,s,c,this.animationValues),oO(`skew${iO[d]}`,s,c,this.animationValues);s.render();for(const d in c)s.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Kjt;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=iS(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=iS(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Mp(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=Vjt(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in $I){if(h[g]===void 0)continue;const{correct:y,applyTo:b}=$I[g],k=c.transform==="none"?h[g]:y(h[g],u);if(b){const _=b.length;for(let R=0;R<_;R++)c[b[R]]=k}else c[g]=k}return this.options.layoutId&&(c.pointerEvents=u===this?iS(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(bie),this.root.sharedNodes.clear()}}}function Gjt(e){e.updateLayout()}function Jjt(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Kl(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],m=Il(h);h.min=r[u].min,h.max=h.min+m}):Lbe(o,n.layoutBox,r)&&Kl(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],m=Il(r[u]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+m)});const a=Vy();Fb(a,r,n.layoutBox);const l=Vy();s?Fb(l,e.applyTransform(i,!0),n.measuredBox):Fb(l,r,n.layoutBox);const c=!Dbe(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:m}=u;if(h&&m){const v=Fi();Wb(v,n.layoutBox,h.layoutBox);const g=Fi();Wb(g,r,m.layoutBox),Mbe(v,g)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Zjt(e){hb&&jp.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yjt(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xjt(e){e.clearSnapshot()}function bie(e){e.clearMeasurements()}function Qjt(e){e.isLayoutDirty=!1}function e9t(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _ie(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function t9t(e){e.resolveTargetDelta()}function n9t(e){e.calcProjection()}function r9t(e){e.resetSkewAndRotation()}function i9t(e){e.removeLeadSnapshot()}function xie(e,t,n){e.translate=Si(t.translate,0,n),e.scale=Si(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kie(e,t,n,r){e.min=Si(t.min,n.min,r),e.max=Si(t.max,n.max,r)}function o9t(e,t,n,r){kie(e.x,t.x,n.x,r),kie(e.y,t.y,n.y,r)}function s9t(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const a9t={duration:.45,ease:[.4,0,.1,1]},Sie=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Iie=Sie("applewebkit/")&&!Sie("chrome/")?Math.round:xl;function Eie(e){e.min=Iie(e.min),e.max=Iie(e.max)}function l9t(e){Eie(e.x),Eie(e.y)}function Lbe(e,t,n){return e==="position"||e==="preserve-aspect"&&!hjt(yie(t),yie(n),.2)}function c9t(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const d9t=$be({attachResizeListener:(e,t)=>V1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sO={current:void 0},Ube=$be({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sO.current){const e=new d9t({});e.mount(window),e.setOptions({layoutScroll:!0}),sO.current=e}return sO.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),u9t={pan:{Feature:Rjt},drag:{Feature:Ajt,ProjectionNode:Ube,MeasureLayout:Tbe}};function Cie(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&ii.postRender(()=>o(t,nx(t)))}class f9t extends ap{mount(){const{current:t}=this.node;t&&(this.unmount=yDt(t,n=>(Cie(this.node,n,"Start"),r=>Cie(this.node,r,"End"))))}unmount(){}}class h9t extends ap{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tx(V1(this.node.current,"focus",()=>this.onFocus()),V1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Aie(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&ii.postRender(()=>o(t,nx(t)))}class p9t extends ap{mount(){const{current:t}=this.node;t&&(this.unmount=_Dt(t,n=>(Aie(this.node,n,"Start"),(r,{success:i})=>Aie(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rD=new WeakMap,aO=new WeakMap,m9t=e=>{const t=rD.get(e.target);t&&t(e)},g9t=e=>{e.forEach(m9t)};function y9t({root:e,...t}){const n=e||document;aO.has(n)||aO.set(n,{});const r=aO.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(g9t,{root:e,...t})),r[i]}function v9t(e,t,n){const r=y9t(t);return rD.set(e,n),r.observe(e),()=>{rD.delete(e),r.unobserve(e)}}const w9t={some:0,all:1};class b9t extends ap{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:w9t[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return v9t(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_9t(t,n))&&this.startObserver()}unmount(){}}function _9t({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const x9t={inView:{Feature:b9t},tap:{Feature:p9t},focus:{Feature:h9t},hover:{Feature:f9t}},k9t={layout:{ProjectionNode:Ube,MeasureLayout:Tbe}},iD={current:null},Fbe={current:!1};function S9t(){if(Fbe.current=!0,!!M$)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>iD.current=e.matches;e.addListener(t),t()}else iD.current=!1}const I9t=[...lbe,Vs,Kh],E9t=e=>I9t.find(abe(e)),Q0=new WeakMap;function C9t(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Jo(i))e.addValue(r,i);else if(Jo(o))e.addValue(r,Y0(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Y0(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Rie=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wbe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Md.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ii.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=tC(n),this.isVariantNode=mwe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&Jo(v)&&v.set(l[m],!1)}}mount(t){this.current=t,Q0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Fbe.current||S9t(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iD.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Q0.delete(this.current),this.projection&&this.projection.unmount(),Zu(this.notifyUpdate),Zu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=kg.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ii.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Z0){const n=Z0[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rie.length;r++){const i=Rie[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=C9t(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Y0(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(obe(i)||Zwe(i))?i=parseFloat(i):!E9t(i)&&Kh.test(n)&&(i=nbe(t,n)),this.setBaseTarget(t,Jo(i)?i.get():i)),Jo(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=z$(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Jo(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new rL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class qbe extends Wbe{constructor(){super(...arguments),this.KeyframeResolver=cbe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function A9t(e){return window.getComputedStyle(e)}class zbe extends qbe{constructor(){super(...arguments),this.type="html",this.renderInstance=Swe}readValueFromInstance(t,n){if(kg.has(n)){const r=lL(n);return r&&r.default||0}else{const r=A9t(t),i=(_we(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Abe(t,n)}build(t,n,r){H$(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Y$(t,n,r)}}class Vbe extends qbe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fi}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(kg.has(n)){const r=lL(n);return r&&r.default||0}return n=Iwe.has(n)?n:F$(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Awe(t,n,r)}build(t,n,r){G$(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Ewe(t,n,r,i)}mount(t){this.isSVGTag=Z$(t.tagName),super.mount(t)}}const R9t=(e,t)=>q$(e)?new Vbe(t):new zbe(t,{allowProjection:e!==x.Fragment}),T9t=uDt({...ijt,...x9t,...u9t,...k9t},R9t),yo=EBt(T9t);function oD(e){const t=X_(()=>Y0(e)),{isStatic:n}=x.useContext(YE);if(n){const[,r]=x.useState(e);x.useEffect(()=>t.on("change",r),[])}return t}function Kbe(e,t){const n=oD(t()),r=()=>n.set(t());return r(),j$(()=>{const i=()=>ii.preRender(r,!1,!0),o=e.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),Zu(r)}}),n}const O9t=e=>e&&typeof e=="object"&&e.mix,N9t=e=>O9t(e)?e.mix:void 0;function P9t(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],o=e[2+n],s=e[3+n],a=gbe(i,o,{mixer:N9t(o[0]),...s});return t?a(r):a}function B9t(e){$b.current=[],e();const t=Kbe($b.current,e);return $b.current=void 0,t}function yy(e,t,n,r){if(typeof e=="function")return B9t(e);const i=typeof t=="function"?t:P9t(t,n,r);return Array.isArray(e)?Tie(e,i):Tie([e],([o])=>i(o))}function Tie(e,t){const n=X_(()=>[]);return Kbe(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}const D9t=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function Hbe(e,t){return mbe(e)?e[D9t(0,e.length,t)]:e}function mL(e){return typeof e=="object"&&!Array.isArray(e)}function Gbe(e,t,n,r){return typeof e=="string"&&mL(t)?Mwe(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function M9t(e,t,n){return e*(t+1)}function Oie(e,t,n,r){var i;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(i=r.get(t))!==null&&i!==void 0?i:e}function j9t(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(iC(e,i),r--)}}function $9t(e,t,n,r,i,o){j9t(e,i,o);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Si(i,o,r[s]),easing:Hbe(n,s)})}function L9t(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function U9t(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const F9t="easeInOut";function W9t(e,{defaultTransition:t={},...n}={},r,i){const o=t.duration||.3,s=new Map,a=new Map,l={},c=new Map;let d=0,u=0,h=0;for(let m=0;m<e.length;m++){const v=e[m];if(typeof v=="string"){c.set(v,u);continue}else if(!Array.isArray(v)){c.set(v.name,Oie(u,v.at,d,c));continue}let[g,y,b={}]=v;b.at!==void 0&&(u=Oie(u,b.at,d,c));let k=0;const _=(R,I,T,M=0,D=0)=>{const A=q9t(R),{delay:U=0,times:$=vbe(A),type:q="keyframes",repeat:z,repeatType:S,repeatDelay:E=0,...N}=I;let{ease:P=t.ease||"easeOut",duration:j}=I;const V=typeof U=="function"?U(M,D):U,K=A.length,F=rC(q)?q:i==null?void 0:i[q];if(K<=2&&F){let Y=100;if(K===2&&K9t(A)){const me=A[1]-A[0];Y=Math.abs(me)}const ie={...N};j!==void 0&&(ie.duration=Pd(j));const ye=pDt(ie,Y,F);P=ye.ease,j=ye.duration}j??(j=o);const O=u+V;$.length===1&&$[0]===0&&($[1]=1);const W=$.length-A.length;if(W>0&&ybe($,W),A.length===1&&A.unshift(null),z){j=M9t(j,z);const Y=[...A],ie=[...$];P=Array.isArray(P)?[...P]:[P];const ye=[...P];for(let me=0;me<z;me++){A.push(...Y);for(let be=0;be<Y.length;be++)$.push(ie[be]+(me+1)),P.push(be===0?"linear":Hbe(ye,be-1))}L9t($,z)}const G=O+j;$9t(T,A,P,$,O,G),k=Math.max(V+j,k),h=Math.max(G,h)};if(Jo(g)){const R=Nie(g,a);_(y,b,Pie("default",R))}else{const R=Gbe(g,y,r,l),I=R.length;for(let T=0;T<I;T++){y=y,b=b;const M=R[T],D=Nie(M,a);for(const A in y)_(y[A],z9t(b,A),Pie(A,D),T,I)}}d=u,u+=k}return a.forEach((m,v)=>{for(const g in m){const y=m[g];y.sort(U9t);const b=[],k=[],_=[];for(let I=0;I<y.length;I++){const{at:T,value:M,easing:D}=y[I];b.push(M),k.push($m(0,h,T)),_.push(D||"easeOut")}k[0]!==0&&(k.unshift(0),b.unshift(b[0]),_.unshift(F9t)),k[k.length-1]!==1&&(k.push(1),b.push(null)),s.has(v)||s.set(v,{keyframes:{},transition:{}});const R=s.get(v);R.keyframes[g]=b,R.transition[g]={...t,duration:h,ease:_,times:k,...n}}}),s}function Nie(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Pie(e,t){return t[e]||(t[e]=[]),t[e]}function q9t(e){return Array.isArray(e)?e:[e]}function z9t(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const V9t=e=>typeof e=="number",K9t=e=>e.every(V9t);function H9t(e,t){return e in t}class G9t extends Wbe{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(H9t(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Fi()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function J9t(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Nbe(e)?new Vbe(t):new zbe(t);n.mount(e),Q0.set(e,n)}function Z9t(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new G9t(t);n.mount(e),Q0.set(e,n)}function Y9t(e,t){return Jo(e)||typeof e=="number"||typeof e=="string"&&!mL(t)}function Jbe(e,t,n,r){const i=[];if(Y9t(e,t))i.push(Obe(e,mL(t)&&t.default||t,n&&(n.default||n)));else{const o=Gbe(e,t,r),s=o.length;for(let a=0;a<s;a++){const l=o[a],c=l instanceof Element?J9t:Z9t;Q0.has(l)||c(l);const d=Q0.get(l),u={...n};"delay"in u&&typeof u.delay=="function"&&(u.delay=u.delay(a,s)),i.push(...pL(d,{...t,transition:u},{}))}}return i}function X9t(e,t,n){const r=[];return W9t(e,t,n,{spring:uL}).forEach(({keyframes:o,transition:s},a)=>{r.push(...Jbe(a,o,s))}),r}function Q9t(e){return Array.isArray(e)&&e.some(Array.isArray)}function e$t(e){function t(n,r,i){let o=[];return Q9t(n)?o=X9t(n,r,e):o=Jbe(n,r,i,e),new Owe(o)}return t}const vy=e$t(),ev={Crypto:"#F59E0B",Sports:"#3B82F6",Politics:"#8B5CF6",Weather:"#06B6D4",Stocks:"#10B981",Commodities:"#EC4899",Finance:"#10B981",Tech:"#6366F1",Culture:"#EC4899",Other:"#6B7280"};let Id=null,Hp=null,sD=!1,Bie=!1,Gw=null;function Zbe(){if(!Id)try{Id=new(window.AudioContext||window.webkitAudioContext),console.log("[Sound] AudioContext created, state:",Id.state)}catch(e){console.error("[Sound] Failed to create AudioContext:",e)}return Id}function Ybe(){return Gw||(Gw=new Audio("/sounds/swipe.mp3"),Gw.preload="auto",Gw.volume=.5,console.log("[Sound] HTML5 Audio element created")),Gw}async function t$t(){if(Hp)return Hp;try{const e=Zbe();if(!e)return null;console.log("[Sound] Loading swipe.mp3...");const t=await fetch("/sounds/swipe.mp3");if(!t.ok)return console.error("[Sound] Failed to fetch swipe.mp3:",t.status),null;const n=await t.arrayBuffer();return console.log("[Sound] Got array buffer, size:",n.byteLength),Hp=await e.decodeAudioData(n),console.log("[Sound] Swipe sound decoded successfully, duration:",Hp.duration),Hp}catch(e){return console.error("[Sound] Failed to load swipe sound:",e),null}}function aS(){if(console.log("[Sound] playSwipeSound called, isUnlocked:",sD),Hp&&Id)try{Id.state==="suspended"&&(console.log("[Sound] Resuming suspended AudioContext..."),Id.resume());const e=Id.createBufferSource();e.buffer=Hp;const t=Id.createGain();t.gain.value=.5,e.connect(t),t.connect(Id.destination),e.start(0),console.log("[Sound] Playing via Web Audio API");return}catch(e){console.error("[Sound] Web Audio playback failed:",e)}try{const e=Ybe();e.currentTime=0;const t=e.play();t&&t.then(()=>{console.log("[Sound] Playing via HTML5 Audio")}).catch(n=>{console.log("[Sound] HTML5 Audio play failed:",n.message)})}catch(e){console.error("[Sound] All audio playback failed:",e)}}async function aD(){if(sD){console.log("[Sound] Already unlocked");return}if(Bie){console.log("[Sound] Unlock already attempted, waiting...");return}Bie=!0,console.log("[Sound] ===== UNLOCK AUDIO STARTING =====");try{const e=Zbe();if(e){console.log("[Sound] AudioContext state before resume:",e.state),e.state==="suspended"&&(await e.resume(),console.log("[Sound] AudioContext resumed, state:",e.state));const n=e.createBuffer(1,1,22050),r=e.createBufferSource();r.buffer=n,r.connect(e.destination),r.start(0),console.log("[Sound] Silent buffer played")}const t=Ybe();t.muted=!0;try{await t.play(),t.pause(),t.muted=!1,t.currentTime=0,console.log("[Sound] HTML5 Audio unlocked")}catch(n){console.log("[Sound] HTML5 Audio unlock failed:",n.message)}await t$t(),sD=!0,console.log("[Sound] ===== AUDIO UNLOCKED SUCCESSFULLY =====")}catch(e){console.error("[Sound] Unlock failed:",e)}}let Die=!1;function n$t(e){if(!e)return null;const t=Math.floor(Date.now()/1e3),n=e-t;if(n<=0)return"Expired";const r=Math.floor(n/60),i=Math.floor(r/60),o=Math.floor(i/24);return r<60?`${r}m`:i<24?`${i}h ${r%60}m`:o<7?`${o}d ${i%24}h`:`${o}d`}function Mie({market:e,onSwipe:t,isTop:n,yesProfit:r,noProfit:i}){const[o,s]=x.useState(!1),{colors:a,isDark:l}=dc();x.useEffect(()=>{if(Die)return;const k=()=>{console.log("[SwipeCard] First interaction detected, unlocking audio..."),aD(),document.removeEventListener("touchstart",k),document.removeEventListener("mousedown",k)};return document.addEventListener("touchstart",k,{once:!0}),document.addEventListener("mousedown",k,{once:!0}),Die=!0,()=>{document.removeEventListener("touchstart",k),document.removeEventListener("mousedown",k)}},[]);const c=oD(0),d=oD(0),u=yy(c,[-300,0,300],[-25,0,25]),h=yy(c,[0,100,200],[0,.5,1]),m=yy(c,[-200,-100,0],[1,.5,0]),v=yy(d,[-150,-75,0],[1,.5,0]),g=ev[e.category]||"#6B7280";if(!n)return f.jsx("div",{className:"absolute inset-0 card-comic overflow-hidden scale-95 opacity-60",style:{backgroundColor:g,borderColor:a.border},children:e.image&&f.jsx("img",{src:e.image,alt:"",className:"w-full h-full object-cover",onError:k=>{k.target.style.display="none"}})});const y=()=>{aD()},b=(k,_)=>{console.log("[SwipeCard] handleDragEnd - offset:",_.offset.x,_.offset.y),Math.abs(_.offset.y)>Math.abs(_.offset.x)*.7&&_.offset.y<-80?(aS(),vy(d,-500,{duration:.3}),vy(c,0,{duration:.3}),setTimeout(()=>{console.log("[SwipeCard] Calling onSwipe(skip)"),t("skip")},300)):_.offset.x>100?(aS(),vy(c,500,{duration:.3}),setTimeout(()=>{console.log("[SwipeCard] Calling onSwipe(yes)"),t("yes")},300)):_.offset.x<-100?(aS(),vy(c,-500,{duration:.3}),setTimeout(()=>{console.log("[SwipeCard] Calling onSwipe(no)"),t("no")},300)):(vy(c,0,{type:"spring",stiffness:500,damping:30}),vy(d,0,{type:"spring",stiffness:500,damping:30}))};return f.jsxs(yo.div,{className:"absolute inset-0",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0,transition:{duration:.2}},children:[f.jsx(yo.div,{className:"absolute left-0 top-0 bottom-0 w-24 flex items-center justify-center pointer-events-none z-0",style:{opacity:yy(c,[0,50,150],[0,.3,1])},children:f.jsxs("div",{className:"text-center px-3 py-2 rounded-xl border-2 border-comic-border",style:{backgroundColor:"#D1FAE5"},children:[f.jsx("div",{className:"text-base font-bold",style:{color:"#059669"},children:"YES"}),f.jsxs("div",{className:"text-sm font-bold",style:{color:"#059669"},children:["+$",r]})]})}),f.jsx(yo.div,{className:"absolute right-0 top-0 bottom-0 w-24 flex items-center justify-center pointer-events-none z-0",style:{opacity:yy(c,[-150,-50,0],[1,.3,0])},children:f.jsxs("div",{className:"text-center px-3 py-2 rounded-xl border-2 border-comic-border",style:{backgroundColor:"#FEE2E2"},children:[f.jsx("div",{className:"text-base font-bold",style:{color:"#DC2626"},children:"NO"}),f.jsxs("div",{className:"text-sm font-bold",style:{color:"#DC2626"},children:["+$",i]})]})}),f.jsxs(yo.div,{className:"absolute inset-0 card-comic overflow-hidden cursor-grab active:cursor-grabbing z-10",style:{x:c,y:d,rotate:u,backgroundColor:g,borderColor:a.border,touchAction:"none"},drag:!0,onDragStart:y,onDragEnd:b,whileTap:{cursor:"grabbing"},children:[e.image&&!o&&f.jsx("img",{src:e.image,alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none",draggable:!1,onError:()=>s(!0)}),f.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-center justify-between pointer-events-none",children:[f.jsx("div",{className:"px-2 py-0.5 rounded-full border-2 font-bold text-xs",style:{backgroundColor:ev[e.category]||"#888",borderColor:a.border},children:e.category}),e.expirationTime&&f.jsxs("div",{className:"px-2 py-0.5 rounded-full border-2 font-bold text-xs",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.9)",borderColor:a.border,color:a.text},children:[" ",n$t(e.expirationTime)]})]}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 backdrop-blur-sm border-t-3 p-3 pointer-events-none",style:{backgroundColor:l?"rgba(42, 42, 42, 0.85)":"rgba(255, 255, 255, 0.75)",borderColor:a.border},children:f.jsx("h2",{className:"text-lg font-bold leading-tight",style:{color:a.text},children:e.title})}),f.jsx(yo.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:h},children:f.jsx("div",{className:"text-4xl font-bold text-green-500 border-4 border-green-500 rounded-xl px-5 py-2 -rotate-12",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.8)"},children:"YES"})}),f.jsx(yo.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:m},children:f.jsx("div",{className:"text-4xl font-bold text-red-500 border-4 border-red-500 rounded-xl px-5 py-2 rotate-12",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.8)"},children:"NO"})}),f.jsx(yo.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:v},children:f.jsx("div",{className:"text-3xl font-bold text-blue-500 border-4 border-blue-500 rounded-xl px-5 py-2",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.8)"},children:"SKIP"})})]})]})}const lO=30;async function r$t(e,t){if(e)try{e.state==="suspended"&&await e.resume();const n=e.createOscillator(),r=e.createGain();n.connect(r),r.connect(e.destination),n.frequency.value=t?1200:800,n.type="sine";const i=t?.15:.08;r.gain.setValueAtTime(i,e.currentTime),r.gain.exponentialRampToValueAtTime(.001,e.currentTime+.05),n.start(e.currentTime),n.stop(e.currentTime+.05)}catch{}}function i$t({onComplete:e,resetKey:t}){const[n,r]=x.useState(lO),i=Tst(),{colors:o,isDark:s}=dc(),a=x.useRef(!1),l=x.useRef(null),c=x.useRef(e);x.useEffect(()=>{c.current=e},[e]),x.useEffect(()=>{r(lO),a.current=!1},[t]),x.useEffect(()=>(l.current&&clearInterval(l.current),l.current=setInterval(()=>{r(v=>{const g=v-1;if(g<=10&&g>0&&i){const y=g<=5;r$t(i,y)}return g<=0?(a.current||(a.current=!0,setTimeout(()=>{var y;return(y=c.current)==null?void 0:y.call(c)},0)),l.current&&(clearInterval(l.current),l.current=null),0):g})},1e3),()=>{l.current&&(clearInterval(l.current),l.current=null)}),[t,i]);const d=n/lO,u=n<=10,h=n<=5,m=()=>h?"#EF4444":u?"#F59E0B":s?"#22c55e":"#16a34a";return f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[f.jsx("div",{style:{flex:1,height:"6px",backgroundColor:s?"#333":"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:f.jsx("div",{style:{height:"100%",width:`${d*100}%`,backgroundColor:m(),borderRadius:"3px",transition:"width 1s linear, background-color 0.3s ease"}})}),f.jsxs("span",{style:{fontSize:"14px",fontWeight:"bold",color:u?"#EF4444":o.textSecondary,minWidth:"28px",textAlign:"right",animation:h?"pulse 0.5s ease-in-out infinite":"none"},children:[n,"s"]}),h&&f.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
        `})]})}function _2(){const{colors:e}=dc();return f.jsx("header",{className:"flex items-center px-4 border-b-3",style:{backgroundColor:e.paper,borderColor:e.border,height:"56px",minHeight:"56px"},children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"8px",backgroundColor:"#fff",border:`2px solid ${e.border}`,boxShadow:`2px 2px 0 ${e.border}`,display:"flex",alignItems:"center",justifyContent:"center",padding:"4px"},children:f.jsx("img",{src:"/logo.png",alt:"Instinkt",style:{width:"100%",height:"100%",objectFit:"contain"}})}),f.jsx("h1",{className:"text-xl font-bold",style:{color:e.text},children:"Instinkt"})]})})}const jie=["Crypto","Sports","Politics","Finance","Tech","Culture","Other"];function $ie({selectedCategories:e,onToggle:t,availableCategories:n}){const{colors:r,isDark:i}=dc(),[o,s]=x.useState(!1),a=x.useRef(null),l=n&&n.length>0?jie.filter(g=>n.includes(g)):jie,c=l.every(g=>e.has(g)),d=l.filter(g=>e.has(g)).length,u=!c;x.useEffect(()=>{function g(y){a.current&&!a.current.contains(y.target)&&s(!1)}return o&&(document.addEventListener("mousedown",g),document.addEventListener("touchstart",g)),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[o]);const h=()=>{c?l.forEach((g,y)=>{y>0&&e.has(g)&&t(g)}):l.forEach(g=>{e.has(g)||t(g)})},m=()=>{l.forEach(g=>{e.has(g)||t(g)})},v=()=>{s(!1)};return f.jsxs("div",{ref:a,style:{position:"relative",zIndex:100},children:[f.jsxs(yo.button,{whileTap:{scale:.95},onClick:()=>s(!o),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg font-bold text-sm border-2",style:{backgroundColor:u?r.border:r.paper,color:u?"#fff":r.text,borderColor:r.border,boxShadow:o?"none":`2px 2px 0 ${r.border}`,transform:o?"translate(2px, 2px)":"none"},children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter",u&&f.jsx("span",{style:{backgroundColor:"#fff",color:r.border,borderRadius:"9999px",padding:"0 6px",fontSize:"11px",fontWeight:"bold",minWidth:"18px",textAlign:"center"},children:d}),f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:o?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),f.jsx(XE,{children:o&&f.jsxs(yo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},style:{position:"absolute",top:"100%",left:"16px",marginTop:"4px",backgroundColor:r.paper,border:`3px solid ${r.border}`,borderRadius:"12px",boxShadow:`4px 4px 0 ${r.border}`,minWidth:"200px",overflow:"hidden"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",cursor:"pointer",borderBottom:`2px solid ${r.backgroundSecondary}`,backgroundColor:c?"rgba(34, 197, 94, 0.1)":"transparent"},onClick:h,children:[f.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:`2px solid ${r.border}`,backgroundColor:c?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:c&&f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",color:r.text},children:"All Categories"})]}),f.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:l.map(g=>{const y=e.has(g),b=ev[g]||"#888";return f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",cursor:"pointer",backgroundColor:y?i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)":"transparent"},onClick:()=>t(g),children:[f.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:`2px solid ${r.border}`,backgroundColor:y?b:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:y&&f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsx("span",{style:{fontSize:"14px",color:r.text},children:g}),f.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:b,marginLeft:"auto",flexShrink:0}})]},g)})}),f.jsxs("div",{style:{display:"flex",gap:"8px",padding:"10px 12px",borderTop:`2px solid ${r.backgroundSecondary}`},children:[f.jsx("button",{onClick:m,style:{flex:1,padding:"8px",backgroundColor:r.backgroundSecondary,color:r.text,border:`2px solid ${r.border}`,borderRadius:"8px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:"Clear"}),f.jsx("button",{onClick:v,style:{flex:1,padding:"8px",backgroundColor:r.border,color:"#fff",border:`2px solid ${r.border}`,borderRadius:"8px",fontSize:"13px",fontWeight:"bold",cursor:"pointer"},children:"Apply"})]})]})})]})}function VI(){const{handleLogOut:e}=Zc(),{colors:t}=dc();return f.jsx("button",{onClick:()=>e(),style:{position:"absolute",top:"10px",right:"12px",width:"36px",height:"36px",borderRadius:"50%",backgroundColor:t.paper,border:`2px solid ${t.border}`,boxShadow:`2px 2px 0 ${t.border}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},title:"Logout",children:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:t.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})}const o$t="instinkt_history_";function s$t(e){const[t,n]=x.useState(new Set),r=e?`${o$t}${e}`:null;x.useEffect(()=>{if(!r){n(new Set);return}try{const c=localStorage.getItem(r);if(c){const d=JSON.parse(c);Array.isArray(d)&&(n(new Set(d)),console.log(`[useMarketHistory] Loaded ${d.length} interacted markets for ${e==null?void 0:e.slice(0,8)}...`))}}catch(c){console.error("[useMarketHistory] Failed to load history:",c)}},[r,e]);const i=x.useCallback(c=>{if(r)try{const d=Array.from(c);localStorage.setItem(r,JSON.stringify(d))}catch(d){console.error("[useMarketHistory] Failed to save history:",d)}},[r]),o=x.useCallback(c=>{!c||!r||n(d=>{if(d.has(c))return d;const u=new Set(d);return u.add(c),i(u),console.log(`[useMarketHistory] Added market ${c} to history`),u})},[r,i]),s=x.useCallback(c=>t.has(c),[t]),a=x.useCallback(c=>{if(!c||!Array.isArray(c))return[];if(t.size===0)return c;const d=c.filter(u=>!t.has(u.id));return console.log(`[useMarketHistory] Filtered ${c.length} -> ${d.length} markets (removed ${c.length-d.length} interacted)`),d},[t]),l=x.useCallback(()=>{r&&(n(new Set),localStorage.removeItem(r),console.log("[useMarketHistory] Cleared history"))},[r]);return{interactedMarkets:t,addToHistory:o,hasInteracted:s,filterMarkets:a,clearHistory:l,historyCount:t.size}}const Xbe="https://mainnet.helius-rpc.com/?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e",a$t="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v";async function l$t(e){try{const t=new D_(Xbe,"confirmed"),n=new Xt(e),r=new Xt(a$t),i=await t.getParsedTokenAccountsByOwner(n,{mint:r});if(i.value.length===0)return 0;let o=0;for(const s of i.value)o+=s.account.data.parsed.info.tokenAmount.uiAmount||0;return o}catch(t){return console.error("[BettingPage] Error fetching USDC:",t),0}}function c$t(e){const n=((e==null?void 0:e.message)||(e==null?void 0:e.toString())||"").toLowerCase();return n.includes("route_not_found")||n.includes("route not found")?"This market isn't available right now. Try another one!":n.includes("no record of a prior credit")||n.includes("debit")?"Insufficient funds. Please add USDC to your wallet first.":n.includes("simulation failed")?"Transaction failed. Please try again.":"Something went wrong. Please try again."}function Lie({isDark:e,onToggle:t,colors:n}){return f.jsx("button",{onClick:t,style:{position:"absolute",top:"10px",right:"56px",width:"36px",height:"36px",borderRadius:"50%",backgroundColor:n.paper,border:`2px solid ${n.border}`,boxShadow:`2px 2px 0 ${n.border}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},title:e?"Switch to light mode":"Switch to dark mode",children:e?f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):f.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}const Uie=["Crypto","Sports","Politics","Finance","Tech","Culture","Other"];function d$t({onPlaceBet:e,betSize:t,balance:n,goToWallet:r}){var F;const{primaryWallet:i}=Zc(),{isDark:o,toggleTheme:s,colors:a}=dc(),[l,c]=x.useState(0),[d,u]=x.useState([]),[h,m]=x.useState(!0),[v,g]=x.useState(null),[y,b]=x.useState(!1),[k,_]=x.useState(null),{success:R,warning:I,error:T}=rhe(),M=(i==null?void 0:i.address)||null;x.useEffect(()=>{M&&l$t(M).then(_)},[M]);const{addToHistory:D,filterMarkets:A}=s$t(M),[U,$]=x.useState(()=>new Set(Uie)),q=x.useCallback(O=>{$(W=>{const G=new Set(W);return G.has(O)?G.size>1&&G.delete(O):G.add(O),G}),c(0)},[]),z=x.useMemo(()=>{const O=A(d),W=O.filter(G=>U.has(G.category));return console.log(`[BettingPage] Filtered markets: ${d.length} -> ${O.length} (history) -> ${W.length} (category)`),W},[d,A,U]),S=x.useMemo(()=>{const O=new Set(d.map(W=>W.category));return Uie.filter(W=>O.has(W))},[d]);console.log("[BettingPage] primaryWallet object:",i),console.log("[BettingPage] Wallet address for betting:",M),x.useEffect(()=>{let O=!0;async function W(){try{m(!0),g(null);const G=await kst({limit:100});O&&(console.log("[BettingPage] Loaded markets:",G.length),console.log("[BettingPage] First 5 markets IDs:",G.slice(0,5).map(Y=>{var ie;return{id:Y.id,ticker:Y.ticker,title:(ie=Y.title)==null?void 0:ie.substring(0,30)}})),u(G),m(!1))}catch(G){console.error("Failed to load markets:",G),O&&(g(G.message),m(!1))}}return W(),()=>{O=!1}},[]);const E=z.length>0?z[l%z.length]:null,N=z.length>1?z[(l+1)%z.length]:null,P=x.useCallback(async O=>{if(console.log("[BettingPage] handleSwipe called with direction:",O),!E){console.log("[BettingPage] No current market, returning");return}if(y){console.log("[BettingPage] Already placing bet, returning");return}if(O==="skip"){console.log("[BettingPage] SKIP - saving to history and advancing"),D(E.id),c(W=>W+1);return}if(O==="yes"||O==="no"){if(k!==null&&k===0){I("You need USDC to place bets. Tap here to fund your wallet!",{duration:5e3,onClick:r}),console.log("[BettingPage] Zero USDC balance - advancing anyway"),c(G=>G+1);return}if((k??n)<t){T("Insufficient funds. Please add USDC to your wallet first.",{duration:4e3,onClick:r}),console.log("[BettingPage] Insufficient funds - advancing anyway"),c(G=>G+1);return}if(!M){T("Wallet not connected"),console.error("[BettingPage] No wallet address found"),c(G=>G+1);return}b(!0);try{console.log("[BettingPage] Placing bet via DFlow API...");const G=await Ist({market:E,side:O,amount:t,userPublicKey:M});if(console.log("[BettingPage] Order response:",G),!G.transaction){I("Order created but no transaction returned",{duration:3e3}),b(!1),c(Fe=>Fe+1);return}if(console.log("[BettingPage] Signing transaction..."),console.log("[BettingPage] primaryWallet:",i),!i){T("Wallet not found"),b(!1),c(Fe=>Fe+1);return}const Y=Buffer.from(G.transaction,"base64"),ie=f9.deserialize(Y);if(console.log("[BettingPage] Transaction deserialized"),!Gpe(i))throw new Error("Not a Solana wallet");const me=await(await i.getSigner()).signTransaction(ie);console.log("[BettingPage] Transaction signed");const be=new D_(Xbe,"confirmed"),Me=await be.sendRawTransaction(me.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed"});console.log("[BettingPage] Transaction submitted:",Me),await be.confirmTransaction(Me,"confirmed"),console.log("[BettingPage] Transaction confirmed!"),R(`Bet placed! ${Me.slice(0,8)}...`,{duration:5e3}),e({market:E,choice:O,amount:t,profit:O==="yes"?(E.yesProfit*t).toFixed(2):(E.noProfit*t).toFixed(2),timestamp:Date.now(),status:"pending",txSignature:Me}),D(E.id),b(!1),c(Fe=>Fe+1)}catch(G){console.error("[BettingPage] Failed to place bet:",G);const Y=c$t(G);T(Y,{duration:4e3}),b(!1),c(ie=>ie+1)}}},[E,t,e,n,T,R,I,r,M,y,i,D,k]),j=x.useCallback(()=>{I("Too slow!",{duration:3e3}),E&&D(E.id),c(O=>O+1)},[I,E,D]),V=O=>{aD(),aS(),P(O)};if(h)return f.jsxs("div",{className:"flex flex-col h-full pb-20",children:[f.jsx(_2,{}),f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsxs("div",{className:"card-comic p-8 text-center",style:{backgroundColor:a.paper,borderColor:a.border},children:[f.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-t-transparent rounded-full mx-auto mb-4",style:{borderColor:a.border,borderTopColor:"transparent"}}),f.jsx("p",{className:"text-lg font-bold",style:{color:a.text},children:"Loading markets..."})]})})]});if(v)return f.jsxs("div",{className:"flex flex-col h-full pb-20",children:[f.jsx(_2,{}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:f.jsxs("div",{className:"card-comic p-8 text-center max-w-sm",style:{backgroundColor:a.paper,borderColor:a.border},children:[f.jsx("div",{className:"text-4xl mb-4",style:{color:a.text},children:":("}),f.jsx("p",{className:"text-lg font-bold text-red-500 mb-2",children:"Failed to load markets"}),f.jsx("p",{className:"text-sm mb-4",style:{color:a.textSecondary},children:v}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 text-white font-bold rounded-comic active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",style:{backgroundColor:a.border,boxShadow:`3px 3px 0 ${a.border}`},children:"Try Again"})]})})]});if(!E){const O=d.length>0,W=A(d).length,G=O&&W===0,Y=O&&W>0&&z.length===0,ie=Array.from(U),ye=O&&ie.length>0&&!d.some(me=>U.has(me.category));return f.jsxs("div",{className:"flex flex-col h-full pb-20",children:[f.jsx(Lie,{isDark:o,onToggle:s,colors:a}),f.jsx(VI,{}),f.jsx(_2,{}),O&&f.jsx($ie,{selectedCategories:U,onToggle:q,availableCategories:S}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:f.jsxs("div",{className:"card-comic p-8 text-center max-w-sm",style:{backgroundColor:a.paper,borderColor:a.border},children:[f.jsx("div",{className:"text-4xl mb-4",style:{color:a.text},children:G?"":Y||ye?"":"0"}),f.jsx("p",{className:"text-lg font-bold",style:{color:a.text},children:G?"You've seen all markets!":ye?"No markets in this category right now":Y?"You've seen all markets in these categories":"No markets available"}),f.jsx("p",{className:"text-sm",style:{color:a.textSecondary},children:G?"Check back later for new prediction markets":ye?"Check back soon!":Y?"Try selecting more categories above":"Check back later for new prediction markets!"})]})})]})}return console.log("[BettingPage] Current market for card:",{index:l,id:E==null?void 0:E.id,ticker:E==null?void 0:E.ticker,title:(F=E==null?void 0:E.title)==null?void 0:F.substring(0,30),keyUsed:(E==null?void 0:E.id)||(E==null?void 0:E.ticker)||l}),f.jsxs("div",{className:"flex flex-col",style:{position:"fixed",top:0,left:0,right:0,bottom:"80px",overflowX:"hidden",overflowY:"hidden",touchAction:"pan-y",backgroundColor:a.background,maxWidth:"480px",margin:"0 auto"},children:[f.jsx(Lie,{isDark:o,onToggle:s,colors:a}),f.jsx(VI,{}),f.jsxs("div",{style:{flexShrink:0},children:[f.jsx(_2,{}),f.jsx("div",{style:{padding:"8px 16px 4px 16px"},children:f.jsx($ie,{selectedCategories:U,onToggle:q,availableCategories:S})}),f.jsx("div",{style:{padding:"0 16px 8px 16px"},children:f.jsx(i$t,{resetKey:l,onComplete:j})})]}),f.jsx("div",{className:"px-4",style:{flex:"1 1 auto",minHeight:0,maxHeight:"calc(100dvh - 330px)",display:"flex",flexDirection:"column"},children:f.jsxs("div",{className:"w-full max-w-md mx-auto",style:{flex:"1 1 auto",minHeight:"200px",maxHeight:"100%",position:"relative"},children:[N&&f.jsx(Mie,{market:N,onSwipe:()=>{},isTop:!1}),f.jsx(XE,{mode:"wait",children:f.jsx(Mie,{market:E,onSwipe:P,isTop:!0,yesProfit:(E.yesProfit*t).toFixed(2),noProfit:(E.noProfit*t).toFixed(2)},E.id||E.ticker||l)})]})}),f.jsxs("div",{className:"px-4 pt-2 pb-3",style:{flexShrink:0,backgroundColor:a.background},children:[f.jsxs("div",{className:"text-center text-xs font-bold mb-2",style:{color:a.textMuted},children:[f.jsx("span",{className:"opacity-50",children:" NO"}),f.jsx("span",{className:"mx-2 opacity-50",children:"|"}),f.jsx("span",{className:"opacity-50",children:"SKIP "}),f.jsx("span",{className:"mx-2 opacity-50",children:"|"}),f.jsx("span",{className:"opacity-50",children:"YES "})]}),f.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[f.jsxs(yo.button,{whileTap:{scale:.95},onClick:()=>V("no"),className:"flex-1 py-2.5 border-3 rounded-comic font-bold text-sm active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",style:{backgroundColor:o?"#4a2020":"#fee2e2",borderColor:a.border,boxShadow:`3px 3px 0 ${a.border}`,color:o?"#fca5a5":"#dc2626"},children:["NO +$",(E.noProfit*t).toFixed(2)]}),f.jsxs(yo.button,{whileTap:{scale:.95},onClick:()=>V("yes"),className:"flex-1 py-2.5 border-3 rounded-comic font-bold text-sm active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",style:{backgroundColor:o?"#1a3a20":"#dcfce7",borderColor:a.border,boxShadow:`3px 3px 0 ${a.border}`,color:o?"#86efac":"#16a34a"},children:["YES +$",(E.yesProfit*t).toFixed(2)]})]})]})]})}const u$t="fc70f382-f7ec-48d3-a615-9bacd782570e",f$t="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v";async function h$t(e){var t;if(!e)return 0;try{const n=`https://api.helius.xyz/v0/addresses/${e}/transactions?api-key=${u$t}&limit=100`,i=await(await fetch(n)).json();if(!Array.isArray(i))return 0;let o=0;for(const s of i){const a=(t=s.tokenTransfers)==null?void 0:t.find(c=>c.fromUserAccount===e&&c.mint===f$t);if(!a)continue;const l=a.tokenAmount||0;l>=.1&&l<=5&&(o+=l)}return console.log("[HistoryPage] Total spent on bets: $"+o.toFixed(2)),o}catch(n){return console.error("[HistoryPage] Error fetching spent:",n),0}}function p$t({isDark:e,onToggle:t,colors:n}){return f.jsx("button",{onClick:t,style:{position:"absolute",top:"10px",right:"56px",width:"36px",height:"36px",borderRadius:"50%",backgroundColor:n.paper,border:`2px solid ${n.border}`,boxShadow:`2px 2px 0 ${n.border}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},title:e?"Switch to light mode":"Switch to dark mode",children:e?f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):f.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}const m$t=["All","Crypto","Sports","Politics","Weather","Stocks","Commodities"],Fie=[{value:"newest",label:"Newest first"},{value:"oldest",label:"Oldest first"},{value:"most-tokens",label:"Most tokens"},{value:"least-tokens",label:"Least tokens"}];function g$t(e){if(!e)return"Unknown";const t=Math.floor(Date.now()/1e3),n=Math.max(0,e-t);if(n===0)return"Resolving...";const r=Math.floor(n/60),i=Math.floor(r/60),o=Math.floor(i/24);return o>0?`Resolves in ${o}d ${i%24}h`:i>0?`Resolves in ${i}h ${r%60}m`:r>0?`Resolves in ${r}m`:`Resolves in ${n}s`}function y$t({bet:e,colors:t}){const[n,r]=x.useState(""),i=e.status==="pending_resolution",o=e.tokenCount||0;return x.useEffect(()=>{const s=()=>{r(i?"Awaiting result":g$t(e.market.expirationTime))};s();const a=setInterval(s,6e4);return()=>clearInterval(a)},[e.market.expirationTime,i]),f.jsxs(yo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-comic p-4 mb-3 relative",style:{backgroundColor:t.paper,borderColor:t.border},children:[f.jsx("span",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full text-xs font-bold border-2",style:{backgroundColor:ev[e.market.category]||"#888",borderColor:t.border},children:e.market.category}),f.jsx("h3",{className:"font-bold text-lg mb-3 leading-tight pr-20",style:{color:t.text},children:e.market.title}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t-2",style:{borderColor:t.backgroundSecondary},children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{style:{color:t.textSecondary,fontWeight:"bold"},children:"Bet:"}),f.jsx("span",{className:`px-3 py-1 rounded-lg text-white font-bold text-sm border-2 ${e.choice==="yes"?"bg-green-500":"bg-red-500"}`,style:{borderColor:t.border},children:e.choice.toUpperCase()})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs",style:{color:i?"#f59e0b":t.textMuted},children:n}),f.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["To win: $",o.toFixed(2)]})]})]})]})}function v$t({bet:e,colors:t}){const n=e.status==="won",r=e.tokenCount||0;return f.jsxs(yo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-comic p-4 mb-3 relative",style:{backgroundColor:t.paper,borderColor:t.border},children:[f.jsx("span",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full text-xs font-bold border-2",style:{backgroundColor:ev[e.market.category]||"#888",borderColor:t.border},children:e.market.category}),f.jsx("h3",{className:"font-bold text-lg mb-3 leading-tight pr-20",style:{color:t.text},children:e.market.title}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t-2",style:{borderColor:t.backgroundSecondary},children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{style:{color:t.textSecondary,fontWeight:"bold"},children:"Bet:"}),f.jsx("span",{className:`px-3 py-1 rounded-lg text-white font-bold text-sm border-2 ${e.choice==="yes"?"bg-green-500":"bg-red-500"}`,style:{borderColor:t.border},children:e.choice.toUpperCase()})]}),n?f.jsxs("span",{className:"font-bold text-xl text-green-600",children:["Won +$",r.toFixed(2)]}):f.jsx("span",{className:"font-bold text-xl text-red-600",children:"Lost"})]})]})}function x2({icon:e,title:t,subtitle:n,colors:r}){return f.jsxs("div",{className:"card-comic p-8 text-center",style:{backgroundColor:r.paper,borderColor:r.border},children:[f.jsx("div",{className:"text-6xl mb-4",children:e}),f.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:r.text},children:t}),f.jsx("p",{style:{color:r.textSecondary},children:n})]})}function Wie({selectedCategory:e,setSelectedCategory:t,sortBy:n,setSortBy:r,colors:i}){var l;const[o,s]=x.useState(!1),a=(c,d)=>d?{backgroundColor:i.border,color:"#fff"}:c==="All"?{backgroundColor:i.backgroundSecondary,color:i.text}:{backgroundColor:ev[c]||i.backgroundSecondary,color:"#222"};return f.jsxs("div",{className:"mb-4 space-y-3",children:[f.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:m$t.map(c=>{const d=e===c,u=a(c,d);return f.jsx(yo.button,{onClick:()=>t(c),whileTap:{scale:.95},className:"px-3 py-1.5 rounded-full font-bold text-sm border-2 whitespace-nowrap transition-all",style:{...u,borderColor:i.border,boxShadow:d?"none":`1px 1px 0 ${i.border}`},children:c},c)})}),f.jsxs("div",{className:"relative",children:[f.jsxs(yo.button,{onClick:()=>s(!o),whileTap:{scale:.98},className:"w-full px-4 py-2 border-2 rounded-xl font-bold text-sm flex items-center justify-between",style:{backgroundColor:i.paper,borderColor:i.border,color:i.text,boxShadow:`1px 1px 0 ${i.border}`},children:[f.jsxs("span",{children:["Sort: ",(l=Fie.find(c=>c.value===n))==null?void 0:l.label]}),f.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f.jsx(XE,{children:o&&f.jsx(yo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 border-2 rounded-xl overflow-hidden z-20",style:{backgroundColor:i.paper,borderColor:i.border,boxShadow:`3px 3px 0 ${i.border}`},children:Fie.map(c=>f.jsx("button",{onClick:()=>{r(c.value),s(!1)},className:"w-full px-4 py-2 text-left font-bold text-sm transition-colors",style:{backgroundColor:n===c.value?i.border:"transparent",color:n===c.value?"#fff":i.text},children:c.label},c.value))})})]})]})}function w$t({bets:e,isLoadingPositions:t,onRefresh:n,walletAddress:r}){const{colors:i,isDark:o,toggleTheme:s}=dc(),[a,l]=x.useState("open"),[c,d]=x.useState("All"),[u,h]=x.useState("newest"),[m,v]=x.useState(!1),[g,y]=x.useState(0),[b,k]=x.useState(!1);if(x.useEffect(()=>{r&&(k(!0),h$t(r).then(A=>{y(A),k(!1)}).catch(()=>k(!1)))},[r]),console.log("[HistoryPage] Positions:",(e==null?void 0:e.length)||0),e&&e.length>0){const A=e.reduce((U,$)=>U+($.tokenCount||0),0);console.log("[HistoryPage] Total tokens:",A.toFixed(2),"| Max payout: $"+A.toFixed(2))}const _=async()=>{if(!(m||t)){v(!0);try{n&&await n()}finally{await new Promise(A=>setTimeout(A,500)),v(!1)}}},R=x.useMemo(()=>e,[e]),I=x.useMemo(()=>R.filter(A=>A.status==="pending"||A.status==="pending_resolution"),[R]),T=x.useMemo(()=>R.filter(A=>A.status==="won"||A.status==="lost"),[R]),M=x.useMemo(()=>{let A=I;return c!=="All"&&(A=A.filter(U=>U.market.category===c)),[...A].sort((U,$)=>{switch(u){case"newest":return $.timestamp-U.timestamp;case"oldest":return U.timestamp-$.timestamp;case"most-tokens":return($.tokenCount||0)-(U.tokenCount||0);case"least-tokens":return(U.tokenCount||0)-($.tokenCount||0);default:return 0}})},[I,c,u]),D=x.useMemo(()=>{let A=T;return c!=="All"&&(A=A.filter(U=>U.market.category===c)),[...A].sort((U,$)=>{switch(u){case"newest":return $.timestamp-U.timestamp;case"oldest":return U.timestamp-$.timestamp;case"most-tokens":return($.tokenCount||0)-(U.tokenCount||0);case"least-tokens":return(U.tokenCount||0)-($.tokenCount||0);default:return 0}})},[T,c,u]);return f.jsxs("div",{className:"flex flex-col h-full",style:{position:"relative"},children:[f.jsx(p$t,{isDark:o,onToggle:s,colors:i}),f.jsx(VI,{}),f.jsxs("header",{className:"px-4 py-4 border-b-3",style:{backgroundColor:i.paper,borderColor:i.border,minHeight:"56px"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h1",{className:"text-2xl font-bold",style:{color:i.text},children:"My Positions"}),f.jsx("button",{onClick:_,disabled:m,className:"w-9 h-9 rounded-full flex items-center justify-center",style:{backgroundColor:i.paper,border:`2px solid ${i.border}`,boxShadow:`1px 1px 0 ${i.border}`,cursor:m?"not-allowed":"pointer",marginRight:"80px"},title:"Refresh positions",children:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:i.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{animation:m?"spin 1s linear infinite":"none"},children:[f.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"}),f.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),f.jsx("path",{d:"M16 21h5v-5"})]})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(yo.button,{onClick:()=>l("open"),className:"flex-1 py-3 px-4 rounded-xl font-bold text-sm border-3 transition-all",style:{backgroundColor:a==="open"?i.border:i.paper,color:a==="open"?"#fff":i.text,borderColor:i.border,boxShadow:a==="open"?"none":`2px 2px 0 ${i.border}`},whileTap:{scale:.98},children:["Open",I.length>0&&f.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:a==="open"?"#fff":i.border,color:a==="open"?i.border:"#fff"},children:I.length})]}),f.jsxs(yo.button,{onClick:()=>l("closed"),className:"flex-1 py-3 px-4 rounded-xl font-bold text-sm border-3 transition-all",style:{backgroundColor:a==="closed"?i.border:i.paper,color:a==="closed"?"#fff":i.text,borderColor:i.border,boxShadow:a==="closed"?"none":`2px 2px 0 ${i.border}`},whileTap:{scale:.98},children:["Closed",T.length>0&&f.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:a==="closed"?"#fff":i.border,color:a==="closed"?i.border:"#fff"},children:T.length})]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar p-4 pb-24",children:f.jsx(XE,{mode:"wait",children:a==="open"?f.jsxs(yo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:[f.jsx(Wie,{selectedCategory:c,setSelectedCategory:d,sortBy:u,setSortBy:h,colors:i}),I.length===0?f.jsx(x2,{icon:"",title:"No open positions",subtitle:"Start betting to see your positions here!",colors:i}):M.length===0?f.jsx(x2,{icon:"",title:"No matching positions",subtitle:"Try changing your filters",colors:i}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"card-comic p-4 mb-4 border-3",style:{backgroundColor:i.paper,borderColor:i.border},children:f.jsxs("div",{className:"flex justify-around text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold",style:{color:i.text},children:M.length}),f.jsx("div",{className:"text-xs font-bold",style:{color:i.textMuted},children:"Positions"})]}),f.jsx("div",{className:"w-px",style:{backgroundColor:i.backgroundSecondary}}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold",style:{color:i.text},children:b?"...":`$${g.toFixed(2)}`}),f.jsx("div",{className:"text-xs font-bold",style:{color:i.textMuted},children:"Spent"})]}),f.jsx("div",{className:"w-px",style:{backgroundColor:i.backgroundSecondary}}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",M.reduce((A,U)=>A+(U.tokenCount||0),0).toFixed(2)]}),f.jsx("div",{className:"text-xs font-bold",style:{color:i.textMuted},children:"To Win"})]})]})}),M.map(A=>f.jsx(y$t,{bet:A,colors:i},`${A.market.id}-${A.choice}-${A.timestamp}`))]})]},"open"):f.jsxs(yo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[f.jsx(Wie,{selectedCategory:c,setSelectedCategory:d,sortBy:u,setSortBy:h,colors:i}),T.length===0?f.jsx(x2,{icon:"",title:"No resolved trades yet",subtitle:"Winning and losing bets will appear here once markets resolve.",colors:i}):D.length===0?f.jsx(x2,{icon:"",title:"No matching positions",subtitle:"Try changing your filters",colors:i}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"card-comic p-4 mb-4 border-3",style:{backgroundColor:i.paper,borderColor:i.border},children:f.jsxs("div",{className:"flex justify-around text-center",children:[f.jsx("div",{children:(()=>{const A=D.filter($=>$.status==="won"),U=A.reduce(($,q)=>$+(q.tokenCount||0),0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",U.toFixed(2)]}),f.jsxs("div",{className:"text-xs font-bold",style:{color:i.textMuted},children:["Won (",A.length,")"]})]})})()}),f.jsx("div",{className:"w-px",style:{backgroundColor:i.backgroundSecondary}}),f.jsx("div",{children:(()=>{const A=D.filter(U=>U.status==="lost").length;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:A}),f.jsx("div",{className:"text-xs font-bold",style:{color:i.textMuted},children:"Lost"})]})})()})]})}),D.map(A=>f.jsx(v$t,{bet:A,colors:i},`${A.market.id}-${A.choice}-${A.timestamp}`))]})]},"closed")})})]})}var b$t=Object.defineProperty,KI=Object.getOwnPropertySymbols,Qbe=Object.prototype.hasOwnProperty,e1e=Object.prototype.propertyIsEnumerable,qie=(e,t,n)=>t in e?b$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lD=(e,t)=>{for(var n in t||(t={}))Qbe.call(t,n)&&qie(e,n,t[n]);if(KI)for(var n of KI(t))e1e.call(t,n)&&qie(e,n,t[n]);return e},cD=(e,t)=>{var n={};for(var r in e)Qbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KI)for(var r of KI(e))t.indexOf(r)<0&&e1e.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Lm;(e=>{const t=class Xn{constructor(l,c,d,u){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Xn.MIN_VERSION||l>Xn.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),u==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<v&&(u=g,v=y),this.applyMask(g)}}i(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(l,c){const d=e.QrSegment.makeSegments(l);return Xn.encodeSegments(d,c)}static encodeBinary(l,c){const d=e.QrSegment.makeBytes(l);return Xn.encodeSegments([d],c)}static encodeSegments(l,c,d=1,u=40,h=-1,m=!0){if(!(Xn.MIN_VERSION<=d&&d<=u&&u<=Xn.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,g;for(v=d;;v++){const _=Xn.getNumDataCodewords(v,c)*8,R=s.getTotalBits(l,v);if(R<=_){g=R;break}if(v>=u)throw new RangeError("Data too long")}for(const _ of[Xn.Ecc.MEDIUM,Xn.Ecc.QUARTILE,Xn.Ecc.HIGH])m&&g<=Xn.getNumDataCodewords(v,_)*8&&(c=_);let y=[];for(const _ of l){n(_.mode.modeBits,4,y),n(_.numChars,_.mode.numCharCountBits(v),y);for(const R of _.getData())y.push(R)}i(y.length==g);const b=Xn.getNumDataCodewords(v,c)*8;i(y.length<=b),n(0,Math.min(4,b-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let _=236;y.length<b;_^=253)n(_,8,y);let k=[];for(;k.length*8<y.length;)k.push(0);return y.forEach((_,R)=>k[R>>>3]|=_<<7-(R&7)),new Xn(v,c,k,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let u=0;u<c;u++)d==0&&u==0||d==0&&u==c-1||d==c-1&&u==0||this.drawAlignmentPattern(l[d],l[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const u=(c<<10|d)^21522;i(u>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(u,h));this.setFunctionModule(8,7,r(u,6)),this.setFunctionModule(8,8,r(u,7)),this.setFunctionModule(7,8,r(u,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(u,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(u,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(u,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;i(c>>>18==0);for(let d=0;d<18;d++){const u=r(c,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,u),this.setFunctionModule(m,h,u)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let u=-4;u<=4;u++){const h=Math.max(Math.abs(u),Math.abs(d)),m=l+u,v=c+d;0<=m&&m<this.size&&0<=v&&v<this.size&&this.setFunctionModule(m,v,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let u=-2;u<=2;u++)this.setFunctionModule(l+u,c+d,Math.max(Math.abs(u),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=Xn.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const u=Xn.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],h=Xn.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],m=Math.floor(Xn.getNumRawDataModules(c)/8),v=u-m%u,g=Math.floor(m/u);let y=[];const b=Xn.reedSolomonComputeDivisor(h);for(let _=0,R=0;_<u;_++){let I=l.slice(R,R+g-h+(_<v?0:1));R+=I.length;const T=Xn.reedSolomonComputeRemainder(I,b);_<v&&I.push(0),y.push(I.concat(T))}let k=[];for(let _=0;_<y[0].length;_++)y.forEach((R,I)=>{(_!=g-h||I>=v)&&k.push(R[_])});return i(k.length==m),k}drawCodewords(l){if(l.length!=Math.floor(Xn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let u=0;u<this.size;u++)for(let h=0;h<2;h++){const m=d-h,g=(d+1&2)==0?this.size-1-u:u;!this.isFunction[g][m]&&c<l.length*8&&(this.modules[g][m]=r(l[c>>>3],7-(c&7)),c++)}}i(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let u;switch(l){case 0:u=(d+c)%2==0;break;case 1:u=c%2==0;break;case 2:u=d%3==0;break;case 3:u=(d+c)%3==0;break;case 4:u=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:u=d*c%2+d*c%3==0;break;case 6:u=(d*c%2+d*c%3)%2==0;break;case 7:u=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&u&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==m?(v++,v==5?l+=Xn.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,g),m||(l+=this.finderPenaltyCountPatterns(g)*Xn.PENALTY_N3),m=this.modules[h][y],v=1);l+=this.finderPenaltyTerminateAndCount(m,v,g)*Xn.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==m?(v++,v==5?l+=Xn.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,g),m||(l+=this.finderPenaltyCountPatterns(g)*Xn.PENALTY_N3),m=this.modules[y][h],v=1);l+=this.finderPenaltyTerminateAndCount(m,v,g)*Xn.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const v=this.modules[h][m];v==this.modules[h][m+1]&&v==this.modules[h+1][m]&&v==this.modules[h+1][m+1]&&(l+=Xn.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((m,v)=>m+(v?1:0),c);const d=this.size*this.size,u=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=u&&u<=9),l+=u*Xn.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let u=this.size-7;d.length<l;u-=c)d.splice(1,0,u);return d}}static getNumRawDataModules(l){if(l<Xn.MIN_VERSION||l>Xn.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Xn.getNumRawDataModules(l)/8)-Xn.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Xn.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let u=0;u<l-1;u++)c.push(0);c.push(1);let d=1;for(let u=0;u<l;u++){for(let h=0;h<c.length;h++)c[h]=Xn.reedSolomonMultiply(c[h],d),h+1<c.length&&(c[h]^=c[h+1]);d=Xn.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(u=>0);for(const u of l){const h=u^d.shift();d.push(0),c.forEach((m,v)=>d[v]^=Xn.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let u=7;u>=0;u--)d=d<<1^(d>>>7)*285,d^=(c>>>u&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];i(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const o=class Li{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)n(d,8,c);return new Li(Li.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!Li.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const u=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+u),10),u*3+1,c),d+=u}return new Li(Li.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!Li.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let u=Li.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;u+=Li.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(u,11,c)}return d<l.length&&n(Li.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new Li(Li.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:Li.isNumeric(l)?[Li.makeNumeric(l)]:Li.isAlphanumeric(l)?[Li.makeAlphanumeric(l)]:[Li.makeBytes(Li.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new Li(Li.Mode.ECI,0,c)}static isNumeric(l){return Li.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Li.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const u of l){const h=u.mode.numCharCountBits(c);if(u.numChars>=1<<h)return 1/0;d+=4+h+u.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return c}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=o;e.QrSegment=o})(Lm||(Lm={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Lm||(Lm={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Lm||(Lm={}));var Gy=Lm;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _$t={L:Gy.QrCode.Ecc.LOW,M:Gy.QrCode.Ecc.MEDIUM,Q:Gy.QrCode.Ecc.QUARTILE,H:Gy.QrCode.Ecc.HIGH},t1e=128,n1e="L",r1e="#FFFFFF",i1e="#000000",o1e=!1,s1e=1,x$t=4,k$t=0,S$t=.1;function a1e(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(s,a){if(!s&&o!==null){n.push(`M${o+t} ${i+t}h${a-o}v1H${o+t}z`),o=null;return}if(a===r.length-1){if(!s)return;o===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${o+t},${i+t} h${a+1-o}v1H${o+t}z`);return}s&&o===null&&(o=a)})}),n.join("")}function l1e(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function I$t(e,t,n,r){if(r==null)return null;const i=e.length+n*2,o=Math.floor(t*S$t),s=i/t,a=(r.width||o)*s,l=(r.height||o)*s,c=r.x==null?e.length/2-a/2:r.x*s,d=r.y==null?e.length/2-l/2:r.y*s,u=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let v=Math.floor(c),g=Math.floor(d),y=Math.ceil(a+c-v),b=Math.ceil(l+d-g);h={x:v,y:g,w:y,h:b}}const m=r.crossOrigin;return{x:c,y:d,h:l,w:a,excavation:h,opacity:u,crossOrigin:m}}function E$t(e,t){return t!=null?Math.max(Math.floor(t),0):e?x$t:k$t}function c1e({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:s,boostLevel:a}){let l=Vt.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((g,y)=>(g.push(...Gy.QrSegment.makeSegments(y)),g),[]);return Gy.QrCode.encodeSegments(v,_$t[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:c,margin:d,numCells:u,calculatedImageSettings:h}=Vt.useMemo(()=>{let m=l.getModules();const v=E$t(r,i),g=m.length+v*2,y=I$t(m,s,v,o);return{cells:m,margin:v,numCells:g,calculatedImageSettings:y}},[l,s,o,r,i]);return{qrcode:l,margin:d,cells:c,numCells:u,calculatedImageSettings:h}}var C$t=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),A$t=Vt.forwardRef(function(t,n){const r=t,{value:i,size:o=t1e,level:s=n1e,bgColor:a=r1e,fgColor:l=i1e,includeMargin:c=o1e,minVersion:d=s1e,boostLevel:u,marginSize:h,imageSettings:m}=r,g=cD(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,b=cD(g,["style"]),k=m==null?void 0:m.src,_=Vt.useRef(null),R=Vt.useRef(null),I=Vt.useCallback(S=>{_.current=S,typeof n=="function"?n(S):n&&(n.current=S)},[n]),[T,M]=Vt.useState(!1),{margin:D,cells:A,numCells:U,calculatedImageSettings:$}=c1e({value:i,level:s,minVersion:d,boostLevel:u,includeMargin:c,marginSize:h,imageSettings:m,size:o});Vt.useEffect(()=>{if(_.current!=null){const S=_.current,E=S.getContext("2d");if(!E)return;let N=A;const P=R.current,j=$!=null&&P!==null&&P.complete&&P.naturalHeight!==0&&P.naturalWidth!==0;j&&$.excavation!=null&&(N=l1e(A,$.excavation));const V=window.devicePixelRatio||1;S.height=S.width=o*V;const K=o/U*V;E.scale(K,K),E.fillStyle=a,E.fillRect(0,0,U,U),E.fillStyle=l,C$t?E.fill(new Path2D(a1e(N,D))):A.forEach(function(F,O){F.forEach(function(W,G){W&&E.fillRect(G+D,O+D,1,1)})}),$&&(E.globalAlpha=$.opacity),j&&E.drawImage(P,$.x+D,$.y+D,$.w,$.h)}}),Vt.useEffect(()=>{M(!1)},[k]);const q=lD({height:o,width:o},y);let z=null;return k!=null&&(z=Vt.createElement("img",{src:k,key:k,style:{display:"none"},onLoad:()=>{M(!0)},ref:R,crossOrigin:$==null?void 0:$.crossOrigin})),Vt.createElement(Vt.Fragment,null,Vt.createElement("canvas",lD({style:q,height:o,width:o,ref:I,role:"img"},b)),z)});A$t.displayName="QRCodeCanvas";var d1e=Vt.forwardRef(function(t,n){const r=t,{value:i,size:o=t1e,level:s=n1e,bgColor:a=r1e,fgColor:l=i1e,includeMargin:c=o1e,minVersion:d=s1e,boostLevel:u,title:h,marginSize:m,imageSettings:v}=r,g=cD(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:b,numCells:k,calculatedImageSettings:_}=c1e({value:i,level:s,minVersion:d,boostLevel:u,includeMargin:c,marginSize:m,imageSettings:v,size:o});let R=b,I=null;v!=null&&_!=null&&(_.excavation!=null&&(R=l1e(b,_.excavation)),I=Vt.createElement("image",{href:v.src,height:_.h,width:_.w,x:_.x+y,y:_.y+y,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const T=a1e(R,y);return Vt.createElement("svg",lD({height:o,width:o,viewBox:`0 0 ${k} ${k}`,ref:n,role:"img"},g),!!h&&Vt.createElement("title",null,h),Vt.createElement("path",{fill:a,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),Vt.createElement("path",{fill:l,d:T,shapeRendering:"crispEdges"}),I)});d1e.displayName="QRCodeSVG";function R$t({isDark:e,onToggle:t,colors:n}){return f.jsx("button",{onClick:t,style:{position:"absolute",top:"10px",right:"56px",width:"36px",height:"36px",borderRadius:"50%",backgroundColor:n.paper,border:`2px solid ${n.border}`,boxShadow:`2px 2px 0 ${n.border}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},title:e?"Switch to light mode":"Switch to dark mode",children:e?f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):f.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}const T$t=[1,2,5,10,25],u1e="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",gL="https://mainnet.helius-rpc.com/?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e";async function zie(e){try{console.log("Fetching USDC balance for wallet:",e);const t=new D_(gL,"confirmed"),n=new Xt(e),r=new Xt(u1e),i=await t.getParsedTokenAccountsByOwner(n,{mint:r});if(console.log("Token accounts found:",i.value.length),i.value.length===0)return 0;let o=0;for(const s of i.value)o+=s.account.data.parsed.info.tokenAmount.uiAmount||0;return console.log("USDC balance:",o),o}catch(t){return console.error("Error fetching USDC:",t),0}}async function Vie(e){try{console.log("Fetching SOL balance for wallet:",e);const t=new D_(gL,"confirmed"),n=new Xt(e),i=await t.getBalance(n)/1e9;return console.log("SOL balance:",i),i}catch(t){return console.error("Error fetching SOL:",t),0}}async function O$t(e){try{console.log("[DEBUG-WALLET] ========================================"),console.log("[DEBUG-WALLET] fetchTransactionHistory STARTING"),console.log("[DEBUG-WALLET] Wallet address being queried:",e);const n=`https://api.helius.xyz/v0/addresses/${e}/transactions?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e&limit=10`;console.log("[DEBUG-WALLET] Helius API URL:",n);const r=await fetch(n),i=await r.json();if(console.log("[DEBUG-WALLET] Helius API response status:",r.status),console.log("[DEBUG-WALLET] Response type:",typeof i,Array.isArray(i)?"is array":"not array"),console.log("[DEBUG-WALLET] Response data:",JSON.stringify(i).substring(0,500)),!r.ok||i.error)return console.error("[DEBUG-WALLET] Helius API error:",i.error||r.statusText),[];const o=Array.isArray(i)?i:[];if(console.log("[DEBUG-WALLET] Number of transactions:",o.length),o.length===0)return console.log("[DEBUG-WALLET] No transactions found for this wallet"),[];console.log("[DEBUG-WALLET] First transaction:",JSON.stringify(o[0],null,2).substring(0,500));const s=["DF1ow4tspfHX9JwWJsAb9epbkA8hmpSEAtxXy1V2YQI","pReDicTmksnPfkfiz33ndSdbe2dY43KYPg4U2dbvHvo"];return console.log("[DEBUG-WALLET] Processing",o.length,"transactions..."),o.map((a,l)=>{var A,U,$,q,z,S,E,N,P,j,V;console.log("[DEBUG-WALLET] ----------------------------------------"),console.log("[DEBUG-WALLET] Processing tx #",l,"sig:",(A=a.signature)==null?void 0:A.substring(0,20)),console.log("[DEBUG-WALLET] tx.type:",a.type,"tx.source:",a.source),console.log("[DEBUG-WALLET] tx.description:",a.description),console.log("[DEBUG-WALLET] tokenTransfers count:",((U=a.tokenTransfers)==null?void 0:U.length)||0);const c=(($=a.accountData)==null?void 0:$.map(K=>K.account))||[],d=((q=a.instructions)==null?void 0:q.map(K=>K.programId))||[],u=[...c,...d],h=(a.description||"").toLowerCase(),m=(a.source||"").toLowerCase(),v=(a.type||"").toUpperCase(),g=u.some(K=>s.includes(K))||h.includes("swap")||h.includes("dflow")||h.includes("predict")||m.includes("dflow")||m.includes("jupiter")||v==="SWAP"||((z=a.tokenTransfers)==null?void 0:z.length)>1;console.log("[DEBUG-WALLET] isDFlowTx:",g,"(programIds checked:",u.slice(0,3),")");const y=(S=a.tokenTransfers)==null?void 0:S.find(K=>K.toUserAccount===e&&K.mint==="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),b=(E=a.tokenTransfers)==null?void 0:E.find(K=>K.fromUserAccount===e&&K.mint==="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");console.log("[DEBUG-WALLET] usdcIncoming:",y?`$${y.tokenAmount}`:"none"),console.log("[DEBUG-WALLET] usdcOutgoing:",b?`$${b.tokenAmount}`:"none");const k=y&&!b&&!g,R=((N=a.tokenTransfers)==null?void 0:N.length)===1&&!h.includes("swap")&&!h.includes("buy")&&!h.includes("sell")&&v!=="SWAP"&&!g&&b&&!y;console.log("[DEBUG-WALLET] isDeposit:",k,"isWithdrawal:",R);const T=b||y||((P=a.tokenTransfers)==null?void 0:P.find(K=>K.mint==="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"))||((j=a.tokenTransfers)==null?void 0:j[0])||((V=a.nativeTransfers)==null?void 0:V[0]),M=(T==null?void 0:T.tokenAmount)||(T==null?void 0:T.amount)/1e9||0;let D="bet";return k?D="deposit":R&&(D="withdrawal"),console.log("[DEBUG-WALLET] CLASSIFIED AS:",D,"amount:",M),{id:a.signature||l,type:D,amount:Math.abs(M),date:new Date(a.timestamp*1e3).toISOString().split("T")[0],status:"completed",signature:a.signature}}).filter(a=>a.amount>0)}catch(t){return console.error("Error fetching transaction history:",t),[]}}function N$t(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function yL({children:e,onClose:t}){return f.jsx("div",{onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"16px"},children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})}function P$t({onClose:e,walletAddress:t,colors:n}){const[r,i]=x.useState(!1),o=()=>{navigator.clipboard.writeText(t||""),i(!0),setTimeout(()=>i(!1),2e3)};return f.jsx(yL,{onClose:e,children:f.jsxs("div",{style:{backgroundColor:n.paper,border:`3px solid ${n.border}`,borderRadius:"16px",padding:"24px",boxShadow:`6px 6px 0 ${n.border}`,width:"100%",maxWidth:"340px"},children:[f.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",color:n.text,margin:"0 0 20px 0",textAlign:"center"},children:"Deposit Funds"}),f.jsx("div",{style:{width:"176px",height:"176px",border:`3px solid ${n.border}`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",backgroundColor:"#fff",padding:"8px"},children:t?f.jsx(d1e,{value:t,size:160}):f.jsx("span",{style:{color:n.textMuted,fontWeight:"bold",fontSize:"14px"},children:"No wallet"})}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:n.backgroundSecondary,border:`2px solid ${n.border}`,borderRadius:"8px",marginBottom:"20px"},children:[f.jsx("span",{style:{flex:1,fontSize:"12px",fontFamily:"monospace",color:n.textSecondary,wordBreak:"break-all"},children:t||"No wallet found"}),f.jsx("button",{onClick:o,style:{padding:"6px 12px",backgroundColor:r?"#22c55e":n.border,color:"#fff",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},children:r?"Copied!":"Copy"})]}),f.jsx("button",{onClick:e,style:{width:"100%",padding:"14px",backgroundColor:n.backgroundSecondary,color:n.text,border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${n.border}`},children:"Close"})]})})}function B$t({onClose:e,balance:t,colors:n,wallet:r,walletAddress:i,onSuccess:o}){const[s,a]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState(""),[h,m]=x.useState(!1),v=async()=>{const g=parseFloat(l);if(!s.trim()){u("Please enter a recipient address");return}if(!l||g<=0){u("Please enter a valid amount");return}if(g>t){u("Insufficient balance");return}let y;try{y=new Xt(s.trim())}catch{u("Invalid Solana address");return}if(!r||!Gpe(r)){u("Wallet not available");return}m(!0),u("");try{const b=new D_(gL,"confirmed"),k=new Xt(i),_=new Xt(u1e),R=await B0(_,k),I=await B0(_,y),T=[];try{await Spt(b,I)}catch{T.push(v9(k,I,y,_))}const M=Math.floor(g*1e6);T.push(w9(R,I,k,M));const{blockhash:D,lastValidBlockHeight:A}=await b.getLatestBlockhash(),U=new u9({payerKey:k,recentBlockhash:D,instructions:T}).compileToV0Message(),$=new f9(U),z=await(await r.getSigner()).signTransaction($),S=await b.sendRawTransaction(z.serialize());await b.confirmTransaction({signature:S,blockhash:D,lastValidBlockHeight:A},"confirmed"),console.log("Withdrawal successful:",S),o==null||o(S),e()}catch(b){console.error("Withdrawal failed:",b),u(b.message||"Transaction failed")}finally{m(!1)}};return f.jsx(yL,{onClose:e,children:f.jsxs("div",{style:{backgroundColor:n.paper,border:`3px solid ${n.border}`,borderRadius:"16px",padding:"24px",boxShadow:`6px 6px 0 ${n.border}`,width:"100%",maxWidth:"340px"},children:[f.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",color:n.text,margin:"0 0 20px 0",textAlign:"center"},children:"Withdraw Funds"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:n.text,marginBottom:"6px"},children:"Recipient Address"}),f.jsx("input",{type:"text",placeholder:"Solana address...",value:s,onChange:g=>{a(g.target.value),u("")},style:{width:"100%",padding:"12px",border:`3px solid ${n.border}`,borderRadius:"8px",fontSize:"14px",fontFamily:"monospace",outline:"none",boxSizing:"border-box",backgroundColor:n.paper,color:n.text}})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:n.text,marginBottom:"6px"},children:"Amount"}),f.jsx("input",{type:"number",placeholder:"0.00",value:l,onChange:g=>{c(g.target.value),u("")},style:{width:"100%",padding:"12px",border:`3px solid ${n.border}`,borderRadius:"8px",fontSize:"16px",fontWeight:"bold",outline:"none",boxSizing:"border-box",backgroundColor:n.paper,color:n.text}})]}),f.jsxs("div",{style:{fontSize:"14px",color:n.textSecondary,marginBottom:"16px"},children:["Available: ",f.jsxs("span",{style:{fontWeight:"bold",color:n.text},children:["$",t.toFixed(2)]})]}),d&&f.jsx("div",{style:{color:"#dc2626",fontSize:"14px",fontWeight:"bold",marginBottom:"12px",textAlign:"center"},children:d}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsx("button",{onClick:e,style:{flex:1,padding:"14px",backgroundColor:n.backgroundSecondary,color:n.text,border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${n.border}`},children:"Cancel"}),f.jsx("button",{onClick:v,disabled:h,style:{flex:1,padding:"14px",backgroundColor:h?"#9ca3af":"#f97316",color:"#fff",border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:h?"not-allowed":"pointer",boxShadow:`2px 2px 0 ${n.border}`,opacity:h?.7:1},children:h?"Sending...":"Send"})]})]})})}function D$t({onClose:e,onExport:t,colors:n}){const[r,i]=x.useState(0),[o,s]=x.useState(!1),a=x.useRef(null),l=x.useRef(null),c=3e3,d=()=>{s(!0),l.current=Date.now();const h=()=>{const m=Date.now()-l.current,v=Math.min(m/c,1);i(v),v>=1?(s(!1),i(0),t(),e()):a.current=requestAnimationFrame(h)};a.current=requestAnimationFrame(h)},u=()=>{s(!1),i(0),a.current&&cancelAnimationFrame(a.current)};return x.useEffect(()=>()=>{a.current&&cancelAnimationFrame(a.current)},[]),f.jsx(yL,{onClose:e,children:f.jsxs("div",{style:{backgroundColor:n.paper,border:`3px solid ${n.border}`,borderRadius:"16px",padding:"24px",boxShadow:`6px 6px 0 ${n.border}`,width:"100%",maxWidth:"340px"},children:[f.jsx("div",{style:{width:"60px",height:"60px",backgroundColor:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",border:`3px solid ${n.border}`},children:f.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#f59e0b",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:n.text,margin:"0 0 12px 0",textAlign:"center"},children:"Export Private Key"}),f.jsxs("div",{style:{backgroundColor:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"10px",padding:"12px",marginBottom:"16px"},children:[f.jsx("p",{style:{fontSize:"13px",color:"#92400e",margin:"0 0 8px 0",fontWeight:"bold"},children:"Warning: Your private key grants full access to your wallet."}),f.jsxs("ul",{style:{fontSize:"12px",color:"#92400e",margin:0,paddingLeft:"16px"},children:[f.jsx("li",{style:{marginBottom:"4px"},children:"Never share it with anyone"}),f.jsx("li",{style:{marginBottom:"4px"},children:"Store it in a secure location"}),f.jsx("li",{children:"Anyone with this key can steal your funds"})]})]}),f.jsx("div",{style:{marginBottom:"12px"},children:f.jsxs("button",{onMouseDown:d,onMouseUp:u,onMouseLeave:u,onTouchStart:d,onTouchEnd:u,style:{width:"100%",padding:"16px",backgroundColor:o?"#dc2626":"#ef4444",color:"#fff",border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",position:"relative",overflow:"hidden",boxShadow:o?"none":`3px 3px 0 ${n.border}`,transform:o?"translate(3px, 3px)":"none",transition:"transform 0.1s, box-shadow 0.1s"},children:[f.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:`${r*100}%`,backgroundColor:"rgba(0, 0, 0, 0.3)",transition:o?"none":"width 0.2s"}}),f.jsx("span",{style:{position:"relative",zIndex:1},children:o?`Hold... ${Math.ceil((1-r)*3)}s`:"Hold to Reveal Key (3s)"})]})}),f.jsx("button",{onClick:e,style:{width:"100%",padding:"14px",backgroundColor:n.backgroundSecondary,color:n.text,border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${n.border}`},children:"Cancel"})]})})}function M$t({betSize:e,setBetSize:t}){const{primaryWallet:n}=Zc(),{initExportProcess:r}=gfe(),{colors:i,isDark:o,toggleTheme:s}=dc(),[a,l]=x.useState(""),[c,d]=x.useState(!1),[u,h]=x.useState(!1),[m,v]=x.useState(!1),[g,y]=x.useState(!1),[b,k]=x.useState(null),[_,R]=x.useState(null),[I,T]=x.useState(!1),[M,D]=x.useState([]),[A,U]=x.useState(!1),[$,q]=x.useState(null),z=(n==null?void 0:n.address)||null,S=()=>{r?r():alert("Export not available for this wallet type")};x.useEffect(()=>{async function F(){if(!z){k(null),R(null);return}T(!0);try{const[O,W]=await Promise.all([zie(z),Vie(z)]);k(O),R(W),console.log("USDC balance:",O,"SOL balance:",W)}catch(O){console.error("Failed to fetch balances:",O),k(0),R(0)}finally{T(!1)}}F()},[z]),x.useEffect(()=>{z&&(U(!0),q(null),console.log("[WalletPage] Fetching transaction history for:",z),O$t(z).then(F=>{console.log("[WalletPage] Transaction history loaded:",F.length,"transactions"),console.log("[WalletPage] Transactions:",F),D(F),U(!1)}).catch(F=>{console.error("[WalletPage] Failed to fetch transactions:",F),q(F.message),U(!1)}))},[z]);const E=b??0,N=async()=>{if(!(!z||I)){T(!0);try{const[F,O]=await Promise.all([zie(z),Vie(z)]);k(F),R(O),console.log("Balances refreshed - USDC:",F,"SOL:",O)}catch(F){console.error("Failed to refresh balances:",F)}finally{T(!1)}}},P=F=>{t(F),l("")},j=F=>{F.preventDefault();const O=parseFloat(a);O>0&&O<=E&&(t(O),l(""))},V=()=>{z&&(navigator.clipboard.writeText(z),d(!0),setTimeout(()=>d(!1),2e3))},K=z?`${z.slice(0,6)}...${z.slice(-4)}`:"No wallet";return f.jsxs(f.Fragment,{children:[f.jsx(R$t,{isDark:o,onToggle:s,colors:i}),f.jsx(VI,{}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 96px)",padding:"16px",paddingBottom:"100px",gap:"12px",overflowY:"auto",overflowX:"hidden",position:"relative"},children:[f.jsxs("div",{style:{backgroundColor:i.paper,border:`3px solid ${i.border}`,borderRadius:"16px",padding:"20px",boxShadow:`4px 4px 0 ${i.border}`,textAlign:"center",flex:"0 0 auto"},children:[f.jsx("div",{style:{fontSize:"44px",fontWeight:"bold",color:i.text,lineHeight:1,marginBottom:"10px"},children:I?f.jsx("span",{style:{fontSize:"24px",color:i.textMuted},children:"Loading..."}):`$${E.toFixed(2)}`}),f.jsxs("div",{style:{fontSize:"14px",color:i.textSecondary,marginBottom:"8px"},children:[I?f.jsx("span",{style:{color:i.textMuted},children:"..."}):f.jsxs("span",{children:[(_??0).toFixed(4)," SOL"]}),f.jsx("span",{style:{fontSize:"11px",color:i.textMuted,marginLeft:"6px"},children:"(for gas)"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"6px"},children:[f.jsx("span",{style:{fontSize:"12px",color:i.textMuted},children:"USDC Balance"}),f.jsx("button",{onClick:N,disabled:I,style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:i.paper,border:`2px solid ${i.border}`,boxShadow:`1px 1px 0 ${i.border}`,cursor:I?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Refresh balance",children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:i.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{animation:I?"spin 1s linear infinite":"none"},children:[f.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"}),f.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),f.jsx("path",{d:"M16 21h5v-5"})]})})]}),f.jsxs("button",{onClick:V,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",backgroundColor:i.backgroundSecondary,border:`2px solid ${i.border}`,borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontFamily:"monospace",color:i.textSecondary,marginBottom:"10px"},children:[K,f.jsxs("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})]}),c&&f.jsx("span",{style:{color:"#22c55e",fontSize:"11px"},children:"Copied!"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#22c55e",fontSize:"13px",fontWeight:"bold"},children:[f.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#22c55e",borderRadius:"50%"}}),"Connected"]})]}),f.jsxs("div",{style:{display:"flex",gap:"10px",flex:"0 0 auto"},children:[f.jsx("button",{onClick:()=>h(!0),style:{flex:1,padding:"14px",backgroundColor:"#22c55e",color:"#fff",border:`3px solid ${i.border}`,borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`3px 3px 0 ${i.border}`},children:"Deposit"}),f.jsx("button",{onClick:()=>v(!0),style:{flex:1,padding:"14px",backgroundColor:"#f97316",color:"#fff",border:`3px solid ${i.border}`,borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`3px 3px 0 ${i.border}`},children:"Withdraw"})]}),f.jsxs("button",{onClick:()=>y(!0),disabled:!z,style:{width:"100%",padding:"14px",backgroundColor:i.backgroundSecondary,color:i.text,border:`3px solid ${i.border}`,borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:z?"pointer":"not-allowed",boxShadow:`3px 3px 0 ${i.border}`,opacity:z?1:.6,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Export Private Key"]}),f.jsxs("div",{style:{backgroundColor:i.paper,border:`3px solid ${i.border}`,borderRadius:"16px",padding:"14px",boxShadow:`4px 4px 0 ${i.border}`,flex:"0 0 auto"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[f.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:i.text,margin:0},children:"Bet Amount"}),f.jsxs("span",{style:{fontSize:"13px",fontWeight:"bold",color:"#22c55e",backgroundColor:"#dcfce7",padding:"4px 10px",borderRadius:"6px"},children:["Current: $",e]})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"6px",marginBottom:"10px"},children:T$t.map(F=>f.jsxs("button",{onClick:()=>P(F),style:{padding:"10px 0",backgroundColor:e===F?i.border:i.paper,color:e===F?"#fff":i.text,border:`3px solid ${i.border}`,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:e===F?"none":`2px 2px 0 ${i.border}`,transform:e===F?"translate(2px, 2px)":"none"},children:["$",F]},F))}),f.jsxs("form",{onSubmit:j,style:{display:"flex",gap:"6px"},children:[f.jsx("input",{type:"number",placeholder:"Custom...",value:a,onChange:F=>l(F.target.value),style:{flex:1,padding:"10px 12px",border:`3px solid ${i.border}`,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",outline:"none",backgroundColor:i.paper,color:i.text}}),f.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#60a5fa",color:"#fff",border:`3px solid ${i.border}`,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${i.border}`},children:"Set"})]})]}),f.jsxs("div",{style:{backgroundColor:i.paper,border:`3px solid ${i.border}`,borderRadius:"16px",padding:"14px",boxShadow:`4px 4px 0 ${i.border}`,flex:"1 1 auto",minHeight:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[f.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:i.text,margin:"0 0 10px 0"},children:"Transaction History"}),f.jsx("div",{style:{flex:1,overflowY:"auto"},children:A?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:i.textMuted,fontWeight:"bold"},children:"Loading transactions..."}):$?f.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#dc2626"},children:[f.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),f.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Failed to load transactions"}),f.jsx("div",{style:{fontSize:"12px",color:i.textMuted},children:$})]}):M.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"20px",color:i.textMuted},children:[f.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),f.jsx("div",{style:{fontWeight:"bold"},children:"No transactions yet"})]}):M.map(F=>f.jsxs("div",{onClick:()=>F.signature&&window.open(`https://solscan.io/tx/${F.signature}`,"_blank"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:`1px solid ${i.backgroundSecondary}`,cursor:F.signature?"pointer":"default"},children:[f.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:F.type==="deposit"?"#dcfce7":F.type==="bet"?"#dbeafe":"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f.jsx("svg",{width:"18",height:"18",fill:"none",stroke:F.type==="deposit"?"#22c55e":F.type==="bet"?"#3b82f6":"#dc2626",strokeWidth:"2.5",viewBox:"0 0 24 24",children:F.type==="deposit"?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 14l-7 7m0 0l-7-7m7 7V3"}):F.type==="bet"?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),f.jsxs("div",{style:{flex:1,minWidth:0},children:[f.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:i.text},children:F.type==="deposit"?"Deposit":F.type==="bet"?"Bet Placed":"Withdrawal"}),f.jsx("div",{style:{fontSize:"12px",color:i.textMuted},children:N$t(F.date)})]}),f.jsxs("div",{style:{textAlign:"right",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsxs("div",{children:[f.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",color:F.type==="deposit"?"#22c55e":F.type==="bet"?"#3b82f6":"#dc2626"},children:[F.type==="deposit"?"+":"-","$",F.amount.toFixed(2)]}),f.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:F.status==="completed"?"#22c55e":"#f59e0b",textTransform:"capitalize"},children:F.status})]}),F.signature&&f.jsx("svg",{width:"14",height:"14",fill:"none",stroke:i.textMuted,strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]},F.id))})]})]}),u&&f.jsx(P$t,{onClose:()=>h(!1),walletAddress:z,colors:i}),m&&f.jsx(B$t,{onClose:()=>v(!1),balance:E,colors:i,wallet:n,walletAddress:z,onSuccess:()=>N()}),g&&f.jsx(D$t,{onClose:()=>y(!1),onExport:S,colors:i})]})}function j$t({audioContext:e,walletAddress:t}){const{colors:n,isDark:r}=dc(),[i,o]=x.useState("bet"),[s,a]=RY("instinct-balance",100),[l,c]=RY("instinct-betsize",1);console.log("[DEBUG-APP] ============================================"),console.log("[DEBUG-APP] MainApp rendered"),console.log("[DEBUG-APP] walletAddress prop:",t),console.log("[DEBUG-APP] walletAddress first 8 chars:",t==null?void 0:t.substring(0,8)),console.log("[DEBUG-APP] walletAddress last 4 chars:",t==null?void 0:t.slice(-4));const{positions:d,isLoading:u,refetch:h}=Est(t);console.log("[DEBUG-APP] onChainPositions:",d.length,"positionsLoading:",u);const m=g=>s>=g.amount?(a(y=>y-g.amount),setTimeout(()=>h(),3e3),!0):!1,v=()=>{switch(i){case"bet":return f.jsx(d$t,{onPlaceBet:m,betSize:l,balance:s,goToWallet:()=>o("wallet")});case"history":return f.jsx(w$t,{bets:d,isLoadingPositions:u,onRefresh:h,walletAddress:t});case"wallet":return f.jsx(M$t,{betSize:l,setBetSize:c});default:return null}};return f.jsxs(Rst,{audioContext:e,children:[f.jsx(fBt,{}),f.jsx(hBt,{activeTab:i,onTabChange:o}),f.jsxs("div",{className:"min-h-screen",style:{backgroundColor:n.background},children:[f.jsx("div",{className:"fixed inset-0 pointer-events-none",style:{backgroundImage:`radial-gradient(${r?"#444":"#222"} 1px, transparent 1px)`,backgroundSize:"20px 20px",opacity:.05}}),f.jsx("main",{className:"relative z-10",style:{minHeight:"calc(100vh - 96px)",paddingBottom:"96px"},children:v()})]})]})}function $$t(){const{sdkHasLoaded:e,user:t,primaryWallet:n,refreshUser:r}=Zc(),i=np(),{colors:o}=dc(),[s,a]=x.useState(null),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[h,m]=x.useState(!1),v=!!t,g=!!n;x.useEffect(()=>{console.log("[App] State:",{sdkHasLoaded:e,isAuthenticated:v,hasWallet:g,primaryWallet:n==null?void 0:n.address,waasAvailable:!!i,userHasEmbeddedWallet:i==null?void 0:i.userHasEmbeddedWallet,walletCreationComplete:h})},[e,v,g,n,i,h]),x.useEffect(()=>{(async()=>{if(v&&!g&&!l&&!d&&!h&&(i!=null&&i.createWalletAccount)){c(!0),u(!0);try{console.log("[App] Creating embedded Solana wallet...");const k=new Promise((_,R)=>setTimeout(()=>R(new Error("Wallet creation timeout")),3e4));await Promise.race([i.createWalletAccount([nr.Sol]),k]),console.log("[App] Embedded wallet created!"),r&&(console.log("[App] Refreshing user data..."),await r()),m(!0)}catch(k){console.error("[App] Failed to create embedded wallet:",k),m(!0)}finally{c(!1)}}})()},[v,g,i,l,d,h,r]),x.useEffect(()=>{if(l){const b=setTimeout(()=>{console.log("[App] Wallet creation taking too long, proceeding anyway..."),c(!1),m(!0)},15e3);return()=>clearTimeout(b)}},[l]),x.useEffect(()=>{if(v&&!s){const b=async()=>{try{const k=new(window.AudioContext||window.webkitAudioContext);await k.resume(),a(k)}catch(k){console.error("Audio restore error:",k)}window.removeEventListener("click",b),window.removeEventListener("touchstart",b)};return window.addEventListener("click",b),window.addEventListener("touchstart",b),()=>{window.removeEventListener("click",b),window.removeEventListener("touchstart",b)}}},[v,s]);const y=b=>a(b);return e?v?l?f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:o.background,gap:"16px"},children:[f.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full",style:{borderColor:o.border,borderTopColor:"transparent"}}),f.jsx("p",{style:{color:o.text,fontWeight:"bold"},children:"Creating your wallet..."})]}):f.jsx(Ast,{children:f.jsx(j$t,{audioContext:s,walletAddress:n==null?void 0:n.address})}):f.jsx(pBt,{onAudioInit:y}):f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.background},children:f.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full",style:{borderColor:o.border,borderTopColor:"transparent"}})})}function L$t({children:e}){return f.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",backgroundColor:"#1a1a1a"},children:f.jsx("div",{style:{width:"100%",maxWidth:"480px",minHeight:"100vh",position:"relative",boxShadow:"0 0 50px rgba(0, 0, 0, 0.5)"},children:e})})}function U$t(){return f.jsx(L$t,{children:f.jsx(Ost,{children:f.jsx(sBt,{children:f.jsx($$t,{})})})})}window.Buffer=Te.Buffer;Z_e.createRoot(document.getElementById("root")).render(f.jsx(x.StrictMode,{children:f.jsx(U$t,{})}));export{UUt as D,oE as F,BRt as a,m4t as b,odt as c,x1 as d,fme as e,Uu as f,Ahe as g,FUt as h,She as r,Zct as s,WUt as u};
