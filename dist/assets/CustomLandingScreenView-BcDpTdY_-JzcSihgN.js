import{d9 as m,d7 as A,d5 as E,d6 as I,e3 as q,fP as ue,fQ as Ze,fR as Qe,d4 as e,fS as Xe,fT as Je,fU as Ae,fV as Ye,ds as W,eD as L,e5 as re,ey as ea,dq as B,ej as Ee,fW as aa,fX as ta,d_ as ia,fY as ie,dA as Le,eT as Pe}from"./index-BZUZJG0z.js";import{T as la,h as Ne,b as ra,F as na}from"./ModalHeader-D5psNgrf-BlEKM6aB.js";import{X as sa,D as de,e as pe}from"./ConnectWalletView-CduRtfEz-BR0ZCNV7.js";import{j as oa}from"./ConnectEmailForm-DjET3G-q-UIkmaF5j.js";import{n as he}from"./Chip-D2-wZOHJ-DUiT6Tro.js";import{l as ca}from"./farcaster-DPlSjvF5-B949Nmv-.js";import{F as da}from"./FingerPrintIcon-BXA1Qwfw.js";import{n as pa}from"./Link-DJ5gq9Di-HJKsU0YK.js";import{w as ua}from"./ConnectPhoneForm-CYfqSIAI-BDD9A_n5.js";import{B as ha,C as ga,o as fa,d as ma,h as xa,s as ya,n as wa,r as ja,l as va,e as ba,i as ka}from"./twitch-5IOe4sIQ-HmbcZjDv.js";import{c as Ca}from"./telegram-B-JqnkqZ-DQ1cS9We.js";import{l as Sa}from"./WalletOverflowButton-DWdepzzi-BmuqsSjq.js";import{n as Ma}from"./ScreenLayout-DIdy7nhJ-CtKEKsly.js";import{M as Ie}from"./mail-BQhl7vwX.js";import{c as We}from"./createLucideIcon-B72mi0g_.js";const Ta=(a,t=!0)=>a.reduce(((s,o)=>({...s,[o]:t})),{});/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Aa=We("circle-user",$a);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],De=We("smartphone",Ea);function La({title:a,titleId:t,...s},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Pa=m.forwardRef(La),Fe=()=>{var h;let a=I(),t=(h=a==null?void 0:a.appearance)==null?void 0:h.logo,s=`${a==null?void 0:a.name} logo`,o={maxHeight:"90px",maxWidth:"180px"};return t?typeof t=="string"?e.jsx("img",{src:t,alt:s,style:o}):t.type==="svg"||t.type==="img"?ia.cloneElement(t,{alt:s,style:o}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},Na=W.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px 0;
  flex-grow: 1;
  justify-content: center;
`,Ia=({name:a,logoUrl:t,size:s="38px"})=>typeof t=="string"?e.jsx("img",{src:t,alt:`${a??"Provider app"} logo`,style:{width:s,height:s,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):e.jsx("span",{}),Re=({appId:a})=>{let[t,s]=m.useState(void 0),{startCrossAppAuthFlow:o,authenticated:h}=Le(),{data:d}=E(),{client:r}=A();return m.useEffect((()=>{(async()=>r&&s(await r.getCrossAppProviderDetails(a)))()}),[r]),e.jsx(L,{onClick:()=>{var i;return o({appId:a,action:h?"link":"login",disableSignup:(i=d==null?void 0:d.login)==null?void 0:i.disableSignup})},disabled:!t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(Ia,{name:t.name,logoUrl:t.icon_url||void 0,size:"24px"})," ",t.name]}):e.jsx(Pe,{})})},Oe=({isEditable:a,setIsEditable:t,defaultValue:s})=>{let o=m.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsx(ie,{$if:!a,children:e.jsx(oa,{ref:o,defaultValue:s})}),e.jsx(ie,{$if:a,children:e.jsxs(L,{onClick:()=>{t(),setTimeout((()=>{var h;(h=o.current)==null||h.focus()}),0)},children:[e.jsx(re,{children:e.jsx(Ie,{})}),"Continue with Email"]})})]})},Ue=()=>{let[a,t]=m.useState(!1),{currentScreen:s,navigate:o,setModalData:h,data:d}=E(),{enabled:r,token:i}=B(),{initLoginWithFarcaster:g}=A(),{accountType:u}=q();return e.jsxs(L,{onClick:async()=>{var c;t(!0);try{r&&!i?(h({captchaModalData:{callback:p=>{var v;return g(p,(v=d==null?void 0:d.login)==null?void 0:v.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:"FarcasterConnectStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),o("CaptchaScreen")):(await g(i,(c=d==null?void 0:d.login)==null?void 0:c.disableSignup),o("FarcasterConnectStatusScreen"))}catch(p){h({errorModalData:{error:p,previousScreen:s||"LandingScreen"}}),o("ErrorScreen")}finally{t(!1)}},disabled:!1,children:[e.jsx(ca,{width:32,height:32})," Farcaster",a&&e.jsx(Pe,{}),u==="farcaster"&&e.jsx(Wa,{color:"gray",children:"Recent"})]})};let Wa=W(he)`
  margin-left: auto;
`;const Da=({...a})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...a,children:[e.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[e.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_2856_1743",children:e.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),$e=({chainType:a,withPadding:t})=>{let s="";return s=a==="ethereum-only"||a==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",e.jsx(aa,{$withPadding:t,children:e.jsxs(ta,{children:[e.jsx(na,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),e.jsx("h3",{children:"No wallets available"}),e.jsxs("p",{children:["Please download an external wallet provider, like ",s,"."]})]})},"empty-wallet-state")},Ve=()=>{let{enabled:a,token:t}=B(),{navigate:s,setModalData:o,data:h}=E(),d=I(),{initLoginWithPasskey:r}=A(),i=()=>{d.loginConfig.passkeysForSignupEnabled?s("PasskeySelectSignupOrLogin"):(async()=>a&&!t?(o({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:g=>r({captchaToken:g,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:"PasskeyStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),s("CaptchaScreen")):(await r({withPrivyUi:!0,captchaToken:t}),o({passkeyAuthModalData:{passkeySignupFlow:!1}}),s("PasskeyStatusScreen")))()};return m.useMemo((()=>{var u;let g=(u=h==null?void 0:h.login)==null?void 0:u.loginMethods;return g?g.filter((c=>c!=="passkey")).length:Object.entries(d.loginMethods).filter((([c,p])=>p)).filter((([c])=>c!=="passkey")).length}),[d.loginMethods,h==null?void 0:h.login])===0?e.jsxs(L,{onClick:i,children:[e.jsx(da,{})," Continue with passkey"]}):e.jsx(pa,{as:"button",onClick:i,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},_e=({isEditable:a,setIsEditable:t,defaultValue:s})=>{let o=m.useRef(null),{authenticated:h}=Le(),{navigate:d,setModalData:r,currentScreen:i,data:g}=E(),{initLoginWithSms:u}=A(),{enabled:c,token:p}=B(),{whatsAppEnabled:v}=I();return e.jsxs(e.Fragment,{children:[e.jsx(ie,{$if:!a,children:e.jsx(ua,{ref:o,onSubmit:async function({qualifiedPhoneNumber:w}){var f;if(!c||p||h)try{await u({phoneNumber:w,captchaToken:p,withPrivyUi:!0,disableSignup:(f=g==null?void 0:g.login)==null?void 0:f.disableSignup}),d("AwaitingPasswordlessCodeScreen")}catch(j){r({errorModalData:{error:j,previousScreen:i||"LandingScreen"}}),d("ErrorScreen")}else r({captchaModalData:{callback:j=>{var x;return u({phoneNumber:w,captchaToken:j,withPrivyUi:!0,disableSignup:(x=g==null?void 0:g.login)==null?void 0:x.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:"AwaitingPasswordlessCodeScreen",onErrorNavigateTo:"ErrorScreen"}}),d("CaptchaScreen")},defaultValue:s})}),e.jsx(ie,{$if:a,children:e.jsxs(L,{onClick:()=>{t(),setTimeout((()=>{var w;(w=o.current)==null||w.focus()}),0)},children:[e.jsx(re,{children:e.jsx(De,{})}),"Continue with ",v?"WhatsApp":"SMS"]})})]})};let Fa={apple:{logo:ka,displayName:"Apple"},discord:{logo:ba,displayName:"Discord"},github:{logo:va,displayName:"GitHub"},google:{logo:ja,displayName:"Google"},linkedin:{logo:wa,displayName:"LinkedIn"},spotify:{logo:ya,displayName:"Spotify"},instagram:{logo:xa,displayName:"Instagram"},twitter:{logo:ma,displayName:"Twitter"},tiktok:{logo:fa,displayName:"TikTok"},line:{logo:ga,displayName:"LINE"},twitch:{logo:ha,displayName:"Twitch"}};const y=({provider:a})=>{let{enabled:t,token:s}=B(),{navigate:o,setModalData:h,data:d}=E(),[r,i]=m.useState(!1),g=I(),{initLoginWithOAuth:u}=A(),{accountType:c}=q(),p=m.useMemo((()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?ue(c):null),[c]),{displayName:v,logo:w}=m.useMemo((()=>{if(Ee(a)){let f=g.customOAuthProviders.find((T=>T.provider===a)),j=f.provider_icon_url,x=f.provider_display_name;return{displayName:x,logo:({style:T})=>e.jsx("img",{alt:`${x} logo`,src:j,style:T})}}return Fa[a]}),[a,g.customOAuthProviders]);return e.jsxs(L,{onClick:()=>{var f;i(!0),setTimeout((()=>{i(!1)}),2e3),t&&!s?(h({captchaModalData:{callback:j=>{var x;return u(a,j,(x=d==null?void 0:d.login)==null?void 0:x.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:"ErrorScreen"}}),o("CaptchaScreen")):u(a,void 0,(f=d==null?void 0:d.login)==null?void 0:f.disableSignup)},disabled:r,children:[e.jsx(re,{$fullSize:!0,children:e.jsx(w,{style:{width:"32px",height:"32px"}})}),v,(p==null?void 0:p.loginMethod)===a&&e.jsx(Ra,{color:"gray",children:"Recent"})]})};let Ra=W(he)`
  margin-left: auto;
`;const ze=()=>{let{enabled:a,token:t}=B(),{navigate:s,setModalData:o,data:h}=E(),[d,r]=m.useState(!1),{initLoginWithTelegram:i}=A(),{accountType:g}=q();async function u(c){var p;try{await i(c,(p=h==null?void 0:h.login)==null?void 0:p.disableSignup),o({telegramAuthModalData:{seamlessAuth:!1}}),s("TelegramAuthScreen")}catch(v){console.error(v),r(!1)}}return e.jsxs(L,{onClick:async function(){if(r(!0),a&&!t)return o({captchaModalData:{callback:u,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:"ErrorScreen"}}),void s("CaptchaScreen");await u(t)},disabled:d,children:[e.jsx(Ca,{width:32,height:32}),"Telegram",g==="telegram"&&e.jsx(Oa,{color:"gray",children:"Recent"})]})};let Oa=W(he)`
  margin-left: auto;
`;const qe=({onClick:a,text:t,icon:s})=>e.jsxs(L,{onClick:a,children:[e.jsx(re,{children:s}),e.jsx(ea,{children:t})]}),ot=({connectOnly:a})=>{var Me;let{closePrivyModal:t}=A(),{data:s,setModalData:o,onUserCloseViaDialogOrKeybindRef:h,navigate:d}=E(),r=I(),i=s==null?void 0:s.login,g=r.appearance.walletList,u=(i==null?void 0:i.walletChainType)??r.appearance.walletChainType,{accountType:c,walletClientType:p,chainType:v}=q(),w=m.useMemo((()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?ue(c):null),[c]),{email:f,sms:j,google:x,twitter:T,discord:$,github:U,spotify:H,instagram:P,tiktok:G,line:ne,twitch:V,linkedin:K,apple:Z,wallet:b,farcaster:se,telegram:Q}=m.useMemo((()=>i!=null&&i.loginMethods?Ta(i.loginMethods,!0):null),[i])??r.loginMethods,{wallets:D}=sa({enabled:Ye(b?g:[]),walletList:g,walletChainType:u}),X=r.customOAuthProviders,J=r.crossAppProviders,{passkey:n}=r.loginMethods,M=[f&&"email",j&&"sms",x&&"google",T&&"twitter",$&&"discord",U&&"github",H&&"spotify",P&&"instagram",G&&"tiktok",ne&&"line",V&&"twitch",K&&"linkedin",Z&&"apple",se&&"farcaster",Q&&"telegram",...X.map((l=>l.provider)),...J].filter((l=>!!l)),_=M.length>0,k=m.useMemo((()=>b&&!_?"web3-first":b&&(r==null?void 0:r.appearance.loginGroupPriority)||"web2-first"),[b,_,r==null?void 0:r.appearance.loginGroupPriority]),Y=r==null?void 0:r.appearance.hideDirectWeb2Inputs,[C,F]=m.useState("default"),[ee,z]=m.useState(le({mostRecentlyUsedAccountType:c,smsAvailable:j,emailAvailable:f,prefilledType:(Me=i==null?void 0:i.prefill)==null?void 0:Me.type}));m.useEffect((()=>{var l;z(le({mostRecentlyUsedAccountType:c,smsAvailable:j,emailAvailable:f,prefilledType:(l=i==null?void 0:i.prefill)==null?void 0:l.type}))}),[f,j,c]);let ge=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{F("default")}),150)};h.current=ge;let oe=[];p&&b?oe.push(p):w!=null&&w.loginMethod&&M.includes(w.loginMethod)&&oe.push(w.loginMethod);let fe=l=>{var te,Te;if(l==="email")return e.jsx(Oe,{isEditable:ee==="email",setIsEditable:()=>{z("email")},defaultValue:((te=i==null?void 0:i.prefill)==null?void 0:te.type)==="email"?i.prefill.value:void 0},l);if(l==="sms")return e.jsx(_e,{isEditable:ee==="sms",setIsEditable:()=>{z("sms")},defaultValue:((Te=i==null?void 0:i.prefill)==null?void 0:Te.type)==="phone"?i.prefill.value:void 0},l);if(l==="apple")return e.jsx(y,{provider:"apple"},l);if(l==="discord")return e.jsx(y,{provider:"discord"},l);if(l==="farcaster")return e.jsx(Ue,{},l);if(l==="github")return e.jsx(y,{provider:"github"},l);if(l==="google")return e.jsx(y,{provider:"google"},l);if(l==="linkedin")return e.jsx(y,{provider:"linkedin"},l);if(l==="tiktok")return e.jsx(y,{provider:"tiktok"},l);if(l==="line")return e.jsx(y,{provider:"line"},l);if(l==="twitch")return e.jsx(y,{provider:"twitch"},l);if(l==="spotify")return e.jsx(y,{provider:"spotify"},l);if(l==="instagram")return e.jsx(y,{provider:"instagram"},l);if(l==="twitter")return e.jsx(y,{provider:"twitter"},l);if(l==="telegram")return e.jsx(ze,{},l);if(Ee(l))return e.jsx(y,{provider:l},l);if(l.startsWith("privy:")){let O=l.split(":")[1];if(!O)throw Error("Invalid cross-app provider format. App ID missing.");return e.jsx(Re,{appId:O},l)}let ce=D.findIndex((({id:O})=>O===de.normalize(l))),ae=v==="solana"?"solana-only":"ethereum-only";return e.jsx(pe,{recent:!0,index:ce,data:{wallets:D,walletChainType:ae,handleWalletClick(O){o((Ke=>({...Ke,externalConnectWallet:{walletList:g,walletChainType:ae,preSelectedWalletId:O.id}}))),d(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}})},me=D.filter((l=>l.id!==de.normalize(p||""))),N=me.map(((l,ce)=>e.jsx(pe,{index:ce,data:{walletChainType:u,wallets:me,handleWalletClick(ae){o((te=>({...te,externalConnectWallet:{walletList:g,walletChainType:u,preSelectedWalletId:ae.id}}))),d(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}},l.id))),S=M.filter((l=>l!==(w==null?void 0:w.loginMethod))).flatMap(fe),xe=oe.flatMap(fe);k==="web3-first"&&C==="default"?N.unshift(...xe):k==="web2-first"&&S.unshift(...xe);let ye=C==="web2-overflow"?()=>F("default"):void 0,we=M.filter((l=>l!=="email"&&l!=="sms")),Be=_a({priority:k,email:f,sms:j,social:we}),He=za({priority:k,email:f,sms:j,social:we}),je=e.jsx(Sa,{text:qa({priority:k}),onClick:()=>{o({...s,externalConnectWallet:{walletChainType:(i==null?void 0:i.walletChainType)??r.appearance.walletChainType}}),d(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}),ve=e.jsx(qe,{text:Be,icon:He,onClick:()=>F("web2-overflow")}),be=Y?0:1,ke=b&&N.length>0,Ce=S.length===0&&b&&N.length===0,R=5-(ke?1:0),Se=C==="default"&&(r==null?void 0:r.appearance.logo),Ge=C==="default"&&r.appearance.loginMessage;return e.jsxs(Ma,{title:r.appearance.landingHeader,icon:Se?e.jsx(Fe,{}):void 0,iconVariant:Se?"logo":void 0,onClose:ge,showClose:!0,onBack:ye,showBack:!!ye,helpText:r||n&&C==="default"?e.jsxs(e.Fragment,{children:[n&&C==="default"&&e.jsx(Ve,{}),r&&e.jsx(Ne,{app:r})]}):void 0,watermark:!0,children:[Ge&&(typeof r.appearance.loginMessage=="string"?e.jsx(Ua,{children:r.appearance.loginMessage}):e.jsx(Va,{children:r.appearance.loginMessage})),e.jsx(Ae,{$colorScheme:r.appearance.palette.colorScheme,children:C==="default"&&k==="web2-first"?e.jsxs(e.Fragment,{children:[S.length>R?S.slice(0,R-1):S,S.length>R&&ve,ke&&je,Ce&&e.jsx($e,{chainType:r.appearance.walletChainType})]}):C==="default"&&k==="web3-first"?e.jsxs(e.Fragment,{children:[b&&e.jsxs(e.Fragment,{children:[N.length>R?N.slice(0,R-1):N,N.length>R&&je]}),S.length>be&&ve,S.length===be&&S[0],Ce&&e.jsx($e,{chainType:r.appearance.walletChainType})]}):C==="web2-overflow"?e.jsx(e.Fragment,{children:k==="web3-first"?S:S.slice(3)}):null})]})};let Ua=W.div`
  text-align: center;
  font-size: 14px;
  margin-bottom: 24px;
`,Va=W.div`
  margin-bottom: 24px;
`,_a=({priority:a,email:t,sms:s,social:o})=>a==="web2-first"?"Other socials":t&&s&&o.length>0||t&&o.length>0?"Log in with email or socials":s&&o.length>0?"Log in with sms or socials":t&&s?"Continue with email or sms":t?"Continue with email":s?"Continue with sms":"Log in with a social account",za=({priority:a,email:t,sms:s,social:o})=>a==="web2-first"||o.length>0?e.jsx(Aa,{}):t&&s?e.jsx(Da,{}):t?e.jsx(Ie,{}):s?e.jsx(De,{}):null,qa=({priority:a})=>a==="web2-first"?"Continue with a wallet":"Other wallets";const le=({mostRecentlyUsedAccountType:a,smsAvailable:t,emailAvailable:s,prefilledType:o})=>s&&(a==="email"&&o!=="phone"||o==="email")||!t||a!=="phone"&&o!=="phone"?"email":"sms",ct=({connectOnly:a})=>{var D,X,J;let{closePrivyModal:t,connectors:s}=A(),{data:o,setModalData:h,onUserCloseViaDialogOrKeybindRef:d,navigate:r}=E(),i=I(),g=i.appearance.palette.colorScheme,{accountType:u,walletClientType:c}=q(),p=m.useMemo((()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?ue(u):null),[u]),v=((D=i.loginMethodsAndOrder)==null?void 0:D.primary)??[],w=((X=i.loginMethodsAndOrder)==null?void 0:X.overflow)??[],f=m.useMemo((()=>[...v,...w]),[v,w]),j=i.loginMethods.passkey,x=o==null?void 0:o.login,T=[];c&&f.includes(c)?T.push(c):u&&f.includes(p==null?void 0:p.loginMethod)&&T.push(p==null?void 0:p.loginMethod);let[$,U]=m.useState("default"),[H,P]=m.useState(le({mostRecentlyUsedAccountType:u,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(J=x==null?void 0:x.prefill)==null?void 0:J.type}));m.useEffect((()=>{var n;P(le({mostRecentlyUsedAccountType:u,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(n=x==null?void 0:x.prefill)==null?void 0:n.type}))}),[f,u]),m.useEffect((()=>{u==="phone"&&P("sms");let n=f.indexOf("sms"),M=f.indexOf("email");n>-1&&n<M&&P("sms")}),[u,v,w]);let G=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{U("default")}),150)};d.current=G;let{listings:ne}=Ze(),V=n=>{var k,Y;if(n==="email")return e.jsx(Oe,{isEditable:H==="email",setIsEditable:()=>{P("email")},defaultValue:((k=x==null?void 0:x.prefill)==null?void 0:k.type)==="email"?x.prefill.value:void 0},n);if(n==="sms")return e.jsx(_e,{isEditable:H==="sms",setIsEditable:()=>{P("sms")},defaultValue:((Y=x==null?void 0:x.prefill)==null?void 0:Y.type)==="phone"?x.prefill.value:void 0},n);if(n==="apple")return e.jsx(y,{provider:"apple"},n);if(n==="discord")return e.jsx(y,{provider:"discord"},n);if(n==="farcaster")return e.jsx(Ue,{},n);if(n==="github")return e.jsx(y,{provider:"github"},n);if(n==="google")return e.jsx(y,{provider:"google"},n);if(n==="linkedin")return e.jsx(y,{provider:"linkedin"},n);if(n==="spotify")return e.jsx(y,{provider:"spotify"},n);if(n==="instagram")return e.jsx(y,{provider:"instagram"},n);if(n==="tiktok")return e.jsx(y,{provider:"tiktok"},n);if(n==="line")return e.jsx(y,{provider:"line"},n);if(n==="twitch")return e.jsx(y,{provider:"twitch"},n);if(n==="twitter")return e.jsx(y,{provider:"twitter"},n);if(n==="telegram")return e.jsx(ze,{},n);if(n.startsWith("privy:"))return e.jsx(Re,{appId:n.replace("privy:","")},n);let M=i.appearance.walletChainType,_=new de(M,[n]).getWallets(s,ne);return _.wallets.map(((C,F)=>e.jsx(pe,{index:F,data:{wallets:_.wallets,walletChainType:M,handleWalletClick(ee){h((z=>({...z,externalConnectWallet:{walletList:f,walletChainType:M,preSelectedWalletId:ee.id}}))),r(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}},C.id+F)))},K=T.flatMap(V),Z=v.filter((n=>n!==c&&n!==(p==null?void 0:p.loginMethod))).flatMap(V),b=w.filter((n=>n!==c&&n!==(p==null?void 0:p.loginMethod))).flatMap(V),[se,Q]=Qe([...K,...Z,...b],Ba({primary:Z.length+K.length,overflow:b.length}));return e.jsxs(e.Fragment,{children:[e.jsx(la,{title:i.appearance.landingHeader,onClose:G,backFn:$==="default"?void 0:()=>{U("default")}}),$==="default"&&e.jsx(Ha,{}),$==="default"&&(typeof i.appearance.loginMessage=="string"?e.jsx(Xe,{children:i.appearance.loginMessage}):i.appearance.loginMessage),e.jsx(Je,{style:{overflow:"hidden"},children:e.jsxs(Ae,{$colorScheme:g,children:[$==="default"&&e.jsxs(e.Fragment,{children:[se,Q.length>0&&e.jsx(qe,{text:"More options",icon:e.jsx(Pa,{}),onClick:()=>U("overflow")})]}),$==="overflow"&&e.jsx(e.Fragment,{children:Q}),j&&$==="default"&&e.jsx(Ve,{})]})}),i&&e.jsx(Ne,{app:i}),e.jsx(ra,{})]})};let Ba=({primary:a,overflow:t})=>a<5?a:a===5&&t===0?5:4,Ha=W((a=>{let t=I();return t!=null&&t.appearance.logo?e.jsx(Na,{...a,children:e.jsx(Fe,{})}):null}))`
  margin-bottom: 16px;
`;export{ot as M,ct as P};
