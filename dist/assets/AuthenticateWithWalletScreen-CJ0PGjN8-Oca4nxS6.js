import{d7 as N,d5 as T,d6 as g,d8 as y,d9 as o,d4 as I,da as _,db as E}from"./index-BZUZJG0z.js";import{n as v}from"./ConnectWalletView-CduRtfEz-BR0ZCNV7.js";import"./QrCode-Bp7vKyXB-Dl74PJZb.js";import"./ModalHeader-D5psNgrf-BlEKM6aB.js";import"./copy-Bx2Jwc5_-BzyfXrSH.js";import"./Link-DJ5gq9Di-HJKsU0YK.js";import"./EmailInputForm-Dgoii4vf-Cv4GPqoL.js";import"./ErrorMessage-D8VaAP5m-C-TFvMaa.js";import"./useI18n-CD7HCIxK-CHc5ankF.js";import"./WalletCards-DH1rqayz-D-vmqq6_.js";import"./Screen-q8npRQhQ-DadJ2eBF.js";import"./index-Dq_xe9dz-CmgW7sSb.js";import"./dijkstra-COg3n3zL.js";const M={component:()=>{var c,s,i,p,u,m;let{setWalletConnectionStatus:r,closePrivyModal:d,inProgressAuthFlowRef:w}=N(),{data:e,navigate:n}=T(),a=g(),l=y(),x=(c=e==null?void 0:e.externalConnectWallet)==null?void 0:c.description,R=o.useRef(((s=e==null?void 0:e.externalConnectWallet)==null?void 0:s.walletList)??a.appearance.walletList),S=o.useRef(((i=e==null?void 0:e.externalConnectWallet)==null?void 0:i.walletChainType)??a.appearance.walletChainType),f=R.current,h=S.current,L=w.current==="link"?void 0:()=>n("LandingScreen");return I.jsx(v,{walletList:f,walletChainType:h,onClose:d,onConnect:o.useCallback((({connector:t,wallet:C})=>{var W;l("connectWallet","onSuccess",{wallet:C}),r({status:"connected",connectedWallet:C,connector:t,connectError:null,connectRetry:()=>null}),n("ConnectionStatusScreen",!((W=e==null?void 0:e.externalConnectWallet)!=null&&W.preSelectedWalletId))}),[r,n,(p=e==null?void 0:e.login)==null?void 0:p.disableSignup,(u=e==null?void 0:e.externalConnectWallet)==null?void 0:u.preSelectedWalletId]),onConnectError:t=>{t instanceof _?(console.warn(t.cause?t.cause:t.message),l("connectWallet","onError",t.privyErrorCode||E.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(t),l("connectWallet","onError",E.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:L,customDescription:x||"",preSelectedWalletId:(m=e==null?void 0:e.externalConnectWallet)==null?void 0:m.preSelectedWalletId,app:a})},isUnauthenticatedScreem:!0};export{M as AuthenticateWithWalletScreen,M as default};
