const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-J81TseT_.js","assets/parseSignature-Dh3a-Bf8.js","assets/parseUnits-COoaZUsJ.js","assets/AccountNotFoundScreen-Q-gvf1Fn-C_pJi4lx.js","assets/ScreenLayout-DIdy7nhJ-CtKEKsly.js","assets/ModalHeader-D5psNgrf-BlEKM6aB.js","assets/Screen-q8npRQhQ-DadJ2eBF.js","assets/index-Dq_xe9dz-CmgW7sSb.js","assets/createLucideIcon-B72mi0g_.js","assets/AffirmativeConsentScreen-CLQuUvfP-CmCOUeWa.js","assets/shouldProceedtoEmbeddedWalletCreationFlow-D0uaMzCB-ChwW2HLS.js","assets/external-link-DRbeF0fB.js","assets/AllowlistRejectionScreen-CA0r2B2G-CTFKEXCd.js","assets/lock-C--KDDhh.js","assets/AuthenticateWithWalletScreen-CJ0PGjN8-Oca4nxS6.js","assets/ConnectWalletView-CduRtfEz-BR0ZCNV7.js","assets/copy-Bx2Jwc5_-BzyfXrSH.js","assets/Link-DJ5gq9Di-HJKsU0YK.js","assets/QrCode-Bp7vKyXB-Dl74PJZb.js","assets/dijkstra-COg3n3zL.js","assets/EmailInputForm-Dgoii4vf-Cv4GPqoL.js","assets/ErrorMessage-D8VaAP5m-C-TFvMaa.js","assets/useI18n-CD7HCIxK-CHc5ankF.js","assets/WalletCards-DH1rqayz-D-vmqq6_.js","assets/AwaitingEvmToSolBridgingScreen-BCl9wYAA-MBtz0Eo3.js","assets/CheckCircleIcon-D6_brTOf.js","assets/Layouts-BlFm53ED-D8gWrHLU.js","assets/ScreenHeader-CHmc4-Lu-D968ig42.js","assets/FundWalletMethodHeader-CI5afzwL-BZtXSULE.js","assets/useGetTokenPrice-C1-pGMgN-DqVN8PHa.js","assets/useGetSolPrice-Cfm8o9C5-DeeG65FR.js","assets/analytics-mkkvFRju-DOXuftJB.js","assets/reservoir-kvLjIrEo-Do6elMp6.js","assets/getChainName-DjpPdUSc-c2urPd0g.js","assets/transaction-CnfuREWo-nROljJQP.js","assets/getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","assets/BridgeNetworkSelectionView-T2-4Tr4k-dbSshkjR.js","assets/getErc20Balance-CaKjNAs9-UsIHWji5.js","assets/Value-tcJV9e0L-Dbu4EDrR.js","assets/LoadingSkeleton-U6-3yFwI-BqvAdjZO.js","assets/Subtitle-CV-2yKE4-D-H5V56C.js","assets/Title-BnzYV3Is-BkAZi-Pa.js","assets/WalletIcon-hh3-YJ30.js","assets/Chip-D2-wZOHJ-DUiT6Tro.js","assets/TransferOrBridgeLoadingScreen-BZTN__SI-D57ZmH6x.js","assets/InjectedWalletIcon-DLcYOGDj-DBB2QKeI.js","assets/Address-BGlhcEcA-BeY89XEP.js","assets/check-BDT86Nu8.js","assets/copy-PrcWgVQF.js","assets/GlobeAltIcon-COUUlDl-.js","assets/shared-FM0rljBt-CEF3ZWm_.js","assets/ChevronDownIcon-k3TGnLFx.js","assets/formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","assets/ethers-TpFbevgv-CT39HWSi.js","assets/styles-CaJCyFB5-BHZKprYK.js","assets/LinkPasskeyScreen-DJveInKu-fpSMIaSF.js","assets/TodoList-CgrU7uwu-C9JMyp_T.js","assets/circle-check-big-CartQiBB.js","assets/fingerprint-pattern-DCdiYDPD.js","assets/formatters-BCBPo00w.js","assets/custom-GteR2eih.js","assets/AwaitingExternalEthereumTransferScreen-PysgS8Qt-DuKPO8bN.js","assets/transfer-CMPmjPsM-Cjofo3yZ.js","assets/parseEther-CIE0GjS_.js","assets/AwaitingPasswordlessCodeScreen-BV79QlfB-3DIBrkk-.js","assets/EnvelopeIcon-DhnnbKCd.js","assets/PhoneIcon-DO-kIy-O.js","assets/AwaitingSolToEvmBridgingScreen-BAWOxcgh-DTnkV9rp.js","assets/CaptchaScreen-BpGtWd73-BEKlczmp.js","assets/circle-x-DmvkV2q4.js","assets/CoinbaseOnrampStatusScreen-0Uex7DsA-Cwh4JOA9.js","assets/ArrowsRightLeftIcon-PAKpD01z.js","assets/CheckCircleIcon-CpqaWuvB.js","assets/ConnectLedgerScreen-CQFzXuWK-B5xp6RI9.js","assets/ConnectOnlyLandingScreen-BHXmw89v-D25e62mM.js","assets/ConnectOnlyStatusScreen-CrK4PC6t-CwgTJjue.js","assets/ConnectionStatusScreen-KrobwyOT-CUHAevnL.js","assets/ConnectOrCreateScreen-BrRb6sNR-Cnig8_WK.js","assets/CustomLandingScreenView-BcDpTdY_-JzcSihgN.js","assets/ConnectEmailForm-DjET3G-q-UIkmaF5j.js","assets/mail-BQhl7vwX.js","assets/farcaster-DPlSjvF5-B949Nmv-.js","assets/FingerPrintIcon-BXA1Qwfw.js","assets/ConnectPhoneForm-CYfqSIAI-BDD9A_n5.js","assets/twitch-5IOe4sIQ-HmbcZjDv.js","assets/telegram-B-JqnkqZ-DQ1cS9We.js","assets/WalletOverflowButton-DWdepzzi-BmuqsSjq.js","assets/CrossAppAuthScreen-BOKIMDhq-Pm2_ArIH.js","assets/DelegatedActionsConsentScreen-B7RhRjIf-C-XMEWBz.js","assets/WalletInfoCard-BtliVaf0-C-OpDWgj.js","assets/LabelXs-oqZNqbm_-D0IQxw2J.js","assets/circle-alert-BQcjtTIg.js","assets/DelegatedActionsRevokeScreen-C5V6mhCq-B5C3dv-8.js","assets/EmbeddedWalletConnectingScreen-C9Fw9Ret-Cg8C-ylG.js","assets/EmbeddedWalletCreatedScreen-keGjjfu4-DPfeVWlr.js","assets/EmbeddedWalletKeyExportScreen-DxbOABYY-DfR_gHBV.js","assets/WarningBanner-c8L53pJ2-DNXOaIsr.js","assets/ExclamationTriangleIcon-CLH_TsZy.js","assets/EmbeddedWalletOnAccountCreateScreen-B7blEQwB-DdxAPOb4.js","assets/use-create-wallet-without-fallback-BLN3_KXw-CjXTjOU0.js","assets/RecoveryPasswordCreateScreen-BgT7udfA-BQeJa3as.js","assets/SetWalletPasswordForm-B55ZeX-5-CZE1u-9d.js","assets/shared-JeLSzCHD-ykGp_SFG.js","assets/Checkbox-BhNoOKjX-DF6rQPDu.js","assets/EmbeddedWalletPasswordUpdateScreen-B25GzXZc-EdHJAe2L.js","assets/EmbeddedWalletPasswordUpdateSplashScreen-Cu_NA9L6-CiSvSsfC.js","assets/ErrorScreen-DLsfgpC9-DwaPA2-1.js","assets/FarcasterConnectStatusScreen-ng3F34Zy-DcJUvxTd.js","assets/OpenLink-DZHy38vr-D0gQVD5C.js","assets/FarcasterSignerStatusScreen-C19Go4EG-DDHjuGeI.js","assets/CopyToClipboard-BGTSFnT3-iS0t0RLm.js","assets/FundSolWalletWithExternalSolanaWallet-DpBJNLZJ-Kwm-nMlK.js","assets/useSolanaRpcClient-C55AFEgY-BA5gsE4U.js","assets/getUsdcMintAddress-DFI1hv05-jlhpBW9a.js","assets/FundingEditAmountScreen-DVwlwSMh-D6ZF-g5z.js","assets/FundingMethodSelectionScreen-BEXU_dRV-BlRNto84.js","assets/ErrorBanner-CQERa7bL-DhK9Px_L.js","assets/ExclamationCircleIcon-CTyaHNWt.js","assets/InfoBanner-Dk1KghcK-BNIKeKfi.js","assets/getErc20TokenInfo-BFoeg5F6-D2udEJiP.js","assets/index-DEy_pO5S-DKQ5Zb2b.js","assets/InAppBrowserLoginNotPossible-fdO06E7f-WIiCDDUm.js","assets/InstallWalletScreen-BTCkqOY--FCtrliNx.js","assets/LandingScreen-BYYtxc3M-BVUS1FuC.js","assets/LinkConflictScreen-CEU67LFR-ZjKuA8IJ.js","assets/StackedContainer-B2vaEl56-CK5LNgwx.js","assets/capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","assets/LinkEmailScreen-frIcyTMB-DyFzNbBi.js","assets/LinkPhoneScreen-DoNf-oO4-Ckl8GrAk.js","assets/LoginFailedScreen-g2jT2Kyc-BguVqCWP.js","assets/ManualTransferScreen-Cc1Y8Jih-B-0wiF9p.js","assets/useWalletBalance-CkNw6kj0-ciB7llZS.js","assets/MfaAuthEnrollmentFlowScreen-O3_CYjp9-CfDf8EtR.js","assets/ShieldCheckIcon-B-NJHB3m.js","assets/EnrollTotp-CXZmaa4A-SmrlSBba.js","assets/PinInput-3SLvbnQa-CalC7LOu.js","assets/MfaAuthVerifyFlowScreen-T7Rg8uvy-CM0Me4pV.js","assets/to-ui-error-l1Vm31qE-CPb64Lxy.js","assets/TransactionDetails-DB8AH1mq-yGptQR4G.js","assets/WalletLink-foFywOfy-BZGpYybr.js","assets/MfaEnrollmentFlowScreen-Bz72-m4D-CPgjoh4x.js","assets/MoonpayStatusScreen-B8KZWDvr-BtW7tcSP.js","assets/OAuthStatusScreen-BqifArEf-C9EShJhe.js","assets/PasskeySelectSignupOrLogin-BnluBsvm-DYrxAEIo.js","assets/PasskeyStatusScreen-DNO05Efn-B_LLC3Pt.js","assets/PasswordRecoveryScreen-B7NJ3m5d-DJNvSOXX.js","assets/RecoveryOAuthStatusScreen-C0tnlfv2-Cc7mkWox.js","assets/styles-BsotlekN-BRoDfy88.js","assets/RecoverySelectionScreen-ePxeHUj1-CLwef45E.js","assets/LockClosedIcon-WCF_JC2b.js","assets/index-DieEhruj-XtoGBYNC.js","assets/JsonTree-aPaJmPx7-3xUCUB5b.js","assets/TransactionErrorView-CkMh0sTl-B3eKaaR4.js","assets/SetAutomaticRecoveryScreen-CVl0jRLW-CYoWB43U.js","assets/SignRequestScreen-DsHKzR1x-B09lhfea.js","assets/StandardSignAndSendTransactionScreen-BuT88OVq-acN9Rd3z.js","assets/TelegramAuthScreen-DQ63cPv--CX7S-dGE.js","assets/TransferFromWalletScreen-rtFkHQRz-CuhOiWyh.js","assets/UpdateEmailScreen-sALtnLLN-xhngy47r.js","assets/UpdatePhoneScreen-DKfVISn1-Bc9hInv2.js","assets/UserLimitReachedScreen-BoinP76r-CH1P_N9d.js","assets/WalletInterstitialScreen-jn7VehvZ-UcFH2MiM.js","assets/MfaVerifyFlowScreen-C_vKdC1M-BT_4pzbM.js"])))=>i.map(i=>d[i]);
var sJ=Object.defineProperty;var oJ=(t,e,n)=>e in t?sJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nx=(t,e,n)=>oJ(t,typeof e!="symbol"?e+"":e,n);function aJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $x={exports:{}},om={},Dx={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8;function cJ(){if(L8)return Lt;L8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=f&&W[f]||W["@@iterator"],typeof W=="function"?W:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function v(W,G,ie){this.props=W,this.context=G,this.refs=w,this.updater=ie||m}v.prototype.isReactComponent={},v.prototype.setState=function(W,G){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,G,"setState")},v.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function E(){}E.prototype=v.prototype;function k(W,G,ie){this.props=W,this.context=G,this.refs=w,this.updater=ie||m}var _=k.prototype=new E;_.constructor=k,y(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function N(W,G,ie){var te,ee={},pe=null,ye=null;if(G!=null)for(te in G.ref!==void 0&&(ye=G.ref),G.key!==void 0&&(pe=""+G.key),G)A.call(G,te)&&!O.hasOwnProperty(te)&&(ee[te]=G[te]);var xe=arguments.length-2;if(xe===1)ee.children=ie;else if(1<xe){for(var we=Array(xe),Oe=0;Oe<xe;Oe++)we[Oe]=arguments[Oe+2];ee.children=we}if(W&&W.defaultProps)for(te in xe=W.defaultProps,xe)ee[te]===void 0&&(ee[te]=xe[te]);return{$$typeof:t,type:W,key:pe,ref:ye,props:ee,_owner:T.current}}function D(W,G){return{$$typeof:t,type:W.type,key:G,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function K(W){var G={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ie){return G[ie]})}var B=/\/+/g;function j(W,G){return typeof W=="object"&&W!==null&&W.key!=null?K(""+W.key):G.toString(36)}function Y(W,G,ie,te,ee){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var ye=!1;if(W===null)ye=!0;else switch(pe){case"string":case"number":ye=!0;break;case"object":switch(W.$$typeof){case t:case e:ye=!0}}if(ye)return ye=W,ee=ee(ye),W=te===""?"."+j(ye,0):te,x(ee)?(ie="",W!=null&&(ie=W.replace(B,"$&/")+"/"),Y(ee,G,ie,"",function(Oe){return Oe})):ee!=null&&(F(ee)&&(ee=D(ee,ie+(!ee.key||ye&&ye.key===ee.key?"":(""+ee.key).replace(B,"$&/")+"/")+W)),G.push(ee)),1;if(ye=0,te=te===""?".":te+":",x(W))for(var xe=0;xe<W.length;xe++){pe=W[xe];var we=te+j(pe,xe);ye+=Y(pe,G,ie,we,ee)}else if(we=p(W),typeof we=="function")for(W=we.call(W),xe=0;!(pe=W.next()).done;)pe=pe.value,we=te+j(pe,xe++),ye+=Y(pe,G,ie,we,ee);else if(pe==="object")throw G=String(W),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ye}function I(W,G,ie){if(W==null)return W;var te=[],ee=0;return Y(W,te,"","",function(pe){return G.call(ie,pe,ee++)}),te}function P(W){if(W._status===-1){var G=W._result;G=G(),G.then(function(ie){(W._status===0||W._status===-1)&&(W._status=1,W._result=ie)},function(ie){(W._status===0||W._status===-1)&&(W._status=2,W._result=ie)}),W._status===-1&&(W._status=0,W._result=G)}if(W._status===1)return W._result.default;throw W._result}var L={current:null},M={transition:null},R={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:M,ReactCurrentOwner:T};function z(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:I,forEach:function(W,G,ie){I(W,function(){G.apply(this,arguments)},ie)},count:function(W){var G=0;return I(W,function(){G++}),G},toArray:function(W){return I(W,function(G){return G})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Lt.Component=v,Lt.Fragment=n,Lt.Profiler=i,Lt.PureComponent=k,Lt.StrictMode=r,Lt.Suspense=c,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,Lt.act=z,Lt.cloneElement=function(W,G,ie){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var te=y({},W.props),ee=W.key,pe=W.ref,ye=W._owner;if(G!=null){if(G.ref!==void 0&&(pe=G.ref,ye=T.current),G.key!==void 0&&(ee=""+G.key),W.type&&W.type.defaultProps)var xe=W.type.defaultProps;for(we in G)A.call(G,we)&&!O.hasOwnProperty(we)&&(te[we]=G[we]===void 0&&xe!==void 0?xe[we]:G[we])}var we=arguments.length-2;if(we===1)te.children=ie;else if(1<we){xe=Array(we);for(var Oe=0;Oe<we;Oe++)xe[Oe]=arguments[Oe+2];te.children=xe}return{$$typeof:t,type:W.type,key:ee,ref:pe,props:te,_owner:ye}},Lt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},Lt.createElement=N,Lt.createFactory=function(W){var G=N.bind(null,W);return G.type=W,G},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(W){return{$$typeof:a,render:W}},Lt.isValidElement=F,Lt.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:P}},Lt.memo=function(W,G){return{$$typeof:u,type:W,compare:G===void 0?null:G}},Lt.startTransition=function(W){var G=M.transition;M.transition={};try{W()}finally{M.transition=G}},Lt.unstable_act=z,Lt.useCallback=function(W,G){return L.current.useCallback(W,G)},Lt.useContext=function(W){return L.current.useContext(W)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(W){return L.current.useDeferredValue(W)},Lt.useEffect=function(W,G){return L.current.useEffect(W,G)},Lt.useId=function(){return L.current.useId()},Lt.useImperativeHandle=function(W,G,ie){return L.current.useImperativeHandle(W,G,ie)},Lt.useInsertionEffect=function(W,G){return L.current.useInsertionEffect(W,G)},Lt.useLayoutEffect=function(W,G){return L.current.useLayoutEffect(W,G)},Lt.useMemo=function(W,G){return L.current.useMemo(W,G)},Lt.useReducer=function(W,G,ie){return L.current.useReducer(W,G,ie)},Lt.useRef=function(W){return L.current.useRef(W)},Lt.useState=function(W){return L.current.useState(W)},Lt.useSyncExternalStore=function(W,G,ie){return L.current.useSyncExternalStore(W,G,ie)},Lt.useTransition=function(){return L.current.useTransition()},Lt.version="18.3.1",Lt}var B8;function Ey(){return B8||(B8=1,Dx.exports=cJ()),Dx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U8;function lJ(){if(U8)return om;U8=1;var t=Ey(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var d,f={},p=null,m=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return om.Fragment=n,om.jsx=o,om.jsxs=o,om}var F8;function uJ(){return F8||(F8=1,$x.exports=lJ()),$x.exports}var U=uJ(),H=Ey();const Ke=cu(H),j8=aJ({__proto__:null,default:Ke},[H]);var kw={},Mx={exports:{}},Zi={},Lx={exports:{}},Bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z8;function dJ(){return z8||(z8=1,(function(t){function e(M,R){var z=M.length;M.push(R);e:for(;0<z;){var W=z-1>>>1,G=M[W];if(0<i(G,R))M[W]=R,M[z]=G,z=W;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var R=M[0],z=M.pop();if(z!==R){M[0]=z;e:for(var W=0,G=M.length,ie=G>>>1;W<ie;){var te=2*(W+1)-1,ee=M[te],pe=te+1,ye=M[pe];if(0>i(ee,z))pe<G&&0>i(ye,ee)?(M[W]=ye,M[pe]=z,W=pe):(M[W]=ee,M[te]=z,W=te);else if(pe<G&&0>i(ye,z))M[W]=ye,M[pe]=z,W=pe;else break e}}return R}function i(M,R){var z=M.sortIndex-R.sortIndex;return z!==0?z:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=M)r(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(u)}}function x(M){if(w=!1,_(M),!y)if(n(c)!==null)y=!0,P(A);else{var R=n(u);R!==null&&L(x,R.startTime-M)}}function A(M,R){y=!1,w&&(w=!1,E(N),N=-1),m=!0;var z=p;try{for(_(R),f=n(c);f!==null&&(!(f.expirationTime>R)||M&&!K());){var W=f.callback;if(typeof W=="function"){f.callback=null,p=f.priorityLevel;var G=W(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),_(R)}else r(c);f=n(c)}if(f!==null)var ie=!0;else{var te=n(u);te!==null&&L(x,te.startTime-R),ie=!1}return ie}finally{f=null,p=z,m=!1}}var T=!1,O=null,N=-1,D=5,F=-1;function K(){return!(t.unstable_now()-F<D)}function B(){if(O!==null){var M=t.unstable_now();F=M;var R=!0;try{R=O(!0,M)}finally{R?j():(T=!1,O=null)}}else T=!1}var j;if(typeof k=="function")j=function(){k(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,I=Y.port2;Y.port1.onmessage=B,j=function(){I.postMessage(null)}}else j=function(){v(B,0)};function P(M){O=M,T||(T=!0,j())}function L(M,R){N=v(function(){M(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,P(A))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var z=p;p=R;try{return M()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=p;p=M;try{return R()}finally{p=z}},t.unstable_scheduleCallback=function(M,R,z){var W=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,M={id:d++,callback:R,priorityLevel:M,startTime:z,expirationTime:G,sortIndex:-1},z>W?(M.sortIndex=z,e(u,M),n(c)===null&&M===n(u)&&(w?(E(N),N=-1):w=!0,L(x,z-W))):(M.sortIndex=G,e(c,M),y||m||(y=!0,P(A))),M},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(M){var R=p;return function(){var z=p;p=R;try{return M.apply(this,arguments)}finally{p=z}}}})(Bx)),Bx}var W8;function hJ(){return W8||(W8=1,Lx.exports=dJ()),Lx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V8;function fJ(){if(V8)return Zi;V8=1;var t=Ey(),e=hJ();function n(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,h){o(l,h),o(l+"Capture",h)}function o(l,h){for(i[l]=h,l=0;l<h.length;l++)r.add(h[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(l){return c.call(f,l)?!0:c.call(d,l)?!1:u.test(l)?f[l]=!0:(d[l]=!0,!1)}function m(l,h,g,b){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function y(l,h,g,b){if(h===null||typeof h>"u"||m(l,h,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function w(l,h,g,b,S,C,V){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=b,this.attributeNamespace=S,this.mustUseProperty=g,this.propertyName=l,this.type=h,this.sanitizeURL=C,this.removeEmptyString=V}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){v[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];v[h]=new w(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){v[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){v[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){v[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){v[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){v[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){v[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){v[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function k(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(E,k);v[h]=new w(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(E,k);v[h]=new w(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(E,k);v[h]=new w(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){v[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),v.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){v[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function _(l,h,g,b){var S=v.hasOwnProperty(h)?v[h]:null;(S!==null?S.type!==0:b||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,g,S,b)&&(g=null),b||S===null?p(h)&&(g===null?l.removeAttribute(h):l.setAttribute(h,""+g)):S.mustUseProperty?l[S.propertyName]=g===null?S.type===3?!1:"":g:(h=S.attributeName,b=S.attributeNamespace,g===null?l.removeAttribute(h):(S=S.type,g=S===3||S===4&&g===!0?"":""+g,b?l.setAttributeNS(b,h,g):l.setAttribute(h,g))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),M=Symbol.iterator;function R(l){return l===null||typeof l!="object"?null:(l=M&&l[M]||l["@@iterator"],typeof l=="function"?l:null)}var z=Object.assign,W;function G(l){if(W===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);W=h&&h[1]||""}return`
`+W+l}var ie=!1;function te(l,h){if(!l||ie)return"";ie=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(me){var b=me}Reflect.construct(l,[],h)}else{try{h.call()}catch(me){b=me}l.call(h.prototype)}else{try{throw Error()}catch(me){b=me}l()}}catch(me){if(me&&b&&typeof me.stack=="string"){for(var S=me.stack.split(`
`),C=b.stack.split(`
`),V=S.length-1,J=C.length-1;1<=V&&0<=J&&S[V]!==C[J];)J--;for(;1<=V&&0<=J;V--,J--)if(S[V]!==C[J]){if(V!==1||J!==1)do if(V--,J--,0>J||S[V]!==C[J]){var se=`
`+S[V].replace(" at new "," at ");return l.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",l.displayName)),se}while(1<=V&&0<=J);break}}}finally{ie=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?G(l):""}function ee(l){switch(l.tag){case 5:return G(l.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return l=te(l.type,!1),l;case 11:return l=te(l.type.render,!1),l;case 1:return l=te(l.type,!0),l;default:return""}}function pe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case T:return"Portal";case D:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case K:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case B:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case I:return h=l.displayName||null,h!==null?h:pe(l.type)||"Memo";case P:h=l._payload,l=l._init;try{return pe(l(h))}catch{}}return null}function ye(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(h);case 8:return h===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function xe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function we(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Oe(l){var h=we(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),b=""+l[h];if(!l.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,C=g.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return S.call(this)},set:function(V){b=""+V,C.call(this,V)}}),Object.defineProperty(l,h,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(V){b=""+V},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function Xe(l){l._valueTracker||(l._valueTracker=Oe(l))}function ot(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var g=h.getValue(),b="";return l&&(b=we(l)?l.checked?"true":"false":l.value),l=b,l!==g?(h.setValue(l),!0):!1}function fe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function St(l,h){var g=h.checked;return z({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function Nt(l,h){var g=h.defaultValue==null?"":h.defaultValue,b=h.checked!=null?h.checked:h.defaultChecked;g=xe(h.value!=null?h.value:g),l._wrapperState={initialChecked:b,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function lt(l,h){h=h.checked,h!=null&&_(l,"checked",h,!1)}function er(l,h){lt(l,h);var g=xe(h.value),b=h.type;if(g!=null)b==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?Le(l,h.type,g):h.hasOwnProperty("defaultValue")&&Le(l,h.type,xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function Ut(l,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var b=h.type;if(!(b!=="submit"&&b!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,g||h===l.value||(l.value=h),l.defaultValue=h}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function Le(l,h,g){(h!=="number"||fe(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var Be=Array.isArray;function Kn(l,h,g,b){if(l=l.options,h){h={};for(var S=0;S<g.length;S++)h["$"+g[S]]=!0;for(g=0;g<l.length;g++)S=h.hasOwnProperty("$"+l[g].value),l[g].selected!==S&&(l[g].selected=S),S&&b&&(l[g].defaultSelected=!0)}else{for(g=""+xe(g),h=null,S=0;S<l.length;S++){if(l[S].value===g){l[S].selected=!0,b&&(l[S].defaultSelected=!0);return}h!==null||l[S].disabled||(h=l[S])}h!==null&&(h.selected=!0)}}function tr(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ft(l,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(Be(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}l._wrapperState={initialValue:xe(g)}}function Sr(l,h){var g=xe(h.value),b=xe(h.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),h.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),b!=null&&(l.defaultValue=""+b)}function Pi(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function mi(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lr(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?mi(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var nn,Gn=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,b,S){MSApp.execUnsafeLocalFunction(function(){return l(h,g,b,S)})}:l})(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(nn=nn||document.createElement("div"),nn.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=nn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function Fn(l,h){if(h){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=h;return}}l.textContent=h}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(l){rt.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),wt[h]=wt[l]})});function pt(l,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||wt.hasOwnProperty(l)&&wt[l]?(""+h).trim():h+"px"}function $t(l,h){l=l.style;for(var g in h)if(h.hasOwnProperty(g)){var b=g.indexOf("--")===0,S=pt(g,h[g],b);g==="float"&&(g="cssFloat"),b?l.setProperty(g,S):l[g]=S}}var Yn=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sn(l,h){if(h){if(Yn[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function At(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function jn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ar=null,Tr=null,Oi=null;function Tt(l){if(l=qp(l)){if(typeof Ar!="function")throw Error(n(280));var h=l.stateNode;h&&(h=W0(h),Ar(l.stateNode,l.type,h))}}function bo(l){Tr?Oi?Oi.push(l):Oi=[l]:Tr=l}function ea(){if(Tr){var l=Tr,h=Oi;if(Oi=Tr=null,Tt(l),h)for(l=0;l<h.length;l++)Tt(h[l])}}function ta(l,h){return l(h)}function vo(){}var _o=!1;function Eo(l,h,g){if(_o)return l(h,g);_o=!0;try{return ta(l,h,g)}finally{_o=!1,(Tr!==null||Oi!==null)&&(vo(),ea())}}function $(l,h){var g=l.stateNode;if(g===null)return null;var b=W0(g);if(b===null)return null;g=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var q=!1;if(a)try{var X={};Object.defineProperty(X,"passive",{get:function(){q=!0}}),window.addEventListener("test",X,X),window.removeEventListener("test",X,X)}catch{q=!1}function Q(l,h,g,b,S,C,V,J,se){var me=Array.prototype.slice.call(arguments,3);try{h.apply(g,me)}catch(Ie){this.onError(Ie)}}var ne=!1,ce=null,ve=!1,_e=null,Qe={onError:function(l){ne=!0,ce=l}};function ut(l,h,g,b,S,C,V,J,se){ne=!1,ce=null,Q.apply(Qe,arguments)}function Ot(l,h,g,b,S,C,V,J,se){if(ut.apply(this,arguments),ne){if(ne){var me=ce;ne=!1,ce=null}else throw Error(n(198));ve||(ve=!0,_e=me)}}function dt(l){var h=l,g=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,(h.flags&4098)!==0&&(g=h.return),l=h.return;while(l)}return h.tag===3?g:null}function Vt(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function Zt(l){if(dt(l)!==l)throw Error(n(188))}function et(l){var h=l.alternate;if(!h){if(h=dt(l),h===null)throw Error(n(188));return h!==l?null:l}for(var g=l,b=h;;){var S=g.return;if(S===null)break;var C=S.alternate;if(C===null){if(b=S.return,b!==null){g=b;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===g)return Zt(S),l;if(C===b)return Zt(S),h;C=C.sibling}throw Error(n(188))}if(g.return!==b.return)g=S,b=C;else{for(var V=!1,J=S.child;J;){if(J===g){V=!0,g=S,b=C;break}if(J===b){V=!0,b=S,g=C;break}J=J.sibling}if(!V){for(J=C.child;J;){if(J===g){V=!0,g=C,b=S;break}if(J===b){V=!0,b=C,g=S;break}J=J.sibling}if(!V)throw Error(n(189))}}if(g.alternate!==b)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:h}function Jt(l){return l=et(l),l!==null?rn(l):null}function rn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=rn(l);if(h!==null)return h;l=l.sibling}return null}var zn=e.unstable_scheduleCallback,Wn=e.unstable_cancelCallback,An=e.unstable_shouldYield,nr=e.unstable_requestPaint,Ze=e.unstable_now,jt=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,Ht=e.unstable_NormalPriority,It=e.unstable_LowPriority,gn=e.unstable_IdlePriority,Ir=null,rr=null;function gs(l){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Ir,l,void 0,(l.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:rE,Tp=Math.log,nE=Math.LN2;function rE(l){return l>>>=0,l===0?32:31-(Tp(l)/nE|0)|0}var rh=64,ih=4194304;function gu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function sh(l,h){var g=l.pendingLanes;if(g===0)return 0;var b=0,S=l.suspendedLanes,C=l.pingedLanes,V=g&268435455;if(V!==0){var J=V&~S;J!==0?b=gu(J):(C&=V,C!==0&&(b=gu(C)))}else V=g&~S,V!==0?b=gu(V):C!==0&&(b=gu(C));if(b===0)return 0;if(h!==0&&h!==b&&(h&S)===0&&(S=b&-b,C=h&-h,S>=C||S===16&&(C&4194240)!==0))return h;if((b&4)!==0&&(b|=g&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=b;0<h;)g=31-Ri(h),S=1<<g,b|=l[g],h&=~S;return b}function iE(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sE(l,h){for(var g=l.suspendedLanes,b=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes;0<C;){var V=31-Ri(C),J=1<<V,se=S[V];se===-1?((J&g)===0||(J&b)!==0)&&(S[V]=iE(J,h)):se<=h&&(l.expiredLanes|=J),C&=~J}}function Ip(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function x0(){var l=rh;return rh<<=1,(rh&4194240)===0&&(rh=64),l}function kp(l){for(var h=[],g=0;31>g;g++)h.push(l);return h}function yu(l,h,g){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-Ri(h),l[h]=g}function oE(l,h){var g=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<g;){var S=31-Ri(g),C=1<<S;h[S]=0,b[S]=-1,l[S]=-1,g&=~C}}function Cp(l,h){var g=l.entangledLanes|=h;for(l=l.entanglements;g;){var b=31-Ri(g),S=1<<b;S&h|l[b]&h&&(l[b]|=h),g&=~S}}var sn=0;function S0(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var A0,Pp,T0,I0,k0,Op=!1,oh=[],na=null,ra=null,ia=null,wu=new Map,bu=new Map,sa=[],aE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(l,h){switch(l){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":wu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(h.pointerId)}}function vu(l,h,g,b,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:h,domEventName:g,eventSystemFlags:b,nativeEvent:C,targetContainers:[S]},h!==null&&(h=qp(h),h!==null&&Pp(h)),l):(l.eventSystemFlags|=b,h=l.targetContainers,S!==null&&h.indexOf(S)===-1&&h.push(S),l)}function P0(l,h,g,b,S){switch(h){case"focusin":return na=vu(na,l,h,g,b,S),!0;case"dragenter":return ra=vu(ra,l,h,g,b,S),!0;case"mouseover":return ia=vu(ia,l,h,g,b,S),!0;case"pointerover":var C=S.pointerId;return wu.set(C,vu(wu.get(C)||null,l,h,g,b,S)),!0;case"gotpointercapture":return C=S.pointerId,bu.set(C,vu(bu.get(C)||null,l,h,g,b,S)),!0}return!1}function O0(l){var h=_u(l.target);if(h!==null){var g=dt(h);if(g!==null){if(h=g.tag,h===13){if(h=Vt(g),h!==null){l.blockedOn=h,k0(l.priority,function(){T0(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function le(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var g=lh(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);je=b,g.target.dispatchEvent(b),je=null}else return h=qp(g),h!==null&&Pp(h),l.blockedOn=g,!1;h.shift()}return!0}function Z(l,h,g){le(l)&&g.delete(h)}function re(){Op=!1,na!==null&&le(na)&&(na=null),ra!==null&&le(ra)&&(ra=null),ia!==null&&le(ia)&&(ia=null),wu.forEach(Z),bu.forEach(Z)}function ge(l,h){l.blockedOn===h&&(l.blockedOn=null,Op||(Op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,re)))}function Ae(l){function h(S){return ge(S,l)}if(0<oh.length){ge(oh[0],l);for(var g=1;g<oh.length;g++){var b=oh[g];b.blockedOn===l&&(b.blockedOn=null)}}for(na!==null&&ge(na,l),ra!==null&&ge(ra,l),ia!==null&&ge(ia,l),wu.forEach(h),bu.forEach(h),g=0;g<sa.length;g++)b=sa[g],b.blockedOn===l&&(b.blockedOn=null);for(;0<sa.length&&(g=sa[0],g.blockedOn===null);)O0(g),g.blockedOn===null&&sa.shift()}var kt=x.ReactCurrentBatchConfig,Tn=!0;function gi(l,h,g,b){var S=sn,C=kt.transition;kt.transition=null;try{sn=1,Rp(l,h,g,b)}finally{sn=S,kt.transition=C}}function ah(l,h,g,b){var S=sn,C=kt.transition;kt.transition=null;try{sn=4,Rp(l,h,g,b)}finally{sn=S,kt.transition=C}}function Rp(l,h,g,b){if(Tn){var S=lh(l,h,g,b);if(S===null)xE(l,h,b,ch,g),C0(l,b);else if(P0(S,l,h,g,b))b.stopPropagation();else if(C0(l,b),h&4&&-1<aE.indexOf(l)){for(;S!==null;){var C=qp(S);if(C!==null&&A0(C),C=lh(l,h,g,b),C===null&&xE(l,h,b,ch,g),C===S)break;S=C}S!==null&&b.stopPropagation()}else xE(l,h,b,null,g)}}var ch=null;function lh(l,h,g,b){if(ch=null,l=jn(b),l=_u(l),l!==null)if(h=dt(l),h===null)l=null;else if(g=h.tag,g===13){if(l=Vt(h),l!==null)return l;l=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return ch=l,null}function Np(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jt()){case dr:return 1;case bt:return 4;case Ht:case It:return 16;case gn:return 536870912;default:return 16}default:return 16}}var xo=null,uh=null,R0=null;function S3(){if(R0)return R0;var l,h=uh,g=h.length,b,S="value"in xo?xo.value:xo.textContent,C=S.length;for(l=0;l<g&&h[l]===S[l];l++);var V=g-l;for(b=1;b<=V&&h[g-b]===S[C-b];b++);return R0=S.slice(l,1<b?1-b:void 0)}function N0(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function $0(){return!0}function A3(){return!1}function ys(l){function h(g,b,S,C,V){this._reactName=g,this._targetInst=S,this.type=b,this.nativeEvent=C,this.target=V,this.currentTarget=null;for(var J in l)l.hasOwnProperty(J)&&(g=l[J],this[J]=g?g(C):C[J]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?$0:A3,this.isPropagationStopped=A3,this}return z(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=$0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=$0)},persist:function(){},isPersistent:$0}),h}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cE=ys(dh),$p=z({},dh,{view:0,detail:0}),RY=ys($p),lE,uE,Dp,D0=z({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hE,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Dp&&(Dp&&l.type==="mousemove"?(lE=l.screenX-Dp.screenX,uE=l.screenY-Dp.screenY):uE=lE=0,Dp=l),lE)},movementY:function(l){return"movementY"in l?l.movementY:uE}}),T3=ys(D0),NY=z({},D0,{dataTransfer:0}),$Y=ys(NY),DY=z({},$p,{relatedTarget:0}),dE=ys(DY),MY=z({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),LY=ys(MY),BY=z({},dh,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),UY=ys(BY),FY=z({},dh,{data:0}),I3=ys(FY),jY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VY(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=WY[l])?!!h[l]:!1}function hE(){return VY}var qY=z({},$p,{key:function(l){if(l.key){var h=jY[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=N0(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?zY[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hE,charCode:function(l){return l.type==="keypress"?N0(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?N0(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),HY=ys(qY),KY=z({},D0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k3=ys(KY),GY=z({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hE}),YY=ys(GY),ZY=z({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),JY=ys(ZY),XY=z({},D0,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),QY=ys(XY),eZ=[9,13,27,32],fE=a&&"CompositionEvent"in window,Mp=null;a&&"documentMode"in document&&(Mp=document.documentMode);var tZ=a&&"TextEvent"in window&&!Mp,C3=a&&(!fE||Mp&&8<Mp&&11>=Mp),P3=" ",O3=!1;function R3(l,h){switch(l){case"keyup":return eZ.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N3(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var hh=!1;function nZ(l,h){switch(l){case"compositionend":return N3(h);case"keypress":return h.which!==32?null:(O3=!0,P3);case"textInput":return l=h.data,l===P3&&O3?null:l;default:return null}}function rZ(l,h){if(hh)return l==="compositionend"||!fE&&R3(l,h)?(l=S3(),R0=uh=xo=null,hh=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return C3&&h.locale!=="ko"?null:h.data;default:return null}}var iZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $3(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!iZ[l.type]:h==="textarea"}function D3(l,h,g,b){bo(b),h=F0(h,"onChange"),0<h.length&&(g=new cE("onChange","change",null,g,b),l.push({event:g,listeners:h}))}var Lp=null,Bp=null;function sZ(l){Q3(l,0)}function M0(l){var h=yh(l);if(ot(h))return l}function oZ(l,h){if(l==="change")return h}var M3=!1;if(a){var pE;if(a){var mE="oninput"in document;if(!mE){var L3=document.createElement("div");L3.setAttribute("oninput","return;"),mE=typeof L3.oninput=="function"}pE=mE}else pE=!1;M3=pE&&(!document.documentMode||9<document.documentMode)}function B3(){Lp&&(Lp.detachEvent("onpropertychange",U3),Bp=Lp=null)}function U3(l){if(l.propertyName==="value"&&M0(Bp)){var h=[];D3(h,Bp,l,jn(l)),Eo(sZ,h)}}function aZ(l,h,g){l==="focusin"?(B3(),Lp=h,Bp=g,Lp.attachEvent("onpropertychange",U3)):l==="focusout"&&B3()}function cZ(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return M0(Bp)}function lZ(l,h){if(l==="click")return M0(h)}function uZ(l,h){if(l==="input"||l==="change")return M0(h)}function dZ(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var So=typeof Object.is=="function"?Object.is:dZ;function Up(l,h){if(So(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var g=Object.keys(l),b=Object.keys(h);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var S=g[b];if(!c.call(h,S)||!So(l[S],h[S]))return!1}return!0}function F3(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function j3(l,h){var g=F3(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=h&&b>=h)return{node:g,offset:h-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=F3(g)}}function z3(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?z3(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function W3(){for(var l=window,h=fe();h instanceof l.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)l=h.contentWindow;else break;h=fe(l.document)}return h}function gE(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function hZ(l){var h=W3(),g=l.focusedElem,b=l.selectionRange;if(h!==g&&g&&g.ownerDocument&&z3(g.ownerDocument.documentElement,g)){if(b!==null&&gE(g)){if(h=b.start,l=b.end,l===void 0&&(l=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(l,g.value.length);else if(l=(h=g.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var S=g.textContent.length,C=Math.min(b.start,S);b=b.end===void 0?C:Math.min(b.end,S),!l.extend&&C>b&&(S=b,b=C,C=S),S=j3(g,C);var V=j3(g,b);S&&V&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==V.node||l.focusOffset!==V.offset)&&(h=h.createRange(),h.setStart(S.node,S.offset),l.removeAllRanges(),C>b?(l.addRange(h),l.extend(V.node,V.offset)):(h.setEnd(V.node,V.offset),l.addRange(h)))}}for(h=[],l=g;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)l=h[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var fZ=a&&"documentMode"in document&&11>=document.documentMode,fh=null,yE=null,Fp=null,wE=!1;function V3(l,h,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;wE||fh==null||fh!==fe(b)||(b=fh,"selectionStart"in b&&gE(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Fp&&Up(Fp,b)||(Fp=b,b=F0(yE,"onSelect"),0<b.length&&(h=new cE("onSelect","select",null,h,g),l.push({event:h,listeners:b}),h.target=fh)))}function L0(l,h){var g={};return g[l.toLowerCase()]=h.toLowerCase(),g["Webkit"+l]="webkit"+h,g["Moz"+l]="moz"+h,g}var ph={animationend:L0("Animation","AnimationEnd"),animationiteration:L0("Animation","AnimationIteration"),animationstart:L0("Animation","AnimationStart"),transitionend:L0("Transition","TransitionEnd")},bE={},q3={};a&&(q3=document.createElement("div").style,"AnimationEvent"in window||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),"TransitionEvent"in window||delete ph.transitionend.transition);function B0(l){if(bE[l])return bE[l];if(!ph[l])return l;var h=ph[l],g;for(g in h)if(h.hasOwnProperty(g)&&g in q3)return bE[l]=h[g];return l}var H3=B0("animationend"),K3=B0("animationiteration"),G3=B0("animationstart"),Y3=B0("transitionend"),Z3=new Map,J3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function el(l,h){Z3.set(l,h),s(h,[l])}for(var vE=0;vE<J3.length;vE++){var _E=J3[vE],pZ=_E.toLowerCase(),mZ=_E[0].toUpperCase()+_E.slice(1);el(pZ,"on"+mZ)}el(H3,"onAnimationEnd"),el(K3,"onAnimationIteration"),el(G3,"onAnimationStart"),el("dblclick","onDoubleClick"),el("focusin","onFocus"),el("focusout","onBlur"),el(Y3,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(jp));function X3(l,h,g){var b=l.type||"unknown-event";l.currentTarget=g,Ot(b,h,void 0,l),l.currentTarget=null}function Q3(l,h){h=(h&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],S=b.event;b=b.listeners;e:{var C=void 0;if(h)for(var V=b.length-1;0<=V;V--){var J=b[V],se=J.instance,me=J.currentTarget;if(J=J.listener,se!==C&&S.isPropagationStopped())break e;X3(S,J,me),C=se}else for(V=0;V<b.length;V++){if(J=b[V],se=J.instance,me=J.currentTarget,J=J.listener,se!==C&&S.isPropagationStopped())break e;X3(S,J,me),C=se}}}if(ve)throw l=_e,ve=!1,_e=null,l}function In(l,h){var g=h[CE];g===void 0&&(g=h[CE]=new Set);var b=l+"__bubble";g.has(b)||(eP(h,l,2,!1),g.add(b))}function EE(l,h,g){var b=0;h&&(b|=4),eP(g,l,b,h)}var U0="_reactListening"+Math.random().toString(36).slice(2);function zp(l){if(!l[U0]){l[U0]=!0,r.forEach(function(g){g!=="selectionchange"&&(gZ.has(g)||EE(g,!1,l),EE(g,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[U0]||(h[U0]=!0,EE("selectionchange",!1,h))}}function eP(l,h,g,b){switch(Np(h)){case 1:var S=gi;break;case 4:S=ah;break;default:S=Rp}g=S.bind(null,h,g,l),S=void 0,!q||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(S=!0),b?S!==void 0?l.addEventListener(h,g,{capture:!0,passive:S}):l.addEventListener(h,g,!0):S!==void 0?l.addEventListener(h,g,{passive:S}):l.addEventListener(h,g,!1)}function xE(l,h,g,b,S){var C=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var J=b.stateNode.containerInfo;if(J===S||J.nodeType===8&&J.parentNode===S)break;if(V===4)for(V=b.return;V!==null;){var se=V.tag;if((se===3||se===4)&&(se=V.stateNode.containerInfo,se===S||se.nodeType===8&&se.parentNode===S))return;V=V.return}for(;J!==null;){if(V=_u(J),V===null)return;if(se=V.tag,se===5||se===6){b=C=V;continue e}J=J.parentNode}}b=b.return}Eo(function(){var me=C,Ie=jn(g),Ce=[];e:{var Te=Z3.get(l);if(Te!==void 0){var We=cE,Je=l;switch(l){case"keypress":if(N0(g)===0)break e;case"keydown":case"keyup":We=HY;break;case"focusin":Je="focus",We=dE;break;case"focusout":Je="blur",We=dE;break;case"beforeblur":case"afterblur":We=dE;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=T3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=$Y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=YY;break;case H3:case K3:case G3:We=LY;break;case Y3:We=JY;break;case"scroll":We=RY;break;case"wheel":We=QY;break;case"copy":case"cut":case"paste":We=UY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=k3}var tt=(h&4)!==0,ir=!tt&&l==="scroll",ue=tt?Te!==null?Te+"Capture":null:Te;tt=[];for(var oe=me,de;oe!==null;){de=oe;var $e=de.stateNode;if(de.tag===5&&$e!==null&&(de=$e,ue!==null&&($e=$(oe,ue),$e!=null&&tt.push(Wp(oe,$e,de)))),ir)break;oe=oe.return}0<tt.length&&(Te=new We(Te,Je,null,g,Ie),Ce.push({event:Te,listeners:tt}))}}if((h&7)===0){e:{if(Te=l==="mouseover"||l==="pointerover",We=l==="mouseout"||l==="pointerout",Te&&g!==je&&(Je=g.relatedTarget||g.fromElement)&&(_u(Je)||Je[Za]))break e;if((We||Te)&&(Te=Ie.window===Ie?Ie:(Te=Ie.ownerDocument)?Te.defaultView||Te.parentWindow:window,We?(Je=g.relatedTarget||g.toElement,We=me,Je=Je?_u(Je):null,Je!==null&&(ir=dt(Je),Je!==ir||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(We=null,Je=me),We!==Je)){if(tt=T3,$e="onMouseLeave",ue="onMouseEnter",oe="mouse",(l==="pointerout"||l==="pointerover")&&(tt=k3,$e="onPointerLeave",ue="onPointerEnter",oe="pointer"),ir=We==null?Te:yh(We),de=Je==null?Te:yh(Je),Te=new tt($e,oe+"leave",We,g,Ie),Te.target=ir,Te.relatedTarget=de,$e=null,_u(Ie)===me&&(tt=new tt(ue,oe+"enter",Je,g,Ie),tt.target=de,tt.relatedTarget=ir,$e=tt),ir=$e,We&&Je)t:{for(tt=We,ue=Je,oe=0,de=tt;de;de=mh(de))oe++;for(de=0,$e=ue;$e;$e=mh($e))de++;for(;0<oe-de;)tt=mh(tt),oe--;for(;0<de-oe;)ue=mh(ue),de--;for(;oe--;){if(tt===ue||ue!==null&&tt===ue.alternate)break t;tt=mh(tt),ue=mh(ue)}tt=null}else tt=null;We!==null&&tP(Ce,Te,We,tt,!1),Je!==null&&ir!==null&&tP(Ce,ir,Je,tt,!0)}}e:{if(Te=me?yh(me):window,We=Te.nodeName&&Te.nodeName.toLowerCase(),We==="select"||We==="input"&&Te.type==="file")var it=oZ;else if($3(Te))if(M3)it=uZ;else{it=cZ;var mt=aZ}else(We=Te.nodeName)&&We.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(it=lZ);if(it&&(it=it(l,me))){D3(Ce,it,g,Ie);break e}mt&&mt(l,Te,me),l==="focusout"&&(mt=Te._wrapperState)&&mt.controlled&&Te.type==="number"&&Le(Te,"number",Te.value)}switch(mt=me?yh(me):window,l){case"focusin":($3(mt)||mt.contentEditable==="true")&&(fh=mt,yE=me,Fp=null);break;case"focusout":Fp=yE=fh=null;break;case"mousedown":wE=!0;break;case"contextmenu":case"mouseup":case"dragend":wE=!1,V3(Ce,g,Ie);break;case"selectionchange":if(fZ)break;case"keydown":case"keyup":V3(Ce,g,Ie)}var gt;if(fE)e:{switch(l){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else hh?R3(l,g)&&(_t="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(_t="onCompositionStart");_t&&(C3&&g.locale!=="ko"&&(hh||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&hh&&(gt=S3()):(xo=Ie,uh="value"in xo?xo.value:xo.textContent,hh=!0)),mt=F0(me,_t),0<mt.length&&(_t=new I3(_t,l,null,g,Ie),Ce.push({event:_t,listeners:mt}),gt?_t.data=gt:(gt=N3(g),gt!==null&&(_t.data=gt)))),(gt=tZ?nZ(l,g):rZ(l,g))&&(me=F0(me,"onBeforeInput"),0<me.length&&(Ie=new I3("onBeforeInput","beforeinput",null,g,Ie),Ce.push({event:Ie,listeners:me}),Ie.data=gt))}Q3(Ce,h)})}function Wp(l,h,g){return{instance:l,listener:h,currentTarget:g}}function F0(l,h){for(var g=h+"Capture",b=[];l!==null;){var S=l,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=$(l,g),C!=null&&b.unshift(Wp(l,C,S)),C=$(l,h),C!=null&&b.push(Wp(l,C,S))),l=l.return}return b}function mh(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function tP(l,h,g,b,S){for(var C=h._reactName,V=[];g!==null&&g!==b;){var J=g,se=J.alternate,me=J.stateNode;if(se!==null&&se===b)break;J.tag===5&&me!==null&&(J=me,S?(se=$(g,C),se!=null&&V.unshift(Wp(g,se,J))):S||(se=$(g,C),se!=null&&V.push(Wp(g,se,J)))),g=g.return}V.length!==0&&l.push({event:h,listeners:V})}var yZ=/\r\n?/g,wZ=/\u0000|\uFFFD/g;function nP(l){return(typeof l=="string"?l:""+l).replace(yZ,`
`).replace(wZ,"")}function j0(l,h,g){if(h=nP(h),nP(l)!==h&&g)throw Error(n(425))}function z0(){}var SE=null,AE=null;function TE(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var IE=typeof setTimeout=="function"?setTimeout:void 0,bZ=typeof clearTimeout=="function"?clearTimeout:void 0,rP=typeof Promise=="function"?Promise:void 0,vZ=typeof queueMicrotask=="function"?queueMicrotask:typeof rP<"u"?function(l){return rP.resolve(null).then(l).catch(_Z)}:IE;function _Z(l){setTimeout(function(){throw l})}function kE(l,h){var g=h,b=0;do{var S=g.nextSibling;if(l.removeChild(g),S&&S.nodeType===8)if(g=S.data,g==="/$"){if(b===0){l.removeChild(S),Ae(h);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=S}while(g);Ae(h)}function tl(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function iP(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return l;h--}else g==="/$"&&h++}l=l.previousSibling}return null}var gh=Math.random().toString(36).slice(2),oa="__reactFiber$"+gh,Vp="__reactProps$"+gh,Za="__reactContainer$"+gh,CE="__reactEvents$"+gh,EZ="__reactListeners$"+gh,xZ="__reactHandles$"+gh;function _u(l){var h=l[oa];if(h)return h;for(var g=l.parentNode;g;){if(h=g[Za]||g[oa]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(l=iP(l);l!==null;){if(g=l[oa])return g;l=iP(l)}return h}l=g,g=l.parentNode}return null}function qp(l){return l=l[oa]||l[Za],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function yh(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function W0(l){return l[Vp]||null}var PE=[],wh=-1;function nl(l){return{current:l}}function kn(l){0>wh||(l.current=PE[wh],PE[wh]=null,wh--)}function yn(l,h){wh++,PE[wh]=l.current,l.current=h}var rl={},yi=nl(rl),qi=nl(!1),Eu=rl;function bh(l,h){var g=l.type.contextTypes;if(!g)return rl;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===h)return b.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in g)S[C]=h[C];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=S),S}function Hi(l){return l=l.childContextTypes,l!=null}function V0(){kn(qi),kn(yi)}function sP(l,h,g){if(yi.current!==rl)throw Error(n(168));yn(yi,h),yn(qi,g)}function oP(l,h,g){var b=l.stateNode;if(h=h.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var S in b)if(!(S in h))throw Error(n(108,ye(l)||"Unknown",S));return z({},g,b)}function q0(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||rl,Eu=yi.current,yn(yi,l),yn(qi,qi.current),!0}function aP(l,h,g){var b=l.stateNode;if(!b)throw Error(n(169));g?(l=oP(l,h,Eu),b.__reactInternalMemoizedMergedChildContext=l,kn(qi),kn(yi),yn(yi,l)):kn(qi),yn(qi,g)}var Ja=null,H0=!1,OE=!1;function cP(l){Ja===null?Ja=[l]:Ja.push(l)}function SZ(l){H0=!0,cP(l)}function il(){if(!OE&&Ja!==null){OE=!0;var l=0,h=sn;try{var g=Ja;for(sn=1;l<g.length;l++){var b=g[l];do b=b(!0);while(b!==null)}Ja=null,H0=!1}catch(S){throw Ja!==null&&(Ja=Ja.slice(l+1)),zn(dr,il),S}finally{sn=h,OE=!1}}return null}var vh=[],_h=0,K0=null,G0=0,Fs=[],js=0,xu=null,Xa=1,Qa="";function Su(l,h){vh[_h++]=G0,vh[_h++]=K0,K0=l,G0=h}function lP(l,h,g){Fs[js++]=Xa,Fs[js++]=Qa,Fs[js++]=xu,xu=l;var b=Xa;l=Qa;var S=32-Ri(b)-1;b&=~(1<<S),g+=1;var C=32-Ri(h)+S;if(30<C){var V=S-S%5;C=(b&(1<<V)-1).toString(32),b>>=V,S-=V,Xa=1<<32-Ri(h)+S|g<<S|b,Qa=C+l}else Xa=1<<C|g<<S|b,Qa=l}function RE(l){l.return!==null&&(Su(l,1),lP(l,1,0))}function NE(l){for(;l===K0;)K0=vh[--_h],vh[_h]=null,G0=vh[--_h],vh[_h]=null;for(;l===xu;)xu=Fs[--js],Fs[js]=null,Qa=Fs[--js],Fs[js]=null,Xa=Fs[--js],Fs[js]=null}var ws=null,bs=null,Dn=!1,Ao=null;function uP(l,h){var g=qs(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=l,h=l.deletions,h===null?(l.deletions=[g],l.flags|=16):h.push(g)}function dP(l,h){switch(l.tag){case 5:var g=l.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,ws=l,bs=tl(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,ws=l,bs=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=xu!==null?{id:Xa,overflow:Qa}:null,l.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=qs(18,null,null,0),g.stateNode=h,g.return=l,l.child=g,ws=l,bs=null,!0):!1;default:return!1}}function $E(l){return(l.mode&1)!==0&&(l.flags&128)===0}function DE(l){if(Dn){var h=bs;if(h){var g=h;if(!dP(l,h)){if($E(l))throw Error(n(418));h=tl(g.nextSibling);var b=ws;h&&dP(l,h)?uP(b,g):(l.flags=l.flags&-4097|2,Dn=!1,ws=l)}}else{if($E(l))throw Error(n(418));l.flags=l.flags&-4097|2,Dn=!1,ws=l}}}function hP(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ws=l}function Y0(l){if(l!==ws)return!1;if(!Dn)return hP(l),Dn=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!TE(l.type,l.memoizedProps)),h&&(h=bs)){if($E(l))throw fP(),Error(n(418));for(;h;)uP(l,h),h=tl(h.nextSibling)}if(hP(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(h===0){bs=tl(l.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}l=l.nextSibling}bs=null}}else bs=ws?tl(l.stateNode.nextSibling):null;return!0}function fP(){for(var l=bs;l;)l=tl(l.nextSibling)}function Eh(){bs=ws=null,Dn=!1}function ME(l){Ao===null?Ao=[l]:Ao.push(l)}var AZ=x.ReactCurrentBatchConfig;function Hp(l,h,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var b=g.stateNode}if(!b)throw Error(n(147,l));var S=b,C=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===C?h.ref:(h=function(V){var J=S.refs;V===null?delete J[C]:J[C]=V},h._stringRef=C,h)}if(typeof l!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,l))}return l}function Z0(l,h){throw l=Object.prototype.toString.call(h),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function pP(l){var h=l._init;return h(l._payload)}function mP(l){function h(ue,oe){if(l){var de=ue.deletions;de===null?(ue.deletions=[oe],ue.flags|=16):de.push(oe)}}function g(ue,oe){if(!l)return null;for(;oe!==null;)h(ue,oe),oe=oe.sibling;return null}function b(ue,oe){for(ue=new Map;oe!==null;)oe.key!==null?ue.set(oe.key,oe):ue.set(oe.index,oe),oe=oe.sibling;return ue}function S(ue,oe){return ue=hl(ue,oe),ue.index=0,ue.sibling=null,ue}function C(ue,oe,de){return ue.index=de,l?(de=ue.alternate,de!==null?(de=de.index,de<oe?(ue.flags|=2,oe):de):(ue.flags|=2,oe)):(ue.flags|=1048576,oe)}function V(ue){return l&&ue.alternate===null&&(ue.flags|=2),ue}function J(ue,oe,de,$e){return oe===null||oe.tag!==6?(oe=Ix(de,ue.mode,$e),oe.return=ue,oe):(oe=S(oe,de),oe.return=ue,oe)}function se(ue,oe,de,$e){var it=de.type;return it===O?Ie(ue,oe,de.props.children,$e,de.key):oe!==null&&(oe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===P&&pP(it)===oe.type)?($e=S(oe,de.props),$e.ref=Hp(ue,oe,de),$e.return=ue,$e):($e=vw(de.type,de.key,de.props,null,ue.mode,$e),$e.ref=Hp(ue,oe,de),$e.return=ue,$e)}function me(ue,oe,de,$e){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==de.containerInfo||oe.stateNode.implementation!==de.implementation?(oe=kx(de,ue.mode,$e),oe.return=ue,oe):(oe=S(oe,de.children||[]),oe.return=ue,oe)}function Ie(ue,oe,de,$e,it){return oe===null||oe.tag!==7?(oe=Ru(de,ue.mode,$e,it),oe.return=ue,oe):(oe=S(oe,de),oe.return=ue,oe)}function Ce(ue,oe,de){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Ix(""+oe,ue.mode,de),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return de=vw(oe.type,oe.key,oe.props,null,ue.mode,de),de.ref=Hp(ue,null,oe),de.return=ue,de;case T:return oe=kx(oe,ue.mode,de),oe.return=ue,oe;case P:var $e=oe._init;return Ce(ue,$e(oe._payload),de)}if(Be(oe)||R(oe))return oe=Ru(oe,ue.mode,de,null),oe.return=ue,oe;Z0(ue,oe)}return null}function Te(ue,oe,de,$e){var it=oe!==null?oe.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return it!==null?null:J(ue,oe,""+de,$e);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case A:return de.key===it?se(ue,oe,de,$e):null;case T:return de.key===it?me(ue,oe,de,$e):null;case P:return it=de._init,Te(ue,oe,it(de._payload),$e)}if(Be(de)||R(de))return it!==null?null:Ie(ue,oe,de,$e,null);Z0(ue,de)}return null}function We(ue,oe,de,$e,it){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ue=ue.get(de)||null,J(oe,ue,""+$e,it);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case A:return ue=ue.get($e.key===null?de:$e.key)||null,se(oe,ue,$e,it);case T:return ue=ue.get($e.key===null?de:$e.key)||null,me(oe,ue,$e,it);case P:var mt=$e._init;return We(ue,oe,de,mt($e._payload),it)}if(Be($e)||R($e))return ue=ue.get(de)||null,Ie(oe,ue,$e,it,null);Z0(oe,$e)}return null}function Je(ue,oe,de,$e){for(var it=null,mt=null,gt=oe,_t=oe=0,Fr=null;gt!==null&&_t<de.length;_t++){gt.index>_t?(Fr=gt,gt=null):Fr=gt.sibling;var Xt=Te(ue,gt,de[_t],$e);if(Xt===null){gt===null&&(gt=Fr);break}l&&gt&&Xt.alternate===null&&h(ue,gt),oe=C(Xt,oe,_t),mt===null?it=Xt:mt.sibling=Xt,mt=Xt,gt=Fr}if(_t===de.length)return g(ue,gt),Dn&&Su(ue,_t),it;if(gt===null){for(;_t<de.length;_t++)gt=Ce(ue,de[_t],$e),gt!==null&&(oe=C(gt,oe,_t),mt===null?it=gt:mt.sibling=gt,mt=gt);return Dn&&Su(ue,_t),it}for(gt=b(ue,gt);_t<de.length;_t++)Fr=We(gt,ue,_t,de[_t],$e),Fr!==null&&(l&&Fr.alternate!==null&&gt.delete(Fr.key===null?_t:Fr.key),oe=C(Fr,oe,_t),mt===null?it=Fr:mt.sibling=Fr,mt=Fr);return l&&gt.forEach(function(fl){return h(ue,fl)}),Dn&&Su(ue,_t),it}function tt(ue,oe,de,$e){var it=R(de);if(typeof it!="function")throw Error(n(150));if(de=it.call(de),de==null)throw Error(n(151));for(var mt=it=null,gt=oe,_t=oe=0,Fr=null,Xt=de.next();gt!==null&&!Xt.done;_t++,Xt=de.next()){gt.index>_t?(Fr=gt,gt=null):Fr=gt.sibling;var fl=Te(ue,gt,Xt.value,$e);if(fl===null){gt===null&&(gt=Fr);break}l&&gt&&fl.alternate===null&&h(ue,gt),oe=C(fl,oe,_t),mt===null?it=fl:mt.sibling=fl,mt=fl,gt=Fr}if(Xt.done)return g(ue,gt),Dn&&Su(ue,_t),it;if(gt===null){for(;!Xt.done;_t++,Xt=de.next())Xt=Ce(ue,Xt.value,$e),Xt!==null&&(oe=C(Xt,oe,_t),mt===null?it=Xt:mt.sibling=Xt,mt=Xt);return Dn&&Su(ue,_t),it}for(gt=b(ue,gt);!Xt.done;_t++,Xt=de.next())Xt=We(gt,ue,_t,Xt.value,$e),Xt!==null&&(l&&Xt.alternate!==null&&gt.delete(Xt.key===null?_t:Xt.key),oe=C(Xt,oe,_t),mt===null?it=Xt:mt.sibling=Xt,mt=Xt);return l&&gt.forEach(function(iJ){return h(ue,iJ)}),Dn&&Su(ue,_t),it}function ir(ue,oe,de,$e){if(typeof de=="object"&&de!==null&&de.type===O&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case A:e:{for(var it=de.key,mt=oe;mt!==null;){if(mt.key===it){if(it=de.type,it===O){if(mt.tag===7){g(ue,mt.sibling),oe=S(mt,de.props.children),oe.return=ue,ue=oe;break e}}else if(mt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===P&&pP(it)===mt.type){g(ue,mt.sibling),oe=S(mt,de.props),oe.ref=Hp(ue,mt,de),oe.return=ue,ue=oe;break e}g(ue,mt);break}else h(ue,mt);mt=mt.sibling}de.type===O?(oe=Ru(de.props.children,ue.mode,$e,de.key),oe.return=ue,ue=oe):($e=vw(de.type,de.key,de.props,null,ue.mode,$e),$e.ref=Hp(ue,oe,de),$e.return=ue,ue=$e)}return V(ue);case T:e:{for(mt=de.key;oe!==null;){if(oe.key===mt)if(oe.tag===4&&oe.stateNode.containerInfo===de.containerInfo&&oe.stateNode.implementation===de.implementation){g(ue,oe.sibling),oe=S(oe,de.children||[]),oe.return=ue,ue=oe;break e}else{g(ue,oe);break}else h(ue,oe);oe=oe.sibling}oe=kx(de,ue.mode,$e),oe.return=ue,ue=oe}return V(ue);case P:return mt=de._init,ir(ue,oe,mt(de._payload),$e)}if(Be(de))return Je(ue,oe,de,$e);if(R(de))return tt(ue,oe,de,$e);Z0(ue,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,oe!==null&&oe.tag===6?(g(ue,oe.sibling),oe=S(oe,de),oe.return=ue,ue=oe):(g(ue,oe),oe=Ix(de,ue.mode,$e),oe.return=ue,ue=oe),V(ue)):g(ue,oe)}return ir}var xh=mP(!0),gP=mP(!1),J0=nl(null),X0=null,Sh=null,LE=null;function BE(){LE=Sh=X0=null}function UE(l){var h=J0.current;kn(J0),l._currentValue=h}function FE(l,h,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),l===g)break;l=l.return}}function Ah(l,h){X0=l,LE=Sh=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&h)!==0&&(Ki=!0),l.firstContext=null)}function zs(l){var h=l._currentValue;if(LE!==l)if(l={context:l,memoizedValue:h,next:null},Sh===null){if(X0===null)throw Error(n(308));Sh=l,X0.dependencies={lanes:0,firstContext:l}}else Sh=Sh.next=l;return h}var Au=null;function jE(l){Au===null?Au=[l]:Au.push(l)}function yP(l,h,g,b){var S=h.interleaved;return S===null?(g.next=g,jE(h)):(g.next=S.next,S.next=g),h.interleaved=g,ec(l,b)}function ec(l,h){l.lanes|=h;var g=l.alternate;for(g!==null&&(g.lanes|=h),g=l,l=l.return;l!==null;)l.childLanes|=h,g=l.alternate,g!==null&&(g.childLanes|=h),g=l,l=l.return;return g.tag===3?g.stateNode:null}var sl=!1;function zE(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wP(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function tc(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function ol(l,h,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Kt&2)!==0){var S=b.pending;return S===null?h.next=h:(h.next=S.next,S.next=h),b.pending=h,ec(l,g)}return S=b.interleaved,S===null?(h.next=h,jE(b)):(h.next=S.next,S.next=h),b.interleaved=h,ec(l,g)}function Q0(l,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var b=h.lanes;b&=l.pendingLanes,g|=b,h.lanes=g,Cp(l,g)}}function bP(l,h){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var S=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var V={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};C===null?S=C=V:C=C.next=V,g=g.next}while(g!==null);C===null?S=C=h:C=C.next=h}else S=C=h;g={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:b.shared,effects:b.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=h:l.next=h,g.lastBaseUpdate=h}function ew(l,h,g,b){var S=l.updateQueue;sl=!1;var C=S.firstBaseUpdate,V=S.lastBaseUpdate,J=S.shared.pending;if(J!==null){S.shared.pending=null;var se=J,me=se.next;se.next=null,V===null?C=me:V.next=me,V=se;var Ie=l.alternate;Ie!==null&&(Ie=Ie.updateQueue,J=Ie.lastBaseUpdate,J!==V&&(J===null?Ie.firstBaseUpdate=me:J.next=me,Ie.lastBaseUpdate=se))}if(C!==null){var Ce=S.baseState;V=0,Ie=me=se=null,J=C;do{var Te=J.lane,We=J.eventTime;if((b&Te)===Te){Ie!==null&&(Ie=Ie.next={eventTime:We,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Je=l,tt=J;switch(Te=h,We=g,tt.tag){case 1:if(Je=tt.payload,typeof Je=="function"){Ce=Je.call(We,Ce,Te);break e}Ce=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=tt.payload,Te=typeof Je=="function"?Je.call(We,Ce,Te):Je,Te==null)break e;Ce=z({},Ce,Te);break e;case 2:sl=!0}}J.callback!==null&&J.lane!==0&&(l.flags|=64,Te=S.effects,Te===null?S.effects=[J]:Te.push(J))}else We={eventTime:We,lane:Te,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ie===null?(me=Ie=We,se=Ce):Ie=Ie.next=We,V|=Te;if(J=J.next,J===null){if(J=S.shared.pending,J===null)break;Te=J,J=Te.next,Te.next=null,S.lastBaseUpdate=Te,S.shared.pending=null}}while(!0);if(Ie===null&&(se=Ce),S.baseState=se,S.firstBaseUpdate=me,S.lastBaseUpdate=Ie,h=S.shared.interleaved,h!==null){S=h;do V|=S.lane,S=S.next;while(S!==h)}else C===null&&(S.shared.lanes=0);ku|=V,l.lanes=V,l.memoizedState=Ce}}function vP(l,h,g){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var b=l[h],S=b.callback;if(S!==null){if(b.callback=null,b=g,typeof S!="function")throw Error(n(191,S));S.call(b)}}}var Kp={},aa=nl(Kp),Gp=nl(Kp),Yp=nl(Kp);function Tu(l){if(l===Kp)throw Error(n(174));return l}function WE(l,h){switch(yn(Yp,h),yn(Gp,l),yn(aa,Kp),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Lr(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=Lr(h,l)}kn(aa),yn(aa,h)}function Th(){kn(aa),kn(Gp),kn(Yp)}function _P(l){Tu(Yp.current);var h=Tu(aa.current),g=Lr(h,l.type);h!==g&&(yn(Gp,l),yn(aa,g))}function VE(l){Gp.current===l&&(kn(aa),kn(Gp))}var Vn=nl(0);function tw(l){for(var h=l;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var qE=[];function HE(){for(var l=0;l<qE.length;l++)qE[l]._workInProgressVersionPrimary=null;qE.length=0}var nw=x.ReactCurrentDispatcher,KE=x.ReactCurrentBatchConfig,Iu=0,qn=null,kr=null,Br=null,rw=!1,Zp=!1,Jp=0,TZ=0;function wi(){throw Error(n(321))}function GE(l,h){if(h===null)return!1;for(var g=0;g<h.length&&g<l.length;g++)if(!So(l[g],h[g]))return!1;return!0}function YE(l,h,g,b,S,C){if(Iu=C,qn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,nw.current=l===null||l.memoizedState===null?PZ:OZ,l=g(b,S),Zp){C=0;do{if(Zp=!1,Jp=0,25<=C)throw Error(n(301));C+=1,Br=kr=null,h.updateQueue=null,nw.current=RZ,l=g(b,S)}while(Zp)}if(nw.current=ow,h=kr!==null&&kr.next!==null,Iu=0,Br=kr=qn=null,rw=!1,h)throw Error(n(300));return l}function ZE(){var l=Jp!==0;return Jp=0,l}function ca(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?qn.memoizedState=Br=l:Br=Br.next=l,Br}function Ws(){if(kr===null){var l=qn.alternate;l=l!==null?l.memoizedState:null}else l=kr.next;var h=Br===null?qn.memoizedState:Br.next;if(h!==null)Br=h,kr=l;else{if(l===null)throw Error(n(310));kr=l,l={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Br===null?qn.memoizedState=Br=l:Br=Br.next=l}return Br}function Xp(l,h){return typeof h=="function"?h(l):h}function JE(l){var h=Ws(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var b=kr,S=b.baseQueue,C=g.pending;if(C!==null){if(S!==null){var V=S.next;S.next=C.next,C.next=V}b.baseQueue=S=C,g.pending=null}if(S!==null){C=S.next,b=b.baseState;var J=V=null,se=null,me=C;do{var Ie=me.lane;if((Iu&Ie)===Ie)se!==null&&(se=se.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),b=me.hasEagerState?me.eagerState:l(b,me.action);else{var Ce={lane:Ie,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};se===null?(J=se=Ce,V=b):se=se.next=Ce,qn.lanes|=Ie,ku|=Ie}me=me.next}while(me!==null&&me!==C);se===null?V=b:se.next=J,So(b,h.memoizedState)||(Ki=!0),h.memoizedState=b,h.baseState=V,h.baseQueue=se,g.lastRenderedState=b}if(l=g.interleaved,l!==null){S=l;do C=S.lane,qn.lanes|=C,ku|=C,S=S.next;while(S!==l)}else S===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function XE(l){var h=Ws(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var b=g.dispatch,S=g.pending,C=h.memoizedState;if(S!==null){g.pending=null;var V=S=S.next;do C=l(C,V.action),V=V.next;while(V!==S);So(C,h.memoizedState)||(Ki=!0),h.memoizedState=C,h.baseQueue===null&&(h.baseState=C),g.lastRenderedState=C}return[C,b]}function EP(){}function xP(l,h){var g=qn,b=Ws(),S=h(),C=!So(b.memoizedState,S);if(C&&(b.memoizedState=S,Ki=!0),b=b.queue,QE(TP.bind(null,g,b,l),[l]),b.getSnapshot!==h||C||Br!==null&&Br.memoizedState.tag&1){if(g.flags|=2048,Qp(9,AP.bind(null,g,b,S,h),void 0,null),Ur===null)throw Error(n(349));(Iu&30)!==0||SP(g,h,S)}return S}function SP(l,h,g){l.flags|=16384,l={getSnapshot:h,value:g},h=qn.updateQueue,h===null?(h={lastEffect:null,stores:null},qn.updateQueue=h,h.stores=[l]):(g=h.stores,g===null?h.stores=[l]:g.push(l))}function AP(l,h,g,b){h.value=g,h.getSnapshot=b,IP(h)&&kP(l)}function TP(l,h,g){return g(function(){IP(h)&&kP(l)})}function IP(l){var h=l.getSnapshot;l=l.value;try{var g=h();return!So(l,g)}catch{return!0}}function kP(l){var h=ec(l,1);h!==null&&Co(h,l,1,-1)}function CP(l){var h=ca();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:l},h.queue=l,l=l.dispatch=CZ.bind(null,qn,l),[h.memoizedState,l]}function Qp(l,h,g,b){return l={tag:l,create:h,destroy:g,deps:b,next:null},h=qn.updateQueue,h===null?(h={lastEffect:null,stores:null},qn.updateQueue=h,h.lastEffect=l.next=l):(g=h.lastEffect,g===null?h.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,h.lastEffect=l)),l}function PP(){return Ws().memoizedState}function iw(l,h,g,b){var S=ca();qn.flags|=l,S.memoizedState=Qp(1|h,g,void 0,b===void 0?null:b)}function sw(l,h,g,b){var S=Ws();b=b===void 0?null:b;var C=void 0;if(kr!==null){var V=kr.memoizedState;if(C=V.destroy,b!==null&&GE(b,V.deps)){S.memoizedState=Qp(h,g,C,b);return}}qn.flags|=l,S.memoizedState=Qp(1|h,g,C,b)}function OP(l,h){return iw(8390656,8,l,h)}function QE(l,h){return sw(2048,8,l,h)}function RP(l,h){return sw(4,2,l,h)}function NP(l,h){return sw(4,4,l,h)}function $P(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function DP(l,h,g){return g=g!=null?g.concat([l]):null,sw(4,4,$P.bind(null,h,l),g)}function ex(){}function MP(l,h){var g=Ws();h=h===void 0?null:h;var b=g.memoizedState;return b!==null&&h!==null&&GE(h,b[1])?b[0]:(g.memoizedState=[l,h],l)}function LP(l,h){var g=Ws();h=h===void 0?null:h;var b=g.memoizedState;return b!==null&&h!==null&&GE(h,b[1])?b[0]:(l=l(),g.memoizedState=[l,h],l)}function BP(l,h,g){return(Iu&21)===0?(l.baseState&&(l.baseState=!1,Ki=!0),l.memoizedState=g):(So(g,h)||(g=x0(),qn.lanes|=g,ku|=g,l.baseState=!0),h)}function IZ(l,h){var g=sn;sn=g!==0&&4>g?g:4,l(!0);var b=KE.transition;KE.transition={};try{l(!1),h()}finally{sn=g,KE.transition=b}}function UP(){return Ws().memoizedState}function kZ(l,h,g){var b=ul(l);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},FP(l))jP(h,g);else if(g=yP(l,h,g,b),g!==null){var S=$i();Co(g,l,b,S),zP(g,h,b)}}function CZ(l,h,g){var b=ul(l),S={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(FP(l))jP(h,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer,C!==null))try{var V=h.lastRenderedState,J=C(V,g);if(S.hasEagerState=!0,S.eagerState=J,So(J,V)){var se=h.interleaved;se===null?(S.next=S,jE(h)):(S.next=se.next,se.next=S),h.interleaved=S;return}}catch{}finally{}g=yP(l,h,S,b),g!==null&&(S=$i(),Co(g,l,b,S),zP(g,h,b))}}function FP(l){var h=l.alternate;return l===qn||h!==null&&h===qn}function jP(l,h){Zp=rw=!0;var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}function zP(l,h,g){if((g&4194240)!==0){var b=h.lanes;b&=l.pendingLanes,g|=b,h.lanes=g,Cp(l,g)}}var ow={readContext:zs,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},PZ={readContext:zs,useCallback:function(l,h){return ca().memoizedState=[l,h===void 0?null:h],l},useContext:zs,useEffect:OP,useImperativeHandle:function(l,h,g){return g=g!=null?g.concat([l]):null,iw(4194308,4,$P.bind(null,h,l),g)},useLayoutEffect:function(l,h){return iw(4194308,4,l,h)},useInsertionEffect:function(l,h){return iw(4,2,l,h)},useMemo:function(l,h){var g=ca();return h=h===void 0?null:h,l=l(),g.memoizedState=[l,h],l},useReducer:function(l,h,g){var b=ca();return h=g!==void 0?g(h):h,b.memoizedState=b.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},b.queue=l,l=l.dispatch=kZ.bind(null,qn,l),[b.memoizedState,l]},useRef:function(l){var h=ca();return l={current:l},h.memoizedState=l},useState:CP,useDebugValue:ex,useDeferredValue:function(l){return ca().memoizedState=l},useTransition:function(){var l=CP(!1),h=l[0];return l=IZ.bind(null,l[1]),ca().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,g){var b=qn,S=ca();if(Dn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),Ur===null)throw Error(n(349));(Iu&30)!==0||SP(b,h,g)}S.memoizedState=g;var C={value:g,getSnapshot:h};return S.queue=C,OP(TP.bind(null,b,C,l),[l]),b.flags|=2048,Qp(9,AP.bind(null,b,C,g,h),void 0,null),g},useId:function(){var l=ca(),h=Ur.identifierPrefix;if(Dn){var g=Qa,b=Xa;g=(b&~(1<<32-Ri(b)-1)).toString(32)+g,h=":"+h+"R"+g,g=Jp++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=TZ++,h=":"+h+"r"+g.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},OZ={readContext:zs,useCallback:MP,useContext:zs,useEffect:QE,useImperativeHandle:DP,useInsertionEffect:RP,useLayoutEffect:NP,useMemo:LP,useReducer:JE,useRef:PP,useState:function(){return JE(Xp)},useDebugValue:ex,useDeferredValue:function(l){var h=Ws();return BP(h,kr.memoizedState,l)},useTransition:function(){var l=JE(Xp)[0],h=Ws().memoizedState;return[l,h]},useMutableSource:EP,useSyncExternalStore:xP,useId:UP,unstable_isNewReconciler:!1},RZ={readContext:zs,useCallback:MP,useContext:zs,useEffect:QE,useImperativeHandle:DP,useInsertionEffect:RP,useLayoutEffect:NP,useMemo:LP,useReducer:XE,useRef:PP,useState:function(){return XE(Xp)},useDebugValue:ex,useDeferredValue:function(l){var h=Ws();return kr===null?h.memoizedState=l:BP(h,kr.memoizedState,l)},useTransition:function(){var l=XE(Xp)[0],h=Ws().memoizedState;return[l,h]},useMutableSource:EP,useSyncExternalStore:xP,useId:UP,unstable_isNewReconciler:!1};function To(l,h){if(l&&l.defaultProps){h=z({},h),l=l.defaultProps;for(var g in l)h[g]===void 0&&(h[g]=l[g]);return h}return h}function tx(l,h,g,b){h=l.memoizedState,g=g(b,h),g=g==null?h:z({},h,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var aw={isMounted:function(l){return(l=l._reactInternals)?dt(l)===l:!1},enqueueSetState:function(l,h,g){l=l._reactInternals;var b=$i(),S=ul(l),C=tc(b,S);C.payload=h,g!=null&&(C.callback=g),h=ol(l,C,S),h!==null&&(Co(h,l,S,b),Q0(h,l,S))},enqueueReplaceState:function(l,h,g){l=l._reactInternals;var b=$i(),S=ul(l),C=tc(b,S);C.tag=1,C.payload=h,g!=null&&(C.callback=g),h=ol(l,C,S),h!==null&&(Co(h,l,S,b),Q0(h,l,S))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var g=$i(),b=ul(l),S=tc(g,b);S.tag=2,h!=null&&(S.callback=h),h=ol(l,S,b),h!==null&&(Co(h,l,b,g),Q0(h,l,b))}};function WP(l,h,g,b,S,C,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,C,V):h.prototype&&h.prototype.isPureReactComponent?!Up(g,b)||!Up(S,C):!0}function VP(l,h,g){var b=!1,S=rl,C=h.contextType;return typeof C=="object"&&C!==null?C=zs(C):(S=Hi(h)?Eu:yi.current,b=h.contextTypes,C=(b=b!=null)?bh(l,S):rl),h=new h(g,C),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=aw,l.stateNode=h,h._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=C),h}function qP(l,h,g,b){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,b),h.state!==l&&aw.enqueueReplaceState(h,h.state,null)}function nx(l,h,g,b){var S=l.stateNode;S.props=g,S.state=l.memoizedState,S.refs={},zE(l);var C=h.contextType;typeof C=="object"&&C!==null?S.context=zs(C):(C=Hi(h)?Eu:yi.current,S.context=bh(l,C)),S.state=l.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(tx(l,h,C,g),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(h=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),h!==S.state&&aw.enqueueReplaceState(S,S.state,null),ew(l,g,S,b),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function Ih(l,h){try{var g="",b=h;do g+=ee(b),b=b.return;while(b);var S=g}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:h,stack:S,digest:null}}function rx(l,h,g){return{value:l,source:null,stack:g??null,digest:h??null}}function ix(l,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var NZ=typeof WeakMap=="function"?WeakMap:Map;function HP(l,h,g){g=tc(-1,g),g.tag=3,g.payload={element:null};var b=h.value;return g.callback=function(){pw||(pw=!0,bx=b),ix(l,h)},g}function KP(l,h,g){g=tc(-1,g),g.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var S=h.value;g.payload=function(){return b(S)},g.callback=function(){ix(l,h)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(g.callback=function(){ix(l,h),typeof b!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})}),g}function GP(l,h,g){var b=l.pingCache;if(b===null){b=l.pingCache=new NZ;var S=new Set;b.set(h,S)}else S=b.get(h),S===void 0&&(S=new Set,b.set(h,S));S.has(g)||(S.add(g),l=KZ.bind(null,l,h,g),h.then(l,l))}function YP(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function ZP(l,h,g,b,S){return(l.mode&1)===0?(l===h?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=tc(-1,1),h.tag=2,ol(g,h,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var $Z=x.ReactCurrentOwner,Ki=!1;function Ni(l,h,g,b){h.child=l===null?gP(h,null,g,b):xh(h,l.child,g,b)}function JP(l,h,g,b,S){g=g.render;var C=h.ref;return Ah(h,S),b=YE(l,h,g,b,C,S),g=ZE(),l!==null&&!Ki?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~S,nc(l,h,S)):(Dn&&g&&RE(h),h.flags|=1,Ni(l,h,b,S),h.child)}function XP(l,h,g,b,S){if(l===null){var C=g.type;return typeof C=="function"&&!Tx(C)&&C.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=C,QP(l,h,C,b,S)):(l=vw(g.type,null,b,h,h.mode,S),l.ref=h.ref,l.return=h,h.child=l)}if(C=l.child,(l.lanes&S)===0){var V=C.memoizedProps;if(g=g.compare,g=g!==null?g:Up,g(V,b)&&l.ref===h.ref)return nc(l,h,S)}return h.flags|=1,l=hl(C,b),l.ref=h.ref,l.return=h,h.child=l}function QP(l,h,g,b,S){if(l!==null){var C=l.memoizedProps;if(Up(C,b)&&l.ref===h.ref)if(Ki=!1,h.pendingProps=b=C,(l.lanes&S)!==0)(l.flags&131072)!==0&&(Ki=!0);else return h.lanes=l.lanes,nc(l,h,S)}return sx(l,h,g,b,S)}function e8(l,h,g){var b=h.pendingProps,S=b.children,C=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Ch,vs),vs|=g;else{if((g&1073741824)===0)return l=C!==null?C.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,yn(Ch,vs),vs|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=C!==null?C.baseLanes:g,yn(Ch,vs),vs|=b}else C!==null?(b=C.baseLanes|g,h.memoizedState=null):b=g,yn(Ch,vs),vs|=b;return Ni(l,h,S,g),h.child}function t8(l,h){var g=h.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function sx(l,h,g,b,S){var C=Hi(g)?Eu:yi.current;return C=bh(h,C),Ah(h,S),g=YE(l,h,g,b,C,S),b=ZE(),l!==null&&!Ki?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~S,nc(l,h,S)):(Dn&&b&&RE(h),h.flags|=1,Ni(l,h,g,S),h.child)}function n8(l,h,g,b,S){if(Hi(g)){var C=!0;q0(h)}else C=!1;if(Ah(h,S),h.stateNode===null)lw(l,h),VP(h,g,b),nx(h,g,b,S),b=!0;else if(l===null){var V=h.stateNode,J=h.memoizedProps;V.props=J;var se=V.context,me=g.contextType;typeof me=="object"&&me!==null?me=zs(me):(me=Hi(g)?Eu:yi.current,me=bh(h,me));var Ie=g.getDerivedStateFromProps,Ce=typeof Ie=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ce||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==b||se!==me)&&qP(h,V,b,me),sl=!1;var Te=h.memoizedState;V.state=Te,ew(h,b,V,S),se=h.memoizedState,J!==b||Te!==se||qi.current||sl?(typeof Ie=="function"&&(tx(h,g,Ie,b),se=h.memoizedState),(J=sl||WP(h,g,J,b,Te,se,me))?(Ce||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(h.flags|=4194308)):(typeof V.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=se),V.props=b,V.state=se,V.context=me,b=J):(typeof V.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{V=h.stateNode,wP(l,h),J=h.memoizedProps,me=h.type===h.elementType?J:To(h.type,J),V.props=me,Ce=h.pendingProps,Te=V.context,se=g.contextType,typeof se=="object"&&se!==null?se=zs(se):(se=Hi(g)?Eu:yi.current,se=bh(h,se));var We=g.getDerivedStateFromProps;(Ie=typeof We=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==Ce||Te!==se)&&qP(h,V,b,se),sl=!1,Te=h.memoizedState,V.state=Te,ew(h,b,V,S);var Je=h.memoizedState;J!==Ce||Te!==Je||qi.current||sl?(typeof We=="function"&&(tx(h,g,We,b),Je=h.memoizedState),(me=sl||WP(h,g,me,b,Te,Je,se)||!1)?(Ie||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(b,Je,se),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(b,Je,se)),typeof V.componentDidUpdate=="function"&&(h.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof V.componentDidUpdate!="function"||J===l.memoizedProps&&Te===l.memoizedState||(h.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Te===l.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=Je),V.props=b,V.state=Je,V.context=se,b=me):(typeof V.componentDidUpdate!="function"||J===l.memoizedProps&&Te===l.memoizedState||(h.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Te===l.memoizedState||(h.flags|=1024),b=!1)}return ox(l,h,g,b,C,S)}function ox(l,h,g,b,S,C){t8(l,h);var V=(h.flags&128)!==0;if(!b&&!V)return S&&aP(h,g,!1),nc(l,h,C);b=h.stateNode,$Z.current=h;var J=V&&typeof g.getDerivedStateFromError!="function"?null:b.render();return h.flags|=1,l!==null&&V?(h.child=xh(h,l.child,null,C),h.child=xh(h,null,J,C)):Ni(l,h,J,C),h.memoizedState=b.state,S&&aP(h,g,!0),h.child}function r8(l){var h=l.stateNode;h.pendingContext?sP(l,h.pendingContext,h.pendingContext!==h.context):h.context&&sP(l,h.context,!1),WE(l,h.containerInfo)}function i8(l,h,g,b,S){return Eh(),ME(S),h.flags|=256,Ni(l,h,g,b),h.child}var ax={dehydrated:null,treeContext:null,retryLane:0};function cx(l){return{baseLanes:l,cachePool:null,transitions:null}}function s8(l,h,g){var b=h.pendingProps,S=Vn.current,C=!1,V=(h.flags&128)!==0,J;if((J=V)||(J=l!==null&&l.memoizedState===null?!1:(S&2)!==0),J?(C=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),yn(Vn,S&1),l===null)return DE(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((h.mode&1)===0?h.lanes=1:l.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(V=b.children,l=b.fallback,C?(b=h.mode,C=h.child,V={mode:"hidden",children:V},(b&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=V):C=_w(V,b,0,null),l=Ru(l,b,g,null),C.return=h,l.return=h,C.sibling=l,h.child=C,h.child.memoizedState=cx(g),h.memoizedState=ax,l):lx(h,V));if(S=l.memoizedState,S!==null&&(J=S.dehydrated,J!==null))return DZ(l,h,V,b,J,S,g);if(C){C=b.fallback,V=h.mode,S=l.child,J=S.sibling;var se={mode:"hidden",children:b.children};return(V&1)===0&&h.child!==S?(b=h.child,b.childLanes=0,b.pendingProps=se,h.deletions=null):(b=hl(S,se),b.subtreeFlags=S.subtreeFlags&14680064),J!==null?C=hl(J,C):(C=Ru(C,V,g,null),C.flags|=2),C.return=h,b.return=h,b.sibling=C,h.child=b,b=C,C=h.child,V=l.child.memoizedState,V=V===null?cx(g):{baseLanes:V.baseLanes|g,cachePool:null,transitions:V.transitions},C.memoizedState=V,C.childLanes=l.childLanes&~g,h.memoizedState=ax,b}return C=l.child,l=C.sibling,b=hl(C,{mode:"visible",children:b.children}),(h.mode&1)===0&&(b.lanes=g),b.return=h,b.sibling=null,l!==null&&(g=h.deletions,g===null?(h.deletions=[l],h.flags|=16):g.push(l)),h.child=b,h.memoizedState=null,b}function lx(l,h){return h=_w({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function cw(l,h,g,b){return b!==null&&ME(b),xh(h,l.child,null,g),l=lx(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function DZ(l,h,g,b,S,C,V){if(g)return h.flags&256?(h.flags&=-257,b=rx(Error(n(422))),cw(l,h,V,b)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(C=b.fallback,S=h.mode,b=_w({mode:"visible",children:b.children},S,0,null),C=Ru(C,S,V,null),C.flags|=2,b.return=h,C.return=h,b.sibling=C,h.child=b,(h.mode&1)!==0&&xh(h,l.child,null,V),h.child.memoizedState=cx(V),h.memoizedState=ax,C);if((h.mode&1)===0)return cw(l,h,V,null);if(S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var J=b.dgst;return b=J,C=Error(n(419)),b=rx(C,b,void 0),cw(l,h,V,b)}if(J=(V&l.childLanes)!==0,Ki||J){if(b=Ur,b!==null){switch(V&-V){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(b.suspendedLanes|V))!==0?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,ec(l,S),Co(b,l,S,-1))}return Ax(),b=rx(Error(n(421))),cw(l,h,V,b)}return S.data==="$?"?(h.flags|=128,h.child=l.child,h=GZ.bind(null,l),S._reactRetry=h,null):(l=C.treeContext,bs=tl(S.nextSibling),ws=h,Dn=!0,Ao=null,l!==null&&(Fs[js++]=Xa,Fs[js++]=Qa,Fs[js++]=xu,Xa=l.id,Qa=l.overflow,xu=h),h=lx(h,b.children),h.flags|=4096,h)}function o8(l,h,g){l.lanes|=h;var b=l.alternate;b!==null&&(b.lanes|=h),FE(l.return,h,g)}function ux(l,h,g,b,S){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:S}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=b,C.tail=g,C.tailMode=S)}function a8(l,h,g){var b=h.pendingProps,S=b.revealOrder,C=b.tail;if(Ni(l,h,b.children,g),b=Vn.current,(b&2)!==0)b=b&1|2,h.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&o8(l,g,h);else if(l.tag===19)o8(l,g,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(yn(Vn,b),(h.mode&1)===0)h.memoizedState=null;else switch(S){case"forwards":for(g=h.child,S=null;g!==null;)l=g.alternate,l!==null&&tw(l)===null&&(S=g),g=g.sibling;g=S,g===null?(S=h.child,h.child=null):(S=g.sibling,g.sibling=null),ux(h,!1,S,g,C);break;case"backwards":for(g=null,S=h.child,h.child=null;S!==null;){if(l=S.alternate,l!==null&&tw(l)===null){h.child=S;break}l=S.sibling,S.sibling=g,g=S,S=l}ux(h,!0,g,null,C);break;case"together":ux(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function lw(l,h){(h.mode&1)===0&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function nc(l,h,g){if(l!==null&&(h.dependencies=l.dependencies),ku|=h.lanes,(g&h.childLanes)===0)return null;if(l!==null&&h.child!==l.child)throw Error(n(153));if(h.child!==null){for(l=h.child,g=hl(l,l.pendingProps),h.child=g,g.return=h;l.sibling!==null;)l=l.sibling,g=g.sibling=hl(l,l.pendingProps),g.return=h;g.sibling=null}return h.child}function MZ(l,h,g){switch(h.tag){case 3:r8(h),Eh();break;case 5:_P(h);break;case 1:Hi(h.type)&&q0(h);break;case 4:WE(h,h.stateNode.containerInfo);break;case 10:var b=h.type._context,S=h.memoizedProps.value;yn(J0,b._currentValue),b._currentValue=S;break;case 13:if(b=h.memoizedState,b!==null)return b.dehydrated!==null?(yn(Vn,Vn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?s8(l,h,g):(yn(Vn,Vn.current&1),l=nc(l,h,g),l!==null?l.sibling:null);yn(Vn,Vn.current&1);break;case 19:if(b=(g&h.childLanes)!==0,(l.flags&128)!==0){if(b)return a8(l,h,g);h.flags|=128}if(S=h.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),yn(Vn,Vn.current),b)break;return null;case 22:case 23:return h.lanes=0,e8(l,h,g)}return nc(l,h,g)}var c8,dx,l8,u8;c8=function(l,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},dx=function(){},l8=function(l,h,g,b){var S=l.memoizedProps;if(S!==b){l=h.stateNode,Tu(aa.current);var C=null;switch(g){case"input":S=St(l,S),b=St(l,b),C=[];break;case"select":S=z({},S,{value:void 0}),b=z({},b,{value:void 0}),C=[];break;case"textarea":S=tr(l,S),b=tr(l,b),C=[];break;default:typeof S.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=z0)}Sn(g,b);var V;g=null;for(me in S)if(!b.hasOwnProperty(me)&&S.hasOwnProperty(me)&&S[me]!=null)if(me==="style"){var J=S[me];for(V in J)J.hasOwnProperty(V)&&(g||(g={}),g[V]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?C||(C=[]):(C=C||[]).push(me,null));for(me in b){var se=b[me];if(J=S!=null?S[me]:void 0,b.hasOwnProperty(me)&&se!==J&&(se!=null||J!=null))if(me==="style")if(J){for(V in J)!J.hasOwnProperty(V)||se&&se.hasOwnProperty(V)||(g||(g={}),g[V]="");for(V in se)se.hasOwnProperty(V)&&J[V]!==se[V]&&(g||(g={}),g[V]=se[V])}else g||(C||(C=[]),C.push(me,g)),g=se;else me==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,J=J?J.__html:void 0,se!=null&&J!==se&&(C=C||[]).push(me,se)):me==="children"?typeof se!="string"&&typeof se!="number"||(C=C||[]).push(me,""+se):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(se!=null&&me==="onScroll"&&In("scroll",l),C||J===se||(C=[])):(C=C||[]).push(me,se))}g&&(C=C||[]).push("style",g);var me=C;(h.updateQueue=me)&&(h.flags|=4)}},u8=function(l,h,g,b){g!==b&&(h.flags|=4)};function em(l,h){if(!Dn)switch(l.tailMode){case"hidden":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function bi(l){var h=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(h)for(var S=l.child;S!==null;)g|=S.lanes|S.childLanes,b|=S.subtreeFlags&14680064,b|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)g|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=b,l.childLanes=g,h}function LZ(l,h,g){var b=h.pendingProps;switch(NE(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(h),null;case 1:return Hi(h.type)&&V0(),bi(h),null;case 3:return b=h.stateNode,Th(),kn(qi),kn(yi),HE(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Y0(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ao!==null&&(Ex(Ao),Ao=null))),dx(l,h),bi(h),null;case 5:VE(h);var S=Tu(Yp.current);if(g=h.type,l!==null&&h.stateNode!=null)l8(l,h,g,b,S),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!b){if(h.stateNode===null)throw Error(n(166));return bi(h),null}if(l=Tu(aa.current),Y0(h)){b=h.stateNode,g=h.type;var C=h.memoizedProps;switch(b[oa]=h,b[Vp]=C,l=(h.mode&1)!==0,g){case"dialog":In("cancel",b),In("close",b);break;case"iframe":case"object":case"embed":In("load",b);break;case"video":case"audio":for(S=0;S<jp.length;S++)In(jp[S],b);break;case"source":In("error",b);break;case"img":case"image":case"link":In("error",b),In("load",b);break;case"details":In("toggle",b);break;case"input":Nt(b,C),In("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!C.multiple},In("invalid",b);break;case"textarea":ft(b,C),In("invalid",b)}Sn(g,C),S=null;for(var V in C)if(C.hasOwnProperty(V)){var J=C[V];V==="children"?typeof J=="string"?b.textContent!==J&&(C.suppressHydrationWarning!==!0&&j0(b.textContent,J,l),S=["children",J]):typeof J=="number"&&b.textContent!==""+J&&(C.suppressHydrationWarning!==!0&&j0(b.textContent,J,l),S=["children",""+J]):i.hasOwnProperty(V)&&J!=null&&V==="onScroll"&&In("scroll",b)}switch(g){case"input":Xe(b),Ut(b,C,!0);break;case"textarea":Xe(b),Pi(b);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(b.onclick=z0)}b=S,h.updateQueue=b,b!==null&&(h.flags|=4)}else{V=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=mi(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=V.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=V.createElement(g,{is:b.is}):(l=V.createElement(g),g==="select"&&(V=l,b.multiple?V.multiple=!0:b.size&&(V.size=b.size))):l=V.createElementNS(l,g),l[oa]=h,l[Vp]=b,c8(l,h,!1,!1),h.stateNode=l;e:{switch(V=At(g,b),g){case"dialog":In("cancel",l),In("close",l),S=b;break;case"iframe":case"object":case"embed":In("load",l),S=b;break;case"video":case"audio":for(S=0;S<jp.length;S++)In(jp[S],l);S=b;break;case"source":In("error",l),S=b;break;case"img":case"image":case"link":In("error",l),In("load",l),S=b;break;case"details":In("toggle",l),S=b;break;case"input":Nt(l,b),S=St(l,b),In("invalid",l);break;case"option":S=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},S=z({},b,{value:void 0}),In("invalid",l);break;case"textarea":ft(l,b),S=tr(l,b),In("invalid",l);break;default:S=b}Sn(g,S),J=S;for(C in J)if(J.hasOwnProperty(C)){var se=J[C];C==="style"?$t(l,se):C==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&Gn(l,se)):C==="children"?typeof se=="string"?(g!=="textarea"||se!=="")&&Fn(l,se):typeof se=="number"&&Fn(l,""+se):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?se!=null&&C==="onScroll"&&In("scroll",l):se!=null&&_(l,C,se,V))}switch(g){case"input":Xe(l),Ut(l,b,!1);break;case"textarea":Xe(l),Pi(l);break;case"option":b.value!=null&&l.setAttribute("value",""+xe(b.value));break;case"select":l.multiple=!!b.multiple,C=b.value,C!=null?Kn(l,!!b.multiple,C,!1):b.defaultValue!=null&&Kn(l,!!b.multiple,b.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=z0)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return bi(h),null;case 6:if(l&&h.stateNode!=null)u8(l,h,l.memoizedProps,b);else{if(typeof b!="string"&&h.stateNode===null)throw Error(n(166));if(g=Tu(Yp.current),Tu(aa.current),Y0(h)){if(b=h.stateNode,g=h.memoizedProps,b[oa]=h,(C=b.nodeValue!==g)&&(l=ws,l!==null))switch(l.tag){case 3:j0(b.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&j0(b.nodeValue,g,(l.mode&1)!==0)}C&&(h.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[oa]=h,h.stateNode=b}return bi(h),null;case 13:if(kn(Vn),b=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Dn&&bs!==null&&(h.mode&1)!==0&&(h.flags&128)===0)fP(),Eh(),h.flags|=98560,C=!1;else if(C=Y0(h),b!==null&&b.dehydrated!==null){if(l===null){if(!C)throw Error(n(318));if(C=h.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[oa]=h}else Eh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;bi(h),C=!1}else Ao!==null&&(Ex(Ao),Ao=null),C=!0;if(!C)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(h.child.flags|=8192,(h.mode&1)!==0&&(l===null||(Vn.current&1)!==0?Cr===0&&(Cr=3):Ax())),h.updateQueue!==null&&(h.flags|=4),bi(h),null);case 4:return Th(),dx(l,h),l===null&&zp(h.stateNode.containerInfo),bi(h),null;case 10:return UE(h.type._context),bi(h),null;case 17:return Hi(h.type)&&V0(),bi(h),null;case 19:if(kn(Vn),C=h.memoizedState,C===null)return bi(h),null;if(b=(h.flags&128)!==0,V=C.rendering,V===null)if(b)em(C,!1);else{if(Cr!==0||l!==null&&(l.flags&128)!==0)for(l=h.child;l!==null;){if(V=tw(l),V!==null){for(h.flags|=128,em(C,!1),b=V.updateQueue,b!==null&&(h.updateQueue=b,h.flags|=4),h.subtreeFlags=0,b=g,g=h.child;g!==null;)C=g,l=b,C.flags&=14680066,V=C.alternate,V===null?(C.childLanes=0,C.lanes=l,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=V.childLanes,C.lanes=V.lanes,C.child=V.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=V.memoizedProps,C.memoizedState=V.memoizedState,C.updateQueue=V.updateQueue,C.type=V.type,l=V.dependencies,C.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return yn(Vn,Vn.current&1|2),h.child}l=l.sibling}C.tail!==null&&Ze()>Ph&&(h.flags|=128,b=!0,em(C,!1),h.lanes=4194304)}else{if(!b)if(l=tw(V),l!==null){if(h.flags|=128,b=!0,g=l.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),em(C,!0),C.tail===null&&C.tailMode==="hidden"&&!V.alternate&&!Dn)return bi(h),null}else 2*Ze()-C.renderingStartTime>Ph&&g!==1073741824&&(h.flags|=128,b=!0,em(C,!1),h.lanes=4194304);C.isBackwards?(V.sibling=h.child,h.child=V):(g=C.last,g!==null?g.sibling=V:h.child=V,C.last=V)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=Ze(),h.sibling=null,g=Vn.current,yn(Vn,b?g&1|2:g&1),h):(bi(h),null);case 22:case 23:return Sx(),b=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(h.flags|=8192),b&&(h.mode&1)!==0?(vs&1073741824)!==0&&(bi(h),h.subtreeFlags&6&&(h.flags|=8192)):bi(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function BZ(l,h){switch(NE(h),h.tag){case 1:return Hi(h.type)&&V0(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return Th(),kn(qi),kn(yi),HE(),l=h.flags,(l&65536)!==0&&(l&128)===0?(h.flags=l&-65537|128,h):null;case 5:return VE(h),null;case 13:if(kn(Vn),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Eh()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return kn(Vn),null;case 4:return Th(),null;case 10:return UE(h.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var uw=!1,vi=!1,UZ=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function kh(l,h){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Zn(l,h,b)}else g.current=null}function hx(l,h,g){try{g()}catch(b){Zn(l,h,b)}}var d8=!1;function FZ(l,h){if(SE=Tn,l=W3(),gE(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var S=b.anchorOffset,C=b.focusNode;b=b.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var V=0,J=-1,se=-1,me=0,Ie=0,Ce=l,Te=null;t:for(;;){for(var We;Ce!==g||S!==0&&Ce.nodeType!==3||(J=V+S),Ce!==C||b!==0&&Ce.nodeType!==3||(se=V+b),Ce.nodeType===3&&(V+=Ce.nodeValue.length),(We=Ce.firstChild)!==null;)Te=Ce,Ce=We;for(;;){if(Ce===l)break t;if(Te===g&&++me===S&&(J=V),Te===C&&++Ie===b&&(se=V),(We=Ce.nextSibling)!==null)break;Ce=Te,Te=Ce.parentNode}Ce=We}g=J===-1||se===-1?null:{start:J,end:se}}else g=null}g=g||{start:0,end:0}}else g=null;for(AE={focusedElem:l,selectionRange:g},Tn=!1,Ge=h;Ge!==null;)if(h=Ge,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,Ge=l;else for(;Ge!==null;){h=Ge;try{var Je=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var tt=Je.memoizedProps,ir=Je.memoizedState,ue=h.stateNode,oe=ue.getSnapshotBeforeUpdate(h.elementType===h.type?tt:To(h.type,tt),ir);ue.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var de=h.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){Zn(h,h.return,$e)}if(l=h.sibling,l!==null){l.return=h.return,Ge=l;break}Ge=h.return}return Je=d8,d8=!1,Je}function tm(l,h,g){var b=h.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var S=b=b.next;do{if((S.tag&l)===l){var C=S.destroy;S.destroy=void 0,C!==void 0&&hx(h,g,C)}S=S.next}while(S!==b)}}function dw(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&l)===l){var b=g.create;g.destroy=b()}g=g.next}while(g!==h)}}function fx(l){var h=l.ref;if(h!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof h=="function"?h(l):h.current=l}}function h8(l){var h=l.alternate;h!==null&&(l.alternate=null,h8(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[oa],delete h[Vp],delete h[CE],delete h[EZ],delete h[xZ])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function f8(l){return l.tag===5||l.tag===3||l.tag===4}function p8(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||f8(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function px(l,h,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(l,h):g.insertBefore(l,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(l,g)):(h=g,h.appendChild(l)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=z0));else if(b!==4&&(l=l.child,l!==null))for(px(l,h,g),l=l.sibling;l!==null;)px(l,h,g),l=l.sibling}function mx(l,h,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,h?g.insertBefore(l,h):g.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(mx(l,h,g),l=l.sibling;l!==null;)mx(l,h,g),l=l.sibling}var Qr=null,Io=!1;function al(l,h,g){for(g=g.child;g!==null;)m8(l,h,g),g=g.sibling}function m8(l,h,g){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Ir,g)}catch{}switch(g.tag){case 5:vi||kh(g,h);case 6:var b=Qr,S=Io;Qr=null,al(l,h,g),Qr=b,Io=S,Qr!==null&&(Io?(l=Qr,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):Qr.removeChild(g.stateNode));break;case 18:Qr!==null&&(Io?(l=Qr,g=g.stateNode,l.nodeType===8?kE(l.parentNode,g):l.nodeType===1&&kE(l,g),Ae(l)):kE(Qr,g.stateNode));break;case 4:b=Qr,S=Io,Qr=g.stateNode.containerInfo,Io=!0,al(l,h,g),Qr=b,Io=S;break;case 0:case 11:case 14:case 15:if(!vi&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){S=b=b.next;do{var C=S,V=C.destroy;C=C.tag,V!==void 0&&((C&2)!==0||(C&4)!==0)&&hx(g,h,V),S=S.next}while(S!==b)}al(l,h,g);break;case 1:if(!vi&&(kh(g,h),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(J){Zn(g,h,J)}al(l,h,g);break;case 21:al(l,h,g);break;case 22:g.mode&1?(vi=(b=vi)||g.memoizedState!==null,al(l,h,g),vi=b):al(l,h,g);break;default:al(l,h,g)}}function g8(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new UZ),h.forEach(function(b){var S=YZ.bind(null,l,b);g.has(b)||(g.add(b),b.then(S,S))})}}function ko(l,h){var g=h.deletions;if(g!==null)for(var b=0;b<g.length;b++){var S=g[b];try{var C=l,V=h,J=V;e:for(;J!==null;){switch(J.tag){case 5:Qr=J.stateNode,Io=!1;break e;case 3:Qr=J.stateNode.containerInfo,Io=!0;break e;case 4:Qr=J.stateNode.containerInfo,Io=!0;break e}J=J.return}if(Qr===null)throw Error(n(160));m8(C,V,S),Qr=null,Io=!1;var se=S.alternate;se!==null&&(se.return=null),S.return=null}catch(me){Zn(S,h,me)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)y8(h,l),h=h.sibling}function y8(l,h){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ko(h,l),la(l),b&4){try{tm(3,l,l.return),dw(3,l)}catch(tt){Zn(l,l.return,tt)}try{tm(5,l,l.return)}catch(tt){Zn(l,l.return,tt)}}break;case 1:ko(h,l),la(l),b&512&&g!==null&&kh(g,g.return);break;case 5:if(ko(h,l),la(l),b&512&&g!==null&&kh(g,g.return),l.flags&32){var S=l.stateNode;try{Fn(S,"")}catch(tt){Zn(l,l.return,tt)}}if(b&4&&(S=l.stateNode,S!=null)){var C=l.memoizedProps,V=g!==null?g.memoizedProps:C,J=l.type,se=l.updateQueue;if(l.updateQueue=null,se!==null)try{J==="input"&&C.type==="radio"&&C.name!=null&&lt(S,C),At(J,V);var me=At(J,C);for(V=0;V<se.length;V+=2){var Ie=se[V],Ce=se[V+1];Ie==="style"?$t(S,Ce):Ie==="dangerouslySetInnerHTML"?Gn(S,Ce):Ie==="children"?Fn(S,Ce):_(S,Ie,Ce,me)}switch(J){case"input":er(S,C);break;case"textarea":Sr(S,C);break;case"select":var Te=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var We=C.value;We!=null?Kn(S,!!C.multiple,We,!1):Te!==!!C.multiple&&(C.defaultValue!=null?Kn(S,!!C.multiple,C.defaultValue,!0):Kn(S,!!C.multiple,C.multiple?[]:"",!1))}S[Vp]=C}catch(tt){Zn(l,l.return,tt)}}break;case 6:if(ko(h,l),la(l),b&4){if(l.stateNode===null)throw Error(n(162));S=l.stateNode,C=l.memoizedProps;try{S.nodeValue=C}catch(tt){Zn(l,l.return,tt)}}break;case 3:if(ko(h,l),la(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{Ae(h.containerInfo)}catch(tt){Zn(l,l.return,tt)}break;case 4:ko(h,l),la(l);break;case 13:ko(h,l),la(l),S=l.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(wx=Ze())),b&4&&g8(l);break;case 22:if(Ie=g!==null&&g.memoizedState!==null,l.mode&1?(vi=(me=vi)||Ie,ko(h,l),vi=me):ko(h,l),la(l),b&8192){if(me=l.memoizedState!==null,(l.stateNode.isHidden=me)&&!Ie&&(l.mode&1)!==0)for(Ge=l,Ie=l.child;Ie!==null;){for(Ce=Ge=Ie;Ge!==null;){switch(Te=Ge,We=Te.child,Te.tag){case 0:case 11:case 14:case 15:tm(4,Te,Te.return);break;case 1:kh(Te,Te.return);var Je=Te.stateNode;if(typeof Je.componentWillUnmount=="function"){b=Te,g=Te.return;try{h=b,Je.props=h.memoizedProps,Je.state=h.memoizedState,Je.componentWillUnmount()}catch(tt){Zn(b,g,tt)}}break;case 5:kh(Te,Te.return);break;case 22:if(Te.memoizedState!==null){v8(Ce);continue}}We!==null?(We.return=Te,Ge=We):v8(Ce)}Ie=Ie.sibling}e:for(Ie=null,Ce=l;;){if(Ce.tag===5){if(Ie===null){Ie=Ce;try{S=Ce.stateNode,me?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(J=Ce.stateNode,se=Ce.memoizedProps.style,V=se!=null&&se.hasOwnProperty("display")?se.display:null,J.style.display=pt("display",V))}catch(tt){Zn(l,l.return,tt)}}}else if(Ce.tag===6){if(Ie===null)try{Ce.stateNode.nodeValue=me?"":Ce.memoizedProps}catch(tt){Zn(l,l.return,tt)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===l)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===l)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===l)break e;Ie===Ce&&(Ie=null),Ce=Ce.return}Ie===Ce&&(Ie=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:ko(h,l),la(l),b&4&&g8(l);break;case 21:break;default:ko(h,l),la(l)}}function la(l){var h=l.flags;if(h&2){try{e:{for(var g=l.return;g!==null;){if(f8(g)){var b=g;break e}g=g.return}throw Error(n(160))}switch(b.tag){case 5:var S=b.stateNode;b.flags&32&&(Fn(S,""),b.flags&=-33);var C=p8(l);mx(l,C,S);break;case 3:case 4:var V=b.stateNode.containerInfo,J=p8(l);px(l,J,V);break;default:throw Error(n(161))}}catch(se){Zn(l,l.return,se)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function jZ(l,h,g){Ge=l,w8(l)}function w8(l,h,g){for(var b=(l.mode&1)!==0;Ge!==null;){var S=Ge,C=S.child;if(S.tag===22&&b){var V=S.memoizedState!==null||uw;if(!V){var J=S.alternate,se=J!==null&&J.memoizedState!==null||vi;J=uw;var me=vi;if(uw=V,(vi=se)&&!me)for(Ge=S;Ge!==null;)V=Ge,se=V.child,V.tag===22&&V.memoizedState!==null?_8(S):se!==null?(se.return=V,Ge=se):_8(S);for(;C!==null;)Ge=C,w8(C),C=C.sibling;Ge=S,uw=J,vi=me}b8(l)}else(S.subtreeFlags&8772)!==0&&C!==null?(C.return=S,Ge=C):b8(l)}}function b8(l){for(;Ge!==null;){var h=Ge;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:vi||dw(5,h);break;case 1:var b=h.stateNode;if(h.flags&4&&!vi)if(g===null)b.componentDidMount();else{var S=h.elementType===h.type?g.memoizedProps:To(h.type,g.memoizedProps);b.componentDidUpdate(S,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var C=h.updateQueue;C!==null&&vP(h,C,b);break;case 3:var V=h.updateQueue;if(V!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}vP(h,V,g)}break;case 5:var J=h.stateNode;if(g===null&&h.flags&4){g=J;var se=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&g.focus();break;case"img":se.src&&(g.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var me=h.alternate;if(me!==null){var Ie=me.memoizedState;if(Ie!==null){var Ce=Ie.dehydrated;Ce!==null&&Ae(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vi||h.flags&512&&fx(h)}catch(Te){Zn(h,h.return,Te)}}if(h===l){Ge=null;break}if(g=h.sibling,g!==null){g.return=h.return,Ge=g;break}Ge=h.return}}function v8(l){for(;Ge!==null;){var h=Ge;if(h===l){Ge=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Ge=g;break}Ge=h.return}}function _8(l){for(;Ge!==null;){var h=Ge;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{dw(4,h)}catch(se){Zn(h,g,se)}break;case 1:var b=h.stateNode;if(typeof b.componentDidMount=="function"){var S=h.return;try{b.componentDidMount()}catch(se){Zn(h,S,se)}}var C=h.return;try{fx(h)}catch(se){Zn(h,C,se)}break;case 5:var V=h.return;try{fx(h)}catch(se){Zn(h,V,se)}}}catch(se){Zn(h,h.return,se)}if(h===l){Ge=null;break}var J=h.sibling;if(J!==null){J.return=h.return,Ge=J;break}Ge=h.return}}var zZ=Math.ceil,hw=x.ReactCurrentDispatcher,gx=x.ReactCurrentOwner,Vs=x.ReactCurrentBatchConfig,Kt=0,Ur=null,hr=null,ei=0,vs=0,Ch=nl(0),Cr=0,nm=null,ku=0,fw=0,yx=0,rm=null,Gi=null,wx=0,Ph=1/0,rc=null,pw=!1,bx=null,cl=null,mw=!1,ll=null,gw=0,im=0,vx=null,yw=-1,ww=0;function $i(){return(Kt&6)!==0?Ze():yw!==-1?yw:yw=Ze()}function ul(l){return(l.mode&1)===0?1:(Kt&2)!==0&&ei!==0?ei&-ei:AZ.transition!==null?(ww===0&&(ww=x0()),ww):(l=sn,l!==0||(l=window.event,l=l===void 0?16:Np(l.type)),l)}function Co(l,h,g,b){if(50<im)throw im=0,vx=null,Error(n(185));yu(l,g,b),((Kt&2)===0||l!==Ur)&&(l===Ur&&((Kt&2)===0&&(fw|=g),Cr===4&&dl(l,ei)),Yi(l,b),g===1&&Kt===0&&(h.mode&1)===0&&(Ph=Ze()+500,H0&&il()))}function Yi(l,h){var g=l.callbackNode;sE(l,h);var b=sh(l,l===Ur?ei:0);if(b===0)g!==null&&Wn(g),l.callbackNode=null,l.callbackPriority=0;else if(h=b&-b,l.callbackPriority!==h){if(g!=null&&Wn(g),h===1)l.tag===0?SZ(x8.bind(null,l)):cP(x8.bind(null,l)),vZ(function(){(Kt&6)===0&&il()}),g=null;else{switch(S0(b)){case 1:g=dr;break;case 4:g=bt;break;case 16:g=Ht;break;case 536870912:g=gn;break;default:g=Ht}g=O8(g,E8.bind(null,l))}l.callbackPriority=h,l.callbackNode=g}}function E8(l,h){if(yw=-1,ww=0,(Kt&6)!==0)throw Error(n(327));var g=l.callbackNode;if(Oh()&&l.callbackNode!==g)return null;var b=sh(l,l===Ur?ei:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||h)h=bw(l,b);else{h=b;var S=Kt;Kt|=2;var C=A8();(Ur!==l||ei!==h)&&(rc=null,Ph=Ze()+500,Pu(l,h));do try{qZ();break}catch(J){S8(l,J)}while(!0);BE(),hw.current=C,Kt=S,hr!==null?h=0:(Ur=null,ei=0,h=Cr)}if(h!==0){if(h===2&&(S=Ip(l),S!==0&&(b=S,h=_x(l,S))),h===1)throw g=nm,Pu(l,0),dl(l,b),Yi(l,Ze()),g;if(h===6)dl(l,b);else{if(S=l.current.alternate,(b&30)===0&&!WZ(S)&&(h=bw(l,b),h===2&&(C=Ip(l),C!==0&&(b=C,h=_x(l,C))),h===1))throw g=nm,Pu(l,0),dl(l,b),Yi(l,Ze()),g;switch(l.finishedWork=S,l.finishedLanes=b,h){case 0:case 1:throw Error(n(345));case 2:Ou(l,Gi,rc);break;case 3:if(dl(l,b),(b&130023424)===b&&(h=wx+500-Ze(),10<h)){if(sh(l,0)!==0)break;if(S=l.suspendedLanes,(S&b)!==b){$i(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=IE(Ou.bind(null,l,Gi,rc),h);break}Ou(l,Gi,rc);break;case 4:if(dl(l,b),(b&4194240)===b)break;for(h=l.eventTimes,S=-1;0<b;){var V=31-Ri(b);C=1<<V,V=h[V],V>S&&(S=V),b&=~C}if(b=S,b=Ze()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*zZ(b/1960))-b,10<b){l.timeoutHandle=IE(Ou.bind(null,l,Gi,rc),b);break}Ou(l,Gi,rc);break;case 5:Ou(l,Gi,rc);break;default:throw Error(n(329))}}}return Yi(l,Ze()),l.callbackNode===g?E8.bind(null,l):null}function _x(l,h){var g=rm;return l.current.memoizedState.isDehydrated&&(Pu(l,h).flags|=256),l=bw(l,h),l!==2&&(h=Gi,Gi=g,h!==null&&Ex(h)),l}function Ex(l){Gi===null?Gi=l:Gi.push.apply(Gi,l)}function WZ(l){for(var h=l;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var S=g[b],C=S.getSnapshot;S=S.value;try{if(!So(C(),S))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function dl(l,h){for(h&=~yx,h&=~fw,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var g=31-Ri(h),b=1<<g;l[g]=-1,h&=~b}}function x8(l){if((Kt&6)!==0)throw Error(n(327));Oh();var h=sh(l,0);if((h&1)===0)return Yi(l,Ze()),null;var g=bw(l,h);if(l.tag!==0&&g===2){var b=Ip(l);b!==0&&(h=b,g=_x(l,b))}if(g===1)throw g=nm,Pu(l,0),dl(l,h),Yi(l,Ze()),g;if(g===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,Ou(l,Gi,rc),Yi(l,Ze()),null}function xx(l,h){var g=Kt;Kt|=1;try{return l(h)}finally{Kt=g,Kt===0&&(Ph=Ze()+500,H0&&il())}}function Cu(l){ll!==null&&ll.tag===0&&(Kt&6)===0&&Oh();var h=Kt;Kt|=1;var g=Vs.transition,b=sn;try{if(Vs.transition=null,sn=1,l)return l()}finally{sn=b,Vs.transition=g,Kt=h,(Kt&6)===0&&il()}}function Sx(){vs=Ch.current,kn(Ch)}function Pu(l,h){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,bZ(g)),hr!==null)for(g=hr.return;g!==null;){var b=g;switch(NE(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&V0();break;case 3:Th(),kn(qi),kn(yi),HE();break;case 5:VE(b);break;case 4:Th();break;case 13:kn(Vn);break;case 19:kn(Vn);break;case 10:UE(b.type._context);break;case 22:case 23:Sx()}g=g.return}if(Ur=l,hr=l=hl(l.current,null),ei=vs=h,Cr=0,nm=null,yx=fw=ku=0,Gi=rm=null,Au!==null){for(h=0;h<Au.length;h++)if(g=Au[h],b=g.interleaved,b!==null){g.interleaved=null;var S=b.next,C=g.pending;if(C!==null){var V=C.next;C.next=S,b.next=V}g.pending=b}Au=null}return l}function S8(l,h){do{var g=hr;try{if(BE(),nw.current=ow,rw){for(var b=qn.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}rw=!1}if(Iu=0,Br=kr=qn=null,Zp=!1,Jp=0,gx.current=null,g===null||g.return===null){Cr=1,nm=h,hr=null;break}e:{var C=l,V=g.return,J=g,se=h;if(h=ei,J.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var me=se,Ie=J,Ce=Ie.tag;if((Ie.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Te=Ie.alternate;Te?(Ie.updateQueue=Te.updateQueue,Ie.memoizedState=Te.memoizedState,Ie.lanes=Te.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var We=YP(V);if(We!==null){We.flags&=-257,ZP(We,V,J,C,h),We.mode&1&&GP(C,me,h),h=We,se=me;var Je=h.updateQueue;if(Je===null){var tt=new Set;tt.add(se),h.updateQueue=tt}else Je.add(se);break e}else{if((h&1)===0){GP(C,me,h),Ax();break e}se=Error(n(426))}}else if(Dn&&J.mode&1){var ir=YP(V);if(ir!==null){(ir.flags&65536)===0&&(ir.flags|=256),ZP(ir,V,J,C,h),ME(Ih(se,J));break e}}C=se=Ih(se,J),Cr!==4&&(Cr=2),rm===null?rm=[C]:rm.push(C),C=V;do{switch(C.tag){case 3:C.flags|=65536,h&=-h,C.lanes|=h;var ue=HP(C,se,h);bP(C,ue);break e;case 1:J=se;var oe=C.type,de=C.stateNode;if((C.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(cl===null||!cl.has(de)))){C.flags|=65536,h&=-h,C.lanes|=h;var $e=KP(C,J,h);bP(C,$e);break e}}C=C.return}while(C!==null)}I8(g)}catch(it){h=it,hr===g&&g!==null&&(hr=g=g.return);continue}break}while(!0)}function A8(){var l=hw.current;return hw.current=ow,l===null?ow:l}function Ax(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Ur===null||(ku&268435455)===0&&(fw&268435455)===0||dl(Ur,ei)}function bw(l,h){var g=Kt;Kt|=2;var b=A8();(Ur!==l||ei!==h)&&(rc=null,Pu(l,h));do try{VZ();break}catch(S){S8(l,S)}while(!0);if(BE(),Kt=g,hw.current=b,hr!==null)throw Error(n(261));return Ur=null,ei=0,Cr}function VZ(){for(;hr!==null;)T8(hr)}function qZ(){for(;hr!==null&&!An();)T8(hr)}function T8(l){var h=P8(l.alternate,l,vs);l.memoizedProps=l.pendingProps,h===null?I8(l):hr=h,gx.current=null}function I8(l){var h=l;do{var g=h.alternate;if(l=h.return,(h.flags&32768)===0){if(g=LZ(g,h,vs),g!==null){hr=g;return}}else{if(g=BZ(g,h),g!==null){g.flags&=32767,hr=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Cr=6,hr=null;return}}if(h=h.sibling,h!==null){hr=h;return}hr=h=l}while(h!==null);Cr===0&&(Cr=5)}function Ou(l,h,g){var b=sn,S=Vs.transition;try{Vs.transition=null,sn=1,HZ(l,h,g,b)}finally{Vs.transition=S,sn=b}return null}function HZ(l,h,g,b){do Oh();while(ll!==null);if((Kt&6)!==0)throw Error(n(327));g=l.finishedWork;var S=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var C=g.lanes|g.childLanes;if(oE(l,C),l===Ur&&(hr=Ur=null,ei=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||mw||(mw=!0,O8(Ht,function(){return Oh(),null})),C=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||C){C=Vs.transition,Vs.transition=null;var V=sn;sn=1;var J=Kt;Kt|=4,gx.current=null,FZ(l,g),y8(g,l),hZ(AE),Tn=!!SE,AE=SE=null,l.current=g,jZ(g),nr(),Kt=J,sn=V,Vs.transition=C}else l.current=g;if(mw&&(mw=!1,ll=l,gw=S),C=l.pendingLanes,C===0&&(cl=null),gs(g.stateNode),Yi(l,Ze()),h!==null)for(b=l.onRecoverableError,g=0;g<h.length;g++)S=h[g],b(S.value,{componentStack:S.stack,digest:S.digest});if(pw)throw pw=!1,l=bx,bx=null,l;return(gw&1)!==0&&l.tag!==0&&Oh(),C=l.pendingLanes,(C&1)!==0?l===vx?im++:(im=0,vx=l):im=0,il(),null}function Oh(){if(ll!==null){var l=S0(gw),h=Vs.transition,g=sn;try{if(Vs.transition=null,sn=16>l?16:l,ll===null)var b=!1;else{if(l=ll,ll=null,gw=0,(Kt&6)!==0)throw Error(n(331));var S=Kt;for(Kt|=4,Ge=l.current;Ge!==null;){var C=Ge,V=C.child;if((Ge.flags&16)!==0){var J=C.deletions;if(J!==null){for(var se=0;se<J.length;se++){var me=J[se];for(Ge=me;Ge!==null;){var Ie=Ge;switch(Ie.tag){case 0:case 11:case 15:tm(8,Ie,C)}var Ce=Ie.child;if(Ce!==null)Ce.return=Ie,Ge=Ce;else for(;Ge!==null;){Ie=Ge;var Te=Ie.sibling,We=Ie.return;if(h8(Ie),Ie===me){Ge=null;break}if(Te!==null){Te.return=We,Ge=Te;break}Ge=We}}}var Je=C.alternate;if(Je!==null){var tt=Je.child;if(tt!==null){Je.child=null;do{var ir=tt.sibling;tt.sibling=null,tt=ir}while(tt!==null)}}Ge=C}}if((C.subtreeFlags&2064)!==0&&V!==null)V.return=C,Ge=V;else e:for(;Ge!==null;){if(C=Ge,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:tm(9,C,C.return)}var ue=C.sibling;if(ue!==null){ue.return=C.return,Ge=ue;break e}Ge=C.return}}var oe=l.current;for(Ge=oe;Ge!==null;){V=Ge;var de=V.child;if((V.subtreeFlags&2064)!==0&&de!==null)de.return=V,Ge=de;else e:for(V=oe;Ge!==null;){if(J=Ge,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:dw(9,J)}}catch(it){Zn(J,J.return,it)}if(J===V){Ge=null;break e}var $e=J.sibling;if($e!==null){$e.return=J.return,Ge=$e;break e}Ge=J.return}}if(Kt=S,il(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Ir,l)}catch{}b=!0}return b}finally{sn=g,Vs.transition=h}}return!1}function k8(l,h,g){h=Ih(g,h),h=HP(l,h,1),l=ol(l,h,1),h=$i(),l!==null&&(yu(l,1,h),Yi(l,h))}function Zn(l,h,g){if(l.tag===3)k8(l,l,g);else for(;h!==null;){if(h.tag===3){k8(h,l,g);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(cl===null||!cl.has(b))){l=Ih(g,l),l=KP(h,l,1),h=ol(h,l,1),l=$i(),h!==null&&(yu(h,1,l),Yi(h,l));break}}h=h.return}}function KZ(l,h,g){var b=l.pingCache;b!==null&&b.delete(h),h=$i(),l.pingedLanes|=l.suspendedLanes&g,Ur===l&&(ei&g)===g&&(Cr===4||Cr===3&&(ei&130023424)===ei&&500>Ze()-wx?Pu(l,0):yx|=g),Yi(l,h)}function C8(l,h){h===0&&((l.mode&1)===0?h=1:(h=ih,ih<<=1,(ih&130023424)===0&&(ih=4194304)));var g=$i();l=ec(l,h),l!==null&&(yu(l,h,g),Yi(l,g))}function GZ(l){var h=l.memoizedState,g=0;h!==null&&(g=h.retryLane),C8(l,g)}function YZ(l,h){var g=0;switch(l.tag){case 13:var b=l.stateNode,S=l.memoizedState;S!==null&&(g=S.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(h),C8(l,g)}var P8;P8=function(l,h,g){if(l!==null)if(l.memoizedProps!==h.pendingProps||qi.current)Ki=!0;else{if((l.lanes&g)===0&&(h.flags&128)===0)return Ki=!1,MZ(l,h,g);Ki=(l.flags&131072)!==0}else Ki=!1,Dn&&(h.flags&1048576)!==0&&lP(h,G0,h.index);switch(h.lanes=0,h.tag){case 2:var b=h.type;lw(l,h),l=h.pendingProps;var S=bh(h,yi.current);Ah(h,g),S=YE(null,h,b,l,S,g);var C=ZE();return h.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Hi(b)?(C=!0,q0(h)):C=!1,h.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,zE(h),S.updater=aw,h.stateNode=S,S._reactInternals=h,nx(h,b,l,g),h=ox(null,h,b,!0,C,g)):(h.tag=0,Dn&&C&&RE(h),Ni(null,h,S,g),h=h.child),h;case 16:b=h.elementType;e:{switch(lw(l,h),l=h.pendingProps,S=b._init,b=S(b._payload),h.type=b,S=h.tag=JZ(b),l=To(b,l),S){case 0:h=sx(null,h,b,l,g);break e;case 1:h=n8(null,h,b,l,g);break e;case 11:h=JP(null,h,b,l,g);break e;case 14:h=XP(null,h,b,To(b.type,l),g);break e}throw Error(n(306,b,""))}return h;case 0:return b=h.type,S=h.pendingProps,S=h.elementType===b?S:To(b,S),sx(l,h,b,S,g);case 1:return b=h.type,S=h.pendingProps,S=h.elementType===b?S:To(b,S),n8(l,h,b,S,g);case 3:e:{if(r8(h),l===null)throw Error(n(387));b=h.pendingProps,C=h.memoizedState,S=C.element,wP(l,h),ew(h,b,null,g);var V=h.memoizedState;if(b=V.element,C.isDehydrated)if(C={element:b,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){S=Ih(Error(n(423)),h),h=i8(l,h,b,g,S);break e}else if(b!==S){S=Ih(Error(n(424)),h),h=i8(l,h,b,g,S);break e}else for(bs=tl(h.stateNode.containerInfo.firstChild),ws=h,Dn=!0,Ao=null,g=gP(h,null,b,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Eh(),b===S){h=nc(l,h,g);break e}Ni(l,h,b,g)}h=h.child}return h;case 5:return _P(h),l===null&&DE(h),b=h.type,S=h.pendingProps,C=l!==null?l.memoizedProps:null,V=S.children,TE(b,S)?V=null:C!==null&&TE(b,C)&&(h.flags|=32),t8(l,h),Ni(l,h,V,g),h.child;case 6:return l===null&&DE(h),null;case 13:return s8(l,h,g);case 4:return WE(h,h.stateNode.containerInfo),b=h.pendingProps,l===null?h.child=xh(h,null,b,g):Ni(l,h,b,g),h.child;case 11:return b=h.type,S=h.pendingProps,S=h.elementType===b?S:To(b,S),JP(l,h,b,S,g);case 7:return Ni(l,h,h.pendingProps,g),h.child;case 8:return Ni(l,h,h.pendingProps.children,g),h.child;case 12:return Ni(l,h,h.pendingProps.children,g),h.child;case 10:e:{if(b=h.type._context,S=h.pendingProps,C=h.memoizedProps,V=S.value,yn(J0,b._currentValue),b._currentValue=V,C!==null)if(So(C.value,V)){if(C.children===S.children&&!qi.current){h=nc(l,h,g);break e}}else for(C=h.child,C!==null&&(C.return=h);C!==null;){var J=C.dependencies;if(J!==null){V=C.child;for(var se=J.firstContext;se!==null;){if(se.context===b){if(C.tag===1){se=tc(-1,g&-g),se.tag=2;var me=C.updateQueue;if(me!==null){me=me.shared;var Ie=me.pending;Ie===null?se.next=se:(se.next=Ie.next,Ie.next=se),me.pending=se}}C.lanes|=g,se=C.alternate,se!==null&&(se.lanes|=g),FE(C.return,g,h),J.lanes|=g;break}se=se.next}}else if(C.tag===10)V=C.type===h.type?null:C.child;else if(C.tag===18){if(V=C.return,V===null)throw Error(n(341));V.lanes|=g,J=V.alternate,J!==null&&(J.lanes|=g),FE(V,g,h),V=C.sibling}else V=C.child;if(V!==null)V.return=C;else for(V=C;V!==null;){if(V===h){V=null;break}if(C=V.sibling,C!==null){C.return=V.return,V=C;break}V=V.return}C=V}Ni(l,h,S.children,g),h=h.child}return h;case 9:return S=h.type,b=h.pendingProps.children,Ah(h,g),S=zs(S),b=b(S),h.flags|=1,Ni(l,h,b,g),h.child;case 14:return b=h.type,S=To(b,h.pendingProps),S=To(b.type,S),XP(l,h,b,S,g);case 15:return QP(l,h,h.type,h.pendingProps,g);case 17:return b=h.type,S=h.pendingProps,S=h.elementType===b?S:To(b,S),lw(l,h),h.tag=1,Hi(b)?(l=!0,q0(h)):l=!1,Ah(h,g),VP(h,b,S),nx(h,b,S,g),ox(null,h,b,!0,l,g);case 19:return a8(l,h,g);case 22:return e8(l,h,g)}throw Error(n(156,h.tag))};function O8(l,h){return zn(l,h)}function ZZ(l,h,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(l,h,g,b){return new ZZ(l,h,g,b)}function Tx(l){return l=l.prototype,!(!l||!l.isReactComponent)}function JZ(l){if(typeof l=="function")return Tx(l)?1:0;if(l!=null){if(l=l.$$typeof,l===B)return 11;if(l===I)return 14}return 2}function hl(l,h){var g=l.alternate;return g===null?(g=qs(l.tag,h,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=h,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,h=l.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function vw(l,h,g,b,S,C){var V=2;if(b=l,typeof l=="function")Tx(l)&&(V=1);else if(typeof l=="string")V=5;else e:switch(l){case O:return Ru(g.children,S,C,h);case N:V=8,S|=8;break;case D:return l=qs(12,g,h,S|2),l.elementType=D,l.lanes=C,l;case j:return l=qs(13,g,h,S),l.elementType=j,l.lanes=C,l;case Y:return l=qs(19,g,h,S),l.elementType=Y,l.lanes=C,l;case L:return _w(g,S,C,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:V=10;break e;case K:V=9;break e;case B:V=11;break e;case I:V=14;break e;case P:V=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return h=qs(V,g,h,S),h.elementType=l,h.type=b,h.lanes=C,h}function Ru(l,h,g,b){return l=qs(7,l,b,h),l.lanes=g,l}function _w(l,h,g,b){return l=qs(22,l,b,h),l.elementType=L,l.lanes=g,l.stateNode={isHidden:!1},l}function Ix(l,h,g){return l=qs(6,l,null,h),l.lanes=g,l}function kx(l,h,g){return h=qs(4,l.children!==null?l.children:[],l.key,h),h.lanes=g,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function XZ(l,h,g,b,S){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=b,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Cx(l,h,g,b,S,C,V,J,se){return l=new XZ(l,h,g,J,se),h===1?(h=1,C===!0&&(h|=8)):h=0,C=qs(3,null,null,h),l.current=C,C.stateNode=l,C.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},zE(C),l}function QZ(l,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:b==null?null:""+b,children:l,containerInfo:h,implementation:g}}function R8(l){if(!l)return rl;l=l._reactInternals;e:{if(dt(l)!==l||l.tag!==1)throw Error(n(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Hi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(l.tag===1){var g=l.type;if(Hi(g))return oP(l,g,h)}return h}function N8(l,h,g,b,S,C,V,J,se){return l=Cx(g,b,!0,l,S,C,V,J,se),l.context=R8(null),g=l.current,b=$i(),S=ul(g),C=tc(b,S),C.callback=h??null,ol(g,C,S),l.current.lanes=S,yu(l,S,b),Yi(l,b),l}function Ew(l,h,g,b){var S=h.current,C=$i(),V=ul(S);return g=R8(g),h.context===null?h.context=g:h.pendingContext=g,h=tc(C,V),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=ol(S,h,V),l!==null&&(Co(l,S,V,C),Q0(l,S,V)),V}function xw(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function $8(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<h?g:h}}function Px(l,h){$8(l,h),(l=l.alternate)&&$8(l,h)}function eJ(){return null}var D8=typeof reportError=="function"?reportError:function(l){console.error(l)};function Ox(l){this._internalRoot=l}Sw.prototype.render=Ox.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(n(409));Ew(l,h,null,null)},Sw.prototype.unmount=Ox.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;Cu(function(){Ew(null,l,null,null)}),h[Za]=null}};function Sw(l){this._internalRoot=l}Sw.prototype.unstable_scheduleHydration=function(l){if(l){var h=I0();l={blockedOn:null,target:l,priority:h};for(var g=0;g<sa.length&&h!==0&&h<sa[g].priority;g++);sa.splice(g,0,l),g===0&&O0(l)}};function Rx(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Aw(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function M8(){}function tJ(l,h,g,b,S){if(S){if(typeof b=="function"){var C=b;b=function(){var me=xw(V);C.call(me)}}var V=N8(h,b,l,0,null,!1,!1,"",M8);return l._reactRootContainer=V,l[Za]=V.current,zp(l.nodeType===8?l.parentNode:l),Cu(),V}for(;S=l.lastChild;)l.removeChild(S);if(typeof b=="function"){var J=b;b=function(){var me=xw(se);J.call(me)}}var se=Cx(l,0,!1,null,null,!1,!1,"",M8);return l._reactRootContainer=se,l[Za]=se.current,zp(l.nodeType===8?l.parentNode:l),Cu(function(){Ew(h,se,g,b)}),se}function Tw(l,h,g,b,S){var C=g._reactRootContainer;if(C){var V=C;if(typeof S=="function"){var J=S;S=function(){var se=xw(V);J.call(se)}}Ew(h,V,l,S)}else V=tJ(g,h,l,S,b);return xw(V)}A0=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var g=gu(h.pendingLanes);g!==0&&(Cp(h,g|1),Yi(h,Ze()),(Kt&6)===0&&(Ph=Ze()+500,il()))}break;case 13:Cu(function(){var b=ec(l,1);if(b!==null){var S=$i();Co(b,l,1,S)}}),Px(l,1)}},Pp=function(l){if(l.tag===13){var h=ec(l,134217728);if(h!==null){var g=$i();Co(h,l,134217728,g)}Px(l,134217728)}},T0=function(l){if(l.tag===13){var h=ul(l),g=ec(l,h);if(g!==null){var b=$i();Co(g,l,h,b)}Px(l,h)}},I0=function(){return sn},k0=function(l,h){var g=sn;try{return sn=l,h()}finally{sn=g}},Ar=function(l,h,g){switch(h){case"input":if(er(l,g),h=g.name,g.type==="radio"&&h!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var b=g[h];if(b!==l&&b.form===l.form){var S=W0(b);if(!S)throw Error(n(90));ot(b),er(b,S)}}}break;case"textarea":Sr(l,g);break;case"select":h=g.value,h!=null&&Kn(l,!!g.multiple,h,!1)}},ta=xx,vo=Cu;var nJ={usingClientEntryPoint:!1,Events:[qp,yh,W0,bo,ea,xx]},sm={findFiberByHostInstance:_u,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rJ={bundleType:sm.bundleType,version:sm.version,rendererPackageName:sm.rendererPackageName,rendererConfig:sm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Jt(l),l===null?null:l.stateNode},findFiberByHostInstance:sm.findFiberByHostInstance||eJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iw.isDisabled&&Iw.supportsFiber)try{Ir=Iw.inject(rJ),rr=Iw}catch{}}return Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nJ,Zi.createPortal=function(l,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rx(h))throw Error(n(200));return QZ(l,h,null,g)},Zi.createRoot=function(l,h){if(!Rx(l))throw Error(n(299));var g=!1,b="",S=D8;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onRecoverableError!==void 0&&(S=h.onRecoverableError)),h=Cx(l,1,!1,null,null,g,!1,b,S),l[Za]=h.current,zp(l.nodeType===8?l.parentNode:l),new Ox(h)},Zi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=Jt(h),l=l===null?null:l.stateNode,l},Zi.flushSync=function(l){return Cu(l)},Zi.hydrate=function(l,h,g){if(!Aw(h))throw Error(n(200));return Tw(null,l,h,!0,g)},Zi.hydrateRoot=function(l,h,g){if(!Rx(l))throw Error(n(405));var b=g!=null&&g.hydratedSources||null,S=!1,C="",V=D8;if(g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onRecoverableError!==void 0&&(V=g.onRecoverableError)),h=N8(h,null,l,1,g??null,S,!1,C,V),l[Za]=h.current,zp(l),b)for(l=0;l<b.length;l++)g=b[l],S=g._getVersion,S=S(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,S]:h.mutableSourceEagerHydrationData.push(g,S);return new Sw(h)},Zi.render=function(l,h,g){if(!Aw(h))throw Error(n(200));return Tw(null,l,h,!1,g)},Zi.unmountComponentAtNode=function(l){if(!Aw(l))throw Error(n(40));return l._reactRootContainer?(Cu(function(){Tw(null,null,l,!1,function(){l._reactRootContainer=null,l[Za]=null})}),!0):!1},Zi.unstable_batchedUpdates=xx,Zi.unstable_renderSubtreeIntoContainer=function(l,h,g,b){if(!Aw(g))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Tw(l,h,g,!1,b)},Zi.version="18.3.1-next-f1338f8080-20240426",Zi}var q8;function QL(){if(q8)return Mx.exports;q8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mx.exports=fJ(),Mx.exports}var H8;function pJ(){if(H8)return kw;H8=1;var t=QL();return kw.createRoot=t.createRoot,kw.hydrateRoot=t.hydrateRoot,kw}var mJ=pJ();const gJ="modulepreload",yJ=function(t){return"/"+t},K8={},ze=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(u=>{if(u=yJ(u),u in K8)return;K8[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":gJ,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},wJ={path:"/api/v1/analytics_events",method:"POST"},bJ={path:"/api/v1/apps/:app_id",method:"GET"},vJ={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},_J={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},EJ={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},xJ={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},SJ={path:"/api/v1/farcaster/init",method:"POST"},AJ={path:"/api/v1/farcaster/authenticate",method:"POST"},TJ={path:"/api/v1/farcaster/link",method:"POST"},IJ={path:"/api/v1/farcaster/unlink",method:"POST"},kJ={path:"/api/v1/farcaster/status",method:"GET"},CJ={path:"/api/v2/farcaster/init",method:"POST"},PJ={path:"/api/v2/farcaster/authenticate",method:"POST"},OJ={path:"/api/v1/guest/authenticate",method:"POST"},RJ={path:"/api/v1/mfa/passkeys/init",method:"POST"},NJ={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},$J={path:"/api/v1/oauth/authenticate",method:"POST"},DJ={path:"/api/v1/oauth/init",method:"POST"},MJ={path:"/api/v1/oauth/link",method:"POST"},LJ={path:"/api/v1/oauth/unlink",method:"POST"},BJ={path:"/api/v1/passkeys/link",method:"POST"},UJ={path:"/api/v1/passkeys/authenticate",method:"POST"},FJ={path:"/api/v1/passkeys/register",method:"POST"},jJ={path:"/api/v1/passkeys/authenticate/init",method:"POST"},zJ={path:"/api/v1/passkeys/register/init",method:"POST"},WJ={path:"/api/v1/passkeys/link/init",method:"POST"},VJ={path:"/api/v1/passwordless/authenticate",method:"POST"},qJ={path:"/api/v1/passwordless/init",method:"POST"},HJ={path:"/api/v1/passwordless/link",method:"POST"},KJ={path:"/api/v1/passwordless/unlink",method:"POST"},GJ={path:"/api/v1/passwordless/update",method:"POST"},YJ={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},ZJ={path:"/api/v1/passwordless_sms/init",method:"POST"},JJ={path:"/api/v1/passwordless_sms/link",method:"POST"},XJ={path:"/api/v1/passwordless_sms/unlink",method:"POST"},QJ={path:"/api/v1/passwordless_sms/update",method:"POST"},eX={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},tX={path:"/api/v1/recovery/oauth/init",method:"POST"},nX={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},rX={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},iX={path:"/api/v1/recovery/configuration_icloud",method:"POST"},sX=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,G8={path:"/api/v1/sessions",method:"POST"},oX={path:"/api/v1/sessions/logout",method:"POST"},aX={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},eB={path:"/api/v1/siwe/init",method:"POST"},cX={path:"/api/v1/siwe/authenticate",method:"POST"},lX={path:"/api/v1/siwe/link",method:"POST"},uX={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},dX={path:"/api/v1/siwe/unlink",method:"POST"},hX={path:"/api/v1/siws/init",method:"POST"},fX={path:"/api/v1/siws/authenticate",method:"POST"},pX={path:"/api/v1/siws/link",method:"POST"},mX={path:"/api/v1/siws/unlink",method:"POST"},gX={path:"/api/v1/users/me/accept_terms",method:"POST"},yX={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},wX={path:"/api/v1/wallets",method:"POST"},Ux={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},bX={path:"/api/v1/wallets/revoke",method:"POST"};let vX=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(aX,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const _X=new TextEncoder,tB=new TextDecoder,EX=t=>{let e=t;typeof e=="string"&&(e=_X.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},xX=t=>EX(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),SX=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},AX=t=>{let e=t;e instanceof Uint8Array&&(e=tB.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return SX(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class TX extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class Nu extends TX{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function IX(t){return typeof t=="object"&&t!==null}function kX(t){if(!IX(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const yd=xX,CX=AX;function WA(t){if(typeof t!="string")throw new Nu("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Nu("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Nu("Invalid JWT");if(!e)throw new Nu("JWTs must contain a payload");let r;try{r=CX(e)}catch{throw new Nu("Failed to base64url decode the payload")}let i;try{i=JSON.parse(tB.decode(r))}catch{throw new Nu("Failed to parse the decoded payload as JSON")}if(!kX(i))throw new Nu("Invalid JWT Claims Set");return i}let Xh=class nB{static parse(e){try{return new nB(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=WA(e)}},rB=class VA{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=VA.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=VA.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new Xh(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(EJ,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};rB.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let PX=class{async revoke(){await this._privyInternal.fetch(bX,{})}constructor(e){this._privyInternal=e}};function OX(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const xy={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},iB={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Sy={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},sB={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},Ay={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},oB={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},RX={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},NX={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},G5={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},$X={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},DX={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},MX={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},LX={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},BX={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},UX={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},FX={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},jX={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},lp={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},Y5={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},aB={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Ty={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},cB={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},zX={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},lB={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},WX={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},VX={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},qX={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},E1=[lp,lB,BX,xy,iB,Y5,aB,Ty,cB,G5,$X,DX,MX,Ay,oB,RX,NX,jX,UX,FX,Sy,sB,WX,qX,VX,zX,LX],HX=new Set(E1.map((t=>t.id))),uB=t=>t.map((e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=E1.find((s=>s.id===e.id)),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?OX(e,r):e}));let Fx=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},tn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},KX=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const Fl=t=>!!t.id&&t.recovery_method==="privy-v2";let GX=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Fl(this._account))throw new tn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new tn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new tn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const YX=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Ji;(Ji={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ji.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ji.INVALID_DATA="invalid_data",Ji.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ji.ALLOWLIST_REJECTED="allowlist_rejected",Ji.OAUTH_USER_DENIED="oauth_user_denied",Ji.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ji.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ji.MUST_BE_AUTHENTICATED="must_be_authenticated",Ji.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ji.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ji.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ji.INVALID_CREDENTIALS="invalid_credentials";let ZX=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},xb=class extends Error{constructor(e,n){super(n),this.type=e}},dB=class extends ZX{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Y8=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Qh={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function JX(t){let e=t.type;return typeof e=="string"&&YX.includes(e)}function Z5(t){return JX(t)&&t.type==="wallet_not_on_device"}async function qA(t,{request:e}){return await t.fetchPrivyRoute(wX,{body:e})}async function jx({context:t,chainType:e}){return{wallet:await qA(t,{request:{chain_type:e,owner_id:void 0}})}}const XX="1.2.3";let hs=class HA extends Error{constructor(e,n={}){var o;const r=n.cause instanceof HA?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof HA&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${XX}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Xc(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const hB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,fB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,pB=/^\(.+?\).*?$/,Z8=/^tuple(?<array>(\[(\d*)\])*)$/;function KA(t){let e=t.type;if(Z8.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=KA(s),i<n-1&&(e+=", ")}const r=Xc(Z8,t.type);return e+=`)${(r==null?void 0:r.array)||""}`,KA({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function ef(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=KA(i),r!==n-1&&(e+=", ")}return e}function Xb(t){var e;return t.type==="function"?`function ${t.name}(${ef(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${ef(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${ef(t.inputs)})`:t.type==="error"?`error ${t.name}(${ef(t.inputs)})`:t.type==="constructor"?`constructor(${ef(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const mB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function QX(t){return mB.test(t)}function eQ(t){return Xc(mB,t)}const gB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function tQ(t){return gB.test(t)}function nQ(t){return Xc(gB,t)}const yB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function rQ(t){return yB.test(t)}function iQ(t){return Xc(yB,t)}const wB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function x1(t){return wB.test(t)}function sQ(t){return Xc(wB,t)}const bB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function oQ(t){return bB.test(t)}function aQ(t){return Xc(bB,t)}const vB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function cQ(t){return vB.test(t)}function lQ(t){return Xc(vB,t)}const uQ=/^receive\(\) external payable$/;function dQ(t){return uQ.test(t)}const J8=new Set(["memory","indexed","storage","calldata"]),hQ=new Set(["indexed"]),GA=new Set(["calldata","memory","storage"]);class fQ extends hs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class pQ extends hs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class mQ extends hs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class gQ extends hs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class yQ extends hs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class wQ extends hs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class bQ extends hs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class vQ extends hs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class _Q extends hs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class up extends hs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class EQ extends hs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class xQ extends hs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class SQ extends hs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class AQ extends hs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function TQ(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const zx=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function YA(t,e={}){if(rQ(t))return IQ(t,e);if(tQ(t))return kQ(t,e);if(QX(t))return CQ(t,e);if(oQ(t))return PQ(t,e);if(cQ(t))return OQ(t);if(dQ(t))return{type:"receive",stateMutability:"payable"};throw new EQ({signature:t})}function IQ(t,e={}){const n=iQ(t);if(!n)throw new up({signature:t,type:"function"});const r=Ps(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(jc(r[a],{modifiers:GA,structs:e,type:"function"}));const o=[];if(n.returns){const a=Ps(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(jc(a[u],{modifiers:GA,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function kQ(t,e={}){const n=nQ(t);if(!n)throw new up({signature:t,type:"event"});const r=Ps(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(jc(r[o],{modifiers:hQ,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function CQ(t,e={}){const n=eQ(t);if(!n)throw new up({signature:t,type:"error"});const r=Ps(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(jc(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function PQ(t,e={}){const n=aQ(t);if(!n)throw new up({signature:t,type:"constructor"});const r=Ps(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(jc(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function OQ(t){const e=lQ(t);if(!e)throw new up({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const RQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,NQ=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,$Q=/^u?int$/;function jc(t,e){var f,p;const n=TQ(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(zx.has(n))return zx.get(n);const r=pB.test(t),i=Xc(r?NQ:RQ,t);if(!i)throw new yQ({param:t});if(i.name&&MQ(i.name))throw new wQ({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(r){c="tuple";const m=Ps(i.type),y=[],w=m.length;for(let v=0;v<w;v++)y.push(jc(m[v],{structs:a}));u={components:y}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if($Q.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!_B(c))throw new mQ({type:c});if(i.modifier){if(!((p=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&p.call(f,i.modifier)))throw new bQ({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(GA.has(i.modifier)&&!LQ(c,!!i.array))throw new vQ({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const d={type:`${c}${i.array??""}`,...s,...o,...u};return zx.set(n,d),d}function Ps(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Ps(a,[...e,n.trim()]):Ps(a,e,`${n}${o}`,r);case"(":return Ps(a,e,`${n}${o}`,r+1);case")":return Ps(a,e,`${n}${o}`,r-1);default:return Ps(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new AQ({current:n,depth:r});return e.push(n.trim()),e}function _B(t){return t==="address"||t==="bool"||t==="function"||t==="string"||hB.test(t)||fB.test(t)}const DQ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function MQ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||hB.test(t)||fB.test(t)||DQ.test(t)}function LQ(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function J5(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!x1(a))continue;const c=sQ(a);if(!c)throw new up({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],f=u.length;for(let p=0;p<f;p++){const y=u[p].trim();if(!y)continue;const w=jc(y,{type:"struct"});d.push(w)}if(!d.length)throw new xQ({signature:a});e[c.name]=d}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=EB(c,e)}return r}const BQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function EB(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(pB.test(o.type))r.push(o);else{const c=Xc(BQ,o.type);if(!(c!=null&&c.type))throw new _Q({abiParameter:o});const{array:u,type:d}=c;if(d in e){if(n.has(d))throw new SQ({type:d});r.push({...o,type:`tuple${u??""}`,components:EB(e[d],e,new Set([...n,d]))})}else if(_B(d))r.push(o);else throw new pQ({type:d})}}return r}function xB(t){const e=J5(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];x1(s)||n.push(YA(s,e))}return n}function X8(t){let e;if(typeof t=="string")e=YA(t);else{const n=J5(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!x1(s)){e=YA(s,n);break}}}if(!e)throw new fQ({signature:t});return e}function Q8(t){const e=[];if(typeof t=="string"){const n=Ps(t),r=n.length;for(let i=0;i<r;i++)e.push(jc(n[i],{modifiers:J8}))}else{const n=J5(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(x1(s))continue;const o=Ps(s),a=o.length;for(let c=0;c<a;c++)e.push(jc(o[c],{modifiers:J8,structs:n}))}}if(e.length===0)throw new gQ({params:t});return e}function Ve(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function Ko(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new JQ(t.type);return`${t.name}(${S1(t.inputs,{includeName:e})})`}function S1(t,{includeName:e=!1}={}){return t?t.map(n=>UQ(n,{includeName:e})).join(e?", ":","):""}function UQ(t,{includeName:e}){return t.type.startsWith("tuple")?`(${S1(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Li(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Hn(t){return Li(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const SB="2.44.4";let am={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${SB}`},be=class ZA extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof ZA?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof ZA&&n.cause.docsPath||n.docsPath,s=(a=am.getDocsUrl)==null?void 0:a.call(am,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...am.version?[`Version: ${am.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=SB}walk(e){return AB(this,e)}};function AB(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?AB(t.cause,e):e?null:t}class TB extends be{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class Qb extends be{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class IB extends be{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${S1(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Iy extends be{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class FQ extends be{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class jQ extends be{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Hn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class zQ extends be{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class WQ extends be{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class eO extends be{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class kB extends be{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class VQ extends be{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class qQ extends be{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class tO extends be{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class $f extends be{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class CB extends be{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class HQ extends be{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class KQ extends be{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ko(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Ko(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let GQ=class extends be{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class ev extends be{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${S1(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class X5 extends be{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ko(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class YQ extends be{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ZQ extends be{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let PB=class extends be{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class JQ extends be{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Sje extends be{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class XQ extends be{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let OB=class extends be{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},RB=class extends be{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class nO extends be{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function jd(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ql(t,{dir:e,size:n}):QQ(t,{dir:e,size:n})}function Ql(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new RB({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function QQ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new RB({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let Q5=class extends be{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},eee=class extends be{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class tee extends be{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let nee=class extends be{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Rs(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function mo(t,{size:e}){if(Hn(t)>e)throw new nee({givenSize:Hn(t),maxSize:e})}function cn(t,e={}){const{signed:n}=e;e.size&&mo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function ree(t,e={}){let n=t;if(e.size&&(mo(n,{size:e.size}),n=Rs(n)),Rs(n)==="0x00")return!1;if(Rs(n)==="0x01")return!0;throw new tee(n)}function $s(t,e={}){const n=cn(t,e),r=Number(n);if(!Number.isSafeInteger(r))throw new Q5({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${n}n`});return r}function Pje(t,e={}){let n=Bi(t);return e.size&&(mo(n,{size:e.size}),n=Rs(n,{dir:"right"})),new TextDecoder().decode(n)}const iee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pt(t,e={}){return typeof t=="number"||typeof t=="bigint"?Pe(t,e):typeof t=="string"?Df(t,e):typeof t=="boolean"?NB(t,e):xr(t,e)}function NB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(mo(n,{size:e.size}),jd(n,{size:e.size})):n}function xr(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=iee[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(mo(r,{size:e.size}),jd(r,{dir:"right",size:e.size})):r}function Pe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Q5({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?jd(a,{size:r}):a}const see=new TextEncoder;function Df(t,e={}){const n=see.encode(t);return xr(n,e)}const oee=new TextEncoder;function Nc(t,e={}){return typeof t=="number"||typeof t=="bigint"?cee(t,e):typeof t=="boolean"?aee(t,e):Li(t)?Bi(t,e):dd(t,e)}function aee(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(mo(n,{size:e.size}),jd(n,{size:e.size})):n}const ic={zero:48,nine:57,A:65,F:70,a:97,f:102};function rO(t){if(t>=ic.zero&&t<=ic.nine)return t-ic.zero;if(t>=ic.A&&t<=ic.F)return t-(ic.A-10);if(t>=ic.a&&t<=ic.f)return t-(ic.a-10)}function Bi(t,e={}){let n=t;e.size&&(mo(n,{size:e.size}),n=jd(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=rO(r.charCodeAt(a++)),u=rO(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new be(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function cee(t,e){const n=Pe(t,e);return Bi(n)}function dd(t,e={}){const n=oee.encode(t);return typeof e.size=="number"?(mo(n,{size:e.size}),jd(n,{dir:"right",size:e.size})):n}const Cw=BigInt(2**32-1),iO=BigInt(32);function lee(t,e=!1){return e?{h:Number(t&Cw),l:Number(t>>iO&Cw)}:{h:Number(t>>iO&Cw)|0,l:Number(t&Cw)|0}}function uee(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=lee(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const dee=(t,e,n)=>t<<n|e>>>32-n,hee=(t,e,n)=>e<<n|t>>>32-n,fee=(t,e,n)=>e<<n-32|t>>>64-n,pee=(t,e,n)=>t<<n-32|e>>>64-n,Rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Eg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function wd(t,...e){if(!mee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function gee(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Eg(t.outputLen),Eg(t.blockLen)}function Mf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $B(t,e){wd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function yee(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Lf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Wx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ua(t,e){return t<<32-e|t>>>e}const wee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bee(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function vee(t){for(let e=0;e<t.length;e++)t[e]=bee(t[e]);return t}const sO=wee?t=>t:vee;function _ee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function A1(t){return typeof t=="string"&&(t=_ee(t)),wd(t),t}function Eee(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];wd(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let e6=class{};function DB(t){const e=r=>t().update(A1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function xee(t=32){if(Rh&&typeof Rh.getRandomValues=="function")return Rh.getRandomValues(new Uint8Array(t));if(Rh&&typeof Rh.randomBytes=="function")return Uint8Array.from(Rh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const See=BigInt(0),cm=BigInt(1),Aee=BigInt(2),Tee=BigInt(7),Iee=BigInt(256),kee=BigInt(113),MB=[],LB=[],BB=[];for(let t=0,e=cm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],MB.push(2*(5*r+n)),LB.push((t+1)*(t+2)/2%64);let i=See;for(let s=0;s<7;s++)e=(e<<cm^(e>>Tee)*kee)%Iee,e&Aee&&(i^=cm<<(cm<<BigInt(s))-cm);BB.push(i)}const UB=uee(BB,!0),Cee=UB[0],Pee=UB[1],oO=(t,e,n)=>n>32?fee(t,e,n):dee(t,e,n),aO=(t,e,n)=>n>32?pee(t,e,n):hee(t,e,n);function Oee(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],d=n[c+1],f=oO(u,d,1)^n[a],p=aO(u,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=LB[o],c=oO(i,s,a),u=aO(i,s,a),d=MB[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Cee[r],t[1]^=Pee[r]}Lf(n)}let Ree=class FB extends e6{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Eg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=yee(this.state)}clone(){return this._cloneInto()}keccak(){sO(this.state32),Oee(this.state32,this.rounds),sO(this.state32),this.posOut=0,this.pos=0}update(e){Mf(this),e=A1(e),wd(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Mf(this,!1),wd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Eg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($B(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Lf(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new FB(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Nee=(t,e,n)=>DB(()=>new Ree(e,t,n)),jB=Nee(1,136,256/8);function Yr(t,e){const n=e||"hex",r=jB(Li(t,{strict:!1})?Nc(t):t);return n==="bytes"?r:Pt(r)}const $ee=t=>Yr(Nc(t));function Dee(t){return $ee(t)}function Mee(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new be("Unable to normalize signature.");return i}const Lee=t=>{const e=typeof t=="string"?t:Xb(t);return Mee(e)};function zB(t){return Dee(Lee(t))}const T1=zB;let Er=class extends be{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},dp=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Vx=new dp(8192);function ky(t,e){if(Vx.has(`${t}.${e}`))return Vx.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Yr(dd(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Vx.set(`${t}.${e}`,s),s}function ci(t,e){if(!vn(t,{strict:!1}))throw new Er({address:t});return ky(t,e)}const Bee=/^0x[a-fA-F0-9]{40}$/,qx=new dp(8192);function vn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(qx.has(r))return qx.get(r);const i=Bee.test(t)?t.toLowerCase()===t?!0:n?ky(t)===t:!0:!1;return qx.set(r,i),i}function ho(t){return typeof t[0]=="string"?go(t):Uee(t)}function Uee(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function go(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function bd(t,e,n,{strict:r}={}){return Li(t,{strict:!1})?JA(t,e,n,{strict:r}):qB(t,e,n,{strict:r})}function WB(t,e){if(typeof e=="number"&&e>0&&e>Hn(t)-1)throw new OB({offset:e,position:"start",size:Hn(t)})}function VB(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Hn(t)!==n-e)throw new OB({offset:n,position:"end",size:Hn(t)})}function qB(t,e,n,{strict:r}={}){WB(t,e);const i=t.slice(e,n);return r&&VB(i,e,n),i}function JA(t,e,n,{strict:r}={}){WB(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&VB(i,e,n),i}const $je=/^(.*)\[([0-9]*)\]$/,Fee=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,HB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function lu(t,e){if(t.length!==e.length)throw new zQ({expectedLength:t.length,givenLength:e.length});const n=jee({params:t,values:e}),r=n6(n);return r.length===0?"0x":r}function jee({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(t6({param:t[r],value:e[r]}));return n}function t6({param:t,value:e}){const n=r6(t.type);if(n){const[r,i]=n;return Wee(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return Gee(e,{param:t});if(t.type==="address")return zee(e);if(t.type==="bool")return qee(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=HB.exec(t.type)??[];return Hee(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Vee(e,{param:t});if(t.type==="string")return Kee(e);throw new YQ(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function n6(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Hn(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Pe(e+i,{size:32})),r.push(a),i+=Hn(a)):n.push(a)}return ho([...n,...r])}function zee(t){if(!vn(t))throw new Er({address:t});return{dynamic:!1,encoded:Ql(t.toLowerCase())}}function Wee(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new PB(t);if(!r&&t.length!==e)throw new FQ({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t6({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=n6(s);if(r){const a=Pe(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?ho([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:ho(s.map(({encoded:o})=>o))}}function Vee(t,{param:e}){const[,n]=e.type.split("bytes"),r=Hn(t);if(!n){let i=t;return r%32!==0&&(i=Ql(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:ho([Ql(Pe(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new jQ({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Ql(t,{dir:"right"})}}function qee(t){if(typeof t!="boolean")throw new be(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ql(NB(t))}}function Hee(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Q5({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Pe(t,{size:32,signed:e})}}function Kee(t){const e=Df(t),n=Math.ceil(Hn(e)/32),r=[];for(let i=0;i<n;i++)r.push(Ql(bd(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ho([Ql(Pe(Hn(e),{size:32})),...r])}}function Gee(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=t6({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?n6(r):ho(r.map(({encoded:i})=>i))}}function r6(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Cy=t=>bd(zB(t),0,4);function zd(t){const{abi:e,args:n=[],name:r}=t,i=Li(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?Cy(a)===r:a.type==="event"?T1(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const f="inputs"in a&&a.inputs[d];return f?XA(u,f):!1})){if(o&&"inputs"in o&&o.inputs){const u=KB(a.inputs,o.inputs,n);if(u)throw new KQ({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function XA(t,e){const n=typeof t,r=e.type;switch(r){case"address":return vn(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>n==="object"&&XA(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>XA(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function KB(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return KB(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?vn(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?vn(n[r],{strict:!1}):!1)return o}}const cO="/docs/contract/encodeEventTopics";function Py(t){var c;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const u=zd({abi:e,name:n});if(!u)throw new tO(n,{docsPath:cO});i=u}if(i.type!=="event")throw new tO(void 0,{docsPath:cO});const s=Ko(i),o=T1(s);let a=[];if(r&&"inputs"in i){const u=(c=i.inputs)==null?void 0:c.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(f=>r[f.name]))??[]:[];d.length>0&&(a=(u==null?void 0:u.map((f,p)=>Array.isArray(d[p])?d[p].map((m,y)=>lO({param:f,value:d[p][y]})):typeof d[p]<"u"&&d[p]!==null?lO({param:f,value:d[p]}):null))??[])}return[o,...a]}function lO({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Yr(Nc(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new XQ(t.type);return lu([t],[e])}function I1(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(n[o]=c.request)})),(s=>n[s]||t.request)}async function GB(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=e,u=I1(t,{method:"eth_newFilter"}),d=s?Py({abi:r,args:i,eventName:s}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?Pe(o):o,toBlock:typeof c=="bigint"?Pe(c):c,topics:d}]});return{abi:r,args:i,eventName:s,id:f,request:u(f),strict:!!a,type:"event"}}function En(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const uO="/docs/contract/encodeFunctionData";function Yee(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=zd({abi:e,args:n,name:r});if(!s)throw new $f(r,{docsPath:uO});i=s}if(i.type!=="function")throw new $f(void 0,{docsPath:uO});return{abi:[i],functionName:Cy(Ko(i))}}function Wi(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:Yee(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?lu(i.inputs,e??[]):void 0;return go([s,o??"0x"])}const Zee={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},YB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Jee={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let dO=class extends be{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},ZB=class extends be{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Xee=class extends be{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Qee={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Xee({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new ZB({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new dO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new dO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function i6(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Qee);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function ete(t,e={}){typeof e.size<"u"&&mo(t,{size:e.size});const n=xr(t,e);return cn(n,e)}function tte(t,e={}){let n=t;if(typeof e.size<"u"&&(mo(n,{size:e.size}),n=Rs(n)),n.length>1||n[0]>1)throw new eee(n);return!!n[0]}function $c(t,e={}){typeof e.size<"u"&&mo(t,{size:e.size});const n=xr(t,e);return $s(n,e)}function nte(t,e={}){let n=t;return typeof e.size<"u"&&(mo(n,{size:e.size}),n=Rs(n,{dir:"right"})),new TextDecoder().decode(n)}function Oy(t,e){const n=typeof e=="string"?Bi(e):e,r=i6(n);if(Hn(n)===0&&t.length>0)throw new Iy;if(Hn(e)&&Hn(e)<32)throw new IB({data:typeof e=="string"?e:xr(e),params:t,size:Hn(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,u]=Ef(r,a,{staticPosition:0});i+=u,s.push(c)}return s}function Ef(t,e,{staticPosition:n}){const r=r6(e.type);if(r){const[i,s]=r;return ite(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return cte(t,e,{staticPosition:n});if(e.type==="address")return rte(t);if(e.type==="bool")return ste(t);if(e.type.startsWith("bytes"))return ote(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ate(t,e);if(e.type==="string")return lte(t,{staticPosition:n});throw new ZQ(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const hO=32,QA=32;function rte(t){const e=t.readBytes(32);return[ky(xr(qB(e,-20))),32]}function ite(t,e,{length:n,staticPosition:r}){if(!n){const o=$c(t.readBytes(QA)),a=r+o,c=a+hO;t.setPosition(a);const u=$c(t.readBytes(hO)),d=xg(e);let f=0;const p=[];for(let m=0;m<u;++m){t.setPosition(c+(d?m*32:f));const[y,w]=Ef(t,e,{staticPosition:c});f+=w,p.push(y)}return t.setPosition(r+32),[p,32]}if(xg(e)){const o=$c(t.readBytes(QA)),a=r+o,c=[];for(let u=0;u<n;++u){t.setPosition(a+u*32);const[d]=Ef(t,e,{staticPosition:a});c.push(d)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=Ef(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function ste(t){return[tte(t.readBytes(32),{size:32}),32]}function ote(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=$c(t.readBytes(32));t.setPosition(n+o);const a=$c(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[xr(c),32]}return[xr(t.readBytes(Number.parseInt(i,10),32)),32]}function ate(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?ete(i,{signed:n}):$c(i,{signed:n}),32]}function cte(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(xg(e)){const o=$c(t.readBytes(QA)),a=n+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(a+s);const[d,f]=Ef(t,u,{staticPosition:a});s+=f,i[r?c:u==null?void 0:u.name]=d}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=Ef(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=u}return[i,s]}function lte(t,{staticPosition:e}){const n=$c(t.readBytes(32)),r=e+n;t.setPosition(r);const i=$c(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=nte(Rs(s));return t.setPosition(e+32),[o,32]}function xg(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(xg);const n=r6(t.type);return!!(n&&xg({...t,type:n[1]}))}function ute(t){const{abi:e,data:n}=t,r=bd(n,0,4);if(r==="0x")throw new Iy;const s=[...e||[],YB,Jee].find(o=>o.type==="error"&&r===Cy(Ko(o)));if(!s)throw new kB(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Oy(s.inputs,bd(n,4)):void 0,errorName:s.name}}const Mr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function JB({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Mr(e[s]):e[s]}`).join(", ")})`}const dte={gwei:9,wei:18},hte={ether:-9,wei:9};function XB(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function s6(t,e="wei"){return XB(t,dte[e])}function ls(t,e="wei"){return XB(t,hte[e])}class fte extends be{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class pte extends be{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function fO(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function mte(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=fO(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=fO(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Ry(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class gte extends be{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class yte extends be{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ry(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class wte extends be{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class bte extends be{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:p}){var y;const m=Ry({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${s6(p)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${ls(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ls(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ls(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class QB extends be{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class eU extends be{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class tU extends be{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class vte extends be{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const _te=t=>t,o6=t=>t;class nU extends be{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:p,stateOverride:m}){var v;const y=n?En(n):void 0;let w=Ry({from:y==null?void 0:y.address,to:f,value:typeof p<"u"&&`${s6(p)} ${((v=i==null?void 0:i.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${ls(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ls(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ls(u)} gwei`,nonce:d});m&&(w+=`
${mte(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class rU extends be{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=zd({abi:n,args:r,name:o}),u=c?JB({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Ko(c,{includeName:!0}):void 0,f=Ry({address:i&&_te(i),function:d,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class eT extends be{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=ute({abi:e,data:n});const{abiItem:d,errorName:f,args:p}=o;if(f==="Error")c=p[0];else if(f==="Panic"){const[m]=p;c=Zee[m]}else{const m=d?Ko(d,{includeName:!0}):void 0,y=d&&p?JB({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",y&&y!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(d){s=d}else i&&(c=i);let u;s instanceof kB&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class Ete extends be{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class xte extends be{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class k1 extends be{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class ng extends be{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${o6(o)}`,e&&`Request body: ${Mr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class a6 extends be{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${o6(r)}`,`Request body: ${Mr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class pO extends be{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${o6(n)}`,`Request body: ${Mr(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Ste=-1;class fs extends be{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof a6?e.code:n??Ste}}class Ls extends fs{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Sg extends fs{constructor(e){super(e,{code:Sg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ag extends fs{constructor(e){super(e,{code:Ag.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Tg extends fs{constructor(e,{method:n}={}){super(e,{code:Tg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ig extends fs{constructor(e){super(e,{code:Ig.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class vd extends fs{constructor(e){super(e,{code:vd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class nu extends fs{constructor(e){super(e,{code:nu.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class kg extends fs{constructor(e){super(e,{code:kg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Cg extends fs{constructor(e){super(e,{code:Cg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Pg extends fs{constructor(e){super(e,{code:Pg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ed extends fs{constructor(e,{method:n}={}){super(e,{code:ed.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Bf extends fs{constructor(e){super(e,{code:Bf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Bf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Og extends fs{constructor(e){super(e,{code:Og.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Og,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class xf extends Ls{constructor(e){super(e,{code:xf.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(xf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Rg extends Ls{constructor(e){super(e,{code:Rg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ng extends Ls{constructor(e,{method:n}={}){super(e,{code:Ng.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class $g extends Ls{constructor(e){super(e,{code:$g.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty($g,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Dg extends Ls{constructor(e){super(e,{code:Dg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Mg extends Ls{constructor(e){super(e,{code:Mg.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Uf extends Ls{constructor(e){super(e,{code:Uf.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Uf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Lg extends Ls{constructor(e){super(e,{code:Lg.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Bg extends Ls{constructor(e){super(e,{code:Bg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Bg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Ug extends Ls{constructor(e){super(e,{code:Ug.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Fg extends Ls{constructor(e){super(e,{code:Fg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class jg extends Ls{constructor(e){super(e,{code:jg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ff extends Ls{constructor(e){super(e,{code:Ff.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Ate extends fs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Tte=3;function _d(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof k1?t:t instanceof be?t.walk(y=>"data"in y)||t.walk():{},{code:c,data:u,details:d,message:f,shortMessage:p}=a,m=t instanceof Iy?new Ete({functionName:s}):[Tte,vd.code].includes(c)&&(u||d||f||p)||c===nu.code&&d==="execution reverted"&&u?new eT({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof a6?d:p??f}):t;return new rU(m,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}function iU(t){const e=Yr(`0x${t.substring(4)}`).substring(26);return ky(`0x${e}`)}async function Ite({hash:t,signature:e}){const n=Li(t)?t:Pt(t),{secp256k1:r}=await ze(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>ose);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:f,yParity:p}=e,m=Number(p??f),y=mO(m);return new r.Signature(cn(u),cn(d)).addRecoveryBit(y)}const o=Li(e)?e:Pt(e);if(Hn(o)!==65)throw new Error("invalid signature length");const a=$s(`0x${o.slice(130)}`),c=mO(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function mO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function sU({hash:t,signature:e}){return iU(await Ite({hash:t,signature:e}))}function zc(t,e="hex"){const n=oU(t),r=i6(new Uint8Array(n.length));return n.encode(r),e==="hex"?xr(r.bytes):r.bytes}function oU(t){return Array.isArray(t)?kte(t.map(e=>oU(e))):Cte(t)}function kte(t){const e=t.reduce((i,s)=>i+s.length,0),n=aU(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Cte(t){const e=typeof t=="string"?Bi(t):t,n=aU(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function aU(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new be("Length is too large.")}function cU(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Yr(go(["0x05",zc([e?Pe(e):"0x",i,n?Pe(n):"0x"])]));return r==="bytes"?Bi(s):s}async function C1(t){const{authorization:e,signature:n}=t;return sU({hash:cU(e),signature:n??e})}class Pte extends be{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:p}){var y;const m=Ry({from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${s6(p)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${ls(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ls(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ls(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class sf extends be{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(sf,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(sf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Ed extends be{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ls(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Ed,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class tT extends be{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ls(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(tT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class nT extends be{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(nT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class rT extends be{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(rT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class iT extends be{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(iT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class sT extends be{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(sT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class oT extends be{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(oT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class aT extends be{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(aT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class cT extends be{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(cT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class zg extends be{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ls(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ls(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(zg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Ny extends be{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function P1(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof be?t.walk(i=>(i==null?void 0:i.code)===sf.code):t;return r instanceof be?new sf({cause:t,message:r.details}):sf.nodeMessage.test(n)?new sf({cause:t,message:t.details}):Ed.nodeMessage.test(n)?new Ed({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):tT.nodeMessage.test(n)?new tT({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):nT.nodeMessage.test(n)?new nT({cause:t,nonce:e==null?void 0:e.nonce}):rT.nodeMessage.test(n)?new rT({cause:t,nonce:e==null?void 0:e.nonce}):iT.nodeMessage.test(n)?new iT({cause:t,nonce:e==null?void 0:e.nonce}):sT.nodeMessage.test(n)?new sT({cause:t}):oT.nodeMessage.test(n)?new oT({cause:t,gas:e==null?void 0:e.gas}):aT.nodeMessage.test(n)?new aT({cause:t,gas:e==null?void 0:e.gas}):cT.nodeMessage.test(n)?new cT({cause:t}):zg.nodeMessage.test(n)?new zg({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Ny({cause:t})}function Ote(t,{docsPath:e,...n}){const r=(()=>{const i=P1(t,n);return i instanceof Ny?t:i})();return new Pte(r,{docsPath:e,...n})}function hp(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}function O1(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const o=e(i,s);if(n)for(const a of n)delete o[a];return{...o,...r(i,s)}},type:t})}const Rte={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Qc(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=$te(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>xr(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Pe(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Pe(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Pe(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Pe(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Pe(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Pe(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=Rte[t.type]),typeof t.value<"u"&&(n.value=Pe(t.value)),n}const Nte=O1("transactionRequest",Qc);function $te(t){return t.map(e=>({address:e.address,r:e.r?Pe(BigInt(e.r)):e.r,s:e.s?Pe(BigInt(e.s)):e.s,chainId:Pe(e.chainId),nonce:Pe(e.nonce),...typeof e.yParity<"u"?{yParity:Pe(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Pe(e.v)}:{}}))}function gO(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new nO({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new nO({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Dte(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Pe(e)),n!==void 0&&(o.nonce=Pe(n)),r!==void 0&&(o.state=gO(r)),i!==void 0){if(o.state)throw new pte;o.stateDiff=gO(i)}return o}function c6(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!vn(n,{strict:!1}))throw new Er({address:n});if(e[n])throw new fte({address:n});e[n]=Dte(r)}return e}const Mte=2n**16n-1n,R1=2n**256n-1n;function Va(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?En(e):void 0;if(s&&!vn(s.address))throw new Er({address:s.address});if(i&&!vn(i))throw new Er({address:i});if(n&&n>R1)throw new Ed({maxFeePerGas:n});if(r&&n&&r>n)throw new zg({maxFeePerGas:n,maxPriorityFeePerGas:r})}class lU extends be{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class l6 extends be{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Lte extends be{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ls(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class uU extends be{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const dU={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function $y(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?$s(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?$s(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?dU[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Bte(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const hU=O1("transaction",$y);function Bte(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function u6(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:$y(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const fU=O1("block",u6);async function jo(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var u,d,f;const s=i??!1,o=n!==void 0?Pe(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new uU({blockHash:e,blockNumber:n});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:f.format)||u6)(a,"getBlock")}async function d6(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Ute(t,e){return pU(t,e)}async function pU(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await Ve(t,jo,"getBlock")({}),d=await a({block:u,client:t,request:i});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return cn(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Ve(t,jo,"getBlock")({}),Ve(t,d6,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new l6;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Fte(t,e){return lT(t,e)}async function lT(t,e){var p,m;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var y,w;return typeof((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)??1.2})();if(o<1)throw new lU;const c=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),u=y=>y*BigInt(Math.ceil(o*c))/BigInt(c),d=n||await Ve(t,jo,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:i,type:s});if(y!==null)return y}if(s==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new l6;const y=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await pU(t,{block:d,chain:r,request:i}),w=u(d.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??w+y,maxPriorityFeePerGas:y}}return{gasPrice:(i==null?void 0:i.gasPrice)??u(await Ve(t,d6,"getGasPrice")({}))}}async function h6(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Pe(r):n]},{dedupe:!!r});return $s(i)}function f6(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Bi(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>xr(s))}function p6(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Bi(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Bi(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>xr(o))}function jte(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function zte(t,e,n){return t&e^~t&n}function Wte(t,e,n){return t&e^t&n^e&n}let Vte=class extends e6{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Wx(this.buffer)}update(e){Mf(this),e=A1(e),wd(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Wx(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mf(this),$B(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Lf(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;jte(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Wx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const pl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qte=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ml=new Uint32Array(64);let Hte=class extends Vte{constructor(e=32){super(64,e,8,!1),this.A=pl[0]|0,this.B=pl[1]|0,this.C=pl[2]|0,this.D=pl[3]|0,this.E=pl[4]|0,this.F=pl[5]|0,this.G=pl[6]|0,this.H=pl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)ml[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=ml[f-15],m=ml[f-2],y=ua(p,7)^ua(p,18)^p>>>3,w=ua(m,17)^ua(m,19)^m>>>10;ml[f]=w+ml[f-7]+y+ml[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const p=ua(a,6)^ua(a,11)^ua(a,25),m=d+p+zte(a,c,u)+qte[f]+ml[f]|0,w=(ua(r,2)^ua(r,13)^ua(r,22))+Wte(r,i,s)|0;d=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,u,d)}roundClean(){Lf(ml)}destroy(){this.set(0,0,0,0,0,0,0,0),Lf(this.buffer)}};const mU=DB(()=>new Hte),Kte=mU;function gU(t,e){const n=e||"hex",r=Kte(Li(t,{strict:!1})?Nc(t):t);return n==="bytes"?r:Pt(r)}function Gte(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=gU(e,"bytes");return i.set([n],0),r==="bytes"?i:xr(i)}function yU(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(Gte({commitment:s,to:r,version:n}));return i}const yO=6,wU=32,m6=4096,bU=wU*m6,wO=bU*yO-1-1*m6*yO,vU=1;class Yte extends be{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class _U extends be{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Zte extends be{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Jte extends be{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${vU}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Xte(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Bi(t.data):t.data,r=Hn(n);if(!r)throw new _U;if(r>wO)throw new Yte({maxSize:wO,size:r});const i=[];let s=!0,o=0;for(;s;){const a=i6(new Uint8Array(bU));let c=0;for(;c<m6;){const u=n.slice(o,o+(wU-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>xr(a.bytes))}function EU(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??Xte({data:e,to:r}),s=t.commitments??f6({blobs:i,kzg:n,to:r}),o=t.proofs??p6({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function xU(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new yte({transaction:t})}function Dy(t,{docsPath:e,...n}){const r=(()=>{const i=P1(t,n);return i instanceof Ny?t:i})();return new bte(r,{docsPath:e,...n})}async function qa(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return $s(e)}async function g6(t,e){var N,D,F,K,B;const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:o,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,nonceManager:w,to:v,type:E,value:k,..._}=e,x=await(async()=>{if(!n||!w||typeof y<"u")return y;const j=En(n),Y=s?s.id:await Ve(t,qa,"getChainId")({});return await w.consume({address:j.address,chainId:Y,client:t})})();Va(e);const A=(D=(N=s==null?void 0:s.formatters)==null?void 0:N.transactionRequest)==null?void 0:D.format,O=(A||Qc)({...hp(_,{format:A}),account:n?En(n):void 0,accessList:r,authorizationList:i,blobs:a,blobVersionedHashes:o,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:x,to:v,type:E,value:k},"fillTransaction");try{const j=await t.request({method:"eth_fillTransaction",params:[O]}),I=(((K=(F=s==null?void 0:s.formatters)==null?void 0:F.transaction)==null?void 0:K.format)||$y)(j.tx);delete I.blockHash,delete I.blockNumber,delete I.r,delete I.s,delete I.transactionIndex,delete I.v,delete I.yParity,I.data=I.input,I.gas&&(I.gas=e.gas??I.gas),I.gasPrice&&(I.gasPrice=e.gasPrice??I.gasPrice),I.maxFeePerBlobGas&&(I.maxFeePerBlobGas=e.maxFeePerBlobGas??I.maxFeePerBlobGas),I.maxFeePerGas&&(I.maxFeePerGas=e.maxFeePerGas??I.maxFeePerGas),I.maxPriorityFeePerGas&&(I.maxPriorityFeePerGas=e.maxPriorityFeePerGas??I.maxPriorityFeePerGas),I.nonce&&(I.nonce=e.nonce??I.nonce);const P=await(async()=>{var z,W;if(typeof((z=s==null?void 0:s.fees)==null?void 0:z.baseFeeMultiplier)=="function"){const G=await Ve(t,jo,"getBlock")({});return s.fees.baseFeeMultiplier({block:G,client:t,request:e})}return((W=s==null?void 0:s.fees)==null?void 0:W.baseFeeMultiplier)??1.2})();if(P<1)throw new lU;const M=10**(((B=P.toString().split(".")[1])==null?void 0:B.length)??0),R=z=>z*BigInt(Math.ceil(P*M))/BigInt(M);return I.maxFeePerGas&&!e.maxFeePerGas&&(I.maxFeePerGas=R(I.maxFeePerGas)),I.gasPrice&&!e.gasPrice&&(I.gasPrice=R(I.gasPrice)),{raw:j.raw,transaction:{from:O.from,...I}}}catch(j){throw Dy(j,{...e,chain:t.chain})}}const y6=["blobVersionedHashes","chainId","fees","gas","nonce","type"],bO=new Map,Hx=new dp(128);async function fp(t,e){var x,A,T;let n=e;n.account??(n.account=t.account),n.parameters??(n.parameters=y6);const{account:r,chain:i=t.chain,nonceManager:s,parameters:o}=n,a=(()=>{if(typeof(i==null?void 0:i.prepareTransactionRequest)=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i==null?void 0:i.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:i?i.id:(c=await Ve(t,qa,"getChainId")({}),c))}const d=r&&En(r);let f=n.nonce;if(o.includes("nonce")&&typeof f>"u"&&d&&s){const O=await u();f=await s.consume({address:d.address,chainId:O,client:t})}a!=null&&a.fn&&((x=a.runAt)!=null&&x.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:i},{phase:"beforeFillTransaction"}),f??(f=n.nonce));const m=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&n.kzg&&n.blobs||Hx.get(t.uid)===!1||!["fees","gas"].some(N=>o.includes(N))?!1:!!(o.includes("chainId")&&typeof n.chainId!="number"||o.includes("nonce")&&typeof f!="number"||o.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof n.gas!="bigint"))?await Ve(t,g6,"fillTransaction")({...n,nonce:f}).then(O=>{const{chainId:N,from:D,gas:F,gasPrice:K,nonce:B,maxFeePerBlobGas:j,maxFeePerGas:Y,maxPriorityFeePerGas:I,type:P,...L}=O.transaction;return Hx.set(t.uid,!0),{...n,...D?{from:D}:{},...P?{type:P}:{},...typeof N<"u"?{chainId:N}:{},...typeof F<"u"?{gas:F}:{},...typeof K<"u"?{gasPrice:K}:{},...typeof B<"u"?{nonce:B}:{},...typeof j<"u"?{maxFeePerBlobGas:j}:{},...typeof Y<"u"?{maxFeePerGas:Y}:{},...typeof I<"u"?{maxPriorityFeePerGas:I}:{},..."nonceKey"in L&&typeof L.nonceKey<"u"?{nonceKey:L.nonceKey}:{}}}).catch(O=>{var F;const N=O;return N.name!=="TransactionExecutionError"||((F=N.walk)==null?void 0:F.call(N,K=>{const B=K;return B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError"}))&&Hx.set(t.uid,!1),n}):n;f??(f=m.nonce),n={...m,...d?{from:d==null?void 0:d.address}:{},...f?{nonce:f}:{}};const{blobs:y,gas:w,kzg:v,type:E}=n;a!=null&&a.fn&&((A=a.runAt)!=null&&A.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:i},{phase:"beforeFillParameters"}));let k;async function _(){return k||(k=await Ve(t,jo,"getBlock")({blockTag:"latest"}),k)}if(o.includes("nonce")&&typeof f>"u"&&d&&!s&&(n.nonce=await Ve(t,h6,"getTransactionCount")({address:d.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&y&&v){const O=f6({blobs:y,kzg:v});if(o.includes("blobVersionedHashes")){const N=yU({commitments:O,to:"hex"});n.blobVersionedHashes=N}if(o.includes("sidecars")){const N=p6({blobs:y,commitments:O,kzg:v}),D=EU({blobs:y,commitments:O,proofs:N,to:"hex"});n.sidecars=D}}if(o.includes("chainId")&&(n.chainId=await u()),(o.includes("fees")||o.includes("type"))&&typeof E>"u")try{n.type=xU(n)}catch{let O=bO.get(t.uid);if(typeof O>"u"){const N=await _();O=typeof(N==null?void 0:N.baseFeePerGas)=="bigint",bO.set(t.uid,O)}n.type=O?"eip1559":"legacy"}if(o.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const O=await _(),{maxFeePerGas:N,maxPriorityFeePerGas:D}=await lT(t,{block:O,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<D)throw new Lte({maxPriorityFeePerGas:D});n.maxPriorityFeePerGas=D,n.maxFeePerGas=N}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new l6;if(typeof n.gasPrice>"u"){const O=await _(),{gasPrice:N}=await lT(t,{block:O,chain:i,request:n,type:"legacy"});n.gasPrice=N}}return o.includes("gas")&&typeof w>"u"&&(n.gas=await Ve(t,w6,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((T=a.runAt)!=null&&T.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:i},{phase:"afterFillParameters"})),Va(n),delete n.parameters,n}async function w6(t,e){var o,a,c;const{account:n=t.account,prepare:r=!0}=e,i=n?En(n):void 0,s=(()=>{if(Array.isArray(r))return r;if((i==null?void 0:i.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await C1({authorization:e.authorizationList[0]}).catch(()=>{throw new be("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:f,blobs:p,blobVersionedHashes:m,blockNumber:y,blockTag:w,data:v,gas:E,gasPrice:k,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:A,nonce:T,value:O,stateOverride:N,...D}=r?await fp(t,{...e,parameters:s,to:u}):e;if(E&&e.gas!==E)return E;const K=(typeof y=="bigint"?Pe(y):void 0)||w,B=c6(N);Va(e);const j=(c=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,I=(j||Qc)({...hp(D,{format:j}),account:i,accessList:d,authorizationList:f,blobs:p,blobVersionedHashes:m,data:v,gasPrice:k,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:A,nonce:T,to:u,value:O},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:B?[I,K??t.experimental_blockTag??"latest",B]:K?[I,K]:[I]}))}catch(u){throw Ote(u,{...e,account:i,chain:t.chain})}}async function Qte(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,c=Wi({abi:n,args:i,functionName:s});try{return await Ve(t,w6,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const d=a.account?En(a.account):void 0;throw _d(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:d==null?void 0:d.address})}}function My(t,e){if(!vn(t,{strict:!1}))throw new Er({address:t});if(!vn(e,{strict:!1}))throw new Er({address:e});return t.toLowerCase()===e.toLowerCase()}const vO="/docs/contract/decodeEventLog";function tv(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new VQ({docsPath:vO});const c=e.find(E=>E.type==="event"&&o===T1(Ko(E)));if(!(c&&"name"in c)||c.type!=="event")throw new qQ(o,{docsPath:vO});const{name:u,inputs:d}=c,f=d==null?void 0:d.some(E=>!("name"in E&&E.name)),p=f?[]:{},m=d.map((E,k)=>[E,k]).filter(([E])=>"indexed"in E&&E.indexed),y=[];for(let E=0;E<m.length;E++){const[k,_]=m[E],x=a[E];if(!x){if(s)throw new X5({abiItem:c,param:k});y.push([k,_]);continue}p[f?_:k.name||_]=ene({param:k,value:x})}const w=d.filter(E=>!("indexed"in E&&E.indexed)),v=s?w:[...y.map(([E])=>E),...w];if(v.length>0){if(n&&n!=="0x")try{const E=Oy(v,n);if(E){let k=0;if(!s)for(const[_,x]of y)p[f?x:_.name||x]=E[k++];if(f)for(let _=0;_<d.length;_++)p[_]===void 0&&k<E.length&&(p[_]=E[k++]);else for(let _=0;_<w.length;_++)p[w[_].name]=E[k++]}}catch(E){if(s)throw E instanceof IB||E instanceof ZB?new ev({abiItem:c,data:n,params:v,size:Hn(n)}):E}else if(s)throw new ev({abiItem:c,data:"0x",params:v,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function ene({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Oy([t],e)||[])[0]}function b6(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var d;const a=e.filter(f=>f.type==="event"&&o.topics[0]===T1(f));if(a.length===0)return null;let c,u;for(const f of a)try{c=tv({...o,abi:[f],strict:!0}),u=f;break}catch{}if(!c&&!i){u=a[0];try{c=tv({...o,abi:[u],strict:!1})}catch{const f=(d=u.inputs)==null?void 0:d.some(p=>!("name"in p&&p.name));return{...o,args:f?[]:{},eventName:u.name}}}return!c||!u||s&&!s.includes(c.eventName)||!tne({args:c.args,inputs:u.inputs,matchArgs:n})?null:{...c,...o}}).filter(Boolean)}function tne(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?My(o,a):s.type==="string"||s.type==="bytes"?Yr(Nc(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(u=>i(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===s);return a?(Array.isArray(o)?o:[o]).some(u=>i(a,u,e[s])):!1}):!1}function Ua(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function v6(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const u=c??!1,d=o??(s?[s]:void 0);let f=[];d&&(f=[d.flatMap(w=>Py({abi:[w],eventName:w.name,args:o?void 0:a}))],s&&(f=f[0]));let p;n?p=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):p=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?Pe(r):r,toBlock:typeof i=="bigint"?Pe(i):i}]});const m=p.map(y=>Ua(y));return d?b6({abi:d,args:a,logs:m,strict:u}):m}async function SU(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:u}=e,d=o?zd({abi:n,name:o}):void 0,f=d?void 0:n.filter(p=>p.type==="event");return Ve(t,v6,"getLogs")({address:r,args:i,blockHash:s,event:d,events:f,fromBlock:a,toBlock:c,strict:u})}const Kx="/docs/contract/decodeFunctionResult";function Wd(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=zd({abi:e,args:n,name:r});if(!a)throw new $f(r,{docsPath:Kx});s=a}if(s.type!=="function")throw new $f(void 0,{docsPath:Kx});if(!s.outputs)throw new CB(s.name,{docsPath:Kx});const o=Oy(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _6=BigInt(0),uT=BigInt(1);function Ly(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function E6(t){if(!Ly(t))throw new Error("Uint8Array expected")}function Wg(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Pw(t){const e=t.toString(16);return e.length&1?"0"+e:e}function AU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_6:BigInt("0x"+t)}const TU=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",nne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vg(t){if(E6(t),TU)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=nne[t[n]];return e}const sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function _O(t){if(t>=sc._0&&t<=sc._9)return t-sc._0;if(t>=sc.A&&t<=sc.F)return t-(sc.A-10);if(t>=sc.a&&t<=sc.f)return t-(sc.a-10)}function nv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(TU)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=_O(t.charCodeAt(s)),a=_O(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function hd(t){return AU(Vg(t))}function IU(t){return E6(t),AU(Vg(Uint8Array.from(t).reverse()))}function By(t,e){return nv(t.toString(16).padStart(e*2,"0"))}function kU(t,e){return By(t,e).reverse()}function ro(t,e,n){let r;if(typeof e=="string")try{r=nv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Ly(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function rv(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];E6(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Gx=t=>typeof t=="bigint"&&_6<=t;function x6(t,e,n){return Gx(t)&&Gx(e)&&Gx(n)&&e<=t&&t<n}function Sf(t,e,n,r){if(!x6(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function rne(t){let e;for(e=0;t>_6;t>>=uT,e+=1);return e}const N1=t=>(uT<<BigInt(t))-uT,Yx=t=>new Uint8Array(t),EO=t=>Uint8Array.from(t);function ine(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Yx(t),i=Yx(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),c=(f=Yx(0))=>{i=a(EO([0]),f),r=a(),f.length!==0&&(i=a(EO([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const m=r.slice();p.push(m),f+=r.length}return rv(...p)};return(f,p)=>{o(),c(f);let m;for(;!(m=p(u()));)c();return o(),m}}const sne={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ly(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $1(t,e,n={}){const r=(i,s,o)=>{const a=sne[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function xO(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const one="0.1.1";function ane(){return one}let Bt=class mc extends Error{static setStaticOptions(e){mc.prototype.docsOrigin=e.docsOrigin,mc.prototype.showVersion=e.showVersion,mc.prototype.version=e.version}constructor(e,n={}){const r=(()=>{var d;if(n.cause instanceof mc){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),i=n.cause instanceof mc&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??mc.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(n.version??mc.prototype.showVersion),c=n.version??mc.prototype.version,u=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||a?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=a,this.version=c}walk(e){return CU(this,e)}};Object.defineProperty(Bt,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${ane()}`}});Bt.setStaticOptions(Bt.defaultStaticOptions);function CU(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?CU(t.cause,e):e?null:t}function Uy(t,e){if(of(t)>e)throw new Sne({givenSize:of(t),maxSize:e})}const oc={zero:48,nine:57,A:65,F:70,a:97,f:102};function SO(t){if(t>=oc.zero&&t<=oc.nine)return t-oc.zero;if(t>=oc.A&&t<=oc.F)return t-(oc.A-10);if(t>=oc.a&&t<=oc.f)return t-(oc.a-10)}function cne(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Ane({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function PU(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function D1(t,e){if(Ds(t)>e)throw new One({givenSize:Ds(t),maxSize:e})}function lne(t,e){if(typeof e=="number"&&e>0&&e>Ds(t)-1)throw new UU({offset:e,position:"start",size:Ds(t)})}function une(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ds(t)!==n-e)throw new UU({offset:n,position:"end",size:Ds(t)})}function OU(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Rne({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const dne="#__bigint";function RU(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+dne:i,n)}const hne=new TextDecoder,fne=new TextEncoder;function pne(t){return t instanceof Uint8Array?t:typeof t=="string"?NU(t):mne(t)}function mne(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function NU(t,e={}){const{size:n}=e;let r=t;n&&(D1(t,n),r=Sd(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=SO(i.charCodeAt(c++)),d=SO(i.charCodeAt(c++));if(u===void 0||d===void 0)throw new Bt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=u<<4|d}return o}function gne(t,e={}){const{size:n}=e,r=fne.encode(t);return typeof n=="number"?(Uy(r,n),yne(r,n)):r}function yne(t,e){return cne(t,{dir:"right",size:e})}function of(t){return t.length}function wne(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function bne(t,e={}){const{size:n}=e;typeof n<"u"&&Uy(t,n);const r=Yo(t,e);return MU(r,e)}function vne(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Uy(r,n),r=$U(r)),r.length>1||r[0]>1)throw new xne(r);return!!r[0]}function Dc(t,e={}){const{size:n}=e;typeof n<"u"&&Uy(t,n);const r=Yo(t,e);return LU(r,e)}function _ne(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Uy(r,n),r=Ene(r)),hne.decode(r)}function $U(t){return PU(t,{dir:"left"})}function Ene(t){return PU(t,{dir:"right"})}class xne extends Bt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Sne=class extends Bt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Ane=class extends Bt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Tne=new TextEncoder,Ine=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kne(t,e={}){const{strict:n=!1}=e;if(!t)throw new AO(t);if(typeof t!="string")throw new AO(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new TO(t);if(!t.startsWith("0x"))throw new TO(t)}function Go(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Cne(t){return t instanceof Uint8Array?Yo(t):Array.isArray(t)?Yo(new Uint8Array(t)):t}function DU(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(D1(n,e.size),xd(n,e.size)):n}function Yo(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Ine[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(D1(r,e.size),Sd(r,e.size)):r}function Mi(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new BU({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?xd(c,r):c}function S6(t,e={}){return Yo(Tne.encode(t),e)}function xd(t,e){return OU(t,{dir:"left",size:e})}function Sd(t,e){return OU(t,{dir:"right",size:e})}function Ca(t,e,n,r={}){const{strict:i}=r;lne(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&une(s,e,n),s}function Ds(t){return Math.ceil((t.length-2)/2)}function MU(t,e={}){const{signed:n}=e;e.size&&D1(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function LU(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:MU(t,e))}function Pne(t,e={}){const{strict:n=!1}=e;try{return kne(t,{strict:n}),!0}catch{return!1}}let BU=class extends Bt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},AO=class extends Bt{constructor(e){super(`Value \`${typeof e=="object"?RU(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},TO=class extends Bt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},One=class extends Bt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},UU=class extends Bt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Rne=class extends Bt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Nne(t){return{address:t.address,amount:Mi(t.amount),index:Mi(t.index),validatorIndex:Mi(t.validatorIndex)}}function FU(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Mi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Mi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Mi(t.gasLimit)},...typeof t.number=="bigint"&&{number:Mi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Mi(t.prevRandao)},...typeof t.time=="bigint"&&{time:Mi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Nne)}}}const iv=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],dT=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],jU=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],zU=[...jU,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$ne=[...jU,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],IO=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],kO=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],WU=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],CO=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Gje=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Dne="0x82ad56cb",VU="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Mne="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Lne="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",A6="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class hT extends be{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Bne extends be{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Une extends be{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class qU extends be{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Fy extends be{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Zx="/docs/contract/encodeDeployData";function M1(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new TB({docsPath:Zx});if(!("inputs"in i))throw new Qb({docsPath:Zx});if(!i.inputs||i.inputs.length===0)throw new Qb({docsPath:Zx});const s=lu(i.inputs,n);return go([r,s])}function pp({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new hT({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new hT({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function HU(t,{docsPath:e,...n}){const r=(()=>{const i=P1(t,n);return i instanceof Ny?t:i})();return new nU(r,{docsPath:e,...n})}function T6(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Jx=new Map;function KU({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const d=c();o();const f=d.map(({args:p})=>p);f.length!==0&&t(f).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let m=0;m<d.length;m++){const{resolve:y}=d[m];y==null||y([p[m],p])}}).catch(p=>{for(let m=0;m<d.length;m++){const{reject:y}=d[m];y==null||y(p)}})},o=()=>Jx.delete(e),a=()=>c().map(({args:d})=>d),c=()=>Jx.get(e)||[],u=d=>Jx.set(e,[...c(),d]);return{flush:o,async schedule(d){const{promise:f,resolve:p,reject:m}=T6();return(n==null?void 0:n([...a(),d]))&&s(),c().length>0?(u({args:d,resolve:p,reject:m}),f):(u({args:d,resolve:p,reject:m}),setTimeout(s,r),f)}}}async function L1(t,e){var j,Y,I,P;const{account:n=t.account,authorizationList:r,batch:i=!!((j=t.batch)!=null&&j.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:d,data:f,factory:p,factoryData:m,gas:y,gasPrice:w,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:k,nonce:_,to:x,value:A,stateOverride:T,...O}=e,N=n?En(n):void 0;if(d&&(p||m))throw new be("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&x)throw new be("Cannot provide both `code` & `to` as parameters.");const D=d&&f,F=p&&m&&x&&f,K=D||F,B=D?GU({code:d,data:f}):F?zne({data:f,factory:p,factoryData:m,to:x}):f;try{Va(e);const M=(typeof s=="bigint"?Pe(s):void 0)||o,R=u?FU(u):void 0,z=c6(T),W=(P=(I=(Y=t.chain)==null?void 0:Y.formatters)==null?void 0:I.transactionRequest)==null?void 0:P.format,ie=(W||Qc)({...hp(O,{format:W}),accessList:a,account:N,authorizationList:r,blobs:c,data:B,gas:y,gasPrice:w,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:k,nonce:_,to:K?void 0:x,value:A},"call");if(i&&Fne({request:ie})&&!z&&!R)try{return await jne(t,{...ie,blockNumber:s,blockTag:o})}catch(pe){if(!(pe instanceof qU)&&!(pe instanceof hT))throw pe}const te=(()=>{const pe=[ie,M];return z&&R?[...pe,z,R]:z?[...pe,z]:R?[...pe,{},R]:pe})(),ee=await t.request({method:"eth_call",params:te});return ee==="0x"?{data:void 0}:{data:ee}}catch(L){const M=Wne(L),{offchainLookup:R,offchainLookupSignature:z}=await ze(async()=>{const{offchainLookup:W,offchainLookupSignature:G}=await import("./ccip-bzHn-AJI.js");return{offchainLookup:W,offchainLookupSignature:G}},[]);if(t.ccipRead!==!1&&(M==null?void 0:M.slice(0,10))===z&&x)return{data:await R(t,{data:M,to:x})};throw K&&(M==null?void 0:M.slice(0,10))==="0x101bb98d"?new xte({factory:p}):HU(L,{...e,account:N,chain:t.chain})}}function Fne({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Dne)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function jne(t,e){var w;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((w=t.batch)==null?void 0:w.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:c}=e,u=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return pp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new qU})(),f=(typeof s=="bigint"?Pe(s):void 0)||o,{schedule:p}=KU({id:`${t.uid}.${f}`,wait:i,shouldSplitBatch(v){return v.reduce((k,{data:_})=>k+(_.length-2),0)>n*2},fn:async v=>{const E=v.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),k=Wi({abi:iv,args:[E],functionName:"aggregate3"}),_=await t.request({method:"eth_call",params:[{...u===null?{data:GU({code:A6,data:k})}:{to:u,data:k}},f]});return Wd({abi:iv,args:[E],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:m,success:y}]=await p({data:a,to:c});if(!y)throw new k1({data:m});return m==="0x"?{data:void 0}:{data:m}}function GU(t){const{code:e,data:n}=t;return M1({abi:xB(["constructor(bytes, bytes)"]),bytecode:VU,args:[e,n]})}function zne(t){const{data:e,factory:n,factoryData:r,to:i}=t;return M1({abi:xB(["constructor(address, bytes, address, bytes)"]),bytecode:Mne,args:[i,e,n,r]})}function Wne(t){var n;if(!(t instanceof be))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function Zo(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Wi({abi:n,args:i,functionName:s});try{const{data:c}=await Ve(t,L1,"call")({...o,data:a,to:r});return Wd({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw _d(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Vne(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,c=a.account?En(a.account):t.account,u=Wi({abi:n,args:i,functionName:o});try{const{data:d}=await Ve(t,L1,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),f=Wd({abi:n,args:i,functionName:o,data:d||"0x"}),p=n.filter(m=>"name"in m&&m.name===e.functionName);return{result:f,request:{abi:p,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(d){throw _d(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Xx=new Map,PO=new Map;let qne=0;function Wc(t,e,n){const r=++qne,i=()=>Xx.get(t)||[],s=()=>{const d=i();Xx.set(t,d.filter(f=>f.id!==r))},o=()=>{const d=i();if(!d.some(p=>p.id===r))return;const f=PO.get(t);if(d.length===1&&f){const p=f();p instanceof Promise&&p.catch(()=>{})}s()},a=i();if(Xx.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const d in e)c[d]=((...f)=>{var m,y;const p=i();if(p.length!==0)for(const w of p)(y=(m=w.fns)[d])==null||y.call(m,...f)});const u=n(c);return typeof u=="function"&&PO.set(t,u),o}async function fT(t){return new Promise(e=>setTimeout(e,t))}function mp(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await fT(c);const u=async()=>{i&&(await t({unpoll:s}),await fT(r),u())};u()})(),s}const Hne=new Map,Kne=new Map;function Gne(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,Hne),r=e(t,Kne);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Yne(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Gne(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Zne=t=>`blockNumber.${t}`;async function jy(t,{cacheTime:e=t.cacheTime}={}){const n=await Yne(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Zne(t.uid),cacheTime:e});return BigInt(n)}async function B1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Ua(s));return!("abi"in e)||!e.abi?i:b6({abi:e.abi,logs:i,strict:n})}async function U1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Jne(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:f=t.pollingInterval,strict:p}=e;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const v=p??!1,E=Mr(["watchContractEvent",r,i,s,t.uid,o,f,v,a]);return Wc(E,{onLogs:u,onError:c},k=>{let _;a!==void 0&&(_=a-1n);let x,A=!1;const T=mp(async()=>{var O;if(!A){try{x=await Ve(t,GB,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:v,fromBlock:a})}catch{}A=!0;return}try{let N;if(x)N=await Ve(t,B1,"getFilterChanges")({filter:x});else{const D=await Ve(t,jy,"getBlockNumber")({});_&&_<D?N=await Ve(t,SU,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:_+1n,toBlock:D,strict:v}):N=[],_=D}if(N.length===0)return;if(s)k.onLogs(N);else for(const D of N)k.onLogs([D])}catch(N){x&&N instanceof nu&&(A=!1),(O=k.onError)==null||O.call(k,N)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await Ve(t,U1,"uninstallFilter")({filter:x}),T()}})})():(()=>{const v=p??!1,E=Mr(["watchContractEvent",r,i,s,t.uid,o,f,v]);let k=!0,_=()=>k=!1;return Wc(E,{onLogs:u,onError:c},x=>((async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const N=t.transport.transports.find(D=>D.config.type==="webSocket"||D.config.type==="ipc");return N?N.value:t.transport}return t.transport})(),T=o?Py({abi:n,eventName:o,args:i}):[],{unsubscribe:O}=await A.subscribe({params:["logs",{address:r,topics:T}],onData(N){var F;if(!k)return;const D=N.result;try{const{eventName:K,args:B}=tv({abi:n,data:D.data,topics:D.topics,strict:p}),j=Ua(D,{args:B,eventName:K});x.onLogs([j])}catch(K){let B,j;if(K instanceof ev||K instanceof X5){if(p)return;B=K.abiItem.name,j=(F=K.abiItem.inputs)==null?void 0:F.some(I=>!("name"in I&&I.name))}const Y=Ua(D,{args:j?[]:{},eventName:B});x.onLogs([Y])}},onError(N){var D;(D=x.onError)==null||D.call(x,N)}});_=O,k||_()}catch(A){c==null||c(A)}})(),()=>_()))})()}class Ha extends be{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class fd extends be{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function zy({chain:t,currentChainId:e}){if(!t)throw new Une;if(e!==t.id)throw new Bne({chain:t,currentChainId:e})}async function F1(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Qx=new dp(128);async function Wy(t,e){var _,x,A,T;const{account:n=t.account,assertChainId:r=!0,chain:i=t.chain,accessList:s,authorizationList:o,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,type:w,value:v,...E}=e;if(typeof n>"u")throw new Ha({docsPath:"/docs/actions/wallet/sendTransaction"});const k=n?En(n):null;try{Va(e);const O=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await C1({authorization:o[0]}).catch(()=>{throw new be("`to` is required. Could not infer from `authorizationList`.")})})();if((k==null?void 0:k.type)==="json-rpc"||k===null){let N;i!==null&&(N=await Ve(t,qa,"getChainId")({}),r&&zy({currentChainId:N,chain:i}));const D=(A=(x=(_=t.chain)==null?void 0:_.formatters)==null?void 0:x.transactionRequest)==null?void 0:A.format,K=(D||Qc)({...hp(E,{format:D}),accessList:s,account:k,authorizationList:o,blobs:a,chainId:N,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:O,type:w,value:v},"sendTransaction"),B=Qx.get(t.uid),j=B?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:j,params:[K]},{retryCount:0})}catch(Y){if(B===!1)throw Y;const I=Y;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[K]},{retryCount:0}).then(P=>(Qx.set(t.uid,!0),P)).catch(P=>{const L=P;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(Qx.set(t.uid,!1),I):L});throw I}}if((k==null?void 0:k.type)==="local"){const N=await Ve(t,fp,"prepareTransactionRequest")({account:k,accessList:s,authorizationList:o,blobs:a,chain:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,nonceManager:k.nonceManager,parameters:[...y6,"sidecars"],type:w,value:v,...E,to:O}),D=(T=i==null?void 0:i.serializers)==null?void 0:T.transaction,F=await k.signTransaction(N,{serializer:D});return await Ve(t,F1,"sendRawTransaction")({serializedTransaction:F})}throw(k==null?void 0:k.type)==="smart"?new fd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fd({docsPath:"/docs/actions/wallet/sendTransaction",type:k==null?void 0:k.type})}catch(O){throw O instanceof fd?O:Dy(O,{...e,account:k,chain:e.chain||void 0})}}async function jf(t,e){return jf.internal(t,Wy,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:o,account:a=n.account,address:c,args:u,dataSuffix:d,functionName:f,...p}=s;if(typeof a>"u")throw new Ha({docsPath:"/docs/contract/writeContract"});const m=a?En(a):null,y=Wi({abi:o,args:u,functionName:f});try{return await Ve(n,r,i)({data:`${y}${d?d.replace("0x",""):""}`,to:c,account:m,...p})}catch(w){throw _d(w,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:m==null?void 0:m.address})}}t.internal=e})(jf||(jf={}));class Xne extends be{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function sv(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof e=="function"?e({count:a,error:u}):e;d&&await fT(d),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});s(u)}};o()})}const YU={"0x0":"reverted","0x1":"success"};function I6(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Ua(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?$s(t.transactionIndex):null,status:t.status?YU[t.status]:null,type:t.type?dU[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const ZU=O1("transactionReceipt",I6),JU="0x5792579257925792579257925792579257925792579257925792579257925792",XU=Pe(0,{size:32});async function QU(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=e,d=n?En(n):null,f=e.calls.map(p=>{const m=p,y=m.abi?Wi({abi:m.abi,functionName:m.functionName,args:m.args}):m.data;return{data:m.dataSuffix&&y?ho([y,m.dataSuffix]):y,to:m.to,value:m.value?Pe(m.value):void 0}});try{const p=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:r,chainId:Pe(i.id),from:d==null?void 0:d.address,id:c,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const m=p;if(s&&(m.name==="MethodNotFoundRpcError"||m.name==="MethodNotSupportedRpcError"||m.name==="UnknownRpcError"||m.details.toLowerCase().includes("does not exist / is not available")||m.details.toLowerCase().includes("missing or invalid. request()")||m.details.toLowerCase().includes("did not match any variant of untagged enum")||m.details.toLowerCase().includes("account upgraded to unsupported contract")||m.details.toLowerCase().includes("eip-7702 not supported")||m.details.toLowerCase().includes("unsupported wc_ method")||m.details.toLowerCase().includes("feature toggled misconfigured")||m.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(k=>!k.optional)){const k="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Uf(new be(k,{details:k}))}if(a&&f.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ff(new be(E,{details:E}))}const y=[];for(const E of f){const k=Wy(t,{account:d,chain:i,data:E.data,to:E.to,value:E.value?cn(E.value):void 0});y.push(k),o>0&&await new Promise(_=>setTimeout(_,o))}const w=await Promise.allSettled(y);if(w.every(E=>E.status==="rejected"))throw w[0].reason;const v=w.map(E=>E.status==="fulfilled"?E.value:XU);return{id:ho([...v,Pe(i.id,{size:32}),JU])}}throw Dy(p,{...e,account:d,chain:e.chain})}}async function eF(t,e){async function n(d){if(d.endsWith(JU.slice(2))){const p=Rs(JA(d,-64,-32)),m=JA(d,0,-64).slice(2).match(/.{1,64}/g),y=await Promise.all(m.map(v=>XU.slice(2)!==v?t.request({method:"eth_getTransactionReceipt",params:[`0x${v}`]},{dedupe:!0}):void 0)),w=y.some(v=>v===null)?100:y.every(v=>(v==null?void 0:v.status)==="0x1")?200:y.every(v=>(v==null?void 0:v.status)==="0x0")?500:600;return{atomic:!1,chainId:$s(p),receipts:y.filter(Boolean),status:w,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[c,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:i?$s(i):void 0,receipts:(s==null?void 0:s.map(d=>({...d,blockNumber:cn(d.blockNumber),gasUsed:cn(d.gasUsed),status:YU[d.status]})))??[],statusCode:u,status:c,version:o}}async function tF(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:w})=>w===200||w>=300,retryCount:s=4,retryDelay:o=({count:w})=>~~(1<<w)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,u=Mr(["waitForCallsStatus",t.uid,n]),{promise:d,resolve:f,reject:p}=T6();let m;const y=Wc(u,{resolve:f,reject:p},w=>{const v=mp(async()=>{const E=k=>{clearTimeout(m),v(),k(),y()};try{const k=await sv(async()=>{const _=await Ve(t,eF,"getCallsStatus")({id:n});if(c&&_.status==="failure")throw new Xne(_);return _},{retryCount:s,delay:o});if(!i(k))return;E(()=>w.resolve(k))}catch(k){E(()=>w.reject(k))}},{interval:r,emitOnBegin:!0});return v});return m=a?setTimeout(()=>{y(),clearTimeout(m),p(new Qne({id:n}))},a):void 0,await d}class Qne extends be{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const pT=256;let Ow=pT,Rw;function nF(t=11){if(!Rw||Ow+t>pT*2){Rw="",Ow=0;for(let e=0;e<pT;e++)Rw+=(256+Math.random()*256|0).toString(16).substring(1)}return Rw.substring(Ow,Ow+++t)}function rF(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=t.pollingInterval??u,f=t.cacheTime??d,p=t.account?En(t.account):void 0,{config:m,request:y,value:w}=t.transport({account:p,chain:n,pollingInterval:d}),v={...m,...w},E={account:p,batch:e,cacheTime:f,ccipRead:r,chain:n,key:i,name:s,pollingInterval:d,request:y,transport:v,type:o,uid:nF(),...a?{experimental_blockTag:a}:{}};function k(_){return x=>{const A=x(_);for(const O in E)delete A[O];const T={..._,...A};return Object.assign(T,{extend:k(T)})}}return Object.assign(E,{extend:k(E)})}function k6(t){var n,r,i,s,o,a;if(!(t instanceof be))return!1;const e=t.walk(c=>c instanceof eT);return e instanceof eT?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function ere(t){const{abi:e,data:n}=t,r=bd(n,0,4),i=e.find(s=>s.type==="function"&&r===Cy(Ko(s)));if(!i)throw new HQ(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Oy(i.inputs,bd(n,4)):void 0}}const e2="/docs/contract/encodeErrorResult";function OO(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=zd({abi:e,args:r,name:n});if(!c)throw new eO(n,{docsPath:e2});i=c}if(i.type!=="error")throw new eO(void 0,{docsPath:e2});const s=Ko(i),o=Cy(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new WQ(i.name,{docsPath:e2});a=lu(i.inputs,r)}return go([o,a])}const t2="/docs/contract/encodeFunctionResult";function tre(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=zd({abi:e,name:n});if(!o)throw new $f(n,{docsPath:t2});i=o}if(i.type!=="function")throw new $f(void 0,{docsPath:t2});if(!i.outputs)throw new CB(i.name,{docsPath:t2});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new PB(r)})();return lu(i.outputs,s)}const j1="x-batch-gateway:true";async function nre(t){const{data:e,ccipRequest:n}=t,{args:[r]}=ere({abi:dT,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(j1)?await nre({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=rre(c)}})),tre({abi:dT,functionName:"query",result:[i,s]})}function rre(t){return t.name==="HttpRequestError"&&t.status?OO({abi:dT,errorName:"HttpError",args:[t.status,t.shortMessage]}):OO({abi:[YB],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function iF(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Li(e)?e:null}function mT(t){let e=new Uint8Array(32).fill(0);if(!t)return xr(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=iF(n[r]),s=i?Nc(i):Yr(dd(n[r]),"bytes");e=Yr(ho([e,s]),"bytes")}return xr(e)}function ire(t){return`[${t.slice(2)}]`}function sre(t){const e=new Uint8Array(32).fill(0);return t?iF(t)||Yr(dd(t)):xr(e)}function C6(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(dd(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=dd(i[s]);o.byteLength>255&&(o=dd(ire(sre(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function ore(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return pp({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(p=>s.endsWith(p)))return null;const f=i!=null?[mT(s),BigInt(i)]:[mT(s)];try{const p=Wi({abi:kO,functionName:"addr",args:f}),m={address:u,abi:zU,functionName:"resolveWithGateways",args:[Pt(C6(s)),p,o??[j1]],blockNumber:n,blockTag:r},w=await Ve(t,Zo,"readContract")(m);if(w[0]==="0x")return null;const v=Wd({abi:kO,args:f,functionName:"addr",data:w[0]});return v==="0x"||Rs(v)==="0x00"?null:v}catch(p){if(a)throw p;if(k6(p))return null;throw p}}class are extends be{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class lm extends be{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class P6 extends be{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class cre extends be{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const lre=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ure=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,dre=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,hre=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function fre(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function RO(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function sF({uri:t,gatewayUrls:e}){const n=dre.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=RO(e==null?void 0:e.ipfs,"https://ipfs.io"),i=RO(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(lre),{protocol:o,subpath:a,target:c,subtarget:u=""}=(s==null?void 0:s.groups)||{},d=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||ure.test(t);if(t.startsWith("http")&&!d&&!f){let m=t;return e!=null&&e.arweave&&(m=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=t.replace(hre,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new P6({uri:t})}function oF(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new are({data:t});return t.image||t.image_url||t.image_data}async function pre({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await O6({gatewayUrls:t,uri:oF(n)})}catch{throw new P6({uri:e})}}async function O6({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=sF({uri:e,gatewayUrls:t});if(r||await fre(n))return n;throw new P6({uri:e})}function mre(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new lm({reason:"Only EIP-155 supported"});if(!o)throw new lm({reason:"Chain ID not found"});if(!c)throw new lm({reason:"Contract address not found"});if(!i)throw new lm({reason:"Token ID not found"});if(!a)throw new lm({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function gre(t,{nft:e}){if(e.namespace==="erc721")return Zo(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Zo(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new cre({namespace:e.namespace})}async function yre(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?wre(t,{gatewayUrls:e,record:n}):O6({uri:n,gatewayUrls:e})}async function wre(t,{gatewayUrls:e,record:n}){const r=mre(n),i=await gre(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=sF({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=a?atob(s.replace("data:application/json;base64,","")):s,d=JSON.parse(u);return O6({uri:oF(d),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),pre({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function aF(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return pp({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>s.endsWith(f)))return null;try{const f={address:u,abi:zU,args:[Pt(C6(s)),Wi({abi:IO,functionName:"text",args:[mT(s),i]}),o??[j1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},m=await Ve(t,Zo,"readContract")(f);if(m[0]==="0x")return null;const y=Wd({abi:IO,functionName:"text",data:m[0]});return y===""?null:y}catch(f){if(a)throw f;if(k6(f))return null;throw f}}async function bre(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await Ve(t,aF,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await yre(t,{record:c,gatewayUrls:r})}catch{return null}}async function vre(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return pp({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:$ne,args:[n,s,o??[j1]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},f=Ve(t,Zo,"readContract"),[p]=await f(d);return p||null}catch(d){if(a)throw d;if(k6(d))return null;throw d}}async function _re(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return pp({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(u=>i.endsWith(u)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await Ve(t,Zo,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Pt(C6(i))],blockNumber:n,blockTag:r});return c}async function cF(t,e){var v,E,k;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:p,value:m,...y}=e,w=n?En(n):void 0;try{Va(e);const x=(typeof r=="bigint"?Pe(r):void 0)||i,A=(k=(E=(v=t.chain)==null?void 0:v.formatters)==null?void 0:E.transactionRequest)==null?void 0:k.format,O=(A||Qc)({...hp(y,{format:A}),account:w,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:p,value:m},"createAccessList"),N=await t.request({method:"eth_createAccessList",params:[O,x]});return{accessList:N.accessList,gasUsed:BigInt(N.gasUsed)}}catch(_){throw HU(_,{...e,account:w,chain:t.chain})}}async function Ere(t){const e=I1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function lF(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),u=I1(t,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(m=>Py({abi:[m],eventName:m.name,args:n}))],r&&(d=d[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?Pe(s):s,toBlock:typeof a=="bigint"?Pe(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:f,request:u(f),strict:!!o,toBlock:a,type:"event"}}async function uF(t){const e=I1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function xre(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?Pe(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function Sre(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Are(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Pe(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),$s(s)}async function gT(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Pe(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class Tre extends be{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Ire(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,c,u,d,f]=await Ve(t,Zo,"readContract")({abi:kre,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:d},extensions:f,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Tre({address:n}):o}}const kre=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Cre(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function Pre(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?Pe(n):void 0,o=await t.request({method:"eth_feeHistory",params:[Pe(e),s||r,i]},{dedupe:!!s});return Cre(o)}async function Ore(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Ua(s));return e.abi?b6({abi:e.abi,logs:i,strict:n}):i}function Rre(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!vn(i))throw new Er({address:i});if(r<0)throw new Fy({chainId:r})}R6(t)}function Nre(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new _U;for(const n of e){const r=Hn(n),i=$s(bd(n,0,1));if(r!==32)throw new Zte({hash:n,size:r});if(i!==vU)throw new Jte({hash:n,version:i})}}R6(t)}function R6(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Fy({chainId:e});if(i&&!vn(i))throw new Er({address:i});if(r&&r>R1)throw new Ed({maxFeePerGas:r});if(n&&r&&n>r)throw new zg({maxFeePerGas:r,maxPriorityFeePerGas:n})}function $re(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new Fy({chainId:e});if(s&&!vn(s))throw new Er({address:s});if(n||i)throw new be("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>R1)throw new Ed({maxFeePerGas:r})}function Dre(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!vn(s))throw new Er({address:s});if(typeof e<"u"&&e<=0)throw new Fy({chainId:e});if(n||i)throw new be("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>R1)throw new Ed({maxFeePerGas:r})}function z1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new wte({storageKey:i[s]});if(!vn(r,{strict:!1}))throw new Er({address:r});e.push([r,i])}return e}function N6(t,e){const n=xU(t);return n==="eip1559"?Bre(t,e):n==="eip2930"?Ure(t,e):n==="eip4844"?Lre(t,e):n==="eip7702"?Mre(t,e):Fre(t,e)}function Mre(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:f}=t;Rre(t);const p=z1(d),m=jre(n);return go(["0x04",zc([Pe(r),s?Pe(s):"0x",u?Pe(u):"0x",c?Pe(c):"0x",i?Pe(i):"0x",o??"0x",a?Pe(a):"0x",f??"0x",p,m,...Vy(t,e)])])}function Lre(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:f}=t;Nre(t);let p=t.blobVersionedHashes,m=t.sidecars;if(t.blobs&&(typeof p>"u"||typeof m>"u")){const _=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(T=>xr(T)),x=t.kzg,A=f6({blobs:_,kzg:x});if(typeof p>"u"&&(p=yU({commitments:A})),typeof m>"u"){const T=p6({blobs:_,commitments:A,kzg:x});m=EU({blobs:_,commitments:A,proofs:T})}}const y=z1(d),w=[Pe(n),i?Pe(i):"0x",u?Pe(u):"0x",c?Pe(c):"0x",r?Pe(r):"0x",s??"0x",o?Pe(o):"0x",f??"0x",y,a?Pe(a):"0x",p??[],...Vy(t,e)],v=[],E=[],k=[];if(m)for(let _=0;_<m.length;_++){const{blob:x,commitment:A,proof:T}=m[_];v.push(x),E.push(A),k.push(T)}return go(["0x03",zc(m?[w,v,E,k]:w)])}function Bre(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:d}=t;R6(t);const f=z1(u),p=[Pe(n),i?Pe(i):"0x",c?Pe(c):"0x",a?Pe(a):"0x",r?Pe(r):"0x",s??"0x",o?Pe(o):"0x",d??"0x",f,...Vy(t,e)];return go(["0x02",zc(p)])}function Ure(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:u}=t;$re(t);const d=z1(c),f=[Pe(n),s?Pe(s):"0x",u?Pe(u):"0x",r?Pe(r):"0x",o??"0x",a?Pe(a):"0x",i??"0x",d,...Vy(t,e)];return go(["0x01",zc(f)])}function Fre(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=t;Dre(t);let u=[s?Pe(s):"0x",c?Pe(c):"0x",r?Pe(r):"0x",o??"0x",a?Pe(a):"0x",i??"0x"];if(e){const d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const m=27n+(e.v===27n?0n:1n);if(e.v!==m)throw new gte({v:e.v});return m})(),f=Rs(e.r),p=Rs(e.s);u=[...u,Pe(d),f==="0x00"?"0x":f,p==="0x00"?"0x":p]}else n>0&&(u=[...u,Pe(n),"0x","0x"]);return zc(u)}function Vy(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Rs(n.r),o=Rs(n.s);return[typeof i=="number"?i?Pe(1):"0x":r===0n?"0x":r===1n?Pe(1):r===27n?"0x":Pe(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function jre(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,o=n.address;e.push([r?Pt(r):"0x",o,i?Pt(i):"0x",...Vy({},s)])}return e}async function zre({address:t,authorization:e,signature:n}){return My(ci(t),await C1({authorization:e,signature:n}))}const Nw=new dp(8192);function Wre(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Nw.get(n))return Nw.get(n);const r=t().finally(()=>Nw.delete(n));return Nw.set(n,r),r}function Vre(t,e={}){return async(n,r={})=>{var f;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=n;if((f=s==null?void 0:s.exclude)!=null&&f.includes(u))throw new ed(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new ed(new Error("method not supported"),{method:u});const d=i?Df(`${c}.${Mr(n)}`):void 0;return Wre(()=>sv(async()=>{try{return await t(n)}catch(p){const m=p;switch(m.code){case Sg.code:throw new Sg(m);case Ag.code:throw new Ag(m);case Tg.code:throw new Tg(m,{method:n.method});case Ig.code:throw new Ig(m);case vd.code:throw new vd(m);case nu.code:throw new nu(m);case kg.code:throw new kg(m);case Cg.code:throw new Cg(m);case Pg.code:throw new Pg(m);case ed.code:throw new ed(m,{method:n.method});case Bf.code:throw new Bf(m);case Og.code:throw new Og(m);case xf.code:throw new xf(m);case Rg.code:throw new Rg(m);case Ng.code:throw new Ng(m);case $g.code:throw new $g(m);case Dg.code:throw new Dg(m);case Mg.code:throw new Mg(m);case Uf.code:throw new Uf(m);case Lg.code:throw new Lg(m);case Bg.code:throw new Bg(m);case Ug.code:throw new Ug(m);case Fg.code:throw new Fg(m);case jg.code:throw new jg(m);case Ff.code:throw new Ff(m);case 5e3:throw new xf(m);default:throw p instanceof be?p:new Ate(m)}}},{delay:({count:p,error:m})=>{var y;if(m&&m instanceof ng){const w=(y=m==null?void 0:m.headers)==null?void 0:y.get("Retry-After");if(w!=null&&w.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<p)*o},retryCount:a,shouldRetry:({error:p})=>qre(p)}),{enabled:i,id:d})}}function qre(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Bf.code||t.code===vd.code:t instanceof ng&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function di(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,o={...r,...s};return Object.assign(o,{extend:n(o)})}}return Object.assign(e,{extend:n(e)})}function Hre(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Kre(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const NO=Kre();function Gre(t,e={}){const{url:n,headers:r}=Yre(t);return{async request(i){var y;const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:c=e.onResponse,timeout:u=e.timeout??1e4}=i,d={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:f,method:p,signal:m}=d;try{const w=await Hre(async({signal:E})=>{const k={...d,body:Array.isArray(s)?Mr(s.map(T=>({jsonrpc:"2.0",id:T.id??NO.take(),...T}))):Mr({jsonrpc:"2.0",id:s.id??NO.take(),...s}),headers:{...r,"Content-Type":"application/json",...f},method:p||"POST",signal:m||(u>0?E:null)},_=new Request(n,k),x=await(a==null?void 0:a(_,k))??{...k,url:n};return await o(x.url??n,x)},{errorInstance:new pO({body:s,url:n}),timeout:u,signal:!0});c&&await c(w);let v;if((y=w.headers.get("Content-Type"))!=null&&y.startsWith("application/json"))v=await w.json();else{v=await w.text();try{v=JSON.parse(v||"{}")}catch(E){if(w.ok)throw E;v={error:v}}}if(!w.ok)throw new ng({body:s,details:Mr(v.error)||w.statusText,headers:w.headers,status:w.status,url:n});return v}catch(w){throw w instanceof ng||w instanceof pO?w:new ng({body:s,cause:w,url:n})}}}}function Yre(t){try{const e=new URL(t),n=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...n}}catch{return{url:t}}}const Zre=`Ethereum Signed Message:
`;function Jre(t){const e=typeof t=="string"?Df(t):typeof t.raw=="string"?t.raw:xr(t.raw),n=Df(`${Zre}${Hn(e)}`);return ho([n,e])}function $6(t,e){return Yr(Jre(t),e)}class Xre extends be{constructor({domain:e}){super(`Invalid domain "${Mr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Qre extends be{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class eie extends be{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function tie(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,u)=>{const d={...u};for(const f of c){const{name:p,type:m}=f;m==="address"&&(d[p]=d[p].toLowerCase())}return d},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Mr({domain:o,message:a,primaryType:r,types:i})}function dF(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:u,type:d}=c,f=a[u],p=d.match(HB);if(p&&(typeof f=="number"||typeof f=="bigint")){const[w,v,E]=p;Pe(f,{signed:v==="int",size:Number.parseInt(E,10)/8})}if(d==="address"&&typeof f=="string"&&!vn(f))throw new Er({address:f});const m=d.match(Fee);if(m){const[w,v]=m;if(v&&Hn(f)!==Number.parseInt(v,10))throw new GQ({expectedSize:Number.parseInt(v,10),givenSize:Hn(f)})}const y=i[d];y&&(nie(d),s(y,f))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Xre({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new Qre({primaryType:r,types:i})}function hF({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function nie(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new eie({type:t})}function fF(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:hF({domain:e}),...t.types};dF({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(rie({domain:e,types:i})),r!=="EIP712Domain"&&s.push(pF({data:n,primaryType:r,types:i})),Yr(ho(s))}function rie({domain:t,types:e}){return pF({data:t,primaryType:"EIP712Domain",types:e})}function pF({data:t,primaryType:e,types:n}){const r=mF({data:t,primaryType:e,types:n});return Yr(r)}function mF({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[iie({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=yF({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return lu(r,i)}function iie({primaryType:t,types:e}){const n=Pt(sie({primaryType:t,types:e}));return Yr(n)}function sie({primaryType:t,types:e}){let n="";const r=gF({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function gF({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])gF({primaryType:s.type,types:e},n);return n}function yF({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Yr(mF({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},Yr(r)];if(n==="string")return[{type:"bytes32"},Yr(Pt(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>yF({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Yr(lu(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}const Yje="0x6492649264926492649264926492649264926492649264926492649264926492",$O="0x0000000000000000000000000000000000000000000000000000000000000000";let oie=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const aie={checksum:new oie(8192)},n2=aie.checksum;function wF(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=jB(pne(t));return n==="Bytes"?r:Yo(r)}const cie=/^0x[a-fA-F0-9]{40}$/;function W1(t,e={}){const{strict:n=!0}=e;if(!cie.test(t))throw new DO({address:t,cause:new lie});if(n){if(t.toLowerCase()===t)return;if(bF(t)!==t)throw new DO({address:t,cause:new uie})}}function bF(t){if(n2.has(t))return n2.get(t);W1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=wF(gne(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return n2.set(t,i),i}function yT(t,e={}){const{strict:n=!0}=e??{};try{return W1(t,{strict:n}),!0}catch{return!1}}let DO=class extends Bt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},lie=class extends Bt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},uie=class extends Bt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const die=/^(.*)\[([0-9]*)\]$/,hie=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,vF=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,MO=2n**256n-1n;function Af(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=L6(e.type);if(s){const[o,a]=s;return pie(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type==="tuple")return wie(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return fie(t,{checksum:r});if(e.type==="bool")return mie(t);if(e.type.startsWith("bytes"))return gie(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return yie(t,e);if(e.type==="string")return bie(t,{staticPosition:i});throw new U6(e.type)}const LO=32,wT=32;function fie(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?bF(s):s)(Yo(wne(r,-20))),32]}function pie(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=Dc(t.readBytes(wT)),u=s+c,d=u+LO;t.setPosition(u);const f=Dc(t.readBytes(LO)),p=qg(e);let m=0;const y=[];for(let w=0;w<f;++w){t.setPosition(d+(p?w*32:m));const[v,E]=Af(t,e,{checksumAddress:r,staticPosition:d});m+=E,y.push(v)}return t.setPosition(s+32),[y,32]}if(qg(e)){const c=Dc(t.readBytes(wT)),u=s+c,d=[];for(let f=0;f<i;++f){t.setPosition(u+f*32);const[p]=Af(t,e,{checksumAddress:r,staticPosition:u});d.push(p)}return t.setPosition(s+32),[d,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[u,d]=Af(t,e,{checksumAddress:r,staticPosition:s+o});o+=d,a.push(u)}return[a,o]}function mie(t){return[vne(t.readBytes(32),{size:32}),32]}function gie(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Dc(t.readBytes(32));t.setPosition(n+o);const a=Dc(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Yo(c),32]}return[Yo(t.readBytes(Number.parseInt(i,10),32)),32]}function yie(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?bne(i,{signed:n}):Dc(i,{signed:n}),32]}function wie(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(qg(e)){const c=Dc(t.readBytes(wT)),u=i+c;for(let d=0;d<e.components.length;++d){const f=e.components[d];t.setPosition(u+a);const[p,m]=Af(t,f,{checksumAddress:r,staticPosition:u});a+=m,o[s?d:f==null?void 0:f.name]=p}return t.setPosition(i+32),[o,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[d,f]=Af(t,u,{checksumAddress:r,staticPosition:i});o[s?c:u==null?void 0:u.name]=d,a+=f}return[o,a]}function bie(t,{staticPosition:e}){const n=Dc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Dc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=_ne($U(s));return t.setPosition(e+32),[o,32]}function vie({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(D6({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function D6({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=L6(r.type);if(i){const[s,o]=i;return Eie(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return Iie(n,{checksumAddress:t,parameter:r});if(r.type==="address")return _ie(n,{checksum:t});if(r.type==="bool")return Sie(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=vF.exec(r.type)??[];return Aie(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return xie(n,{type:r.type});if(r.type==="string")return Tie(n);throw new U6(r.type)}function M6(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Ds(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Mi(e+i,{size:32})),r.push(a),i+=Ds(a)):n.push(a)}return Go(...n,...r)}function _ie(t,e){const{checksum:n=!1}=e;return W1(t,{strict:n}),{dynamic:!1,encoded:xd(t.toLowerCase())}}function Eie(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new Mie(t);if(!s&&t.length!==r)throw new Die({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const u=D6({checksumAddress:n,parameter:i,value:t[c]});u.dynamic&&(o=!0),a.push(u)}if(s||o){const c=M6(a);if(s){const u=Mi(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Go(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Go(...a.map(({encoded:c})=>c))}}function xie(t,{type:e}){const[,n]=e.split("bytes"),r=Ds(t);if(!n){let i=t;return r%32!==0&&(i=Sd(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Go(xd(Mi(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new EF({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Sd(t)}}function Sie(t){if(typeof t!="boolean")throw new Bt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:xd(DU(t))}}function Aie(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new BU({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Mi(t,{size:32,signed:e})}}function Tie(t){const e=S6(t),n=Math.ceil(Ds(e)/32),r=[];for(let i=0;i<n;i++)r.push(Sd(Ca(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Go(Sd(Mi(Ds(e),{size:32})),...r)}}function Iie(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,u=D6({checksumAddress:n,parameter:a,value:t[c]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?M6(s):Go(...s.map(({encoded:o})=>o))}}function L6(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function qg(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(qg);const n=L6(t.type);return!!(n&&qg({...t,type:n[1]}))}const kie={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Oie({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Pie({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new BO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new BO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Cie(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(kie);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class BO extends Bt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Pie extends Bt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Oie extends Bt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Rie(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?NU(e):e,o=Cie(s);if(of(s)===0&&t.length>0)throw new $ie;if(of(s)&&of(s)<32)throw new Nie({data:typeof e=="string"?e:Yo(e),parameters:t,size:of(s)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<t.length;++u){const d=t[u];o.setPosition(a);const[f,p]=Af(o,d,{checksumAddress:i,staticPosition:0});a+=p,r==="Array"?c.push(f):c[d.name??u]=f}return c}function B6(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new xF({expectedLength:t.length,givenLength:e.length});const i=vie({checksumAddress:r,parameters:t,values:e}),s=M6(i);return s.length===0?"0x":s}function bT(t,e){if(t.length!==e.length)throw new xF({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(bT.encode(i,s))}return Go(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return W1(c),xd(c.toLowerCase(),i?32:0)}if(n==="string")return S6(r);if(n==="bytes")return r;if(n==="bool")return xd(DU(r),i?32:1);const s=n.match(vF);if(s){const[c,u,d="256"]=s,f=Number.parseInt(d,10)/8;return Mi(r,{size:i?32:f,signed:u==="int"})}const o=n.match(hie);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new EF({expectedSize:Number.parseInt(u,10),value:r});return Sd(r,i?32:0)}const a=n.match(die);if(a&&Array.isArray(r)){const[c,u]=a,d=[];for(let f=0;f<r.length;f++)d.push(e(u,r[f],!0));return d.length===0?"0x":Go(...d)}throw new U6(n)}t.encode=e})(bT||(bT={}));function _F(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?Q8(t):t}class Nie extends Bt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ef(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class $ie extends Bt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Die extends Bt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class EF extends Bt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ds(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class xF extends Bt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Mie extends Bt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class U6 extends Bt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let SF=class extends e6{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,gee(e);const r=A1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Lf(s)}update(e){return Mf(this),this.iHash.update(e),this}digestInto(e){Mf(this),wd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const AF=(t,e,n)=>new SF(t,e).update(n).digest();AF.create=(t,e)=>new SF(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const os=BigInt(0),Ui=BigInt(1),td=BigInt(2),Lie=BigInt(3),TF=BigInt(4),IF=BigInt(5),kF=BigInt(8);function ns(t,e){const n=t%e;return n>=os?n:e+n}function Hs(t,e,n){let r=t;for(;e-- >os;)r*=r,r%=n;return r}function vT(t,e){if(t===os)throw new Error("invert: expected non-zero number");if(e<=os)throw new Error("invert: expected positive modulus, got "+e);let n=ns(t,e),r=e,i=os,s=Ui;for(;n!==os;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Ui)throw new Error("invert: does not exist");return ns(i,e)}function CF(t,e){const n=(t.ORDER+Ui)/TF,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Bie(t,e){const n=(t.ORDER-IF)/kF,r=t.mul(e,td),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,td),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Uie(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ui,n=0;for(;e%td===os;)e/=td,n++;let r=td;const i=F6(t);for(;UO(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return CF;let s=i.pow(r,e);const o=(e+Ui)/td;return function(c,u){if(c.is0(u))return u;if(UO(c,u)!==1)throw new Error("Cannot find square root");let d=n,f=c.mul(c.ONE,s),p=c.pow(u,e),m=c.pow(u,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let y=1,w=c.sqr(p);for(;!c.eql(w,c.ONE);)if(y++,w=c.sqr(w),y===d)throw new Error("Cannot find square root");const v=Ui<<BigInt(d-y-1),E=c.pow(f,v);d=y,f=c.sqr(E),p=c.mul(p,f),m=c.mul(m,E)}return m}}function Fie(t){return t%TF===Lie?CF:t%kF===IF?Bie:Uie(t)}const jie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zie(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=jie.reduce((r,i)=>(r[i]="function",r),e);return $1(t,n)}function Wie(t,e,n){if(n<os)throw new Error("invalid exponent, negatives unsupported");if(n===os)return t.ONE;if(n===Ui)return e;let r=t.ONE,i=e;for(;n>os;)n&Ui&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ui;return r}function PF(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function UO(t,e){const n=(t.ORDER-Ui)/td,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function OF(t,e){e!==void 0&&Eg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function F6(t,e,n=!1,r={}){if(t<=os)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=OF(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:N1(i),ZERO:os,ONE:Ui,create:c=>ns(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return os<=c&&c<t},is0:c=>c===os,isOdd:c=>(c&Ui)===Ui,neg:c=>ns(-c,t),eql:(c,u)=>c===u,sqr:c=>ns(c*c,t),add:(c,u)=>ns(c+u,t),sub:(c,u)=>ns(c-u,t),mul:(c,u)=>ns(c*u,t),pow:(c,u)=>Wie(a,c,u),div:(c,u)=>ns(c*vT(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>vT(c,t),sqrt:r.sqrt||(c=>(o||(o=Fie(t)),o(a,c))),toBytes:c=>n?kU(c,s):By(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?IU(c):hd(c)},invertBatch:c=>PF(a,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(a)}function RF(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function NF(t){const e=RF(t);return e+Math.ceil(e/2)}function Vie(t,e,n=!1){const r=t.length,i=RF(e),s=NF(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?IU(t):hd(t),a=ns(o,e-Ui)+Ui;return n?kU(a,i):By(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FO=BigInt(0),_T=BigInt(1);function r2(t,e){const n=e.negate();return t?n:e}function $F(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function i2(t,e){$F(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=N1(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function jO(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=_T);const u=e*r,d=u+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:c,offset:d,isZero:f,isNeg:p,isNegF:m,offsetF:u}}function qie(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Hie(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const s2=new WeakMap,DF=new WeakMap;function o2(t){return DF.get(t)||1}function Kie(t,e){return{constTimeNegate:r2,hasPrecomputes(n){return o2(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>FO;)r&_T&&(i=i.add(s)),s=s.double(),r>>=_T;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=i2(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=i2(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:f,isNeg:p,isNegF:m,offsetF:y}=jO(i,c,a);i=u,f?o=o.add(r2(m,r[y])):s=s.add(r2(p,r[d]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=i2(n,e);for(let a=0;a<o.windows&&i!==FO;a++){const{nextN:c,offset:u,isZero:d,isNeg:f}=jO(i,a,o);if(i=c,!d){const p=r[u];s=s.add(f?p.negate():p)}}return s},getPrecomputes(n,r,i){let s=s2.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&s2.set(r,i(s))),s},wNAFCached(n,r,i){const s=o2(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=o2(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){$F(r,e),DF.set(n,r),s2.delete(n)}}}function Gie(t,e,n,r){qie(n,t),Hie(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=rne(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=N1(c),d=new Array(Number(u)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let p=o;for(let m=f;m>=0;m-=c){d.fill(o);for(let w=0;w<s;w++){const v=r[w],E=Number(v>>BigInt(m)&u);d[E]=d[E].add(n[w])}let y=o;for(let w=d.length-1,v=o;w>0;w--)v=v.add(d[w]),y=y.add(v);if(p=p.add(y),m!==0)for(let w=0;w<c;w++)p=p.double()}return p}function MF(t){return zie(t.Fp),$1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...OF(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zO(t){t.lowS!==void 0&&Wg("lowS",t.lowS),t.prehash!==void 0&&Wg("prehash",t.prehash)}function Yie(t){const e=MF(t);$1(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let Zie=class extends Error{constructor(e=""){super(e)}};const _c={Err:Zie,_tlv:{encode:(t,e)=>{const{Err:n}=_c;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Pw(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Pw(i.length/2|128):"";return Pw(t)+s+i+e},decode(t,e){const{Err:n}=_c;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=_c;if(t<Ic)throw new e("integer: negative integers are not allowed");let n=Pw(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=_c;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=_c,i=ro("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=_c,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function a2(t,e){return Vg(By(t,e))}const Ic=BigInt(0),Hr=BigInt(1);BigInt(2);const c2=BigInt(3),Jie=BigInt(4);function Xie(t){const e=Yie(t),{Fp:n}=e,r=F6(e.n,e.nBitLength),i=e.toBytes||((_,x,A)=>{const T=x.toAffine();return rv(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),s=e.fromBytes||(_=>{const x=_.subarray(1),A=n.fromBytes(x.subarray(0,n.BYTES)),T=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:A,y:T}});function o(_){const{a:x,b:A}=e,T=n.sqr(_),O=n.mul(T,_);return n.add(n.add(O,n.mul(_,x)),A)}function a(_,x){const A=n.sqr(x),T=o(_);return n.eql(A,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,c2),Jie),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(_){return x6(_,Hr,e.n)}function f(_){const{allowedPrivateKeyLengths:x,nByteLength:A,wrapPrivateKey:T,n:O}=e;if(x&&typeof _!="bigint"){if(Ly(_)&&(_=Vg(_)),typeof _!="string"||!x.includes(_.length))throw new Error("invalid private key");_=_.padStart(A*2,"0")}let N;try{N=typeof _=="bigint"?_:hd(ro("private key",_,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof _)}return T&&(N=ns(N,O)),Sf("private key",N,Hr,O),N}function p(_){if(!(_ instanceof w))throw new Error("ProjectivePoint expected")}const m=xO((_,x)=>{const{px:A,py:T,pz:O}=_;if(n.eql(O,n.ONE))return{x:A,y:T};const N=_.is0();x==null&&(x=N?n.ONE:n.inv(O));const D=n.mul(A,x),F=n.mul(T,x),K=n.mul(O,x);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(K,n.ONE))throw new Error("invZ was invalid");return{x:D,y:F}}),y=xO(_=>{if(_.is0()){if(e.allowInfinityPoint&&!n.is0(_.py))return;throw new Error("bad point: ZERO")}const{x,y:A}=_.toAffine();if(!n.isValid(x)||!n.isValid(A))throw new Error("bad point: x or y not FE");if(!a(x,A))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(x,A,T){if(x==null||!n.isValid(x))throw new Error("x required");if(A==null||!n.isValid(A)||n.is0(A))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");this.px=x,this.py=A,this.pz=T,Object.freeze(this)}static fromAffine(x){const{x:A,y:T}=x||{};if(!x||!n.isValid(A)||!n.isValid(T))throw new Error("invalid affine point");if(x instanceof w)throw new Error("projective point not allowed");const O=N=>n.eql(N,n.ZERO);return O(A)&&O(T)?w.ZERO:new w(A,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const A=PF(n,x.map(T=>T.pz));return x.map((T,O)=>T.toAffine(A[O])).map(w.fromAffine)}static fromHex(x){const A=w.fromAffine(s(ro("pointHex",x)));return A.assertValidity(),A}static fromPrivateKey(x){return w.BASE.multiply(f(x))}static msm(x,A){return Gie(w,r,x,A)}_setWindowSize(x){k.setWindowSize(this,x)}assertValidity(){y(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){p(x);const{px:A,py:T,pz:O}=this,{px:N,py:D,pz:F}=x,K=n.eql(n.mul(A,F),n.mul(N,O)),B=n.eql(n.mul(T,F),n.mul(D,O));return K&&B}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:A}=e,T=n.mul(A,c2),{px:O,py:N,pz:D}=this;let F=n.ZERO,K=n.ZERO,B=n.ZERO,j=n.mul(O,O),Y=n.mul(N,N),I=n.mul(D,D),P=n.mul(O,N);return P=n.add(P,P),B=n.mul(O,D),B=n.add(B,B),F=n.mul(x,B),K=n.mul(T,I),K=n.add(F,K),F=n.sub(Y,K),K=n.add(Y,K),K=n.mul(F,K),F=n.mul(P,F),B=n.mul(T,B),I=n.mul(x,I),P=n.sub(j,I),P=n.mul(x,P),P=n.add(P,B),B=n.add(j,j),j=n.add(B,j),j=n.add(j,I),j=n.mul(j,P),K=n.add(K,j),I=n.mul(N,D),I=n.add(I,I),j=n.mul(I,P),F=n.sub(F,j),B=n.mul(I,Y),B=n.add(B,B),B=n.add(B,B),new w(F,K,B)}add(x){p(x);const{px:A,py:T,pz:O}=this,{px:N,py:D,pz:F}=x;let K=n.ZERO,B=n.ZERO,j=n.ZERO;const Y=e.a,I=n.mul(e.b,c2);let P=n.mul(A,N),L=n.mul(T,D),M=n.mul(O,F),R=n.add(A,T),z=n.add(N,D);R=n.mul(R,z),z=n.add(P,L),R=n.sub(R,z),z=n.add(A,O);let W=n.add(N,F);return z=n.mul(z,W),W=n.add(P,M),z=n.sub(z,W),W=n.add(T,O),K=n.add(D,F),W=n.mul(W,K),K=n.add(L,M),W=n.sub(W,K),j=n.mul(Y,z),K=n.mul(I,M),j=n.add(K,j),K=n.sub(L,j),j=n.add(L,j),B=n.mul(K,j),L=n.add(P,P),L=n.add(L,P),M=n.mul(Y,M),z=n.mul(I,z),L=n.add(L,M),M=n.sub(P,M),M=n.mul(Y,M),z=n.add(z,M),P=n.mul(L,z),B=n.add(B,P),P=n.mul(W,z),K=n.mul(R,K),K=n.sub(K,P),P=n.mul(R,L),j=n.mul(W,j),j=n.add(j,P),new w(K,B,j)}subtract(x){return this.add(x.negate())}is0(){return this.equals(w.ZERO)}wNAF(x){return k.wNAFCached(this,x,w.normalizeZ)}multiplyUnsafe(x){const{endo:A,n:T}=e;Sf("scalar",x,Ic,T);const O=w.ZERO;if(x===Ic)return O;if(this.is0()||x===Hr)return this;if(!A||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,x,w.normalizeZ);let{k1neg:N,k1:D,k2neg:F,k2:K}=A.splitScalar(x),B=O,j=O,Y=this;for(;D>Ic||K>Ic;)D&Hr&&(B=B.add(Y)),K&Hr&&(j=j.add(Y)),Y=Y.double(),D>>=Hr,K>>=Hr;return N&&(B=B.negate()),F&&(j=j.negate()),j=new w(n.mul(j.px,A.beta),j.py,j.pz),B.add(j)}multiply(x){const{endo:A,n:T}=e;Sf("scalar",x,Hr,T);let O,N;if(A){const{k1neg:D,k1:F,k2neg:K,k2:B}=A.splitScalar(x);let{p:j,f:Y}=this.wNAF(F),{p:I,f:P}=this.wNAF(B);j=k.constTimeNegate(D,j),I=k.constTimeNegate(K,I),I=new w(n.mul(I.px,A.beta),I.py,I.pz),O=j.add(I),N=Y.add(P)}else{const{p:D,f:F}=this.wNAF(x);O=D,N=F}return w.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(x,A,T){const O=w.BASE,N=(F,K)=>K===Ic||K===Hr||!F.equals(O)?F.multiplyUnsafe(K):F.multiply(K),D=N(this,A).add(N(x,T));return D.is0()?void 0:D}toAffine(x){return m(this,x)}isTorsionFree(){const{h:x,isTorsionFree:A}=e;if(x===Hr)return!0;if(A)return A(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:A}=e;return x===Hr?this:A?A(w,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return Wg("isCompressed",x),this.assertValidity(),i(w,this,x)}toHex(x=!0){return Wg("isCompressed",x),Vg(this.toRawBytes(x))}}w.BASE=new w(e.Gx,e.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:E}=e,k=Kie(w,v?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:d}}function Qie(t){const e=MF(t);return $1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ese(t){const e=Qie(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(I){return ns(I,r)}function u(I){return vT(I,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:m}=Xie({...e,toBytes(I,P,L){const M=P.toAffine(),R=n.toBytes(M.x),z=rv;return Wg("isCompressed",L),L?z(Uint8Array.from([P.hasEvenY()?2:3]),R):z(Uint8Array.from([4]),R,n.toBytes(M.y))},fromBytes(I){const P=I.length,L=I[0],M=I.subarray(1);if(P===o&&(L===2||L===3)){const R=hd(M);if(!x6(R,Hr,n.ORDER))throw new Error("Point is not on curve");const z=p(R);let W;try{W=n.sqrt(z)}catch(te){const ee=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ee)}const G=(W&Hr)===Hr;return(L&1)===1!==G&&(W=n.neg(W)),{x:R,y:W}}else if(P===a&&L===4){const R=n.fromBytes(M.subarray(0,n.BYTES)),z=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:R,y:z}}else{const R=o,z=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+z+", got "+P)}}});function y(I){const P=r>>Hr;return I>P}function w(I){return y(I)?c(-I):I}const v=(I,P,L)=>hd(I.slice(P,L));class E{constructor(P,L,M){Sf("r",P,Hr,r),Sf("s",L,Hr,r),this.r=P,this.s=L,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(P){const L=i;return P=ro("compactSignature",P,L*2),new E(v(P,0,L),v(P,L,2*L))}static fromDER(P){const{r:L,s:M}=_c.toSig(ro("DER",P));return new E(L,M)}assertValidity(){}addRecoveryBit(P){return new E(this.r,this.s,P)}recoverPublicKey(P){const{r:L,s:M,recovery:R}=this,z=O(ro("msgHash",P));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const W=R===2||R===3?L+e.n:L;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(R&1)===0?"02":"03",ie=d.fromHex(G+a2(W,n.BYTES)),te=u(W),ee=c(-z*te),pe=c(M*te),ye=d.BASE.multiplyAndAddUnsafe(ie,ee,pe);if(!ye)throw new Error("point at infinify");return ye.assertValidity(),ye}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return nv(this.toDERHex())}toDERHex(){return _c.hexFromSig(this)}toCompactRawBytes(){return nv(this.toCompactHex())}toCompactHex(){const P=i;return a2(this.r,P)+a2(this.s,P)}}const k={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const I=NF(e.n);return Vie(e.randomBytes(I),e.n)},precompute(I=8,P=d.BASE){return P._setWindowSize(I),P.multiply(BigInt(3)),P}};function _(I,P=!0){return d.fromPrivateKey(I).toRawBytes(P)}function x(I){if(typeof I=="bigint")return!1;if(I instanceof d)return!0;const L=ro("key",I).length,M=n.BYTES,R=M+1,z=2*M+1;if(!(e.allowedPrivateKeyLengths||i===R))return L===R||L===z}function A(I,P,L=!0){if(x(I)===!0)throw new Error("first arg must be private key");if(x(P)===!1)throw new Error("second arg must be public key");return d.fromHex(P).multiply(f(I)).toRawBytes(L)}const T=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const P=hd(I),L=I.length*8-s;return L>0?P>>BigInt(L):P},O=e.bits2int_modN||function(I){return c(T(I))},N=N1(s);function D(I){return Sf("num < 2^"+s,I,Ic,N),By(I,i)}function F(I,P,L=K){if(["recovered","canonical"].some(we=>we in L))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:R}=e;let{lowS:z,prehash:W,extraEntropy:G}=L;z==null&&(z=!0),I=ro("msgHash",I),zO(L),W&&(I=ro("prehashed msgHash",M(I)));const ie=O(I),te=f(P),ee=[D(te),D(ie)];if(G!=null&&G!==!1){const we=G===!0?R(n.BYTES):G;ee.push(ro("extraEntropy",we))}const pe=rv(...ee),ye=ie;function xe(we){const Oe=T(we);if(!m(Oe))return;const Xe=u(Oe),ot=d.BASE.multiply(Oe).toAffine(),fe=c(ot.x);if(fe===Ic)return;const St=c(Xe*c(ye+fe*te));if(St===Ic)return;let Nt=(ot.x===fe?0:2)|Number(ot.y&Hr),lt=St;return z&&y(St)&&(lt=w(St),Nt^=1),new E(fe,lt,Nt)}return{seed:pe,k2sig:xe}}const K={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function j(I,P,L=K){const{seed:M,k2sig:R}=F(I,P,L),z=e;return ine(z.hash.outputLen,z.nByteLength,z.hmac)(M,R)}d.BASE._setWindowSize(8);function Y(I,P,L,M=B){var Nt;const R=I;P=ro("msgHash",P),L=ro("publicKey",L);const{lowS:z,prehash:W,format:G}=M;if(zO(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const ie=typeof R=="string"||Ly(R),te=!ie&&!G&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!ie&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,pe;try{if(te&&(ee=new E(R.r,R.s)),ie){try{G!=="compact"&&(ee=E.fromDER(R))}catch(lt){if(!(lt instanceof _c.Err))throw lt}!ee&&G!=="der"&&(ee=E.fromCompact(R))}pe=d.fromHex(L)}catch{return!1}if(!ee||z&&ee.hasHighS())return!1;W&&(P=e.hash(P));const{r:ye,s:xe}=ee,we=O(P),Oe=u(xe),Xe=c(we*Oe),ot=c(ye*Oe),fe=(Nt=d.BASE.multiplyAndAddUnsafe(pe,Xe,ot))==null?void 0:Nt.toAffine();return fe?c(fe.x)===ye:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:A,sign:j,verify:Y,ProjectivePoint:d,Signature:E,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tse(t){return{hash:t,hmac:(e,...n)=>AF(t,e,Eee(...n)),randomBytes:xee}}function nse(t,e){const n=r=>ese({...t,...tse(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const LF=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),WO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rse=BigInt(0),ise=BigInt(1),ET=BigInt(2),VO=(t,e)=>(t+e/ET)/e;function sse(t){const e=LF,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Hs(d,n,e)*d%e,p=Hs(f,n,e)*d%e,m=Hs(p,ET,e)*u%e,y=Hs(m,i,e)*m%e,w=Hs(y,s,e)*y%e,v=Hs(w,a,e)*w%e,E=Hs(v,c,e)*v%e,k=Hs(E,a,e)*w%e,_=Hs(k,n,e)*d%e,x=Hs(_,o,e)*y%e,A=Hs(x,r,e)*u%e,T=Hs(A,ET,e);if(!xT.eql(xT.sqr(T),t))throw new Error("Cannot find square root");return T}const xT=F6(LF,void 0,void 0,{sqrt:sse}),V1=nse({a:rse,b:BigInt(7),Fp:xT,n:WO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=WO,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ise*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=VO(s*t,e),c=VO(-r*t,e);let u=ns(t-a*n-c*i,e),d=ns(-a*r-c*s,e);const f=u>o,p=d>o;if(f&&(u=e-u),p&&(d=e-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:d}}}},mU),ose=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:V1},Symbol.toStringTag,{value:"Module"}));function BF(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new l2({signature:t});if(typeof t.s>"u")throw new l2({signature:t});if(n&&typeof t.yParity>"u")throw new l2({signature:t});if(t.r<0n||t.r>MO)throw new fse({value:t.r});if(t.s<0n||t.s>MO)throw new pse({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new z6({value:t.yParity})}function ase(t){return UF(Yo(t))}function UF(t){if(t.length!==130&&t.length!==132)throw new hse({signature:t});const e=BigInt(Ca(t,0,32)),n=BigInt(Ca(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return j6(i)}catch{throw new z6({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function cse(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return lse(t)}function lse(t){const e=typeof t=="string"?UF(t):t instanceof Uint8Array?ase(t):typeof t.r=="string"?dse(t):t.v?use(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return BF(e),e}function use(t){return{r:t.r,s:t.s,yParity:j6(t.v)}}function dse(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=j6(n)),typeof r!="number")throw new z6({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function j6(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new mse({value:t})}let hse=class extends Bt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ds(Cne(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class l2 extends Bt{constructor({signature:e}){super(`Signature \`${RU(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class fse extends Bt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class pse extends Bt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let z6=class extends Bt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},mse=class extends Bt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function gse(t,e={}){return typeof t.chainId=="string"?yse(t):{...t,...e.signature}}function yse(t){const{address:e,chainId:n,nonce:r}=t,i=cse(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const wse="0x8010801080108010801080108010801080108010801080108010801080108010",bse=_F("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function FF(t){if(typeof t=="string"){if(Ca(t,-32)!==wse)throw new Ese(t)}else BF(t.authorization)}function vse(t){FF(t);const e=LU(Ca(t,-64,-32)),n=Ca(t,-e-64,-64),r=Ca(t,0,-e-64),[i,s,o]=Rie(bse,n);return{authorization:gse({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function _se(t){try{return FF(t),!0}catch{return!1}}let Ese=class extends Bt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function xse(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Sse(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?$s(t.nonce):void 0,storageProof:t.storageProof?xse(t.storageProof):void 0}}async function Ase(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?Pe(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return Sse(a)}async function Tse(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?Pe(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function W6(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:o,nonce:a}){var p,m,y;const c=r||"latest",u=n!==void 0?Pe(n):void 0;let d=null;if(i?d=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Pe(s)]},{dedupe:!0}):typeof s=="number"?d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,Pe(s)]},{dedupe:!!u}):o&&typeof a=="number"&&(d=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,Pe(a)]},{dedupe:!0})),!d)throw new QB({blockHash:e,blockNumber:n,blockTag:c,hash:i,index:s});return(((y=(m=(p=t.chain)==null?void 0:p.formatters)==null?void 0:m.transaction)==null?void 0:y.format)||$y)(d,"getTransaction")}async function Ise(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Ve(t,jy,"getBlockNumber")({}),e?Ve(t,W6,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function Sb(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new eU({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||I6)(n,"getTransactionReceipt")}async function kse(t,e){var k;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=e,u=e.contracts,{batchSize:d=e.batchSize??1024,deployless:f=e.deployless??!1}=typeof((k=t.batch)==null?void 0:k.multicall)=="object"?t.batch.multicall:{},p=(()=>{if(e.multicallAddress)return e.multicallAddress;if(f)return null;if(t.chain)return pp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),m=[[]];let y=0,w=0;for(let _=0;_<u.length;_++){const{abi:x,address:A,args:T,functionName:O}=u[_];try{const N=Wi({abi:x,args:T,functionName:O});w+=(N.length-2)/2,d>0&&w>d&&m[y].length>0&&(y++,w=(N.length-2)/2,m[y]=[]),m[y]=[...m[y],{allowFailure:!0,callData:N,target:A}]}catch(N){const D=_d(N,{abi:x,address:A,args:T,docsPath:"/docs/contract/multicall",functionName:O,sender:n});if(!i)throw D;m[y]=[...m[y],{allowFailure:!0,callData:"0x",target:A}]}}const v=await Promise.allSettled(m.map(_=>Ve(t,Zo,"readContract")({...p===null?{code:A6}:{address:p},abi:iv,account:n,args:[_],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let _=0;_<v.length;_++){const x=v[_];if(x.status==="rejected"){if(!i)throw x.reason;for(let T=0;T<m[_].length;T++)E.push({status:"failure",error:x.reason,result:void 0});continue}const A=x.value;for(let T=0;T<A.length;T++){const{returnData:O,success:N}=A[T],{callData:D}=m[_][T],{abi:F,address:K,functionName:B,args:j}=u[E.length];try{if(D==="0x")throw new Iy;if(!N)throw new k1({data:O});const Y=Wd({abi:F,args:j,data:O,functionName:B});E.push(i?{result:Y,status:"success"}:Y)}catch(Y){const I=_d(Y,{abi:F,address:K,args:j,docsPath:"/docs/contract/multicall",functionName:B});if(!i)throw I;E.push({error:I,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new be("multicall results mismatch");return E}async function ST(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const c=[];for(const p of i){const m=p.blockOverrides?FU(p.blockOverrides):void 0,y=p.calls.map(v=>{const E=v,k=E.account?En(E.account):void 0,_=E.abi?Wi(E):E.data,x={...E,account:k,data:E.dataSuffix?ho([_||"0x",E.dataSuffix]):_,from:E.from??(k==null?void 0:k.address)};return Va(x),Qc(x)}),w=p.stateOverrides?c6(p.stateOverrides):void 0;c.push({blockOverrides:m,calls:y,stateOverrides:w})}const d=(typeof n=="bigint"?Pe(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},d]})).map((p,m)=>({...u6(p),calls:p.calls.map((y,w)=>{var F,K;const{abi:v,args:E,functionName:k,to:_}=i[m].calls[w],x=((F=y.error)==null?void 0:F.data)??y.returnData,A=BigInt(y.gasUsed),T=(K=y.logs)==null?void 0:K.map(B=>Ua(B)),O=y.status==="0x1"?"success":"failure",N=v&&O==="success"&&x!=="0x"?Wd({abi:v,data:x,functionName:k}):null,D=(()=>{var j;if(O==="success")return;let B;if(((j=y.error)==null?void 0:j.data)==="0x"?B=new Iy:y.error&&(B=new k1(y.error)),!!B)return _d(B,{abi:v??[],address:_??"0x",args:E,functionName:k??"<unknown>"})})();return{data:x,gasUsed:A,logs:T,status:O,...O==="success"?{result:N}:{error:D}}})}))}catch(c){const u=c,d=P1(u,{});throw d instanceof Ny?u:d}}function AT(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Bt("Unable to normalize signature.");return i}function TT(t,e){const n=typeof t,r=e.type;switch(r){case"address":return yT(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>TT(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>TT(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function jF(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return jF(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?yT(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?yT(n[r],{strict:!1}):!1)return o}}function zF(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?X8(t):t;return{...r,...n?{hash:af(r)}:{}}}function q1(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=Pne(e,{strict:!1}),o=t.filter(u=>s?u.type==="function"||u.type==="error"?WF(u)===Ca(e,0,4):u.type==="event"?af(u)===e:!1:"name"in u&&u.name===e);if(o.length===0)throw new ov({name:e});if(o.length===1)return{...o[0],...i?{hash:af(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...i?{hash:af(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((f,p)=>{const m="inputs"in u&&u.inputs[p];return m?TT(f,m):!1})){if(a&&"inputs"in a&&a.inputs){const f=jF(u.inputs,a.inputs,r);if(f)throw new Pse({abiItem:u,type:f[0]},{abiItem:a,type:f[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...d]=o;return{...u,overloads:d}})();if(!c)throw new ov({name:e});return{...c,...i?{hash:af(c)}:{}}}function WF(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return q1(n,r)}return t[0]})();return Ca(af(e),0,4)}function Cse(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return q1(r,i)}return t[0]})(),n=typeof e=="string"?e:Xb(e);return AT(n)}function af(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return q1(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:wF(S6(Cse(e)))}class Pse extends Bt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${AT(Xb(e.abiItem))}\`, and`,`\`${n.type}\` in \`${AT(Xb(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class ov extends Bt{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Ose(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[Nse(o),a]}return t})(),{bytecode:r,args:i}=n;return Go(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?B6(e.inputs,i):"0x")}function Rse(t){return zF(t)}function Nse(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new ov({name:"constructor"});return e}function $se(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[u,d,f]=t;return[qO(u,d,{args:f}),f]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?qO([e,...r],e.name,{args:n}):e,s=Dse(i),o=n.length>0?B6(i.inputs,n):void 0;return o?Go(s,o):s}function Nh(t,e={}){return zF(t,e)}function qO(t,e,n){const r=q1(t,e,n);if(r.type!=="function")throw new ov({name:e,type:"function"});return r}function Dse(t){return WF(t)}const Mse="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",da="0x0000000000000000000000000000000000000000",Lse="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Bse(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=e,u=e.account?En(e.account):void 0;if(o&&!u)throw new be("`account` is required when `traceAssetChanges` is true");const d=u?Ose(Rse("constructor(bytes, bytes)"),{bytecode:VU,args:[Lse,$se(Nh("function getBalance(address)"),[u.address])]}):void 0,f=o?await Promise.all(e.calls.map(async M=>{if(!M.data&&!M.abi)return;const{accessList:R}=await cF(t,{account:u.address,...M,data:M.abi?Wi(M):M.data});return R.map(({address:z,storageKeys:W})=>W.length>0?z:null)})).then(M=>M.flat().filter(Boolean)):[],p=await ST(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:f.map((M,R)=>({abi:[Nh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:M,from:da,nonce:R})),stateOverrides:[{address:da,nonce:0}]}]:[],{calls:[...i,{}].map(M=>({...M,from:u==null?void 0:u.address})),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:f.map((M,R)=>({abi:[Nh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:M,from:da,nonce:R})),stateOverrides:[{address:da,nonce:0}]},{calls:f.map((M,R)=>({to:M,abi:[Nh("function decimals() returns (uint256)")],functionName:"decimals",from:da,nonce:R})),stateOverrides:[{address:da,nonce:0}]},{calls:f.map((M,R)=>({to:M,abi:[Nh("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:da,nonce:R})),stateOverrides:[{address:da,nonce:0}]},{calls:f.map((M,R)=>({to:M,abi:[Nh("function symbol() returns (string)")],functionName:"symbol",from:da,nonce:R})),stateOverrides:[{address:da,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?p[2]:p[0],[y,w,,v,E,k,_,x]=o?p:[],{calls:A,...T}=m,O=A.slice(0,-1)??[],N=(y==null?void 0:y.calls)??[],D=(w==null?void 0:w.calls)??[],F=[...N,...D].map(M=>M.status==="success"?cn(M.data):null),K=(v==null?void 0:v.calls)??[],B=(E==null?void 0:E.calls)??[],j=[...K,...B].map(M=>M.status==="success"?cn(M.data):null),Y=((k==null?void 0:k.calls)??[]).map(M=>M.status==="success"?M.result:null),I=((x==null?void 0:x.calls)??[]).map(M=>M.status==="success"?M.result:null),P=((_==null?void 0:_.calls)??[]).map(M=>M.status==="success"?M.result:null),L=[];for(const[M,R]of j.entries()){const z=F[M];if(typeof R!="bigint"||typeof z!="bigint")continue;const W=Y[M-1],G=I[M-1],ie=P[M-1],te=M===0?{address:Mse,decimals:18,symbol:"ETH"}:{address:f[M-1],decimals:ie||W?Number(W??1):void 0,symbol:G??void 0};L.some(ee=>ee.token.address===te.address)||L.push({token:te,value:{pre:z,post:R,diff:R-z}})}return{assetChanges:L,block:T,results:O}}const VF="0x6492649264926492649264926492649264926492649264926492649264926492";function Use(t){if(Ca(t,-32)!==VF)throw new zse(t)}function Fse(t){const{data:e,signature:n,to:r}=t;return Go(B6(_F("address, bytes, bytes"),[r,e,n]),VF)}function jse(t){try{return Use(t),!0}catch{return!1}}class zse extends Bt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function qF({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new V1.Signature(cn(t),cn(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:Bi(o)}async function H1(t,e){var c,u,d,f;const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((u=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=e.multicallAddress??((f=(d=r==null?void 0:r.contracts)==null?void 0:d.multicall3)==null?void 0:f.address)}=e;if(r!=null&&r.verifyHash)return await r.verifyHash(t,e);const a=(()=>{const p=e.signature;return Li(p)?p:typeof p=="object"&&"r"in p&&"s"in p?qF(p):xr(p)})();try{return _se(a)?await Wse(t,{...e,multicallAddress:o,signature:a}):await Vse(t,{...e,verifierAddress:s,signature:a})}catch(p){try{if(My(ci(n),await sU({hash:i,signature:a})))return!0}catch{}if(p instanceof Ad)return!1;throw p}}async function Wse(t,e){var v;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:c,signature:u,to:d}=vse(e.signature);if(await gT(t,{address:n,blockNumber:r,blockTag:i})===go(["0xef0100",a.address]))return await qse(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:u});const p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:Pe(a.r,{size:32}),s:Pe(a.s,{size:32}),yParity:a.yParity};if(!await zre({address:n,authorization:p}))throw new Ad;const y=await Ve(t,Zo,"readContract")({...o?{address:o}:{code:A6},authorizationList:[p],abi:iv,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Wi({abi:WU,functionName:"isValidSignature",args:[s,u]})}]]}),w=(v=y[y.length-1])==null?void 0:v.returnData;if(w!=null&&w.startsWith("0x1626ba7e"))return!0;throw new Ad}async function Vse(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=e,u=await(async()=>!r&&!i||jse(o)?o:Fse({data:i,signature:o,to:r}))(),d=a?{to:a,data:Wi({abi:CO,functionName:"isValidSig",args:[n,s,u]}),...c}:{data:M1({abi:CO,args:[n,s,u],bytecode:Lne}),...c},{data:f}=await Ve(t,L1,"call")(d).catch(p=>{throw p instanceof nU?new Ad:p});if(ree(f??"0x0"))return!0;throw new Ad}async function qse(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await Ve(t,Zo,"readContract")({address:n,abi:WU,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof rU?new Ad:c})).startsWith("0x1626ba7e"))return!0;throw new Ad}class Ad extends Error{}async function Hse(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=$6(n);return Ve(t,H1,"verifyHash")({address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function Kse(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:u,...d}=e,f=fF({message:o,primaryType:a,types:c,domain:u});return Ve(t,H1,"verifyHash")({address:n,factory:r,factoryData:i,hash:f,signature:s,...d})}function HF(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const f=Mr(["watchBlockNumber",t.uid,e,n,o]);return Wc(f,{onBlockNumber:r,onError:i},p=>mp(async()=>{var m;try{const y=await Ve(t,jy,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(y===c)return;if(y-c>1&&n)for(let w=c+1n;w<y;w++)p.onBlockNumber(w,c),c=w}(c===void 0||y>c)&&(p.onBlockNumber(y,c),c=y)}catch(y){(m=p.onError)==null||m.call(p,y)}},{emitOnBegin:e,interval:o}))})():(()=>{const f=Mr(["watchBlockNumber",t.uid,e,n]);return Wc(f,{onBlockNumber:r,onError:i},p=>{let m=!0,y=()=>m=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const E=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return E?E.value:t.transport}return t.transport})(),{unsubscribe:v}=await w.subscribe({params:["newHeads"],onData(E){var _;if(!m)return;const k=cn((_=E.result)==null?void 0:_.number);p.onBlockNumber(k,c),c=k},onError(E){var k;(k=p.onError)==null||k.call(p,E)}});y=v,m||y()}catch(w){i==null||i(w)}})(),()=>y()})})()}async function KF(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:A})=>~~(1<<A)*200,timeout:c=18e4}=e,u=Mr(["waitForTransactionReceipt",t.uid,i]),d=(()=>{var A;return e.pollingInterval?e.pollingInterval:(A=t.chain)!=null&&A.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let f,p,m,y=!1,w,v;const{promise:E,resolve:k,reject:_}=T6(),x=c?setTimeout(()=>{v==null||v(),w==null||w(),_(new vte({hash:i}))},c):void 0;return w=Wc(u,{onReplaced:s,resolve:k,reject:_},async A=>{if(m=await Ve(t,Sb,"getTransactionReceipt")({hash:i}).catch(()=>{}),m&&r<=1){clearTimeout(x),A.resolve(m),w==null||w();return}v=Ve(t,HF,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(T){const O=D=>{clearTimeout(x),v==null||v(),D(),w==null||w()};let N=T;if(!y)try{if(m){if(r>1&&(!m.blockNumber||N-m.blockNumber+1n<r))return;O(()=>A.resolve(m));return}if(n&&!f&&(y=!0,await sv(async()=>{f=await Ve(t,W6,"getTransaction")({hash:i}),f.blockNumber&&(N=f.blockNumber)},{delay:a,retryCount:o}),y=!1),m=await Ve(t,Sb,"getTransactionReceipt")({hash:i}),r>1&&(!m.blockNumber||N-m.blockNumber+1n<r))return;O(()=>A.resolve(m))}catch(D){if(D instanceof QB||D instanceof eU){if(!f){y=!1;return}try{p=f,y=!0;const F=await sv(()=>Ve(t,jo,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:j})=>j instanceof uU});y=!1;const K=F.transactions.find(({from:j,nonce:Y})=>j===p.from&&Y===p.nonce);if(!K||(m=await Ve(t,Sb,"getTransactionReceipt")({hash:K.hash}),r>1&&(!m.blockNumber||N-m.blockNumber+1n<r)))return;let B="replaced";K.to===p.to&&K.value===p.value&&K.input===p.input?B="repriced":K.from===K.to&&K.value===0n&&(B="cancelled"),O(()=>{var j;(j=A.onReplaced)==null||j.call(A,{reason:B,replacedTransaction:p,transaction:K,transactionReceipt:m}),A.resolve(m)})}catch(F){O(()=>A.reject(F))}}else O(()=>A.reject(D))}}})}),E}function Gse(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),d=o??!1;let f;return u?(()=>{const y=Mr(["watchBlocks",t.uid,e,n,r,d,c]);return Wc(y,{onBlock:i,onError:s},w=>mp(async()=>{var v;try{const E=await Ve(t,jo,"getBlock")({blockTag:e,includeTransactions:d});if(E.number!==null&&(f==null?void 0:f.number)!=null){if(E.number===f.number)return;if(E.number-f.number>1&&n)for(let k=(f==null?void 0:f.number)+1n;k<E.number;k++){const _=await Ve(t,jo,"getBlock")({blockNumber:k,includeTransactions:d});w.onBlock(_,f),f=_}}((f==null?void 0:f.number)==null||e==="pending"&&(E==null?void 0:E.number)==null||E.number!==null&&E.number>f.number)&&(w.onBlock(E,f),f=E)}catch(E){(v=w.onError)==null||v.call(w,E)}},{emitOnBegin:r,interval:c}))})():(()=>{let y=!0,w=!0,v=()=>y=!1;return(async()=>{try{r&&Ve(t,jo,"getBlock")({blockTag:e,includeTransactions:d}).then(_=>{y&&w&&(i(_,void 0),w=!1)}).catch(s);const E=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return _?_.value:t.transport}return t.transport})(),{unsubscribe:k}=await E.subscribe({params:["newHeads"],async onData(_){var A;if(!y)return;const x=await Ve(t,jo,"getBlock")({blockNumber:(A=_.result)==null?void 0:A.number,includeTransactions:d}).catch(()=>{});y&&(i(x,f),w=!1,f=x)},onError(_){s==null||s(_)}});v=k,y||v()}catch(E){s==null||s(E)}})(),()=>v()})()}function Yse(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:f}){const p=typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),m=f??!1;return p?(()=>{const v=Mr(["watchEvent",e,n,r,t.uid,i,d,o]);return Wc(v,{onLogs:c,onError:a},E=>{let k;o!==void 0&&(k=o-1n);let _,x=!1;const A=mp(async()=>{var T;if(!x){try{_=await Ve(t,lF,"createEventFilter")({address:e,args:n,event:i,events:s,strict:m,fromBlock:o})}catch{}x=!0;return}try{let O;if(_)O=await Ve(t,B1,"getFilterChanges")({filter:_});else{const N=await Ve(t,jy,"getBlockNumber")({});k&&k!==N?O=await Ve(t,v6,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:k+1n,toBlock:N}):O=[],k=N}if(O.length===0)return;if(r)E.onLogs(O);else for(const N of O)E.onLogs([N])}catch(O){_&&O instanceof nu&&(x=!1),(T=E.onError)==null||T.call(E,O)}},{emitOnBegin:!0,interval:d});return async()=>{_&&await Ve(t,U1,"uninstallFilter")({filter:_}),A()}})})():(()=>{let v=!0,E=()=>v=!1;return(async()=>{try{const k=(()=>{if(t.transport.type==="fallback"){const T=t.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),_=s??(i?[i]:void 0);let x=[];_&&(x=[_.flatMap(O=>Py({abi:[O],eventName:O.name,args:n}))],i&&(x=x[0]));const{unsubscribe:A}=await k.subscribe({params:["logs",{address:e,topics:x}],onData(T){var N;if(!v)return;const O=T.result;try{const{eventName:D,args:F}=tv({abi:_??[],data:O.data,topics:O.topics,strict:m}),K=Ua(O,{args:F,eventName:D});c([K])}catch(D){let F,K;if(D instanceof ev||D instanceof X5){if(f)return;F=D.abiItem.name,K=(N=D.abiItem.inputs)==null?void 0:N.some(j=>!("name"in j&&j.name))}const B=Ua(O,{args:K?[]:{},eventName:F});c([B])}},onError(T){a==null||a(T)}});E=A,v||E()}catch(k){a==null||a(k)}})(),()=>E()})()}function Zse(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=Mr(["watchPendingTransactions",t.uid,e,s]);return Wc(u,{onTransactions:r,onError:n},d=>{let f;const p=mp(async()=>{var m;try{if(!f)try{f=await Ve(t,uF,"createPendingTransactionFilter")({});return}catch(w){throw p(),w}const y=await Ve(t,B1,"getFilterChanges")({filter:f});if(y.length===0)return;if(e)d.onTransactions(y);else for(const w of y)d.onTransactions([w])}catch(y){(m=d.onError)==null||m.call(d,y)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await Ve(t,U1,"uninstallFilter")({filter:f}),p()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const m=p.result;r([m])},onError(p){n==null||n(p)}});d=f,u||d()}catch(f){n==null||n(f)}})(),()=>d()})()}function Jse(t){var f,p,m;const{scheme:e,statement:n,...r}=((f=t.match(Xse))==null?void 0:f.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...u}=((p=t.match(Qse))==null?void 0:p.groups)??{},d=(m=t.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...u,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Xse=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Qse=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function eoe(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!vn(r.address,{strict:!1})||e&&!My(r.address,e))return!1}catch{return!1}return!0}async function toe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...u}=e,d=Jse(i);if(!d.address||!eoe({address:n,domain:r,message:d,nonce:s,scheme:o,time:c}))return!1;const p=$6(i);return H1(t,{address:d.address,hash:p,signature:a,...u})}async function V6(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Pe(r)]:[e]},{retryCount:0}),o=(((u=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||I6)(i);if(o.status==="reverted"&&n)throw new tU({receipt:o});return o}function av(t){return{call:e=>L1(t,e),createAccessList:e=>cF(t,e),createBlockFilter:()=>Ere(t),createContractEventFilter:e=>GB(t,e),createEventFilter:e=>lF(t,e),createPendingTransactionFilter:()=>uF(t),estimateContractGas:e=>Qte(t,e),estimateGas:e=>w6(t,e),getBalance:e=>xre(t,e),getBlobBaseFee:()=>Sre(t),getBlock:e=>jo(t,e),getBlockNumber:e=>jy(t,e),getBlockTransactionCount:e=>Are(t,e),getBytecode:e=>gT(t,e),getChainId:()=>qa(t),getCode:e=>gT(t,e),getContractEvents:e=>SU(t,e),getEip712Domain:e=>Ire(t,e),getEnsAddress:e=>ore(t,e),getEnsAvatar:e=>bre(t,e),getEnsName:e=>vre(t,e),getEnsResolver:e=>_re(t,e),getEnsText:e=>aF(t,e),getFeeHistory:e=>Pre(t,e),estimateFeesPerGas:e=>Fte(t,e),getFilterChanges:e=>B1(t,e),getFilterLogs:e=>Ore(t,e),getGasPrice:()=>d6(t),getLogs:e=>v6(t,e),getProof:e=>Ase(t,e),estimateMaxPriorityFeePerGas:e=>Ute(t,e),fillTransaction:e=>g6(t,e),getStorageAt:e=>Tse(t,e),getTransaction:e=>W6(t,e),getTransactionConfirmations:e=>Ise(t,e),getTransactionCount:e=>h6(t,e),getTransactionReceipt:e=>Sb(t,e),multicall:e=>kse(t,e),prepareTransactionRequest:e=>fp(t,e),readContract:e=>Zo(t,e),sendRawTransaction:e=>F1(t,e),sendRawTransactionSync:e=>V6(t,e),simulate:e=>ST(t,e),simulateBlocks:e=>ST(t,e),simulateCalls:e=>Bse(t,e),simulateContract:e=>Vne(t,e),verifyHash:e=>H1(t,e),verifyMessage:e=>Hse(t,e),verifySiweMessage:e=>toe(t,e),verifyTypedData:e=>Kse(t,e),uninstallFilter:e=>U1(t,e),waitForTransactionReceipt:e=>KF(t,e),watchBlocks:e=>Gse(t,e),watchBlockNumber:e=>HF(t,e),watchContractEvent:e=>Jne(t,e),watchEvent:e=>Yse(t,e),watchPendingTransactions:e=>Zse(t,e)}}function q6(t){const{key:e="public",name:n="Public Client"}=t;return rF({...t,key:e,name:n,type:"publicClient"}).extend(av)}async function noe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Pe(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function roe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=M1({abi:n,args:r,bytecode:i});return Wy(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function ioe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>ky(r))}async function soe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?En(n):void 0,s=r?[i==null?void 0:i.address,[Pe(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[d,f]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(c)][d]=f}return typeof r=="number"?a[r]:a}async function ooe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function GF(t,e){var c;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Ha({docsPath:"/docs/eip7702/prepareAuthorization"});const s=En(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:En(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Ve(t,qa,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ve(t,h6,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&My(o.address,s.address))&&(a.nonce+=1)),a}async function aoe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>ci(n))}async function coe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function loe(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),i=await QU(t,e);return await tF(t,{...e,id:i.id,timeout:r})}const u2=new dp(128);async function YF(t,e){var T,O,N,D;const{account:n=t.account,assertChainId:r=!0,chain:i=t.chain,accessList:s,authorizationList:o,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,pollingInterval:w,throwOnReceiptRevert:v,type:E,value:k,..._}=e,x=e.timeout??Math.max(((i==null?void 0:i.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Ha({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=n?En(n):null;try{Va(e);const F=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await C1({authorization:o[0]}).catch(()=>{throw new be("`to` is required. Could not infer from `authorizationList`.")})})();if((A==null?void 0:A.type)==="json-rpc"||A===null){let K;i!==null&&(K=await Ve(t,qa,"getChainId")({}),r&&zy({currentChainId:K,chain:i}));const B=(N=(O=(T=t.chain)==null?void 0:T.formatters)==null?void 0:O.transactionRequest)==null?void 0:N.format,Y=(B||Qc)({...hp(_,{format:B}),accessList:s,account:A,authorizationList:o,blobs:a,chainId:K,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:F,type:E,value:k},"sendTransaction"),I=u2.get(t.uid),P=I?"wallet_sendTransaction":"eth_sendTransaction",L=await(async()=>{try{return await t.request({method:P,params:[Y]},{retryCount:0})}catch(R){if(I===!1)throw R;const z=R;if(z.name==="InvalidInputRpcError"||z.name==="InvalidParamsRpcError"||z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[Y]},{retryCount:0}).then(W=>(u2.set(t.uid,!0),W)).catch(W=>{const G=W;throw G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"?(u2.set(t.uid,!1),z):G});throw z}})(),M=await Ve(t,KF,"waitForTransactionReceipt")({checkReplacement:!1,hash:L,pollingInterval:w,timeout:x});if(v&&M.status==="reverted")throw new tU({receipt:M});return M}if((A==null?void 0:A.type)==="local"){const K=await Ve(t,fp,"prepareTransactionRequest")({account:A,accessList:s,authorizationList:o,blobs:a,chain:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,nonceManager:A.nonceManager,parameters:[...y6,"sidecars"],type:E,value:k,..._,to:F}),B=(D=i==null?void 0:i.serializers)==null?void 0:D.transaction,j=await A.signTransaction(K,{serializer:B});return await Ve(t,V6,"sendRawTransactionSync")({serializedTransaction:j,throwOnReceiptRevert:v,timeout:e.timeout})}throw(A==null?void 0:A.type)==="smart"?new fd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fd({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A==null?void 0:A.type})}catch(F){throw F instanceof fd?F:Dy(F,{...e,account:A,chain:e.chain||void 0})}}async function uoe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function doe(t,e){const{account:n=t.account}=e;if(!n)throw new Ha({docsPath:"/docs/eip7702/signAuthorization"});const r=En(n);if(!r.signAuthorization)throw new fd({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await GF(t,e);return r.signAuthorization(i)}async function hoe(t,{account:e=t.account,message:n}){if(!e)throw new Ha({docsPath:"/docs/actions/wallet/signMessage"});const r=En(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Df(n):n.raw instanceof Uint8Array?Pt(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function ZF(t,e){var u,d,f,p;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Ha({docsPath:"/docs/actions/wallet/signTransaction"});const s=En(n);Va({account:s,...e});const o=await Ve(t,qa,"getChainId")({});r!==null&&zy({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=t.chain)==null?void 0:u.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||Qc;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(p=(f=t.chain)==null?void 0:f.serializers)==null?void 0:p.transaction}):await t.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:Pe(o),from:s.address}]},{retryCount:0})}async function JF(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Ha({docsPath:"/docs/actions/wallet/signTypedData"});const o=En(n),a={EIP712Domain:hF({domain:r}),...e.types};if(dF({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=tie({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function foe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Pe(e)}]},{retryCount:0})}async function poe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function moe(t,e){return jf.internal(t,YF,"sendTransactionSync",e)}function goe(t){return{addChain:e=>noe(t,e),deployContract:e=>roe(t,e),fillTransaction:e=>g6(t,e),getAddresses:()=>ioe(t),getCallsStatus:e=>eF(t,e),getCapabilities:e=>soe(t,e),getChainId:()=>qa(t),getPermissions:()=>ooe(t),prepareAuthorization:e=>GF(t,e),prepareTransactionRequest:e=>fp(t,e),requestAddresses:()=>aoe(t),requestPermissions:e=>coe(t,e),sendCalls:e=>QU(t,e),sendCallsSync:e=>loe(t,e),sendRawTransaction:e=>F1(t,e),sendRawTransactionSync:e=>V6(t,e),sendTransaction:e=>Wy(t,e),sendTransactionSync:e=>YF(t,e),showCallsStatus:e=>uoe(t,e),signAuthorization:e=>doe(t,e),signMessage:e=>hoe(t,e),signTransaction:e=>ZF(t,e),signTypedData:e=>JF(t,e),switchChain:e=>foe(t,e),waitForCallsStatus:e=>tF(t,e),watchAsset:e=>poe(t,e),writeContract:e=>jf(t,e),writeContractSync:e=>moe(t,e)}}function yoe(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return rF({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(goe)}function woe({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=nF();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:Vre(r,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:c}}class boe extends be{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function K1(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:f}=e;return({chain:p,retryCount:m,timeout:y})=>{const{batchSize:w=1e3,wait:v=0}=typeof n=="object"?n:{},E=e.retryCount??m,k=y??e.timeout??1e4,_=t||(p==null?void 0:p.rpcUrls.default.http[0]);if(!_)throw new boe;const x=Gre(_,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:u,timeout:k});return woe({key:s,methods:o,name:a,async request({method:A,params:T}){const O={method:A,params:T},{schedule:N}=KU({id:_,wait:v,shouldSplitBatch(B){return B.length>w},fn:B=>x.request({body:B}),sort:(B,j)=>B.id-j.id}),D=async B=>n?N(B):[await x.request({body:B})],[{error:F,result:K}]=await D(O);if(f)return{error:F,result:K};if(F)throw new a6({body:O,error:F,url:_});return K},retryCount:E,retryDelay:d,timeout:k,type:"http"},{fetchOptions:i,url:_})}}const HO=(t,e,n,r)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new dB(`Unsupported chainId ${t}`,4901);return q6({transport:K1(voe(s,n,r.appId)),chain:s})},voe=(t,e,n)=>{var o,a,c;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let u=new URL(t.rpcUrls.privy.http[0]);u.searchParams.append("privyAppId",n),r=u.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(c=t.rpcUrls.default)==null?void 0:c.http[0];if(!r)throw new dB(`No RPC url found for ${i}`);return r};function _oe({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function Eoe(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let xoe=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function Soe(t,e,n,r,i=!1,s,o){var d,f,p;let a=i,c=async m=>{var y;if(a){m===(i?0:1)?r():(y=n.current)==null||y.reject(new xb("missing_or_invalid_mfa","MFA verification failed, retry."));let w=await new Promise(((v,E)=>{e.current={resolve:v,reject:E},setTimeout((()=>{var _;let k=new xb("mfa_timeout","Timed out waiting for MFA code");(_=n.current)==null||_.reject(k),E(k)}),o)}));return await t(w)}return await t()},u=null;for(let m=0;m<s;m++)try{u=await c(m),(d=n.current)==null||d.resolve(void 0);break}catch(y){if(y.type!=="missing_or_invalid_mfa")throw(f=n.current)==null||f.resolve(void 0),y;a=!0}if(u===null){let m=new xb("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(p=n.current)==null||p.reject(m),m}return u}var KO;let Aoe=(KO=0,()=>"id-"+KO++),Toe=(t,e)=>typeof e=="bigint"?e.toString():e,gl=async(t,{ms:e,msg:n})=>{let r,i=new Promise(((s,o)=>{r=setTimeout((()=>{o(Error(n))}),e??15e3)}));try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},GO=new xoe,YO=class{invokeWithMfa(e,n){return gl(Soe((r=>gl(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return gl(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return gl(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return gl(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return gl(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return gl(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return gl(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=GO.dequeue(e.event,e.id);return e.error!==void 0?n(new xb(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await Eoe(150)}))}invoke(e,n){let r=((s,o)=>`${s}${JSON.stringify(o,Toe)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise(((s,o)=>{let a=Aoe();GO.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var d2={exports:{}},ZO;function Ioe(){return ZO||(ZO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,p),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,p,m,y){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],E=arguments.length,k,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,m),!0;case 6:return v.fn.call(v.context,d,f,p,m,y),!0}for(_=1,k=new Array(E-1);_<E;_++)k[_-1]=arguments[_];v.fn.apply(v.context,k)}else{var x=v.length,A;for(_=0;_<x;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),E){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,p);break;default:if(!k)for(A=1,k=new Array(E-1);A<E;A++)k[A-1]=arguments[A];v[_].fn.apply(v[_].context,k)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var w=0,v=[],E=y.length;w<E;w++)(y[w].fn!==d||p&&!y[w].once||f&&y[w].context!==f)&&v.push(y[w]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(d2)),d2.exports}var koe=Ioe();const Vd=cu(koe);let h2={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const XF={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let $h=t=>t!==void 0?BigInt(t):void 0;function cv(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((u=>Array.isArray(u)?{address:u[0],storageKeys:u[1]}:u)):r.accessList&&(e=Object.entries(r.accessList).map((u=>({address:u[0],storageKeys:u[1]}))));let i=Number(r.chainId??1),s=Li(r.data)?r.data:r.data?Pt(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:$h(r.value),gas:$h(r.gas??r.gasLimit)},c=Number(n);if(c===0)return{...r,type:h2[c],...a,gasPrice:$h(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===1)return{...r,type:h2[c],...a,gasPrice:$h(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===2)return{...r,type:h2[c],...a,nonce:o,accessList:e,maxFeePerGas:$h(r.maxFeePerGas),maxPriorityFeePerGas:$h(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const lv=t=>/^0x[0-9a-fA-F]*$/.test(t),uv=t=>Buffer.from(t,"utf8"),Hg=t=>`0x${t.toString("hex")}`;var f2,JO;function Coe(){return JO||(JO=1,f2=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`}),f2}var Poe=Coe();const Ooe=cu(Poe);async function Roe(t,e){let n=Ooe(e);if(n===void 0)throw new tn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Uo(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(Ux,{params:{wallet_id:n}}),method:Ux.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await Roe(e,i);return await t.fetchPrivyRoute(Ux,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function Noe(t){return{from:t.from,to:t.to??void 0,nonce:$u(t.nonce),chain_id:$u(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?lv(e)?e:Hg(uv(e)):Hg(Buffer.from(Uint8Array.from(e)))})(t.data),value:$u(t.value),type:t.type,gas_limit:$u(t.gasLimit),gas_price:$u(t.gasPrice),max_fee_per_gas:$u(t.maxFeePerGas),max_priority_fee_per_gas:$u(t.maxPriorityFeePerGas)}}function $u(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return lv(t)?t:Hg(uv(t))}function $oe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function QF({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Uo(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Uo(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:Noe(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Uo(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:$oe(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Uo(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:lv(o)?o:Hg(uv(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Uo(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:lv(o)?o:Hg(uv(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Uo(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let Doe=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),p2=class extends Vd{async request(e){var n,r,i;if(Doe.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let s=(n=e.params)==null?void 0:n[0];return this.handleSignTransaction(s)}case"eth_sendTransaction":{let s=(r=e.params)==null?void 0:r[0];return this.handleSendTransaction(s)}case"eth_populateTransactionRequest":{let s=(i=e.params)==null?void 0:i[0];return this.handlePopulateTransaction(s)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=HO(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=cv(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:XF[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=Pt(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){var s;if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=(s=e.params)==null?void 0:s[0],r=this.ensureChainId(n),i=cv(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Y8(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Y8(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(Fl(r)){let{data:i}=await QF({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=Z5(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise((async(a,c)=>{var u;o=setTimeout((()=>c(new tn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await((u=this._onNeedsRecovery)==null?void 0:u.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))})).finally((()=>clearTimeout(o)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new tn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:c=o[0].id,appApi:u}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=c,this._chains=o,this._onNeedsRecovery=a,this._client=HO(c,o,{rpcUrls:[]},{appId:u.appId}),this._appApi=u}};function IT(t){return"version"in t}function XO(t,e){let n=(IT(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let Moe=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new tn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=Z5(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(s,o)=>{var a;i=setTimeout((()=>o(new tn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!Fl(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await QF({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new tn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,o=XO(r,this._account.address),a=IT(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:c}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(o,Buffer.from(c,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new tn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=XO(r,this._account.address),s=IT(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new tn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},Loe=class{setMessagePoster(e){this._proxy=new YO(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new tn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await jx({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw new tn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Fl(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new GX({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:c}){var u,d;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((u=this._privyInternal.config)==null?void 0:u.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new tn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await jx({context:{app:this._appApi,fetchPrivyRoute:(...f)=>this._privyInternal.fetch(...f),getCompiledPath:(...f)=>this._privyInternal.getPath(...f)},chainType:"ethereum"})}else{let f;if(f=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(f==="privy"&&((d=this._privyInternal.config)!=null&&d.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let p=await this._privyInternal.getAccessTokenInternal();if(!p)throw Error("User must be logged in to create an embedded wallet");let{address:m}=await this._proxy.create({accessToken:p,recoveryMethod:f,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!m)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(c)}async createSolana(e){var n,r;if(!this._proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await jx({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw new tn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new tn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new tn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Fl(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new p2({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Fl(e)||(!c||i||s||o||a)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new p2({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:c,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,o,a){if(!this._proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Fl(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new Moe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Fl(n))throw new tn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});_oe({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let o;if(r.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:n.chain_type!=="ethereum"?null:new p2({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let c=await this._privyInternal.getAccessTokenInternal();if(!c)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:c,entropyId:e,entropyIdVerifier:n}),e}catch(u){if(Z5(u))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:c,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:c,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}if(r.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let d=await this._proxy.recover({accessToken:c,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),d.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let d=await this._proxy.recover({accessToken:c,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),d.entropyId}}catch(d){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:d instanceof Error?d.message:`Unable to recover wallet: ${e}`}),d}throw u}}constructor(e,n,r,i,s,o){if(this._chains=Array.from(E1),this._privyInternal=e,n&&(this._proxy=new YO(n,s),i.setProxy(this._proxy)),r){let a=uB(r);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},Boe=class extends Vd{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var Ab={exports:{}},Uoe=Ab.exports,QO;function Foe(){return QO||(QO=1,(function(t,e){(function(n,r){t.exports=r()})(Uoe,(function(){var n=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!r(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!r(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(u,d){var f=o.retries,p=o.retryDelay,m=o.retryOn;if(d&&d.retries!==void 0)if(r(d.retries))f=d.retries;else throw new i("retries must be a positive integer");if(d&&d.retryDelay!==void 0)if(r(d.retryDelay)||typeof d.retryDelay=="function")p=d.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(d&&d.retryOn)if(Array.isArray(d.retryOn)||typeof d.retryOn=="function")m=d.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(y,w){var v=function(k){var _=typeof Request<"u"&&u instanceof Request?u.clone():u;s(_,d).then(function(x){if(Array.isArray(m)&&m.indexOf(x.status)===-1)y(x);else if(typeof m=="function")try{return Promise.resolve(m(k,null,x)).then(function(A){A?E(k,null,x):y(x)}).catch(w)}catch(A){w(A)}else k<f?E(k,null,x):y(x)}).catch(function(x){if(typeof m=="function")try{Promise.resolve(m(k,x,null)).then(function(A){A?E(k,x,null):w(x)}).catch(function(A){w(A)})}catch(A){w(A)}else k<f?E(k,x,null):w(x)})};function E(k,_,x){var A=typeof p=="function"?p(k,_,x):p;setTimeout(function(){v(++k)},A)}v(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n}))})(Ab)),Ab.exports}var joe=Foe();const ej=cu(joe);let $w;const zoe=new Uint8Array(16);function Woe(){if(!$w&&($w=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$w))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $w(zoe)}const si=[];for(let t=0;t<256;++t)si.push((t+256).toString(16).slice(1));function Voe(t,e=0){return si[t[e+0]]+si[t[e+1]]+si[t[e+2]]+si[t[e+3]]+"-"+si[t[e+4]]+si[t[e+5]]+"-"+si[t[e+6]]+si[t[e+7]]+"-"+si[t[e+8]]+si[t[e+9]]+"-"+si[t[e+10]]+si[t[e+11]]+si[t[e+12]]+si[t[e+13]]+si[t[e+14]]+si[t[e+15]]}const qoe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eR={randomUUID:qoe};function kT(t,e,n){if(eR.randomUUID&&!t)return eR.randomUUID();t=t||{};const r=t.random||(t.rng||Woe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Voe(r)}var ct,tR=((ct={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",ct.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ct.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",ct.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ct.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",ct.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",ct.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",ct.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",ct.INVALID_DATA="invalid_data",ct.INVALID_CREDENTIALS="invalid_credentials",ct.INVALID_CAPTCHA="invalid_captcha",ct.LINKED_TO_ANOTHER_USER="linked_to_another_user",ct.ALLOWLIST_REJECTED="allowlist_rejected",ct.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",ct.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",ct.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",ct.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",ct.TOO_MANY_REQUESTS="too_many_requests",ct.RESOURCE_CONFLICT="resource_conflict",ct.INVALID_ORIGIN="invalid_origin",ct.MISSING_ORIGIN="missing_origin",ct.INVALID_NATIVE_APP_ID="invalid_native_app_id",ct.TOKEN_ALREADY_USED="token_already_used",ct.ALREADY_LOGGED_OUT="already_logged_out",ct.NOT_SUPPORTED="not_supported",ct.USER_UNSUBSCRIBED="user_unsubscribed",ct.MAX_APPS_REACHED="max_apps_reached",ct.USER_LIMIT_REACHED="max_accounts_reached",ct.DEVICE_REVOKED="device_revoked",ct.WALLET_PASSWORD_EXISTS="wallet_password_exists",ct.OAUTH_STATE_MISMATCH="oauth_state_mismatch",ct.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",ct.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",ct.DISALLOWED_LOGIN_METHOD="disallowed_login_method",ct.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",ct.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",ct.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",ct.CANNOT_SET_PASSWORD="cannot_set_password",ct.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",ct.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",ct.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",ct.USER_DOES_NOT_EXIST="user_does_not_exist",ct.ALREADY_EXISTS="resource_already_exists",ct.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",ct.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",ct.FEATURE_NOT_ENABLED="feature_not_enabled",ct.INSUFFICIENT_FUNDS="insufficient_funds",ct.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",ct.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",ct.INVALID_POLICY_FORMAT="invalid_policy_format",ct.INVALID_AGGREGATION_FORMAT="invalid_aggregation_format",ct.POLICY_VIOLATION="policy_violation",ct.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",ct.INVALID_REQUEST="invalid_request",ct.SIGNUP_DISABLED="signup_disabled",ct),Yt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Yt||(Yt={}));var nR;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(nR||(nR={}));const Ye=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$l=t=>{switch(typeof t){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return Number.isNaN(t)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(t)?Ye.array:t===null?Ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ye.promise:typeof Map<"u"&&t instanceof Map?Ye.map:typeof Set<"u"&&t instanceof Set?Ye.set:typeof Date<"u"&&t instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},Ne=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof Vc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vc.create=t=>new Vc(t);const CT=(t,e)=>{let n;switch(t.code){case Ne.invalid_type:t.received===Ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Yt.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Yt.joinValues(t.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Yt.joinValues(t.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${Yt.joinValues(t.options)}, received '${t.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Yt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,Yt.assertNever(t)}return{message:n}};let Hoe=CT;function Koe(){return Hoe}const Goe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function Fe(t,e){const n=Koe(),r=Goe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===CT?void 0:CT].filter(i=>!!i)});t.common.issues.push(r)}class Vi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Et;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Vi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Et;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Et=Object.freeze({status:"aborted"}),Um=t=>({status:"dirty",value:t}),yo=t=>({status:"valid",value:t}),rR=t=>t.status==="aborted",iR=t=>t.status==="dirty",zf=t=>t.status==="valid",dv=t=>typeof Promise<"u"&&t instanceof Promise;var st;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));class Fa{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sR=(t,e)=>{if(zf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vc(t.common.issues);return this._error=n,this._error}}};function Rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:i}}class Ft{get description(){return this._def.description}_getType(e){return $l(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:$l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vi,ctx:{common:e.parent.common,data:e.data,parsedType:$l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$l(e)},i=this._parseSync({data:e,path:r.path,parent:r});return sR(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$l(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return zf(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>zf(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$l(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(dv(i)?i:Promise.resolve(i));return sR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ne.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Pd({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mc.create(this,this._def)}nullable(){return Od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pa.create(this)}promise(){return yv.create(this,this._def)}or(e){return fv.create([this,e],this._def)}and(e){return pv.create(this,e,this._def)}transform(e){return new Pd({...Rt(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wv({...Rt(this._def),innerType:this,defaultValue:n,typeName:xt.ZodDefault})}brand(){return new ij({typeName:xt.ZodBranded,type:this,...Rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new bv({...Rt(this._def),innerType:this,catchValue:n,typeName:xt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return K6.create(this,e)}readonly(){return vv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yoe=/^c[^\s-]{8,}$/i,Zoe=/^[0-9a-z]+$/,Joe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xoe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qoe=/^[a-z0-9_-]{21}$/i,eae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let m2;const iae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uae=new RegExp(`^${tj}$`);function nj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function dae(t){return new RegExp(`^${nj(t)}$`)}function hae(t){let e=`${tj}T${nj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function fae(t,e){return!!((e==="v4"||!e)&&iae.test(t)||(e==="v6"||!e)&&oae.test(t))}function pae(t,e){if(!eae.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mae(t,e){return!!((e==="v4"||!e)&&sae.test(t)||(e==="v6"||!e)&&aae.test(t))}class Ia extends Ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ye.string){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ne.invalid_type,expected:Ye.string,received:s.parsedType}),Et}const r=new Vi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Fe(i,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Fe(i,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")nae.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"email",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")m2||(m2=new RegExp(rae,"u")),m2.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"emoji",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Xoe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"uuid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Qoe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"nanoid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Yoe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Zoe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid2",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Joe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ulid",code:Ne.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Fe(i,{validation:"url",code:Ne.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"regex",code:Ne.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?hae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?uae.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?dae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?tae.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"duration",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?fae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ip",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?pae(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"jwt",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?mae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cidr",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?cae.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"base64",code:Ne.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?lae.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"base64url",code:Ne.invalid_string,message:s.message}),r.dirty()):Yt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ne.invalid_string,...st.errToObj(r)})}_addCheck(e){return new Ia({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...st.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...st.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...st.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...st.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...st.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...st.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...st.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...st.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...st.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...st.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...st.errToObj(n)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ia.create=t=>new Ia({checks:[],typeName:xt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Rt(t)});function gae(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Td extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ye.number){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ne.invalid_type,expected:Ye.number,received:s.parsedType}),Et}let r;const i=new Vi;for(const s of this._def.checks)s.kind==="int"?Yt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?gae(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.not_finite,message:s.message}),i.dirty()):Yt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,st.toString(n))}gt(e,n){return this.setLimit("min",e,!1,st.toString(n))}lte(e,n){return this.setLimit("max",e,!0,st.toString(n))}lt(e,n){return this.setLimit("max",e,!1,st.toString(n))}setLimit(e,n,r,i){return new Td({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:st.toString(i)}]})}_addCheck(e){return new Td({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Yt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Td.create=t=>new Td({checks:[],typeName:xt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Rt(t)});class Id extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ye.bigint)return this._getInvalidInput(e);let r;const i=new Vi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Yt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ne.invalid_type,expected:Ye.bigint,received:n.parsedType}),Et}gte(e,n){return this.setLimit("min",e,!0,st.toString(n))}gt(e,n){return this.setLimit("min",e,!1,st.toString(n))}lte(e,n){return this.setLimit("max",e,!0,st.toString(n))}lt(e,n){return this.setLimit("max",e,!1,st.toString(n))}setLimit(e,n,r,i){return new Id({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:st.toString(i)}]})}_addCheck(e){return new Id({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Id.create=t=>new Id({checks:[],typeName:xt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Rt(t)});class hv extends Ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ye.boolean){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ne.invalid_type,expected:Ye.boolean,received:r.parsedType}),Et}return yo(e.data)}}hv.create=t=>new hv({typeName:xt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Rt(t)});class Wf extends Ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ye.date){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ne.invalid_type,expected:Ye.date,received:s.parsedType}),Et}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ne.invalid_date}),Et}const r=new Vi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ne.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Yt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wf.create=t=>new Wf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xt.ZodDate,...Rt(t)});class oR extends Ft{_parse(e){if(this._getType(e)!==Ye.symbol){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ne.invalid_type,expected:Ye.symbol,received:r.parsedType}),Et}return yo(e.data)}}oR.create=t=>new oR({typeName:xt.ZodSymbol,...Rt(t)});class PT extends Ft{_parse(e){if(this._getType(e)!==Ye.undefined){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ne.invalid_type,expected:Ye.undefined,received:r.parsedType}),Et}return yo(e.data)}}PT.create=t=>new PT({typeName:xt.ZodUndefined,...Rt(t)});class OT extends Ft{_parse(e){if(this._getType(e)!==Ye.null){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ne.invalid_type,expected:Ye.null,received:r.parsedType}),Et}return yo(e.data)}}OT.create=t=>new OT({typeName:xt.ZodNull,...Rt(t)});class RT extends Ft{constructor(){super(...arguments),this._any=!0}_parse(e){return yo(e.data)}}RT.create=t=>new RT({typeName:xt.ZodAny,...Rt(t)});class aR extends Ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yo(e.data)}}aR.create=t=>new aR({typeName:xt.ZodUnknown,...Rt(t)});class ru extends Ft{_parse(e){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ne.invalid_type,expected:Ye.never,received:n.parsedType}),Et}}ru.create=t=>new ru({typeName:xt.ZodNever,...Rt(t)});class cR extends Ft{_parse(e){if(this._getType(e)!==Ye.undefined){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ne.invalid_type,expected:Ye.void,received:r.parsedType}),Et}return yo(e.data)}}cR.create=t=>new cR({typeName:xt.ZodVoid,...Rt(t)});class Pa extends Ft{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ye.array)return Fe(n,{code:Ne.invalid_type,expected:Ye.array,received:n.parsedType}),Et;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Fe(n,{code:o?Ne.too_big:Ne.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Fe(n,{code:Ne.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Fe(n,{code:Ne.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Fa(n,o,n.path,a)))).then(o=>Vi.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Fa(n,o,n.path,a)));return Vi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Pa({...this._def,minLength:{value:e,message:st.toString(n)}})}max(e,n){return new Pa({...this._def,maxLength:{value:e,message:st.toString(n)}})}length(e,n){return new Pa({...this._def,exactLength:{value:e,message:st.toString(n)}})}nonempty(e){return this.min(1,e)}}Pa.create=(t,e)=>new Pa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...Rt(e)});function tf(t){if(t instanceof yr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mc.create(tf(r))}return new yr({...t._def,shape:()=>e})}else return t instanceof Pa?new Pa({...t._def,type:tf(t.element)}):t instanceof Mc?Mc.create(tf(t.unwrap())):t instanceof Od?Od.create(tf(t.unwrap())):t instanceof kd?kd.create(t.items.map(e=>tf(e))):t}class yr extends Ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Yt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ye.object){const u=this._getOrReturnCtx(e);return Fe(u,{code:Ne.invalid_type,expected:Ye.object,received:u.parsedType}),Et}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ru&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Fa(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ru){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(Fe(i,{code:Ne.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Fa(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Vi.mergeObjectSync(r,u)):Vi.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new yr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:st.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new yr({...this._def,unknownKeys:"strip"})}passthrough(){return new yr({...this._def,unknownKeys:"passthrough"})}extend(e){return new yr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new yr({...this._def,catchall:e})}pick(e){const n={};for(const r of Yt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new yr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Yt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new yr({...this._def,shape:()=>n})}deepPartial(){return tf(this)}partial(e){const n={};for(const r of Yt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new yr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Yt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Mc;)s=s._def.innerType;n[r]=s}return new yr({...this._def,shape:()=>n})}keyof(){return rj(Yt.objectKeys(this.shape))}}yr.create=(t,e)=>new yr({shape:()=>t,unknownKeys:"strip",catchall:ru.create(),typeName:xt.ZodObject,...Rt(e)});yr.strictCreate=(t,e)=>new yr({shape:()=>t,unknownKeys:"strict",catchall:ru.create(),typeName:xt.ZodObject,...Rt(e)});yr.lazycreate=(t,e)=>new yr({shape:t,unknownKeys:"strip",catchall:ru.create(),typeName:xt.ZodObject,...Rt(e)});class fv extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Vc(a.ctx.common.issues));return Fe(n,{code:Ne.invalid_union,unionErrors:o}),Et}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Vc(c));return Fe(n,{code:Ne.invalid_union,unionErrors:a}),Et}}get options(){return this._def.options}}fv.create=(t,e)=>new fv({options:t,typeName:xt.ZodUnion,...Rt(e)});const gc=t=>t instanceof $T?gc(t.schema):t instanceof Pd?gc(t.innerType()):t instanceof gv?[t.value]:t instanceof Cd?t.options:t instanceof DT?Yt.objectValues(t.enum):t instanceof wv?gc(t._def.innerType):t instanceof PT?[void 0]:t instanceof OT?[null]:t instanceof Mc?[void 0,...gc(t.unwrap())]:t instanceof Od?[null,...gc(t.unwrap())]:t instanceof ij||t instanceof vv?gc(t.unwrap()):t instanceof bv?gc(t._def.innerType):[];class H6 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ye.object)return Fe(n,{code:Ne.invalid_type,expected:Ye.object,received:n.parsedType}),Et;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Fe(n,{code:Ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Et)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=gc(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new H6({typeName:xt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Rt(r)})}}function NT(t,e){const n=$l(t),r=$l(e);if(t===e)return{valid:!0,data:t};if(n===Ye.object&&r===Ye.object){const i=Yt.objectKeys(e),s=Yt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=NT(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ye.array&&r===Ye.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=NT(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ye.date&&r===Ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pv extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(rR(s)||rR(o))return Et;const a=NT(s.value,o.value);return a.valid?((iR(s)||iR(o))&&n.dirty(),{status:n.value,value:a.data}):(Fe(r,{code:Ne.invalid_intersection_types}),Et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pv.create=(t,e,n)=>new pv({left:t,right:e,typeName:xt.ZodIntersection,...Rt(n)});class kd extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.array)return Fe(r,{code:Ne.invalid_type,expected:Ye.array,received:r.parsedType}),Et;if(r.data.length<this._def.items.length)return Fe(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Et;!this._def.rest&&r.data.length>this._def.items.length&&(Fe(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Fa(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Vi.mergeArray(n,o)):Vi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new kd({...this._def,rest:e})}}kd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kd({items:t,typeName:xt.ZodTuple,rest:null,...Rt(e)})};class mv extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.object)return Fe(r,{code:Ne.invalid_type,expected:Ye.object,received:r.parsedType}),Et;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Fa(r,a,r.path,a)),value:o._parse(new Fa(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Vi.mergeObjectAsync(n,i):Vi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ft?new mv({keyType:e,valueType:n,typeName:xt.ZodRecord,...Rt(r)}):new mv({keyType:Ia.create(),valueType:e,typeName:xt.ZodRecord,...Rt(n)})}}class lR extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.map)return Fe(r,{code:Ne.invalid_type,expected:Ye.map,received:r.parsedType}),Et;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:i._parse(new Fa(r,a,r.path,[u,"key"])),value:s._parse(new Fa(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Et;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Et;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}lR.create=(t,e,n)=>new lR({valueType:e,keyType:t,typeName:xt.ZodMap,...Rt(n)});class Kg extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.set)return Fe(r,{code:Ne.invalid_type,expected:Ye.set,received:r.parsedType}),Et;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Fe(r,{code:Ne.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Fe(r,{code:Ne.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Et;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>s._parse(new Fa(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Kg({...this._def,minSize:{value:e,message:st.toString(n)}})}max(e,n){return new Kg({...this._def,maxSize:{value:e,message:st.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Kg.create=(t,e)=>new Kg({valueType:t,minSize:null,maxSize:null,typeName:xt.ZodSet,...Rt(e)});class $T extends Ft{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$T.create=(t,e)=>new $T({getter:t,typeName:xt.ZodLazy,...Rt(e)});class gv extends Ft{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Fe(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),Et}return{status:"valid",value:e.data}}get value(){return this._def.value}}gv.create=(t,e)=>new gv({value:t,typeName:xt.ZodLiteral,...Rt(e)});function rj(t,e){return new Cd({values:t,typeName:xt.ZodEnum,...Rt(e)})}class Cd extends Ft{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Fe(n,{expected:Yt.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),Et}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Fe(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),Et}return yo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Cd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Cd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cd.create=rj;class DT extends Ft{_parse(e){const n=Yt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ye.string&&r.parsedType!==Ye.number){const i=Yt.objectValues(n);return Fe(r,{expected:Yt.joinValues(i),received:r.parsedType,code:Ne.invalid_type}),Et}if(this._cache||(this._cache=new Set(Yt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Yt.objectValues(n);return Fe(r,{received:r.data,code:Ne.invalid_enum_value,options:i}),Et}return yo(e.data)}get enum(){return this._def.values}}DT.create=(t,e)=>new DT({values:t,typeName:xt.ZodNativeEnum,...Rt(e)});class yv extends Ft{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ye.promise&&n.common.async===!1)return Fe(n,{code:Ne.invalid_type,expected:Ye.promise,received:n.parsedType}),Et;const r=n.parsedType===Ye.promise?n.data:Promise.resolve(n.data);return yo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yv.create=(t,e)=>new yv({type:t,typeName:xt.ZodPromise,...Rt(e)});class Pd extends Ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Fe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Et;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Et:c.status==="dirty"||n.value==="dirty"?Um(c.value):c});{if(n.value==="aborted")return Et;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Et:a.status==="dirty"||n.value==="dirty"?Um(a.value):a}}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Et:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Et:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zf(o))return Et;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zf(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Et);Yt.assertNever(i)}}Pd.create=(t,e,n)=>new Pd({schema:t,typeName:xt.ZodEffects,effect:e,...Rt(n)});Pd.createWithPreprocess=(t,e,n)=>new Pd({schema:e,effect:{type:"preprocess",transform:t},typeName:xt.ZodEffects,...Rt(n)});class Mc extends Ft{_parse(e){return this._getType(e)===Ye.undefined?yo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mc.create=(t,e)=>new Mc({innerType:t,typeName:xt.ZodOptional,...Rt(e)});class Od extends Ft{_parse(e){return this._getType(e)===Ye.null?yo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:xt.ZodNullable,...Rt(e)});class wv extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wv.create=(t,e)=>new wv({innerType:t,typeName:xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Rt(e)});class bv extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dv(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}bv.create=(t,e)=>new bv({innerType:t,typeName:xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Rt(e)});class uR extends Ft{_parse(e){if(this._getType(e)!==Ye.nan){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ne.invalid_type,expected:Ye.nan,received:r.parsedType}),Et}return{status:"valid",value:e.data}}}uR.create=t=>new uR({typeName:xt.ZodNaN,...Rt(t)});class ij extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class K6 extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Et:s.status==="dirty"?(n.dirty(),Um(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Et:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new K6({in:e,out:n,typeName:xt.ZodPipeline})}}class vv extends Ft{_parse(e){const n=this._def.innerType._parse(e),r=i=>(zf(i)&&(i.value=Object.freeze(i.value)),i);return dv(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}vv.create=(t,e)=>new vv({innerType:t,typeName:xt.ZodReadonly,...Rt(e)});var xt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xt||(xt={}));const bn=Ia.create,co=Td.create;Id.create;const sj=hv.create,yae=Wf.create,Vf=RT.create;ru.create;const G1=Pa.create,Xr=yr.create,oj=fv.create,wae=H6.create;pv.create;kd.create;const pd=mv.create,bae=gv.create,Ka=Cd.create;yv.create;Mc.create;Od.create;const vae={string:(t=>Ia.create({...t,coerce:!0})),number:(t=>Td.create({...t,coerce:!0})),boolean:(t=>hv.create({...t,coerce:!0})),bigint:(t=>Id.create({...t,coerce:!0})),date:(t=>Wf.create({...t,coerce:!0}))};/*! js-cookie v3.0.5 | MIT */function Dw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var _ae={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function MT(t,e){function n(i,s,o){if(!(typeof document>"u")){o=Dw({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,o[c]!==!0&&(a+="="+o[c].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var c=s[a].split("="),u=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(o[d]=t.read(u,d),i===d)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Dw({},s,{expires:-1}))},withAttributes:function(i){return MT(this.converter,Dw({},this.attributes,i))},withConverter:function(i){return MT(Dw({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var or=MT(_ae,{path:"/"});const dR=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let Dh="privy:token",g2="privy-token",y2="privy:pat",Mw="privy:refresh_token",w2="privy-refresh-token",Mh="privy:id-token",b2="privy-id-token",Lw="privy-session",aj=class extends Vd{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(Dh);try{return typeof e=="string"?new Xh(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(y2);try{return typeof e=="string"?new Xh(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Mw);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(Mh);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=or.get(Lw);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=Xh.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await dR([this._storage.del(Dh),this._storage.del(Mw),this._storage.del(Mh),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),or.remove(g2),or.remove(w2),or.remove(b2),or.remove(Lw),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(Dh);if(await this._storage.put(Dh,e),!this._isUsingServerCookies){let i=(n=Xh.parse(e))==null?void 0:n.expiration;or.set(g2,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(Dh);await this._storage.del(Dh),or.remove(g2),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(y2,e):await this._storage.del(y2)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Mw,e),this._isUsingServerCookies||(or.set(Lw,"t",{sameSite:"Strict",secure:!0,expires:30}),or.set(w2,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Mw),or.remove(w2),or.remove(Lw),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await dR([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(Mh);if(await this._storage.put(Mh,e),!this._isUsingServerCookies){let i=(n=Xh.parse(e))==null?void 0:n.expiration;or.set(b2,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(Mh);await this._storage.del(Mh),or.remove(b2),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=yd(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};aj.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var Eae=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function xae(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const Bw=()=>{};let yl={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const Sae=({level:t}={level:"ERROR"})=>({get level(){return t},error:yl[t]>=yl.ERROR?console.error:Bw,warn:yl[t]>=yl.WARN?console.warn:Bw,info:yl[t]>=yl.INFO?console.info:Bw,debug:yl[t]>=yl.DEBUG?console.debug:Bw});let v2="privy:caid",Aae=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new tn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${sX(e.path,n)}${xae(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),c=await o(a),u=await this._fetch(a,c),d=await u.json();if(u.status>299)throw new Fx(d);return d}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:Eae(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(bJ,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(v2);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=kT()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(v2,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(v2)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(wJ,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new tn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,o,a,c,u;let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new Fx({code:tR.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${G8.path}`);let d=await this.fetch(G8,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),f=d.session_update_action;return this.logger.debug(`[privy:refresh] response: ${f}`),f==="set"&&(await this.session.updateWithTokensResponse(d),this.logger.debug("[privy:refresh] tokens stored")),f==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,null))),f==="ignore"&&(d.token&&(await this.session.storeCustomerAccessToken(d.token),this.logger.debug("[privy:refresh] token stored (CAT)")),d.privy_access_token&&(await this.session.storePrivyAccessToken(d.privy_access_token),this.logger.debug("[privy:refresh] token stored (PAT)")),d.identity_token&&(this.logger.debug("[privy:refresh] token stored (IDT)"),await this.session.storeIdentityToken(d.identity_token))),this.logger.debug("[privy:refresh] returning response"),n||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,d.user)),d}catch(d){throw this.logger.debug(`[privy:refresh] error: ${d.message??"unknown error"}`),d instanceof Fx&&d.code===tR.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((u=(c=this.callbacks)==null?void 0:c.setUser)==null||u.call(c,null))),d}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${kT()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.58.7",this._cache=new Map,this.logger=Sae({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new aj({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=ej(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},Tae=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(gX,{})}}constructor(e){this._privyInternal=e}};const cj=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",lj=t=>t?t.linked_accounts.filter(cj).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],hR=t=>lj(t).find((e=>e.wallet_index===0))??null,uj=t=>t?t.linked_accounts.filter(cj).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],Iae=t=>uj(t).find((e=>e.wallet_index===0))??null,kae=(t,e)=>!(e==="off"||lj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),Cae=(t,e)=>!(e==="off"||uj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),Jo=async(t,e,n)=>{var s,o;let r=kae(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=Cae(e.user,((o=n==null?void 0:n.solana)==null?void 0:o.createOnLogin)??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:hR(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:Iae(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:hR(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let Pae=class{async syncWithToken(e,n,r){var o,a;let i=await this._privyInternal.fetch(xJ,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Jo(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},Oae=class{async sendCode(e,n){return this._privyInternal.fetch(qJ,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(VJ,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Jo(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(HJ,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(GJ,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(KJ,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Rae=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(SJ,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(kJ,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},o){var u,d;let a=await this._privyInternal.fetch(AJ,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await Jo(this._embedded,a,o==null?void 0:o.embedded);return(d=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||d.call(u,c.user),c}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(TJ,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(IJ,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Nae=class{async initializeAuth(){return await this._privyInternal.fetch(CJ,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var a,c;let s=await this._privyInternal.fetch(PJ,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Jo(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}constructor(e,n){this._privyInternal=e,this._embedded=n}},$ae=class{async create(e){var s,o;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(OJ,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await Jo(this._embedded,r,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const jl="privy:state_code",zl="privy:code_verifier";async function Dae(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function Mae(t){return crypto.getRandomValues(new Uint8Array(t))}function G6(){return yd(Mae(36))}function dj(){return G6()}async function hj({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await Dae(t,n);return yd(r)}}let Lae=class{async generateURL(e,n){var o;let r=G6(),i=dj(),s=await hj({codeVerifier:r,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(zl,r),this._storage.put(jl,i)]),this._privyInternal.fetch(DJ,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,o){var f,p;let[a,c]=await Promise.all([this._storage.get(zl),this._storage.get(jl)]);if(c!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:c??"",returnedStateCode:n??""}),new tn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let u=await this._privyInternal.fetch($J,{body:{authorization_code:e,code_type:i,state_code:c,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(u);let d=await Jo(this._embedded,u,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(zl),this._storage.del(jl)]),(p=(f=this._privyInternal.callbacks)==null?void 0:f.setUser)==null||p.call(f,d.user),d}async linkWithCode(e,n,r,i){let[s,o]=await Promise.all([this._storage.get(zl),this._storage.get(jl)]);if(o!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:n??""}),new tn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(MJ,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let c=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(zl),this._storage.del(jl)]),{user:c.user,identity_token:c.identity_token}}async unlink(e,n){await this._privyInternal.fetch(LJ,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},Bae=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(WJ,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(jJ,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(zJ,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(UJ,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Jo(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async signupWithPasskey(e,n,r){var o,a;let i=await this._privyInternal.fetch(FJ,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Jo(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(BJ,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Uae=class{async sendCode(e,n){return this._privyInternal.fetch(ZJ,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(YJ,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Jo(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(JJ,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(QJ,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(XJ,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Fae=class{async unlinkWallet(e){await this._privyInternal.fetch(dX,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(lX,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,n,r,i,s){var d,f;let o=n||this._wallet,a=r||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let c=await this._privyInternal.fetch(cX,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType??null,connectorType:o.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await Jo(this._embedded,c,s==null?void 0:s.embedded);return(f=(d=this._privyInternal.callbacks)==null?void 0:d.setUser)==null||f.call(d,u.user),u}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(eB,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},jae=class{async unlink({address:e}){await this._privyInternal.fetch(mX,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(pX,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:o}){var u,d;let a=await this._privyInternal.fetch(fX,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await Jo(this._embedded,a,o==null?void 0:o.embedded);return(d=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||d.call(u,c.user),c}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(hX,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},zae=class{async link(e,n,r,i){await this._privyInternal.fetch(uX,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(eB,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Wae=class{async logout(e){var n,r;try{let i=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(oX,{body:{refresh_token:i}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),(e==null?void 0:e.userId)&&this._mfa.clearMfa({userId:e.userId})]),(r=(n=this._privyInternal.callbacks)==null?void 0:n.setUser)==null||r.call(n,null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new Pae(this._privyInternal,n),this.phone=new Uae(this._privyInternal,n),this.email=new Oae(this._privyInternal,n),this.oauth=new Lae(this._privyInternal,n,r,i),this.guest=new $ae(this._privyInternal,n),this.siwe=new Fae(this._privyInternal,n),this.siws=new jae(this._privyInternal,n),this.smartWallet=new zae(this._privyInternal),this.passkey=new Bae(this._privyInternal,n),this.farcaster=new Rae(this._privyInternal,n),this.farcasterV2=new Nae(this._privyInternal,n)}},Vae=class{async initOnRampSession(e){return await this._privyInternal.fetch(vJ,{body:e})}async getStatus(e){return await this._privyInternal.fetch(_J,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const qae={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Hae=new Set([lp.id,xy.id,Ay.id,Ty.id,Sy.id,G5.id]),Kae=new Set([lp.id,xy.id,Y5.id,Ay.id,Ty.id,Sy.id]);function k7e(t,e){switch(e){case"native-currency":return Hae.has(t);case"USDC":return Kae.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function C7e(t,e){switch(t){case xy.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Sy.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case Ay.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case G5.id:return"CELO_CELO";case Ty.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case lp.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Gae=class{async sign(e){return await this._privyInternal.fetch(yX,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=qae[n?"sandbox":"prod"],s=await ej(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new KX({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},Yae=class{constructor(e){this.moonpay=new Gae(e),this.coinbase=new Vae(e)}},Zae=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(RJ,{body:e})}constructor(e){this._privyInternal=e}},Jae=class{async sendCode(e){return await this._privyInternal.fetch(NJ,{body:e})}constructor(e){this._privyInternal=e}},Xae=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new tn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new tn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new Jae(e),this.passkey=new Zae(e)}},Qae=class{async init(e){return this._privyInternal.fetch(rX,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(iX,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},ece=class{async generateURL(e){var s;let n=G6(),r=dj(),i=await hj({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(zl,n),this._storage.put(jl,r)]),this._privyInternal.fetch(tX,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(zl),this._storage.get(jl)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new tn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(nX,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(zl),this._storage.del(jl)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},tce=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(eX,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new ece(this._privyInternal,n,r),this.icloudAuth=new Qae(this._privyInternal)}},nce=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new Aae({...n,appClientId:e}),this.mfa=new Xae(this._privyInternal),this.mfaPromises=new Boe,this.app=new vX(this._privyInternal),this.embeddedWallet=new Loe(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new Tae(this._privyInternal),this.auth=new Wae(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new tce(this._privyInternal,n.storage,n.crypto),this.funding=new Yae(this._privyInternal),this.delegated=new PX(this._privyInternal),this.crossApp=new rB(this._privyInternal,n.storage)}};function jr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var rce=0;function fj(t){return"__private_"+rce+++"_"+t}var Cn=fj("_wallet"),_s=fj("_account");let ice=class{get standardWallet(){return jr(this,Cn)[Cn]}get address(){return jr(this,_s)[_s].address}async disconnect(){var e;if(!((e=jr(this,Cn)[Cn].features["standard:disconnect"])!=null&&e.disconnect))throw Error("Wallet does not support disconnect");await jr(this,Cn)[Cn].features["standard:disconnect"].disconnect()}async signMessage(...e){var r;if(!((r=jr(this,Cn)[Cn].features["solana:signMessage"])!=null&&r.signMessage))throw Error("Wallet does not support signMessage");let n=await jr(this,Cn)[Cn].features["solana:signMessage"].signMessage(...e.map((i=>({...i,account:jr(this,_s)[_s]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){var r;if(!((r=jr(this,Cn)[Cn].features["solana:signTransaction"])!=null&&r.signTransaction))throw Error("Wallet does not support signTransaction");let n=await jr(this,Cn)[Cn].features["solana:signTransaction"].signTransaction(...e.map((i=>({...i,account:jr(this,_s)[_s]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){var r;if(!((r=jr(this,Cn)[Cn].features["solana:signAndSendTransaction"])!=null&&r.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");let n=await jr(this,Cn)[Cn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((i=>({...i,account:jr(this,_s)[_s]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){var n;if(!((n=jr(this,Cn)[Cn].features["solana:signAndSendTransaction"])!=null&&n.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");return[...await jr(this,Cn)[Cn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((r=>({...r,account:jr(this,_s)[_s]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Cn,{writable:!0,value:void 0}),Object.defineProperty(this,_s,{writable:!0,value:void 0}),jr(this,Cn)[Cn]=e,jr(this,_s)[_s]=n}};function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}var sce=/^\s+/,oce=/\s+$/;function qe(t,e){if(t=t||"",e=e||{},t instanceof qe)return t;if(!(this instanceof qe))return new qe(t,e);var n=ace(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}qe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=pj(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=pR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=pR(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=fR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=fR(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return mR(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return dce(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ln(this._r,255)*100)+"%",g:Math.round(Ln(this._g,255)*100)+"%",b:Math.round(Ln(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ln(this._r,255)*100)+"%, "+Math.round(Ln(this._g,255)*100)+"%, "+Math.round(Ln(this._b,255)*100)+"%)":"rgba("+Math.round(Ln(this._r,255)*100)+"%, "+Math.round(Ln(this._g,255)*100)+"%, "+Math.round(Ln(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:xce[mR(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+gR(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=qe(e);r="#"+gR(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return qe(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(mce,arguments)},brighten:function(){return this._applyModification(gce,arguments)},darken:function(){return this._applyModification(yce,arguments)},desaturate:function(){return this._applyModification(hce,arguments)},saturate:function(){return this._applyModification(fce,arguments)},greyscale:function(){return this._applyModification(pce,arguments)},spin:function(){return this._applyModification(wce,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(_ce,arguments)},complement:function(){return this._applyCombination(bce,arguments)},monochromatic:function(){return this._applyCombination(Ece,arguments)},splitcomplement:function(){return this._applyCombination(vce,arguments)},triad:function(){return this._applyCombination(yR,[3])},tetrad:function(){return this._applyCombination(yR,[4])}};qe.fromRatio=function(t,e){if(_v(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Fm(t[r]));t=n}return qe(t,e)};function ace(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Ice(t)),_v(t)=="object"&&(ac(t.r)&&ac(t.g)&&ac(t.b)?(e=cce(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ac(t.h)&&ac(t.s)&&ac(t.v)?(r=Fm(t.s),i=Fm(t.v),e=uce(t.h,r,i),o=!0,a="hsv"):ac(t.h)&&ac(t.s)&&ac(t.l)&&(r=Fm(t.s),s=Fm(t.l),e=lce(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=pj(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function cce(t,e,n){return{r:Ln(t,255)*255,g:Ln(e,255)*255,b:Ln(n,255)*255}}function fR(t,e,n){t=Ln(t,255),e=Ln(e,255),n=Ln(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var c=r-i;switch(o=a>.5?c/(2-r-i):c/(r+i),r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:o,l:a}}function lce(t,e,n){var r,i,s;t=Ln(t,360),e=Ln(e,100),n=Ln(n,100);function o(u,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(d-u)*6*f:f<1/2?d:f<2/3?u+(d-u)*(2/3-f)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=o(c,a,t+1/3),i=o(c,a,t),s=o(c,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function pR(t,e,n){t=Ln(t,255),e=Ln(e,255),n=Ln(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,c=r-i;if(o=r===0?0:c/r,r==i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:o,v:a}}function uce(t,e,n){t=Ln(t,360)*6,e=Ln(e,100),n=Ln(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),c=r%6,u=[n,o,s,s,a,n][c],d=[a,n,n,o,s,s][c],f=[s,s,a,n,n,o][c];return{r:u*255,g:d*255,b:f*255}}function mR(t,e,n,r){var i=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function dce(t,e,n,r,i){var s=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16)),zo(mj(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function gR(t,e,n,r){var i=[zo(mj(r)),zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return i.join("")}qe.equals=function(t,e){return!t||!e?!1:qe(t).toRgbString()==qe(e).toRgbString()};qe.random=function(){return qe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function hce(t,e){e=e===0?0:e||10;var n=qe(t).toHsl();return n.s-=e/100,n.s=Y1(n.s),qe(n)}function fce(t,e){e=e===0?0:e||10;var n=qe(t).toHsl();return n.s+=e/100,n.s=Y1(n.s),qe(n)}function pce(t){return qe(t).desaturate(100)}function mce(t,e){e=e===0?0:e||10;var n=qe(t).toHsl();return n.l+=e/100,n.l=Y1(n.l),qe(n)}function gce(t,e){e=e===0?0:e||10;var n=qe(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),qe(n)}function yce(t,e){e=e===0?0:e||10;var n=qe(t).toHsl();return n.l-=e/100,n.l=Y1(n.l),qe(n)}function wce(t,e){var n=qe(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,qe(n)}function bce(t){var e=qe(t).toHsl();return e.h=(e.h+180)%360,qe(e)}function yR(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=qe(t).toHsl(),r=[qe(t)],i=360/e,s=1;s<e;s++)r.push(qe({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function vce(t){var e=qe(t).toHsl(),n=e.h;return[qe(t),qe({h:(n+72)%360,s:e.s,l:e.l}),qe({h:(n+216)%360,s:e.s,l:e.l})]}function _ce(t,e,n){e=e||6,n=n||30;var r=qe(t).toHsl(),i=360/n,s=[qe(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(qe(r));return s}function Ece(t,e){e=e||6;for(var n=qe(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(qe({h:r,s:i,v:s})),s=(s+a)%1;return o}qe.mix=function(t,e,n){n=n===0?0:n||50;var r=qe(t).toRgb(),i=qe(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return qe(o)};qe.readability=function(t,e){var n=qe(t),r=qe(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};qe.isReadable=function(t,e,n){var r=qe.readability(t,e),i,s;switch(s=!1,i=kce(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};qe.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,c;n=n||{},o=n.includeFallbackColors,a=n.level,c=n.size;for(var u=0;u<e.length;u++)s=qe.readability(t,e[u]),s>i&&(i=s,r=qe(e[u]));return qe.isReadable(t,r,{level:a,size:c})||!o?r:(n.includeFallbackColors=!1,qe.mostReadable(t,["#fff","#000"],n))};var LT=qe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xce=qe.hexNames=Sce(LT);function Sce(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function pj(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ln(t,e){Ace(t)&&(t="100%");var n=Tce(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Y1(t){return Math.min(1,Math.max(0,t))}function Ss(t){return parseInt(t,16)}function Ace(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Tce(t){return typeof t=="string"&&t.indexOf("%")!=-1}function zo(t){return t.length==1?"0"+t:""+t}function Fm(t){return t<=1&&(t=t*100+"%"),t}function mj(t){return Math.round(parseFloat(t)*255).toString(16)}function wR(t){return Ss(t)/255}var $o=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function ac(t){return!!$o.CSS_UNIT.exec(t)}function Ice(t){t=t.replace(sce,"").replace(oce,"").toLowerCase();var e=!1;if(LT[t])t=LT[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$o.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$o.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$o.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$o.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$o.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$o.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$o.hex8.exec(t))?{r:Ss(n[1]),g:Ss(n[2]),b:Ss(n[3]),a:wR(n[4]),format:e?"name":"hex8"}:(n=$o.hex6.exec(t))?{r:Ss(n[1]),g:Ss(n[2]),b:Ss(n[3]),format:e?"name":"hex"}:(n=$o.hex4.exec(t))?{r:Ss(n[1]+""+n[1]),g:Ss(n[2]+""+n[2]),b:Ss(n[3]+""+n[3]),a:wR(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$o.hex3.exec(t))?{r:Ss(n[1]+""+n[1]),g:Ss(n[2]+""+n[2]),b:Ss(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function kce(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const BT="https://auth.privy.io",Cce=2e4,F7e=1400,j7e=2500,z7e=4e3,Pce="3.11.0",jm="privy:token",bR="privy-token",_2="privy:refresh_token",Oce="privy-refresh-token",Tb="privy:pat",vR="privy:id_token",_R="privy-id-token",E2="privy-session",UT="privy:caid",gj=t=>`privy:guest:${t}`,Uw=t=>`privy:cross-app:${t}`,Ev="privy:state_code",um="privy:code_verifier",xv="privy:headless_oauth",rg="privy:oauth_disable_signup",x2=t=>`privy:wallet:${t}`,yj="privy:connections",Z1=12e4,W7e=1,ER="0x1",Rce=3e4,V7e="https://api.moonpay.com/v1",q7e="https://api.moonpay.com/v1",H7e="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",K7e="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",Nce="deprecated",Ol={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let $ce=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),xR=t=>$ce.has(t),SR=(t,e,n)=>n.indexOf(t)===e;const Dce=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(xR).filter(SR):t?t.filter(xR).filter(SR):Ol.appearance.walletList;let Mce=/paymaster\.biconomy\.io\/api/i,Lce={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Bce=(t,e)=>t&&Mce.test(t)?Lce:e&&e.policy_id?{policyId:e.policy_id}:void 0;function Fw(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return qe({...t.toHsl(),l:n})}function S2(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Uce(t,e){if(!t){let r=e?zm:Ib;return{accent:qe(r.background.interactive),accentLight:qe(r.background.interactive),accentHover:qe(r.background["interactive-hover"]),accentDark:qe(r.background["interactive-clicked"]),accentDarkest:qe(r.background["interactive-disabled"])}}let n=qe(t);return{accent:n,accentLight:Fw(n,.15),accentHover:Fw(n,.3),accentDark:Fw(n,-.06),accentDarkest:Fw(n,-.6)}}function Fce({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=qe(t).getLuminance(),r=qe(t).toHslString());let i=n?"dark":"light",s=n?zm:Ib,{accent:o,accentLight:a,accentHover:c,accentDark:u,accentDarkest:d}=Uce(e,n),f=(function(y){let w=qe(Ib.text.default),v=qe(zm.text.default),E=S2(y,w),k=S2(y,v),_=y.toHsl();return _.h>=220&&_.h<=300&&k>=3?zm.text.default:E>k?Ib.text.default:zm.text.default})(o),p=qe(f),m=S2(o,qe(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:c.toHslString(),accentDark:u.toHslString(),accentDarkest:d.toHslString(),foregroundAccent:p.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:m?"1":"0",linkNavigationColor:m?o.toHslString():s.text.default,linkNavigationDecoration:m?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const zm={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Ib={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function wj(t,e,n,r,i){var xe,we,Oe,Xe,ot,fe,St,Nt,lt,er,Ut,Le,Be,Kn,tr,ft,Sr,Pi,mi,Lr,nn,Gn,Fn,wt,rt,pt,$t,Yn,Sn,At,je,jn,Ar,Tr,Oi,Tt,bo,ea,ta,vo,_o,Eo,$,q,X,Q,ne,ce,ve,_e,Qe,ut,Ot,dt,Vt,Zt,et,Jt,rn,zn,Wn,An,nr;let s,o,a,c,u,d,f,p,m,y,w,v,E,k,_,x,A,T=n?console.warn:()=>{},O=[];if(e!=null&&e.loginMethods)for(let Ze of(s=e.loginMethods.includes("email"),o=e.loginMethods.includes("sms"),c=e.loginMethods.includes("wallet"),u=e.loginMethods.includes("google"),d=e.loginMethods.includes("twitter"),f=e.loginMethods.includes("discord"),w=e.loginMethods.includes("spotify"),v=e.loginMethods.includes("instagram"),p=e.loginMethods.includes("tiktok"),m=e.loginMethods.includes("line"),y=e.loginMethods.includes("twitch"),k=e.loginMethods.includes("github"),E=e.loginMethods.includes("linkedin"),_=e.loginMethods.includes("apple"),x=e.loginMethods.includes("farcaster"),A=e.loginMethods.includes("telegram"),a=e.loginMethods.includes("passkey"),e.loginMethods))typeof Ze=="string"&&Ze.startsWith("privy:")&&O.push(Ze);else s=t.email_auth,o=t.sms_auth,c=t.wallet_auth||t.solana_wallet_auth,u=t.google_oauth,d=t.twitter_oauth,f=t.discord_oauth,k=t.github_oauth,w=t.spotify_oauth,v=t.instagram_oauth,p=t.tiktok_oauth,m=t.line_oauth,y=t.twitch_oauth,E=t.linkedin_oauth,_=t.apple_oauth,x=t.farcaster_auth,A=t.telegram_auth,a=t.passkey_auth;t.passkey_auth&&(a=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(a=!1);let N=[s,o].filter(Boolean),D=[u,d,f,k,w,v,p,m,E,_,x,A].filter(Boolean),F=[c].filter(Boolean),K=((xe=e==null?void 0:e.loginMethods)==null?void 0:xe.includes("passkey"))??!1,B=t.passkeys_for_signup_enabled??!1,j=[a&&(B||K)].filter(Boolean);if(N.length+D.length+F.length+j.length+O.length===0)throw Error("You must enable at least one login method");let Y=((we=e==null?void 0:e.appearance)==null?void 0:we.showWalletLoginFirst)!==void 0?(Oe=e==null?void 0:e.appearance)==null?void 0:Oe.showWalletLoginFirst:t.show_wallet_login_first;Y&&F.length===0?(T("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),Y=!1):Y||D.length+N.length!==0||(T("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),Y=!0);let I=((ot=(Xe=e==null?void 0:e.externalWallets)==null?void 0:Xe.walletConnect)==null?void 0:ot.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&T("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let P=Dce({input:(fe=e==null?void 0:e.appearance)==null?void 0:fe.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder});if((P.includes("wallet_connect_qr")||P.includes("wallet_connect"))&&P.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let L=(({input:Ze})=>{if(!Ze||!Ze.primary[0])return;let jt=[Ze.primary[0]],dr=[];for(let bt of(Ze.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Ze.primary.slice(1)))jt.includes(bt)?console.warn(`Duplicated login method: ${bt}`):jt.push(bt);for(let bt of Ze.overflow??[])jt.includes(bt)||dr.includes(bt)?console.warn(`Duplicated login method: ${bt}`):dr.push(bt);return{primary:jt,overflow:dr}})({input:e==null?void 0:e.loginMethodsAndOrder}),M=((St=e==null?void 0:e.intl)==null?void 0:St.defaultCountry)??"US",{chains:R,defaultChain:z}=(function({supportedChains:Ze,defaultChainFromConfig:jt}){let dr;if(Ze){if(Ze.length===0)throw Error("`supportedChains` must contain at least one chain");dr=uB(Ze)}else dr=[...E1];let bt=Ze?dr[0]:lp,Ht=jt??bt;if(!dr.find((It=>It.id===Ht.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:dr,defaultChain:Ht}})({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),W=!!(e!=null&&e.defaultChain),G=((Nt=e==null?void 0:e.customAuth)==null?void 0:Nt.getCustomAccessToken)&&((lt=e==null?void 0:e.customAuth)==null?void 0:lt.enabled)!==!1,ie=G?"all-users":t.embedded_wallet_config.ethereum.create_on_login,te=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!((Ut=(er=e==null?void 0:e.externalWallets)==null?void 0:er.solana)!=null&&Ut.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let ee=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,pe=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,ye=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((Le=e==null?void 0:e.appearance)==null?void 0:Le.logo)??t.logo_url??void 0,landingHeader:((Be=e==null?void 0:e.appearance)==null?void 0:Be.landingHeader)??Ol.appearance.landingHeader,loginMessage:typeof((Kn=e==null?void 0:e.appearance)==null?void 0:Kn.loginMessage)=="string"?(tr=e==null?void 0:e.appearance)==null?void 0:tr.loginMessage.slice(0,100):(ft=e==null?void 0:e.appearance)==null?void 0:ft.loginMessage,footerLogo:(Sr=e==null?void 0:e.appearance)==null?void 0:Sr.footerLogo,palette:Fce({backgroundTheme:((Pi=e==null?void 0:e.appearance)==null?void 0:Pi.theme)??Ol.appearance.theme,accentHex:((mi=e==null?void 0:e.appearance)==null?void 0:mi.accentColor)??t.accent_color}),loginGroupPriority:Y?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((Lr=e==null?void 0:e.appearance)!=null&&Lr.hideDirectWeb2Inputs),walletList:P,walletChainType:((nn=e==null?void 0:e.appearance)==null?void 0:nn.walletChainType)??(({evmWalletAuth:Ze,solanaWalletAuth:jt})=>Ze&&jt?"ethereum-and-solana":Ze?"ethereum-only":jt?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:c,email:s,sms:o,passkey:a,google:u,twitter:d,discord:f,github:k,spotify:w,instagram:v,tiktok:p,line:m,twitch:y,linkedin:E,apple:_,farcaster:x,telegram:A},customOAuthProviders:(t.custom_oauth_providers??[]).filter((Ze=>Ze.enabled!==!1)),crossAppProviders:O,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:L,legal:{termsAndConditionsUrl:((Gn=e==null?void 0:e.legal)==null?void 0:Gn.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((Fn=e==null?void 0:e.legal)==null?void 0:Fn.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Ol.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((wt=e==null?void 0:e.externalWallets)==null?void 0:wt.signatureRequestTimeouts)??{}},chains:R,defaultChain:z,intl:{defaultCountry:M,textLocalization:(rt=e==null?void 0:e.intl)==null?void 0:rt.textLocalization},shouldEnforceDefaultChainOnConnect:W,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...(Yn=($t=(pt=e==null?void 0:e.externalWallets)==null?void 0:pt.coinbaseWallet)==null?void 0:$t.config)==null?void 0:Yn.preference},...(At=(Sn=e==null?void 0:e.externalWallets)==null?void 0:Sn.coinbaseWallet)==null?void 0:At.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(jn=(je=e==null?void 0:e.externalWallets)==null?void 0:je.baseAccount)==null?void 0:jn.config,preference:{...(Oi=(Tr=(Ar=e==null?void 0:e.externalWallets)==null?void 0:Ar.baseAccount)==null?void 0:Tr.config)==null?void 0:Oi.preference,telemetry:!1}}},walletConnect:{enabled:I},solana:{connectors:(bo=(Tt=e==null?void 0:e.externalWallets)==null?void 0:Tt.solana)==null?void 0:bo.connectors},disableAllExternalWallets:((ea=e==null?void 0:e.externalWallets)==null?void 0:ea.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!G&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:G?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((ta=e==null?void 0:e.embeddedWallets)==null?void 0:ta.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:((_o=(vo=e==null?void 0:e.embeddedWallets)==null?void 0:vo.ethereum)==null?void 0:_o.createOnLogin)??ie},solana:{createOnLogin:(($=(Eo=e==null?void 0:e.embeddedWallets)==null?void 0:Eo.solana)==null?void 0:$.createOnLogin)??te},disableAutomaticMigration:((q=e==null?void 0:e.embeddedWallets)==null?void 0:q.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((X=e==null?void 0:e.embeddedWallets)==null?void 0:X.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((Q=e==null?void 0:e.embeddedWallets)==null?void 0:Q.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((ce=(ne=e==null?void 0:e.embeddedWallets)==null?void 0:ne.transactionScanning)==null?void 0:ce.enabled)??!1,domain:((_e=(ve=e==null?void 0:e.embeddedWallets)==null?void 0:ve.transactionScanning)==null?void 0:_e.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((Qe=e==null?void 0:e.mfa)==null?void 0:Qe.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(ut=e==null?void 0:e.passkeys)==null?void 0:ut.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(Ot=e==null?void 0:e.passkeys)==null?void 0:Ot.shouldUnenrollMfaOnUnlink,registration:(dt=e==null?void 0:e.passkeys)==null?void 0:dt.registration},customAuth:G?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:ee,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((Vt=e==null?void 0:e._render)==null?void 0:Vt.standalone)??Ol._render.standalone},fundingConfig:pe,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Ol.fundingMethodConfig,moonpay:{...((Zt=e==null?void 0:e.fundingMethodConfig)==null?void 0:Zt.moonpay)??Ol.fundingMethodConfig.moonpay,useSandbox:((et=e==null?void 0:e.fundingMethodConfig)==null?void 0:et.moonpay.useSandbox)??Ol.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:(e==null?void 0:e.allowOAuthInEmbeddedBrowsers)??!1,solanaRpcs:{"solana:mainnet":((rn=(Jt=e==null?void 0:e.solana)==null?void 0:Jt.rpcs)==null?void 0:rn["solana:mainnet"])??null,"solana:devnet":((Wn=(zn=e==null?void 0:e.solana)==null?void 0:zn.rpcs)==null?void 0:Wn["solana:devnet"])??null,"solana:testnet":((nr=(An=e==null?void 0:e.solana)==null?void 0:An.rpcs)==null?void 0:nr["solana:testnet"])??null},smartWallets:ye!=null&&ye.enabled?{enabled:ye.enabled,smartWalletVersion:ye.smart_wallet_version,smartWalletType:ye.smart_wallet_type,configuredNetworks:ye.configured_networks.map((Ze=>({chainId:Ze.chain_id,bundlerUrl:Ze.bundler_url,paymasterUrl:Ze.paymaster_url,paymasterContext:Bce(Ze.paymaster_url,Ze.paymaster_context)})))}:{enabled:(ye==null?void 0:ye.enabled)??!1}}}const bj={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let Y6=H.createContext({appConfig:wj(bj,void 0,!1),isServerConfigLoaded:!1});const jce=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,o]=H.useState(null),a=H.useMemo((()=>wj(s??bj,r,!!s,typeof window<"u"?window.location.origin:void 0,i)),[s,r,i]);return H.useEffect((()=>{if(!s)return;let c=(function(f){var E,k;if(!f)return{};let{appearance:p,supportedChains:m,defaultChain:y,externalWallets:w,...v}=f;return{...v,...m?{supportedChains:m.map((_=>_.id))}:void 0,...y?{defaultChain:y.id}:void 0,...w?{walletConnect:w.walletConnect?{enabled:w.walletConnect.enabled}:void 0,coinbaseWallet:w.coinbaseWallet,solana:{connectors:(k=(E=w.solana)==null?void 0:E.connectors)==null?void 0:k.get().map((_=>_.walletClientType))}}:void 0}})(r),u=(function(f,p=0){let m=3735928559^p,y=1103547991^p;for(let w,v=0;v<f.length;v++)m=Math.imul(m^(w=f.charCodeAt(v)),2654435761),y=Math.imul(y^w,1597334677);return m=Math.imul(m^m>>>16,2246822507)^Math.imul(y^y>>>13,3266489909),4294967296*(2097151&(y=Math.imul(y^y>>>16,2246822507)^Math.imul(m^m>>>13,3266489909)))+(m>>>0)})(JSON.stringify(c)).toString(),d=`privy:sent:${s.id}:${u}`;localStorage.getItem(d)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:c}),localStorage.setItem(d,"t"))}),[r,s]),H.useEffect((()=>{s||(async()=>{try{await e.initialize();let c=e.app.getConfig();c.custom_api_url&&n.updateApiUrl(c.custom_api_url),o(c)}catch(c){console.warn("Error generating app config: ",c)}})()}),[]),U.jsx(Y6.Provider,{value:{appConfig:a,isServerConfigLoaded:!!s},children:t})},Ga=()=>{let{appConfig:t}=H.useContext(Y6);return t},vj=()=>{let{isServerConfigLoaded:t}=H.useContext(Y6);return t},zce=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Wce=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Vce=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function qce(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Hce(t);return}return e}function Hce(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Wm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Vce.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(zce.test(t)||Wce.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,qce)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Kce=/#/g,Gce=/&/g,Yce=/\//g,Zce=/=/g,Z6=/\+/g,Jce=/%5e/gi,Xce=/%60/gi,Qce=/%7c/gi,ele=/%20/gi;function tle(t){return encodeURI(""+t).replace(Qce,"|")}function FT(t){return tle(typeof t=="string"?t:JSON.stringify(t)).replace(Z6,"%2B").replace(ele,"+").replace(Kce,"%23").replace(Gce,"%26").replace(Xce,"`").replace(Jce,"^").replace(Yce,"%2F")}function A2(t){return FT(t).replace(Zce,"%3D")}function _j(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function nle(t){return _j(t.replace(Z6," "))}function rle(t){return _j(t.replace(Z6," "))}function ile(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=nle(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=rle(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function sle(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${A2(t)}=${FT(n)}`).join("&"):`${A2(t)}=${FT(e)}`:A2(t)}function ole(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>sle(e,t[e])).filter(Boolean).join("&")}const ale=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,cle=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,lle=/^([/\\]\s*){2,}[^/\\]/,ule=/^\.?\//;function Ej(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?ale.test(t):cle.test(t)||(e.acceptRelative?lle.test(t):!1)}function dle(t="",e){return t.endsWith("/")}function hle(t="",e){return(dle(t)?t.slice(0,-1):t)||"/"}function fle(t="",e){return t.endsWith("/")?t:t+"/"}function ple(t,e){if(gle(e)||Ej(t))return t;const n=hle(e);if(t.startsWith(n)){const r=t[n.length];if(!r||r==="/"||r==="?")return t}return wle(n,t)}function mle(t,e){const n=ble(t),r={...ile(n.search),...e};return n.search=ole(r),vle(n)}function gle(t){return!t||t==="/"}function yle(t){return t&&t!=="/"}function wle(t,...e){let n=t||"";for(const r of e.filter(i=>yle(i)))if(n){const i=r.replace(ule,"");n=fle(n)+i}else n=r;return n}const xj=Symbol.for("ufo:protocolRelative");function ble(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,p=""]=n;return{protocol:f.toLowerCase(),pathname:p,href:f+p,auth:"",host:"",search:"",hash:""}}if(!Ej(t,{acceptRelative:!0}))return AR(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:d}=AR(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:c,search:u,hash:d,[xj]:!r}}function AR(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function vle(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[xj]?(t.protocol||"")+"//":"")+i+s+e+n+r}class Sj extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function _le(t){var c,u,d,f,p;const e=((c=t.error)==null?void 0:c.message)||((u=t.error)==null?void 0:u.toString())||"",n=((d=t.request)==null?void 0:d.method)||((f=t.options)==null?void 0:f.method)||"GET",r=((p=t.request)==null?void 0:p.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new Sj(o,t.error?{cause:t.error}:void 0);for(const m of["request","options","response"])Object.defineProperty(a,m,{get(){return t[m]}});for(const[m,y]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,m,{get(){return t.response&&t.response[y]}});return a}const Ele=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function TR(t="GET"){return Ele.has(t.toUpperCase())}function xle(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Sle=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Ale=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Tle(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Ale.test(e)?"json":e==="text/event-stream"?"stream":Sle.has(e)||e.startsWith("text/")?"text":"blob"}function Ile(t,e,n,r){const i=kle((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function kle(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function jw(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const Cle=new Set([408,409,425,429,500,502,503,504]),Ple=new Set([101,204,205,304]);function Aj(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let d;typeof a.options.retry=="number"?d=a.options.retry:d=TR(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(d>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):Cle.has(f))){const p=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return p>0&&await new Promise(m=>setTimeout(m,p)),s(a.request,{...a.options,retry:d-1})}}const u=_le(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,s),u}const s=async function(c,u={}){const d={request:c,options:Ile(c,u,t.defaults,n),response:void 0,error:void 0};if(d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&(await jw(d,d.options.onRequest),d.options.headers instanceof n||(d.options.headers=new n(d.options.headers||{}))),typeof d.request=="string"&&(d.options.baseURL&&(d.request=ple(d.request,d.options.baseURL)),d.options.query&&(d.request=mle(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&TR(d.options.method))if(xle(d.options.body)){const m=d.options.headers.get("content-type");typeof d.options.body!="string"&&(d.options.body=m==="application/x-www-form-urlencoded"?new URLSearchParams(d.options.body).toString():JSON.stringify(d.options.body)),m||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")}else("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half"));let f;if(!d.options.signal&&d.options.timeout){const m=new r;f=setTimeout(()=>{const y=new Error("[TimeoutError]: The operation was aborted due to timeout");y.name="TimeoutError",y.code=23,m.abort(y)},d.options.timeout),d.options.signal=m.signal}try{d.response=await e(d.request,d.options)}catch(m){return d.error=m,d.options.onRequestError&&await jw(d,d.options.onRequestError),await i(d)}finally{f&&clearTimeout(f)}if((d.response.body||d.response._bodyInit)&&!Ple.has(d.response.status)&&d.options.method!=="HEAD"){const m=(d.options.parseResponse?"json":d.options.responseType)||Tle(d.response.headers.get("content-type")||"");switch(m){case"json":{const y=await d.response.text(),w=d.options.parseResponse||Wm;d.response._data=w(y);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[m]()}}return d.options.onResponse&&await jw(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await jw(d,d.options.onResponseError),await i(d)):d.response},o=async function(c,u){return(await s(c,u))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},c={})=>Aj({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const Sv=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),Ole=Sv.fetch?(...t)=>Sv.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Rle=Sv.Headers,Nle=Sv.AbortController,$le=Aj({fetch:Ole,Headers:Rle,AbortController:Nle});var ht;let uu=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Av=class extends uu{constructor(e,n,r,i,s,o){super(r,i,s),this.type=e,this.status=n,this.data=o}},ae=class extends uu{constructor(e,n,r){super(e,n,r),this.type="client_error"}},Dle=class extends ae{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Nn=class extends uu{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const qt=t=>{if(t instanceof uu)return t;if(!(t instanceof Sj))return Mn(t);if(!t.response)return new Av("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new Av(e||"ApiError",t.response.status,n||r,t,i,t.data)},Mn=t=>t instanceof uu?t:t instanceof Error?new ae(t.message,t):new ae(`Internal error: ${t}`);var Ee=((ht={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",ht.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ht.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ht.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",ht.INVALID_DATA="invalid_data",ht.INVALID_CAPTCHA="invalid_captcha",ht.LINKED_TO_ANOTHER_USER="linked_to_another_user",ht.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",ht.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",ht.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",ht.USER_EXITED_UPDATE_FLOW="exited_update_flow",ht.ALLOWLIST_REJECTED="allowlist_rejected",ht.OAUTH_USER_DENIED="oauth_user_denied",ht.OAUTH_UNEXPECTED="oauth_unexpected",ht.UNKNOWN_AUTH_ERROR="unknown_auth_error",ht.USER_EXITED_AUTH_FLOW="exited_auth_flow",ht.USER_EXITED_LINK_FLOW="exited_link_flow",ht.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",ht.MUST_BE_AUTHENTICATED="must_be_authenticated",ht.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ht.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ht.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ht.INVALID_CREDENTIALS="invalid_credentials",ht.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",ht.UNKNOWN_MFA_ERROR="unknown_mfa_error",ht.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",ht.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",ht.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",ht.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",ht.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",ht.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",ht.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",ht.TRANSACTION_FAILURE="transaction_failure",ht.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",ht.NOT_SUPPORTED="not_supported",ht.CAPTCHA_TIMEOUT="captcha_timeout",ht.INVALID_MESSAGE="invalid_message",ht.UNABLE_TO_SIGN="unable_to_sign",ht.CAPTCHA_FAILURE="captcha_failure",ht.CAPTCHA_DISABLED="captcha_disabled",ht.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",ht.TOO_MANY_REQUESTS="too_many_requests",ht.USER_LIMIT_REACHED="max_accounts_reached",ht.DISALLOWED_LOGIN_METHOD="disallowed_login_method",ht.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",ht.PASSKEY_NOT_ALLOWED="passkey_not_allowed",ht.USER_DOES_NOT_EXIST="user_does_not_exist",ht.INSUFFICIENT_BALANCE="insufficient_balance",ht.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",ht.BUFFER_NOT_DEFINED="buffer_not_defined",ht.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",ht.NO_SOLANA_ACCOUNTS="no_solana_accounts",ht.UNKNOWN_FUNDING_ERROR="unknown_funding_error",ht);let Du=class extends ae{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},eze=class extends ae{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},nze=class extends ae{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},ize=class extends ae{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},IR=class extends Nn{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const he=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},aze=t=>()=>{throw Error(t.trim())},Tj=()=>{},Ij=H.createContext({setAuthenticated:he,setUser:he,setIsNewUser:he,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:he,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:he,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:he,initializeWalletProxy:he,getAuthMeta:he,getAuthFlow:he,closePrivyModal:he,openPrivyModal:he,connectWallet:he,initLoginWithWallet:he,loginWithWallet:he,initLoginWithFarcaster:he,loginWithFarcaster:he,loginWithCode:he,initLoginWithEmail:he,initLoginWithSms:he,initUpdateEmail:he,initUpdatePhone:he,resendEmailCode:he,resendSmsCode:he,initLoginWithHeadlessOAuth:he,loginWithHeadlessOAuth:he,crossAppAuthFlow:he,initLoginWithOAuth:he,loginWithOAuth:he,passkeyAuthState:{status:"initial"},setPasskeyAuthState:he,initSignupWithPasskey:he,signupWithPasskey:he,initLoginWithPasskey:he,loginWithPasskey:he,initLinkWithPasskey:he,linkWithPasskey:he,refreshSessionAndUser:he,walletProxy:null,createAnalyticsEvent:he,acceptTerms:he,getUsdTokenPrice:he,getUsdPriceForSol:he,getSplTokenMetadata:he,recoverEmbeddedWallet:he,updateWallets:he,fundWallet:he,openModal:he,setReadyToTrue:he,requestFarcasterSignerStatus:he,initLoginWithTelegram:he,loginWithTelegram:he,generateSiweMessage:he,generateSiweMessageForSmartWallet:he,loginWithSiwe:he,linkWithSiwe:he,linkSmartWallet:he,delegateWallet:he,revokeDelegatedWallets:he,connectCoinbaseSmartWallet:he,connectBaseAccount:he,initiateAccountTransfer:he,emailOtpState:{status:"initial"},setEmailOtpState:he,smsOtpState:{status:"initial"},setSmsOtpState:he,siweState:{status:"initial"},setSiweState:he,oAuthState:{status:"initial"},setOAuthState:he,telegramAuthState:{status:"initial"},setTelegramAuthState:he,isHeadlessOAuthLoading:!1,isHeadlessSigning:he,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:he}),qd=()=>H.useContext(Ij);function kj(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function Ct(t){return t?new Date(1e3*t):null}function ti(t,e){return t.slice().sort(((n,r)=>{var i,s;return(((i=n.firstVerifiedAt)==null?void 0:i.getTime())??0)-(((s=r.firstVerifiedAt)==null?void 0:s.getTime())??0)})).find((n=>n.type===e))}const Ec=t=>t?Cj(t).find((e=>e.walletIndex===0))??null:null,Cj=t=>t?Pj(t,"ethereum"):[],Pj=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),Mle=t=>t?Pj(t,"solana"):[],J6=t=>t?Mle(t).find((e=>e.walletIndex===0))??null:null,jT=t=>((t==null?void 0:t.linkedAccounts)??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),Lle=t=>((t==null?void 0:t.linkedAccounts)??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana")),Oj=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&t.length===42&&e.length===42&&ci(t)===ci(e),Lh=(t,e)=>(t==null?void 0:t.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&Oj(n.address,e))))||null,T2=(t,e)=>t.find((n=>Oj(n.address,e)))||null,Gg=t=>Ec(t)??J6(t);function oi(t){if(!t)return null;let e=(function(x){let A=[];for(let T of x){let O=T.type;switch(T.type){case"wallet":let N={id:T.id,address:T.address,type:T.type,imported:T.imported,delegated:T.delegated,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at),chainType:T.chain_type,walletClientType:T.wallet_client_type,connectorType:T.connector_type,recoveryMethod:T.recovery_method,walletIndex:T.wallet_index,publicKey:T.public_key};A.push(N);break;case"smart_wallet":let D={address:T.address,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at),smartWalletType:T.smart_wallet_type,smartWalletVersion:T.smart_wallet_version};A.push(D);break;case"cross_app":let F={type:T.type,subject:T.subject,embeddedWallets:T.embedded_wallets,smartWallets:T.smart_wallets,providerApp:{id:T.provider_app_id},firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(F);break;case"email":let K={address:T.address,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(K);break;case"phone":let B={number:T.phoneNumber,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(B);break;case"google_oauth":let j={subject:T.subject,email:T.email,name:T.name,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(j);break;case"spotify_oauth":let Y={subject:T.subject,email:T.email,name:T.name,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(Y);break;case"instagram_oauth":let I={subject:T.subject,username:T.username,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(I);break;case"twitter_oauth":let P={subject:T.subject,username:T.username,name:T.name,type:T.type,profilePictureUrl:T.profile_picture_url,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(P);break;case"discord_oauth":let L={subject:T.subject,username:T.username,email:T.email,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(L);break;case"github_oauth":let M={subject:T.subject,username:T.username,name:T.name,email:T.email,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(M);break;case"tiktok_oauth":let R={subject:T.subject,username:T.username,name:T.name,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(R);break;case"line_oauth":let z={subject:T.subject,name:T.name,email:T.email,profilePictureUrl:T.profile_picture_url,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(z);break;case"twitch_oauth":let W={subject:T.subject,username:T.username,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(W);break;case"linkedin_oauth":let G={subject:T.subject,name:T.name,email:T.email,vanityName:T.vanity_name,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(G);break;case"apple_oauth":let ie={subject:T.subject,email:T.email,type:T.type,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(ie);break;case"custom_auth":A.push({type:T.type,customUserId:T.custom_user_id,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)});break;case"farcaster":let te={type:T.type,fid:T.fid,ownerAddress:T.owner_address,displayName:T.display_name,username:T.username,bio:T.bio,pfp:T.profile_picture_url,url:T.homepage_url,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at),signerPublicKey:T.signer_public_key};A.push(te);break;case"passkey":let ee={type:T.type,enrolledInMfa:T.enrolled_in_mfa,credentialId:T.credential_id,publicKey:T.public_key,authenticatorName:T.authenticator_name,createdWithDevice:T.created_with_device,createdWithOs:T.created_with_os,createdWithBrowser:T.created_with_browser,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(ee);break;case"telegram":let pe={type:T.type,telegramUserId:T.telegram_user_id,firstName:T.first_name,lastName:T.last_name,username:T.username,photoUrl:T.photo_url,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(pe);break;default:if(kj(T.type)){let ye={type:T.type,subject:T.subject,name:T.name,username:T.username,email:T.email,profilePictureUrl:T.profile_picture_url,firstVerifiedAt:Ct(T.first_verified_at),latestVerifiedAt:Ct(T.latest_verified_at)};A.push(ye);break}console.warn(`Unrecognized account type: ${O}. Please consider upgrading the Privy SDK.`)}}return A})(t.linked_accounts),n=ti(e,"wallet"),r=ti(e,"smart_wallet"),i=ti(e,"email"),s=ti(e,"phone"),o=ti(e,"google_oauth"),a=ti(e,"twitter_oauth"),c=ti(e,"discord_oauth"),u=ti(e,"github_oauth"),d=ti(e,"spotify_oauth"),f=ti(e,"instagram_oauth"),p=ti(e,"tiktok_oauth"),m=ti(e,"line_oauth"),y=ti(e,"twitch_oauth"),w=ti(e,"linkedin_oauth"),v=ti(e,"apple_oauth"),E=ti(e,"farcaster"),k=ti(e,"telegram"),_=t.mfa_methods.map((({type:x,verified_at:A})=>({type:x,verifiedAt:Ct(A)})));return{id:t.id,createdAt:Ct(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:u&&{subject:u.subject,username:u.username,name:u.name,email:u.email},spotify:d&&{subject:d.subject,email:d.email,name:d.name},instagram:f&&{subject:f.subject,username:f.username},tiktok:p&&{subject:p.subject,username:p.username,name:p.name},line:m&&{subject:m.subject,name:m.name,email:m.email,profilePictureUrl:m.profilePictureUrl},twitch:y&&{subject:y.subject,username:y.username},linkedin:w&&{subject:w.subject,name:w.name,email:w.email,vanityName:w.vanityName},apple:v&&{subject:v.subject,email:v.email},farcaster:E&&{fid:E.fid,ownerAddress:E.ownerAddress,displayName:E.displayName,username:E.username,bio:E.bio,pfp:E.pfp,url:E.url,signerPublicKey:E.signerPublicKey},telegram:k&&{telegramUserId:k.telegramUserId,firstName:k.firstName,lastName:k.lastName,username:k.username,photoUrl:k.photoUrl},delegatedWallets:[],mfaMethods:_.map((x=>x.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function Ble({src:t,...e}){return U.jsx("img",{src:t,...e,style:{display:"none"}})}const Rj=H.createContext({currentScreen:null,lastScreen:null,navigate:he,navigateBack:he,resetNavigation:he,setModalData:he,onUserCloseViaDialogOrKeybindRef:void 0}),Ule=t=>{var o;let e=Ga(),[n,r]=H.useState(t.initialScreen),i=H.useRef(null);H.useEffect((()=>{t.open||(i.current=null)}),[t.open]),H.useEffect((()=>{i.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,c=!0)=>{t.setInitialScreen(a),c&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return U.jsxs(Rj.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||((o=e.appearance.logo)==null?void 0:o.type)==="img")&&U.jsx(Ble,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Yg=()=>H.useContext(Rj),gp=H.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:he,login:he,connectOrCreateWallet:he,linkEmail:he,linkPhone:he,linkFarcaster:he,linkWallet:he,startCrossAppAuthFlow:he,linkGoogle:he,linkTwitter:he,linkTwitch:he,linkDiscord:he,linkGithub:he,linkSpotify:he,linkInstagram:he,linkTelegram:he,linkTiktok:he,linkLine:he,linkLinkedIn:he,linkApple:he,linkPasskey:he,updateEmail:he,updatePhone:he,logout:he,getAccessToken:he,unlinkEmail:he,unlinkPhone:he,unlinkWallet:he,unlinkGoogle:he,unlinkTwitter:he,unlinkTwitch:he,unlinkDiscord:he,unlinkGithub:he,unlinkSpotify:he,unlinkInstagram:he,unlinkTiktok:he,unlinkLine:he,unlinkLinkedIn:he,unlinkApple:he,unlinkCrossAppAccount:he,unlinkFarcaster:he,unlinkTelegram:he,unlinkPasskey:he,signMessage:he,signTypedData:he,enrollInMfa:he,initEnrollmentWithSms:he,initEnrollmentWithTotp:he,initEnrollmentWithPasskey:he,promptMfa:he,init:he,submitEnrollmentWithSms:he,submitEnrollmentWithTotp:he,submitEnrollmentWithPasskey:he,unenroll:he,submit:he,cancel:he,sendTransaction:he,signTransaction:he,exportWallet:he,setWalletPassword:he,setWalletRecovery:he,requestFarcasterSignerFromWarpcast:he,getFarcasterSignerPublicKey:he,signFarcasterMessage:he,signMessageWithCrossAppWallet:he,signTypedDataWithCrossAppWallet:he,sendTransactionWithCrossAppWallet:he,signTransactionWithCrossAppWallet:he,isModalOpen:!1,mfaMethods:[]}),qy=()=>H.useContext(gp),As=t=>!!t.id&&t.recoveryMethod==="privy-v2",kR=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=e=t(r,i,a);return a},Fle=(t=>t?kR(t):kR),jle=t=>t;function zle(t,e=jle){const n=Ke.useSyncExternalStore(t.subscribe,Ke.useCallback(()=>e(t.getState()),[t,e]),Ke.useCallback(()=>e(t.getInitialState()),[t,e]));return Ke.useDebugValue(n),n}const CR=t=>{const e=Fle(t),n=r=>zle(e,r);return Object.assign(n,e),n},Hd=(t=>t?CR(t):CR);var ki=function(){return ki=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ki.apply(this,arguments)};function qf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Pn="-ms-",ig="-moz-",on="-webkit-",Nj="comm",J1="rule",X6="decl",Wle="@import",Vle="@namespace",$j="@keyframes",qle="@layer",Dj=Math.abs,Q6=String.fromCharCode,zT=Object.assign;function Hle(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function Mj(t){return t.trim()}function bc(t,e){return(t=e.exec(t))?t[0]:t}function Mt(t,e,n){return t.replace(e,n)}function kb(t,e,n){return t.indexOf(e,n)}function Nr(t,e){return t.charCodeAt(e)|0}function Rd(t,e,n){return t.slice(e,n)}function Bo(t){return t.length}function Lj(t){return t.length}function Vm(t,e){return e.push(t),t}function Kle(t,e){return t.map(e).join("")}function PR(t,e){return t.filter(function(n){return!bc(n,e)})}var X1=1,Hf=1,Bj=0,fo=0,vr=0,yp="";function Q1(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:X1,column:Hf,length:o,return:"",siblings:a}}function Rl(t,e){return zT(Q1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Bh(t){for(;t.root;)t=Rl(t.root,{children:[t]});Vm(t,t.siblings)}function Gle(){return vr}function Yle(){return vr=fo>0?Nr(yp,--fo):0,Hf--,vr===10&&(Hf=1,X1--),vr}function qo(){return vr=fo<Bj?Nr(yp,fo++):0,Hf++,vr===10&&(Hf=1,X1++),vr}function Gl(){return Nr(yp,fo)}function Cb(){return fo}function e_(t,e){return Rd(yp,t,e)}function Zg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zle(t){return X1=Hf=1,Bj=Bo(yp=t),fo=0,[]}function Jle(t){return yp="",t}function I2(t){return Mj(e_(fo-1,WT(t===91?t+2:t===40?t+1:t)))}function Xle(t){for(;(vr=Gl())&&vr<33;)qo();return Zg(t)>2||Zg(vr)>3?"":" "}function Qle(t,e){for(;--e&&qo()&&!(vr<48||vr>102||vr>57&&vr<65||vr>70&&vr<97););return e_(t,Cb()+(e<6&&Gl()==32&&qo()==32))}function WT(t){for(;qo();)switch(vr){case t:return fo;case 34:case 39:t!==34&&t!==39&&WT(vr);break;case 40:t===41&&WT(t);break;case 92:qo();break}return fo}function eue(t,e){for(;qo()&&t+vr!==57;)if(t+vr===84&&Gl()===47)break;return"/*"+e_(e,fo-1)+"*"+Q6(t===47?t:qo())}function tue(t){for(;!Zg(Gl());)qo();return e_(t,fo)}function nue(t){return Jle(Pb("",null,null,null,[""],t=Zle(t),0,[0],t))}function Pb(t,e,n,r,i,s,o,a,c){for(var u=0,d=0,f=o,p=0,m=0,y=0,w=1,v=1,E=1,k=0,_="",x=i,A=s,T=r,O=_;v;)switch(y=k,k=qo()){case 40:if(y!=108&&Nr(O,f-1)==58){kb(O+=Mt(I2(k),"&","&\f"),"&\f",Dj(u?a[u-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:O+=I2(k);break;case 9:case 10:case 13:case 32:O+=Xle(y);break;case 92:O+=Qle(Cb()-1,7);continue;case 47:switch(Gl()){case 42:case 47:Vm(rue(eue(qo(),Cb()),e,n,c),c),(Zg(y||1)==5||Zg(Gl()||1)==5)&&Bo(O)&&Rd(O,-1,void 0)!==" "&&(O+=" ");break;default:O+="/"}break;case 123*w:a[u++]=Bo(O)*E;case 125*w:case 59:case 0:switch(k){case 0:case 125:v=0;case 59+d:E==-1&&(O=Mt(O,/\f/g,"")),m>0&&(Bo(O)-f||w===0&&y===47)&&Vm(m>32?RR(O+";",r,n,f-1,c):RR(Mt(O," ","")+";",r,n,f-2,c),c);break;case 59:O+=";";default:if(Vm(T=OR(O,e,n,u,d,i,a,_,x=[],A=[],f,s),s),k===123)if(d===0)Pb(O,e,T,T,x,s,f,a,A);else{switch(p){case 99:if(Nr(O,3)===110)break;case 108:if(Nr(O,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Pb(t,T,T,r&&Vm(OR(t,T,T,0,0,i,a,_,i,x=[],f,A),A),i,A,f,a,r?x:A):Pb(O,T,T,T,[""],A,0,a,A)}}u=d=m=0,w=E=1,_=O="",f=o;break;case 58:f=1+Bo(O),m=y;default:if(w<1){if(k==123)--w;else if(k==125&&w++==0&&Yle()==125)continue}switch(O+=Q6(k),k*w){case 38:E=d>0?1:(O+="\f",-1);break;case 44:a[u++]=(Bo(O)-1)*E,E=1;break;case 64:Gl()===45&&(O+=I2(qo())),p=Gl(),d=f=Bo(_=O+=tue(Cb())),k++;break;case 45:y===45&&Bo(O)==2&&(w=0)}}return s}function OR(t,e,n,r,i,s,o,a,c,u,d,f){for(var p=i-1,m=i===0?s:[""],y=Lj(m),w=0,v=0,E=0;w<r;++w)for(var k=0,_=Rd(t,p+1,p=Dj(v=o[w])),x=t;k<y;++k)(x=Mj(v>0?m[k]+" "+_:Mt(_,/&\f/g,m[k])))&&(c[E++]=x);return Q1(t,e,n,i===0?J1:a,c,u,d,f)}function rue(t,e,n,r){return Q1(t,e,n,Nj,Q6(Gle()),Rd(t,2,-2),0,r)}function RR(t,e,n,r,i){return Q1(t,e,n,X6,Rd(t,0,r),Rd(t,r+1,-1),r,i)}function Uj(t,e,n){switch(Hle(t,e)){case 5103:return on+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return on+t+t;case 4855:return on+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return ig+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return on+t+ig+t+Pn+t+t;case 5936:switch(Nr(t,e+11)){case 114:return on+t+Pn+Mt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return on+t+Pn+Mt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return on+t+Pn+Mt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return on+t+Pn+t+t;case 6165:return on+t+Pn+"flex-"+t+t;case 5187:return on+t+Mt(t,/(\w+).+(:[^]+)/,on+"box-$1$2"+Pn+"flex-$1$2")+t;case 5443:return on+t+Pn+"flex-item-"+Mt(t,/flex-|-self/g,"")+(bc(t,/flex-|baseline/)?"":Pn+"grid-row-"+Mt(t,/flex-|-self/g,""))+t;case 4675:return on+t+Pn+"flex-line-pack"+Mt(t,/align-content|flex-|-self/g,"")+t;case 5548:return on+t+Pn+Mt(t,"shrink","negative")+t;case 5292:return on+t+Pn+Mt(t,"basis","preferred-size")+t;case 6060:return on+"box-"+Mt(t,"-grow","")+on+t+Pn+Mt(t,"grow","positive")+t;case 4554:return on+Mt(t,/([^-])(transform)/g,"$1"+on+"$2")+t;case 6187:return Mt(Mt(Mt(t,/(zoom-|grab)/,on+"$1"),/(image-set)/,on+"$1"),t,"")+t;case 5495:case 3959:return Mt(t,/(image-set\([^]*)/,on+"$1$`$1");case 4968:return Mt(Mt(t,/(.+:)(flex-)?(.*)/,on+"box-pack:$3"+Pn+"flex-pack:$3"),/space-between/,"justify")+on+t+t;case 4200:if(!bc(t,/flex-|baseline/))return Pn+"grid-column-align"+Rd(t,e)+t;break;case 2592:case 3360:return Pn+Mt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,bc(r.props,/grid-\w+-end/)})?~kb(t+(n=n[e].value),"span",0)?t:Pn+Mt(t,"-start","")+t+Pn+"grid-row-span:"+(~kb(n,"span",0)?bc(n,/\d+/):+bc(n,/\d+/)-+bc(t,/\d+/))+";":Pn+Mt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return bc(r.props,/grid-\w+-start/)})?t:Pn+Mt(Mt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Mt(t,/(.+)-inline(.+)/,on+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bo(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return Mt(t,/(.+:)(.+)-([^]+)/,"$1"+on+"$2-$3$1"+ig+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~kb(t,"stretch",0)?Uj(Mt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Mt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,u){return Pn+i+":"+s+u+(o?Pn+i+"-span:"+(a?c:+c-+s)+u:"")+t});case 4949:if(Nr(t,e+6)===121)return Mt(t,":",":"+on)+t;break;case 6444:switch(Nr(t,Nr(t,14)===45?18:11)){case 120:return Mt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+on+(Nr(t,14)===45?"inline-":"")+"box$3$1"+on+"$2$3$1"+Pn+"$2box$3")+t;case 100:return Mt(t,":",":"+Pn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Mt(t,"scroll-","scroll-snap-")+t}return t}function Tv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function iue(t,e,n,r){switch(t.type){case qle:if(t.children.length)break;case Wle:case Vle:case X6:return t.return=t.return||t.value;case Nj:return"";case $j:return t.return=t.value+"{"+Tv(t.children,r)+"}";case J1:if(!Bo(t.value=t.props.join(",")))return""}return Bo(n=Tv(t.children,r))?t.return=t.value+"{"+n+"}":""}function sue(t){var e=Lj(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function oue(t){return function(e){e.root||(e=e.return)&&t(e)}}function aue(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case X6:t.return=Uj(t.value,t.length,n);return;case $j:return Tv([Rl(t,{value:Mt(t.value,"@","@"+on)})],r);case J1:if(t.length)return Kle(n=t.props,function(i){switch(bc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Bh(Rl(t,{props:[Mt(i,/:(read-\w+)/,":"+ig+"$1")]})),Bh(Rl(t,{props:[i]})),zT(t,{props:PR(n,r)});break;case"::placeholder":Bh(Rl(t,{props:[Mt(i,/:(plac\w+)/,":"+on+"input-$1")]})),Bh(Rl(t,{props:[Mt(i,/:(plac\w+)/,":"+ig+"$1")]})),Bh(Rl(t,{props:[Mt(i,/:(plac\w+)/,Pn+"input-$1")]})),Bh(Rl(t,{props:[i]})),zT(t,{props:PR(n,r)});break}return""})}}var cue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Is={},Kf=typeof process<"u"&&Is!==void 0&&(Is.REACT_APP_SC_ATTR||Is.SC_ATTR)||"data-styled",Fj="active",jj="data-styled-version",t_="6.3.8",ek=`/*!sc*/
`,Iv=typeof window<"u"&&typeof document<"u",Lc=Ke.createContext===void 0,lue=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Is!==void 0&&Is.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Is.REACT_APP_SC_DISABLE_SPEEDY!==""?Is.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Is.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Is!==void 0&&Is.SC_DISABLE_SPEEDY!==void 0&&Is.SC_DISABLE_SPEEDY!==""&&Is.SC_DISABLE_SPEEDY!=="false"&&Is.SC_DISABLE_SPEEDY),uue={},n_=Object.freeze([]),Gf=Object.freeze({});function zj(t,e,n){return n===void 0&&(n=Gf),t.theme!==n.theme&&t.theme||e||n.theme}var Wj=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),due=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,hue=/(^-|-$)/g;function NR(t){return t.replace(due,"-").replace(hue,"")}var fue=/(a)(d)/gi,$R=function(t){return String.fromCharCode(t+(t>25?39:97))};function VT(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=$R(e%52)+n;return($R(e%52)+n).replace(fue,"$1-$2")}var k2,cf=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Vj=function(t){return cf(5381,t)};function tk(t){return VT(Vj(t)>>>0)}function pue(t){return t.displayName||t.name||"Component"}function C2(t){return typeof t=="string"&&!0}var qj=typeof Symbol=="function"&&Symbol.for,Hj=qj?Symbol.for("react.memo"):60115,mue=qj?Symbol.for("react.forward_ref"):60112,gue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wue=((k2={})[mue]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},k2[Hj]=Kj,k2);function DR(t){return("type"in(e=t)&&e.type.$$typeof)===Hj?Kj:"$$typeof"in t?wue[t.$$typeof]:gue;var e}var bue=Object.defineProperty,vue=Object.getOwnPropertyNames,MR=Object.getOwnPropertySymbols,_ue=Object.getOwnPropertyDescriptor,Eue=Object.getPrototypeOf,LR=Object.prototype;function Gj(t,e,n){if(typeof e!="string"){if(LR){var r=Eue(e);r&&r!==LR&&Gj(t,r,n)}var i=vue(e);MR&&(i=i.concat(MR(e)));for(var s=DR(t),o=DR(e),a=0;a<i.length;++a){var c=i[a];if(!(c in yue||n&&n[c]||o&&c in o||s&&c in s)){var u=_ue(e,c);try{bue(t,c,u)}catch{}}}}return t}function Yf(t){return typeof t=="function"}function nk(t){return typeof t=="object"&&"styledComponentId"in t}function nd(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function kv(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Jg(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function qT(t,e,n){if(n===void 0&&(n=!1),!n&&!Jg(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=qT(t[r],e[r]);else if(Jg(e))for(var r in e)t[r]=qT(t[r],e[r]);return t}function rk(t,e){Object.defineProperty(t,"toString",{value:e})}function Hy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var xue=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Hy(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),c=(o=0,n.length);o<c;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(ek);return n},t})(),Ob=new Map,Cv=new Map,Rb=1,lf=function(t){if(Ob.has(t))return Ob.get(t);for(;Cv.has(Rb);)Rb++;var e=Rb++;return Ob.set(t,e),Cv.set(e,t),e},Sue=function(t,e){Rb=e+1,Ob.set(t,e),Cv.set(e,t)},Aue="style[".concat(Kf,"][").concat(jj,'="').concat(t_,'"]'),Tue=new RegExp("^".concat(Kf,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Iue=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},kue=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(ek),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(Tue);if(c){var u=0|parseInt(c[1],10),d=c[2];u!==0&&(Sue(d,u),Iue(t,d,c[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},BR=function(t){for(var e=document.querySelectorAll(Aue),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Kf)!==Fj&&(kue(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Cue(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Yj=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(a){var c=Array.from(a.querySelectorAll("style[".concat(Kf,"]")));return c[c.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Kf,Fj),r.setAttribute(jj,t_);var o=Cue();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Pue=(function(){function t(e){this.element=Yj(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Hy(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),Oue=(function(){function t(e){this.element=Yj(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),Rue=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),UR=Iv,Nue={isServer:!Iv,useCSSOMInjection:!lue},Pv=(function(){function t(e,n,r){e===void 0&&(e=Gf),n===void 0&&(n={});var i=this;this.options=ki(ki({},Nue),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Iv&&UR&&(UR=!1,BR(this)),rk(this,function(){return(function(s){for(var o=s.getTag(),a=o.length,c="",u=function(f){var p=(function(E){return Cv.get(E)})(f);if(p===void 0)return"continue";var m=s.names.get(p),y=o.getGroup(f);if(m===void 0||!m.size||y.length===0)return"continue";var w="".concat(Kf,".g").concat(f,'[id="').concat(p,'"]'),v="";m!==void 0&&m.forEach(function(E){E.length>0&&(v+="".concat(E,","))}),c+="".concat(y).concat(w,'{content:"').concat(v,'"}').concat(ek)},d=0;d<a;d++)u(d);return c})(i)})}return t.registerId=function(e){return lf(e)},t.prototype.rehydrate=function(){!this.server&&Iv&&BR(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ki(ki({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Rue(i):r?new Pue(i):new Oue(i)})(this.options),new xue(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(lf(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(lf(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(lf(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),$ue=/&/g,uf=47;function FR(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,i=!1,s=0;s<e;s++){var o=t.charCodeAt(s);if(r!==0||i||o!==uf||t.charCodeAt(s+1)!==42)if(i)o===42&&t.charCodeAt(s+1)===uf&&(i=!1,s++);else if(o!==34&&o!==39||s!==0&&t.charCodeAt(s-1)===92){if(r===0){if(o===123)n++;else if(o===125&&--n<0)return!0}}else r===0?r=o:r===o&&(r=0);else i=!0,s++}return n!==0||r!==0}function Zj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Zj(n.children,e)),n})}function Due(t){var e,n,r,i=Gf,s=i.options,o=s===void 0?Gf:s,a=i.plugins,c=a===void 0?n_:a,u=function(p,m,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):p},d=c.slice();d.push(function(p){p.type===J1&&p.value.includes("&")&&(p.props[0]=p.props[0].replace($ue,n).replace(r,u))}),o.prefix&&d.push(aue),d.push(iue);var f=function(p,m,y,w){m===void 0&&(m=""),y===void 0&&(y=""),w===void 0&&(w="&"),e=w,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var v=(function(_){if(!FR(_))return _;for(var x=_.length,A="",T=0,O=0,N=0,D=!1,F=0;F<x;F++){var K=_.charCodeAt(F);if(N!==0||D||K!==uf||_.charCodeAt(F+1)!==42)if(D)K===42&&_.charCodeAt(F+1)===uf&&(D=!1,F++);else if(K!==34&&K!==39||F!==0&&_.charCodeAt(F-1)===92){if(N===0)if(K===123)O++;else if(K===125){if(--O<0){for(var B=F+1;B<x;){var j=_.charCodeAt(B);if(j===59||j===10)break;B++}B<x&&_.charCodeAt(B)===59&&B++,O=0,F=B-1,T=B;continue}O===0&&(A+=_.substring(T,F+1),T=F+1)}else K===59&&O===0&&(A+=_.substring(T,F+1),T=F+1)}else N===0?N=K:N===K&&(N=0);else D=!0,F++}if(T<x){var Y=_.substring(T);FR(Y)||(A+=Y)}return A})((function(_){if(_.indexOf("//")===-1)return _;for(var x=_.length,A=[],T=0,O=0,N=0,D=0;O<x;){var F=_.charCodeAt(O);if(F!==34&&F!==39||O!==0&&_.charCodeAt(O-1)===92)if(N===0)if(F===40&&O>=3&&(32|_.charCodeAt(O-1))==108&&(32|_.charCodeAt(O-2))==114&&(32|_.charCodeAt(O-3))==117)D=1,O++;else if(D>0)F===41?D--:F===40&&D++,O++;else if(F===uf&&O+1<x&&_.charCodeAt(O+1)===uf){for(O>T&&A.push(_.substring(T,O));O<x&&_.charCodeAt(O)!==10;)O++;T=O}else O++;else O++;else N===0?N=F:N===F&&(N=0),O++}return T===0?_:(T<x&&A.push(_.substring(T)),A.join(""))})(p)),E=nue(y||m?"".concat(y," ").concat(m," { ").concat(v," }"):v);o.namespace&&(E=Zj(E,o.namespace));var k=[];return Tv(E,sue(d.concat(oue(function(_){return k.push(_)})))),k};return f.hash=c.length?c.reduce(function(p,m){return m.name||Hy(15),cf(p,m.name)},5381).toString():"",f}var Mue=new Pv,HT=Due(),KT={shouldForwardProp:void 0,styleSheet:Mue,stylis:HT},Jj=Lc?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(KT)}}:Ke.createContext(KT);Jj.Consumer;Lc||Ke.createContext(void 0);function GT(){return Lc?KT:Ke.useContext(Jj)}var Xj=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=HT);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,rk(this,function(){throw Hy(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=HT),this.name+e.hash},t})();function Lue(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in cue||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var Bue=function(t){return t>="A"&&t<="Z"};function jR(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Bue(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Qj=function(t){return t==null||t===!1||t===""},e7=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!Qj(r)&&(Array.isArray(r)&&r.isCss||Yf(r)?e.push("".concat(jR(n),":"),r,";"):Jg(r)?e.push.apply(e,qf(qf(["".concat(n," {")],e7(r),!1),["}"],!1)):e.push("".concat(jR(n),": ").concat(Lue(n,r),";")))}return e};function eu(t,e,n,r){if(Qj(t))return[];if(nk(t))return[".".concat(t.styledComponentId)];if(Yf(t)){if(!Yf(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return eu(i,e,n,r)}var s;return t instanceof Xj?n?(t.inject(n,r),[t.getName(r)]):[t]:Jg(t)?e7(t):Array.isArray(t)?Array.prototype.concat.apply(n_,t.map(function(o){return eu(o,e,n,r)})):[t.toString()]}function t7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Yf(n)&&!nk(n))return!1}return!0}var Uue=Vj(t_),Fue=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&t7(e),this.componentId=n,this.baseHash=cf(Uue,n),this.baseStyle=r,Pv.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=nd(i,this.staticRulesId);else{var s=kv(eu(this.rules,e,n,r)),o=VT(cf(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=nd(i,o),this.staticRulesId=o}else{for(var c=cf(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=kv(eu(f,e,n,r));c=cf(c,p+d),u+=p}}if(u){var m=VT(c>>>0);if(!n.hasNameForId(this.componentId,m)){var y=r(u,".".concat(m),void 0,this.componentId);n.insertRules(this.componentId,m,y)}i=nd(i,m)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(lf(this.componentId)):""}},t})(),ik=Lc?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(void 0)}}:Ke.createContext(void 0);ik.Consumer;var P2={};function jue(t,e,n){var r=nk(t),i=t,s=!C2(t),o=e.attrs,a=o===void 0?n_:o,c=e.componentId,u=c===void 0?(function(x,A){var T=typeof x!="string"?"sc":NR(x);P2[T]=(P2[T]||0)+1;var O="".concat(T,"-").concat(tk(t_+T+P2[T]));return A?"".concat(A,"-").concat(O):O})(e.displayName,e.parentComponentId):c,d=e.displayName,f=d===void 0?(function(x){return C2(x)?"styled.".concat(x):"Styled(".concat(pue(x),")")})(t):d,p=e.displayName&&e.componentId?"".concat(NR(e.displayName),"-").concat(e.componentId):e.componentId||u,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,y=e.shouldForwardProp;if(r&&i.shouldForwardProp){var w=i.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;y=function(x,A){return w(x,A)&&v(x,A)}}else y=w}var E=new Fue(n,p,r?i.componentStyle:void 0);function k(x,A){return(function(T,O,N){var D=T.attrs,F=T.componentStyle,K=T.defaultProps,B=T.foldedComponentIds,j=T.styledComponentId,Y=T.target,I=Lc?void 0:Ke.useContext(ik),P=GT(),L=T.shouldForwardProp||P.shouldForwardProp,M=zj(O,I,K)||Gf,R=(function(xe,we,Oe){for(var Xe,ot=ki(ki({},we),{className:void 0,theme:Oe}),fe=0;fe<xe.length;fe+=1){var St=Yf(Xe=xe[fe])?Xe(ot):Xe;for(var Nt in St)Nt==="className"?ot.className=nd(ot.className,St[Nt]):Nt==="style"?ot.style=ki(ki({},ot.style),St[Nt]):ot[Nt]=St[Nt]}return"className"in we&&typeof we.className=="string"&&(ot.className=nd(ot.className,we.className)),ot})(D,O,M),z=R.as||Y,W={};for(var G in R)R[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&R.theme===M||(G==="forwardedAs"?W.as=R.forwardedAs:L&&!L(G,z)||(W[G]=R[G]));var ie=(function(xe,we){var Oe=GT(),Xe=xe.generateAndInjectStyles(we,Oe.styleSheet,Oe.stylis);return Xe})(F,R),te=ie.className,ee=ie.css,pe=nd(B,j);te&&(pe+=" "+te),R.className&&(pe+=" "+R.className),W[C2(z)&&!Wj.has(z)?"class":"className"]=pe,N&&(W.ref=N);var ye=H.createElement(z,W);return Lc&&ee?Ke.createElement(Ke.Fragment,null,Ke.createElement("style",{precedence:"styled-components",href:"sc-".concat(j,"-").concat(te),children:ee}),ye):ye})(_,x,A)}k.displayName=f;var _=Ke.forwardRef(k);return _.attrs=m,_.componentStyle=E,_.displayName=f,_.shouldForwardProp=y,_.foldedComponentIds=r?nd(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=p,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?(function(A){for(var T=[],O=1;O<arguments.length;O++)T[O-1]=arguments[O];for(var N=0,D=T;N<D.length;N++)qT(A,D[N],!0);return A})({},i.defaultProps,x):x}}),rk(_,function(){return".".concat(_.styledComponentId)}),s&&Gj(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function zR(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var WR=function(t){return Object.assign(t,{isCss:!0})};function Ky(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yf(t)||Jg(t))return WR(eu(zR(n_,qf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?eu(r):WR(eu(zR(r,e)))}function YT(t,e,n){if(n===void 0&&(n=Gf),!e)throw Hy(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Ky.apply(void 0,qf([i],s,!1)))};return r.attrs=function(i){return YT(t,e,ki(ki({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return YT(t,e,ki(ki({},n),i))},r}var n7=function(t){return YT(jue,t)},xn=n7;Wj.forEach(function(t){xn[t]=n7(t)});var zue=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=t7(e),Pv.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(kv(eu(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Pv.registerId(this.componentId+e);var s=this.componentId+e;this.isStatic?r.hasNameForId(s,s)||this.createStyles(e,n,r,i):(this.removeStyles(e,r),this.createStyles(e,n,r,i))},t})();function Wue(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ky.apply(void 0,qf([t],e,!1)),i="sc-global-".concat(tk(JSON.stringify(r))),s=new zue(r,i),o=new WeakMap,a=function(c){var u=GT(),d=Lc?void 0:Ke.useContext(ik),f=o.get(u.styleSheet);if(f===void 0&&(f=u.styleSheet.allocateGSInstance(i),o.set(u.styleSheet,f)),(typeof window>"u"||!u.styleSheet.server)&&(function(v,E,k,_,x){if(s.isStatic)s.renderStyles(v,uue,k,x);else{var A=ki(ki({},E),{theme:zj(E,_,a.defaultProps)});s.renderStyles(v,A,k,x)}})(f,c,u.styleSheet,d,u.stylis),!Lc){var p=Ke.useRef(!0);Ke.useLayoutEffect(function(){return p.current=!1,function(){p.current=!0,queueMicrotask(function(){p.current&&(s.removeStyles(f,u.styleSheet),typeof document<"u"&&document.querySelectorAll('style[data-styled-global="'.concat(i,'"]')).forEach(function(v){return v.remove()}))})}},[f,u.styleSheet])}if(Lc){var m=i+f,y=typeof window>"u"?u.styleSheet.getTag().getGroup(lf(m)):"";if(y){var w="".concat(i,"-").concat(f);return Ke.createElement("style",{key:w,"data-styled-global":i,precedence:"styled-components",href:w,children:y})}}return null};return Ke.memo(a)}function cze(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=kv(Ky.apply(void 0,qf([t],e,!1))),i=tk(r);return new Xj(i,r)}var He={},qm={exports:{}},Vue=qm.exports,VR;function que(){return VR||(VR=1,(function(t,e){(function(n,r){var i="1.0.41",s="",o="?",a="function",c="undefined",u="object",d="string",f="major",p="model",m="name",y="type",w="vendor",v="version",E="architecture",k="console",_="mobile",x="tablet",A="smarttv",T="wearable",O="embedded",N=500,D="Amazon",F="Apple",K="ASUS",B="BlackBerry",j="Browser",Y="Chrome",I="Edge",P="Firefox",L="Google",M="Honor",R="Huawei",z="Lenovo",W="LG",G="Microsoft",ie="Motorola",te="Nvidia",ee="OnePlus",pe="Opera",ye="OPPO",xe="Samsung",we="Sharp",Oe="Sony",Xe="Xiaomi",ot="Zebra",fe="Facebook",St="Chromium OS",Nt="Mac OS",lt=" Browser",er=function(wt,rt){var pt={};for(var $t in wt)rt[$t]&&rt[$t].length%2===0?pt[$t]=rt[$t].concat(wt[$t]):pt[$t]=wt[$t];return pt},Ut=function(wt){for(var rt={},pt=0;pt<wt.length;pt++)rt[wt[pt].toUpperCase()]=wt[pt];return rt},Le=function(wt,rt){return typeof wt===d?Be(rt).indexOf(Be(wt))!==-1:!1},Be=function(wt){return wt.toLowerCase()},Kn=function(wt){return typeof wt===d?wt.replace(/[^\d\.]/g,s).split(".")[0]:r},tr=function(wt,rt){if(typeof wt===d)return wt=wt.replace(/^\s\s*/,s),typeof rt===c?wt:wt.substring(0,N)},ft=function(wt,rt){for(var pt=0,$t,Yn,Sn,At,je,jn;pt<rt.length&&!je;){var Ar=rt[pt],Tr=rt[pt+1];for($t=Yn=0;$t<Ar.length&&!je&&Ar[$t];)if(je=Ar[$t++].exec(wt),je)for(Sn=0;Sn<Tr.length;Sn++)jn=je[++Yn],At=Tr[Sn],typeof At===u&&At.length>0?At.length===2?typeof At[1]==a?this[At[0]]=At[1].call(this,jn):this[At[0]]=At[1]:At.length===3?typeof At[1]===a&&!(At[1].exec&&At[1].test)?this[At[0]]=jn?At[1].call(this,jn,At[2]):r:this[At[0]]=jn?jn.replace(At[1],At[2]):r:At.length===4&&(this[At[0]]=jn?At[3].call(this,jn.replace(At[1],At[2])):r):this[At]=jn||r;pt+=2}},Sr=function(wt,rt){for(var pt in rt)if(typeof rt[pt]===u&&rt[pt].length>0){for(var $t=0;$t<rt[pt].length;$t++)if(Le(rt[pt][$t],wt))return pt===o?r:pt}else if(Le(rt[pt],wt))return pt===o?r:pt;return rt.hasOwnProperty("*")?rt["*"]:wt},Pi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},mi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Lr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,pe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,pe+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,pe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+j]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+j]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+j],v],[/\bfocus\/([\w\.]+)/i],[v,[m,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,pe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,pe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+lt]],[/fxios\/([\w\.-]+)/i],[v,[m,P]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+lt],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,xe+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,fe],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,Y+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,Y+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+j]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,Sr,Pi]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[E,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[E,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[E,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[E,/ower/,s,Be]],[/ sun4\w[;\)]/i],[[E,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[E,Be]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[w,xe],[y,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[w,xe],[y,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[w,F],[y,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[w,F],[y,x]],[/(macintosh);/i],[p,[w,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[w,we],[y,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[p,[w,M],[y,x]],[/honor([-\w ]+)[;\)]/i],[p,[w,M],[y,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[p,[w,R],[y,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[w,R],[y,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[p,/_/g," "],[w,Xe],[y,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[p,/_/g," "],[w,Xe],[y,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[w,ye],[y,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[p,[w,Sr,{OnePlus:["304","403","203"],"*":ye}],[y,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[w,"Vivo"],[y,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[w,"Realme"],[y,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[w,ie],[y,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[w,ie],[y,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[w,W],[y,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[w,W],[y,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[p,[w,z],[y,x]],[/(nokia) (t[12][01])/i],[w,p,[y,x]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[p,/_/g," "],[y,_],[w,"Nokia"]],[/(pixel (c|tablet))\b/i],[p,[w,L],[y,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[w,L],[y,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[w,Oe],[y,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[w,Oe],[y,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[w,ee],[y,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[w,D],[y,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[w,D],[y,_]],[/(playbook);[-\w\),; ]+(rim)/i],[p,w,[y,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[w,B],[y,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[w,K],[y,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[w,K],[y,_]],[/(nexus 9)/i],[p,[w,"HTC"],[y,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[p,/_/g," "],[y,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[w,"TCL"],[y,x]],[/(itel) ((\w+))/i],[[w,Be],p,[y,Sr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[w,"Acer"],[y,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[w,"Meizu"],[y,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[w,"Ulefone"],[y,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[w,"Energizer"],[y,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[w,"Cat"],[y,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[w,"Smartfren"],[y,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[w,"Nothing"],[y,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[p,[w,"Archos"],[y,x]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[p,[w,"Archos"],[y,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[w,p,[y,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[w,p,[y,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,p,[y,x]],[/(surface duo)/i],[p,[w,G],[y,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[w,"Fairphone"],[y,_]],[/(u304aa)/i],[p,[w,"AT&T"],[y,_]],[/\bsie-(\w*)/i],[p,[w,"Siemens"],[y,_]],[/\b(rct\w+) b/i],[p,[w,"RCA"],[y,x]],[/\b(venue[\d ]{2,7}) b/i],[p,[w,"Dell"],[y,x]],[/\b(q(?:mv|ta)\w+) b/i],[p,[w,"Verizon"],[y,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[w,"Barnes & Noble"],[y,x]],[/\b(tm\d{3}\w+) b/i],[p,[w,"NuVision"],[y,x]],[/\b(k88) b/i],[p,[w,"ZTE"],[y,x]],[/\b(nx\d{3}j) b/i],[p,[w,"ZTE"],[y,_]],[/\b(gen\d{3}) b.+49h/i],[p,[w,"Swiss"],[y,_]],[/\b(zur\d{3}) b/i],[p,[w,"Swiss"],[y,x]],[/\b((zeki)?tb.*\b) b/i],[p,[w,"Zeki"],[y,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],p,[y,x]],[/\b(ns-?\w{0,9}) b/i],[p,[w,"Insignia"],[y,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[w,"NextBook"],[y,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],p,[y,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],p,[y,_]],[/\b(ph-1) /i],[p,[w,"Essential"],[y,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[w,"Envizen"],[y,x]],[/\b(trio[-\w\. ]+) b/i],[p,[w,"MachSpeed"],[y,x]],[/\btu_(1491) b/i],[p,[w,"Rotor"],[y,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[p,[w,te],[y,x]],[/(sprint) (\w+)/i],[w,p,[y,_]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[w,G],[y,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[w,ot],[y,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[w,ot],[y,_]],[/smart-tv.+(samsung)/i],[w,[y,A]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[w,xe],[y,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,W],[y,A]],[/(apple) ?tv/i],[w,[p,F+" TV"],[y,A]],[/crkey/i],[[p,Y+"cast"],[w,L],[y,A]],[/droid.+aft(\w+)( bui|\))/i],[p,[w,D],[y,A]],[/(shield \w+ tv)/i],[p,[w,te],[y,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[w,we],[y,A]],[/(bravia[\w ]+)( bui|\))/i],[p,[w,Oe],[y,A]],[/(mi(tv|box)-?\w+) bui/i],[p,[w,Xe],[y,A]],[/Hbbtv.*(technisat) (.*);/i],[w,p,[y,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,tr],[p,tr],[y,A]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[p,[y,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,p,[y,k]],[/droid.+; (shield)( bui|\))/i],[p,[w,te],[y,k]],[/(playstation \w+)/i],[p,[w,Oe],[y,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[w,G],[y,k]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[p,[w,xe],[y,T]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[w,p,[y,T]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[p,[w,ye],[y,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[w,F],[y,T]],[/(opwwe\d{3})/i],[p,[w,ee],[y,T]],[/(moto 360)/i],[p,[w,ie],[y,T]],[/(smartwatch 3)/i],[p,[w,Oe],[y,T]],[/(g watch r)/i],[p,[w,W],[y,T]],[/droid.+; (wt63?0{2,3})\)/i],[p,[w,ot],[y,T]],[/droid.+; (glass) \d/i],[p,[w,L],[y,T]],[/(pico) (4|neo3(?: link|pro)?)/i],[w,p,[y,T]],[/; (quest( \d| pro)?)/i],[p,[w,fe],[y,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[y,O]],[/(aeobc)\b/i],[p,[w,D],[y,O]],[/(homepod).+mac os/i],[p,[w,F],[y,O]],[/windows iot/i],[[y,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[y,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[y,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[p,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,I+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,Sr,mi]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Sr,mi],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Nt],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,B]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,Y+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,St],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},nn=function(wt,rt){if(typeof wt===u&&(rt=wt,wt=r),!(this instanceof nn))return new nn(wt,rt).getResult();var pt=typeof n!==c&&n.navigator?n.navigator:r,$t=wt||(pt&&pt.userAgent?pt.userAgent:s),Yn=pt&&pt.userAgentData?pt.userAgentData:r,Sn=rt?er(Lr,rt):Lr,At=pt&&pt.userAgent==$t;return this.getBrowser=function(){var je={};return je[m]=r,je[v]=r,ft.call(je,$t,Sn.browser),je[f]=Kn(je[v]),At&&pt&&pt.brave&&typeof pt.brave.isBrave==a&&(je[m]="Brave"),je},this.getCPU=function(){var je={};return je[E]=r,ft.call(je,$t,Sn.cpu),je},this.getDevice=function(){var je={};return je[w]=r,je[p]=r,je[y]=r,ft.call(je,$t,Sn.device),At&&!je[y]&&Yn&&Yn.mobile&&(je[y]=_),At&&je[p]=="Macintosh"&&pt&&typeof pt.standalone!==c&&pt.maxTouchPoints&&pt.maxTouchPoints>2&&(je[p]="iPad",je[y]=x),je},this.getEngine=function(){var je={};return je[m]=r,je[v]=r,ft.call(je,$t,Sn.engine),je},this.getOS=function(){var je={};return je[m]=r,je[v]=r,ft.call(je,$t,Sn.os),At&&!je[m]&&Yn&&Yn.platform&&Yn.platform!="Unknown"&&(je[m]=Yn.platform.replace(/chrome os/i,St).replace(/macos/i,Nt)),je},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return $t},this.setUA=function(je){return $t=typeof je===d&&je.length>N?tr(je,N):je,this},this.setUA($t),this};nn.VERSION=i,nn.BROWSER=Ut([m,v,f]),nn.CPU=Ut([E]),nn.DEVICE=Ut([p,w,y,k,_,A,x,T,O]),nn.ENGINE=nn.OS=Ut([m,v]),t.exports&&(e=t.exports=nn),e.UAParser=nn;var Gn=typeof n!==c&&(n.jQuery||n.Zepto);if(Gn&&!Gn.ua){var Fn=new nn;Gn.ua=Fn.getResult(),Gn.ua.get=function(){return Fn.getUA()},Gn.ua.set=function(wt){Fn.setUA(wt);var rt=Fn.getResult();for(var pt in rt)Gn.ua[pt]=rt[pt]}}})(typeof window=="object"?window:Vue)})(qm,qm.exports)),qm.exports}var qR;function Hue(){if(qR)return He;qR=1,Object.defineProperty(He,"__esModule",{value:!0});function t(le){return le&&typeof le=="object"&&"default"in le?le.default:le}var e=Ey(),n=t(e),r=que(),i=new r,s=i.getBrowser(),o=i.getCPU(),a=i.getDevice(),c=i.getEngine(),u=i.getOS(),d=i.getUA(),f=function(Z){return i.setUA(Z)},p=function(Z){if(!Z){console.error("No userAgent string was provided");return}var re=new r(Z);return{UA:re,browser:re.getBrowser(),cpu:re.getCPU(),device:re.getDevice(),engine:re.getEngine(),os:re.getOS(),ua:re.getUA(),setUserAgent:function(Ae){return re.setUA(Ae)}}},m=Object.freeze({ClientUAInstance:i,browser:s,cpu:o,device:a,engine:c,os:u,ua:d,setUa:f,parseUserAgent:p});function y(le,Z){var re=Object.keys(le);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(le);Z&&(ge=ge.filter(function(Ae){return Object.getOwnPropertyDescriptor(le,Ae).enumerable})),re.push.apply(re,ge)}return re}function w(le){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z]!=null?arguments[Z]:{};Z%2?y(Object(re),!0).forEach(function(ge){x(le,ge,re[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(re)):y(Object(re)).forEach(function(ge){Object.defineProperty(le,ge,Object.getOwnPropertyDescriptor(re,ge))})}return le}function v(le){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(Z){return typeof Z}:v=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},v(le)}function E(le,Z){if(!(le instanceof Z))throw new TypeError("Cannot call a class as a function")}function k(le,Z){for(var re=0;re<Z.length;re++){var ge=Z[re];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(le,ge.key,ge)}}function _(le,Z,re){return Z&&k(le.prototype,Z),le}function x(le,Z,re){return Z in le?Object.defineProperty(le,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):le[Z]=re,le}function A(){return A=Object.assign||function(le){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z];for(var ge in re)Object.prototype.hasOwnProperty.call(re,ge)&&(le[ge]=re[ge])}return le},A.apply(this,arguments)}function T(le,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Z&&Z.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Z&&N(le,Z)}function O(le){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},O(le)}function N(le,Z){return N=Object.setPrototypeOf||function(ge,Ae){return ge.__proto__=Ae,ge},N(le,Z)}function D(le,Z){if(le==null)return{};var re={},ge=Object.keys(le),Ae,kt;for(kt=0;kt<ge.length;kt++)Ae=ge[kt],!(Z.indexOf(Ae)>=0)&&(re[Ae]=le[Ae]);return re}function F(le,Z){if(le==null)return{};var re=D(le,Z),ge,Ae;if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(le);for(Ae=0;Ae<kt.length;Ae++)ge=kt[Ae],!(Z.indexOf(ge)>=0)&&Object.prototype.propertyIsEnumerable.call(le,ge)&&(re[ge]=le[ge])}return re}function K(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function B(le,Z){if(Z&&(typeof Z=="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(le)}function j(le,Z){return Y(le)||I(le,Z)||P(le,Z)||M()}function Y(le){if(Array.isArray(le))return le}function I(le,Z){var re=le==null?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(re!=null){var ge=[],Ae=!0,kt=!1,Tn,gi;try{for(re=re.call(le);!(Ae=(Tn=re.next()).done)&&(ge.push(Tn.value),!(Z&&ge.length===Z));Ae=!0);}catch(ah){kt=!0,gi=ah}finally{try{!Ae&&re.return!=null&&re.return()}finally{if(kt)throw gi}}return ge}}function P(le,Z){if(le){if(typeof le=="string")return L(le,Z);var re=Object.prototype.toString.call(le).slice(8,-1);if(re==="Object"&&le.constructor&&(re=le.constructor.name),re==="Map"||re==="Set")return Array.from(le);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return L(le,Z)}}function L(le,Z){(Z==null||Z>le.length)&&(Z=le.length);for(var re=0,ge=new Array(Z);re<Z;re++)ge[re]=le[re];return ge}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},z={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},W={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},G={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},ie=function(Z){switch(Z){case R.Mobile:return{isMobile:!0};case R.Tablet:return{isTablet:!0};case R.SmartTv:return{isSmartTV:!0};case R.Console:return{isConsole:!0};case R.Wearable:return{isWearable:!0};case R.Browser:return{isBrowser:!0};case R.Embedded:return{isEmbedded:!0};default:return G}},te=function(Z){return f(Z)},ee=function(Z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return Z||re},pe=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},ye=function(Z){var re=pe();return re&&re.platform&&(re.platform.indexOf(Z)!==-1||re.platform==="MacIntel"&&re.maxTouchPoints>1&&!window.MSStream)},xe=function(Z,re,ge,Ae,kt){return{isBrowser:Z,browserMajorVersion:ee(re.major),browserFullVersion:ee(re.version),browserName:ee(re.name),engineName:ee(ge.name),engineVersion:ee(ge.version),osName:ee(Ae.name),osVersion:ee(Ae.version),userAgent:ee(kt)}},we=function(Z,re,ge,Ae){return w({},Z,{vendor:ee(re.vendor),model:ee(re.model),os:ee(ge.name),osVersion:ee(ge.version),ua:ee(Ae)})},Oe=function(Z,re,ge,Ae){return{isSmartTV:Z,engineName:ee(re.name),engineVersion:ee(re.version),osName:ee(ge.name),osVersion:ee(ge.version),userAgent:ee(Ae)}},Xe=function(Z,re,ge,Ae){return{isConsole:Z,engineName:ee(re.name),engineVersion:ee(re.version),osName:ee(ge.name),osVersion:ee(ge.version),userAgent:ee(Ae)}},ot=function(Z,re,ge,Ae){return{isWearable:Z,engineName:ee(re.name),engineVersion:ee(re.version),osName:ee(ge.name),osVersion:ee(ge.version),userAgent:ee(Ae)}},fe=function(Z,re,ge,Ae,kt){return{isEmbedded:Z,vendor:ee(re.vendor),model:ee(re.model),engineName:ee(ge.name),engineVersion:ee(ge.version),osName:ee(Ae.name),osVersion:ee(Ae.version),userAgent:ee(kt)}};function St(le){var Z=le?p(le):m,re=Z.device,ge=Z.browser,Ae=Z.engine,kt=Z.os,Tn=Z.ua,gi=ie(re.type),ah=gi.isBrowser,Rp=gi.isMobile,ch=gi.isTablet,lh=gi.isSmartTV,Np=gi.isConsole,xo=gi.isWearable,uh=gi.isEmbedded;if(ah)return xe(ah,ge,Ae,kt,Tn);if(lh)return Oe(lh,Ae,kt,Tn);if(Np)return Xe(Np,Ae,kt,Tn);if(Rp||ch)return we(gi,re,kt,Tn);if(xo)return ot(xo,Ae,kt,Tn);if(uh)return fe(uh,re,Ae,kt,Tn)}var Nt=function(Z){var re=Z.type;return re===R.Mobile},lt=function(Z){var re=Z.type;return re===R.Tablet},er=function(Z){var re=Z.type;return re===R.Mobile||re===R.Tablet},Ut=function(Z){var re=Z.type;return re===R.SmartTv},Le=function(Z){var re=Z.type;return re===R.Browser},Be=function(Z){var re=Z.type;return re===R.Wearable},Kn=function(Z){var re=Z.type;return re===R.Console},tr=function(Z){var re=Z.type;return re===R.Embedded},ft=function(Z){var re=Z.vendor;return ee(re)},Sr=function(Z){var re=Z.model;return ee(re)},Pi=function(Z){var re=Z.type;return ee(re,"browser")},mi=function(Z){var re=Z.name;return re===W.Android},Lr=function(Z){var re=Z.name;return re===W.Windows},nn=function(Z){var re=Z.name;return re===W.MAC_OS},Gn=function(Z){var re=Z.name;return re===W.WindowsPhone},Fn=function(Z){var re=Z.name;return re===W.IOS},wt=function(Z){var re=Z.version;return ee(re)},rt=function(Z){var re=Z.name;return ee(re)},pt=function(Z){var re=Z.name;return re===z.Chrome},$t=function(Z){var re=Z.name;return re===z.Firefox},Yn=function(Z){var re=Z.name;return re===z.Chromium},Sn=function(Z){var re=Z.name;return re===z.Edge},At=function(Z){var re=Z.name;return re===z.Yandex},je=function(Z){var re=Z.name;return re===z.Safari||re===z.MobileSafari},jn=function(Z){var re=Z.name;return re===z.MobileSafari},Ar=function(Z){var re=Z.name;return re===z.Opera},Tr=function(Z){var re=Z.name;return re===z.InternetExplorer||re===z.Ie},Oi=function(Z){var re=Z.name;return re===z.MIUI},Tt=function(Z){var re=Z.name;return re===z.SamsungBrowser},bo=function(Z){var re=Z.version;return ee(re)},ea=function(Z){var re=Z.major;return ee(re)},ta=function(Z){var re=Z.name;return ee(re)},vo=function(Z){var re=Z.name;return ee(re)},_o=function(Z){var re=Z.version;return ee(re)},Eo=function(){var Z=pe(),re=Z&&Z.userAgent&&Z.userAgent.toLowerCase();return typeof re=="string"?/electron/.test(re):!1},$=function(Z){return typeof Z=="string"&&Z.indexOf("Edg/")!==-1},q=function(){var Z=pe();return Z&&(/iPad|iPhone|iPod/.test(Z.platform)||Z.platform==="MacIntel"&&Z.maxTouchPoints>1)&&!window.MSStream},X=function(){return ye("iPad")},Q=function(){return ye("iPhone")},ne=function(){return ye("iPod")},ce=function(Z){return ee(Z)};function ve(le){var Z=le||m,re=Z.device,ge=Z.browser,Ae=Z.os,kt=Z.engine,Tn=Z.ua;return{isSmartTV:Ut(re),isConsole:Kn(re),isWearable:Be(re),isEmbedded:tr(re),isMobileSafari:jn(ge)||X(),isChromium:Yn(ge),isMobile:er(re)||X(),isMobileOnly:Nt(re),isTablet:lt(re)||X(),isBrowser:Le(re),isDesktop:Le(re),isAndroid:mi(Ae),isWinPhone:Gn(Ae),isIOS:Fn(Ae)||X(),isChrome:pt(ge),isFirefox:$t(ge),isSafari:je(ge),isOpera:Ar(ge),isIE:Tr(ge),osVersion:wt(Ae),osName:rt(Ae),fullBrowserVersion:bo(ge),browserVersion:ea(ge),browserName:ta(ge),mobileVendor:ft(re),mobileModel:Sr(re),engineName:vo(kt),engineVersion:_o(kt),getUA:ce(Tn),isEdge:Sn(ge)||$(Tn),isYandex:At(ge),deviceType:Pi(re),isIOS13:q(),isIPad13:X(),isIPhone13:Q(),isIPod13:ne(),isElectron:Eo(),isEdgeChromium:$(Tn),isLegacyEdge:Sn(ge)&&!$(Tn),isWindows:Lr(Ae),isMacOs:nn(Ae),isMIUI:Oi(ge),isSamsungBrowser:Tt(ge)}}var _e=Ut(a),Qe=Kn(a),ut=Be(a),Ot=tr(a),dt=jn(s)||X(),Vt=Yn(s),Zt=er(a)||X(),et=Nt(a),Jt=lt(a)||X(),rn=Le(a),zn=Le(a),Wn=mi(u),An=Gn(u),nr=Fn(u)||X(),Ze=pt(s),jt=$t(s),dr=je(s),bt=Ar(s),Ht=Tr(s),It=wt(u),gn=rt(u),Ir=bo(s),rr=ea(s),gs=ta(s),Ri=ft(a),Tp=Sr(a),nE=vo(c),rE=_o(c),rh=ce(d),ih=Sn(s)||$(d),gu=At(s),sh=Pi(a),iE=q(),sE=X(),Ip=Q(),x0=ne(),kp=Eo(),yu=$(d),oE=Sn(s)&&!$(d),Cp=Lr(u),sn=nn(u),S0=Oi(s),A0=Tt(s),Pp=function(Z){if(!Z||typeof Z!="string"){console.error("No valid user agent string was provided");return}var re=p(Z),ge=re.device,Ae=re.browser,kt=re.os,Tn=re.engine,gi=re.ua;return ve({device:ge,browser:Ae,os:kt,engine:Tn,ua:gi})},T0=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return Wn?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},I0=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return rn?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},k0=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return Ht?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},Op=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return nr?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},oh=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return Zt?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},na=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return Jt?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},ra=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return An?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},ia=function(Z){var re=Z.renderWithFragment,ge=Z.children;Z.viewClassName,Z.style;var Ae=F(Z,["renderWithFragment","children","viewClassName","style"]);return et?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},wu=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return _e?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},bu=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return Qe?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},sa=function(Z){var re=Z.renderWithFragment,ge=Z.children,Ae=F(Z,["renderWithFragment","children"]);return ut?re?n.createElement(e.Fragment,null,ge):n.createElement("div",Ae,ge):null},aE=function(Z){var re=Z.renderWithFragment,ge=Z.children;Z.viewClassName,Z.style;var Ae=Z.condition,kt=F(Z,["renderWithFragment","children","viewClassName","style","condition"]);return Ae?re?n.createElement(e.Fragment,null,ge):n.createElement("div",kt,ge):null};function C0(le){return(function(Z){T(re,Z);function re(ge){var Ae;return E(this,re),Ae=B(this,O(re).call(this,ge)),Ae.isEventListenerAdded=!1,Ae.handleOrientationChange=Ae.handleOrientationChange.bind(K(Ae)),Ae.onOrientationChange=Ae.onOrientationChange.bind(K(Ae)),Ae.onPageLoad=Ae.onPageLoad.bind(K(Ae)),Ae.state={isLandscape:!1,isPortrait:!1},Ae}return _(re,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Ae=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Ae===0,isLandscape:Ae===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":v(window))!==void 0&&Zt&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(le,A({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),re})(n.Component)}function vu(){var le=e.useState(function(){var kt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:kt===0,isLandscape:kt===90,orientation:kt===0?"portrait":"landscape"}}),Z=j(le,2),re=Z[0],ge=Z[1],Ae=e.useCallback(function(){var kt=window.innerWidth>window.innerHeight?90:0,Tn={isPortrait:kt===0,isLandscape:kt===90,orientation:kt===0?"portrait":"landscape"};re.orientation!==Tn.orientation&&ge(Tn)},[re.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":v(window))!==void 0&&Zt&&(Ae(),window.addEventListener("load",Ae,!1),window.addEventListener("resize",Ae,!1)),function(){window.removeEventListener("resize",Ae,!1),window.removeEventListener("load",Ae,!1)}},[Ae]),re}function P0(le){var Z=le||window.navigator.userAgent;return p(Z)}function O0(le){var Z=le||window.navigator.userAgent,re=P0(Z),ge=ve(re);return[ge,re]}return He.AndroidView=T0,He.BrowserTypes=z,He.BrowserView=I0,He.ConsoleView=bu,He.CustomView=aE,He.IEView=k0,He.IOSView=Op,He.MobileOnlyView=ia,He.MobileView=oh,He.OsTypes=W,He.SmartTVView=wu,He.TabletView=na,He.WearableView=sa,He.WinPhoneView=ra,He.browserName=gs,He.browserVersion=rr,He.deviceDetect=St,He.deviceType=sh,He.engineName=nE,He.engineVersion=rE,He.fullBrowserVersion=Ir,He.getSelectorsByUserAgent=Pp,He.getUA=rh,He.isAndroid=Wn,He.isBrowser=rn,He.isChrome=Ze,He.isChromium=Vt,He.isConsole=Qe,He.isDesktop=zn,He.isEdge=ih,He.isEdgeChromium=yu,He.isElectron=kp,He.isEmbedded=Ot,He.isFirefox=jt,He.isIE=Ht,He.isIOS=nr,He.isIOS13=iE,He.isIPad13=sE,He.isIPhone13=Ip,He.isIPod13=x0,He.isLegacyEdge=oE,He.isMIUI=S0,He.isMacOs=sn,He.isMobile=Zt,He.isMobileOnly=et,He.isMobileSafari=dt,He.isOpera=bt,He.isSafari=dr,He.isSamsungBrowser=A0,He.isSmartTV=_e,He.isTablet=Jt,He.isWearable=ut,He.isWinPhone=An,He.isWindows=Cp,He.isYandex=gu,He.mobileModel=Tp,He.mobileVendor=Ri,He.osName=gn,He.osVersion=It,He.parseUserAgent=p,He.setUserAgent=te,He.useDeviceData=P0,He.useDeviceSelectors=O0,He.useMobileOrientation=vu,He.withOrientationChange=C0,He}var qc=Hue();let Kue=class extends Nn{constructor(){super("Wallet timeout"),this.type="wallet_error"}};const du=t=>t instanceof Nn?t:t!=null&&t.code?new va(t):new Nn("Unknown connector error",t);let Gue=class extends uu{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},va=class extends Gue{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Qh).find((o=>o.eipCode===e.code));this.details=n||Qh.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Qh.E32002_CONNECTION_ALREADY_PENDING:this.details=Qh.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Qh.E32002_WALLET_LOCKED))}};const hze={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Qh};let r7=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}};function ZT(){try{let t="privy:__session_storage__test",e=new r7;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var at=typeof window<"u"&&window.localStorage?new r7:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let i7=class extends Vd{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const Nb=()=>{let t=at.get(yj);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let Yue=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function Zue(t){return t.toLowerCase().split(" ").join("_")}let Jue=class extends i7{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new ice({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:HR(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){var e;this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(await((e=this.wallet.features["standard:connect"])==null?void 0:e.connect({silent:!0}).catch((()=>{}))),await this.isConnected()&&await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){if(e.showPrompt)try{await this.promptConnection()}catch(n){throw this._wallet.accounts.length===0?new IR:n}if(!await this.isConnected())throw new IR;return await this.syncAccounts(),this.getConnectedWallet()}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){var e;this._unsubscribeListeners=(e=this.wallet.features["standard:events"])==null?void 0:e.on("change",this.onChange)}unsubscribeListeners(){var e;(e=this._unsubscribeListeners)==null||e.call(this)}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!Yue.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||Nb().some((({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask")))}constructor(e,n){super(Zue(HR(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{var r;await((r=this.wallet.features["standard:disconnect"])==null?void 0:r.disconnect().catch((i=>console.error("Error disconnecting",i)))),await this.syncAccounts()},this.promptConnection=async()=>{var r;try{await((r=this.wallet.features["standard:connect"])==null?void 0:r.connect())}catch(i){throw du(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function HR(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const gze=({style:t,...e})=>{let n=Ga();return U.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[U.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),U.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:U.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),U.jsx("defs",{children:U.jsx("clipPath",{id:"clip0_1765_9946",children:U.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Xue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function r_(t){return["ethereum","solana"].includes(t.chainType)}function s7(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const sk=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),KR={[lp.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[lB.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Y5.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[aB.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Ty.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[cB.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Ay.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[oB.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Sy.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[sB.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[xy.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[iB.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},GR=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:o,onError:a})=>{var v;let c,u;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let d=sk(e.fundingConfig.options);if(d.length<1)throw Error("Wallet funding is not enabled");c=i||(n!=null&&n.chain?n.chain.id:s7(e.fundingConfig.defaultRecommendedCurrency.chain));let f=e.chains.find((E=>E.id===c));if(!f)throw new ae(`Funding chain ${c} is not in PrivyProvider chains list`);let p=(n==null?void 0:n.amount)??e.fundingConfig.defaultRecommendedAmount,m=!1;function y(){if(!c)return;let E=KR[c];d.find((k=>k.method==="wallets"))&&!E&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),u=E,m=!0}n&&"asset"in n?n.asset==="USDC"?y():typeof n.asset!="string"&&"erc20"in n.asset&&(m=((E,k)=>E===KR[k.id])(u=n.asset.erc20,f)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&y();let w=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:p,chain:f,erc20Address:u,erc20ContractInfo:m?{symbol:"USDC",decimals:6}:void 0,isUSDC:m,methodScreen:r,supportedOptions:d,comingFromSendTransactionScreen:s,defaultFundingMethod:w,usingDefaultFundingMethod:!!w,preferredCardProvider:(v=n==null?void 0:n.card)==null?void 0:v.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:o??(()=>{}),onError:a??(()=>{})}};function yze({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){var u;if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let o=sk(n.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");let a=(e==null?void 0:e.amount)??n.fundingConfig.defaultRecommendedAmount,c=e==null?void 0:e.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:o,amount:a,isUSDC:(e==null?void 0:e.asset)==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:(e==null?void 0:e.chain)||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:c,preferredCardProvider:(u=e==null?void 0:e.card)==null?void 0:u.preferredProvider,usingDefaultFundingMethod:!!c,uiConfig:e==null?void 0:e.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}const Que={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},o7=H.createContext(void 0);let a7=()=>H.useContext(o7);function i_(t,e){if(!e)return;let n=a7().current[t];return H.useEffect((()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter((a=>a!==o))}}),[e])}function Se(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function s_(){let t=a7();return(e,n,...r)=>Se(t,e,n,...r)}const Ov=(t,e,n,r)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new Nn(`Unsupported chainId ${t}`,4901);return q6({transport:K1(c7(s,n,r.appId)),chain:s})},c7=(t,e,n)=>{var o,a,c;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let u=new URL(t.rpcUrls.privy.http[0]);u.searchParams.append("privyAppId",n),r=u.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(c=t.rpcUrls.default)==null?void 0:c.http[0];if(!r)throw new Nn(`No RPC url found for ${i}`);return r},Rv=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},Dl=(t,e)=>{if(e!=null&&e.imported)return Rv(e);let n=Gg(t);if(!n)throw Error("Failed to find primary wallet");return Rv(n)},l7=H.createContext(null);function ede(){let t=H.useContext(l7);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}const Xg=Hd((()=>({listings:[],loading:!1}))),O2=Xg.setState,tde=t=>Xg.getState().listings.find((({slug:e})=>Nv(e)===Nv(t))),R2=t=>{let e;try{e=new URL(t).hostname}catch{return}return Xg.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},u7=(t=!0)=>{let e=Ga(),n=Xg((s=>s.listings)),r=Xg((s=>s.loading)),i=!!n.length;return H.useEffect((()=>{t&&!i&&(O2({listings:[],loading:!0}),(async s=>{let o=new URL("v3/wallets","https://explorer-api.walletconnect.com");o.searchParams.append("projectId",s);let a=await fetch(o);return a.ok?Object.values((await a.json()).listings).sort((({slug:c},{slug:u})=>c==="rainbow"&&u==="metamask"?1:c==="metamask"||c==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await a.text().catch((()=>"No response."))}`),[])})(e.walletConnectCloudProjectId).then((s=>O2({listings:s,loading:!1}))).catch((s=>{console.error(s),O2({listings:[],loading:!1})})))}),[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},wze=t=>{let{listings:e}=u7();return e.find((({slug:n})=>Nv(n)===Nv(t)))};function Nv(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function JT(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some((e=>t==null?void 0:t.includes(e)))}const d7=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,h7=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||d7(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!h7(n))return!1}return!0},bze=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},vze=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},_ze=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Eze=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},nde=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},xze=(t,e=3,n=4)=>nde(t,e,n,"solana"),$v=t=>new Promise((e=>setTimeout(e,t)));function YR(t,{interval:e=100,timeout:n=5e3}={}){return new Promise(((r,i)=>{let s,o=0,a=()=>{o>=n?i("Max attempts reached without result"):(s=t(),o+=e,s==null?setTimeout(a,e):r(s))};a()}))}const XT=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,s)=>{var c;let o=!1,a=0;for(;!o&&a<r;){if((c=e.abortSignal)!=null&&c.aborted)return;t().then((u=>{o=!0,i(u)}),((...u)=>{o=!0,s(...u)})),a+=1,await $v(n)}o||s(Error("Exceeded max attempts before resolving function"))}))},rde=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),QT=t=>typeof t=="string"?t:"0x"+t.toString(16);async function ide({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise((a=>{function c(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",c);let u=t.getProviders();console.debug("Detected injected providers:",u.map((f=>f.info)));let d=[];for(let f of u)e.includes("coinbase_wallet")&&f.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&f.info.rdns==="app.phantom"||d.push({type:f.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:f});if(r!=="solana-only")for(let f of(function(){var w;let p=window,m=p.ethereum;if(!m)return[];let y=[];if((w=m.providers)!=null&&w.length)for(let v of m.providers)v&&y.push(v);return y.push(p.ethereum),y})()){let p=d7(f);if(!u.some((m=>m.info.name===p))){if(h7(f,!0)&&!d.find((m=>m.type==="metamask"))){d.push({type:"metamask",legacyInjectedProvider:f});continue}if(p==="Phantom"&&!d.find((m=>m.type==="phantom"))){d.push({type:"phantom",legacyInjectedProvider:f});continue}if(p==="Coinbase Wallet"&&!d.find((m=>{var y,w,v;return m.type==="coinbase_wallet"&&((v=(w=(y=n.coinbaseWallet)==null?void 0:y.config)==null?void 0:w.preference)==null?void 0:v.options)!=="smartWalletOnly"}))){d.push({type:"coinbase_wallet",legacyInjectedProvider:f});continue}d.find((m=>m.type==="unknown_browser_extension"))||d.push({type:"unknown_browser_extension",legacyInjectedProvider:f})}}a(d)}o.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout((()=>{c()}),i))}))}function sg(t){return`eip155:${String(Number(t))}`}const sde=(t,e,n,r)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new Nn(`Unsupported chainId ${t}`,4901);return c7(s,n,r)},Sze=(t,e)=>{var i;let n=Number(t),r=e.find((s=>s.id===n));if(!r)throw new Nn(`Unsupported chainId ${t}`,4901);return(i=r.blockExplorers)==null?void 0:i.default.url},$b=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}};function Aze(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function Ml(t){return t.type==="ethereum"}function f7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&Ml(r)&&Ml(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}const ok=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||Z1;function dm(t){return t.chainType==="ethereum"}let Kd=class extends i7{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find((o=>ci(o.address)===ci(e)));return{type:"ethereum",address:ci(e),chainId:n,meta:r,imported:i,switchChain:async o=>{var p,m,y,w;let a,c;if(!s)throw new Nn("Wallet is not currently connected.");let u=(p=this.wallets.find((v=>ci(v.address)===ci(e))))==null?void 0:p.chainId;if(!u)throw new Nn("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,c=o):(a=o,c=Number(o)),u===sg(a))return;let d=this.chains.find((v=>v.id===c));if(!d)throw new Nn(`Unsupported chainId: ${o}`);let f=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await f()}catch(v){if(((E,k)=>{var _;switch(k){case"coinbase_wallet":case"base_account":return E.message.includes("addEthereumChain");case"rabby_wallet":return E.message.includes("Unrecognized chain ID");default:return E.code===4902||((_=E.message)==null?void 0:_.includes("4902"))}})(v,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await $v(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:d.name,nativeCurrency:d.nativeCurrency,rpcUrls:[((m=d.rpcUrls.default)==null?void 0:m.http[0])??""],blockExplorerUrls:[((y=d.blockExplorers)==null?void 0:y.default.url)??""]}]}),f();throw this.walletClientType==="rainbow"&&((w=v.message)!=null&&w.includes("wallet_switchEthereumChain"))?new Nn(`Rainbow does not support the chainId ${n}`):v}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Nn("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new Nn("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let c=await XT((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,c),Array.isArray(c)&&(r=c)}}catch(c){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",c)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0];if(!vn(i))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${i}`);let s=ci(i),o=[];if(this.walletClientType==="privy"){let c=at.get(x2(s));this.chains.find((u=>u.id===Number(c)))||(at.del(x2(s)),c=null),n=c||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let c=await XT((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,c),typeof c=="string")n=c;else{if(typeof c!="number")throw Error("Invalid chainId returned from provider");n=`0x${c.toString(16)}`}}catch(c){console.warn(`Failed to get chainId from provider, defaulting to ${ER}`,c),n=ER}let a=sg(n);if(!o.find((c=>ci(c.address)===s))){let c={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(ci(i),a,c,this.connectorType==="embedded_imported"))}f7(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>ci(r)===ci(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Pt(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((o=>{o.chainId=sg(s),this.walletClientType==="privy"&&at.put(x2(o.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await $v(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=ok(i,e),this.connected=!1,this.initialized=!1}},Gd=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Nn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw du(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new Kue,i=this.rpcTimeoutDuration)=>new Promise(((s,o)=>setTimeout((()=>{o(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||Z1,this._subscriptions=[]}};const ode=t=>{let[e,n]=H.useState("auto");return H.useEffect((()=>{let r=new ResizeObserver((i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e},kze=xn.div`
  text-align: left;
  flex-grow: 1;
`,Cze=xn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex-grow: 1;
`,ade=xn.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  /* for Internet Explorer, Edge */
  -ms-overflow-style: none;

  /* for Firefox */
  scrollbar-width: none;

  /* for Chrome, Safari, and Opera */
  &::-webkit-scrollbar {
    display: none;
  }
`,Pze=xn(ade)`
  ${t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0}

  background-repeat: no-repeat;
  background-size:
    100% 32px,
    100% 16px;
  background-attachment: local, scroll;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: none;
  padding: 3px;
`;let p7=Ky`
  && {
    width: 100%;
    font-size: 16px;
    line-height: 24px;
    min-height: 56px;

    /* Tablet and Up */
    @media (min-width: 440px) {
      font-size: 14px;
    }

    display: flex;
    gap: 12px;
    align-items: center;
    color: var(--privy-color-foreground);

    padding: 10px 12px;
    border: 1px solid var(--privy-color-foreground-4) !important;
    border-radius: var(--privy-border-radius-md);
    transition: background-color 200ms ease;

    cursor: pointer;

    &:hover {
      background-color: var(--privy-color-background-2);
    }

    &:disabled {
      cursor: pointer;
      background-color: var(--privy-color-background-2);
    }
  }
`;const Oze=xn.div`
  text-align: center;
  font-size: 14px;
  margin-bottom: 24px;
`,Rze=xn.button.attrs({className:"login-method-button"})`
  ${p7}
`;xn.a`
  ${p7}
`;const Nze=xn.div`
  width: 32px;
  height: 32px;
  border-radius: ${t=>t.$fullSize?"0":"4px"};
  background: ${t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"};
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: ${t=>t.$fullSize?"32px":"18px"};
    height: ${t=>t.$fullSize?"32px":"18px"};
    color: ${t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"};
  }
`,m7=xn.div`
  width: 100%;
  height: 100%;
  min-height: inherit;
  display: flex;
  flex-direction: column;
  ${t=>t.$if?"display: none;":""}
`,$ze=xn.div`
  width: 100%;
  height: 100%;
  padding: ${t=>t.$withPadding?"64px 0px":"0px"};
`,Dze=xn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: 32px;
  gap: 12px;
  & h3 {
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;
  }
  & p {
    max-width: 300px;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
`,Mze=({success:t,fail:e})=>U.jsxs(cde,{children:[U.jsx(ZR,{children:U.jsx(lde,{className:t?"success":e?"fail":""})}),U.jsx(ZR,{children:U.jsx(o_,{className:t?"success":e?"fail":""})})]});let ZR=xn.span`
  && {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }
`,cde=xn.span`
  position: relative;
  width: 82px;
  height: 82px;
  display: inline-block;
`;const o_=xn.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${t=>t.color??"var(--privy-color-icon-subtle)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  &&&.success {
    border-color: var(--privy-color-icon-success);
    border-bottom-color: var(--privy-color-icon-success);
  }

  &&&.fail {
    border-color: var(--privy-color-icon-error);
    border-bottom-color: var(--privy-color-icon-error);
  }
`,lde=xn(o_)`
  && {
    border-bottom-color: ${t=>t.color??"var(--privy-color-border-default)"};
    border-color: ${t=>t.color??"var(--privy-color-border-default)"};
    animation: none;
    opacity: 0.5;
  }
`,Lze=t=>U.jsx(ude,{color:t.color||"var(--privy-color-foreground-3)"});let ude=xn(o_)`
  && {
    height: 1rem;
    width: 1rem;
    margin: 2px 0;
    border-width: 1.5px;

    /* Override default Loader to match button transitions */
    transition: border-color 200ms ease;
  }
`;const dde=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],g7=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:qc.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=o==null?void 0:o.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=hm({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:qc.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=hm({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){var t;return"jupiter"in window&&!!((t=window==null?void 0:window.jupiter)!=null&&t.isJupiter)},getMobileRedirect({isSolana:t,connectOnly:e}){let n=hm({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=hm({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${hm({client:this.client,isSolana:t,connectOnly:e})}`}}});function hde({connectorType:t,walletClientType:e}){for(let n of dde)if(t===n||e===n)return g7[n]}function hm({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let fde=class extends Jue{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Gd(void 0,Z1),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function pde(t){return t.chainType==="solana"}function mde(t){return t.type==="solana"}let y7=H.createContext({});const gde=({children:t})=>{let e=Ga(),[n,r]=H.useState({});return i_("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(at.put(JR(e.id),i.type),i.type==="wallet"?(at.put(N2(e.id),i.walletClientType),at.put($2(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(at.del(N2(e.id)),at.del($2(e.id)),r({accountType:i.type})))}}),H.useEffect((()=>{if(!e.id)return;let i=at.get(JR(e.id)),s=at.get(N2(e.id)),o=at.get($2(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})}),[e.id]),U.jsx(y7.Provider,{value:n,children:t})};let JR=t=>`privy:${t}:recent-login-method`,N2=t=>`privy:${t}:recent-login-wallet-client`,$2=t=>`privy:${t}:recent-login-chain-type`;const Uze=()=>H.useContext(y7);let yde=class extends Kd{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Gd(void 0,Z1),this.id=e,this.name=n,this.icon=r}};const wde=({...t})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[U.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),U.jsx("g",{transform:"translate(4, 4)",children:U.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[U.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),U.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),U.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),U.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),U.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),U.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),U.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),U.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),U.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),U.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),U.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),U.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),U.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function jze(t){let{logout:e}=H.useContext(gp);return i_("logout",t),{logout:e}}const bde=Hd((()=>({isModalOpen:!1,resolvers:null})));Hd((()=>({})));const zze=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&at.put(vde(n),r),bde.setState({wallet:r})},vde=t=>`privy:${t}:active-wallet-connection`;class ja{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new ja("CBWSDK").clear(),new ja("walletlink").clear()}}const sr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},eI={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},w7="Unspecified error message.",_de="Unspecified server error.";function ak(t,e=w7){if(t&&Number.isInteger(t)){const n=t.toString();if(tI(eI,n))return eI[n].message;if(b7(t))return _de}return e}function Ede(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(eI[e]||b7(t))}function xde(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&tI(t,"code")&&Ede(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,tI(r,"data")&&(n.data=r.data)):(n.message=ak(n.code),n.data={originalError:XR(t)})}else n.code=sr.rpc.internal,n.message=QR(t,"message")?t.message:w7,n.data={originalError:XR(t)};return e&&(n.stack=QR(t,"stack")?t.stack:void 0),n}function b7(t){return t>=-32099&&t<=-32e3}function XR(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function tI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function QR(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Gt={rpc:{parse:t=>Ks(sr.rpc.parse,t),invalidRequest:t=>Ks(sr.rpc.invalidRequest,t),invalidParams:t=>Ks(sr.rpc.invalidParams,t),methodNotFound:t=>Ks(sr.rpc.methodNotFound,t),internal:t=>Ks(sr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ks(e,t)},invalidInput:t=>Ks(sr.rpc.invalidInput,t),resourceNotFound:t=>Ks(sr.rpc.resourceNotFound,t),resourceUnavailable:t=>Ks(sr.rpc.resourceUnavailable,t),transactionRejected:t=>Ks(sr.rpc.transactionRejected,t),methodNotSupported:t=>Ks(sr.rpc.methodNotSupported,t),limitExceeded:t=>Ks(sr.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Uh(sr.provider.userRejectedRequest,t),unauthorized:t=>Uh(sr.provider.unauthorized,t),unsupportedMethod:t=>Uh(sr.provider.unsupportedMethod,t),disconnected:t=>Uh(sr.provider.disconnected,t),chainDisconnected:t=>Uh(sr.provider.chainDisconnected,t),unsupportedChain:t=>Uh(sr.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new E7(e,n,r)}}};function Ks(t,e){const[n,r]=v7(e);return new _7(t,n||ak(t),r)}function Uh(t,e){const[n,r]=v7(e);return new E7(t,n||ak(t),r)}function v7(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class _7 extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class E7 extends _7{constructor(e,n,r){if(!Sde(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function Sde(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function ck(){return t=>t}const Qg=ck(),Ade=ck(),Tde=ck();function xc(t){return Math.floor(t)}const x7=/^[0-9]*$/,S7=/^[a-f0-9]*$/;function Gu(t){return lk(crypto.getRandomValues(new Uint8Array(t)))}function lk(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Db(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function og(t,e=!1){const n=t.toString("hex");return Qg(e?`0x${n}`:n)}function D2(t){return og(nI(t),!0)}function ha(t){return Tde(t.toString(10))}function Yl(t){return Qg(`0x${BigInt(t).toString(16)}`)}function A7(t){return t.startsWith("0x")||t.startsWith("0X")}function uk(t){return A7(t)?t.slice(2):t}function T7(t){return A7(t)?`0x${t.slice(2)}`:`0x${t}`}function a_(t){if(typeof t!="string")return!1;const e=uk(t).toLowerCase();return S7.test(e)}function Ide(t,e=!1){if(typeof t=="string"){const n=uk(t).toLowerCase();if(S7.test(n))return Qg(e?`0x${n}`:n)}throw Gt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function dk(t,e=!1){let n=Ide(t,!1);return n.length%2===1&&(n=Qg(`0${n}`)),e?Qg(`0x${n}`):n}function wl(t){if(typeof t=="string"){const e=uk(t).toLowerCase();if(a_(e)&&e.length===40)return Ade(T7(e))}throw Gt.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function nI(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(a_(t)){const e=dk(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Gt.rpc.invalidParams(`Not binary data: ${String(t)}`)}function ag(t){if(typeof t=="number"&&Number.isInteger(t))return xc(t);if(typeof t=="string"){if(x7.test(t))return xc(Number(t));if(a_(t))return xc(Number(BigInt(dk(t,!0))))}throw Gt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function fm(t){if(t!==null&&(typeof t=="bigint"||Cde(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(ag(t));if(typeof t=="string"){if(x7.test(t))return BigInt(t);if(a_(t))return BigInt(dk(t,!0))}throw Gt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function kde(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Gt.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function Cde(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function Pde(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function Ode(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Rde(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function Nde(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function I7(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function k7(t,e){const n=I7(t),r=await crypto.subtle.exportKey(n,e);return lk(new Uint8Array(r))}async function C7(t,e){const n=I7(t),r=Db(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function $de(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return Rde(e,n)}async function Dde(t,e){return JSON.parse(await Nde(e,t))}const M2={storageKey:"ownPrivateKey",keyType:"private"},L2={storageKey:"ownPublicKey",keyType:"public"},B2={storageKey:"peerPublicKey",keyType:"public"};class Mde{constructor(){this.storage=new ja("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(B2,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(L2.storageKey),this.storage.removeItem(M2.storageKey),this.storage.removeItem(B2.storageKey)}async generateKeyPair(){const e=await Pde();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(M2,e.privateKey),await this.storeKey(L2,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(M2)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(L2)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(B2)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await Ode(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?C7(e.keyType,n):null}async storeKey(e,n){const r=await k7(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const Gy="4.3.2",P7="@coinbase/wallet-sdk";async function hk(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Gy,"X-Cbw-Sdk-Platform":P7}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function Lde(){return globalThis.coinbaseWalletExtension}function Bde(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Ude({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const c=Lde();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,s,o,e),c}const a=Bde();if(a!=null&&a.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function Fde(t){if(!t||typeof t!="object"||Array.isArray(t))throw Gt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Gt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Gt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Gt.provider.unsupportedMethod()}}const e4="accounts",t4="activeChain",n4="availableChains",r4="walletCapabilities";class jde{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Mde,this.storage=new ja("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(e4))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(t4)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await C7("public",a.sender);await this.keyManager.setPeerPublicKey(c);const d=(await this.decryptResponseMessage(a)).result;if("error"in d)throw d.error;switch(e.method){case"eth_requestAccounts":{const f=d.value;this.accounts=f,this.storage.storeObject(e4,f),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",f);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Gt.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Yl(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Yl(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(r4);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Gt.rpc.internal("No RPC URL set for chain");return hk(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Gt.rpc.invalidParams();const i=ag(r[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Gt.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await $de({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await k7("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Gt.provider.unauthorized("Invalid session");const o=await Dde(i.encrypted,s),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const u=Object.entries(a).map(([d,f])=>({id:Number(d),rpcUrl:f}));this.storage.storeObject(n4,u),this.updateChain(this.chain.id,u)}const c=(r=o.data)===null||r===void 0?void 0:r.capabilities;return c&&this.storage.storeObject(r4,c),o}updateChain(e,n){var r;const i=n??this.storage.loadObject(n4),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(t4,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Yl(s.id))),!0):!1}}var dn={},zr={},i4;function O7(){if(i4)return zr;i4=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.output=zr.exists=zr.hash=zr.bytes=zr.bool=zr.number=zr.isBytes=void 0;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error(`positive integer expected, not ${c}`)}zr.number=t;function e(c){if(typeof c!="boolean")throw new Error(`boolean expected, not ${c}`)}zr.bool=e;function n(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"}zr.isBytes=n;function r(c,...u){if(!n(c))throw new Error("Uint8Array expected");if(u.length>0&&!u.includes(c.length))throw new Error(`Uint8Array expected of length ${u}, not of length=${c.length}`)}zr.bytes=r;function i(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}zr.hash=i;function s(c,u=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(u&&c.finished)throw new Error("Hash#digest() has already been called")}zr.exists=s;function o(c,u){r(c);const d=u.outputLen;if(c.length<d)throw new Error(`digestInto() expects output buffer of length at least ${d}`)}zr.output=o;const a={number:t,bool:e,bytes:r,hash:i,exists:s,output:o};return zr.default=a,zr}var vt={},s4;function zde(){if(s4)return vt;s4=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.add5L=vt.add5H=vt.add4H=vt.add4L=vt.add3H=vt.add3L=vt.add=vt.rotlBL=vt.rotlBH=vt.rotlSL=vt.rotlSH=vt.rotr32L=vt.rotr32H=vt.rotrBL=vt.rotrBH=vt.rotrSL=vt.rotrSH=vt.shrSL=vt.shrSH=vt.toBig=vt.split=vt.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(D,F=!1){return F?{h:Number(D&t),l:Number(D>>e&t)}:{h:Number(D>>e&t)|0,l:Number(D&t)|0}}vt.fromBig=n;function r(D,F=!1){let K=new Uint32Array(D.length),B=new Uint32Array(D.length);for(let j=0;j<D.length;j++){const{h:Y,l:I}=n(D[j],F);[K[j],B[j]]=[Y,I]}return[K,B]}vt.split=r;const i=(D,F)=>BigInt(D>>>0)<<e|BigInt(F>>>0);vt.toBig=i;const s=(D,F,K)=>D>>>K;vt.shrSH=s;const o=(D,F,K)=>D<<32-K|F>>>K;vt.shrSL=o;const a=(D,F,K)=>D>>>K|F<<32-K;vt.rotrSH=a;const c=(D,F,K)=>D<<32-K|F>>>K;vt.rotrSL=c;const u=(D,F,K)=>D<<64-K|F>>>K-32;vt.rotrBH=u;const d=(D,F,K)=>D>>>K-32|F<<64-K;vt.rotrBL=d;const f=(D,F)=>F;vt.rotr32H=f;const p=(D,F)=>D;vt.rotr32L=p;const m=(D,F,K)=>D<<K|F>>>32-K;vt.rotlSH=m;const y=(D,F,K)=>F<<K|D>>>32-K;vt.rotlSL=y;const w=(D,F,K)=>F<<K-32|D>>>64-K;vt.rotlBH=w;const v=(D,F,K)=>D<<K-32|F>>>64-K;vt.rotlBL=v;function E(D,F,K,B){const j=(F>>>0)+(B>>>0);return{h:D+K+(j/2**32|0)|0,l:j|0}}vt.add=E;const k=(D,F,K)=>(D>>>0)+(F>>>0)+(K>>>0);vt.add3L=k;const _=(D,F,K,B)=>F+K+B+(D/2**32|0)|0;vt.add3H=_;const x=(D,F,K,B)=>(D>>>0)+(F>>>0)+(K>>>0)+(B>>>0);vt.add4L=x;const A=(D,F,K,B,j)=>F+K+B+j+(D/2**32|0)|0;vt.add4H=A;const T=(D,F,K,B,j)=>(D>>>0)+(F>>>0)+(K>>>0)+(B>>>0)+(j>>>0);vt.add5L=T;const O=(D,F,K,B,j,Y)=>F+K+B+j+Y+(D/2**32|0)|0;vt.add5H=O;const N={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:u,rotrBL:d,rotr32H:f,rotr32L:p,rotlSH:m,rotlSL:y,rotlBH:w,rotlBL:v,add:E,add3L:k,add3H:_,add4L:x,add4H:A,add5H:O,add5L:T};return vt.default=N,vt}var U2={},pm={},o4;function Wde(){return o4||(o4=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.crypto=void 0,pm.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),pm}var a4;function Vde(){return a4||(a4=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Wde(),n=O7();function r(B){return B instanceof Uint8Array||B!=null&&typeof B=="object"&&B.constructor.name==="Uint8Array"}t.isBytes=r;const i=B=>new Uint8Array(B.buffer,B.byteOffset,B.byteLength);t.u8=i;const s=B=>new Uint32Array(B.buffer,B.byteOffset,Math.floor(B.byteLength/4));t.u32=s;const o=B=>new DataView(B.buffer,B.byteOffset,B.byteLength);t.createView=o;const a=(B,j)=>B<<32-j|B>>>j;t.rotr=a;const c=(B,j)=>B<<j|B>>>32-j>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=B=>B<<24&4278190080|B<<8&16711680|B>>>8&65280|B>>>24&255;t.byteSwap=u,t.byteSwapIfBE=t.isLE?B=>B:B=>(0,t.byteSwap)(B);function d(B){for(let j=0;j<B.length;j++)B[j]=(0,t.byteSwap)(B[j])}t.byteSwap32=d;const f=Array.from({length:256},(B,j)=>j.toString(16).padStart(2,"0"));function p(B){(0,n.bytes)(B);let j="";for(let Y=0;Y<B.length;Y++)j+=f[B[Y]];return j}t.bytesToHex=p;const m={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function y(B){if(B>=m._0&&B<=m._9)return B-m._0;if(B>=m._A&&B<=m._F)return B-(m._A-10);if(B>=m._a&&B<=m._f)return B-(m._a-10)}function w(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);const j=B.length,Y=j/2;if(j%2)throw new Error("padded hex string expected, got unpadded hex of length "+j);const I=new Uint8Array(Y);for(let P=0,L=0;P<Y;P++,L+=2){const M=y(B.charCodeAt(L)),R=y(B.charCodeAt(L+1));if(M===void 0||R===void 0){const z=B[L]+B[L+1];throw new Error('hex string expected, got non-hex character "'+z+'" at index '+L)}I[P]=M*16+R}return I}t.hexToBytes=w;const v=async()=>{};t.nextTick=v;async function E(B,j,Y){let I=Date.now();for(let P=0;P<B;P++){Y(P);const L=Date.now()-I;L>=0&&L<j||(await(0,t.nextTick)(),I+=L)}}t.asyncLoop=E;function k(B){if(typeof B!="string")throw new Error(`utf8ToBytes expected string, got ${typeof B}`);return new Uint8Array(new TextEncoder().encode(B))}t.utf8ToBytes=k;function _(B){return typeof B=="string"&&(B=k(B)),(0,n.bytes)(B),B}t.toBytes=_;function x(...B){let j=0;for(let I=0;I<B.length;I++){const P=B[I];(0,n.bytes)(P),j+=P.length}const Y=new Uint8Array(j);for(let I=0,P=0;I<B.length;I++){const L=B[I];Y.set(L,P),P+=L.length}return Y}t.concatBytes=x;class A{clone(){return this._cloneInto()}}t.Hash=A;const T={}.toString;function O(B,j){if(j!==void 0&&T.call(j)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(B,j)}t.checkOpts=O;function N(B){const j=I=>B().update(_(I)).digest(),Y=B();return j.outputLen=Y.outputLen,j.blockLen=Y.blockLen,j.create=()=>B(),j}t.wrapConstructor=N;function D(B){const j=(I,P)=>B(P).update(_(I)).digest(),Y=B({});return j.outputLen=Y.outputLen,j.blockLen=Y.blockLen,j.create=I=>B(I),j}t.wrapConstructorWithOpts=D;function F(B){const j=(I,P)=>B(P).update(_(I)).digest(),Y=B({});return j.outputLen=Y.outputLen,j.blockLen=Y.blockLen,j.create=I=>B(I),j}t.wrapXOFConstructorWithOpts=F;function K(B=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(B));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=K})(U2)),U2}var c4;function qde(){if(c4)return dn;c4=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.shake256=dn.shake128=dn.keccak_512=dn.keccak_384=dn.keccak_256=dn.keccak_224=dn.sha3_512=dn.sha3_384=dn.sha3_256=dn.sha3_224=dn.Keccak=dn.keccakP=void 0;const t=O7(),e=zde(),n=Vde(),r=[],i=[],s=[],o=BigInt(0),a=BigInt(1),c=BigInt(2),u=BigInt(7),d=BigInt(256),f=BigInt(113);for(let x=0,A=a,T=1,O=0;x<24;x++){[T,O]=[O,(2*T+3*O)%5],r.push(2*(5*O+T)),i.push((x+1)*(x+2)/2%64);let N=o;for(let D=0;D<7;D++)A=(A<<a^(A>>u)*f)%d,A&c&&(N^=a<<(a<<BigInt(D))-a);s.push(N)}const[p,m]=(0,e.split)(s,!0),y=(x,A,T)=>T>32?(0,e.rotlBH)(x,A,T):(0,e.rotlSH)(x,A,T),w=(x,A,T)=>T>32?(0,e.rotlBL)(x,A,T):(0,e.rotlSL)(x,A,T);function v(x,A=24){const T=new Uint32Array(10);for(let O=24-A;O<24;O++){for(let F=0;F<10;F++)T[F]=x[F]^x[F+10]^x[F+20]^x[F+30]^x[F+40];for(let F=0;F<10;F+=2){const K=(F+8)%10,B=(F+2)%10,j=T[B],Y=T[B+1],I=y(j,Y,1)^T[K],P=w(j,Y,1)^T[K+1];for(let L=0;L<50;L+=10)x[F+L]^=I,x[F+L+1]^=P}let N=x[2],D=x[3];for(let F=0;F<24;F++){const K=i[F],B=y(N,D,K),j=w(N,D,K),Y=r[F];N=x[Y],D=x[Y+1],x[Y]=B,x[Y+1]=j}for(let F=0;F<50;F+=10){for(let K=0;K<10;K++)T[K]=x[F+K];for(let K=0;K<10;K++)x[F+K]^=~T[(K+2)%10]&T[(K+4)%10]}x[0]^=p[O],x[1]^=m[O]}T.fill(0)}dn.keccakP=v;class E extends n.Hash{constructor(A,T,O,N=!1,D=24){if(super(),this.blockLen=A,this.suffix=T,this.outputLen=O,this.enableXOF=N,this.rounds=D,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(O),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),v(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(A){(0,t.exists)(this);const{blockLen:T,state:O}=this;A=(0,n.toBytes)(A);const N=A.length;for(let D=0;D<N;){const F=Math.min(T-this.pos,N-D);for(let K=0;K<F;K++)O[this.pos++]^=A[D++];this.pos===T&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:A,suffix:T,pos:O,blockLen:N}=this;A[O]^=T,(T&128)!==0&&O===N-1&&this.keccak(),A[N-1]^=128,this.keccak()}writeInto(A){(0,t.exists)(this,!1),(0,t.bytes)(A),this.finish();const T=this.state,{blockLen:O}=this;for(let N=0,D=A.length;N<D;){this.posOut>=O&&this.keccak();const F=Math.min(O-this.posOut,D-N);A.set(T.subarray(this.posOut,this.posOut+F),N),this.posOut+=F,N+=F}return A}xofInto(A){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(A)}xof(A){return(0,t.number)(A),this.xofInto(new Uint8Array(A))}digestInto(A){if((0,t.output)(A,this),this.finished)throw new Error("digest() was already called");return this.writeInto(A),this.destroy(),A}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(A){const{blockLen:T,suffix:O,outputLen:N,rounds:D,enableXOF:F}=this;return A||(A=new E(T,O,N,F,D)),A.state32.set(this.state32),A.pos=this.pos,A.posOut=this.posOut,A.finished=this.finished,A.rounds=D,A.suffix=O,A.outputLen=N,A.enableXOF=F,A.destroyed=this.destroyed,A}}dn.Keccak=E;const k=(x,A,T)=>(0,n.wrapConstructor)(()=>new E(A,x,T));dn.sha3_224=k(6,144,224/8),dn.sha3_256=k(6,136,256/8),dn.sha3_384=k(6,104,384/8),dn.sha3_512=k(6,72,512/8),dn.keccak_224=k(1,144,224/8),dn.keccak_256=k(1,136,256/8),dn.keccak_384=k(1,104,384/8),dn.keccak_512=k(1,72,512/8);const _=(x,A,T)=>(0,n.wrapXOFConstructorWithOpts)((O={})=>new E(A,x,O.dkLen===void 0?T:O.dkLen,!0));return dn.shake128=_(31,168,128/8),dn.shake256=_(31,136,256/8),dn}var F2,l4;function R7(){if(l4)return F2;l4=1;const{keccak_256:t}=qde();function e(m){return Buffer.allocUnsafe(m).fill(0)}function n(m){return m.toString(2).length}function r(m,y){let w=m.toString(16);w.length%2!==0&&(w="0"+w);const v=w.match(/.{1,2}/g).map(E=>parseInt(E,16));for(;v.length<y;)v.unshift(0);return Buffer.from(v)}function i(m,y){const w=m<0n;let v;if(w){const E=(1n<<BigInt(y))-1n;v=(~m&E)+1n}else v=m;return v&=(1n<<BigInt(y))-1n,v}function s(m,y,w){const v=e(y);return m=a(m),w?m.length<y?(m.copy(v),v):m.slice(0,y):m.length<y?(m.copy(v,y-m.length),v):m.slice(-y)}function o(m,y){return s(m,y,!0)}function a(m){if(!Buffer.isBuffer(m))if(Array.isArray(m))m=Buffer.from(m);else if(typeof m=="string")f(m)?m=Buffer.from(d(p(m)),"hex"):m=Buffer.from(m);else if(typeof m=="number")m=intToBuffer(m);else if(m==null)m=Buffer.allocUnsafe(0);else if(typeof m=="bigint")m=r(m);else if(m.toArray)m=Buffer.from(m.toArray());else throw new Error("invalid type");return m}function c(m){return m=a(m),"0x"+m.toString("hex")}function u(m,y){if(m=a(m),y||(y=256),y!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(m)))}function d(m){return m.length%2?"0"+m:m}function f(m){return typeof m=="string"&&m.match(/^0x[0-9A-Fa-f]*$/)}function p(m){return typeof m=="string"&&m.startsWith("0x")?m.slice(2):m}return F2={zeros:e,setLength:s,setLengthRight:o,isHexString:f,stripHexPrefix:p,toBuffer:a,bufferToHex:c,keccak:u,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},F2}var j2,u4;function Hde(){if(u4)return j2;u4=1;const t=R7();function e(p){return p.startsWith("int[")?"int256"+p.slice(3):p==="int"?"int256":p.startsWith("uint[")?"uint256"+p.slice(4):p==="uint"?"uint256":p.startsWith("fixed[")?"fixed128x128"+p.slice(5):p==="fixed"?"fixed128x128":p.startsWith("ufixed[")?"ufixed128x128"+p.slice(6):p==="ufixed"?"ufixed128x128":p}function n(p){return Number.parseInt(/^\D+(\d+)$/.exec(p)[1],10)}function r(p){var m=/^\D+(\d+)x(\d+)$/.exec(p);return[Number.parseInt(m[1],10),Number.parseInt(m[2],10)]}function i(p){var m=p.match(/(.*)\[(.*?)\]$/);return m?m[2]===""?"dynamic":Number.parseInt(m[2],10):null}function s(p){var m=typeof p;if(m==="string"||m==="number")return BigInt(p);if(m==="bigint")return p;throw new Error("Argument is not a number")}function o(p,m){var y,w,v,E;if(p==="address")return o("uint160",s(m));if(p==="bool")return o("uint8",m?1:0);if(p==="string")return o("bytes",new Buffer(m,"utf8"));if(c(p)){if(typeof m.length>"u")throw new Error("Not an array?");if(y=i(p),y!=="dynamic"&&y!==0&&m.length>y)throw new Error("Elements exceed array size: "+y);v=[],p=p.slice(0,p.lastIndexOf("[")),typeof m=="string"&&(m=JSON.parse(m));for(E in m)v.push(o(p,m[E]));if(y==="dynamic"){var k=o("uint256",m.length);v.unshift(k)}return Buffer.concat(v)}else{if(p==="bytes")return m=new Buffer(m),v=Buffer.concat([o("uint256",m.length),m]),m.length%32!==0&&(v=Buffer.concat([v,t.zeros(32-m.length%32)])),v;if(p.startsWith("bytes")){if(y=n(p),y<1||y>32)throw new Error("Invalid bytes<N> width: "+y);return t.setLengthRight(m,32)}else if(p.startsWith("uint")){if(y=n(p),y%8||y<8||y>256)throw new Error("Invalid uint<N> width: "+y);w=s(m);const _=t.bitLengthFromBigInt(w);if(_>y)throw new Error("Supplied uint exceeds width: "+y+" vs "+_);if(w<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(w,32)}else if(p.startsWith("int")){if(y=n(p),y%8||y<8||y>256)throw new Error("Invalid int<N> width: "+y);w=s(m);const _=t.bitLengthFromBigInt(w);if(_>y)throw new Error("Supplied int exceeds width: "+y+" vs "+_);const x=t.twosFromBigInt(w,256);return t.bufferBEFromBigInt(x,32)}else if(p.startsWith("ufixed")){if(y=r(p),w=s(m),w<0)throw new Error("Supplied ufixed is negative");return o("uint256",w*BigInt(2)**BigInt(y[1]))}else if(p.startsWith("fixed"))return y=r(p),o("int256",s(m)*BigInt(2)**BigInt(y[1]))}throw new Error("Unsupported or invalid type: "+p)}function a(p){return p==="string"||p==="bytes"||i(p)==="dynamic"}function c(p){return p.lastIndexOf("]")===p.length-1}function u(p,m){var y=[],w=[],v=32*p.length;for(var E in p){var k=e(p[E]),_=m[E],x=o(k,_);a(k)?(y.push(o("uint256",v)),w.push(x),v+=x.length):y.push(x)}return Buffer.concat(y.concat(w))}function d(p,m){if(p.length!==m.length)throw new Error("Number of types are not matching the values");for(var y,w,v=[],E=0;E<p.length;E++){var k=e(p[E]),_=m[E];if(k==="bytes")v.push(_);else if(k==="string")v.push(new Buffer(_,"utf8"));else if(k==="bool")v.push(new Buffer(_?"01":"00","hex"));else if(k==="address")v.push(t.setLength(_,20));else if(k.startsWith("bytes")){if(y=n(k),y<1||y>32)throw new Error("Invalid bytes<N> width: "+y);v.push(t.setLengthRight(_,y))}else if(k.startsWith("uint")){if(y=n(k),y%8||y<8||y>256)throw new Error("Invalid uint<N> width: "+y);w=s(_);const x=t.bitLengthFromBigInt(w);if(x>y)throw new Error("Supplied uint exceeds width: "+y+" vs "+x);v.push(t.bufferBEFromBigInt(w,y/8))}else if(k.startsWith("int")){if(y=n(k),y%8||y<8||y>256)throw new Error("Invalid int<N> width: "+y);w=s(_);const x=t.bitLengthFromBigInt(w);if(x>y)throw new Error("Supplied int exceeds width: "+y+" vs "+x);const A=t.twosFromBigInt(w,y);v.push(t.bufferBEFromBigInt(A,y/8))}else throw new Error("Unsupported or invalid type: "+k)}return Buffer.concat(v)}function f(p,m){return t.keccak(d(p,m))}return j2={rawEncode:u,solidityPack:d,soliditySHA3:f},j2}var z2,d4;function Kde(){if(d4)return z2;d4=1;const t=R7(),e=Hde(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,o,a,c=!0){const u=["bytes32"],d=[this.hashType(s,a)];if(c){const f=(p,m,y)=>{if(a[m]!==void 0)return["bytes32",y==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(m,y,a,c))];if(y===void 0)throw new Error(`missing value for field ${p} of type ${m}`);if(m==="bytes")return["bytes32",t.keccak(y)];if(m==="string")return typeof y=="string"&&(y=Buffer.from(y,"utf8")),["bytes32",t.keccak(y)];if(m.lastIndexOf("]")===m.length-1){const w=m.slice(0,m.lastIndexOf("[")),v=y.map(E=>f(p,w,E));return["bytes32",t.keccak(e.rawEncode(v.map(([E])=>E),v.map(([,E])=>E)))]}return[m,y]};for(const p of a[s]){const[m,y]=f(p.name,p.type,o[p.name]);u.push(m),d.push(y)}}else for(const f of a[s]){let p=o[f.name];if(p!==void 0)if(f.type==="bytes")u.push("bytes32"),p=t.keccak(p),d.push(p);else if(f.type==="string")u.push("bytes32"),typeof p=="string"&&(p=Buffer.from(p,"utf8")),p=t.keccak(p),d.push(p);else if(a[f.type]!==void 0)u.push("bytes32"),p=t.keccak(this.encodeData(f.type,p,a,c)),d.push(p);else{if(f.type.lastIndexOf("]")===f.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");u.push(f.type),d.push(p)}}return e.rawEncode(u,d)},encodeType(s,o){let a="",c=this.findTypeDependencies(s,o).filter(u=>u!==s);c=[s].concat(c.sort());for(const u of c){if(!o[u])throw new Error("No type definition specified: "+u);a+=u+"("+o[u].map(({name:f,type:p})=>p+" "+f).join(",")+")"}return a},findTypeDependencies(s,o,a=[]){if(s=s.match(/^\w*/)[0],a.includes(s)||o[s]===void 0)return a;a.push(s);for(const c of o[s])for(const u of this.findTypeDependencies(c.type,o,a))!a.includes(u)&&a.push(u);return a},hashStruct(s,o,a,c=!0){return t.keccak(this.encodeData(s,o,a,c))},hashType(s,o){return t.keccak(this.encodeType(s,o))},sanitizeData(s){const o={};for(const a in n.properties)s[a]&&(o[a]=s[a]);return o.types&&(o.types=Object.assign({EIP712Domain:[]},o.types)),o},hash(s,o=!0){const a=this.sanitizeData(s),c=[Buffer.from("1901","hex")];return c.push(this.hashStruct("EIP712Domain",a.domain,a.types,o)),a.primaryType!=="EIP712Domain"&&c.push(this.hashStruct(a.primaryType,a.message,a.types,o)),t.keccak(Buffer.concat(c))}};z2={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const o=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw o;const a=s.map(function(d){return d.type==="bytes"?t.toBuffer(d.value):d.value}),c=s.map(function(d){return d.type}),u=s.map(function(d){if(!d.name)throw o;return d.type+" "+d.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),u),e.soliditySHA3(c,a)])}return z2}var Gde=Kde();const zw=cu(Gde),Yde="walletUsername",rI="Addresses",Zde="AppVersion";function li(t){return t.errorMessage!==void 0}class Jde{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Db(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,c=o.slice(o.byteLength-a),u=o.slice(0,o.byteLength-a),d=new Uint8Array(c),f=new Uint8Array(u),p=new Uint8Array([...r,...d,...f]);return lk(p)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Db(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=Db(e),a=o.slice(0,12),c=o.slice(12,28),u=o.slice(28),d=new Uint8Array([...u,...c]),f={name:"AES-GCM",iv:new Uint8Array(a)};try{const p=await window.crypto.subtle.decrypt(f,s,d),m=new TextDecoder;r(m.decode(p))}catch(p){i(p)}})()})}}class Xde{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var Pc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Pc||(Pc={}));class Qde{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Pc.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Pc.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Pc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Pc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const h4=1e4,ehe=6e4;class the{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=xc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,c)=>{const u=s[c];u!==void 0&&a(u)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Yde,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(Zde,s)},this.handleChainUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(s),u=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,u)},this.session=e,this.cipher=new Jde(e.secret),this.listener=r;const i=new Qde(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case Pc.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case Pc.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},h4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Pc.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new Xde(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:xc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:xc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>h4*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:ehe}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:xc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:xc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:xc(this.nextReqId++),sessionId:this.session.id}),!0)}}class nhe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=T7(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function rhe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function fk(t,...e){if(!rhe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function f4(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ihe(t,e){fk(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),fa=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const she=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ohe(t){fk(t);let e="";for(let n=0;n<t.length;n++)e+=she[t[n]];return e}function ahe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function N7(t){return typeof t=="string"&&(t=ahe(t)),fk(t),t}let che=class{clone(){return this._cloneInto()}};function lhe(t){const e=r=>t().update(N7(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uhe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}const dhe=(t,e,n)=>t&e^~t&n,hhe=(t,e,n)=>t&e^t&n^e&n;let fhe=class extends che{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=W2(this.buffer)}update(e){f4(this);const{view:n,buffer:r,blockLen:i}=this;e=N7(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=W2(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){f4(this),ihe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;uhe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=W2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const phe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vl=new Uint32Array(64);let mhe=class extends fhe{constructor(){super(64,32,8,!1),this.A=bl[0]|0,this.B=bl[1]|0,this.C=bl[2]|0,this.D=bl[3]|0,this.E=bl[4]|0,this.F=bl[5]|0,this.G=bl[6]|0,this.H=bl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)vl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=vl[f-15],m=vl[f-2],y=fa(p,7)^fa(p,18)^p>>>3,w=fa(m,17)^fa(m,19)^m>>>10;vl[f]=w+vl[f-7]+y+vl[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const p=fa(a,6)^fa(a,11)^fa(a,25),m=d+p+dhe(a,c,u)+phe[f]+vl[f]|0,w=(fa(r,2)^fa(r,13)^fa(r,22))+hhe(r,i,s)|0;d=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,u,d)}roundClean(){vl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const ghe=lhe(()=>new mhe),p4="session:id",m4="session:secret",g4="session:linked";class Tf{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=ohe(ghe(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Gu(16),r=Gu(32);return new Tf(e,n,r).save()}static load(e){const n=e.getItem(p4),r=e.getItem(g4),i=e.getItem(m4);return n&&i?new Tf(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(p4,this.id),this.storage.setItem(m4,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(g4,this._linked?"1":"0")}}function yhe(){try{return window.frameElement!==null}catch{return!1}}function whe(){try{return yhe()&&window.top?window.top.location:window.location}catch{return window.location}}function bhe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function $7(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const vhe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function D7(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(vhe)),document.documentElement.appendChild(t)}function M7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=M7(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function cg(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=M7(t))&&(r&&(r+=" "),r+=e);return r}var c_,$n,L7,Yu,y4,B7,iI,pk,sI,oI,ey={},U7=[],_he=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,mk=Array.isArray;function Zl(t,e){for(var n in e)t[n]=e[n];return t}function F7(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function un(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?c_.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Mb(t,o,r,i,null)}function Mb(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++L7,__i:-1,__u:0};return i==null&&$n.vnode!=null&&$n.vnode(s),s}function l_(t){return t.children}function Lb(t,e){this.props=t,this.context=e}function Zf(t,e){if(e==null)return t.__?Zf(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Zf(t):null}function j7(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return j7(t)}}function w4(t){(!t.__d&&(t.__d=!0)&&Yu.push(t)&&!Dv.__r++||y4!==$n.debounceRendering)&&((y4=$n.debounceRendering)||B7)(Dv)}function Dv(){var t,e,n,r,i,s,o,a;for(Yu.sort(iI);t=Yu.shift();)t.__d&&(e=Yu.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Zl({},i)).__v=i.__v+1,$n.vnode&&$n.vnode(r),gk(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??Zf(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,V7(o,r,a),r.__e!=s&&j7(r)),Yu.length>e&&Yu.sort(iI));Dv.__r=0}function z7(t,e,n,r,i,s,o,a,c,u,d){var f,p,m,y,w,v=r&&r.__k||U7,E=e.length;for(n.__d=c,Ehe(n,e,v),c=n.__d,f=0;f<E;f++)(m=n.__k[f])!=null&&(p=m.__i===-1?ey:v[m.__i]||ey,m.__i=f,gk(t,m,p,i,s,o,a,c,u,d),y=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&yk(p.ref,null,m),d.push(m.ref,m.__c||y,m)),w==null&&y!=null&&(w=y),65536&m.__u||p.__k===m.__k?c=W7(m,c,t):typeof m.type=="function"&&m.__d!==void 0?c=m.__d:y&&(c=y.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=c,n.__e=w}function Ehe(t,e,n){var r,i,s,o,a,c=e.length,u=n.length,d=u,f=0;for(t.__k=[],r=0;r<c;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+f,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Mb(null,i,null,null,null):mk(i)?Mb(l_,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Mb(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=xhe(i,n,o,d))!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&f--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?f--:a==o+1?f++:(a>o?f--:f++,i.__u|=65536))):i=t.__k[r]=null;if(d)for(r=0;r<u;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Zf(s)),q7(s,s))}function W7(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=W7(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Zf(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function xhe(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&(131072&c.__u)==0)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return a;a++}}return-1}function b4(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||_he.test(e)?n:n+"px"}function Ww(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||b4(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||b4(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=pk,t.addEventListener(e,s?oI:sI,s)):t.removeEventListener(e,s?oI:sI,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function v4(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=pk++;else if(e.t<n.u)return;return n($n.event?$n.event(e):e)}}}function gk(t,e,n,r,i,s,o,a,c,u){var d,f,p,m,y,w,v,E,k,_,x,A,T,O,N,D,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(d=$n.__b)&&d(e);e:if(typeof F=="function")try{if(E=e.props,k="prototype"in F&&F.prototype.render,_=(d=F.contextType)&&r[d.__c],x=d?_?_.props.value:d.__:r,n.__c?v=(f=e.__c=n.__c).__=f.__E:(k?e.__c=f=new F(E,x):(e.__c=f=new Lb(E,x),f.constructor=F,f.render=Ahe),_&&_.sub(f),f.props=E,f.state||(f.state={}),f.context=x,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),k&&f.__s==null&&(f.__s=f.state),k&&F.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Zl({},f.__s)),Zl(f.__s,F.getDerivedStateFromProps(E,f.__s))),m=f.props,y=f.state,f.__v=e,p)k&&F.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),k&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(k&&F.getDerivedStateFromProps==null&&E!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(E,x),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(E,f.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(f.props=E,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(K){K&&(K.__=e)}),A=0;A<f._sb.length;A++)f.__h.push(f._sb[A]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(E,f.__s,x),k&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,y,w)})}if(f.context=x,f.props=E,f.__P=t,f.__e=!1,T=$n.__r,O=0,k){for(f.state=f.__s,f.__d=!1,T&&T(e),d=f.render(f.props,f.state,f.context),N=0;N<f._sb.length;N++)f.__h.push(f._sb[N]);f._sb=[]}else do f.__d=!1,T&&T(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++O<25);f.state=f.__s,f.getChildContext!=null&&(r=Zl(Zl({},r),f.getChildContext())),k&&!p&&f.getSnapshotBeforeUpdate!=null&&(w=f.getSnapshotBeforeUpdate(m,y)),z7(t,mk(D=d!=null&&d.type===l_&&d.key==null?d.props.children:d)?D:[D],e,n,r,i,s,o,a,c,u),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),v&&(f.__E=f.__=null)}catch(K){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;$n.__e(K,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=She(n.__e,e,n,r,i,s,o,c,u);(d=$n.diffed)&&d(e)}function V7(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)yk(n[r],n[++r],n[++r]);$n.__c&&$n.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){$n.__e(s,i.__v)}})}function She(t,e,n,r,i,s,o,a,c){var u,d,f,p,m,y,w,v=n.props,E=e.props,k=e.type;if(k==="svg"?i="http://www.w3.org/2000/svg":k==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((m=s[u])&&"setAttribute"in m==!!k&&(k?m.localName===k:m.nodeType===3)){t=m,s[u]=null;break}}if(t==null){if(k===null)return document.createTextNode(E);t=document.createElementNS(i,k,E.is&&E),a&&($n.__m&&$n.__m(e,s),a=!1),s=null}if(k===null)v===E||a&&t.data===E||(t.data=E);else{if(s=s&&c_.call(t.childNodes),v=n.props||ey,!a&&s!=null)for(v={},u=0;u<t.attributes.length;u++)v[(m=t.attributes[u]).name]=m.value;for(u in v)if(m=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=m;else if(!(u in E)){if(u=="value"&&"defaultValue"in E||u=="checked"&&"defaultChecked"in E)continue;Ww(t,u,null,m,i)}}for(u in E)m=E[u],u=="children"?p=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?y=m:u=="checked"?w=m:a&&typeof m!="function"||v[u]===m||Ww(t,u,m,v[u],i);if(d)a||f&&(d.__html===f.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(f&&(t.innerHTML=""),z7(t,mk(p)?p:[p],e,n,r,k==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&Zf(n,0),a,c),s!=null)for(u=s.length;u--;)F7(s[u]);a||(u="value",k==="progress"&&y==null?t.removeAttribute("value"):y!==void 0&&(y!==t[u]||k==="progress"&&!y||k==="option"&&y!==v[u])&&Ww(t,u,y,v[u],i),u="checked",w!==void 0&&w!==t[u]&&Ww(t,u,w,v[u],i))}return t}function yk(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){$n.__e(i,n)}}function q7(t,e,n){var r,i;if($n.unmount&&$n.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||yk(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){$n.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&q7(r[i],e,n||typeof t.type!="function");n||F7(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Ahe(t,e,n){return this.constructor(t,n)}function aI(t,e,n){var r,i,s,o;$n.__&&$n.__(t,e),i=(r=!1)?null:e.__k,s=[],o=[],gk(e,t=e.__k=un(l_,null,[t]),i||ey,ey,e.namespaceURI,i?null:e.firstChild?c_.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,o),V7(s,t,o)}c_=U7.slice,$n={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},L7=0,Lb.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Zl({},this.state),typeof t=="function"&&(t=t(Zl({},n),this.props)),t&&Zl(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),w4(this))},Lb.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),w4(this))},Lb.prototype.render=l_,Yu=[],B7=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,iI=function(t,e){return t.__v.__b-e.__v.__b},Dv.__r=0,pk=0,sI=v4(!1),oI=v4(!0);var ty,cr,V2,_4,cI=0,H7=[],wr=$n,E4=wr.__b,x4=wr.__r,S4=wr.diffed,A4=wr.__c,T4=wr.unmount,I4=wr.__;function wk(t,e){wr.__h&&wr.__h(cr,t,cI||e),cI=0;var n=cr.__H||(cr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function k4(t){return cI=1,The(G7,t)}function The(t,e,n){var r=wk(ty++,2);if(r.t=t,!r.__c&&(r.__=[G7(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=cr,!cr.u)){var i=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!s||s.call(this,a,c,u);var f=!1;return d.forEach(function(p){if(p.__N){var m=p.__[0];p.__=p.__N,p.__N=void 0,m!==p.__[0]&&(f=!0)}}),!(!f&&r.__c.props===a)&&(!s||s.call(this,a,c,u))};cr.u=!0;var s=cr.shouldComponentUpdate,o=cr.componentWillUpdate;cr.componentWillUpdate=function(a,c,u){if(this.__e){var d=s;s=void 0,i(a,c,u),s=d}o&&o.call(this,a,c,u)},cr.shouldComponentUpdate=i}return r.__N||r.__}function Ihe(t,e){var n=wk(ty++,3);!wr.__s&&K7(n.__H,e)&&(n.__=t,n.i=e,cr.__H.__h.push(n))}function Hze(t,e){var n=wk(ty++,7);return K7(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function khe(){for(var t;t=H7.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Bb),t.__H.__h.forEach(lI),t.__H.__h=[]}catch(e){t.__H.__h=[],wr.__e(e,t.__v)}}wr.__b=function(t){cr=null,E4&&E4(t)},wr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),I4&&I4(t,e)},wr.__r=function(t){x4&&x4(t),ty=0;var e=(cr=t.__c).__H;e&&(V2===cr?(e.__h=[],cr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Bb),e.__h.forEach(lI),e.__h=[],ty=0)),V2=cr},wr.diffed=function(t){S4&&S4(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(H7.push(e)!==1&&_4===wr.requestAnimationFrame||((_4=wr.requestAnimationFrame)||Che)(khe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),V2=cr=null},wr.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Bb),n.__h=n.__h.filter(function(r){return!r.__||lI(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],wr.__e(r,n.__v)}}),A4&&A4(t,e)},wr.unmount=function(t){T4&&T4(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Bb(r)}catch(i){e=i}}),n.__H=void 0,e&&wr.__e(e,n.__v))};var C4=typeof requestAnimationFrame=="function";function Che(t){var e,n=function(){clearTimeout(r),C4&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);C4&&(e=requestAnimationFrame(n))}function Bb(t){var e=cr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),cr=e}function lI(t){var e=cr;t.__c=t.__(),cr=e}function K7(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function G7(t,e){return typeof e=="function"?e(t):e}const Phe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",Ohe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Rhe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Y7{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=$7()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&aI(un("div",null,un(Z7,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>un(Nhe,Object.assign({},n,{key:e}))))),this.root)}}const Z7=t=>un("div",{class:cg("-cbwsdk-snackbar-container")},un("style",null,Phe),un("div",{class:"-cbwsdk-snackbar"},t.children)),Nhe=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=k4(!0),[s,o]=k4(t??!1);Ihe(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return un("div",{class:cg("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},un("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},un("img",{src:Ohe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",un("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),un("div",{class:"-gear-container"},!s&&un("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},un("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),un("img",{src:Rhe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&un("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,u)=>un("div",{class:cg("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:u},un("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},un("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),un("span",{class:cg("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))},J7="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class $he{constructor(){this.attached=!1,this.snackbar=new Y7}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,D7()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:J7,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const Dhe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Mhe{constructor(){this.root=null,this.darkMode=$7()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),D7()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(aI(null,this.root),e&&aI(un(Lhe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const Lhe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return un(Z7,{darkMode:n},un("div",{class:"-cbwsdk-redirect-dialog"},un("style",null,Dhe),un("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),un("div",{class:cg("-cbwsdk-redirect-dialog-box",s)},un("p",null,t),un("button",{onClick:r},e))))},Bhe="https://keys.coinbase.com/connect",Uhe="https://rpc.wallet.coinbase.com",P4="https://www.walletlink.org",Fhe="https://go.cb-w.com/walletlink";class O4{constructor(){this.attached=!1,this.redirectDialog=new Mhe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Fhe);n.searchParams.append("redirect_url",whe().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Sc{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=bhe(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(rI);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Sc.accountRequestCallbackIds.size>0&&(Array.from(Sc.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Sc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new nhe,this.ui=r,this.ui.attach()}subscribe(){const e=Tf.load(this.storage)||Tf.create(this.storage),{linkAPIUrl:n}=this,r=new the({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new O4:new $he;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=Tf.load(this.storage);(e==null?void 0:e.id)===this._session.id&&ja.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:ha(e.weiValue),data:og(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?ha(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?ha(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?ha(e.gasPriceInWei):null,gasLimit:e.gasLimit?ha(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:ha(e.weiValue),data:og(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?ha(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?ha(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?ha(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?ha(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:og(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Gu(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),li(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof O4)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Sc.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Sc.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Gu(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(li(a))return o(new Error(a.errorMessage));s(a)}),Sc.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const u=Gu(8),d=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}),new Promise((f,p)=>{this.relayEventManager.callbacks.set(u,m=>{if(c==null||c(),li(m))return p(new Error(m.errorMessage));f(m)}),this.publishWeb3RequestEvent(u,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const u=Gu(8),d=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}),new Promise((f,p)=>{this.relayEventManager.callbacks.set(u,m=>{if(c==null||c(),li(m))return p(new Error(m.errorMessage));f(m)}),this.publishWeb3RequestEvent(u,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Gu(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,u=>{if(i==null||i(),li(u)&&u.errorCode)return c(Gt.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(li(u))return c(new Error(u.errorMessage));a(u)}),this.publishWeb3RequestEvent(s,r)})}}Sc.accountRequestCallbackIds=new Set;const R4="DefaultChainId",N4="DefaultJsonRpcUrl";class X7{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new ja("walletlink",P4),this.callback=e.callback||null;const n=this._storage.getItem(rI);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>wl(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(N4))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(N4,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(R4,n.toString(10)),ag(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Yl(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Gt.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Gt.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Gt.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Gt.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,u=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r==null?void 0:r.toString());return li(u)?!1:!!u.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Gt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Gt.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Gt.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:u,iconUrls:d=[],nativeCurrency:f}=i,p=await o.addEthereumChain(s.toString(),a,d,c,u,f);if(li(p))return!1;if(((r=p.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Gt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(li(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>wl(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(rI,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Yl(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Gt.rpc.internal("No RPC URL set for chain");return hk(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=wl(e);if(!this._addresses.map(i=>wl(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?wl(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?wl(e.to):null,i=e.value!=null?fm(e.value):BigInt(0),s=e.data?nI(e.data):Buffer.alloc(0),o=e.nonce!=null?ag(e.nonce):null,a=e.gasPrice!=null?fm(e.gasPrice):null,c=e.maxFeePerGas!=null?fm(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?fm(e.maxPriorityFeePerGas):null,d=e.gas!=null?fm(e.gas):null,f=e.chainId?ag(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:d,chainId:f}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Gt.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:D2(r[0]),signature:D2(r[1]),addPrefix:n==="personal_ecRecover"}});if(li(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(R4))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Yl(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(li(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Yl(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Gt.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:wl(n),message:D2(r),addPrefix:!0,typedDataJson:null}});if(li(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(li(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=nI(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(li(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(li(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Gt.rpc.invalidParams();const i=u=>{const d={eth_signTypedData_v1:zw.hashForSignTypedDataLegacy,eth_signTypedData_v3:zw.hashForSignTypedData_v3,eth_signTypedData_v4:zw.hashForSignTypedData_v4,eth_signTypedData:zw.hashForSignTypedData_v4};return og(d[n]({data:kde(u)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:wl(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(li(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new Sc({linkAPIUrl:P4,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const Q7="SignerType",ez=new ja("CBWSDK","SignerConfigurator");function jhe(){return ez.getItem(Q7)}function zhe(t){ez.setItem(Q7,t)}async function Whe(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;qhe(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function Vhe(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new jde({metadata:n,callback:i,communicator:r});case"walletlink":return new X7({metadata:n,callback:i})}}async function qhe(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new X7({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Hhe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Khe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Hhe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Ghe,getCrossOriginOpenerPolicy:Yhe}=Khe(),$4=420,D4=540,Zhe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:J7,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Jhe="Popup was blocked. Try again.";let Vw=null;function Xhe(t){const e=(window.innerWidth-$4)/2+window.screenX,n=(window.innerHeight-D4)/2+window.screenY;efe(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${$4}, height=${D4}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}let i=r();if(!i){const s=tfe();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:Jhe,menuItems:[Object.assign(Object.assign({},Zhe),{onClick:()=>{i=r(),i?o(i):a(Gt.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function Qhe(t){t&&!t.closed&&t.close()}function efe(t){const e={sdkName:P7,sdkVersion:Gy,origin:window.location.origin,coop:Yhe()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function tfe(){if(!Vw){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Vw=new Y7,Vw.attach(t)}return Vw}class nfe{constructor({url:e=Bhe,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const u=c.data;i(u)&&(s(u),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{Qhe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Gt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await Xhe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Gy,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Gt.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function rfe(t){const e=xde(ife(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",Gy),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function ife(t){var e;if(typeof t=="string")return{message:t,code:sr.rpc.internal};if(li(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?sr.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class sfe extends Vd{}var ofe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class afe extends sfe{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=ofe(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new nfe({url:i,metadata:n,preference:s});const o=jhe();o&&(this.signer=this.initSigner(o))}async request(e){try{if(Fde(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,zhe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return hk(e,Uhe);case"net_version":return 1;case"eth_chainId":return Yl(1);default:throw Gt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===sr.provider.unauthorized&&this.disconnect(),Promise.reject(rfe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,ja.clearAll(),this.emit("disconnect",Gt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Whe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Vhe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function cfe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function lfe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=Ude(n))!==null&&e!==void 0?e:new afe(n)}const ufe={options:"all"};function M4(t){var e;new ja("CBWSDK").setItem("VERSION",Gy),Ghe();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(ufe,(e=t.preference)!==null&&e!==void 0?e:{})};cfe(r.preference);let i=null;return{getProvider:()=>(i||(i=lfe(r)),i)}}function dfe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function hfe(){const t=new Set;let e=[];const n=()=>dfe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const ffe=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},tz=t=>window.open(t==null?void 0:t.location,void 0,ffe({w:440,h:680})),nz="/api/v1/sessions",rz="/api/v1/sessions/logout",pfe="/api/v1/siwe/init",mfe="/api/v1/siwe/authenticate",gfe="/api/v1/siwe/link",yfe="/api/v1/siwe/link_smart_wallet",wfe="/api/v1/siwe/unlink",bfe="/api/v1/siwe/transfer",vfe="/api/v1/siws/init",_fe="/api/v1/siws/authenticate",Efe="/api/v1/siws/link",xfe="/api/v1/siws/unlink",Sfe="/api/v1/siws/transfer",Afe="/api/v1/farcaster/init",Tfe="/api/v1/farcaster/authenticate",Ife="/api/v1/farcaster/link",kfe="/api/v1/farcaster/status",Cfe="/api/v1/farcaster/unlink",Pfe="/api/v1/farcaster/transfer",Ofe="/api/v1/passwordless/init",Rfe="/api/v1/passwordless/authenticate",Nfe="/api/v1/passwordless/link",$fe="/api/v1/passwordless/unlink",Dfe="/api/v1/passwordless/update",Mfe="/api/v1/passwordless/transfer",Lfe="/api/v1/passwordless_sms/init",Bfe="/api/v1/passwordless_sms/link",Ufe="/api/v1/passwordless_sms/unlink",Ffe="/api/v1/passwordless_sms/authenticate",jfe="/api/v1/passwordless_sms/update",zfe="/api/v1/passwordless_sms/transfer",iz="/api/v1/oauth/init",sz="/api/v1/oauth/authenticate",oz="/api/v1/oauth/link",Wfe="/api/v1/oauth/unlink",Vfe="/api/v1/oauth/transfer",Kze="/api/v1/recovery/oauth/init",Gze="/api/v1/recovery/oauth/init_icloud",Yze="/api/v1/recovery/oauth/authenticate",qfe="/api/v1/passkeys/link/init",Hfe="/api/v1/passkeys/authenticate/init",Kfe="/api/v1/passkeys/register/init",Gfe="/api/v1/passkeys/link",Yfe="/api/v1/passkeys/authenticate",Zfe="/api/v1/passkeys/register",Jfe="/api/v1/telegram/authenticate",Xfe="/api/v1/telegram/link",Qfe="/api/v1/telegram/unlink",epe="/api/v1/telegram/transfer",tpe="/api/v1/mfa/passwordless_sms/init",npe="/api/v1/mfa/passkeys/init",rpe="/api/v1/users/me/accept_terms",az="/api/v1/analytics_events",ipe="/api/v1/custom_jwt_account/authenticate",spe="/api/v1/custom_jwt_account/link",ope="/api/v1/guest/authenticate",ape="/api/v1/plugins/moonpay_on_ramp/sign",cpe="/api/v1/funding/coinbase_on_ramp/init",lpe="/api/v1/funding/coinbase_on_ramp/status",upe="/api/v1/wallets/revoke",dpe="/api/v1/users/me",hpe="/api/v1/scan/transaction";function cz(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function fpe(t,e){let n=cz(e);if(qc.isMobile&&n.universalLink)return Mv(n.universalLink,t);if(n.deepLink)return uz(n.deepLink,t);if(n.universalLink)return Mv(n.universalLink,t);throw new ae(`Unsupported wallet ${e.id}`)}function L4(t,e){let n=cz(e);if(n.universalLink)return Mv(n.universalLink,t)}let bk="WALLETCONNECT_DEEPLINK_CHOICE";function ppe(){try{localStorage.removeItem(bk)}catch{}}function mpe({href:t,name:e}){try{localStorage.setItem(bk,JSON.stringify({href:t,name:e}))}catch{}}function gpe(){try{localStorage.removeItem(bk)}catch{}}function lz(t){return t.startsWith("http://")||t.startsWith("https://")}function uz(t,e){if(lz(t))return Mv(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Mv(t,e){if(!lz(t))return uz(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function dz(t,e){window.open(t,e,"noreferrer noopener")}const ype=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let hz=H.createContext({plugins:{current:{}}});const wpe=({children:t})=>{let e=H.useRef({});return U.jsx(hz.Provider,{value:{plugins:e},children:t})},bpe=()=>{let{plugins:t}=H.useContext(hz);return H.useCallback((e=>t.current[e]),[t])},vpe=Symbol("solana-funding-plugin"),_pe=Symbol("solana-ledger-plugin"),vk=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e))))??[],Epe=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),xpe=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:c,chainType:u,recoveryMethod:d,recoveryPassword:f,recoveryAccessToken:p})=>{if(c===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await qA(i,{request:{chain_type:u}});else if(u==="ethereum"){let w=J6(t);w&&await o({address:w.address}),await n.create({accessToken:e,solanaAddress:w==null?void 0:w.address,recoveryMethod:d,recoveryPassword:f,recoveryAccessToken:p})}else{if(u!=="solana")throw Error("Invalid input to create wallet");{let w=Ec(t);w&&await o({address:w.address}),await n.createSolana({accessToken:e,ethereumAddress:w==null?void 0:w.address,recoveryMethod:d,recoveryPassword:f,recoveryAccessToken:p})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await qA(i,{request:{chain_type:u}});else{let{entropyId:w,entropyIdVerifier:v}=Dl(t);await o(),await n.addWallet({accessToken:e,entropyId:w,entropyIdVerifier:v,chainType:u,hdWalletIndex:c})}let m=await r(),y=vk(m,{chainType:u,walletIndex:c})[0];return a(m),{user:m,account:y}};let B4=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:c,setModalData:u,openModal:d,chainType:f,setUser:p})=>{if(c<0)throw r("createWallet","onError",Ee.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${c}) is invalid.`);let m=Gg(a);if(c>0&&!m)throw r("createWallet","onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",Ee.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!m&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await U4({emitPrivyEvent:r,setModalData:u,openModal:d,chainType:f});let y=vk(a,{chainType:f,walletIndex:c})[0];if(y)return{user:a,account:y};if(c===0&&!i)return U4({emitPrivyEvent:r,setModalData:u,openModal:d,chainType:f});if(!i)throw r("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return xpe({appConfig:e,walletIndex:c,chainType:f,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:p})},U4=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")}));const Spe=()=>{let t=Ga(),e=s_(),{setModalData:n}=Yg(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:c,client:u}=qd();return{create:async({chainType:d,options:f,latestUser:p})=>{let m=p;if(m||(m=await a()),!m)throw e("createWallet","onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:y,getAccessToken:w,initializeWalletProxy:v,user:E,privy:k,emitPrivyEvent:_,recoverEmbeddedWallet:x,setModalData:A,openModal:T,setUser:O,options:N,timeoutDuration:D,refreshSessionAndUser:F,chainType:K})=>{var P,L;let[B,j]=await Promise.all([v(D),w()]);if(!j||!E)throw _("createWallet","onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!B&&((P=y.customAuth)!=null&&P.enabled))throw _("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(N&&"walletIndex"in N&&typeof N.walletIndex=="number"){if(y.embeddedWallets.mode==="user-controlled-server-wallets-only")throw _("createWallet","onError",Ee.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return B4({accessToken:j,appConfig:y,privy:k,emitPrivyEvent:_,openModal:T,proxy:B,refreshSessionAndUser:F,recoverEmbeddedWallet:x,setModalData:A,user:E,walletIndex:N.walletIndex,chainType:K,setUser:O})}let Y=N&&"createAdditional"in N&&N.createAdditional,I=vk(E,{chainType:K});if(I[0]&&!Y)throw _("createWallet","onError",Ee.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return B4({accessToken:j,appConfig:y,privy:k,emitPrivyEvent:_,openModal:T,proxy:B,recoverEmbeddedWallet:x,setModalData:A,user:E,walletIndex:(((L=Epe(I))==null?void 0:L.walletIndex)??-1)+1,chainType:K,refreshSessionAndUser:F,setUser:O})})({appConfig:t,privy:c,getAccessToken:()=>u.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:m,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:f,timeoutDuration:Rce,chainType:d})}}};function Ape(t){let{create:e}=Spe();return i_("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const Tpe=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a,additionalSigners:c})=>{if(!i)throw t("linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ae("User must be authenticated before linking an account.");let u=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(c&&u==="on-device")throw new ae("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[d,f]=await Promise.all([e(),n(15e3)]);if(!f||!d)throw t("linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ae("User must be authenticated before linking an account.");let{address:p}=await f.importWallet({privateKey:o,accessToken:d,chainType:a,mode:u,additionalSigners:c}),m=await r(),y=jT(m),w=y==null?void 0:y.find((v=>v.address===p));if(!w)throw t("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:w}),w},Ipe=()=>{let{user:t}=qy(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=qd(),i=s_(),s=Ga();return{importWallet:H.useCallback((({privateKey:o,additionalSigners:a})=>Tpe({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum",additionalSigners:a})),[t,e,n,r,i,s])}},u_=()=>{let{importWallet:t}=Ipe(),{createWallet:e}=Ape();return{...H.useContext(gp),importWallet:t,createWallet:e}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _k(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kpe(t,...e){if(!_k(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function fz(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function ny(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Yy(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function Lv(t){if(!Array.isArray(t))throw new Error("array expected")}function Bv(t,e){if(!fz(!0,e))throw new Error(`${t}: array of strings expected`)}function pz(t,e){if(!fz(!1,e))throw new Error(`${t}: array of numbers expected`)}function Ek(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function xk(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Bv("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(Lv(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(Lv(i),i.map(s=>{ny("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function Sk(t=""){return ny("join",t),{encode:e=>(Bv("join.decode",e),e.join(t)),decode:e=>(ny("join.decode",e),e.split(t))}}function mz(t,e="="){return Yy(t),ny("padding",e),{encode(n){for(Bv("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Bv("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function F4(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(Lv(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,a=>{if(Yy(a),a<0||a>=e)throw new Error(`invalid integer: ${a}`);return a}),o=s.length;for(;;){let a=0,c=!0;for(let u=r;u<o;u++){const d=s[u],f=e*a,p=f+d;if(!Number.isSafeInteger(p)||f/e!==a||p-d!==f)throw new Error("convertRadix: carry overflow");const m=p/n;a=p%n;const y=Math.floor(m);if(s[u]=y,!Number.isSafeInteger(y)||y*n+a!==p)throw new Error("convertRadix: carry overflow");if(c)y?c=!1:r=u;else continue}if(i.push(a),c)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}const gz=(t,e)=>e===0?t:gz(e,t%e),Uv=(t,e)=>t+(e-gz(t,e)),q2=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function j4(t,e,n,r){if(Lv(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Uv(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Uv(e,n)}`);let i=0,s=0;const o=q2[e],a=q2[n]-1,c=[];for(const u of t){if(Yy(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const d=q2[s];if(d===void 0)throw new Error("invalid carry");i&=d-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function Cpe(t){Yy(t);const e=2**8;return{encode:n=>{if(!_k(n))throw new Error("radix.encode input should be Uint8Array");return F4(Array.from(n),e,t)},decode:n=>(pz("radix.decode",n),Uint8Array.from(F4(n,t,e)))}}function yz(t,e=!1){if(Yy(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Uv(8,t)>32||Uv(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!_k(n))throw new Error("radix2.encode input should be Uint8Array");return j4(Array.from(n),8,t,!e)},decode:n=>(pz("radix2.decode",n),Uint8Array.from(j4(n,t,8,e)))}}const Ppe=Ek(yz(5),xk("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),mz(5),Sk("")),Ope=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",Rpe=(t,e)=>{ny("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},H2=Ope?{encode(t){return kpe(t),t.toBase64()},decode(t){return Rpe(t)}}:Ek(yz(6),xk("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),mz(6),Sk("")),Npe=t=>Ek(Cpe(58),xk(t),Sk("")),$pe=Npe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Dpe=QL(),Mpe=Object.defineProperty,Lpe=(t,e,n)=>e in t?Mpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K2=(t,e,n)=>(Lpe(t,typeof e!="symbol"?e+"":e,n),n);let Bpe=class{constructor(){K2(this,"current",this.detect()),K2(this,"handoffState","pending"),K2(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Oa=new Bpe;function Zy(t){var e;return Oa.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function Fv(t){var e,n;return Oa.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function Ak(t){var e,n;return(n=(e=Fv(t))==null?void 0:e.activeElement)!=null?n:null}function Upe(t){return Ak(t)===t}function d_(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Qo(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return d_(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Qo();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function h_(){let[t]=H.useState(Qo);return H.useEffect(()=>()=>t.dispose(),[t]),t}let us=(t,e)=>{Oa.isServer?H.useEffect(t,e):H.useLayoutEffect(t,e)};function Yd(t){let e=H.useRef(t);return us(()=>{e.current=t},[t]),e}let mn=function(t){let e=Yd(t);return Ke.useCallback((...n)=>e.current(...n),[e])};function Jy(t){return H.useMemo(()=>t,Object.values(t))}let Fpe=H.createContext(void 0);function jpe(){return H.useContext(Fpe)}function uI(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Hc(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Hc),r}var jv=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(jv||{}),Jl=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Jl||{});function wo(){let t=Wpe();return H.useCallback(e=>zpe({mergeRefs:t,...e}),[t])}function zpe({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??Vpe;let c=wz(e,t);if(s)return qw(c,n,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...f}=c;if(d)return qw(f,n,r,o,a)}if(u&1){let{unmount:d=!0,...f}=c;return Hc(d?0:1,{0(){return null},1(){return qw({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return qw(c,n,r,o,a)}function qw(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...c}=G2(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(e){let p=!1,m=[];for(let[y,w]of Object.entries(e))typeof w=="boolean"&&(p=!0),w===!0&&m.push(y.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(p){f["data-headlessui-state"]=m.join(" ");for(let y of m)f[`data-${y}`]=""}}if(lg(s)&&(Object.keys(Wu(c)).length>0||Object.keys(Wu(f)).length>0))if(!H.isValidElement(d)||Array.isArray(d)&&d.length>1||Hpe(d)){if(Object.keys(Wu(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Wu(c)).concat(Object.keys(Wu(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,m=p==null?void 0:p.className,y=typeof m=="function"?(...E)=>uI(m(...E),c.className):uI(m,c.className),w=y?{className:y}:{},v=wz(d.props,Wu(G2(c,["ref"])));for(let E in f)E in v&&delete f[E];return H.cloneElement(d,Object.assign({},v,f,u,{ref:i(qpe(d),u.ref)},w))}return H.createElement(s,Object.assign({},G2(c,["ref"]),!lg(s)&&u,!lg(s)&&f),d)}function Wpe(){let t=H.useRef([]),e=H.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Vpe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function wz(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Jze(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function ps(t){var e;return Object.assign(H.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Wu(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function G2(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function qpe(t){return Ke.version.split(".")[0]>="19"?t.props.ref:t.ref}function lg(t){return t===H.Fragment||t===Symbol.for("react.fragment")}function Hpe(t){return lg(t.type)}let Kpe="span";var zv=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(zv||{});function Gpe(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return wo()({ourProps:s,theirProps:i,slot:{},defaultTag:Kpe,name:"Hidden"})}let dI=ps(Gpe);function Ype(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Bc(t){return Ype(t)&&"tagName"in t}function za(t){return Bc(t)&&"accessKey"in t}function Oc(t){return Bc(t)&&"tabIndex"in t}function Zpe(t){return Bc(t)&&"style"in t}function Jpe(t){return za(t)&&t.nodeName==="IFRAME"}function Xpe(t){return za(t)&&t.nodeName==="INPUT"}function Xze(t){return za(t)&&t.nodeName==="LABEL"}function Qze(t){return za(t)&&t.nodeName==="FIELDSET"}function eWe(t){return za(t)&&t.nodeName==="LEGEND"}function tWe(t){return Bc(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let bz=Symbol();function Qpe(t,e=!0){return Object.assign(t,{[bz]:e})}function Ya(...t){let e=H.useRef(t);H.useEffect(()=>{e.current=t},[t]);let n=mn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[bz]))?void 0:n}let Tk=H.createContext(null);Tk.displayName="DescriptionContext";function vz(){let t=H.useContext(Tk);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,vz),e}return t}function eme(){let[t,e]=H.useState([]);return[t.length>0?t.join(" "):void 0,H.useMemo(()=>function(n){let r=mn(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),c=a.indexOf(s);return c!==-1&&a.splice(c,1),a}))),i=H.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ke.createElement(Tk.Provider,{value:i},n.children)},[e])]}let tme="p";function nme(t,e){let n=H.useId(),r=jpe(),{id:i=`headlessui-description-${n}`,...s}=t,o=vz(),a=Ya(e);us(()=>o.register(i),[i,o.register]);let c=Jy({...o.slot,disabled:r||!1}),u={ref:a,...o.props,id:i};return wo()({ourProps:u,theirProps:s,slot:c,defaultTag:tme,name:o.name||"Description"})}let rme=ps(nme),ime=Object.assign(rme,{});var _z=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(_z||{});let sme=H.createContext(()=>{});function ome({value:t,children:e}){return Ke.createElement(sme.Provider,{value:t},e)}let Ez=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var ame=Object.defineProperty,cme=(t,e,n)=>e in t?ame(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lme=(t,e,n)=>(cme(t,e+"",n),n),xz=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Gs=(t,e,n)=>(xz(t,e,"read from private field"),n?n.call(t):e.get(t)),Y2=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},z4=(t,e,n,r)=>(xz(t,e,"write to private field"),e.set(t,n),n),_a,Hm,Km;let ume=class{constructor(e){Y2(this,_a,{}),Y2(this,Hm,new Ez(()=>new Set)),Y2(this,Km,new Set),lme(this,"disposables",Qo()),z4(this,_a,e),Oa.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Gs(this,_a)}subscribe(e,n){if(Oa.isServer)return()=>{};let r={selector:e,callback:n,current:e(Gs(this,_a))};return Gs(this,Km).add(r),this.disposables.add(()=>{Gs(this,Km).delete(r)})}on(e,n){return Oa.isServer?()=>{}:(Gs(this,Hm).get(e).add(n),this.disposables.add(()=>{Gs(this,Hm).get(e).delete(n)}))}send(e){let n=this.reduce(Gs(this,_a),e);if(n!==Gs(this,_a)){z4(this,_a,n);for(let r of Gs(this,Km)){let i=r.selector(Gs(this,_a));Sz(r.current,i)||(r.current=i,r.callback(i))}for(let r of Gs(this,Hm).get(e.type))r(Gs(this,_a),e)}}};_a=new WeakMap,Hm=new WeakMap,Km=new WeakMap;function Sz(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Z2(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Z2(t.entries(),e.entries()):W4(t)&&W4(e)?Z2(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Z2(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function W4(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function iWe(t){let[e,n]=t(),r=Qo();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var dme=Object.defineProperty,hme=(t,e,n)=>e in t?dme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V4=(t,e,n)=>(hme(t,typeof e!="symbol"?e+"":e,n),n),fme=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(fme||{});let pme={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},mme=class Az extends ume{constructor(){super(...arguments),V4(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),V4(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new Az({stack:[]})}reduce(e,n){return Hc(n.type,pme,e,n)}};const Tz=new Ez(()=>mme.new());var J2={exports:{}},X2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function gme(){if(q4)return X2;q4=1;var t=Ey();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return X2.useSyncExternalStoreWithSelector=function(c,u,d,f,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function v(A){if(!E){if(E=!0,k=A,A=f(A),p!==void 0&&y.hasValue){var T=y.value;if(p(T,A))return _=T}return _=A}if(T=_,n(k,A))return T;var O=f(A);return p!==void 0&&p(T,O)?(k=A,T):(k=A,_=O)}var E=!1,k,_,x=d===void 0?null:d;return[function(){return v(u())},x===null?void 0:function(){return v(x())}]},[u,d,f,p]);var w=r(c,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),a(w),w},X2}var H4;function yme(){return H4||(H4=1,J2.exports=gme()),J2.exports}var wme=yme();function Iz(t,e,n=Sz){return wme.useSyncExternalStoreWithSelector(mn(r=>t.subscribe(bme,r)),mn(()=>t.state),mn(()=>t.state),mn(e),n)}function bme(t){return t}function Xy(t,e){let n=H.useId(),r=Tz.get(e),[i,s]=Iz(r,H.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return us(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let hI=new Map,ug=new Map;function K4(t){var e;let n=(e=ug.get(t))!=null?e:0;return ug.set(t,n+1),n!==0?()=>G4(t):(hI.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>G4(t))}function G4(t){var e;let n=(e=ug.get(t))!=null?e:1;if(n===1?ug.delete(t):ug.set(t,n-1),n!==1)return;let r=hI.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,hI.delete(t))}function vme(t,{allowed:e,disallowed:n}={}){let r=Xy(t,"inert-others");us(()=>{var i,s;if(!r)return;let o=Qo();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&o.add(K4(c));let a=(s=e==null?void 0:e())!=null?s:[];for(let c of a){if(!c)continue;let u=Zy(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)a.some(p=>f.contains(p))||o.add(K4(f));d=d.parentElement}}return o.dispose},[r,e,n])}function _me(t,e,n){let r=Yd(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});H.useEffect(()=>{if(!t)return;let i=e===null?null:za(e)?e:e.current;if(!i)return;let s=Qo();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Wv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Eme=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var kc=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(kc||{}),fI=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(fI||{}),xme=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(xme||{});function kz(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Wv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Sme(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Eme)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Cz=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Cz||{});function Pz(t,e=0){var n;return t===((n=Zy(t))==null?void 0:n.body)?!1:Hc(e,{0(){return t.matches(Wv)},1(){let r=t;for(;r!==null;){if(r.matches(Wv))return!0;r=r.parentElement}return!1}})}function sWe(t){Qo().nextFrame(()=>{let e=Ak(t);e&&Oc(e)&&!Pz(e,0)&&Ra(t)})}var Ame=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Ame||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ra(t){t==null||t.focus({preventScroll:!0})}let Tme=["textarea","input"].join(",");function Ime(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Tme))!=null?n:!1}function kme(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function oWe(t,e,n=t===null?document.body:Fv(t)){return If(kz(n),e,{relativeTo:t})}function If(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?Fv(t[0]):document:Fv(t),o=Array.isArray(t)?n?kme(t):t:e&64?Sme(t):kz(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===m:y===m))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=o.length,p;do{if(d>=f||d+f<=0)return 0;let m=c+d;if(e&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=o[m],p==null||p.focus(u),d+=a}while(p!==Ak(p));return e&6&&Ime(p)&&p.select(),2}function Oz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Cme(){return/Android/gi.test(window.navigator.userAgent)}function Y4(){return Oz()||Cme()}function Hw(t,e,n,r){let i=Yd(n);H.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function Rz(t,e,n,r){let i=Yd(n);H.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Z4=30;function Pme(t,e,n){let r=Yd(n),i=H.useCallback(function(a,c){if(a.defaultPrevented)return;let u=c(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=(function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]})(e);for(let f of d)if(f!==null&&(f.contains(u)||a.composed&&a.composedPath().includes(f)))return;return!Pz(u,Cz.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,e]),s=H.useRef(null);Hw(t,"pointerdown",a=>{var c,u;Y4()||(s.current=((u=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:u[0])||a.target)},!0),Hw(t,"pointerup",a=>{if(Y4()||!s.current)return;let c=s.current;return s.current=null,i(a,()=>c)},!0);let o=H.useRef({x:0,y:0});Hw(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Hw(t,"touchend",a=>{let c={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=Z4||Math.abs(c.y-o.current.y)>=Z4))return i(a,()=>Oc(a.target)?a.target:null)},!0),Rz(t,"blur",a=>i(a,()=>Jpe(window.document.activeElement)?window.document.activeElement:null),!0)}function Ik(...t){return H.useMemo(()=>Zy(...t),[...t])}function Nz(t,e,n,r){let i=Yd(n);H.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function Ome(t){return H.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Rme(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function Nme(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function $me(){return Oz()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Qo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Oc(a.target))try{let c=a.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);Oc(d)&&!r(d)&&(o=d)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",c=>{if(a.dispose(),Oc(c.target)&&Zpe(c.target))if(r(c.target)){let u=c.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;a.style(u,"overscrollBehavior","contain")}else a.style(c.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Oc(a.target)){if(Xpe(a.target))return;if(r(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Dme(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function J4(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let rd=Rme(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Qo(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=J4(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=J4(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[$me(),Nme(),Dme()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});rd.subscribe(()=>{let t=rd.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&rd.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&rd.dispatch("TEARDOWN",n)}});function Mme(t,e,n=()=>({containers:[]})){let r=Ome(rd),i=e?r.get(e):void 0,s=i?i.count>0:!1;return us(()=>{if(!(!e||!t))return rd.dispatch("PUSH",e,n),()=>rd.dispatch("POP",e,n)},[t,e]),s}function Lme(t,e,n=()=>[document.body]){let r=Xy(t,"scroll-lock");Mme(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Bme(t=0){let[e,n]=H.useState(t),r=H.useCallback(c=>n(c),[]),i=H.useCallback(c=>n(u=>u|c),[]),s=H.useCallback(c=>(e&c)===c,[e]),o=H.useCallback(c=>n(u=>u&~c),[]),a=H.useCallback(c=>n(u=>u^c),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Ume={},X4,Q4;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((X4=process==null?void 0:Ume)==null?void 0:X4.NODE_ENV)==="test"&&typeof((Q4=Element==null?void 0:Element.prototype)==null?void 0:Q4.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Fme=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Fme||{});function jme(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function zme(t,e,n,r){let[i,s]=H.useState(n),{hasFlag:o,addFlag:a,removeFlag:c}=Bme(t&&i?3:0),u=H.useRef(!1),d=H.useRef(!1),f=h_();return us(()=>{var p;if(t){if(n&&s(!0),!e){n&&a(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),Wme(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),c(4)):(a(4),c(2)))},run(){d.current?n?(c(3),a(4)):(c(4),a(3)):n?c(1):a(1)},done(){var m;d.current&&Hme(e)||(u.current=!1,c(7),n||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,n))}})}},[t,n,e,f]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Wme(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Qo();return qme(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(Vme(t,r))})}),s.dispose}function Vme(t,e){var n,r;let i=Qo();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function qme(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Hme(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function kk(t,e){let n=H.useRef([]),r=mn(t);H.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}let f_=H.createContext(null);f_.displayName="OpenClosedContext";var Wo=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Wo||{});function p_(){return H.useContext(f_)}function Kme({value:t,children:e}){return Ke.createElement(f_.Provider,{value:t},e)}function Gme({children:t}){return Ke.createElement(f_.Provider,{value:null},t)}function Yme(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Wl=[];Yme(()=>{function t(e){if(!Oc(e.target)||e.target===document.body||Wl[0]===e.target)return;let n=e.target;n=n.closest(Wv),Wl.unshift(n??e.target),Wl=Wl.filter(r=>r!=null&&r.isConnected),Wl.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function $z(t){let e=mn(t),n=H.useRef(!1);H.useEffect(()=>(n.current=!1,()=>{n.current=!0,d_(()=>{n.current&&e()})}),[e])}let Dz=H.createContext(!1);function Zme(){return H.useContext(Dz)}function eN(t){return Ke.createElement(Dz.Provider,{value:t.force},t.children)}function Jme(t){let e=Zme(),n=H.useContext(Lz),[r,i]=H.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Oa.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return H.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),H.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Mz=H.Fragment,Xme=ps(function(t,e){let{ownerDocument:n=null,...r}=t,i=H.useRef(null),s=Ya(Qpe(p=>{i.current=p}),e),o=Ik(i.current),a=n??o,c=Jme(a),u=H.useContext(pI),d=h_(),f=wo();return $z(()=>{var p;c&&c.childNodes.length<=0&&((p=c.parentElement)==null||p.removeChild(c))}),c?Dpe.createPortal(Ke.createElement("div",{"data-headlessui-portal":"",ref:p=>{d.dispose(),u&&p&&d.add(u.register(p))}},f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Mz,name:"Portal"})),c):null});function Qme(t,e){let n=Ya(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=wo();return r?Ke.createElement(Xme,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Mz,name:"Portal"})}let ege=H.Fragment,Lz=H.createContext(null);function tge(t,e){let{target:n,...r}=t,i={ref:Ya(e)},s=wo();return Ke.createElement(Lz.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:ege,name:"Popover.Group"}))}let pI=H.createContext(null);function nge(){let t=H.useContext(pI),e=H.useRef([]),n=mn(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=mn(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=H.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,H.useMemo(()=>function({children:s}){return Ke.createElement(pI.Provider,{value:i},s)},[i])]}let rge=ps(Qme),Bz=ps(tge),ige=Object.assign(rge,{Group:Bz});function sge(t,e=typeof document<"u"?document.defaultView:null,n){let r=Xy(t,"escape");Nz(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===_z.Escape&&n(i))})}function oge(){var t;let[e]=H.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=H.useState((t=e==null?void 0:e.matches)!=null?t:!1);return us(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function age({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=mn(()=>{var i,s;let o=Zy(n),a=[];for(let c of t)c!==null&&(Bc(c)?a.push(c):"current"in c&&Bc(c.current)&&a.push(c.current));if(e!=null&&e.current)for(let c of e.current)a.push(c);for(let c of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Bc(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(u=>c.contains(u))||a.push(c));return a});return{resolveContainers:r,contains:mn(i=>r().some(s=>s.contains(i)))}}let Uz=H.createContext(null);function tN({children:t,node:e}){let[n,r]=H.useState(null),i=Fz(e??n);return Ke.createElement(Uz.Provider,{value:i},t,i===null&&Ke.createElement(dI,{features:zv.Hidden,ref:s=>{var o,a;if(s){for(let c of(a=(o=Zy(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(c!==document.body&&c!==document.head&&Bc(c)&&c!=null&&c.contains(s)){r(c);break}}}}))}function Fz(t=null){var e;return(e=H.useContext(Uz))!=null?e:t}function cge(){let t=typeof document>"u";return"useSyncExternalStore"in j8?(e=>e.useSyncExternalStore)(j8)(()=>()=>{},()=>!1,()=>!t):!1}function m_(){let t=cge(),[e,n]=H.useState(Oa.isHandoffComplete);return e&&Oa.isHandoffComplete===!1&&n(!1),H.useEffect(()=>{e!==!0&&n(!0)},[e]),H.useEffect(()=>Oa.handoff(),[]),t?!1:e}function Ck(){let t=H.useRef(!1);return us(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Gm=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Gm||{});function lge(){let t=H.useRef(0);return Rz(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function jz(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Bc(n.current)&&e.add(n.current);return e}let uge="div";var Zu=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Zu||{});function dge(t,e){let n=H.useRef(null),r=Ya(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...c}=t;m_()||(a=0);let u=Ik(n.current);mge(a,{ownerDocument:u});let d=gge(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});yge(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let f=lge(),p=mn(k=>{if(!za(n.current))return;let _=n.current;(x=>x())(()=>{Hc(f.current,{[Gm.Forwards]:()=>{If(_,kc.First,{skipElements:[k.relatedTarget,s]})},[Gm.Backwards]:()=>{If(_,kc.Last,{skipElements:[k.relatedTarget,s]})}})})}),m=Xy(!!(a&2),"focus-trap#tab-lock"),y=h_(),w=H.useRef(!1),v={ref:r,onKeyDown(k){k.key=="Tab"&&(w.current=!0,y.requestAnimationFrame(()=>{w.current=!1}))},onBlur(k){if(!(a&4))return;let _=jz(o);za(n.current)&&_.add(n.current);let x=k.relatedTarget;Oc(x)&&x.dataset.headlessuiFocusGuard!=="true"&&(zz(_,x)||(w.current?If(n.current,Hc(f.current,{[Gm.Forwards]:()=>kc.Next,[Gm.Backwards]:()=>kc.Previous})|kc.WrapAround,{relativeTo:k.target}):Oc(k.target)&&Ra(k.target)))}},E=wo();return Ke.createElement(Ke.Fragment,null,m&&Ke.createElement(dI,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:zv.Focusable}),E({ourProps:v,theirProps:c,defaultTag:uge,name:"FocusTrap"}),m&&Ke.createElement(dI,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:zv.Focusable}))}let hge=ps(dge),fge=Object.assign(hge,{features:Zu});function pge(t=!0){let e=H.useRef(Wl.slice());return kk(([n],[r])=>{r===!0&&n===!1&&d_(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Wl.slice())},[t,Wl,e]),mn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function mge(t,{ownerDocument:e}){let n=!!(t&8),r=pge(n);kk(()=>{n||Upe(e==null?void 0:e.body)&&Ra(r())},[n]),$z(()=>{n&&Ra(r())})}function gge(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=H.useRef(null),o=Xy(!!(t&1),"focus-trap#initial-focus"),a=Ck();return kk(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Ra(i.current);return}let c=n.current;c&&d_(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(c.contains(u)){s.current=u;return}if(r!=null&&r.current)Ra(r.current);else{if(t&16){if(If(c,kc.First|kc.AutoFocus)!==fI.Error)return}else if(If(c,kc.First)!==fI.Error)return;if(i!=null&&i.current&&(Ra(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function yge(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Ck(),o=!!(t&4);Nz(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let c=jz(r);za(n.current)&&c.add(n.current);let u=i.current;if(!u)return;let d=a.target;za(d)?zz(c,d)?(i.current=d,Ra(d)):(a.preventDefault(),a.stopPropagation(),Ra(u)):Ra(i.current)},!0)}function zz(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Wz(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!lg((e=t.as)!=null?e:qz)||Ke.Children.count(t.children)===1}let g_=H.createContext(null);g_.displayName="TransitionContext";var wge=(t=>(t.Visible="visible",t.Hidden="hidden",t))(wge||{});function bge(){let t=H.useContext(g_);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function vge(){let t=H.useContext(y_);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let y_=H.createContext(null);y_.displayName="NestingContext";function w_(t){return"children"in t?w_(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Vz(t,e){let n=Yd(t),r=H.useRef([]),i=Ck(),s=h_(),o=mn((m,y=Jl.Hidden)=>{let w=r.current.findIndex(({el:v})=>v===m);w!==-1&&(Hc(y,{[Jl.Unmount](){r.current.splice(w,1)},[Jl.Hidden](){r.current[w].state="hidden"}}),s.microTask(()=>{var v;!w_(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),a=mn(m=>{let y=r.current.find(({el:w})=>w===m);return y?y.state!=="visible"&&(y.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,Jl.Unmount)}),c=H.useRef([]),u=H.useRef(Promise.resolve()),d=H.useRef({enter:[],leave:[]}),f=mn((m,y,w)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([v])=>v!==m)),e==null||e.chains.current[y].push([m,new Promise(v=>{c.current.push(v)})]),e==null||e.chains.current[y].push([m,new Promise(v=>{Promise.all(d.current[y].map(([E,k])=>k)).then(()=>v())})]),y==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>w(y)):w(y)}),p=mn((m,y,w)=>{Promise.all(d.current[y].splice(0).map(([v,E])=>E)).then(()=>{var v;(v=c.current.shift())==null||v()}).then(()=>w(y))});return H.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:p,wait:u,chains:d}),[a,o,r,f,p,d,u])}let qz=H.Fragment,Hz=jv.RenderStrategy;function _ge(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:p,leave:m,leaveFrom:y,leaveTo:w,...v}=t,[E,k]=H.useState(null),_=H.useRef(null),x=Wz(t),A=Ya(...x?[_,e,k]:e===null?[]:[e]),T=(n=v.unmount)==null||n?Jl.Unmount:Jl.Hidden,{show:O,appear:N,initial:D}=bge(),[F,K]=H.useState(O?"visible":"hidden"),B=vge(),{register:j,unregister:Y}=B;us(()=>j(_),[j,_]),us(()=>{if(T===Jl.Hidden&&_.current){if(O&&F!=="visible"){K("visible");return}return Hc(F,{hidden:()=>Y(_),visible:()=>j(_)})}},[F,_,j,Y,O,T]);let I=m_();us(()=>{if(x&&I&&F==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,F,I,x]);let P=D&&!N,L=N&&O&&D,M=H.useRef(!1),R=Vz(()=>{M.current||(K("hidden"),Y(_))},B),z=mn(ye=>{M.current=!0;let xe=ye?"enter":"leave";R.onStart(_,xe,we=>{we==="enter"?s==null||s():we==="leave"&&(a==null||a())})}),W=mn(ye=>{let xe=ye?"enter":"leave";M.current=!1,R.onStop(_,xe,we=>{we==="enter"?o==null||o():we==="leave"&&(c==null||c())}),xe==="leave"&&!w_(R)&&(K("hidden"),Y(_))});H.useEffect(()=>{x&&i||(z(O),W(O))},[O,x,i]);let G=!(!i||!x||!I||P),[,ie]=zme(G,E,O,{start:z,end:W}),te=Wu({ref:A,className:((r=uI(v.className,L&&u,L&&d,ie.enter&&u,ie.enter&&ie.closed&&d,ie.enter&&!ie.closed&&f,ie.leave&&m,ie.leave&&!ie.closed&&y,ie.leave&&ie.closed&&w,!ie.transition&&O&&p))==null?void 0:r.trim())||void 0,...jme(ie)}),ee=0;F==="visible"&&(ee|=Wo.Open),F==="hidden"&&(ee|=Wo.Closed),O&&F==="hidden"&&(ee|=Wo.Opening),!O&&F==="visible"&&(ee|=Wo.Closing);let pe=wo();return Ke.createElement(y_.Provider,{value:R},Ke.createElement(Kme,{value:ee},pe({ourProps:te,theirProps:v,defaultTag:qz,features:Hz,visible:F==="visible",name:"Transition.Child"})))}function Ege(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=H.useRef(null),a=Wz(t),c=Ya(...a?[o,e]:e===null?[]:[e]);m_();let u=p_();if(n===void 0&&u!==null&&(n=(u&Wo.Open)===Wo.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=H.useState(n?"visible":"hidden"),p=Vz(()=>{n||f("hidden")}),[m,y]=H.useState(!0),w=H.useRef([n]);us(()=>{m!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),y(!1))},[w,n]);let v=H.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);us(()=>{n?f("visible"):!w_(p)&&o.current!==null&&f("hidden")},[n,p]);let E={unmount:i},k=mn(()=>{var A;m&&y(!1),(A=t.beforeEnter)==null||A.call(t)}),_=mn(()=>{var A;m&&y(!1),(A=t.beforeLeave)==null||A.call(t)}),x=wo();return Ke.createElement(y_.Provider,{value:p},Ke.createElement(g_.Provider,{value:v},x({ourProps:{...E,as:H.Fragment,children:Ke.createElement(Kz,{ref:c,...E,...s,beforeEnter:k,beforeLeave:_})},theirProps:{},defaultTag:H.Fragment,features:Hz,visible:d==="visible",name:"Transition"})))}function xge(t,e){let n=H.useContext(g_)!==null,r=p_()!==null;return Ke.createElement(Ke.Fragment,null,!n&&r?Ke.createElement(mI,{ref:e,...t}):Ke.createElement(Kz,{ref:e,...t}))}let mI=ps(Ege),Kz=ps(_ge),ry=ps(xge),Gz=Object.assign(mI,{Child:ry,Root:mI});var Sge=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Sge||{}),Age=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Age||{});let Tge={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Pk=H.createContext(null);Pk.displayName="DialogContext";function b_(t){let e=H.useContext(Pk);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,b_),n}return e}function Ige(t,e){return Hc(e.type,Tge,t,e)}let nN=ps(function(t,e){let n=H.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=t,p=H.useRef(!1);a=(function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let m=p_();i===void 0&&m!==null&&(i=(m&Wo.Open)===Wo.Open);let y=H.useRef(null),w=Ya(y,e),v=Ik(y.current),E=i?0:1,[k,_]=H.useReducer(Ige,{titleId:null,descriptionId:null,panelRef:H.createRef()}),x=mn(()=>s(!1)),A=mn(ie=>_({type:0,id:ie})),T=m_()?E===0:!1,[O,N]=nge(),D={get current(){var ie;return(ie=k.panelRef.current)!=null?ie:y.current}},F=Fz(),{resolveContainers:K}=age({mainTreeNode:F,portals:O,defaultContainers:[D]}),B=m!==null?(m&Wo.Closing)===Wo.Closing:!1;vme(u||B?!1:T,{allowed:mn(()=>{var ie,te;return[(te=(ie=y.current)==null?void 0:ie.closest("[data-headlessui-portal]"))!=null?te:null]}),disallowed:mn(()=>{var ie;return[(ie=F==null?void 0:F.closest("body > *:not(#headlessui-portal-root)"))!=null?ie:null]})});let j=Tz.get(null);us(()=>{if(T)return j.actions.push(r),()=>j.actions.pop(r)},[j,r,T]);let Y=Iz(j,H.useCallback(ie=>j.selectors.isTop(ie,r),[j,r]));Pme(Y,K,ie=>{ie.preventDefault(),x()}),sge(Y,v==null?void 0:v.defaultView,ie=>{ie.preventDefault(),ie.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),x()}),Lme(u||B?!1:T,v,K),_me(T,y,x);let[I,P]=eme(),L=H.useMemo(()=>[{dialogState:E,close:x,setTitleId:A,unmount:d},k],[E,x,A,d,k]),M=Jy({open:E===0}),R={ref:w,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:E===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":I,unmount:d},z=!oge(),W=Zu.None;T&&!u&&(W|=Zu.RestoreFocus,W|=Zu.TabLock,c&&(W|=Zu.AutoFocus),z&&(W|=Zu.InitialFocus));let G=wo();return Ke.createElement(Gme,null,Ke.createElement(eN,{force:!0},Ke.createElement(ige,null,Ke.createElement(Pk.Provider,{value:L},Ke.createElement(Bz,{target:y},Ke.createElement(eN,{force:!1},Ke.createElement(P,{slot:M},Ke.createElement(N,null,Ke.createElement(fge,{initialFocus:o,initialFocusFallback:y,containers:K,features:W},Ke.createElement(ome,{value:x},G({ourProps:R,theirProps:f,slot:M,defaultTag:kge,features:Cge,visible:E===0,name:"Dialog"})))))))))))}),kge="div",Cge=jv.RenderStrategy|jv.Static;function Pge(t,e){let{transition:n=!1,open:r,...i}=t,s=p_(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ke.createElement(tN,null,Ke.createElement(Gz,{show:r,transition:n,unmount:i.unmount},Ke.createElement(nN,{ref:e,...i}))):Ke.createElement(tN,null,Ke.createElement(nN,{ref:e,open:r,...i}))}let Oge="div";function Rge(t,e){let n=H.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},c]=b_("Dialog.Panel"),u=Ya(e,c.panelRef),d=Jy({open:o===0}),f=mn(v=>{v.stopPropagation()}),p={ref:u,id:r,onClick:f},m=i?ry:H.Fragment,y=i?{unmount:a}:{},w=wo();return Ke.createElement(m,{...y},w({ourProps:p,theirProps:s,slot:d,defaultTag:Oge,name:"Dialog.Panel"}))}let Nge="div";function $ge(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=b_("Dialog.Backdrop"),o=Jy({open:i===0}),a={ref:e,"aria-hidden":!0},c=n?ry:H.Fragment,u=n?{unmount:s}:{},d=wo();return Ke.createElement(c,{...u},d({ourProps:a,theirProps:r,slot:o,defaultTag:Nge,name:"Dialog.Backdrop"}))}let Dge="h2";function Mge(t,e){let n=H.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=b_("Dialog.Title"),a=Ya(e);H.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=Jy({open:s===0}),u={ref:a,id:r};return wo()({ourProps:u,theirProps:i,slot:c,defaultTag:Dge,name:"Dialog.Title"})}let Lge=ps(Pge),Yz=ps(Rge);ps($ge);let Bge=ps(Mge),Uge=Object.assign(Lge,{Panel:Yz,Title:Bge,Description:ime});var Kw={exports:{}},rN;function Fge(){if(rN)return Kw.exports;rN=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(A,T,O){return Function.prototype.apply.call(A,T,O)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:n=function(A){return Object.getOwnPropertyNames(A)};function r(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(A){return A!==A};function s(){s.init.call(this)}Kw.exports=s,Kw.exports.once=E,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");o=x}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function c(x){return x._maxListeners===void 0?s.defaultMaxListeners:x._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(A){for(var T=[],O=1;O<arguments.length;O++)T.push(arguments[O]);var N=A==="error",D=this._events;if(D!==void 0)N=N&&D.error===void 0;else if(!N)return!1;if(N){var F;if(T.length>0&&(F=T[0]),F instanceof Error)throw F;var K=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw K.context=F,K}var B=D[A];if(B===void 0)return!1;if(typeof B=="function")e(B,this,T);else for(var j=B.length,Y=y(B,j),O=0;O<j;++O)e(Y[O],this,T);return!0};function u(x,A,T,O){var N,D,F;if(a(T),D=x._events,D===void 0?(D=x._events=Object.create(null),x._eventsCount=0):(D.newListener!==void 0&&(x.emit("newListener",A,T.listener?T.listener:T),D=x._events),F=D[A]),F===void 0)F=D[A]=T,++x._eventsCount;else if(typeof F=="function"?F=D[A]=O?[T,F]:[F,T]:O?F.unshift(T):F.push(T),N=c(x),N>0&&F.length>N&&!F.warned){F.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=x,K.type=A,K.count=F.length,r(K)}return x}s.prototype.addListener=function(A,T){return u(this,A,T,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,T){return u(this,A,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(x,A,T){var O={fired:!1,wrapFn:void 0,target:x,type:A,listener:T},N=d.bind(O);return N.listener=T,O.wrapFn=N,N}s.prototype.once=function(A,T){return a(T),this.on(A,f(this,A,T)),this},s.prototype.prependOnceListener=function(A,T){return a(T),this.prependListener(A,f(this,A,T)),this},s.prototype.removeListener=function(A,T){var O,N,D,F,K;if(a(T),N=this._events,N===void 0)return this;if(O=N[A],O===void 0)return this;if(O===T||O.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete N[A],N.removeListener&&this.emit("removeListener",A,O.listener||T));else if(typeof O!="function"){for(D=-1,F=O.length-1;F>=0;F--)if(O[F]===T||O[F].listener===T){K=O[F].listener,D=F;break}if(D<0)return this;D===0?O.shift():w(O,D),O.length===1&&(N[A]=O[0]),N.removeListener!==void 0&&this.emit("removeListener",A,K||T)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var T,O,N;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[A]),this;if(arguments.length===0){var D=Object.keys(O),F;for(N=0;N<D.length;++N)F=D[N],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=O[A],typeof T=="function")this.removeListener(A,T);else if(T!==void 0)for(N=T.length-1;N>=0;N--)this.removeListener(A,T[N]);return this};function p(x,A,T){var O=x._events;if(O===void 0)return[];var N=O[A];return N===void 0?[]:typeof N=="function"?T?[N.listener||N]:[N]:T?v(N):y(N,N.length)}s.prototype.listeners=function(A){return p(this,A,!0)},s.prototype.rawListeners=function(A){return p(this,A,!1)},s.listenerCount=function(x,A){return typeof x.listenerCount=="function"?x.listenerCount(A):m.call(x,A)},s.prototype.listenerCount=m;function m(x){var A=this._events;if(A!==void 0){var T=A[x];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function y(x,A){for(var T=new Array(A),O=0;O<A;++O)T[O]=x[O];return T}function w(x,A){for(;A+1<x.length;A++)x[A]=x[A+1];x.pop()}function v(x){for(var A=new Array(x.length),T=0;T<A.length;++T)A[T]=x[T].listener||x[T];return A}function E(x,A){return new Promise(function(T,O){function N(F){x.removeListener(A,D),O(F)}function D(){typeof x.removeListener=="function"&&x.removeListener("error",N),T([].slice.call(arguments))}_(x,A,D,{once:!0}),A!=="error"&&k(x,N,{once:!0})})}function k(x,A,T){typeof x.on=="function"&&_(x,"error",A,T)}function _(x,A,T,O){if(typeof x.on=="function")O.once?x.once(A,T):x.on(A,T);else if(typeof x.addEventListener=="function")x.addEventListener(A,function N(D){O.once&&x.removeEventListener(A,N),T(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return Kw.exports}var Bs=Fge();const Ok=cu(Bs);var iN=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},jge=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),zge=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Wge=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),Vge=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),qge=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),Hge=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Kge=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,sN=3,Gge=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Hge]],oN=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Yge(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new qge:typeof navigator<"u"?Jge(navigator.userAgent):Qge()}function Zge(t){return t!==""&&Gge.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Jge(t){var e=Zge(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Vge;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<sN&&(i=iN(iN([],i,!0),eye(sN-i.length),!0)):i=[];var s=i.join("."),o=Xge(t),a=Kge.exec(t);return a&&a[1]?new Wge(n,s,o,a[1]):new jge(n,s,o)}function Xge(t){for(var e=0,n=oN.length;e<n;e++){var r=oN[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Qge(){var t=typeof process<"u"&&process.version;return t?new zge(process.version.slice(1)):null}function eye(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Q2={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gI=function(t,e){return gI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gI(t,e)};function tye(t,e){gI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var yI=function(){return yI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yI.apply(this,arguments)};function nye(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rye(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function iye(t,e){return function(n,r){e(n,r,t)}}function sye(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oye(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function aye(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function cye(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function lye(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function wI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zz(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function uye(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zz(arguments[e]));return t}function dye(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function iy(t){return this instanceof iy?(this.v=t,this):new iy(t)}function hye(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(y,w){s.push([p,m,y,w])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(y){f(s[0][3],y)}}function c(p){p.value instanceof iy?Promise.resolve(p.value.v).then(u,d):f(s[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fye(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:iy(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function pye(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wI=="function"?wI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function mye(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function gye(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function yye(t){return t&&t.__esModule?t:{default:t}}function wye(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function bye(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const vye=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return yI},__asyncDelegator:fye,__asyncGenerator:hye,__asyncValues:pye,__await:iy,__awaiter:oye,__classPrivateFieldGet:wye,__classPrivateFieldSet:bye,__createBinding:cye,__decorate:rye,__exportStar:lye,__extends:tye,__generator:aye,__importDefault:yye,__importStar:gye,__makeTemplateObject:mye,__metadata:sye,__param:iye,__read:Zz,__rest:nye,__spread:uye,__spreadArrays:dye,__values:wI},Symbol.toStringTag,{value:"Module"})),v_=XL(vye);var eS={},mm={},aN;function _ye(){if(aN)return mm;aN=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return mm.delay=t,mm}var Mu={},tS={},Lu={},cN;function Eye(){return cN||(cN=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ONE_THOUSAND=Lu.ONE_HUNDRED=void 0,Lu.ONE_HUNDRED=100,Lu.ONE_THOUSAND=1e3),Lu}var nS={},lN;function xye(){return lN||(lN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(nS)),nS}var uN;function Jz(){return uN||(uN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=v_;e.__exportStar(Eye(),t),e.__exportStar(xye(),t)})(tS)),tS}var dN;function Sye(){if(dN)return Mu;dN=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.fromMiliseconds=Mu.toMiliseconds=void 0;const t=Jz();function e(r){return r*t.ONE_THOUSAND}Mu.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Mu.fromMiliseconds=n,Mu}var hN;function Aye(){return hN||(hN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=v_;e.__exportStar(_ye(),t),e.__exportStar(Sye(),t)})(eS)),eS}var Fh={},fN;function Tye(){if(fN)return Fh;fN=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Fh.Watch=t,Fh.default=t,Fh}var rS={},gm={},pN;function Iye(){if(pN)return gm;pN=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.IWatch=void 0;class t{}return gm.IWatch=t,gm}var mN;function kye(){return mN||(mN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),v_.__exportStar(Iye(),t)})(rS)),rS}var gN;function Cye(){return gN||(gN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=v_;e.__exportStar(Aye(),t),e.__exportStar(Tye(),t),e.__exportStar(kye(),t),e.__exportStar(Jz(),t)})(Q2)),Q2}var Me=Cye(),hn={},yN;function Xz(){if(yN)return hn;yN=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.getLocalStorage=hn.getLocalStorageOrThrow=hn.getCrypto=hn.getCryptoOrThrow=hn.getLocation=hn.getLocationOrThrow=hn.getNavigator=hn.getNavigatorOrThrow=hn.getDocument=hn.getDocumentOrThrow=hn.getFromWindowOrThrow=hn.getFromWindow=void 0;function t(p){let m;return typeof window<"u"&&typeof window[p]<"u"&&(m=window[p]),m}hn.getFromWindow=t;function e(p){const m=t(p);if(!m)throw new Error(`${p} is not defined in Window`);return m}hn.getFromWindowOrThrow=e;function n(){return e("document")}hn.getDocumentOrThrow=n;function r(){return t("document")}hn.getDocument=r;function i(){return e("navigator")}hn.getNavigatorOrThrow=i;function s(){return t("navigator")}hn.getNavigator=s;function o(){return e("location")}hn.getLocationOrThrow=o;function a(){return t("location")}hn.getLocation=a;function c(){return e("crypto")}hn.getCryptoOrThrow=c;function u(){return t("crypto")}hn.getCrypto=u;function d(){return e("localStorage")}hn.getLocalStorageOrThrow=d;function f(){return t("localStorage")}return hn.getLocalStorage=f,hn}var Kc=Xz(),ym={},wN;function Pye(){if(wN)return ym;wN=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.getWindowMetadata=void 0;const t=Xz();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const m=n.getElementsByTagName("link"),y=[];for(let w=0;w<m.length;w++){const v=m[w],E=v.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const k=v.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let _=r.protocol+"//"+r.host;if(k.indexOf("/")===0)_+=k;else{const x=r.pathname.split("/");x.pop();const A=x.join("/");_+=A+"/"+k}y.push(_)}else if(k.indexOf("//")===0){const _=r.protocol+k;y.push(_)}else y.push(k)}}return y}function s(...m){const y=n.getElementsByTagName("meta");for(let w=0;w<y.length;w++){const v=y[w],E=["itemprop","property","name"].map(k=>v.getAttribute(k)).filter(k=>k?m.includes(k):!1);if(E.length&&E){const k=v.getAttribute("content");if(k)return k}}return""}function o(){let m=s("name","og:site_name","og:title","twitter:title");return m||(m=n.title),m}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),u=a(),d=r.origin,f=i();return{description:u,url:d,icons:f,name:c}}return ym.getWindowMetadata=e,ym}var Oye=Pye();const Rye="0.1.1";function Nye(){return Rye}class Un extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof Un){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof Un&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Nye()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return Qz(this,e)}}function Qz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Qz(t.cause,e):e?null:t}const jh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $ye(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Nd(t,...e){if(!$ye(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Dye(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sy(t.outputLen),sy(t.blockLen)}function Jf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eW(t,e){Nd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mye(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Xf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function iS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pa(t,e){return t<<32-e|t>>>e}const Lye=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Bye(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Uye(t){for(let e=0;e<t.length;e++)t[e]=Bye(t[e]);return t}const bN=Lye?t=>t:Uye;function Fye(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function __(t){return typeof t=="string"&&(t=Fye(t)),Nd(t),t}function jye(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Nd(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class Rk{}function tW(t){const e=r=>t().update(__(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function zye(t=32){if(jh&&typeof jh.getRandomValues=="function")return jh.getRandomValues(new Uint8Array(t));if(jh&&typeof jh.randomBytes=="function")return Uint8Array.from(jh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Wye(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function Vye(t,e,n){return t&e^~t&n}function qye(t,e,n){return t&e^t&n^e&n}class Hye extends Rk{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=iS(this.buffer)}update(e){Jf(this),e=__(e),Nd(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=iS(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jf(this),eW(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Xf(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;Wye(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=iS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const _l=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gw=BigInt(2**32-1),vN=BigInt(32);function Kye(t,e=!1){return e?{h:Number(t&Gw),l:Number(t>>vN&Gw)}:{h:Number(t>>vN&Gw)|0,l:Number(t&Gw)|0}}function Gye(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=Kye(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Yye=(t,e,n)=>t<<n|e>>>32-n,Zye=(t,e,n)=>e<<n|t>>>32-n,Jye=(t,e,n)=>e<<n-32|t>>>64-n,Xye=(t,e,n)=>t<<n-32|e>>>64-n,Qye=BigInt(0),wm=BigInt(1),e0e=BigInt(2),t0e=BigInt(7),n0e=BigInt(256),r0e=BigInt(113),nW=[],rW=[],iW=[];for(let t=0,e=wm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],nW.push(2*(5*r+n)),rW.push((t+1)*(t+2)/2%64);let i=Qye;for(let s=0;s<7;s++)e=(e<<wm^(e>>t0e)*r0e)%n0e,e&e0e&&(i^=wm<<(wm<<BigInt(s))-wm);iW.push(i)}const sW=Gye(iW,!0),i0e=sW[0],s0e=sW[1],_N=(t,e,n)=>n>32?Jye(t,e,n):Yye(t,e,n),EN=(t,e,n)=>n>32?Xye(t,e,n):Zye(t,e,n);function o0e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],d=n[c+1],f=_N(u,d,1)^n[a],p=EN(u,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=rW[o],c=_N(i,s,a),u=EN(i,s,a),d=nW[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=i0e[r],t[1]^=s0e[r]}Xf(n)}class Nk extends Rk{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,sy(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Mye(this.state)}clone(){return this._cloneInto()}keccak(){bN(this.state32),o0e(this.state32,this.rounds),bN(this.state32),this.posOut=0,this.pos=0}update(e){Jf(this),e=__(e),Nd(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Jf(this,!1),Nd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eW(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Xf(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Nk(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const a0e=(t,e,n)=>tW(()=>new Nk(e,t,n)),c0e=a0e(1,136,256/8),l0e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),El=new Uint32Array(64);class u0e extends Hye{constructor(e=32){super(64,e,8,!1),this.A=_l[0]|0,this.B=_l[1]|0,this.C=_l[2]|0,this.D=_l[3]|0,this.E=_l[4]|0,this.F=_l[5]|0,this.G=_l[6]|0,this.H=_l[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)El[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=El[f-15],m=El[f-2],y=pa(p,7)^pa(p,18)^p>>>3,w=pa(m,17)^pa(m,19)^m>>>10;El[f]=w+El[f-7]+y+El[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const p=pa(a,6)^pa(a,11)^pa(a,25),m=d+p+Vye(a,c,u)+l0e[f]+El[f]|0,w=(pa(r,2)^pa(r,13)^pa(r,22))+qye(r,i,s)|0;d=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,u,d)}roundClean(){Xf(El)}destroy(){this.set(0,0,0,0,0,0,0,0),Xf(this.buffer)}}const d0e=tW(()=>new u0e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $k=BigInt(0),bI=BigInt(1);function Qy(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Dk(t){if(!Qy(t))throw new Error("Uint8Array expected")}function oy(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Yw(t){const e=t.toString(16);return e.length&1?"0"+e:e}function oW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?$k:BigInt("0x"+t)}const aW=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",h0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ay(t){if(Dk(t),aW)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=h0e[t[n]];return e}const cc={_0:48,_9:57,A:65,F:70,a:97,f:102};function xN(t){if(t>=cc._0&&t<=cc._9)return t-cc._0;if(t>=cc.A&&t<=cc.F)return t-(cc.A-10);if(t>=cc.a&&t<=cc.f)return t-(cc.a-10)}function Vv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(aW)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=xN(t.charCodeAt(s)),a=xN(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function md(t){return oW(ay(t))}function cW(t){return Dk(t),oW(ay(Uint8Array.from(t).reverse()))}function e0(t,e){return Vv(t.toString(16).padStart(e*2,"0"))}function lW(t,e){return e0(t,e).reverse()}function io(t,e,n){let r;if(typeof e=="string")try{r=Vv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Qy(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function qv(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Dk(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const sS=t=>typeof t=="bigint"&&$k<=t;function Mk(t,e,n){return sS(t)&&sS(e)&&sS(n)&&e<=t&&t<n}function kf(t,e,n,r){if(!Mk(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function f0e(t){let e;for(e=0;t>$k;t>>=bI,e+=1);return e}const E_=t=>(bI<<BigInt(t))-bI,oS=t=>new Uint8Array(t),SN=t=>Uint8Array.from(t);function p0e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=oS(t),i=oS(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),c=(f=oS(0))=>{i=a(SN([0]),f),r=a(),f.length!==0&&(i=a(SN([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const m=r.slice();p.push(m),f+=r.length}return qv(...p)};return(f,p)=>{o(),c(f);let m;for(;!(m=p(u()));)c();return o(),m}}const m0e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Qy(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function x_(t,e,n={}){const r=(i,s,o)=>{const a=m0e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function AN(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function g0e(t,e){if(CN(t)>e)throw new L0e({givenSize:CN(t),maxSize:e})}const lc={zero:48,nine:57,A:65,F:70,a:97,f:102};function TN(t){if(t>=lc.zero&&t<=lc.nine)return t-lc.zero;if(t>=lc.A&&t<=lc.F)return t-(lc.A-10);if(t>=lc.a&&t<=lc.f)return t-(lc.a-10)}function y0e(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new B0e({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function uW(t,e){if(iu(t)>e)throw new I0e({givenSize:iu(t),maxSize:e})}function w0e(t,e){if(typeof e=="number"&&e>0&&e>iu(t)-1)throw new fW({offset:e,position:"start",size:iu(t)})}function b0e(t,e,n){if(typeof e=="number"&&typeof n=="number"&&iu(t)!==n-e)throw new fW({offset:n,position:"end",size:iu(t)})}function dW(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new k0e({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const v0e="#__bigint";function Lk(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+v0e:i,n)}const _0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E0e(t,e={}){const{strict:n=!1}=e;if(!t)throw new IN(t);if(typeof t!="string")throw new IN(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new kN(t);if(!t.startsWith("0x"))throw new kN(t)}function x0e(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Bk(t){return t instanceof Uint8Array?Hv(t):Array.isArray(t)?Hv(new Uint8Array(t)):t}function Hv(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=_0e[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(uW(r,e.size),hW(r,e.size)):r}function aS(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new T0e({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?S0e(c,r):c}function S0e(t,e){return dW(t,{dir:"left",size:e})}function hW(t,e){return dW(t,{dir:"right",size:e})}function vc(t,e,n,r={}){const{strict:i}=r;w0e(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&b0e(s,e,n),s}function iu(t){return Math.ceil((t.length-2)/2)}function A0e(t,e={}){const{strict:n=!1}=e;try{return E0e(t,{strict:n}),!0}catch{return!1}}class T0e extends Un{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class IN extends Un{constructor(e){super(`Value \`${typeof e=="object"?Lk(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class kN extends Un{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let I0e=class extends Un{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class fW extends Un{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let k0e=class extends Un{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const C0e=new TextEncoder;function P0e(t){if(!(t instanceof Uint8Array)){if(!t)throw new Zw(t);if(typeof t!="object")throw new Zw(t);if(!("BYTES_PER_ELEMENT"in t))throw new Zw(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new Zw(t)}}function O0e(t){return t instanceof Uint8Array?t:typeof t=="string"?N0e(t):R0e(t)}function R0e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function N0e(t,e={}){const{size:n}=e;let r=t;n&&(uW(t,n),r=hW(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=TN(i.charCodeAt(c++)),d=TN(i.charCodeAt(c++));if(u===void 0||d===void 0)throw new Un(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=u*16+d}return o}function $0e(t,e={}){const{size:n}=e,r=C0e.encode(t);return typeof n=="number"?(g0e(r,n),D0e(r,n)):r}function D0e(t,e){return y0e(t,{dir:"right",size:e})}function CN(t){return t.length}function M0e(t){try{return P0e(t),!0}catch{return!1}}class Zw extends Un{constructor(e){super(`Value \`${typeof e=="object"?Lk(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class L0e extends Un{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class B0e extends Un{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function pW(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=c0e(O0e(t));return n==="Bytes"?r:Hv(r)}class U0e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const F0e={checksum:new U0e(8192)},cS=F0e.checksum;function mW(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new PN({prefix:r,cause:new H0e});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new PN({prefix:r,cause:new q0e});return}throw new V0e({publicKey:t})}function j0e(t){const e=(()=>{if(A0e(t))return gW(t);if(M0e(t))return z0e(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return mW(e),e}function z0e(t){return gW(Hv(t))}function gW(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new K0e({publicKey:t});if(t.length===130){const r=BigInt(vc(t,0,32)),i=BigInt(vc(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(vc(t,0,1)),i=BigInt(vc(t,1,33)),s=BigInt(vc(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(vc(t,0,1)),n=BigInt(vc(t,1,33));return{prefix:e,x:n}}function W0e(t,e={}){mW(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return x0e(s?aS(n,{size:1}):"0x",aS(r,{size:32}),typeof i=="bigint"?aS(i,{size:32}):"0x")}class V0e extends Un{constructor({publicKey:e}){super(`Value \`${Lk(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class PN extends Un{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class q0e extends Un{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class H0e extends Un{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let K0e=class extends Un{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${iu(Bk(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const G0e=/^0x[a-fA-F0-9]{40}$/;function yW(t,e={}){const{strict:n=!0}=e;if(!G0e.test(t))throw new ON({address:t,cause:new J0e});if(n){if(t.toLowerCase()===t)return;if(wW(t)!==t)throw new ON({address:t,cause:new X0e})}}function wW(t){if(cS.has(t))return cS.get(t);yW(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=pW($0e(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return cS.set(t,i),i}function Y0e(t,e={}){const{checksum:n=!1}=e;return yW(t),n?wW(t):t}function Z0e(t,e={}){const n=pW(`0x${W0e(t).slice(4)}`).substring(26);return Y0e(`0x${n}`,e)}class ON extends Un{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class J0e extends Un{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class X0e extends Un{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class bW extends Rk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Dye(e);const r=__(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Xf(s)}update(e){return Jf(this),this.iHash.update(e),this}digestInto(e){Jf(this),Nd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vW=(t,e,n)=>new bW(t,e).update(n).digest();vW.create=(t,e)=>new bW(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const as=BigInt(0),Fi=BigInt(1),id=BigInt(2),Q0e=BigInt(3),_W=BigInt(4),EW=BigInt(5),xW=BigInt(8);function rs(t,e){const n=t%e;return n>=as?n:e+n}function Ys(t,e,n){let r=t;for(;e-- >as;)r*=r,r%=n;return r}function vI(t,e){if(t===as)throw new Error("invert: expected non-zero number");if(e<=as)throw new Error("invert: expected positive modulus, got "+e);let n=rs(t,e),r=e,i=as,s=Fi;for(;n!==as;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Fi)throw new Error("invert: does not exist");return rs(i,e)}function SW(t,e){const n=(t.ORDER+Fi)/_W,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function ewe(t,e){const n=(t.ORDER-EW)/xW,r=t.mul(e,id),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,id),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function twe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Fi,n=0;for(;e%id===as;)e/=id,n++;let r=id;const i=Uk(t);for(;RN(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return SW;let s=i.pow(r,e);const o=(e+Fi)/id;return function(c,u){if(c.is0(u))return u;if(RN(c,u)!==1)throw new Error("Cannot find square root");let d=n,f=c.mul(c.ONE,s),p=c.pow(u,e),m=c.pow(u,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let y=1,w=c.sqr(p);for(;!c.eql(w,c.ONE);)if(y++,w=c.sqr(w),y===d)throw new Error("Cannot find square root");const v=Fi<<BigInt(d-y-1),E=c.pow(f,v);d=y,f=c.sqr(E),p=c.mul(p,f),m=c.mul(m,E)}return m}}function nwe(t){return t%_W===Q0e?SW:t%xW===EW?ewe:twe(t)}const rwe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iwe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=rwe.reduce((r,i)=>(r[i]="function",r),e);return x_(t,n)}function swe(t,e,n){if(n<as)throw new Error("invalid exponent, negatives unsupported");if(n===as)return t.ONE;if(n===Fi)return e;let r=t.ONE,i=e;for(;n>as;)n&Fi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Fi;return r}function AW(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function RN(t,e){const n=(t.ORDER-Fi)/id,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function TW(t,e){e!==void 0&&sy(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Uk(t,e,n=!1,r={}){if(t<=as)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=TW(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:E_(i),ZERO:as,ONE:Fi,create:c=>rs(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return as<=c&&c<t},is0:c=>c===as,isOdd:c=>(c&Fi)===Fi,neg:c=>rs(-c,t),eql:(c,u)=>c===u,sqr:c=>rs(c*c,t),add:(c,u)=>rs(c+u,t),sub:(c,u)=>rs(c-u,t),mul:(c,u)=>rs(c*u,t),pow:(c,u)=>swe(a,c,u),div:(c,u)=>rs(c*vI(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>vI(c,t),sqrt:r.sqrt||(c=>(o||(o=nwe(t)),o(a,c))),toBytes:c=>n?lW(c,s):e0(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?cW(c):md(c)},invertBatch:c=>AW(a,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(a)}function IW(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function kW(t){const e=IW(t);return e+Math.ceil(e/2)}function owe(t,e,n=!1){const r=t.length,i=IW(e),s=kW(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?cW(t):md(t),a=rs(o,e-Fi)+Fi;return n?lW(a,i):e0(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NN=BigInt(0),_I=BigInt(1);function lS(t,e){const n=e.negate();return t?n:e}function CW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function uS(t,e){CW(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=E_(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function $N(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=_I);const u=e*r,d=u+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:c,offset:d,isZero:f,isNeg:p,isNegF:m,offsetF:u}}function awe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function cwe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const dS=new WeakMap,PW=new WeakMap;function hS(t){return PW.get(t)||1}function lwe(t,e){return{constTimeNegate:lS,hasPrecomputes(n){return hS(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>NN;)r&_I&&(i=i.add(s)),s=s.double(),r>>=_I;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=uS(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=uS(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:f,isNeg:p,isNegF:m,offsetF:y}=$N(i,c,a);i=u,f?o=o.add(lS(m,r[y])):s=s.add(lS(p,r[d]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=uS(n,e);for(let a=0;a<o.windows&&i!==NN;a++){const{nextN:c,offset:u,isZero:d,isNeg:f}=$N(i,a,o);if(i=c,!d){const p=r[u];s=s.add(f?p.negate():p)}}return s},getPrecomputes(n,r,i){let s=dS.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&dS.set(r,i(s))),s},wNAFCached(n,r,i){const s=hS(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=hS(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){CW(r,e),PW.set(n,r),dS.delete(n)}}}function uwe(t,e,n,r){awe(n,t),cwe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=f0e(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=E_(c),d=new Array(Number(u)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let p=o;for(let m=f;m>=0;m-=c){d.fill(o);for(let w=0;w<s;w++){const v=r[w],E=Number(v>>BigInt(m)&u);d[E]=d[E].add(n[w])}let y=o;for(let w=d.length-1,v=o;w>0;w--)v=v.add(d[w]),y=y.add(v);if(p=p.add(y),m!==0)for(let w=0;w<c;w++)p=p.double()}return p}function OW(t){return iwe(t.Fp),x_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...TW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DN(t){t.lowS!==void 0&&oy("lowS",t.lowS),t.prehash!==void 0&&oy("prehash",t.prehash)}function dwe(t){const e=OW(t);x_(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class hwe extends Error{constructor(e=""){super(e)}}const Ac={Err:hwe,_tlv:{encode:(t,e)=>{const{Err:n}=Ac;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Yw(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Yw(i.length/2|128):"";return Yw(t)+s+i+e},decode(t,e){const{Err:n}=Ac;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Ac;if(t<Cc)throw new e("integer: negative integers are not allowed");let n=Yw(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ac;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return md(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ac,i=io("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Ac,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function fS(t,e){return ay(e0(t,e))}const Cc=BigInt(0),Kr=BigInt(1);BigInt(2);const pS=BigInt(3),fwe=BigInt(4);function pwe(t){const e=dwe(t),{Fp:n}=e,r=Uk(e.n,e.nBitLength),i=e.toBytes||((_,x,A)=>{const T=x.toAffine();return qv(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),s=e.fromBytes||(_=>{const x=_.subarray(1),A=n.fromBytes(x.subarray(0,n.BYTES)),T=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:A,y:T}});function o(_){const{a:x,b:A}=e,T=n.sqr(_),O=n.mul(T,_);return n.add(n.add(O,n.mul(_,x)),A)}function a(_,x){const A=n.sqr(x),T=o(_);return n.eql(A,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,pS),fwe),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(_){return Mk(_,Kr,e.n)}function f(_){const{allowedPrivateKeyLengths:x,nByteLength:A,wrapPrivateKey:T,n:O}=e;if(x&&typeof _!="bigint"){if(Qy(_)&&(_=ay(_)),typeof _!="string"||!x.includes(_.length))throw new Error("invalid private key");_=_.padStart(A*2,"0")}let N;try{N=typeof _=="bigint"?_:md(io("private key",_,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof _)}return T&&(N=rs(N,O)),kf("private key",N,Kr,O),N}function p(_){if(!(_ instanceof w))throw new Error("ProjectivePoint expected")}const m=AN((_,x)=>{const{px:A,py:T,pz:O}=_;if(n.eql(O,n.ONE))return{x:A,y:T};const N=_.is0();x==null&&(x=N?n.ONE:n.inv(O));const D=n.mul(A,x),F=n.mul(T,x),K=n.mul(O,x);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(K,n.ONE))throw new Error("invZ was invalid");return{x:D,y:F}}),y=AN(_=>{if(_.is0()){if(e.allowInfinityPoint&&!n.is0(_.py))return;throw new Error("bad point: ZERO")}const{x,y:A}=_.toAffine();if(!n.isValid(x)||!n.isValid(A))throw new Error("bad point: x or y not FE");if(!a(x,A))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(x,A,T){if(x==null||!n.isValid(x))throw new Error("x required");if(A==null||!n.isValid(A)||n.is0(A))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");this.px=x,this.py=A,this.pz=T,Object.freeze(this)}static fromAffine(x){const{x:A,y:T}=x||{};if(!x||!n.isValid(A)||!n.isValid(T))throw new Error("invalid affine point");if(x instanceof w)throw new Error("projective point not allowed");const O=N=>n.eql(N,n.ZERO);return O(A)&&O(T)?w.ZERO:new w(A,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const A=AW(n,x.map(T=>T.pz));return x.map((T,O)=>T.toAffine(A[O])).map(w.fromAffine)}static fromHex(x){const A=w.fromAffine(s(io("pointHex",x)));return A.assertValidity(),A}static fromPrivateKey(x){return w.BASE.multiply(f(x))}static msm(x,A){return uwe(w,r,x,A)}_setWindowSize(x){k.setWindowSize(this,x)}assertValidity(){y(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){p(x);const{px:A,py:T,pz:O}=this,{px:N,py:D,pz:F}=x,K=n.eql(n.mul(A,F),n.mul(N,O)),B=n.eql(n.mul(T,F),n.mul(D,O));return K&&B}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:A}=e,T=n.mul(A,pS),{px:O,py:N,pz:D}=this;let F=n.ZERO,K=n.ZERO,B=n.ZERO,j=n.mul(O,O),Y=n.mul(N,N),I=n.mul(D,D),P=n.mul(O,N);return P=n.add(P,P),B=n.mul(O,D),B=n.add(B,B),F=n.mul(x,B),K=n.mul(T,I),K=n.add(F,K),F=n.sub(Y,K),K=n.add(Y,K),K=n.mul(F,K),F=n.mul(P,F),B=n.mul(T,B),I=n.mul(x,I),P=n.sub(j,I),P=n.mul(x,P),P=n.add(P,B),B=n.add(j,j),j=n.add(B,j),j=n.add(j,I),j=n.mul(j,P),K=n.add(K,j),I=n.mul(N,D),I=n.add(I,I),j=n.mul(I,P),F=n.sub(F,j),B=n.mul(I,Y),B=n.add(B,B),B=n.add(B,B),new w(F,K,B)}add(x){p(x);const{px:A,py:T,pz:O}=this,{px:N,py:D,pz:F}=x;let K=n.ZERO,B=n.ZERO,j=n.ZERO;const Y=e.a,I=n.mul(e.b,pS);let P=n.mul(A,N),L=n.mul(T,D),M=n.mul(O,F),R=n.add(A,T),z=n.add(N,D);R=n.mul(R,z),z=n.add(P,L),R=n.sub(R,z),z=n.add(A,O);let W=n.add(N,F);return z=n.mul(z,W),W=n.add(P,M),z=n.sub(z,W),W=n.add(T,O),K=n.add(D,F),W=n.mul(W,K),K=n.add(L,M),W=n.sub(W,K),j=n.mul(Y,z),K=n.mul(I,M),j=n.add(K,j),K=n.sub(L,j),j=n.add(L,j),B=n.mul(K,j),L=n.add(P,P),L=n.add(L,P),M=n.mul(Y,M),z=n.mul(I,z),L=n.add(L,M),M=n.sub(P,M),M=n.mul(Y,M),z=n.add(z,M),P=n.mul(L,z),B=n.add(B,P),P=n.mul(W,z),K=n.mul(R,K),K=n.sub(K,P),P=n.mul(R,L),j=n.mul(W,j),j=n.add(j,P),new w(K,B,j)}subtract(x){return this.add(x.negate())}is0(){return this.equals(w.ZERO)}wNAF(x){return k.wNAFCached(this,x,w.normalizeZ)}multiplyUnsafe(x){const{endo:A,n:T}=e;kf("scalar",x,Cc,T);const O=w.ZERO;if(x===Cc)return O;if(this.is0()||x===Kr)return this;if(!A||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,x,w.normalizeZ);let{k1neg:N,k1:D,k2neg:F,k2:K}=A.splitScalar(x),B=O,j=O,Y=this;for(;D>Cc||K>Cc;)D&Kr&&(B=B.add(Y)),K&Kr&&(j=j.add(Y)),Y=Y.double(),D>>=Kr,K>>=Kr;return N&&(B=B.negate()),F&&(j=j.negate()),j=new w(n.mul(j.px,A.beta),j.py,j.pz),B.add(j)}multiply(x){const{endo:A,n:T}=e;kf("scalar",x,Kr,T);let O,N;if(A){const{k1neg:D,k1:F,k2neg:K,k2:B}=A.splitScalar(x);let{p:j,f:Y}=this.wNAF(F),{p:I,f:P}=this.wNAF(B);j=k.constTimeNegate(D,j),I=k.constTimeNegate(K,I),I=new w(n.mul(I.px,A.beta),I.py,I.pz),O=j.add(I),N=Y.add(P)}else{const{p:D,f:F}=this.wNAF(x);O=D,N=F}return w.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(x,A,T){const O=w.BASE,N=(F,K)=>K===Cc||K===Kr||!F.equals(O)?F.multiplyUnsafe(K):F.multiply(K),D=N(this,A).add(N(x,T));return D.is0()?void 0:D}toAffine(x){return m(this,x)}isTorsionFree(){const{h:x,isTorsionFree:A}=e;if(x===Kr)return!0;if(A)return A(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:A}=e;return x===Kr?this:A?A(w,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return oy("isCompressed",x),this.assertValidity(),i(w,this,x)}toHex(x=!0){return oy("isCompressed",x),ay(this.toRawBytes(x))}}w.BASE=new w(e.Gx,e.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:E}=e,k=lwe(w,v?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:d}}function mwe(t){const e=OW(t);return x_(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function gwe(t){const e=mwe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(I){return rs(I,r)}function u(I){return vI(I,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:m}=pwe({...e,toBytes(I,P,L){const M=P.toAffine(),R=n.toBytes(M.x),z=qv;return oy("isCompressed",L),L?z(Uint8Array.from([P.hasEvenY()?2:3]),R):z(Uint8Array.from([4]),R,n.toBytes(M.y))},fromBytes(I){const P=I.length,L=I[0],M=I.subarray(1);if(P===o&&(L===2||L===3)){const R=md(M);if(!Mk(R,Kr,n.ORDER))throw new Error("Point is not on curve");const z=p(R);let W;try{W=n.sqrt(z)}catch(te){const ee=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ee)}const G=(W&Kr)===Kr;return(L&1)===1!==G&&(W=n.neg(W)),{x:R,y:W}}else if(P===a&&L===4){const R=n.fromBytes(M.subarray(0,n.BYTES)),z=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:R,y:z}}else{const R=o,z=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+z+", got "+P)}}});function y(I){const P=r>>Kr;return I>P}function w(I){return y(I)?c(-I):I}const v=(I,P,L)=>md(I.slice(P,L));class E{constructor(P,L,M){kf("r",P,Kr,r),kf("s",L,Kr,r),this.r=P,this.s=L,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(P){const L=i;return P=io("compactSignature",P,L*2),new E(v(P,0,L),v(P,L,2*L))}static fromDER(P){const{r:L,s:M}=Ac.toSig(io("DER",P));return new E(L,M)}assertValidity(){}addRecoveryBit(P){return new E(this.r,this.s,P)}recoverPublicKey(P){const{r:L,s:M,recovery:R}=this,z=O(io("msgHash",P));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const W=R===2||R===3?L+e.n:L;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(R&1)===0?"02":"03",ie=d.fromHex(G+fS(W,n.BYTES)),te=u(W),ee=c(-z*te),pe=c(M*te),ye=d.BASE.multiplyAndAddUnsafe(ie,ee,pe);if(!ye)throw new Error("point at infinify");return ye.assertValidity(),ye}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Vv(this.toDERHex())}toDERHex(){return Ac.hexFromSig(this)}toCompactRawBytes(){return Vv(this.toCompactHex())}toCompactHex(){const P=i;return fS(this.r,P)+fS(this.s,P)}}const k={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const I=kW(e.n);return owe(e.randomBytes(I),e.n)},precompute(I=8,P=d.BASE){return P._setWindowSize(I),P.multiply(BigInt(3)),P}};function _(I,P=!0){return d.fromPrivateKey(I).toRawBytes(P)}function x(I){if(typeof I=="bigint")return!1;if(I instanceof d)return!0;const L=io("key",I).length,M=n.BYTES,R=M+1,z=2*M+1;if(!(e.allowedPrivateKeyLengths||i===R))return L===R||L===z}function A(I,P,L=!0){if(x(I)===!0)throw new Error("first arg must be private key");if(x(P)===!1)throw new Error("second arg must be public key");return d.fromHex(P).multiply(f(I)).toRawBytes(L)}const T=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const P=md(I),L=I.length*8-s;return L>0?P>>BigInt(L):P},O=e.bits2int_modN||function(I){return c(T(I))},N=E_(s);function D(I){return kf("num < 2^"+s,I,Cc,N),e0(I,i)}function F(I,P,L=K){if(["recovered","canonical"].some(we=>we in L))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:R}=e;let{lowS:z,prehash:W,extraEntropy:G}=L;z==null&&(z=!0),I=io("msgHash",I),DN(L),W&&(I=io("prehashed msgHash",M(I)));const ie=O(I),te=f(P),ee=[D(te),D(ie)];if(G!=null&&G!==!1){const we=G===!0?R(n.BYTES):G;ee.push(io("extraEntropy",we))}const pe=qv(...ee),ye=ie;function xe(we){const Oe=T(we);if(!m(Oe))return;const Xe=u(Oe),ot=d.BASE.multiply(Oe).toAffine(),fe=c(ot.x);if(fe===Cc)return;const St=c(Xe*c(ye+fe*te));if(St===Cc)return;let Nt=(ot.x===fe?0:2)|Number(ot.y&Kr),lt=St;return z&&y(St)&&(lt=w(St),Nt^=1),new E(fe,lt,Nt)}return{seed:pe,k2sig:xe}}const K={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function j(I,P,L=K){const{seed:M,k2sig:R}=F(I,P,L),z=e;return p0e(z.hash.outputLen,z.nByteLength,z.hmac)(M,R)}d.BASE._setWindowSize(8);function Y(I,P,L,M=B){var Nt;const R=I;P=io("msgHash",P),L=io("publicKey",L);const{lowS:z,prehash:W,format:G}=M;if(DN(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const ie=typeof R=="string"||Qy(R),te=!ie&&!G&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!ie&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,pe;try{if(te&&(ee=new E(R.r,R.s)),ie){try{G!=="compact"&&(ee=E.fromDER(R))}catch(lt){if(!(lt instanceof Ac.Err))throw lt}!ee&&G!=="der"&&(ee=E.fromCompact(R))}pe=d.fromHex(L)}catch{return!1}if(!ee||z&&ee.hasHighS())return!1;W&&(P=e.hash(P));const{r:ye,s:xe}=ee,we=O(P),Oe=u(xe),Xe=c(we*Oe),ot=c(ye*Oe),fe=(Nt=d.BASE.multiplyAndAddUnsafe(pe,Xe,ot))==null?void 0:Nt.toAffine();return fe?c(fe.x)===ye:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:A,sign:j,verify:Y,ProjectivePoint:d,Signature:E,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ywe(t){return{hash:t,hmac:(e,...n)=>vW(t,e,jye(...n)),randomBytes:zye}}function wwe(t,e){const n=r=>gwe({...t,...ywe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RW=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),MN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bwe=BigInt(0),vwe=BigInt(1),EI=BigInt(2),LN=(t,e)=>(t+e/EI)/e;function _we(t){const e=RW,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Ys(d,n,e)*d%e,p=Ys(f,n,e)*d%e,m=Ys(p,EI,e)*u%e,y=Ys(m,i,e)*m%e,w=Ys(y,s,e)*y%e,v=Ys(w,a,e)*w%e,E=Ys(v,c,e)*v%e,k=Ys(E,a,e)*w%e,_=Ys(k,n,e)*d%e,x=Ys(_,o,e)*y%e,A=Ys(x,r,e)*u%e,T=Ys(A,EI,e);if(!xI.eql(xI.sqr(T),t))throw new Error("Cannot find square root");return T}const xI=Uk(RW,void 0,void 0,{sqrt:_we}),Ewe=wwe({a:bwe,b:BigInt(7),Fp:xI,n:MN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=MN,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-vwe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=LN(s*t,e),c=LN(-r*t,e);let u=rs(t-a*n-c*i,e),d=rs(-a*r-c*s,e);const f=u>o,p=d>o;if(f&&(u=e-u),p&&(d=e-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:d}}}},d0e);function xwe(t){if(t.length!==130&&t.length!==132)throw new Awe({signature:t});const e=BigInt(vc(t,0,32)),n=BigInt(vc(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return Swe(i)}catch{throw new Twe({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Swe(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Iwe({value:t})}class Awe extends Un{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${iu(Bk(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Twe extends Un{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Iwe extends Un{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function kwe(t){return Z0e(Cwe(t))}function Cwe(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,a=new Ewe.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(Bk(e).substring(2));return j0e(a)}function Pwe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const d=t.charAt(u),f=d.charCodeAt(0);if(e[f]!==255)throw new TypeError(d+" is ambiguous");e[f]=u}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let d=0,f=0,p=0;const m=u.length;for(;p!==m&&u[p]===0;)p++,d++;const y=(m-p)*s+1>>>0,w=new Uint8Array(y);for(;p!==m;){let k=u[p],_=0;for(let x=y-1;(k!==0||_<f)&&x!==-1;x--,_++)k+=256*w[x]>>>0,w[x]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");f=_,p++}let v=y-f;for(;v!==y&&w[v]===0;)v++;let E=r.repeat(d);for(;v<y;++v)E+=t.charAt(w[v]);return E}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let d=0,f=0,p=0;for(;u[d]===r;)f++,d++;const m=(u.length-d)*i+1>>>0,y=new Uint8Array(m);for(;d<u.length;){const k=u.charCodeAt(d);if(k>255)return;let _=e[k];if(_===255)return;let x=0;for(let A=m-1;(_!==0||x<p)&&A!==-1;A--,x++)_+=n*y[A]>>>0,y[A]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");p=x,d++}let w=m-p;for(;w!==m&&y[w]===0;)w++;const v=new Uint8Array(f+(m-w));let E=f;for(;w!==m;)v[E++]=y[w++];return v}function c(u){const d=a(u);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Owe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const t0=Pwe(Owe);function Rwe(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function Nwe(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const $we=new TextEncoder,Dwe=50;function Mwe(t,e,n){$we.encodeInto(t,e.subarray(n))}function Lwe(t,e,n){t.length>Dwe?Mwe(t,e,n):Nwe(t,e,n)}const Bwe=4096;function NW(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,u=t[r++]&63;s.push((a&31)<<12|c<<6|u)}else if((a&248)===240){const c=t[r++]&63,u=t[r++]&63,d=t[r++]&63;let f=(a&7)<<18|c<<12|u<<6|d;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=Bwe&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const Uwe=new TextDecoder,Fwe=200;function jwe(t,e,n){const r=t.subarray(e,e+n);return Uwe.decode(r)}function zwe(t,e,n){return n>Fwe?jwe(t,e,n):NW(t,e,n)}class Jw{constructor(e,n){this.type=e,this.data=n}}class ks extends Error{constructor(e){super(e);const n=Object.create(ks.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ks.name})}}const bm=4294967295;function Wwe(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function $W(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function DW(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Vwe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const qwe=-1,Hwe=4294967296-1,Kwe=17179869184-1;function Gwe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Kwe)if(e===0&&t<=Hwe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),$W(r,4,t),n}}function Ywe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Zwe(t){if(t instanceof Date){const e=Ywe(t);return Gwe(e)}else return null}function Jwe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=DW(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new ks(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Xwe(t){const e=Jwe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Qwe={type:qwe,encode:Zwe,decode:Xwe};class Kv{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Qwe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new Jw(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new Jw(o,s)}}}return e instanceof Jw?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new Jw(n,e)}}Kv.defaultCodec=new Kv;function ebe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function SI(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):ebe(t)?new Uint8Array(t):Uint8Array.from(t)}const tbe=100,nbe=2048;let rbe=class MW{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Kv.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??tbe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??nbe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new MW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Rwe(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Lwe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=SI(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Wwe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),$W(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function ibe(t,e){return new rbe(e).encodeSharedRef(t)}function mS(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const sbe=16,obe=16;class abe{constructor(e=sbe,n=obe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=NW(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const AI="array",dg="map_key",LW="map_value",cbe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new ks("The type of key must be string or number but "+typeof t)};class lbe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=AI,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=dg,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===AI){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===dg||e.type===LW){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const vm=-1,Fk=new DataView(new ArrayBuffer(0)),ube=new Uint8Array(Fk.buffer);try{Fk.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const BN=new RangeError("Insufficient data"),dbe=new abe;let hbe=class BW{constructor(e){this.totalPos=0,this.pos=0,this.view=Fk,this.bytes=ube,this.headByte=vm,this.stack=new lbe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Kv.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??bm,this.maxBinLength=(e==null?void 0:e.maxBinLength)??bm,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??bm,this.maxMapLength=(e==null?void 0:e.maxMapLength)??bm,this.maxExtLength=(e==null?void 0:e.maxExtLength)??bm,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:dbe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??cbe}clone(){return new BW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=vm,this.stack.reset()}setBuffer(e){const n=SI(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===vm&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=SI(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${mS(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new ks(`Unrecognized type byte: ${mS(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===AI)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===dg){if(n==="__proto__")throw new ks("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=LW;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=dg;continue e}}return n}}readHeadByte(){return this.headByte===vm&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=vm}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ks(`Unrecognized array type byte: ${mS(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new ks(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new ks(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new ks(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw BN;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=zwe(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===dg:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new ks(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw BN;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new ks(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Vwe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=DW(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function fbe(t,e){return new hbe(e).decode(t)}const pbe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),mbe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function $d(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return mbe(t)}catch{return t}}function Gc(t){return typeof t=="string"?t:pbe(t)||""}function gbe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function UW(t,...e){if(!gbe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ybe(t,e){UW(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gS=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function wbe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function FW(t){return typeof t=="string"&&(t=wbe(t)),UW(t),t}let bbe=class{clone(){return this._cloneInto()}};function vbe(t){const e=r=>t().update(FW(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function jW(t=32){if(zh&&typeof zh.getRandomValues=="function")return zh.getRandomValues(new Uint8Array(t));if(zh&&typeof zh.randomBytes=="function")return zh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function _be(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let Ebe=class extends bbe{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gS(this.buffer)}update(e){UN(this);const{view:n,buffer:r,blockLen:i}=this;e=FW(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=gS(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){UN(this),ybe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;_be(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=gS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Xw=BigInt(2**32-1),TI=BigInt(32);function zW(t,e=!1){return e?{h:Number(t&Xw),l:Number(t>>TI&Xw)}:{h:Number(t>>TI&Xw)|0,l:Number(t&Xw)|0}}function xbe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=zW(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Sbe=(t,e)=>BigInt(t>>>0)<<TI|BigInt(e>>>0),Abe=(t,e,n)=>t>>>n,Tbe=(t,e,n)=>t<<32-n|e>>>n,Ibe=(t,e,n)=>t>>>n|e<<32-n,kbe=(t,e,n)=>t<<32-n|e>>>n,Cbe=(t,e,n)=>t<<64-n|e>>>n-32,Pbe=(t,e,n)=>t>>>n-32|e<<64-n,Obe=(t,e)=>e,Rbe=(t,e)=>t,Nbe=(t,e,n)=>t<<n|e>>>32-n,$be=(t,e,n)=>e<<n|t>>>32-n,Dbe=(t,e,n)=>e<<n-32|t>>>64-n,Mbe=(t,e,n)=>t<<n-32|e>>>64-n;function Lbe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Bbe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ube=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Fbe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jbe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,zbe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Wbe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Dt={fromBig:zW,split:xbe,toBig:Sbe,shrSH:Abe,shrSL:Tbe,rotrSH:Ibe,rotrSL:kbe,rotrBH:Cbe,rotrBL:Pbe,rotr32H:Obe,rotr32L:Rbe,rotlSH:Nbe,rotlSL:$be,rotlBH:Dbe,rotlBL:Mbe,add:Lbe,add3L:Bbe,add3H:Ube,add4L:Fbe,add4H:jbe,add5H:Wbe,add5L:zbe},[Vbe,qbe]=Dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),xl=new Uint32Array(80),Sl=new Uint32Array(80);let Hbe=class extends Ebe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:d,Fh:f,Fl:p,Gh:m,Gl:y,Hh:w,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,d,f,p,m,y,w,v]}set(e,n,r,i,s,o,a,c,u,d,f,p,m,y,w,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=w|0,this.Hl=v|0}process(e,n){for(let _=0;_<16;_++,n+=4)xl[_]=e.getUint32(n),Sl[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const x=xl[_-15]|0,A=Sl[_-15]|0,T=Dt.rotrSH(x,A,1)^Dt.rotrSH(x,A,8)^Dt.shrSH(x,A,7),O=Dt.rotrSL(x,A,1)^Dt.rotrSL(x,A,8)^Dt.shrSL(x,A,7),N=xl[_-2]|0,D=Sl[_-2]|0,F=Dt.rotrSH(N,D,19)^Dt.rotrBH(N,D,61)^Dt.shrSH(N,D,6),K=Dt.rotrSL(N,D,19)^Dt.rotrBL(N,D,61)^Dt.shrSL(N,D,6),B=Dt.add4L(O,K,Sl[_-7],Sl[_-16]),j=Dt.add4H(B,T,F,xl[_-7],xl[_-16]);xl[_]=j|0,Sl[_]=B|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:d,Eh:f,El:p,Fh:m,Fl:y,Gh:w,Gl:v,Hh:E,Hl:k}=this;for(let _=0;_<80;_++){const x=Dt.rotrSH(f,p,14)^Dt.rotrSH(f,p,18)^Dt.rotrBH(f,p,41),A=Dt.rotrSL(f,p,14)^Dt.rotrSL(f,p,18)^Dt.rotrBL(f,p,41),T=f&m^~f&w,O=p&y^~p&v,N=Dt.add5L(k,A,O,qbe[_],Sl[_]),D=Dt.add5H(N,E,x,T,Vbe[_],xl[_]),F=N|0,K=Dt.rotrSH(r,i,28)^Dt.rotrBH(r,i,34)^Dt.rotrBH(r,i,39),B=Dt.rotrSL(r,i,28)^Dt.rotrBL(r,i,34)^Dt.rotrBL(r,i,39),j=r&s^r&a^s&a,Y=i&o^i&c^o&c;E=w|0,k=v|0,w=m|0,v=y|0,m=f|0,y=p|0,{h:f,l:p}=Dt.add(u|0,d|0,D|0,F|0),u=a|0,d=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const I=Dt.add3L(F,B,Y);r=Dt.add3H(I,D,K,j),i=I|0}({h:r,l:i}=Dt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Dt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Dt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:d}=Dt.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:p}=Dt.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:y}=Dt.add(this.Fh|0,this.Fl|0,m|0,y|0),{h:w,l:v}=Dt.add(this.Gh|0,this.Gl|0,w|0,v|0),{h:E,l:k}=Dt.add(this.Hh|0,this.Hl|0,E|0,k|0),this.set(r,i,s,o,a,c,u,d,f,p,m,y,w,v,E,k)}roundClean(){xl.fill(0),Sl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Kbe=vbe(()=>new Hbe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jk=BigInt(0),WW=BigInt(1),Gbe=BigInt(2);function zk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Wk(t){if(!zk(t))throw new Error("Uint8Array expected")}function yS(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Ybe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vk(t){Wk(t);let e="";for(let n=0;n<t.length;n++)e+=Ybe[t[n]];return e}function VW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jk:BigInt("0x"+t)}const uc={_0:48,_9:57,A:65,F:70,a:97,f:102};function FN(t){if(t>=uc._0&&t<=uc._9)return t-uc._0;if(t>=uc.A&&t<=uc.F)return t-(uc.A-10);if(t>=uc.a&&t<=uc.f)return t-(uc.a-10)}function qW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=FN(t.charCodeAt(s)),a=FN(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Zbe(t){return VW(Vk(t))}function Ub(t){return Wk(t),VW(Vk(Uint8Array.from(t).reverse()))}function HW(t,e){return qW(t.toString(16).padStart(e*2,"0"))}function II(t,e){return HW(t,e).reverse()}function dc(t,e,n){let r;if(typeof e=="string")try{r=qW(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(zk(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function jN(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Wk(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const wS=t=>typeof t=="bigint"&&jk<=t;function Jbe(t,e,n){return wS(t)&&wS(e)&&wS(n)&&e<=t&&t<n}function _m(t,e,n,r){if(!Jbe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Xbe(t){let e;for(e=0;t>jk;t>>=WW,e+=1);return e}const Qbe=t=>(Gbe<<BigInt(t-1))-WW,eve={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||zk(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function qk(t,e,n={}){const r=(i,s,o)=>{const a=eve[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function zN(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Zr=BigInt(0),lr=BigInt(1),Ju=BigInt(2),tve=BigInt(3),kI=BigInt(4),WN=BigInt(5),VN=BigInt(8);function $r(t,e){const n=t%e;return n>=Zr?n:e+n}function nve(t,e,n){if(e<Zr)throw new Error("invalid exponent, negatives unsupported");if(n<=Zr)throw new Error("invalid modulus");if(n===lr)return Zr;let r=lr;for(;e>Zr;)e&lr&&(r=r*t%n),t=t*t%n,e>>=lr;return r}function ma(t,e,n){let r=t;for(;e-- >Zr;)r*=r,r%=n;return r}function qN(t,e){if(t===Zr)throw new Error("invert: expected non-zero number");if(e<=Zr)throw new Error("invert: expected positive modulus, got "+e);let n=$r(t,e),r=e,i=Zr,s=lr;for(;n!==Zr;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==lr)throw new Error("invert: does not exist");return $r(i,e)}function rve(t){const e=(t-lr)/Ju;let n,r,i;for(n=t-lr,r=0;n%Ju===Zr;n/=Ju,r++);for(i=Ju;i<t&&nve(i,e,t)!==t-lr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+lr)/kI;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+lr)/Ju;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(f);p<c&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(u,lr<<BigInt(c-p-1));u=o.sqr(m),d=o.mul(d,m),f=o.mul(f,u),c=p}return d}}function ive(t){if(t%kI===tve){const e=(t+lr)/kI;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%VN===WN){const e=(t-WN)/VN;return function(n,r){const i=n.mul(r,Ju),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Ju),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return rve(t)}const sve=(t,e)=>($r(t,e)&lr)===lr,ove=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ave(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ove.reduce((r,i)=>(r[i]="function",r),e);return qk(t,n)}function cve(t,e,n){if(n<Zr)throw new Error("invalid exponent, negatives unsupported");if(n===Zr)return t.ONE;if(n===lr)return e;let r=t.ONE,i=e;for(;n>Zr;)n&lr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=lr;return r}function lve(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function KW(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function GW(t,e,n=!1,r={}){if(t<=Zr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=KW(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Qbe(i),ZERO:Zr,ONE:lr,create:c=>$r(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Zr<=c&&c<t},is0:c=>c===Zr,isOdd:c=>(c&lr)===lr,neg:c=>$r(-c,t),eql:(c,u)=>c===u,sqr:c=>$r(c*c,t),add:(c,u)=>$r(c+u,t),sub:(c,u)=>$r(c-u,t),mul:(c,u)=>$r(c*u,t),pow:(c,u)=>cve(a,c,u),div:(c,u)=>$r(c*qN(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>qN(c,t),sqrt:r.sqrt||(c=>(o||(o=ive(t)),o(a,c))),invertBatch:c=>lve(a,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?II(c,s):HW(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Ub(c):Zbe(c)}});return Object.freeze(a)}const HN=BigInt(0),Qw=BigInt(1);function bS(t,e){const n=e.negate();return t?n:e}function YW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function vS(t,e){YW(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function uve(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function dve(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const _S=new WeakMap,ZW=new WeakMap;function ES(t){return ZW.get(t)||1}function hve(t,e){return{constTimeNegate:bS,hasPrecomputes(n){return ES(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>HN;)r&Qw&&(i=i.add(s)),s=s.double(),r>>=Qw;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=vS(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=vS(n,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let y=Number(i&u);i>>=f,y>o&&(y-=d,i+=Qw);const w=m,v=m+Math.abs(y)-1,E=p%2!==0,k=y<0;y===0?c=c.add(bS(E,r[w])):a=a.add(bS(k,r[v]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=vS(n,e),c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<o;f++){const p=f*a;if(i===HN)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=u,i+=Qw),m===0)continue;let y=r[p+Math.abs(m)-1];m<0&&(y=y.negate()),s=s.add(y)}return s},getPrecomputes(n,r,i){let s=_S.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&_S.set(r,i(s))),s},wNAFCached(n,r,i){const s=ES(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=ES(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){YW(r,e),ZW.set(n,r),_S.delete(n)}}}function fve(t,e,n,r){if(uve(n,t),dve(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Xbe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let d=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let m=0;m<r.length;m++){const y=r[m],w=Number(y>>BigInt(f)&BigInt(a));c[w]=c[w].add(n[m])}let p=i;for(let m=c.length-1,y=i;m>0;m--)y=y.add(c[m]),p=p.add(y);if(d=d.add(p),f!==0)for(let m=0;m<o;m++)d=d.double()}return d}function pve(t){return ave(t.Fp),qk(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Po=BigInt(0),Xi=BigInt(1),eb=BigInt(2),mve=BigInt(8),gve={zip215:!0};function yve(t){const e=pve(t);return qk(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function wve(t){const e=yve(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=eb<<BigInt(a*8)-Xi,d=n.create,f=GW(e.n,e.nBitLength),p=e.uvRatio||((I,P)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(P))}}catch{return{isValid:!1,value:Po}}}),m=e.adjustScalarBytes||(I=>I),y=e.domain||((I,P,L)=>{if(yS("phflag",L),P.length||L)throw new Error("Contexts/pre-hash are not supported");return I});function w(I,P){_m("coordinate "+I,P,Po,u)}function v(I){if(!(I instanceof _))throw new Error("ExtendedPoint expected")}const E=zN((I,P)=>{const{ex:L,ey:M,ez:R}=I,z=I.is0();P==null&&(P=z?mve:n.inv(R));const W=d(L*P),G=d(M*P),ie=d(R*P);if(z)return{x:Po,y:Xi};if(ie!==Xi)throw new Error("invZ was invalid");return{x:W,y:G}}),k=zN(I=>{const{a:P,d:L}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:M,ey:R,ez:z,et:W}=I,G=d(M*M),ie=d(R*R),te=d(z*z),ee=d(te*te),pe=d(G*P),ye=d(te*d(pe+ie)),xe=d(ee+d(L*d(G*ie)));if(ye!==xe)throw new Error("bad point: equation left != right (1)");const we=d(M*R),Oe=d(z*W);if(we!==Oe)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(P,L,M,R){this.ex=P,this.ey=L,this.ez=M,this.et=R,w("x",P),w("y",L),w("z",M),w("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof _)throw new Error("extended point not allowed");const{x:L,y:M}=P||{};return w("x",L),w("y",M),new _(L,M,Xi,d(L*M))}static normalizeZ(P){const L=n.invertBatch(P.map(M=>M.ez));return P.map((M,R)=>M.toAffine(L[R])).map(_.fromAffine)}static msm(P,L){return fve(_,f,P,L)}_setWindowSize(P){T.setWindowSize(this,P)}assertValidity(){k(this)}equals(P){v(P);const{ex:L,ey:M,ez:R}=this,{ex:z,ey:W,ez:G}=P,ie=d(L*G),te=d(z*R),ee=d(M*G),pe=d(W*R);return ie===te&&ee===pe}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:P}=e,{ex:L,ey:M,ez:R}=this,z=d(L*L),W=d(M*M),G=d(eb*d(R*R)),ie=d(P*z),te=L+M,ee=d(d(te*te)-z-W),pe=ie+W,ye=pe-G,xe=ie-W,we=d(ee*ye),Oe=d(pe*xe),Xe=d(ee*xe),ot=d(ye*pe);return new _(we,Oe,ot,Xe)}add(P){v(P);const{a:L,d:M}=e,{ex:R,ey:z,ez:W,et:G}=this,{ex:ie,ey:te,ez:ee,et:pe}=P;if(L===BigInt(-1)){const Le=d((z-R)*(te+ie)),Be=d((z+R)*(te-ie)),Kn=d(Be-Le);if(Kn===Po)return this.double();const tr=d(W*eb*pe),ft=d(G*eb*ee),Sr=ft+tr,Pi=Be+Le,mi=ft-tr,Lr=d(Sr*Kn),nn=d(Pi*mi),Gn=d(Sr*mi),Fn=d(Kn*Pi);return new _(Lr,nn,Fn,Gn)}const ye=d(R*ie),xe=d(z*te),we=d(G*M*pe),Oe=d(W*ee),Xe=d((R+z)*(ie+te)-ye-xe),ot=Oe-we,fe=Oe+we,St=d(xe-L*ye),Nt=d(Xe*ot),lt=d(fe*St),er=d(Xe*St),Ut=d(ot*fe);return new _(Nt,lt,Ut,er)}subtract(P){return this.add(P.negate())}wNAF(P){return T.wNAFCached(this,P,_.normalizeZ)}multiply(P){const L=P;_m("scalar",L,Xi,r);const{p:M,f:R}=this.wNAF(L);return _.normalizeZ([M,R])[0]}multiplyUnsafe(P,L=_.ZERO){const M=P;return _m("scalar",M,Po,r),M===Po?A:this.is0()||M===Xi?this:T.wNAFCachedUnsafe(this,M,_.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(P){return E(this,P)}clearCofactor(){const{h:P}=e;return P===Xi?this:this.multiplyUnsafe(P)}static fromHex(P,L=!1){const{d:M,a:R}=e,z=n.BYTES;P=dc("pointHex",P,z),yS("zip215",L);const W=P.slice(),G=P[z-1];W[z-1]=G&-129;const ie=Ub(W),te=L?u:n.ORDER;_m("pointHex.y",ie,Po,te);const ee=d(ie*ie),pe=d(ee-Xi),ye=d(M*ee-R);let{isValid:xe,value:we}=p(pe,ye);if(!xe)throw new Error("Point.fromHex: invalid y coordinate");const Oe=(we&Xi)===Xi,Xe=(G&128)!==0;if(!L&&we===Po&&Xe)throw new Error("Point.fromHex: x=0 and x_0=1");return Xe!==Oe&&(we=d(-we)),_.fromAffine({x:we,y:ie})}static fromPrivateKey(P){return D(P).point}toRawBytes(){const{x:P,y:L}=this.toAffine(),M=II(L,n.BYTES);return M[M.length-1]|=P&Xi?128:0,M}toHex(){return Vk(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Xi,d(e.Gx*e.Gy)),_.ZERO=new _(Po,Xi,Xi,Po);const{BASE:x,ZERO:A}=_,T=hve(_,a*8);function O(I){return $r(I,r)}function N(I){return O(Ub(I))}function D(I){const P=n.BYTES;I=dc("private key",I,P);const L=dc("hashed private key",s(I),2*P),M=m(L.slice(0,P)),R=L.slice(P,2*P),z=N(M),W=x.multiply(z),G=W.toRawBytes();return{head:M,prefix:R,scalar:z,point:W,pointBytes:G}}function F(I){return D(I).pointBytes}function K(I=new Uint8Array,...P){const L=jN(...P);return N(s(y(L,dc("context",I),!!i)))}function B(I,P,L={}){I=dc("message",I),i&&(I=i(I));const{prefix:M,scalar:R,pointBytes:z}=D(P),W=K(L.context,M,I),G=x.multiply(W).toRawBytes(),ie=K(L.context,G,z,I),te=O(W+ie*R);_m("signature.s",te,Po,r);const ee=jN(G,II(te,n.BYTES));return dc("result",ee,n.BYTES*2)}const j=gve;function Y(I,P,L,M=j){const{context:R,zip215:z}=M,W=n.BYTES;I=dc("signature",I,2*W),P=dc("message",P),L=dc("publicKey",L,W),z!==void 0&&yS("zip215",z),i&&(P=i(P));const G=Ub(I.slice(W,2*W));let ie,te,ee;try{ie=_.fromHex(L,z),te=_.fromHex(I.slice(0,W),z),ee=x.multiplyUnsafe(G)}catch{return!1}if(!z&&ie.isSmallOrder())return!1;const pe=K(R,te.toRawBytes(),ie.toRawBytes(),P);return te.add(ie.multiplyUnsafe(pe)).subtract(ee).clearCofactor().equals(_.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:B,verify:Y,ExtendedPoint:_,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,P=_.BASE){return P._setWindowSize(I),P.multiply(BigInt(3)),P}}}}BigInt(0),BigInt(1);const Hk=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),KN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const bve=BigInt(1),GN=BigInt(2);BigInt(3);const vve=BigInt(5),_ve=BigInt(8);function Eve(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Hk,o=t*t%s*t%s,a=ma(o,GN,s)*o%s,c=ma(a,bve,s)*t%s,u=ma(c,vve,s)*c%s,d=ma(u,e,s)*u%s,f=ma(d,n,s)*d%s,p=ma(f,r,s)*f%s,m=ma(p,i,s)*p%s,y=ma(m,i,s)*p%s,w=ma(y,e,s)*u%s;return{pow_p_5_8:ma(w,GN,s)*t%s,b2:o}}function xve(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Sve(t,e){const n=Hk,r=$r(e*e*e,n),i=$r(r*r*e,n),s=Eve(t*i).pow_p_5_8;let o=$r(t*r*s,n);const a=$r(e*o*o,n),c=o,u=$r(o*KN,n),d=a===t,f=a===$r(-t,n),p=a===$r(-t*KN,n);return d&&(o=c),(f||p)&&(o=u),sve(o,n)&&(o=$r(-o,n)),{isValid:d||f,value:o}}const Ave=GW(Hk,void 0,!0),Tve={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ave,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_ve,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kbe,randomBytes:jW,adjustScalarBytes:xve,uvRatio:Sve},JW=wve(Tve),Ive="EdDSA",kve="JWT",Gv=".",S_="base64url",XW="utf8",QW="utf8",Cve=":",Pve="did",Ove="key",YN="base58btc",Rve="z",Nve="K36",$ve=32;function Kk(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function eV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Kk(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function tV(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=eV(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Kk(n)}function Dve(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var w=0,v=0,E=0,k=y.length;E!==k&&y[E]===0;)E++,w++;for(var _=(k-E)*d+1>>>0,x=new Uint8Array(_);E!==k;){for(var A=y[E],T=0,O=_-1;(A!==0||T<v)&&O!==-1;O--,T++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");v=T,E++}for(var N=_-v;N!==_&&x[N]===0;)N++;for(var D=c.repeat(w);N<_;++N)D+=t.charAt(x[N]);return D}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var w=0;if(y[w]!==" "){for(var v=0,E=0;y[w]===c;)v++,w++;for(var k=(y.length-w)*u+1>>>0,_=new Uint8Array(k);y[w];){var x=n[y.charCodeAt(w)];if(x===255)return;for(var A=0,T=k-1;(x!==0||A<E)&&T!==-1;T--,A++)x+=a*_[T]>>>0,_[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");E=A,w++}if(y[w]!==" "){for(var O=k-E;O!==k&&_[O]===0;)O++;for(var N=new Uint8Array(v+(k-O)),D=v;O!==k;)N[D++]=_[O++];return N}}}function m(y){var w=p(y);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var Mve=Dve,Lve=Mve;const nV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Bve=t=>new TextEncoder().encode(t),Uve=t=>new TextDecoder().decode(t);let Fve=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},jve=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return rV(this,e)}},zve=class{constructor(e){this.decoders=e}or(e){return rV(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const rV=(t,e)=>new zve({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Wve=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Fve(e,n,r),this.decoder=new jve(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const A_=({name:t,prefix:e,encode:n,decode:r})=>new Wve(t,e,n,r),n0=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Lve(n,e);return A_({prefix:t,name:e,encode:r,decode:s=>nV(i(s))})},Vve=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let d=0;d<s;++d){const f=i[t[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qve=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},hi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>A_({prefix:e,name:t,encode(i){return qve(i,r,n)},decode(i){return Vve(i,r,n,t)}}),Hve=A_({prefix:"\0",name:"identity",encode:t=>Uve(t),decode:t=>Bve(t)});var Kve=Object.freeze({__proto__:null,identity:Hve});const Gve=hi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Yve=Object.freeze({__proto__:null,base2:Gve});const Zve=hi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Jve=Object.freeze({__proto__:null,base8:Zve});const Xve=n0({prefix:"9",name:"base10",alphabet:"0123456789"});var Qve=Object.freeze({__proto__:null,base10:Xve});const e1e=hi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),t1e=hi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var n1e=Object.freeze({__proto__:null,base16:e1e,base16upper:t1e});const r1e=hi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i1e=hi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s1e=hi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),o1e=hi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),a1e=hi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c1e=hi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l1e=hi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),u1e=hi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d1e=hi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var h1e=Object.freeze({__proto__:null,base32:r1e,base32upper:i1e,base32pad:s1e,base32padupper:o1e,base32hex:a1e,base32hexupper:c1e,base32hexpad:l1e,base32hexpadupper:u1e,base32z:d1e});const f1e=n0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),p1e=n0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var m1e=Object.freeze({__proto__:null,base36:f1e,base36upper:p1e});const g1e=n0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),y1e=n0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var w1e=Object.freeze({__proto__:null,base58btc:g1e,base58flickr:y1e});const b1e=hi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),v1e=hi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_1e=hi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),E1e=hi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var x1e=Object.freeze({__proto__:null,base64:b1e,base64pad:v1e,base64url:_1e,base64urlpad:E1e});const iV=Array.from(""),S1e=iV.reduce((t,e,n)=>(t[n]=e,t),[]),A1e=iV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function T1e(t){return t.reduce((e,n)=>(e+=S1e[n],e),"")}function I1e(t){const e=[];for(const n of t){const r=A1e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const k1e=A_({prefix:"",name:"base256emoji",encode:T1e,decode:I1e});var C1e=Object.freeze({__proto__:null,base256emoji:k1e}),P1e=sV,ZN=128,O1e=-128,R1e=Math.pow(2,31);function sV(t,e,n){e=e||[],n=n||0;for(var r=n;t>=R1e;)e[n++]=t&255|ZN,t/=128;for(;t&O1e;)e[n++]=t&255|ZN,t>>>=7;return e[n]=t|0,sV.bytes=n-r+1,e}var N1e=CI,$1e=128,JN=127;function CI(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw CI.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&JN)<<i:(o&JN)*Math.pow(2,i),i+=7}while(o>=$1e);return CI.bytes=s-r,n}var D1e=Math.pow(2,7),M1e=Math.pow(2,14),L1e=Math.pow(2,21),B1e=Math.pow(2,28),U1e=Math.pow(2,35),F1e=Math.pow(2,42),j1e=Math.pow(2,49),z1e=Math.pow(2,56),W1e=Math.pow(2,63),V1e=function(t){return t<D1e?1:t<M1e?2:t<L1e?3:t<B1e?4:t<U1e?5:t<F1e?6:t<j1e?7:t<z1e?8:t<W1e?9:10},q1e={encode:P1e,decode:N1e,encodingLength:V1e},oV=q1e;const XN=(t,e,n=0)=>(oV.encode(t,e,n),e),QN=t=>oV.encodingLength(t),PI=(t,e)=>{const n=e.byteLength,r=QN(t),i=r+QN(n),s=new Uint8Array(i+n);return XN(t,s,0),XN(n,s,r),s.set(e,i),new H1e(t,n,e,s)};let H1e=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const aV=({name:t,code:e,encode:n})=>new K1e(t,e,n);let K1e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?PI(this.code,n):n.then(r=>PI(this.code,r))}else throw Error("Unknown type, must be binary type")}};const cV=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),G1e=aV({name:"sha2-256",code:18,encode:cV("SHA-256")}),Y1e=aV({name:"sha2-512",code:19,encode:cV("SHA-512")});var Z1e=Object.freeze({__proto__:null,sha256:G1e,sha512:Y1e});const lV=0,J1e="identity",uV=nV,X1e=t=>PI(lV,uV(t)),Q1e={code:lV,name:J1e,encode:uV,digest:X1e};var e_e=Object.freeze({__proto__:null,identity:Q1e});new TextEncoder,new TextDecoder;const e$={...Kve,...Yve,...Jve,...Qve,...n1e,...h1e,...m1e,...w1e,...x1e,...C1e};({...Z1e,...e_e});function dV(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const t$=dV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),xS=dV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=eV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),hV={utf8:t$,"utf-8":t$,hex:e$.base16,latin1:xS,ascii:xS,binary:xS,...e$};function T_(t,e="utf8"){const n=hV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function wp(t,e="utf8"){const n=hV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Kk(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function n$(t){return $d(T_(wp(t,S_),XW))}function Yv(t){return T_(wp(Gc(t),XW),S_)}function fV(t){const e=wp(Nve,YN),n=Rve+T_(tV([e,t]),YN);return[Pve,Ove,n].join(Cve)}function t_e(t){return T_(t,S_)}function n_e(t){return wp(t,S_)}function r_e(t){return wp([Yv(t.header),Yv(t.payload)].join(Gv),QW)}function i_e(t){return[Yv(t.header),Yv(t.payload),t_e(t.signature)].join(Gv)}function OI(t){const e=t.split(Gv),n=n$(e[0]),r=n$(e[1]),i=n_e(e[2]),s=wp(e.slice(0,2).join(Gv),QW);return{header:n,payload:r,signature:i,data:s}}function r$(t=jW($ve)){const e=JW.getPublicKey(t);return{secretKey:tV([t,e]),publicKey:e}}async function s_e(t,e,n,r,i=Me.fromMiliseconds(Date.now())){const s={alg:Ive,typ:kve},o=fV(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},u=r_e({header:s,payload:c}),d=JW.sign(u,r.secretKey.slice(0,32));return i_e({header:s,payload:c,signature:d})}function Gk(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Gk(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function hg(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=pV(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Gk(n)}function o_e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var w=0,v=0,E=0,k=y.length;E!==k&&y[E]===0;)E++,w++;for(var _=(k-E)*d+1>>>0,x=new Uint8Array(_);E!==k;){for(var A=y[E],T=0,O=_-1;(A!==0||T<v)&&O!==-1;O--,T++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");v=T,E++}for(var N=_-v;N!==_&&x[N]===0;)N++;for(var D=c.repeat(w);N<_;++N)D+=t.charAt(x[N]);return D}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var w=0;if(y[w]!==" "){for(var v=0,E=0;y[w]===c;)v++,w++;for(var k=(y.length-w)*u+1>>>0,_=new Uint8Array(k);y[w];){var x=n[y.charCodeAt(w)];if(x===255)return;for(var A=0,T=k-1;(x!==0||A<E)&&T!==-1;T--,A++)x+=a*_[T]>>>0,_[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");E=A,w++}if(y[w]!==" "){for(var O=k-E;O!==k&&_[O]===0;)O++;for(var N=new Uint8Array(v+(k-O)),D=v;O!==k;)N[D++]=_[O++];return N}}}function m(y){var w=p(y);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var a_e=o_e,c_e=a_e;const l_e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},u_e=t=>new TextEncoder().encode(t),d_e=t=>new TextDecoder().decode(t);class h_e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class f_e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mV(this,e)}}class p_e{constructor(e){this.decoders=e}or(e){return mV(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const mV=(t,e)=>new p_e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class m_e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new h_e(e,n,r),this.decoder=new f_e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const I_=({name:t,prefix:e,encode:n,decode:r})=>new m_e(t,e,n,r),r0=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=c_e(n,e);return I_({prefix:t,name:e,encode:r,decode:s=>l_e(i(s))})},g_e=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let d=0;d<s;++d){const f=i[t[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},y_e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},fi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>I_({prefix:e,name:t,encode(i){return y_e(i,r,n)},decode(i){return g_e(i,r,n,t)}}),w_e=I_({prefix:"\0",name:"identity",encode:t=>d_e(t),decode:t=>u_e(t)}),b_e=Object.freeze(Object.defineProperty({__proto__:null,identity:w_e},Symbol.toStringTag,{value:"Module"})),v_e=fi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),__e=Object.freeze(Object.defineProperty({__proto__:null,base2:v_e},Symbol.toStringTag,{value:"Module"})),E_e=fi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),x_e=Object.freeze(Object.defineProperty({__proto__:null,base8:E_e},Symbol.toStringTag,{value:"Module"})),S_e=r0({prefix:"9",name:"base10",alphabet:"0123456789"}),A_e=Object.freeze(Object.defineProperty({__proto__:null,base10:S_e},Symbol.toStringTag,{value:"Module"})),T_e=fi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),I_e=fi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),k_e=Object.freeze(Object.defineProperty({__proto__:null,base16:T_e,base16upper:I_e},Symbol.toStringTag,{value:"Module"})),C_e=fi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),P_e=fi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),O_e=fi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),R_e=fi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),N_e=fi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$_e=fi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),D_e=fi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),M_e=fi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),L_e=fi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),B_e=Object.freeze(Object.defineProperty({__proto__:null,base32:C_e,base32hex:N_e,base32hexpad:D_e,base32hexpadupper:M_e,base32hexupper:$_e,base32pad:O_e,base32padupper:R_e,base32upper:P_e,base32z:L_e},Symbol.toStringTag,{value:"Module"})),U_e=r0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),F_e=r0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),j_e=Object.freeze(Object.defineProperty({__proto__:null,base36:U_e,base36upper:F_e},Symbol.toStringTag,{value:"Module"})),z_e=r0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),W_e=r0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),V_e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:z_e,base58flickr:W_e},Symbol.toStringTag,{value:"Module"})),q_e=fi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),H_e=fi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),K_e=fi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),G_e=fi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Y_e=Object.freeze(Object.defineProperty({__proto__:null,base64:q_e,base64pad:H_e,base64url:K_e,base64urlpad:G_e},Symbol.toStringTag,{value:"Module"})),gV=Array.from(""),Z_e=gV.reduce((t,e,n)=>(t[n]=e,t),[]),J_e=gV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function X_e(t){return t.reduce((e,n)=>(e+=Z_e[n],e),"")}function Q_e(t){const e=[];for(const n of t){const r=J_e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const eEe=I_({prefix:"",name:"base256emoji",encode:X_e,decode:Q_e}),tEe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:eEe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const i$={...b_e,...__e,...x_e,...A_e,...k_e,...B_e,...j_e,...V_e,...Y_e,...tEe};function yV(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const s$=yV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),SS=yV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=pV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),wV={utf8:s$,"utf-8":s$,hex:i$.base16,latin1:SS,ascii:SS,binary:SS,...i$};function lo(t,e="utf8"){const n=wV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Gk(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ds(t,e="utf8"){const n=wV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const nEe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var AS,o$;function bV(){if(o$)return AS;o$=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let u=`
`+o+" = ";for(let d=0;d<a.length;d+=2){if(c===32)u+=r(a[d]).toUpperCase(),u+=" ",u+=r(a[d+1]).toUpperCase();else if(c===64)u+=r(a[d+1]).toUpperCase(),u+=r(a[d]).toUpperCase();else throw new Error("Invalid size "+c);d%6===4?u+=`
`+new Array(o.length+4).join(" "):d<a.length-2&&(u+=" ")}console.log(u)}function s(o,a,c){let u=new Date().getTime();const d=new Uint8Array(a);for(let p=0;p<a;p++)d[p]=p%256;const f=new Date().getTime();console.log("Generated random input in "+(f-u)+"ms"),u=f;for(let p=0;p<c;p++){const m=o(d),y=new Date().getTime(),w=y-u;u=y,console.log("Hashed in "+w+"ms: "+m.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(w/1e3)*100)/100+" MB PER SECOND")}}return AS={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},AS}var TS,a$;function rEe(){if(a$)return TS;a$=1;const t=bV();function e(E,k,_){const x=E[k]+E[_];let A=E[k+1]+E[_+1];x>=4294967296&&A++,E[k]=x,E[k+1]=A}function n(E,k,_,x){let A=E[k]+_;_<0&&(A+=4294967296);let T=E[k+1]+x;A>=4294967296&&T++,E[k]=A,E[k+1]=T}function r(E,k){return E[k]^E[k+1]<<8^E[k+2]<<16^E[k+3]<<24}function i(E,k,_,x,A,T){const O=u[A],N=u[A+1],D=u[T],F=u[T+1];e(c,E,k),n(c,E,O,N);let K=c[x]^c[E],B=c[x+1]^c[E+1];c[x]=B,c[x+1]=K,e(c,_,x),K=c[k]^c[_],B=c[k+1]^c[_+1],c[k]=K>>>24^B<<8,c[k+1]=B>>>24^K<<8,e(c,E,k),n(c,E,D,F),K=c[x]^c[E],B=c[x+1]^c[E+1],c[x]=K>>>16^B<<16,c[x+1]=B>>>16^K<<16,e(c,_,x),K=c[k]^c[_],B=c[k+1]^c[_+1],c[k]=B>>>31^K<<1,c[k+1]=K>>>31^B<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(E){return E*2})),c=new Uint32Array(32),u=new Uint32Array(32);function d(E,k){let _=0;for(_=0;_<16;_++)c[_]=E.h[_],c[_+16]=s[_];for(c[24]=c[24]^E.t,c[25]=c[25]^E.t/4294967296,k&&(c[28]=~c[28],c[29]=~c[29]),_=0;_<32;_++)u[_]=r(E.b,4*_);for(_=0;_<12;_++)i(0,8,16,24,a[_*16+0],a[_*16+1]),i(2,10,18,26,a[_*16+2],a[_*16+3]),i(4,12,20,28,a[_*16+4],a[_*16+5]),i(6,14,22,30,a[_*16+6],a[_*16+7]),i(0,10,20,30,a[_*16+8],a[_*16+9]),i(2,12,22,24,a[_*16+10],a[_*16+11]),i(4,14,16,26,a[_*16+12],a[_*16+13]),i(6,8,18,28,a[_*16+14],a[_*16+15]);for(_=0;_<16;_++)E.h[_]=E.h[_]^c[_]^c[_+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(E,k,_,x){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(x&&x.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const A={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};f.fill(0),f[0]=E,k&&(f[1]=k.length),f[2]=1,f[3]=1,_&&f.set(_,32),x&&f.set(x,48);for(let T=0;T<16;T++)A.h[T]=s[T]^r(f,T*4);return k&&(m(A,k),A.c=128),A}function m(E,k){for(let _=0;_<k.length;_++)E.c===128&&(E.t+=E.c,d(E,!1),E.c=0),E.b[E.c++]=k[_]}function y(E){for(E.t+=E.c;E.c<128;)E.b[E.c++]=0;d(E,!0);const k=new Uint8Array(E.outlen);for(let _=0;_<E.outlen;_++)k[_]=E.h[_>>2]>>8*(_&3);return k}function w(E,k,_,x,A){_=_||64,E=t.normalizeInput(E),x&&(x=t.normalizeInput(x)),A&&(A=t.normalizeInput(A));const T=p(_,k,x,A);return m(T,E),y(T)}function v(E,k,_,x,A){const T=w(E,k,_,x,A);return t.toHex(T)}return TS={blake2b:w,blake2bHex:v,blake2bInit:p,blake2bUpdate:m,blake2bFinal:y},TS}var IS,c$;function iEe(){if(c$)return IS;c$=1;const t=bV();function e(y,w){return y[w]^y[w+1]<<8^y[w+2]<<16^y[w+3]<<24}function n(y,w,v,E,k,_){o[y]=o[y]+o[w]+k,o[E]=r(o[E]^o[y],16),o[v]=o[v]+o[E],o[w]=r(o[w]^o[v],12),o[y]=o[y]+o[w]+_,o[E]=r(o[E]^o[y],8),o[v]=o[v]+o[E],o[w]=r(o[w]^o[v],7)}function r(y,w){return y>>>w^y<<32-w}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(y,w){let v=0;for(v=0;v<8;v++)o[v]=y.h[v],o[v+8]=i[v];for(o[12]^=y.t,o[13]^=y.t/4294967296,w&&(o[14]=~o[14]),v=0;v<16;v++)a[v]=e(y.b,4*v);for(v=0;v<10;v++)n(0,4,8,12,a[s[v*16+0]],a[s[v*16+1]]),n(1,5,9,13,a[s[v*16+2]],a[s[v*16+3]]),n(2,6,10,14,a[s[v*16+4]],a[s[v*16+5]]),n(3,7,11,15,a[s[v*16+6]],a[s[v*16+7]]),n(0,5,10,15,a[s[v*16+8]],a[s[v*16+9]]),n(1,6,11,12,a[s[v*16+10]],a[s[v*16+11]]),n(2,7,8,13,a[s[v*16+12]],a[s[v*16+13]]),n(3,4,9,14,a[s[v*16+14]],a[s[v*16+15]]);for(v=0;v<8;v++)y.h[v]^=o[v]^o[v+8]}function u(y,w){if(!(y>0&&y<=32))throw new Error("Incorrect output length, should be in [1, 32]");const v=w?w.length:0;if(w&&!(v>0&&v<=32))throw new Error("Incorrect key length, should be in [1, 32]");const E={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:y};return E.h[0]^=16842752^v<<8^y,v>0&&(d(E,w),E.c=64),E}function d(y,w){for(let v=0;v<w.length;v++)y.c===64&&(y.t+=y.c,c(y,!1),y.c=0),y.b[y.c++]=w[v]}function f(y){for(y.t+=y.c;y.c<64;)y.b[y.c++]=0;c(y,!0);const w=new Uint8Array(y.outlen);for(let v=0;v<y.outlen;v++)w[v]=y.h[v>>2]>>8*(v&3)&255;return w}function p(y,w,v){v=v||32,y=t.normalizeInput(y);const E=u(v,w);return d(E,y),f(E)}function m(y,w,v){const E=p(y,w,v);return t.toHex(E)}return IS={blake2s:p,blake2sHex:m,blake2sInit:u,blake2sUpdate:d,blake2sFinal:f},IS}var kS,l$;function sEe(){if(l$)return kS;l$=1;const t=rEe(),e=iEe();return kS={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},kS}var oEe=sEe(),Em={exports:{}},CS,u$;function aEe(){if(u$)return CS;u$=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}CS=e;function e(n,r,i){var s=i&&i.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var u=1;u<a;u++)c[u]=s(r[u]);return c.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var f="",p=1-o,m=-1,y=n&&n.length||0,w=0;w<y;){if(n.charCodeAt(w)===37&&w+1<y){switch(m=m>-1?m:0,n.charCodeAt(w+1)){case 100:case 102:if(p>=d||r[p]==null)break;m<w&&(f+=n.slice(m,w)),f+=Number(r[p]),m=w+2,w++;break;case 105:if(p>=d||r[p]==null)break;m<w&&(f+=n.slice(m,w)),f+=Math.floor(Number(r[p])),m=w+2,w++;break;case 79:case 111:case 106:if(p>=d||r[p]===void 0)break;m<w&&(f+=n.slice(m,w));var v=typeof r[p];if(v==="string"){f+="'"+r[p]+"'",m=w+2,w++;break}if(v==="function"){f+=r[p].name||"<anonymous>",m=w+2,w++;break}f+=s(r[p]),m=w+2,w++;break;case 115:if(p>=d)break;m<w&&(f+=n.slice(m,w)),f+=String(r[p]),m=w+2,w++;break;case 37:m<w&&(f+=n.slice(m,w)),f+="%",m=w+2,w++,p--;break}++p}++w}return m===-1?n:(m<y&&(f+=n.slice(m)),f)}return CS}var d$;function cEe(){if(d$)return Em.exports;d$=1;const t=aEe();Em.exports=d;const e=Y().console||{},n={mapHttpRequest:O,mapHttpResponse:O,wrapRequestSerializer:N,wrapResponseSerializer:N,wrapErrorSerializer:N,req:O,res:O,err:A,errWithCause:A};function r(I,P){return I==="silent"?1/0:P.levels.values[I]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),o={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function a(I,P){const L={logger:P,parent:I[s]};P[s]=L}function c(I,P,L){const M={};P.forEach(R=>{M[R]=L[R]?L[R]:e[R]||e[o[R]||"log"]||D}),I[i]=M}function u(I,P){return Array.isArray(I)?I.filter(function(M){return M!=="!stdSerializers.err"}):I===!0?Object.keys(P):!1}function d(I){I=I||{},I.browser=I.browser||{};const P=I.browser.transmit;if(P&&typeof P.send!="function")throw Error("pino: transmit option must have a send function");const L=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const M=I.serializers||{},R=u(I.browser.serialize,M);let z=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(z=!1);const W=Object.keys(I.customLevels||{}),G=["error","fatal","warn","info","debug","trace"].concat(W);typeof L=="function"&&G.forEach(function(Oe){L[Oe]=L}),(I.enabled===!1||I.browser.disabled)&&(I.level="silent");const ie=I.level||"info",te=Object.create(L);te.log||(te.log=D),c(te,G,L),a({},te),Object.defineProperty(te,"levelVal",{get:pe}),Object.defineProperty(te,"level",{get:ye,set:xe});const ee={transmit:P,serialize:R,asObject:I.browser.asObject,asObjectBindingsOnly:I.browser.asObjectBindingsOnly,formatters:I.browser.formatters,levels:G,timestamp:T(I),messageKey:I.messageKey||"msg",onChild:I.onChild||D};te.levels=f(I),te.level=ie,te.isLevelEnabled=function(Oe){return this.levels.values[Oe]?this.levels.values[Oe]>=this.levels.values[this.level]:!1},te.setMaxListeners=te.getMaxListeners=te.emit=te.addListener=te.on=te.prependListener=te.once=te.prependOnceListener=te.removeListener=te.removeAllListeners=te.listeners=te.listenerCount=te.eventNames=te.write=te.flush=D,te.serializers=M,te._serialize=R,te._stdErrSerialize=z,te.child=function(...Oe){return we.call(this,ee,...Oe)},P&&(te._logEvent=x());function pe(){return r(this.level,this)}function ye(){return this._level}function xe(Oe){if(Oe!=="silent"&&!this.levels.values[Oe])throw Error("unknown level "+Oe);this._level=Oe,y(this,ee,te,"error"),y(this,ee,te,"fatal"),y(this,ee,te,"warn"),y(this,ee,te,"info"),y(this,ee,te,"debug"),y(this,ee,te,"trace"),W.forEach(Xe=>{y(this,ee,te,Xe)})}function we(Oe,Xe,ot){if(!Xe)throw new Error("missing bindings for child Pino");ot=ot||{},R&&Xe.serializers&&(ot.serializers=Xe.serializers);const fe=ot.serializers;if(R&&fe){var St=Object.assign({},M,fe),Nt=I.browser.serialize===!0?Object.keys(St):R;delete Xe.serializers,k([Xe],Nt,St,this._stdErrSerialize)}function lt(Ut){this._childLevel=(Ut._childLevel|0)+1,this.bindings=Xe,St&&(this.serializers=St,this._serialize=Nt),P&&(this._logEvent=x([].concat(Ut._logEvent.bindings,Xe)))}lt.prototype=this;const er=new lt(this);return a(this,er),er.child=function(...Ut){return we.call(this,Oe,...Ut)},er.level=ot.level||this.level,Oe.onChild(er),er}return te}function f(I){const P=I.customLevels||{},L=Object.assign({},d.levels.values,P),M=Object.assign({},d.levels.labels,p(P));return{values:L,labels:M}}function p(I){const P={};return Object.keys(I).forEach(function(L){P[I[L]]=L}),P}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=n,d.stdTimeFunctions=Object.assign({},{nullTime:F,epochTime:K,unixTime:B,isoTime:j});function m(I){const P=[];I.bindings&&P.push(I.bindings);let L=I[s];for(;L.parent;)L=L.parent,L.logger.bindings&&P.push(L.logger.bindings);return P.reverse()}function y(I,P,L,M){if(Object.defineProperty(I,M,{value:r(I.level,L)>r(M,L)?D:L[i][M],writable:!0,enumerable:!0,configurable:!0}),I[M]===D){if(!P.transmit)return;const z=P.transmit.level||I.level,W=r(z,L);if(r(M,L)<W)return}I[M]=v(I,P,L,M);const R=m(I);R.length!==0&&(I[M]=w(R,I[M]))}function w(I,P){return function(){return P.apply(this,[...I,...arguments])}}function v(I,P,L,M){return(function(R){return function(){const W=P.timestamp(),G=new Array(arguments.length),ie=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var te=0;te<G.length;te++)G[te]=arguments[te];var ee=!1;if(P.serialize&&(k(G,this._serialize,this.serializers,this._stdErrSerialize),ee=!0),P.asObject||P.formatters?R.call(ie,...E(this,M,G,W,P)):R.apply(ie,G),P.transmit){const pe=P.transmit.level||I._level,ye=r(pe,L),xe=r(M,L);if(xe<ye)return;_(this,{ts:W,methodLevel:M,methodValue:xe,transmitValue:L.levels.values[P.transmit.level||I._level],send:P.transmit.send,val:r(I._level,L)},G,ee)}}})(I[i][M])}function E(I,P,L,M,R){const{level:z,log:W=pe=>pe}=R.formatters||{},G=L.slice();let ie=G[0];const te={};let ee=(I._childLevel|0)+1;if(ee<1&&(ee=1),M&&(te.time=M),z){const pe=z(P,I.levels.values[P]);Object.assign(te,pe)}else te.level=I.levels.values[P];if(R.asObjectBindingsOnly){if(ie!==null&&typeof ie=="object")for(;ee--&&typeof G[0]=="object";)Object.assign(te,G.shift());return[W(te),...G]}else{if(ie!==null&&typeof ie=="object"){for(;ee--&&typeof G[0]=="object";)Object.assign(te,G.shift());ie=G.length?t(G.shift(),G):void 0}else typeof ie=="string"&&(ie=t(G.shift(),G));return ie!==void 0&&(te[R.messageKey]=ie),[W(te)]}}function k(I,P,L,M){for(const R in I)if(M&&I[R]instanceof Error)I[R]=d.stdSerializers.err(I[R]);else if(typeof I[R]=="object"&&!Array.isArray(I[R])&&P)for(const z in I[R])P.indexOf(z)>-1&&z in L&&(I[R][z]=L[z](I[R][z]))}function _(I,P,L,M=!1){const R=P.send,z=P.ts,W=P.methodLevel,G=P.methodValue,ie=P.val,te=I._logEvent.bindings;M||k(L,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=z,I._logEvent.messages=L.filter(function(ee){return te.indexOf(ee)===-1}),I._logEvent.level.label=W,I._logEvent.level.value=G,R(W,I._logEvent,ie),I._logEvent=x(te)}function x(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function A(I){const P={type:I.constructor.name,msg:I.message,stack:I.stack};for(const L in I)P[L]===void 0&&(P[L]=I[L]);return P}function T(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?F:K}function O(){return{}}function N(I){return I}function D(){}function F(){return!1}function K(){return Date.now()}function B(){return Math.round(Date.now()/1e3)}function j(){return new Date(Date.now()).toISOString()}function Y(){function I(P){return typeof P<"u"&&P}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return Em.exports.default=d,Em.exports.pino=d,Em.exports}var nf=cEe();const vV=cu(nf),lEe={level:"info"},k_="custom_context",Yk=1e3*1024;var uEe=Object.defineProperty,dEe=(t,e,n)=>e in t?uEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vl=(t,e,n)=>dEe(t,typeof e!="symbol"?e+"":e,n);let hEe=class{constructor(e){Vl(this,"nodeValue"),Vl(this,"sizeInBytes"),Vl(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},h$=class{constructor(e){Vl(this,"lengthInNodes"),Vl(this,"sizeInBytes"),Vl(this,"head"),Vl(this,"tail"),Vl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new hEe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var fEe=Object.defineProperty,pEe=(t,e,n)=>e in t?fEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tb=(t,e,n)=>pEe(t,typeof e!="symbol"?e+"":e,n);let _V=class{constructor(e,n=Yk){tb(this,"logs"),tb(this,"level"),tb(this,"levelValue"),tb(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=nf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new h$(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===nf.levels.values.error?console.error(e):n===nf.levels.values.warn?console.warn(e):n===nf.levels.values.debug?console.debug(e):n===nf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Gc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new h$(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Gc({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var mEe=Object.defineProperty,gEe=(t,e,n)=>e in t?mEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yEe=(t,e,n)=>gEe(t,e+"",n);let wEe=class{constructor(e,n=Yk){yEe(this,"baseChunkLogger"),this.baseChunkLogger=new _V(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var bEe=Object.defineProperty,vEe=(t,e,n)=>e in t?bEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_Ee=(t,e,n)=>vEe(t,e+"",n);let EEe=class{constructor(e,n=Yk){_Ee(this,"baseChunkLogger"),this.baseChunkLogger=new _V(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var xEe=Object.defineProperty,SEe=Object.defineProperties,AEe=Object.getOwnPropertyDescriptors,f$=Object.getOwnPropertySymbols,TEe=Object.prototype.hasOwnProperty,IEe=Object.prototype.propertyIsEnumerable,p$=(t,e,n)=>e in t?xEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zv=(t,e)=>{for(var n in e||(e={}))TEe.call(e,n)&&p$(t,n,e[n]);if(f$)for(var n of f$(e))IEe.call(e,n)&&p$(t,n,e[n]);return t},Jv=(t,e)=>SEe(t,AEe(e));function kEe(t){return Jv(Zv({},t),{level:(t==null?void 0:t.level)||lEe.level})}function CEe(t,e,n=k_){return t[n]=e,t}function ms(t,e=k_){return t[e]||""}function PEe(t,e,n=k_){const r=ms(t,n);return r.trim()?`${r}/${e}`:e}function Us(t,e,n=k_){const r=PEe(t,e,n),i=t.child({context:r});return CEe(i,r,n)}function OEe(t){var e,n;const r=new wEe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:vV(Jv(Zv({},t.opts),{level:"trace",browser:Jv(Zv({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function REe(t){var e;const n=new EEe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:vV(Jv(Zv({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function EV(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?OEe(t):REe(t)}var NEe={};const $Ee=":";function Uc(t){const[e,n]=t.split($Ee);return{namespace:e,reference:n}}function m$(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function xV(t,e){return t.includes(":")?[t]:e.chains||[]}var DEe=Object.defineProperty,MEe=Object.defineProperties,LEe=Object.getOwnPropertyDescriptors,g$=Object.getOwnPropertySymbols,BEe=Object.prototype.hasOwnProperty,UEe=Object.prototype.propertyIsEnumerable,RI=(t,e,n)=>e in t?DEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y$=(t,e)=>{for(var n in e||(e={}))BEe.call(e,n)&&RI(t,n,e[n]);if(g$)for(var n of g$(e))UEe.call(e,n)&&RI(t,n,e[n]);return t},FEe=(t,e)=>MEe(t,LEe(e)),w$=(t,e,n)=>RI(t,typeof e!="symbol"?e+"":e,n);const jEe="ReactNative",Os={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},zEe="js";function Xv(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hu(){return!Kc.getDocument()&&!!Kc.getNavigator()&&navigator.product===jEe}function WEe(){return hu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function VEe(){return hu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function bp(){return!Xv()&&!!Kc.getNavigator()&&!!Kc.getDocument()}function i0(){return hu()?Os.reactNative:Xv()?Os.node:bp()?Os.browser:Os.unknown}function b$(){var t;try{return hu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function qEe(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function HEe(t){var e,n;const r=SV();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),FEe(y$(y$({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function SV(){return Oye.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function KEe(){if(i0()===Os.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Yge();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function GEe(){var t;const e=i0();return e===Os.browser?[e,((t=Kc.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function AV(t,e,n){const r=KEe(),i=GEe();return[[t,e].join("-"),[zEe,n].join("-"),r,i].join("/")}function YEe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=n.split("?"),d=AV(t,e,r),f={auth:i,ua:d,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},p=qEe(u[1]||"",f);return u[0]+"?"+p}function sd(t,e){return t.filter(n=>e.includes(n)).length===t.length}function NI(t){return Object.fromEntries(t.entries())}function $I(t){return new Map(Object.entries(t))}function Vu(t=Me.FIVE_MINUTES,e){const n=Me.toMiliseconds(t||Me.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},n),r=a,i=c})}}function ka(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function TV(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ZEe(t){return TV("topic",t)}function JEe(t){return TV("id",t)}function IV(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function mr(t,e){return Me.fromMiliseconds(Date.now()+Me.toMiliseconds(t))}function Ta(t){return Date.now()>=Me.toMiliseconds(t)}function an(t,e){return`${t}${e?`:${e}`:""}`}function Na(t=[],e=[]){return[...new Set([...t,...e])]}async function XEe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=QEe(s,t,e),a=i0();if(a===Os.browser){if(!((r=Kc.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}exe(o)}else a===Os.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function QEe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${ixe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function exe(t){let e="_self";rxe()?e="_top":(nxe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function txe(t,e){let n="";try{if(bp()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function v$(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function _$(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Zk(){return typeof process<"u"&&NEe.IS_VITEST==="true"}function nxe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function rxe(){try{return window.self!==window.top}catch{return!1}}function ixe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function kV(t){return Buffer.from(t,"base64").toString("utf-8")}function sxe(t){return new Promise(e=>setTimeout(e,t))}let oxe=class{constructor({limit:e}){w$(this,"limit"),w$(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const nb=BigInt(2**32-1),E$=BigInt(32);function CV(t,e=!1){return e?{h:Number(t&nb),l:Number(t>>E$&nb)}:{h:Number(t>>E$&nb)|0,l:Number(t&nb)|0}}function PV(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=CV(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const x$=(t,e,n)=>t>>>n,S$=(t,e,n)=>t<<32-n|e>>>n,Ll=(t,e,n)=>t>>>n|e<<32-n,Bl=(t,e,n)=>t<<32-n|e>>>n,Ym=(t,e,n)=>t<<64-n|e>>>n-32,Zm=(t,e,n)=>t>>>n-32|e<<64-n,axe=(t,e)=>e,cxe=(t,e)=>t,lxe=(t,e,n)=>t<<n|e>>>32-n,uxe=(t,e,n)=>e<<n|t>>>32-n,dxe=(t,e,n)=>e<<n-32|t>>>64-n,hxe=(t,e,n)=>t<<n-32|e>>>64-n;function Mo(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Jk=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Xk=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,fxe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),pxe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,mxe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),gxe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Wh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function C_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xo(t,...e){if(!C_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function P_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Yc(t.outputLen),Yc(t.blockLen)}function su(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qk(t,e){Xo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function cy(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function po(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function PS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ga(t,e){return t<<32-e|t>>>e}const OV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function RV(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const yc=OV?t=>t:t=>RV(t);function yxe(t){for(let e=0;e<t.length;e++)t[e]=RV(t[e]);return t}const Ul=OV?t=>t:yxe,NV=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wxe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cf(t){if(Xo(t),NV)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=wxe[t[n]];return e}const hc={_0:48,_9:57,A:65,F:70,a:97,f:102};function A$(t){if(t>=hc._0&&t<=hc._9)return t-hc._0;if(t>=hc.A&&t<=hc.F)return t-(hc.A-10);if(t>=hc.a&&t<=hc.f)return t-(hc.a-10)}function Qv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(NV)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=A$(t.charCodeAt(s)),a=A$(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function $V(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ho(t){return typeof t=="string"&&(t=$V(t)),Xo(t),t}function ql(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Xo(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class O_{}function s0(t){const e=r=>t().update(Ho(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function bxe(t){const e=(r,i)=>t(i).update(Ho(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Zd(t=32){if(Wh&&typeof Wh.getRandomValues=="function")return Wh.getRandomValues(new Uint8Array(t));if(Wh&&typeof Wh.randomBytes=="function")return Uint8Array.from(Wh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const vxe=BigInt(0),xm=BigInt(1),_xe=BigInt(2),Exe=BigInt(7),xxe=BigInt(256),Sxe=BigInt(113),DV=[],MV=[],LV=[];for(let t=0,e=xm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],DV.push(2*(5*r+n)),MV.push((t+1)*(t+2)/2%64);let i=vxe;for(let s=0;s<7;s++)e=(e<<xm^(e>>Exe)*Sxe)%xxe,e&_xe&&(i^=xm<<(xm<<BigInt(s))-xm);LV.push(i)}const BV=PV(LV,!0),Axe=BV[0],Txe=BV[1],T$=(t,e,n)=>n>32?dxe(t,e,n):lxe(t,e,n),I$=(t,e,n)=>n>32?hxe(t,e,n):uxe(t,e,n);function Ixe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],d=n[c+1],f=T$(u,d,1)^n[a],p=I$(u,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=MV[o],c=T$(i,s,a),u=I$(i,s,a),d=DV[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Axe[r],t[1]^=Txe[r]}po(n)}let kxe=class UV extends O_{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Yc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=cy(this.state)}clone(){return this._cloneInto()}keccak(){Ul(this.state32),Ixe(this.state32,this.rounds),Ul(this.state32),this.posOut=0,this.pos=0}update(e){su(this),e=Ho(e),Xo(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){su(this,!1),Xo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Yc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Qk(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,po(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new UV(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Cxe=(t,e,n)=>s0(()=>new kxe(e,t,n)),Pxe=Cxe(1,136,256/8);function Oxe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function Rxe(t,e,n){return t&e^~t&n}function Nxe(t,e,n){return t&e^t&n^e&n}let FV=class extends O_{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=PS(this.buffer)}update(e){su(this),e=Ho(e),Xo(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=PS(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){su(this),Qk(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,po(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;Oxe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=PS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Al=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_i=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ei=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),$xe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tl=new Uint32Array(64);class Dxe extends FV{constructor(e=32){super(64,e,8,!1),this.A=Al[0]|0,this.B=Al[1]|0,this.C=Al[2]|0,this.D=Al[3]|0,this.E=Al[4]|0,this.F=Al[5]|0,this.G=Al[6]|0,this.H=Al[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Tl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=Tl[f-15],m=Tl[f-2],y=ga(p,7)^ga(p,18)^p>>>3,w=ga(m,17)^ga(m,19)^m>>>10;Tl[f]=w+Tl[f-7]+y+Tl[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const p=ga(a,6)^ga(a,11)^ga(a,25),m=d+p+Rxe(a,c,u)+$xe[f]+Tl[f]|0,y=(ga(r,2)^ga(r,13)^ga(r,22))+Nxe(r,i,s)|0;d=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,u,d)}roundClean(){po(Tl)}destroy(){this.set(0,0,0,0,0,0,0,0),po(this.buffer)}}const jV=PV(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Mxe=jV[0],Lxe=jV[1],Il=new Uint32Array(80),kl=new Uint32Array(80);let eC=class extends FV{constructor(e=64){super(128,e,16,!1),this.Ah=Ei[0]|0,this.Al=Ei[1]|0,this.Bh=Ei[2]|0,this.Bl=Ei[3]|0,this.Ch=Ei[4]|0,this.Cl=Ei[5]|0,this.Dh=Ei[6]|0,this.Dl=Ei[7]|0,this.Eh=Ei[8]|0,this.El=Ei[9]|0,this.Fh=Ei[10]|0,this.Fl=Ei[11]|0,this.Gh=Ei[12]|0,this.Gl=Ei[13]|0,this.Hh=Ei[14]|0,this.Hl=Ei[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:d,Fh:f,Fl:p,Gh:m,Gl:y,Hh:w,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,d,f,p,m,y,w,v]}set(e,n,r,i,s,o,a,c,u,d,f,p,m,y,w,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=y|0,this.Hh=w|0,this.Hl=v|0}process(e,n){for(let _=0;_<16;_++,n+=4)Il[_]=e.getUint32(n),kl[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const x=Il[_-15]|0,A=kl[_-15]|0,T=Ll(x,A,1)^Ll(x,A,8)^x$(x,A,7),O=Bl(x,A,1)^Bl(x,A,8)^S$(x,A,7),N=Il[_-2]|0,D=kl[_-2]|0,F=Ll(N,D,19)^Ym(N,D,61)^x$(N,D,6),K=Bl(N,D,19)^Zm(N,D,61)^S$(N,D,6),B=fxe(O,K,kl[_-7],kl[_-16]),j=pxe(B,T,F,Il[_-7],Il[_-16]);Il[_]=j|0,kl[_]=B|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:d,Eh:f,El:p,Fh:m,Fl:y,Gh:w,Gl:v,Hh:E,Hl:k}=this;for(let _=0;_<80;_++){const x=Ll(f,p,14)^Ll(f,p,18)^Ym(f,p,41),A=Bl(f,p,14)^Bl(f,p,18)^Zm(f,p,41),T=f&m^~f&w,O=p&y^~p&v,N=mxe(k,A,O,Lxe[_],kl[_]),D=gxe(N,E,x,T,Mxe[_],Il[_]),F=N|0,K=Ll(r,i,28)^Ym(r,i,34)^Ym(r,i,39),B=Bl(r,i,28)^Zm(r,i,34)^Zm(r,i,39),j=r&s^r&a^s&a,Y=i&o^i&c^o&c;E=w|0,k=v|0,w=m|0,v=y|0,m=f|0,y=p|0,{h:f,l:p}=Mo(u|0,d|0,D|0,F|0),u=a|0,d=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const I=Jk(F,B,Y);r=Xk(I,D,K,j),i=I|0}({h:r,l:i}=Mo(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Mo(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Mo(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:d}=Mo(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:p}=Mo(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:y}=Mo(this.Fh|0,this.Fl|0,m|0,y|0),{h:w,l:v}=Mo(this.Gh|0,this.Gl|0,w|0,v|0),{h:E,l:k}=Mo(this.Hh|0,this.Hl|0,E|0,k|0),this.set(r,i,s,o,a,c,u,d,f,p,m,y,w,v,E,k)}roundClean(){po(Il,kl)}destroy(){po(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class Bxe extends eC{constructor(){super(48),this.Ah=_i[0]|0,this.Al=_i[1]|0,this.Bh=_i[2]|0,this.Bl=_i[3]|0,this.Ch=_i[4]|0,this.Cl=_i[5]|0,this.Dh=_i[6]|0,this.Dl=_i[7]|0,this.Eh=_i[8]|0,this.El=_i[9]|0,this.Fh=_i[10]|0,this.Fl=_i[11]|0,this.Gh=_i[12]|0,this.Gl=_i[13]|0,this.Hh=_i[14]|0,this.Hl=_i[15]|0}}const xi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Uxe extends eC{constructor(){super(32),this.Ah=xi[0]|0,this.Al=xi[1]|0,this.Bh=xi[2]|0,this.Bl=xi[3]|0,this.Ch=xi[4]|0,this.Cl=xi[5]|0,this.Dh=xi[6]|0,this.Dl=xi[7]|0,this.Eh=xi[8]|0,this.El=xi[9]|0,this.Fh=xi[10]|0,this.Fl=xi[11]|0,this.Gh=xi[12]|0,this.Gl=xi[13]|0,this.Hh=xi[14]|0,this.Hl=xi[15]|0}}const R_=s0(()=>new Dxe),Fxe=s0(()=>new eC),jxe=s0(()=>new Bxe),zxe=s0(()=>new Uxe),Wxe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Pr=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ue=new Uint32Array(32);function Cl(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=Ue[2*t],u=Ue[2*t+1],d=Ue[2*e],f=Ue[2*e+1],p=Ue[2*n],m=Ue[2*n+1],y=Ue[2*r],w=Ue[2*r+1],v=Jk(c,d,o);u=Xk(v,u,f,a),c=v|0,{Dh:w,Dl:y}={Dh:w^u,Dl:y^c},{Dh:w,Dl:y}={Dh:axe(w,y),Dl:cxe(w)},{h:m,l:p}=Mo(m,p,w,y),{Bh:f,Bl:d}={Bh:f^m,Bl:d^p},{Bh:f,Bl:d}={Bh:Ll(f,d,24),Bl:Bl(f,d,24)},Ue[2*t]=c,Ue[2*t+1]=u,Ue[2*e]=d,Ue[2*e+1]=f,Ue[2*n]=p,Ue[2*n+1]=m,Ue[2*r]=y,Ue[2*r+1]=w}function Pl(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=Ue[2*t],u=Ue[2*t+1],d=Ue[2*e],f=Ue[2*e+1],p=Ue[2*n],m=Ue[2*n+1],y=Ue[2*r],w=Ue[2*r+1],v=Jk(c,d,o);u=Xk(v,u,f,a),c=v|0,{Dh:w,Dl:y}={Dh:w^u,Dl:y^c},{Dh:w,Dl:y}={Dh:Ll(w,y,16),Dl:Bl(w,y,16)},{h:m,l:p}=Mo(m,p,w,y),{Bh:f,Bl:d}={Bh:f^m,Bl:d^p},{Bh:f,Bl:d}={Bh:Ym(f,d,63),Bl:Zm(f,d,63)},Ue[2*t]=c,Ue[2*t+1]=u,Ue[2*e]=d,Ue[2*e+1]=f,Ue[2*n]=p,Ue[2*n+1]=m,Ue[2*r]=y,Ue[2*r+1]=w}function Vxe(t,e={},n,r,i){if(Yc(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class qxe extends O_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Yc(e),Yc(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=cy(this.buffer)}update(e){su(this),e=Ho(e),Xo(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===n&&(Ul(i),this.compress(i,0,!1),Ul(i),this.pos=0);const u=Math.min(n-this.pos,s-c),d=o+c;if(u===n&&!(d%4)&&c+u<s){const f=new Uint32Array(a,d,Math.floor((s-c)/4));Ul(f);for(let p=0;c+n<s;p+=i.length,c+=n)this.length+=n,this.compress(f,p,!1);Ul(f);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){su(this),Qk(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,po(this.buffer.subarray(n)),Ul(r),this.compress(r,0,!0),Ul(r);const i=cy(e);this.get().forEach((s,o)=>i[o]=yc(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Hxe extends qxe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Pr[0]|0,this.v0h=Pr[1]|0,this.v1l=Pr[2]|0,this.v1h=Pr[3]|0,this.v2l=Pr[4]|0,this.v2h=Pr[5]|0,this.v3l=Pr[6]|0,this.v3h=Pr[7]|0,this.v4l=Pr[8]|0,this.v4h=Pr[9]|0,this.v5l=Pr[10]|0,this.v5h=Pr[11]|0,this.v6l=Pr[12]|0,this.v6h=Pr[13]|0,this.v7l=Pr[14]|0,this.v7h=Pr[15]|0,Vxe(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=Ho(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Ho(s);const a=cy(s);this.v4l^=yc(a[0]),this.v4h^=yc(a[1]),this.v5l^=yc(a[2]),this.v5h^=yc(a[3])}if(i!==void 0){i=Ho(i);const a=cy(i);this.v6l^=yc(a[0]),this.v6h^=yc(a[1]),this.v7l^=yc(a[2]),this.v7h^=yc(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:u,v4h:d,v5l:f,v5h:p,v6l:m,v6h:y,v7l:w,v7h:v}=this;return[e,n,r,i,s,o,a,c,u,d,f,p,m,y,w,v]}set(e,n,r,i,s,o,a,c,u,d,f,p,m,y,w,v){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=d|0,this.v5l=f|0,this.v5h=p|0,this.v6l=m|0,this.v6h=y|0,this.v7l=w|0,this.v7h=v|0}compress(e,n,r){this.get().forEach((c,u)=>Ue[u]=c),Ue.set(Pr,16);let{h:i,l:s}=CV(BigInt(this.length));Ue[24]=Pr[8]^s,Ue[25]=Pr[9]^i,r&&(Ue[28]=~Ue[28],Ue[29]=~Ue[29]);let o=0;const a=Wxe;for(let c=0;c<12;c++)Cl(0,4,8,12,e,n+2*a[o++]),Pl(0,4,8,12,e,n+2*a[o++]),Cl(1,5,9,13,e,n+2*a[o++]),Pl(1,5,9,13,e,n+2*a[o++]),Cl(2,6,10,14,e,n+2*a[o++]),Pl(2,6,10,14,e,n+2*a[o++]),Cl(3,7,11,15,e,n+2*a[o++]),Pl(3,7,11,15,e,n+2*a[o++]),Cl(0,5,10,15,e,n+2*a[o++]),Pl(0,5,10,15,e,n+2*a[o++]),Cl(1,6,11,12,e,n+2*a[o++]),Pl(1,6,11,12,e,n+2*a[o++]),Cl(2,7,8,13,e,n+2*a[o++]),Pl(2,7,8,13,e,n+2*a[o++]),Cl(3,4,9,14,e,n+2*a[o++]),Pl(3,4,9,14,e,n+2*a[o++]);this.v0l^=Ue[0]^Ue[16],this.v0h^=Ue[1]^Ue[17],this.v1l^=Ue[2]^Ue[18],this.v1h^=Ue[3]^Ue[19],this.v2l^=Ue[4]^Ue[20],this.v2h^=Ue[5]^Ue[21],this.v3l^=Ue[6]^Ue[22],this.v3h^=Ue[7]^Ue[23],this.v4l^=Ue[8]^Ue[24],this.v4h^=Ue[9]^Ue[25],this.v5l^=Ue[10]^Ue[26],this.v5h^=Ue[11]^Ue[27],this.v6l^=Ue[12]^Ue[28],this.v6h^=Ue[13]^Ue[29],this.v7l^=Ue[14]^Ue[30],this.v7h^=Ue[15]^Ue[31],po(Ue)}destroy(){this.destroyed=!0,po(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Kxe=bxe(t=>new Hxe(t)),Gxe="https://rpc.walletconnect.org/v1";function zV(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Pxe(n)).toString("hex")}async function Yxe(t,e,n,r,i,s){switch(n.t){case"eip191":return await Zxe(t,e,n.s);case"eip1271":return await Jxe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Zxe(t,e,n){const r=xwe(n);return kwe({payload:zV(e),signature:r}).toLowerCase()===t.toLowerCase()}async function Jxe(t,e,n,r,i,s){const o=Uc(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u=n.substring(2),d=(u.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:zV(e)).substring(2),p=a+f+c+d+u,m=await fetch(`${s||Gxe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Xxe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:p},"latest"]})}),{result:y}=await m.json();return y?y.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Xxe(){return Date.now()+Math.floor(Math.random()*1e3)}function Qxe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return t0.encode(s)}function e2e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=Kxe(r,{dkLen:32});return t0.encode(i)}function k$(t){const e=new Uint8Array(R_(t2e(t)));return t0.encode(e)}function t2e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function C$(t){const e=Buffer.from(t,"base64"),n=fbe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=ibe(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=zxe(s);return Ppe.encode(o).replace(/=+$/,"")}function OS(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function n2e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(OS(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(OS(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(OS(r.length)),i.push(r);const s=Buffer.concat(i),o=R_(s);return Buffer.from(o).toString("hex").toUpperCase()}function r2e(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t==null?void 0:t.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var i2e=Object.defineProperty,s2e=Object.defineProperties,o2e=Object.getOwnPropertyDescriptors,P$=Object.getOwnPropertySymbols,a2e=Object.prototype.hasOwnProperty,c2e=Object.prototype.propertyIsEnumerable,O$=(t,e,n)=>e in t?i2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l2e=(t,e)=>{for(var n in e||(e={}))a2e.call(e,n)&&O$(t,n,e[n]);if(P$)for(var n of P$(e))c2e.call(e,n)&&O$(t,n,e[n]);return t},u2e=(t,e)=>s2e(t,o2e(e));const d2e="did:pkh:",tC=t=>t==null?void 0:t.split(":"),h2e=t=>{const e=t&&tC(t);if(e)return t.includes(d2e)?e[3]:e[1]},DI=t=>{const e=t&&tC(t);if(e)return e[2]+":"+e[3]},e1=t=>{const e=t&&tC(t);if(e)return e.pop()};async function R$(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=WV(i,i.iss),o=e1(i.iss);return await Yxe(o,s,r,DI(i.iss),n)}const WV=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=e1(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${h2e(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,y=Fb(t.resources);if(y){const w=ly(y);i=_2e(i,w)}return[n,r,"",i,"",s,o,a,c,u,d,f,p,m].filter(w=>w!=null).join(`
`)};function f2e(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function p2e(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Dd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function m2e(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:g2e(e,n,r)}}}function g2e(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function VV(t){return Dd(t),`urn:recap:${f2e(t).replace(/=/g,"")}`}function ly(t){const e=p2e(t.replace("urn:recap:",""));return Dd(e),e}function y2e(t,e,n){const r=m2e(t,e,n);return VV(r)}function w2e(t){return t&&t.includes("urn:recap:")}function b2e(t,e){const n=ly(t),r=ly(e),i=v2e(n,r);return VV(i)}function v2e(t,e){Dd(t),Dd(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;r.att[i]=u2e(l2e({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),r}function _2e(t="",e){Dd(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,p)=>f.action.localeCompare(p.action));const u={};c.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const d=Object.keys(u).map(f=>(i++,`(${i}) '${f}': '${u[f].join("', '")}' for '${a}'.`));r.push(d.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function N$(t){var e;const n=ly(t);Dd(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function $$(t){const e=ly(t);Dd(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Fb(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return w2e(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function qV(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function MI(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function RS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function is(t,...e){if(!qV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function D$(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function E2e(t,e){is(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function tu(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function x2e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const S2e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function A2e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function LI(t){if(typeof t=="string")t=A2e(t);else if(qV(t))t=BI(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function T2e(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function I2e(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const k2e=(t,e)=>{function n(r,...i){if(is(r),!S2e)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?is(u):is(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&is(i[1]);const o=e(r,...i),a=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");is(d)}};let c=!1;return{encrypt(u,d){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,is(u),a(o.encrypt.length,d),o.encrypt(u,d)},decrypt(u,d){if(is(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,d),o.decrypt(u,d)}}}return Object.assign(n,t),n};function M$(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!P2e(e))throw new Error("invalid output, must be aligned");return e}function L$(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function C2e(t,e,n){MI(n);const r=new Uint8Array(16),i=x2e(r);return L$(i,0,BigInt(e),n),L$(i,8,BigInt(t),n),r}function P2e(t){return t.byteOffset%4===0}function BI(t){return Uint8Array.from(t)}const HV=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),O2e=HV("expand 16-byte k"),R2e=HV("expand 32-byte k"),N2e=tu(O2e),$2e=tu(R2e);function Qt(t,e){return t<<e|t>>>32-e}function UI(t){return t.byteOffset%4===0}const rb=64,D2e=16,KV=2**32-1,B$=new Uint32Array;function M2e(t,e,n,r,i,s,o,a){const c=i.length,u=new Uint8Array(rb),d=tu(u),f=UI(i)&&UI(s),p=f?tu(i):B$,m=f?tu(s):B$;for(let y=0;y<c;o++){if(t(e,n,r,d,o,a),o>=KV)throw new Error("arx: counter overflow");const w=Math.min(rb,c-y);if(f&&w===rb){const v=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let E=0,k;E<D2e;E++)k=v+E,m[k]=p[k]^d[E];y+=rb;continue}for(let v=0,E;v<w;v++)E=y+v,s[E]=i[E]^u[v];y+=w}}function L2e(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=T2e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return RS(i),RS(o),MI(s),MI(n),(a,c,u,d,f=0)=>{is(a),is(c),is(u);const p=u.length;if(d===void 0&&(d=new Uint8Array(p)),is(d),RS(f),f<0||f>=KV)throw new Error("arx: counter overflow");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const m=[];let y=a.length,w,v;if(y===32)m.push(w=BI(a)),v=$2e;else if(y===16&&n)w=new Uint8Array(32),w.set(a),w.set(a,16),v=N2e,m.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);UI(c)||m.push(c=BI(c));const E=tu(w);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,E,tu(c.subarray(0,16)),E),c=c.subarray(16)}const k=16-i;if(k!==c.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,m.push(c)}const _=tu(c);return M2e(t,v,E,_,u,d,f,o),Qf(...m),d}}const ni=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class B2e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=LI(e),is(e,32);const n=ni(e,0),r=ni(e,2),i=ni(e,4),s=ni(e,6),o=ni(e,8),a=ni(e,10),c=ni(e,12),u=ni(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let d=0;d<8;d++)this.pad[d]=ni(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],d=o[3],f=o[4],p=o[5],m=o[6],y=o[7],w=o[8],v=o[9],E=ni(e,n+0),k=ni(e,n+2),_=ni(e,n+4),x=ni(e,n+6),A=ni(e,n+8),T=ni(e,n+10),O=ni(e,n+12),N=ni(e,n+14);let D=s[0]+(E&8191),F=s[1]+((E>>>13|k<<3)&8191),K=s[2]+((k>>>10|_<<6)&8191),B=s[3]+((_>>>7|x<<9)&8191),j=s[4]+((x>>>4|A<<12)&8191),Y=s[5]+(A>>>1&8191),I=s[6]+((A>>>14|T<<2)&8191),P=s[7]+((T>>>11|O<<5)&8191),L=s[8]+((O>>>8|N<<8)&8191),M=s[9]+(N>>>5|i),R=0,z=R+D*a+F*(5*v)+K*(5*w)+B*(5*y)+j*(5*m);R=z>>>13,z&=8191,z+=Y*(5*p)+I*(5*f)+P*(5*d)+L*(5*u)+M*(5*c),R+=z>>>13,z&=8191;let W=R+D*c+F*a+K*(5*v)+B*(5*w)+j*(5*y);R=W>>>13,W&=8191,W+=Y*(5*m)+I*(5*p)+P*(5*f)+L*(5*d)+M*(5*u),R+=W>>>13,W&=8191;let G=R+D*u+F*c+K*a+B*(5*v)+j*(5*w);R=G>>>13,G&=8191,G+=Y*(5*y)+I*(5*m)+P*(5*p)+L*(5*f)+M*(5*d),R+=G>>>13,G&=8191;let ie=R+D*d+F*u+K*c+B*a+j*(5*v);R=ie>>>13,ie&=8191,ie+=Y*(5*w)+I*(5*y)+P*(5*m)+L*(5*p)+M*(5*f),R+=ie>>>13,ie&=8191;let te=R+D*f+F*d+K*u+B*c+j*a;R=te>>>13,te&=8191,te+=Y*(5*v)+I*(5*w)+P*(5*y)+L*(5*m)+M*(5*p),R+=te>>>13,te&=8191;let ee=R+D*p+F*f+K*d+B*u+j*c;R=ee>>>13,ee&=8191,ee+=Y*a+I*(5*v)+P*(5*w)+L*(5*y)+M*(5*m),R+=ee>>>13,ee&=8191;let pe=R+D*m+F*p+K*f+B*d+j*u;R=pe>>>13,pe&=8191,pe+=Y*c+I*a+P*(5*v)+L*(5*w)+M*(5*y),R+=pe>>>13,pe&=8191;let ye=R+D*y+F*m+K*p+B*f+j*d;R=ye>>>13,ye&=8191,ye+=Y*u+I*c+P*a+L*(5*v)+M*(5*w),R+=ye>>>13,ye&=8191;let xe=R+D*w+F*y+K*m+B*p+j*f;R=xe>>>13,xe&=8191,xe+=Y*d+I*u+P*c+L*a+M*(5*v),R+=xe>>>13,xe&=8191;let we=R+D*v+F*w+K*y+B*m+j*p;R=we>>>13,we&=8191,we+=Y*f+I*d+P*u+L*c+M*a,R+=we>>>13,we&=8191,R=(R<<2)+R|0,R=R+z|0,z=R&8191,R=R>>>13,W+=R,s[0]=z,s[1]=W,s[2]=G,s[3]=ie,s[4]=te,s[5]=ee,s[6]=pe,s[7]=ye,s[8]=xe,s[9]=we}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Qf(r)}update(e){D$(this),e=LI(e),is(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Qf(this.h,this.r,this.buffer,this.pad)}digestInto(e){D$(this),E2e(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function U2e(t){const e=(r,i)=>t(i).update(LI(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const F2e=U2e(t=>new B2e(t));function j2e(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],u=t[3],d=e[0],f=e[1],p=e[2],m=e[3],y=e[4],w=e[5],v=e[6],E=e[7],k=i,_=n[0],x=n[1],A=n[2],T=o,O=a,N=c,D=u,F=d,K=f,B=p,j=m,Y=y,I=w,P=v,L=E,M=k,R=_,z=x,W=A;for(let ie=0;ie<s;ie+=2)T=T+F|0,M=Qt(M^T,16),Y=Y+M|0,F=Qt(F^Y,12),T=T+F|0,M=Qt(M^T,8),Y=Y+M|0,F=Qt(F^Y,7),O=O+K|0,R=Qt(R^O,16),I=I+R|0,K=Qt(K^I,12),O=O+K|0,R=Qt(R^O,8),I=I+R|0,K=Qt(K^I,7),N=N+B|0,z=Qt(z^N,16),P=P+z|0,B=Qt(B^P,12),N=N+B|0,z=Qt(z^N,8),P=P+z|0,B=Qt(B^P,7),D=D+j|0,W=Qt(W^D,16),L=L+W|0,j=Qt(j^L,12),D=D+j|0,W=Qt(W^D,8),L=L+W|0,j=Qt(j^L,7),T=T+K|0,W=Qt(W^T,16),P=P+W|0,K=Qt(K^P,12),T=T+K|0,W=Qt(W^T,8),P=P+W|0,K=Qt(K^P,7),O=O+B|0,M=Qt(M^O,16),L=L+M|0,B=Qt(B^L,12),O=O+B|0,M=Qt(M^O,8),L=L+M|0,B=Qt(B^L,7),N=N+j|0,R=Qt(R^N,16),Y=Y+R|0,j=Qt(j^Y,12),N=N+j|0,R=Qt(R^N,8),Y=Y+R|0,j=Qt(j^Y,7),D=D+F|0,z=Qt(z^D,16),I=I+z|0,F=Qt(F^I,12),D=D+F|0,z=Qt(z^D,8),I=I+z|0,F=Qt(F^I,7);let G=0;r[G++]=o+T|0,r[G++]=a+O|0,r[G++]=c+N|0,r[G++]=u+D|0,r[G++]=d+F|0,r[G++]=f+K|0,r[G++]=p+B|0,r[G++]=m+j|0,r[G++]=y+Y|0,r[G++]=w+I|0,r[G++]=v+P|0,r[G++]=E+L|0,r[G++]=k+M|0,r[G++]=_+R|0,r[G++]=x+z|0,r[G++]=A+W|0}const z2e=L2e(j2e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),W2e=new Uint8Array(16),U$=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(W2e.subarray(n))},V2e=new Uint8Array(32);function F$(t,e,n,r,i){const s=t(e,n,V2e),o=F2e.create(s);i&&U$(o,i),U$(o,r);const a=C2e(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return Qf(s,a),c}const q2e=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=M$(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=F$(t,e,n,a,r);return s.set(c,o),Qf(c),s},decrypt(i,s){s=M$(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=F$(t,e,n,o,r);if(!I2e(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Qf(c),s}}),GV=k2e({blockSize:64,nonceLength:12,tagLength:16},q2e(z2e));let YV=class extends O_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,P_(e);const r=Ho(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),po(s)}update(e){return su(this),this.iHash.update(e),this}digestInto(e){su(this),Xo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const N_=(t,e,n)=>new YV(t,e).update(n).digest();N_.create=(t,e)=>new YV(t,e);function H2e(t,e,n){return P_(t),n===void 0&&(n=new Uint8Array(t.outputLen)),N_(t,Ho(n),Ho(e))}const NS=Uint8Array.from([0]),j$=Uint8Array.of();function K2e(t,e,n,r=32){P_(t),Yc(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=j$);const o=new Uint8Array(s*i),a=N_.create(t,e),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let d=0;d<s;d++)NS[0]=d+1,c.update(d===0?j$:u).update(n).update(NS).digestInto(u),o.set(u,i*d),a._cloneInto(c);return a.destroy(),c.destroy(),po(u,NS),o.slice(0,r)}const G2e=(t,e,n,r,i)=>K2e(t,H2e(t,e,n),r,i),$_=R_,nC=BigInt(0),FI=BigInt(1);function t1(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function od(t,e,n=""){const r=C_(t),i=t==null?void 0:t.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function ib(t){const e=t.toString(16);return e.length&1?"0"+e:e}function ZV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nC:BigInt("0x"+t)}function D_(t){return ZV(Cf(t))}function n1(t){return Xo(t),ZV(Cf(Uint8Array.from(t).reverse()))}function rC(t,e){return Qv(t.toString(16).padStart(e*2,"0"))}function iC(t,e){return rC(t,e).reverse()}function Ti(t,e,n){let r;if(typeof e=="string")try{r=Qv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(C_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const $S=t=>typeof t=="bigint"&&nC<=t;function Y2e(t,e,n){return $S(t)&&$S(e)&&$S(n)&&e<=t&&t<n}function jI(t,e,n,r){if(!Y2e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function JV(t){let e;for(e=0;t>nC;t>>=FI,e+=1);return e}const o0=t=>(FI<<BigInt(t))-FI;function Z2e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},u=(...p)=>n(o,s,...p),d=(p=r(0))=>{o=u(i(0),p),s=u(),p.length!==0&&(o=u(i(1),p),s=u())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){s=u();const y=s.slice();m.push(y),p+=s.length}return ql(...m)};return(p,m)=>{c(),d(p);let y;for(;!(y=m(f()));)d();return c(),y}}function M_(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function z$(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const cs=BigInt(0),ji=BigInt(1),ad=BigInt(2),XV=BigInt(3),QV=BigInt(4),eq=BigInt(5),J2e=BigInt(7),tq=BigInt(8),X2e=BigInt(9),nq=BigInt(16);function Cs(t,e){const n=t%e;return n>=cs?n:e+n}function Do(t,e,n){let r=t;for(;e-- >cs;)r*=r,r%=n;return r}function W$(t,e){if(t===cs)throw new Error("invert: expected non-zero number");if(e<=cs)throw new Error("invert: expected positive modulus, got "+e);let n=Cs(t,e),r=e,i=cs,s=ji;for(;n!==cs;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==ji)throw new Error("invert: does not exist");return Cs(i,e)}function sC(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function rq(t,e){const n=(t.ORDER+ji)/QV,r=t.pow(e,n);return sC(t,r,e),r}function Q2e(t,e){const n=(t.ORDER-eq)/tq,r=t.mul(e,ad),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,ad),i),a=t.mul(s,t.sub(o,t.ONE));return sC(t,a,e),a}function eSe(t){const e=fu(t),n=iq(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+J2e)/nq;return(a,c)=>{let u=a.pow(c,o),d=a.mul(u,r);const f=a.mul(u,i),p=a.mul(u,s),m=a.eql(a.sqr(d),c),y=a.eql(a.sqr(f),c);u=a.cmov(u,d,m),d=a.cmov(p,f,y);const w=a.eql(a.sqr(d),c),v=a.cmov(u,d,w);return sC(a,v,c),v}}function iq(t){if(t<XV)throw new Error("sqrt is not defined for small field");let e=t-ji,n=0;for(;e%ad===cs;)e/=ad,n++;let r=ad;const i=fu(t);for(;V$(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return rq;let s=i.pow(r,e);const o=(e+ji)/ad;return function(a,c){if(a.is0(c))return c;if(V$(a,c)!==1)throw new Error("Cannot find square root");let u=n,d=a.mul(a.ONE,s),f=a.pow(c,e),p=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let m=1,y=a.sqr(f);for(;!a.eql(y,a.ONE);)if(m++,y=a.sqr(y),m===u)throw new Error("Cannot find square root");const w=ji<<BigInt(u-m-1),v=a.pow(d,w);u=m,d=a.sqr(v),f=a.mul(f,d),p=a.mul(p,v)}return p}}function tSe(t){return t%QV===XV?rq:t%tq===eq?Q2e:t%nq===X2e?eSe(t):iq(t)}const nSe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rSe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=nSe.reduce((r,i)=>(r[i]="function",r),e);return M_(t,n),t}function iSe(t,e,n){if(n<cs)throw new Error("invalid exponent, negatives unsupported");if(n===cs)return t.ONE;if(n===ji)return e;let r=t.ONE,i=e;for(;n>cs;)n&ji&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ji;return r}function sq(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function V$(t,e){const n=(t.ORDER-ji)/ad,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function oq(t,e){e!==void 0&&Yc(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function fu(t,e,n=!1,r={}){if(t<=cs)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(s=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(o=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:u}=oq(t,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const f=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:u,MASK:o0(c),ZERO:cs,ONE:ji,allowedLengths:a,create:p=>Cs(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return cs<=p&&p<t},is0:p=>p===cs,isValidNot0:p=>!f.is0(p)&&f.isValid(p),isOdd:p=>(p&ji)===ji,neg:p=>Cs(-p,t),eql:(p,m)=>p===m,sqr:p=>Cs(p*p,t),add:(p,m)=>Cs(p+m,t),sub:(p,m)=>Cs(p-m,t),mul:(p,m)=>Cs(p*m,t),pow:(p,m)=>iSe(f,p,m),div:(p,m)=>Cs(p*W$(m,t),t),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>W$(p,t),sqrt:s||(p=>(d||(d=tSe(t)),d(f,p))),toBytes:p=>n?iC(p,u):rC(p,u),fromBytes:(p,m=!0)=>{if(a){if(!a.includes(p.length)||p.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const w=new Uint8Array(u);w.set(p,n?0:w.length-p.length),p=w}if(p.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+p.length);let y=n?n1(p):D_(p);if(o&&(y=Cs(y,t)),!m&&!f.isValid(y))throw new Error("invalid field element: outside of range 0..ORDER");return y},invertBatch:p=>sq(f,p),cmov:(p,m,y)=>y?m:p});return Object.freeze(f)}function aq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function cq(t){const e=aq(t);return e+Math.ceil(e/2)}function sSe(t,e,n=!1){const r=t.length,i=aq(e),s=cq(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?n1(t):D_(t),a=Cs(o,e-ji)+ji;return n?iC(a,i):rC(a,i)}const ep=BigInt(0),cd=BigInt(1);function r1(t,e){const n=e.negate();return t?n:e}function DS(t,e){const n=sq(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function lq(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function MS(t,e){lq(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=o0(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function q$(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=cd);const u=e*r,d=u+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:c,offset:d,isZero:f,isNeg:p,isNegF:m,offsetF:u}}function oSe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function aSe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const LS=new WeakMap,uq=new WeakMap;function BS(t){return uq.get(t)||1}function H$(t){if(t!==ep)throw new Error("invalid wNAF")}class cSe{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>ep;)n&cd&&(r=r.add(i)),i=i.double(),n>>=cd;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=MS(n,this.bits),s=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let u=1;u<i;u++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=MS(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:m}=q$(r,a,o);r=c,d?s=s.add(r1(p,n[m])):i=i.add(r1(f,n[u]))}return H$(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=MS(e,this.bits);for(let o=0;o<s.windows&&r!==ep;o++){const{nextN:a,offset:c,isZero:u,isNeg:d}=q$(r,o,s);if(r=a,!u){const f=n[c];i=i.add(d?f.negate():f)}}return H$(r),i}getPrecomputes(e,n,r){let i=LS.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),LS.set(n,i))),i}cached(e,n,r){const i=BS(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=BS(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){lq(n,this.bits),uq.set(e,n),LS.delete(e)}hasCache(e){return BS(e)!==1}}function lSe(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>ep||r>ep;)n&cd&&(s=s.add(i)),r&cd&&(o=o.add(i)),i=i.double(),n>>=cd,r>>=cd;return{p1:s,p2:o}}function uSe(t,e,n,r){oSe(n,t),aSe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=JV(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=o0(c),d=new Array(Number(u)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let p=o;for(let m=f;m>=0;m-=c){d.fill(o);for(let w=0;w<s;w++){const v=r[w],E=Number(v>>BigInt(m)&u);d[E]=d[E].add(n[w])}let y=o;for(let w=d.length-1,v=o;w>0;w--)v=v.add(d[w]),y=y.add(v);if(p=p.add(y),m!==0)for(let w=0;w<c;w++)p=p.double()}return p}function K$(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return rSe(e),e}else return fu(t,{isLE:n})}function dSe(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>ep))throw new Error(`CURVE.${a} must be positive bigint`)}const i=K$(e.p,n.Fp,r),s=K$(e.n,n.Fn,r),o=["Gx","Gy","a","b"];for(const a of o)if(!i.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),$V("HashToScalar-");const Sm=BigInt(0),Vh=BigInt(1),sb=BigInt(2);function hSe(t){return M_(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function fSe(t){const e=hSe(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Zd,u=a?255:448,d=a?32:56,f=BigInt(a?9:5),p=BigInt(a?121665:39081),m=a?sb**BigInt(254):sb**BigInt(447),y=a?BigInt(8)*sb**BigInt(251)-Vh:BigInt(4)*sb**BigInt(445)-Vh,w=m+y+Vh,v=B=>Cs(B,n),E=k(f);function k(B){return iC(v(B),d)}function _(B){const j=Ti("u coordinate",B,d);return a&&(j[31]&=127),v(n1(j))}function x(B){return n1(i(Ti("scalar",B,d)))}function A(B,j){const Y=N(_(j),x(B));if(Y===Sm)throw new Error("invalid private or public key received");return k(Y)}function T(B){return A(B,E)}function O(B,j,Y){const I=v(B*(j-Y));return j=v(j-I),Y=v(Y+I),{x_2:j,x_3:Y}}function N(B,j){jI("u",B,Sm,n),jI("scalar",j,m,w);const Y=j,I=B;let P=Vh,L=Sm,M=B,R=Vh,z=Sm;for(let G=BigInt(u-1);G>=Sm;G--){const ie=Y>>G&Vh;z^=ie,{x_2:P,x_3:M}=O(z,P,M),{x_2:L,x_3:R}=O(z,L,R),z=ie;const te=P+L,ee=v(te*te),pe=P-L,ye=v(pe*pe),xe=ee-ye,we=M+R,Oe=M-R,Xe=v(Oe*te),ot=v(we*pe),fe=Xe+ot,St=Xe-ot;M=v(fe*fe),R=v(I*v(St*St)),P=v(ee*ye),L=v(xe*(ee+v(p*xe)))}({x_2:P,x_3:M}=O(z,P,M)),{x_2:L,x_3:R}=O(z,L,R);const W=s(L);return v(P*W)}const D={secretKey:d,publicKey:d,seed:d},F=(B=c(d))=>(Xo(B,D.seed),B);function K(B){const j=F(B);return{secretKey:j,publicKey:T(j)}}return{keygen:K,getSharedSecret:(B,j)=>A(B,j),getPublicKey:B=>T(B),scalarMult:A,scalarMultBase:T,utils:{randomSecretKey:F,randomPrivateKey:F},GuBytes:E.slice(),lengths:D}}const pSe=BigInt(1),G$=BigInt(2),mSe=BigInt(3),gSe=BigInt(5);BigInt(8);const dq=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ySe={p:dq,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function wSe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=dq,o=t*t%s*t%s,a=Do(o,G$,s)*o%s,c=Do(a,pSe,s)*t%s,u=Do(c,gSe,s)*c%s,d=Do(u,e,s)*u%s,f=Do(d,n,s)*d%s,p=Do(f,r,s)*f%s,m=Do(p,i,s)*p%s,y=Do(m,i,s)*p%s,w=Do(y,e,s)*u%s;return{pow_p_5_8:Do(w,G$,s)*t%s,b2:o}}function bSe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const vSe=fu(ySe.p,{isLE:!0}),zI=(()=>{const t=vSe.ORDER;return fSe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=wSe(e);return Cs(Do(n,mSe,t)*r,t)},adjustScalarBytes:bSe})})(),Y$=(t,e)=>(t+(t>=0?e:-e)/hq)/e;function _Se(t,e,n){const[[r,i],[s,o]]=e,a=Y$(o*t,n),c=Y$(-i*t,n);let u=t-a*r-c*s,d=-a*i-c*o;const f=u<Rc,p=d<Rc;f&&(u=-u),p&&(d=-d);const m=o0(Math.ceil(JV(n)/2))+Pf;if(u<Rc||u>=m||d<Rc||d>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:d}}function WI(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function US(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return t1(n.lowS,"lowS"),t1(n.prehash,"prehash"),n.format!==void 0&&WI(n.format),n}class ESe extends Error{constructor(e=""){super(e)}}const Tc={Err:ESe,_tlv:{encode:(t,e)=>{const{Err:n}=Tc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=ib(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?ib(i.length/2|128):"";return ib(t)+s+i+e},decode(t,e){const{Err:n}=Tc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Tc;if(t<Rc)throw new e("integer: negative integers are not allowed");let n=ib(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Tc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return D_(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Tc,i=Ti("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Tc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Rc=BigInt(0),Pf=BigInt(1),hq=BigInt(2),ob=BigInt(3),xSe=BigInt(4);function df(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ti("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function SSe(t,e={}){const n=dSe("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;M_(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=pq(r,i);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(B,j,Y){const{x:I,y:P}=j.toAffine(),L=r.toBytes(I);if(t1(Y,"isCompressed"),Y){d();const M=!r.isOdd(P);return ql(fq(M),L)}else return ql(Uint8Array.of(4),L,r.toBytes(P))}function p(B){od(B,void 0,"Point");const{publicKey:j,publicKeyUncompressed:Y}=u,I=B.length,P=B[0],L=B.subarray(1);if(I===j&&(P===2||P===3)){const M=r.fromBytes(L);if(!r.isValid(M))throw new Error("bad point: is not on curve, wrong x");const R=w(M);let z;try{z=r.sqrt(R)}catch(G){const ie=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}d();const W=r.isOdd(z);return(P&1)===1!==W&&(z=r.neg(z)),{x:M,y:z}}else if(I===Y&&P===4){const M=r.BYTES,R=r.fromBytes(L.subarray(0,M)),z=r.fromBytes(L.subarray(M,M*2));if(!v(R,z))throw new Error("bad point: is not on curve");return{x:R,y:z}}else throw new Error(`bad point: got length ${I}, expected compressed=${j} or uncompressed=${Y}`)}const m=e.toBytes||f,y=e.fromBytes||p;function w(B){const j=r.sqr(B),Y=r.mul(j,B);return r.add(r.add(Y,r.mul(B,s.a)),s.b)}function v(B,j){const Y=r.sqr(j),I=w(B);return r.eql(Y,I)}if(!v(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(s.a,ob),xSe),k=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(E,k)))throw new Error("bad curve params: a or b");function _(B,j,Y=!1){if(!r.isValid(j)||Y&&r.is0(j))throw new Error(`bad point coordinate ${B}`);return j}function x(B){if(!(B instanceof D))throw new Error("ProjectivePoint expected")}function A(B){if(!c||!c.basises)throw new Error("no endo");return _Se(B,c.basises,i.ORDER)}const T=z$((B,j)=>{const{X:Y,Y:I,Z:P}=B;if(r.eql(P,r.ONE))return{x:Y,y:I};const L=B.is0();j==null&&(j=L?r.ONE:r.inv(P));const M=r.mul(Y,j),R=r.mul(I,j),z=r.mul(P,j);if(L)return{x:r.ZERO,y:r.ZERO};if(!r.eql(z,r.ONE))throw new Error("invZ was invalid");return{x:M,y:R}}),O=z$(B=>{if(B.is0()){if(e.allowInfinityPoint&&!r.is0(B.Y))return;throw new Error("bad point: ZERO")}const{x:j,y:Y}=B.toAffine();if(!r.isValid(j)||!r.isValid(Y))throw new Error("bad point: x or y not field elements");if(!v(j,Y))throw new Error("bad point: equation left != right");if(!B.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(B,j,Y,I,P){return Y=new D(r.mul(Y.X,B),Y.Y,Y.Z),j=r1(I,j),Y=r1(P,Y),j.add(Y)}class D{constructor(j,Y,I){this.X=_("x",j),this.Y=_("y",Y,!0),this.Z=_("z",I),Object.freeze(this)}static CURVE(){return s}static fromAffine(j){const{x:Y,y:I}=j||{};if(!j||!r.isValid(Y)||!r.isValid(I))throw new Error("invalid affine point");if(j instanceof D)throw new Error("projective point not allowed");return r.is0(Y)&&r.is0(I)?D.ZERO:new D(Y,I,r.ONE)}static fromBytes(j){const Y=D.fromAffine(y(od(j,void 0,"point")));return Y.assertValidity(),Y}static fromHex(j){return D.fromBytes(Ti("pointHex",j))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(j=8,Y=!0){return K.createCache(this,j),Y||this.multiply(ob),this}assertValidity(){O(this)}hasEvenY(){const{y:j}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(j)}equals(j){x(j);const{X:Y,Y:I,Z:P}=this,{X:L,Y:M,Z:R}=j,z=r.eql(r.mul(Y,R),r.mul(L,P)),W=r.eql(r.mul(I,R),r.mul(M,P));return z&&W}negate(){return new D(this.X,r.neg(this.Y),this.Z)}double(){const{a:j,b:Y}=s,I=r.mul(Y,ob),{X:P,Y:L,Z:M}=this;let R=r.ZERO,z=r.ZERO,W=r.ZERO,G=r.mul(P,P),ie=r.mul(L,L),te=r.mul(M,M),ee=r.mul(P,L);return ee=r.add(ee,ee),W=r.mul(P,M),W=r.add(W,W),R=r.mul(j,W),z=r.mul(I,te),z=r.add(R,z),R=r.sub(ie,z),z=r.add(ie,z),z=r.mul(R,z),R=r.mul(ee,R),W=r.mul(I,W),te=r.mul(j,te),ee=r.sub(G,te),ee=r.mul(j,ee),ee=r.add(ee,W),W=r.add(G,G),G=r.add(W,G),G=r.add(G,te),G=r.mul(G,ee),z=r.add(z,G),te=r.mul(L,M),te=r.add(te,te),G=r.mul(te,ee),R=r.sub(R,G),W=r.mul(te,ie),W=r.add(W,W),W=r.add(W,W),new D(R,z,W)}add(j){x(j);const{X:Y,Y:I,Z:P}=this,{X:L,Y:M,Z:R}=j;let z=r.ZERO,W=r.ZERO,G=r.ZERO;const ie=s.a,te=r.mul(s.b,ob);let ee=r.mul(Y,L),pe=r.mul(I,M),ye=r.mul(P,R),xe=r.add(Y,I),we=r.add(L,M);xe=r.mul(xe,we),we=r.add(ee,pe),xe=r.sub(xe,we),we=r.add(Y,P);let Oe=r.add(L,R);return we=r.mul(we,Oe),Oe=r.add(ee,ye),we=r.sub(we,Oe),Oe=r.add(I,P),z=r.add(M,R),Oe=r.mul(Oe,z),z=r.add(pe,ye),Oe=r.sub(Oe,z),G=r.mul(ie,we),z=r.mul(te,ye),G=r.add(z,G),z=r.sub(pe,G),G=r.add(pe,G),W=r.mul(z,G),pe=r.add(ee,ee),pe=r.add(pe,ee),ye=r.mul(ie,ye),we=r.mul(te,we),pe=r.add(pe,ye),ye=r.sub(ee,ye),ye=r.mul(ie,ye),we=r.add(we,ye),ee=r.mul(pe,we),W=r.add(W,ee),ee=r.mul(Oe,we),z=r.mul(xe,z),z=r.sub(z,ee),ee=r.mul(xe,pe),G=r.mul(Oe,G),G=r.add(G,ee),new D(z,W,G)}subtract(j){return this.add(j.negate())}is0(){return this.equals(D.ZERO)}multiply(j){const{endo:Y}=e;if(!i.isValidNot0(j))throw new Error("invalid scalar: out of range");let I,P;const L=M=>K.cached(this,M,R=>DS(D,R));if(Y){const{k1neg:M,k1:R,k2neg:z,k2:W}=A(j),{p:G,f:ie}=L(R),{p:te,f:ee}=L(W);P=ie.add(ee),I=N(Y.beta,G,te,M,z)}else{const{p:M,f:R}=L(j);I=M,P=R}return DS(D,[I,P])[0]}multiplyUnsafe(j){const{endo:Y}=e,I=this;if(!i.isValid(j))throw new Error("invalid scalar: out of range");if(j===Rc||I.is0())return D.ZERO;if(j===Pf)return I;if(K.hasCache(this))return this.multiply(j);if(Y){const{k1neg:P,k1:L,k2neg:M,k2:R}=A(j),{p1:z,p2:W}=lSe(D,I,L,R);return N(Y.beta,z,W,P,M)}else return K.unsafe(I,j)}multiplyAndAddUnsafe(j,Y,I){const P=this.multiplyUnsafe(Y).add(j.multiplyUnsafe(I));return P.is0()?void 0:P}toAffine(j){return T(this,j)}isTorsionFree(){const{isTorsionFree:j}=e;return o===Pf?!0:j?j(D,this):K.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:j}=e;return o===Pf?this:j?j(D,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(j=!0){return t1(j,"isCompressed"),this.assertValidity(),m(D,this,j)}toHex(j=!0){return Cf(this.toBytes(j))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(j=!0){return this.toBytes(j)}_setWindowSize(j){this.precompute(j)}static normalizeZ(j){return DS(D,j)}static msm(j,Y){return uSe(D,i,j,Y)}static fromPrivateKey(j){return D.BASE.multiply(df(i,j))}}D.BASE=new D(s.Gx,s.Gy,r.ONE),D.ZERO=new D(r.ZERO,r.ONE,r.ZERO),D.Fp=r,D.Fn=i;const F=i.BITS,K=new cSe(D,e.endo?Math.ceil(F/2):F);return D.BASE.precompute(8),D}function fq(t){return Uint8Array.of(t?2:3)}function pq(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function ASe(t,e={}){const{Fn:n}=t,r=e.randomBytes||Zd,i=Object.assign(pq(t.Fp,n),{seed:cq(n.ORDER)});function s(p){try{return!!df(n,p)}catch{return!1}}function o(p,m){const{publicKey:y,publicKeyUncompressed:w}=i;try{const v=p.length;return m===!0&&v!==y||m===!1&&v!==w?!1:!!t.fromBytes(p)}catch{return!1}}function a(p=r(i.seed)){return sSe(od(p,i.seed,"seed"),n.ORDER)}function c(p,m=!0){return t.BASE.multiply(df(n,p)).toBytes(m)}function u(p){const m=a(p);return{secretKey:m,publicKey:c(m)}}function d(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;const{secretKey:m,publicKey:y,publicKeyUncompressed:w}=i;if(n.allowedLengths||m===y)return;const v=Ti("key",p).length;return v===y||v===w}function f(p,m,y=!0){if(d(p)===!0)throw new Error("first arg must be private key");if(d(m)===!1)throw new Error("second arg must be public key");const w=df(n,p);return t.fromHex(m).multiply(w).toBytes(y)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:u,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:p=>df(n,p),precompute(p=8,m=t.BASE){return m.precompute(p,!1)}},lengths:i})}function TSe(t,e,n={}){P_(e),M_(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Zd,i=n.hmac||((Y,...I)=>N_(e,Y,ql(...I))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:d,getSharedSecret:f,utils:p,lengths:m}=ASe(t,n),y={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},w="compact";function v(Y){const I=a>>Pf;return Y>I}function E(Y,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${Y}: out of range 1..Point.Fn.ORDER`);return I}function k(Y,I){WI(I);const P=m.signature,L=I==="compact"?P:I==="recovered"?P+1:void 0;return od(Y,L,`${I} signature`)}class _{constructor(I,P,L){this.r=E("r",I),this.s=E("s",P),L!=null&&(this.recovery=L),Object.freeze(this)}static fromBytes(I,P=w){k(I,P);let L;if(P==="der"){const{r:W,s:G}=Tc.toSig(od(I));return new _(W,G)}P==="recovered"&&(L=I[0],P="compact",I=I.subarray(1));const M=o.BYTES,R=I.subarray(0,M),z=I.subarray(M,M*2);return new _(o.fromBytes(R),o.fromBytes(z),L)}static fromHex(I,P){return this.fromBytes(Qv(I),P)}addRecoveryBit(I){return new _(this.r,this.s,I)}recoverPublicKey(I){const P=s.ORDER,{r:L,s:M,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(a*hq<P&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const z=R===2||R===3?L+a:L;if(!s.isValid(z))throw new Error("recovery id 2 or 3 invalid");const W=s.toBytes(z),G=t.fromBytes(ql(fq((R&1)===0),W)),ie=o.inv(z),te=A(Ti("msgHash",I)),ee=o.create(-te*ie),pe=o.create(M*ie),ye=t.BASE.multiplyUnsafe(ee).add(G.multiplyUnsafe(pe));if(ye.is0())throw new Error("point at infinify");return ye.assertValidity(),ye}hasHighS(){return v(this.s)}toBytes(I=w){if(WI(I),I==="der")return Qv(Tc.hexFromSig(this));const P=o.toBytes(this.r),L=o.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return ql(Uint8Array.of(this.recovery),P,L)}return ql(P,L)}toHex(I){return Cf(this.toBytes(I))}assertValidity(){}static fromCompact(I){return _.fromBytes(Ti("sig",I),"compact")}static fromDER(I){return _.fromBytes(Ti("sig",I),"der")}normalizeS(){return this.hasHighS()?new _(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Cf(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Cf(this.toBytes("compact"))}}const x=n.bits2int||function(Y){if(Y.length>8192)throw new Error("input is too large");const I=D_(Y),P=Y.length*8-c;return P>0?I>>BigInt(P):I},A=n.bits2int_modN||function(Y){return o.create(x(Y))},T=o0(c);function O(Y){return jI("num < 2^"+c,Y,Rc,T),o.toBytes(Y)}function N(Y,I){return od(Y,void 0,"message"),I?od(e(Y),void 0,"prehashed message"):Y}function D(Y,I,P){if(["recovered","canonical"].some(pe=>pe in P))throw new Error("sign() legacy options not supported");const{lowS:L,prehash:M,extraEntropy:R}=US(P,y);Y=N(Y,M);const z=A(Y),W=df(o,I),G=[O(W),O(z)];if(R!=null&&R!==!1){const pe=R===!0?r(m.secretKey):R;G.push(Ti("extraEntropy",pe))}const ie=ql(...G),te=z;function ee(pe){const ye=x(pe);if(!o.isValidNot0(ye))return;const xe=o.inv(ye),we=t.BASE.multiply(ye).toAffine(),Oe=o.create(we.x);if(Oe===Rc)return;const Xe=o.create(xe*o.create(te+Oe*W));if(Xe===Rc)return;let ot=(we.x===Oe?0:2)|Number(we.y&Pf),fe=Xe;return L&&v(Xe)&&(fe=o.neg(Xe),ot^=1),new _(Oe,fe,ot)}return{seed:ie,k2sig:ee}}function F(Y,I,P={}){Y=Ti("message",Y);const{seed:L,k2sig:M}=D(Y,I,P);return Z2e(e.outputLen,o.BYTES,i)(L,M)}function K(Y){let I;const P=typeof Y=="string"||C_(Y),L=!P&&Y!==null&&typeof Y=="object"&&typeof Y.r=="bigint"&&typeof Y.s=="bigint";if(!P&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(L)I=new _(Y.r,Y.s);else if(P){try{I=_.fromBytes(Ti("sig",Y),"der")}catch(M){if(!(M instanceof Tc.Err))throw M}if(!I)try{I=_.fromBytes(Ti("sig",Y),"compact")}catch{return!1}}return I||!1}function B(Y,I,P,L={}){const{lowS:M,prehash:R,format:z}=US(L,y);if(P=Ti("publicKey",P),I=N(Ti("message",I),R),"strict"in L)throw new Error("options.strict was renamed to lowS");const W=z===void 0?K(Y):_.fromBytes(Ti("sig",Y),z);if(W===!1)return!1;try{const G=t.fromBytes(P);if(M&&W.hasHighS())return!1;const{r:ie,s:te}=W,ee=A(I),pe=o.inv(te),ye=o.create(ee*pe),xe=o.create(ie*pe),we=t.BASE.multiplyUnsafe(ye).add(G.multiplyUnsafe(xe));return we.is0()?!1:o.create(we.x)===ie}catch{return!1}}function j(Y,I,P={}){const{prehash:L}=US(P,y);return I=N(I,L),_.fromBytes(Y,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:u,getPublicKey:d,getSharedSecret:f,utils:p,lengths:m,Point:t,sign:F,verify:B,recoverPublicKey:j,Signature:_,hash:e})}function ISe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=fu(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function kSe(t){const{CURVE:e,curveOpts:n}=ISe(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function CSe(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,oq(n.Fn.ORDER,n.Fn.BITS))})}function PSe(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=kSe(t),s=SSe(e,n),o=TSe(s,r,i);return CSe(t,o)}function VI(t,e){const n=r=>PSe({...t,hash:r});return{...n(e),create:n}}const mq={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},gq={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},yq={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},OSe=fu(mq.p),RSe=fu(gq.p),NSe=fu(yq.p),$Se=VI({...mq,Fp:OSe,lowS:!1},R_);VI({...gq,Fp:RSe,lowS:!1},jxe),VI({...yq,Fp:NSe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Fxe);const DSe=$Se,wq="base10",zi="base16",ss="base64pad",Hl="base64url",a0="utf8",bq=0,Fc=1,c0=2,MSe=0,Z$=1,fg=12,oC=32;function LSe(){const t=zI.utils.randomPrivateKey(),e=zI.getPublicKey(t);return{privateKey:ds(t,zi),publicKey:ds(e,zi)}}function qI(){const t=Zd(oC);return ds(t,zi)}function BSe(t,e){const n=zI.getSharedSecret(lo(t,zi),lo(e,zi)),r=G2e($_,n,void 0,void 0,oC);return ds(r,zi)}function jb(t){const e=$_(lo(t,zi));return ds(e,zi)}function oo(t){const e=$_(lo(t,a0));return ds(e,zi)}function vq(t){return lo(`${t}`,wq)}function Md(t){return Number(ds(t,wq))}function _q(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Eq(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function USe(t){const e=vq(typeof t.type<"u"?t.type:bq);if(Md(e)===Fc&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?lo(t.senderPublicKey,zi):void 0,r=typeof t.iv<"u"?lo(t.iv,zi):Zd(fg),i=lo(t.symKey,zi),s=GV(i,r).encrypt(lo(t.message,a0)),o=xq({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Hl?_q(o):o}function FSe(t){const e=lo(t.symKey,zi),{sealed:n,iv:r}=uy({encoded:t.encoded,encoding:t.encoding}),i=GV(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return ds(i,a0)}function jSe(t,e){const n=vq(c0),r=Zd(fg),i=lo(t,a0),s=xq({type:n,sealed:i,iv:r});return e===Hl?_q(s):s}function zSe(t,e){const{sealed:n}=uy({encoded:t,encoding:e});return ds(n,a0)}function xq(t){if(Md(t.type)===c0)return ds(hg([t.type,t.sealed]),ss);if(Md(t.type)===Fc){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ds(hg([t.type,t.senderPublicKey,t.iv,t.sealed]),ss)}return ds(hg([t.type,t.iv,t.sealed]),ss)}function uy(t){const e=(t.encoding||ss)===Hl?Eq(t.encoded):t.encoded,n=lo(e,ss),r=n.slice(MSe,Z$),i=Z$;if(Md(r)===Fc){const c=i+oC,u=c+fg,d=n.slice(i,c),f=n.slice(c,u),p=n.slice(u);return{type:r,sealed:p,iv:f,senderPublicKey:d}}if(Md(r)===c0){const c=n.slice(i),u=Zd(fg);return{type:r,sealed:c,iv:u}}const s=i+fg,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function WSe(t,e){const n=uy({encoded:t,encoding:e==null?void 0:e.encoding});return Sq({type:Md(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ds(n.senderPublicKey,zi):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Sq(t){const e=(t==null?void 0:t.type)||bq;if(e===Fc){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function J$(t){return t.type===Fc&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function X$(t){return t.type===c0}function VSe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return hg([new Uint8Array([4]),e,n])}function qSe(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Eq(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,u=$_(c),d=VSe(e);if(!DSe.verify(hg([o,a]),u,d))throw new Error("Invalid signature");return OI(t).payload}const HSe="irn";function i1(t){return(t==null?void 0:t.relay)||{protocol:HSe}}function hf(t){const e=nEe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var KSe=Object.defineProperty,GSe=Object.defineProperties,YSe=Object.getOwnPropertyDescriptors,Q$=Object.getOwnPropertySymbols,ZSe=Object.prototype.hasOwnProperty,JSe=Object.prototype.propertyIsEnumerable,eD=(t,e,n)=>e in t?KSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FS=(t,e)=>{for(var n in e||(e={}))ZSe.call(e,n)&&eD(t,n,e[n]);if(Q$)for(var n of Q$(e))JSe.call(e,n)&&eD(t,n,e[n]);return t},XSe=(t,e)=>GSe(t,YSe(e));function QSe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function tD(t){if(!t.includes("wc:")){const u=kV(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:eAe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:QSe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function eAe(t){return t.startsWith("//")?t.substring(2):t}function tAe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function nD(t){const e=new URLSearchParams,n=FS(FS(XSe(FS({},tAe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function ab(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var nAe=Object.defineProperty,rAe=Object.defineProperties,iAe=Object.getOwnPropertyDescriptors,rD=Object.getOwnPropertySymbols,sAe=Object.prototype.hasOwnProperty,oAe=Object.prototype.propertyIsEnumerable,iD=(t,e,n)=>e in t?nAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aAe=(t,e)=>{for(var n in e||(e={}))sAe.call(e,n)&&iD(t,n,e[n]);if(rD)for(var n of rD(e))oAe.call(e,n)&&iD(t,n,e[n]);return t},cAe=(t,e)=>rAe(t,iAe(e));function vp(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function lAe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...vp(n.accounts))}),e}function uAe(t,e){const n=[];return Object.values(t).forEach(r=>{vp(r.accounts).includes(e)&&n.push(...r.methods)}),n}function dAe(t,e){const n=[];return Object.values(t).forEach(r=>{vp(r.accounts).includes(e)&&n.push(...r.events)}),n}function L_(t){return t.includes(":")}function ff(t){return L_(t)?t.split(":")[0]:t}function sD(t){var e,n,r;const i={};if(!$a(t))return i;for(const[s,o]of Object.entries(t)){const a=L_(s)?[s]:o.chains,c=o.methods||[],u=o.events||[],d=ff(s);i[d]=cAe(aAe({},i[d]),{chains:Na(a,(e=i[d])==null?void 0:e.chains),methods:Na(c,(n=i[d])==null?void 0:n.methods),events:Na(u,(r=i[d])==null?void 0:r.events)})}return i}function hAe(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function oD(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=hAe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Na(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function fAe(t,e){var n,r,i,s,o,a;const c=sD(t),u=sD(e),d={},f=Object.keys(c).concat(Object.keys(u));for(const p of f)d[p]={chains:Na((n=c[p])==null?void 0:n.chains,(r=u[p])==null?void 0:r.chains),methods:Na((i=c[p])==null?void 0:i.methods,(s=u[p])==null?void 0:s.methods),events:Na((o=c[p])==null?void 0:o.events,(a=u[p])==null?void 0:a.events)};return d}const pAe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},mAe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function De(t,e){const{message:n,code:r}=mAe[t];return{message:e?`${n} ${e}`:n,code:r}}function Rn(t,e){const{message:n,code:r}=pAe[t];return{message:e?`${n} ${e}`:n,code:r}}function uo(t,e){return!!Array.isArray(t)}function $a(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Dr(t){return typeof t>"u"}function br(t,e){return e&&Dr(t)?!0:typeof t=="string"&&!!t.trim().length}function aC(t,e){return e&&Dr(t)?!0:typeof t=="number"&&!isNaN(t)}function gAe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return sd(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],d=vp(a),f=n[o];(!sd(xV(o,f),d)||!sd(f.methods,c)||!sd(f.events,u))&&(s=!1)}),s):!1}function s1(t){return br(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function yAe(t){if(br(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&s1(n)}}return!1}function wAe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(br(t,!1)){if(e(t))return!0;const n=kV(t);return e(n)}}catch{}return!1}function bAe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function vAe(t){return t==null?void 0:t.topic}function _Ae(t,e){let n=null;return br(t==null?void 0:t.publicKey,!1)||(n=De("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function aD(t){let e=!0;return uo(t)?t.length&&(e=t.every(n=>br(n,!1))):e=!1,e}function EAe(t,e,n){let r=null;return uo(e)&&e.length?e.forEach(i=>{r||s1(i)||(r=Rn("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):s1(t)||(r=Rn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function xAe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=EAe(i,xV(i,s),`${e} ${n}`);o&&(r=o)}),r}function SAe(t,e){let n=null;return uo(t)?t.forEach(r=>{n||yAe(r)||(n=Rn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Rn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function AAe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=SAe(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function TAe(t,e){let n=null;return aD(t==null?void 0:t.methods)?aD(t==null?void 0:t.events)||(n=Rn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Rn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Aq(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=TAe(r,`${e}, namespace`);i&&(n=i)}),n}function IAe(t,e,n){let r=null;if(t&&$a(t)){const i=Aq(t,e);i&&(r=i);const s=xAe(t,e,n);s&&(r=s)}else r=De("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function jS(t,e){let n=null;if(t&&$a(t)){const r=Aq(t,e);r&&(n=r);const i=AAe(t,e);i&&(n=i)}else n=De("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Tq(t){return br(t.protocol,!0)}function kAe(t,e){let n=!1;return t?t&&uo(t)&&t.length&&t.forEach(r=>{n=Tq(r)}):n=!0,n}function CAe(t){return typeof t=="number"}function ts(t){return typeof t<"u"&&typeof t!==null}function PAe(t){return!(!t||typeof t!="object"||!t.code||!aC(t.code,!1)||!t.message||!br(t.message,!1))}function OAe(t){return!(Dr(t)||!br(t.method,!1))}function RAe(t){return!(Dr(t)||Dr(t.result)&&Dr(t.error)||!aC(t.id,!1)||!br(t.jsonrpc,!1))}function NAe(t){return!(Dr(t)||!br(t.name,!1))}function cD(t,e){return!(!s1(e)||!lAe(t).includes(e))}function $Ae(t,e,n){return br(n,!1)?uAe(t,e).includes(n):!1}function DAe(t,e,n){return br(n,!1)?dAe(t,e).includes(n):!1}function lD(t,e,n){let r=null;const i=MAe(t),s=LAe(e),o=Object.keys(i),a=Object.keys(s),c=uD(Object.keys(t)),u=uD(Object.keys(e)),d=c.filter(f=>!u.includes(f));return d.length&&(r=De("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),sd(o,a)||(r=De("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;const p=vp(e[f].accounts);p.includes(f)||(r=De("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${p.toString()}`))}),o.forEach(f=>{r||(sd(i[f].methods,s[f].methods)?sd(i[f].events,s[f].events)||(r=De("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=De("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function MAe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function uD(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function LAe(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=vp(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function BAe(t,e){return aC(t,!1)&&t<=e.max&&t>=e.min}function dD(){const t=i0();return new Promise(e=>{switch(t){case Os.browser:e(UAe());break;case Os.reactNative:e(FAe());break;case Os.node:e(jAe());break;default:e(!0)}})}function UAe(){return bp()&&(navigator==null?void 0:navigator.onLine)}async function FAe(){if(hu()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function jAe(){return!0}function zAe(t){switch(i0()){case Os.browser:WAe(t);break;case Os.reactNative:VAe(t);break}}function WAe(t){!hu()&&bp()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function VAe(t){hu()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function qAe(){var t;return bp()&&Kc.getDocument()?((t=Kc.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const zS={};class Am{static get(e){return zS[e]}static set(e,n){zS[e]=n}static delete(e){delete zS[e]}}function HAe(t){const e=t0.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function KAe({publicKey:t,signature:e,payload:n}){var r;const i=HI(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=ZAe(n.address),a=n.era==="00"?new Uint8Array([0]):HI(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),u=new Uint8Array([c&255,c>>8&255]),d=BigInt(`0x${YAe(n.tip)}`),f=XAe(d),p=new Uint8Array([0,...t,o,...e,...a,...u,...f,...i]),m=JAe(p.length+1);return new Uint8Array([...m,s,...p])}function GAe(t){const e=HI(t),n=oEe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function HI(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function YAe(t){return t.startsWith("0x")?t.slice(2):t}function ZAe(t){const e=t0.decode(t)[0];return e===42?0:e===60?2:1}function JAe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function XAe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function QAe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=HAe(t.transaction.address),r=KAe({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return GAe(i)}function cC({logger:t,name:e}){const n=typeof t=="string"?EV({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class Jd{}let eTe=class extends Jd{constructor(e){super()}};const hD=Me.FIVE_SECONDS,Xd={pulse:"heartbeat_pulse"};let tTe=class Iq extends eTe{constructor(e){super(e),this.events=new Bs.EventEmitter,this.interval=hD,this.interval=(e==null?void 0:e.interval)||hD}static async init(e){const n=new Iq(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Me.toMiliseconds(this.interval))}pulse(){this.events.emit(Xd.pulse)}};function nTe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function qr(t,...e){try{return nTe(t(...e))}catch(n){return Promise.reject(n)}}function rTe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function iTe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function zb(t){if(rTe(t))return String(t);if(iTe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return zb(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const KI="base64:";function sTe(t){return typeof t=="string"?t:KI+cTe(t)}function oTe(t){return typeof t!="string"||!t.startsWith(KI)?t:aTe(t.slice(KI.length))}function aTe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function cTe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function es(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function lTe(...t){return es(t.join(":"))}function cb(t){return t=es(t),t?t+":":""}function uTe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function dTe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const hTe="memory",fTe=()=>{const t=new Map;return{name:hTe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function pTe(t={}){const e={mounts:{"":t.driver||fTe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const d of e.mountpoints)if(u.startsWith(d))return{base:d,relativeKey:u.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:u,driver:e.mounts[""]}},r=(u,d)=>e.mountpoints.filter(f=>f.startsWith(u)||d&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(u,d)=>{if(e.watching){d=es(d);for(const f of e.watchListeners)f(u,d)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await fD(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,d,f)=>{const p=new Map,m=y=>{let w=p.get(y.base);return w||(w={driver:y.driver,base:y.base,items:[]},p.set(y.base,w)),w};for(const y of u){const w=typeof y=="string",v=es(w?y:y.key),E=w?void 0:y.value,k=w||!y.options?d:{...d,...y.options},_=n(v);m(_).items.push({key:v,value:E,relativeKey:_.relativeKey,options:k})}return Promise.all([...p.values()].map(y=>f(y))).then(y=>y.flat())},c={hasItem(u,d={}){u=es(u);const{relativeKey:f,driver:p}=n(u);return qr(p.hasItem,f,d)},getItem(u,d={}){u=es(u);const{relativeKey:f,driver:p}=n(u);return qr(p.getItem,f,d).then(m=>Wm(m))},getItems(u,d={}){return a(u,d,f=>f.driver.getItems?qr(f.driver.getItems,f.items.map(p=>({key:p.relativeKey,options:p.options})),d).then(p=>p.map(m=>({key:lTe(f.base,m.key),value:Wm(m.value)}))):Promise.all(f.items.map(p=>qr(f.driver.getItem,p.relativeKey,p.options).then(m=>({key:p.key,value:Wm(m)})))))},getItemRaw(u,d={}){u=es(u);const{relativeKey:f,driver:p}=n(u);return p.getItemRaw?qr(p.getItemRaw,f,d):qr(p.getItem,f,d).then(m=>oTe(m))},async setItem(u,d,f={}){if(d===void 0)return c.removeItem(u);u=es(u);const{relativeKey:p,driver:m}=n(u);m.setItem&&(await qr(m.setItem,p,zb(d),f),m.watch||i("update",u))},async setItems(u,d){await a(u,d,async f=>{if(f.driver.setItems)return qr(f.driver.setItems,f.items.map(p=>({key:p.relativeKey,value:zb(p.value),options:p.options})),d);f.driver.setItem&&await Promise.all(f.items.map(p=>qr(f.driver.setItem,p.relativeKey,zb(p.value),p.options)))})},async setItemRaw(u,d,f={}){if(d===void 0)return c.removeItem(u,f);u=es(u);const{relativeKey:p,driver:m}=n(u);if(m.setItemRaw)await qr(m.setItemRaw,p,d,f);else if(m.setItem)await qr(m.setItem,p,sTe(d),f);else return;m.watch||i("update",u)},async removeItem(u,d={}){typeof d=="boolean"&&(d={removeMeta:d}),u=es(u);const{relativeKey:f,driver:p}=n(u);p.removeItem&&(await qr(p.removeItem,f,d),(d.removeMeta||d.removeMata)&&await qr(p.removeItem,f+"$",d),p.watch||i("remove",u))},async getMeta(u,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),u=es(u);const{relativeKey:f,driver:p}=n(u),m=Object.create(null);if(p.getMeta&&Object.assign(m,await qr(p.getMeta,f,d)),!d.nativeOnly){const y=await qr(p.getItem,f+"$",d).then(w=>Wm(w));y&&typeof y=="object"&&(typeof y.atime=="string"&&(y.atime=new Date(y.atime)),typeof y.mtime=="string"&&(y.mtime=new Date(y.mtime)),Object.assign(m,y))}return m},setMeta(u,d,f={}){return this.setItem(u+"$",d,f)},removeMeta(u,d={}){return this.removeItem(u+"$",d)},async getKeys(u,d={}){var v;u=cb(u);const f=r(u,!0);let p=[];const m=[];let y=!0;for(const E of f){(v=E.driver.flags)!=null&&v.maxDepth||(y=!1);const k=await qr(E.driver.getKeys,E.relativeBase,d);for(const _ of k){const x=E.mountpoint+es(_);p.some(A=>x.startsWith(A))||m.push(x)}p=[E.mountpoint,...p.filter(_=>!_.startsWith(E.mountpoint))]}const w=d.maxDepth!==void 0&&!y;return m.filter(E=>(!w||uTe(E,d.maxDepth))&&dTe(E,u))},async clear(u,d={}){u=cb(u),await Promise.all(r(u,!1).map(async f=>{if(f.driver.clear)return qr(f.driver.clear,f.relativeBase,d);if(f.driver.removeItem){const p=await f.driver.getKeys(f.relativeBase||"",d);return Promise.all(p.map(m=>f.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>pD(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,d){if(u=cb(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((f,p)=>p.length-f.length)),e.mounts[u]=d,e.watching&&Promise.resolve(fD(d,i,u)).then(f=>{e.unwatch[u]=f}).catch(console.error),c},async unmount(u,d=!0){var f,p;u=cb(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((p=(f=e.unwatch)[u])==null||p.call(f),delete e.unwatch[u]),d&&await pD(e.mounts[u]),e.mountpoints=e.mountpoints.filter(m=>m!==u),delete e.mounts[u])},getMount(u=""){u=es(u)+":";const d=n(u);return{driver:d.driver,base:d.base}},getMounts(u="",d={}){return u=es(u),r(u,d.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(u,d={})=>c.getKeys(u,d),get:(u,d={})=>c.getItem(u,d),set:(u,d,f={})=>c.setItem(u,d,f),has:(u,d={})=>c.hasItem(u,d),del:(u,d={})=>c.removeItem(u,d),remove:(u,d={})=>c.removeItem(u,d)};return c}function fD(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function pD(t){typeof t.dispose=="function"&&await qr(t.dispose)}function Qd(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function kq(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Qd(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let WS;function l0(){return WS||(WS=kq("keyval-store","keyval")),WS}function mD(t,e=l0()){return e("readonly",n=>Qd(n.get(t)))}function mTe(t,e,n=l0()){return n("readwrite",r=>(r.put(e,t),Qd(r.transaction)))}function gTe(t,e=l0()){return e("readwrite",n=>(n.delete(t),Qd(n.transaction)))}function yTe(t=l0()){return t("readwrite",e=>(e.clear(),Qd(e.transaction)))}function wTe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Qd(t.transaction)}function bTe(t=l0()){return t("readonly",e=>{if(e.getAllKeys)return Qd(e.getAllKeys());const n=[];return wTe(e,r=>n.push(r.key)).then(()=>n)})}const vTe="idb-keyval";var _Te=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=kq(t.dbName,t.storeName)),{name:vTe,options:t,async hasItem(i){return!(typeof await mD(n(i),r)>"u")},async getItem(i){return await mD(n(i),r)??null},setItem(i,s){return mTe(n(i),s,r)},removeItem(i){return gTe(n(i),r)},getKeys(){return bTe(r)},clear(){return yTe(r)}}};const ETe="WALLET_CONNECT_V2_INDEXED_DB",xTe="keyvaluestorage";let STe=class{constructor(){this.indexedDb=pTe({driver:_Te({dbName:ETe,storeName:xTe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Gc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wb={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof VS<"u"&&VS.localStorage?Wb.exports=VS.localStorage:typeof window<"u"&&window.localStorage?Wb.exports=window.localStorage:Wb.exports=new e})();function ATe(t){var e;return[t[0],$d((e=t[1])!=null?e:"")]}let TTe=class{constructor(){this.localStorage=Wb.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ATe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return $d(n)}async setItem(e,n){this.localStorage.setItem(e,Gc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const ITe="wc_storage_version",gD=1,kTe=async(t,e,n)=>{const r=ITe,i=await e.getItem(r);if(i&&i>=gD){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(r,gD),n(e),CTe(t,o)},CTe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let PTe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new TTe;this.storage=e;try{const n=new STe;kTe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var OTe=Object.defineProperty,RTe=(t,e,n)=>e in t?OTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yD=(t,e,n)=>RTe(t,typeof e!="symbol"?e+"":e,n);let NTe=class extends Jd{constructor(e){super(),this.opts=e,yD(this,"protocol","wc"),yD(this,"version",2)}};var $Te=Object.defineProperty,DTe=(t,e,n)=>e in t?$Te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MTe=(t,e,n)=>DTe(t,e+"",n);let LTe=class extends Jd{constructor(e,n){super(),this.core=e,this.logger=n,MTe(this,"records",new Map)}},BTe=class{constructor(e,n){this.logger=e,this.core=n}},UTe=class extends Jd{constructor(e,n){super(),this.relayer=e,this.logger=n}},FTe=class extends Jd{constructor(e){super()}},jTe=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},zTe=class extends Jd{constructor(e,n){super(),this.relayer=e,this.logger=n}},WTe=class extends Jd{constructor(e,n){super(),this.core=e,this.logger=n}},VTe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},qTe=class{constructor(e,n){this.projectId=e,this.logger=n}},HTe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var KTe=Object.defineProperty,GTe=(t,e,n)=>e in t?KTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wD=(t,e,n)=>GTe(t,typeof e!="symbol"?e+"":e,n);let YTe=class{constructor(e){this.opts=e,wD(this,"protocol","wc"),wD(this,"version",2)}},ZTe=class{constructor(e){this.client=e}};const JTe="PARSE_ERROR",XTe="INVALID_REQUEST",QTe="METHOD_NOT_FOUND",eIe="INVALID_PARAMS",Cq="INTERNAL_ERROR",lC="SERVER_ERROR",tIe=[-32700,-32600,-32601,-32602,-32603],pg={[JTe]:{code:-32700,message:"Parse error"},[XTe]:{code:-32600,message:"Invalid Request"},[QTe]:{code:-32601,message:"Method not found"},[eIe]:{code:-32602,message:"Invalid params"},[Cq]:{code:-32603,message:"Internal error"},[lC]:{code:-32e3,message:"Server error"}},Pq=lC;function nIe(t){return tIe.includes(t)}function bD(t){return Object.keys(pg).includes(t)?pg[t]:pg[Pq]}function rIe(t){const e=Object.values(pg).find(n=>n.code===t);return e||pg[Pq]}function Oq(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var qS={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GI=function(t,e){return GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},GI(t,e)};function iIe(t,e){GI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var YI=function(){return YI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YI.apply(this,arguments)};function sIe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oIe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function aIe(t,e){return function(n,r){e(n,r,t)}}function cIe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lIe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function uIe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function dIe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function hIe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ZI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rq(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function fIe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rq(arguments[e]));return t}function pIe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function dy(t){return this instanceof dy?(this.v=t,this):new dy(t)}function mIe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(y,w){s.push([p,m,y,w])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(y){f(s[0][3],y)}}function c(p){p.value instanceof dy?Promise.resolve(p.value.v).then(u,d):f(s[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function gIe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:dy(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function yIe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZI=="function"?ZI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function wIe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function bIe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function vIe(t){return t&&t.__esModule?t:{default:t}}function _Ie(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function EIe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const xIe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return YI},__asyncDelegator:gIe,__asyncGenerator:mIe,__asyncValues:yIe,__await:dy,__awaiter:lIe,__classPrivateFieldGet:_Ie,__classPrivateFieldSet:EIe,__createBinding:dIe,__decorate:oIe,__exportStar:hIe,__extends:iIe,__generator:uIe,__importDefault:vIe,__importStar:bIe,__makeTemplateObject:wIe,__metadata:cIe,__param:aIe,__read:Rq,__rest:sIe,__spread:fIe,__spreadArrays:pIe,__values:ZI},Symbol.toStringTag,{value:"Module"})),SIe=XL(xIe);var fc={},vD;function AIe(){if(vD)return fc;vD=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.isBrowserCryptoAvailable=fc.getSubtleCrypto=fc.getBrowerCrypto=void 0;function t(){return(Aa==null?void 0:Aa.crypto)||(Aa==null?void 0:Aa.msCrypto)||{}}fc.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}fc.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return fc.isBrowserCryptoAvailable=n,fc}var pc={},_D;function TIe(){if(_D)return pc;_D=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.isBrowser=pc.isNode=pc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}pc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}pc.isNode=e;function n(){return!t()&&!e()}return pc.isBrowser=n,pc}var ED;function IIe(){return ED||(ED=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=SIe;e.__exportStar(AIe(),t),e.__exportStar(TIe(),t)})(qS)),qS}var kIe=IIe();function xa(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Xl(t=6){return BigInt(xa(t))}function Fo(t,e,n){return{id:n||xa(),jsonrpc:"2.0",method:t,params:e}}function hy(t,e){return{id:t,jsonrpc:"2.0",result:e}}function B_(t,e,n){return{id:t,jsonrpc:"2.0",error:CIe(e)}}function CIe(t,e){return typeof t>"u"?bD(Cq):(typeof t=="string"&&(t=Object.assign(Object.assign({},bD(lC)),{message:t})),nIe(t.code)&&(t=rIe(t.code)),t)}let PIe=class{};class OIe extends PIe{constructor(){super()}}class RIe extends OIe{constructor(e){super()}}const NIe="^https?:",$Ie="^wss?:";function DIe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Nq(t,e){const n=DIe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function xD(t){return Nq(t,NIe)}function SD(t){return Nq(t,$Ie)}function MIe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function $q(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function uC(t){return $q(t)&&"method"in t}function U_(t){return $q(t)&&(Sa(t)||ao(t))}function Sa(t){return"result"in t}function ao(t){return"error"in t}let dC=class extends RIe{constructor(e){super(e),this.events=new Bs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Fo(e.method,e.params||[],e.id||Xl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{ao(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),U_(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const LIe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),BIe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",AD=t=>t.split("?")[0],TD=10,UIe=LIe();let FIe=class{constructor(e){if(this.url=e,this.events=new Bs.EventEmitter,this.registering=!1,!SD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Gc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!SD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=kIe.isReactNative()?void 0:{rejectUnauthorized:!MIe(e)},s=new UIe(e,[],i);BIe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?$d(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=B_(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Oq(e,AD(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>TD&&this.events.setMaxListeners(TD)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${AD(this.url)}`));return this.events.emit("register_error",n),n}};var jIe={};const Dq="wc",Mq=2,JI="core",Wa=`${Dq}@2:${JI}:`,zIe={logger:"error"},WIe={database:":memory:"},VIe="crypto",ID="client_ed25519_seed",qIe=Me.ONE_DAY,HIe="keychain",KIe="0.3",GIe="messages",YIe="0.3",ZIe=Me.SIX_HOURS,JIe="publisher",Lq="irn",XIe="error",Bq="wss://relay.walletconnect.org",QIe="relayer",ar={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},e5e="_subscription",Zs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},t5e=.1,XI="2.22.4",On={link_mode:"link_mode",relay:"relay"},Vb={inbound:"inbound",outbound:"outbound"},n5e="0.3",r5e="WALLETCONNECT_CLIENT_ID",kD="WALLETCONNECT_LINK_MODE_APPS",Ts={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},i5e="subscription",s5e="0.3",o5e="pairing",a5e="0.3",Tm={wc_pairingDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:0},res:{ttl:Me.ONE_DAY,prompt:!1,tag:0}}},Xu={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Oo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},c5e="history",l5e="0.3",u5e="expirer",to={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},d5e="0.3",h5e="verify-api",f5e="https://verify.walletconnect.com",Uq="https://verify.walletconnect.org",mg=Uq,p5e=`${mg}/v3`,m5e=[f5e,Uq],g5e="echo",y5e="https://echo.walletconnect.com",Ea={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},wc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ro={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},Bu={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Uu={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Im={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},w5e=.1,b5e="event-client",v5e=86400,_5e="https://pulse.walletconnect.org/batch";function E5e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var w=0,v=0,E=0,k=y.length;E!==k&&y[E]===0;)E++,w++;for(var _=(k-E)*d+1>>>0,x=new Uint8Array(_);E!==k;){for(var A=y[E],T=0,O=_-1;(A!==0||T<v)&&O!==-1;O--,T++)A+=256*x[O]>>>0,x[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error("Non-zero carry");v=T,E++}for(var N=_-v;N!==_&&x[N]===0;)N++;for(var D=c.repeat(w);N<_;++N)D+=t.charAt(x[N]);return D}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var w=0;if(y[w]!==" "){for(var v=0,E=0;y[w]===c;)v++,w++;for(var k=(y.length-w)*u+1>>>0,_=new Uint8Array(k);y[w];){var x=n[y.charCodeAt(w)];if(x===255)return;for(var A=0,T=k-1;(x!==0||A<E)&&T!==-1;T--,A++)x+=a*_[T]>>>0,_[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");E=A,w++}if(y[w]!==" "){for(var O=k-E;O!==k&&_[O]===0;)O++;for(var N=new Uint8Array(v+(k-O)),D=v;O!==k;)N[D++]=_[O++];return N}}}function m(y){var w=p(y);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:p,decode:m}}var x5e=E5e,S5e=x5e;const Fq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},A5e=t=>new TextEncoder().encode(t),T5e=t=>new TextDecoder().decode(t);class I5e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class k5e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return jq(this,e)}}class C5e{constructor(e){this.decoders=e}or(e){return jq(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const jq=(t,e)=>new C5e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class P5e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new I5e(e,n,r),this.decoder=new k5e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const F_=({name:t,prefix:e,encode:n,decode:r})=>new P5e(t,e,n,r),u0=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=S5e(n,e);return F_({prefix:t,name:e,encode:r,decode:s=>Fq(i(s))})},O5e=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let d=0;d<s;++d){const f=i[t[d]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},R5e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>F_({prefix:e,name:t,encode(i){return R5e(i,r,n)},decode(i){return O5e(i,r,n,t)}}),N5e=F_({prefix:"\0",name:"identity",encode:t=>T5e(t),decode:t=>A5e(t)});var $5e=Object.freeze({__proto__:null,identity:N5e});const D5e=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var M5e=Object.freeze({__proto__:null,base2:D5e});const L5e=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var B5e=Object.freeze({__proto__:null,base8:L5e});const U5e=u0({prefix:"9",name:"base10",alphabet:"0123456789"});var F5e=Object.freeze({__proto__:null,base10:U5e});const j5e=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),z5e=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var W5e=Object.freeze({__proto__:null,base16:j5e,base16upper:z5e});const V5e=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),q5e=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),H5e=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),K5e=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),G5e=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Y5e=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Z5e=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),J5e=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),X5e=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Q5e=Object.freeze({__proto__:null,base32:V5e,base32upper:q5e,base32pad:H5e,base32padupper:K5e,base32hex:G5e,base32hexupper:Y5e,base32hexpad:Z5e,base32hexpadupper:J5e,base32z:X5e});const e6e=u0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),t6e=u0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var n6e=Object.freeze({__proto__:null,base36:e6e,base36upper:t6e});const r6e=u0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i6e=u0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var s6e=Object.freeze({__proto__:null,base58btc:r6e,base58flickr:i6e});const o6e=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),a6e=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),c6e=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),l6e=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var u6e=Object.freeze({__proto__:null,base64:o6e,base64pad:a6e,base64url:c6e,base64urlpad:l6e});const zq=Array.from(""),d6e=zq.reduce((t,e,n)=>(t[n]=e,t),[]),h6e=zq.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function f6e(t){return t.reduce((e,n)=>(e+=d6e[n],e),"")}function p6e(t){const e=[];for(const n of t){const r=h6e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const m6e=F_({prefix:"",name:"base256emoji",encode:f6e,decode:p6e});var g6e=Object.freeze({__proto__:null,base256emoji:m6e}),y6e=Wq,CD=128,w6e=-128,b6e=Math.pow(2,31);function Wq(t,e,n){e=e||[],n=n||0;for(var r=n;t>=b6e;)e[n++]=t&255|CD,t/=128;for(;t&w6e;)e[n++]=t&255|CD,t>>>=7;return e[n]=t|0,Wq.bytes=n-r+1,e}var v6e=QI,_6e=128,PD=127;function QI(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw QI.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&PD)<<i:(o&PD)*Math.pow(2,i),i+=7}while(o>=_6e);return QI.bytes=s-r,n}var E6e=Math.pow(2,7),x6e=Math.pow(2,14),S6e=Math.pow(2,21),A6e=Math.pow(2,28),T6e=Math.pow(2,35),I6e=Math.pow(2,42),k6e=Math.pow(2,49),C6e=Math.pow(2,56),P6e=Math.pow(2,63),O6e=function(t){return t<E6e?1:t<x6e?2:t<S6e?3:t<A6e?4:t<T6e?5:t<I6e?6:t<k6e?7:t<C6e?8:t<P6e?9:10},R6e={encode:y6e,decode:v6e,encodingLength:O6e},Vq=R6e;const OD=(t,e,n=0)=>(Vq.encode(t,e,n),e),RD=t=>Vq.encodingLength(t),e5=(t,e)=>{const n=e.byteLength,r=RD(t),i=r+RD(n),s=new Uint8Array(i+n);return OD(t,s,0),OD(n,s,r),s.set(e,i),new N6e(t,n,e,s)};class N6e{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const qq=({name:t,code:e,encode:n})=>new $6e(t,e,n);class $6e{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?e5(this.code,n):n.then(r=>e5(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Hq=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),D6e=qq({name:"sha2-256",code:18,encode:Hq("SHA-256")}),M6e=qq({name:"sha2-512",code:19,encode:Hq("SHA-512")});var L6e=Object.freeze({__proto__:null,sha256:D6e,sha512:M6e});const Kq=0,B6e="identity",Gq=Fq,U6e=t=>e5(Kq,Gq(t)),F6e={code:Kq,name:B6e,encode:Gq,digest:U6e};var j6e=Object.freeze({__proto__:null,identity:F6e});new TextEncoder,new TextDecoder;const ND={...$5e,...M5e,...B5e,...F5e,...W5e,...Q5e,...n6e,...s6e,...u6e,...g6e};({...L6e,...j6e});function Yq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function z6e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Yq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Zq(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const $D=Zq("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),HS=Zq("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=z6e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),W6e={utf8:$D,"utf-8":$D,hex:ND.base16,latin1:HS,ascii:HS,binary:HS,...ND};function V6e(t,e="utf8"){const n=W6e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Yq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var q6e=Object.defineProperty,H6e=(t,e,n)=>e in t?q6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ya=(t,e,n)=>H6e(t,typeof e!="symbol"?e+"":e,n);let K6e=class{constructor(e,n){this.core=e,this.logger=n,ya(this,"keychain",new Map),ya(this,"name",HIe),ya(this,"version",KIe),ya(this,"initialized",!1),ya(this,"storagePrefix",Wa),ya(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ya(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ya(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),ya(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=De("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),ya(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Us(n,this.name)}get context(){return ms(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,NI(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?$I(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}};var G6e=Object.defineProperty,Y6e=(t,e,n)=>e in t?G6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wr=(t,e,n)=>Y6e(t,typeof e!="symbol"?e+"":e,n);let Z6e=class{constructor(e,n,r){this.core=e,this.logger=n,Wr(this,"name",VIe),Wr(this,"keychain"),Wr(this,"randomSessionIdentifier",qI()),Wr(this,"initialized",!1),Wr(this,"clientId"),Wr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Wr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Wr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=r$(i),o=fV(s.publicKey);return this.clientId=o,o}),Wr(this,"generateKeyPair",()=>{this.isInitialized();const i=LSe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Wr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=r$(s),a=this.randomSessionIdentifier;return await s_e(a,i,qIe,o)}),Wr(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=BSe(a,s);return this.setSymKey(c,o)}),Wr(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||jb(i);return await this.keychain.set(o,i),o}),Wr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Wr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Wr(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Sq(o),c=Gc(s);if(X$(a))return jSe(c,o==null?void 0:o.encoding);if(J$(a)){const p=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(p,m)}const u=this.getSymKey(i),{type:d,senderPublicKey:f}=a;return USe({type:d,symKey:u,message:c,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),Wr(this,"decode",async(i,s,o)=>{this.isInitialized();const a=WSe(s,o);if(X$(a)){const c=zSe(s,o==null?void 0:o.encoding);return $d(c)}if(J$(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=FSe({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return $d(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Wr(this,"getPayloadType",(i,s=ss)=>{const o=uy({encoded:i,encoding:s});return Md(o.type)}),Wr(this,"getPayloadSenderPublicKey",(i,s=ss)=>{const o=uy({encoded:i,encoding:s});return o.senderPublicKey?ds(o.senderPublicKey,zi):void 0}),this.core=e,this.logger=Us(n,this.name),this.keychain=r||new K6e(this.core,this.logger)}get context(){return ms(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ID)}catch{e=qI(),await this.keychain.set(ID,e)}return V6e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}};var J6e=Object.defineProperty,X6e=Object.defineProperties,Q6e=Object.getOwnPropertyDescriptors,DD=Object.getOwnPropertySymbols,eke=Object.prototype.hasOwnProperty,tke=Object.prototype.propertyIsEnumerable,t5=(t,e,n)=>e in t?J6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nke=(t,e)=>{for(var n in e||(e={}))eke.call(e,n)&&t5(t,n,e[n]);if(DD)for(var n of DD(e))tke.call(e,n)&&t5(t,n,e[n]);return t},rke=(t,e)=>X6e(t,Q6e(e)),Es=(t,e,n)=>t5(t,typeof e!="symbol"?e+"":e,n);let ike=class extends BTe{constructor(e,n){super(e,n),this.logger=e,this.core=n,Es(this,"messages",new Map),Es(this,"messagesWithoutClientAck",new Map),Es(this,"name",GIe),Es(this,"version",YIe),Es(this,"initialized",!1),Es(this,"storagePrefix",Wa),Es(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Es(this,"set",async(r,i,s)=>{this.isInitialized();const o=oo(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===Vb.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,rke(nke({},c),{[o]:i}))}return await this.persist(),o}),Es(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Es(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Es(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=oo(i);return typeof s[o]<"u"}),Es(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=oo(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Es(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Us(e,this.name),this.core=n}get context(){return ms(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,NI(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,NI(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?$I(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?$I(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}};var ske=Object.defineProperty,oke=Object.defineProperties,ake=Object.getOwnPropertyDescriptors,MD=Object.getOwnPropertySymbols,cke=Object.prototype.hasOwnProperty,lke=Object.prototype.propertyIsEnumerable,n5=(t,e,n)=>e in t?ske(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qh=(t,e)=>{for(var n in e||(e={}))cke.call(e,n)&&n5(t,n,e[n]);if(MD)for(var n of MD(e))lke.call(e,n)&&n5(t,n,e[n]);return t},LD=(t,e)=>oke(t,ake(e)),Js=(t,e,n)=>n5(t,typeof e!="symbol"?e+"":e,n);class uke extends UTe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Js(this,"events",new Bs.EventEmitter),Js(this,"name",JIe),Js(this,"queue",new Map),Js(this,"publishTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),Js(this,"initialPublishTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),Js(this,"needsTransportRestart",!1),Js(this,"publish",async(r,i,s)=>{var o,a,c,u,d;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const f=(s==null?void 0:s.ttl)||ZIe,p=(s==null?void 0:s.prompt)||!1,m=(s==null?void 0:s.tag)||0,y=(s==null?void 0:s.id)||Xl().toString(),w=hf(i1().protocol),v={id:y,method:(s==null?void 0:s.publishMethod)||w.publish,params:qh({topic:r,message:i,ttl:f,prompt:p,tag:m,attestation:s==null?void 0:s.attestation},s==null?void 0:s.tvf)},E=`Failed to publish payload, please try again. id:${y} tag:${m}`;try{Dr((o=v.params)==null?void 0:o.prompt)&&((a=v.params)==null||delete a.prompt),Dr((c=v.params)==null?void 0:c.tag)&&((u=v.params)==null||delete u.tag);const k=new Promise(async _=>{const x=({id:T})=>{var O;((O=v.id)==null?void 0:O.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(ar.publish,x),_())};this.relayer.events.on(ar.publish,x);const A=ka(new Promise((T,O)=>{this.rpcPublish(v,s).then(T).catch(N=>{this.logger.warn(N,N==null?void 0:N.message),O(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${y} tag:${m}`);try{await A,this.events.removeListener(ar.publish,x)}catch(T){this.queue.set(y,{request:v,opts:s,attempt:1}),this.logger.warn(T,T==null?void 0:T.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,topic:r,message:i,opts:s}}),await ka(k,this.publishTimeout,E)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(d=s==null?void 0:s.internal)!=null&&d.throwOnFailedPublish)throw k}finally{this.queue.delete(y)}}),Js(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:u,opts:d={}}=r,{attestation:f,tvf:p,publishMethod:m,prompt:y,tag:w,ttl:v=Me.FIVE_MINUTES}=d,E=d.id||Xl().toString(),k=hf(i1().protocol),_=m||k.publish,x={id:E,method:_,params:qh(LD(qh({},u),{ttl:v,prompt:y,tag:w,attestation:f}),p)},A=`Failed to publish custom payload, please try again. id:${E} tag:${w}`;try{Dr((i=x.params)==null?void 0:i.prompt)&&((s=x.params)==null||delete s.prompt),Dr((o=x.params)==null?void 0:o.tag)&&((a=x.params)==null||delete a.tag);const T=new Promise(async O=>{const N=({id:F})=>{var K;((K=x.id)==null?void 0:K.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(ar.publish,N),O())};this.relayer.events.on(ar.publish,N);const D=ka(new Promise((F,K)=>{this.rpcPublish(x,d).then(F).catch(B=>{this.logger.warn(B,B==null?void 0:B.message),K(B)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${E} tag:${w}`);try{await D,this.events.removeListener(ar.publish,N)}catch(F){this.queue.set(E,{request:x,opts:d,attempt:1}),this.logger.warn(F,F==null?void 0:F.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:u,opts:d}}),await ka(T,this.publishTimeout,A)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=d==null?void 0:d.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(E)}}),Js(this,"on",(r,i)=>{this.events.on(r,i)}),Js(this,"once",(r,i)=>{this.events.once(r,i)}),Js(this,"off",(r,i)=>{this.events.off(r,i)}),Js(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Us(n,this.name),this.registerEventListeners()}get context(){return ms(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(ar.publish,qh(qh({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,LD(qh({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Xd.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ar.connection_stalled);return}this.checkQueue()}),this.relayer.on(ar.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var dke=Object.defineProperty,hke=(t,e,n)=>e in t?dke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hh=(t,e,n)=>hke(t,typeof e!="symbol"?e+"":e,n);class fke{constructor(){Hh(this,"map",new Map),Hh(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Hh(this,"get",e=>this.map.get(e)||[]),Hh(this,"exists",(e,n)=>this.get(e).includes(n)),Hh(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Hh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var pke=Object.defineProperty,mke=Object.defineProperties,gke=Object.getOwnPropertyDescriptors,BD=Object.getOwnPropertySymbols,yke=Object.prototype.hasOwnProperty,wke=Object.prototype.propertyIsEnumerable,r5=(t,e,n)=>e in t?pke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,km=(t,e)=>{for(var n in e||(e={}))yke.call(e,n)&&r5(t,n,e[n]);if(BD)for(var n of BD(e))wke.call(e,n)&&r5(t,n,e[n]);return t},KS=(t,e)=>mke(t,gke(e)),fn=(t,e,n)=>r5(t,typeof e!="symbol"?e+"":e,n);let bke=class extends zTe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,fn(this,"subscriptions",new Map),fn(this,"topicMap",new fke),fn(this,"events",new Bs.EventEmitter),fn(this,"name",i5e),fn(this,"version",s5e),fn(this,"pending",new Map),fn(this,"cached",[]),fn(this,"initialized",!1),fn(this,"storagePrefix",Wa),fn(this,"subscribeTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),fn(this,"initialSubscribeTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),fn(this,"clientId"),fn(this,"batchSubscribeTopicsLimit",500),fn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),fn(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=i1(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),fn(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),fn(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),fn(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),fn(this,"on",(r,i)=>{this.events.on(r,i)}),fn(this,"once",(r,i)=>{this.events.once(r,i)}),fn(this,"off",(r,i)=>{this.events.off(r,i)}),fn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),fn(this,"start",async()=>{await this.onConnect()}),fn(this,"stop",async()=>{await this.onDisconnect()}),fn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),fn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),fn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Xd.pulse,async()=>{await this.checkPending()}),this.events.on(Ts.created,async r=>{const i=Ts.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Ts.deleted,async r=>{const i=Ts.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Us(n,this.name),this.clientId=""}get context(){return ms(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=i1(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Rn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===On.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:hf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===On.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Me.toMiliseconds(Me.ONE_SECOND)),o;const u=new Promise(async f=>{const p=m=>{m.topic===e&&(this.events.removeListener(Ts.created,p),f(m.id))};this.events.on(Ts.created,p);try{const m=await ka(new Promise((y,w)=>{this.relayer.request(a).catch(v=>{this.logger.warn(v,v==null?void 0:v.message),w(v)}).then(y)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ts.created,p),f(m)}catch{}}),d=await ka(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!d&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return d?o:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ar.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:hf(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ka(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ar.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:hf(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await ka(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ar.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:hf(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,KS(km({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,km({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,km({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ts.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ts.deleted,KS(km({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ts.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ts.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>KS(km({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await sxe(Me.toMiliseconds(Me.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return oo(e+await this.getClientId())}};var vke=Object.defineProperty,UD=Object.getOwnPropertySymbols,_ke=Object.prototype.hasOwnProperty,Eke=Object.prototype.propertyIsEnumerable,i5=(t,e,n)=>e in t?vke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FD=(t,e)=>{for(var n in e||(e={}))_ke.call(e,n)&&i5(t,n,e[n]);if(UD)for(var n of UD(e))Eke.call(e,n)&&i5(t,n,e[n]);return t},en=(t,e,n)=>i5(t,typeof e!="symbol"?e+"":e,n);let xke=class extends FTe{constructor(e){var n;super(e),en(this,"protocol","wc"),en(this,"version",2),en(this,"core"),en(this,"logger"),en(this,"events",new Bs.EventEmitter),en(this,"provider"),en(this,"messages"),en(this,"subscriber"),en(this,"publisher"),en(this,"name",QIe),en(this,"transportExplicitlyClosed",!1),en(this,"initialized",!1),en(this,"connectionAttemptInProgress",!1),en(this,"relayUrl"),en(this,"projectId"),en(this,"packageName"),en(this,"bundleId"),en(this,"hasExperiencedNetworkDisruption",!1),en(this,"pingTimeout"),en(this,"heartBeatTimeout",Me.toMiliseconds(Me.THIRTY_SECONDS+Me.FIVE_SECONDS)),en(this,"reconnectTimeout"),en(this,"connectPromise"),en(this,"reconnectInProgress",!1),en(this,"requestsInFlight",[]),en(this,"connectTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),en(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const o=r.id||Xl().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const a=`${o}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),en(this,"resetPingTimeout",()=>{Xv()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||o.call(s)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),en(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),en(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(ar.connect)}),en(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),en(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(ar.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),en(this,"registerProviderListeners",()=>{this.provider.on(Zs.payload,this.onPayloadHandler),this.provider.on(Zs.connect,this.onConnectHandler),this.provider.on(Zs.disconnect,this.onDisconnectHandler),this.provider.on(Zs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=cC({logger:(n=e.logger)!=null?n:XIe,name:this.name}),this.messages=new ike(this.logger,e.core),this.subscriber=new bke(this,this.logger),this.publisher=new uke(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Bq,WEe()?this.packageName=b$():VEe()&&(this.bundleId=b$()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return ms(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:On.relay},Vb.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const u=d=>{d.topic===e&&(this.subscriber.off(Ts.created,u),c())};return await Promise.all([new Promise(d=>{c=d,this.subscriber.on(Ts.created,u)}),new Promise(async(d,f)=>{a=await this.subscriber.subscribe(e,FD({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&f(p)})||a,d()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ka(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await dD())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=mr(Me.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(ar.message,e),await this.recordMessageEvent(e,Vb.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Zs.disconnect,s),await ka(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Zs.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Zs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Zs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Me.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Xv())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new dC(new FIe(YEe({sdkVersion:XI,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),uC(e)){if(!e.method.endsWith(e5e))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:On.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(FD({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else U_(e)&&this.events.emit(ar.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Vb.inbound),this.events.emit(ar.message,e))}async acknowledgePayload(e){const n=hy(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Zs.payload,this.onPayloadHandler),this.provider.off(Zs.connect,this.onConnectHandler),this.provider.off(Zs.disconnect,this.onDisconnectHandler),this.provider.off(Zs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await dD();zAe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Xd.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&qAe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ar.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Me.toMiliseconds(t5e)))))}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function Ske(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function jD(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function zD(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ake="[object RegExp]",Tke="[object String]",Ike="[object Number]",kke="[object Boolean]",WD="[object Arguments]",Cke="[object Symbol]",Pke="[object Date]",Oke="[object Map]",Rke="[object Set]",Nke="[object Array]",$ke="[object Function]",Dke="[object ArrayBuffer]",GS="[object Object]",Mke="[object Error]",Lke="[object DataView]",Bke="[object Uint8Array]",Uke="[object Uint8ClampedArray]",Fke="[object Uint16Array]",jke="[object Uint32Array]",zke="[object BigUint64Array]",Wke="[object Int8Array]",Vke="[object Int16Array]",qke="[object Int32Array]",Hke="[object BigInt64Array]",Kke="[object Float32Array]",Gke="[object Float64Array]";function Yke(){}function VD(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Zke(t,e,n){return Jm(t,e,void 0,void 0,void 0,void 0,n)}function Jm(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return gg(t,e,s,o)}return gg(t,e,s,o)}function gg(t,e,n,r){if(Object.is(t,e))return!0;let i=zD(t),s=zD(e);if(i===WD&&(i=GS),s===WD&&(s=GS),i!==s)return!1;switch(i){case Tke:return t.toString()===e.toString();case Ike:{const c=t.valueOf(),u=e.valueOf();return Ske(c,u)}case kke:case Pke:case Cke:return Object.is(t.valueOf(),e.valueOf());case Ake:return t.source===e.source&&t.flags===e.flags;case $ke:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case Oke:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!Jm(u,e.get(c),c,t,e,n,r))return!1;return!0}case Rke:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let d=0;d<c.length;d++){const f=c[d],p=u.findIndex(m=>Jm(f,m,void 0,t,e,n,r));if(p===-1)return!1;u.splice(p,1)}return!0}case Nke:case Bke:case Uke:case Fke:case jke:case zke:case Wke:case Vke:case qke:case Hke:case Kke:case Gke:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Jm(t[c],e[c],c,t,e,n,r))return!1;return!0}case Dke:return t.byteLength!==e.byteLength?!1:gg(new Uint8Array(t),new Uint8Array(e),n,r);case Lke:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:gg(new Uint8Array(t),new Uint8Array(e),n,r);case Mke:return t.name===e.name&&t.message===e.message;case GS:{if(!(gg(t.constructor,e.constructor,n,r)||VD(t)&&VD(e)))return!1;const c=[...Object.keys(t),...jD(t)],u=[...Object.keys(e),...jD(e)];if(c.length!==u.length)return!1;for(let d=0;d<c.length;d++){const f=c[d],p=t[f];if(!Object.hasOwn(e,f))return!1;const m=e[f];if(!Jm(p,m,f,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Jke(t,e){return Zke(t,e,Yke)}var Xke=Object.defineProperty,qD=Object.getOwnPropertySymbols,Qke=Object.prototype.hasOwnProperty,eCe=Object.prototype.propertyIsEnumerable,s5=(t,e,n)=>e in t?Xke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HD=(t,e)=>{for(var n in e||(e={}))Qke.call(e,n)&&s5(t,n,e[n]);if(qD)for(var n of qD(e))eCe.call(e,n)&&s5(t,n,e[n]);return t},Qi=(t,e,n)=>s5(t,typeof e!="symbol"?e+"":e,n);let eh=class extends jTe{constructor(e,n,r,i=Wa,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Qi(this,"map",new Map),Qi(this,"version",n5e),Qi(this,"cached",[]),Qi(this,"initialized",!1),Qi(this,"getKey"),Qi(this,"storagePrefix",Wa),Qi(this,"recentlyDeleted",[]),Qi(this,"recentlyDeletedLimit",200),Qi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Dr(o)?this.map.set(this.getKey(o),o):bAe(o)?this.map.set(o.id,o):vAe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Qi(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Qi(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Qi(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Jke(a[c],o[c]))):this.values)),Qi(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=HD(HD({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Qi(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Us(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ms(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=De("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}};var tCe=Object.defineProperty,nCe=(t,e,n)=>e in t?tCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e,n)=>nCe(t,typeof e!="symbol"?e+"":e,n);let rCe=class{constructor(e,n){this.core=e,this.logger=n,zt(this,"name",o5e),zt(this,"version",a5e),zt(this,"events",new Ok),zt(this,"pairings"),zt(this,"initialized",!1),zt(this,"storagePrefix",Wa),zt(this,"ignoredPayloadTypes",[Fc]),zt(this,"registeredMethods",[]),zt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),zt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),zt(this,"create",async r=>{this.isInitialized();const i=qI(),s=await this.core.crypto.setSymKey(i),o=mr(Me.FIVE_MINUTES),a={protocol:Lq},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},u=nD({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Xu.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:u}}),zt(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Ea.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=tD(r.uri);i.props.properties.topic=s,i.addTrace(Ea.pairing_uri_validation_success),i.addTrace(Ea.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(s)){if(d=this.pairings.get(s),i.addTrace(Ea.existing_pairing),d.active)throw i.setError(wc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ea.pairing_not_expired)}const f=c||mr(Me.FIVE_MINUTES),p={topic:s,relay:a,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,p),i.addTrace(Ea.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Xu.create,p),i.addTrace(Ea.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Ea.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(wc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(m){throw i.setError(wc.subscribe_pairing_topic_failure),m}return i.addTrace(Ea.subscribe_pairing_topic_success),p}),zt(this,"activate",async({topic:r})=>{this.isInitialized();const i=mr(Me.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),zt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Vu();this.events.once(an("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),zt(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),zt(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),zt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),zt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Rn("USER_DISCONNECTED")),await this.deletePairing(i))}),zt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return nD({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),zt(this,"sendRequest",async(r,i,s)=>{const o=Fo(i,s),a=await this.core.crypto.encode(r,o),c=Tm[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),zt(this,"sendResult",async(r,i,s)=>{const o=hy(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=Tm[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),zt(this,"sendError",async(r,i,s)=>{const o=B_(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=Tm[c]?Tm[c].res:Tm.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),zt(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Rn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),zt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Ta(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),zt(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),zt(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),zt(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Xu.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),zt(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{Sa(i)?this.events.emit(an("pairing_ping",s),{}):ao(i)&&this.events.emit(an("pairing_ping",s),{error:i.error})},500)}),zt(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Xu.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),zt(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Rn("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),zt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Rn("WC_METHOD_UNSUPPORTED",r))}),zt(this,"isValidPair",(r,i)=>{var s;if(!ts(r)){const{message:a}=De("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(wc.malformed_pairing_uri),new Error(a)}if(!wAe(r.uri)){const{message:a}=De("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(wc.malformed_pairing_uri),new Error(a)}const o=tD(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=De("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(wc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=De("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(wc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Me.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(wc.pairing_expired);const{message:a}=De("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),zt(this,"isValidPing",async r=>{if(!ts(r)){const{message:s}=De("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),zt(this,"isValidDisconnect",async r=>{if(!ts(r)){const{message:s}=De("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),zt(this,"isValidPairingTopic",async r=>{if(!br(r,!1)){const{message:i}=De("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=De("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Ta(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=De("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Us(n,this.name),this.pairings=new eh(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ms(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ar.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==On.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);uC(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):U_(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(to.expired,async e=>{const{topic:n}=IV(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Xu.expire,{topic:n}))})}};var iCe=Object.defineProperty,sCe=(t,e,n)=>e in t?iCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ri=(t,e,n)=>sCe(t,typeof e!="symbol"?e+"":e,n);let oCe=class extends LTe{constructor(e,n){super(e,n),this.core=e,this.logger=n,ri(this,"records",new Map),ri(this,"events",new Bs.EventEmitter),ri(this,"name",c5e),ri(this,"version",l5e),ri(this,"cached",[]),ri(this,"initialized",!1),ri(this,"storagePrefix",Wa),ri(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ri(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:mr(Me.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Oo.created,o)}),ri(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=ao(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Oo.updated,i))}),ri(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ri(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Oo.deleted,s)}}),this.persist()}),ri(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ri(this,"on",(r,i)=>{this.events.on(r,i)}),ri(this,"once",(r,i)=>{this.events.once(r,i)}),ri(this,"off",(r,i)=>{this.events.off(r,i)}),ri(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Us(n,this.name)}get context(){return ms(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Fo(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Oo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Oo.created,e=>{const n=Oo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Oo.updated,e=>{const n=Oo.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Oo.deleted,e=>{const n=Oo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Xd.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Me.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Oo.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}};var aCe=Object.defineProperty,cCe=(t,e,n)=>e in t?aCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Si=(t,e,n)=>cCe(t,typeof e!="symbol"?e+"":e,n);let lCe=class extends WTe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Si(this,"expirations",new Map),Si(this,"events",new Bs.EventEmitter),Si(this,"name",u5e),Si(this,"version",d5e),Si(this,"cached",[]),Si(this,"initialized",!1),Si(this,"storagePrefix",Wa),Si(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Si(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Si(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(to.created,{target:s,expiration:o})}),Si(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Si(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(to.deleted,{target:i,expiration:s})}}),Si(this,"on",(r,i)=>{this.events.on(r,i)}),Si(this,"once",(r,i)=>{this.events.once(r,i)}),Si(this,"off",(r,i)=>{this.events.off(r,i)}),Si(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Us(n,this.name)}get context(){return ms(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ZEe(e);if(typeof e=="number")return JEe(e);const{message:n}=De("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(to.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Me.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(to.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Xd.pulse,()=>this.checkExpirations()),this.events.on(to.created,e=>{const n=to.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(to.expired,e=>{const n=to.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(to.deleted,e=>{const n=to.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}};var uCe=Object.defineProperty,dCe=(t,e,n)=>e in t?uCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fr=(t,e,n)=>dCe(t,typeof e!="symbol"?e+"":e,n);let hCe=class extends VTe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,fr(this,"name",h5e),fr(this,"abortController"),fr(this,"isDevEnv"),fr(this,"verifyUrlV3",p5e),fr(this,"storagePrefix",Wa),fr(this,"version",Mq),fr(this,"publicKey"),fr(this,"fetchPromise"),fr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Me.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),fr(this,"register",async i=>{if(!bp()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Kc.getDocument(),d=this.startAbortTimer(Me.ONE_SECOND*5),f=await new Promise((p,m)=>{const y=()=>{window.removeEventListener("message",v),u.body.removeChild(w),m("attestation aborted")};this.abortController.signal.addEventListener("abort",y);const w=u.createElement("iframe");w.src=c,w.style.display="none",w.addEventListener("error",y,{signal:this.abortController.signal});const v=E=>{if(E.data&&typeof E.data=="string")try{const k=JSON.parse(E.data);if(k.type==="verify_attestation"){if(OI(k.attestation).payload.id!==o)return;clearInterval(d),u.body.removeChild(w),this.abortController.signal.removeEventListener("abort",y),window.removeEventListener("message",v),p(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};u.body.appendChild(w),window.addEventListener("message",v,{signal:this.abortController.signal})});return this.logger.debug(f,"jwt attestation"),f}catch(u){this.logger.warn(u)}return""}),fr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(OI(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),fr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Me.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),fr(this,"getVerifyUrl",i=>{let s=i||mg;return m5e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${mg}`),s=mg),s}),fr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Me.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),fr(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),fr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),fr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),fr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),fr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),fr(this,"validateAttestation",(i,s)=>{const o=qSe(i,s.publicKey),a={hasExpired:Me.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Us(n,this.name),this.abortController=new AbortController,this.isDevEnv=Zk(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ms(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Me.toMiliseconds(e))}};var fCe=Object.defineProperty,pCe=(t,e,n)=>e in t?fCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KD=(t,e,n)=>pCe(t,typeof e!="symbol"?e+"":e,n);let mCe=class extends qTe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,KD(this,"context",g5e),KD(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${y5e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Us(n,this.context)}};var gCe=Object.defineProperty,GD=Object.getOwnPropertySymbols,yCe=Object.prototype.hasOwnProperty,wCe=Object.prototype.propertyIsEnumerable,o5=(t,e,n)=>e in t?gCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cm=(t,e)=>{for(var n in e||(e={}))yCe.call(e,n)&&o5(t,n,e[n]);if(GD)for(var n of GD(e))wCe.call(e,n)&&o5(t,n,e[n]);return t},Vr=(t,e,n)=>o5(t,typeof e!="symbol"?e+"":e,n);let bCe=class extends HTe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Vr(this,"context",b5e),Vr(this,"storagePrefix",Wa),Vr(this,"storageVersion",w5e),Vr(this,"events",new Map),Vr(this,"shouldPersist",!1),Vr(this,"init",async()=>{if(!Zk())try{const i={eventId:_$(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:AV(this.core.relayer.protocol,this.core.relayer.version,XI)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Vr(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=_$(),d=this.core.projectId||"",f=Date.now(),p=Cm({eventId:u,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:d,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,p),this.shouldPersist=!0),p}),Vr(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Cm(Cm({},a),this.setMethods(a.eventId))}),Vr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Vr(this,"setEventListeners",()=>{this.core.heartbeat.on(Xd.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Me.fromMiliseconds(Date.now())-Me.fromMiliseconds(i.timestamp)>v5e&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Vr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Vr(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Vr(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Vr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Vr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Cm(Cm({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Vr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Vr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${_5e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${XI}${s}`,{method:"POST",body:JSON.stringify(i)})}),Vr(this,"getAppDomain",()=>SV().url),this.logger=Us(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var vCe=Object.defineProperty,YD=Object.getOwnPropertySymbols,_Ce=Object.prototype.hasOwnProperty,ECe=Object.prototype.propertyIsEnumerable,a5=(t,e,n)=>e in t?vCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZD=(t,e)=>{for(var n in e||(e={}))_Ce.call(e,n)&&a5(t,n,e[n]);if(YD)for(var n of YD(e))ECe.call(e,n)&&a5(t,n,e[n]);return t},wn=(t,e,n)=>a5(t,typeof e!="symbol"?e+"":e,n);let xCe=class Jq extends NTe{constructor(e){var n;super(e),wn(this,"protocol",Dq),wn(this,"version",Mq),wn(this,"name",JI),wn(this,"relayUrl"),wn(this,"projectId"),wn(this,"customStoragePrefix"),wn(this,"events",new Bs.EventEmitter),wn(this,"logger"),wn(this,"heartbeat"),wn(this,"relayer"),wn(this,"crypto"),wn(this,"storage"),wn(this,"history"),wn(this,"expirer"),wn(this,"pairing"),wn(this,"verify"),wn(this,"echoClient"),wn(this,"linkModeSupportedApps"),wn(this,"eventClient"),wn(this,"initialized",!1),wn(this,"logChunkController"),wn(this,"on",(a,c)=>this.events.on(a,c)),wn(this,"once",(a,c)=>this.events.once(a,c)),wn(this,"off",(a,c)=>this.events.off(a,c)),wn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),wn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const d={topic:a,message:c,publishedAt:Date.now(),transportType:On.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:u})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Bq,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=kEe({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:zIe.logger,name:JI}),{logger:s,chunkLoggerController:o}=EV({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Us(s,this.name),this.heartbeat=new tTe,this.crypto=new Z6e(this,this.logger,e==null?void 0:e.keychain),this.history=new oCe(this,this.logger),this.expirer=new lCe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new PTe(ZD(ZD({},WIe),e==null?void 0:e.storageOptions)),this.relayer=new xke({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new rCe(this,this.logger),this.verify=new hCe(this,this.logger,this.storage),this.echoClient=new mCe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new bCe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Jq(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(r5e,r),n}get context(){return ms(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(kD,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(kD)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&jIe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const SCe=xCe,Xq="wc",Qq=2,eH="client",hC=`${Xq}@${Qq}:${eH}:`,YS={name:eH,logger:"error"},JD="WALLETCONNECT_DEEPLINK_CHOICE",ACe="proposal",XD="Proposal expired",TCe="session",Kh=Me.SEVEN_DAYS,ICe="engine",ii={wc_sessionPropose:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Me.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Me.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1119}}},ZS={min:Me.FIVE_MINUTES,max:Me.SEVEN_DAYS},wa={idle:"IDLE",active:"ACTIVE"},kCe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},CCe="request",PCe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],OCe="wc",RCe="auth",NCe="authKeys",$Ce="pairingTopics",DCe="requests",j_=`${OCe}@${1.5}:${RCe}:`,qb=`${j_}:PUB_KEY`;var MCe=Object.defineProperty,LCe=Object.defineProperties,BCe=Object.getOwnPropertyDescriptors,QD=Object.getOwnPropertySymbols,UCe=Object.prototype.hasOwnProperty,FCe=Object.prototype.propertyIsEnumerable,c5=(t,e,n)=>e in t?MCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ln=(t,e)=>{for(var n in e||(e={}))UCe.call(e,n)&&c5(t,n,e[n]);if(QD)for(var n of QD(e))FCe.call(e,n)&&c5(t,n,e[n]);return t},Ai=(t,e)=>LCe(t,BCe(e)),ke=(t,e,n)=>c5(t,typeof e!="symbol"?e+"":e,n);let jCe=class extends ZTe{constructor(e){super(e),ke(this,"name",ICe),ke(this,"events",new Ok),ke(this,"initialized",!1),ke(this,"requestQueue",{state:wa.idle,queue:[]}),ke(this,"sessionRequestQueue",{state:wa.idle,queue:[]}),ke(this,"emittedSessionRequests",new oxe({limit:500})),ke(this,"requestQueueDelay",Me.ONE_SECOND),ke(this,"expectedPairingMethodMap",new Map),ke(this,"recentlyDeletedMap",new Map),ke(this,"recentlyDeletedLimit",200),ke(this,"relayMessageCache",[]),ke(this,"pendingSessions",new Map),ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ii)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay)))}),ke(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Ai(ln({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=fAe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=r;let d=i,f,p=!1;try{if(d){const T=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),T}if(!d||!p){const{topic:T,uri:O}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});d=T,f=O}if(!d){const{message:T}=De("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(T)}const m=await this.client.core.crypto.generateKeyPair(),y=ii.wc_sessionPropose.req.ttl||Me.FIVE_MINUTES,w=mr(y),v=Ai(ln(ln({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:Lq}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:d},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:xa()}),E=an("session_connect",v.id),{reject:k,resolve:_,done:x}=Vu(y,XD),A=({id:T})=>{T===v.id&&(this.client.events.off("proposal_expire",A),this.pendingSessions.delete(v.id),this.events.emit(E,{error:{message:XD,code:0}}))};return this.client.events.on("proposal_expire",A),this.events.once(E,({error:T,session:O})=>{this.client.events.off("proposal_expire",A),T?k(T):O&&_(O)}),await this.sendProposeSession({proposal:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:v.id}}}),await this.setProposal(v.id,v),{uri:f,approval:x}}),ke(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ke(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ro.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(D){throw o.setError(Bu.no_internet_connection),D}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(D){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Bu.proposal_not_found),D}try{await this.isValidApprove(n)}catch(D){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Bu.session_approve_namespace_validation_failure),D}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:d,scopedProperties:f,sessionConfig:p}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:y,proposer:w,requiredNamespaces:v,optionalNamespaces:E}=m;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:y});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ro.session_approve_started,properties:{topic:y,trace:[Ro.session_approve_started,Ro.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),x=w.publicKey,A=await this.client.core.crypto.generateSharedKey(_,x),T=ln(ln(ln({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:_,metadata:this.client.metadata},expiry:mr(Kh)},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),O=On.relay;k.addTrace(Ro.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:O,internal:{skipSubscribe:!0}})}catch(D){throw k.setError(Bu.subscribe_session_topic_failure),D}k.addTrace(Ro.subscribe_session_topic_success);const N=Ai(ln({},T),{topic:A,requiredNamespaces:v,optionalNamespaces:E,pairingTopic:y,acknowledged:!1,self:T.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:_,transportType:On.relay});await this.client.session.set(A,N),k.addTrace(Ro.store_session);try{await this.sendApproveSession({sessionTopic:A,proposal:m,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:_},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),k.addTrace(Ro.session_approve_publish_success)}catch(D){throw this.client.logger.error(D),this.client.session.delete(A,Rn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(A),D}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:w.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(A,mr(Kh)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),ke(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:ii.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ke(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Vu(),c=xa(),u=Xl().toString(),d=this.client.session.get(r).namespaces;return this.events.once(an("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:d}),a(f)}),{acknowledged:s}}),ke(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=xa(),{done:s,resolve:o,reject:a}=Vu();return this.events.once(an("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,mr(Kh)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ke(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(v){throw this.client.logger.error("request() -> isValidRequest() failed"),v}const{chainId:r,request:i,topic:s,expiry:o=ii.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===On.relay&&await this.confirmOnlineStateOrThrow();const c=xa(),u=Xl().toString(),{done:d,resolve:f,reject:p}=Vu(o,"Request expired. Please try again.");this.events.once(an("session_request",c),({error:v,result:E})=>{v?p(v):f(E)});const m="wc_sessionRequest",y=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(y)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:{request:Ai(ln({},i),{expiryTimestamp:mr(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:y}).catch(v=>p(v)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await d();const w={request:Ai(ln({},i),{expiryTimestamp:mr(o)}),chainId:r};return await Promise.all([new Promise(async v=>{await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:w,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,w)}).catch(E=>p(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),v()}),new Promise(async v=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){const k=await txe(this.client.core.storage,JD);await XEe({id:c,topic:s,wcDeepLink:k})}v()}),d()]).then(v=>v[2])}),ke(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:(n==null?void 0:n.topic)||((i=(r=n==null?void 0:n.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Ro.session_request_response_started]}});try{await this.isValidRespond(n)}catch(f){throw s.addTrace(f==null?void 0:f.message),s.setError(Bu.session_request_response_validation_failure),f}s.addTrace(Ro.session_request_response_validation_success);const{topic:o,response:a}=n,{id:c}=a,u=this.client.session.get(o);u.transportType===On.relay&&await this.confirmOnlineStateOrThrow();const d=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);try{s.addTrace(Ro.session_request_response_publish_started),Sa(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:d}):ao(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:d}),this.cleanupAfterResponse(n)}catch(f){throw s.addTrace(f==null?void 0:f.message),s.setError(Bu.session_request_response_publish_failure),f}}),ke(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=xa(),s=Xl().toString(),{done:o,resolve:a,reject:c}=Vu();this.events.once(an("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ke(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Xl().toString(),a=xa();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ke(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Rn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=De("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ke(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>gAe(r,n)))),ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ke(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?On.link_mode:On.relay;o===On.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:d,nonce:f,type:p,exp:m,nbf:y,methods:w=[],expiry:v}=n,E=[...n.resources||[]],{topic:k,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:_}});const x=await this.client.core.crypto.generateKeyPair(),A=jb(x);if(await Promise.all([this.client.auth.authKeys.set(qb,{responseTopic:A,publicKey:x}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:k})]),await this.client.core.relayer.subscribe(A,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${k}`),w.length>0){const{namespace:R}=Uc(a[0]);let z=y2e(R,"request",w);Fb(E)&&(z=b2e(z,E.pop())),E.push(z)}const T=v&&v>ii.wc_sessionAuthenticate.req.ttl?v:ii.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:p??"caip122",chains:a,statement:c,aud:u,domain:d,version:"1",nonce:f,iat:new Date().toISOString(),exp:m,nbf:y,resources:E},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:mr(T)},N={eip155:{chains:a,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},D={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:mr(ii.wc_sessionPropose.req.ttl),id:xa()},{done:F,resolve:K,reject:B}=Vu(T,"Request expired"),j=xa(),Y=an("session_connect",D.id),I=an("session_request",j),P=async({error:R,session:z})=>{this.events.off(I,L),R?B(R):z&&K({session:z})},L=async R=>{var z,W,G;if(await this.deletePendingAuthRequest(j,{message:"fulfilled",code:0}),R.error){const we=Rn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===we.code?void 0:(this.events.off(Y,P),B(R.error.message))}await this.deleteProposal(D.id),this.events.off(Y,P);const{cacaos:ie,responder:te}=R.result,ee=[],pe=[];for(const we of ie){await R$({cacao:we,projectId:this.client.core.projectId})||(this.client.logger.error(we,"Signature verification failed"),B(Rn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Oe}=we,Xe=Fb(Oe.resources),ot=[DI(Oe.iss)],fe=e1(Oe.iss);if(Xe){const St=N$(Xe),Nt=$$(Xe);ee.push(...St),ot.push(...Nt)}for(const St of ot)pe.push(`${St}:${fe}`)}const ye=await this.client.core.crypto.generateSharedKey(x,te.publicKey);let xe;ee.length>0&&(xe={topic:ye,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:te,controller:te.publicKey,expiry:mr(Kh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:oD([...new Set(ee)],[...new Set(pe)]),transportType:o},await this.client.core.relayer.subscribe(ye,{transportType:o}),await this.client.session.set(ye,xe),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:te.metadata}),xe=this.client.session.get(ye)),(z=this.client.metadata.redirect)!=null&&z.linkMode&&(W=te.metadata.redirect)!=null&&W.linkMode&&(G=te.metadata.redirect)!=null&&G.universal&&r&&(this.client.core.addLinkModeSupportedApp(te.metadata.redirect.universal),this.client.session.update(ye,{transportType:On.link_mode})),K({auths:ie,session:xe})};this.events.once(Y,P),this.events.once(I,L);let M;try{if(s){const R=Fo("wc_sessionAuthenticate",O,j);this.client.core.history.set(k,R);const z=await this.client.core.crypto.encode("",R,{type:c0,encoding:Hl});M=ab(r,k,z)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:O,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:j}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:D,expiry:ii.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:D.id})])}catch(R){throw this.events.off(Y,P),this.events.off(I,L),R}return await this.setProposal(D.id,D),await this.setAuthRequest(j,{request:Ai(ln({},O),{verifyContext:{}}),pairingTopic:k,transportType:o}),{uri:M??_,response:F}}),ke(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Uu.authenticated_session_approve_started]}});try{this.isInitialized()}catch(v){throw s.setError(Im.no_internet_connection),v}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Im.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||On.relay;a===On.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),d=jb(c),f={type:Fc,receiverPublicKey:c,senderPublicKey:u},p=[],m=[];for(const v of i){if(!await R$({cacao:v,projectId:this.client.core.projectId})){s.setError(Im.invalid_cacao);const A=Rn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:A,encodeOpts:f}),new Error(A.message)}s.addTrace(Uu.cacaos_verified);const{p:E}=v,k=Fb(E.resources),_=[DI(E.iss)],x=e1(E.iss);if(k){const A=N$(k),T=$$(k);p.push(...A),_.push(...T)}for(const A of _)m.push(`${A}:${x}`)}const y=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(Uu.create_authenticated_session_topic);let w;if((p==null?void 0:p.length)>0){w={topic:y,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:mr(Kh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:oD([...new Set(p)],[...new Set(m)]),transportType:a},s.addTrace(Uu.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:a})}catch(v){throw s.setError(Im.subscribe_authenticated_session_topic_failure),v}s.addTrace(Uu.subscribe_authenticated_session_topic_success),await this.client.session.set(y,w),s.addTrace(Uu.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Uu.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(v){throw s.setError(Im.authenticated_session_approve_publish_failure),v}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:w}}),ke(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===On.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=jb(o),u={type:Fc,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:u,rpcOpts:ii.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ke(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return WV(r,i)}),ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ke(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ke(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Rn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(JD).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Rn("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=wa.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ke(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Bu.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Rn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ke(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=wa.idle,this.client.events.emit("session_request_expire",{id:n}))}),ke(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ke(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ke(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,mr(ii.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ke(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=On.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ke(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||mr(ii.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),ke(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:d,tvf:f,publishOpts:p={}}=n,m=Fo(i,s,c);let y;const w=!!d;try{const k=w?Hl:ss;y=await this.client.core.crypto.encode(r,m,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),k}let v;if(PCe.includes(i)){const k=oo(JSON.stringify(m)),_=oo(y);v=await this.client.core.verify.register({id:_,decryptedId:k})}const E=ln(ln({},ii[i].req),p);if(E.attestation=v,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(r,m),w){const k=ab(d,r,y);await global.Linking.openURL(k,this.client.name)}else E.tvf=Ai(ln({},f),{correlationId:m.id}),u?(E.internal=Ai(ln({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,y,E)):this.client.core.relayer.publish(r,y,E).catch(k=>this.client.logger.error(k));return m.id}),ke(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Fo("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:ss}),a=oo(JSON.stringify(s)),c=oo(o),u=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Ai(ln({},i),{publishMethod:"wc_proposeSession",attestation:u})})}),ke(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=hy(s.id,i),u=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:ss}),d=Fo("wc_sessionSettle",o,a==null?void 0:a.id),f=await this.client.core.crypto.encode(r,d,{encoding:ss});this.client.core.history.set(r,d),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:f},opts:Ai(ln({},a),{publishMethod:"wc_approveSession"})})}),ke(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,u=hy(r,s);let d;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const y=f?Hl:ss;d=await this.client.core.crypto.encode(i,u,Ai(ln({},a||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),y}let p,m;try{p=await this.client.core.history.get(i,r);const y=p.request;try{m=this.getTVFParams(r,y.params,s)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w==null?void 0:w.message}`)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),y}if(f){const y=ab(c,i,d);await global.Linking.openURL(y,this.client.name)}else{const y=p.request.method,w=ii[y].res;w.tvf=Ai(ln({},m),{correlationId:r}),o?(w.internal=Ai(ln({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,w)):this.client.core.relayer.publish(i,d,w).catch(v=>this.client.logger.error(v))}await this.client.core.history.resolve(u)}),ke(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,u=B_(r,s);let d;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?Hl:ss;d=await this.client.core.crypto.encode(i,u,Ai(ln({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let p;try{p=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(f){const m=ab(c,i,d);await global.Linking.openURL(m,this.client.name)}else{const m=p.request.method,y=a||ii[m].res;this.client.core.relayer.publish(i,d,y)}await this.client.core.history.resolve(u)}),ke(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Ta(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ta(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ke(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ke(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===wa.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=wa.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=wa.idle}),ke(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ke(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ke(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=De("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ke(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ke(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(wc.proposal_listener_not_found)),this.isValidConnect(ln({},i.params));const d=a.expiryTimestamp||mr(ii.wc_sessionPropose.req.ttl),f=ln({id:c,pairingTopic:r,expiryTimestamp:d,attestation:s,encryptedId:o},a);await this.setProposal(c,f);const p=await this.getVerifyContext({attestationId:s,hash:oo(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});u==null||u.addTrace(Ea.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:p})}catch(u){await this.sendError({id:c,topic:r,error:u,rpcOpts:ii.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),ke(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(Sa(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const d=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:d,pairingTopic:n,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(ao(r)){await this.deleteProposal(s);const o=an("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ke(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:d,scopedProperties:f,sessionConfig:p}=r.params,m=[...this.pendingSessions.values()].find(v=>v.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const y=this.client.proposal.get(m.proposalId),w=Ai(ln(ln(ln({topic:n,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),f&&{scopedProperties:f}),p&&{sessionConfig:p}),{transportType:On.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(an("session_connect",m.proposalId),{session:w}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Sa(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(an("session_approve",i),{})):ao(r)&&(await this.client.session.delete(n,Rn("USER_DISCONNECTED")),this.events.emit(an("session_approve",i),{error:r.error}))}),ke(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=Am.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Rn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ln({topic:n},i));try{Am.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw Am.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ke(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=an("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Sa(r)?this.events.emit(an("session_update",i),{}):ao(r)&&this.events.emit(an("session_update",i),{error:r.error})}),ke(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,mr(Kh)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=an("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Sa(r)?this.events.emit(an("session_extend",i),{}):ao(r)&&this.events.emit(an("session_extend",i),{error:r.error})}),ke(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=an("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Sa(r)?this.events.emit(an("session_ping",i),{}):ao(r)&&this.events.emit(an("session_ping",i),{error:r.error})},500)}),ke(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(ar.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Rn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ke(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:d}=n,{id:f,params:p}=a;try{await this.isValidRequest(ln({topic:o},p));const m=this.client.session.get(o),y=await this.getVerifyContext({attestationId:c,hash:oo(JSON.stringify(Fo("wc_sessionRequest",p,f))),encryptedId:u,metadata:m.peer.metadata,transportType:d}),w={id:f,topic:o,params:p,verifyContext:y};await this.setPendingSessionRequest(w),d===On.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(m){await this.sendError({id:f,topic:o,error:m}),this.client.logger.error(m)}}),ke(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=an("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Sa(r)?this.events.emit(an("session_request",i),{result:r.result}):ao(r)&&this.events.emit(an("session_request",i),{error:r.error})}),ke(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=Am.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ln({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Am.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Sa(r)?this.events.emit(an("session_request",i),{result:r.result}):ao(r)&&this.events.emit(an("session_request",i),{error:r.error})}),ke(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:u,authPayload:d,expiryTimestamp:f}=s.params,p=await this.getVerifyContext({attestationId:o,hash:oo(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),m={requester:u,pairingTopic:i,id:s.id,authPayload:d,verifyContext:p,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:m,pairingTopic:i,transportType:c}),c===On.link_mode&&(r=u.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:p})}catch(u){this.client.logger.error(u);const d=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,c),m={type:Fc,receiverPublicKey:d,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:m,rpcOpts:ii.wc_sessionAuthenticate.autoReject,appLink:p})}}),ke(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ke(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=wa.idle,this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay))}),ke(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=an("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(an("session_request",s.request.id),{error:r})})}),ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===wa.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ke(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=wa.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ke(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Fo("wc_sessionPropose",Ai(ln({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ke(this,"isValidConnect",async n=>{if(!ts(n)){const{message:u}=De("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Dr(r)||await this.isValidPairingTopic(r),!kAe(c)){const{message:u}=De("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(i&&!Dr(i)&&$a(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!Dr(s)&&$a(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),o&&!Dr(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!Dr(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(d=>u.includes(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),ke(this,"validateNamespaces",(n,r)=>{const i=IAe(n,"connect()",r);if(i)throw new Error(i.message)}),ke(this,"isValidApprove",async n=>{if(!ts(n))throw new Error(De("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),u=jS(i,"approve()");if(u)throw new Error(u.message);const d=lD(c.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!br(s,!0)){const{message:f}=De("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(o&&!Dr(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!Dr(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(p=>f.has(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ke(this,"isValidReject",async n=>{if(!ts(n)){const{message:s}=De("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!PAe(i)){const{message:s}=De("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ke(this,"isValidSessionSettleRequest",n=>{if(!ts(n)){const{message:u}=De("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!Tq(r)){const{message:u}=De("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=_Ae(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=jS(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ta(o)){const{message:u}=De("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),ke(this,"isValidUpdate",async n=>{if(!ts(n)){const{message:c}=De("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=jS(i,"update()");if(o)throw new Error(o.message);const a=lD(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ke(this,"isValidExtend",async n=>{if(!ts(n)){const{message:i}=De("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ke(this,"isValidRequest",async n=>{if(!ts(n)){const{message:c}=De("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!cD(a,s)){const{message:c}=De("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!OAe(i)){const{message:c}=De("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!$Ae(a,s,i.method)){const{message:c}=De("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!BAe(o,ZS)){const{message:c}=De("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${ZS.min} and ${ZS.max}`);throw new Error(c)}}),ke(this,"isValidRespond",async n=>{var r;if(!ts(n)){const{message:a}=De("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(a){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!RAe(s)){const{message:a}=De("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}const o=this.client.pendingRequest.get(s.id);if(o.topic!==i){const{message:a}=De("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${o.topic}, received topic: ${i}`);throw new Error(a)}}),ke(this,"isValidPing",async n=>{if(!ts(n)){const{message:i}=De("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidEmit",async n=>{if(!ts(n)){const{message:a}=De("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!cD(o,s)){const{message:a}=De("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!NAe(i)){const{message:a}=De("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!DAe(o,s,i.name)){const{message:a}=De("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ke(this,"isValidDisconnect",async n=>{if(!ts(n)){const{message:i}=De("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!br(i,!1))throw new Error("uri is required parameter");if(!br(s,!1))throw new Error("domain is required parameter");if(!br(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Uc(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Uc(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ke(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||mg,validation:"UNKNOWN",origin:o.url||""}};try{if(a===On.link_mode){const d=this.getAppLinkIfEnabled(o,a);return c.verified.validation=d&&new URL(d).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ke(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=De("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),ke(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ke(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ke(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=De("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ke(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,u,d,f,p;return!n||r!==On.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((f=n==null?void 0:n.redirect)==null?void 0:f.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ke(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),ke(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=v$(n,"topic")||"",i=decodeURIComponent(v$(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:On.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ke(this,"registerLinkModeListeners",async()=>{var n;if(Zk()||hu()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ke(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const u=this.extractTxHashesFromResult(r.request,i);c.txHashes=u,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(u){this.client.logger.warn(u,"Error getting TVF params")}return c}),ke(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ke(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=kCe[s];if(s==="sui_signTransaction")return[e2e(r.transactionBytes)];if(s==="near_signTransaction")return[k$(r)];if(s==="near_signTransactions")return r.map(c=>k$(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[QAe({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return uo(r)?r.map(c=>C$(c)):[C$(r)];if(s==="cosmos_signDirect")return[n2e(r)];if(s==="wallet_sendCalls")return r2e(r);if(typeof r=="string")return[r];const a=r[o.key];if(uo(a))return s==="solana_signAllTransactions"?a.map(c=>Qxe(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ar.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(qb)?this.client.auth.authKeys.get(qb):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===On.link_mode?Hl:ss});uC(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:oo(r)})):U_(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(to.expired,async e=>{const{topic:n,id:r}=IV(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,De("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,De("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Xu.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Xu.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!br(e,!1)){const{message:n}=De("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=De("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ta(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=De("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!br(e,!1)){const{message:n}=De("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=De("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ta(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=De("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=De("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(br(e,!1)){const{message:n}=De("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=De("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!CAe(e)){const{message:n}=De("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=De("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ta(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=De("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}};class zCe extends eh{constructor(e,n){super(e,n,ACe,hC),this.core=e,this.logger=n}}let WCe=class extends eh{constructor(e,n){super(e,n,TCe,hC),this.core=e,this.logger=n}},VCe=class extends eh{constructor(e,n){super(e,n,CCe,hC,r=>r.id),this.core=e,this.logger=n}};class qCe extends eh{constructor(e,n){super(e,n,NCe,j_,()=>qb),this.core=e,this.logger=n}}class HCe extends eh{constructor(e,n){super(e,n,$Ce,j_),this.core=e,this.logger=n}}class KCe extends eh{constructor(e,n){super(e,n,DCe,j_,r=>r.id),this.core=e,this.logger=n}}var GCe=Object.defineProperty,YCe=(t,e,n)=>e in t?GCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JS=(t,e,n)=>YCe(t,typeof e!="symbol"?e+"":e,n);let ZCe=class{constructor(e,n){this.core=e,this.logger=n,JS(this,"authKeys"),JS(this,"pairingTopics"),JS(this,"requests"),this.authKeys=new qCe(this.core,this.logger),this.pairingTopics=new HCe(this.core,this.logger),this.requests=new KCe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var JCe=Object.defineProperty,XCe=(t,e,n)=>e in t?JCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wt=(t,e,n)=>XCe(t,typeof e!="symbol"?e+"":e,n);let QCe=class tH extends YTe{constructor(e){super(e),Wt(this,"protocol",Xq),Wt(this,"version",Qq),Wt(this,"name",YS.name),Wt(this,"metadata"),Wt(this,"core"),Wt(this,"logger"),Wt(this,"events",new Bs.EventEmitter),Wt(this,"engine"),Wt(this,"session"),Wt(this,"proposal"),Wt(this,"pendingRequest"),Wt(this,"auth"),Wt(this,"signConfig"),Wt(this,"on",(r,i)=>this.events.on(r,i)),Wt(this,"once",(r,i)=>this.events.once(r,i)),Wt(this,"off",(r,i)=>this.events.off(r,i)),Wt(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Wt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Wt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Wt(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Wt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Wt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||YS.name,this.metadata=HEe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=cC({logger:(e==null?void 0:e.logger)||YS.logger,name:this.name});this.logger=n,this.core=(e==null?void 0:e.core)||new SCe(e),this.session=new WCe(this.core,this.logger),this.proposal=new zCe(this.core,this.logger),this.pendingRequest=new VCe(this.core,this.logger),this.engine=new jCe(this),this.auth=new ZCe(this.core,this.logger)}static async init(e){const n=new tH(e);return await n.initialize(),n}get context(){return ms(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const e3e=QCe;var lb={exports:{}},eM;function t3e(){return eM||(eM=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Aa<"u"&&Aa,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Aa<"u"&&Aa||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(I){return I&&d.indexOf(Object.prototype.toString.call(I))>-1};function p(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function m(I){return typeof I!="string"&&(I=String(I)),I}function y(I){var P={next:function(){var L=I.shift();return{done:L===void 0,value:L}}};return c.iterable&&(P[Symbol.iterator]=function(){return P}),P}function w(I){this.map={},I instanceof w?I.forEach(function(P,L){this.append(L,P)},this):Array.isArray(I)?I.forEach(function(P){if(P.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+P.length);this.append(P[0],P[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(P){this.append(P,I[P])},this)}w.prototype.append=function(I,P){I=p(I),P=m(P);var L=this.map[I];this.map[I]=L?L+", "+P:P},w.prototype.delete=function(I){delete this.map[p(I)]},w.prototype.get=function(I){return I=p(I),this.has(I)?this.map[I]:null},w.prototype.has=function(I){return this.map.hasOwnProperty(p(I))},w.prototype.set=function(I,P){this.map[p(I)]=m(P)},w.prototype.forEach=function(I,P){for(var L in this.map)this.map.hasOwnProperty(L)&&I.call(P,this.map[L],L,this)},w.prototype.keys=function(){var I=[];return this.forEach(function(P,L){I.push(L)}),y(I)},w.prototype.values=function(){var I=[];return this.forEach(function(P){I.push(P)}),y(I)},w.prototype.entries=function(){var I=[];return this.forEach(function(P,L){I.push([L,P])}),y(I)},c.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function v(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function E(I){return new Promise(function(P,L){I.onload=function(){P(I.result)},I.onerror=function(){L(I.error)}})}function k(I){var P=new FileReader,L=E(P);return P.readAsArrayBuffer(I),L}function _(I){var P=new FileReader,L=E(P),M=/charset=([A-Za-z0-9_-]+)/.exec(I.type),R=M?M[1]:"utf-8";return P.readAsText(I,R),L}function x(I){for(var P=new Uint8Array(I),L=new Array(P.length),M=0;M<P.length;M++)L[M]=String.fromCharCode(P[M]);return L.join("")}function A(I){if(I.slice)return I.slice(0);var P=new Uint8Array(I.byteLength);return P.set(new Uint8Array(I)),P.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&u(I)?(this._bodyArrayBuffer=A(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||f(I))?this._bodyArrayBuffer=A(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=v(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=v(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=v(this);if(I)return I;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(I){var P=I.toUpperCase();return O.indexOf(P)>-1?P:I}function D(I,P){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var L=P.body;if(I instanceof D){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,P.headers||(this.headers=new w(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!L&&I._bodyInit!=null&&(L=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new w(P.headers)),this.method=N(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||(function(){if("AbortController"in a){var z=new AbortController;return z.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function F(I){var P=new FormData;return I.trim().split("&").forEach(function(L){if(L){var M=L.split("="),R=M.shift().replace(/\+/g," "),z=M.join("=").replace(/\+/g," ");P.append(decodeURIComponent(R),decodeURIComponent(z))}}),P}function K(I){var P=new w,L=I.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var R=M.split(":"),z=R.shift().trim();if(z){var W=R.join(":").trim();try{P.append(z,W)}catch(G){console.warn("Response "+G.message)}}}),P}T.call(D.prototype);function B(I,P){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new w(P.headers),this.url=P.url||"",this._initBody(I)}T.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},B.error=function(){var I=new B(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var j=[301,302,303,307,308];B.redirect=function(I,P){if(j.indexOf(P)===-1)throw new RangeError("Invalid status code");return new B(null,{status:P,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(P,L){this.message=P,this.name=L;var M=Error(P);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Y(I,P){return new Promise(function(L,M){var R=new D(I,P);if(R.signal&&R.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function W(){z.abort()}z.onload=function(){var te={statusText:z.statusText,headers:K(z.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(z.status<200||z.status>599)?te.status=200:te.status=z.status,te.url="responseURL"in z?z.responseURL:te.headers.get("X-Request-URL");var ee="response"in z?z.response:z.responseText;setTimeout(function(){L(new B(ee,te))},0)},z.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){M(new o.DOMException("Aborted","AbortError"))},0)};function G(te){try{return te===""&&a.location.href?a.location.href:te}catch{return te}}if(z.open(R.method,G(R.url),!0),R.credentials==="include"?z.withCredentials=!0:R.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&(z.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof w||a.Headers&&P.headers instanceof a.Headers)){var ie=[];Object.getOwnPropertyNames(P.headers).forEach(function(te){ie.push(p(te)),z.setRequestHeader(te,m(P.headers[te]))}),R.headers.forEach(function(te,ee){ie.indexOf(ee)===-1&&z.setRequestHeader(ee,te)})}else R.headers.forEach(function(te,ee){z.setRequestHeader(ee,te)});R.signal&&(R.signal.addEventListener("abort",W),z.onreadystatechange=function(){z.readyState===4&&R.signal.removeEventListener("abort",W)}),z.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return Y.polyfill=!0,a.fetch||(a.fetch=Y,a.Headers=w,a.Request=D,a.Response=B),o.Headers=w,o.Request=D,o.Response=B,o.fetch=Y,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(lb,lb.exports)),lb.exports}var n3e=t3e();const tM=cu(n3e);var r3e=Object.defineProperty,i3e=Object.defineProperties,s3e=Object.getOwnPropertyDescriptors,nM=Object.getOwnPropertySymbols,o3e=Object.prototype.hasOwnProperty,a3e=Object.prototype.propertyIsEnumerable,rM=(t,e,n)=>e in t?r3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iM=(t,e)=>{for(var n in e||(e={}))o3e.call(e,n)&&rM(t,n,e[n]);if(nM)for(var n of nM(e))a3e.call(e,n)&&rM(t,n,e[n]);return t},sM=(t,e)=>i3e(t,s3e(e));const c3e={Accept:"application/json","Content-Type":"application/json"},l3e="POST",oM={headers:c3e,method:l3e},aM=10;let nH=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Bs.EventEmitter,this.isAvailable=!1,this.registering=!1,!xD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Gc(e),r=await(await tM(this.url,sM(iM({},oM),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!xD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Gc({id:1,jsonrpc:"2.0",method:"test",params:[]});await tM(e,sM(iM({},oM),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?$d(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=B_(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Oq(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>aM&&this.events.setMaxListeners(aM)}};function fC(t){return t==null||typeof t!="object"&&typeof t!="function"}function rH(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function iH(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const u3e="[object RegExp]",sH="[object String]",oH="[object Number]",aH="[object Boolean]",cH="[object Arguments]",d3e="[object Symbol]",h3e="[object Date]",f3e="[object Map]",p3e="[object Set]",m3e="[object Array]",g3e="[object ArrayBuffer]",y3e="[object Object]",w3e="[object DataView]",b3e="[object Uint8Array]",v3e="[object Uint8ClampedArray]",_3e="[object Uint16Array]",E3e="[object Uint32Array]",x3e="[object Int8Array]",S3e="[object Int16Array]",A3e="[object Int32Array]",T3e="[object Float32Array]",I3e="[object Float64Array]";function pC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function k3e(t,e){return pf(t,void 0,t,new Map,e)}function pf(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(fC(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=pf(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,pf(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(pf(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(pC(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=pf(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Qu(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Qu(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Qu(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Qu(o,t,n,r,i),o}if(typeof t=="object"&&C3e(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Qu(o,t,n,r,i),o}return t}function Qu(t,e,n=t,r,i){const s=[...Object.keys(e),...rH(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=pf(e[a],a,n,r,i))}}function C3e(t){switch(iH(t)){case cH:case m3e:case g3e:case w3e:case aH:case h3e:case T3e:case I3e:case x3e:case S3e:case A3e:case f3e:case oH:case y3e:case u3e:case p3e:case sH:case d3e:case b3e:case v3e:case _3e:case E3e:return!0;default:return!1}}function P3e(t,e){return k3e(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case oH:case sH:case aH:{const o=new t.constructor(t==null?void 0:t.valueOf());return Qu(o,t),o}case cH:{const o={};return Qu(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function cM(t){return P3e(t)}function lM(t){return t!==null&&typeof t=="object"&&iH(t)==="[object Arguments]"}function uM(t){return typeof t=="object"&&t!==null}function O3e(){}function R3e(t){return pC(t)}function N3e(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function $3e(t){if(fC(t))return t;if(Array.isArray(t)||pC(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function D3e(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=l5(i,o,r,new Map)}return i}function l5(t,e,n,r){if(fC(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return $3e(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...rH(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(lM(a)&&(a={...a}),lM(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=cM(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const d=[],f=Reflect.ownKeys(c);for(let p=0;p<f.length;p++){const m=f[p];d[m]=c[m]}c=d}else c=[];const u=n(c,a,o,t,e,r);u!=null?t[o]=u:Array.isArray(a)||uM(c)&&uM(a)?t[o]=l5(c,a,n,r):c==null&&N3e(a)?t[o]=l5({},a,n,r):c==null&&R3e(a)?t[o]=cM(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function M3e(t,...e){return D3e(t,...e,O3e)}const dM="error",L3e="wss://relay.walletconnect.org",B3e="wc",lH="universal_provider",ub=`${B3e}@2:${lH}:`,uH="https://rpc.walletconnect.org/v1/",dH="generic",U3e=`${uH}bundler`,Of="call_status",F3e=86400,mC={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var j3e=Object.defineProperty,z3e=Object.defineProperties,W3e=Object.getOwnPropertyDescriptors,hM=Object.getOwnPropertySymbols,V3e=Object.prototype.hasOwnProperty,q3e=Object.prototype.propertyIsEnumerable,fM=(t,e,n)=>e in t?j3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,db=(t,e)=>{for(var n in e||(e={}))V3e.call(e,n)&&fM(t,n,e[n]);if(hM)for(var n of hM(e))q3e.call(e,n)&&fM(t,n,e[n]);return t},H3e=(t,e)=>z3e(t,W3e(e));function hH(t,e,n){var r;const i=Uc(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${uH}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function K3e(t){return t.includes(":")?t.split(":")[1]:t}function fH(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function G3e(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function pM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function hb(t={},e={}){const n=pM(mM(t)),r=pM(mM(e));return M3e(n,r)}function mM(t){var e,n,r,i,s;const o={};if(!$a(t))return o;for(const[a,c]of Object.entries(t)){const u=L_(a)?[a]:c.chains,d=c.methods||[],f=c.events||[],p=c.rpcMap||{},m=ff(a);o[m]=H3e(db(db({},o[m]),c),{chains:Na(u,(e=o[m])==null?void 0:e.chains),methods:Na(d,(n=o[m])==null?void 0:n.methods),events:Na(f,(r=o[m])==null?void 0:r.events)}),($a(p)||$a(((i=o[m])==null?void 0:i.rpcMap)||{}))&&(o[m].rpcMap=db(db({},p),(s=o[m])==null?void 0:s.rpcMap))}return o}function gM(t){return t.includes(":")?t.split(":")[2]:t}function yM(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=L_(n)?[n]:r.chains?r.chains:fH(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function XS(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function Y3e(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const pH={},Rf=t=>pH[t],QS=(t,e)=>{pH[t]=e};var Z3e=Object.defineProperty,wM=Object.getOwnPropertySymbols,J3e=Object.prototype.hasOwnProperty,X3e=Object.prototype.propertyIsEnumerable,bM=(t,e,n)=>e in t?Z3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vM=(t,e)=>{for(var n in e||(e={}))J3e.call(e,n)&&bM(t,n,e[n]);if(wM)for(var n of wM(e))X3e.call(e,n)&&bM(t,n,e[n]);return t};const _M="eip155",Q3e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],ePe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,eA=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,EM=t=>Object.keys(t).filter(e=>Q3e.includes(e)).reduce((e,n)=>(e[n]=tPe(t[n]),e),{}),tPe=t=>typeof t=="string"&&Y3e(t)?JSON.parse(t):t,nPe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!$a(i)&&!$a(r))return;const o=EM(r);for(const a of n){const c=ePe(a);if(!c)continue;s[eA(c)]=o;const u=i==null?void 0:i[`${_M}:${c}`];if(u){const d=u==null?void 0:u[`${_M}:${c}:${e}`];s[eA(c)]=vM(vM({},s[eA(c)]),EM(d||u))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var rPe=Object.defineProperty,iPe=(t,e,n)=>e in t?rPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sPe=(t,e,n)=>iPe(t,e+"",n);let tA,oPe=class mH{constructor(e){sPe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return tA||(tA=new mH(e)),tA}};var aPe=Object.defineProperty,cPe=Object.defineProperties,lPe=Object.getOwnPropertyDescriptors,xM=Object.getOwnPropertySymbols,uPe=Object.prototype.hasOwnProperty,dPe=Object.prototype.propertyIsEnumerable,SM=(t,e,n)=>e in t?aPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hPe=(t,e)=>{for(var n in e||(e={}))uPe.call(e,n)&&SM(t,n,e[n]);if(xM)for(var n of xM(e))dPe.call(e,n)&&SM(t,n,e[n]);return t},fPe=(t,e)=>cPe(t,lPe(e));async function pPe(t,e){const n=Uc(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(f=>mPe(n.reference,f,e))),s=i.filter(f=>f.status==="fulfilled").map(f=>f.value).filter(f=>f);i.filter(f=>f.status==="rejected").forEach(f=>console.warn("Failed to fetch transaction receipt:",f.reason));const o=!s.length||s.some(f=>!f),a=s.every(f=>(f==null?void 0:f.status)==="0x1"),c=s.every(f=>(f==null?void 0:f.status)==="0x0"),u=s.some(f=>(f==null?void 0:f.status)==="0x0");let d;return o?d=100:a?d=200:c?d=500:u&&(d=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:d}}async function mPe(t,e,n){return await n(parseInt(t)).request(Fo("eth_getTransactionReceipt",[e]))}async function gPe({sendCalls:t,storage:e}){const n=await e.getItem(Of);await e.setItem(Of,fPe(hPe({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:mr(F3e)}}))}async function yPe({resultId:t,storage:e}){const n=await e.getItem(Of);if(n){delete n[t],await e.setItem(Of,n);for(const r in n)Ta(n[r].expiry)&&delete n[r];await e.setItem(Of,n)}}async function wPe({resultId:t,storage:e}){const n=await e.getItem(Of),r=n==null?void 0:n[t];if(r&&!Ta(r.expiry))return r;await yPe({resultId:t,storage:e})}var bPe=Object.defineProperty,vPe=Object.defineProperties,_Pe=Object.getOwnPropertyDescriptors,AM=Object.getOwnPropertySymbols,EPe=Object.prototype.hasOwnProperty,xPe=Object.prototype.propertyIsEnumerable,u5=(t,e,n)=>e in t?bPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nA=(t,e)=>{for(var n in e||(e={}))EPe.call(e,n)&&u5(t,n,e[n]);if(AM)for(var n of AM(e))xPe.call(e,n)&&u5(t,n,e[n]);return t},rA=(t,e)=>vPe(t,_Pe(e)),Fu=(t,e,n)=>u5(t,typeof e!="symbol"?e+"":e,n);class SPe{constructor(e){Fu(this,"name","eip155"),Fu(this,"client"),Fu(this,"chainId"),Fu(this,"namespace"),Fu(this,"httpProviders"),Fu(this,"events"),Fu(this,"storage"),this.namespace=e.namespace,this.events=Rf("events"),this.client=Rf("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=oPe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(mC.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||hH(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new dC(new nH(r,Rf("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(K3e(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=rA(nA({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,p=d==null?void 0:d[f];if(p)return p;let m;try{m=nPe(u,a,c)}catch(w){console.warn("Failed to extract capabilities from session",w)}if(m)return m;const y=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:rA(nA({},u.sessionProperties||{}),{capabilities:rA(nA({},d||{}),{[f]:y})})})}catch(w){console.warn("Failed to update session with capabilities",w)}return y}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),o=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(o){const u=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(u,e)}catch(d){console.warn("Failed to fetch call status from bundler",d,u)}}const a=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,a)}const c=await wPe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await pPe(c,this.getHttpProvider.bind(this))}catch(u){console.warn("Failed to fetch call status from stored send calls",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fo("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${U3e}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),o=(n=e.request.params)==null?void 0:n[0],a=s==null?void 0:s.id,c=(s==null?void 0:s.capabilities)||{},u=(r=c==null?void 0:c.caip345)==null?void 0:r.caip2,d=(i=c==null?void 0:c.caip345)==null?void 0:i.transactionHashes;return!a||!u||!(d!=null&&d.length)||await gPe({sendCalls:{request:o,result:s},storage:this.storage}),s}}var APe=Object.defineProperty,TPe=(t,e,n)=>e in t?APe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gh=(t,e,n)=>TPe(t,typeof e!="symbol"?e+"":e,n);class IPe{constructor(e){Gh(this,"name",dH),Gh(this,"client"),Gh(this,"httpProviders"),Gh(this,"events"),Gh(this,"namespace"),Gh(this,"chainId"),this.namespace=e.namespace,this.events=Rf("events"),this.client=Rf("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(mC.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Uc(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,o;const a=Uc(i),c=(o=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];r[a.reference]=this.createHttpProvider(i,c)}),r}getHttpProvider(e){const n=Uc(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hH(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new dC(new nH(r,Rf("disableProviderPing")))}}var kPe=Object.defineProperty,CPe=Object.defineProperties,PPe=Object.getOwnPropertyDescriptors,TM=Object.getOwnPropertySymbols,OPe=Object.prototype.hasOwnProperty,RPe=Object.prototype.propertyIsEnumerable,d5=(t,e,n)=>e in t?kPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pm=(t,e)=>{for(var n in e||(e={}))OPe.call(e,n)&&d5(t,n,e[n]);if(TM)for(var n of TM(e))RPe.call(e,n)&&d5(t,n,e[n]);return t},fb=(t,e)=>CPe(t,PPe(e)),Xs=(t,e,n)=>d5(t,typeof e!="symbol"?e+"":e,n);class gC{constructor(e){Xs(this,"client"),Xs(this,"namespaces"),Xs(this,"optionalNamespaces"),Xs(this,"sessionProperties"),Xs(this,"scopedProperties"),Xs(this,"events",new Ok),Xs(this,"rpcProviders",{}),Xs(this,"session"),Xs(this,"providerOpts"),Xs(this,"logger"),Xs(this,"uri"),Xs(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=cC({logger:(n=e.logger)!=null?n:dM,name:(r=this.providerOpts.name)!=null?r:lH}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new gC(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Pm({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,hy(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Rn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=yM(this.session.namespaces);this.namespaces=hb(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=yM(i.namespaces);return this.namespaces=hb(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!uo(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await e3e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||dM,relayUrl:this.providerOpts.relayUrl||L3e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>ff(n)))];QS("client",this.client),QS("events",this.events),QS("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=G3e(n,this.session);if((r==null?void 0:r.length)===0)return;const i=fH(r),s=hb(this.namespaces,this.optionalNamespaces),o=fb(Pm({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new SPe({namespace:o});break;default:this.rpcProviders[n]=new IPe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&uo(o)&&this.events.emit("accountsChanged",o.map(gM))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=ff(o),u=XS(o)!==XS(a)?`${c}:${XS(a)}`:o;this.onChainChanged({currentCaipChainId:u})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=fb(Pm({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",fb(Pm({},Rn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(mC.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(fb(Pm({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[dH]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=hb(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>ff(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=ff(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(gM);if(!uo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${ub}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${ub}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${ub}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(ub)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const NPe=gC,$Pe="wc",DPe="ethereum_provider",MPe=`${$Pe}@2:${DPe}:`,LPe="https://rpc.walletconnect.org/v1/",h5=["eth_sendTransaction","personal_sign"],gH=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],f5=["chainChanged","accountsChanged"],yH=["chainChanged","accountsChanged","message","disconnect","connect"],BPe=async()=>{const{createAppKit:t}=await ze(()=>import("./core-CcOotrLb.js").then(e=>e.ai),[]);return t};var UPe=Object.defineProperty,FPe=Object.defineProperties,jPe=Object.getOwnPropertyDescriptors,IM=Object.getOwnPropertySymbols,zPe=Object.prototype.hasOwnProperty,WPe=Object.prototype.propertyIsEnumerable,p5=(t,e,n)=>e in t?UPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qu=(t,e)=>{for(var n in e||(e={}))zPe.call(e,n)&&p5(t,n,e[n]);if(IM)for(var n of IM(e))WPe.call(e,n)&&p5(t,n,e[n]);return t},Om=(t,e)=>FPe(t,jPe(e)),xs=(t,e,n)=>p5(t,typeof e!="symbol"?e+"":e,n);function o1(t){return Number(t[0].split(":")[1])}function pb(t){return`0x${t.toString(16)}`}function VPe(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!uo(e))throw new Error("Invalid chains");const c={chains:e,methods:r||h5,events:s||f5,rpcMap:qu({},e.length?{[o1(e)]:a[o1(e)]}:{})},u=s==null?void 0:s.filter(m=>!f5.includes(m)),d=r==null?void 0:r.filter(m=>!h5.includes(m));if(!n&&!o&&!i&&!(u!=null&&u.length)&&!(d!=null&&d.length))return{required:e.length?c:void 0};const f=(u==null?void 0:u.length)&&(d==null?void 0:d.length)||!n,p={chains:[...new Set(f?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:gH))],events:[...new Set(c.events.concat(o!=null&&o.length?o:yH))],rpcMap:a};return{required:e.length?c:void 0,optional:n.length?p:void 0}}class yC{constructor(){xs(this,"events",new Bs.EventEmitter),xs(this,"namespace","eip155"),xs(this,"accounts",[]),xs(this,"signer"),xs(this,"chainId",1),xs(this,"modal"),xs(this,"rpc"),xs(this,"STORAGE_KEY",MPe),xs(this,"on",(e,n)=>(this.events.on(e,n),this)),xs(this,"once",(e,n)=>(this.events.once(e,n),this)),xs(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),xs(this,"off",(e,n)=>(this.events.off(e,n),this)),xs(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new yC;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=VPe(this.rpc);try{const s=await new Promise(async(a,c)=>{var u,d;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(d=this.modal)==null||d.subscribeState(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const f=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Om(qu({namespaces:qu({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:f})).then(p=>{a(p)}).catch(p=>{var m;(m=this.modal)==null||m.showErrorMessage("Unable to connect"),c(new Error(p.message))})});if(!s)return;const o=m$(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:pb(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Om(qu({},e),{chains:this.rpc.chains}),n).then(d=>{o(d)}).catch(d=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),a(new Error(d.message))})}),s=i.session;if(s){const o=m$(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:pb(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",pb(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Om(qu({},Rn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",pb(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||h5:[],c=i.length?(e==null?void 0:e.events)||f5:[],u=(e==null?void 0:e.optionalMethods)||[],d=(e==null?void 0:e.optionalEvents)||[],f=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),p=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(m=>this.formatChainId(m)),optionalChains:s.map(m=>this.formatChainId(m)),methods:a,events:c,optionalMethods:u,optionalEvents:d,rpcMap:f,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:p,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?o1(this.rpc.chains):o1(this.rpc.optionalChains),this.signer=await NPe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await BPe(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return t8e}),o=s(Om(qu({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect");r=i(Om(qu({},o),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&uo(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&uo(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${LPe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const qPe=yC;var HPe=Object.defineProperty,KPe=Object.defineProperties,GPe=Object.getOwnPropertyDescriptors,kM=Object.getOwnPropertySymbols,YPe=Object.prototype.hasOwnProperty,ZPe=Object.prototype.propertyIsEnumerable,CM=(t,e,n)=>e in t?HPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wH=(t,e)=>{for(var n in e||(e={}))YPe.call(e,n)&&CM(t,n,e[n]);if(kM)for(var n of kM(e))ZPe.call(e,n)&&CM(t,n,e[n]);return t},JPe=(t,e)=>KPe(t,GPe(e));function XPe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const QPe=t=>{const[e,n]=t.split(":");return bH({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function e8e(t){var e,n,r,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(QPe).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const u=c.find(f=>{var p;return f.id===((p=t.defaultChain)==null?void 0:p.id)}),d={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:XPe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:u,metadata:JPe(wH({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const f=[...(t.mobileWallets||[]).map(y=>({id:y.id,name:y.name,links:y.links})),...(t.desktopWallets||[]).map(y=>({id:y.id,name:y.name,links:{native:y.links.native,universal:y.links.universal}}))],p=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],m=f.filter(y=>!p.includes(y.id));m.length&&(d.customWallets=m)}return d}function bH(t){return wH({formatters:void 0,fees:void 0,serializers:void 0},t)}var t8e=Object.freeze({__proto__:null,convertWCMToAppKitOptions:e8e,defineChain:bH});const n8e=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(r);if(s.length>0){let o=new URLSearchParams;for(let[a,c]of s)c!==void 0&&o.append(a,c);i.hash=o.toString()}return i.href};var r8e=Object.defineProperty,wC=(t,e)=>{for(var n in e)r8e(t,n,{get:e[n],enumerable:!0})},i8e={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},s8e=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];const bC=50000n,PM=Mte*32n,vH={block:fU({format(t){var n;const e=(n=t.transactions)==null?void 0:n.map(r=>{var s;if(typeof r=="string")return r;const i=(s=vH.transaction)==null?void 0:s.format(r);return i.typeHex==="0x71"?i.type="eip712":i.typeHex==="0xff"&&(i.type="priority"),i});return{l1BatchNumber:t.l1BatchNumber?cn(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?cn(t.l1BatchTimestamp):null,transactions:e}}}),transaction:hU({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?cn(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?cn(t.l1BatchTxIndex):null}}}),transactionReceipt:ZU({format(t){return{l1BatchNumber:t.l1BatchNumber?cn(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?cn(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...Ua(e),l1BatchNumber:e.l1BatchNumber?cn(e.l1BatchNumber):null,transactionLogIndex:$s(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:cn(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?cn(e.l1BatchNumber):null,transactionIndex:cn(e.transactionIndex),shardId:cn(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:cn(e.logIndex)}))}}}),transactionRequest:Nte({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Pt(t.gasPerPubdata)}:{gasPerPubdata:Pt(bC)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(Bi(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(Bi(e)))}:{},...t.customSignature?{customSignature:Array.from(Bi(t.customSignature))}:{}},type:"0x71"}:{}}})};class _H extends be{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function d0(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function EH(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!d0(t))throw new _H;if(!e||e<=0)throw new Fy({chainId:e});if(n&&!vn(n))throw new Er({address:n});if(r&&!vn(r))throw new Er({address:r});if(i&&!vn(i))throw new Er({address:i});if(i&&!s)throw new be("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new be("`paymaster` must be provided when `paymasterInput` is defined")}function o8e(t,e){return d0(t)?c8e(t):N6(t,e)}const a8e={transaction:o8e};function c8e(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:d,paymaster:f,paymasterInput:p,gasPerPubdata:m,data:y}=t;EH(t);const w=[r?Pt(r):"0x",c?Pt(c):"0x",a?Pt(a):"0x",n?Pt(n):"0x",i??"0x",o?Pt(o):"0x",y??"0x",Pt(e),Pt(""),Pt(""),Pt(e),s??"0x",Pt(m||bC),d??[],u??"0x",f&&p?[f,p]:[]];return go(["0x71",zc(w)])}class l8e extends be{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class u8e extends be{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class d8e extends be{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function m5(t){const e=Nc(t);if(e.length%32!==0)throw new d8e({givenLength:e.length});if(e.length>PM)throw new l8e({givenLength:e.length,maxBytecodeSize:PM});const n=gU(e),r=Nc(n),i=e.length/32;if(i%2===0)throw new u8e({givenLengthInWords:i});const s=Nc(i),o=jd(s,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const h8e=t=>{EH(t);const e=f8e(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function f8e(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:u,paymasterInput:d,gasPerPubdata:f,data:p}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:f??bC,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:s??0n,data:p??"0x",factoryDeps:(c==null?void 0:c.map(m=>Pt(m5(m))))??[],paymasterInput:d||"0x"}}const xH={blockTime:1e3,formatters:vH,serializers:a8e,custom:{getEip712Domain:h8e}},p8e=di({...xH,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),m8e=di({...xH,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),g8e={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},y8e={block:fU({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=$y(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?cn(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:t.stateRoot}}}),transaction:hU({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?cn(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:ZU({format(t){return{l1GasPrice:t.l1GasPrice?cn(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?cn(t.l1GasUsed):null,l1Fee:t.l1Fee?cn(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function w8e(t,e){return _8e(t)?v8e(t):N6(t,e)}const b8e={transaction:w8e};function v8e(t){E8e(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=t,u=[e,r,a??"0x",o?Pt(o):"0x",c?Pt(c):"0x",i?Pt(i):"0x",s?"0x1":"0x",n??"0x"];return go(["0x7e",zc(u)])}function _8e(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function E8e(t){const{from:e,to:n}=t;if(e&&!vn(e))throw new Er({address:e});if(n&&!vn(n))throw new Er({address:n})}const a1={blockTime:2e3,contracts:g8e,formatters:y8e,serializers:b8e},x8e=di({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),S8e=di({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),Rm=1,SH=di({...a1,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...a1.contracts,disputeGameFactory:{[Rm]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Rm]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Rm]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Rm]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Rm});({...SH});const Nm=11155111,AH=di({...a1,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...a1.contracts,disputeGameFactory:{[Nm]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Nm]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Nm]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Nm]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Nm});({...AH});const A8e=di({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),T8e=di({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),I8e=di({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),k8e=di({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),C8e=di({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),P8e=di({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),O8e=di({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),R8e=di({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),N8e=di({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function $8e(t){if(typeof t=="string"){if(!vn(t,{strict:!1}))throw new Er({address:t});return{address:t,type:"json-rpc"}}if(!vn(t.address,{strict:!1}))throw new Er({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let iA=!1;async function h0({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=V1.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:Li(iA,{strict:!1})?Bi(iA):iA}),o={r:Pe(r,{size:32}),s:Pe(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?qF({...o,to:n}):o}async function D8e(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,o=await h0({hash:cU({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...o}:o}async function M8e({message:t,privateKey:e}){return await h0({hash:$6(t),privateKey:e,to:"hex"})}async function L8e(t){const{privateKey:e,transaction:n,serializer:r=N6}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await h0({hash:Yr(await r(i)),privateKey:e});return await r(n,s)}async function B8e(t){const{privateKey:e,...n}=t;return await h0({hash:fF(n),privateKey:e,to:"hex"})}function U8e(t,e={}){const{nonceManager:n}=e,r=Pt(V1.getPublicKey(t.slice(2),!1)),i=iU(r);return{...$8e({address:i,nonceManager:n,async sign({hash:o}){return h0({hash:o,privateKey:t,to:"hex"})},async signAuthorization(o){return D8e({...o,privateKey:t})},async signMessage({message:o}){return M8e({message:o,privateKey:t})},async signTransaction(o,{serializer:a}={}){return L8e({privateKey:t,transaction:o,serializer:a})},async signTypedData(o){return B8e({...o,privateKey:t})}}),publicKey:r,source:"privateKey"}}const F8e="0x0000000000000000000000000000000000008006",j8e="0x0000000000000000000000000000000000010000",OM=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],RM=1,sA="/docs/contract/encodeDeployData";function z8e(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:d,argsContractDeployer:f}=NM(i,s??$O,Pt(m5(r)),"0x");return Wi({abi:OM,functionName:d,args:f})}const o=e.find(d=>"type"in d&&d.type==="constructor");if(!o)throw new TB({docsPath:sA});if(!("inputs"in o))throw new Qb({docsPath:sA});if(!o.inputs||o.inputs.length===0)throw new Qb({docsPath:sA});const a=lu(o.inputs,n),{functionName:c,argsContractDeployer:u}=NM(i,s??$O,Pt(m5(r)),a);return Wi({abi:OM,functionName:c,args:u})}function NM(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,RM]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,RM]}}[t||"create"]}function TH(t){if(!d0(t))throw new _H;Va(t)}async function W8e(t,e){var u,d,f;const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?En(n):t.account;if(!s)throw new Ha({docsPath:"/docs/actions/wallet/signTransaction"});if(TH({account:s,chain:r,...e}),!((u=r==null?void 0:r.custom)!=null&&u.getEip712Domain))throw new be("`getEip712Domain` not found on chain.");if(!((d=r==null?void 0:r.serializers)!=null&&d.transaction))throw new be("transaction serializer not found on chain.");const o=await Ve(t,qa,"getChainId")({});r!==null&&zy({currentChainId:o,chain:r});const a=r==null?void 0:r.custom.getEip712Domain({...i,chainId:o,from:s.address,type:"eip712"}),c=await JF(t,{...a,account:s});return(f=r==null?void 0:r.serializers)==null?void 0:f.transaction({chainId:o,...i,customSignature:c,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function IH(t,e){return d0(e)?W8e(t,e):await ZF(t,e)}async function kH(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?En(n):t.account;if(!i)throw new Ha({docsPath:"/docs/actions/wallet/sendTransaction"});try{TH(e);const s=await fp(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let o;r!==null&&(o=await Ve(t,qa,"getChainId")({}),zy({currentChainId:o,chain:r}));const a=await IH(t,{...s,chainId:o});return await Ve(t,F1,"sendRawTransaction")({serializedTransaction:a})}catch(s){throw Dy(s,{...e,account:i,chain:r})}}function V8e(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:o,...a}=e,c=z8e({abi:n,args:r,bytecode:i,deploymentType:s,salt:o});return a.factoryDeps=a.factoryDeps||[],a.factoryDeps.includes(i)||a.factoryDeps.push(i),kH(t,{...a,data:c,to:s==="create2"||s==="create2Account"?j8e:F8e})}async function $M(t,e){return d0(e)?kH(t,e):Wy(t,e)}function q8e(){return t=>({sendTransaction:e=>$M(t,e),signTransaction:e=>IH(t,e),deployContract:e=>V8e(t,e),writeContract:e=>jf(Object.assign(t,{sendTransaction:n=>$M(t,n)}),e)})}var H8e=10,K8e=-32700,G8e=-32603,Y8e=-32602,Z8e=-32601,J8e=-32600,X8e=-32015,Q8e=-32014,eOe=-32012,tOe=-32010,nOe=-32009,rOe=-32007,iOe=-32006,sOe=-32004,DM=-32002,oOe=-32001,aOe=28e5,cOe=2800001,lOe=2800003,uOe=2800006,dOe=2800007,CH=2800008,hOe=2800009,dVe=32300001,hVe=3230004,fOe=361e4,pOe=3610001,mOe=3610003,gOe=3610005,yOe=3610006,wOe=3610007,bOe=3611e3,vOe=3704e3,_Oe=3704001,EOe=3704004,xOe=4615e3,SOe=4615026,AOe=5663e3,MM=5663001,TOe=5663004,IOe=5663005,kOe=5663006,COe=5663007,POe=5663008,OOe=5663015,ROe=5663016,NOe=5663017,PH=5663021,$Oe=705e4,DOe=7050030,MOe=7050031,LOe=7050035,BOe=8078e3,UOe=8078001,FOe=8078004,jOe=8078005,zOe=8078006,WOe=8078007,VOe=8078011,c1=8078012,qOe=8078013,HOe=8078014,KOe=8078017,OH=81e5,GOe=8100002,YOe=8100003,ZOe=819e4,JOe=8190001,XOe=8190002,g5=8190003,QOe=8190004,eRe=99e5,tRe=9900001,nRe=9900004;function RH(t){return Array.isArray(t)?"%5B"+t.map(RH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function rRe([t,e]){return`${t}=${RH(e)}`}function iRe(t){const e=Object.entries(t).map(rRe).join("&");return btoa(e)}function sRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${iRe(e)}'`),`${n}\``}}function NH(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var nt=class extends Error{constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([o,a])=>{o==="cause"?i={cause:a.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,o,a))});const s=sRe(e,r);super(s,i);Nx(this,"cause",this.cause);Nx(this,"context");this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function z_(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function $H({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,o;typeof r=="string"?s=r:(s=Object.keys(r)[0],o=r[s]);const a=n.indexOf(s),c=t+a,u=e(c,s,o),d=new nt(c,u);return z_(d,i),d}var oRe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function DH(t,e){const n=Number(t);return $H({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===xOe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===SOe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:oRe,rpcEnumError:e},DH)}var aRe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function MH(t){return typeof t=="object"&&"InstructionError"in t?DH(...t.InstructionError):$H({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===$Oe)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===DOe)return{index:Number(r)};if(e===MOe||e===LOe)return{accountIndex:Number(r.account_index)}},orderedErrorNames:aRe,rpcEnumError:t},MH)}function l1(t){let e;if(cRe(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===DM){const{err:o,...a}=r,c=o?{cause:MH(o)}:null;e=new nt(DM,{...a,...c})}else{let o;switch(s){case G8e:case Y8e:case J8e:case Z8e:case K8e:case eOe:case oOe:case sOe:case Q8e:case tOe:case nOe:case rOe:case iOe:case X8e:o={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(o=r)}e=new nt(s,o)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new nt(H8e,{error:t,message:n})}return z_(e,l1),e}function cRe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function lRe(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var uRe=(t,e)=>lRe(t.length<=e?t:t.slice(0,e),e);function dRe(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function Ld(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function ui(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Ld(e,t));return t.write(e,n,0),n}})}function Ci(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function ur(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function hRe(t){return!ur(t)}function fRe(t,e){if(ur(t)!==ur(e))throw new nt(FOe);if(ur(t)&&ur(e)&&t.fixedSize!==e.fixedSize)throw new nt(jOe,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!ur(t)&&!ur(e)&&t.maxSize!==e.maxSize)throw new nt(zOe,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function pRe(t,e,n=0){if(e.length-n<=0)throw new nt(BOe,{codecDescription:t})}function vC(t,e,n,r=0){const i=n.length-r;if(i<e)throw new nt(UOe,{bytesLength:i,codecDescription:t,expected:e})}function LM(t,e,n){if(e<0||e>n)throw new nt(HOe,{bytesLength:n,codecDescription:t,offset:e})}function mRe(t,e){const n=((o,a,c)=>{const u=t.encode(o);return c=e.write(u.length,a,c),a.set(u,c),c+u.length});if(ur(e)&&ur(t))return ui({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=ur(e)?e.fixedSize:e.maxSize??null,i=ur(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return ui({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:o=>{const a=Ld(o,t);return Ld(a,e)+a},write:n})}function gRe(t,e){const n=((o,a)=>{const[c,u]=e.read(o,a),d=Number(c);return a=u,(a>0||o.length>d)&&(o=o.slice(a,a+d)),vC("addDecoderSizePrefix",d,o),[t.decode(o),a+d]});if(ur(e)&&ur(t))return Ci({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=ur(e)?e.fixedSize:e.maxSize??null,i=ur(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Ci({...t,...s!==null?{maxSize:s}:{},read:n})}function u1(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;let s;return typeof SharedArrayBuffer>"u"?s=t.buffer:t.buffer instanceof SharedArrayBuffer?(s=new ArrayBuffer(t.length),new Uint8Array(s).set(new Uint8Array(t))):s=t.buffer,(r===0||r===-t.byteLength)&&i===t.byteLength?s:s.slice(r,r+i)}function _C(t,e){return ui({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),o=s.length>e?s.slice(0,e):s;return r.set(o,i),i+e}})}function EC(t,e){return Ci({fixedSize:e,read:(n,r)=>{vC("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),ur(t)&&(n=uRe(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function yRe(t,e){return Ci({...t,read:(n,r)=>{const i=u=>wRe(u,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;LM("offsetDecoder",s,n.length);const[o,a]=t.read(n,s),c=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:a,preOffset:r,wrapBytes:i}):a;return LM("offsetDecoder",c,n.length),[o,c]}})}function wRe(t,e){return e===0?0:(t%e+e)%e}function bRe(t,e){if(ur(t)){const n=e(t.fixedSize);if(n<0)throw new nt(qOe,{bytesLength:n,codecDescription:"resizeDecoder"});return Ci({...t,fixedSize:n})}return t}function vRe(t,e){return yRe(bRe(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function _p(t,e){return ui({...hRe(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function xC(t,e){return Ci({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function _Re(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new nt(c1,{alphabet:t,base:t.length,value:n})}var ERe=t=>ui({getSizeFromValue:e=>{const[n,r]=BM(e,t[0]);if(!r)return e.length;const i=UM(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(_Re(t,e),e==="")return r;const[i,s]=BM(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let o=UM(s,t);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(i.length).fill(0),...a];return n.set(c,r),r+c.length}}),xRe=t=>Ci({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const o=r.slice(i).reduce((c,u)=>c*256n+BigInt(u),0n),a=SRe(o,t);return[s+a,e.length]}});function BM(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function UM(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function SRe(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var LH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ARe=()=>ERe(LH),TRe=()=>xRe(LH),FM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IRe=()=>ui({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new nt(c1,{alphabet:FM,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new nt(c1,{alphabet:FM,base:64,value:t})}}}),kRe=()=>Ci({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}});function CRe(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new nt(bOe)}function W_(){if(!globalThis.isSecureContext)throw new nt(fOe)}function PRe(){var t;if(W_(),typeof globalThis.crypto>"u"||typeof((t=globalThis.crypto.subtle)==null?void 0:t.digest)!="function")throw new nt(pOe)}function BH(){var t;if(W_(),typeof globalThis.crypto>"u"||typeof((t=globalThis.crypto.subtle)==null?void 0:t.exportKey)!="function")throw new nt(mOe)}function ORe(){var t;if(W_(),typeof globalThis.crypto>"u"||typeof((t=globalThis.crypto.subtle)==null?void 0:t.sign)!="function")throw new nt(gOe)}function RRe(){var t;if(W_(),typeof globalThis.crypto>"u"||typeof((t=globalThis.crypto.subtle)==null?void 0:t.verify)!="function")throw new nt(yOe)}var oA,aA;function SC(){return oA||(oA=ARe()),oA}function NRe(){return aA||(aA=TRe()),aA}function $Re(t){if(t.length<32||t.length>44)return!1;const e=SC();try{return e.encode(t).byteLength===32}catch{return!1}}function y5(t){if(t.length<32||t.length>44)throw new nt(cOe,{actualLength:t.length});const r=SC().encode(t).byteLength;if(r!==32)throw new nt(aOe,{actualLength:r})}function DRe(t){return y5(t),t}function Nf(){return _p(_C(SC(),32),t=>DRe(t))}function f0(){return EC(NRe(),32)}function MRe(){return fRe(Nf(),f0())}function AC(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var LRe=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Di=57896044618658097711785492504343953926634992332820282019728792003956564819949n,jM=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function so(t){const e=t%Di;return e>=0n?e:Di+e}function ba(t,e){let n=t;for(;e-- >0n;)n*=n,n%=Di;return n}function BRe(t){const n=t*t%Di*t%Di,r=ba(n,2n)*n%Di,i=ba(r,1n)*t%Di,s=ba(i,5n)*i%Di,o=ba(s,10n)*s%Di,a=ba(o,20n)*o%Di,c=ba(a,40n)*a%Di,u=ba(c,80n)*c%Di,d=ba(u,80n)*c%Di,f=ba(d,10n)*s%Di;return ba(f,2n)*t%Di}function URe(t,e){const n=so(e*e*e),r=so(n*n*e),i=BRe(t*r);let s=so(t*n*i);const o=so(e*s*s),a=s,c=so(s*jM),u=o===t,d=o===so(-t),f=o===so(-t*jM);return u&&(s=a),(d||f)&&(s=c),(so(s)&1n)===1n&&(s=so(-s)),!u&&!d?null:s}function FRe(t,e){const n=so(t*t),r=so(n-1n),i=so(LRe*n+1n),s=URe(r,i);if(s===null)return!1;const o=(e&128)!==0;return!(s===0n&&o)}function jRe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function zRe(t){const n=`0x${t.reduce((r,i,s)=>`${jRe(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function WRe(t){if(t.byteLength!==32)return!1;const e=zRe(t);return FRe(e,t[31])}var zM=32,WM=16,VRe=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function qRe({programAddress:t,seeds:e}){if(PRe(),e.length>WM)throw new nt(uOe,{actual:e.length,maxSeeds:WM});let n;const r=e.reduce((c,u,d)=>{const f=typeof u=="string"?(n||(n=new TextEncoder)).encode(u):u;if(f.byteLength>zM)throw new nt(dOe,{actual:f.byteLength,index:d,maxSeedLength:zM});return c.push(...f),c},[]),i=MRe(),s=i.encode(t),o=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...VRe])),a=new Uint8Array(o);if(WRe(a))throw new nt(CH);return i.decode(a)}async function HRe({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await qRe({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(NH(r,CH))n--;else throw r}throw new nt(hOe)}async function UH(t){if(BH(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new nt(lOe);const e=await crypto.subtle.exportKey("raw",t);return f0().decode(new Uint8Array(e))}function FH(t,e,n,r){if(r<e||r>n)throw new nt(VOe,{codecDescription:t,max:n,min:e,value:r})}function jH(t){return(t==null?void 0:t.endian)!==1}function TC(t){return ui({fixedSize:t.size,write(e,n,r){t.range&&FH(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,jH(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function zH(t){return Ci({fixedSize:t.size,read(e,n=0){pRe(t.name,e,n),vC(t.name,t.size,e,n);const r=new DataView(u1(e,n,t.size));return[t.get(r,jH(t.config)),n+t.size]}})}var Bd=()=>ui({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{FH("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const o=127&s;r[i]=o,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),ou=()=>Ci({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],o=127&s;if(n|=o<<i*7,(s&128)===0)break}return[n,e+r]}}),KRe=(t={})=>TC({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),GRe=(t={})=>zH({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4}),YRe=(t={})=>TC({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),tp=()=>TC({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),fy=()=>zH({get:t=>t.getUint8(0),name:"u8",size:1});function ZRe(t,e,n){if(e!==n)throw new nt(WOe,{actual:n,codecDescription:t,expected:e})}function JRe(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function np(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function p0(t){return ur(t)?t.fixedSize:null}function Ep(t){return ur(t)?t.fixedSize:t.maxSize??null}function rp(t,e={}){const n=e.size??KRe(),r=d1(n,p0(t)),i=d1(n,Ep(t))??void 0;return ui({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?Ld(s.length,n):0)+[...s].reduce((a,c)=>a+Ld(c,t),0),maxSize:i},write:(s,o,a)=>(typeof n=="number"&&ZRe("array",n,s.length),typeof n=="object"&&(a=n.write(s.length,o,a)),s.forEach(c=>{a=t.write(c,o,a)}),a)})}function Ud(t,e={}){const n=e.size??GRe(),r=p0(t),i=d1(n,r),s=d1(n,Ep(t))??void 0;return Ci({...i!==null?{fixedSize:i}:{maxSize:s},read:(o,a)=>{const c=[];if(typeof n=="object"&&o.slice(a).length===0)return[c,a];if(n==="remainder"){for(;a<o.length;){const[f,p]=t.read(o,a);a=p,c.push(f)}return[c,a]}const[u,d]=typeof n=="number"?[n,a]:n.read(o,a);a=d;for(let f=0;f<u;f+=1){const[p,m]=t.read(o,a);a=m,c.push(p)}return[c,a]}})}function d1(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function IC(){return ui({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function w5(){return Ci({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function XRe(t){return ui({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function QRe(t){const e=np(t.map(p0)),n=np(t.map(Ep))??void 0;return Ci({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(o=>{const[a,c]=o.read(r,i);s.push(a),i=c}),[s,i]}})}function e4e(t,e){const n=t4e(t),r=(s,o,a)=>{const c=e(s);return VM(t,c),t[c].write(s,o,a)};if(n!==null)return ui({fixedSize:n,write:r});const i=n4e(t);return ui({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const o=e(s);return VM(t,o),Ld(s,t[o])},write:r})}function VM(t,e){if(typeof t[e]>"u")throw new nt(KOe,{maxRange:t.length-1,minRange:0,variant:e})}function t4e(t){if(t.length===0)return 0;if(!ur(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>ur(r)&&r.fixedSize===e)?e:null}function n4e(t){return JRe(t.map(e=>Ep(e)))}function pu(t){const e=t.map(([,i])=>i),n=np(e.map(p0)),r=np(e.map(Ep))??void 0;return ui({...n===null?{getSizeFromValue:i=>t.map(([s,o])=>Ld(i[s],o)).reduce((s,o)=>s+o,0),maxSize:r}:{fixedSize:n},write:(i,s,o)=>(t.forEach(([a,c])=>{o=c.write(i[a],s,o)}),o)})}function m0(t){const e=t.map(([,i])=>i),n=np(e.map(p0)),r=np(e.map(Ep))??void 0;return Ci({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const o={};return t.forEach(([a,c])=>{const[u,d]=c.read(i,s);s=d,o[a]=u}),[o,s]}})}function th(t,...e){return e.reduce((n,r)=>r(n),t)}var _r=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(_r||{}),r4e=2,i4e=1;function ip(t){return t>=2}function py(t){return(t&i4e)!==0}function qM(t,e){return t|e}function s4e(t){return t|r4e}function o4e(t){return $Re(t)}function a4e(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&o4e(t.lifetimeConstraint.blockhash)}function c4e(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function l4e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new nt(c1,{alphabet:t,base:t.length,value:n})}var u4e=t=>ui({getSizeFromValue:e=>{const[n,r]=HM(e,t[0]);if(!r)return e.length;const i=KM(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(l4e(t,e),e==="")return r;const[i,s]=HM(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let o=KM(s,t);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(i.length).fill(0),...a];return n.set(c,r),r+c.length}}),d4e=t=>Ci({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const o=r.slice(i).reduce((c,u)=>c*256n+BigInt(u),0n),a=h4e(o,t);return[s+a,e.length]}});function HM(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function KM(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function h4e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var WH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",f4e=()=>u4e(WH),p4e=()=>d4e(WH),cA;function m4e(){if(!cA){const t=rp(tp(),{size:Bd()});cA=pu([["lookupTableAddress",Nf()],["writableIndexes",t],["readonlyIndexes",t]])}return cA}var lA;function g4e(){if(!lA){const t=Ud(fy(),{size:ou()});lA=m0([["lookupTableAddress",f0()],["writableIndexes",t],["readonlyIndexes",t]])}return lA}var uA;function dA(){return uA||(uA=tp()),uA}var hA;function fA(){return hA||(hA=fy()),hA}function y4e(){return pu([["numSignerAccounts",dA()],["numReadonlySignerAccounts",dA()],["numReadonlyNonSignerAccounts",dA()]])}function w4e(){return m0([["numSignerAccounts",fA()],["numReadonlySignerAccounts",fA()],["numReadonlyNonSignerAccounts",fA()]])}var pA;function b4e(){return pA||(pA=_p(pu([["programAddressIndex",tp()],["accountIndices",rp(tp(),{size:Bd()})],["data",mRe(IC(),Bd())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),pA}var mA;function v4e(){return mA||(mA=xC(m0([["programAddressIndex",fy()],["accountIndices",Ud(fy(),{size:ou()})],["data",gRe(w5(),ou())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),mA}var VH=0,b5=128;function _4e(){return ui({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new nt(TOe,{actualVersion:t});if(t>VH)throw new nt(PH,{unsupportedVersion:t});return e.set([t|b5],n),n+1}})}function qH(){return Ci({maxSize:1,read:(t,e)=>{const n=t[e];if((n&b5)===0)return["legacy",e];{const r=n^b5;if(r>VH)throw new nt(PH,{unsupportedVersion:r});return[r,e+1]}}})}function GM(){return pu(HH())}function YM(){return _p(pu([...HH(),["addressTableLookups",x4e()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function HH(){const t=e4e([XRe(new Uint8Array(32)),_C(f4e(),32)],e=>e===void 0?0:1);return[["version",_4e()],["header",y4e()],["staticAccounts",rp(Nf(),{size:Bd()})],["lifetimeToken",t],["instructions",rp(b4e(),{size:Bd()})]]}function E4e(){return[["version",qH()],["header",w4e()],["staticAccounts",Ud(f0(),{size:ou()})],["lifetimeToken",EC(p4e(),32)],["instructions",Ud(v4e(),{size:ou()})],["addressTableLookups",S4e()]]}function x4e(){return rp(m4e(),{size:Bd()})}function S4e(){return Ud(g4e(),{size:ou()})}function A4e(){return ui({getSizeFromValue:t=>t.version==="legacy"?GM().getSizeFromValue(t):YM().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?GM().write(t,e,n):YM().write(t,e,n)})}function T4e(){return xC(m0(E4e()),({addressTableLookups:t,...e})=>e.version==="legacy"||!(t!=null&&t.length)?e:{...e,addressTableLookups:t})}function ZM(t,e,n){t[e]=n(t[e]??{role:_r.READONLY})}var gr=Symbol("AddressMapTypeProperty");function I4e(t,e){const n={[t]:{[gr]:0,role:_r.WRITABLE_SIGNER}},r=new Set;for(const i of e){ZM(n,i.programAddress,o=>{if(r.add(i.programAddress),gr in o){if(py(o.role))switch(o[gr]){case 0:throw new nt(AOe,{programAddress:i.programAddress});default:throw new nt(MM,{programAddress:i.programAddress})}if(o[gr]===2)return o}return{[gr]:2,role:_r.READONLY}});let s;if(i.accounts)for(const o of i.accounts)ZM(n,o.address,a=>{const{address:c,...u}=o;if(gr in a)switch(a[gr]){case 0:return a;case 1:{const d=qM(a.role,u.role);if("lookupTableAddress"in u){if(a.lookupTableAddress!==u.lookupTableAddress&&(s||(s=AC()))(u.lookupTableAddress,a.lookupTableAddress)<0)return{[gr]:1,...u,role:d}}else if(ip(u.role))return{[gr]:2,role:d};return a.role!==d?{...a,role:d}:a}case 2:{const d=qM(a.role,u.role);if(r.has(o.address)){if(py(u.role))throw new nt(MM,{programAddress:o.address});return a.role!==d?{...a,role:d}:a}else return"lookupTableAddress"in u&&!ip(a.role)?{...u,[gr]:1,role:d}:a.role!==d?{...a,role:d}:a}}return"lookupTableAddress"in u?{...u,[gr]:1}:{...u,[gr]:2}})}return n}function k4e(t){let e;return Object.entries(t).sort(([r,i],[s,o])=>{if(i[gr]!==o[gr]){if(i[gr]===0)return-1;if(o[gr]===0)return 1;if(i[gr]===2)return-1;if(o[gr]===2)return 1}const a=ip(i.role);if(a!==ip(o.role))return a?-1:1;const c=py(i.role);return c!==py(o.role)?c?-1:1:(e||(e=AC()),i[gr]===1&&o[gr]===1&&i.lookupTableAddress!==o.lookupTableAddress?e(i.lookupTableAddress,o.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function C4e(t){var n;const e={};for(const r of t){if(!("lookupTableAddress"in r))continue;const i=e[n=r.lookupTableAddress]||(e[n]={readonlyIndexes:[],writableIndexes:[]});r.role===_r.WRITABLE?i.writableIndexes.push(r.addressIndex):i.readonlyIndexes.push(r.addressIndex)}return Object.keys(e).sort(AC()).map(r=>({lookupTableAddress:r,...e[r]}))}function P4e(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=py(i.role);ip(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function O4e(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function R4e(t,e){const n=O4e(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:o})=>n[o])}:null,...i?{data:i}:null}))}function N4e(t){return"nonce"in t?t.nonce:t.blockhash}function $4e(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function D4e(t){const e=I4e(t.feePayer.address,t.instructions),n=k4e(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:C4e(n)}:null,...r?{lifetimeToken:N4e(r)}:null,header:P4e(n),instructions:R4e(t.instructions,n),staticAccounts:$4e(n),version:t.version}}function M4e(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var KH="SysvarRecentB1ockHashes11111111111111111111",GH="11111111111111111111111111111111";function JM(t,e){return{accounts:[{address:t,role:_r.WRITABLE},{address:KH,role:_r.READONLY},{address:e,role:_r.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:GH}}function kC(t){var e;return t.programAddress===GH&&t.data!=null&&L4e(t.data)&&((e=t.accounts)==null?void 0:e.length)===3&&t.accounts[0].address!=null&&t.accounts[0].role===_r.WRITABLE&&t.accounts[1].address===KH&&t.accounts[1].role===_r.READONLY&&t.accounts[2].address!=null&&ip(t.accounts[2].role)}function L4e(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function YH(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&kC(t.instructions[0])}function B4e(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function U4e({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&kC(s))if(B4e(s,e,n)){if(YH(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(JM(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(JM(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function F4e(t,e){var r;if("feePayer"in e&&t===((r=e.feePayer)==null?void 0:r.address)&&j4e(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function j4e(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function z4e(t,e){return W4e([t],e)}function W4e(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function V4e(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let o=0;o<n;o++)i.push({address:t.staticAccounts[s],role:_r.WRITABLE_SIGNER}),s++;for(let o=0;o<e.numReadonlySignerAccounts;o++)i.push({address:t.staticAccounts[s],role:_r.READONLY_SIGNER}),s++;for(let o=0;o<r;o++)i.push({address:t.staticAccounts[s],role:_r.WRITABLE}),s++;for(let o=0;o<e.numReadonlyNonSignerAccounts;o++)i.push({address:t.staticAccounts[s],role:_r.READONLY}),s++;return i}function q4e(t,e){const r=t.map(o=>o.lookupTableAddress).filter(o=>e[o]===void 0);if(r.length>0)throw new nt(IOe,{lookupTableAddresses:r});const i=[],s=[];for(const o of t){const a=e[o.lookupTableAddress],c=o.readonlyIndexes,u=o.writableIndexes,d=Math.max(...c,...u);if(d>=a.length)throw new nt(kOe,{highestKnownIndex:a.length-1,highestRequestedIndex:d,lookupTableAddress:o.lookupTableAddress});const f=c.map(m=>({address:a[m],addressIndex:m,lookupTableAddress:o.lookupTableAddress,role:_r.READONLY}));i.push(...f);const p=u.map(m=>({address:a[m],addressIndex:m,lookupTableAddress:o.lookupTableAddress,role:_r.WRITABLE}));s.push(...p)}return[...s,...i]}function H4e(t,e){var s,o;const n=(s=e[t.programAddressIndex])==null?void 0:s.address;if(!n)throw new nt(COe,{index:t.programAddressIndex});const r=(o=t.accountIndices)==null?void 0:o.map(a=>e[a]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function K4e(t,e,n){if(!e||!kC(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;y5(r);const i=e.accounts[2].address;return y5(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function fVe(t,e){const n=t.staticAccounts[0];if(!n)throw new nt(POe);const r=V4e(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?q4e(t.addressTableLookups,{}):[],s=[...r,...i],o=t.instructions.map(u=>H4e(u,s)),a=o[0],c=K4e(t.lifetimeToken,a);return th(M4e({version:t.version}),u=>F4e(n,u),u=>o.reduce((d,f)=>z4e(f,d),u),u=>"blockhash"in c?c4e(c,u):U4e(c,u))}var V_=Object.freeze({name:"Ed25519"});function G4e(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function v5(t,e=!1){const n=t.byteLength;if(n!==32)throw new nt(_Oe,{actualLength:n});const r=G4e(t);return await crypto.subtle.importKey("pkcs8",r,V_,e,["sign"])}async function Y4e(t,e=!1){if(BH(),t.extractable===!1)throw new nt(wOe,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function CC(t,e){ORe();const n=await crypto.subtle.sign(V_,t,u1(e));return new Uint8Array(n)}async function Z4e(t,e,n){return RRe(),await crypto.subtle.verify(V_,t,u1(e),u1(n))}async function J4e(t,e=!1){if(CRe(),t.byteLength!==64)throw new nt(vOe,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),V_,!0,["verify"]),v5(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await CC(r,i);if(!await Z4e(n,s,i))throw new nt(EOe);return{privateKey:r,publicKey:n}}async function X4e(t,e=!1){const n=v5(t,e),[r,i]=await Promise.all([(e?n:v5(t,!0)).then(async s=>await Y4e(s,!0)),n]);return{privateKey:i,publicKey:r}}function Q4e(t){const e=Object.values(t);if(e.length===0)throw new nt(ROe);return e.map(n=>n||new Uint8Array(64).fill(0))}function eNe(){return _p(rp(_C(IC(),64),{size:Bd()}),Q4e)}function tNe(){return pu([["signatures",eNe()],["messageBytes",IC()]])}function nNe(){return xC(m0([["signatures",Ud(EC(w5(),64),{size:ou()})],["messageBytes",w5()]]),rNe)}function rNe(t){const{messageBytes:e,signatures:n}=t,r=QRe([qH(),vRe(fy(),2),Ud(f0(),{size:ou()})]),[i,s,o]=r.decode(e),a=o.slice(0,s);if(a.length!==n.length)throw new nt(NOe,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:a});const c={};return a.forEach((u,d)=>{const f=n[d];f.every(p=>p===0)?c[u]=null:c[u]=f}),{messageBytes:e,signatures:Object.freeze(c)}}function pVe(t){const e=D4e(t),n=A4e().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const o of r)i[o]=null;let s;return a4e(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:YH(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function iNe(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await UH(i.publicKey),o=e.signatures[s];if(o===void 0){r||(r=new Set),r.add(s);return}if(r)return;const a=await CC(i.privateKey,e.messageBytes);o!==null&&dRe(a,o)||(n||(n={}),n[s]=a)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new nt(OOe,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function sNe(t){const e=tNe().encode(t);return kRe().decode(e)}function XM(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function oNe(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var gA=new WeakMap;async function aNe(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!XM(s)){Promise.resolve(s).then(r,i);continue}let o=gA.get(s);o===void 0?(o=oNe(s),o.deferreds.add(e),gA.set(s,o)):o.settled?Promise.resolve(s).then(r,i):o.deferreds.add(e)}}).finally(()=>{for(const r of t)XM(r)&&gA.get(r).deferreds.delete(e)})}function ZH(t){return JSON.parse(cNe(t),(e,n)=>hNe(n)?dNe(n):n)}function cNe(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=lNe(t,r);if(s!=null&&s.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push(uNe(s));continue}}e.push(t[r])}return e.join("")}function lNe(t,e){var i;const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!((i=t[e])!=null&&i.match(/[-\d]/)))return null;const r=t.slice(e).match(n);return r?r[0]:null}function uNe(t){return`{"$n":"${t}"}`}function dNe({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function hNe(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var QM=0n;function fNe(){const t=QM;return QM++,t.toString()}function _5(t){return{id:fNe(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function JH(t,e){return mNe(JSON.stringify(t,(n,r)=>typeof r=="bigint"?pNe(r):r,e))}function pNe(t){return{$n:`${t}`}}function mNe(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function gNe(t){return yNe(t)}function yNe(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),o=Reflect.get(e,s,r);if(!o)throw new nt(YOe,{method:s,params:i});const a=o(...i);return wNe(t,a)}}})}function wNe({transport:t},e){return{async send(n){return await e.execute({signal:n==null?void 0:n.abortSignal,transport:t})}}}function bNe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const o=Object.freeze({methodName:i,params:s}),a=t!=null&&t.requestTransformer?t==null?void 0:t.requestTransformer(o):o;return Object.freeze({execute:async({signal:c,transport:u})=>{const d=_5(a),f=await u({payload:d,signal:c});return t!=null&&t.responseTransformer?t.responseTransformer(f,a):f}})}}})}function XH(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function vNe(t){return typeof t=="bigint"?Number(t):t}var Re={};function QH(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const o={...r,keyPath:[...r.keyPath,s]};return e(i,o)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const o={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],o)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function eK(t,e){return n=>{const r=QH(t);return Object.freeze({...n,params:r(n.params,e)})}}function tK(t,e){return n=>QH(t)(n,e)}function _Ne(){return eK([vNe],{keyPath:[]})}function ENe({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:o,...a}=i;return Object.keys(a).length>0?s[n]=a:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function xNe({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:ENe({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function SNe(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function ANe(t){return e=>eK([SNe((...r)=>t(e,...r))],{keyPath:[]})(e)}var TNe={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function nK(t){const e=t==null?void 0:t.onIntegerOverflow;return n=>th(n,e?ANe(e):r=>r,_Ne(),xNe({defaultCommitment:t==null?void 0:t.defaultCommitment,optionsObjectPositionByMethod:TNe}))}function rK(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?INe(r,t)?Number(n):BigInt(n):n}}function INe(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==Re||typeof i!="number"))return!1}return!0})}function iK(t){return tK([rK(t)],{keyPath:[]})}function kNe(){return t=>t.result}var E5=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Re,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Re,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Re,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Re,"state","currentRate"]],ld=[...E5,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Re,"confirmationCount"]],Hb=[["index"],["instructions",Re,"accounts",Re],["instructions",Re,"programIdIndex"],["instructions",Re,"stackHeight"]],e9=[["addressTableLookups",Re,"writableIndexes",Re],["addressTableLookups",Re,"readonlyIndexes",Re],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Re,"accounts",Re],["instructions",Re,"programIdIndex"],["instructions",Re,"stackHeight"]];function CNe(){return[["loadedAccountsDataSize"],...ld.map(t=>["accounts",Re,...t]),...Hb.map(t=>["innerInstructions",Re,...t])]}function PNe(){return(t,e)=>{const n=t;if("error"in n){const{error:r}=n;if(r&&typeof r=="object"&&"code"in r&&(r.code===-32002||r.code===-32002n)&&"data"in r&&r.data){const o=tK([rK(CNe())],{keyPath:[]})(r.data,e),a={...r,data:o};throw l1(a)}throw l1(n.error)}return n}}function ONe(t){return(e,n)=>{const r=n.methodName,i=t!=null&&t.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return th(e,s=>PNe()(s,n),s=>kNe()(s,n),s=>iK(i??[])(s,n))}}function RNe(t){return(e,n)=>{const r=n.methodName,i=t!=null&&t.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return th(e,s=>iK(i??[])(s,n))}}function NNe(t){return bNe({requestTransformer:nK(t),responseTransformer:ONe({allowedNumericKeyPaths:$Ne()})})}var yA;function $Ne(){return yA||(yA={getAccountInfo:ld.map(t=>["value",...t]),getBlock:[["transactions",Re,"meta","preTokenBalances",Re,"accountIndex"],["transactions",Re,"meta","preTokenBalances",Re,"uiTokenAmount","decimals"],["transactions",Re,"meta","postTokenBalances",Re,"accountIndex"],["transactions",Re,"meta","postTokenBalances",Re,"uiTokenAmount","decimals"],["transactions",Re,"meta","rewards",Re,"commission"],...Hb.map(t=>["transactions",Re,"meta","innerInstructions",Re,...t]),...e9.map(t=>["transactions",Re,"transaction","message",...t]),["rewards",Re,"commission"]],getClusterNodes:[[Re,"featureSet"],[Re,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Re,"commission"]],getMultipleAccounts:ld.map(t=>["value",Re,...t]),getProgramAccounts:ld.flatMap(t=>[["value",Re,"account",...t],[Re,"account",...t]]),getRecentPerformanceSamples:[[Re,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:E5.map(t=>["value",Re,"account",...t]),getTokenAccountsByOwner:E5.map(t=>["value",Re,"account",...t]),getTokenLargestAccounts:[["value",Re,"decimals"],["value",Re,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Re,"accountIndex"],["meta","preTokenBalances",Re,"uiTokenAmount","decimals"],["meta","postTokenBalances",Re,"accountIndex"],["meta","postTokenBalances",Re,"uiTokenAmount","decimals"],["meta","rewards",Re,"commission"],...Hb.map(t=>["meta","innerInstructions",Re,...t]),...e9.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",Re,"commission"],["delinquent",Re,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...ld.map(t=>["value","accounts",Re,...t]),...Hb.map(t=>["value","innerInstructions",Re,...t])]}),yA}function DNe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function MNe(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const o=n&&DNe(n);return async function({payload:c,signal:u}){const d=r?r(c):JSON.stringify(c),f={...s,body:d,headers:{...o,accept:"application/json","content-length":d.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:u},p=await fetch(i,f);if(!p.ok)throw new nt(GOe,{headers:p.headers,message:p.statusText,statusCode:p.status});return e?e(await p.text(),c):await p.json()}}var LNe=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function t9(t){return XH(t)&&LNe.includes(t.method)}function BNe(t){return MNe({...t,fromJson:(e,n)=>t9(n)?ZH(e):JSON.parse(e),toJson:e=>t9(e)?JH(e):JSON.stringify(e)})}var UNe=Object.prototype.toString,FNe=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function Xm(t,e){let n,r,i,s,o,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return Xm(t.toJSON(),e);if(c=UNe.call(t),c==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Xm(t[n],!0)+",";return r>-1&&(i+=Xm(t[n],!0)),i+"]"}else if(c==="[object Object]"){for(s=FNe(t).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=Xm(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function sK(t){const e=Xm(t,!1);if(e!==void 0)return""+e}function oK(t,e,n){let r="";if(typeof e[0]=="number"){const o=e[0]+1,a=o%10,c=o%100;a==1&&c!=11?r=o+"st":a==2&&c!=12?r=o+"nd":a==3&&c!=13?r=o+"rd":r=o+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(o=>typeof o=="number"?`[${o}]`:o).join("."):void 0,s=new nt(OH,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return z_(s,oK),s}var jNe={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw oK(t.methodName,e,n)}},zNe=globalThis.AbortController,n9;function r9(){return{}}function WNe(t,e){let n;return async function(i){const{payload:s,signal:o}=i,a=e(s);if(a===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[a]==null){const u=new zNe,d=(async()=>{try{return await t({...i,signal:u.signal})}catch(f){if(f===(n9||(n9=r9())))return;throw f}})();n[a]={abortController:u,numConsumers:0,responsePromise:d}}const c=n[a];if(c.numConsumers++,o){const u=c.responsePromise;return await new Promise((d,f)=>{const p=m=>{o.removeEventListener("abort",p),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(n9||(n9=r9()))}),f(m.target.reason)};o.addEventListener("abort",p),u.then(d).catch(f).finally(()=>{o.removeEventListener("abort",p)})})}else return await c.responsePromise}}function VNe(t){return XH(t)?sK([t.method,t.params]):void 0}function qNe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function HNe(t){return th(BNe({...t,headers:{...t.headers?qNe(t.headers):void 0,"solana-client":"js/5.4.0"}}),e=>WNe(e,VNe))}function aK(t,e){return KNe(HNe({url:t,...e}))}function KNe(t){return gNe({api:NNe(jNe),transport:t})}var GNe=globalThis.AbortController,YNe=globalThis.EventTarget,i9;function s9(){return Symbol(void 0)}var wA=Symbol();function ZNe({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(u){for(const[d,f]of i.entries())f.__hasPolled?(i.delete(d),f.onError(u)):f.publishQueue.push({__type:1,err:u})}const o=new GNe;t.addEventListener("abort",()=>{o.abort(),s(i9||(i9=s9()))});const a={signal:o.signal};let c=wA;return n.on(r,u=>{c===wA&&(c=u,o.abort(),s(u))},a),n.on(e,u=>{i.forEach((d,f)=>{if(d.__hasPolled){const{onData:p}=d;i.set(f,{__hasPolled:!1,publishQueue:[]}),p(u)}else d.publishQueue.push({__type:0,data:u})})},a),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(c!==wA)throw c;const u=Symbol();i.set(u,{__hasPolled:!1,publishQueue:[]});try{for(;;){const d=i.get(u);if(!d)throw new nt(eRe);if(d.__hasPolled)throw new nt(tRe);const f=d.publishQueue;try{if(f.length){d.publishQueue=[];for(const p of f)if(p.__type===0)yield p.data;else throw p.err}else yield await new Promise((p,m)=>{i.set(u,{__hasPolled:!0,onData:p,onError:m})})}catch(p){if(p===(i9||(i9=s9())))return;throw p}}}finally{i.delete(u)}}}}function cK(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const o=s.detail;n(o)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function JNe(t,e,n){let r;const i=new YNe,s=cK(i);return{...s,on(o,a,c){r||(r={dispose:t.on(e,m=>{const y=n(m);if(!y)return;const[w,v]=y;i.dispatchEvent(new CustomEvent(w,{detail:v}))}),numSubscribers:0}),r.numSubscribers++;const u=s.on(o,a,c);let d=!0;function f(){d&&(d=!1,c==null||c.signal.removeEventListener("abort",f),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),u())}return c==null||c.signal.addEventListener("abort",f),f}}}function XNe(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),o=Reflect.get(e,s,r);if(!o)throw new nt(ZOe,{notificationName:s});const a=o(...i);return QNe(t.transport,a)}}})}function QNe(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return ZNe({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function e$e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const o={methodName:i,params:s},a=t.requestTransformer?t.requestTransformer(o):o;return{execute(c){return t.planExecutor({...c,request:a})},request:a}}}})}function t$e(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function n$e(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var r$e=globalThis.AbortController,x5=new WeakMap;function i$e(t,e){return lK(-1,t,e)}function s$e(t,e){lK(1,t,e)}function o$e(t){let e=x5.get(t);return e||x5.set(t,e={}),e}function lK(t,e,n){if(n===void 0)return;const r=o$e(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var o9=new WeakMap;function a$e(t,e,n){let r=o9.get(t);r||o9.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=JNe(t,"message",o=>{const a=o;if(!("method"in a))return;const c=n?n(a.params.result,e):a.params.result;return[`notification:${a.params.subscription}`,c]})),s}async function c$e({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,x5.delete(t)},{signal:n});const o=new Promise((f,p)=>{function m(){if(i$e(t,s)===0){const y=_5({methodName:i,params:[s]});s=void 0,t.send(y).catch(()=>{})}p(this.reason)}n.aborted?m.call(n):n.addEventListener("abort",m)}),a=_5(r);await t.send(a);const c=new Promise((f,p)=>{const m=new r$e;n.addEventListener("abort",m.abort.bind(m));const y={signal:m.signal};t.on("error",w=>{m.abort(),p(w)},y),t.on("message",w=>{w&&typeof w=="object"&&"id"in w&&w.id===a.id&&(m.abort(),"error"in w?p(l1(w.error)):f(w.result))},y)});if(s=await aNe([o,c]),s==null)throw new nt(JOe);s$e(t,s);const u=a$e(t,r,e),d=`notification:${s}`;return{on(f,p,m){switch(f){case"notification":return u.on(d,p,m);case"error":return t.on("error",p,m);default:throw new nt(nRe,{channelName:f,supportedChannelNames:["notification","error"]})}}}}function l$e(t){const e=nK(t),n=RNe({allowedNumericKeyPaths:d$e()});return e$e({planExecutor({request:r,...i}){return c$e({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function u$e(t){return l$e(t)}var bA;function d$e(){return bA||(bA={accountNotifications:ld.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",Re,"meta","preTokenBalances",Re,"accountIndex"],["value","block","transactions",Re,"meta","preTokenBalances",Re,"uiTokenAmount","decimals"],["value","block","transactions",Re,"meta","postTokenBalances",Re,"accountIndex"],["value","block","transactions",Re,"meta","postTokenBalances",Re,"uiTokenAmount","decimals"],["value","block","transactions",Re,"meta","rewards",Re,"commission"],["value","block","transactions",Re,"meta","innerInstructions",Re,"index"],["value","block","transactions",Re,"meta","innerInstructions",Re,"instructions",Re,"programIdIndex"],["value","block","transactions",Re,"meta","innerInstructions",Re,"instructions",Re,"accounts",Re],["value","block","transactions",Re,"transaction","message","addressTableLookups",Re,"writableIndexes",Re],["value","block","transactions",Re,"transaction","message","addressTableLookups",Re,"readonlyIndexes",Re],["value","block","transactions",Re,"transaction","message","instructions",Re,"programIdIndex"],["value","block","transactions",Re,"transaction","message","instructions",Re,"accounts",Re],["value","block","transactions",Re,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",Re,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",Re,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",Re,"commission"]],programNotifications:ld.flatMap(t=>[["value",Re,"account",...t],[Re,"account",...t]])}),bA}var h$e=globalThis.EventTarget,$m=globalThis.WebSocket,a9=1e3;function f$e({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function o(){s.forEach(E=>{E()}),s.clear()}function a(){o(),i||w(e.reason),y.readyState!==$m.CLOSED&&y.readyState!==$m.CLOSING&&y.close(a9)}function c(E){o(),r==null||r.onCancel(),e.removeEventListener("abort",a),y.removeEventListener("close",c),y.removeEventListener("error",u),y.removeEventListener("message",d),y.removeEventListener("open",m),!e.aborted&&!(E.wasClean&&E.code===a9)&&f.dispatchEvent(new CustomEvent("error",{detail:new nt(g5,{cause:E})}))}function u(E){if(!e.aborted&&!i){const k=new nt(QOe,{errorEvent:E});w(k),f.dispatchEvent(new CustomEvent("error",{detail:k}))}}function d(E){e.aborted||f.dispatchEvent(new CustomEvent("message",{detail:E.data}))}const f=new h$e,p=cK(f);function m(){i=!0,v({...p,async send(E){if(y.readyState!==$m.OPEN)throw new nt(g5);if(!r&&y.bufferedAmount>t){let k;const _=new Promise((x,A)=>{const T=setInterval(()=>{(y.readyState!==$m.OPEN||!(y.bufferedAmount>t))&&(clearInterval(T),r=void 0,x())},16);k=()=>{r=void 0,clearInterval(T),A(new nt(XOe))}});r={onCancel:k,promise:_}}if(r){if(ArrayBuffer.isView(E)&&!(E instanceof DataView)){const k=E.constructor;E=new k(E)}await r.promise}y.send(E)}})}const y=new $m(n);e.addEventListener("abort",a),y.addEventListener("close",c),y.addEventListener("error",u),y.addEventListener("message",d),y.addEventListener("open",m);let w,v;return new Promise((E,k)=>{w=k,v=E})}function uK(t,e,n){let r="";if(typeof e[0]=="number"){const o=e[0]+1,a=o%10,c=o%100;a==1&&c!=11?r=o+"st":a==2&&c!=12?r=o+"nd":a==3&&c!=13?r=o+"rd":r=o+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(o=>typeof o=="number"?`[${o}]`:o).join("."):void 0,s=new nt(OH,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return z_(s,uK),s}var p$e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw uK(t.methodName,e,n)}},PC=globalThis.AbortController,m$e={jsonrpc:"2.0",method:"ping"};function g$e({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(m$e).catch(a=>{NH(a,g5)&&o.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const o=new PC;return o.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{o.abort()}),e.on("error",()=>{o.abort()},{signal:o.signal}),e.on("message",s,{signal:o.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:o.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:o.signal}),{...e,send(...a){return o.signal.aborted||s(),e.send(...a)}}}function y$e(){return{entries:[],freeChannelIndex:-1}}function w$e(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=y$e();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let o=0;o<r.entries.length;o++){const a=(r.freeChannelIndex+o+2)%r.entries.length,c=r.entries[a];c.subscriptionCount<e&&(!s||s.subscriptionCount>=c.subscriptionCount)&&(s={poolIndex:a,subscriptionCount:c.subscriptionCount})}r.freeChannelIndex=(s==null?void 0:s.poolIndex)??-1}return function({abortSignal:o}){let a;function c(){const u=r.entries.findIndex(d=>d===a);r.entries.splice(u,1),a.dispose(),i()}if(r.freeChannelIndex===-1){const u=new PC,d=t({abortSignal:u.signal});d.then(f=>{f.on("error",c,{signal:u.signal})}).catch(c),a={channel:d,dispose(){u.abort()},subscriptionCount:0},r.entries.push(a)}else a=r.entries[r.freeChannelIndex];return a.subscriptionCount++,o.addEventListener("abort",function(){a.subscriptionCount--,a.subscriptionCount===0?c():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),a.channel}}function b$e(t){return th(t,e=>t$e(e,ZH),e=>n$e(e,JH))}function v$e(t){return _$e({...t,jsonSerializer:b$e})}function _$e(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return w$e((({abortSignal:i})=>f$e({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>g$e({abortSignal:i,channel:s,intervalMs:e??5e3}))),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function E$e(t){const e=new Map;return function(r){const{request:i,signal:s}=r,o=sK([i.methodName,i.params]);let a=e.get(o);if(!a){const c=new PC,u=t({...r,signal:c.signal});u.then(d=>{d.on("error",()=>{e.delete(o),c.abort()},{signal:c.signal})}).catch(()=>{}),e.set(o,a={abortController:c,dataPublisherPromise:u,numSubscribers:0})}return a.numSubscribers++,s.addEventListener("abort",()=>{a.numSubscribers--,a.numSubscribers===0&&queueMicrotask(()=>{a.numSubscribers===0&&(e.delete(o),a.abortController.abort())})},{signal:a.abortController.signal}),a.dataPublisherPromise}}function x$e({createChannel:t}){return th(S$e(t),e=>E$e(e))}function S$e(t){return(async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})})}function A$e(t,e){const n=x$e({createChannel:v$e({...e,url:t})});return T$e(n)}function c9(t,e){return A$e(t,e)}function T$e(t){return XNe({api:u$e(p$e),transport:t})}function dK(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function hK(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function I$e(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function fK(t){return hK(t)||dK(t)||I$e(t)}function mVe(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function pK(t){const e=await UH(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await CC(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await iNe([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function k$e(t,e){return await pK(await J4e(t,e))}async function C$e(t,e){return await pK(await X4e(t,e))}var P$e="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",mK="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function O$e(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function gK(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:_r.READONLY});const r=n.isWritable?_r.WRITABLE:_r.READONLY;return Object.freeze({address:O$e(n.value),role:l9(n.value)?s4e(r):r,...l9(n.value)?{signer:n.value}:{}})}}function l9(t){return!!t&&typeof t=="object"&&"address"in t&&fK(t)}async function gVe(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await HRe({programAddress:n,seeds:[Nf().encode(t.owner),Nf().encode(t.tokenProgram),Nf().encode(t.mint)]})}var R$e=1;function N$e(){return _p(pu([["discriminator",tp()]]),t=>({...t,discriminator:R$e}))}function yVe(t,e){const n=P$e,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=gK(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:N$e().encode({}),programAddress:n})}var $$e=3;function D$e(){return _p(pu([["discriminator",tp()],["amount",YRe()]]),t=>({...t,discriminator:$$e}))}function wVe(t,e){const n=mK,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},o=(s.multiSigners??[]).map(c=>({address:c.address,role:_r.READONLY_SIGNER,signer:c})),a=gK(n);return Object.freeze({accounts:[a(i.source),a(i.destination),a(i.authority),...o],data:D$e().encode(s),programAddress:n})}var M$e="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";oj([bn().transform(t=>t.replace(/[^0-9.-]+/g,"")),co()]).pipe(vae.number().min(1e-4).max(999999999));var q_=Ka(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),L$e=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],B$e=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),yK=["solana-devnet","solana"];Object.fromEntries([...L$e,...yK].map(t=>[B$e.get(t),t]));var U$e={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function OC(t){const e=NC(t);return q6({chain:e,transport:K1()}).extend(av)}function F$e(){return OC("base-sepolia")}function j$e(){return OC("avalanche-fuji")}function RC(t,e){const n=NC(t),r=yoe({chain:n,transport:K1(),account:U8e(e)});return wK(n)?r.extend(av).extend(q8e()):r.extend(av)}function z$e(t){return RC("base-sepolia",t)}function W$e(t){return RC("avalanche-fuji",t)}function V$e(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function q$e(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function NC(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return p8e;case"abstract-testnet":return m8e;case"base":return SH;case"base-sepolia":return AH;case"avalanche":return x8e;case"avalanche-fuji":return S8e;case"sei":return O8e;case"sei-testnet":return R8e;case"polygon":return C8e;case"polygon-amoy":return P8e;case"peaq":return k8e;case"story":return N8e;case"educhain":return A8e;case"iotex":return T8e;case"iotex-testnet":return I8e;case"skale-base-sepolia":return U$e;default:throw new Error(`Unsupported network: ${t}`)}}var H$e=new Set([2741,11124]);function wK(t){return H$e.has(t.id)}var K$e="https://api.devnet.solana.com",G$e="https://api.mainnet-beta.solana.com",Y$e="wss://api.devnet.solana.com",Z$e="wss://api.mainnet-beta.solana.com";function bK(t){return aK(t||K$e)}function vK(t){return aK(t||G$e)}function _K(t,e){if(t==="solana-devnet")return bK(e);if(t==="solana")return vK(e);throw new Error("Invalid network")}function J$e(t,e){if(t==="solana-devnet")return c9(e?u9(e):Y$e);if(t==="solana")return c9(e?u9(e):Z$e);throw new Error("Invalid network")}function u9(t){return t.startsWith("http")?t.replace("http","ws"):t}function X$e(t){if(!yK.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return _K(t)}async function Q$e(t){const e=$pe.decode(t);if(e.length===64)return await k$e(e);if(e.length===32)return await C$e(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function eDe(t){return typeof t=="object"&&t!==null&&fK(t)}var tDe={};wC(tDe,{authorizationPrimaryType:()=>rDe,authorizationTypes:()=>nDe,config:()=>i8e,createClientAvalancheFuji:()=>j$e,createClientSepolia:()=>F$e,createConnectedClient:()=>OC,createSigner:()=>RC,createSignerAvalancheFuji:()=>W$e,createSignerSepolia:()=>z$e,getChainFromNetwork:()=>NC,isAccount:()=>q$e,isSignerWallet:()=>V$e,isZkStackChain:()=>wK,usdcABI:()=>s8e});var nDe={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},rDe="TransferWithAuthorization",iDe={};wC(iDe,{SvmAddressRegex:()=>$C});var $C=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,sDe=/^[A-Za-z0-9+/]*={0,2}$/,oDe=18,S5=/^0x[0-9a-fA-F]{40}$/,DC=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,aDe=/^0x[0-9a-fA-F]{64}$/,cDe=/^0x[0-9a-fA-F]+$/,MC=["exact"],g0=[1],LC=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],Kb=t=>Number.isInteger(Number(t))&&Number(t)>=0,lDe=t=>e=>e.length<=t,BC=bn().regex(S5).or(bn().regex($C)),uDe=bn().regex(DC).or(bn().regex($C)),y0=Xr({scheme:Ka(MC),network:q_,maxAmountRequired:bn().refine(Kb),resource:bn().url(),description:bn(),mimeType:bn(),outputSchema:pd(Vf()).optional(),payTo:BC,maxTimeoutSeconds:co().int(),asset:uDe,extra:pd(Vf()).optional()}),dDe=Xr({from:bn().regex(S5),to:bn().regex(S5),value:bn().refine(Kb).refine(lDe(oDe)),validAfter:bn().refine(Kb),validBefore:bn().refine(Kb),nonce:bn().regex(aDe)}),hDe=Xr({signature:bn().regex(cDe),authorization:dDe}),fDe=Xr({transaction:bn().regex(sDe)}),EK=Xr({x402Version:co().refine(t=>g0.includes(t)),scheme:Ka(MC),network:q_,payload:oj([hDe,fDe])});Xr({x402Version:co().refine(t=>g0.includes(t)),error:Ka(LC).optional(),accepts:G1(y0).optional(),payer:bn().regex(DC).optional()});var pDe=Ka(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),mDe=Xr({type:bae("http"),method:pDe,queryParams:pd(bn(),bn()).optional(),bodyType:Ka(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:pd(bn(),Vf()).optional(),headerFields:pd(bn(),Vf()).optional()});wae("type",[mDe]);var gDe=Xr({resource:bn(),type:Ka(["http"]),x402Version:co().refine(t=>g0.includes(t)),accepts:G1(y0),lastUpdated:yae(),metadata:pd(Vf()).optional()});Xr({paymentPayload:EK,paymentRequirements:y0});Xr({paymentPayload:EK,paymentRequirements:y0});Xr({isValid:sj(),invalidReason:Ka(LC).optional(),payer:BC.optional()});Xr({success:sj(),errorReason:Ka(LC).optional(),payer:BC.optional(),transaction:bn().regex(DC),network:q_});Xr({type:bn().optional(),limit:co().optional(),offset:co().optional()});Xr({x402Version:co().refine(t=>g0.includes(t)),items:G1(gDe),pagination:Xr({limit:co(),offset:co(),total:co()})});var yDe=Xr({x402Version:co().refine(t=>g0.includes(t)),scheme:Ka(MC),network:q_,extra:pd(Vf()).optional()});Xr({kinds:G1(yDe)});var wDe={};wC(wDe,{createDevnetRpcClient:()=>bK,createMainnetRpcClient:()=>vK,createSignerFromBase58:()=>Q$e,createSvmConnectedClient:()=>X$e,decodeTransactionFromPayload:()=>bDe,getRpcClient:()=>_K,getRpcSubscriptions:()=>J$e,getTokenPayerFromTransaction:()=>vDe,isSignerWallet:()=>eDe,signAndSimulateTransaction:()=>_De,signTransactionWithSigner:()=>xK});function bDe(t){try{const n=IRe().encode(t.transaction);return nNe().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function vDe(t){const e=T4e().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,o=n[s].toString();if(o===mK.toString()||o===M$e.toString()){const a=i.accountIndices??[];if(a.length>=4){const c=a[3],u=n[c].toString();if(u)return u}}}return""}async function _De(t,e,n){const r=await xK(t,e),i=sNe(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function xK(t,e){if(dK(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(hK(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return EDe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function EDe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}Xr({paymentHeader:bn(),paymentRequirements:y0});class Kl{static parse(e){try{return new Kl(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return WA(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=WA(e)}}class UC extends Kl{static parse(e){try{return new UC(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const bVe=({style:t,...e})=>U.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[U.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),U.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),xDe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",SDe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let Yh,Dm;class ADe extends Kd{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:SDe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Nn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw du(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Gd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((o=>o.id)))},Yh?(this.proxyProvider.setWalletProvider(Yh.getProvider()),this.setBaseAccountSdk(Yh)):this.importPromise=ze(()=>import("./index-J81TseT_.js"),__vite__mapDeps([0,1,2])).then((({createBaseAccountSDK:o})=>{Yh=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Yh.getProvider()),this.setBaseAccountSdk(Yh)})).catch(console.error)}}let TDe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class IDe extends Kd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:xDe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Nn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw du(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Dm=M4({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Dm.getProvider())}constructor(e,n,r,i){var s,o;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Gd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((a=>a.id)))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Dm){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((c=>!TDe.includes(c))):[];a.length>0&&!a.every((c=>HX.has(c)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),Dm=M4(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Dm.getProvider())}}const kDe=({...t})=>U.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:U.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class d9 extends Kd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[QT((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:kDe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:o}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function pn(){let t=FK();return t?t.getAccessToken():Promise.resolve(at.get(Tb)||at.get(jm)||null)}const CDe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function my(t){return t?{"privy-ui":"t"}:void 0}class mf{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ae("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Rfe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ae("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Nfe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw qt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ae("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ae("Email must be set when initialzing authentication.");let i=my(r);try{return await this.api.post(Ofe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw qt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class PDe extends mf{async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ae("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(Dfe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw qt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class Vo{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class h9{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.channelToken)throw new ae("Auth flow must be initialized first");try{let e=await this.api.post(Tfe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ae("No response from authentication");return e}catch(e){throw qt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Ife,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw qt(e)}}async _startChannelOnce(){if(!this.api)throw new ae("Auth flow has no API instance");let e=await this.api.post(Afe,{token:this.captchaToken});qc.isMobile&&!qc.isIOS&&e.connect_uri&&dz(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ae("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.channelToken)throw new ae("Auth flow must be initialized first");let e=await this.api.get(kfe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Vo(this._startChannelOnce.bind(this)),this.pollForReady=new Vo(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function FC(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function SK(){var e;if(!FC())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function A5(){var e;if(!FC())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function f9(t){return new Promise(((e,n)=>{A5()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){var d,f;if(!FC())return;let u=window.chrome;return(f=(d=u==null?void 0:u.runtime)==null?void 0:d.lastError)==null?void 0:f.message})();if(i||!r){let u=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(u)}let s=new URL(r),o=SK();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let u=s.hostname.split(".");if(u.length!==3||u[1]!=="chromiumapp"||u[2]!=="org"||u[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),c=s.searchParams.get("privy_oauth_code");if(!a||!c)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:c})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}function T5(t){return crypto.getRandomValues(new Uint8Array(t))}function jC(){return yd(T5(36))}function AK(){return jC()}async function TK(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return yd(n)}}class rf{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ae("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ae("User denied confirmation during OAuth flow");let e=(function(){let n=at.get(um);if(!n)throw new ae("Authentication error.");return n})();try{let n=await this.api.post(sz,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return at.del(um),at.del(xv),at.del(rg),n}catch(n){let r=qt(n);throw r.privyErrorCode?new ae(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new ae("Invalid code during oauth flow.",void 0,Ee.OAUTH_USER_DENIED):new ae("Invalid code during OAuth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ae("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ae("User denied confirmation during OAuth flow");let e=at.get(um);if(!e)throw new ae("Authentication error.");try{let n=await this.api.post(oz,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return at.del(um),n}catch(n){throw qt(n)}}async getAuthorizationUrl(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.provider)throw new ae("Provider must be set when initializing OAuth authentication.");let e=jC();at.put(um,e);let n=AK();at.put(Ev,n);let r=await TK(e);this.meta.withPrivyUi||at.put(xv,!0),this.meta.disableSignup?at.put(rg,!0):at.del(rg);let i=my(this.meta.withPrivyUi),s=window.location.href,o=(function(){let a=SK();if(a)return`https://${a}.chromiumapp.org`})();o&&(s=o);try{return await this.api.post(iz,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(a){throw qt(a)}}constructor(e){this.meta=e}}function ODe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!at.get(xv),popupFlow:window.opener!==null&&i,disableSignup:!!at.get(rg)}}function vVe(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),at.del(Ev),window.history.replaceState({},"",t)}class Zh{async initRegisterFlow(e){if(!this.api)throw new ae("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ae("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ae("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await ze(()=>import("./index-VZUuMKX8.js"),[]);if(!this.api)throw new ae("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ae("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(i)});return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(Zfe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ae("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):qt(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await ze(()=>import("./index-VZUuMKX8.js"),[]);if(!this.api)throw new ae("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ae("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map((o=>({type:"public-key",id:o}))))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(Yfe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new ae("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):qt(o)}}async link(){var n,r;let e=await ze(()=>import("./index-VZUuMKX8.js"),[]);if(!this.api)throw new ae("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ae("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(i)});return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(Gfe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ae("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):qt(i)}}async _initRegisterOnce(e){if(!this.api)throw new ae("Auth flow has no API instance");let n=my(e);return await this.api.post(Kfe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ae("Auth flow has no API instance");let n=my(e);return await this.api.post(Hfe,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ae("Auth flow has no API instance");return await this.api.post(qfe,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,o,a,c,u,d;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((f=>({type:f.type,alg:f.alg}))),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map((f=>({id:f.id,type:f.type,transports:f.transports}))),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(u=(c=e.extensions)==null?void 0:c.cred_props)==null?void 0:u.rk,hmacCreateSecret:(d=e.extensions)==null?void 0:d.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map((o=>({id:o.id,type:o.type,transports:o.transports}))))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Vo(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Vo(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Vo(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const I5=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Gb{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new ae("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:this.walletClientType??((n=this.wallet)==null?void 0:n.walletClientType),connectorType:this.connectorType??((r=this.wallet)==null?void 0:r.connectorType),mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw qt(i)}}async link(){if(!this.client)throw new ae("SiweFlow has no client instance");try{if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw qt(e)}}async sign(){if(!this.client)throw new ae("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ae("Could not prepare SIWE message");if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ae("SiweFlow has no client instance");if(!this.wallet)throw new ae("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ae("SiweFlow has no client instance");if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=I5({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new Vo(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature,this.walletClientType=s==null?void 0:s.walletClientType,this.connectorType=s==null?void 0:s.connectorType}}class p9{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ae("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw qt(e)}}async link(){if(!this.client)throw new ae("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw qt(e)}}async sign(){let e,n;if(!this.client)throw new ae("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ae("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new ae("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:H2.decode(this.preparedMessage)});e=H2.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=H2.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ae("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ae("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=ype({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Vo(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=o}}class gf{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ae("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Ffe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ae("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Bfe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw qt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ae("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ae("phone nNumber must be set when initialzing authentication.");let i=my(r);try{return await this.api.post(Lfe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw qt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class RDe extends gf{async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ae("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(jfe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw qt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const IK=H.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:he,setError:he,setExecuting:he,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Tj,reset:he,execute:he});class k5 extends uu{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const NDe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=H.useRef(null),s=H.useRef(null),[o,a]=H.useState(),[c,u]=H.useState(),[d,f]=H.useState(!1),p=H.useMemo((()=>r?d||o||c?!d||o||c?o&&!c?{status:"success",token:o}:c?{status:"error",error:c}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,o,c,d]),m=H.useMemo((()=>r?r==="turnstile"?{remove:()=>{var w;(w=i.current)==null||w.remove(),f(!1),u(void 0),a(void 0)},reset:()=>{var w;(w=i.current)==null||w.reset(),f(!1),u(void 0),a(void 0)},execute:()=>{var w;f(!0),(w=i.current)==null||w.execute()},waitForResult:async()=>{try{return await YR((()=>{var w;return(w=i.current)==null?void 0:w.getResponse()}),{interval:200,timeout:2e4})}catch{throw new k5("Captcha failed",null,Ee.CAPTCHA_TIMEOUT)}}}:{remove:()=>{var w;(w=s.current)==null||w.removeCaptcha(),f(!1),u(void 0),a(void 0)},reset:()=>{var w;(w=s.current)==null||w.resetCaptcha(),f(!1),u(void 0),a(void 0)},execute:()=>{var w;f(!0),(w=s.current)==null||w.execute()},waitForResult:async()=>{try{return await YR((()=>{var v;let w=(v=s.current)==null?void 0:v.getResponse();if(w)return w}),{interval:200,timeout:2e4})}catch{throw new k5("Captcha failed",null,Ee.CAPTCHA_TIMEOUT)}}}:null),[r]),y=H.useMemo((()=>{if(!r||!m)return{...p,enabled:!1,siteKey:"",appId:e,setToken:he,setError:he,setExecuting:he,waitForResult:()=>Promise.resolve(void 0),remove:Tj,reset:he,execute:he,provider:void 0,ref:{current:null}};let w={...p,enabled:!0,appId:e,setToken:a,setError:u,setExecuting:f};return r==="turnstile"?{...w,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...m}:{...w,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...m}}),[p,r,m,e,n]);return U.jsx(IK.Provider,{value:y,children:t})},kK=()=>H.useContext(IK);class Mm{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Jfe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Xfe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw qt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function _Ve(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===Ee.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===Ee.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===Ee.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===Ee.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===Ee.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===Ee.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===Ee.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof k5&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function m9(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function g9(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let $De=H.lazy((()=>ze(()=>import("./TurnstileWrapper-Co-t5mTh-Dw9NikoV.js"),[]))),DDe=H.lazy((()=>ze(()=>import("./HCaptchaWrapper-CUi9LJsp-B7QZbQbr.js"),[])));const MDe=t=>{let e=kK();return H.useEffect((()=>e.remove),[e.remove]),e.enabled&&e.provider?U.jsx(H.Suspense,{fallback:null,children:U.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&U.jsx($De,{...t,captchaContext:e}),e.provider==="hcaptcha"&&U.jsx(DDe,{...t,captchaContext:e})]})}):null};var H_=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>ze(()=>import("./AccountNotFoundScreen-Q-gvf1Fn-C_pJi4lx.js"),__vite__mapDeps([3,4,5,6,7,8])),AffirmativeConsentScreen:()=>ze(()=>import("./AffirmativeConsentScreen-CLQuUvfP-CmCOUeWa.js"),__vite__mapDeps([9,5,10,4,6,7,8,11])),AllowlistRejectionScreen:()=>ze(()=>import("./AllowlistRejectionScreen-CA0r2B2G-CTFKEXCd.js"),__vite__mapDeps([12,4,5,6,7,13,8])),AuthenticateWithWalletScreen:()=>ze(()=>import("./AuthenticateWithWalletScreen-CJ0PGjN8-Oca4nxS6.js"),__vite__mapDeps([14,15,5,16,17,18,19,20,21,22,23,6,7])),AwaitingEvmToSolBridgingScreen:()=>ze(()=>import("./AwaitingEvmToSolBridgingScreen-BCl9wYAA-MBtz0Eo3.js"),__vite__mapDeps([24,25,26,5,27,28,7,29,30,31,32,33,34,35,36,37,38,39,21,40,41,42,43,44,45,46,47,8,48,49,50,51,52,53,54,55,56,4,6,57,58,59,60])),AwaitingExternalEthereumTransferScreen:()=>ze(()=>import("./AwaitingExternalEthereumTransferScreen-PysgS8Qt-DuKPO8bN.js"),__vite__mapDeps([61,25,26,5,27,28,7,29,30,62,52,53,31,32,36,37,38,39,21,40,41,42,33,43,44,45,46,47,8,48,49,50,51,54,55,56,4,6,57,58,59,63,2,60])),AwaitingPasswordlessCodeScreen:()=>ze(()=>import("./AwaitingPasswordlessCodeScreen-BV79QlfB-3DIBrkk-.js"),__vite__mapDeps([64,65,66,26,17,10,4,5,6,7])),AwaitingSolToEvmBridgingScreen:()=>ze(()=>import("./AwaitingSolToEvmBridgingScreen-BAWOxcgh-DTnkV9rp.js"),__vite__mapDeps([67,25,26,5,27,28,7,31,32,44,45,42,38,39,46,47,8,48,49,63,2])),CaptchaScreen:()=>ze(()=>import("./CaptchaScreen-BpGtWd73-BEKlczmp.js"),__vite__mapDeps([68,4,5,6,7,57,8,69])),CoinbaseOnrampStatusScreen:()=>ze(()=>import("./CoinbaseOnrampStatusScreen-0Uex7DsA-Cwh4JOA9.js"),__vite__mapDeps([70,71,72,5,26,31])),ConnectLedgerScreen:()=>ze(()=>import("./ConnectLedgerScreen-CQFzXuWK-B5xp6RI9.js"),__vite__mapDeps([73,4,5,6,7,8])),ConnectOnlyLandingScreen:()=>ze(()=>import("./ConnectOnlyLandingScreen-BHXmw89v-D25e62mM.js"),__vite__mapDeps([74,15,5,16,17,18,19,20,21,22,23,6,7])),ConnectOnlyStatusScreen:()=>ze(()=>import("./ConnectOnlyStatusScreen-CrK4PC6t-CwgTJjue.js"),__vite__mapDeps([75,4,5,6,7,76,17,22,10])),ConnectOrCreateScreen:()=>ze(()=>import("./ConnectOrCreateScreen-BrRb6sNR-Cnig8_WK.js"),__vite__mapDeps([77,78,5,15,16,17,18,19,20,21,22,23,6,7,79,43,39,80,8,81,82,83,84,85,86,4])),ConnectionStatusScreen:()=>ze(()=>import("./ConnectionStatusScreen-KrobwyOT-CUHAevnL.js"),__vite__mapDeps([76,17,22,10,4,5,6,7])),CrossAppAuthScreen:()=>ze(()=>import("./CrossAppAuthScreen-BOKIMDhq-Pm2_ArIH.js"),__vite__mapDeps([87,10,4,5,6,7])),DelegatedActionsConsentScreen:()=>ze(()=>import("./DelegatedActionsConsentScreen-B7RhRjIf-C-XMEWBz.js"),__vite__mapDeps([88,89,5,21,90,46,47,8,48,50,4,6,7,91,57])),DelegatedActionsRevokeScreen:()=>ze(()=>import("./DelegatedActionsRevokeScreen-C5V6mhCq-B5C3dv-8.js"),__vite__mapDeps([92,4,5,6,7,91,8,57])),EmbeddedWalletConnectingScreen:()=>ze(()=>import("./EmbeddedWalletConnectingScreen-C9Fw9Ret-Cg8C-ylG.js"),__vite__mapDeps([93,4,5,6,7,69,8])),EmbeddedWalletCreatedScreen:()=>ze(()=>import("./EmbeddedWalletCreatedScreen-keGjjfu4-DPfeVWlr.js"),__vite__mapDeps([94,4,5,6,7,57,8])),EmbeddedWalletKeyExportScreen:()=>ze(()=>import("./EmbeddedWalletKeyExportScreen-DxbOABYY-DfR_gHBV.js"),__vite__mapDeps([95,96,97,89,5,21,90,46,47,8,48,50,4,6,7])),EmbeddedWalletOnAccountCreateScreen:()=>ze(()=>import("./EmbeddedWalletOnAccountCreateScreen-B7blEQwB-DdxAPOb4.js"),__vite__mapDeps([98,99,4,5,6,7,69,8])),EmbeddedWalletPasswordCreateScreen:()=>ze(()=>import("./RecoveryPasswordCreateScreen-BgT7udfA-BQeJa3as.js"),__vite__mapDeps([100,99,101,97,26,5,102,103,72,27])),EmbeddedWalletPasswordUpdateScreen:()=>ze(()=>import("./EmbeddedWalletPasswordUpdateScreen-B25GzXZc-EdHJAe2L.js"),__vite__mapDeps([104,101,97,26,5,102,103,72,27])),EmbeddedWalletPasswordUpdateSplashScreen:()=>ze(()=>import("./EmbeddedWalletPasswordUpdateSplashScreen-Cu_NA9L6-CiSvSsfC.js"),__vite__mapDeps([105,4,5,6,7,13,8])),ErrorScreen:()=>ze(()=>import("./ErrorScreen-DLsfgpC9-DwaPA2-1.js"),__vite__mapDeps([106,32,4,5,6,7,8,13])),FarcasterConnectStatusScreen:()=>ze(()=>import("./FarcasterConnectStatusScreen-ng3F34Zy-DcJUvxTd.js"),__vite__mapDeps([107,108,18,19,5,90,10,4,6,7,81,47,8,48])),FarcasterSignerStatusScreen:()=>ze(()=>import("./FarcasterSignerStatusScreen-C19Go4EG-DDHjuGeI.js"),__vite__mapDeps([109,110,16,108,18,19,4,5,6,7,81])),FundSolWalletWithExternalSolanaWallet:()=>ze(()=>import("./FundSolWalletWithExternalSolanaWallet-DpBJNLZJ-Kwm-nMlK.js"),__vite__mapDeps([111,25,5,26,27,28,45,42,7,38,39,112,29,30,31,35,113,33,59])),FundingAmountEditScreen:()=>ze(()=>import("./FundingEditAmountScreen-DVwlwSMh-D6ZF-g5z.js"),__vite__mapDeps([114,5,26,28,7,41,29,30,53,54,55,56,8,47,4,6,57,58])),FundingMethodSelectionScreen:()=>ze(()=>import("./FundingMethodSelectionScreen-BEXU_dRV-BlRNto84.js"),__vite__mapDeps([115,71,5,28,116,117,118,23,119,120,31,54,55,56,8,47,4,6,7,57,58])),InAppBrowserLoginNotPossible:()=>ze(()=>import("./InAppBrowserLoginNotPossible-fdO06E7f-WIiCDDUm.js"),__vite__mapDeps([121,4,5,6,7,11,8])),InstallWalletScreen:()=>ze(()=>import("./InstallWalletScreen-BTCkqOY--FCtrliNx.js"),__vite__mapDeps([122,17,56,8,47,4,5,6,7])),LandingScreen:()=>ze(()=>import("./LandingScreen-BYYtxc3M-BVUS1FuC.js"),__vite__mapDeps([123,78,5,15,16,17,18,19,20,21,22,23,6,7,79,43,39,80,8,81,82,83,84,85,86,4])),LinkConflictScreen:()=>ze(()=>import("./LinkConflictScreen-CEU67LFR-ZjKuA8IJ.js"),__vite__mapDeps([124,97,42,5,125,46,47,8,48,126,117])),LinkEmailScreen:()=>ze(()=>import("./LinkEmailScreen-frIcyTMB-DyFzNbBi.js"),__vite__mapDeps([127,65,79,5,43,39,20,21,80,8,26,4,6,7])),LinkPasskeyScreen:()=>ze(()=>import("./LinkPasskeyScreen-DJveInKu-fpSMIaSF.js"),__vite__mapDeps([55,56,8,47,4,5,6,7,57,58])),LinkPhoneScreen:()=>ze(()=>import("./LinkPhoneScreen-DoNf-oO4-Ckl8GrAk.js"),__vite__mapDeps([128,66,83,5,43,39,4,6,7])),LoginFailedScreen:()=>ze(()=>import("./LoginFailedScreen-g2jT2Kyc-BguVqCWP.js"),__vite__mapDeps([129,4,5,6,7,69,8])),ManualTransferScreen:()=>ze(()=>import("./ManualTransferScreen-Cc1Y8Jih-B-0wiF9p.js"),__vite__mapDeps([130,5,26,18,19,28,118,40,41,89,21,90,46,47,8,48,50,131,31,33,113,35,34,37,59])),MfaAuthEnrollmentFlowScreen:()=>ze(()=>import("./MfaAuthEnrollmentFlowScreen-O3_CYjp9-CfDf8EtR.js"),__vite__mapDeps([132,5,133,134,135,82,66,43,39,106,32,4,6,7,8,13,55,56,47,57,58,110,16,26,90,40,41,50,18,19])),MfaAuthVerifyFlowScreen:()=>ze(()=>import("./MfaAuthVerifyFlowScreen-T7Rg8uvy-CM0Me4pV.js"),__vite__mapDeps([136,137,135,82,66,133,5,4,6,7,97,125,29,30,138,139,53,35,34,26,51])),MfaEnrollmentFlowScreen:()=>ze(()=>import("./MfaEnrollmentFlowScreen-Bz72-m4D-CPgjoh4x.js"),__vite__mapDeps([140,5,133,134,135,82,66,43,39,106,32,4,6,7,8,13,55,56,47,57,58,110,16,26,90,40,41,50,18,19,25,83])),MoonpayStatusScreen:()=>ze(()=>import("./MoonpayStatusScreen-B8KZWDvr-BtW7tcSP.js"),__vite__mapDeps([141,71,72,5,26,120,31])),OAuthStatusScreen:()=>ze(()=>import("./OAuthStatusScreen-BqifArEf-C9EShJhe.js"),__vite__mapDeps([142,84,49,10,4,5,6,7,126])),PasskeySelectSignupOrLogin:()=>ze(()=>import("./PasskeySelectSignupOrLogin-BnluBsvm-DYrxAEIo.js"),__vite__mapDeps([143,4,5,6,7,58,8])),PasskeyStatusScreen:()=>ze(()=>import("./PasskeyStatusScreen-DNO05Efn-B_LLC3Pt.js"),__vite__mapDeps([144,10,4,5,6,7,58,8])),PasswordRecoveryScreen:()=>ze(()=>import("./PasswordRecoveryScreen-B7NJ3m5d-DJNvSOXX.js"),__vite__mapDeps([145,133,5,26,102,6,7])),RecoveryOAuthScreen:()=>ze(()=>import("./RecoveryOAuthStatusScreen-C0tnlfv2-Cc7mkWox.js"),__vite__mapDeps([146,5,27,99,147])),RecoverySelectionScreen:()=>ze(()=>import("./RecoverySelectionScreen-ePxeHUj1-CLwef45E.js"),__vite__mapDeps([148,149,5,27,147])),SendTransactionScreen:()=>ze(()=>import("./index-DieEhruj-XtoGBYNC.js"),__vite__mapDeps([150,46,5,47,8,48,29,30,131,119,52,53,106,32,4,6,7,13,151,152,38,39,21,90,40,41,89,50,103,116,117,96,97,51,59,26,27,138,139,35,34,62])),SetAutomaticRecoveryScreen:()=>ze(()=>import("./SetAutomaticRecoveryScreen-CVl0jRLW-CYoWB43U.js"),__vite__mapDeps([153,97,149,5,40,41])),SignRequestScreen:()=>ze(()=>import("./SignRequestScreen-DsHKzR1x-B09lhfea.js"),__vite__mapDeps([154,110,16,26,151,4,5,6,7,8])),StandardSignAndSendTransactionScreen:()=>ze(()=>import("./StandardSignAndSendTransactionScreen-BuT88OVq-acN9Rd3z.js"),__vite__mapDeps([155,30,106,32,4,5,6,7,8,13,25,26,27,38,39,139,53,35,34,125,152,21,90,40,41,46,47,48,89,50,103,116,117,96,97,51,59,112])),TelegramAuthScreen:()=>ze(()=>import("./TelegramAuthScreen-DQ63cPv--CX7S-dGE.js"),__vite__mapDeps([156,10,4,5,6,7,85])),TransferFromWalletScreen:()=>ze(()=>import("./TransferFromWalletScreen-rtFkHQRz-CuhOiWyh.js"),__vite__mapDeps([157,5,27,28,43,39,40,86,8,45,42,54,55,56,47,4,6,7,57,58])),UpdateEmailScreen:()=>ze(()=>import("./UpdateEmailScreen-sALtnLLN-xhngy47r.js"),__vite__mapDeps([158,65,26,5,20,21,4,6,7,80,8])),UpdatePhoneScreen:()=>ze(()=>import("./UpdatePhoneScreen-DKfVISn1-Bc9hInv2.js"),__vite__mapDeps([159,66,83,5,43,39,4,6,7])),UserLimitReachedScreen:()=>ze(()=>import("./UserLimitReachedScreen-BoinP76r-CH1P_N9d.js"),__vite__mapDeps([160,4,5,6,7])),WalletInterstitialScreen:()=>ze(()=>import("./WalletInterstitialScreen-jn7VehvZ-UcFH2MiM.js"),__vite__mapDeps([161,4,5,6,7]))});function LDe(t){i_("configureMfa",t)}const gy=Hd((()=>({inProgressMfaFlow:void 0}))),BDe=Wue`
  :root {
     ${t=>UDe(t.palette)}
  };
`,UDe=t=>{let e=(function(n){return{"--privy-color-background":n.background,"--privy-color-background-2":n.background2,"--privy-color-background-3":n.background3,"--privy-color-foreground":n.foreground,"--privy-color-foreground-2":n.foreground2,"--privy-color-foreground-3":n.foreground3,"--privy-color-foreground-4":n.foreground4,"--privy-color-foreground-accent":n.foregroundAccent,"--privy-color-accent":n.accent,"--privy-color-accent-light":n.accentLight,"--privy-color-accent-hover":n.accentHover,"--privy-color-accent-dark":n.accentDark,"--privy-color-accent-darkest":n.accentDarkest,"--privy-color-success":n.success,"--privy-color-success-dark":n.successDark,"--privy-color-success-light":n.successLight,"--privy-color-success-bg":n.successBg,"--privy-color-error":n.error,"--privy-color-error-light":n.errorLight,"--privy-color-error-bg":n.errorBg,"--privy-color-error-bg-hover":n.errorBgHover,"--privy-color-warn":n.warn,"--privy-color-warn-light":n.warnLight,"--privy-color-warn-bg":n.warnBg,"--privy-color-warning-dark":n.warningDark,"--privy-color-error-dark":n.errorDark,"--privy-color-info-bg":n.infoBg,"--privy-color-info-bg-hover":n.infoBgHover,"--privy-color-border-default":n.borderDefault,"--privy-color-border-hover":n.borderHover,"--privy-color-border-focus":n.borderFocus,"--privy-color-border-error":n.borderError,"--privy-color-border-success":n.borderSuccess,"--privy-color-border-warning":n.borderWarning,"--privy-color-border-info":n.borderInfo,"--privy-color-border-interactive":n.borderInteractive,"--privy-color-border-interactive-hover":n.borderInteractiveHover,"--privy-color-background-hover":n.backgroundHover,"--privy-color-background-clicked":n.backgroundClicked,"--privy-color-background-disabled":n.backgroundDisabled,"--privy-color-background-interactive":n.backgroundInteractive,"--privy-color-background-interactive-hover":n.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":n.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":n.backgroundInteractiveDisabled,"--privy-color-foreground-hover":n.foregroundHover,"--privy-color-foreground-clicked":n.foregroundClicked,"--privy-color-foreground-disabled":n.foregroundDisabled,"--privy-color-foreground-interactive":n.foregroundInteractive,"--privy-color-foreground-interactive-hover":n.foregroundInteractiveHover,"--privy-link-navigation-color":n.linkNavigationColor,"--privy-link-navigation-decoration":n.linkNavigationDecoration,"--privy-accent-has-good-contrast":n.accentHasGoodContrast,"--privy-color-icon-default":n.iconDefault,"--privy-color-icon-muted":n.iconMuted,"--privy-color-icon-subtle":n.iconSubtle,"--privy-color-icon-inverse":n.iconInverse,"--privy-color-icon-success":n.iconSuccess,"--privy-color-icon-warning":n.iconWarning,"--privy-color-icon-error":n.iconError,"--privy-color-icon-interactive":n.iconInteractive,"--privy-color-icon-default-hover":n.iconDefaultHover,"--privy-color-icon-muted-hover":n.iconMutedHover,"--privy-color-icon-subtle-hover":n.iconSubtleHover,"--privy-color-icon-default-clicked":n.iconDefaultClicked,"--privy-color-icon-muted-clicked":n.iconMutedClicked,"--privy-color-icon-subtle-clicked":n.iconSubtleClicked,"--privy-color-icon-default-disabled":n.iconDefaultDisabled,"--privy-color-icon-muted-disabled":n.iconMutedDisabled,"--privy-color-icon-subtle-disabled":n.iconSubtleDisabled,"--privy-color-icon-error-hover":n.iconErrorHover,"--privy-color-icon-interactive-hover":n.iconInteractiveHover,"--privy-color-icon-error-clicked":n.iconErrorClicked,"--privy-color-icon-interactive-clicked":n.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":n.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":n.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t);return Ky`
    ${Object.entries(e).map((([n,r])=>`${n}: ${r};`)).join(`
`)}
  `},y9=xn.div`
  // css normalize only the privy application to avoid conflicts
  // with consuming application
  ${`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`}

  // Privy styles
  color: var(--privy-color-foreground-2);

  h3 {
    font-size: 16px;
    line-height: 24px;
    font-weight: 500;
    color: var(--privy-color-foreground-2);
  }

  h4 {
    font-size: 14px;
    line-height: 20px;
    font-weight: 500;
    color: var(--privy-color-foreground);
  }

  p {
    font-size: 13px;
    line-height: 20px;
    color: var(--privy-color-foreground-2);
  }

  button:focus,
  input:focus,
  optgroup:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--privy-color-accent-light);
    box-shadow: 0 0 0 3px var(--privy-color-border-focus);
  }

  .mobile-only {
    @media (min-width: 441px) {
      display: none;
    }
  }

  /* Animations */

  @keyframes fadein {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
`,FDe=({children:t,open:e,onClick:n,...r})=>U.jsx(Gz,{show:e,as:Ke.Fragment,children:U.jsxs(Uge,{onClose:n,...r,as:zDe,children:[U.jsx(ry,{as:Ke.Fragment,enterFrom:"entering",leaveTo:"leaving",children:U.jsx(jDe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),U.jsx(WDe,{children:U.jsx(ry,{as:Ke.Fragment,enterFrom:"entering",leaveTo:"leaving",children:U.jsx(Yz,{as:VDe,children:t})})})]})});let jDe=xn.div`
  position: fixed;
  inset: 0;

  transition: backdrop-filter 100ms ease;
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);

  &.entering,
  &.leaving {
    backdrop-filter: unset;
    -webkit-backdrop-filter: unset;
  }
`,zDe=xn.div`
  position: relative;
  z-index: 999999;
`,WDe=xn.div`
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100vw;
  min-height: 100vh;
`;const VDe=xn.div`
  // reset some default dialog styles
  padding: 0;
  background: transparent;
  border: none;
  width: 100%;
  pointer-events: auto;

  outline: none;
  display: block;

  /*
   * Normally it is bad to mix media queries like this We are doing
   * this here specifically for animations to avoid weird jank.
   */
  /* Mobile animation is a bottom drawer */
  @media (max-width: 440px) {
    opacity: 1;
    transform: translate3d(0, 0, 0);
    transition: transform 200ms ease-in;
    position: fixed;
    bottom: 0;

    &.entering,
    &.leaving {
      opacity: 0;
      transform: translate3d(0, 100%, 0);
      transition:
        transform 150ms ease-in 0ms,
        opacity 0ms ease 150ms;
    }
  }

  /* Tablet/Desktop animation is a fade in */
  @media (min-width: 441px) {
    opacity: 1;
    transition: opacity 100ms ease-in;

    &.entering,
    &.leaving {
      opacity: 0;
      transition-delay: 5ms;
    }

    margin: auto;
    width: 360px;
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`;xn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;const qDe=()=>{let{ready:t}=qy(),{currentScreen:e}=Yg(),[n,r]=H.useState(null),[i,s]=H.useState(!1),o=(function(a){let[c,u]=H.useState(!1),d=H.useRef(null),f=H.useRef(null),p=H.useRef(null);return H.useEffect((()=>{if(d.current&&(clearTimeout(d.current),d.current=null),f.current&&(clearTimeout(f.current),f.current=null),a)p.current=Date.now(),d.current=setTimeout((()=>{u(!0)}),150);else if(p.current!==null){let m=Date.now()-p.current;if(m>=150){let y=Math.max(0,400-(m-150));f.current=setTimeout((()=>{u(!1),p.current=null}),y)}else d.current&&(clearTimeout(d.current),d.current=null),u(!1),p.current=null}return()=>{d.current&&clearTimeout(d.current),f.current&&clearTimeout(f.current)}}),[a]),c})(i);return H.useEffect((()=>{if(!e)return r(null),void s(!1);s(!0),H_[e]().then((a=>{(!e||t||a.default.isShownBeforeReady)&&(r((()=>a.default.component)),s(!1))})).catch((()=>{r(null),s(!1)}))}),[e,t]),{component:n,isLoading:o}};let w9=H.lazy((()=>ze(()=>import("./MfaVerifyFlowScreen-C_vKdC1M-BT_4pzbM.js"),__vite__mapDeps([162,137,135,82,66,133,5,4,6,7,97,125,29,30,138,139,53,35,34,26,51])))),HDe=H.lazy((()=>(t=>H_[t]().then((e=>({default:e.default.component}))))("MfaAuthVerifyFlowScreen"))),KDe=()=>U.jsx(JDe,{children:U.jsx(o_,{})}),CK=()=>{let{currentScreen:t}=Yg(),e=gy((s=>s.inProgressMfaFlow)),n=()=>gy.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=qDe();return(function(){let{isModalOpen:s}=qy(),{headless:o}=Ga(),{currentScreen:a}=Yg(),{status:c,execute:u,reset:d,enabled:f}=kK(),[p,m]=H.useState(!1);H.useEffect((()=>{!s&&f&&d()}),[s,f,d]),H.useEffect((()=>{a?H_[a]().then((y=>{m(!!y.default.isCaptchaRequired)})).catch((()=>{m(!1)})):m(!1)}),[a]),H.useEffect((()=>{s&&p&&!o&&c==="ready"&&f&&u()}),[s,p,o,c,f,u])})(),t||e!=="txn"?i?U.jsx(KDe,{}):r?U.jsxs(U.Fragment,{children:[U.jsx(m7,{$if:!!e,children:U.jsx(H.Suspense,{children:U.jsx(r,{})})}),U.jsxs(H.Suspense,{children:[e==="txn"&&U.jsx(w9,{onClose:n}),e==="auth"&&U.jsx(HDe,{})]})]}):null:U.jsx(H.Suspense,{children:U.jsx(w9,{onClose:n})})},GDe=()=>{let t=H.useRef(null);return U.jsx(ZDe,{style:{height:ode(t)},id:"privy-modal-content",children:U.jsx("div",{ref:t,children:U.jsx(CK,{})})})};const YDe=({open:t})=>{let e=Ga(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=qd(),{onUserCloseViaDialogOrKeybindRef:s}=Yg();return{gracefulClosePrivyModal:H.useCallback((()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),r=gy((i=>i.inProgressMfaFlow));return LDe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||gy.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?U.jsx(y9,{children:U.jsx(PK,{id:"privy-modal-content",children:U.jsx(CK,{})})}):U.jsx(FDe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:U.jsx(y9,{children:U.jsx(GDe,{})})})};let PK=xn.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  width: 100%;
  background: var(--privy-color-background);
  padding: 0 16px;
`,ZDe=xn(PK)`
  transition: height 150ms ease-out;
  overflow-x: hidden;
  overflow-y: auto;
  scrollbar-width: none;

  // Ensure the modal gets pinned to the top if it ever gets too tall
  max-height: calc(100svh - 32px);

  border-radius: var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;
  box-shadow: 0px 0px 36px rgba(55, 65, 81, 0.15);

  @media (min-width: 441px) {
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`,JDe=xn.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  padding: 2rem;
`;function XDe(t){let e=H.useRef(null),n=H.useRef();return H.useEffect((()=>{var r,i;(r=n.current)==null||r.remove(),n.current=(function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:c}=new URL(o);return a.async=!0,a.src=`${c}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a})(t),(i=e.current)==null||i.after(n.current)}),[t]),U.jsx("div",{ref:e,hidden:!0})}const QDe=()=>{let{ready:t}=ede(),{client:e}=qd();return H.useEffect((()=>{var r;let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map((s=>({address:s.address,connectorType:s.connectorType,walletClientType:s.walletClientType,connectedAt:s.connectedAt,id:s.meta.id})));at.put(yj,i)};return(r=e.connectors)==null||r.on("walletsUpdated",n),()=>{var i;(i=e.connectors)==null||i.off("walletsUpdated",n)}}),[t,e.connectors]),null};class C5 extends Kd{async initialize(){var n,r,i,s,o;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=R2((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,o,a,c;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:rde(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:Xue,id:((c=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:c.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,ppe(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{var s,o,a,c,u,d;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new Nn("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=R2((u=(c=this.walletProvider)==null?void 0:c.session)==null?void 0:u.peer.metadata.url),this.walletClientType=((d=this.walletEntry)==null?void 0:d.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=ok(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?du(r):new Nn("Unknown error during connection"))}))}))}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=sde(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((s=>s.id)),i=await qPe.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:yH,optionalMethods:gH,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{var o;if(i.signer.abortPairingAttempt(),gpe(),!this.showPrivyQrModal)throw new Nn("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(qc.isMobile&&this.walletEntry){let{redirect:a,href:c}=fpe(s,this.walletEntry);dz(a,"_self"),mpe({href:c,name:((o=this.walletEntry.metadata)==null?void 0:o.shortName)||this.walletEntry.name});let u=L4(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=u==null?void 0:u.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=L4(s,this.walletEntry);this.fallbackUniversalRedirectUri=a==null?void 0:a.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{var s,o,a;(s=i.session)!=null&&s.peer.metadata.url&&(this.walletEntry=R2((o=i.session)==null?void 0:o.peer.metadata.url),this.walletClientType=((a=this.walletEntry)==null?void 0:a.slug)||"unknown")})),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:c}){super(c||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Gd(void 0,this.rpcTimeoutDuration),c&&(this.walletEntry=tde(c),this.walletClientType=c)}}const eMe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Jn extends Error{constructor(e,n){super(n),this.type=e}}function xp(t){let e=t.type;return typeof e=="string"&&eMe.includes(e)}function h1(t){return xp(t)&&t.type==="wallet_not_on_device"}function EVe(t){return xp(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function xVe(t){return!!xp(t)&&t.type==="mfa_timeout"}function SVe(t){return!!xp(t)&&t.type==="missing_or_invalid_mfa"}function AVe(t){return!!xp(t)&&t.type==="mfa_verification_max_attempts_reached"}function TVe(t){return!(!xp(t)||!t.message.includes("code 429"))}function IVe(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}async function Qs(t,e,n,r,i,s=!1){var u,d,f;let o=s,a=async p=>{var m;if(o&&e&&e.length>0){p===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(m=r.current)==null||m.reject(new Jn("missing_or_invalid_mfa","MFA verification failed, retry."));let y=await new Promise(((w,v)=>{n.current={resolve:w,reject:v},setTimeout((()=>{var k;let E=new Jn("mfa_timeout","Timed out waiting for MFA code");(k=r.current)==null||k.reject(E),v(E)}),3e5)}));return await t(y)}return await t()},c=null;for(let p=0;p<4;p++)try{c=await a(p),(u=r.current)==null||u.resolve(void 0);break}catch(m){if(m.type!=="missing_or_invalid_mfa")throw(d=r.current)==null||d.resolve(void 0),m;o=!0}if(c===null){let p=new Jn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=r.current)==null||f.reject(p),p}return c}var b9;let tMe=(b9=0,()=>"id-"+b9++);function Or(t){return t.error!==void 0}let pr=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},vA=new Map,nMe=(t,e)=>typeof e=="bigint"?e.toString():e;function Rr(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,c)=>`${a}${JSON.stringify(c,nMe)}`)(t,e);if(t==="privy:wallet:create"){let a=vA.get(s);if(a)return a}let o=new Promise(((a,c)=>{let u=tMe();pr.enqueue(u,{resolve:a,reject:c}),i.postMessage({id:u,event:t,data:e},r)})).finally((()=>{vA.delete(s)}));return vA.set(s,o),o}function rMe(t){let e=vj(),n=H.useRef(null),r=H.useRef(t.mfaMethods),i=s_(),[s,o]=H.useState(!1);return H.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),H.useEffect((()=>{if(!s)return;let a=n.current;if(!a)return;function c(f){var p;f&&f.origin===t.origin&&typeof(p=f.data).event=="string"&&/^privy:.+/.test(p.event)&&(function(m){switch(m.event){case"privy:iframe:ready":let y=pr.dequeue(m.event,m.id);return Or(m)?y.reject(new Jn(m.error.type,m.error.message)):y.resolve(m.data);case"privy:user-signer:sign":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:wallets:add":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:wallets:set-recovery":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:wallets:connect":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:wallets:recover":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:wallets:rpc":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:wallet:create":let w=pr.dequeue(m.event,m.id);return Or(m)?w.reject(new Jn(m.error.type,m.error.message)):w.resolve(m.data);case"privy:wallets:import":let v=pr.dequeue(m.event,m.id);return Or(m)?v.reject(new Jn(m.error.type,m.error.message)):v.resolve(m.data);case"privy:mfa:verify":let E=pr.dequeue(m.event,m.id);return Or(m)?E.reject(new Jn(m.error.type,m.error.message)):E.resolve(m.data);case"privy:mfa:init-enrollment":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:mfa:submit-enrollment":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:mfa:unenroll":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:mfa:clear":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:auth:unlink-passkey":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:solana-wallet:create":let k=pr.dequeue(m.event,m.id);return Or(m)?k.reject(new Jn(m.error.type,m.error.message)):k.resolve(m.data);case"privy:farcaster:init-signer":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:farcaster:sign":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}case"privy:delegated-actions:consent":{let _=pr.dequeue(m.event,m.id);return Or(m)?_.reject(new Jn(m.error.type,m.error.message)):_.resolve(m.data)}default:console.warn("Unsupported wallet proxy method:",m)}})(f.data)}let u={signWithUserSigner:f=>Qs((p=>Rr("privy:user-signer:sign",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:f=>Qs((p=>Rr("privy:wallets:add",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:f=>Qs((p=>Rr("privy:wallets:set-recovery",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:f=>Qs((p=>Rr("privy:wallets:connect",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:f=>Qs((p=>Rr("privy:wallets:recover",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!f.recoveryAccessToken&&!f.recoveryPassword&&!f.recoverySecretOverride),rpc:f=>Qs((p=>Rr("privy:wallets:rpc",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:f=>Rr("privy:wallet:create",f,a,t.origin),importWallet:f=>Rr("privy:wallets:import",f,a,t.origin),createSolana:f=>Qs((p=>Rr("privy:solana-wallet:create",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:f=>Rr("privy:delegated-actions:consent",f,a,t.origin),verifyMfa:f=>Qs((p=>Rr("privy:mfa:verify",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:f=>Qs((p=>Rr("privy:mfa:init-enrollment",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:f=>Qs((p=>Rr("privy:mfa:submit-enrollment",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:f=>Qs((p=>Rr("privy:mfa:unenroll",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:f=>Rr("privy:mfa:clear",f,a,t.origin),unlinkPasskeyAccount:f=>Qs((p=>Rr("privy:auth:unlink-passkey",{...f,...p},a,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:f=>Rr("privy:farcaster:init-signer",f,a,t.origin),signFarcasterMessage:f=>Rr("privy:farcaster:sign",f,a,t.origin)};window.addEventListener("message",c);let d=new AbortController;return XT((()=>Rr("privy:iframe:ready",{},a,t.origin)),{abortSignal:d.signal}).then((()=>t.onLoad(u)),((...f)=>{console.warn("Privy iframe failed to load: ",...f),t.onLoadFailed()})),()=>{window.removeEventListener("message",c),d.abort()}}),[s]),e?U.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:n8e({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const iMe=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new ae("Address to delegate is not associated with current user.");if(!r_(n))throw new ae(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},sMe=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new ae("Address to delegate is not associated with current user.");let r=n.imported?n:Gg(e);if(!r)throw new ae("Unable to determine root address for delegated address.");if(!r_(r))throw new ae(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},v9=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),_9="popup-privy-oauth",E9="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class oMe{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(sz,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(oz,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw qt(e)}}constructor(e){this.meta=e}}async function OK({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new ae("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const mb=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let o=t==null?void 0:t.linkedAccounts.find((f=>f.type==="cross_app"&&(f.embeddedWallets.some((p=>p.address===e))||f.smartWallets.some((p=>p.address===e)))));if(!t||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ae("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),c=await OK({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(c.readOnly)throw console.error("cannot transact against a read-only provider app"),new ae("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ae("Transactions require a valid token");let u=new URL(c.customAuthTransactUrl||`${c.apiUrl}/oauth/transact`);u.searchParams.set("token",a||""),u.searchParams.set("request",aMe(r));let d=tz({location:u.href});if(!d)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ae("Failed to initialize signature request");return new Promise(((f,p)=>{let m=setTimeout((()=>{v(),p(new ae("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),y=setInterval((()=>{d.closed&&(v(),p(new ae("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),w=E=>{var k,_,x;E.data&&(((k=E.data.token)==null?void 0:k.action)==="set"&&((_=E.data.token)==null?void 0:_.value)!==void 0?n.storeProviderAccessToken(o.providerApp.id,E.data.token.value):((x=E.data.token)==null?void 0:x.action)==="clear"&&n.storeProviderAccessToken(o.providerApp.id,null),E.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&E.data.result&&(v(),f(E.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),E.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&E.data.error&&(v(),p(E.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:E.data.error,address:e}})))};window.addEventListener("message",w);let v=()=>{d.close(),clearInterval(y),clearTimeout(m),window.removeEventListener("message",w)}}))};let aMe=t=>JSON.stringify({content:{request:{request:P5(t,Pt)}},timestamp:Date.now(),callbackUrl:window.origin});const P5=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>P5(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,P5(r,e)]))):t;function cMe({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function lMe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?cMe({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function uMe(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function x9(t,e){if(t.onComplete)switch(e){case"external":t.fundingResult?t.onComplete({...t.fundingResult,fundingMethod:e}):t.onComplete({status:"cancelled",address:t.address,fundingMethod:e,amount:t.amount});break;case null:t.onComplete({status:"cancelled",address:t.address,fundingMethod:void 0,amount:t.amount});break;default:t.onComplete({status:"completed",address:t.address,fundingMethod:e,amount:t.amount})}}function kVe(t,e,n,r,i,s,o){return{...t,funding:t!=null&&t.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?(s==null?void 0:s.symbol)||"ETH":o.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t==null?void 0:t.solanaFundingData,sendTransaction:t==null?void 0:t.sendTransaction}}const _A=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function S9(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some((i=>e.includes(i)))}async function dMe({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let hMe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const fMe=t=>{if(kj(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=hMe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}},pMe=(t,e)=>!Ec(t)&&(e==="all-users"||e==="users-without-wallets"&&!mMe(t).length);let mMe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const gMe=(t,e)=>!J6(t)&&(e==="all-users"||e==="users-without-wallets"&&!yMe(t).length);let yMe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));async function A9(t,e,n,r){let i=cv(t),{chain:s,...o}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...o,type:XF[o.type]}}const wMe=()=>{let t=Ga(),{user:e}=qy(),{client:n,refreshSessionAndUser:r,walletProxy:i}=qd();return{migrate:H.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0,migrated:!1};if(!e)throw new ae("User must be authenticated before migrating wallets",Ee.MUST_BE_AUTHENTICATED);if(!i)throw new ae("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new ae("User must be authenticated before migrating wallets",Ee.MUST_BE_AUTHENTICATED);let o=e.linkedAccounts.filter((u=>u.type==="wallet"&&u.walletClientType==="privy"&&r_(u)&&!As(u)));if(o.length===0)return{success:!0,migrated:!1};let a=o.filter((u=>u.imported)),c=o.filter((u=>!u.imported));if(c.length>0){let u=c.find((p=>p.chainType==="ethereum"&&p.walletIndex===0))??c.find((p=>p.chainType==="solana"&&p.walletIndex===0))??null;if(!u)throw new ae("Primary wallet not found");let{entropyId:d,entropyIdVerifier:f}=Rv(u);try{await i.connect({accessToken:s,entropyId:d,entropyIdVerifier:f})}catch(p){if(!h1(p)||u.recoveryMethod!=="privy")throw p;await i.recover({accessToken:s,entropyId:d,entropyIdVerifier:f})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:u.address,chainType:u.chainType,imported:!1},delegatedWallets:c.map((p=>({address:p.address,chainType:p.chainType,walletIndex:p.walletIndex??0})))})}for(let u of a){let{entropyId:d,entropyIdVerifier:f}=Rv(u);try{await i.connect({accessToken:s,entropyId:d,entropyIdVerifier:f})}catch(p){if(!h1(p)||u.recoveryMethod!=="privy")throw p;await i.recover({accessToken:s,entropyId:d,entropyIdVerifier:f})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:u.address,chainType:u.chainType,imported:!0},delegatedWallets:[{address:u.address,chainType:u.chainType,walletIndex:u.walletIndex??0}]})}return await r(),{success:!0,migrated:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},bMe=({disabled:t})=>{let{migrate:e}=wMe(),{user:n}=qy(),{walletProxy:r}=qd(),i=H.useRef(!1);return H.useEffect((()=>{!t&&!i.current&&n&&r&&(i.current=!0,e().catch((s=>{console.debug("Unable to migrate wallets: ",s)})).finally((()=>{i.current=!1})))}),[n,r,t,e]),null},vMe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),O5=Hd((()=>({ethereum:[]}))),gb=()=>O5.getState().ethereum;class RK{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(ipe,{token:this.meta.token})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(spe,{token:this.meta.token})}catch(e){throw qt(e)}}constructor(e){this.meta={token:e}}}function _Me({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=qd(),{logout:c,authenticated:u,ready:d}=u_();if(!o)throw new ae("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[f,p]=H.useState({status:"initial"}),m=H.useRef(),y=H.useRef(!1),w=H.useRef(e);H.useEffect((()=>{w.current=e}),[e]);let v=H.useRef(r);H.useEffect((()=>{v.current=r}),[r]);let E=H.useRef(i);H.useEffect((()=>{E.current=i}),[i]);let k=H.useRef(s);return H.useEffect((()=>{k.current=s}),[s]),H.useEffect((()=>{if(!n||!d)return;let _=async()=>{var x,A,T,O;if(!y.current){y.current=!0;try{p({status:"loading"});let N=await w.current();if(m.current!==void 0&&m.current===N)return void p({status:"done"});if(!N)return u&&(await c(),(x=E.current)==null||x.call(E)),m.current=N,void p({status:"done"});o.startAuthFlow(new RK(N));let{user:D,isNewUser:F=!1}=await o.authenticate();if(!D)throw new ae("Failed to sync with custom auth provider");(A=v.current)==null||A.call(v,{user:D,isNewUser:F}),a(D,F),m.current=N,p({status:"done"})}catch(N){if(console.warn(N),await c().catch((()=>{})),(T=E.current)==null||T.call(E),N instanceof Av&&N.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER)return p({status:"initial"}),void setTimeout((()=>{_()}),0);(O=k.current)==null||O.call(k,N),p({status:"error",error:N})}finally{y.current=!1}}};return _(),t(_)}),[t,o,a,u,c,n,d]),n?{state:f}:{state:{status:"not-enabled"}}}let EMe=Hd((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function xMe({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=s_(),i=H.useRef(),s=H.useCallback((c=>(i.current=c,()=>{i.current=void 0})),[]),o=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=_Me({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:c,isNewUser:u})=>{r("login","onComplete",{user:c,isNewUser:u,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:c})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:c=>{r("login","onError",c.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR)}});return H.useEffect((()=>{(async()=>{var c;n&&!n.isLoading&&((c=i.current)==null||c.call(i))})()}),[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:a}})({customAuth:t});return H.useEffect((()=>{EMe.setState({jwtAuthFlowState:e})}),[e]),null}const NK=H.createContext(!1);let $K,DK,MK,LK,BK;const SMe=t=>{var Eo;let e=t.client,n=t.privy,r=bpe(),i=Ga();u7(JT((i==null?void 0:i.appearance.walletList)??[]));let[s,o]=H.useState(!1),a=gy(($=>$.inProgressMfaFlow)),[c,u]=H.useState(!1),[d,f]=H.useState(null),p=O5(($=>$.ethereum)),[m,y]=H.useState(void 0),[w,v]=H.useState(!1),[E,k]=H.useState(null),[_,x]=H.useState(!1),[A,T]=H.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:he}),[O,N]=H.useState({status:"initial"}),[D,F]=H.useState({status:"initial"}),[K,B]=H.useState({status:"initial"}),[j,Y]=H.useState({status:"initial"}),[I,P]=H.useState({status:"initial"}),[L,M]=H.useState({status:"initial"}),[R,z]=H.useState(null),W=vj(),[G,ie]=H.useState({}),[te,ee]=H.useState(null),pe=H.useRef(null),[ye,xe]=H.useState(!1),[we,Oe]=H.useState(!1),Xe=H.useRef(null),ot=H.useRef(null),fe=H.useRef(Que),[St,Nt]=H.useState(!1),[lt,er]=H.useState(!1),Ut=H.useCallback(($=>{er($),!$&&E&&H_[E]().then((q=>{q.default.isUnauthenticatedScreem&&k(null)}))}),[E]);e.onStoreCustomerAccessToken=$=>{$&&Se(fe,"accessToken","onAccessTokenGranted",{accessToken:$})},e.onDeleteCustomerAccessToken=()=>{f(null),Ut(!1),Se(fe,"accessToken","onAccessTokenRemoved")};let Le=H.useRef(null),Be=H.useRef(null),Kn=H.useRef(!1),tr=({showWalletUIs:$})=>Kn.current?Kn.current:$!==void 0?!$:!i.embeddedWallets.showWalletUIs,ft=$=>{k($),setTimeout((()=>{o(!0)}),15)};H.useEffect((()=>{var Q,ne,ce;if(!d)return void((Q=e.connectors)==null?void 0:Q.removeEmbeddedWalletConnectors());let $=Ec(d),q=Cj(d),X=jT(d);$&&q.length||((ne=e.connectors)==null||ne.removeEmbeddedWalletConnectors()),X.length||((ce=e.connectors)==null||ce.removeImportedWalletConnectors()),e.connectors?R?($&&e.connectors.addEmbeddedWalletConnectors({walletProxy:R,user:d,embeddedWallets:q,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),X.forEach((ve=>{var _e;return(_e=e.connectors)==null?void 0:_e.addImportedWalletConnector(R,ve.address,i.defaultChain,t.appId)}))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[R,d]),H.useEffect((()=>{var $;R&&(($=pe.current)==null||$.call(pe,R))}),[R]);let Sr=H.useCallback((($,q)=>{f($),v(q),Ut(!0),Oe(!0)}),[]);H.useEffect((()=>{we&&R&&d&&(async()=>{var Q;let $=pMe(d,i.embeddedWallets.ethereum.createOnLogin),q=gMe(d,i.embeddedWallets.solana.createOnLogin),X=await pn();if(X){if($&&q){let ne=await R.create({accessToken:X});return await R.createSolana({accessToken:X,ethereumAddress:ne==null?void 0:ne.address}),void Oe(!1)}if(q)return await R.createSolana({accessToken:X,ethereumAddress:(Q=Ec(d))==null?void 0:Q.address}),await Tt.refreshSessionAndUser(),void Oe(!1);if($)return await R.create({accessToken:X}),void Oe(!1)}})().catch(console.error)}),[we&&R&&d]),H.useEffect((()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>{var $;return($=i.externalWallets.solana.connectors)==null?void 0:$.onUnmount()}}),[i.externalWallets.solana.connectors]),H.useEffect((()=>{!c&&W&&(async function(){var ve,_e,Qe;let $,q=Pi(),X=mi(),Q=hfe();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:Q,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:y}),(ve=e.connectors)==null||ve.on("connectorInitialized",(()=>{$&&clearTimeout($);let ut=e.connectors.walletConnectors.length,Ot=e.connectors.walletConnectors.reduce(((dt,Vt)=>dt+(Vt.initialized?1:0)),0);Ot===ut?Nt(!0):$=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ot,expected:ut}),Nt(!0)}),1500)})),(_e=e.connectors)==null||_e.initialize().then((()=>{wt()}));let ne=await e.getAuthenticatedUser(),ce=!!ne;i.legal.requireUsersAcceptTerms&&ne&&!ne.hasAcceptedTerms?(await e.logout(),Tt.setReadyToTrue(!0),Se(fe,"logout","onSuccess")):((Qe=i.customAuth)!=null&&Qe.enabled||(Ut(!!ne),ne&&Se(fe,"login","onComplete",{user:ne,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),f(ne)),q?Be.current=ce?"link":"login":X&&!ce?(Be.current="login",ie({telegramAuthModalData:{seamlessAuth:!0}}),ft("TelegramAuthScreen")):Tt.setReadyToTrue(!!ne))})()}),[e,te,c,W]),H.useEffect((()=>{if(c){if(!d||!d.linkedAccounts.find(($=>$.type==="wallet"&&$.walletClientType==="privy")))return void xe(!!R);if([...p].some(($=>$.walletClientType==="privy")))return void xe(!0);xe(!!R)}}),[c,d,p,R]),H.useEffect((()=>{var $;($=e.connectors)==null||$.setWalletList(i.appearance.walletList)}),[i.appearance.walletList.join()]);let Pi=()=>{let $=ODe();return $.inProgress&&$.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):$.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:$.stateCode,authorizationCode:$.authorizationCode}):($.inProgress&&$.provider.startsWith("privy:")&&!$.popupFlow&&(new BroadcastChannel(_9).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:$.stateCode,authorizationCode:$.authorizationCode}),window.close()),!!$.inProgress&&!!$.withPrivyUi&&(e.startAuthFlow(new rf({...$,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),ft("OAuthStatusScreen"),!0))},mi=()=>{var X;let $=(function(){let Q;return(Q=(function(){let ne=new URLSearchParams(window.location.search),ce=Number(ne.get("id")||""),ve=ne.get("hash"),_e=Number(ne.get("auth_date")||""),Qe=ne.get("first_name");if(ce&&Qe&&_e&&ve)return Object.fromEntries(ne.entries())})())?(g9(),{flowType:"login-url",authData:Q}):(Q=(function(){let ne=window.location.hash;if(!ne||!ne.startsWith("#tgWebAppData"))return;let ce=m9(ne.replace("#tgWebAppData=","")),{user:ve,auth_date:_e,hash:Qe}=ce;return ve&&_e&&Qe?ce:void 0})())?(g9(),{flowType:"web-app",authData:Q}):void 0})();if(!$||!i.loginMethods.telegram||!((X=i.loginConfig.telegramAuthConfiguration)!=null&&X.seamlessAuthEnabled))return;let q=new Mm;return e.startAuthFlow(q),$.flowType==="login-url"&&(q.meta.telegramWebAppData=void 0,q.meta.telegramAuthResult=$.authData),$.flowType==="web-app"&&(q.meta.telegramAuthResult=void 0,q.meta.telegramWebAppData=$.authData),!0},Lr=async($,q,X,Q)=>{var ne,ce;if($!=="solana_adapter")nn(await((ne=e.connectors)==null?void 0:ne.createEthereumWalletConnector({connectorType:$,walletClientType:q}))||null,q,X,Q);else{let ve=(ce=e.connectors)==null?void 0:ce.findSolanaWalletConnector(q);if(!ve)return;nn(ve,q,X,Q)}};async function nn($,q,X,Q){if(!$)return T({status:"disconnected",connectedWallet:null,connectError:new Nn("Unable to connect to wallet."),connector:null,connectRetry:he}),Q==null?void 0:Q(null,X);T({status:"disconnected",connectedWallet:null,connectError:null,connector:$,connectRetry:he}),$ instanceof C5&&q&&await $.resetConnection(q),T({connector:$,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>nn($,q,X,Q)});try{let ne=await $.connect({showPrompt:!0});if((!ne||Ml(ne))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find((ce=>ce.id===Number(ne==null?void 0:ne.chainId.replace("eip155:",""))))&&((ne==null?void 0:ne.connectorType)!=="wallet_connect_v2"||(ne==null?void 0:ne.walletClientType)!=="metamask")){T((ce=>({...ce,connector:$,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:he})));try{await(ne==null?void 0:ne.switchChain(i.defaultChain.id)),ne&&(ne.chainId=sg(Pt(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return T((ce=>({...ce,status:"connected",connectedWallet:ne,connectError:null,connectRetry:he}))),ne&&Se(fe,"connectWallet","onSuccess",{wallet:ne}),Q==null?void 0:Q(ne,X)}catch(ne){return ne instanceof uu?(console.warn(ne.cause?ne.cause:ne.message),Se(fe,"connectWallet","onError",ne.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ne),Se(fe,"connectWallet","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR)),T((ce=>({...ce,status:"disconnected",connectedWallet:null,connectError:ne}))),Q==null?void 0:Q(null,X)}}let Gn=async($,q,X)=>{if($===null||!Ml($))return;let Q=new Gb(e,$,q,X);e.startAuthFlow(Q)},Fn=async($,q,X,Q="plain")=>{let ne=r(_pe);if(Q==="transaction"&&!ne)throw new ae("useSolanaLedger plugin hook must be mounted");if($===null||!mde($))return;let ce=new p9($,e,q,X,Q,ne);e.startAuthFlow(ce)},wt=async()=>{let $=new URLSearchParams(window.location.search),q=$.get("privy_connector"),X=$.get("privy_wallet_client"),Q=$.get("privy_connect_only")==="true";if(!q||!X)return;let ne=hde({connectorType:q,walletClientType:X});if(!ne||!ne.isInstalled)return ft("LoginFailedScreen");if(!e.connectors)throw new ae("Connector not initialized");await ft(Q?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let ce=new URL(window.location.href);ce.searchParams.delete("privy_connector"),ce.searchParams.delete("privy_wallet_client"),ce.searchParams.delete("privy_connect_only"),window.history.pushState({},"",ce),Lr(q,X,void 0,Q?void 0:q==="solana_adapter"?Fn:Gn)};H.useEffect((()=>{c&&lt&&d===null&&e.getAuthenticatedUser().then(f)}),[c,lt,d,e]);let rt=$=>{if(!lt)throw Se(fe,"linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:$}),new ae("User must be authenticated before linking an account.")},pt=$=>{if(!lt||!d)return!1;if($.walletClientType==="privy")return!0;for(let q of d.linkedAccounts)if(q.type==="wallet"&&q.address===$.address&&q.walletClientType!=="privy")return!0;return!1},$t=()=>{O5.setState(($=>{var X;let q=((X=e.connectors)==null?void 0:X.wallets.filter(Ml).map((Q=>({...Q,linked:pt(Q),loginOrLink:async()=>{if(!await Q.isConnected())throw new ae("Wallet is not connected");if(Q.connectorType==="embedded"&&Q.walletClientType==="privy")throw new ae("Cannot link or login with embedded wallet");(async ne=>{let ce;if(!e.connectors)throw new ae("Connector not initialized");ce=ne.type==="ethereum"?e.connectors.findWalletConnector(ne.connectorType,ne.walletClientType)||null:e.connectors.findSolanaWalletConnector(ne.walletClientType)||null,T((ve=>({...ve,connector:ce,status:"connected",connectedWallet:ne,connectError:null,connectRetry:he}))),i.captcha.enabledProvider&&!lt?(ie({captchaModalData:{callback:ve=>Ml(ne)?Gn(ne,ve):Fn(ne,ve),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await ft("CaptchaScreen")):(Ml(ne)?await Gn(ne):await Fn(ne),await ft("ConnectionStatusScreen"))})(Q)},fund:async ne=>{await Tt.fundWallet(Q.address,ne)},unlink:async()=>{if(!lt)throw new ae("User is not authenticated.");if(Q.connectorType==="embedded"&&Q.walletClientType==="privy")throw new ae("Cannot unlink an embedded wallet");f(await e.unlinkEthereumWallet(Q.address))}}))))||[];return f7($.ethereum,q)?{}:{ethereum:q}}))};H.useEffect((()=>{$t()}),[d==null?void 0:d.linkedAccounts,lt,c]),H.useEffect((()=>{if(c){if(!e.connectors)throw new ae("Connector not initialized");$t(),e.connectors.on("walletsUpdated",$t)}}),[c]),H.useEffect((()=>{var $,q;[...(($=i.loginMethodsAndOrder)==null?void 0:$.primary)??[],...((q=i.loginMethodsAndOrder)==null?void 0:q.overflow)??[]].filter((X=>X.startsWith("privy:"))).forEach((X=>e.getCrossAppProviderDetails(X.replace("privy:",""))))}),[!!e]);let Yn=({transaction:$,sponsor:q,uiOptions:X,fundWalletConfig:Q,address:ne,signOnly:ce})=>new Promise((async(ve,_e)=>{let{requesterAppId:Qe}=X||{},ut=ce?"signTransaction":"sendTransaction",Ot=ne?Lh(d,ne):Ec(d);if(!Ot&&ne){let bt=T2(gb(),ne);if(bt){if(q)throw new ae("Cannot sponsor transactions for externally connected wallet.");try{let Ht=await bt.getEthereumProvider(),It={...$,from:ne,chainId:$.chainId||Number(bt.chainId.replace("eip155:","")),value:$.value!==void 0?Pt($.value):void 0},gn=await Ht.request({method:ut==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[It]});return Se(fe,ut,"onSuccess",{hash:gn}),void ve({hash:gn})}catch(Ht){return Se(fe,ut,"onError",Ee.TRANSACTION_FAILURE),void _e(Ht??new va("Unable to "+ut+Ht))}}}if(!Ot)return Se(fe,ut,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void _e(new ae("No embedded or connected wallet found for address."));if(!lt||!d)return Se(fe,ut,"onError",Ee.MUST_BE_AUTHENTICATED),void _e(Error("User must be authenticated before signing with a Privy wallet"));let dt=Ot.address,Vt=Ot.walletIndex??0,{entropyId:Zt,entropyIdVerifier:et}=Dl(d,Ot),Jt=bo.wallets.find((bt=>bt.walletClientType==="privy"&&ci(bt.address)===ci(dt)));if(!Jt)return Se(fe,ut,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void _e(Error("Must have a Privy wallet before signing"));let rn=await Jt.getEthereumProvider(),zn=await rn.request({method:"eth_chainId"}),Wn=$.chainId?Number($.chainId):s7(zn);(bt=>{if(!i.chains.map((Ht=>Ht.id)).includes(bt))throw new Nn(`Chain ID ${bt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ee.UNSUPPORTED_CHAIN_ID)})(Wn);let An={...$,from:$.from??dt,chainId:Wn},nr=await pn();if(!nr||!R)return Se(fe,ut,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void _e(Error("Must have valid access token and Privy wallet to send transaction"));let Ze=Ov(An.chainId,i.chains,i.rpcConfig,{appId:t.appId}),jt=As(Ot),dr=async({transactionRequest:bt})=>{try{let Ht;if(!await Tt.recoverEmbeddedWallet({address:dt}))throw Se(fe,ut,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),_e(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(q){let It=await(async({transactionRequest:gn})=>{if(!jt)throw new ae("Sponsoring is only supported for wallets on the TEE stack");if(ce)throw new ae("Cannot sponsor a sign transaction request");let Ir=gs=>gs==null?void 0:Pt(gs),rr=await Uo(n,(async({message:gs})=>await R.signWithUserSigner({accessToken:nr,requesterAppId:Qe,message:gs})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:sg(Pt(gn.chainId)),sponsor:!0,params:{transaction:{from:gn.from,to:gn.to,chain_id:Ir(gn.chainId),data:Li(gn.data)?gn.data?gn.data:Pt(Uint8Array.from(gn.data)):void 0,value:Ir(gn.value)}},wallet_id:Ot.id});if(rr.data&&"hash"in rr.data)return rr.data.hash;throw new va("Unable to sign transaction")})({transactionRequest:bt});return Se(fe,"sendTransaction","onSuccess",{hash:It}),It}if(jt){let It=Ir=>Ir==null?void 0:Pt(Ir),gn=await Uo(n,(async({message:Ir})=>await R.signWithUserSigner({accessToken:nr,requesterAppId:Qe,message:Ir})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:bt.from,to:bt.to,nonce:It(bt.nonce),chain_id:It(bt.chainId),data:Li(bt.data)?bt.data?bt.data:Pt(Uint8Array.from(bt.data)):void 0,value:It(bt.value),type:bt.type,gas_limit:It(bt.gasLimit??bt.gas),gas_price:It(bt.gasPrice??bt.gas),max_fee_per_gas:It(bt.maxFeePerGas),max_priority_fee_per_gas:It(bt.maxPriorityFeePerGas)}},wallet_id:Ot.id});if(!gn.data||!("signed_transaction"in gn.data))throw new va("Unable to sign transaction");Ht=gn.data.signed_transaction}else Ht=await(async function({accessToken:It,entropyId:gn,entropyIdVerifier:Ir,transactingWalletIndex:rr,walletProxy:gs,transactionRequest:Ri,requesterAppId:Tp}){return(await gs.rpc({entropyId:gn,entropyIdVerifier:Ir,hdWalletIndex:rr??0,chainType:"ethereum",accessToken:It,requesterAppId:Tp,request:{method:"eth_signTransaction",params:[Ri]}})).response.data})({accessToken:nr,entropyId:Zt,entropyIdVerifier:et,transactingWalletIndex:Vt,walletProxy:R,transactionRequest:bt,requesterAppId:Qe});if(ce)return Se(fe,"signTransaction","onSuccess",{signature:Ht}),Ht;{let It=await Ze.sendRawTransaction({serializedTransaction:Ht});return Se(fe,"sendTransaction","onSuccess",{hash:It}),It}}catch(Ht){throw Se(fe,ut,"onError",Ee.TRANSACTION_FAILURE),Ht}};if(tr({showWalletUIs:X==null?void 0:X.showWalletUIs})){let bt=ce||q?An:await A9(An,Ze,An.from);try{let Ht=await dr({transactionRequest:bt});ce?Se(fe,"signTransaction","onSuccess",{signature:Ht}):Se(fe,"sendTransaction","onSuccess",{hash:Ht}),ve({hash:Ht})}catch(Ht){Se(fe,ut,"onError",Ee.TRANSACTION_FAILURE),_e(Ht)}}else{let bt={connectingWalletAddress:dt,recoveryMethod:Ot.recoveryMethod,entropyId:Zt,entropyIdVerifier:et,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:jt,onFailure:It=>{Se(fe,ut,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),_e(It)}},Ht=(It=>!!It.fundingConfig&&sk(It.fundingConfig.options).length>=1)(i)?GR({address:dt,appConfig:i,fundWalletConfig:Q,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:An.chainId,comingFromSendTransactionScreen:!0}):void 0;ie({connectWallet:bt,sendTransaction:{transactionRequest:An,transactingWalletIndex:Vt,transactingWalletAddress:dt,entropyId:Zt,entropyIdVerifier:et,signOnly:ce,scanTransaction:async()=>{var gn,Ir,rr,gs;let It=await A9(An,Ze,An.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:It.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:It.from,to:It.to,value:(gn=It.value)==null?void 0:gn.toString(),gas:(Ir=It.gas)==null?void 0:Ir.toString(),gasPrice:(rr=It.gasPrice)==null?void 0:rr.toString(),nonce:(gs=It.nonce)==null?void 0:gs.toString(),data:It.data}]}})},getIsSponsored:async()=>!!q,onConfirm:({transactionRequest:It})=>dr({transactionRequest:It}),onSuccess:It=>{ce?Se(fe,"signTransaction","onSuccess",{signature:It.hash}):Se(fe,"sendTransaction","onSuccess",{hash:It.hash}),ve(It)},onFailure:It=>{Se(fe,ut,"onError",Ee.TRANSACTION_FAILURE),_e(It)},uiOptions:X||{},fundWalletConfig:Q,requesterAppId:Qe},funding:Ht}),ft("EmbeddedWalletConnectingScreen")}}));function Sn(){return new Promise((async($,q)=>{let X=await pn();if(!X||!R)throw Error("Must have valid access token to enroll in MFA");try{await R.verifyMfa({accessToken:X}),$()}catch(Q){q(Q)}}))}let At=$=>$==null?void 0:$.linkedAccounts.filter((q=>q.latestVerifiedAt!==null&&!(q.type==="wallet"&&q.walletClientType==="privy"))).sort(((q,X)=>X.latestVerifiedAt.getTime()-q.latestVerifiedAt.getTime()))[0],je=$=>{let q=(d==null?void 0:d.linkedAccounts.filter((ne=>ne.type===$)).length)??0,{displayName:X,loginMethod:Q}=fMe($);if($==="passkey"&&q>=5||$!=="passkey"&&q>=1)throw Se(fe,"linkAccount","onError",Ee.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:Q}),new ae(`User already has an account of type ${X} linked.`)};async function jn({showAutomaticRecovery:$=!1,legacySetWalletPasswordFlow:q=!1}){k(null);let X=q?"setWalletPassword":"setWalletRecovery";if(!lt||!d)throw Se(fe,X,"onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let Q=Gg(d);if(!Q||!R)throw Se(fe,X,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ne=As(Q);if(ne)throw Se(fe,X,"onError",Ee.UNSUPPORTED_WALLET_TYPE),new ae("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Sn()}catch(ce){throw Se(fe,X,"onError",Ee.MISSING_MFA_CREDENTIALS),ce}return new Promise(((ce,ve)=>{let _e=Q.recoveryMethod==="user-passcode",Qe=lMe({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:q,isResettingPassword:_e,showAutomaticRecovery:$}),{entropyId:ut,entropyIdVerifier:Ot}=Dl(d),dt={recoveryMethod:Q.recoveryMethod,connectingWalletAddress:Q.address,onCompleteNavigateTo:Qe,shouldForceMFA:!1,entropyId:ut,isUnifiedWallet:ne,entropyIdVerifier:Ot,onFailure:Vt=>{Se(fe,X,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),ve(Vt)}};ie({setWalletPassword:{onSuccess:Vt=>{Se(fe,X,"onSuccess",{method:"user-passcode",wallet:Vt}),ce(Vt)},onFailure:Vt=>{Se(fe,X,"onError",Ee.USER_EXITED_SET_PASSWORD_FLOW),ve(Vt)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:ut,entropyIdVerifier:Ot,onFailure:ve},connectWallet:dt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:_e,shouldCreateEth:!1,shouldCreateSol:!1}}),ft("EmbeddedWalletConnectingScreen")}))}async function Ar({appId:$,action:q,disableSignup:X}){let Q=await pn();if(q==="link"&&!Q)throw Se(fe,"linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${$}`}),new ae("User must be authenticated before linking an account.");if(q==="login"&&Q)throw Se(fe,"login","onError",Ee.UNKNOWN_AUTH_ERROR),new ae("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Le.current=`privy:${$}`,Be.current=q;let ne=tz();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:$}}),new Promise((async(ce,ve)=>{let{name:_e,logoUrl:Qe}=await OK({api:e.api,providerAppId:$,requesterAppId:i.id});ie({crossAppAuth:{appId:$,name:_e,logoUrl:Qe,action:q,popup:ne,disableSignup:X,onSuccess:ce,onError:ve}}),ft("CrossAppAuthScreen")}))}let Tr={ready:c,authenticated:lt,user:d,walletConnectors:e.connectors||null,connectWallet:$=>{$&&"target"in $&&$&&($=void 0),ie({externalConnectWallet:{walletList:$!=null&&$.walletList&&($==null?void 0:$.walletList.length)>0?$.walletList:void 0,walletChainType:$==null?void 0:$.walletChainType,description:$==null?void 0:$.description,hideHeader:$==null?void 0:$.hideHeader}}),ft("ConnectOnlyLandingScreen")},linkWallet:$=>($&&"target"in $&&$&&($=void 0),rt("siwe"),Le.current="siwe",Be.current="link",ie({...G,externalConnectWallet:{...G.externalConnectWallet,walletList:$==null?void 0:$.walletList,walletChainType:$==null?void 0:$.walletChainType,description:($==null?void 0:$.description)||`Link a wallet to your ${i==null?void 0:i.name} account`}}),ft("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:Ar,linkEmail:()=>{rt("email"),je("email"),Le.current="email",Be.current="link",ft("LinkEmailScreen")},linkPhone:()=>{rt("sms"),je("phone"),Le.current="sms",Be.current="link",ft("LinkPhoneScreen")},linkGoogle:async()=>{rt("google"),je("google_oauth"),Be.current="link",await Tt.initLoginWithOAuth("google")},linkTwitter:async()=>{rt("twitter"),je("twitter_oauth"),Be.current="link",await Tt.initLoginWithOAuth("twitter")},linkTwitch:async()=>{rt("twitch"),je("twitch_oauth"),Be.current="link",await Tt.initLoginWithOAuth("twitch")},linkDiscord:async()=>{rt("discord"),je("discord_oauth"),Be.current="link",await Tt.initLoginWithOAuth("discord")},linkGithub:async()=>{rt("github"),je("github_oauth"),Be.current="link",await Tt.initLoginWithOAuth("github")},linkSpotify:async()=>{rt("spotify"),je("spotify_oauth"),Be.current="link",await Tt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{rt("instagram"),je("instagram_oauth"),Be.current="link",await Tt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{rt("tiktok"),je("tiktok_oauth"),Be.current="link",await Tt.initLoginWithOAuth("tiktok")},linkLine:async()=>{rt("line"),je("line_oauth"),Be.current="link",await Tt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{rt("linkedin"),je("linkedin_oauth"),Be.current="link",await Tt.initLoginWithOAuth("linkedin")},linkApple:async()=>{rt("apple"),je("apple_oauth"),Be.current="link",await Tt.initLoginWithOAuth("apple")},linkPasskey:async()=>{rt("passkey"),je("passkey"),await Tt.initLinkWithPasskey(),ft("LinkPasskeyScreen")},linkTelegram:async $=>{if(rt("telegram"),je("telegram"),Be.current="link",Le.current="telegram",$==null?void 0:$.launchParams)if($.launchParams.initDataRaw){let q=new Mm;e.startAuthFlow(q),q.meta.telegramAuthResult=void 0,q.meta.telegramWebAppData=m9($.launchParams.initDataRaw),ie({telegramAuthModalData:{seamlessAuth:!0}}),ft("TelegramAuthScreen")}else Se(fe,"linkAccount","onError",Ee.INVALID_DATA,{linkMethod:"telegram"});else await Tt.initLoginWithTelegram();ft("TelegramAuthScreen")},linkFarcaster:async()=>{rt("farcaster"),je("farcaster"),await Tt.initLoginWithFarcaster(),Be.current="link",Le.current="farcaster",ft("FarcasterConnectStatusScreen")},updateEmail:()=>{if(rt("email"),!(d!=null&&d.email))throw new ae("User does not have an email linked to their account.");Be.current="update",Le.current="email",ft("UpdateEmailScreen")},updatePhone:()=>{if(rt("sms"),!(d!=null&&d.phone))throw new ae("User does not have a phone number linked to their account.");Be.current="update",Le.current="sms",ft("UpdatePhoneScreen")},login:async $=>{$&&"target"in $&&$&&($=void 0);let q="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!c){let X=await new Promise((Q=>{ee((ne=>Q.bind(ne)))}));if(ee(null),X)return void console.warn(q)}!d||d.isGuest?(Be.current="login",ie({login:$}),ft("LandingScreen")):console.warn(q)},connectOrCreateWallet:async()=>{c||(await new Promise(($=>{ee((()=>$))})),ee(null)),lt?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Be.current="connect-or-create",ft("ConnectOrCreateScreen"))},logout:async()=>{if(Be.current=null,Le.current=null,d&&e.clearProviderAcccessTokens(d),k(null),await e.logout(),d&&R)try{await R.clearMfa({userId:d.id})}catch{}f(null),Ut(!1),F({status:"initial"}),B({status:"initial"}),N({status:"initial"}),Y({status:"initial"}),P({status:"initial"}),M({status:"initial"}),Se(fe,"logout","onSuccess"),o(!1),at.del(UT),at.del(gj(i.id))},getAccessToken:H.useCallback((async()=>{let $=await e.getCustomerAccessToken();return $&&!lt&&Ut(!0),$}),[e,lt]),unlinkWallet:async $=>{let q;return f(q=$.startsWith("0x")?await e.unlinkEthereumWallet($):await e.unlinkSolanaWallet($)),q},unlinkEmail:async $=>{let q=await e.unlinkEmail($);return f(q),q},unlinkPhone:async $=>{let q=await e.unlinkPhone($);return f(q),q},unlinkGoogle:async $=>{let q=await e.unlinkOAuth("google",$);return f(q),q},unlinkTwitter:async $=>{let q=await e.unlinkOAuth("twitter",$);return f(q),q},unlinkTwitch:async $=>{let q=await e.unlinkOAuth("twitch",$);return f(q),q},unlinkDiscord:async $=>{let q=await e.unlinkOAuth("discord",$);return f(q),q},unlinkGithub:async $=>{let q=await e.unlinkOAuth("github",$);return f(q),q},unlinkSpotify:async $=>{let q=await e.unlinkOAuth("spotify",$);return f(q),q},unlinkInstagram:async $=>{let q=await e.unlinkOAuth("instagram",$);return f(q),q},unlinkTiktok:async $=>{let q=await e.unlinkOAuth("tiktok",$);return f(q),q},unlinkLine:async $=>{let q=await e.unlinkOAuth("line",$);return f(q),q},unlinkLinkedIn:async $=>{let q=await e.unlinkOAuth("linkedin",$);return f(q),q},unlinkApple:async $=>{let q=await e.unlinkOAuth("apple",$);return f(q),q},unlinkFarcaster:async $=>{let q=await e.unlinkFarcaster($);return f(q),q},unlinkTelegram:async $=>{let q=await e.unlinkTelegram($);return f(q),q},unlinkPasskey:async $=>{let q=await pn();if(!q)throw Error("Must have valid access token to enroll in MFA");if(!R)throw Error("Wallet proxy not initialized.");let X=i.passkeys.shouldUnenrollMfaOnUnlink;await R.unlinkPasskeyAccount({credentialId:$,accessToken:q,removeAsMfa:X});let Q=await e.getAuthenticatedUser();return f(Q),Q},unlinkCrossAppAccount:async({subject:$})=>{var Q;let q=(Q=d==null?void 0:d.linkedAccounts.find((ne=>ne.type==="cross_app"&&ne.subject===$)))==null?void 0:Q.providerApp;if(!q)throw new ae("Invalid subject");e.storeProviderAccessToken(q.id,null);let X=await e.unlinkOAuth(`privy:${q.id}`,$);return f(X),X},setWalletRecovery:async $=>jn({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:($==null?void 0:$.showAutomaticRecovery)??!1}),setWalletPassword:async()=>jn({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:($,q)=>new Promise((async(X,Q)=>{var Zt;let{requesterAppId:ne}=(q==null?void 0:q.uiOptions)||{},ce=$.message,ve=q!=null&&q.address?Lh(d,q.address):Ec(d);if(!ve&&(q==null?void 0:q.address)!==void 0){let et=T2(gb(),q.address);if(et)try{let Jt=await et.getEthereumProvider(),rn=await Jt.request({method:"personal_sign",params:[ce,et.address]});return Se(fe,"signMessage","onSuccess",{signature:rn}),void X({signature:rn})}catch(Jt){return Se(fe,"signMessage","onError",Ee.UNABLE_TO_SIGN),void Q(Jt??new va("Unable to sign message"))}}if(!ve)throw new ae("No embedded or connected wallet found for address.");if(!lt||!d)return Se(fe,"signMessage","onError",Ee.MUST_BE_AUTHENTICATED),void Q(Error("User must be authenticated before signing with a Privy wallet"));let _e=ve.address,Qe=ve.walletIndex??0,{entropyId:ut,entropyIdVerifier:Ot}=Dl(d,ve),dt=As(ve);if(typeof ce!="string"||ce.length<1)return Se(fe,"signMessage","onError",Ee.INVALID_MESSAGE),void Q(Error("Message must be a non-empty string"));let Vt=async()=>{let et;if(!lt)throw Error("User must be authenticated before signing with a Privy wallet");let Jt=await pn();if(!R||!Jt||!await Tt.recoverEmbeddedWallet({address:_e}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:_e,requesterAppId:ne}}),dt){let rn=Li($.message,{strict:!0}),zn=await Uo(n,(async({message:Wn})=>await R.signWithUserSigner({accessToken:Jt,requesterAppId:ne,message:Wn})),{chain_type:"ethereum",method:"personal_sign",params:rn?{message:ce.slice(2),encoding:"hex"}:{message:ce,encoding:"utf-8"},wallet_id:ve.id});if(!zn.data||!("signature"in zn.data))throw new va("Unable to sign message");et=zn.data.signature}else{let{response:rn}=await R.rpc({accessToken:Jt,entropyId:ut,entropyIdVerifier:Ot,chainType:"ethereum",hdWalletIndex:Qe,requesterAppId:ne,request:{method:"personal_sign",params:[ce,_e]}});et=rn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:_e,requesterAppId:ne}}),et};if(tr({showWalletUIs:(Zt=q==null?void 0:q.uiOptions)==null?void 0:Zt.showWalletUIs}))try{let et=await Vt();Se(fe,"signMessage","onSuccess",{signature:et}),X({signature:et})}catch(et){Se(fe,"signMessage","onError",Ee.UNABLE_TO_SIGN),Q(et??new va("Unable to sign message"))}else ie({signMessage:{method:"personal_sign",data:ce,confirmAndSign:Vt,onSuccess:et=>{Se(fe,"signMessage","onSuccess",{signature:et}),X({signature:et})},onFailure:et=>{Se(fe,"signMessage","onError",Ee.UNABLE_TO_SIGN),Q(et)},uiOptions:(q==null?void 0:q.uiOptions)||{}},connectWallet:{recoveryMethod:ve.recoveryMethod,connectingWalletAddress:_e,entropyId:ut,entropyIdVerifier:Ot,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:dt,onFailure:et=>{Se(fe,"signMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),Q(et)}}}),ft("EmbeddedWalletConnectingScreen")})),signTypedData:($,q)=>new Promise((async(X,Q)=>{var Zt;let{requesterAppId:ne}=(q==null?void 0:q.uiOptions)||{},ce=q!=null&&q.address?Lh(d,q.address):Ec(d);if(!ce&&(q!=null&&q.address)){let et=T2(gb(),q.address);if(et)try{let Jt=await et.getEthereumProvider(),rn=$b($),zn=await Jt.request({method:"eth_signTypedData_v4",params:[et.address,rn]});return Se(fe,"signTypedData","onSuccess",{signature:zn}),void X({signature:zn})}catch(Jt){return Se(fe,"signTypedData","onError",Ee.UNABLE_TO_SIGN),void Q(Jt??new va("Unable to sign typed data "+Jt))}}if(!ce)throw new ae("No embedded or connected wallet found for address.");if(!lt||!d)return Se(fe,"signTypedData","onError",Ee.MUST_BE_AUTHENTICATED),void Q(Error("User must be authenticated before signing with a Privy wallet"));let ve=ce.address,_e=ce.walletIndex??0,{entropyId:Qe,entropyIdVerifier:ut}=Dl(d,ce),Ot=As(ce),dt=$b($),Vt=async()=>{let et;if(!lt)throw Error("User must be authenticated before signing with a Privy wallet");let Jt=await pn();if(!R||!Jt||!await Tt.recoverEmbeddedWallet({address:ve}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:ve,requesterAppId:ne}}),Ot){let{domain:rn,types:zn,primaryType:Wn,message:An}=dt,nr=await Uo(n,(async({message:Ze})=>await R.signWithUserSigner({accessToken:Jt,requesterAppId:ne,message:Ze})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:rn,types:zn,primary_type:Wn,message:An}},wallet_id:ce.id});if(!nr.data||!("signature"in nr.data))throw new va("Unable to sign message");et=nr.data.signature}else{let{response:rn}=await R.rpc({accessToken:Jt,entropyId:Qe,entropyIdVerifier:ut,chainType:"ethereum",hdWalletIndex:_e,requesterAppId:ne,request:{method:"eth_signTypedData_v4",params:[ve,dt]}});et=rn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:ve,requesterAppId:ne}}),et};if(tr({showWalletUIs:(Zt=q==null?void 0:q.uiOptions)==null?void 0:Zt.showWalletUIs}))try{let et=await Vt();Se(fe,"signTypedData","onSuccess",{signature:et}),X({signature:et})}catch(et){Se(fe,"signTypedData","onError",Ee.UNABLE_TO_SIGN),Q(et??new va("Unable to sign message"))}else ie({signMessage:{method:"eth_signTypedData_v4",data:dt,confirmAndSign:Vt,onSuccess:et=>{Se(fe,"signTypedData","onSuccess",{signature:et}),X({signature:et})},onFailure:et=>{Se(fe,"signTypedData","onError",Ee.UNABLE_TO_SIGN),Q(et)},uiOptions:(q==null?void 0:q.uiOptions)||{}},connectWallet:{recoveryMethod:ce.recoveryMethod,connectingWalletAddress:ce.address,entropyId:Qe,isUnifiedWallet:Ot,entropyIdVerifier:ut,onCompleteNavigateTo:"SignRequestScreen",onFailure:et=>{Se(fe,"signMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),Q(et)}}}),ft("EmbeddedWalletConnectingScreen")})),sendTransaction:async($,q)=>await Yn({transaction:$,sponsor:q==null?void 0:q.sponsor,uiOptions:q==null?void 0:q.uiOptions,fundWalletConfig:q==null?void 0:q.fundWalletConfig,address:q==null?void 0:q.address,signOnly:!1}),signTransaction:async($,q)=>({signature:(await Yn({transaction:$,uiOptions:q==null?void 0:q.uiOptions,address:q==null?void 0:q.address,signOnly:!0})).hash}),exportWallet:$=>new Promise((async(q,X)=>{if(!lt||!d)return void X(Error("User must be authenticated before exporting their Privy wallet"));$&&"target"in $&&$&&($=void 0);let Q=$!=null&&$.address?Lh(d,$.address):Ec(d);if(!Q)return void X(new ae("User must have an embedded wallet."));let ne=Q.address,{entropyId:ce,entropyIdVerifier:ve}=Dl(d,Q),_e=As(Q);if(!ne)return void X(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!vn(ne))return void X(Error("Must provide a valid Ethereum address."));let Qe={recoveryMethod:Q.recoveryMethod,connectingWalletAddress:Q.address,isUnifiedWallet:_e,entropyId:ce,entropyIdVerifier:ve,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:X,shouldForceMFA:!0};ie(G),await pn()&&R?R?r_(Q)?(ie({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:Q.address,entropyId:ce,entropyIdVerifier:ve,hdWalletIndex:Q.walletIndex,chainType:Q.chainType,walletId:Q.id,isUnifiedWallet:_e,imported:Q.imported,onSuccess:q,onFailure:X},connectWallet:Qe}),ft("EmbeddedWalletConnectingScreen")):X(Error(`Export is not supported for ${Q.chainType} wallets`)):X(Error("Must have a Privy wallet before exporting")):X(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Sn,async init($){switch($){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${$}`)}},async submit($,q){var X,Q,ne;switch($){case"totp":case"sms":if(typeof q!="string")throw new ae("Invalid MFA code");(X=Xe.current)==null||X.resolve({mfaMethod:$,mfaCode:q,relyingParty:window.origin}),await new Promise(((_e,Qe)=>{ot.current={resolve:_e,reject:Qe}}));break;case"passkey":if(typeof q=="string")throw new ae("Invalid authenticator response");let ce=await ze(()=>import("./index-VZUuMKX8.js"),[]),ve=vMe(await ce.startAuthentication({optionsJSON:q}));(Q=Xe.current)==null||Q.resolve({mfaMethod:$,mfaCode:ve,relyingParty:window.origin}),await new Promise(((_e,Qe)=>{ot.current={resolve:_e,reject:Qe}}));break;default:throw(ne=Xe.current)==null||ne.reject(new ae("Unsupported MFA method")),new ae(`Unsupported MFA method: ${$}`)}},cancel(){var $;($=Xe.current)==null||$.reject(new ae("MFA canceled"))},async initEnrollmentWithSms($){let q=await pn();if(!q||!R)throw Error("Must have valid access token to enroll in MFA");await R.initEnrollMfa({method:"sms",accessToken:q,phoneNumber:$.phoneNumber})},enrollInMfa:$=>new Promise(((q,X)=>{if(!$)return Tt.closePrivyModal(),void q();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),ie({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:q,onFailure:X}}),ft("MfaEnrollmentFlowScreen")})),async initEnrollmentWithTotp(){let $=await pn();if(!$||!R)throw Error("Must have valid access token to enroll in MFA");let q=await R.initEnrollMfa({method:"totp",accessToken:$});return{secret:q.secret,authUrl:q.authUrl}},async submitEnrollmentWithSms($){let q=await pn();if(!q||!R)throw Error("Must have valid access token to enroll in MFA");await R.submitEnrollMfa({method:"sms",accessToken:q,phoneNumber:$.phoneNumber,code:$.mfaCode}),f(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp($){let q=await pn();if(!q||!R)throw Error("Must have valid access token to enroll in MFA");await R.submitEnrollMfa({method:"totp",accessToken:q,code:$.mfaCode}),f(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:$},q={}){let X=await pn();if(!X||!R)throw Error("Must have valid access token to enroll in MFA");await R.submitEnrollMfa({method:"passkey",accessToken:X,credentialIds:$,removeForLogin:q.removeForLogin}),f(await e.getAuthenticatedUser())},async unenroll($,q={}){let X=await pn();if(!X||!R)throw Error("Must have valid access token to remove MFA");$==="passkey"?await R.submitEnrollMfa({method:"passkey",accessToken:X,credentialIds:[],removeForLogin:q.removeForLogin}):await R.unenrollMfa({method:$,accessToken:X}),f(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var Q;let $=await pn(),q=d==null?void 0:d.linkedAccounts.find((ne=>ne.type==="wallet"&&ne.walletClientType==="privy"));if(!$)throw Error("Must have valid access token to connect with Farcaster");if(!R||!q)throw Error("Must have an embedded wallet to use Farcaster signers");if(As(q))throw new ae("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((Q=d==null?void 0:d.farcaster)!=null&&Q.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Tt.recoverEmbeddedWallet({address:q.address}))throw Error("Unable to connect to wallet");let X=await R.initFarcasterSigner({address:q.address,hdWalletIndex:null,accessToken:$,mfaCode:null,mfaMethod:null,relyingParty:window.origin});X.status==="approved"&&f(await e.getAuthenticatedUser()||d||null),ie({farcasterSigner:X}),ft("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{var Q,ne;let $,q=await pn(),X=d==null?void 0:d.linkedAccounts.find((ce=>ce.type==="wallet"&&ce.walletClientType==="privy"));if(!q)throw Error("Must have valid access token to connect with Farcaster");if(!R||!X)throw Error("Must have an embedded wallet to use Farcaster signers");if(As(X))throw new ae("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((Q=d==null?void 0:d.farcaster)!=null&&Q.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Tt.recoverEmbeddedWallet({address:X.address}))throw Error("Unable to connect to wallet");if(!((ne=d.farcaster)!=null&&ne.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return $=d.farcaster.signerPublicKey.slice(2),Uint8Array.from($.match(/.{1,2}/g).map((ce=>parseInt(ce,16))))},signFarcasterMessage:async $=>{var ce,ve;let q=await pn(),X=d==null?void 0:d.linkedAccounts.find((_e=>_e.type==="wallet"&&_e.walletClientType==="privy"));if(!q)throw Error("Must have valid access token to connect with Farcaster");if(!R||!X)throw Error("Must have an embedded wallet to use Farcaster signers");if(As(X))throw new ae("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((ce=d==null?void 0:d.farcaster)!=null&&ce.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Tt.recoverEmbeddedWallet({address:X.address}))throw Error("Unable to connect to wallet");if(!((ve=d.farcaster)!=null&&ve.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let Q=await ze(()=>import("./index-VZUuMKX8.js"),[]),ne=await R.signFarcasterMessage({address:X.address,hdWalletIndex:null,accessToken:q,mfaCode:null,mfaMethod:null,payload:{hash:Q.bufferToBase64URLString($)},fid:BigInt(d.farcaster.fid),relyingParty:window.origin});return new Uint8Array(Q.base64URLStringToBuffer(ne.signature))},signMessageWithCrossAppWallet($,{address:q,chainId:X}){let Q=d==null?void 0:d.linkedAccounts.some((ne=>ne.type==="cross_app"&&ne.smartWallets.some((ce=>ce.address===q))));return mb({user:d,client:e,address:q,requesterAppId:i.id,request:{method:Q?"privy_signSmartWalletMessage":"personal_sign",params:[$,q],chainId:X},reconnect:Ar})},signTypedDataWithCrossAppWallet($,{address:q,chainId:X}){let Q=d==null?void 0:d.linkedAccounts.some((ce=>ce.type==="cross_app"&&ce.smartWallets.some((ve=>ve.address===q)))),ne=$b($);return mb({user:d,client:e,address:q,requesterAppId:i.id,request:{method:Q?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[q,ne],chainId:X},reconnect:Ar})},sendTransactionWithCrossAppWallet($,{address:q}){let X=d==null?void 0:d.linkedAccounts.some((Q=>Q.type==="cross_app"&&Q.smartWallets.some((ne=>ne.address===q))));return mb({user:d,client:e,address:q,requesterAppId:i.id,request:{method:X?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[$],chainId:$.chainId},reconnect:Ar})},signTransactionWithCrossAppWallet($,{address:q}){let X=d==null?void 0:d.linkedAccounts.some((Q=>Q.type==="cross_app"&&Q.smartWallets.some((ne=>ne.address===q))));return mb({user:d,client:e,address:q,requesterAppId:i.id,request:{method:X?"privy_signSmartWalletTx":"eth_signTransaction",params:[$],chainId:$.chainId},reconnect:Ar})},isModalOpen:s||!!a,mfaMethods:i.mfa.methods};$K=Tr.signMessage,DK=Tr.signTypedData,LK=async($,q)=>await Yn({transaction:$,...q,signOnly:!1}),MK=async($,q)=>({signature:(await Yn({transaction:$,...q,signOnly:!0})).hash});let Oi=async $=>{let q,X,Q;x(!0),P({status:"loading"}),e.startAuthFlow(new rf({...$,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let ne=at.get(Ev),ce=$.stateCode;if(ne!==ce)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:$.provider,storedStateCode:ne??"",returnedStateCode:ce??""}}),x(!1),new ae("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:q,oAuthTokens:Q}=await e.link()),Le.current=$.provider;let ve=At(q);q&&ve&&Se(fe,"linkAccount","onSuccess",{user:q,linkMethod:Le.current,linkedAccount:ve})}catch(ve){throw x(!1),Se(fe,"linkAccount","onError",ve.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:$.provider}),ve}else try{({user:q,isNewUser:X,oAuthTokens:Q}=await e.authenticate()),Le.current=$.provider;let ve=At(q);q&&ve&&X!==void 0&&Se(fe,"login","onComplete",{user:q,isNewUser:X,wasAlreadyAuthenticated:!1,loginMethod:Le.current,loginAccount:ve})}catch(ve){throw x(!1),P({status:"error",error:ve}),Se(fe,"login","onError",ve.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),ve}return f(q),v(X||!1),Ut(!0),x(!1),P({status:"done"}),Q&&q&&Se(fe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Q,user:q}),q??void 0},Tt={privy:n,setAuthenticated:Ut,setUser:f,setIsNewUser:v,isNewUserThisSession:w,pendingTransaction:null,walletConnectionStatus:A,setWalletConnectionStatus:T,connectors:((Eo=e.connectors)==null?void 0:Eo.walletConnectors)??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:Sr,hideWalletUIs:Kn,isHeadlessSigning:H.useCallback(tr,[i.embeddedWallets.showWalletUIs]),emailOtpState:D,setEmailOtpState:F,smsOtpState:K,setSmsOtpState:B,oAuthState:I,setOAuthState:P,telegramAuthState:L,setTelegramAuthState:M,siweState:j,setSiweState:Y,isHeadlessOAuthLoading:_,baseAccountSdk:m,setBaseAccountSdk:y,nativeTokenSymbolForChainId:$=>{var q;return(q=i.chains.find((X=>X.id===Number($))))==null?void 0:q.nativeCurrency.symbol},initializeWalletProxy:async $=>{if(R)return R;let q=new Promise((ne=>{pe.current=ne})),X=new Promise((ne=>setTimeout((()=>ne(null)),$))),Q=await Promise.race([q,X]);return pe.current=null,Q},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var $;return($=e.authFlow)==null?void 0:$.meta},client:e,closePrivyModal:async($={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{var ce,ve,_e,Qe;let q,X=c&&lt&&d;if(X&&Le.current&&(q=At(d)),Be.current==="login")$.shouldCallAuthOnSuccess&&X&&Le.current?Se(fe,"login","onComplete",{user:d,isNewUser:w,wasAlreadyAuthenticated:!1,loginMethod:Le.current,loginAccount:q??null}):Se(fe,"login","onError",Ee.USER_EXITED_AUTH_FLOW);else if(Be.current==="link"&&q)$.isSuccess&&X&&Le.current?Se(fe,"linkAccount","onSuccess",{user:d,linkMethod:Le.current,linkedAccount:q}):Le.current&&Se(fe,"linkAccount","onError",Ee.USER_EXITED_LINK_FLOW,{linkMethod:Le.current});else if(Be.current==="update"&&q)$.isSuccess&&X&&Le.current?Se(fe,"update","onSuccess",{user:d,updateMethod:Le.current,updatedAccount:q}):Le.current&&Se(fe,"update","onError",Ee.USER_EXITED_UPDATE_FLOW,{linkMethod:Le.current});else if(Be.current==="connect-or-create"){let ut=gb();ut[0]?Se(fe,"connectOrCreateWallet","onSuccess",{wallet:ut[0]}):Se(fe,"connectOrCreateWallet","onError",Ee.USER_EXITED_AUTH_FLOW)}let Q=E&&_A.has(E),ne=E==="ErrorScreen"&&G.errorModalData&&_A.has(G.errorModalData.previousScreen);if((Q||ne)&&G.funding){let ut,Ot=_A.get(E)??null;if(ne&&((ce=G.funding)!=null&&ce.onError)){let dt=(ve=G.errorModalData)==null?void 0:ve.error,Vt=(dt==null?void 0:dt.privyErrorCode)||Ee.UNKNOWN_FUNDING_ERROR,Zt=new ae((dt==null?void 0:dt.message)||"Funding failed",dt,Vt);(Qe=(_e=G.funding)==null?void 0:_e.onError)==null||Qe.call(_e,Zt)}if(G.funding.chainType==="solana"){let dt=i.solanaRpcs[G.funding.chain];if(!dt)return console.warn("Unable to load solana rpc, skipping balance"),Se(fe,"fundSolanaWallet","onUserExited",{address:G.funding.address,fundingMethod:Ot,chain:G.funding.chain,balance:ut}),o(!1),void x9(G.funding,Ot);if(r(vpe))try{ut=await dMe({rpc:dt.rpc,address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Se(fe,"fundSolanaWallet","onUserExited",{address:G.funding.address,fundingMethod:Ot,chain:G.funding.chain,balance:ut})}else{let dt=Ov(G.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{ut=await dt.getBalance({address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}Se(fe,"fundWallet","onUserExited",{address:G.funding.address,chain:G.funding.chain,fundingMethod:Ot,balance:ut}),x9(G.funding,Ot)}}ie((ut=>({...ut,externalConnectWallet:{}}))),Be.current=null,Le.current=null,v(!1),o(!1),T({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:ft,connectWallet:nn,initLoginWithWallet:async($,q,X,Q)=>{Ml($)?(Le.current="siwe",Gn($,q,X)):(Le.current="siws",Fn($,q,X,Q))},loginWithWallet:async()=>{let $,q,X;if(!c)throw new Du;if(e.authFlow instanceof Gb?$="siwe":e.authFlow instanceof p9&&($="siws"),!$)throw new ae("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:q}=await e.link()),Le.current=$}catch(Q){throw Se(fe,"linkAccount","onError",Q.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:$}),Q}else try{({user:q,isNewUser:X}=await e.authenticate()),Le.current=$}catch(Q){throw Se(fe,"login","onError",Q.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR),Q}f(q||d||null),v(X||!1),Ut(!0)},delegateWallet:async({address:$,chainType:q,showDelegationUIs:X})=>new Promise((async(Q,ne)=>{let ce=await pn();if(!lt||!d||!ce)throw new ae("User must be authenticated and have an embedded wallet to delegate actions.");if(q!=="solana"&&q!=="ethereum")throw new ae("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let ve=Tt.walletProxy??await Tt.initializeWalletProxy(15e3);if(!ve)throw new ae("Wallet proxy not initialized.");if((({address:dt,user:Vt})=>!!v9(Vt).find((Zt=>Zt.address===dt)))({address:$,user:d}))return Q();let _e=Lh(d,$);if(!_e)throw new ae("Address to delegate is not associated with current user.");if(As(_e))throw new ae("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Qe=iMe({address:$,user:d}),ut=sMe({address:$,user:d}),Ot=async()=>{await ve.createDelegatedAction({accessToken:ce,rootWallet:ut,delegatedWallets:[Qe]}),await Tt.refreshSessionAndUser()};if(await Tt.recoverEmbeddedWallet({address:$}),X)ie({delegatedActions:{consent:{address:$,onDelegate:Ot,onSuccess:async()=>{Q()},onError:async dt=>{ne(dt)}}}}),ft("DelegatedActionsConsentScreen");else try{await Ot(),Q()}catch(dt){ne(dt)}})),revokeDelegatedWallets:async({showDelegationUIs:$})=>new Promise((async(q,X)=>{if(!lt||!d)throw new ae("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let Q=v9(d);if(Q.length===0)throw new ae("User has no delegated wallets to revoke.");if(Q.some(As))throw new ae("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ne=async()=>{await e.revokeDelegatedWallet(),await Tt.refreshSessionAndUser()};if($)ie({delegatedActions:{revoke:{onRevoke:ne,onSuccess:async()=>{q()},onError:async ce=>{X(ce)}}}}),ft("DelegatedActionsRevokeScreen");else try{await ne(),q()}catch(ce){X(ce)}})),initLoginWithFarcaster:async($,q)=>{let X=new h9($,q);e.startAuthFlow(X);try{Le.current="farcaster",await X.initializeFarcasterConnect()}catch(Q){throw Be.current==="login"?Se(fe,"login","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Be.current==="link"&&Se(fe,"linkAccount","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),Q}},loginWithFarcaster:async()=>{let $,q;if(!c)throw new Du;if(!(e.authFlow instanceof h9))throw new ae("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:$}=await e.link()),Le.current="farcaster"}catch(X){throw Se(fe,"linkAccount","onError",X.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),X}else try{({user:$,isNewUser:q}=await e.authenticate()),Le.current="farcaster"}catch(X){throw Se(fe,"login","onError",X.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),X}f($||null),v(q||!1),Ut(!0)},async crossAppAuthFlow({appId:$,popup:q,action:X,disableSignup:Q}){let ne=`privy:${$}`;Le.current=ne;let{url:ce,stateCode:ve,codeVerifier:_e}=await(async function({api:Qe,appId:ut}){let Ot=jC(),dt=AK(),Vt=await TK(Ot);try{let{url:Zt}=await Qe.post(iz,{provider:`privy:${ut}`,redirect_to:window.location.href,code_challenge:Vt,state_code:dt});return{url:Zt,stateCode:dt,codeVerifier:Ot}}catch(Zt){throw qt(Zt)}})({api:e.api,appId:$});if(!ce)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:$}}),new ae("No authorization URL returned for cross-app auth.");try{let Qe=await(async function({url:Zt,popup:et}){return et.location=Zt,new Promise(((Jt,rn)=>{let zn,Wn=setTimeout((()=>{rn(new ae("Authorization request timed out after 2 minutes.")),An()}),12e4);function An(){et==null||et.close(),window.removeEventListener("message",Ze)}let nr=setInterval((()=>{et!=null&&et.closed&&!zn&&(An(),clearInterval(nr),clearTimeout(Wn),rn(new ae("User rejected request")))}),300);function Ze(jt){jt.data&&(jt.data.type==="PRIVY_OAUTH_RESPONSE"&&jt.data.stateCode&&jt.data.authorizationCode&&(clearTimeout(Wn),Jt(jt.data),An()),jt.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(Wn),rn(new ae(jt.data.error)),An()),jt.data.type===E9&&((zn=new BroadcastChannel(_9)).onmessage=Ze))}window.addEventListener("message",Ze)}))})({url:ce,popup:q,provider:ne}),ut=Qe.stateCode,Ot=Qe.authorizationCode;if(ut!==ve)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ne,storedStateCode:ve??"",returnedStateCode:ut??""}}),new ae("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);let dt=await(async function({appId:Zt,stateCode:et,codeVerifier:Jt,authorizationCode:rn,action:zn,client:Wn,disableSignup:An}){var nr;if(!rn||!et)throw new ae("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(rn==="undefined")throw new ae("User denied confirmation during cross-app auth flow");try{let Ze=new oMe({authorizationCode:rn,stateCode:et,codeVerifier:Jt,provider:`privy:${Zt}`,disableSignup:!!An});Wn.startAuthFlow(Ze);let jt=zn==="link"?await Wn.link():await Wn.authenticate(),dr=(nr=jt.oAuthTokens)==null?void 0:nr.accessToken;return console.debug(),dr}catch(Ze){let jt=qt(Ze);throw jt.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED?jt:jt.privyErrorCode?new ae(jt.message||"Invalid code during cross-app auth flow.",void 0,jt.privyErrorCode):jt.message==="User denied confirmation during cross-app auth flow"?new ae("Invalid code during cross-app auth flow.",void 0,Ee.OAUTH_USER_DENIED):new ae("Invalid code during cross-app auth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}})({appId:$,codeVerifier:_e,stateCode:ut,authorizationCode:Ot,action:X,client:e,disableSignup:Q});dt&&e.storeProviderAccessToken($,dt);let Vt=await Tt.refreshSessionAndUser();if(!Vt)throw new ae("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:$}}),Vt}catch(Qe){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Qe.toString(),provider:ne}}),Qe}},async initLoginWithOAuth($,q,X){if(Le.current=$,!ZT()||$==="google"&&!i.allowOAuthInEmbeddedBrowsers&&S9(window.navigator.userAgent))return void ft("InAppBrowserLoginNotPossible");$==="twitter"&&window.opener&&window.opener.postMessage({type:E9},"*"),at.del(xv),at.del(rg);let Q=new rf({provider:$,disableSignup:!!X,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});q&&Q.addCaptchaToken(q),e.startAuthFlow(Q);let ne=await e.authFlow.getAuthorizationUrl();if(ne&&ne.url)if($==="twitter"&&qc.isAndroid&&(ne.url=ne.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&A5())try{let{privyOAuthCode:ce,privyOAuthState:ve}=await f9(ne.url);ft("OAuthStatusScreen"),Q.meta.stateCode=ve,Q.meta.authorizationCode=ce}catch(ce){throw console.error("OAuth in chrome extension flow failed:",ce),ce}else window.location.assign(ne.url)},async initLoginWithTelegram($,q){if(!c)throw new Du;Le.current="telegram";let X=new Mm($,q);e.startAuthFlow(X),M({status:"loading"}),X.meta.telegramWebAppData=void 0,X.meta.telegramAuthResult=await new Promise(((Q,ne)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(ce=>ce?Q(ce):(Be.current==="link"?Se(fe,"linkAccount","onError",Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):Be.current==="login"?Se(fe,"login","onError",Ee.INVALID_CREDENTIALS):Be.current==="update"&&Se(fe,"login","onError",Ee.FAILED_TO_UPDATE_ACCOUNT),ne(new ae("Telegram auth failed or was canceled by the client"))))):ne(new ae("Telegram was not initialized")):ne(new ae("Telegram Auth configuration is not loaded"))))},async loginWithTelegram($){var ve;let q,X;if(!(e.authFlow instanceof Mm))throw new ae("Must initialize Telegram flow before calling loginWithTelegram");(ve=e.authFlow.meta).captchaToken||(ve.captchaToken=$==null?void 0:$.captchaToken);let Q=await pn(),ne=($==null?void 0:$.intent)||Be.current;if(ne==="login")try{let _e=await e.authenticate();q=_e.user,X=_e.isNewUser,Le.current="telegram"}catch(_e){throw Se(fe,"login","onError",_e.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),_e}else{if(ne!=="link")throw new ae("Unknown auth intent");try{q=(await e.link()).user,Le.current="telegram"}catch(_e){throw Se(fe,"linkAccount","onError",_e.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),_e}}f(q),v(X||!1),Ut(!0),M({status:"done"});let ce=(q==null?void 0:q.linkedAccounts.find((({type:_e})=>_e==="telegram")))||null;return{user:q,isNewUser:X||!1,wasAlreadyAuthenticated:!!Q,loginAccount:ce}},async loginWithOAuth($){let q,X,Q;if(!(e.authFlow instanceof rf))throw new ae("Must initialize OAuth flow before calling loginWithOAuth");let ne=at.get(Ev),ce=e.authFlow.meta.stateCode;if(ne!==ce)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:$,storedStateCode:ne??"",returnedStateCode:ce??""}}),new ae("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let ve=await e.link();q=ve.user,Q=ve.oAuthTokens,Le.current=$}catch(ve){throw Se(fe,"linkAccount","onError",ve.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:$}),ve}else try{let ve=await e.authenticate();q=ve.user,X=ve.isNewUser,Q=ve.oAuthTokens,Le.current=$}catch(ve){throw Be.current==="login"?Se(fe,"login","onError",ve.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Be.current==="link"&&Se(fe,"linkAccount","onError",ve.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:$}),ve}return f(q),v(X||!1),Ut(!0),Q&&q&&Se(fe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Q,user:q}),Q},passkeyAuthState:O,setPasskeyAuthState:N,async initSignupWithPasskey({captchaToken:$,withPrivyUi:q}){var Q;let X=new Zh({captchaToken:$,setPasskeyAuthState:N,hints:(Q=i.passkeys.registration)==null?void 0:Q.hints});e.startAuthFlow(X),Be.current="login";try{Le.current="passkey",N({status:"generating-challenge"}),await X.initRegisterFlow(q),N({status:"awaiting-passkey"})}catch(ne){throw N({status:"error",error:ne}),Se(fe,"login","onError",ne.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),ne}},async signupWithPasskey(){let $,q;if(!c)throw new Du;if(!(e.authFlow instanceof Zh))throw new ae("Must initialize Passkey flow first.");if(Le.current!=="passkey"){let ne=new ae("Must init login with Passkey flow first.");throw N({status:"error",error:ne}),ne}let X=await pn();try{Le.current="passkey",N({status:"awaiting-passkey"}),{user:$,isNewUser:q}=await e.authenticate()}catch(ne){throw N({status:"error",error:ne}),Se(fe,"login","onError",ne.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),ne}f($),v(q||!1),Ut(!0),N({status:"done"});let Q=($==null?void 0:$.linkedAccounts.find((({type:ne})=>ne==="passkey")))||null;return{user:$,isNewUser:q||!1,wasAlreadyAuthenticated:!!X,loginAccount:Q}},async initLoginWithPasskey({captchaToken:$,withPrivyUi:q}){let X=new Zh({captchaToken:$,setPasskeyAuthState:N,hints:void 0});e.startAuthFlow(X),Be.current="login";try{Le.current="passkey",N({status:"generating-challenge"}),await X.initAuthenticationFlow(q),N({status:"awaiting-passkey"})}catch(Q){throw N({status:"error",error:Q}),Se(fe,"login","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Q}},async loginWithPasskey($){let q,X;if(!c)throw new Du;if(!(e.authFlow instanceof Zh))throw new ae("Must initialize Passkey flow first.");if($!=null&&$.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=$.credentialIds),Le.current!=="passkey"){let ce=new ae("Must init login with Passkey flow first.");throw N({status:"error",error:ce}),ce}let Q=await pn();try{Le.current="passkey",N({status:"awaiting-passkey"}),{user:q,isNewUser:X}=await e.authenticate()}catch(ce){throw N({status:"error",error:ce}),Se(fe,"login","onError",ce.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),ce}f(q),v(X||!1),Ut(!0),N({status:"done"});let ne=(q==null?void 0:q.linkedAccounts.find((({type:ce})=>ce==="passkey")))||null;return{user:q,isNewUser:X||!1,wasAlreadyAuthenticated:!!Q,loginAccount:ne}},async initLinkWithPasskey($){var X;let q=new Zh({captchaToken:$,hints:(X=i.passkeys.registration)==null?void 0:X.hints});e.startAuthFlow(q),Be.current="link",Le.current="passkey",N({status:"generating-challenge"});try{await q.initLinkFlow(),N({status:"awaiting-passkey"})}catch(Q){throw Se(fe,"linkAccount","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),N({status:"error",error:Q}),Q}},async linkWithPasskey(){let $;if(!c)throw new Du;if(!(e.authFlow instanceof Zh))throw new ae("Must initialize Passkey flow first.");if(Le.current!=="passkey")throw new ae("Must init login with Passkey flow first.");try{Le.current="passkey",{user:$}=await e.link()}catch(q){throw Se(fe,"linkAccount","onError",q.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),q}return f($||d||null),N({status:"done"}),$},async initLoginWithHeadlessOAuth($,q,X){if(!ZT()||$==="google"&&!i.allowOAuthInEmbeddedBrowsers&&S9(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let Q=new rf({provider:$,withPrivyUi:!1,disableSignup:X??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});q&&Q.addCaptchaToken(q),P({status:"loading"});let ne=await e.startAuthFlow(Q).getAuthorizationUrl();if(ne!=null&&ne.url)if(window.location.protocol==="chrome-extension:"&&A5())try{let{privyOAuthCode:ce,privyOAuthState:ve}=await f9(ne.url);Q.meta.stateCode=ve,Q.meta.authorizationCode=ce,await Oi(Q.meta)}catch(ce){throw P({status:"error",error:ce}),ce}else window.location.assign(ne.url)},loginWithHeadlessOAuth:Oi,initLoginWithEmail:async({email:$,captchaToken:q,disableSignup:X,withPrivyUi:Q})=>{let ne=new mf({email:$,captchaToken:q,disableSignup:X});e.startAuthFlow(ne);try{Le.current="email",F({status:"sending-code"});let ce=await ne.sendCodeEmail({withPrivyUi:Q});if(ce!=null&&ce.ssoRedirectUrl)return window.location.href=ce.ssoRedirectUrl,void await $v(1e4);F({status:"awaiting-code-input"})}catch(ce){throw F({status:"error",error:ce}),Be.current==="login"?Se(fe,"login","onError",ce.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Be.current==="link"&&Se(fe,"linkAccount","onError",ce.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),ce}},initUpdateEmail:async({oldAddress:$,newAddress:q,captchaToken:X})=>{let Q=new PDe($,q,X);e.startAuthFlow(Q);try{await Q.sendCodeEmail({withPrivyUi:!0})}catch(ne){throw Se(fe,"update","onError",ne.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:Le.current}),ne}},initUpdatePhone:async($,q,X)=>{let Q=new RDe($,q,X);e.startAuthFlow(Q);try{await Q.sendSmsCode({withPrivyUi:!0})}catch(ne){Se(fe,"update","onError",ne.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:Le.current})}},initLoginWithSms:async({phoneNumber:$,captchaToken:q,disableSignup:X,withPrivyUi:Q})=>{B({status:"sending-code"});let ne=new gf({phoneNumber:$,captchaToken:q,disableSignup:X});e.startAuthFlow(ne);try{Le.current="sms",await ne.sendSmsCode({withPrivyUi:Q}),B({status:"awaiting-code-input"})}catch(ce){throw B({status:"error",error:ce}),Be.current==="login"?Se(fe,"login","onError",ce.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):Be.current==="link"&&Se(fe,"linkAccount","onError",ce.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),ce}},resendEmailCode:async()=>{var $;await(($=e.authFlow)==null?void 0:$.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var $;await(($=e.authFlow)==null?void 0:$.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async $=>{let q,X;function Q(_e){e.authFlow instanceof mf?F(_e):e.authFlow instanceof gf&&B(_e)}if(Q({status:"submitting-code"}),!c){let _e=new Du;throw Q({status:"error",error:_e}),_e}if(e.authFlow instanceof mf)e.authFlow.meta.emailCode=$.trim();else{if(!(e.authFlow instanceof gf)){let _e=new ae("Must initialize a passwordless code flow first");throw Q({status:"error",error:_e}),_e}e.authFlow.meta.smsCode=$.trim()}let ne=await pn();if(Be.current==="link")try{({user:q}=await e.link())}catch(_e){throw Q({status:"error",error:_e}),Se(fe,"linkAccount","onError",_e.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:Le.current}),_e}else if(Be.current==="update")try{({user:q}=await e.link())}catch(_e){throw Q({status:"error",error:_e}),Se(fe,"update","onError",_e.privyErrorCode||Ee.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Le.current}),_e}else try{({user:q,isNewUser:X}=await e.authenticate())}catch(_e){throw Q({status:"error",error:_e}),Se(fe,"login","onError",_e.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),_e}let ce=q||d;f(ce||null),v(X||!1),Ut(!0),Q({status:"done"});let ve=null;return e.authFlow instanceof mf?ve=(ce==null?void 0:ce.linkedAccounts.find((({type:_e})=>_e==="email")))||null:e.authFlow instanceof gf&&(ve=(ce==null?void 0:ce.linkedAccounts.find((({type:_e})=>_e==="phone")))||null),{user:ce,isNewUser:X||!1,wasAlreadyAuthenticated:!!ne,linkedAccount:ve}},generateSiweMessage:async({address:$,chainId:q,captchaToken:X})=>{Be.current=lt?"link":"login",Le.current="siwe",Y({status:"generating-message"});let Q=await e.generateSiweNonce({address:$,captchaToken:X});return Y({status:"awaiting-signature"}),I5({address:$,chainId:q.replace("eip155:",""),nonce:Q})},generateSiweMessageForSmartWallet:async({address:$,chainId:q})=>{let X=await e.generateSiweNonce({address:$});return I5({address:$,chainId:q.replace("eip155:",""),nonce:X})},linkSmartWallet:async({message:$,signature:q,smartWalletType:X,smartWalletVersion:Q})=>{let ne;ne=await e.linkSmartWallet({message:$,signature:q,smartWalletType:X,smartWalletVersion:Q}),f((ne=await Tt.refreshSessionAndUser()??ne)||d||null)},loginWithSiwe:async({message:$,signature:q,captchaToken:X,disableSignup:Q,walletClientType:ne,connectorType:ce})=>{let ve,_e=null;try{if(d)throw Error("User already authenticated");let Qe=new Gb(e,void 0,X,Q,{message:$,signature:q,walletClientType:ne,connectorType:ce});if(e.startAuthFlow(Qe),Le.current="siwe",Be.current="login",Y({status:"submitting-signature"}),{user:_e,isNewUser:ve}=await e.authenticate(),!_e)throw Error("Authentication failed - no user returned")}catch(Qe){throw Se(fe,"login","onError",Qe.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Y({status:"error",error:Qe}),Qe}return f(_e),v(ve||!1),Ut(!0),Y({status:"done"}),Be.current=null,Le.current=null,{user:_e,isNewUser:ve||!1}},linkWithSiwe:async({message:$,signature:q,chainId:X,walletClientType:Q,connectorType:ne})=>{let ce;rt("siwe");let ve=null;try{Y({status:"submitting-signature"}),ce=await e.linkWithSiwe({message:$,signature:q,chainId:X,walletClientType:Q,connectorType:ne}),ce=await Tt.refreshSessionAndUser()??ce,Y({status:"done"}),(ve=At(ce)||null)&&Se(fe,"linkAccount","onSuccess",{user:ce,linkMethod:"siwe",linkedAccount:ve})}catch(Qe){throw Se(fe,"linkAccount","onError",Qe.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Be.current=null,Le.current=null,Y({status:"error",error:Qe}),Qe}let _e=ce||d;return f(_e||null),Be.current=null,Le.current=null,{user:_e,linkedAccount:ve}},refreshSessionAndUser:async()=>{let $=await e.getAuthenticatedUser();return Ut(!!$),f($),$},walletProxy:R,createAnalyticsEvent:({eventName:$,payload:q,timestamp:X})=>e.createAnalyticsEvent({eventName:$,payload:q,timestamp:X}),acceptTerms:async()=>{let $=await e.acceptTerms();return f($),$},getUsdTokenPrice:$=>e.getUsdTokenPrice($),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:$=>e.getSplTokenMetadata($),recoverEmbeddedWallet:async $=>new Promise((async(q,X)=>{if(!d)return void q(!0);let Q=$!=null&&$.address?Lh(d,$.address):Gg(d)||jT(d).at(0)||Lle(d).at(0);if(!Q||As(Q))return void q(!0);let ne=await pn();if(!ne||!R||!Q)return void X(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:ce,entropyIdVerifier:ve}=Dl(d,Q);try{await R.connect({accessToken:ne,entropyId:ce,entropyIdVerifier:ve}),q(!0)}catch(_e){if(h1(_e)&&Q.recoveryMethod==="privy"){let Qe;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:Q.address}});try{Qe=await R.recover({entropyId:ce,entropyIdVerifier:ve,accessToken:ne})}catch(ut){return void X(ut)}Qe.entropyId||X(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Q.address}}),q(!0)}else h1(_e)&&Q.recoveryMethod!=="privy"&&Q.recoveryMethod!=="privy-v2"?(ie({recoverWallet:{entropyId:ce,entropyIdVerifier:ve,onFailure:X,onSuccess:()=>q(!0)},recoveryOAuthStatus:{provider:Q.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),ft(uMe(Q.recoveryMethod))):X(_e)}})),setReadyToTrue:$=>{u(!0),te==null||te($)},updateWallets:()=>$t(),fundWallet:async($,q)=>{let X="FundingMethodSelectionScreen";return new Promise(((Q,ne)=>{ie({funding:{...GR({address:$,appConfig:i,fundWalletConfig:q,methodScreen:X,onComplete:Q,onError:ne})}}),ft(X)}))},openModal:ft,requestFarcasterSignerStatus:async $=>{var ne;let q=await pn(),X=d==null?void 0:d.linkedAccounts.find((ce=>ce.type==="wallet"&&ce.walletClientType==="privy"));if(!q)throw Error("Must have valid access token to connect with Farcaster");if(!R||!X)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((ne=d==null?void 0:d.farcaster)!=null&&ne.fid))throw Error("Must have Farcaster account to use Farcaster signers");let Q=await e.requestFarcasterSignerStatus($);return Q.status==="approved"&&f(await e.getAuthenticatedUser()||d||null),Q},connectCoinbaseSmartWallet:async()=>{var q,X;i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let $=((q=e.connectors)==null?void 0:q.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((X=e.connectors)==null?void 0:X.findWalletConnector("coinbase_wallet","coinbase_wallet"));if($)return $.updateConnectionPreference("smartWalletOnly"),nn($);await Lr("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var q;let $=(q=e.connectors)==null?void 0:q.findWalletConnector("base_account","base_account");if($)return nn($);await Lr("base_account","base_account")},initiateAccountTransfer:async({nonce:$,account:q,accountType:X,externalWalletMetadata:Q,telegramAuthResult:ne,telegramWebAppData:ce,farcasterEmbeddedAddress:ve,oAuthUserInfo:_e})=>{let Qe=await e.sendAccountTransferRequest({nonce:$,account:q,accountType:X,externalWalletMetadata:Q,telegramAuthResult:ne,telegramWebAppData:ce,farcasterEmbeddedAddress:ve,oAuthUserInfo:_e});return f(Qe),Qe},inProgressAuthFlowRef:Be,inProgressLoginOrLinkMethodRef:Le};BK=Tt.recoverEmbeddedWallet,Tt.recoverEmbeddedWallet;let bo=H.useMemo((()=>({wallets:p,ready:ye&&St})),[p,ye,St]),ea=e.authFlow instanceof Mm,{siteKey:ta,enabledProvider:vo}=i.captcha,_o=!i.headless&&vo&&!lt&&(c||ea);return U.jsx(NK.Provider,{value:!0,children:U.jsx(gp.Provider,{value:Tr,children:U.jsx(o7.Provider,{value:fe,children:U.jsx(l7.Provider,{value:bo,children:U.jsx(NDe,{appId:i.id,captchaSiteKey:ta,enabledCaptchaProvider:vo,children:U.jsxs(Ij.Provider,{value:Tt,children:[U.jsx(gde,{children:U.jsxs(Ule,{data:G,setModalData:ie,setInitialScreen:k,initialScreen:E,authenticated:lt,open:s,children:[t.children,U.jsx(xMe,{customAuth:i.customAuth}),_o&&U.jsx(MDe,{delayedExecution:!1}),U.jsx(QDe,{}),U.jsx(bMe,{disabled:i.embeddedWallets.disableAutomaticMigration}),U.jsx(BDe,{palette:i.appearance.palette||{}}),!i.render.standalone&&U.jsx(YDe,{open:s})]})}),U.jsx(rMe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:d==null?void 0:d.mfaMethods,mfaPromise:Xe,mfaSubmitPromise:ot,onLoad:z,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&U.jsx(m7,{$if:!0,children:U.jsx(XDe,{scriptHost:t.apiUrl||BT,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})},AMe=t=>BK(t);class No extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class T9 extends Vd{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new No(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await pn()||!this.address)throw new No("Disconnected",4900);let{hash:r}=await((i,s)=>LK(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new No(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await pn()||!this.address)throw new No("Disconnected",4900);let{signature:r}=await((i,s)=>MK(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new No(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new No(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Ov(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,o)=>$K(s,o))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,o)=>DK(s,o))($b(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:QT(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...cv(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return QT(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>CDe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await pn();if(await AMe({address:this.address}),!n||!this.address)throw new No("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&As(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new No("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new No("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Uo(i,(async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:r,message:o})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new No(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new No(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:c=1,walletIndex:u,privyClient:d,walletAccount:f}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=c,this.rpcConfig=s,this.chains=o,this.publicClient=Ov(c,this.chains,s,{appId:a}),this.rpcTimeoutDuration=ok(s,"privy"),this.appId=a,this.walletIndex=u,this.privyClient=d,this.walletAccount=f}}const TMe=({style:t,...e})=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),IMe=({style:t,...e})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[U.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),U.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function EA(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var kMe=0;class UK extends Kd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Nn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw du(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Gd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var ju="__private_"+kMe+++"__walletBranding";class xA extends Kd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return EA(this,ju)[ju]??{name:"Browser Extension",icon:TMe,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Nn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw du(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,ju,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Gd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?EA(this,ju)[ju]={name:"MetaMask",icon:wde,id:"io.metamask"}:s==="phantom"&&(EA(this,ju)[ju]={name:"Phantom",icon:IMe,id:"phantom"})}}class CMe extends UK{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{qc.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Nn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw du(e)}}}class PMe extends Vd{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0)).filter((n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)}))}async initialize(e){var o,a,c;if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=ide({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((u=>{u.forEach((({type:d,eip6963InjectedProvider:f,legacyInjectedProvider:p})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:d,providers:{eip6963InjectedProvider:f,legacyInjectedProvider:p}})}))}));for(let u of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(g7)))!u.isInstalled&&this.walletList.includes(u.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&u.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:u.client,walletConfig:u}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&u.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new fde({id:u.client,name:u.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||JT(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||JT(this.walletList)&&this.walletChainType!=="ethereum-only",i=((o=this.externalWalletConfig.solana.connectors)==null?void 0:o.get())||[],s=async u=>{if(!r)return;let d=u.find((f=>{var p;return((p=f.walletBranding)==null?void 0:p.id)==="walletconnect_solana"}));d&&d.wallet&&await d.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter((u=>{var d;return r||((d=u.walletBranding)==null?void 0:d.id)!=="walletconnect_solana"})).forEach(this.addSolanaWalletConnector),(c=(a=this.externalWalletConfig.solana.connectors)==null?void 0:a._setOnConnectorsUpdated)==null||c.call(a,(u=>{s(u),u==null||u.filter((d=>{var f;return r||((f=d.walletBranding)==null?void 0:f.id)!=="walletconnect_solana"})).forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(dm).find((i=>i.connectorType===e&&(!r||i.wallets.some((s=>s.address===r)))))??null:this.walletConnectors.filter(dm).find((i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some((s=>s.address===r)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(pde).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:c}=Dl(n);for(let u of r){let d=this.findEmbeddedWalletConnectors().find((f=>f.walletIndex===u.walletIndex));if(d&&dm(d))d.proxyProvider.walletProxy=e;else{let f=new d9({provider:new T9({walletProxy:e,address:u.address,entropyId:a,entropyIdVerifier:c,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:u.walletIndex,privyClient:o,walletAccount:u}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:u.walletIndex});this.addWalletConnector(f)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&dm(s))s.proxyProvider.walletProxy=e;else{let o=new d9({provider:new T9({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=Nb(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)})),this.storedConnections=Nb(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&dm(s))return s instanceof C5&&s.resetConnection(n),s;let o=e!=="injected"?e==="coinbase_wallet"?new IDe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new ADe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new C5({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new yde({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new CMe(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new xA(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new xA(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new xA(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new UK(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,o,a,c,u,d,f,p){super(),this.addSolanaWalletConnector=async m=>{let y=this.findSolanaWalletConnector(m.walletClientType);if(!y||y.connectorType==="null"){if((y==null?void 0:y.connectorType)==="null"){let w=this.walletConnectors.indexOf(y);this.walletConnectors.splice(w,1)}this.addWalletConnector(m)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=c,this.externalWalletConfig=u,this.privyAppName=d,this.walletChainType=p||"ethereum-only",this.setBaseAccountSdk=f,this.storedConnections=Nb()}}const I9=Hd((()=>({identityToken:null})));let OMe=[nz,rz,az];class RMe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw qt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw qt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw qt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=Pce,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=$le.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let c=OMe.includes(s.toString());if(!a.has("authorization")){let u=await this.client.getAccessToken({disableAutoRefresh:c});u!==null&&a.set("authorization",`Bearer ${u}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new Dle}})}}const NMe=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map((s=>({id:s.id,type:s.type,transports:s.transports}))))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class $Me{getOrCreateGuestCredential(e){let n=gj(e);if(ZT()){if(at.get(n))return at.get(n);{let r=yd(T5(32));return at.put(n,r),r}}return yd(T5(32))}async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(ope,{guest_credential:this.meta.guestCredential})}catch(e){throw qt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function SA(){return!(qc.isSafari&&window.location.origin.startsWith("http://localhost"))}var AA,k9=((AA={}).PRIVY="privy_access_token",AA.CUSTOMER="customer_access_token",AA);class DMe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(jm)}get privyAccessToken(){return this._getToken(Tb)}_getToken(e){try{let n=at.get(e);return typeof n=="string"?Kl.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=at.get(_2);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=at.get(Uw(e));if(typeof n!="string")return null;{let r=new Kl(n);return r.isExpired()?(at.del(Uw(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=or.get(E2);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==Nce;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Kl.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?at.put(Uw(e),n):at.del(Uw(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:oi(r),isNewUser:i,oAuthTokens:o}}catch(n){throw console.warn("Error authenticating session"),Mn(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof mf?"email":i instanceof gf?"sms":i instanceof Gb?"siwe":i instanceof $Me?"guest":i instanceof RK?"custom_auth":i instanceof rf?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:oi(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Mn(n)}}async _refresh(){if(!this.api)throw new ae("Session has no API instance");if(!this.client)throw new ae("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(nz,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),oi(r.user)}catch(r){if(r instanceof Av&&r.privyErrorCode===Ee.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Mn(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(rz,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,o,a;if(typeof e=="string"){let c=at.get(jm);if(at.put(jm,e),!((n=this.client)!=null&&n.useServerCookies)){let u=(r=Kl.parse(e))==null?void 0:r.expiration;or.set(bR,e,{sameSite:"Strict",secure:SA(),expires:u?new Date(1e3*u):void 0})}c!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else at.del(jm),or.remove(bR),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var n;typeof e=="string"?(at.put(_2,e),(n=this.client)!=null&&n.useServerCookies||or.set(E2,"t",{sameSite:"Strict",secure:SA(),expires:30})):(at.del(_2),or.remove(Oce),or.remove(E2))}storePrivyAccessToken(e){typeof e=="string"?at.put(Tb,e):at.del(Tb)}storeIdentityToken(e){var r,i;if(I9.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;at.put(vR,e);let n=(i=Kl.parse(e))==null?void 0:i.expiration;or.set(_R,e,{sameSite:"Strict",secure:SA(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){at.del(vR),I9.setState({identityToken:null}),or.remove(_R)}constructor(){this.authenticateOnce=new Vo((async e=>this._authenticate(e))),this.linkOnce=new Vo((async e=>this._link(e))),this.refreshOnce=new Vo(this._refresh.bind(this)),this.destroyOnce=new Vo(this._destroy.bind(this))}}let TA,f1;var MMe=0,IA="__private_"+MMe+++"__getOrGenerateClientAnalyticsId";class LMe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:c,appName:u,walletChainType:d,setBaseAccountSdk:f}){this.connectors||(this.connectors=new PMe(this.appId,e,n,r,i,s,o,a,c,u,f,d))}generateApi(){let e=new RMe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ae("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ae("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(tpe,{action:"verify"})}catch(e){throw qt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(npe,{});return NMe(e.options)}catch(e){throw qt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(rpe,{});return oi(e)}catch(e){throw Mn(e)}}async unlinkEmail(e){try{let n=await this.api.post($fe,{address:e});return await this.getAuthenticatedUser()??oi(n)}catch(n){throw Mn(n)}}async unlinkPhone(e){try{let n=await this.api.post(Ufe,{phoneNumber:e});return await this.getAuthenticatedUser()??oi(n)}catch(n){throw Mn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(wfe,{address:e});return await this.getAuthenticatedUser()??oi(n)}catch(n){throw Mn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(xfe,{address:e});return await this.getAuthenticatedUser()??oi(n)}catch(n){throw Mn(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(Wfe,{provider:e,subject:n});return await this.getAuthenticatedUser()??oi(r)}catch(r){throw Mn(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(Cfe,{fid:e});return await this.getAuthenticatedUser()??oi(n)}catch(n){throw Mn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Qfe,{telegram_user_id:e});return await this.getAuthenticatedUser()??oi(n)}catch(n){throw Mn(n)}}async revokeDelegatedWallet(){try{await this.api.post(upe,{})}catch(e){throw Mn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(az,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(ape,e)}catch(n){throw Mn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(cpe,e)}catch(n){throw Mn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${lpe}?partnerUserId=${e}`)}catch(n){throw Mn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(k9.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(k9.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=UC.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(pfe,{address:e,token:n})).nonce}catch(r){throw Mn(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(mfe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(gfe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(yfe,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return oi(s)}catch(s){throw Mn(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return oi(o)}catch(o){throw Mn(o)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(vfe,{address:e,token:n})).nonce}catch(r){throw Mn(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(_fe,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let c=oi(a.user);if(!c)throw Error("Authentication failed - no user returned");return{user:c,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:c}){try{let u,d;switch(r){case"email":u=Mfe,d={nonce:e,email:n};break;case"sms":u=zfe,d={nonce:e,phoneNumber:n};break;case"siwe":if(u=bfe,!i)throw Error("Wallet parameters must be defined");d={nonce:e,address:n,...i};break;case"farcaster":u=Pfe,d={nonce:e,farcaster_id:n,farcaster_embedded_address:a};break;case"telegram":u=epe,d={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":u=Sfe,d={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:u=Vfe,d={nonce:e,userInfo:c}}let f=await this.api.post(u,d);return await this.getAuthenticatedUser()??oi(f)}catch(u){throw Mn(u)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(Efe,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return oi(o)}catch(o){throw Mn(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(dpe);return this.session.updateIdentityToken(e.identity_token),oi(e.user)}catch(e){throw Mn(e)}}async scanTransaction(e){try{return await this.api.post(hpe,e)}catch(n){throw Mn(n)}}constructor({apiUrl:e=BT,appId:n,appClientId:r,timeout:i=Cce}){Object.defineProperty(this,IA,{value:BMe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==BT&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s})(this,IA)[IA](),TA||(TA=new DMe),this.session=TA,this.api=this.generateApi(),this.session.client=this}}function BMe(){if(typeof window>"u")return null;try{let e=at.get(UT);if(typeof e=="string"&&e.length>0)return e}catch{}let t=kT();try{return at.put(UT,t),t}catch{return t}}function FK(){if(!f1)throw new ae("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return f1}const UMe=({config:t,...e})=>{(()=>{if(H.useContext(NK))throw new ae("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),(function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),o=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!o)throw new ae("Embedded wallet is only available over HTTPS")})(),(function(s){if(typeof s!="string"||s.length!==25)throw new ae("Cannot initialize the Privy provider with an invalid Privy app ID")})(e.appId),(function(s){f1||(f1=new LMe({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))})(e);let n=H.useMemo((()=>new nce({appId:e.appId,clientId:e.clientId,storage:at,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.11.0"})),[]),r=FK(),i=Object.assign({},t);return U.jsx(jce,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:U.jsx(wpe,{children:U.jsx(SMe,{...e,client:r,privy:n})})})};function CVe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=H.useContext(gp);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function PVe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=H.useContext(gp);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:c=>o("passkey",c),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}function kA(t,e){const[n,r]=H.useState(()=>{try{const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch(s){return console.error(s),e}});return[n,s=>{try{const o=s instanceof Function?s(n):s;r(o),window.localStorage.setItem(t,JSON.stringify(o))}catch(o){console.error(o)}}]}const jK=H.createContext(null);let FMe=0;function jMe({children:t}){const[e,n]=H.useState([]),r=H.useCallback(u=>{const d=++FMe,f={id:d,type:u.type||"info",message:u.message,button:u.button,onButtonClick:u.onButtonClick,autoDismiss:u.autoDismiss!==!1,duration:u.duration||3e3};return n(p=>[...p,f]),f.autoDismiss&&setTimeout(()=>{i(d)},f.duration),d},[]),i=H.useCallback(u=>{n(d=>d.filter(f=>f.id!==u))},[]),s=H.useCallback((u,d={})=>r({...d,type:"success",message:u,duration:d.duration||2e3}),[r]),o=H.useCallback((u,d={})=>r({...d,type:"error",message:u,autoDismiss:d.autoDismiss??!1}),[r]),a=H.useCallback((u,d={})=>r({...d,type:"warning",message:u,duration:d.duration||3e3}),[r]),c=H.useCallback((u,d={})=>r({...d,type:"info",message:u,duration:d.duration||3e3}),[r]);return U.jsx(jK.Provider,{value:{toasts:e,showToast:r,dismissToast:i,success:s,error:o,warning:a,info:c},children:t})}function zK(){const t=H.useContext(jK);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}const WK=H.createContext(null);function zMe({audioContext:t,children:e}){return U.jsx(WK.Provider,{value:t,children:e})}function WMe(){return H.useContext(WK)}const VMe="placeholder-will-replace";function qMe({children:t}){return U.jsx(UMe,{appId:VMe,config:{loginMethods:["email"],appearance:{theme:"light",accentColor:"#222222",logo:void 0},embeddedWallets:{createOnLogin:"users-without-wallets",noPromptOnSignature:!0},solanaClusters:[{name:"mainnet-beta",rpcUrl:"https://api.mainnet-beta.solana.com"}],defaultChain:"solana"},children:t})}const C9={success:{bg:"#dcfce7",border:"#22c55e",text:"#166534",icon:HMe},error:{bg:"#fee2e2",border:"#dc2626",text:"#991b1b",icon:KMe},warning:{bg:"#fef3c7",border:"#f59e0b",text:"#92400e",icon:GMe},info:{bg:"#dbeafe",border:"#3b82f6",text:"#1e40af",icon:YMe}};function HMe(){return U.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}function KMe(){return U.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function GMe(){return U.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function YMe(){return U.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function ZMe({toast:t,onDismiss:e}){const n=C9[t.type]||C9.info,r=n.icon;return U.jsxs("div",{style:{backgroundColor:n.bg,border:`3px solid ${n.border}`,borderRadius:"12px",padding:"12px 16px",boxShadow:"4px 4px 0 #222",display:"flex",alignItems:"center",gap:"12px",maxWidth:"360px",width:"100%",animation:"slideDown 0.3s ease-out",color:n.text},children:[U.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsx(r,{})}),U.jsx("div",{style:{flex:1,fontSize:"14px",fontWeight:"bold",lineHeight:1.3},children:t.message}),t.button&&U.jsx("button",{onClick:()=>{var i;(i=t.onButtonClick)==null||i.call(t),e()},style:{padding:"6px 12px",backgroundColor:n.border,color:"#fff",border:"2px solid #222",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},children:t.button}),U.jsx("button",{onClick:e,style:{flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",cursor:"pointer",opacity:.6,color:n.text},children:U.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}function JMe(){const{toasts:t,dismissToast:e}=zK();return t.length===0?null:U.jsxs(U.Fragment,{children:[U.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
      `}),U.jsx("div",{style:{position:"fixed",top:"16px",left:"50%",transform:"translateX(-50%)",zIndex:10001,display:"flex",flexDirection:"column",gap:"8px",padding:"0 16px",width:"100%",maxWidth:"400px",boxSizing:"border-box"},children:t.map(n=>U.jsx(ZMe,{toast:n,onDismiss:()=>e(n.id)},n.id))})]})}function XMe({activeTab:t,onTabChange:e}){const n=[{id:"history",label:"History",icon:"clock"},{id:"bet",label:"Bet",icon:"bolt"},{id:"wallet",label:"Wallet",icon:"wallet"}];return U.jsx("nav",{style:{position:"fixed",bottom:0,left:0,right:0,height:"80px",backgroundColor:"#F5F5F5",borderTop:"3px solid #222",zIndex:9999,display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 16px"},children:n.map(r=>U.jsxs("button",{onClick:()=>e(r.id),style:{width:"80px",height:"56px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"12px",border:t===r.id?"2px solid #222":"2px solid transparent",backgroundColor:t===r.id?"#fff":"transparent",boxShadow:t===r.id?"2px 2px 0 #222":"none",cursor:"pointer",transition:"none"},children:[r.icon==="clock"&&U.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.icon==="bolt"&&U.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),r.icon==="wallet"&&U.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),U.jsx("span",{style:{fontSize:"12px",fontWeight:"bold",marginTop:"4px"},children:r.label})]},r.id))})}function QMe({onAudioInit:t}){const{login:e}=u_(),n=async()=>{try{const r=new(window.AudioContext||window.webkitAudioContext);await r.resume(),console.log("Audio context initialized on sign-in, state:",r.state),t(r)}catch(r){console.error("Audio init error:",r),t(null)}e()};return U.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",backgroundColor:"#E8E8E8",backgroundImage:"radial-gradient(#ccc 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[U.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"#222",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",boxShadow:"6px 6px 0 #222",border:"4px solid #222"},children:U.jsx("span",{style:{color:"#fff",fontSize:"48px",fontWeight:"bold"},children:"I"})}),U.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:"#222",margin:"0 0 8px 0",textAlign:"center"},children:"Instinct"}),U.jsx("p",{style:{fontSize:"18px",color:"#666",margin:"0 0 48px 0",textAlign:"center",fontWeight:"bold"},children:"Bet on your gut feeling"}),U.jsxs("div",{style:{backgroundColor:"#fff",border:"4px solid #222",borderRadius:"20px",padding:"32px",boxShadow:"8px 8px 0 #222",maxWidth:"360px",width:"100%",textAlign:"center"},children:[U.jsxs("div",{style:{marginBottom:"32px"},children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",justifyContent:"center"},children:[U.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#fef3c7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #222"},children:U.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#f59e0b",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),U.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#222"},children:"30 seconds per bet"})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",justifyContent:"center"},children:[U.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dcfce7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #222"},children:U.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#22c55e",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),U.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#222"},children:"Swipe to decide"})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"center"},children:[U.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dbeafe",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #222"},children:U.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),U.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#222"},children:"Win real rewards"})]})]}),U.jsx("button",{onClick:n,style:{width:"100%",padding:"18px 24px",backgroundColor:"#222",color:"#fff",border:"4px solid #222",borderRadius:"14px",fontSize:"20px",fontWeight:"bold",cursor:"pointer",boxShadow:"4px 4px 0 #000",transition:"transform 0.1s, box-shadow 0.1s"},onMouseDown:r=>{r.currentTarget.style.transform="translate(4px, 4px)",r.currentTarget.style.boxShadow="none"},onMouseUp:r=>{r.currentTarget.style.transform="none",r.currentTarget.style.boxShadow="4px 4px 0 #000"},onMouseLeave:r=>{r.currentTarget.style.transform="none",r.currentTarget.style.boxShadow="4px 4px 0 #000"},children:"Sign In with Email"}),U.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"16px 0 0 0"},children:"Trust your instincts. Make your move."})]}),U.jsx("p",{style:{fontSize:"12px",color:"#999",marginTop:"32px",textAlign:"center"},children:"By signing in, you agree to our Terms of Service"})]})}const zC=H.createContext({});function w0(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const K_=H.createContext(null),G_=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class e9e extends H.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function t9e({children:t,isPresent:e}){const n=H.useId(),r=H.useRef(null),i=H.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=H.useContext(G_);return H.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),U.jsx(e9e,{isPresent:e,childRef:r,sizeRef:i,children:H.cloneElement(t,{ref:r})})}const n9e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=w0(r9e),c=H.useId(),u=H.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),d=H.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return H.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),H.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=U.jsx(t9e,{isPresent:n,children:t})),U.jsx(K_.Provider,{value:d,children:t})};function r9e(){return new Map}function VK(t=!0){const e=H.useContext(K_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=H.useId();H.useEffect(()=>{t&&i(s)},[t]);const o=H.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const yb=t=>t.key||"";function P9(t){const e=[];return H.Children.forEach(t,n=>{H.isValidElement(n)&&e.push(n)}),e}const WC=typeof window<"u",VC=WC?H.useLayoutEffect:H.useEffect,qC=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,c]=VK(o),u=H.useMemo(()=>P9(t),[t]),d=o&&!a?[]:u.map(yb),f=H.useRef(!0),p=H.useRef(u),m=w0(()=>new Map),[y,w]=H.useState(u),[v,E]=H.useState(u);VC(()=>{f.current=!1,p.current=u;for(let x=0;x<v.length;x++){const A=yb(v[x]);d.includes(A)?m.delete(A):m.get(A)!==!0&&m.set(A,!1)}},[v,d.length,d.join("-")]);const k=[];if(u!==y){let x=[...u];for(let A=0;A<v.length;A++){const T=v[A],O=yb(T);d.includes(O)||(x.splice(A,0,T),k.push(T))}s==="wait"&&k.length&&(x=k),E(P9(x)),w(u);return}const{forceRender:_}=H.useContext(zC);return U.jsx(U.Fragment,{children:v.map(x=>{const A=yb(x),T=o&&!a?!1:u===v||d.includes(A),O=()=>{if(m.has(A))m.set(A,!0);else return;let N=!0;m.forEach(D=>{D||(N=!1)}),N&&(_==null||_(),E(p.current),o&&(c==null||c()),r&&r())};return U.jsx(n9e,{isPresent:T,initial:!f.current||n?void 0:!1,custom:T?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:O,children:x},A)})})},Ns=t=>t;let qK=Ns;function HC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Da=t=>t*1e3,Ma=t=>t/1e3,i9e={useManualTiming:!1};function s9e(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?e:n;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const wb=["read","resolveKeyframes","update","preRender","render","postRender"],o9e=40;function HK(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=wb.reduce((E,k)=>(E[k]=s9e(s),E),{}),{read:a,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:p}=o,m=()=>{const E=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,o9e),1),i.timestamp=E,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:wb.reduce((E,k)=>{const _=o[k];return E[k]=(x,A=!1,T=!1)=>(n||y(),_.schedule(x,A,T)),E},{}),cancel:E=>{for(let k=0;k<wb.length;k++)o[wb[k]].cancel(E)},state:i,steps:o}}const{schedule:_n,cancel:Zc,state:ai,steps:CA}=HK(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ns,!0),KK=H.createContext({strict:!1}),O9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sp={};for(const t in O9)sp[t]={isEnabled:e=>O9[t].some(n=>!!e[n])};function a9e(t){for(const e in t)sp[e]={...sp[e],...t[e]}}const c9e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||c9e.has(t)}let GK=t=>!p1(t);function l9e(t){t&&(GK=e=>e.startsWith("on")?!p1(e):t(e))}try{l9e(require("@emotion/is-prop-valid").default)}catch{}function u9e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(GK(i)||n===!0&&p1(i)||!e&&!p1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function d9e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Y_=H.createContext({});function yy(t){return typeof t=="string"||Array.isArray(t)}function Z_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const KC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GC=["initial",...KC];function J_(t){return Z_(t.animate)||GC.some(e=>yy(t[e]))}function YK(t){return!!(J_(t)||t.variants)}function h9e(t,e){if(J_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yy(n)?n:void 0,animate:yy(r)?r:void 0}}return t.inherit!==!1?e:{}}function f9e(t){const{initial:e,animate:n}=h9e(t,H.useContext(Y_));return H.useMemo(()=>({initial:e,animate:n}),[R9(e),R9(n)])}function R9(t){return Array.isArray(t)?t.join(" "):t}const p9e=Symbol.for("motionComponentSymbol");function yf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function m9e(t,e,n){return H.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yf(n)&&(n.current=r))},[e])}const YC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g9e="framerAppearId",ZK="data-"+YC(g9e),{schedule:ZC}=HK(queueMicrotask,!1),JK=H.createContext({});function y9e(t,e,n,r,i){var s,o;const{visualElement:a}=H.useContext(Y_),c=H.useContext(KK),u=H.useContext(K_),d=H.useContext(G_).reducedMotion,f=H.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=H.useContext(JK);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&w9e(f.current,n,i,m);const y=H.useRef(!1);H.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const w=n[ZK],v=H.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return VC(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ZC.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),H.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,w)}),v.current=!1))}),p}function w9e(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XK(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&yf(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function XK(t){if(t)return t.options.allowProjection!==!1?t.projection:XK(t.parent)}function b9e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&a9e(t);function a(u,d){let f;const p={...H.useContext(G_),...u,layoutId:v9e(u)},{isStatic:m}=p,y=f9e(u),w=r(u,m);if(!m&&WC){_9e();const v=E9e(p);f=v.MeasureLayout,y.visualElement=y9e(i,w,p,e,v.ProjectionNode)}return U.jsxs(Y_.Provider,{value:y,children:[f&&y.visualElement?U.jsx(f,{visualElement:y.visualElement,...p}):null,n(i,u,m9e(w,y.visualElement,d),w,m,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=H.forwardRef(a);return c[p9e]=i,c}function v9e({layoutId:t}){const e=H.useContext(zC).id;return e&&t!==void 0?e+"-"+t:t}function _9e(t,e){H.useContext(KK).strict}function E9e(t){const{drag:e,layout:n}=sp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const x9e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JC(t){return typeof t!="string"||t.includes("-")?!1:!!(x9e.indexOf(t)>-1||/[A-Z]/u.test(t))}function N9(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function XC(t,e,n,r){if(typeof e=="function"){const[i,s]=N9(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=N9(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const R5=t=>Array.isArray(t),S9e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),A9e=t=>R5(t)?t[t.length-1]||0:t,Jr=t=>!!(t&&t.getVelocity);function Yb(t){const e=Jr(t)?t.get():t;return S9e(e)?e.toValue():e}function T9e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:I9e(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const QK=t=>(e,n)=>{const r=H.useContext(Y_),i=H.useContext(K_),s=()=>T9e(t,e,r,i);return n?s():w0(s)};function I9e(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Yb(s[p]);let{initial:o,animate:a}=t;const c=J_(t),u=YK(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Z_(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const y=XC(t,p[m]);if(y){const{transitionEnd:w,transition:v,...E}=y;for(const k in E){let _=E[k];if(Array.isArray(_)){const x=d?_.length-1:0;_=_[x]}_!==null&&(i[k]=_)}for(const k in w)i[k]=w[k]}}}return i}const Sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nh=new Set(Sp),eG=t=>e=>typeof e=="string"&&e.startsWith(t),tG=eG("--"),k9e=eG("var(--"),QC=t=>k9e(t)?C9e.test(t.split("/*")[0].trim()):!1,C9e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nG=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Jc=(t,e,n)=>n>e?e:n<t?t:n,Ap={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wy={...Ap,transform:t=>Jc(0,1,t)},bb={...Ap,default:1},b0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nl=b0("deg"),La=b0("%"),yt=b0("px"),P9e=b0("vh"),O9e=b0("vw"),$9={...La,parse:t=>La.parse(t)/100,transform:t=>La.transform(t*100)},R9e={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt},N9e={rotate:Nl,rotateX:Nl,rotateY:Nl,rotateZ:Nl,scale:bb,scaleX:bb,scaleY:bb,scaleZ:bb,skew:Nl,skewX:Nl,skewY:Nl,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:wy,originX:$9,originY:$9,originZ:yt},D9={...Ap,transform:Math.round},e3={...R9e,...N9e,zIndex:D9,size:yt,fillOpacity:wy,strokeOpacity:wy,numOctaves:D9},$9e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D9e=Sp.length;function M9e(t,e,n){let r="",i=!0;for(let s=0;s<D9e;s++){const o=Sp[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=nG(a,e3[o]);if(!c){i=!1;const d=$9e[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function t3(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(nh.has(c)){o=!0;continue}else if(tG(c)){i[c]=u;continue}else{const d=nG(u,e3[c]);c.startsWith("origin")?(a=!0,s[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=M9e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const L9e={offset:"stroke-dashoffset",array:"stroke-dasharray"},B9e={offset:"strokeDashoffset",array:"strokeDasharray"};function U9e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?L9e:B9e;t[s.offset]=yt.transform(-r);const o=yt.transform(e),a=yt.transform(n);t[s.array]=`${o} ${a}`}function M9(t,e,n){return typeof t=="string"?t:yt.transform(e+n*t)}function F9e(t,e,n){const r=M9(e,t.x,t.width),i=M9(n,t.y,t.height);return`${r} ${i}`}function n3(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},d,f){if(t3(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:y}=t;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=F9e(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&U9e(p,o,a,c,!1)}const r3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rG=()=>({...r3(),attrs:{}}),i3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iG(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const sG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oG(t,e,n,r){iG(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sG.has(i)?i:YC(i),e.attrs[i])}const m1={};function j9e(t){Object.assign(m1,t)}function aG(t,{layout:e,layoutId:n}){return nh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!m1[t]||t==="opacity")}function s3(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Jr(i[o])||e.style&&Jr(e.style[o])||aG(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function cG(t,e,n){const r=s3(t,e,n);for(const i in t)if(Jr(t[i])||Jr(e[i])){const s=Sp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function z9e(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const L9=["x","y","width","height","cx","cy","r"],W9e={useVisualState:QK({scrapeMotionValuesFromProps:cG,createRenderState:rG,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(nh.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<L9.length;a++){const c=L9[a];t[c]!==e[c]&&(o=!0)}o&&_n.read(()=>{z9e(n,r),_n.render(()=>{n3(r,i,i3(n.tagName),t.transformTemplate),oG(n,r)})})}})},V9e={useVisualState:QK({scrapeMotionValuesFromProps:s3,createRenderState:r3})};function lG(t,e,n){for(const r in e)!Jr(e[r])&&!aG(r,n)&&(t[r]=e[r])}function q9e({transformTemplate:t},e){return H.useMemo(()=>{const n=r3();return t3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function H9e(t,e){const n=t.style||{},r={};return lG(r,n,t),Object.assign(r,q9e(t,e)),r}function K9e(t,e){const n={},r=H9e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function G9e(t,e,n,r){const i=H.useMemo(()=>{const s=rG();return n3(s,e,i3(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};lG(s,t.style,t),i.style={...s,...i.style}}return i}function Y9e(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(JC(n)?G9e:K9e)(r,s,o,n),u=u9e(r,typeof n=="string",t),d=n!==H.Fragment?{...u,...c,ref:i}:{},{children:f}=r,p=H.useMemo(()=>Jr(f)?f.get():f,[f]);return H.createElement(n,{...d,children:p})}}function Z9e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...JC(r)?W9e:V9e,preloadedFeatures:t,useRender:Y9e(i),createVisualElement:e,Component:r};return b9e(o)}}function uG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function X_(t,e,n){const r=t.getProps();return XC(r,e,n!==void 0?n:r.custom,t)}const J9e=HC(()=>window.ScrollTimeline!==void 0);class X9e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(J9e()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dG extends X9e{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function o3(t,e){return t?t[e]||t.default||t:void 0}const g1=2e4;function a3(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<g1;)e+=n,r=t.next(e);return e>=g1?1/0:e}function Q9e(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(a3(r),g1);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ma(i)}}function Q_(t){return typeof t=="function"}function B9(t,e){t.timeline=e,t.onfinish=null}const c3=t=>Array.isArray(t)&&typeof t[0]=="number",eLe={linearEasing:void 0};function tLe(t,e){const n=HC(t);return()=>{var r;return(r=eLe[e])!==null&&r!==void 0?r:n()}}const y1=tLe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hG=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Fd(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function fG(t){return!!(typeof t=="function"&&y1()||!t||typeof t=="string"&&(t in N5||y1())||c3(t)||Array.isArray(t)&&t.every(fG))}const Qm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,N5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qm([0,.65,.55,1]),circOut:Qm([.55,0,1,.45]),backIn:Qm([.31,.01,.66,-.59]),backOut:Qm([.33,1.53,.69,.99])};function pG(t,e){if(t)return typeof t=="function"&&y1()?hG(t,e):c3(t)?Qm(t):Array.isArray(t)?t.map(n=>pG(n,e)||N5.easeOut):N5[t]}const Lo={x:!1,y:!1};function mG(){return Lo.x||Lo.y}function gG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function yG(t,e){const n=gG(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function U9(t){return e=>{e.pointerType==="touch"||mG()||t(e)}}function nLe(t,e,n={}){const[r,i,s]=yG(t,n),o=U9(a=>{const{target:c}=a,u=e(a);if(typeof u!="function"||!c)return;const d=U9(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const wG=(t,e)=>e?t===e?!0:wG(t,e.parentElement):!1,l3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rLe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iLe(t){return rLe.has(t.tagName)||t.tabIndex!==-1}const eg=new WeakSet;function F9(t){return e=>{e.key==="Enter"&&t(e)}}function PA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sLe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=F9(()=>{if(eg.has(n))return;PA(n,"down");const i=F9(()=>{PA(n,"up")}),s=()=>PA(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function j9(t){return l3(t)&&!mG()}function oLe(t,e,n={}){const[r,i,s]=yG(t,n),o=a=>{const c=a.currentTarget;if(!j9(a)||eg.has(c))return;eg.add(c);const u=e(a),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!j9(m)||!eg.has(c))&&(eg.delete(c),typeof u=="function"&&u(m,{success:y}))},f=m=>{d(m,n.useGlobalTarget||wG(c,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!iLe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>sLe(u,i),i)}),s}function aLe(t){return t==="x"||t==="y"?Lo[t]?null:(Lo[t]=!0,()=>{Lo[t]=!1}):Lo.x||Lo.y?null:(Lo.x=Lo.y=!0,()=>{Lo.x=Lo.y=!1})}const bG=new Set(["width","height","top","left","right","bottom",...Sp]);let Zb;function cLe(){Zb=void 0}const Ba={now:()=>(Zb===void 0&&Ba.set(ai.isProcessing||i9e.useManualTiming?ai.timestamp:performance.now()),Zb),set:t=>{Zb=t,queueMicrotask(cLe)}};function u3(t,e){t.indexOf(e)===-1&&t.push(e)}function eE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class d3{constructor(){this.subscriptions=[]}add(e){return u3(this.subscriptions,e),()=>eE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function vG(t,e){return e?t*(1e3/e):0}const z9=30,lLe=t=>!isNaN(parseFloat(t)),yg={current:void 0};class uLe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ba.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ba.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lLe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new d3);const r=this.events[e].add(n);return e==="change"?()=>{r(),_n.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return yg.current&&yg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ba.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z9)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z9);return vG(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function op(t,e){return new uLe(t,e)}function dLe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,op(n))}function hLe(t,e){const n=X_(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=A9e(s[o]);dLe(t,o,a)}}function fLe(t){return!!(Jr(t)&&t.add)}function $5(t,e){const n=t.getValue("willChange");if(fLe(n))return n.add(e)}function _G(t){return t.props[ZK]}const EG=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pLe=1e-7,mLe=12;function gLe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=EG(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>pLe&&++a<mLe);return o}function v0(t,e,n,r){if(t===e&&n===r)return Ns;const i=s=>gLe(s,0,1,t,n);return s=>s===0||s===1?s:EG(i(s),e,r)}const xG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SG=t=>e=>1-t(1-e),AG=v0(.33,1.53,.69,.99),h3=SG(AG),TG=xG(h3),IG=t=>(t*=2)<1?.5*h3(t):.5*(2-Math.pow(2,-10*(t-1))),f3=t=>1-Math.sin(Math.acos(t)),kG=SG(f3),CG=xG(f3),PG=t=>/^0[^.\s]+$/u.test(t);function yLe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PG(t):!0}const wg=t=>Math.round(t*1e5)/1e5,p3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wLe(t){return t==null}const bLe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m3=(t,e)=>n=>!!(typeof n=="string"&&bLe.test(n)&&n.startsWith(t)||e&&!wLe(n)&&Object.prototype.hasOwnProperty.call(n,e)),OG=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(p3);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vLe=t=>Jc(0,255,t),OA={...Ap,transform:t=>Math.round(vLe(t))},ud={test:m3("rgb","red"),parse:OG("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+OA.transform(t)+", "+OA.transform(e)+", "+OA.transform(n)+", "+wg(wy.transform(r))+")"};function _Le(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const D5={test:m3("#"),parse:_Le,transform:ud.transform},wf={test:m3("hsl","hue"),parse:OG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+La.transform(wg(e))+", "+La.transform(wg(n))+", "+wg(wy.transform(r))+")"},Ii={test:t=>ud.test(t)||D5.test(t)||wf.test(t),parse:t=>ud.test(t)?ud.parse(t):wf.test(t)?wf.parse(t):D5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ud.transform(t):wf.transform(t)},ELe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xLe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(p3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ELe))===null||n===void 0?void 0:n.length)||0)>0}const RG="number",NG="color",SLe="var",ALe="var(",W9="${}",TLe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function by(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(TLe,c=>(Ii.test(c)?(r.color.push(s),i.push(NG),n.push(Ii.parse(c))):c.startsWith(ALe)?(r.var.push(s),i.push(SLe),n.push(c)):(r.number.push(s),i.push(RG),n.push(parseFloat(c))),++s,W9)).split(W9);return{values:n,split:a,indexes:r,types:i}}function $G(t){return by(t).values}function DG(t){const{split:e,types:n}=by(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===RG?s+=wg(i[o]):a===NG?s+=Ii.transform(i[o]):s+=i[o]}return s}}const ILe=t=>typeof t=="number"?0:t;function kLe(t){const e=$G(t);return DG(t)(e.map(ILe))}const au={test:xLe,parse:$G,createTransformer:DG,getAnimatableNone:kLe},CLe=new Set(["brightness","contrast","saturate","opacity"]);function PLe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(p3)||[];if(!r)return t;const i=n.replace(r,"");let s=CLe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const OLe=/\b([a-z-]*)\(.*?\)/gu,M5={...au,getAnimatableNone:t=>{const e=t.match(OLe);return e?e.map(PLe).join(" "):t}},RLe={...e3,color:Ii,backgroundColor:Ii,outlineColor:Ii,fill:Ii,stroke:Ii,borderColor:Ii,borderTopColor:Ii,borderRightColor:Ii,borderBottomColor:Ii,borderLeftColor:Ii,filter:M5,WebkitFilter:M5},g3=t=>RLe[t];function MG(t,e){let n=g3(t);return n!==M5&&(n=au),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NLe=new Set(["auto","none","0"]);function $Le(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!NLe.has(s)&&by(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=MG(n,i)}const V9=t=>t===Ap||t===yt,q9=(t,e)=>parseFloat(t.split(", ")[e]),H9=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return q9(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?q9(s[1],t):0}},DLe=new Set(["x","y","z"]),MLe=Sp.filter(t=>!DLe.has(t));function LLe(t){const e=[];return MLe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ap={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:H9(4,13),y:H9(5,14)};ap.translateX=ap.x;ap.translateY=ap.y;const gd=new Set;let L5=!1,B5=!1;function LG(){if(B5){const t=Array.from(gd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=LLe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B5=!1,L5=!1,gd.forEach(t=>t.complete()),gd.clear()}function BG(){gd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B5=!0)})}function BLe(){BG(),LG()}class y3{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gd.add(this),L5||(L5=!0,_n.read(BG),_n.resolveKeyframes(LG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const UG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ULe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FLe(t){const e=ULe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FG(t,e,n=1){const[r,i]=FLe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return UG(o)?parseFloat(o):o}return QC(i)?FG(i,e,n+1):i}const jG=t=>e=>e.test(t),jLe={test:t=>t==="auto",parse:t=>t},zG=[Ap,yt,La,Nl,O9e,P9e,jLe],K9=t=>zG.find(jG(t));class WG extends y3{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),QC(u))){const d=FG(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!bG.has(r)||e.length!==2)return;const[i,s]=e,o=K9(i),a=K9(s);if(o!==a)if(V9(o)&&V9(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)yLe(e[i])&&r.push(i);r.length&&$Le(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ap[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ap[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const G9=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(au.test(t)||t==="0")&&!t.startsWith("url("));function zLe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WLe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=G9(i,e),a=G9(s,e);return!o||!a?!1:zLe(t)||(n==="spring"||Q_(n))&&r}const VLe=t=>t!==null;function tE(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(VLe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const qLe=40;class VG{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ba.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qLe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BLe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ba.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!WLe(e,r,i,s))if(o)this.options.duration=0;else{c&&c(tE(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Bn=(t,e,n)=>t+(e-t)*n;function RA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HLe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=RA(c,a,t+1/3),s=RA(c,a,t),o=RA(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function w1(t,e){return n=>n>0?e:t}const NA=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},KLe=[D5,ud,wf],GLe=t=>KLe.find(e=>e.test(t));function Y9(t){const e=GLe(t);if(!e)return!1;let n=e.parse(t);return e===wf&&(n=HLe(n)),n}const Z9=(t,e)=>{const n=Y9(t),r=Y9(e);if(!n||!r)return w1(t,e);const i={...n};return s=>(i.red=NA(n.red,r.red,s),i.green=NA(n.green,r.green,s),i.blue=NA(n.blue,r.blue,s),i.alpha=Bn(n.alpha,r.alpha,s),ud.transform(i))},YLe=(t,e)=>n=>e(t(n)),_0=(...t)=>t.reduce(YLe),U5=new Set(["none","hidden"]);function ZLe(t,e){return U5.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function JLe(t,e){return n=>Bn(t,e,n)}function w3(t){return typeof t=="number"?JLe:typeof t=="string"?QC(t)?w1:Ii.test(t)?Z9:eBe:Array.isArray(t)?qG:typeof t=="object"?Ii.test(t)?Z9:XLe:w1}function qG(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>w3(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function XLe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=w3(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function QLe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const eBe=(t,e)=>{const n=au.createTransformer(e),r=by(t),i=by(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?U5.has(t)&&!i.values.length||U5.has(e)&&!r.values.length?ZLe(t,e):_0(qG(QLe(r,i),i.values),n):w1(t,e)};function HG(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Bn(t,e,n):w3(t)(t,e)}const tBe=5;function KG(t,e,n){const r=Math.max(e-tBe,0);return vG(n-t(r),e-r)}const Qn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$A=.001;function nBe({duration:t=Qn.duration,bounce:e=Qn.bounce,velocity:n=Qn.velocity,mass:r=Qn.mass}){let i,s,o=1-e;o=Jc(Qn.minDamping,Qn.maxDamping,o),t=Jc(Qn.minDuration,Qn.maxDuration,Ma(t)),o<1?(i=u=>{const d=u*o,f=d*t,p=d-n,m=F5(u,o),y=Math.exp(-f);return $A-p/m*y},s=u=>{const f=u*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),w=F5(Math.pow(u,2),o);return(-i(u)+$A>0?-1:1)*((p-m)*y)/w}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-$A+d*f},s=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const a=5/t,c=iBe(i,s,a);if(t=Da(t),isNaN(c))return{stiffness:Qn.stiffness,damping:Qn.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const rBe=12;function iBe(t,e,n){let r=n;for(let i=1;i<rBe;i++)r=r-t(r)/e(r);return r}function F5(t,e){return t*Math.sqrt(1-e*e)}const sBe=["duration","bounce"],oBe=["stiffness","damping","mass"];function J9(t,e){return e.some(n=>t[n]!==void 0)}function aBe(t){let e={velocity:Qn.velocity,stiffness:Qn.stiffness,damping:Qn.damping,mass:Qn.mass,isResolvedFromDuration:!1,...t};if(!J9(t,oBe)&&J9(t,sBe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Jc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Qn.mass,stiffness:i,damping:s}}else{const n=nBe(t);e={...e,...n,mass:Qn.mass},e.isResolvedFromDuration=!0}return e}function b3(t=Qn.visualDuration,e=Qn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=aBe({...n,velocity:-Ma(n.velocity||0)}),y=p||0,w=u/(2*Math.sqrt(c*d)),v=o-s,E=Ma(Math.sqrt(c/d)),k=Math.abs(v)<5;r||(r=k?Qn.restSpeed.granular:Qn.restSpeed.default),i||(i=k?Qn.restDelta.granular:Qn.restDelta.default);let _;if(w<1){const A=F5(E,w);_=T=>{const O=Math.exp(-w*E*T);return o-O*((y+w*E*v)/A*Math.sin(A*T)+v*Math.cos(A*T))}}else if(w===1)_=A=>o-Math.exp(-E*A)*(v+(y+E*v)*A);else{const A=E*Math.sqrt(w*w-1);_=T=>{const O=Math.exp(-w*E*T),N=Math.min(A*T,300);return o-O*((y+w*E*v)*Math.sinh(N)+A*v*Math.cosh(N))/A}}const x={calculatedDuration:m&&f||null,next:A=>{const T=_(A);if(m)a.done=A>=f;else{let O=0;w<1&&(O=A===0?Da(y):KG(_,A,T));const N=Math.abs(O)<=r,D=Math.abs(o-T)<=i;a.done=N&&D}return a.value=a.done?o:T,a},toString:()=>{const A=Math.min(a3(x),g1),T=hG(O=>x.next(A*O).value,A,30);return A+"ms "+T}};return x}function X9({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=N=>a!==void 0&&N<a||c!==void 0&&N>c,y=N=>a===void 0?c:c===void 0||Math.abs(a-N)<Math.abs(c-N)?a:c;let w=n*e;const v=f+w,E=o===void 0?v:o(v);E!==v&&(w=E-f);const k=N=>-w*Math.exp(-N/r),_=N=>E+k(N),x=N=>{const D=k(N),F=_(N);p.done=Math.abs(D)<=u,p.value=p.done?E:F};let A,T;const O=N=>{m(p.value)&&(A=N,T=b3({keyframes:[p.value,y(p.value)],velocity:KG(_,N,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:N=>{let D=!1;return!T&&A===void 0&&(D=!0,x(N),O(N)),A!==void 0&&N>=A?T.next(N-A):(!D&&x(N),p)}}}const cBe=v0(.42,0,1,1),lBe=v0(0,0,.58,1),GG=v0(.42,0,.58,1),YG=t=>Array.isArray(t)&&typeof t[0]!="number",uBe={linear:Ns,easeIn:cBe,easeInOut:GG,easeOut:lBe,circIn:f3,circInOut:CG,circOut:kG,backIn:h3,backInOut:TG,backOut:AG,anticipate:IG},Q9=t=>{if(c3(t)){qK(t.length===4);const[e,n,r,i]=t;return v0(e,n,r,i)}else if(typeof t=="string")return uBe[t];return t};function dBe(t,e,n){const r=[],i=n||HG,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ns:e;a=_0(c,a)}r.push(a)}return r}function ZG(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qK(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=dBe(e,r,i),c=a.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Fd(t[f],t[f+1],d);return a[f](p)};return n?d=>u(Jc(t[0],t[s-1],d)):u}function JG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fd(0,e,r);t.push(Bn(n,1,i))}}function XG(t){const e=[0];return JG(e,t.length-1),e}function hBe(t,e){return t.map(n=>n*e)}function fBe(t,e){return t.map(()=>e||GG).splice(0,t.length-1)}function b1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=YG(r)?r.map(Q9):Q9(r),s={done:!1,value:e[0]},o=hBe(n&&n.length===e.length?n:XG(e),t),a=ZG(o,e,{ease:Array.isArray(i)?i:fBe(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const pBe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_n.update(e,!0),stop:()=>Zc(e),now:()=>ai.isProcessing?ai.timestamp:Ba.now()}},mBe={decay:X9,inertia:X9,tween:b1,keyframes:b1,spring:b3},gBe=t=>t/100;class v3 extends VG{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||y3,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Q_(n)?n:mBe[n]||b1;let c,u;a!==b1&&typeof e[0]!="number"&&(c=_0(gBe,HG(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=a3(d));const{calculatedDuration:f}=d,p=f+i,m=p*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:y,repeatDelay:w,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-p*(this.speed>=0?1:-1),k=this.speed>=0?E<0:E>d;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,x=s;if(m){const N=Math.min(this.currentTime,d)/f;let D=Math.floor(N),F=N%1;!F&&N>=1&&(F=1),F===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(y==="reverse"?(F=1-F,w&&(F-=w/f)):y==="mirror"&&(x=o)),_=Jc(0,1,F)*f}const A=k?{done:!1,value:c[0]}:x.next(_);a&&(A.value=a(A.value));let{done:T}=A;!k&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return O&&i!==void 0&&(A.value=tE(c,this.options,i)),v&&v(A.value),O&&this.finish(),A}get duration(){const{resolved:e}=this;return e?Ma(e.calculatedDuration):0}get time(){return Ma(this.currentTime)}set time(e){e=Da(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ma(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pBe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yBe=new Set(["opacity","clipPath","filter","transform"]);function wBe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=pG(a,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const bBe=HC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),v1=10,vBe=2e4;function _Be(t){return Q_(t.type)||t.type==="spring"||!fG(t.ease)}function EBe(t,e){const n=new v3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<vBe;)r=n.sample(s),i.push(r.value),s+=v1;return{times:void 0,keyframes:i,duration:s-v1,ease:"linear"}}const QG={anticipate:IG,backInOut:TG,circInOut:CG};function xBe(t){return t in QG}class eL extends VG{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new WG(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&y1()&&xBe(s)&&(s=QG[s]),_Be(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:y,...w}=this.options,v=EBe(e,w);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const d=wBe(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(B9(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(tE(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ma(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ma(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Da(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ns;const{animation:r}=n;B9(r,e)}return Ns}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:p,...m}=this.options,y=new v3({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),w=Da(this.time);u.setWithVelocity(y.sample(w-v1).value,y.sample(w).value,v1)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return bBe()&&r&&yBe.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const SBe={type:"spring",stiffness:500,damping:25,restSpeed:10},ABe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TBe={type:"keyframes",duration:.8},IBe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kBe=(t,{keyframes:e})=>e.length>2?TBe:nh.has(t)?t.startsWith("scale")?ABe(e[1]):SBe:IBe;function CBe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const _3=(t,e,n,r={},i,s)=>o=>{const a=o3(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Da(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};CBe(a)||(d={...d,...kBe(t,d)}),d.duration&&(d.duration=Da(d.duration)),d.repeatDelay&&(d.repeatDelay=Da(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=tE(d.keyframes,a);if(p!==void 0)return _n.update(()=>{d.onUpdate(p),d.onComplete()}),new dG([])}return!s&&eL.supports(d)?new eL(d):new v3(d)};function PBe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function E3(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=c[f];if(m===void 0||d&&PBe(d,f))continue;const y={delay:n,...o3(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const E=_G(t);if(E){const k=window.MotionHandoffAnimation(E,f,_n);k!==null&&(y.startTime=k,w=!0)}}$5(t,f),p.start(_3(f,p,m,t.shouldReduceMotion&&bG.has(f)?{type:!1}:y,t,w));const v=p.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{_n.update(()=>{a&&hLe(t,a)})}),u}function j5(t,e,n={}){var r;const i=X_(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(E3(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return OBe(t,e,d+u,f,p,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function OBe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(RBe).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(j5(u,e,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function RBe(t,e){return t.sortNodePosition(e)}function NBe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>j5(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=j5(t,e,n);else{const i=typeof e=="function"?X_(t,e,n.custom):e;r=Promise.all(E3(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const $Be=GC.length;function eY(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?eY(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$Be;n++){const r=GC[n],i=t.props[r];(yy(i)||i===!1)&&(e[r]=i)}return e}const DBe=[...KC].reverse(),MBe=KC.length;function LBe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>NBe(t,n,r)))}function BBe(t){let e=LBe(t),n=tL(),r=!0;const i=c=>(u,d)=>{var f;const p=X_(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:y,...w}=p;u={...u,...w,...y}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,d=eY(t.parent)||{},f=[],p=new Set;let m={},y=1/0;for(let v=0;v<MBe;v++){const E=DBe[v],k=n[E],_=u[E]!==void 0?u[E]:d[E],x=yy(_),A=E===c?k.isActive:null;A===!1&&(y=v);let T=_===d[E]&&_!==u[E]&&x;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),k.protectedKeys={...m},!k.isActive&&A===null||!_&&!k.prevProp||Z_(_)||typeof _=="boolean")continue;const O=UBe(k.prevProp,_);let N=O||E===c&&k.isActive&&!T&&x||v>y&&x,D=!1;const F=Array.isArray(_)?_:[_];let K=F.reduce(i(E),{});A===!1&&(K={});const{prevResolvedValues:B={}}=k,j={...B,...K},Y=L=>{N=!0,p.has(L)&&(D=!0,p.delete(L)),k.needsAnimating[L]=!0;const M=t.getValue(L);M&&(M.liveStyle=!1)};for(const L in j){const M=K[L],R=B[L];if(m.hasOwnProperty(L))continue;let z=!1;R5(M)&&R5(R)?z=!uG(M,R):z=M!==R,z?M!=null?Y(L):p.add(L):M!==void 0&&p.has(L)?Y(L):k.protectedKeys[L]=!0}k.prevProp=_,k.prevResolvedValues=K,k.isActive&&(m={...m,...K}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(T&&O)||D)&&f.push(...F.map(L=>({animation:L,options:{type:E}})))}if(p.size){const v={};p.forEach(E=>{const k=t.getBaseTarget(E),_=t.getValue(E);_&&(_.liveStyle=!0),v[E]=k??null}),f.push({animation:v})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function a(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=tL(),r=!0}}}function UBe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uG(e,t):!1}function zu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tL(){return{animate:zu(!0),whileInView:zu(),whileHover:zu(),whileTap:zu(),whileDrag:zu(),whileFocus:zu(),exit:zu()}}class mu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class FBe extends mu{constructor(e){super(e),e.animationState||(e.animationState=BBe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Z_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let jBe=0;class zBe extends mu{constructor(){super(...arguments),this.id=jBe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const WBe={animation:{Feature:FBe},exit:{Feature:zBe}};function vy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function E0(t){return{point:{x:t.pageX,y:t.pageY}}}const VBe=t=>e=>l3(e)&&t(e,E0(e));function bg(t,e,n,r){return vy(t,e,VBe(n),r)}const nL=(t,e)=>Math.abs(t-e);function qBe(t,e){const n=nL(t.x,e.x),r=nL(t.y,e.y);return Math.sqrt(n**2+r**2)}class tY{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=MA(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=qBe(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:w}=ai;this.history.push({...y,timestamp:w});const{onStart:v,onMove:E}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=DA(p,this.transformPagePoint),_n.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=MA(f.type==="pointercancel"?this.lastMoveEventInfo:DA(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),y&&y(f,v)},!l3(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=E0(e),a=DA(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=ai;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,MA(a,this.history)),this.removeListeners=_0(bg(this.contextWindow,"pointermove",this.handlePointerMove),bg(this.contextWindow,"pointerup",this.handlePointerUp),bg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zc(this.updatePoint)}}function DA(t,e){return e?{point:e(t.point)}:t}function rL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function MA({point:t},e){return{point:t,delta:rL(t,nY(e)),offset:rL(t,HBe(e)),velocity:KBe(e,.1)}}function HBe(t){return t[0]}function nY(t){return t[t.length-1]}function KBe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=nY(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Da(e)));)n--;if(!r)return{x:0,y:0};const s=Ma(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const rY=1e-4,GBe=1-rY,YBe=1+rY,iY=.01,ZBe=0-iY,JBe=0+iY;function Ms(t){return t.max-t.min}function XBe(t,e,n){return Math.abs(t-e)<=n}function iL(t,e,n,r=.5){t.origin=r,t.originPoint=Bn(e.min,e.max,t.origin),t.scale=Ms(n)/Ms(e),t.translate=Bn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GBe&&t.scale<=YBe||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZBe&&t.translate<=JBe||isNaN(t.translate))&&(t.translate=0)}function vg(t,e,n,r){iL(t.x,e.x,n.x,r?r.originX:void 0),iL(t.y,e.y,n.y,r?r.originY:void 0)}function sL(t,e,n){t.min=n.min+e.min,t.max=t.min+Ms(e)}function QBe(t,e,n){sL(t.x,e.x,n.x),sL(t.y,e.y,n.y)}function oL(t,e,n){t.min=e.min-n.min,t.max=t.min+Ms(e)}function _g(t,e,n){oL(t.x,e.x,n.x),oL(t.y,e.y,n.y)}function eUe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Bn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Bn(n,t,r.max):Math.min(t,n)),t}function aL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tUe(t,{top:e,left:n,bottom:r,right:i}){return{x:aL(t.x,n,i),y:aL(t.y,e,r)}}function cL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nUe(t,e){return{x:cL(t.x,e.x),y:cL(t.y,e.y)}}function rUe(t,e){let n=.5;const r=Ms(t),i=Ms(e);return i>r?n=Fd(e.min,e.max-r,t.min):r>i&&(n=Fd(t.min,t.max-i,e.min)),Jc(0,1,n)}function iUe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const z5=.35;function sUe(t=z5){return t===!1?t=0:t===!0&&(t=z5),{x:lL(t,"left","right"),y:lL(t,"top","bottom")}}function lL(t,e,n){return{min:uL(t,e),max:uL(t,n)}}function uL(t,e){return typeof t=="number"?t:t[e]||0}const dL=()=>({translate:0,scale:1,origin:0,originPoint:0}),bf=()=>({x:dL(),y:dL()}),hL=()=>({min:0,max:0}),Xn=()=>({x:hL(),y:hL()});function no(t){return[t("x"),t("y")]}function sY({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oUe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aUe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function LA(t){return t===void 0||t===1}function W5({scale:t,scaleX:e,scaleY:n}){return!LA(t)||!LA(e)||!LA(n)}function Hu(t){return W5(t)||oY(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oY(t){return fL(t.x)||fL(t.y)}function fL(t){return t&&t!=="0%"}function _1(t,e,n){const r=t-n,i=e*r;return n+i}function pL(t,e,n,r,i){return i!==void 0&&(t=_1(t,i,r)),_1(t,n,r)+e}function V5(t,e=0,n=1,r,i){t.min=pL(t.min,e,n,r,i),t.max=pL(t.max,e,n,r,i)}function aY(t,{x:e,y:n}){V5(t.x,e.translate,e.scale,e.originPoint),V5(t.y,n.translate,n.scale,n.originPoint)}const mL=.999999999999,gL=1.0000000000001;function cUe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_f(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,aY(t,o)),r&&Hu(s.latestValues)&&_f(t,s.latestValues))}e.x<gL&&e.x>mL&&(e.x=1),e.y<gL&&e.y>mL&&(e.y=1)}function vf(t,e){t.min=t.min+e,t.max=t.max+e}function yL(t,e,n,r,i=.5){const s=Bn(t.min,t.max,i);V5(t,e,n,s,r)}function _f(t,e){yL(t.x,e.x,e.scaleX,e.scale,e.originX),yL(t.y,e.y,e.scaleY,e.scale,e.originY)}function cY(t,e){return sY(aUe(t.getBoundingClientRect(),e))}function lUe(t,e,n){const r=cY(t,n),{scroll:i}=e;return i&&(vf(r.x,i.offset.x),vf(r.y,i.offset.y)),r}const lY=({current:t})=>t?t.ownerDocument.defaultView:null,uUe=new WeakMap;class dUe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(E0(d).point)},s=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aLe(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),no(v=>{let E=this.getAxisMotionValue(v).get()||0;if(La.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const _=k.layout.layoutBox[v];_&&(E=Ms(_)*(parseFloat(E)/100))}}this.originPoint[v]=E}),y&&_n.postRender(()=>y(d,f)),$5(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=hUe(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),w&&w(d,f)},a=(d,f)=>this.stop(d,f),c=()=>no(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new tY(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:lY(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_n.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!vb(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=eUe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&yf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=tUe(i.layoutBox,n):this.constraints=!1,this.elastic=sUe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&no(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iUe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lUe(r,i.root,this.visualElement.getTransformPagePoint());let o=nUe(i.layout.layoutBox,s);if(n){const a=n(oUe(o));this.hasMutatedConstraints=!!a,a&&(o=sY(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=no(d=>{if(!vb(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $5(this.visualElement,e),r.start(_3(e,r,0,n,this.visualElement,!1))}stopAnimation(){no(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){no(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){no(n=>{const{drag:r}=this.getProps();if(!vb(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Bn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};no(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=rUe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),no(o=>{if(!vb(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Bn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;uUe.set(this.visualElement,this);const e=this.visualElement.current,n=bg(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();yf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_n.read(r);const o=vy(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(no(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=z5,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function vb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hUe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fUe extends mu{constructor(e){super(e),this.removeGroupControls=Ns,this.removeListeners=Ns,this.controls=new dUe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const wL=t=>(e,n)=>{t&&_n.postRender(()=>t(e,n))};class pUe extends mu{constructor(){super(...arguments),this.removePointerDownListener=Ns}onPointerDown(e){this.session=new tY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lY(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:wL(e),onStart:wL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&_n.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=bg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Lm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(yt.test(t))t=parseFloat(t);else return t;const n=bL(t,e.target.x),r=bL(t,e.target.y);return`${n}% ${r}%`}},mUe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=au.parse(t);if(i.length>5)return r;const s=au.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=Bn(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class gUe extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;j9e(yUe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_n.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uY(t){const[e,n]=VK(),r=H.useContext(zC);return U.jsx(gUe,{...t,layoutGroup:r,switchLayoutGroup:H.useContext(JK),isPresent:e,safeToRemove:n})}const yUe={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:mUe};function dY(t,e,n){const r=Jr(t)?t:op(t);return r.start(_3("",r,e,n)),r.animation}function hY(t){return t instanceof SVGElement&&t.tagName!=="svg"}const wUe=(t,e)=>t.depth-e.depth;class bUe{constructor(){this.children=[],this.isDirty=!1}add(e){u3(this.children,e),this.isDirty=!0}remove(e){eE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wUe),this.isDirty=!1,this.children.forEach(e)}}function vUe(t,e){const n=Ba.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Zc(r),t(s-e))};return _n.read(r,!0),()=>Zc(r)}const fY=["TopLeft","TopRight","BottomLeft","BottomRight"],_Ue=fY.length,vL=t=>typeof t=="string"?parseFloat(t):t,_L=t=>typeof t=="number"||yt.test(t);function EUe(t,e,n,r,i,s){i?(t.opacity=Bn(0,n.opacity!==void 0?n.opacity:1,xUe(r)),t.opacityExit=Bn(e.opacity!==void 0?e.opacity:1,0,SUe(r))):s&&(t.opacity=Bn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<_Ue;o++){const a=`border${fY[o]}Radius`;let c=EL(e,a),u=EL(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_L(c)===_L(u)?(t[a]=Math.max(Bn(vL(c),vL(u),r),0),(La.test(u)||La.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Bn(e.rotate||0,n.rotate||0,r))}function EL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xUe=pY(0,.5,kG),SUe=pY(.5,.95,Ns);function pY(t,e,n){return r=>r<t?0:r>e?1:n(Fd(t,e,r))}function xL(t,e){t.min=e.min,t.max=e.max}function eo(t,e){xL(t.x,e.x),xL(t.y,e.y)}function SL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AL(t,e,n,r,i){return t-=e,t=_1(t,1/n,r),i!==void 0&&(t=_1(t,1/i,r)),t}function AUe(t,e=0,n=1,r=.5,i,s=t,o=t){if(La.test(e)&&(e=parseFloat(e),e=Bn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Bn(s.min,s.max,r);t===s&&(a-=e),t.min=AL(t.min,e,n,a,i),t.max=AL(t.max,e,n,a,i)}function TL(t,e,[n,r,i],s,o){AUe(t,e[n],e[r],e[i],e.scale,s,o)}const TUe=["x","scaleX","originX"],IUe=["y","scaleY","originY"];function IL(t,e,n,r){TL(t.x,e,TUe,n?n.x:void 0,r?r.x:void 0),TL(t.y,e,IUe,n?n.y:void 0,r?r.y:void 0)}function kL(t){return t.translate===0&&t.scale===1}function mY(t){return kL(t.x)&&kL(t.y)}function CL(t,e){return t.min===e.min&&t.max===e.max}function kUe(t,e){return CL(t.x,e.x)&&CL(t.y,e.y)}function PL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gY(t,e){return PL(t.x,e.x)&&PL(t.y,e.y)}function OL(t){return Ms(t.x)/Ms(t.y)}function RL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class CUe{constructor(){this.members=[]}add(e){u3(this.members,e),e.scheduleRender()}remove(e){if(eE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PUe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const Ku={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tg=typeof window<"u"&&window.MotionDebug!==void 0,BA=["","X","Y","Z"],OUe={visibility:"hidden"},NL=1e3;let RUe=0;function UA(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yY(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_G(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_n,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yY(r)}function wY({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=RUe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tg&&(Ku.totalNodes=Ku.resolvedTargetDeltas=Ku.recalculatedProjection=0),this.nodes.forEach(DUe),this.nodes.forEach(FUe),this.nodes.forEach(jUe),this.nodes.forEach(MUe),tg&&window.MotionDebug.record(Ku)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bUe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new d3),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hY(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vUe(p,250),Jb.hasAnimatedSinceResize&&(Jb.hasAnimatedSinceResize=!1,this.nodes.forEach(DL))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||HUe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:E}=d.getProps(),k=!this.targetLayout||!gY(this.targetLayout,y)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const x={...o3(w,"layout"),onPlay:v,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else p||DL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zUe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($L);return}this.isUpdating||this.nodes.forEach(BUe),this.isUpdating=!1,this.nodes.forEach(UUe),this.nodes.forEach(NUe),this.nodes.forEach($Ue),this.clearAllSnapshots();const a=Ba.now();ai.delta=Jc(0,1e3/60,a-ai.timestamp),ai.timestamp=a,ai.isProcessing=!0,CA.update.process(ai),CA.preRender.process(ai),CA.render.process(ai),ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LUe),this.sharedNodes.forEach(WUe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mY(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Hu(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),KUe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Xn();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(GUe))){const{scroll:d}=this.root;d&&(vf(c.x,d.offset.x),vf(c.y,d.offset.y))}return c}removeElementScroll(o){var a;const c=Xn();if(eo(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&eo(c,o),vf(c.x,f.offset.x),vf(c.y,f.offset.y))}return c}applyTransform(o,a=!1){const c=Xn();eo(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_f(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hu(d.latestValues)&&_f(c,d.latestValues)}return Hu(this.latestValues)&&_f(c,this.latestValues),c}removeTransform(o){const a=Xn();eo(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hu(u.latestValues))continue;W5(u.latestValues)&&u.updateSnapshot();const d=Xn(),f=u.measurePageBox();eo(d,f),IL(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hu(this.latestValues)&&IL(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ai.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),_g(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),eo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xn(),this.targetWithTransforms=Xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QBe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):eo(this.target,this.layout.layoutBox),aY(this.target,this.targetDelta)):eo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),_g(this.relativeTargetOrigin,this.target,m.target),eo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tg&&Ku.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||W5(this.parent.latestValues)||oY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ai.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;eo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;cUe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SL(this.prevProjectionDelta.x,this.projectionDelta.x),SL(this.prevProjectionDelta.y,this.projectionDelta.y)),vg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!RL(this.projectionDelta.x,this.prevProjectionDelta.x)||!RL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),tg&&Ku.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bf(),this.projectionDelta=bf(),this.projectionDeltaWithTransform=bf()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=bf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Xn(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,v=this.getStack(),E=!v||v.members.length<=1,k=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(qUe));this.animationProgress=0;let _;this.mixTargetDelta=x=>{const A=x/1e3;ML(f.x,o.x,A),ML(f.y,o.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_g(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VUe(this.relativeTarget,this.relativeTargetOrigin,p,A),_&&kUe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Xn()),eo(_,this.relativeTarget)),w&&(this.animationValues=d,EUe(d,u,this.latestValues,A,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_n.update(()=>{Jb.hasAnimatedSinceResize=!0,this.currentAnimation=dY(0,NL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&bY(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Xn();const f=Ms(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=Ms(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}eo(a,c),_f(a,d),vg(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new CUe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&UA("z",o,u,this.animationValues);for(let d=0;d<BA.length;d++)UA(`rotate${BA[d]}`,o,u,this.animationValues),UA(`skew${BA[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OUe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Yb(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Yb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hu(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=PUe(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in m1){if(p[w]===void 0)continue;const{correct:v,applyTo:E}=m1[w],k=u.transform==="none"?p[w]:v(p[w],f);if(E){const _=E.length;for(let x=0;x<_;x++)u[E[x]]=k}else u[w]=k}return this.options.layoutId&&(u.pointerEvents=f===this?Yb(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($L),this.root.sharedNodes.clear()}}}function NUe(t){t.updateLayout()}function $Ue(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?no(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ms(p);p.min=r[f].min,p.max=p.min+m}):bY(s,n.layoutBox,r)&&no(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ms(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=bf();vg(a,r,n.layoutBox);const c=bf();o?vg(c,t.applyTransform(i,!0),n.measuredBox):vg(c,r,n.layoutBox);const u=!mY(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=Xn();_g(y,n.layoutBox,p.layoutBox);const w=Xn();_g(w,r,m.layoutBox),gY(y,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function DUe(t){tg&&Ku.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MUe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LUe(t){t.clearSnapshot()}function $L(t){t.clearMeasurements()}function BUe(t){t.isLayoutDirty=!1}function UUe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FUe(t){t.resolveTargetDelta()}function jUe(t){t.calcProjection()}function zUe(t){t.resetSkewAndRotation()}function WUe(t){t.removeLeadSnapshot()}function ML(t,e,n){t.translate=Bn(e.translate,0,n),t.scale=Bn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LL(t,e,n,r){t.min=Bn(e.min,n.min,r),t.max=Bn(e.max,n.max,r)}function VUe(t,e,n,r){LL(t.x,e.x,n.x,r),LL(t.y,e.y,n.y,r)}function qUe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const HUe={duration:.45,ease:[.4,0,.1,1]},BL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UL=BL("applewebkit/")&&!BL("chrome/")?Math.round:Ns;function FL(t){t.min=UL(t.min),t.max=UL(t.max)}function KUe(t){FL(t.x),FL(t.y)}function bY(t,e,n){return t==="position"||t==="preserve-aspect"&&!XBe(OL(e),OL(n),.2)}function GUe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const YUe=wY({attachResizeListener:(t,e)=>vy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),FA={current:void 0},vY=wY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!FA.current){const t=new YUe({});t.mount(window),t.setOptions({layoutScroll:!0}),FA.current=t}return FA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZUe={pan:{Feature:pUe},drag:{Feature:fUe,ProjectionNode:vY,MeasureLayout:uY}};function jL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&_n.postRender(()=>s(e,E0(e)))}class JUe extends mu{mount(){const{current:e}=this.node;e&&(this.unmount=nLe(e,n=>(jL(this.node,n,"Start"),r=>jL(this.node,r,"End"))))}unmount(){}}class XUe extends mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_0(vy(this.node.current,"focus",()=>this.onFocus()),vy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zL(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&_n.postRender(()=>s(e,E0(e)))}class QUe extends mu{mount(){const{current:e}=this.node;e&&(this.unmount=oLe(e,n=>(zL(this.node,n,"Start"),(r,{success:i})=>zL(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const q5=new WeakMap,jA=new WeakMap,eFe=t=>{const e=q5.get(t.target);e&&e(t)},tFe=t=>{t.forEach(eFe)};function nFe({root:t,...e}){const n=t||document;jA.has(n)||jA.set(n,{});const r=jA.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(tFe,{root:t,...e})),r[i]}function rFe(t,e,n){const r=nFe(e);return q5.set(t,n),r.observe(t),()=>{q5.delete(t),r.unobserve(t)}}const iFe={some:0,all:1};class sFe extends mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:iFe[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return rFe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oFe(e,n))&&this.startObserver()}unmount(){}}function oFe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aFe={inView:{Feature:sFe},tap:{Feature:QUe},focus:{Feature:XUe},hover:{Feature:JUe}},cFe={layout:{ProjectionNode:vY,MeasureLayout:uY}},H5={current:null},_Y={current:!1};function lFe(){if(_Y.current=!0,!!WC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>H5.current=t.matches;t.addListener(e),e()}else H5.current=!1}const uFe=[...zG,Ii,au],dFe=t=>uFe.find(jG(t)),cp=new WeakMap;function hFe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Jr(i))t.addValue(r,i);else if(Jr(s))t.addValue(r,op(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,op(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const WL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ba.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,_n.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=J_(n),this.isVariantNode=YK(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const y=p[m];c[m]!==void 0&&Jr(y)&&y.set(c[m],!1)}}mount(e){this.current=e,cp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_Y.current||lFe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cp.delete(this.current),this.projection&&this.projection.unmount(),Zc(this.notifyUpdate),Zc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nh.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&_n.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sp){const n=sp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WL.length;r++){const i=WL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=hFe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=op(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(UG(i)||PG(i))?i=parseFloat(i):!dFe(i)&&au.test(n)&&(i=MG(e,n)),this.setBaseTarget(e,Jr(i)?i.get():i)),Jr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=XC(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Jr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new d3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class xY extends EY{constructor(){super(...arguments),this.KeyframeResolver=WG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fFe(t){return window.getComputedStyle(t)}class SY extends xY{constructor(){super(...arguments),this.type="html",this.renderInstance=iG}readValueFromInstance(e,n){if(nh.has(n)){const r=g3(n);return r&&r.default||0}else{const r=fFe(e),i=(tG(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cY(e,n)}build(e,n,r){t3(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return s3(e,n,r)}}class AY extends xY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nh.has(n)){const r=g3(n);return r&&r.default||0}return n=sG.has(n)?n:YC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return cG(e,n,r)}build(e,n,r){n3(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){oG(e,n,r,i)}mount(e){this.isSVGTag=i3(e.tagName),super.mount(e)}}const pFe=(t,e)=>JC(t)?new AY(e):new SY(e,{allowProjection:t!==H.Fragment}),mFe=Z9e({...WBe,...aFe,...ZUe,...cFe},pFe),Gr=d9e(mFe);function K5(t){const e=w0(()=>op(t)),{isStatic:n}=H.useContext(G_);if(n){const[,r]=H.useState(t);H.useEffect(()=>e.on("change",r),[])}return e}function TY(t,e){const n=K5(e()),r=()=>n.set(e());return r(),VC(()=>{const i=()=>_n.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Zc(r)}}),n}const gFe=t=>t&&typeof t=="object"&&t.mix,yFe=t=>gFe(t)?t.mix:void 0;function wFe(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=ZG(i,s,{mixer:yFe(s[0]),...o});return e?a(r):a}function bFe(t){yg.current=[],t();const e=TY(yg.current,t);return yg.current=void 0,e}function Jh(t,e,n,r){if(typeof t=="function")return bFe(t);const i=typeof e=="function"?e:wFe(e,n,r);return Array.isArray(t)?VL(t,i):VL([t],([s])=>i(s))}function VL(t,e){const n=w0(()=>[]);return TY(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}const vFe=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function IY(t,e){return YG(t)?t[vFe(0,t.length,e)]:t}function x3(t){return typeof t=="object"&&!Array.isArray(t)}function kY(t,e,n,r){return typeof t=="string"&&x3(e)?gG(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function _Fe(t,e,n){return t*(e+1)}function qL(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function EFe(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(eE(t,i),r--)}}function xFe(t,e,n,r,i,s){EFe(t,i,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:Bn(i,s,r[o]),easing:IY(n,o)})}function SFe(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function AFe(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const TFe="easeInOut";function IFe(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,o=new Map,a=new Map,c={},u=new Map;let d=0,f=0,p=0;for(let m=0;m<t.length;m++){const y=t[m];if(typeof y=="string"){u.set(y,f);continue}else if(!Array.isArray(y)){u.set(y.name,qL(f,y.at,d,u));continue}let[w,v,E={}]=y;E.at!==void 0&&(f=qL(f,E.at,d,u));let k=0;const _=(x,A,T,O=0,N=0)=>{const D=kFe(x),{delay:F=0,times:K=XG(D),type:B="keyframes",repeat:j,repeatType:Y,repeatDelay:I=0,...P}=A;let{ease:L=e.ease||"easeOut",duration:M}=A;const R=typeof F=="function"?F(O,N):F,z=D.length,W=Q_(B)?B:i==null?void 0:i[B];if(z<=2&&W){let ee=100;if(z===2&&OFe(D)){const xe=D[1]-D[0];ee=Math.abs(xe)}const pe={...P};M!==void 0&&(pe.duration=Da(M));const ye=Q9e(pe,ee,W);L=ye.ease,M=ye.duration}M??(M=s);const G=f+R;K.length===1&&K[0]===0&&(K[1]=1);const ie=K.length-D.length;if(ie>0&&JG(K,ie),D.length===1&&D.unshift(null),j){M=_Fe(M,j);const ee=[...D],pe=[...K];L=Array.isArray(L)?[...L]:[L];const ye=[...L];for(let xe=0;xe<j;xe++){D.push(...ee);for(let we=0;we<ee.length;we++)K.push(pe[we]+(xe+1)),L.push(we===0?"linear":IY(ye,we-1))}SFe(K,j)}const te=G+M;xFe(T,D,L,K,G,te),k=Math.max(R+M,k),p=Math.max(te,p)};if(Jr(w)){const x=HL(w,a);_(v,E,KL("default",x))}else{const x=kY(w,v,r,c),A=x.length;for(let T=0;T<A;T++){v=v,E=E;const O=x[T],N=HL(O,a);for(const D in v)_(v[D],CFe(E,D),KL(D,N),T,A)}}d=f,f+=k}return a.forEach((m,y)=>{for(const w in m){const v=m[w];v.sort(AFe);const E=[],k=[],_=[];for(let A=0;A<v.length;A++){const{at:T,value:O,easing:N}=v[A];E.push(O),k.push(Fd(0,p,T)),_.push(N||"easeOut")}k[0]!==0&&(k.unshift(0),E.unshift(E[0]),_.unshift(TFe)),k[k.length-1]!==1&&(k.push(1),E.push(null)),o.has(y)||o.set(y,{keyframes:{},transition:{}});const x=o.get(y);x.keyframes[w]=E,x.transition[w]={...e,duration:p,ease:_,times:k,...n}}}),o}function HL(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function KL(t,e){return e[t]||(e[t]=[]),e[t]}function kFe(t){return Array.isArray(t)?t:[t]}function CFe(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const PFe=t=>typeof t=="number",OFe=t=>t.every(PFe);function RFe(t,e){return t in e}class NFe extends EY{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(RFe(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Xn()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function $Fe(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=hY(t)?new AY(e):new SY(e);n.mount(t),cp.set(t,n)}function DFe(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new NFe(e);n.mount(t),cp.set(t,n)}function MFe(t,e){return Jr(t)||typeof t=="number"||typeof t=="string"&&!x3(e)}function CY(t,e,n,r){const i=[];if(MFe(t,e))i.push(dY(t,x3(e)&&e.default||e,n&&(n.default||n)));else{const s=kY(t,e,r),o=s.length;for(let a=0;a<o;a++){const c=s[a],u=c instanceof Element?$Fe:DFe;cp.has(c)||u(c);const d=cp.get(c),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(a,o)),i.push(...E3(d,{...e,transition:f},{}))}}return i}function LFe(t,e,n){const r=[];return IFe(t,e,n,{spring:b3}).forEach(({keyframes:s,transition:o},a)=>{r.push(...CY(a,s,o))}),r}function BFe(t){return Array.isArray(t)&&t.some(Array.isArray)}function UFe(t){function e(n,r,i){let s=[];return BFe(n)?s=LFe(n,r,t):s=CY(n,r,i,t),new dG(s)}return e}const Bm=UFe(),_y={Crypto:"#F59E0B",Sports:"#3B82F6",Politics:"#8B5CF6",Weather:"#06B6D4",Stocks:"#10B981",Commodities:"#EC4899",Finance:"#10B981",Tech:"#6366F1",Culture:"#EC4899",Other:"#6B7280"};function GL({market:t,onSwipe:e,isTop:n,yesProfit:r,noProfit:i}){const[s,o]=H.useState(!1),a=K5(0),c=K5(0),u=Jh(a,[-300,0,300],[-25,0,25]),d=Jh(a,[0,100,200],[0,.5,1]),f=Jh(a,[-200,-100,0],[1,.5,0]),p=Jh(c,[-150,-75,0],[1,.5,0]),m=Jh(a,[0,50,150],[0,.3,1]),y=Jh(a,[-150,-50,0],[1,.3,0]),w=(E,k)=>{k.offset.x>100?(Bm(a,500,{duration:.3}),setTimeout(()=>e("yes"),200)):k.offset.x<-100?(Bm(a,-500,{duration:.3}),setTimeout(()=>e("no"),200)):k.offset.y<-80?(Bm(c,-500,{duration:.3}),setTimeout(()=>e("skip"),200)):(Bm(a,0,{type:"spring",stiffness:500,damping:30}),Bm(c,0,{type:"spring",stiffness:500,damping:30}))},v=_y[t.category]||"#6B7280";return n?U.jsxs(U.Fragment,{children:[U.jsx(Gr.div,{className:"absolute left-0 top-0 bottom-0 w-28 flex items-center justify-center pointer-events-none z-0",style:{opacity:m},children:U.jsxs("div",{className:"text-center px-4 py-3 rounded-2xl border-3 border-comic-border",style:{backgroundColor:"#D1FAE5"},children:[U.jsx("div",{className:"text-xl font-bold",style:{color:"#059669"},children:"YES"}),U.jsxs("div",{className:"text-lg font-bold",style:{color:"#059669"},children:["+$",r]})]})}),U.jsx(Gr.div,{className:"absolute right-0 top-0 bottom-0 w-28 flex items-center justify-center pointer-events-none z-0",style:{opacity:y},children:U.jsxs("div",{className:"text-center px-4 py-3 rounded-2xl border-3 border-comic-border",style:{backgroundColor:"#FEE2E2"},children:[U.jsx("div",{className:"text-xl font-bold",style:{color:"#DC2626"},children:"NO"}),U.jsxs("div",{className:"text-lg font-bold",style:{color:"#DC2626"},children:["+$",i]})]})}),U.jsxs(Gr.div,{className:"absolute inset-0 card-comic overflow-hidden cursor-grab active:cursor-grabbing touch-none z-10",style:{x:a,y:c,rotate:u,backgroundColor:v},drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.9,onDragEnd:w,whileTap:{cursor:"grabbing"},children:[t.image&&!s&&U.jsx("img",{src:t.image,alt:"",className:"absolute inset-0 w-full h-full object-cover",onError:()=>o(!0)}),U.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 rounded-full border-2 border-comic-border font-bold text-sm",style:{backgroundColor:_y[t.category]||"#888"},children:t.category}),U.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white/75 backdrop-blur-sm border-t-3 border-comic-border p-4",children:U.jsx("h2",{className:"text-xl font-bold text-comic-border leading-tight",children:t.title})}),U.jsx(Gr.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:d},children:U.jsx("div",{className:"text-5xl font-bold text-green-500 border-6 border-green-500 rounded-xl px-6 py-3 -rotate-12 bg-white/80",children:"YES"})}),U.jsx(Gr.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:f},children:U.jsx("div",{className:"text-5xl font-bold text-red-500 border-6 border-red-500 rounded-xl px-6 py-3 rotate-12 bg-white/80",children:"NO"})}),U.jsx(Gr.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:p},children:U.jsx("div",{className:"text-4xl font-bold text-blue-500 border-6 border-blue-500 rounded-xl px-6 py-3 bg-white/80",children:"SKIP"})})]})]}):U.jsx("div",{className:"absolute inset-0 card-comic overflow-hidden scale-95 opacity-60",style:{backgroundColor:v},children:t.image&&U.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none"}})})}const zA=30;async function FFe(t,e){if(t)try{t.state==="suspended"&&await t.resume();const n=t.createOscillator(),r=t.createGain();n.connect(r),r.connect(t.destination),n.frequency.value=e?1200:800,n.type="sine";const i=e?.15:.08;r.gain.setValueAtTime(i,t.currentTime),r.gain.exponentialRampToValueAtTime(.001,t.currentTime+.05),n.start(t.currentTime),n.stop(t.currentTime+.05)}catch{}}function jFe({onComplete:t,resetKey:e}){const[n,r]=H.useState(zA),i=WMe(),s=H.useRef(!1),o=H.useRef(null),a=H.useRef(t);H.useEffect(()=>{a.current=t},[t]),H.useEffect(()=>{r(zA),s.current=!1},[e]),H.useEffect(()=>(o.current&&clearInterval(o.current),o.current=setInterval(()=>{r(y=>{const w=y-1;if(w<=10&&w>0&&i){const v=w<=5;FFe(i,v)}return w<=0?(s.current||(s.current=!0,setTimeout(()=>{var v;return(v=a.current)==null?void 0:v.call(a)},0)),o.current&&(clearInterval(o.current),o.current=null),0):w})},1e3),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[e,i]);const c=n/zA,u=2*Math.PI*36,d=u*(1-c),f=n<=10,m=n<=5?.3:.6;return U.jsxs("div",{className:"relative flex items-center justify-center",children:[U.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 80 80",style:{transform:"rotate(90deg) scaleX(-1)",transformOrigin:"center"},children:[U.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"#D1D5DB",strokeWidth:"6",fill:"none"}),U.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:f?"#EF4444":"#222",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:u,strokeDashoffset:d,className:"transition-all duration-1000"})]}),U.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:U.jsx("span",{className:`text-3xl font-bold transition-colors duration-300 ${f?"text-red-500":"text-comic-border"}`,style:{animation:f?`breathe ${m}s ease-in-out infinite`:"none",textShadow:f?"0 0 20px rgba(239, 68, 68, 0.6), 0 0 40px rgba(239, 68, 68, 0.3)":"none"},children:n})}),U.jsx("style",{children:`
        @keyframes breathe {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.15); }
        }
      `})]})}function _b(){return U.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-comic-paper border-b-3 border-comic-border",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"w-10 h-10 bg-comic-border rounded-xl flex items-center justify-center shadow-comic-sm",children:U.jsx("span",{className:"text-white font-bold text-xl",children:"I"})}),U.jsx("h1",{className:"text-2xl font-bold text-comic-border",children:"Instinct"})]}),U.jsx(Gr.button,{whileTap:{scale:.95},className:"w-10 h-10 bg-comic-paper border-2 border-comic-border rounded-xl flex items-center justify-center shadow-comic-sm active:shadow-none active:translate-x-0.5 active:translate-y-0.5",children:U.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})}const PY="https://dev-prediction-markets-api.dflow.net/api/v1";async function zFe({limit:t=50}={}){const e=await fetch(`${PY}/markets?status=active&limit=${t}`);if(!e.ok)throw new Error(`Failed to fetch markets: ${e.status}`);return(await e.json()).markets||[]}async function WFe({limit:t=200}={}){const e=await fetch(`${PY}/events?limit=${t}`);if(!e.ok)throw new Error(`Failed to fetch events: ${e.status}`);return(await e.json()).events||[]}const YL={Sports:"https://images.unsplash.com/photo-1461896836934-28e4b8c4e1c0?w=800&h=600&fit=crop",Finance:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop",Politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800&h=600&fit=crop",Crypto:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop",Tech:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&h=600&fit=crop",Weather:"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=800&h=600&fit=crop",Culture:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=800&h=600&fit=crop",Other:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=800&h=600&fit=crop"};function VFe(t,e){const n=(t.title||"").toLowerCase();return n.includes("football")||n.includes("nfl")||n.includes("super bowl")||n.includes("pro football")?"https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=800&h=600&fit=crop":n.includes("basketball")||n.includes("nba")?"https://images.unsplash.com/photo-1546519638-68e109498ffc?w=800&h=600&fit=crop":n.includes("baseball")||n.includes("mlb")?"https://images.unsplash.com/photo-1529768167801-9173d94c2a42?w=800&h=600&fit=crop":n.includes("soccer")||n.includes("fifa")||n.includes("world cup")?"https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=800&h=600&fit=crop":n.includes("boxing")||n.includes("ufc")||n.includes("fight")?"https://images.unsplash.com/photo-1549719386-74dfcbf7dbed?w=800&h=600&fit=crop":n.includes("college football")||n.includes("ncaa")?"https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=800&h=600&fit=crop":n.includes("trump")||n.includes("biden")||n.includes("president")||n.includes("election")||n.includes("governor")||n.includes("mayor")?"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800&h=600&fit=crop":n.includes("bitcoin")||n.includes("btc")?"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop":n.includes("ethereum")||n.includes("eth")?"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&h=600&fit=crop":n.includes("crypto")?"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop":n.includes("stock")||n.includes("s&p")||n.includes("nasdaq")||n.includes("dow")?"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop":n.includes("federal reserve")||n.includes("fed ")||n.includes("rate cut")||n.includes("rate hike")||n.includes("interest rate")?"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=800&h=600&fit=crop":n.includes("weather")||n.includes("rain")||n.includes("temperature")||n.includes("hurricane")||n.includes("snow")?"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=800&h=600&fit=crop":n.includes("apple")||n.includes("iphone")?"https://images.unsplash.com/photo-1491933382434-500287f9b54b?w=800&h=600&fit=crop":n.includes("google")?"https://images.unsplash.com/photo-1573804633927-bfcbcd909acd?w=800&h=600&fit=crop":n.includes("tesla")?"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop":n.includes("ai")||n.includes("artificial intelligence")||n.includes("chatgpt")||n.includes("openai")?"https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=600&fit=crop":n.includes("spotify")||n.includes("music")||n.includes("artist")?"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=800&h=600&fit=crop":n.includes("time person")||n.includes("time's person")?"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&h=600&fit=crop":YL[e]||YL.Other}function qFe(t,e=new Map){const n=parseFloat(t.yesAsk)||.5,r=parseFloat(t.noAsk)||.5,i=n>0?1/n-1:1,s=r>0?1/r-1:1,o=HFe(t.ticker);let a=e.get(t.eventTicker);return a||(a=VFe(t,o)),{id:t.ticker,eventTicker:t.eventTicker,title:t.title||"Unknown Market",subtitle:t.subtitle||t.yesSubTitle||"",category:o,image:a,yesProfit:Math.round(i*100)/100,noProfit:Math.round(s*100)/100,yesPrice:n,noPrice:r,volume:t.volume||0,status:t.status}}function HFe(t){if(!t)return"Other";const e=t.toUpperCase();return e.includes("NFL")||e.includes("KXSB")||e.includes("NBA")||e.includes("NCAA")?"Sports":e.includes("FED")||e.includes("RATE")?"Finance":e.includes("PRES")||e.includes("GOV")||e.includes("MAYOR")?"Politics":e.includes("BTC")||e.includes("ETH")||e.includes("CRYPTO")?"Crypto":e.includes("BOXING")||e.includes("UFC")||e.includes("MMA")?"Sports":e.includes("TIME")||e.includes("GOOGLE")?"Culture":e.includes("LLM")||e.includes("AI")?"Tech":"Other"}async function KFe({limit:t=50}={}){const[e,n]=await Promise.all([zFe({limit:t}),WFe({limit:200})]),r=new Map;for(const s of n)s.ticker&&s.imageUrl&&r.set(s.ticker,s.imageUrl);return e.filter(s=>s.yesAsk&&s.noAsk).map(s=>qFe(s,r))}function GFe({onPlaceBet:t,betSize:e,balance:n,goToWallet:r}){const[i,s]=H.useState(0),[o,a]=H.useState([]),[c,u]=H.useState(!0),[d,f]=H.useState(null),{success:p,warning:m,error:y}=zK();H.useEffect(()=>{let x=!0;async function A(){try{u(!0),f(null);const T=await KFe({limit:100});x&&(a(T),u(!1))}catch(T){console.error("Failed to load markets:",T),x&&(f(T.message),u(!1))}}return A(),()=>{x=!1}},[]);const w=o.length>0?o[i%o.length]:null,v=o.length>1?o[(i+1)%o.length]:null,E=H.useCallback(x=>{if(w){if(x==="yes"||x==="no"){if(n<e){y("Not enough balance",{button:"Top up",onButtonClick:r});return}t({market:w,choice:x,amount:e,profit:x==="yes"?(w.yesProfit*e).toFixed(2):(w.noProfit*e).toFixed(2),timestamp:Date.now(),status:"pending"})&&p("Bet placed! Track it in History",{duration:2e3})}s(A=>A+1)}},[w,e,t,n,y,p,r]),k=H.useCallback(()=>{m("Too slow!",{duration:3e3}),s(x=>x+1)},[m]),_=x=>{E(x)};return c?U.jsxs("div",{className:"flex flex-col h-full pb-20",children:[U.jsx(_b,{}),U.jsx("div",{className:"flex-1 flex items-center justify-center",children:U.jsxs("div",{className:"card-comic p-8 bg-comic-paper text-center",children:[U.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-comic-border border-t-transparent rounded-full mx-auto mb-4"}),U.jsx("p",{className:"text-lg font-bold text-comic-border",children:"Loading markets..."})]})})]}):d?U.jsxs("div",{className:"flex flex-col h-full pb-20",children:[U.jsx(_b,{}),U.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:U.jsxs("div",{className:"card-comic p-8 bg-comic-paper text-center max-w-sm",children:[U.jsx("div",{className:"text-4xl mb-4",children:":("}),U.jsx("p",{className:"text-lg font-bold text-red-500 mb-2",children:"Failed to load markets"}),U.jsx("p",{className:"text-sm text-gray-500 mb-4",children:d}),U.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-comic-border text-white font-bold rounded-comic shadow-comic active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",children:"Try Again"})]})})]}):w?U.jsxs("div",{className:"flex flex-col h-full pb-20",children:[U.jsx(_b,{}),U.jsx("div",{className:"flex justify-center py-4",children:U.jsx("div",{className:"card-comic p-3 bg-comic-paper",children:U.jsx(jFe,{resetKey:i,onComplete:k})})}),U.jsx("div",{className:"flex-1 px-4",style:{minHeight:"340px"},children:U.jsxs("div",{className:"relative h-full w-full max-w-md mx-auto",style:{height:"100%",minHeight:"320px"},children:[v&&U.jsx(GL,{market:v,onSwipe:()=>{},isTop:!1}),U.jsx(qC,{mode:"wait",children:U.jsx(GL,{market:w,onSwipe:E,isTop:!0,yesProfit:(w.yesProfit*e).toFixed(2),noProfit:(w.noProfit*e).toFixed(2)},i)})]})}),U.jsxs("div",{className:"px-4 py-4",children:[U.jsxs("div",{className:"flex gap-4 max-w-md mx-auto",children:[U.jsxs(Gr.button,{whileTap:{scale:.95},onClick:()=>_("no"),className:"flex-1 py-4 bg-red-100 border-3 border-comic-border rounded-comic shadow-comic font-bold text-lg text-red-600 active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",children:["NO +$",(w.noProfit*e).toFixed(2)]}),U.jsxs(Gr.button,{whileTap:{scale:.95},onClick:()=>_("yes"),className:"flex-1 py-4 bg-green-100 border-3 border-comic-border rounded-comic shadow-comic font-bold text-lg text-green-600 active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",children:["YES +$",(w.yesProfit*e).toFixed(2)]})]}),U.jsxs("div",{className:"text-center mt-3 text-gray-500 text-sm font-bold",children:[U.jsx("span",{className:"opacity-60",children:" NO"}),U.jsx("span",{className:"mx-4 opacity-60",children:"|"}),U.jsx("span",{className:"opacity-60",children:"SKIP "}),U.jsx("span",{className:"mx-4 opacity-60",children:"|"}),U.jsx("span",{className:"opacity-60",children:"YES "})]})]})]}):U.jsxs("div",{className:"flex flex-col h-full pb-20",children:[U.jsx(_b,{}),U.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:U.jsxs("div",{className:"card-comic p-8 bg-comic-paper text-center max-w-sm",children:[U.jsx("div",{className:"text-4xl mb-4",children:"0"}),U.jsx("p",{className:"text-lg font-bold text-comic-border",children:"No markets available"}),U.jsx("p",{className:"text-sm text-gray-500",children:"Check back later for new prediction markets!"})]})})]})}const YFe=[{market:{id:101,title:"BTC above $100K by EOD?",category:"Crypto",endsIn:0},choice:"yes",amount:10,profit:"8.50",timestamp:Date.now()-36e5,status:"won"},{market:{id:102,title:"Lakers win vs Celtics?",category:"Sports",endsIn:0},choice:"no",amount:5,profit:"6.25",timestamp:Date.now()-72e5,status:"lost"},{market:{id:103,title:"Rain in NYC before noon?",category:"Weather",endsIn:0},choice:"yes",amount:2,profit:"3.20",timestamp:Date.now()-108e5,status:"won"},{market:{id:104,title:"Tesla closes above $250?",category:"Stocks",endsIn:0},choice:"yes",amount:20,profit:"15.00",timestamp:Date.now()-144e5,status:"lost"},{market:{id:105,title:"ETH flips $4K today?",category:"Crypto",endsIn:0},choice:"no",amount:15,profit:"12.75",timestamp:Date.now()-18e6,status:"won"},{market:{id:106,title:"Chiefs beat Eagles by 7+?",category:"Sports",endsIn:0},choice:"yes",amount:8,profit:"14.40",timestamp:Date.now()-216e5,status:"won"}],ZFe=["All","Crypto","Sports","Politics","Weather","Stocks","Commodities"],ZL=[{value:"newest",label:"Newest first"},{value:"oldest",label:"Oldest first"},{value:"highest-bet",label:"Highest bet"},{value:"lowest-bet",label:"Lowest bet"},{value:"highest-profit",label:"Highest profit"}];function JFe(t,e){const n=t+e*1e3,r=Date.now(),i=Math.max(0,n-r);if(i===0)return"Resolving...";const s=Math.floor(i/1e3),o=Math.floor(s/60),a=Math.floor(o/60);return a>0?`Resolves in ${a}h ${o%60}m`:o>0?`Resolves in ${o}m ${s%60}s`:`Resolves in ${s}s`}function XFe({bet:t}){const[e,n]=H.useState("");return H.useEffect(()=>{const r=()=>{n(JFe(t.timestamp,t.market.endsIn))};r();const i=setInterval(r,1e3);return()=>clearInterval(i)},[t.timestamp,t.market.endsIn]),U.jsxs(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-comic p-4 mb-3 relative",children:[U.jsx("span",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full text-xs font-bold border-2 border-comic-border",style:{backgroundColor:_y[t.market.category]||"#888"},children:t.market.category}),U.jsx("h3",{className:"font-bold text-lg text-comic-border mb-3 leading-tight pr-20",children:t.market.title}),U.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[U.jsx("span",{className:`px-3 py-1 rounded-lg text-white font-bold text-sm border-2 border-comic-border ${t.choice==="yes"?"bg-green-500":"bg-red-500"}`,children:t.choice.toUpperCase()}),U.jsxs("span",{className:"font-bold text-comic-border text-lg",children:["$",t.amount]})]}),U.jsxs("div",{className:"flex items-center justify-between pt-3 border-t-2 border-gray-200",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),U.jsx("span",{className:"text-sm text-gray-600 font-bold",children:e})]}),U.jsx("div",{className:"text-right",children:U.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["+$",t.profit]})})]})]})}function QFe({bet:t}){const e=t.status==="won",n=e?`+$${t.profit}`:`-$${t.amount}`;return U.jsxs(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-comic p-4 mb-3 relative",children:[U.jsx("span",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full text-xs font-bold border-2 border-comic-border",style:{backgroundColor:_y[t.market.category]||"#888"},children:t.market.category}),U.jsx("h3",{className:"font-bold text-lg text-comic-border mb-3 leading-tight pr-20",children:t.market.title}),U.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[U.jsx("span",{className:`px-3 py-1 rounded-lg text-white font-bold text-sm border-2 border-comic-border ${t.choice==="yes"?"bg-green-500":"bg-red-500"}`,children:t.choice.toUpperCase()}),U.jsxs("span",{className:"font-bold text-comic-border text-lg",children:["$",t.amount]})]}),U.jsxs("div",{className:"flex items-center justify-between pt-3 border-t-2 border-gray-200",children:[U.jsx("span",{className:`px-3 py-1 rounded-lg font-bold text-sm border-2 ${e?"bg-green-100 text-green-700 border-green-500":"bg-red-100 text-red-700 border-red-500"}`,children:e?"WON":"LOST"}),U.jsx("span",{className:`font-bold text-lg ${e?"text-green-600":"text-red-600"}`,children:n})]})]})}function Eb({icon:t,title:e,subtitle:n}){return U.jsxs("div",{className:"card-comic p-8 text-center",children:[U.jsx("div",{className:"text-6xl mb-4",children:t}),U.jsx("h2",{className:"text-xl font-bold text-comic-border mb-2",children:e}),U.jsx("p",{className:"text-gray-500",children:n})]})}function JL({selectedCategory:t,setSelectedCategory:e,sortBy:n,setSortBy:r}){var a;const[i,s]=H.useState(!1),o=(c,u)=>u?{backgroundColor:"#222",color:"#fff"}:c==="All"?{backgroundColor:"#F5F5F5",color:"#222"}:{backgroundColor:_y[c]||"#F5F5F5",color:"#222"};return U.jsxs("div",{className:"mb-4 space-y-3",children:[U.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:ZFe.map(c=>{const u=t===c,d=o(c,u);return U.jsx(Gr.button,{onClick:()=>e(c),whileTap:{scale:.95},className:`px-3 py-1.5 rounded-full font-bold text-sm border-2 border-comic-border whitespace-nowrap transition-all ${u?"":"shadow-comic-sm"}`,style:d,children:c},c)})}),U.jsxs("div",{className:"relative",children:[U.jsxs(Gr.button,{onClick:()=>s(!i),whileTap:{scale:.98},className:"w-full px-4 py-2 bg-comic-paper border-2 border-comic-border rounded-xl font-bold text-sm text-comic-border shadow-comic-sm flex items-center justify-between",children:[U.jsxs("span",{children:["Sort: ",(a=ZL.find(c=>c.value===n))==null?void 0:a.label]}),U.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),U.jsx(qC,{children:i&&U.jsx(Gr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 bg-comic-paper border-2 border-comic-border rounded-xl shadow-comic overflow-hidden z-20",children:ZL.map(c=>U.jsx("button",{onClick:()=>{r(c.value),s(!1)},className:`w-full px-4 py-2 text-left font-bold text-sm transition-colors ${n===c.value?"bg-comic-border text-white":"text-comic-border hover:bg-gray-100"}`,children:c.label},c.value))})})]})]})}function eje({bets:t}){const[e,n]=H.useState("open"),[r,i]=H.useState("All"),[s,o]=H.useState("newest"),a=H.useMemo(()=>[...t,...YFe],[t]),c=H.useMemo(()=>a.filter(p=>p.status==="pending"),[a]),u=H.useMemo(()=>a.filter(p=>p.status==="won"||p.status==="lost"),[a]),d=H.useMemo(()=>{let p=c;return r!=="All"&&(p=p.filter(m=>m.market.category===r)),[...p].sort((m,y)=>{switch(s){case"newest":return y.timestamp-m.timestamp;case"oldest":return m.timestamp-y.timestamp;case"highest-bet":return parseFloat(y.amount)-parseFloat(m.amount);case"lowest-bet":return parseFloat(m.amount)-parseFloat(y.amount);case"highest-profit":return parseFloat(y.profit)-parseFloat(m.profit);default:return 0}})},[c,r,s]),f=H.useMemo(()=>{let p=u;return r!=="All"&&(p=p.filter(m=>m.market.category===r)),[...p].sort((m,y)=>{switch(s){case"newest":return y.timestamp-m.timestamp;case"oldest":return m.timestamp-y.timestamp;case"highest-bet":return parseFloat(y.amount)-parseFloat(m.amount);case"lowest-bet":return parseFloat(m.amount)-parseFloat(y.amount);case"highest-profit":return parseFloat(y.profit)-parseFloat(m.profit);default:return 0}})},[u,r,s]);return U.jsxs("div",{className:"flex flex-col h-full",children:[U.jsxs("header",{className:"px-4 py-4 bg-comic-paper border-b-3 border-comic-border",children:[U.jsx("h1",{className:"text-2xl font-bold text-comic-border mb-4",children:"My Positions"}),U.jsxs("div",{className:"flex gap-2",children:[U.jsxs(Gr.button,{onClick:()=>n("open"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm border-3 border-comic-border transition-all ${e==="open"?"bg-comic-border text-white shadow-none":"bg-comic-paper text-comic-border shadow-comic-sm hover:bg-gray-100"}`,whileTap:{scale:.98},children:["Open",c.length>0&&U.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${e==="open"?"bg-white text-comic-border":"bg-comic-border text-white"}`,children:c.length})]}),U.jsxs(Gr.button,{onClick:()=>n("closed"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm border-3 border-comic-border transition-all ${e==="closed"?"bg-comic-border text-white shadow-none":"bg-comic-paper text-comic-border shadow-comic-sm hover:bg-gray-100"}`,whileTap:{scale:.98},children:["Closed",u.length>0&&U.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${e==="closed"?"bg-white text-comic-border":"bg-comic-border text-white"}`,children:u.length})]})]})]}),U.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar p-4 pb-24",children:U.jsx(qC,{mode:"wait",children:e==="open"?U.jsxs(Gr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:[U.jsx(JL,{selectedCategory:r,setSelectedCategory:i,sortBy:s,setSortBy:o}),c.length===0?U.jsx(Eb,{icon:"",title:"No open positions",subtitle:"Start betting to see your positions here!"}):d.length===0?U.jsx(Eb,{icon:"",title:"No matching positions",subtitle:"Try changing your filters"}):U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"card-comic p-4 mb-4 bg-comic-paper border-3 border-comic-border",children:U.jsxs("div",{className:"flex justify-around text-center",children:[U.jsxs("div",{children:[U.jsx("div",{className:"text-2xl font-bold text-comic-border",children:d.length}),U.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Active"})]}),U.jsx("div",{className:"w-px bg-gray-300"}),U.jsxs("div",{children:[U.jsxs("div",{className:"text-2xl font-bold text-comic-border",children:["$",d.reduce((p,m)=>p+parseFloat(m.amount),0).toFixed(2)]}),U.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"At Risk"})]}),U.jsx("div",{className:"w-px bg-gray-300"}),U.jsxs("div",{children:[U.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+$",d.reduce((p,m)=>p+parseFloat(m.profit),0).toFixed(2)]}),U.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Potential"})]})]})}),d.map(p=>U.jsx(XFe,{bet:p},`${p.market.id}-${p.timestamp}`))]})]},"open"):U.jsxs(Gr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[U.jsx(JL,{selectedCategory:r,setSelectedCategory:i,sortBy:s,setSortBy:o}),u.length===0?U.jsx(Eb,{icon:"",title:"No closed positions yet",subtitle:"Your resolved bets will appear here."}):f.length===0?U.jsx(Eb,{icon:"",title:"No matching positions",subtitle:"Try changing your filters"}):U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"card-comic p-4 mb-4 bg-comic-paper border-3 border-comic-border",children:U.jsxs("div",{className:"flex justify-around text-center",children:[U.jsxs("div",{children:[U.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.filter(p=>p.status==="won").length}),U.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Won"})]}),U.jsx("div",{className:"w-px bg-gray-300"}),U.jsxs("div",{children:[U.jsx("div",{className:"text-2xl font-bold text-red-600",children:f.filter(p=>p.status==="lost").length}),U.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Lost"})]}),U.jsx("div",{className:"w-px bg-gray-300"}),U.jsx("div",{children:(()=>{const p=f.reduce((y,w)=>y+(w.status==="won"?parseFloat(w.profit):-parseFloat(w.amount)),0),m=p>=0;return U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:`text-2xl font-bold ${m?"text-green-600":"text-red-600"}`,children:[m?"+":"","$",p.toFixed(2)]}),U.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Net PnL"})]})})()})]})}),f.map(p=>U.jsx(QFe,{bet:p},`${p.market.id}-${p.timestamp}`))]})]},"closed")})})]})}const tje=[1,2,5,10,20];function nje(t){if(!(t!=null&&t.linkedAccounts))return null;const e=t.linkedAccounts.find(n=>n.type==="wallet"&&n.chainType==="solana");return(e==null?void 0:e.address)||null}const rje=[{id:1,type:"deposit",amount:50,date:"2025-01-21",status:"completed"},{id:2,type:"withdrawal",amount:25,date:"2025-01-20",status:"completed"},{id:3,type:"deposit",amount:100,date:"2025-01-19",status:"completed"},{id:4,type:"withdrawal",amount:10,date:"2025-01-18",status:"pending"},{id:5,type:"deposit",amount:75,date:"2025-01-17",status:"completed"}];function ije(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function OY({children:t,onClose:e}){return U.jsx("div",{onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"16px"},children:U.jsx("div",{onClick:n=>n.stopPropagation(),children:t})})}function sje({onClose:t,walletAddress:e}){const[n,r]=H.useState(!1),i=()=>{navigator.clipboard.writeText(e||""),r(!0),setTimeout(()=>r(!1),2e3)};return U.jsx(OY,{onClose:t,children:U.jsxs("div",{style:{backgroundColor:"#fff",border:"3px solid #222",borderRadius:"16px",padding:"24px",boxShadow:"6px 6px 0 #222",width:"100%",maxWidth:"340px"},children:[U.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",color:"#222",margin:"0 0 20px 0",textAlign:"center"},children:"Deposit Funds"}),U.jsx("div",{style:{width:"160px",height:"160px",border:"3px dashed #ccc",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",backgroundColor:"#f9f9f9"},children:U.jsx("span",{style:{color:"#999",fontWeight:"bold"},children:"QR Code"})}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:"#f5f5f5",border:"2px solid #ddd",borderRadius:"8px",marginBottom:"20px"},children:[U.jsx("span",{style:{flex:1,fontSize:"12px",fontFamily:"monospace",color:"#444",wordBreak:"break-all"},children:e||"No wallet found"}),U.jsx("button",{onClick:i,style:{padding:"6px 12px",backgroundColor:n?"#22c55e":"#222",color:"#fff",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},children:n?"Copied!":"Copy"})]}),U.jsx("button",{onClick:t,style:{width:"100%",padding:"14px",backgroundColor:"#e5e5e5",color:"#222",border:"3px solid #222",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"2px 2px 0 #222"},children:"Close"})]})})}function oje({onClose:t,balance:e}){const[n,r]=H.useState(""),[i,s]=H.useState(""),[o,a]=H.useState(""),c=()=>{const u=parseFloat(i);if(!n.trim()){a("Please enter a recipient address");return}if(!i||u<=0){a("Please enter a valid amount");return}if(u>e){a("Insufficient balance");return}alert(`Withdrawing $${u.toFixed(2)} to ${n}`),t()};return U.jsx(OY,{onClose:t,children:U.jsxs("div",{style:{backgroundColor:"#fff",border:"3px solid #222",borderRadius:"16px",padding:"24px",boxShadow:"6px 6px 0 #222",width:"100%",maxWidth:"340px"},children:[U.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",color:"#222",margin:"0 0 20px 0",textAlign:"center"},children:"Withdraw Funds"}),U.jsxs("div",{style:{marginBottom:"12px"},children:[U.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:"#222",marginBottom:"6px"},children:"Recipient Address"}),U.jsx("input",{type:"text",placeholder:"0x...",value:n,onChange:u=>{r(u.target.value),a("")},style:{width:"100%",padding:"12px",border:"3px solid #222",borderRadius:"8px",fontSize:"14px",fontFamily:"monospace",outline:"none",boxSizing:"border-box"}})]}),U.jsxs("div",{style:{marginBottom:"12px"},children:[U.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:"#222",marginBottom:"6px"},children:"Amount"}),U.jsx("input",{type:"number",placeholder:"0.00",value:i,onChange:u=>{s(u.target.value),a("")},style:{width:"100%",padding:"12px",border:"3px solid #222",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",outline:"none",boxSizing:"border-box"}})]}),U.jsxs("div",{style:{fontSize:"14px",color:"#666",marginBottom:"16px"},children:["Available: ",U.jsxs("span",{style:{fontWeight:"bold",color:"#222"},children:["$",e.toFixed(2)]})]}),o&&U.jsx("div",{style:{color:"#dc2626",fontSize:"14px",fontWeight:"bold",marginBottom:"12px",textAlign:"center"},children:o}),U.jsxs("div",{style:{display:"flex",gap:"10px"},children:[U.jsx("button",{onClick:t,style:{flex:1,padding:"14px",backgroundColor:"#e5e5e5",color:"#222",border:"3px solid #222",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"2px 2px 0 #222"},children:"Cancel"}),U.jsx("button",{onClick:c,style:{flex:1,padding:"14px",backgroundColor:"#f97316",color:"#fff",border:"3px solid #222",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"2px 2px 0 #222"},children:"Send"})]})]})})}function aje({balance:t,betSize:e,setBetSize:n}){const{user:r}=u_(),[i,s]=H.useState(""),[o,a]=H.useState(!1),[c,u]=H.useState(!1),[d,f]=H.useState(!1),p=nje(r),m=E=>{n(E),s("")},y=E=>{E.preventDefault();const k=parseFloat(i);k>0&&k<=t&&(n(k),s(""))},w=()=>{p&&(navigator.clipboard.writeText(p),a(!0),setTimeout(()=>a(!1),2e3))},v=p?`${p.slice(0,6)}...${p.slice(-4)}`:"No wallet";return U.jsxs(U.Fragment,{children:[U.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 96px)",padding:"16px",gap:"12px",overflow:"hidden"},children:[U.jsxs("div",{style:{backgroundColor:"#fff",border:"3px solid #222",borderRadius:"16px",padding:"20px",boxShadow:"4px 4px 0 #222",textAlign:"center",flex:"0 0 auto"},children:[U.jsxs("div",{style:{fontSize:"44px",fontWeight:"bold",color:"#222",lineHeight:1,marginBottom:"10px"},children:["$",t.toFixed(2)]}),U.jsxs("button",{onClick:w,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",backgroundColor:"#f5f5f5",border:"2px solid #ddd",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontFamily:"monospace",color:"#666",marginBottom:"10px"},children:[v,U.jsxs("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[U.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),U.jsx("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})]}),o&&U.jsx("span",{style:{color:"#22c55e",fontSize:"11px"},children:"Copied!"})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#22c55e",fontSize:"13px",fontWeight:"bold"},children:[U.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#22c55e",borderRadius:"50%"}}),"Connected"]})]}),U.jsxs("div",{style:{display:"flex",gap:"10px",flex:"0 0 auto"},children:[U.jsx("button",{onClick:()=>u(!0),style:{flex:1,padding:"14px",backgroundColor:"#22c55e",color:"#fff",border:"3px solid #222",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"3px 3px 0 #222"},children:"Deposit"}),U.jsx("button",{onClick:()=>f(!0),style:{flex:1,padding:"14px",backgroundColor:"#f97316",color:"#fff",border:"3px solid #222",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"3px 3px 0 #222"},children:"Withdraw"})]}),U.jsxs("div",{style:{backgroundColor:"#fff",border:"3px solid #222",borderRadius:"16px",padding:"14px",boxShadow:"4px 4px 0 #222",flex:"0 0 auto"},children:[U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[U.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#222",margin:0},children:"Bet Amount"}),U.jsxs("span",{style:{fontSize:"13px",fontWeight:"bold",color:"#22c55e",backgroundColor:"#dcfce7",padding:"4px 10px",borderRadius:"6px"},children:["Current: $",e]})]}),U.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"6px",marginBottom:"10px"},children:tje.map(E=>U.jsxs("button",{onClick:()=>m(E),style:{padding:"10px 0",backgroundColor:e===E?"#222":"#fff",color:e===E?"#fff":"#222",border:"3px solid #222",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:e===E?"none":"2px 2px 0 #222",transform:e===E?"translate(2px, 2px)":"none"},children:["$",E]},E))}),U.jsxs("form",{onSubmit:y,style:{display:"flex",gap:"6px"},children:[U.jsx("input",{type:"number",placeholder:"Custom...",value:i,onChange:E=>s(E.target.value),style:{flex:1,padding:"10px 12px",border:"3px solid #222",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",outline:"none"}}),U.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#60a5fa",color:"#fff",border:"3px solid #222",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:"2px 2px 0 #222"},children:"Set"})]})]}),U.jsxs("div",{style:{backgroundColor:"#fff",border:"3px solid #222",borderRadius:"16px",padding:"14px",boxShadow:"4px 4px 0 #222",flex:"1 1 auto",minHeight:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[U.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#222",margin:"0 0 10px 0"},children:"Transaction History"}),U.jsx("div",{style:{flex:1,overflowY:"auto"},children:rje.map(E=>U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:"1px solid #eee"},children:[U.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:E.type==="deposit"?"#dcfce7":"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:U.jsx("svg",{width:"18",height:"18",fill:"none",stroke:E.type==="deposit"?"#22c55e":"#dc2626",strokeWidth:"2.5",viewBox:"0 0 24 24",children:E.type==="deposit"?U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 14l-7 7m0 0l-7-7m7 7V3"}):U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),U.jsxs("div",{style:{flex:1,minWidth:0},children:[U.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#222"},children:E.type==="deposit"?"Deposit":"Withdrawal"}),U.jsx("div",{style:{fontSize:"12px",color:"#888"},children:ije(E.date)})]}),U.jsxs("div",{style:{textAlign:"right"},children:[U.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",color:E.type==="deposit"?"#22c55e":"#dc2626"},children:[E.type==="deposit"?"+":"-","$",E.amount.toFixed(2)]}),U.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:E.status==="completed"?"#22c55e":"#f59e0b",textTransform:"capitalize"},children:E.status})]})]},E.id))})]})]}),c&&U.jsx(sje,{onClose:()=>u(!1),walletAddress:p}),d&&U.jsx(oje,{onClose:()=>f(!1),balance:t})]})}function cje({audioContext:t}){const[e,n]=H.useState("bet"),[r,i]=kA("instinct-balance",100),[s,o]=kA("instinct-betsize",5),[a,c]=kA("instinct-bets",[]),u=f=>r>=f.amount?(c(p=>[...p,f]),i(p=>p-f.amount),!0):!1,d=()=>{switch(e){case"bet":return U.jsx(GFe,{onPlaceBet:u,betSize:s,balance:r,goToWallet:()=>n("wallet")});case"history":return U.jsx(eje,{bets:a});case"wallet":return U.jsx(aje,{balance:r,setBalance:i,betSize:s,setBetSize:o});default:return null}};return U.jsxs(zMe,{audioContext:t,children:[U.jsx(JMe,{}),U.jsx(XMe,{activeTab:e,onTabChange:n}),U.jsxs("div",{className:"min-h-screen bg-comic-bg",children:[U.jsx("div",{className:"fixed inset-0 dots-pattern pointer-events-none"}),U.jsx("main",{className:"relative z-10",style:{minHeight:"calc(100vh - 96px)",paddingBottom:"96px"},children:d()})]})]})}function lje(){const{ready:t,authenticated:e}=u_(),[n,r]=H.useState(null);H.useEffect(()=>{if(e&&!n){const s=async()=>{try{const o=new(window.AudioContext||window.webkitAudioContext);await o.resume(),r(o),console.log("Audio context restored, state:",o.state)}catch(o){console.error("Audio restore error:",o)}window.removeEventListener("click",s),window.removeEventListener("touchstart",s)};return window.addEventListener("click",s),window.addEventListener("touchstart",s),()=>{window.removeEventListener("click",s),window.removeEventListener("touchstart",s)}}},[e,n]);const i=s=>{r(s)};return t?e?U.jsx(jMe,{children:U.jsx(cje,{audioContext:n})}):U.jsx(QMe,{onAudioInit:i}):U.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#E8E8E8"},children:U.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-comic-border border-t-transparent rounded-full"})})}function uje(){return U.jsx(qMe,{children:U.jsx(lje,{})})}mJ.createRoot(document.getElementById("root")).render(U.jsx(H.StrictMode,{children:U.jsx(uje,{})}));export{HQ as $,Mne as A,Lne as B,SQ as C,Mte as D,R1 as E,Zre as F,dte as G,hte as H,fQ as I,TB as J,Qb as K,IB as L,Iy as M,FQ as N,jQ as O,zQ as P,WQ as Q,eO as R,wQ as S,kB as T,EQ as U,tO as V,Qne as W,VQ as X,qQ as Y,$f as Z,CB as _,gQ as a,Tg as a$,GQ as a0,ev as a1,X5 as a2,ZQ as a3,YQ as a4,PB as a5,JQ as a6,Sje as a7,Er as a8,be as a9,XQ as aA,sf as aB,Ed as aC,tT as aD,sT as aE,oT as aF,aT as aG,iT as aH,nT as aI,rT as aJ,zg as aK,cT as aL,Ny as aM,ng as aN,a6 as aO,pO as aP,Ff as aQ,jg as aR,Fg as aS,Dg as aT,Bg as aU,vd as aV,nu as aW,Ig as aX,Ag as aY,Og as aZ,Bf as a_,uU as aa,Xne as ab,hT as ac,Bne as ad,Une as ae,qU as af,Fy as ag,nU as ah,rU as ai,eT as aj,Ete as ak,xte as al,k1 as am,RB as an,OB as ao,Q5 as ap,eee as aq,tee as ar,nee as as,lm as at,cre as au,P6 as av,Pte as aw,lU as ax,l6 as ay,Lte as az,_Q as b,Hn as b$,ed as b0,Sg as b1,$g as b2,Ls as b3,kg as b4,Cg as b5,fs as b6,Mg as b7,Pg as b8,Rg as b9,OO as bA,Py as bB,Wi as bC,tre as bD,zd as bE,b6 as bF,Yee as bG,ky as bH,ci as bI,vn as bJ,My as bK,f6 as bL,p6 as bM,yU as bN,Gte as bO,EU as bP,Xte as bQ,zy as bR,di as bS,pp as bT,ho as bU,Uee as bV,go as bW,Li as bX,jd as bY,QQ as bZ,Ql as b_,Ug as ba,Ate as bb,Lg as bc,Uf as bd,Ng as be,xf as bf,fte as bg,pte as bh,gte as bi,yte as bj,wte as bk,bte as bl,QB as bm,eU as bn,vte as bo,boe as bp,Xre as bq,Qre as br,eie as bs,Oy as bt,ute as bu,tv as bv,ere as bw,Wd as bx,lu as by,M1 as bz,vQ as c,tie as c$,bd as c0,qB as c1,JA as c2,Rs as c3,ete as c4,tte as c5,$c as c6,nte as c7,cn as c8,ree as c9,Rte as cA,Yr as cB,gU as cC,zB as cD,T1 as cE,Lee as cF,Cy as cG,Yne as cH,sv as cI,Hre as cJ,$6 as cK,rie as cL,pF as cM,fF as cN,sU as cO,Ite as cP,qF as cQ,Jre as cR,Mr as cS,Va as cT,R6 as cU,$re as cV,Dre as cW,xU as cX,z1 as cY,N6 as cZ,hF as c_,$s as ca,Pje as cb,aee as cc,Bi as cd,cee as ce,dd as cf,Nc as cg,NB as ch,xr as ci,Pe as cj,Df as ck,Pt as cl,zc as cm,sre as cn,mT as co,_d as cp,fU as cq,u6 as cr,Ua as cs,hU as ct,$y as cu,dU as cv,ZU as cw,I6 as cx,Nte as cy,Qc as cz,bQ as d,Mze as d$,dF as d0,s6 as d1,ls as d2,XB as d3,U as d4,Yg as d5,Ga as d6,qd as d7,s_ as d8,H as d9,qy as dA,_pe as dB,p9 as dC,$v as dD,C5 as dE,bze as dF,va as dG,Kue as dH,Gb as dI,ize as dJ,jze as dK,Vo as dL,Av as dM,h1 as dN,uMe as dO,j7e as dP,Ec as dQ,J6 as dR,n8e as dS,pMe as dT,gMe as dU,lMe as dV,eze as dW,Gg as dX,nze as dY,Dl as dZ,Ke as d_,uu as da,Ee as db,ede as dc,wze as dd,dMe as de,ae as df,nde as dg,c7 as dh,z7e as di,kVe as dj,bpe as dk,ice as dl,vpe as dm,Zue as dn,xze as dp,kK as dq,k5 as dr,xn as ds,o_ as dt,lde as du,bVe as dv,F7e as dw,TMe as dx,qc as dy,hze as dz,yQ as e,j1 as e$,cze as e0,Ky as e1,Sze as e2,Uze as e3,_ze as e4,Nze as e5,xpe as e6,nNe as e7,kRe as e8,ARe as e9,xDe as eA,SDe as eB,ade as eC,Rze as eD,hde as eE,S9 as eF,CVe as eG,WX as eH,Ty as eI,Y5 as eJ,lp as eK,UX as eL,G5 as eM,Ay as eN,Sy as eO,xy as eP,IMe as eQ,HX as eR,E1 as eS,Lze as eT,AVe as eU,SVe as eV,xVe as eW,cMe as eX,Rce as eY,H2 as eZ,o6 as e_,$le as ea,q7e as eb,V7e as ec,K7e as ed,H7e as ee,pde as ef,kDe as eg,W7e as eh,vVe as ei,kj as ej,Lh as ek,EVe as el,jC as em,AK as en,TK as eo,Gze as ep,Kze as eq,qt as er,Yze as es,voe as et,Ov as eu,Gue as ev,Qh as ew,A9 as ex,kze as ey,_Ve as ez,AQ as f,zze as f$,nre as f0,L1 as f1,Jn as f2,PVe as f3,TVe as f4,IVe as f5,nt as f6,hVe as f7,dVe as f8,IRe as f9,pu as fA,KRe as fB,YRe as fC,_r as fD,s4e as fE,fK as fF,gVe as fG,yVe as fH,M4e as fI,z4e as fJ,mVe as fK,wVe as fL,k7e as fM,tz as fN,C7e as fO,fMe as fP,u7 as fQ,vze as fR,Oze as fS,Cze as fT,Pze as fU,JT as fV,$ze as fW,Dze as fX,m7 as fY,Dpe as fZ,Nn as f_,Lle as fa,th as fb,T4e as fc,TRe as fd,tNe as fe,pVe as ff,c4e as fg,fVe as fh,HB as fi,Fee as fj,$je as fk,dp as fl,Yje as fm,V1 as fn,u_ as fo,As as fp,yze as fq,Mle as fr,nce as fs,at as ft,Uo as fu,$pe as fv,Vd as fw,aze as fx,DRe as fy,_p as fz,up as g,Eze as g$,wde as g0,gze as g1,g7 as g2,yde as g3,fde as g4,Xue as g5,cu as g6,iB as g7,sB as g8,oB as g9,fme as gA,Hc as gB,kme as gC,$z as gD,Iz as gE,Jze as gF,Ik as gG,p_ as gH,zme as gI,_me as gJ,Lme as gK,vme as gL,Upe as gM,jme as gN,ige as gO,eme as gP,Pme as gQ,Kme as gR,Wo as gS,jv as gT,sWe as gU,_z as gV,oWe as gW,kc as gX,Pz as gY,Cz as gZ,Aze as g_,cB as ga,aB as gb,lB as gc,h_ as gd,mn as ge,Zy as gf,Qze as gg,eWe as gh,ps as gi,jpe as gj,Ya as gk,us as gl,tWe as gm,Xze as gn,Xpe as go,Jy as gp,wo as gq,Qo as gr,Hw as gs,Ype as gt,Oc as gu,j8 as gv,za as gw,ume as gx,iWe as gy,Tz as gz,xQ as h,ao as h$,ze as h0,$n as h1,aI as h2,un as h3,k4 as h4,cg as h5,Ihe as h6,Hze as h7,Ve as h8,gT as h9,Me as hA,Kc as hB,nEe as hC,Yge as hD,hg as hE,OI as hF,t0 as hG,fbe as hH,ibe as hI,Ppe as hJ,oEe as hK,Bs as hL,tTe as hM,Fo as hN,Xd as hO,dC as hP,FIe as hQ,uC as hR,U_ as hS,hy as hT,Ok as hU,r$ as hV,fV as hW,s_e as hX,Xl as hY,B_ as hZ,Sa as h_,Zo as ha,Ry as hb,Ha as hc,En as hd,Fte as he,GF as hf,qa as hg,c6 as hh,Wc as hi,mp as hj,kq as hk,mTe as hl,gTe as hm,mD as hn,tF as ho,fT as hp,aEe as hq,Wm as hr,$d as hs,Gc as ht,yTe as hu,bTe as hv,Jd as hw,Oye as hx,lo as hy,ds as hz,X8 as i,xa as i0,nH as i1,Q8 as j,pQ as k,rF as l,q6 as m,yoe as n,av as o,xB as p,woe as q,K1 as r,Gje as s,CO as t,iv as u,Mse as v,goe as w,$O as x,VU as y,da as z};
