import{d5 as p,d6 as S,d7 as b,d9 as l,d4 as s}from"./index-BZUZJG0z.js";import{F as h}from"./PhoneIcon-DO-kIy-O.js";import{w as f}from"./ConnectPhoneForm-CYfqSIAI-BDD9A_n5.js";import{n as y}from"./ScreenLayout-DIdy7nhJ-CtKEKsly.js";import"./ModalHeader-D5psNgrf-BlEKM6aB.js";import"./Chip-D2-wZOHJ-DUiT6Tro.js";import"./LoadingSkeleton-U6-3yFwI-BqvAdjZO.js";import"./Screen-q8npRQhQ-DadJ2eBF.js";import"./index-Dq_xe9dz-CmgW7sSb.js";const w=({title:a="Connect your phone",subtitle:t="Add your number to your account",onSubmit:r,isSubmitting:i=!1})=>{let[e,u]=l.useState(null),o=async()=>{e!=null&&e.qualifiedPhoneNumber&&await r(e)};return s.jsx(y,{title:a,subtitle:t,icon:h,primaryCta:{label:i?"Submitting":"Submit",onClick:o,disabled:!(e!=null&&e.isValid)||i},watermark:!0,children:s.jsx(f,{onChange:n=>{u(n)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},D={component:()=>{let{currentScreen:a,data:t,navigate:r,setModalData:i}=p(),e=S(),{initLoginWithSms:u}=b(),[o,n]=l.useState(!1);return s.jsx(w,{subtitle:`Add your number to your ${e==null?void 0:e.name} account`,onSubmit:async d=>{var m;n(!0);try{await u({phoneNumber:d.qualifiedPhoneNumber,withPrivyUi:!0}),r("AwaitingPasswordlessCodeScreen")}catch(c){i({errorModalData:{error:c,previousScreen:((m=t==null?void 0:t.errorModalData)==null?void 0:m.previousScreen)||a||"LinkPhoneScreen"}}),r("ErrorScreen")}finally{n(!1)}},isSubmitting:o})}};export{D as LinkPhoneScreen,w as LinkPhoneScreenView,D as default};
