const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/webcrypto-BcDLf58c.js","assets/utils-D_vvNIeL.js","assets/nodecrypto-DMDIEbdw.js"])))=>i.map(i=>d[i]);
var C_e=Object.defineProperty;var A_e=(e,t,n)=>t in e?C_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ur=(e,t,n)=>A_e(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q1(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var C5={exports:{}},cw={},A5={exports:{}},Yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EF;function R_e(){if(EF)return Yn;EF=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.iterator;function h(W){return W===null||typeof W!="object"?null:(W=u&&W[u]||W["@@iterator"],typeof W=="function"?W:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(W,P,F){this.props=W,this.context=P,this.refs=y,this.updater=F||m}g.prototype.isReactComponent={},g.prototype.setState=function(W,P){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,P,"setState")},g.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function b(){}b.prototype=g.prototype;function k(W,P,F){this.props=W,this.context=P,this.refs=y,this.updater=F||m}var _=k.prototype=new b;_.constructor=k,v(_,g.prototype),_.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,T={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function M(W,P,F){var G,Y={},ie=null,ye=null;if(P!=null)for(G in P.ref!==void 0&&(ye=P.ref),P.key!==void 0&&(ie=""+P.key),P)I.call(P,G)&&!D.hasOwnProperty(G)&&(Y[G]=P[G]);var ge=arguments.length-2;if(ge===1)Y.children=F;else if(1<ge){for(var be=Array(ge),Le=0;Le<ge;Le++)be[Le]=arguments[Le+2];Y.children=be}if(W&&W.defaultProps)for(G in ge=W.defaultProps,ge)Y[G]===void 0&&(Y[G]=ge[G]);return{$$typeof:e,type:W,key:ie,ref:ye,props:Y,_owner:T.current}}function C(W,P){return{$$typeof:e,type:W.type,key:P,ref:W.ref,props:W.props,_owner:W._owner}}function U(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function $(W){var P={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(F){return P[F]})}var z=/\/+/g;function q(W,P){return typeof W=="object"&&W!==null&&W.key!=null?$(""+W.key):P.toString(36)}function S(W,P,F,G,Y){var ie=typeof W;(ie==="undefined"||ie==="boolean")&&(W=null);var ye=!1;if(W===null)ye=!0;else switch(ie){case"string":case"number":ye=!0;break;case"object":switch(W.$$typeof){case e:case t:ye=!0}}if(ye)return ye=W,Y=Y(ye),W=G===""?"."+q(ye,0):G,R(Y)?(F="",W!=null&&(F=W.replace(z,"$&/")+"/"),S(Y,P,F,"",function(Le){return Le})):Y!=null&&(U(Y)&&(Y=C(Y,F+(!Y.key||ye&&ye.key===Y.key?"":(""+Y.key).replace(z,"$&/")+"/")+W)),P.push(Y)),1;if(ye=0,G=G===""?".":G+":",R(W))for(var ge=0;ge<W.length;ge++){ie=W[ge];var be=G+q(ie,ge);ye+=S(ie,P,F,be,Y)}else if(be=h(W),typeof be=="function")for(W=be.call(W),ge=0;!(ie=W.next()).done;)ie=ie.value,be=G+q(ie,ge++),ye+=S(ie,P,F,be,Y);else if(ie==="object")throw P=String(W),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ye}function A(W,P,F){if(W==null)return W;var G=[],Y=0;return S(W,G,"","",function(ie){return P.call(F,ie,Y++)}),G}function O(W){if(W._status===-1){var P=W._result;P=P(),P.then(function(F){(W._status===0||W._status===-1)&&(W._status=1,W._result=F)},function(F){(W._status===0||W._status===-1)&&(W._status=2,W._result=F)}),W._status===-1&&(W._status=0,W._result=P)}if(W._status===1)return W._result.default;throw W._result}var N={current:null},j={transition:null},V={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:j,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return Yn.Children={map:A,forEach:function(W,P,F){A(W,function(){P.apply(this,arguments)},F)},count:function(W){var P=0;return A(W,function(){P++}),P},toArray:function(W){return A(W,function(P){return P})||[]},only:function(W){if(!U(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Yn.Component=g,Yn.Fragment=n,Yn.Profiler=i,Yn.PureComponent=k,Yn.StrictMode=r,Yn.Suspense=l,Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Yn.act=K,Yn.cloneElement=function(W,P,F){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var G=v({},W.props),Y=W.key,ie=W.ref,ye=W._owner;if(P!=null){if(P.ref!==void 0&&(ie=P.ref,ye=T.current),P.key!==void 0&&(Y=""+P.key),W.type&&W.type.defaultProps)var ge=W.type.defaultProps;for(be in P)I.call(P,be)&&!D.hasOwnProperty(be)&&(G[be]=P[be]===void 0&&ge!==void 0?ge[be]:P[be])}var be=arguments.length-2;if(be===1)G.children=F;else if(1<be){ge=Array(be);for(var Le=0;Le<be;Le++)ge[Le]=arguments[Le+2];G.children=ge}return{$$typeof:e,type:W.type,key:Y,ref:ie,props:G,_owner:ye}},Yn.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Yn.createElement=M,Yn.createFactory=function(W){var P=M.bind(null,W);return P.type=W,P},Yn.createRef=function(){return{current:null}},Yn.forwardRef=function(W){return{$$typeof:a,render:W}},Yn.isValidElement=U,Yn.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:O}},Yn.memo=function(W,P){return{$$typeof:c,type:W,compare:P===void 0?null:P}},Yn.startTransition=function(W){var P=j.transition;j.transition={};try{W()}finally{j.transition=P}},Yn.unstable_act=K,Yn.useCallback=function(W,P){return N.current.useCallback(W,P)},Yn.useContext=function(W){return N.current.useContext(W)},Yn.useDebugValue=function(){},Yn.useDeferredValue=function(W){return N.current.useDeferredValue(W)},Yn.useEffect=function(W,P){return N.current.useEffect(W,P)},Yn.useId=function(){return N.current.useId()},Yn.useImperativeHandle=function(W,P,F){return N.current.useImperativeHandle(W,P,F)},Yn.useInsertionEffect=function(W,P){return N.current.useInsertionEffect(W,P)},Yn.useLayoutEffect=function(W,P){return N.current.useLayoutEffect(W,P)},Yn.useMemo=function(W,P){return N.current.useMemo(W,P)},Yn.useReducer=function(W,P,F){return N.current.useReducer(W,P,F)},Yn.useRef=function(W){return N.current.useRef(W)},Yn.useState=function(W){return N.current.useState(W)},Yn.useSyncExternalStore=function(W,P,F){return N.current.useSyncExternalStore(W,P,F)},Yn.useTransition=function(){return N.current.useTransition()},Yn.version="18.3.1",Yn}var CF;function iM(){return CF||(CF=1,A5.exports=R_e()),A5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF;function T_e(){if(AF)return cw;AF=1;var e=iM(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var d,u={},h=null,m=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)r.call(l,d)&&!o.hasOwnProperty(d)&&(u[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)u[d]===void 0&&(u[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:m,props:u,_owner:i.current}}return cw.Fragment=n,cw.jsx=s,cw.jsxs=s,cw}var RF;function O_e(){return RF||(RF=1,C5.exports=T_e()),C5.exports}var f=O_e(),R5={},dw={},TF;function N_e(){if(TF)return dw;TF=1,dw.byteLength=a,dw.toByteArray=c,dw.fromByteArray=h;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=v);var g=y===v?0:4-y%4;return[y,g]}function a(m){var v=s(m),y=v[0],g=v[1];return(y+g)*3/4-g}function l(m,v,y){return(v+y)*3/4-y}function c(m){var v,y=s(m),g=y[0],b=y[1],k=new n(l(m,g,b)),_=0,R=b>0?g-4:g,I;for(I=0;I<R;I+=4)v=t[m.charCodeAt(I)]<<18|t[m.charCodeAt(I+1)]<<12|t[m.charCodeAt(I+2)]<<6|t[m.charCodeAt(I+3)],k[_++]=v>>16&255,k[_++]=v>>8&255,k[_++]=v&255;return b===2&&(v=t[m.charCodeAt(I)]<<2|t[m.charCodeAt(I+1)]>>4,k[_++]=v&255),b===1&&(v=t[m.charCodeAt(I)]<<10|t[m.charCodeAt(I+1)]<<4|t[m.charCodeAt(I+2)]>>2,k[_++]=v>>8&255,k[_++]=v&255),k}function d(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function u(m,v,y){for(var g,b=[],k=v;k<y;k+=3)g=(m[k]<<16&16711680)+(m[k+1]<<8&65280)+(m[k+2]&255),b.push(d(g));return b.join("")}function h(m){for(var v,y=m.length,g=y%3,b=[],k=16383,_=0,R=y-g;_<R;_+=k)b.push(u(m,_,_+k>R?R:_+k));return g===1?(v=m[y-1],b.push(e[v>>2]+e[v<<4&63]+"==")):g===2&&(v=(m[y-2]<<8)+m[y-1],b.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),b.join("")}return dw}var ek={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var OF;function P_e(){return OF||(OF=1,ek.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,u=n?i-1:0,h=n?-1:1,m=e[t+u];for(u+=h,o=m&(1<<-d)-1,m>>=-d,d+=a;d>0;o=o*256+e[t+u],u+=h,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=s*256+e[t+u],u+=h,d-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(m?-1:1)*s*Math.pow(2,o-r)},ek.write=function(e,t,n,r,i,o){var s,a,l,c=o*8-i-1,d=(1<<c)-1,u=d>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,v=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(t*l-1)*Math.pow(2,i),s=s+u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[n+m]=a&255,m+=v,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+m]=s&255,m+=v,s/=256,c-=8);e[n+m-v]|=y*128}),ek}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var NF;function oM(){return NF||(NF=1,(function(e){const t=N_e(),n=P_e(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const ce=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ce,X),ce.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(ce){if(ce>i)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const X=new Uint8Array(ce);return Object.setPrototypeOf(X,a.prototype),X}function a(ce,X,ee){if(typeof ce=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ce)}return l(ce,X,ee)}a.poolSize=8192;function l(ce,X,ee){if(typeof ce=="string")return h(ce,X);if(ArrayBuffer.isView(ce))return v(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(ct(ce,ArrayBuffer)||ce&&ct(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(ce,SharedArrayBuffer)||ce&&ct(ce.buffer,SharedArrayBuffer)))return y(ce,X,ee);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const we=ce.valueOf&&ce.valueOf();if(we!=null&&we!==ce)return a.from(we,X,ee);const Ae=g(ce);if(Ae)return Ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return a.from(ce[Symbol.toPrimitive]("string"),X,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}a.from=function(ce,X,ee){return l(ce,X,ee)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function d(ce,X,ee){return c(ce),ce<=0?s(ce):X!==void 0?typeof ee=="string"?s(ce).fill(X,ee):s(ce).fill(X):s(ce)}a.alloc=function(ce,X,ee){return d(ce,X,ee)};function u(ce){return c(ce),s(ce<0?0:b(ce)|0)}a.allocUnsafe=function(ce){return u(ce)},a.allocUnsafeSlow=function(ce){return u(ce)};function h(ce,X){if((typeof X!="string"||X==="")&&(X="utf8"),!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const ee=_(ce,X)|0;let we=s(ee);const Ae=we.write(ce,X);return Ae!==ee&&(we=we.slice(0,Ae)),we}function m(ce){const X=ce.length<0?0:b(ce.length)|0,ee=s(X);for(let we=0;we<X;we+=1)ee[we]=ce[we]&255;return ee}function v(ce){if(ct(ce,Uint8Array)){const X=new Uint8Array(ce);return y(X.buffer,X.byteOffset,X.byteLength)}return m(ce)}function y(ce,X,ee){if(X<0||ce.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<X+(ee||0))throw new RangeError('"length" is outside of buffer bounds');let we;return X===void 0&&ee===void 0?we=new Uint8Array(ce):ee===void 0?we=new Uint8Array(ce,X):we=new Uint8Array(ce,X,ee),Object.setPrototypeOf(we,a.prototype),we}function g(ce){if(a.isBuffer(ce)){const X=b(ce.length)|0,ee=s(X);return ee.length===0||ce.copy(ee,0,0,X),ee}if(ce.length!==void 0)return typeof ce.length!="number"||st(ce.length)?s(0):m(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return m(ce.data)}function b(ce){if(ce>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ce|0}function k(ce){return+ce!=ce&&(ce=0),a.alloc(+ce)}a.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==a.prototype},a.compare=function(X,ee){if(ct(X,Uint8Array)&&(X=a.from(X,X.offset,X.byteLength)),ct(ee,Uint8Array)&&(ee=a.from(ee,ee.offset,ee.byteLength)),!a.isBuffer(X)||!a.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===ee)return 0;let we=X.length,Ae=ee.length;for(let Pe=0,Fe=Math.min(we,Ae);Pe<Fe;++Pe)if(X[Pe]!==ee[Pe]){we=X[Pe],Ae=ee[Pe];break}return we<Ae?-1:Ae<we?1:0},a.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(X,ee){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return a.alloc(0);let we;if(ee===void 0)for(ee=0,we=0;we<X.length;++we)ee+=X[we].length;const Ae=a.allocUnsafe(ee);let Pe=0;for(we=0;we<X.length;++we){let Fe=X[we];if(ct(Fe,Uint8Array))Pe+Fe.length>Ae.length?(a.isBuffer(Fe)||(Fe=a.from(Fe)),Fe.copy(Ae,Pe)):Uint8Array.prototype.set.call(Ae,Fe,Pe);else if(a.isBuffer(Fe))Fe.copy(Ae,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=Fe.length}return Ae};function _(ce,X){if(a.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||ct(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const ee=ce.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&ee===0)return 0;let Ae=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return lt(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee*2;case"hex":return ee>>>1;case"base64":return Re(ce).length;default:if(Ae)return we?-1:lt(ce).length;X=(""+X).toLowerCase(),Ae=!0}}a.byteLength=_;function R(ce,X,ee){let we=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0,X>>>=0,ee<=X))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return V(this,X,ee);case"utf8":case"utf-8":return S(this,X,ee);case"ascii":return N(this,X,ee);case"latin1":case"binary":return j(this,X,ee);case"base64":return q(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,X,ee);default:if(we)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),we=!0}}a.prototype._isBuffer=!0;function I(ce,X,ee){const we=ce[X];ce[X]=ce[ee],ce[ee]=we}a.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ee=0;ee<X;ee+=2)I(this,ee,ee+1);return this},a.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ee=0;ee<X;ee+=4)I(this,ee,ee+3),I(this,ee+1,ee+2);return this},a.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ee=0;ee<X;ee+=8)I(this,ee,ee+7),I(this,ee+1,ee+6),I(this,ee+2,ee+5),I(this,ee+3,ee+4);return this},a.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?S(this,0,X):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(X){if(!a.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:a.compare(this,X)===0},a.prototype.inspect=function(){let X="";const ee=e.INSPECT_MAX_BYTES;return X=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(X+=" ... "),"<Buffer "+X+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(X,ee,we,Ae,Pe){if(ct(X,Uint8Array)&&(X=a.from(X,X.offset,X.byteLength)),!a.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(ee===void 0&&(ee=0),we===void 0&&(we=X?X.length:0),Ae===void 0&&(Ae=0),Pe===void 0&&(Pe=this.length),ee<0||we>X.length||Ae<0||Pe>this.length)throw new RangeError("out of range index");if(Ae>=Pe&&ee>=we)return 0;if(Ae>=Pe)return-1;if(ee>=we)return 1;if(ee>>>=0,we>>>=0,Ae>>>=0,Pe>>>=0,this===X)return 0;let Fe=Pe-Ae,en=we-ee;const on=Math.min(Fe,en),tn=this.slice(Ae,Pe),Bn=X.slice(ee,we);for(let Jt=0;Jt<on;++Jt)if(tn[Jt]!==Bn[Jt]){Fe=tn[Jt],en=Bn[Jt];break}return Fe<en?-1:en<Fe?1:0};function T(ce,X,ee,we,Ae){if(ce.length===0)return-1;if(typeof ee=="string"?(we=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),ee=+ee,st(ee)&&(ee=Ae?0:ce.length-1),ee<0&&(ee=ce.length+ee),ee>=ce.length){if(Ae)return-1;ee=ce.length-1}else if(ee<0)if(Ae)ee=0;else return-1;if(typeof X=="string"&&(X=a.from(X,we)),a.isBuffer(X))return X.length===0?-1:D(ce,X,ee,we,Ae);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?Ae?Uint8Array.prototype.indexOf.call(ce,X,ee):Uint8Array.prototype.lastIndexOf.call(ce,X,ee):D(ce,[X],ee,we,Ae);throw new TypeError("val must be string, number or Buffer")}function D(ce,X,ee,we,Ae){let Pe=1,Fe=ce.length,en=X.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(ce.length<2||X.length<2)return-1;Pe=2,Fe/=2,en/=2,ee/=2}function on(Bn,Jt){return Pe===1?Bn[Jt]:Bn.readUInt16BE(Jt*Pe)}let tn;if(Ae){let Bn=-1;for(tn=ee;tn<Fe;tn++)if(on(ce,tn)===on(X,Bn===-1?0:tn-Bn)){if(Bn===-1&&(Bn=tn),tn-Bn+1===en)return Bn*Pe}else Bn!==-1&&(tn-=tn-Bn),Bn=-1}else for(ee+en>Fe&&(ee=Fe-en),tn=ee;tn>=0;tn--){let Bn=!0;for(let Jt=0;Jt<en;Jt++)if(on(ce,tn+Jt)!==on(X,Jt)){Bn=!1;break}if(Bn)return tn}return-1}a.prototype.includes=function(X,ee,we){return this.indexOf(X,ee,we)!==-1},a.prototype.indexOf=function(X,ee,we){return T(this,X,ee,we,!0)},a.prototype.lastIndexOf=function(X,ee,we){return T(this,X,ee,we,!1)};function M(ce,X,ee,we){ee=Number(ee)||0;const Ae=ce.length-ee;we?(we=Number(we),we>Ae&&(we=Ae)):we=Ae;const Pe=X.length;we>Pe/2&&(we=Pe/2);let Fe;for(Fe=0;Fe<we;++Fe){const en=parseInt(X.substr(Fe*2,2),16);if(st(en))return Fe;ce[ee+Fe]=en}return Fe}function C(ce,X,ee,we){return Ze(lt(X,ce.length-ee),ce,ee,we)}function U(ce,X,ee,we){return Ze(jt(X),ce,ee,we)}function $(ce,X,ee,we){return Ze(Re(X),ce,ee,we)}function z(ce,X,ee,we){return Ze(rn(X,ce.length-ee),ce,ee,we)}a.prototype.write=function(X,ee,we,Ae){if(ee===void 0)Ae="utf8",we=this.length,ee=0;else if(we===void 0&&typeof ee=="string")Ae=ee,we=this.length,ee=0;else if(isFinite(ee))ee=ee>>>0,isFinite(we)?(we=we>>>0,Ae===void 0&&(Ae="utf8")):(Ae=we,we=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Pe=this.length-ee;if((we===void 0||we>Pe)&&(we=Pe),X.length>0&&(we<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");let Fe=!1;for(;;)switch(Ae){case"hex":return M(this,X,ee,we);case"utf8":case"utf-8":return C(this,X,ee,we);case"ascii":case"latin1":case"binary":return U(this,X,ee,we);case"base64":return $(this,X,ee,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,X,ee,we);default:if(Fe)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),Fe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(ce,X,ee){return X===0&&ee===ce.length?t.fromByteArray(ce):t.fromByteArray(ce.slice(X,ee))}function S(ce,X,ee){ee=Math.min(ce.length,ee);const we=[];let Ae=X;for(;Ae<ee;){const Pe=ce[Ae];let Fe=null,en=Pe>239?4:Pe>223?3:Pe>191?2:1;if(Ae+en<=ee){let on,tn,Bn,Jt;switch(en){case 1:Pe<128&&(Fe=Pe);break;case 2:on=ce[Ae+1],(on&192)===128&&(Jt=(Pe&31)<<6|on&63,Jt>127&&(Fe=Jt));break;case 3:on=ce[Ae+1],tn=ce[Ae+2],(on&192)===128&&(tn&192)===128&&(Jt=(Pe&15)<<12|(on&63)<<6|tn&63,Jt>2047&&(Jt<55296||Jt>57343)&&(Fe=Jt));break;case 4:on=ce[Ae+1],tn=ce[Ae+2],Bn=ce[Ae+3],(on&192)===128&&(tn&192)===128&&(Bn&192)===128&&(Jt=(Pe&15)<<18|(on&63)<<12|(tn&63)<<6|Bn&63,Jt>65535&&Jt<1114112&&(Fe=Jt))}}Fe===null?(Fe=65533,en=1):Fe>65535&&(Fe-=65536,we.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),we.push(Fe),Ae+=en}return O(we)}const A=4096;function O(ce){const X=ce.length;if(X<=A)return String.fromCharCode.apply(String,ce);let ee="",we=0;for(;we<X;)ee+=String.fromCharCode.apply(String,ce.slice(we,we+=A));return ee}function N(ce,X,ee){let we="";ee=Math.min(ce.length,ee);for(let Ae=X;Ae<ee;++Ae)we+=String.fromCharCode(ce[Ae]&127);return we}function j(ce,X,ee){let we="";ee=Math.min(ce.length,ee);for(let Ae=X;Ae<ee;++Ae)we+=String.fromCharCode(ce[Ae]);return we}function V(ce,X,ee){const we=ce.length;(!X||X<0)&&(X=0),(!ee||ee<0||ee>we)&&(ee=we);let Ae="";for(let Pe=X;Pe<ee;++Pe)Ae+=vt[ce[Pe]];return Ae}function K(ce,X,ee){const we=ce.slice(X,ee);let Ae="";for(let Pe=0;Pe<we.length-1;Pe+=2)Ae+=String.fromCharCode(we[Pe]+we[Pe+1]*256);return Ae}a.prototype.slice=function(X,ee){const we=this.length;X=~~X,ee=ee===void 0?we:~~ee,X<0?(X+=we,X<0&&(X=0)):X>we&&(X=we),ee<0?(ee+=we,ee<0&&(ee=0)):ee>we&&(ee=we),ee<X&&(ee=X);const Ae=this.subarray(X,ee);return Object.setPrototypeOf(Ae,a.prototype),Ae};function W(ce,X,ee){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+X>ee)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||W(X,ee,this.length);let Ae=this[X],Pe=1,Fe=0;for(;++Fe<ee&&(Pe*=256);)Ae+=this[X+Fe]*Pe;return Ae},a.prototype.readUintBE=a.prototype.readUIntBE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||W(X,ee,this.length);let Ae=this[X+--ee],Pe=1;for(;ee>0&&(Pe*=256);)Ae+=this[X+--ee]*Pe;return Ae},a.prototype.readUint8=a.prototype.readUInt8=function(X,ee){return X=X>>>0,ee||W(X,1,this.length),this[X]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(X,ee){return X=X>>>0,ee||W(X,2,this.length),this[X]|this[X+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(X,ee){return X=X>>>0,ee||W(X,2,this.length),this[X]<<8|this[X+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(X,ee){return X=X>>>0,ee||W(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(X,ee){return X=X>>>0,ee||W(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},a.prototype.readBigUInt64LE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=ee+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Pe=this[++X]+this[++X]*2**8+this[++X]*2**16+we*2**24;return BigInt(Ae)+(BigInt(Pe)<<BigInt(32))}),a.prototype.readBigUInt64BE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=ee*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Pe=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+we;return(BigInt(Ae)<<BigInt(32))+BigInt(Pe)}),a.prototype.readIntLE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||W(X,ee,this.length);let Ae=this[X],Pe=1,Fe=0;for(;++Fe<ee&&(Pe*=256);)Ae+=this[X+Fe]*Pe;return Pe*=128,Ae>=Pe&&(Ae-=Math.pow(2,8*ee)),Ae},a.prototype.readIntBE=function(X,ee,we){X=X>>>0,ee=ee>>>0,we||W(X,ee,this.length);let Ae=ee,Pe=1,Fe=this[X+--Ae];for(;Ae>0&&(Pe*=256);)Fe+=this[X+--Ae]*Pe;return Pe*=128,Fe>=Pe&&(Fe-=Math.pow(2,8*ee)),Fe},a.prototype.readInt8=function(X,ee){return X=X>>>0,ee||W(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},a.prototype.readInt16LE=function(X,ee){X=X>>>0,ee||W(X,2,this.length);const we=this[X]|this[X+1]<<8;return we&32768?we|4294901760:we},a.prototype.readInt16BE=function(X,ee){X=X>>>0,ee||W(X,2,this.length);const we=this[X+1]|this[X]<<8;return we&32768?we|4294901760:we},a.prototype.readInt32LE=function(X,ee){return X=X>>>0,ee||W(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},a.prototype.readInt32BE=function(X,ee){return X=X>>>0,ee||W(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},a.prototype.readBigInt64LE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(we<<24);return(BigInt(Ae)<<BigInt(32))+BigInt(ee+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),a.prototype.readBigInt64BE=$t(function(X){X=X>>>0,gt(X,"offset");const ee=this[X],we=this[X+7];(ee===void 0||we===void 0)&&tt(X,this.length-8);const Ae=(ee<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(Ae)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+we)}),a.prototype.readFloatLE=function(X,ee){return X=X>>>0,ee||W(X,4,this.length),n.read(this,X,!0,23,4)},a.prototype.readFloatBE=function(X,ee){return X=X>>>0,ee||W(X,4,this.length),n.read(this,X,!1,23,4)},a.prototype.readDoubleLE=function(X,ee){return X=X>>>0,ee||W(X,8,this.length),n.read(this,X,!0,52,8)},a.prototype.readDoubleBE=function(X,ee){return X=X>>>0,ee||W(X,8,this.length),n.read(this,X,!1,52,8)};function P(ce,X,ee,we,Ae,Pe){if(!a.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>Ae||X<Pe)throw new RangeError('"value" argument is out of bounds');if(ee+we>ce.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,we=we>>>0,!Ae){const en=Math.pow(2,8*we)-1;P(this,X,ee,we,en,0)}let Pe=1,Fe=0;for(this[ee]=X&255;++Fe<we&&(Pe*=256);)this[ee+Fe]=X/Pe&255;return ee+we},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,we=we>>>0,!Ae){const en=Math.pow(2,8*we)-1;P(this,X,ee,we,en,0)}let Pe=we-1,Fe=1;for(this[ee+Pe]=X&255;--Pe>=0&&(Fe*=256);)this[ee+Pe]=X/Fe&255;return ee+we},a.prototype.writeUint8=a.prototype.writeUInt8=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,1,255,0),this[ee]=X&255,ee+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,2,65535,0),this[ee]=X&255,this[ee+1]=X>>>8,ee+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,2,65535,0),this[ee]=X>>>8,this[ee+1]=X&255,ee+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,4,4294967295,0),this[ee+3]=X>>>24,this[ee+2]=X>>>16,this[ee+1]=X>>>8,this[ee]=X&255,ee+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,4,4294967295,0),this[ee]=X>>>24,this[ee+1]=X>>>16,this[ee+2]=X>>>8,this[ee+3]=X&255,ee+4};function F(ce,X,ee,we,Ae){Me(X,we,Ae,ce,ee,7);let Pe=Number(X&BigInt(4294967295));ce[ee++]=Pe,Pe=Pe>>8,ce[ee++]=Pe,Pe=Pe>>8,ce[ee++]=Pe,Pe=Pe>>8,ce[ee++]=Pe;let Fe=Number(X>>BigInt(32)&BigInt(4294967295));return ce[ee++]=Fe,Fe=Fe>>8,ce[ee++]=Fe,Fe=Fe>>8,ce[ee++]=Fe,Fe=Fe>>8,ce[ee++]=Fe,ee}function G(ce,X,ee,we,Ae){Me(X,we,Ae,ce,ee,7);let Pe=Number(X&BigInt(4294967295));ce[ee+7]=Pe,Pe=Pe>>8,ce[ee+6]=Pe,Pe=Pe>>8,ce[ee+5]=Pe,Pe=Pe>>8,ce[ee+4]=Pe;let Fe=Number(X>>BigInt(32)&BigInt(4294967295));return ce[ee+3]=Fe,Fe=Fe>>8,ce[ee+2]=Fe,Fe=Fe>>8,ce[ee+1]=Fe,Fe=Fe>>8,ce[ee]=Fe,ee+8}a.prototype.writeBigUInt64LE=$t(function(X,ee=0){return F(this,X,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=$t(function(X,ee=0){return G(this,X,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,!Ae){const on=Math.pow(2,8*we-1);P(this,X,ee,we,on-1,-on)}let Pe=0,Fe=1,en=0;for(this[ee]=X&255;++Pe<we&&(Fe*=256);)X<0&&en===0&&this[ee+Pe-1]!==0&&(en=1),this[ee+Pe]=(X/Fe>>0)-en&255;return ee+we},a.prototype.writeIntBE=function(X,ee,we,Ae){if(X=+X,ee=ee>>>0,!Ae){const on=Math.pow(2,8*we-1);P(this,X,ee,we,on-1,-on)}let Pe=we-1,Fe=1,en=0;for(this[ee+Pe]=X&255;--Pe>=0&&(Fe*=256);)X<0&&en===0&&this[ee+Pe+1]!==0&&(en=1),this[ee+Pe]=(X/Fe>>0)-en&255;return ee+we},a.prototype.writeInt8=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,1,127,-128),X<0&&(X=255+X+1),this[ee]=X&255,ee+1},a.prototype.writeInt16LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,2,32767,-32768),this[ee]=X&255,this[ee+1]=X>>>8,ee+2},a.prototype.writeInt16BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,2,32767,-32768),this[ee]=X>>>8,this[ee+1]=X&255,ee+2},a.prototype.writeInt32LE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,4,2147483647,-2147483648),this[ee]=X&255,this[ee+1]=X>>>8,this[ee+2]=X>>>16,this[ee+3]=X>>>24,ee+4},a.prototype.writeInt32BE=function(X,ee,we){return X=+X,ee=ee>>>0,we||P(this,X,ee,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[ee]=X>>>24,this[ee+1]=X>>>16,this[ee+2]=X>>>8,this[ee+3]=X&255,ee+4},a.prototype.writeBigInt64LE=$t(function(X,ee=0){return F(this,X,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=$t(function(X,ee=0){return G(this,X,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(ce,X,ee,we,Ae,Pe){if(ee+we>ce.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function ie(ce,X,ee,we,Ae){return X=+X,ee=ee>>>0,Ae||Y(ce,X,ee,4),n.write(ce,X,ee,we,23,4),ee+4}a.prototype.writeFloatLE=function(X,ee,we){return ie(this,X,ee,!0,we)},a.prototype.writeFloatBE=function(X,ee,we){return ie(this,X,ee,!1,we)};function ye(ce,X,ee,we,Ae){return X=+X,ee=ee>>>0,Ae||Y(ce,X,ee,8),n.write(ce,X,ee,we,52,8),ee+8}a.prototype.writeDoubleLE=function(X,ee,we){return ye(this,X,ee,!0,we)},a.prototype.writeDoubleBE=function(X,ee,we){return ye(this,X,ee,!1,we)},a.prototype.copy=function(X,ee,we,Ae){if(!a.isBuffer(X))throw new TypeError("argument should be a Buffer");if(we||(we=0),!Ae&&Ae!==0&&(Ae=this.length),ee>=X.length&&(ee=X.length),ee||(ee=0),Ae>0&&Ae<we&&(Ae=we),Ae===we||X.length===0||this.length===0)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(we<0||we>=this.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),X.length-ee<Ae-we&&(Ae=X.length-ee+we);const Pe=Ae-we;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ee,we,Ae):Uint8Array.prototype.set.call(X,this.subarray(we,Ae),ee),Pe},a.prototype.fill=function(X,ee,we,Ae){if(typeof X=="string"){if(typeof ee=="string"?(Ae=ee,ee=0,we=this.length):typeof we=="string"&&(Ae=we,we=this.length),Ae!==void 0&&typeof Ae!="string")throw new TypeError("encoding must be a string");if(typeof Ae=="string"&&!a.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);if(X.length===1){const Fe=X.charCodeAt(0);(Ae==="utf8"&&Fe<128||Ae==="latin1")&&(X=Fe)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(ee<0||this.length<ee||this.length<we)throw new RangeError("Out of range index");if(we<=ee)return this;ee=ee>>>0,we=we===void 0?this.length:we>>>0,X||(X=0);let Pe;if(typeof X=="number")for(Pe=ee;Pe<we;++Pe)this[Pe]=X;else{const Fe=a.isBuffer(X)?X:a.from(X,Ae),en=Fe.length;if(en===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Pe=0;Pe<we-ee;++Pe)this[Pe+ee]=Fe[Pe%en]}return this};const ge={};function be(ce,X,ee){ge[ce]=class extends ee{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,this.stack,delete this.name}get code(){return ce}set code(Ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ae,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(ce,X){return`The "${ce}" argument must be of type number. Received type ${typeof X}`},TypeError),be("ERR_OUT_OF_RANGE",function(ce,X,ee){let we=`The value of "${ce}" is out of range.`,Ae=ee;return Number.isInteger(ee)&&Math.abs(ee)>2**32?Ae=Le(String(ee)):typeof ee=="bigint"&&(Ae=String(ee),(ee>BigInt(2)**BigInt(32)||ee<-(BigInt(2)**BigInt(32)))&&(Ae=Le(Ae)),Ae+="n"),we+=` It must be ${X}. Received ${Ae}`,we},RangeError);function Le(ce){let X="",ee=ce.length;const we=ce[0]==="-"?1:0;for(;ee>=we+4;ee-=3)X=`_${ce.slice(ee-3,ee)}${X}`;return`${ce.slice(0,ee)}${X}`}function qe(ce,X,ee){gt(X,"offset"),(ce[X]===void 0||ce[X+ee]===void 0)&&tt(X,ce.length-(ee+1))}function Me(ce,X,ee,we,Ae,Pe){if(ce>ee||ce<X){const Fe=typeof X=="bigint"?"n":"";let en;throw X===0||X===BigInt(0)?en=`>= 0${Fe} and < 2${Fe} ** ${(Pe+1)*8}${Fe}`:en=`>= -(2${Fe} ** ${(Pe+1)*8-1}${Fe}) and < 2 ** ${(Pe+1)*8-1}${Fe}`,new ge.ERR_OUT_OF_RANGE("value",en,ce)}qe(we,Ae,Pe)}function gt(ce,X){if(typeof ce!="number")throw new ge.ERR_INVALID_ARG_TYPE(X,"number",ce)}function tt(ce,X,ee){throw Math.floor(ce)!==ce?(gt(ce,ee),new ge.ERR_OUT_OF_RANGE("offset","an integer",ce)):X<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,ce)}const dt=/[^+/0-9A-Za-z-_]/g;function Xt(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(dt,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function lt(ce,X){X=X||1/0;let ee;const we=ce.length;let Ae=null;const Pe=[];for(let Fe=0;Fe<we;++Fe){if(ee=ce.charCodeAt(Fe),ee>55295&&ee<57344){if(!Ae){if(ee>56319){(X-=3)>-1&&Pe.push(239,191,189);continue}else if(Fe+1===we){(X-=3)>-1&&Pe.push(239,191,189);continue}Ae=ee;continue}if(ee<56320){(X-=3)>-1&&Pe.push(239,191,189),Ae=ee;continue}ee=(Ae-55296<<10|ee-56320)+65536}else Ae&&(X-=3)>-1&&Pe.push(239,191,189);if(Ae=null,ee<128){if((X-=1)<0)break;Pe.push(ee)}else if(ee<2048){if((X-=2)<0)break;Pe.push(ee>>6|192,ee&63|128)}else if(ee<65536){if((X-=3)<0)break;Pe.push(ee>>12|224,ee>>6&63|128,ee&63|128)}else if(ee<1114112){if((X-=4)<0)break;Pe.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,ee&63|128)}else throw new Error("Invalid code point")}return Pe}function jt(ce){const X=[];for(let ee=0;ee<ce.length;++ee)X.push(ce.charCodeAt(ee)&255);return X}function rn(ce,X){let ee,we,Ae;const Pe=[];for(let Fe=0;Fe<ce.length&&!((X-=2)<0);++Fe)ee=ce.charCodeAt(Fe),we=ee>>8,Ae=ee%256,Pe.push(Ae),Pe.push(we);return Pe}function Re(ce){return t.toByteArray(Xt(ce))}function Ze(ce,X,ee,we){let Ae;for(Ae=0;Ae<we&&!(Ae+ee>=X.length||Ae>=ce.length);++Ae)X[Ae+ee]=ce[Ae];return Ae}function ct(ce,X){return ce instanceof X||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===X.name}function st(ce){return ce!==ce}const vt=(function(){const ce="0123456789abcdef",X=new Array(256);for(let ee=0;ee<16;++ee){const we=ee*16;for(let Ae=0;Ae<16;++Ae)X[we+Ae]=ce[ee]+ce[Ae]}return X})();function $t(ce){return typeof BigInt>"u"?zt:ce}function zt(){throw new Error("BigInt not supported")}})(R5)),R5}var Te=oM(),x=iM();const Vt=Rr(x);var tk={},T5={exports:{}},wa={},O5={exports:{}},N5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PF;function B_e(){return PF||(PF=1,(function(e){function t(j,V){var K=j.length;j.push(V);e:for(;0<K;){var W=K-1>>>1,P=j[W];if(0<i(P,V))j[W]=V,j[K]=P,K=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var V=j[0],K=j.pop();if(K!==V){j[0]=K;e:for(var W=0,P=j.length,F=P>>>1;W<F;){var G=2*(W+1)-1,Y=j[G],ie=G+1,ye=j[ie];if(0>i(Y,K))ie<P&&0>i(ye,Y)?(j[W]=ye,j[ie]=K,W=ie):(j[W]=Y,j[G]=K,W=G);else if(ie<P&&0>i(ye,K))j[W]=ye,j[ie]=K,W=ie;else break e}}return V}function i(j,V){var K=j.sortIndex-V.sortIndex;return K!==0?K:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,m=!1,v=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=j)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function R(j){if(y=!1,_(j),!v)if(n(l)!==null)v=!0,O(I);else{var V=n(c);V!==null&&N(R,V.startTime-j)}}function I(j,V){v=!1,y&&(y=!1,b(M),M=-1),m=!0;var K=h;try{for(_(V),u=n(l);u!==null&&(!(u.expirationTime>V)||j&&!$());){var W=u.callback;if(typeof W=="function"){u.callback=null,h=u.priorityLevel;var P=W(u.expirationTime<=V);V=e.unstable_now(),typeof P=="function"?u.callback=P:u===n(l)&&r(l),_(V)}else r(l);u=n(l)}if(u!==null)var F=!0;else{var G=n(c);G!==null&&N(R,G.startTime-V),F=!1}return F}finally{u=null,h=K,m=!1}}var T=!1,D=null,M=-1,C=5,U=-1;function $(){return!(e.unstable_now()-U<C)}function z(){if(D!==null){var j=e.unstable_now();U=j;var V=!0;try{V=D(!0,j)}finally{V?q():(T=!1,D=null)}}else T=!1}var q;if(typeof k=="function")q=function(){k(z)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,A=S.port2;S.port1.onmessage=z,q=function(){A.postMessage(null)}}else q=function(){g(z,0)};function O(j){D=j,T||(T=!0,q())}function N(j,V){M=g(function(){j(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,O(I))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var K=h;h=V;try{return j()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return V()}finally{h=K}},e.unstable_scheduleCallback=function(j,V,K){var W=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?W+K:W):K=W,j){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=K+P,j={id:d++,callback:V,priorityLevel:j,startTime:K,expirationTime:P,sortIndex:-1},K>W?(j.sortIndex=K,t(c,j),n(l)===null&&j===n(c)&&(y?(b(M),M=-1):y=!0,N(R,K-W))):(j.sortIndex=P,t(l,j),v||m||(v=!0,O(I))),j},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(j){var V=h;return function(){var K=h;h=V;try{return j.apply(this,arguments)}finally{h=K}}}})(N5)),N5}var BF;function M_e(){return BF||(BF=1,O5.exports=B_e()),O5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MF;function D_e(){if(MF)return wa;MF=1;var e=iM(),t=M_e();function n(p){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+p,E=1;E<arguments.length;E++)w+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+p+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(p,w){s(p,w),s(p+"Capture",w)}function s(p,w){for(i[p]=w,p=0;p<w.length;p++)r.add(w[p])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},u={};function h(p){return l.call(u,p)?!0:l.call(d,p)?!1:c.test(p)?u[p]=!0:(d[p]=!0,!1)}function m(p,w,E,L){if(E!==null&&E.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return L?!1:E!==null?!E.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function v(p,w,E,L){if(w===null||typeof w>"u"||m(p,w,E,L))return!0;if(L)return!1;if(E!==null)switch(E.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function y(p,w,E,L,J,Q,ue){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=L,this.attributeNamespace=J,this.mustUseProperty=E,this.propertyName=p,this.type=w,this.sanitizeURL=Q,this.removeEmptyString=ue}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){g[p]=new y(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var w=p[0];g[w]=new y(w,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){g[p]=new y(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){g[p]=new y(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){g[p]=new y(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){g[p]=new y(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){g[p]=new y(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){g[p]=new y(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){g[p]=new y(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function k(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var w=p.replace(b,k);g[w]=new y(w,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var w=p.replace(b,k);g[w]=new y(w,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var w=p.replace(b,k);g[w]=new y(w,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){g[p]=new y(p,1,!1,p.toLowerCase(),null,!1,!1)}),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){g[p]=new y(p,1,!1,p.toLowerCase(),null,!0,!0)});function _(p,w,E,L){var J=g.hasOwnProperty(w)?g[w]:null;(J!==null?J.type!==0:L||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(v(w,E,J,L)&&(E=null),L||J===null?h(w)&&(E===null?p.removeAttribute(w):p.setAttribute(w,""+E)):J.mustUseProperty?p[J.propertyName]=E===null?J.type===3?!1:"":E:(w=J.attributeName,L=J.attributeNamespace,E===null?p.removeAttribute(w):(J=J.type,E=J===3||J===4&&E===!0?"":""+E,L?p.setAttributeNS(L,w,E):p.setAttribute(w,E))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),j=Symbol.iterator;function V(p){return p===null||typeof p!="object"?null:(p=j&&p[j]||p["@@iterator"],typeof p=="function"?p:null)}var K=Object.assign,W;function P(p){if(W===void 0)try{throw Error()}catch(E){var w=E.stack.trim().match(/\n( *(at )?)/);W=w&&w[1]||""}return`
`+W+p}var F=!1;function G(p,w){if(!p||F)return"";F=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(He){var L=He}Reflect.construct(p,[],w)}else{try{w.call()}catch(He){L=He}p.call(w.prototype)}else{try{throw Error()}catch(He){L=He}p()}}catch(He){if(He&&L&&typeof He.stack=="string"){for(var J=He.stack.split(`
`),Q=L.stack.split(`
`),ue=J.length-1,xe=Q.length-1;1<=ue&&0<=xe&&J[ue]!==Q[xe];)xe--;for(;1<=ue&&0<=xe;ue--,xe--)if(J[ue]!==Q[xe]){if(ue!==1||xe!==1)do if(ue--,xe--,0>xe||J[ue]!==Q[xe]){var Ce=`
`+J[ue].replace(" at new "," at ");return p.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",p.displayName)),Ce}while(1<=ue&&0<=xe);break}}}finally{F=!1,Error.prepareStackTrace=E}return(p=p?p.displayName||p.name:"")?P(p):""}function Y(p){switch(p.tag){case 5:return P(p.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return p=G(p.type,!1),p;case 11:return p=G(p.type.render,!1),p;case 1:return p=G(p.type,!0),p;default:return""}}function ie(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case D:return"Fragment";case T:return"Portal";case C:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case S:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case $:return(p.displayName||"Context")+".Consumer";case U:return(p._context.displayName||"Context")+".Provider";case z:var w=p.render;return p=p.displayName,p||(p=w.displayName||w.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case A:return w=p.displayName||null,w!==null?w:ie(p.type)||"Memo";case O:w=p._payload,p=p._init;try{return ie(p(w))}catch{}}return null}function ye(p){var w=p.type;switch(p.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=w.render,p=p.displayName||p.name||"",w.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(w);case 8:return w===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function ge(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function be(p){var w=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function Le(p){var w=be(p)?"checked":"value",E=Object.getOwnPropertyDescriptor(p.constructor.prototype,w),L=""+p[w];if(!p.hasOwnProperty(w)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var J=E.get,Q=E.set;return Object.defineProperty(p,w,{configurable:!0,get:function(){return J.call(this)},set:function(ue){L=""+ue,Q.call(this,ue)}}),Object.defineProperty(p,w,{enumerable:E.enumerable}),{getValue:function(){return L},setValue:function(ue){L=""+ue},stopTracking:function(){p._valueTracker=null,delete p[w]}}}}function qe(p){p._valueTracker||(p._valueTracker=Le(p))}function Me(p){if(!p)return!1;var w=p._valueTracker;if(!w)return!0;var E=w.getValue(),L="";return p&&(L=be(p)?p.checked?"true":"false":p.value),p=L,p!==E?(w.setValue(p),!0):!1}function gt(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function tt(p,w){var E=w.checked;return K({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??p._wrapperState.initialChecked})}function dt(p,w){var E=w.defaultValue==null?"":w.defaultValue,L=w.checked!=null?w.checked:w.defaultChecked;E=ge(w.value!=null?w.value:E),p._wrapperState={initialChecked:L,initialValue:E,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function Xt(p,w){w=w.checked,w!=null&&_(p,"checked",w,!1)}function lt(p,w){Xt(p,w);var E=ge(w.value),L=w.type;if(E!=null)L==="number"?(E===0&&p.value===""||p.value!=E)&&(p.value=""+E):p.value!==""+E&&(p.value=""+E);else if(L==="submit"||L==="reset"){p.removeAttribute("value");return}w.hasOwnProperty("value")?rn(p,w.type,E):w.hasOwnProperty("defaultValue")&&rn(p,w.type,ge(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(p.defaultChecked=!!w.defaultChecked)}function jt(p,w,E){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var L=w.type;if(!(L!=="submit"&&L!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+p._wrapperState.initialValue,E||w===p.value||(p.value=w),p.defaultValue=w}E=p.name,E!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,E!==""&&(p.name=E)}function rn(p,w,E){(w!=="number"||gt(p.ownerDocument)!==p)&&(E==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+E&&(p.defaultValue=""+E))}var Re=Array.isArray;function Ze(p,w,E,L){if(p=p.options,w){w={};for(var J=0;J<E.length;J++)w["$"+E[J]]=!0;for(E=0;E<p.length;E++)J=w.hasOwnProperty("$"+p[E].value),p[E].selected!==J&&(p[E].selected=J),J&&L&&(p[E].defaultSelected=!0)}else{for(E=""+ge(E),w=null,J=0;J<p.length;J++){if(p[J].value===E){p[J].selected=!0,L&&(p[J].defaultSelected=!0);return}w!==null||p[J].disabled||(w=p[J])}w!==null&&(w.selected=!0)}}function ct(p,w){if(w.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},w,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function st(p,w){var E=w.value;if(E==null){if(E=w.children,w=w.defaultValue,E!=null){if(w!=null)throw Error(n(92));if(Re(E)){if(1<E.length)throw Error(n(93));E=E[0]}w=E}w==null&&(w=""),E=w}p._wrapperState={initialValue:ge(E)}}function vt(p,w){var E=ge(w.value),L=ge(w.defaultValue);E!=null&&(E=""+E,E!==p.value&&(p.value=E),w.defaultValue==null&&p.defaultValue!==E&&(p.defaultValue=E)),L!=null&&(p.defaultValue=""+L)}function $t(p){var w=p.textContent;w===p._wrapperState.initialValue&&w!==""&&w!==null&&(p.value=w)}function zt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(p,w){return p==null||p==="http://www.w3.org/1999/xhtml"?zt(w):p==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var X,ee=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,E,L,J){MSApp.execUnsafeLocalFunction(function(){return p(w,E,L,J)})}:p})(function(p,w){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=w;else{for(X=X||document.createElement("div"),X.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=X.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;w.firstChild;)p.appendChild(w.firstChild)}});function we(p,w){if(w){var E=p.firstChild;if(E&&E===p.lastChild&&E.nodeType===3){E.nodeValue=w;return}}p.textContent=w}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pe=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(p){Pe.forEach(function(w){w=w+p.charAt(0).toUpperCase()+p.substring(1),Ae[w]=Ae[p]})});function Fe(p,w,E){return w==null||typeof w=="boolean"||w===""?"":E||typeof w!="number"||w===0||Ae.hasOwnProperty(p)&&Ae[p]?(""+w).trim():w+"px"}function en(p,w){p=p.style;for(var E in w)if(w.hasOwnProperty(E)){var L=E.indexOf("--")===0,J=Fe(E,w[E],L);E==="float"&&(E="cssFloat"),L?p.setProperty(E,J):p[E]=J}}var on=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tn(p,w){if(w){if(on[p]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(n(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(n(61))}if(w.style!=null&&typeof w.style!="object")throw Error(n(62))}}function Bn(p,w){if(p.indexOf("-")===-1)return typeof w.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jt=null;function hr(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Wa=null,pr=null,wr=null;function uc(p){if(p=Gv(p)){if(typeof Wa!="function")throw Error(n(280));var w=p.stateNode;w&&(w=mx(w),Wa(p.stateNode,p.type,w))}}function ir(p){pr?wr?wr.push(p):wr=[p]:pr=p}function sr(){if(pr){var p=pr,w=wr;if(wr=pr=null,uc(p),w)for(p=0;p<w.length;p++)uc(w[p])}}function Qo(p,w){return p(w)}function Or(){}var Ir=!1;function fc(p,w,E){if(Ir)return p(w,E);Ir=!0;try{return Qo(p,w,E)}finally{Ir=!1,(pr!==null||wr!==null)&&(Or(),sr())}}function Er(p,w){var E=p.stateNode;if(E===null)return null;var L=mx(E);if(L===null)return null;E=L[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(p=p.type,L=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!L;break e;default:p=!1}if(p)return null;if(E&&typeof E!="function")throw Error(n(231,w,typeof E));return E}var Fn=!1;if(a)try{var es={};Object.defineProperty(es,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Fn=!1}function ne(p,w,E,L,J,Q,ue,xe,Ce){var He=Array.prototype.slice.call(arguments,3);try{w.apply(E,He)}catch(ht){this.onError(ht)}}var fe=!1,he=null,Z=!1,ve=null,Be={onError:function(p){fe=!0,he=p}};function Ne(p,w,E,L,J,Q,ue,xe,Ce){fe=!1,he=null,ne.apply(Be,arguments)}function Ge(p,w,E,L,J,Q,ue,xe,Ce){if(Ne.apply(this,arguments),fe){if(fe){var He=he;fe=!1,he=null}else throw Error(n(198));Z||(Z=!0,ve=He)}}function ut(p){var w=p,E=p;if(p.alternate)for(;w.return;)w=w.return;else{p=w;do w=p,(w.flags&4098)!==0&&(E=w.return),p=w.return;while(p)}return w.tag===3?E:null}function bt(p){if(p.tag===13){var w=p.memoizedState;if(w===null&&(p=p.alternate,p!==null&&(w=p.memoizedState)),w!==null)return w.dehydrated}return null}function Ye(p){if(ut(p)!==p)throw Error(n(188))}function jn(p){var w=p.alternate;if(!w){if(w=ut(p),w===null)throw Error(n(188));return w!==p?null:p}for(var E=p,L=w;;){var J=E.return;if(J===null)break;var Q=J.alternate;if(Q===null){if(L=J.return,L!==null){E=L;continue}break}if(J.child===Q.child){for(Q=J.child;Q;){if(Q===E)return Ye(J),p;if(Q===L)return Ye(J),w;Q=Q.sibling}throw Error(n(188))}if(E.return!==L.return)E=J,L=Q;else{for(var ue=!1,xe=J.child;xe;){if(xe===E){ue=!0,E=J,L=Q;break}if(xe===L){ue=!0,L=J,E=Q;break}xe=xe.sibling}if(!ue){for(xe=Q.child;xe;){if(xe===E){ue=!0,E=Q,L=J;break}if(xe===L){ue=!0,L=Q,E=J;break}xe=xe.sibling}if(!ue)throw Error(n(189))}}if(E.alternate!==L)throw Error(n(190))}if(E.tag!==3)throw Error(n(188));return E.stateNode.current===E?p:w}function Et(p){return p=jn(p),p!==null?Zt(p):null}function Zt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var w=Zt(p);if(w!==null)return w;p=p.sibling}return null}var dn=t.unstable_scheduleCallback,yn=t.unstable_cancelCallback,vn=t.unstable_shouldYield,un=t.unstable_requestPaint,Rt=t.unstable_now,hn=t.unstable_getCurrentPriorityLevel,Tt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,St=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,_t=null,Ue=null;function Ve(p){if(Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(_t,p,void 0,(p.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:pt,Qe=Math.log,nt=Math.LN2;function pt(p){return p>>>=0,p===0?32:31-(Qe(p)/nt|0)|0}var Wt=64,mn=4194304;function gn(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function _n(p,w){var E=p.pendingLanes;if(E===0)return 0;var L=0,J=p.suspendedLanes,Q=p.pingedLanes,ue=E&268435455;if(ue!==0){var xe=ue&~J;xe!==0?L=gn(xe):(Q&=ue,Q!==0&&(L=gn(Q)))}else ue=E&~J,ue!==0?L=gn(ue):Q!==0&&(L=gn(Q));if(L===0)return 0;if(w!==0&&w!==L&&(w&J)===0&&(J=L&-L,Q=w&-w,J>=Q||J===16&&(Q&4194240)!==0))return w;if((L&4)!==0&&(L|=E&16),w=p.entangledLanes,w!==0)for(p=p.entanglements,w&=L;0<w;)E=31-et(w),J=1<<E,L|=p[E],w&=~J;return L}function Ee(p,w){switch(p){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(p,w){for(var E=p.suspendedLanes,L=p.pingedLanes,J=p.expirationTimes,Q=p.pendingLanes;0<Q;){var ue=31-et(Q),xe=1<<ue,Ce=J[ue];Ce===-1?((xe&E)===0||(xe&L)!==0)&&(J[ue]=Ee(xe,w)):Ce<=w&&(p.expiredLanes|=xe),Q&=~xe}}function $n(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Gn(){var p=Wt;return Wt<<=1,(Wt&4194240)===0&&(Wt=64),p}function In(p){for(var w=[],E=0;31>E;E++)w.push(p);return w}function Mn(p,w,E){p.pendingLanes|=w,w!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,w=31-et(w),p[w]=E}function Nn(p,w){var E=p.pendingLanes&~w;p.pendingLanes=w,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=w,p.mutableReadLanes&=w,p.entangledLanes&=w,w=p.entanglements;var L=p.eventTimes;for(p=p.expirationTimes;0<E;){var J=31-et(E),Q=1<<J;w[J]=0,L[J]=-1,p[J]=-1,E&=~Q}}function Dr(p,w){var E=p.entangledLanes|=w;for(p=p.entanglements;E;){var L=31-et(E),J=1<<L;J&w|p[L]&w&&(p[L]|=w),E&=~J}}var Yt=0;function Wr(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var ar,Cr,Gr,Di,lr,Ei=!1,Zd=[],El=null,hc=null,qa=null,Yd=new Map,lf=new Map,ed=[],Pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q_(p,w){switch(p){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":hc=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Yd.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(w.pointerId)}}function Cl(p,w,E,L,J,Q){return p===null||p.nativeEvent!==Q?(p={blockedOn:w,domEventName:E,eventSystemFlags:L,nativeEvent:Q,targetContainers:[J]},w!==null&&(w=Gv(w),w!==null&&Cr(w)),p):(p.eventSystemFlags|=L,w=p.targetContainers,J!==null&&w.indexOf(J)===-1&&w.push(J),p)}function tC(p,w,E,L,J){switch(w){case"focusin":return El=Cl(El,p,w,E,L,J),!0;case"dragenter":return hc=Cl(hc,p,w,E,L,J),!0;case"mouseover":return qa=Cl(qa,p,w,E,L,J),!0;case"pointerover":var Q=J.pointerId;return Yd.set(Q,Cl(Yd.get(Q)||null,p,w,E,L,J)),!0;case"gotpointercapture":return Q=J.pointerId,lf.set(Q,Cl(lf.get(Q)||null,p,w,E,L,J)),!0}return!1}function Bv(p){var w=dp(p.target);if(w!==null){var E=ut(w);if(E!==null){if(w=E.tag,w===13){if(w=bt(E),w!==null){p.blockedOn=w,lr(p.priority,function(){Gr(E)});return}}else if(w===3&&E.stateNode.current.memoizedState.isDehydrated){p.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}p.blockedOn=null}function ap(p){if(p.blockedOn!==null)return!1;for(var w=p.targetContainers;0<w.length;){var E=Dv(p.domEventName,p.eventSystemFlags,w[0],p.nativeEvent);if(E===null){E=p.nativeEvent;var L=new E.constructor(E.type,E);Jt=L,E.target.dispatchEvent(L),Jt=null}else return w=Gv(E),w!==null&&Cr(w),p.blockedOn=E,!1;w.shift()}return!0}function Mv(p,w,E){ap(p)&&E.delete(w)}function ex(){Ei=!1,El!==null&&ap(El)&&(El=null),hc!==null&&ap(hc)&&(hc=null),qa!==null&&ap(qa)&&(qa=null),Yd.forEach(Mv),lf.forEach(Mv)}function cf(p,w){p.blockedOn===w&&(p.blockedOn=null,Ei||(Ei=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ex)))}function df(p){function w(J){return cf(J,p)}if(0<Zd.length){cf(Zd[0],p);for(var E=1;E<Zd.length;E++){var L=Zd[E];L.blockedOn===p&&(L.blockedOn=null)}}for(El!==null&&cf(El,p),hc!==null&&cf(hc,p),qa!==null&&cf(qa,p),Yd.forEach(w),lf.forEach(w),E=0;E<ed.length;E++)L=ed[E],L.blockedOn===p&&(L.blockedOn=null);for(;0<ed.length&&(E=ed[0],E.blockedOn===null);)Bv(E),E.blockedOn===null&&ed.shift()}var Xd=R.ReactCurrentBatchConfig,lp=!0;function tx(p,w,E,L){var J=Yt,Q=Xd.transition;Xd.transition=null;try{Yt=1,xg(p,w,E,L)}finally{Yt=J,Xd.transition=Q}}function nx(p,w,E,L){var J=Yt,Q=Xd.transition;Xd.transition=null;try{Yt=4,xg(p,w,E,L)}finally{Yt=J,Xd.transition=Q}}function xg(p,w,E,L){if(lp){var J=Dv(p,w,E,L);if(J===null)yC(p,w,L,cp,E),Q_(p,L);else if(tC(J,p,w,E,L))L.stopPropagation();else if(Q_(p,L),w&4&&-1<Pv.indexOf(p)){for(;J!==null;){var Q=Gv(J);if(Q!==null&&ar(Q),Q=Dv(p,w,E,L),Q===null&&yC(p,w,L,cp,E),Q===J)break;J=Q}J!==null&&L.stopPropagation()}else yC(p,w,L,null,E)}}var cp=null;function Dv(p,w,E,L){if(cp=null,p=hr(L),p=dp(p),p!==null)if(w=ut(p),w===null)p=null;else if(E=w.tag,E===13){if(p=bt(w),p!==null)return p;p=null}else if(E===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;p=null}else w!==p&&(p=null);return cp=p,null}function rx(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hn()){case Tt:return 1;case Ft:return 4;case St:case Pt:return 16;case Dt:return 536870912;default:return 16}default:return 16}}var qr=null,kg=null,ix=null;function hL(){if(ix)return ix;var p,w=kg,E=w.length,L,J="value"in qr?qr.value:qr.textContent,Q=J.length;for(p=0;p<E&&w[p]===J[p];p++);var ue=E-p;for(L=1;L<=ue&&w[E-L]===J[Q-L];L++);return ix=J.slice(p,1<L?1-L:void 0)}function ox(p){var w=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&w===13&&(p=13)):p=w,p===10&&(p=13),32<=p||p===13?p:0}function sx(){return!0}function pL(){return!1}function za(p){function w(E,L,J,Q,ue){this._reactName=E,this._targetInst=J,this.type=L,this.nativeEvent=Q,this.target=ue,this.currentTarget=null;for(var xe in p)p.hasOwnProperty(xe)&&(E=p[xe],this[xe]=E?E(Q):Q[xe]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?sx:pL,this.isPropagationStopped=pL,this}return K(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=sx)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=sx)},persist:function(){},isPersistent:sx}),w}var Sg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nC=za(Sg),jv=K({},Sg,{view:0,detail:0}),e1e=za(jv),rC,iC,$v,ax=K({},jv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sC,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==$v&&($v&&p.type==="mousemove"?(rC=p.screenX-$v.screenX,iC=p.screenY-$v.screenY):iC=rC=0,$v=p),rC)},movementY:function(p){return"movementY"in p?p.movementY:iC}}),mL=za(ax),t1e=K({},ax,{dataTransfer:0}),n1e=za(t1e),r1e=K({},jv,{relatedTarget:0}),oC=za(r1e),i1e=K({},Sg,{animationName:0,elapsedTime:0,pseudoElement:0}),o1e=za(i1e),s1e=K({},Sg,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),a1e=za(s1e),l1e=K({},Sg,{data:0}),gL=za(l1e),c1e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d1e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u1e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f1e(p){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(p):(p=u1e[p])?!!w[p]:!1}function sC(){return f1e}var h1e=K({},jv,{key:function(p){if(p.key){var w=c1e[p.key]||p.key;if(w!=="Unidentified")return w}return p.type==="keypress"?(p=ox(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?d1e[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sC,charCode:function(p){return p.type==="keypress"?ox(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?ox(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),p1e=za(h1e),m1e=K({},ax,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yL=za(m1e),g1e=K({},jv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sC}),y1e=za(g1e),v1e=K({},Sg,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1e=za(v1e),b1e=K({},ax,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),_1e=za(b1e),x1e=[9,13,27,32],aC=a&&"CompositionEvent"in window,Lv=null;a&&"documentMode"in document&&(Lv=document.documentMode);var k1e=a&&"TextEvent"in window&&!Lv,vL=a&&(!aC||Lv&&8<Lv&&11>=Lv),wL=" ",bL=!1;function _L(p,w){switch(p){case"keyup":return x1e.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xL(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Ig=!1;function S1e(p,w){switch(p){case"compositionend":return xL(w);case"keypress":return w.which!==32?null:(bL=!0,wL);case"textInput":return p=w.data,p===wL&&bL?null:p;default:return null}}function I1e(p,w){if(Ig)return p==="compositionend"||!aC&&_L(p,w)?(p=hL(),ix=kg=qr=null,Ig=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return vL&&w.locale!=="ko"?null:w.data;default:return null}}var E1e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kL(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w==="input"?!!E1e[p.type]:w==="textarea"}function SL(p,w,E,L){ir(L),w=fx(w,"onChange"),0<w.length&&(E=new nC("onChange","change",null,E,L),p.push({event:E,listeners:w}))}var Uv=null,Fv=null;function C1e(p){WL(p,0)}function lx(p){var w=Tg(p);if(Me(w))return p}function A1e(p,w){if(p==="change")return w}var IL=!1;if(a){var lC;if(a){var cC="oninput"in document;if(!cC){var EL=document.createElement("div");EL.setAttribute("oninput","return;"),cC=typeof EL.oninput=="function"}lC=cC}else lC=!1;IL=lC&&(!document.documentMode||9<document.documentMode)}function CL(){Uv&&(Uv.detachEvent("onpropertychange",AL),Fv=Uv=null)}function AL(p){if(p.propertyName==="value"&&lx(Fv)){var w=[];SL(w,Fv,p,hr(p)),fc(C1e,w)}}function R1e(p,w,E){p==="focusin"?(CL(),Uv=w,Fv=E,Uv.attachEvent("onpropertychange",AL)):p==="focusout"&&CL()}function T1e(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return lx(Fv)}function O1e(p,w){if(p==="click")return lx(w)}function N1e(p,w){if(p==="input"||p==="change")return lx(w)}function P1e(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var pc=typeof Object.is=="function"?Object.is:P1e;function Wv(p,w){if(pc(p,w))return!0;if(typeof p!="object"||p===null||typeof w!="object"||w===null)return!1;var E=Object.keys(p),L=Object.keys(w);if(E.length!==L.length)return!1;for(L=0;L<E.length;L++){var J=E[L];if(!l.call(w,J)||!pc(p[J],w[J]))return!1}return!0}function RL(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function TL(p,w){var E=RL(p);p=0;for(var L;E;){if(E.nodeType===3){if(L=p+E.textContent.length,p<=w&&L>=w)return{node:E,offset:w-p};p=L}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=RL(E)}}function OL(p,w){return p&&w?p===w?!0:p&&p.nodeType===3?!1:w&&w.nodeType===3?OL(p,w.parentNode):"contains"in p?p.contains(w):p.compareDocumentPosition?!!(p.compareDocumentPosition(w)&16):!1:!1}function NL(){for(var p=window,w=gt();w instanceof p.HTMLIFrameElement;){try{var E=typeof w.contentWindow.location.href=="string"}catch{E=!1}if(E)p=w.contentWindow;else break;w=gt(p.document)}return w}function dC(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w&&(w==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||w==="textarea"||p.contentEditable==="true")}function B1e(p){var w=NL(),E=p.focusedElem,L=p.selectionRange;if(w!==E&&E&&E.ownerDocument&&OL(E.ownerDocument.documentElement,E)){if(L!==null&&dC(E)){if(w=L.start,p=L.end,p===void 0&&(p=w),"selectionStart"in E)E.selectionStart=w,E.selectionEnd=Math.min(p,E.value.length);else if(p=(w=E.ownerDocument||document)&&w.defaultView||window,p.getSelection){p=p.getSelection();var J=E.textContent.length,Q=Math.min(L.start,J);L=L.end===void 0?Q:Math.min(L.end,J),!p.extend&&Q>L&&(J=L,L=Q,Q=J),J=TL(E,Q);var ue=TL(E,L);J&&ue&&(p.rangeCount!==1||p.anchorNode!==J.node||p.anchorOffset!==J.offset||p.focusNode!==ue.node||p.focusOffset!==ue.offset)&&(w=w.createRange(),w.setStart(J.node,J.offset),p.removeAllRanges(),Q>L?(p.addRange(w),p.extend(ue.node,ue.offset)):(w.setEnd(ue.node,ue.offset),p.addRange(w)))}}for(w=[],p=E;p=p.parentNode;)p.nodeType===1&&w.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<w.length;E++)p=w[E],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var M1e=a&&"documentMode"in document&&11>=document.documentMode,Eg=null,uC=null,qv=null,fC=!1;function PL(p,w,E){var L=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;fC||Eg==null||Eg!==gt(L)||(L=Eg,"selectionStart"in L&&dC(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),qv&&Wv(qv,L)||(qv=L,L=fx(uC,"onSelect"),0<L.length&&(w=new nC("onSelect","select",null,w,E),p.push({event:w,listeners:L}),w.target=Eg)))}function cx(p,w){var E={};return E[p.toLowerCase()]=w.toLowerCase(),E["Webkit"+p]="webkit"+w,E["Moz"+p]="moz"+w,E}var Cg={animationend:cx("Animation","AnimationEnd"),animationiteration:cx("Animation","AnimationIteration"),animationstart:cx("Animation","AnimationStart"),transitionend:cx("Transition","TransitionEnd")},hC={},BL={};a&&(BL=document.createElement("div").style,"AnimationEvent"in window||(delete Cg.animationend.animation,delete Cg.animationiteration.animation,delete Cg.animationstart.animation),"TransitionEvent"in window||delete Cg.transitionend.transition);function dx(p){if(hC[p])return hC[p];if(!Cg[p])return p;var w=Cg[p],E;for(E in w)if(w.hasOwnProperty(E)&&E in BL)return hC[p]=w[E];return p}var ML=dx("animationend"),DL=dx("animationiteration"),jL=dx("animationstart"),$L=dx("transitionend"),LL=new Map,UL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uf(p,w){LL.set(p,w),o(w,[p])}for(var pC=0;pC<UL.length;pC++){var mC=UL[pC],D1e=mC.toLowerCase(),j1e=mC[0].toUpperCase()+mC.slice(1);uf(D1e,"on"+j1e)}uf(ML,"onAnimationEnd"),uf(DL,"onAnimationIteration"),uf(jL,"onAnimationStart"),uf("dblclick","onDoubleClick"),uf("focusin","onFocus"),uf("focusout","onBlur"),uf($L,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1e=new Set("cancel close invalid load scroll toggle".split(" ").concat(zv));function FL(p,w,E){var L=p.type||"unknown-event";p.currentTarget=E,Ge(L,w,void 0,p),p.currentTarget=null}function WL(p,w){w=(w&4)!==0;for(var E=0;E<p.length;E++){var L=p[E],J=L.event;L=L.listeners;e:{var Q=void 0;if(w)for(var ue=L.length-1;0<=ue;ue--){var xe=L[ue],Ce=xe.instance,He=xe.currentTarget;if(xe=xe.listener,Ce!==Q&&J.isPropagationStopped())break e;FL(J,xe,He),Q=Ce}else for(ue=0;ue<L.length;ue++){if(xe=L[ue],Ce=xe.instance,He=xe.currentTarget,xe=xe.listener,Ce!==Q&&J.isPropagationStopped())break e;FL(J,xe,He),Q=Ce}}}if(Z)throw p=ve,Z=!1,ve=null,p}function ci(p,w){var E=w[kC];E===void 0&&(E=w[kC]=new Set);var L=p+"__bubble";E.has(L)||(qL(w,p,2,!1),E.add(L))}function gC(p,w,E){var L=0;w&&(L|=4),qL(E,p,L,w)}var ux="_reactListening"+Math.random().toString(36).slice(2);function Vv(p){if(!p[ux]){p[ux]=!0,r.forEach(function(E){E!=="selectionchange"&&($1e.has(E)||gC(E,!1,p),gC(E,!0,p))});var w=p.nodeType===9?p:p.ownerDocument;w===null||w[ux]||(w[ux]=!0,gC("selectionchange",!1,w))}}function qL(p,w,E,L){switch(rx(w)){case 1:var J=tx;break;case 4:J=nx;break;default:J=xg}E=J.bind(null,w,E,p),J=void 0,!Fn||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(J=!0),L?J!==void 0?p.addEventListener(w,E,{capture:!0,passive:J}):p.addEventListener(w,E,!0):J!==void 0?p.addEventListener(w,E,{passive:J}):p.addEventListener(w,E,!1)}function yC(p,w,E,L,J){var Q=L;if((w&1)===0&&(w&2)===0&&L!==null)e:for(;;){if(L===null)return;var ue=L.tag;if(ue===3||ue===4){var xe=L.stateNode.containerInfo;if(xe===J||xe.nodeType===8&&xe.parentNode===J)break;if(ue===4)for(ue=L.return;ue!==null;){var Ce=ue.tag;if((Ce===3||Ce===4)&&(Ce=ue.stateNode.containerInfo,Ce===J||Ce.nodeType===8&&Ce.parentNode===J))return;ue=ue.return}for(;xe!==null;){if(ue=dp(xe),ue===null)return;if(Ce=ue.tag,Ce===5||Ce===6){L=Q=ue;continue e}xe=xe.parentNode}}L=L.return}fc(function(){var He=Q,ht=hr(E),yt=[];e:{var ft=LL.get(p);if(ft!==void 0){var Lt=nC,Kt=p;switch(p){case"keypress":if(ox(E)===0)break e;case"keydown":case"keyup":Lt=p1e;break;case"focusin":Kt="focus",Lt=oC;break;case"focusout":Kt="blur",Lt=oC;break;case"beforeblur":case"afterblur":Lt=oC;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=mL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=n1e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=y1e;break;case ML:case DL:case jL:Lt=o1e;break;case $L:Lt=w1e;break;case"scroll":Lt=e1e;break;case"wheel":Lt=_1e;break;case"copy":case"cut":case"paste":Lt=a1e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=yL}var Gt=(w&4)!==0,Xi=!Gt&&p==="scroll",$e=Gt?ft!==null?ft+"Capture":null:ft;Gt=[];for(var Oe=He,We;Oe!==null;){We=Oe;var wt=We.stateNode;if(We.tag===5&&wt!==null&&(We=wt,$e!==null&&(wt=Er(Oe,$e),wt!=null&&Gt.push(Kv(Oe,wt,We)))),Xi)break;Oe=Oe.return}0<Gt.length&&(ft=new Lt(ft,Kt,null,E,ht),yt.push({event:ft,listeners:Gt}))}}if((w&7)===0){e:{if(ft=p==="mouseover"||p==="pointerover",Lt=p==="mouseout"||p==="pointerout",ft&&E!==Jt&&(Kt=E.relatedTarget||E.fromElement)&&(dp(Kt)||Kt[Qd]))break e;if((Lt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,Lt?(Kt=E.relatedTarget||E.toElement,Lt=He,Kt=Kt?dp(Kt):null,Kt!==null&&(Xi=ut(Kt),Kt!==Xi||Kt.tag!==5&&Kt.tag!==6)&&(Kt=null)):(Lt=null,Kt=He),Lt!==Kt)){if(Gt=mL,wt="onMouseLeave",$e="onMouseEnter",Oe="mouse",(p==="pointerout"||p==="pointerover")&&(Gt=yL,wt="onPointerLeave",$e="onPointerEnter",Oe="pointer"),Xi=Lt==null?ft:Tg(Lt),We=Kt==null?ft:Tg(Kt),ft=new Gt(wt,Oe+"leave",Lt,E,ht),ft.target=Xi,ft.relatedTarget=We,wt=null,dp(ht)===He&&(Gt=new Gt($e,Oe+"enter",Kt,E,ht),Gt.target=We,Gt.relatedTarget=Xi,wt=Gt),Xi=wt,Lt&&Kt)t:{for(Gt=Lt,$e=Kt,Oe=0,We=Gt;We;We=Ag(We))Oe++;for(We=0,wt=$e;wt;wt=Ag(wt))We++;for(;0<Oe-We;)Gt=Ag(Gt),Oe--;for(;0<We-Oe;)$e=Ag($e),We--;for(;Oe--;){if(Gt===$e||$e!==null&&Gt===$e.alternate)break t;Gt=Ag(Gt),$e=Ag($e)}Gt=null}else Gt=null;Lt!==null&&zL(yt,ft,Lt,Gt,!1),Kt!==null&&Xi!==null&&zL(yt,Xi,Kt,Gt,!0)}}e:{if(ft=He?Tg(He):window,Lt=ft.nodeName&&ft.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&ft.type==="file")var Qt=A1e;else if(kL(ft))if(IL)Qt=N1e;else{Qt=T1e;var wn=R1e}else(Lt=ft.nodeName)&&Lt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Qt=O1e);if(Qt&&(Qt=Qt(p,He))){SL(yt,Qt,E,ht);break e}wn&&wn(p,ft,He),p==="focusout"&&(wn=ft._wrapperState)&&wn.controlled&&ft.type==="number"&&rn(ft,"number",ft.value)}switch(wn=He?Tg(He):window,p){case"focusin":(kL(wn)||wn.contentEditable==="true")&&(Eg=wn,uC=He,qv=null);break;case"focusout":qv=uC=Eg=null;break;case"mousedown":fC=!0;break;case"contextmenu":case"mouseup":case"dragend":fC=!1,PL(yt,E,ht);break;case"selectionchange":if(M1e)break;case"keydown":case"keyup":PL(yt,E,ht)}var bn;if(aC)e:{switch(p){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else Ig?_L(p,E)&&(En="onCompositionEnd"):p==="keydown"&&E.keyCode===229&&(En="onCompositionStart");En&&(vL&&E.locale!=="ko"&&(Ig||En!=="onCompositionStart"?En==="onCompositionEnd"&&Ig&&(bn=hL()):(qr=ht,kg="value"in qr?qr.value:qr.textContent,Ig=!0)),wn=fx(He,En),0<wn.length&&(En=new gL(En,p,null,E,ht),yt.push({event:En,listeners:wn}),bn?En.data=bn:(bn=xL(E),bn!==null&&(En.data=bn)))),(bn=k1e?S1e(p,E):I1e(p,E))&&(He=fx(He,"onBeforeInput"),0<He.length&&(ht=new gL("onBeforeInput","beforeinput",null,E,ht),yt.push({event:ht,listeners:He}),ht.data=bn))}WL(yt,w)})}function Kv(p,w,E){return{instance:p,listener:w,currentTarget:E}}function fx(p,w){for(var E=w+"Capture",L=[];p!==null;){var J=p,Q=J.stateNode;J.tag===5&&Q!==null&&(J=Q,Q=Er(p,E),Q!=null&&L.unshift(Kv(p,Q,J)),Q=Er(p,w),Q!=null&&L.push(Kv(p,Q,J))),p=p.return}return L}function Ag(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function zL(p,w,E,L,J){for(var Q=w._reactName,ue=[];E!==null&&E!==L;){var xe=E,Ce=xe.alternate,He=xe.stateNode;if(Ce!==null&&Ce===L)break;xe.tag===5&&He!==null&&(xe=He,J?(Ce=Er(E,Q),Ce!=null&&ue.unshift(Kv(E,Ce,xe))):J||(Ce=Er(E,Q),Ce!=null&&ue.push(Kv(E,Ce,xe)))),E=E.return}ue.length!==0&&p.push({event:w,listeners:ue})}var L1e=/\r\n?/g,U1e=/\u0000|\uFFFD/g;function VL(p){return(typeof p=="string"?p:""+p).replace(L1e,`
`).replace(U1e,"")}function hx(p,w,E){if(w=VL(w),VL(p)!==w&&E)throw Error(n(425))}function px(){}var vC=null,wC=null;function bC(p,w){return p==="textarea"||p==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var _C=typeof setTimeout=="function"?setTimeout:void 0,F1e=typeof clearTimeout=="function"?clearTimeout:void 0,KL=typeof Promise=="function"?Promise:void 0,W1e=typeof queueMicrotask=="function"?queueMicrotask:typeof KL<"u"?function(p){return KL.resolve(null).then(p).catch(q1e)}:_C;function q1e(p){setTimeout(function(){throw p})}function xC(p,w){var E=w,L=0;do{var J=E.nextSibling;if(p.removeChild(E),J&&J.nodeType===8)if(E=J.data,E==="/$"){if(L===0){p.removeChild(J),df(w);return}L--}else E!=="$"&&E!=="$?"&&E!=="$!"||L++;E=J}while(E);df(w)}function ff(p){for(;p!=null;p=p.nextSibling){var w=p.nodeType;if(w===1||w===3)break;if(w===8){if(w=p.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return p}function HL(p){p=p.previousSibling;for(var w=0;p;){if(p.nodeType===8){var E=p.data;if(E==="$"||E==="$!"||E==="$?"){if(w===0)return p;w--}else E==="/$"&&w++}p=p.previousSibling}return null}var Rg=Math.random().toString(36).slice(2),td="__reactFiber$"+Rg,Hv="__reactProps$"+Rg,Qd="__reactContainer$"+Rg,kC="__reactEvents$"+Rg,z1e="__reactListeners$"+Rg,V1e="__reactHandles$"+Rg;function dp(p){var w=p[td];if(w)return w;for(var E=p.parentNode;E;){if(w=E[Qd]||E[td]){if(E=w.alternate,w.child!==null||E!==null&&E.child!==null)for(p=HL(p);p!==null;){if(E=p[td])return E;p=HL(p)}return w}p=E,E=p.parentNode}return null}function Gv(p){return p=p[td]||p[Qd],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Tg(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function mx(p){return p[Hv]||null}var SC=[],Og=-1;function hf(p){return{current:p}}function di(p){0>Og||(p.current=SC[Og],SC[Og]=null,Og--)}function Jr(p,w){Og++,SC[Og]=p.current,p.current=w}var pf={},Es=hf(pf),pa=hf(!1),up=pf;function Ng(p,w){var E=p.type.contextTypes;if(!E)return pf;var L=p.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===w)return L.__reactInternalMemoizedMaskedChildContext;var J={},Q;for(Q in E)J[Q]=w[Q];return L&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=w,p.__reactInternalMemoizedMaskedChildContext=J),J}function ma(p){return p=p.childContextTypes,p!=null}function gx(){di(pa),di(Es)}function GL(p,w,E){if(Es.current!==pf)throw Error(n(168));Jr(Es,w),Jr(pa,E)}function JL(p,w,E){var L=p.stateNode;if(w=w.childContextTypes,typeof L.getChildContext!="function")return E;L=L.getChildContext();for(var J in L)if(!(J in w))throw Error(n(108,ye(p)||"Unknown",J));return K({},E,L)}function yx(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||pf,up=Es.current,Jr(Es,p),Jr(pa,pa.current),!0}function ZL(p,w,E){var L=p.stateNode;if(!L)throw Error(n(169));E?(p=JL(p,w,up),L.__reactInternalMemoizedMergedChildContext=p,di(pa),di(Es),Jr(Es,p)):di(pa),Jr(pa,E)}var eu=null,vx=!1,IC=!1;function YL(p){eu===null?eu=[p]:eu.push(p)}function K1e(p){vx=!0,YL(p)}function mf(){if(!IC&&eu!==null){IC=!0;var p=0,w=Yt;try{var E=eu;for(Yt=1;p<E.length;p++){var L=E[p];do L=L(!0);while(L!==null)}eu=null,vx=!1}catch(J){throw eu!==null&&(eu=eu.slice(p+1)),dn(Tt,mf),J}finally{Yt=w,IC=!1}}return null}var Pg=[],Bg=0,wx=null,bx=0,Al=[],Rl=0,fp=null,tu=1,nu="";function hp(p,w){Pg[Bg++]=bx,Pg[Bg++]=wx,wx=p,bx=w}function XL(p,w,E){Al[Rl++]=tu,Al[Rl++]=nu,Al[Rl++]=fp,fp=p;var L=tu;p=nu;var J=32-et(L)-1;L&=~(1<<J),E+=1;var Q=32-et(w)+J;if(30<Q){var ue=J-J%5;Q=(L&(1<<ue)-1).toString(32),L>>=ue,J-=ue,tu=1<<32-et(w)+J|E<<J|L,nu=Q+p}else tu=1<<Q|E<<J|L,nu=p}function EC(p){p.return!==null&&(hp(p,1),XL(p,1,0))}function CC(p){for(;p===wx;)wx=Pg[--Bg],Pg[Bg]=null,bx=Pg[--Bg],Pg[Bg]=null;for(;p===fp;)fp=Al[--Rl],Al[Rl]=null,nu=Al[--Rl],Al[Rl]=null,tu=Al[--Rl],Al[Rl]=null}var Va=null,Ka=null,vi=!1,mc=null;function QL(p,w){var E=Pl(5,null,null,0);E.elementType="DELETED",E.stateNode=w,E.return=p,w=p.deletions,w===null?(p.deletions=[E],p.flags|=16):w.push(E)}function eU(p,w){switch(p.tag){case 5:var E=p.type;return w=w.nodeType!==1||E.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(p.stateNode=w,Va=p,Ka=ff(w.firstChild),!0):!1;case 6:return w=p.pendingProps===""||w.nodeType!==3?null:w,w!==null?(p.stateNode=w,Va=p,Ka=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(E=fp!==null?{id:tu,overflow:nu}:null,p.memoizedState={dehydrated:w,treeContext:E,retryLane:1073741824},E=Pl(18,null,null,0),E.stateNode=w,E.return=p,p.child=E,Va=p,Ka=null,!0):!1;default:return!1}}function AC(p){return(p.mode&1)!==0&&(p.flags&128)===0}function RC(p){if(vi){var w=Ka;if(w){var E=w;if(!eU(p,w)){if(AC(p))throw Error(n(418));w=ff(E.nextSibling);var L=Va;w&&eU(p,w)?QL(L,E):(p.flags=p.flags&-4097|2,vi=!1,Va=p)}}else{if(AC(p))throw Error(n(418));p.flags=p.flags&-4097|2,vi=!1,Va=p}}}function tU(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Va=p}function _x(p){if(p!==Va)return!1;if(!vi)return tU(p),vi=!0,!1;var w;if((w=p.tag!==3)&&!(w=p.tag!==5)&&(w=p.type,w=w!=="head"&&w!=="body"&&!bC(p.type,p.memoizedProps)),w&&(w=Ka)){if(AC(p))throw nU(),Error(n(418));for(;w;)QL(p,w),w=ff(w.nextSibling)}if(tU(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,w=0;p;){if(p.nodeType===8){var E=p.data;if(E==="/$"){if(w===0){Ka=ff(p.nextSibling);break e}w--}else E!=="$"&&E!=="$!"&&E!=="$?"||w++}p=p.nextSibling}Ka=null}}else Ka=Va?ff(p.stateNode.nextSibling):null;return!0}function nU(){for(var p=Ka;p;)p=ff(p.nextSibling)}function Mg(){Ka=Va=null,vi=!1}function TC(p){mc===null?mc=[p]:mc.push(p)}var H1e=R.ReactCurrentBatchConfig;function Jv(p,w,E){if(p=E.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(n(309));var L=E.stateNode}if(!L)throw Error(n(147,p));var J=L,Q=""+p;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===Q?w.ref:(w=function(ue){var xe=J.refs;ue===null?delete xe[Q]:xe[Q]=ue},w._stringRef=Q,w)}if(typeof p!="string")throw Error(n(284));if(!E._owner)throw Error(n(290,p))}return p}function xx(p,w){throw p=Object.prototype.toString.call(w),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":p))}function rU(p){var w=p._init;return w(p._payload)}function iU(p){function w($e,Oe){if(p){var We=$e.deletions;We===null?($e.deletions=[Oe],$e.flags|=16):We.push(Oe)}}function E($e,Oe){if(!p)return null;for(;Oe!==null;)w($e,Oe),Oe=Oe.sibling;return null}function L($e,Oe){for($e=new Map;Oe!==null;)Oe.key!==null?$e.set(Oe.key,Oe):$e.set(Oe.index,Oe),Oe=Oe.sibling;return $e}function J($e,Oe){return $e=kf($e,Oe),$e.index=0,$e.sibling=null,$e}function Q($e,Oe,We){return $e.index=We,p?(We=$e.alternate,We!==null?(We=We.index,We<Oe?($e.flags|=2,Oe):We):($e.flags|=2,Oe)):($e.flags|=1048576,Oe)}function ue($e){return p&&$e.alternate===null&&($e.flags|=2),$e}function xe($e,Oe,We,wt){return Oe===null||Oe.tag!==6?(Oe=_5(We,$e.mode,wt),Oe.return=$e,Oe):(Oe=J(Oe,We),Oe.return=$e,Oe)}function Ce($e,Oe,We,wt){var Qt=We.type;return Qt===D?ht($e,Oe,We.props.children,wt,We.key):Oe!==null&&(Oe.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===O&&rU(Qt)===Oe.type)?(wt=J(Oe,We.props),wt.ref=Jv($e,Oe,We),wt.return=$e,wt):(wt=Kx(We.type,We.key,We.props,null,$e.mode,wt),wt.ref=Jv($e,Oe,We),wt.return=$e,wt)}function He($e,Oe,We,wt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==We.containerInfo||Oe.stateNode.implementation!==We.implementation?(Oe=x5(We,$e.mode,wt),Oe.return=$e,Oe):(Oe=J(Oe,We.children||[]),Oe.return=$e,Oe)}function ht($e,Oe,We,wt,Qt){return Oe===null||Oe.tag!==7?(Oe=_p(We,$e.mode,wt,Qt),Oe.return=$e,Oe):(Oe=J(Oe,We),Oe.return=$e,Oe)}function yt($e,Oe,We){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=_5(""+Oe,$e.mode,We),Oe.return=$e,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case I:return We=Kx(Oe.type,Oe.key,Oe.props,null,$e.mode,We),We.ref=Jv($e,null,Oe),We.return=$e,We;case T:return Oe=x5(Oe,$e.mode,We),Oe.return=$e,Oe;case O:var wt=Oe._init;return yt($e,wt(Oe._payload),We)}if(Re(Oe)||V(Oe))return Oe=_p(Oe,$e.mode,We,null),Oe.return=$e,Oe;xx($e,Oe)}return null}function ft($e,Oe,We,wt){var Qt=Oe!==null?Oe.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Qt!==null?null:xe($e,Oe,""+We,wt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case I:return We.key===Qt?Ce($e,Oe,We,wt):null;case T:return We.key===Qt?He($e,Oe,We,wt):null;case O:return Qt=We._init,ft($e,Oe,Qt(We._payload),wt)}if(Re(We)||V(We))return Qt!==null?null:ht($e,Oe,We,wt,null);xx($e,We)}return null}function Lt($e,Oe,We,wt,Qt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return $e=$e.get(We)||null,xe(Oe,$e,""+wt,Qt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case I:return $e=$e.get(wt.key===null?We:wt.key)||null,Ce(Oe,$e,wt,Qt);case T:return $e=$e.get(wt.key===null?We:wt.key)||null,He(Oe,$e,wt,Qt);case O:var wn=wt._init;return Lt($e,Oe,We,wn(wt._payload),Qt)}if(Re(wt)||V(wt))return $e=$e.get(We)||null,ht(Oe,$e,wt,Qt,null);xx(Oe,wt)}return null}function Kt($e,Oe,We,wt){for(var Qt=null,wn=null,bn=Oe,En=Oe=0,Mo=null;bn!==null&&En<We.length;En++){bn.index>En?(Mo=bn,bn=null):Mo=bn.sibling;var br=ft($e,bn,We[En],wt);if(br===null){bn===null&&(bn=Mo);break}p&&bn&&br.alternate===null&&w($e,bn),Oe=Q(br,Oe,En),wn===null?Qt=br:wn.sibling=br,wn=br,bn=Mo}if(En===We.length)return E($e,bn),vi&&hp($e,En),Qt;if(bn===null){for(;En<We.length;En++)bn=yt($e,We[En],wt),bn!==null&&(Oe=Q(bn,Oe,En),wn===null?Qt=bn:wn.sibling=bn,wn=bn);return vi&&hp($e,En),Qt}for(bn=L($e,bn);En<We.length;En++)Mo=Lt(bn,$e,En,We[En],wt),Mo!==null&&(p&&Mo.alternate!==null&&bn.delete(Mo.key===null?En:Mo.key),Oe=Q(Mo,Oe,En),wn===null?Qt=Mo:wn.sibling=Mo,wn=Mo);return p&&bn.forEach(function(Sf){return w($e,Sf)}),vi&&hp($e,En),Qt}function Gt($e,Oe,We,wt){var Qt=V(We);if(typeof Qt!="function")throw Error(n(150));if(We=Qt.call(We),We==null)throw Error(n(151));for(var wn=Qt=null,bn=Oe,En=Oe=0,Mo=null,br=We.next();bn!==null&&!br.done;En++,br=We.next()){bn.index>En?(Mo=bn,bn=null):Mo=bn.sibling;var Sf=ft($e,bn,br.value,wt);if(Sf===null){bn===null&&(bn=Mo);break}p&&bn&&Sf.alternate===null&&w($e,bn),Oe=Q(Sf,Oe,En),wn===null?Qt=Sf:wn.sibling=Sf,wn=Sf,bn=Mo}if(br.done)return E($e,bn),vi&&hp($e,En),Qt;if(bn===null){for(;!br.done;En++,br=We.next())br=yt($e,br.value,wt),br!==null&&(Oe=Q(br,Oe,En),wn===null?Qt=br:wn.sibling=br,wn=br);return vi&&hp($e,En),Qt}for(bn=L($e,bn);!br.done;En++,br=We.next())br=Lt(bn,$e,En,br.value,wt),br!==null&&(p&&br.alternate!==null&&bn.delete(br.key===null?En:br.key),Oe=Q(br,Oe,En),wn===null?Qt=br:wn.sibling=br,wn=br);return p&&bn.forEach(function(E_e){return w($e,E_e)}),vi&&hp($e,En),Qt}function Xi($e,Oe,We,wt){if(typeof We=="object"&&We!==null&&We.type===D&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case I:e:{for(var Qt=We.key,wn=Oe;wn!==null;){if(wn.key===Qt){if(Qt=We.type,Qt===D){if(wn.tag===7){E($e,wn.sibling),Oe=J(wn,We.props.children),Oe.return=$e,$e=Oe;break e}}else if(wn.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===O&&rU(Qt)===wn.type){E($e,wn.sibling),Oe=J(wn,We.props),Oe.ref=Jv($e,wn,We),Oe.return=$e,$e=Oe;break e}E($e,wn);break}else w($e,wn);wn=wn.sibling}We.type===D?(Oe=_p(We.props.children,$e.mode,wt,We.key),Oe.return=$e,$e=Oe):(wt=Kx(We.type,We.key,We.props,null,$e.mode,wt),wt.ref=Jv($e,Oe,We),wt.return=$e,$e=wt)}return ue($e);case T:e:{for(wn=We.key;Oe!==null;){if(Oe.key===wn)if(Oe.tag===4&&Oe.stateNode.containerInfo===We.containerInfo&&Oe.stateNode.implementation===We.implementation){E($e,Oe.sibling),Oe=J(Oe,We.children||[]),Oe.return=$e,$e=Oe;break e}else{E($e,Oe);break}else w($e,Oe);Oe=Oe.sibling}Oe=x5(We,$e.mode,wt),Oe.return=$e,$e=Oe}return ue($e);case O:return wn=We._init,Xi($e,Oe,wn(We._payload),wt)}if(Re(We))return Kt($e,Oe,We,wt);if(V(We))return Gt($e,Oe,We,wt);xx($e,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Oe!==null&&Oe.tag===6?(E($e,Oe.sibling),Oe=J(Oe,We),Oe.return=$e,$e=Oe):(E($e,Oe),Oe=_5(We,$e.mode,wt),Oe.return=$e,$e=Oe),ue($e)):E($e,Oe)}return Xi}var Dg=iU(!0),oU=iU(!1),kx=hf(null),Sx=null,jg=null,OC=null;function NC(){OC=jg=Sx=null}function PC(p){var w=kx.current;di(kx),p._currentValue=w}function BC(p,w,E){for(;p!==null;){var L=p.alternate;if((p.childLanes&w)!==w?(p.childLanes|=w,L!==null&&(L.childLanes|=w)):L!==null&&(L.childLanes&w)!==w&&(L.childLanes|=w),p===E)break;p=p.return}}function $g(p,w){Sx=p,OC=jg=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&w)!==0&&(ga=!0),p.firstContext=null)}function Tl(p){var w=p._currentValue;if(OC!==p)if(p={context:p,memoizedValue:w,next:null},jg===null){if(Sx===null)throw Error(n(308));jg=p,Sx.dependencies={lanes:0,firstContext:p}}else jg=jg.next=p;return w}var pp=null;function MC(p){pp===null?pp=[p]:pp.push(p)}function sU(p,w,E,L){var J=w.interleaved;return J===null?(E.next=E,MC(w)):(E.next=J.next,J.next=E),w.interleaved=E,ru(p,L)}function ru(p,w){p.lanes|=w;var E=p.alternate;for(E!==null&&(E.lanes|=w),E=p,p=p.return;p!==null;)p.childLanes|=w,E=p.alternate,E!==null&&(E.childLanes|=w),E=p,p=p.return;return E.tag===3?E.stateNode:null}var gf=!1;function DC(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aU(p,w){p=p.updateQueue,w.updateQueue===p&&(w.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function iu(p,w){return{eventTime:p,lane:w,tag:0,payload:null,callback:null,next:null}}function yf(p,w,E){var L=p.updateQueue;if(L===null)return null;if(L=L.shared,(mr&2)!==0){var J=L.pending;return J===null?w.next=w:(w.next=J.next,J.next=w),L.pending=w,ru(p,E)}return J=L.interleaved,J===null?(w.next=w,MC(L)):(w.next=J.next,J.next=w),L.interleaved=w,ru(p,E)}function Ix(p,w,E){if(w=w.updateQueue,w!==null&&(w=w.shared,(E&4194240)!==0)){var L=w.lanes;L&=p.pendingLanes,E|=L,w.lanes=E,Dr(p,E)}}function lU(p,w){var E=p.updateQueue,L=p.alternate;if(L!==null&&(L=L.updateQueue,E===L)){var J=null,Q=null;if(E=E.firstBaseUpdate,E!==null){do{var ue={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};Q===null?J=Q=ue:Q=Q.next=ue,E=E.next}while(E!==null);Q===null?J=Q=w:Q=Q.next=w}else J=Q=w;E={baseState:L.baseState,firstBaseUpdate:J,lastBaseUpdate:Q,shared:L.shared,effects:L.effects},p.updateQueue=E;return}p=E.lastBaseUpdate,p===null?E.firstBaseUpdate=w:p.next=w,E.lastBaseUpdate=w}function Ex(p,w,E,L){var J=p.updateQueue;gf=!1;var Q=J.firstBaseUpdate,ue=J.lastBaseUpdate,xe=J.shared.pending;if(xe!==null){J.shared.pending=null;var Ce=xe,He=Ce.next;Ce.next=null,ue===null?Q=He:ue.next=He,ue=Ce;var ht=p.alternate;ht!==null&&(ht=ht.updateQueue,xe=ht.lastBaseUpdate,xe!==ue&&(xe===null?ht.firstBaseUpdate=He:xe.next=He,ht.lastBaseUpdate=Ce))}if(Q!==null){var yt=J.baseState;ue=0,ht=He=Ce=null,xe=Q;do{var ft=xe.lane,Lt=xe.eventTime;if((L&ft)===ft){ht!==null&&(ht=ht.next={eventTime:Lt,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var Kt=p,Gt=xe;switch(ft=w,Lt=E,Gt.tag){case 1:if(Kt=Gt.payload,typeof Kt=="function"){yt=Kt.call(Lt,yt,ft);break e}yt=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=Gt.payload,ft=typeof Kt=="function"?Kt.call(Lt,yt,ft):Kt,ft==null)break e;yt=K({},yt,ft);break e;case 2:gf=!0}}xe.callback!==null&&xe.lane!==0&&(p.flags|=64,ft=J.effects,ft===null?J.effects=[xe]:ft.push(xe))}else Lt={eventTime:Lt,lane:ft,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},ht===null?(He=ht=Lt,Ce=yt):ht=ht.next=Lt,ue|=ft;if(xe=xe.next,xe===null){if(xe=J.shared.pending,xe===null)break;ft=xe,xe=ft.next,ft.next=null,J.lastBaseUpdate=ft,J.shared.pending=null}}while(!0);if(ht===null&&(Ce=yt),J.baseState=Ce,J.firstBaseUpdate=He,J.lastBaseUpdate=ht,w=J.shared.interleaved,w!==null){J=w;do ue|=J.lane,J=J.next;while(J!==w)}else Q===null&&(J.shared.lanes=0);yp|=ue,p.lanes=ue,p.memoizedState=yt}}function cU(p,w,E){if(p=w.effects,w.effects=null,p!==null)for(w=0;w<p.length;w++){var L=p[w],J=L.callback;if(J!==null){if(L.callback=null,L=E,typeof J!="function")throw Error(n(191,J));J.call(L)}}}var Zv={},nd=hf(Zv),Yv=hf(Zv),Xv=hf(Zv);function mp(p){if(p===Zv)throw Error(n(174));return p}function jC(p,w){switch(Jr(Xv,w),Jr(Yv,p),Jr(nd,Zv),p=w.nodeType,p){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:ce(null,"");break;default:p=p===8?w.parentNode:w,w=p.namespaceURI||null,p=p.tagName,w=ce(w,p)}di(nd),Jr(nd,w)}function Lg(){di(nd),di(Yv),di(Xv)}function dU(p){mp(Xv.current);var w=mp(nd.current),E=ce(w,p.type);w!==E&&(Jr(Yv,p),Jr(nd,E))}function $C(p){Yv.current===p&&(di(nd),di(Yv))}var Ci=hf(0);function Cx(p){for(var w=p;w!==null;){if(w.tag===13){var E=w.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var LC=[];function UC(){for(var p=0;p<LC.length;p++)LC[p]._workInProgressVersionPrimary=null;LC.length=0}var Ax=R.ReactCurrentDispatcher,FC=R.ReactCurrentBatchConfig,gp=0,Ai=null,wo=null,Po=null,Rx=!1,Qv=!1,ew=0,G1e=0;function Cs(){throw Error(n(321))}function WC(p,w){if(w===null)return!1;for(var E=0;E<w.length&&E<p.length;E++)if(!pc(p[E],w[E]))return!1;return!0}function qC(p,w,E,L,J,Q){if(gp=Q,Ai=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Ax.current=p===null||p.memoizedState===null?X1e:Q1e,p=E(L,J),Qv){Q=0;do{if(Qv=!1,ew=0,25<=Q)throw Error(n(301));Q+=1,Po=wo=null,w.updateQueue=null,Ax.current=e_e,p=E(L,J)}while(Qv)}if(Ax.current=Nx,w=wo!==null&&wo.next!==null,gp=0,Po=wo=Ai=null,Rx=!1,w)throw Error(n(300));return p}function zC(){var p=ew!==0;return ew=0,p}function rd(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Po===null?Ai.memoizedState=Po=p:Po=Po.next=p,Po}function Ol(){if(wo===null){var p=Ai.alternate;p=p!==null?p.memoizedState:null}else p=wo.next;var w=Po===null?Ai.memoizedState:Po.next;if(w!==null)Po=w,wo=p;else{if(p===null)throw Error(n(310));wo=p,p={memoizedState:wo.memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},Po===null?Ai.memoizedState=Po=p:Po=Po.next=p}return Po}function tw(p,w){return typeof w=="function"?w(p):w}function VC(p){var w=Ol(),E=w.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=p;var L=wo,J=L.baseQueue,Q=E.pending;if(Q!==null){if(J!==null){var ue=J.next;J.next=Q.next,Q.next=ue}L.baseQueue=J=Q,E.pending=null}if(J!==null){Q=J.next,L=L.baseState;var xe=ue=null,Ce=null,He=Q;do{var ht=He.lane;if((gp&ht)===ht)Ce!==null&&(Ce=Ce.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),L=He.hasEagerState?He.eagerState:p(L,He.action);else{var yt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Ce===null?(xe=Ce=yt,ue=L):Ce=Ce.next=yt,Ai.lanes|=ht,yp|=ht}He=He.next}while(He!==null&&He!==Q);Ce===null?ue=L:Ce.next=xe,pc(L,w.memoizedState)||(ga=!0),w.memoizedState=L,w.baseState=ue,w.baseQueue=Ce,E.lastRenderedState=L}if(p=E.interleaved,p!==null){J=p;do Q=J.lane,Ai.lanes|=Q,yp|=Q,J=J.next;while(J!==p)}else J===null&&(E.lanes=0);return[w.memoizedState,E.dispatch]}function KC(p){var w=Ol(),E=w.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=p;var L=E.dispatch,J=E.pending,Q=w.memoizedState;if(J!==null){E.pending=null;var ue=J=J.next;do Q=p(Q,ue.action),ue=ue.next;while(ue!==J);pc(Q,w.memoizedState)||(ga=!0),w.memoizedState=Q,w.baseQueue===null&&(w.baseState=Q),E.lastRenderedState=Q}return[Q,L]}function uU(){}function fU(p,w){var E=Ai,L=Ol(),J=w(),Q=!pc(L.memoizedState,J);if(Q&&(L.memoizedState=J,ga=!0),L=L.queue,HC(mU.bind(null,E,L,p),[p]),L.getSnapshot!==w||Q||Po!==null&&Po.memoizedState.tag&1){if(E.flags|=2048,nw(9,pU.bind(null,E,L,J,w),void 0,null),Bo===null)throw Error(n(349));(gp&30)!==0||hU(E,w,J)}return J}function hU(p,w,E){p.flags|=16384,p={getSnapshot:w,value:E},w=Ai.updateQueue,w===null?(w={lastEffect:null,stores:null},Ai.updateQueue=w,w.stores=[p]):(E=w.stores,E===null?w.stores=[p]:E.push(p))}function pU(p,w,E,L){w.value=E,w.getSnapshot=L,gU(w)&&yU(p)}function mU(p,w,E){return E(function(){gU(w)&&yU(p)})}function gU(p){var w=p.getSnapshot;p=p.value;try{var E=w();return!pc(p,E)}catch{return!0}}function yU(p){var w=ru(p,1);w!==null&&wc(w,p,1,-1)}function vU(p){var w=rd();return typeof p=="function"&&(p=p()),w.memoizedState=w.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tw,lastRenderedState:p},w.queue=p,p=p.dispatch=Y1e.bind(null,Ai,p),[w.memoizedState,p]}function nw(p,w,E,L){return p={tag:p,create:w,destroy:E,deps:L,next:null},w=Ai.updateQueue,w===null?(w={lastEffect:null,stores:null},Ai.updateQueue=w,w.lastEffect=p.next=p):(E=w.lastEffect,E===null?w.lastEffect=p.next=p:(L=E.next,E.next=p,p.next=L,w.lastEffect=p)),p}function wU(){return Ol().memoizedState}function Tx(p,w,E,L){var J=rd();Ai.flags|=p,J.memoizedState=nw(1|w,E,void 0,L===void 0?null:L)}function Ox(p,w,E,L){var J=Ol();L=L===void 0?null:L;var Q=void 0;if(wo!==null){var ue=wo.memoizedState;if(Q=ue.destroy,L!==null&&WC(L,ue.deps)){J.memoizedState=nw(w,E,Q,L);return}}Ai.flags|=p,J.memoizedState=nw(1|w,E,Q,L)}function bU(p,w){return Tx(8390656,8,p,w)}function HC(p,w){return Ox(2048,8,p,w)}function _U(p,w){return Ox(4,2,p,w)}function xU(p,w){return Ox(4,4,p,w)}function kU(p,w){if(typeof w=="function")return p=p(),w(p),function(){w(null)};if(w!=null)return p=p(),w.current=p,function(){w.current=null}}function SU(p,w,E){return E=E!=null?E.concat([p]):null,Ox(4,4,kU.bind(null,w,p),E)}function GC(){}function IU(p,w){var E=Ol();w=w===void 0?null:w;var L=E.memoizedState;return L!==null&&w!==null&&WC(w,L[1])?L[0]:(E.memoizedState=[p,w],p)}function EU(p,w){var E=Ol();w=w===void 0?null:w;var L=E.memoizedState;return L!==null&&w!==null&&WC(w,L[1])?L[0]:(p=p(),E.memoizedState=[p,w],p)}function CU(p,w,E){return(gp&21)===0?(p.baseState&&(p.baseState=!1,ga=!0),p.memoizedState=E):(pc(E,w)||(E=Gn(),Ai.lanes|=E,yp|=E,p.baseState=!0),w)}function J1e(p,w){var E=Yt;Yt=E!==0&&4>E?E:4,p(!0);var L=FC.transition;FC.transition={};try{p(!1),w()}finally{Yt=E,FC.transition=L}}function AU(){return Ol().memoizedState}function Z1e(p,w,E){var L=_f(p);if(E={lane:L,action:E,hasEagerState:!1,eagerState:null,next:null},RU(p))TU(w,E);else if(E=sU(p,w,E,L),E!==null){var J=Qs();wc(E,p,L,J),OU(E,w,L)}}function Y1e(p,w,E){var L=_f(p),J={lane:L,action:E,hasEagerState:!1,eagerState:null,next:null};if(RU(p))TU(w,J);else{var Q=p.alternate;if(p.lanes===0&&(Q===null||Q.lanes===0)&&(Q=w.lastRenderedReducer,Q!==null))try{var ue=w.lastRenderedState,xe=Q(ue,E);if(J.hasEagerState=!0,J.eagerState=xe,pc(xe,ue)){var Ce=w.interleaved;Ce===null?(J.next=J,MC(w)):(J.next=Ce.next,Ce.next=J),w.interleaved=J;return}}catch{}finally{}E=sU(p,w,J,L),E!==null&&(J=Qs(),wc(E,p,L,J),OU(E,w,L))}}function RU(p){var w=p.alternate;return p===Ai||w!==null&&w===Ai}function TU(p,w){Qv=Rx=!0;var E=p.pending;E===null?w.next=w:(w.next=E.next,E.next=w),p.pending=w}function OU(p,w,E){if((E&4194240)!==0){var L=w.lanes;L&=p.pendingLanes,E|=L,w.lanes=E,Dr(p,E)}}var Nx={readContext:Tl,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},X1e={readContext:Tl,useCallback:function(p,w){return rd().memoizedState=[p,w===void 0?null:w],p},useContext:Tl,useEffect:bU,useImperativeHandle:function(p,w,E){return E=E!=null?E.concat([p]):null,Tx(4194308,4,kU.bind(null,w,p),E)},useLayoutEffect:function(p,w){return Tx(4194308,4,p,w)},useInsertionEffect:function(p,w){return Tx(4,2,p,w)},useMemo:function(p,w){var E=rd();return w=w===void 0?null:w,p=p(),E.memoizedState=[p,w],p},useReducer:function(p,w,E){var L=rd();return w=E!==void 0?E(w):w,L.memoizedState=L.baseState=w,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:w},L.queue=p,p=p.dispatch=Z1e.bind(null,Ai,p),[L.memoizedState,p]},useRef:function(p){var w=rd();return p={current:p},w.memoizedState=p},useState:vU,useDebugValue:GC,useDeferredValue:function(p){return rd().memoizedState=p},useTransition:function(){var p=vU(!1),w=p[0];return p=J1e.bind(null,p[1]),rd().memoizedState=p,[w,p]},useMutableSource:function(){},useSyncExternalStore:function(p,w,E){var L=Ai,J=rd();if(vi){if(E===void 0)throw Error(n(407));E=E()}else{if(E=w(),Bo===null)throw Error(n(349));(gp&30)!==0||hU(L,w,E)}J.memoizedState=E;var Q={value:E,getSnapshot:w};return J.queue=Q,bU(mU.bind(null,L,Q,p),[p]),L.flags|=2048,nw(9,pU.bind(null,L,Q,E,w),void 0,null),E},useId:function(){var p=rd(),w=Bo.identifierPrefix;if(vi){var E=nu,L=tu;E=(L&~(1<<32-et(L)-1)).toString(32)+E,w=":"+w+"R"+E,E=ew++,0<E&&(w+="H"+E.toString(32)),w+=":"}else E=G1e++,w=":"+w+"r"+E.toString(32)+":";return p.memoizedState=w},unstable_isNewReconciler:!1},Q1e={readContext:Tl,useCallback:IU,useContext:Tl,useEffect:HC,useImperativeHandle:SU,useInsertionEffect:_U,useLayoutEffect:xU,useMemo:EU,useReducer:VC,useRef:wU,useState:function(){return VC(tw)},useDebugValue:GC,useDeferredValue:function(p){var w=Ol();return CU(w,wo.memoizedState,p)},useTransition:function(){var p=VC(tw)[0],w=Ol().memoizedState;return[p,w]},useMutableSource:uU,useSyncExternalStore:fU,useId:AU,unstable_isNewReconciler:!1},e_e={readContext:Tl,useCallback:IU,useContext:Tl,useEffect:HC,useImperativeHandle:SU,useInsertionEffect:_U,useLayoutEffect:xU,useMemo:EU,useReducer:KC,useRef:wU,useState:function(){return KC(tw)},useDebugValue:GC,useDeferredValue:function(p){var w=Ol();return wo===null?w.memoizedState=p:CU(w,wo.memoizedState,p)},useTransition:function(){var p=KC(tw)[0],w=Ol().memoizedState;return[p,w]},useMutableSource:uU,useSyncExternalStore:fU,useId:AU,unstable_isNewReconciler:!1};function gc(p,w){if(p&&p.defaultProps){w=K({},w),p=p.defaultProps;for(var E in p)w[E]===void 0&&(w[E]=p[E]);return w}return w}function JC(p,w,E,L){w=p.memoizedState,E=E(L,w),E=E==null?w:K({},w,E),p.memoizedState=E,p.lanes===0&&(p.updateQueue.baseState=E)}var Px={isMounted:function(p){return(p=p._reactInternals)?ut(p)===p:!1},enqueueSetState:function(p,w,E){p=p._reactInternals;var L=Qs(),J=_f(p),Q=iu(L,J);Q.payload=w,E!=null&&(Q.callback=E),w=yf(p,Q,J),w!==null&&(wc(w,p,J,L),Ix(w,p,J))},enqueueReplaceState:function(p,w,E){p=p._reactInternals;var L=Qs(),J=_f(p),Q=iu(L,J);Q.tag=1,Q.payload=w,E!=null&&(Q.callback=E),w=yf(p,Q,J),w!==null&&(wc(w,p,J,L),Ix(w,p,J))},enqueueForceUpdate:function(p,w){p=p._reactInternals;var E=Qs(),L=_f(p),J=iu(E,L);J.tag=2,w!=null&&(J.callback=w),w=yf(p,J,L),w!==null&&(wc(w,p,L,E),Ix(w,p,L))}};function NU(p,w,E,L,J,Q,ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(L,Q,ue):w.prototype&&w.prototype.isPureReactComponent?!Wv(E,L)||!Wv(J,Q):!0}function PU(p,w,E){var L=!1,J=pf,Q=w.contextType;return typeof Q=="object"&&Q!==null?Q=Tl(Q):(J=ma(w)?up:Es.current,L=w.contextTypes,Q=(L=L!=null)?Ng(p,J):pf),w=new w(E,Q),p.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Px,p.stateNode=w,w._reactInternals=p,L&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=J,p.__reactInternalMemoizedMaskedChildContext=Q),w}function BU(p,w,E,L){p=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(E,L),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(E,L),w.state!==p&&Px.enqueueReplaceState(w,w.state,null)}function ZC(p,w,E,L){var J=p.stateNode;J.props=E,J.state=p.memoizedState,J.refs={},DC(p);var Q=w.contextType;typeof Q=="object"&&Q!==null?J.context=Tl(Q):(Q=ma(w)?up:Es.current,J.context=Ng(p,Q)),J.state=p.memoizedState,Q=w.getDerivedStateFromProps,typeof Q=="function"&&(JC(p,w,Q,E),J.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(w=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),w!==J.state&&Px.enqueueReplaceState(J,J.state,null),Ex(p,E,J,L),J.state=p.memoizedState),typeof J.componentDidMount=="function"&&(p.flags|=4194308)}function Ug(p,w){try{var E="",L=w;do E+=Y(L),L=L.return;while(L);var J=E}catch(Q){J=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:p,source:w,stack:J,digest:null}}function YC(p,w,E){return{value:p,source:null,stack:E??null,digest:w??null}}function XC(p,w){try{console.error(w.value)}catch(E){setTimeout(function(){throw E})}}var t_e=typeof WeakMap=="function"?WeakMap:Map;function MU(p,w,E){E=iu(-1,E),E.tag=3,E.payload={element:null};var L=w.value;return E.callback=function(){Ux||(Ux=!0,h5=L),XC(p,w)},E}function DU(p,w,E){E=iu(-1,E),E.tag=3;var L=p.type.getDerivedStateFromError;if(typeof L=="function"){var J=w.value;E.payload=function(){return L(J)},E.callback=function(){XC(p,w)}}var Q=p.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(E.callback=function(){XC(p,w),typeof L!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var ue=w.stack;this.componentDidCatch(w.value,{componentStack:ue!==null?ue:""})}),E}function jU(p,w,E){var L=p.pingCache;if(L===null){L=p.pingCache=new t_e;var J=new Set;L.set(w,J)}else J=L.get(w),J===void 0&&(J=new Set,L.set(w,J));J.has(E)||(J.add(E),p=m_e.bind(null,p,w,E),w.then(p,p))}function $U(p){do{var w;if((w=p.tag===13)&&(w=p.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return p;p=p.return}while(p!==null);return null}function LU(p,w,E,L,J){return(p.mode&1)===0?(p===w?p.flags|=65536:(p.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(w=iu(-1,1),w.tag=2,yf(E,w,1))),E.lanes|=1),p):(p.flags|=65536,p.lanes=J,p)}var n_e=R.ReactCurrentOwner,ga=!1;function Xs(p,w,E,L){w.child=p===null?oU(w,null,E,L):Dg(w,p.child,E,L)}function UU(p,w,E,L,J){E=E.render;var Q=w.ref;return $g(w,J),L=qC(p,w,E,L,Q,J),E=zC(),p!==null&&!ga?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~J,ou(p,w,J)):(vi&&E&&EC(w),w.flags|=1,Xs(p,w,L,J),w.child)}function FU(p,w,E,L,J){if(p===null){var Q=E.type;return typeof Q=="function"&&!b5(Q)&&Q.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(w.tag=15,w.type=Q,WU(p,w,Q,L,J)):(p=Kx(E.type,null,L,w,w.mode,J),p.ref=w.ref,p.return=w,w.child=p)}if(Q=p.child,(p.lanes&J)===0){var ue=Q.memoizedProps;if(E=E.compare,E=E!==null?E:Wv,E(ue,L)&&p.ref===w.ref)return ou(p,w,J)}return w.flags|=1,p=kf(Q,L),p.ref=w.ref,p.return=w,w.child=p}function WU(p,w,E,L,J){if(p!==null){var Q=p.memoizedProps;if(Wv(Q,L)&&p.ref===w.ref)if(ga=!1,w.pendingProps=L=Q,(p.lanes&J)!==0)(p.flags&131072)!==0&&(ga=!0);else return w.lanes=p.lanes,ou(p,w,J)}return QC(p,w,E,L,J)}function qU(p,w,E){var L=w.pendingProps,J=L.children,Q=p!==null?p.memoizedState:null;if(L.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(Wg,Ha),Ha|=E;else{if((E&1073741824)===0)return p=Q!==null?Q.baseLanes|E:E,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:p,cachePool:null,transitions:null},w.updateQueue=null,Jr(Wg,Ha),Ha|=p,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=Q!==null?Q.baseLanes:E,Jr(Wg,Ha),Ha|=L}else Q!==null?(L=Q.baseLanes|E,w.memoizedState=null):L=E,Jr(Wg,Ha),Ha|=L;return Xs(p,w,J,E),w.child}function zU(p,w){var E=w.ref;(p===null&&E!==null||p!==null&&p.ref!==E)&&(w.flags|=512,w.flags|=2097152)}function QC(p,w,E,L,J){var Q=ma(E)?up:Es.current;return Q=Ng(w,Q),$g(w,J),E=qC(p,w,E,L,Q,J),L=zC(),p!==null&&!ga?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~J,ou(p,w,J)):(vi&&L&&EC(w),w.flags|=1,Xs(p,w,E,J),w.child)}function VU(p,w,E,L,J){if(ma(E)){var Q=!0;yx(w)}else Q=!1;if($g(w,J),w.stateNode===null)Mx(p,w),PU(w,E,L),ZC(w,E,L,J),L=!0;else if(p===null){var ue=w.stateNode,xe=w.memoizedProps;ue.props=xe;var Ce=ue.context,He=E.contextType;typeof He=="object"&&He!==null?He=Tl(He):(He=ma(E)?up:Es.current,He=Ng(w,He));var ht=E.getDerivedStateFromProps,yt=typeof ht=="function"||typeof ue.getSnapshotBeforeUpdate=="function";yt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(xe!==L||Ce!==He)&&BU(w,ue,L,He),gf=!1;var ft=w.memoizedState;ue.state=ft,Ex(w,L,ue,J),Ce=w.memoizedState,xe!==L||ft!==Ce||pa.current||gf?(typeof ht=="function"&&(JC(w,E,ht,L),Ce=w.memoizedState),(xe=gf||NU(w,E,xe,L,ft,Ce,He))?(yt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(w.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=L,w.memoizedState=Ce),ue.props=L,ue.state=Ce,ue.context=He,L=xe):(typeof ue.componentDidMount=="function"&&(w.flags|=4194308),L=!1)}else{ue=w.stateNode,aU(p,w),xe=w.memoizedProps,He=w.type===w.elementType?xe:gc(w.type,xe),ue.props=He,yt=w.pendingProps,ft=ue.context,Ce=E.contextType,typeof Ce=="object"&&Ce!==null?Ce=Tl(Ce):(Ce=ma(E)?up:Es.current,Ce=Ng(w,Ce));var Lt=E.getDerivedStateFromProps;(ht=typeof Lt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(xe!==yt||ft!==Ce)&&BU(w,ue,L,Ce),gf=!1,ft=w.memoizedState,ue.state=ft,Ex(w,L,ue,J);var Kt=w.memoizedState;xe!==yt||ft!==Kt||pa.current||gf?(typeof Lt=="function"&&(JC(w,E,Lt,L),Kt=w.memoizedState),(He=gf||NU(w,E,He,L,ft,Kt,Ce)||!1)?(ht||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(L,Kt,Ce),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(L,Kt,Ce)),typeof ue.componentDidUpdate=="function"&&(w.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof ue.componentDidUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=1024),w.memoizedProps=L,w.memoizedState=Kt),ue.props=L,ue.state=Kt,ue.context=Ce,L=He):(typeof ue.componentDidUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||xe===p.memoizedProps&&ft===p.memoizedState||(w.flags|=1024),L=!1)}return e5(p,w,E,L,Q,J)}function e5(p,w,E,L,J,Q){zU(p,w);var ue=(w.flags&128)!==0;if(!L&&!ue)return J&&ZL(w,E,!1),ou(p,w,Q);L=w.stateNode,n_e.current=w;var xe=ue&&typeof E.getDerivedStateFromError!="function"?null:L.render();return w.flags|=1,p!==null&&ue?(w.child=Dg(w,p.child,null,Q),w.child=Dg(w,null,xe,Q)):Xs(p,w,xe,Q),w.memoizedState=L.state,J&&ZL(w,E,!0),w.child}function KU(p){var w=p.stateNode;w.pendingContext?GL(p,w.pendingContext,w.pendingContext!==w.context):w.context&&GL(p,w.context,!1),jC(p,w.containerInfo)}function HU(p,w,E,L,J){return Mg(),TC(J),w.flags|=256,Xs(p,w,E,L),w.child}var t5={dehydrated:null,treeContext:null,retryLane:0};function n5(p){return{baseLanes:p,cachePool:null,transitions:null}}function GU(p,w,E){var L=w.pendingProps,J=Ci.current,Q=!1,ue=(w.flags&128)!==0,xe;if((xe=ue)||(xe=p!==null&&p.memoizedState===null?!1:(J&2)!==0),xe?(Q=!0,w.flags&=-129):(p===null||p.memoizedState!==null)&&(J|=1),Jr(Ci,J&1),p===null)return RC(w),p=w.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((w.mode&1)===0?w.lanes=1:p.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(ue=L.children,p=L.fallback,Q?(L=w.mode,Q=w.child,ue={mode:"hidden",children:ue},(L&1)===0&&Q!==null?(Q.childLanes=0,Q.pendingProps=ue):Q=Hx(ue,L,0,null),p=_p(p,L,E,null),Q.return=w,p.return=w,Q.sibling=p,w.child=Q,w.child.memoizedState=n5(E),w.memoizedState=t5,p):r5(w,ue));if(J=p.memoizedState,J!==null&&(xe=J.dehydrated,xe!==null))return r_e(p,w,ue,L,xe,J,E);if(Q){Q=L.fallback,ue=w.mode,J=p.child,xe=J.sibling;var Ce={mode:"hidden",children:L.children};return(ue&1)===0&&w.child!==J?(L=w.child,L.childLanes=0,L.pendingProps=Ce,w.deletions=null):(L=kf(J,Ce),L.subtreeFlags=J.subtreeFlags&14680064),xe!==null?Q=kf(xe,Q):(Q=_p(Q,ue,E,null),Q.flags|=2),Q.return=w,L.return=w,L.sibling=Q,w.child=L,L=Q,Q=w.child,ue=p.child.memoizedState,ue=ue===null?n5(E):{baseLanes:ue.baseLanes|E,cachePool:null,transitions:ue.transitions},Q.memoizedState=ue,Q.childLanes=p.childLanes&~E,w.memoizedState=t5,L}return Q=p.child,p=Q.sibling,L=kf(Q,{mode:"visible",children:L.children}),(w.mode&1)===0&&(L.lanes=E),L.return=w,L.sibling=null,p!==null&&(E=w.deletions,E===null?(w.deletions=[p],w.flags|=16):E.push(p)),w.child=L,w.memoizedState=null,L}function r5(p,w){return w=Hx({mode:"visible",children:w},p.mode,0,null),w.return=p,p.child=w}function Bx(p,w,E,L){return L!==null&&TC(L),Dg(w,p.child,null,E),p=r5(w,w.pendingProps.children),p.flags|=2,w.memoizedState=null,p}function r_e(p,w,E,L,J,Q,ue){if(E)return w.flags&256?(w.flags&=-257,L=YC(Error(n(422))),Bx(p,w,ue,L)):w.memoizedState!==null?(w.child=p.child,w.flags|=128,null):(Q=L.fallback,J=w.mode,L=Hx({mode:"visible",children:L.children},J,0,null),Q=_p(Q,J,ue,null),Q.flags|=2,L.return=w,Q.return=w,L.sibling=Q,w.child=L,(w.mode&1)!==0&&Dg(w,p.child,null,ue),w.child.memoizedState=n5(ue),w.memoizedState=t5,Q);if((w.mode&1)===0)return Bx(p,w,ue,null);if(J.data==="$!"){if(L=J.nextSibling&&J.nextSibling.dataset,L)var xe=L.dgst;return L=xe,Q=Error(n(419)),L=YC(Q,L,void 0),Bx(p,w,ue,L)}if(xe=(ue&p.childLanes)!==0,ga||xe){if(L=Bo,L!==null){switch(ue&-ue){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}J=(J&(L.suspendedLanes|ue))!==0?0:J,J!==0&&J!==Q.retryLane&&(Q.retryLane=J,ru(p,J),wc(L,p,J,-1))}return w5(),L=YC(Error(n(421))),Bx(p,w,ue,L)}return J.data==="$?"?(w.flags|=128,w.child=p.child,w=g_e.bind(null,p),J._reactRetry=w,null):(p=Q.treeContext,Ka=ff(J.nextSibling),Va=w,vi=!0,mc=null,p!==null&&(Al[Rl++]=tu,Al[Rl++]=nu,Al[Rl++]=fp,tu=p.id,nu=p.overflow,fp=w),w=r5(w,L.children),w.flags|=4096,w)}function JU(p,w,E){p.lanes|=w;var L=p.alternate;L!==null&&(L.lanes|=w),BC(p.return,w,E)}function i5(p,w,E,L,J){var Q=p.memoizedState;Q===null?p.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:L,tail:E,tailMode:J}:(Q.isBackwards=w,Q.rendering=null,Q.renderingStartTime=0,Q.last=L,Q.tail=E,Q.tailMode=J)}function ZU(p,w,E){var L=w.pendingProps,J=L.revealOrder,Q=L.tail;if(Xs(p,w,L.children,E),L=Ci.current,(L&2)!==0)L=L&1|2,w.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=w.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&JU(p,E,w);else if(p.tag===19)JU(p,E,w);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===w)break e;for(;p.sibling===null;){if(p.return===null||p.return===w)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}L&=1}if(Jr(Ci,L),(w.mode&1)===0)w.memoizedState=null;else switch(J){case"forwards":for(E=w.child,J=null;E!==null;)p=E.alternate,p!==null&&Cx(p)===null&&(J=E),E=E.sibling;E=J,E===null?(J=w.child,w.child=null):(J=E.sibling,E.sibling=null),i5(w,!1,J,E,Q);break;case"backwards":for(E=null,J=w.child,w.child=null;J!==null;){if(p=J.alternate,p!==null&&Cx(p)===null){w.child=J;break}p=J.sibling,J.sibling=E,E=J,J=p}i5(w,!0,E,null,Q);break;case"together":i5(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function Mx(p,w){(w.mode&1)===0&&p!==null&&(p.alternate=null,w.alternate=null,w.flags|=2)}function ou(p,w,E){if(p!==null&&(w.dependencies=p.dependencies),yp|=w.lanes,(E&w.childLanes)===0)return null;if(p!==null&&w.child!==p.child)throw Error(n(153));if(w.child!==null){for(p=w.child,E=kf(p,p.pendingProps),w.child=E,E.return=w;p.sibling!==null;)p=p.sibling,E=E.sibling=kf(p,p.pendingProps),E.return=w;E.sibling=null}return w.child}function i_e(p,w,E){switch(w.tag){case 3:KU(w),Mg();break;case 5:dU(w);break;case 1:ma(w.type)&&yx(w);break;case 4:jC(w,w.stateNode.containerInfo);break;case 10:var L=w.type._context,J=w.memoizedProps.value;Jr(kx,L._currentValue),L._currentValue=J;break;case 13:if(L=w.memoizedState,L!==null)return L.dehydrated!==null?(Jr(Ci,Ci.current&1),w.flags|=128,null):(E&w.child.childLanes)!==0?GU(p,w,E):(Jr(Ci,Ci.current&1),p=ou(p,w,E),p!==null?p.sibling:null);Jr(Ci,Ci.current&1);break;case 19:if(L=(E&w.childLanes)!==0,(p.flags&128)!==0){if(L)return ZU(p,w,E);w.flags|=128}if(J=w.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),Jr(Ci,Ci.current),L)break;return null;case 22:case 23:return w.lanes=0,qU(p,w,E)}return ou(p,w,E)}var YU,o5,XU,QU;YU=function(p,w){for(var E=w.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},o5=function(){},XU=function(p,w,E,L){var J=p.memoizedProps;if(J!==L){p=w.stateNode,mp(nd.current);var Q=null;switch(E){case"input":J=tt(p,J),L=tt(p,L),Q=[];break;case"select":J=K({},J,{value:void 0}),L=K({},L,{value:void 0}),Q=[];break;case"textarea":J=ct(p,J),L=ct(p,L),Q=[];break;default:typeof J.onClick!="function"&&typeof L.onClick=="function"&&(p.onclick=px)}tn(E,L);var ue;E=null;for(He in J)if(!L.hasOwnProperty(He)&&J.hasOwnProperty(He)&&J[He]!=null)if(He==="style"){var xe=J[He];for(ue in xe)xe.hasOwnProperty(ue)&&(E||(E={}),E[ue]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?Q||(Q=[]):(Q=Q||[]).push(He,null));for(He in L){var Ce=L[He];if(xe=J!=null?J[He]:void 0,L.hasOwnProperty(He)&&Ce!==xe&&(Ce!=null||xe!=null))if(He==="style")if(xe){for(ue in xe)!xe.hasOwnProperty(ue)||Ce&&Ce.hasOwnProperty(ue)||(E||(E={}),E[ue]="");for(ue in Ce)Ce.hasOwnProperty(ue)&&xe[ue]!==Ce[ue]&&(E||(E={}),E[ue]=Ce[ue])}else E||(Q||(Q=[]),Q.push(He,E)),E=Ce;else He==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,xe=xe?xe.__html:void 0,Ce!=null&&xe!==Ce&&(Q=Q||[]).push(He,Ce)):He==="children"?typeof Ce!="string"&&typeof Ce!="number"||(Q=Q||[]).push(He,""+Ce):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Ce!=null&&He==="onScroll"&&ci("scroll",p),Q||xe===Ce||(Q=[])):(Q=Q||[]).push(He,Ce))}E&&(Q=Q||[]).push("style",E);var He=Q;(w.updateQueue=He)&&(w.flags|=4)}},QU=function(p,w,E,L){E!==L&&(w.flags|=4)};function rw(p,w){if(!vi)switch(p.tailMode){case"hidden":w=p.tail;for(var E=null;w!==null;)w.alternate!==null&&(E=w),w=w.sibling;E===null?p.tail=null:E.sibling=null;break;case"collapsed":E=p.tail;for(var L=null;E!==null;)E.alternate!==null&&(L=E),E=E.sibling;L===null?w||p.tail===null?p.tail=null:p.tail.sibling=null:L.sibling=null}}function As(p){var w=p.alternate!==null&&p.alternate.child===p.child,E=0,L=0;if(w)for(var J=p.child;J!==null;)E|=J.lanes|J.childLanes,L|=J.subtreeFlags&14680064,L|=J.flags&14680064,J.return=p,J=J.sibling;else for(J=p.child;J!==null;)E|=J.lanes|J.childLanes,L|=J.subtreeFlags,L|=J.flags,J.return=p,J=J.sibling;return p.subtreeFlags|=L,p.childLanes=E,w}function o_e(p,w,E){var L=w.pendingProps;switch(CC(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(w),null;case 1:return ma(w.type)&&gx(),As(w),null;case 3:return L=w.stateNode,Lg(),di(pa),di(Es),UC(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(p===null||p.child===null)&&(_x(w)?w.flags|=4:p===null||p.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,mc!==null&&(g5(mc),mc=null))),o5(p,w),As(w),null;case 5:$C(w);var J=mp(Xv.current);if(E=w.type,p!==null&&w.stateNode!=null)XU(p,w,E,L,J),p.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!L){if(w.stateNode===null)throw Error(n(166));return As(w),null}if(p=mp(nd.current),_x(w)){L=w.stateNode,E=w.type;var Q=w.memoizedProps;switch(L[td]=w,L[Hv]=Q,p=(w.mode&1)!==0,E){case"dialog":ci("cancel",L),ci("close",L);break;case"iframe":case"object":case"embed":ci("load",L);break;case"video":case"audio":for(J=0;J<zv.length;J++)ci(zv[J],L);break;case"source":ci("error",L);break;case"img":case"image":case"link":ci("error",L),ci("load",L);break;case"details":ci("toggle",L);break;case"input":dt(L,Q),ci("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!Q.multiple},ci("invalid",L);break;case"textarea":st(L,Q),ci("invalid",L)}tn(E,Q),J=null;for(var ue in Q)if(Q.hasOwnProperty(ue)){var xe=Q[ue];ue==="children"?typeof xe=="string"?L.textContent!==xe&&(Q.suppressHydrationWarning!==!0&&hx(L.textContent,xe,p),J=["children",xe]):typeof xe=="number"&&L.textContent!==""+xe&&(Q.suppressHydrationWarning!==!0&&hx(L.textContent,xe,p),J=["children",""+xe]):i.hasOwnProperty(ue)&&xe!=null&&ue==="onScroll"&&ci("scroll",L)}switch(E){case"input":qe(L),jt(L,Q,!0);break;case"textarea":qe(L),$t(L);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(L.onclick=px)}L=J,w.updateQueue=L,L!==null&&(w.flags|=4)}else{ue=J.nodeType===9?J:J.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=zt(E)),p==="http://www.w3.org/1999/xhtml"?E==="script"?(p=ue.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof L.is=="string"?p=ue.createElement(E,{is:L.is}):(p=ue.createElement(E),E==="select"&&(ue=p,L.multiple?ue.multiple=!0:L.size&&(ue.size=L.size))):p=ue.createElementNS(p,E),p[td]=w,p[Hv]=L,YU(p,w,!1,!1),w.stateNode=p;e:{switch(ue=Bn(E,L),E){case"dialog":ci("cancel",p),ci("close",p),J=L;break;case"iframe":case"object":case"embed":ci("load",p),J=L;break;case"video":case"audio":for(J=0;J<zv.length;J++)ci(zv[J],p);J=L;break;case"source":ci("error",p),J=L;break;case"img":case"image":case"link":ci("error",p),ci("load",p),J=L;break;case"details":ci("toggle",p),J=L;break;case"input":dt(p,L),J=tt(p,L),ci("invalid",p);break;case"option":J=L;break;case"select":p._wrapperState={wasMultiple:!!L.multiple},J=K({},L,{value:void 0}),ci("invalid",p);break;case"textarea":st(p,L),J=ct(p,L),ci("invalid",p);break;default:J=L}tn(E,J),xe=J;for(Q in xe)if(xe.hasOwnProperty(Q)){var Ce=xe[Q];Q==="style"?en(p,Ce):Q==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&ee(p,Ce)):Q==="children"?typeof Ce=="string"?(E!=="textarea"||Ce!=="")&&we(p,Ce):typeof Ce=="number"&&we(p,""+Ce):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?Ce!=null&&Q==="onScroll"&&ci("scroll",p):Ce!=null&&_(p,Q,Ce,ue))}switch(E){case"input":qe(p),jt(p,L,!1);break;case"textarea":qe(p),$t(p);break;case"option":L.value!=null&&p.setAttribute("value",""+ge(L.value));break;case"select":p.multiple=!!L.multiple,Q=L.value,Q!=null?Ze(p,!!L.multiple,Q,!1):L.defaultValue!=null&&Ze(p,!!L.multiple,L.defaultValue,!0);break;default:typeof J.onClick=="function"&&(p.onclick=px)}switch(E){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return As(w),null;case 6:if(p&&w.stateNode!=null)QU(p,w,p.memoizedProps,L);else{if(typeof L!="string"&&w.stateNode===null)throw Error(n(166));if(E=mp(Xv.current),mp(nd.current),_x(w)){if(L=w.stateNode,E=w.memoizedProps,L[td]=w,(Q=L.nodeValue!==E)&&(p=Va,p!==null))switch(p.tag){case 3:hx(L.nodeValue,E,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&hx(L.nodeValue,E,(p.mode&1)!==0)}Q&&(w.flags|=4)}else L=(E.nodeType===9?E:E.ownerDocument).createTextNode(L),L[td]=w,w.stateNode=L}return As(w),null;case 13:if(di(Ci),L=w.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(vi&&Ka!==null&&(w.mode&1)!==0&&(w.flags&128)===0)nU(),Mg(),w.flags|=98560,Q=!1;else if(Q=_x(w),L!==null&&L.dehydrated!==null){if(p===null){if(!Q)throw Error(n(318));if(Q=w.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(n(317));Q[td]=w}else Mg(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;As(w),Q=!1}else mc!==null&&(g5(mc),mc=null),Q=!0;if(!Q)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=E,w):(L=L!==null,L!==(p!==null&&p.memoizedState!==null)&&L&&(w.child.flags|=8192,(w.mode&1)!==0&&(p===null||(Ci.current&1)!==0?bo===0&&(bo=3):w5())),w.updateQueue!==null&&(w.flags|=4),As(w),null);case 4:return Lg(),o5(p,w),p===null&&Vv(w.stateNode.containerInfo),As(w),null;case 10:return PC(w.type._context),As(w),null;case 17:return ma(w.type)&&gx(),As(w),null;case 19:if(di(Ci),Q=w.memoizedState,Q===null)return As(w),null;if(L=(w.flags&128)!==0,ue=Q.rendering,ue===null)if(L)rw(Q,!1);else{if(bo!==0||p!==null&&(p.flags&128)!==0)for(p=w.child;p!==null;){if(ue=Cx(p),ue!==null){for(w.flags|=128,rw(Q,!1),L=ue.updateQueue,L!==null&&(w.updateQueue=L,w.flags|=4),w.subtreeFlags=0,L=E,E=w.child;E!==null;)Q=E,p=L,Q.flags&=14680066,ue=Q.alternate,ue===null?(Q.childLanes=0,Q.lanes=p,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=ue.childLanes,Q.lanes=ue.lanes,Q.child=ue.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=ue.memoizedProps,Q.memoizedState=ue.memoizedState,Q.updateQueue=ue.updateQueue,Q.type=ue.type,p=ue.dependencies,Q.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),E=E.sibling;return Jr(Ci,Ci.current&1|2),w.child}p=p.sibling}Q.tail!==null&&Rt()>qg&&(w.flags|=128,L=!0,rw(Q,!1),w.lanes=4194304)}else{if(!L)if(p=Cx(ue),p!==null){if(w.flags|=128,L=!0,E=p.updateQueue,E!==null&&(w.updateQueue=E,w.flags|=4),rw(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!ue.alternate&&!vi)return As(w),null}else 2*Rt()-Q.renderingStartTime>qg&&E!==1073741824&&(w.flags|=128,L=!0,rw(Q,!1),w.lanes=4194304);Q.isBackwards?(ue.sibling=w.child,w.child=ue):(E=Q.last,E!==null?E.sibling=ue:w.child=ue,Q.last=ue)}return Q.tail!==null?(w=Q.tail,Q.rendering=w,Q.tail=w.sibling,Q.renderingStartTime=Rt(),w.sibling=null,E=Ci.current,Jr(Ci,L?E&1|2:E&1),w):(As(w),null);case 22:case 23:return v5(),L=w.memoizedState!==null,p!==null&&p.memoizedState!==null!==L&&(w.flags|=8192),L&&(w.mode&1)!==0?(Ha&1073741824)!==0&&(As(w),w.subtreeFlags&6&&(w.flags|=8192)):As(w),null;case 24:return null;case 25:return null}throw Error(n(156,w.tag))}function s_e(p,w){switch(CC(w),w.tag){case 1:return ma(w.type)&&gx(),p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 3:return Lg(),di(pa),di(Es),UC(),p=w.flags,(p&65536)!==0&&(p&128)===0?(w.flags=p&-65537|128,w):null;case 5:return $C(w),null;case 13:if(di(Ci),p=w.memoizedState,p!==null&&p.dehydrated!==null){if(w.alternate===null)throw Error(n(340));Mg()}return p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 19:return di(Ci),null;case 4:return Lg(),null;case 10:return PC(w.type._context),null;case 22:case 23:return v5(),null;case 24:return null;default:return null}}var Dx=!1,Rs=!1,a_e=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Fg(p,w){var E=p.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(L){ji(p,w,L)}else E.current=null}function s5(p,w,E){try{E()}catch(L){ji(p,w,L)}}var eF=!1;function l_e(p,w){if(vC=lp,p=NL(),dC(p)){if("selectionStart"in p)var E={start:p.selectionStart,end:p.selectionEnd};else e:{E=(E=p.ownerDocument)&&E.defaultView||window;var L=E.getSelection&&E.getSelection();if(L&&L.rangeCount!==0){E=L.anchorNode;var J=L.anchorOffset,Q=L.focusNode;L=L.focusOffset;try{E.nodeType,Q.nodeType}catch{E=null;break e}var ue=0,xe=-1,Ce=-1,He=0,ht=0,yt=p,ft=null;t:for(;;){for(var Lt;yt!==E||J!==0&&yt.nodeType!==3||(xe=ue+J),yt!==Q||L!==0&&yt.nodeType!==3||(Ce=ue+L),yt.nodeType===3&&(ue+=yt.nodeValue.length),(Lt=yt.firstChild)!==null;)ft=yt,yt=Lt;for(;;){if(yt===p)break t;if(ft===E&&++He===J&&(xe=ue),ft===Q&&++ht===L&&(Ce=ue),(Lt=yt.nextSibling)!==null)break;yt=ft,ft=yt.parentNode}yt=Lt}E=xe===-1||Ce===-1?null:{start:xe,end:Ce}}else E=null}E=E||{start:0,end:0}}else E=null;for(wC={focusedElem:p,selectionRange:E},lp=!1,qt=w;qt!==null;)if(w=qt,p=w.child,(w.subtreeFlags&1028)!==0&&p!==null)p.return=w,qt=p;else for(;qt!==null;){w=qt;try{var Kt=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Kt!==null){var Gt=Kt.memoizedProps,Xi=Kt.memoizedState,$e=w.stateNode,Oe=$e.getSnapshotBeforeUpdate(w.elementType===w.type?Gt:gc(w.type,Gt),Xi);$e.__reactInternalSnapshotBeforeUpdate=Oe}break;case 3:var We=w.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(wt){ji(w,w.return,wt)}if(p=w.sibling,p!==null){p.return=w.return,qt=p;break}qt=w.return}return Kt=eF,eF=!1,Kt}function iw(p,w,E){var L=w.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var J=L=L.next;do{if((J.tag&p)===p){var Q=J.destroy;J.destroy=void 0,Q!==void 0&&s5(w,E,Q)}J=J.next}while(J!==L)}}function jx(p,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var E=w=w.next;do{if((E.tag&p)===p){var L=E.create;E.destroy=L()}E=E.next}while(E!==w)}}function a5(p){var w=p.ref;if(w!==null){var E=p.stateNode;switch(p.tag){case 5:p=E;break;default:p=E}typeof w=="function"?w(p):w.current=p}}function tF(p){var w=p.alternate;w!==null&&(p.alternate=null,tF(w)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(w=p.stateNode,w!==null&&(delete w[td],delete w[Hv],delete w[kC],delete w[z1e],delete w[V1e])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function nF(p){return p.tag===5||p.tag===3||p.tag===4}function rF(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||nF(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function l5(p,w,E){var L=p.tag;if(L===5||L===6)p=p.stateNode,w?E.nodeType===8?E.parentNode.insertBefore(p,w):E.insertBefore(p,w):(E.nodeType===8?(w=E.parentNode,w.insertBefore(p,E)):(w=E,w.appendChild(p)),E=E._reactRootContainer,E!=null||w.onclick!==null||(w.onclick=px));else if(L!==4&&(p=p.child,p!==null))for(l5(p,w,E),p=p.sibling;p!==null;)l5(p,w,E),p=p.sibling}function c5(p,w,E){var L=p.tag;if(L===5||L===6)p=p.stateNode,w?E.insertBefore(p,w):E.appendChild(p);else if(L!==4&&(p=p.child,p!==null))for(c5(p,w,E),p=p.sibling;p!==null;)c5(p,w,E),p=p.sibling}var ts=null,yc=!1;function vf(p,w,E){for(E=E.child;E!==null;)iF(p,w,E),E=E.sibling}function iF(p,w,E){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(_t,E)}catch{}switch(E.tag){case 5:Rs||Fg(E,w);case 6:var L=ts,J=yc;ts=null,vf(p,w,E),ts=L,yc=J,ts!==null&&(yc?(p=ts,E=E.stateNode,p.nodeType===8?p.parentNode.removeChild(E):p.removeChild(E)):ts.removeChild(E.stateNode));break;case 18:ts!==null&&(yc?(p=ts,E=E.stateNode,p.nodeType===8?xC(p.parentNode,E):p.nodeType===1&&xC(p,E),df(p)):xC(ts,E.stateNode));break;case 4:L=ts,J=yc,ts=E.stateNode.containerInfo,yc=!0,vf(p,w,E),ts=L,yc=J;break;case 0:case 11:case 14:case 15:if(!Rs&&(L=E.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){J=L=L.next;do{var Q=J,ue=Q.destroy;Q=Q.tag,ue!==void 0&&((Q&2)!==0||(Q&4)!==0)&&s5(E,w,ue),J=J.next}while(J!==L)}vf(p,w,E);break;case 1:if(!Rs&&(Fg(E,w),L=E.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=E.memoizedProps,L.state=E.memoizedState,L.componentWillUnmount()}catch(xe){ji(E,w,xe)}vf(p,w,E);break;case 21:vf(p,w,E);break;case 22:E.mode&1?(Rs=(L=Rs)||E.memoizedState!==null,vf(p,w,E),Rs=L):vf(p,w,E);break;default:vf(p,w,E)}}function oF(p){var w=p.updateQueue;if(w!==null){p.updateQueue=null;var E=p.stateNode;E===null&&(E=p.stateNode=new a_e),w.forEach(function(L){var J=y_e.bind(null,p,L);E.has(L)||(E.add(L),L.then(J,J))})}}function vc(p,w){var E=w.deletions;if(E!==null)for(var L=0;L<E.length;L++){var J=E[L];try{var Q=p,ue=w,xe=ue;e:for(;xe!==null;){switch(xe.tag){case 5:ts=xe.stateNode,yc=!1;break e;case 3:ts=xe.stateNode.containerInfo,yc=!0;break e;case 4:ts=xe.stateNode.containerInfo,yc=!0;break e}xe=xe.return}if(ts===null)throw Error(n(160));iF(Q,ue,J),ts=null,yc=!1;var Ce=J.alternate;Ce!==null&&(Ce.return=null),J.return=null}catch(He){ji(J,w,He)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)sF(w,p),w=w.sibling}function sF(p,w){var E=p.alternate,L=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(vc(w,p),id(p),L&4){try{iw(3,p,p.return),jx(3,p)}catch(Gt){ji(p,p.return,Gt)}try{iw(5,p,p.return)}catch(Gt){ji(p,p.return,Gt)}}break;case 1:vc(w,p),id(p),L&512&&E!==null&&Fg(E,E.return);break;case 5:if(vc(w,p),id(p),L&512&&E!==null&&Fg(E,E.return),p.flags&32){var J=p.stateNode;try{we(J,"")}catch(Gt){ji(p,p.return,Gt)}}if(L&4&&(J=p.stateNode,J!=null)){var Q=p.memoizedProps,ue=E!==null?E.memoizedProps:Q,xe=p.type,Ce=p.updateQueue;if(p.updateQueue=null,Ce!==null)try{xe==="input"&&Q.type==="radio"&&Q.name!=null&&Xt(J,Q),Bn(xe,ue);var He=Bn(xe,Q);for(ue=0;ue<Ce.length;ue+=2){var ht=Ce[ue],yt=Ce[ue+1];ht==="style"?en(J,yt):ht==="dangerouslySetInnerHTML"?ee(J,yt):ht==="children"?we(J,yt):_(J,ht,yt,He)}switch(xe){case"input":lt(J,Q);break;case"textarea":vt(J,Q);break;case"select":var ft=J._wrapperState.wasMultiple;J._wrapperState.wasMultiple=!!Q.multiple;var Lt=Q.value;Lt!=null?Ze(J,!!Q.multiple,Lt,!1):ft!==!!Q.multiple&&(Q.defaultValue!=null?Ze(J,!!Q.multiple,Q.defaultValue,!0):Ze(J,!!Q.multiple,Q.multiple?[]:"",!1))}J[Hv]=Q}catch(Gt){ji(p,p.return,Gt)}}break;case 6:if(vc(w,p),id(p),L&4){if(p.stateNode===null)throw Error(n(162));J=p.stateNode,Q=p.memoizedProps;try{J.nodeValue=Q}catch(Gt){ji(p,p.return,Gt)}}break;case 3:if(vc(w,p),id(p),L&4&&E!==null&&E.memoizedState.isDehydrated)try{df(w.containerInfo)}catch(Gt){ji(p,p.return,Gt)}break;case 4:vc(w,p),id(p);break;case 13:vc(w,p),id(p),J=p.child,J.flags&8192&&(Q=J.memoizedState!==null,J.stateNode.isHidden=Q,!Q||J.alternate!==null&&J.alternate.memoizedState!==null||(f5=Rt())),L&4&&oF(p);break;case 22:if(ht=E!==null&&E.memoizedState!==null,p.mode&1?(Rs=(He=Rs)||ht,vc(w,p),Rs=He):vc(w,p),id(p),L&8192){if(He=p.memoizedState!==null,(p.stateNode.isHidden=He)&&!ht&&(p.mode&1)!==0)for(qt=p,ht=p.child;ht!==null;){for(yt=qt=ht;qt!==null;){switch(ft=qt,Lt=ft.child,ft.tag){case 0:case 11:case 14:case 15:iw(4,ft,ft.return);break;case 1:Fg(ft,ft.return);var Kt=ft.stateNode;if(typeof Kt.componentWillUnmount=="function"){L=ft,E=ft.return;try{w=L,Kt.props=w.memoizedProps,Kt.state=w.memoizedState,Kt.componentWillUnmount()}catch(Gt){ji(L,E,Gt)}}break;case 5:Fg(ft,ft.return);break;case 22:if(ft.memoizedState!==null){cF(yt);continue}}Lt!==null?(Lt.return=ft,qt=Lt):cF(yt)}ht=ht.sibling}e:for(ht=null,yt=p;;){if(yt.tag===5){if(ht===null){ht=yt;try{J=yt.stateNode,He?(Q=J.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(xe=yt.stateNode,Ce=yt.memoizedProps.style,ue=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,xe.style.display=Fe("display",ue))}catch(Gt){ji(p,p.return,Gt)}}}else if(yt.tag===6){if(ht===null)try{yt.stateNode.nodeValue=He?"":yt.memoizedProps}catch(Gt){ji(p,p.return,Gt)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===p)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===p)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===p)break e;ht===yt&&(ht=null),yt=yt.return}ht===yt&&(ht=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:vc(w,p),id(p),L&4&&oF(p);break;case 21:break;default:vc(w,p),id(p)}}function id(p){var w=p.flags;if(w&2){try{e:{for(var E=p.return;E!==null;){if(nF(E)){var L=E;break e}E=E.return}throw Error(n(160))}switch(L.tag){case 5:var J=L.stateNode;L.flags&32&&(we(J,""),L.flags&=-33);var Q=rF(p);c5(p,Q,J);break;case 3:case 4:var ue=L.stateNode.containerInfo,xe=rF(p);l5(p,xe,ue);break;default:throw Error(n(161))}}catch(Ce){ji(p,p.return,Ce)}p.flags&=-3}w&4096&&(p.flags&=-4097)}function c_e(p,w,E){qt=p,aF(p)}function aF(p,w,E){for(var L=(p.mode&1)!==0;qt!==null;){var J=qt,Q=J.child;if(J.tag===22&&L){var ue=J.memoizedState!==null||Dx;if(!ue){var xe=J.alternate,Ce=xe!==null&&xe.memoizedState!==null||Rs;xe=Dx;var He=Rs;if(Dx=ue,(Rs=Ce)&&!He)for(qt=J;qt!==null;)ue=qt,Ce=ue.child,ue.tag===22&&ue.memoizedState!==null?dF(J):Ce!==null?(Ce.return=ue,qt=Ce):dF(J);for(;Q!==null;)qt=Q,aF(Q),Q=Q.sibling;qt=J,Dx=xe,Rs=He}lF(p)}else(J.subtreeFlags&8772)!==0&&Q!==null?(Q.return=J,qt=Q):lF(p)}}function lF(p){for(;qt!==null;){var w=qt;if((w.flags&8772)!==0){var E=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:Rs||jx(5,w);break;case 1:var L=w.stateNode;if(w.flags&4&&!Rs)if(E===null)L.componentDidMount();else{var J=w.elementType===w.type?E.memoizedProps:gc(w.type,E.memoizedProps);L.componentDidUpdate(J,E.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var Q=w.updateQueue;Q!==null&&cU(w,Q,L);break;case 3:var ue=w.updateQueue;if(ue!==null){if(E=null,w.child!==null)switch(w.child.tag){case 5:E=w.child.stateNode;break;case 1:E=w.child.stateNode}cU(w,ue,E)}break;case 5:var xe=w.stateNode;if(E===null&&w.flags&4){E=xe;var Ce=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&E.focus();break;case"img":Ce.src&&(E.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var He=w.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var yt=ht.dehydrated;yt!==null&&df(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rs||w.flags&512&&a5(w)}catch(ft){ji(w,w.return,ft)}}if(w===p){qt=null;break}if(E=w.sibling,E!==null){E.return=w.return,qt=E;break}qt=w.return}}function cF(p){for(;qt!==null;){var w=qt;if(w===p){qt=null;break}var E=w.sibling;if(E!==null){E.return=w.return,qt=E;break}qt=w.return}}function dF(p){for(;qt!==null;){var w=qt;try{switch(w.tag){case 0:case 11:case 15:var E=w.return;try{jx(4,w)}catch(Ce){ji(w,E,Ce)}break;case 1:var L=w.stateNode;if(typeof L.componentDidMount=="function"){var J=w.return;try{L.componentDidMount()}catch(Ce){ji(w,J,Ce)}}var Q=w.return;try{a5(w)}catch(Ce){ji(w,Q,Ce)}break;case 5:var ue=w.return;try{a5(w)}catch(Ce){ji(w,ue,Ce)}}}catch(Ce){ji(w,w.return,Ce)}if(w===p){qt=null;break}var xe=w.sibling;if(xe!==null){xe.return=w.return,qt=xe;break}qt=w.return}}var d_e=Math.ceil,$x=R.ReactCurrentDispatcher,d5=R.ReactCurrentOwner,Nl=R.ReactCurrentBatchConfig,mr=0,Bo=null,lo=null,ns=0,Ha=0,Wg=hf(0),bo=0,ow=null,yp=0,Lx=0,u5=0,sw=null,ya=null,f5=0,qg=1/0,su=null,Ux=!1,h5=null,wf=null,Fx=!1,bf=null,Wx=0,aw=0,p5=null,qx=-1,zx=0;function Qs(){return(mr&6)!==0?Rt():qx!==-1?qx:qx=Rt()}function _f(p){return(p.mode&1)===0?1:(mr&2)!==0&&ns!==0?ns&-ns:H1e.transition!==null?(zx===0&&(zx=Gn()),zx):(p=Yt,p!==0||(p=window.event,p=p===void 0?16:rx(p.type)),p)}function wc(p,w,E,L){if(50<aw)throw aw=0,p5=null,Error(n(185));Mn(p,E,L),((mr&2)===0||p!==Bo)&&(p===Bo&&((mr&2)===0&&(Lx|=E),bo===4&&xf(p,ns)),va(p,L),E===1&&mr===0&&(w.mode&1)===0&&(qg=Rt()+500,vx&&mf()))}function va(p,w){var E=p.callbackNode;On(p,w);var L=_n(p,p===Bo?ns:0);if(L===0)E!==null&&yn(E),p.callbackNode=null,p.callbackPriority=0;else if(w=L&-L,p.callbackPriority!==w){if(E!=null&&yn(E),w===1)p.tag===0?K1e(fF.bind(null,p)):YL(fF.bind(null,p)),W1e(function(){(mr&6)===0&&mf()}),E=null;else{switch(Wr(L)){case 1:E=Tt;break;case 4:E=Ft;break;case 16:E=St;break;case 536870912:E=Dt;break;default:E=St}E=bF(E,uF.bind(null,p))}p.callbackPriority=w,p.callbackNode=E}}function uF(p,w){if(qx=-1,zx=0,(mr&6)!==0)throw Error(n(327));var E=p.callbackNode;if(zg()&&p.callbackNode!==E)return null;var L=_n(p,p===Bo?ns:0);if(L===0)return null;if((L&30)!==0||(L&p.expiredLanes)!==0||w)w=Vx(p,L);else{w=L;var J=mr;mr|=2;var Q=pF();(Bo!==p||ns!==w)&&(su=null,qg=Rt()+500,wp(p,w));do try{h_e();break}catch(xe){hF(p,xe)}while(!0);NC(),$x.current=Q,mr=J,lo!==null?w=0:(Bo=null,ns=0,w=bo)}if(w!==0){if(w===2&&(J=$n(p),J!==0&&(L=J,w=m5(p,J))),w===1)throw E=ow,wp(p,0),xf(p,L),va(p,Rt()),E;if(w===6)xf(p,L);else{if(J=p.current.alternate,(L&30)===0&&!u_e(J)&&(w=Vx(p,L),w===2&&(Q=$n(p),Q!==0&&(L=Q,w=m5(p,Q))),w===1))throw E=ow,wp(p,0),xf(p,L),va(p,Rt()),E;switch(p.finishedWork=J,p.finishedLanes=L,w){case 0:case 1:throw Error(n(345));case 2:bp(p,ya,su);break;case 3:if(xf(p,L),(L&130023424)===L&&(w=f5+500-Rt(),10<w)){if(_n(p,0)!==0)break;if(J=p.suspendedLanes,(J&L)!==L){Qs(),p.pingedLanes|=p.suspendedLanes&J;break}p.timeoutHandle=_C(bp.bind(null,p,ya,su),w);break}bp(p,ya,su);break;case 4:if(xf(p,L),(L&4194240)===L)break;for(w=p.eventTimes,J=-1;0<L;){var ue=31-et(L);Q=1<<ue,ue=w[ue],ue>J&&(J=ue),L&=~Q}if(L=J,L=Rt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*d_e(L/1960))-L,10<L){p.timeoutHandle=_C(bp.bind(null,p,ya,su),L);break}bp(p,ya,su);break;case 5:bp(p,ya,su);break;default:throw Error(n(329))}}}return va(p,Rt()),p.callbackNode===E?uF.bind(null,p):null}function m5(p,w){var E=sw;return p.current.memoizedState.isDehydrated&&(wp(p,w).flags|=256),p=Vx(p,w),p!==2&&(w=ya,ya=E,w!==null&&g5(w)),p}function g5(p){ya===null?ya=p:ya.push.apply(ya,p)}function u_e(p){for(var w=p;;){if(w.flags&16384){var E=w.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var L=0;L<E.length;L++){var J=E[L],Q=J.getSnapshot;J=J.value;try{if(!pc(Q(),J))return!1}catch{return!1}}}if(E=w.child,w.subtreeFlags&16384&&E!==null)E.return=w,w=E;else{if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function xf(p,w){for(w&=~u5,w&=~Lx,p.suspendedLanes|=w,p.pingedLanes&=~w,p=p.expirationTimes;0<w;){var E=31-et(w),L=1<<E;p[E]=-1,w&=~L}}function fF(p){if((mr&6)!==0)throw Error(n(327));zg();var w=_n(p,0);if((w&1)===0)return va(p,Rt()),null;var E=Vx(p,w);if(p.tag!==0&&E===2){var L=$n(p);L!==0&&(w=L,E=m5(p,L))}if(E===1)throw E=ow,wp(p,0),xf(p,w),va(p,Rt()),E;if(E===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=w,bp(p,ya,su),va(p,Rt()),null}function y5(p,w){var E=mr;mr|=1;try{return p(w)}finally{mr=E,mr===0&&(qg=Rt()+500,vx&&mf())}}function vp(p){bf!==null&&bf.tag===0&&(mr&6)===0&&zg();var w=mr;mr|=1;var E=Nl.transition,L=Yt;try{if(Nl.transition=null,Yt=1,p)return p()}finally{Yt=L,Nl.transition=E,mr=w,(mr&6)===0&&mf()}}function v5(){Ha=Wg.current,di(Wg)}function wp(p,w){p.finishedWork=null,p.finishedLanes=0;var E=p.timeoutHandle;if(E!==-1&&(p.timeoutHandle=-1,F1e(E)),lo!==null)for(E=lo.return;E!==null;){var L=E;switch(CC(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&gx();break;case 3:Lg(),di(pa),di(Es),UC();break;case 5:$C(L);break;case 4:Lg();break;case 13:di(Ci);break;case 19:di(Ci);break;case 10:PC(L.type._context);break;case 22:case 23:v5()}E=E.return}if(Bo=p,lo=p=kf(p.current,null),ns=Ha=w,bo=0,ow=null,u5=Lx=yp=0,ya=sw=null,pp!==null){for(w=0;w<pp.length;w++)if(E=pp[w],L=E.interleaved,L!==null){E.interleaved=null;var J=L.next,Q=E.pending;if(Q!==null){var ue=Q.next;Q.next=J,L.next=ue}E.pending=L}pp=null}return p}function hF(p,w){do{var E=lo;try{if(NC(),Ax.current=Nx,Rx){for(var L=Ai.memoizedState;L!==null;){var J=L.queue;J!==null&&(J.pending=null),L=L.next}Rx=!1}if(gp=0,Po=wo=Ai=null,Qv=!1,ew=0,d5.current=null,E===null||E.return===null){bo=1,ow=w,lo=null;break}e:{var Q=p,ue=E.return,xe=E,Ce=w;if(w=ns,xe.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var He=Ce,ht=xe,yt=ht.tag;if((ht.mode&1)===0&&(yt===0||yt===11||yt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Lt=$U(ue);if(Lt!==null){Lt.flags&=-257,LU(Lt,ue,xe,Q,w),Lt.mode&1&&jU(Q,He,w),w=Lt,Ce=He;var Kt=w.updateQueue;if(Kt===null){var Gt=new Set;Gt.add(Ce),w.updateQueue=Gt}else Kt.add(Ce);break e}else{if((w&1)===0){jU(Q,He,w),w5();break e}Ce=Error(n(426))}}else if(vi&&xe.mode&1){var Xi=$U(ue);if(Xi!==null){(Xi.flags&65536)===0&&(Xi.flags|=256),LU(Xi,ue,xe,Q,w),TC(Ug(Ce,xe));break e}}Q=Ce=Ug(Ce,xe),bo!==4&&(bo=2),sw===null?sw=[Q]:sw.push(Q),Q=ue;do{switch(Q.tag){case 3:Q.flags|=65536,w&=-w,Q.lanes|=w;var $e=MU(Q,Ce,w);lU(Q,$e);break e;case 1:xe=Ce;var Oe=Q.type,We=Q.stateNode;if((Q.flags&128)===0&&(typeof Oe.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(wf===null||!wf.has(We)))){Q.flags|=65536,w&=-w,Q.lanes|=w;var wt=DU(Q,xe,w);lU(Q,wt);break e}}Q=Q.return}while(Q!==null)}gF(E)}catch(Qt){w=Qt,lo===E&&E!==null&&(lo=E=E.return);continue}break}while(!0)}function pF(){var p=$x.current;return $x.current=Nx,p===null?Nx:p}function w5(){(bo===0||bo===3||bo===2)&&(bo=4),Bo===null||(yp&268435455)===0&&(Lx&268435455)===0||xf(Bo,ns)}function Vx(p,w){var E=mr;mr|=2;var L=pF();(Bo!==p||ns!==w)&&(su=null,wp(p,w));do try{f_e();break}catch(J){hF(p,J)}while(!0);if(NC(),mr=E,$x.current=L,lo!==null)throw Error(n(261));return Bo=null,ns=0,bo}function f_e(){for(;lo!==null;)mF(lo)}function h_e(){for(;lo!==null&&!vn();)mF(lo)}function mF(p){var w=wF(p.alternate,p,Ha);p.memoizedProps=p.pendingProps,w===null?gF(p):lo=w,d5.current=null}function gF(p){var w=p;do{var E=w.alternate;if(p=w.return,(w.flags&32768)===0){if(E=o_e(E,w,Ha),E!==null){lo=E;return}}else{if(E=s_e(E,w),E!==null){E.flags&=32767,lo=E;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{bo=6,lo=null;return}}if(w=w.sibling,w!==null){lo=w;return}lo=w=p}while(w!==null);bo===0&&(bo=5)}function bp(p,w,E){var L=Yt,J=Nl.transition;try{Nl.transition=null,Yt=1,p_e(p,w,E,L)}finally{Nl.transition=J,Yt=L}return null}function p_e(p,w,E,L){do zg();while(bf!==null);if((mr&6)!==0)throw Error(n(327));E=p.finishedWork;var J=p.finishedLanes;if(E===null)return null;if(p.finishedWork=null,p.finishedLanes=0,E===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var Q=E.lanes|E.childLanes;if(Nn(p,Q),p===Bo&&(lo=Bo=null,ns=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||Fx||(Fx=!0,bF(St,function(){return zg(),null})),Q=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||Q){Q=Nl.transition,Nl.transition=null;var ue=Yt;Yt=1;var xe=mr;mr|=4,d5.current=null,l_e(p,E),sF(E,p),B1e(wC),lp=!!vC,wC=vC=null,p.current=E,c_e(E),un(),mr=xe,Yt=ue,Nl.transition=Q}else p.current=E;if(Fx&&(Fx=!1,bf=p,Wx=J),Q=p.pendingLanes,Q===0&&(wf=null),Ve(E.stateNode),va(p,Rt()),w!==null)for(L=p.onRecoverableError,E=0;E<w.length;E++)J=w[E],L(J.value,{componentStack:J.stack,digest:J.digest});if(Ux)throw Ux=!1,p=h5,h5=null,p;return(Wx&1)!==0&&p.tag!==0&&zg(),Q=p.pendingLanes,(Q&1)!==0?p===p5?aw++:(aw=0,p5=p):aw=0,mf(),null}function zg(){if(bf!==null){var p=Wr(Wx),w=Nl.transition,E=Yt;try{if(Nl.transition=null,Yt=16>p?16:p,bf===null)var L=!1;else{if(p=bf,bf=null,Wx=0,(mr&6)!==0)throw Error(n(331));var J=mr;for(mr|=4,qt=p.current;qt!==null;){var Q=qt,ue=Q.child;if((qt.flags&16)!==0){var xe=Q.deletions;if(xe!==null){for(var Ce=0;Ce<xe.length;Ce++){var He=xe[Ce];for(qt=He;qt!==null;){var ht=qt;switch(ht.tag){case 0:case 11:case 15:iw(8,ht,Q)}var yt=ht.child;if(yt!==null)yt.return=ht,qt=yt;else for(;qt!==null;){ht=qt;var ft=ht.sibling,Lt=ht.return;if(tF(ht),ht===He){qt=null;break}if(ft!==null){ft.return=Lt,qt=ft;break}qt=Lt}}}var Kt=Q.alternate;if(Kt!==null){var Gt=Kt.child;if(Gt!==null){Kt.child=null;do{var Xi=Gt.sibling;Gt.sibling=null,Gt=Xi}while(Gt!==null)}}qt=Q}}if((Q.subtreeFlags&2064)!==0&&ue!==null)ue.return=Q,qt=ue;else e:for(;qt!==null;){if(Q=qt,(Q.flags&2048)!==0)switch(Q.tag){case 0:case 11:case 15:iw(9,Q,Q.return)}var $e=Q.sibling;if($e!==null){$e.return=Q.return,qt=$e;break e}qt=Q.return}}var Oe=p.current;for(qt=Oe;qt!==null;){ue=qt;var We=ue.child;if((ue.subtreeFlags&2064)!==0&&We!==null)We.return=ue,qt=We;else e:for(ue=Oe;qt!==null;){if(xe=qt,(xe.flags&2048)!==0)try{switch(xe.tag){case 0:case 11:case 15:jx(9,xe)}}catch(Qt){ji(xe,xe.return,Qt)}if(xe===ue){qt=null;break e}var wt=xe.sibling;if(wt!==null){wt.return=xe.return,qt=wt;break e}qt=xe.return}}if(mr=J,mf(),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(_t,p)}catch{}L=!0}return L}finally{Yt=E,Nl.transition=w}}return!1}function yF(p,w,E){w=Ug(E,w),w=MU(p,w,1),p=yf(p,w,1),w=Qs(),p!==null&&(Mn(p,1,w),va(p,w))}function ji(p,w,E){if(p.tag===3)yF(p,p,E);else for(;w!==null;){if(w.tag===3){yF(w,p,E);break}else if(w.tag===1){var L=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(wf===null||!wf.has(L))){p=Ug(E,p),p=DU(w,p,1),w=yf(w,p,1),p=Qs(),w!==null&&(Mn(w,1,p),va(w,p));break}}w=w.return}}function m_e(p,w,E){var L=p.pingCache;L!==null&&L.delete(w),w=Qs(),p.pingedLanes|=p.suspendedLanes&E,Bo===p&&(ns&E)===E&&(bo===4||bo===3&&(ns&130023424)===ns&&500>Rt()-f5?wp(p,0):u5|=E),va(p,w)}function vF(p,w){w===0&&((p.mode&1)===0?w=1:(w=mn,mn<<=1,(mn&130023424)===0&&(mn=4194304)));var E=Qs();p=ru(p,w),p!==null&&(Mn(p,w,E),va(p,E))}function g_e(p){var w=p.memoizedState,E=0;w!==null&&(E=w.retryLane),vF(p,E)}function y_e(p,w){var E=0;switch(p.tag){case 13:var L=p.stateNode,J=p.memoizedState;J!==null&&(E=J.retryLane);break;case 19:L=p.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(w),vF(p,E)}var wF;wF=function(p,w,E){if(p!==null)if(p.memoizedProps!==w.pendingProps||pa.current)ga=!0;else{if((p.lanes&E)===0&&(w.flags&128)===0)return ga=!1,i_e(p,w,E);ga=(p.flags&131072)!==0}else ga=!1,vi&&(w.flags&1048576)!==0&&XL(w,bx,w.index);switch(w.lanes=0,w.tag){case 2:var L=w.type;Mx(p,w),p=w.pendingProps;var J=Ng(w,Es.current);$g(w,E),J=qC(null,w,L,p,J,E);var Q=zC();return w.flags|=1,typeof J=="object"&&J!==null&&typeof J.render=="function"&&J.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,ma(L)?(Q=!0,yx(w)):Q=!1,w.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,DC(w),J.updater=Px,w.stateNode=J,J._reactInternals=w,ZC(w,L,p,E),w=e5(null,w,L,!0,Q,E)):(w.tag=0,vi&&Q&&EC(w),Xs(null,w,J,E),w=w.child),w;case 16:L=w.elementType;e:{switch(Mx(p,w),p=w.pendingProps,J=L._init,L=J(L._payload),w.type=L,J=w.tag=w_e(L),p=gc(L,p),J){case 0:w=QC(null,w,L,p,E);break e;case 1:w=VU(null,w,L,p,E);break e;case 11:w=UU(null,w,L,p,E);break e;case 14:w=FU(null,w,L,gc(L.type,p),E);break e}throw Error(n(306,L,""))}return w;case 0:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),QC(p,w,L,J,E);case 1:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),VU(p,w,L,J,E);case 3:e:{if(KU(w),p===null)throw Error(n(387));L=w.pendingProps,Q=w.memoizedState,J=Q.element,aU(p,w),Ex(w,L,null,E);var ue=w.memoizedState;if(L=ue.element,Q.isDehydrated)if(Q={element:L,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},w.updateQueue.baseState=Q,w.memoizedState=Q,w.flags&256){J=Ug(Error(n(423)),w),w=HU(p,w,L,E,J);break e}else if(L!==J){J=Ug(Error(n(424)),w),w=HU(p,w,L,E,J);break e}else for(Ka=ff(w.stateNode.containerInfo.firstChild),Va=w,vi=!0,mc=null,E=oU(w,null,L,E),w.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Mg(),L===J){w=ou(p,w,E);break e}Xs(p,w,L,E)}w=w.child}return w;case 5:return dU(w),p===null&&RC(w),L=w.type,J=w.pendingProps,Q=p!==null?p.memoizedProps:null,ue=J.children,bC(L,J)?ue=null:Q!==null&&bC(L,Q)&&(w.flags|=32),zU(p,w),Xs(p,w,ue,E),w.child;case 6:return p===null&&RC(w),null;case 13:return GU(p,w,E);case 4:return jC(w,w.stateNode.containerInfo),L=w.pendingProps,p===null?w.child=Dg(w,null,L,E):Xs(p,w,L,E),w.child;case 11:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),UU(p,w,L,J,E);case 7:return Xs(p,w,w.pendingProps,E),w.child;case 8:return Xs(p,w,w.pendingProps.children,E),w.child;case 12:return Xs(p,w,w.pendingProps.children,E),w.child;case 10:e:{if(L=w.type._context,J=w.pendingProps,Q=w.memoizedProps,ue=J.value,Jr(kx,L._currentValue),L._currentValue=ue,Q!==null)if(pc(Q.value,ue)){if(Q.children===J.children&&!pa.current){w=ou(p,w,E);break e}}else for(Q=w.child,Q!==null&&(Q.return=w);Q!==null;){var xe=Q.dependencies;if(xe!==null){ue=Q.child;for(var Ce=xe.firstContext;Ce!==null;){if(Ce.context===L){if(Q.tag===1){Ce=iu(-1,E&-E),Ce.tag=2;var He=Q.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Ce.next=Ce:(Ce.next=ht.next,ht.next=Ce),He.pending=Ce}}Q.lanes|=E,Ce=Q.alternate,Ce!==null&&(Ce.lanes|=E),BC(Q.return,E,w),xe.lanes|=E;break}Ce=Ce.next}}else if(Q.tag===10)ue=Q.type===w.type?null:Q.child;else if(Q.tag===18){if(ue=Q.return,ue===null)throw Error(n(341));ue.lanes|=E,xe=ue.alternate,xe!==null&&(xe.lanes|=E),BC(ue,E,w),ue=Q.sibling}else ue=Q.child;if(ue!==null)ue.return=Q;else for(ue=Q;ue!==null;){if(ue===w){ue=null;break}if(Q=ue.sibling,Q!==null){Q.return=ue.return,ue=Q;break}ue=ue.return}Q=ue}Xs(p,w,J.children,E),w=w.child}return w;case 9:return J=w.type,L=w.pendingProps.children,$g(w,E),J=Tl(J),L=L(J),w.flags|=1,Xs(p,w,L,E),w.child;case 14:return L=w.type,J=gc(L,w.pendingProps),J=gc(L.type,J),FU(p,w,L,J,E);case 15:return WU(p,w,w.type,w.pendingProps,E);case 17:return L=w.type,J=w.pendingProps,J=w.elementType===L?J:gc(L,J),Mx(p,w),w.tag=1,ma(L)?(p=!0,yx(w)):p=!1,$g(w,E),PU(w,L,J),ZC(w,L,J,E),e5(null,w,L,!0,p,E);case 19:return ZU(p,w,E);case 22:return qU(p,w,E)}throw Error(n(156,w.tag))};function bF(p,w){return dn(p,w)}function v_e(p,w,E,L){this.tag=p,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(p,w,E,L){return new v_e(p,w,E,L)}function b5(p){return p=p.prototype,!(!p||!p.isReactComponent)}function w_e(p){if(typeof p=="function")return b5(p)?1:0;if(p!=null){if(p=p.$$typeof,p===z)return 11;if(p===A)return 14}return 2}function kf(p,w){var E=p.alternate;return E===null?(E=Pl(p.tag,w,p.key,p.mode),E.elementType=p.elementType,E.type=p.type,E.stateNode=p.stateNode,E.alternate=p,p.alternate=E):(E.pendingProps=w,E.type=p.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=p.flags&14680064,E.childLanes=p.childLanes,E.lanes=p.lanes,E.child=p.child,E.memoizedProps=p.memoizedProps,E.memoizedState=p.memoizedState,E.updateQueue=p.updateQueue,w=p.dependencies,E.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},E.sibling=p.sibling,E.index=p.index,E.ref=p.ref,E}function Kx(p,w,E,L,J,Q){var ue=2;if(L=p,typeof p=="function")b5(p)&&(ue=1);else if(typeof p=="string")ue=5;else e:switch(p){case D:return _p(E.children,J,Q,w);case M:ue=8,J|=8;break;case C:return p=Pl(12,E,w,J|2),p.elementType=C,p.lanes=Q,p;case q:return p=Pl(13,E,w,J),p.elementType=q,p.lanes=Q,p;case S:return p=Pl(19,E,w,J),p.elementType=S,p.lanes=Q,p;case N:return Hx(E,J,Q,w);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case U:ue=10;break e;case $:ue=9;break e;case z:ue=11;break e;case A:ue=14;break e;case O:ue=16,L=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return w=Pl(ue,E,w,J),w.elementType=p,w.type=L,w.lanes=Q,w}function _p(p,w,E,L){return p=Pl(7,p,L,w),p.lanes=E,p}function Hx(p,w,E,L){return p=Pl(22,p,L,w),p.elementType=N,p.lanes=E,p.stateNode={isHidden:!1},p}function _5(p,w,E){return p=Pl(6,p,null,w),p.lanes=E,p}function x5(p,w,E){return w=Pl(4,p.children!==null?p.children:[],p.key,w),w.lanes=E,w.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},w}function b_e(p,w,E,L,J){this.tag=w,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=In(0),this.expirationTimes=In(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.identifierPrefix=L,this.onRecoverableError=J,this.mutableSourceEagerHydrationData=null}function k5(p,w,E,L,J,Q,ue,xe,Ce){return p=new b_e(p,w,E,xe,Ce),w===1?(w=1,Q===!0&&(w|=8)):w=0,Q=Pl(3,null,null,w),p.current=Q,Q.stateNode=p,Q.memoizedState={element:L,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},DC(Q),p}function __e(p,w,E){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:L==null?null:""+L,children:p,containerInfo:w,implementation:E}}function _F(p){if(!p)return pf;p=p._reactInternals;e:{if(ut(p)!==p||p.tag!==1)throw Error(n(170));var w=p;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(ma(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(n(171))}if(p.tag===1){var E=p.type;if(ma(E))return JL(p,E,w)}return w}function xF(p,w,E,L,J,Q,ue,xe,Ce){return p=k5(E,L,!0,p,J,Q,ue,xe,Ce),p.context=_F(null),E=p.current,L=Qs(),J=_f(E),Q=iu(L,J),Q.callback=w??null,yf(E,Q,J),p.current.lanes=J,Mn(p,J,L),va(p,L),p}function Gx(p,w,E,L){var J=w.current,Q=Qs(),ue=_f(J);return E=_F(E),w.context===null?w.context=E:w.pendingContext=E,w=iu(Q,ue),w.payload={element:p},L=L===void 0?null:L,L!==null&&(w.callback=L),p=yf(J,w,ue),p!==null&&(wc(p,J,ue,Q),Ix(p,J,ue)),ue}function Jx(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function kF(p,w){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var E=p.retryLane;p.retryLane=E!==0&&E<w?E:w}}function S5(p,w){kF(p,w),(p=p.alternate)&&kF(p,w)}function x_e(){return null}var SF=typeof reportError=="function"?reportError:function(p){console.error(p)};function I5(p){this._internalRoot=p}Zx.prototype.render=I5.prototype.render=function(p){var w=this._internalRoot;if(w===null)throw Error(n(409));Gx(p,w,null,null)},Zx.prototype.unmount=I5.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var w=p.containerInfo;vp(function(){Gx(null,p,null,null)}),w[Qd]=null}};function Zx(p){this._internalRoot=p}Zx.prototype.unstable_scheduleHydration=function(p){if(p){var w=Di();p={blockedOn:null,target:p,priority:w};for(var E=0;E<ed.length&&w!==0&&w<ed[E].priority;E++);ed.splice(E,0,p),E===0&&Bv(p)}};function E5(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Yx(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function IF(){}function k_e(p,w,E,L,J){if(J){if(typeof L=="function"){var Q=L;L=function(){var He=Jx(ue);Q.call(He)}}var ue=xF(w,L,p,0,null,!1,!1,"",IF);return p._reactRootContainer=ue,p[Qd]=ue.current,Vv(p.nodeType===8?p.parentNode:p),vp(),ue}for(;J=p.lastChild;)p.removeChild(J);if(typeof L=="function"){var xe=L;L=function(){var He=Jx(Ce);xe.call(He)}}var Ce=k5(p,0,!1,null,null,!1,!1,"",IF);return p._reactRootContainer=Ce,p[Qd]=Ce.current,Vv(p.nodeType===8?p.parentNode:p),vp(function(){Gx(w,Ce,E,L)}),Ce}function Xx(p,w,E,L,J){var Q=E._reactRootContainer;if(Q){var ue=Q;if(typeof J=="function"){var xe=J;J=function(){var Ce=Jx(ue);xe.call(Ce)}}Gx(w,ue,p,J)}else ue=k_e(E,w,p,J,L);return Jx(ue)}ar=function(p){switch(p.tag){case 3:var w=p.stateNode;if(w.current.memoizedState.isDehydrated){var E=gn(w.pendingLanes);E!==0&&(Dr(w,E|1),va(w,Rt()),(mr&6)===0&&(qg=Rt()+500,mf()))}break;case 13:vp(function(){var L=ru(p,1);if(L!==null){var J=Qs();wc(L,p,1,J)}}),S5(p,1)}},Cr=function(p){if(p.tag===13){var w=ru(p,134217728);if(w!==null){var E=Qs();wc(w,p,134217728,E)}S5(p,134217728)}},Gr=function(p){if(p.tag===13){var w=_f(p),E=ru(p,w);if(E!==null){var L=Qs();wc(E,p,w,L)}S5(p,w)}},Di=function(){return Yt},lr=function(p,w){var E=Yt;try{return Yt=p,w()}finally{Yt=E}},Wa=function(p,w,E){switch(w){case"input":if(lt(p,E),w=E.name,E.type==="radio"&&w!=null){for(E=p;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<E.length;w++){var L=E[w];if(L!==p&&L.form===p.form){var J=mx(L);if(!J)throw Error(n(90));Me(L),lt(L,J)}}}break;case"textarea":vt(p,E);break;case"select":w=E.value,w!=null&&Ze(p,!!E.multiple,w,!1)}},Qo=y5,Or=vp;var S_e={usingClientEntryPoint:!1,Events:[Gv,Tg,mx,ir,sr,y5]},lw={findFiberByHostInstance:dp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I_e={bundleType:lw.bundleType,version:lw.version,rendererPackageName:lw.rendererPackageName,rendererConfig:lw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=Et(p),p===null?null:p.stateNode},findFiberByHostInstance:lw.findFiberByHostInstance||x_e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qx.isDisabled&&Qx.supportsFiber)try{_t=Qx.inject(I_e),Ue=Qx}catch{}}return wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S_e,wa.createPortal=function(p,w){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E5(w))throw Error(n(200));return __e(p,w,null,E)},wa.createRoot=function(p,w){if(!E5(p))throw Error(n(299));var E=!1,L="",J=SF;return w!=null&&(w.unstable_strictMode===!0&&(E=!0),w.identifierPrefix!==void 0&&(L=w.identifierPrefix),w.onRecoverableError!==void 0&&(J=w.onRecoverableError)),w=k5(p,1,!1,null,null,E,!1,L,J),p[Qd]=w.current,Vv(p.nodeType===8?p.parentNode:p),new I5(w)},wa.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var w=p._reactInternals;if(w===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=Et(w),p=p===null?null:p.stateNode,p},wa.flushSync=function(p){return vp(p)},wa.hydrate=function(p,w,E){if(!Yx(w))throw Error(n(200));return Xx(null,p,w,!0,E)},wa.hydrateRoot=function(p,w,E){if(!E5(p))throw Error(n(405));var L=E!=null&&E.hydratedSources||null,J=!1,Q="",ue=SF;if(E!=null&&(E.unstable_strictMode===!0&&(J=!0),E.identifierPrefix!==void 0&&(Q=E.identifierPrefix),E.onRecoverableError!==void 0&&(ue=E.onRecoverableError)),w=xF(w,null,p,1,E??null,J,!1,Q,ue),p[Qd]=w.current,Vv(p),L)for(p=0;p<L.length;p++)E=L[p],J=E._getVersion,J=J(E._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[E,J]:w.mutableSourceEagerHydrationData.push(E,J);return new Zx(w)},wa.render=function(p,w,E){if(!Yx(w))throw Error(n(200));return Xx(null,p,w,!1,E)},wa.unmountComponentAtNode=function(p){if(!Yx(p))throw Error(n(40));return p._reactRootContainer?(vp(function(){Xx(null,null,p,!1,function(){p._reactRootContainer=null,p[Qd]=null})}),!0):!1},wa.unstable_batchedUpdates=y5,wa.unstable_renderSubtreeIntoContainer=function(p,w,E,L){if(!Yx(E))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return Xx(p,w,E,!1,L)},wa.version="18.3.1-next-f1338f8080-20240426",wa}var DF;function jie(){if(DF)return T5.exports;DF=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),T5.exports=D_e(),T5.exports}var jF;function j_e(){if(jF)return tk;jF=1;var e=jie();return tk.createRoot=e.createRoot,tk.hydrateRoot=e.hydrateRoot,tk}var $_e=j_e();function $F(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}var P5={exports:{}},LF;function L_e(){return LF||(LF=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(P5)),P5.exports}var U_e=L_e();const F_e=Rr(U_e),oO=(e,t)=>{if(typeof e!="object"||typeof t!="object")return t;const n=Object.assign({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]=="object"?n[r]=oO(e[r],t[r]):n[r]=t[r]);return n};class WI{constructor(t={}){this.meta={},this.meta=t}set(t,n){const r={};t.split(".").reduce((i,o,s,a)=>{if(s===a.length-1)i[o]=n;else return i[o]||(i[o]={}),i[o]},r),this.meta=oO(this.meta,r)}get(){return this.meta}clear(){this.meta={}}merge(t){return new WI(oO(this.get(),t.get()))}}var Wi;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.MUTE=99]="MUTE"})(Wi||(Wi={}));const W_e=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},UF=e=>{if(e in Wi&&typeof e=="string")return Wi[e];if(e in Wi&&typeof e=="number")return e;throw new Error(`Invalid log level: ${e}`)},q_e=e=>{const t=e.args.filter(r=>typeof r=="object"),n=e.args.filter(r=>typeof r!="object"||r instanceof Error).map(r=>{var i;return(i=r==null?void 0:r.toString)===null||i===void 0?void 0:i.call(r)});return{objectArgs:t,remainingArgs:n}},z_e=e=>{const t={};if(Error.captureStackTrace)return Error.captureStackTrace(t,e),t.stack;const{stack:n}=new Error;return n&&e?n.split(`
`).slice(2).join(`
`):n};var V_e={};const $ie=Symbol.for("__DYNAMIC_LOGGER_GLOBAL_STATE__"),Ws=globalThis[$ie]||{events:new F_e,keys:{emitErrors:!0},logLevel:void 0,metaData:new WI,troubleshootModeEnabled:!1};globalThis[$ie]=Ws;const K_e=["Failed to send logs to server"],nk=[];let gi=class Tp{static get troubleshootModeEnabled(){return Ws.troubleshootModeEnabled}static set troubleshootModeEnabled(t){Ws.troubleshootModeEnabled=t}constructor(t,n){this.name=t,this._level=void 0,this.metaData=new WI,this._level=n,typeof window<"u"&&window.localStorage!==void 0&&(Tp.troubleshootModeEnabled=Tp.troubleshootModeEnabled||window.localStorage.getItem("dynamic_enableTroubleshootMode")==="true",window.enableTroubleshootMode=()=>{window.localStorage.setItem("dynamic_enableTroubleshootMode","true"),Tp.troubleshootModeEnabled=!0},window.disableTroubleshootMode=()=>{window.localStorage.removeItem("dynamic_enableTroubleshootMode"),Tp.troubleshootModeEnabled=!1})}static setEmitErrors(t){t!==void 0&&(Ws.keys.emitErrors=t)}static setEnvironmentId(t){t!==void 0&&(Ws.keys.environmentId=t)}getNameArray(t){return Array.isArray(t)?t:[t]}createLogger(t,n){return new Tp([...this.getNameArray(this.name),...this.getNameArray(t)],n??this.level)}get logLevel(){return Wi[this.level]}setLogLevel(t){this._level=UF(t)}static setLogLevel(t){Ws.logLevel=UF(t)}static resetLogLevel(){Ws.logLevel=void 0}get level(){var t;return Ws.logLevel&&!this._level?Ws.logLevel:this._level===void 0&&typeof process<"u"&&((t=V_e)===null||t===void 0?void 0:t.NODE_ENV)!=="production"?Wi.DEBUG:this._level===void 0?Wi.WARN:this._level}formatMessage(t,n){var r;return n instanceof Error||n instanceof Object&&Object.prototype.hasOwnProperty.call(n,"stack")?n=n.stack:n instanceof Object&&(n=JSON.stringify(n,W_e())),`${(Array.isArray(this.name)?this.name:[this.name]).map(o=>`[${o}]`).join("")} [${(r=Wi[t])!==null&&r!==void 0?r:"TROUBLESHOOTING"}]: ${n}`}captureAndSend(t,n,...r){return $F(this,void 0,void 0,function*(){Ws.keys.emitErrors&&!K_e.includes(n==null?void 0:n.toString())&&typeof window<"u"&&this.emitHttpLogs(t,n,{args:r})})}emitHttpLogs(t,n,{args:r=[],transformMeta:i=o=>o}){const o=z_e(this.emitHttpLogs);nk.push({args:r,level:t,message:n,stack:o}),nk.length===1&&queueMicrotask(()=>$F(this,void 0,void 0,function*(){const s=nk.splice(0,nk.length),a=[];s.forEach(l=>{var c,d,u,h,m,v;const y={},{objectArgs:g,remainingArgs:b}=q_e(l);Object.assign(y,...g),Object.assign(y,{level:Wi[l.level],message:[l.message,...b].join(" "),meta:i(Ws.metaData.merge(this.metaData).get()),stack:l.stack,url:{hostname:(c=window.location)===null||c===void 0?void 0:c.hostname,origin:(d=window.location)===null||d===void 0?void 0:d.origin,pathname:(u=window.location)===null||u===void 0?void 0:u.pathname,port:(h=window.location)===null||h===void 0?void 0:h.port,protocol:(m=window.location)===null||m===void 0?void 0:m.protocol},userAgent:(v=window.navigator)===null||v===void 0?void 0:v.userAgent}),a.push(y)});try{if(!Ws.keys.environmentId)throw new Error("Environment ID not set");yield fetch(`https://logs.dynamicauth.com/api/v1/${Ws.keys.environmentId}`,{body:JSON.stringify(a),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",referrerPolicy:"origin-when-cross-origin"})}catch(l){this.debug("Failed to send logs to server",l)}}))}instrument(t,n){return this.emitHttpLogs(Wi.INFO,t,{args:[n],transformMeta:()=>{}})}log(t,n,...r){if(!(typeof window<"u"&&Tp.troubleshootModeEnabled)&&(t<this.level||t===Wi.MUTE))return;Ws.events.emit("log",t,n,...r);const o=this.formatMessage(t,n);switch(t){case Wi.WARN:console.warn(o,...r);break;case Wi.ERROR:console.error(o,...r);break;default:console.log(o,...r)}t===Wi.ERROR&&this.captureAndSend(t,n,...r)}logVerboseTroubleshootingMessage(t,...n){this.log(-1,t,...n)}debug(t,...n){this.log(Wi.DEBUG,t,...n)}info(t,...n){this.log(Wi.INFO,t,...n)}warn(t,...n){this.log(Wi.WARN,t,...n)}error(t,...n){this.log(Wi.ERROR,t,...n)}};gi.globalMetaData=Ws.metaData;gi.events=Ws.events;let w2={};const H_e=new gi("@dynamic-labs/assert-package-version");let uw=null;const Oo=(e,t)=>{w2[e]=t,uw&&(clearTimeout(uw),uw=null),uw=setTimeout(()=>{const r=Object.values(w2),[i]=r;if(!r.every(s=>s===i)){const s=w2["@dynamic-labs/sdk-react-core"]||i,a=G_e(s);H_e.error(new Error(a))}uw=null},100)},G_e=e=>`
 Version Mismatch Error

One or more \`@dynamic-labs\` packages are installed with mismatched versions. All \`@dynamic-labs\` packages must be on the same version to work correctly.

Affected Packages:
${Object.entries(w2).filter(([,r])=>r!==e).map(([r,i])=>`- \`${r}\` (installed: **${i}**, required: **${e}**)`).join(`
`)}

 To fix this issue, update all @dynamic-labs/* packages to version \`${e}\` in your package.json
 Tip: You can use the \`npx dynamic-doctor run\` command to check for other issues with your project setup.
`.trim();var J_e="4.57.1";typeof window<"u"&&(window.global=globalThis,!window.Buffer&&typeof window.Buffer>"u"&&Object.assign(window,{Buffer:Te.Buffer}));const Th=e=>{const t=Array.prototype.map.call(e,n=>String.fromCharCode(n)).join("");return Buffer.from(t,"binary").toString("base64")},$u=new gi("utils"),Lie=(e,t=0)=>{const n=Math.pow(10,t);return Math.ceil(e*n)/n};class $m{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}class u0 extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n,Object.setPrototypeOf(this,this.constructor.prototype)}toJSON(){return{code:this.code,error:this.message}}}class Se extends u0{}class rS extends Se{}class z1 extends Se{constructor(t,n){super(t),this.errorMessage=t,this.errorPayload=n}}class Uie extends Se{constructor(t){super("This address is not approved for access"),this.walletPublicKey=t}}class sM extends Se{constructor(){super("Custom Field for user must be unique within the environment","custom_field_data_not_unique")}}class aM extends Se{constructor(){super("Email already exists")}}class qI extends Se{constructor(t,n){super(t,n)}}class Fie extends Se{constructor(t){super(t)}}class Wie extends Se{constructor(t){super("EmbeddedWalletExistsError",t)}}var qs;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DEFAULT=1]="DEFAULT",e[e.USER_REJECTED=2]="USER_REJECTED",e[e.MESSAGE_SIGNATURE_DENIED=3]="MESSAGE_SIGNATURE_DENIED",e[e.WALLET_LOCKED=4]="WALLET_LOCKED",e[e.INVALID_PARAMETERS=5]="INVALID_PARAMETERS",e[e.INTERNAL_ERROR=6]="INTERNAL_ERROR",e[e.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE=7]="ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE",e[e.CONNECTION_REJECTED=8]="CONNECTION_REJECTED",e[e.MISSING_PUBLIC_ADDRESS=9]="MISSING_PUBLIC_ADDRESS",e[e.CONNECTION_PROPOSAL_EXPIRED=10]="CONNECTION_PROPOSAL_EXPIRED",e[e.SEI_NOT_ENABLED_IN_KEPLR_WALLET=11]="SEI_NOT_ENABLED_IN_KEPLR_WALLET"})(qs||(qs={}));class lM extends Se{constructor(t){super("This address is blocked by the gate"),this.walletPublicKey=t}}class FF extends u0{constructor(){super("Get address call was cancelled")}}class Ub extends Se{constructor(){super(Ub.message)}static isInstance(t){var n;return(((n=t==null?void 0:t.walk)===null||n===void 0?void 0:n.call(t))||t)instanceof Ub}static isErrorMessage(t){var n;const r=t;return((n=r==null?void 0:r.message)===null||n===void 0?void 0:n.includes("AA21 didn't pay prefund"))||!1}}Ub.message="Insufficient funds.";class qie extends Se{constructor(t){super(t??"Invalid embedded wallet session key.")}}class cM extends Se{constructor(t){super(t??"Invalid phone number.")}}class $d extends Se{constructor(t){super("Primary wallet is not properly set or the wallet connector is missing from DynamicContextProvider settings.",t)}}class zie extends Se{constructor({code:t,mergeConflicts:n,walletAddress:r}){super("MergeAccountsConfirmationError",t),this.mergeConflicts=n,this.walletAddress=r}}qs.USER_REJECTED;class Vie extends Se{constructor(){super("You are missing the environmentId field in yours DynamicContextProvider settings prop")}}class sO extends Se{constructor(){super("Missing public address","missing-public-address")}}class Q0 extends Se{constructor({walletPublicKey:t,email:n,phoneNumber:r,socialProvider:i,socialUsername:o}){super("User does not have access"),this.email=n,this.walletPublicKey=t,this.phoneNumber=r,this.socialProvider=i,this.socialUsername=o}}class Kie extends Se{}class Z_e extends Se{}function mm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function f0(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function dM(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i?i.value=n:t.set(e,n),n}class zI extends u0{constructor({message:t,cause:n,jsonData:r}){const i=`
    Message: ${t??"Unknown"}
    URL: ${n.url}
    Status: ${n.status}
    Status Text: ${n.statusText}
    Type: ${n.type}
    Redirect: ${n.redirected}

    Json data:${r?`
`+JSON.stringify(r,null,2):" No data"}
    `.trim();super(i),this.jsonData=r,this.response=n,this.cause=n}get json(){return this.jsonData}static fromResponse(t){return mm(this,arguments,void 0,function*({cause:n,message:r}){const i=yield n.json();return new zI({cause:n,jsonData:i,message:r})})}}let Ld=class extends Se{constructor(t){super(t),this.errorMessage=t}};class h0 extends Se{}class Hie extends Se{constructor(){super("Social account already exists")}}class uM extends Se{constructor(){super("Too many email verification attempts.")}}class gm extends Se{constructor(){super(gm.message)}static isInstance(t){var n;return(((n=t==null?void 0:t.walk)===null||n===void 0?void 0:n.call(t))||t)instanceof gm}static isErrorMessage(t){var n;const r=t;return((n=r==null?void 0:r.message)===null||n===void 0?void 0:n.includes("userOp did not match any gas sponsoring policies"))||!1}}gm.message="Transaction gas cannot be sponsored.";class Gie extends Se{constructor(t){super(t),this.error=t}}class fM extends Se{constructor(){super("Username already exists")}}class Jie extends Se{constructor(){super("User rejected request","user_rejected_request")}}class Zie extends Se{constructor(){super("user rejected transaction")}}class WF extends Se{constructor(t){super("Failed to get verification data: "+t)}}class Y_e extends Se{constructor(t,{activeAddress:n,expectedAddress:r,walletName:i}){super(t,"wallet_address_mismatch_error"),this.expectedAddress=r,this.activeAddress=n,this.walletName=i}}class X_e extends Se{constructor(){super("Wallet has not been deployed","wallet_not_deployed")}}class Yie extends Se{constructor(t){super("WalletUsedError",t)}}const Q_e=(e,t="")=>{let n=e.length-1;for(;n>=0&&e[n]===t;)n--;return e.slice(0,n+1)},exe=(e,{precision:t=0}={})=>{if(!t)return e;const n=parseFloat(e),r=Lie(n,t).toFixed(t),[i,o]=r.split("."),s=Q_e(o,"0");return`${i}.${s||"0"}`},txe=e=>{const t=e.split(".");let n=window;const r=[];for(const[i,o]of Object.entries(t)){if(n=n[o],typeof n!="object"||n===null)return[];Number(i)===t.length-1&&(Array.isArray(n)?n.forEach(s=>r.push(s)):n.providers?n.providers.forEach(s=>r.push(s)):r.push(n))}return r};function nxe(e,t){return e.endsWith(t)?e.length===t.length||e[e.length-t.length-1]===".":!1}function rxe(e,t){const n=e.length-t.length-2,r=e.lastIndexOf(".",n);return r===-1?e:e.slice(r+1)}function ixe(e,t,n){if(n.validHosts!==null){const i=n.validHosts;for(const o of i)if(nxe(t,o))return o}let r=0;if(t.startsWith("."))for(;r<t.length&&t[r]===".";)r+=1;return e.length===t.length-r?null:rxe(t,e)}function oxe(e,t){return e.slice(0,-t.length-1)}function qF(e,t){let n=0,r=e.length,i=!1;if(!t){if(e.startsWith("data:"))return null;for(;n<e.length&&e.charCodeAt(n)<=32;)n+=1;for(;r>n+1&&e.charCodeAt(r-1)<=32;)r-=1;if(e.charCodeAt(n)===47&&e.charCodeAt(n+1)===47)n+=2;else{const c=e.indexOf(":/",n);if(c!==-1){const d=c-n,u=e.charCodeAt(n),h=e.charCodeAt(n+1),m=e.charCodeAt(n+2),v=e.charCodeAt(n+3),y=e.charCodeAt(n+4);if(!(d===5&&u===104&&h===116&&m===116&&v===112&&y===115)){if(!(d===4&&u===104&&h===116&&m===116&&v===112)){if(!(d===3&&u===119&&h===115&&m===115)){if(!(d===2&&u===119&&h===115))for(let g=n;g<c;g+=1){const b=e.charCodeAt(g)|32;if(!(b>=97&&b<=122||b>=48&&b<=57||b===46||b===45||b===43))return null}}}}for(n=c+2;e.charCodeAt(n)===47;)n+=1}}let s=-1,a=-1,l=-1;for(let c=n;c<r;c+=1){const d=e.charCodeAt(c);if(d===35||d===47||d===63){r=c;break}else d===64?s=c:d===93?a=c:d===58?l=c:d>=65&&d<=90&&(i=!0)}if(s!==-1&&s>n&&s<r&&(n=s+1),e.charCodeAt(n)===91)return a!==-1?e.slice(n+1,a).toLowerCase():null;l!==-1&&l>n&&l<r&&(r=l)}for(;r>n+1&&e.charCodeAt(r-1)===46;)r-=1;const o=n!==0||r!==e.length?e.slice(n,r):e;return i?o.toLowerCase():o}function sxe(e){if(e.length<7||e.length>15)return!1;let t=0;for(let n=0;n<e.length;n+=1){const r=e.charCodeAt(n);if(r===46)t+=1;else if(r<48||r>57)return!1}return t===3&&e.charCodeAt(0)!==46&&e.charCodeAt(e.length-1)!==46}function axe(e){if(e.length<3)return!1;let t=e.startsWith("[")?1:0,n=e.length;if(e[n-1]==="]"&&(n-=1),n-t>39)return!1;let r=!1;for(;t<n;t+=1){const i=e.charCodeAt(t);if(i===58)r=!0;else if(!(i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=90))return!1}return r}function lxe(e){return axe(e)||sxe(e)}function zF(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function VF(e){if(e.length>255||e.length===0||!zF(e.charCodeAt(0))&&e.charCodeAt(0)!==46&&e.charCodeAt(0)!==95)return!1;let t=-1,n=-1;const r=e.length;for(let i=0;i<r;i+=1){const o=e.charCodeAt(i);if(o===46){if(i-t>64||n===46||n===45||n===95)return!1;t=i}else if(!(zF(o)||o===45||o===95))return!1;n=o}return r-t-1<=63&&n!==45}function Xie({allowIcannDomains:e=!0,allowPrivateDomains:t=!1,detectIp:n=!0,extractHostname:r=!0,mixedInputs:i=!0,validHosts:o=null,validateHostname:s=!0}){return{allowIcannDomains:e,allowPrivateDomains:t,detectIp:n,extractHostname:r,mixedInputs:i,validHosts:o,validateHostname:s}}const cxe=Xie({});function dxe(e){return e===void 0?cxe:Xie(e)}function uxe(e,t){return t.length===e.length?"":e.slice(0,-t.length-1)}function fxe(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function hxe(e,t,n,r,i){const o=dxe(r);return typeof e!="string"||(o.extractHostname?o.mixedInputs?i.hostname=qF(e,VF(e)):i.hostname=qF(e,!1):i.hostname=e,i.hostname===null)||o.detectIp&&(i.isIp=lxe(i.hostname),i.isIp)?i:o.validateHostname&&o.extractHostname&&!VF(i.hostname)?(i.hostname=null,i):(n(i.hostname,o,i),i.publicSuffix===null||(i.domain=ixe(i.publicSuffix,i.hostname,o),i.domain===null)||(i.subdomain=uxe(i.hostname,i.domain),i.domainWithoutSuffix=oxe(i.domain,i.publicSuffix)),i)}function pxe(e,t,n){if(!t.allowPrivateDomains&&e.length>3){const r=e.length-1,i=e.charCodeAt(r),o=e.charCodeAt(r-1),s=e.charCodeAt(r-2),a=e.charCodeAt(r-3);if(i===109&&o===111&&s===99&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="com",!0;if(i===103&&o===114&&s===111&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="org",!0;if(i===117&&o===100&&s===101&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="edu",!0;if(i===118&&o===111&&s===103&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="gov",!0;if(i===116&&o===101&&s===110&&a===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="net",!0;if(i===101&&o===100&&s===46)return n.isIcann=!0,n.isPrivate=!1,n.publicSuffix="de",!0}return!1}const mxe=(function(){const e=[1,{}],t=[0,{city:e}];return[0,{ck:[0,{www:e}],jp:[0,{kawasaki:t,kitakyushu:t,kobe:t,nagoya:t,sapporo:t,sendai:t,yokohama:t}]}]})(),gxe=(function(){const e=[1,{}],t=[2,{}],n=[1,{gov:e,com:e,org:e,net:e,edu:e}],r=[0,{"*":t}],i=[1,{blogspot:t}],o=[1,{gov:e}],s=[0,{"*":e}],a=[0,{cloud:t}],l=[1,{co:t}],c=[2,{nodes:t}],d=[0,{s3:t}],u=[0,{direct:t}],h=[2,{id:t}],m=[0,{"webview-assets":t}],v=[0,{vfs:t,"webview-assets":t}],y=[0,{"aws-cloud9":m,cloud9:v}],g=[0,{dualstack:d,"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],b=[0,{dualstack:d,s3:t,"s3-website":t,"aws-cloud9":m,cloud9:v}],k=[0,{dualstack:d,"aws-cloud9":m,cloud9:v}],_=[0,{apps:t}],R=[0,{paas:t}],I=[0,{app:t}],T=[2,{eu:t}],D=[0,{site:t}],M=[0,{pages:t}],C=[1,{com:e,edu:e,net:e,org:e}],U=[0,{j:t}],$=[0,{jelastic:t}],z=[0,{user:t}],q=[1,{ybo:t}],S=[0,{cust:t,reservd:t}],A=[0,{cust:t}],O=[1,{gov:e,edu:e,mil:e,com:e,org:e,net:e}],N=[1,{edu:e,biz:e,net:e,org:e,gov:e,info:e,com:e}],j=[1,{gov:e,blogspot:t}],V=[1,{framer:t}],K=[1,{barsy:t}],W=[0,{forgot:t}],P=[1,{gs:e}],F=[0,{nes:e}],G=[1,{k12:e,cc:e,lib:e}],Y=[1,{cc:e,lib:e}];return[0,{ac:[1,{com:e,edu:e,gov:e,net:e,mil:e,org:e,drr:t}],ad:[1,{nom:e}],ae:[1,{co:e,net:e,org:e,sch:e,ac:e,gov:e,mil:e,blogspot:t}],aero:[1,{"accident-investigation":e,"accident-prevention":e,aerobatic:e,aeroclub:e,aerodrome:e,agents:e,aircraft:e,airline:e,airport:e,"air-surveillance":e,airtraffic:e,"air-traffic-control":e,ambulance:e,amusement:e,association:e,author:e,ballooning:e,broker:e,caa:e,cargo:e,catering:e,certification:e,championship:e,charter:e,civilaviation:e,club:e,conference:e,consultant:e,consulting:e,control:e,council:e,crew:e,design:e,dgca:e,educator:e,emergency:e,engine:e,engineer:e,entertainment:e,equipment:e,exchange:e,express:e,federation:e,flight:e,fuel:e,gliding:e,government:e,groundhandling:e,group:e,hanggliding:e,homebuilt:e,insurance:e,journal:e,journalist:e,leasing:e,logistics:e,magazine:e,maintenance:e,media:e,microlight:e,modelling:e,navigation:e,parachuting:e,paragliding:e,"passenger-association":e,pilot:e,press:e,production:e,recreation:e,repbody:e,res:e,research:e,rotorcraft:e,safety:e,scientist:e,services:e,show:e,skydiving:e,software:e,student:e,trader:e,trading:e,trainer:e,union:e,workinggroup:e,works:e}],af:n,ag:[1,{com:e,org:e,net:e,co:e,nom:e}],ai:[1,{off:e,com:e,net:e,org:e,uwu:t}],al:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,blogspot:t}],am:[1,{co:e,com:e,commune:e,net:e,org:e,radio:t,blogspot:t,neko:t,nyaa:t}],ao:[1,{ed:e,gv:e,og:e,co:e,pb:e,it:e}],aq:e,ar:[1,{bet:e,com:i,coop:e,edu:e,gob:e,gov:e,int:e,mil:e,musica:e,mutual:e,net:e,org:e,senasa:e,tur:e}],arpa:[1,{e164:e,"in-addr":e,ip6:e,iris:e,uri:e,urn:e}],as:o,asia:[1,{cloudns:t}],at:[1,{ac:[1,{sth:e}],co:i,gv:e,or:e,funkfeuer:[0,{wien:t}],futurecms:[0,{"*":t,ex:r,in:r}],futurehosting:t,futuremailing:t,ortsinfo:[0,{ex:r,kunden:r}],biz:t,info:t,"123webseite":t,priv:t,myspreadshop:t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],au:[1,{com:[1,{blogspot:t,cloudlets:[0,{mel:t}],myspreadshop:t}],net:e,org:e,edu:[1,{act:e,catholic:e,nsw:[1,{schools:e}],nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],gov:[1,{qld:e,sa:e,tas:e,vic:e,wa:e}],asn:e,id:e,info:e,conf:e,oz:e,act:e,nsw:e,nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],aw:[1,{com:e}],ax:[1,{be:t,cat:t,es:t,eu:t,gg:t,mc:t,us:t,xy:t}],az:[1,{com:e,net:e,int:e,gov:e,org:e,edu:e,info:e,pp:e,mil:e,name:e,pro:e,biz:e}],ba:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,rs:t,blogspot:t}],bb:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,net:e,org:e,store:e,tv:e}],bd:s,be:[1,{ac:e,webhosting:t,blogspot:t,interhostsolutions:a,kuleuven:[0,{ezproxy:t}],"123website":t,myspreadshop:t,transurl:r}],bf:o,bg:[1,{0:e,1:e,2:e,3:e,4:e,5:e,6:e,7:e,8:e,9:e,a:e,b:e,c:e,d:e,e,f:e,g:e,h:e,i:e,j:e,k:e,l:e,m:e,n:e,o:e,p:e,q:e,r:e,s:e,t:e,u:e,v:e,w:e,x:e,y:e,z:e,blogspot:t,barsy:t}],bh:n,bi:[1,{co:e,com:e,edu:e,or:e,org:e}],biz:[1,{activetrail:t,cloudns:t,jozi:t,dyndns:t,"for-better":t,"for-more":t,"for-some":t,"for-the":t,selfip:t,webhop:t,orx:t,mmafan:t,myftp:t,"no-ip":t,dscloud:t}],bj:[1,{africa:e,agro:e,architectes:e,assur:e,avocats:e,co:e,com:e,eco:e,econo:e,edu:e,info:e,loisirs:e,money:e,net:e,org:e,ote:e,resto:e,restaurant:e,tourism:e,univ:e,blogspot:t}],bm:n,bn:[1,{com:e,edu:e,gov:e,net:e,org:e,co:t}],bo:[1,{com:e,edu:e,gob:e,int:e,org:e,net:e,mil:e,tv:e,web:e,academia:e,agro:e,arte:e,blog:e,bolivia:e,ciencia:e,cooperativa:e,democracia:e,deporte:e,ecologia:e,economia:e,empresa:e,indigena:e,industria:e,info:e,medicina:e,movimiento:e,musica:e,natural:e,nombre:e,noticias:e,patria:e,politica:e,profesional:e,plurinacional:e,pueblo:e,revista:e,salud:e,tecnologia:e,tksat:e,transporte:e,wiki:e}],br:[1,{"9guacu":e,abc:e,adm:e,adv:e,agr:e,aju:e,am:e,anani:e,aparecida:e,app:e,arq:e,art:e,ato:e,b:e,barueri:e,belem:e,bhz:e,bib:e,bio:e,blog:e,bmd:e,boavista:e,bsb:e,campinagrande:e,campinas:e,caxias:e,cim:e,cng:e,cnt:e,com:[1,{blogspot:t,simplesite:t}],contagem:e,coop:e,coz:e,cri:e,cuiaba:e,curitiba:e,def:e,des:e,det:e,dev:e,ecn:e,eco:e,edu:e,emp:e,enf:e,eng:e,esp:e,etc:e,eti:e,far:e,feira:e,flog:e,floripa:e,fm:e,fnd:e,fortal:e,fot:e,foz:e,fst:e,g12:e,geo:e,ggf:e,goiania:e,gov:[1,{ac:e,al:e,am:e,ap:e,ba:e,ce:e,df:e,es:e,go:e,ma:e,mg:e,ms:e,mt:e,pa:e,pb:e,pe:e,pi:e,pr:e,rj:e,rn:e,ro:e,rr:e,rs:e,sc:e,se:e,sp:e,to:e}],gru:e,imb:e,ind:e,inf:e,jab:e,jampa:e,jdf:e,joinville:e,jor:e,jus:e,leg:[1,{ac:t,al:t,am:t,ap:t,ba:t,ce:t,df:t,es:t,go:t,ma:t,mg:t,ms:t,mt:t,pa:t,pb:t,pe:t,pi:t,pr:t,rj:t,rn:t,ro:t,rr:t,rs:t,sc:t,se:t,sp:t,to:t}],lel:e,log:e,londrina:e,macapa:e,maceio:e,manaus:e,maringa:e,mat:e,med:e,mil:e,morena:e,mp:e,mus:e,natal:e,net:e,niteroi:e,nom:s,not:e,ntr:e,odo:e,ong:e,org:e,osasco:e,palmas:e,poa:e,ppg:e,pro:e,psc:e,psi:e,pvh:e,qsl:e,radio:e,rec:e,recife:e,rep:e,ribeirao:e,rio:e,riobranco:e,riopreto:e,salvador:e,sampa:e,santamaria:e,santoandre:e,saobernardo:e,saogonca:e,seg:e,sjc:e,slg:e,slz:e,sorocaba:e,srv:e,taxi:e,tc:e,tec:e,teo:e,the:e,tmp:e,trd:e,tur:e,tv:e,udi:e,vet:e,vix:e,vlog:e,wiki:e,zlg:e}],bs:[1,{com:e,net:e,org:e,edu:e,gov:e,we:t}],bt:n,bv:e,bw:[1,{co:e,org:e}],by:[1,{gov:e,mil:e,com:i,of:e,mycloud:t,mediatech:t}],bz:[1,{com:e,net:e,org:e,edu:e,gov:e,za:t,gsj:t}],ca:[1,{ab:e,bc:e,mb:e,nb:e,nf:e,nl:e,ns:e,nt:e,nu:e,on:e,pe:e,qc:e,sk:e,yk:e,gc:e,barsy:t,awdev:r,co:t,blogspot:t,"no-ip":t,myspreadshop:t}],cat:e,cc:[1,{cloudns:t,ftpaccess:t,"game-server":t,myphotos:t,scrapping:t,twmail:t,csx:t,fantasyleague:t,spawn:[0,{instances:t}]}],cd:o,cf:i,cg:e,ch:[1,{square7:t,blogspot:t,flow:[0,{ae:[0,{alp1:t}],appengine:t}],"linkyard-cloud":t,dnsking:t,gotdns:t,"123website":t,myspreadshop:t,firenet:[0,{"*":t,svc:r}],"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],ci:[1,{org:e,or:e,com:e,co:e,edu:e,ed:e,ac:e,net:e,go:e,asso:e,"xn--aroport-bya":e,aroport:e,int:e,presse:e,md:e,gouv:e,fin:t,nl:t}],ck:s,cl:[1,{co:e,gob:e,gov:e,mil:e,blogspot:t}],cm:[1,{co:e,com:e,gov:e,net:e}],cn:[1,{ac:e,com:[1,{amazonaws:[0,{compute:r,"cn-north-1":d,eb:[0,{"cn-north-1":t,"cn-northwest-1":t}],elb:r}]}],edu:e,gov:e,net:e,org:e,mil:e,"xn--55qx5d":e,:e,"xn--io0a7i":e,:e,"xn--od0alg":e,:e,ah:e,bj:e,cq:e,fj:e,gd:e,gs:e,gz:e,gx:e,ha:e,hb:e,he:e,hi:e,hl:e,hn:e,jl:e,js:e,jx:e,ln:e,nm:e,nx:e,qh:e,sc:e,sd:e,sh:e,sn:e,sx:e,tj:e,xj:e,xz:e,yn:e,zj:e,hk:e,mo:e,tw:e,"canva-apps":t,instantcloud:t,quickconnect:u}],co:[1,{arts:e,com:i,edu:e,firm:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rec:e,web:e,carrd:t,crd:t,otap:r,leadpages:t,lpages:t,mypi:t,n4t:t,firewalledreplit:h,repl:h,supabase:t}],com:[1,{devcdnaccesso:r,adobeaemcloud:[2,{dev:r}],airkitapps:t,"airkitapps-au":t,aivencloud:t,kasserver:t,amazonaws:[0,{compute:r,"compute-1":r,"us-east-1":[2,{dualstack:d,"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],"ap-northeast-1":g,"ap-northeast-2":b,"ap-south-1":b,"ap-southeast-1":k,"ap-southeast-2":k,"ca-central-1":b,"eu-central-1":b,"eu-west-1":g,"eu-west-2":b,"eu-west-3":b,s3:t,"s3-ap-northeast-1":t,"s3-ap-northeast-2":t,"s3-ap-south-1":t,"s3-ap-southeast-1":t,"s3-ap-southeast-2":t,"s3-ca-central-1":t,"s3-eu-central-1":t,"s3-eu-west-1":t,"s3-eu-west-2":t,"s3-eu-west-3":t,"s3-external-1":t,"s3-fips-us-gov-west-1":t,"s3-sa-east-1":t,"s3-us-east-2":t,"s3-us-gov-west-1":t,"s3-us-west-1":t,"s3-us-west-2":t,"s3-website-ap-northeast-1":t,"s3-website-ap-southeast-1":t,"s3-website-ap-southeast-2":t,"s3-website-eu-west-1":t,"s3-website-sa-east-1":t,"s3-website-us-east-1":t,"s3-website-us-west-1":t,"s3-website-us-west-2":t,"sa-east-1":k,"us-east-2":[0,{dualstack:d,s3:t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],"us-west-2":[0,{"analytics-gateway":t,"aws-cloud9":m,cloud9:v}],"af-south-1":y,"ap-east-1":y,"ap-northeast-3":y,"eu-north-1":y,"eu-south-1":y,"me-south-1":y,"us-west-1":y,elb:r}],elasticbeanstalk:[2,{"ap-northeast-1":t,"ap-northeast-2":t,"ap-northeast-3":t,"ap-south-1":t,"ap-southeast-1":t,"ap-southeast-2":t,"ca-central-1":t,"eu-central-1":t,"eu-west-1":t,"eu-west-2":t,"eu-west-3":t,"sa-east-1":t,"us-east-1":t,"us-east-2":t,"us-gov-west-1":t,"us-west-1":t,"us-west-2":t}],awsglobalaccelerator:t,siiites:t,appspacehosted:t,appspaceusercontent:t,"on-aptible":t,myasustor:t,"balena-devices":t,betainabox:t,boutir:t,bplaced:t,cafjs:t,"canva-apps":t,br:t,cn:t,de:t,eu:t,jpn:t,mex:t,ru:t,sa:t,uk:t,us:t,za:t,ar:t,hu:t,kr:t,no:t,qc:t,uy:t,africa:t,gr:t,co:t,jdevcloud:t,wpdevcloud:t,cloudcontrolled:t,cloudcontrolapp:t,"cf-ipfs":t,"cloudflare-ipfs":t,trycloudflare:t,"customer-oci":[0,{"*":t,oci:r,ocp:r,ocs:r}],dattolocal:t,dattorelay:t,dattoweb:t,mydatto:t,builtwithdark:t,datadetect:[0,{demo:t,instance:t}],ddns5:t,discordsays:t,discordsez:t,drayddns:t,dreamhosters:t,mydrobo:t,"dyndns-at-home":t,"dyndns-at-work":t,"dyndns-blog":t,"dyndns-free":t,"dyndns-home":t,"dyndns-ip":t,"dyndns-mail":t,"dyndns-office":t,"dyndns-pics":t,"dyndns-remote":t,"dyndns-server":t,"dyndns-web":t,"dyndns-wiki":t,"dyndns-work":t,blogdns:t,cechire:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,"dyn-o-saur":t,dynalias:t,"est-a-la-maison":t,"est-a-la-masion":t,"est-le-patron":t,"est-mon-blogueur":t,"from-ak":t,"from-al":t,"from-ar":t,"from-ca":t,"from-ct":t,"from-dc":t,"from-de":t,"from-fl":t,"from-ga":t,"from-hi":t,"from-ia":t,"from-id":t,"from-il":t,"from-in":t,"from-ks":t,"from-ky":t,"from-ma":t,"from-md":t,"from-mi":t,"from-mn":t,"from-mo":t,"from-ms":t,"from-mt":t,"from-nc":t,"from-nd":t,"from-ne":t,"from-nh":t,"from-nj":t,"from-nm":t,"from-nv":t,"from-oh":t,"from-ok":t,"from-or":t,"from-pa":t,"from-pr":t,"from-ri":t,"from-sc":t,"from-sd":t,"from-tn":t,"from-tx":t,"from-ut":t,"from-va":t,"from-vt":t,"from-wa":t,"from-wi":t,"from-wv":t,"from-wy":t,getmyip:t,gotdns:t,"hobby-site":t,homelinux:t,homeunix:t,iamallama:t,"is-a-anarchist":t,"is-a-blogger":t,"is-a-bookkeeper":t,"is-a-bulls-fan":t,"is-a-caterer":t,"is-a-chef":t,"is-a-conservative":t,"is-a-cpa":t,"is-a-cubicle-slave":t,"is-a-democrat":t,"is-a-designer":t,"is-a-doctor":t,"is-a-financialadvisor":t,"is-a-geek":t,"is-a-green":t,"is-a-guru":t,"is-a-hard-worker":t,"is-a-hunter":t,"is-a-landscaper":t,"is-a-lawyer":t,"is-a-liberal":t,"is-a-libertarian":t,"is-a-llama":t,"is-a-musician":t,"is-a-nascarfan":t,"is-a-nurse":t,"is-a-painter":t,"is-a-personaltrainer":t,"is-a-photographer":t,"is-a-player":t,"is-a-republican":t,"is-a-rockstar":t,"is-a-socialist":t,"is-a-student":t,"is-a-teacher":t,"is-a-techie":t,"is-a-therapist":t,"is-an-accountant":t,"is-an-actor":t,"is-an-actress":t,"is-an-anarchist":t,"is-an-artist":t,"is-an-engineer":t,"is-an-entertainer":t,"is-certified":t,"is-gone":t,"is-into-anime":t,"is-into-cars":t,"is-into-cartoons":t,"is-into-games":t,"is-leet":t,"is-not-certified":t,"is-slick":t,"is-uberleet":t,"is-with-theband":t,"isa-geek":t,"isa-hockeynut":t,issmarterthanyou:t,"likes-pie":t,likescandy:t,"neat-url":t,"saves-the-whales":t,selfip:t,"sells-for-less":t,"sells-for-u":t,servebbs:t,"simple-url":t,"space-to-rent":t,"teaches-yoga":t,writesthisblog:t,digitaloceanspaces:r,ddnsfree:t,ddnsgeek:t,giize:t,gleeze:t,kozow:t,loseyourip:t,ooguy:t,theworkpc:t,mytuleap:t,"tuleap-partners":t,encoreapi:t,evennode:[0,{"eu-1":t,"eu-2":t,"eu-3":t,"eu-4":t,"us-1":t,"us-2":t,"us-3":t,"us-4":t}],onfabrica:t,fbsbx:_,"fastly-edge":t,"fastly-terrarium":t,"fastvps-server":t,mydobiss:t,firebaseapp:t,fldrv:t,forgeblocks:t,framercanvas:t,"freebox-os":t,freeboxos:t,freemyip:t,gentapps:t,gentlentapis:t,githubusercontent:t,"0emm":r,appspot:[2,{r}],codespot:t,googleapis:t,googlecode:t,pagespeedmobilizer:t,publishproxy:t,withgoogle:t,withyoutube:t,blogspot:t,awsmppl:t,herokuapp:t,herokussl:t,impertrixcdn:t,impertrix:t,smushcdn:t,wphostedmail:t,wpmucdn:t,pixolino:t,amscompute:t,dopaas:t,"hosted-by-previder":R,hosteur:[0,{"rag-cloud":t,"rag-cloud-ch":t}],"ik-server":[0,{jcloud:t,"jcloud-ver-jpc":t}],jelastic:[0,{demo:t}],kilatiron:t,massivegrid:R,wafaicloud:[0,{jed:t,lon:t,ryd:t}],joyent:[0,{cns:r}],ktistory:t,lpusercontent:t,lmpm:I,linode:[0,{members:t,nodebalancer:r}],linodeobjects:r,linodeusercontent:[0,{ip:t}],barsycenter:t,barsyonline:t,mazeplay:t,miniserver:t,meteorapp:T,hostedpi:t,"mythic-beasts":[0,{customer:t,caracal:t,fentiger:t,lynx:t,ocelot:t,oncilla:t,onza:t,sphinx:t,vs:t,x:t,yali:t}],nospamproxy:a,"4u":t,nfshost:t,"001www":t,ddnslive:t,myiphost:t,blogsyte:t,ciscofreak:t,damnserver:t,ditchyourip:t,dnsiskinky:t,dynns:t,geekgalaxy:t,"health-carereform":t,homesecuritymac:t,homesecuritypc:t,myactivedirectory:t,mysecuritycamera:t,"net-freaks":t,onthewifi:t,point2this:t,quicksytes:t,securitytactics:t,serveexchange:t,servehumour:t,servep2p:t,servesarcasm:t,stufftoread:t,unusualperson:t,workisboring:t,"3utilities":t,ddnsking:t,myvnc:t,servebeer:t,servecounterstrike:t,serveftp:t,servegame:t,servehalflife:t,servehttp:t,serveirc:t,servemp3:t,servepics:t,servequake:t,observableusercontent:[0,{static:t}],simplesite:t,orsites:t,operaunite:t,"authgear-staging":t,authgearapps:t,skygearapp:t,outsystemscloud:t,ownprovider:t,pgfog:t,pagefrontapp:t,pagexl:t,paywhirl:r,gotpantheon:t,"platter-app":t,pleskns:t,"postman-echo":t,prgmr:[0,{xen:t}],pythonanywhere:T,qualifioapp:t,ladesk:t,qbuser:t,qa2:t,"dev-myqnapcloud":t,"alpha-myqnapcloud":t,myqnapcloud:t,quipelements:r,rackmaze:t,rhcloud:t,render:I,onrender:t,"180r":t,dojin:t,sakuratan:t,sakuraweb:t,x0:t,code:[0,{builder:r,"dev-builder":r,"stg-builder":r}],logoip:t,scrysec:t,"firewall-gateway":t,myshopblocks:t,myshopify:t,shopitsite:t,"1kapp":t,appchizi:t,applinzi:t,sinaapp:t,vipsinaapp:t,"bounty-full":[2,{alpha:t,beta:t}],streamlitapp:t,"try-snowplow":t,"stackhero-network":t,"playstation-cloud":t,myspreadshop:t,stdlib:[0,{api:t}],"temp-dns":t,dsmynas:t,familyds:t,mytabit:t,"tb-hosting":D,reservd:t,thingdustdata:t,bloxcms:t,"townnews-staging":t,typeform:[0,{pro:t}],hk:t,it:t,vultrobjects:r,wafflecell:t,"reserve-online":t,hotelwithflight:t,remotewd:t,wiardweb:M,messwithdns:t,"woltlab-demo":t,wpenginepowered:[2,{js:t}],wixsite:t,xnbay:[2,{u2:t,"u2-local":t}],yolasite:t}],coop:e,cr:[1,{ac:e,co:e,ed:e,fi:e,go:e,or:e,sa:e}],cu:[1,{com:e,edu:e,org:e,net:e,gov:e,inf:e}],cv:[1,{com:e,edu:e,int:e,nome:e,org:e,blogspot:t}],cw:C,cx:[1,{gov:e,ath:t,info:t}],cy:[1,{ac:e,biz:e,com:[1,{blogspot:t,scaleforce:U}],ekloges:e,gov:e,ltd:e,mil:e,net:e,org:e,press:e,pro:e,tm:e}],cz:[1,{co:t,realm:t,e4:t,blogspot:t,metacentrum:[0,{cloud:r,custom:t}],muni:[0,{cloud:[0,{flt:t,usr:t}]}]}],de:[1,{bplaced:t,square7:t,com:t,cosidns:[0,{dyn:t}],"dynamisches-dns":t,dnsupdater:t,"internet-dns":t,"l-o-g-i-n":t,dnshome:t,fuettertdasnetz:t,isteingeek:t,istmein:t,lebtimnetz:t,leitungsen:t,traeumtgerade:t,ddnss:[2,{dyn:t,dyndns:t}],dyndns1:t,"dyn-ip24":t,"home-webserver":[2,{dyn:t}],"myhome-server":t,frusky:r,goip:t,blogspot:t,"xn--gnstigbestellen-zvb":t,gnstigbestellen:t,"xn--gnstigliefern-wob":t,gnstigliefern:t,"hs-heilbronn":[0,{it:M}],"dyn-berlin":t,"in-berlin":t,"in-brb":t,"in-butter":t,"in-dsl":t,"in-vpn":t,iservschule:t,"mein-iserv":t,schulplattform:t,schulserver:t,"test-iserv":t,keymachine:t,"git-repos":t,"lcube-server":t,"svn-repos":t,barsy:t,"123webseite":t,logoip:t,"firewall-gateway":t,"my-gateway":t,"my-router":t,spdns:t,speedpartner:[0,{customer:t}],myspreadshop:t,"taifun-dns":t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t,"dd-dns":t,"dray-dns":t,draydns:t,"dyn-vpn":t,dynvpn:t,"mein-vigor":t,"my-vigor":t,"my-wan":t,"syno-ds":t,"synology-diskstation":t,"synology-ds":t,uberspace:r,virtualuser:t,"virtual-user":t,"community-pro":t,diskussionsbereich:t}],dj:e,dk:[1,{biz:t,co:t,firm:t,reg:t,store:t,blogspot:t,"123hjemmeside":t,myspreadshop:t}],dm:n,do:[1,{art:e,com:e,edu:e,gob:e,gov:e,mil:e,net:e,org:e,sld:e,web:e}],dz:[1,{art:e,asso:e,com:e,edu:e,gov:e,org:e,net:e,pol:e,soc:e,tm:e}],ec:[1,{com:e,info:e,net:e,fin:e,k12:e,med:e,pro:e,org:e,edu:e,gov:e,gob:e,mil:e,base:t,official:t}],edu:[1,{rit:[0,{"git-pages":t}]}],ee:[1,{edu:e,gov:e,riik:e,lib:e,med:e,com:i,pri:e,aip:e,org:e,fie:e}],eg:[1,{com:i,edu:e,eun:e,gov:e,mil:e,name:e,net:e,org:e,sci:e}],er:s,es:[1,{com:i,nom:e,org:e,gob:e,edu:e,"123miweb":t,myspreadshop:t}],et:[1,{com:e,gov:e,org:e,edu:e,biz:e,name:e,info:e,net:e}],eu:[1,{airkitapps:t,mycd:t,cloudns:t,dogado:$,barsy:t,wellbeingzone:t,spdns:t,transurl:r,diskstation:t}],fi:[1,{aland:e,dy:t,blogspot:t,"xn--hkkinen-5wa":t,hkkinen:t,iki:t,cloudplatform:[0,{fi:t}],datacenter:[0,{demo:t,paas:t}],kapsi:t,"123kotisivu":t,myspreadshop:t}],fj:[1,{ac:e,biz:e,com:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],fk:s,fm:[1,{com:e,edu:e,net:e,org:e,radio:t,user:r}],fo:e,fr:[1,{asso:e,com:e,gouv:e,nom:e,prd:e,tm:e,avoues:e,cci:e,greta:e,"huissier-justice":e,"en-root":t,"fbx-os":t,fbxos:t,"freebox-os":t,freeboxos:t,blogspot:t,goupile:t,"123siteweb":t,"on-web":t,"chirurgiens-dentistes-en-france":t,dedibox:t,aeroport:t,avocat:t,chambagri:t,"chirurgiens-dentistes":t,"experts-comptables":t,medecin:t,notaires:t,pharmacien:t,port:t,veterinaire:t,myspreadshop:t,ynh:t}],ga:e,gb:e,gd:[1,{edu:e,gov:e}],ge:[1,{com:e,edu:e,gov:e,org:e,mil:e,net:e,pvt:e}],gf:e,gg:[1,{co:e,net:e,org:e,kaas:t,cya:t,panel:[2,{daemon:t}]}],gh:[1,{com:e,edu:e,gov:e,org:e,mil:e}],gi:[1,{com:e,ltd:e,gov:e,mod:e,edu:e,org:e}],gl:[1,{co:e,com:e,edu:e,net:e,org:e,biz:t,xx:t}],gm:e,gn:[1,{ac:e,com:e,edu:e,gov:e,org:e,net:e}],gov:e,gp:[1,{com:e,net:e,mobi:e,edu:e,org:e,asso:e,app:t}],gq:e,gr:[1,{com:e,edu:e,net:e,org:e,gov:e,blogspot:t,simplesite:t}],gs:e,gt:[1,{com:e,edu:e,gob:e,ind:e,mil:e,net:e,org:e,blog:t,de:t,to:t}],gu:[1,{com:e,edu:e,gov:e,guam:e,info:e,net:e,org:e,web:e}],gw:e,gy:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,be:t}],hk:[1,{com:e,edu:e,gov:e,idv:e,net:e,org:e,"xn--55qx5d":e,:e,"xn--wcvs22d":e,:e,"xn--lcvr32d":e,:e,"xn--mxtq1m":e,:e,"xn--gmqw5a":e,:e,"xn--ciqpn":e,:e,"xn--gmq050i":e,:e,"xn--zf0avx":e,:e,"xn--io0a7i":e,:e,"xn--mk0axi":e,:e,"xn--od0alg":e,:e,"xn--od0aq3b":e,:e,"xn--tn0ag":e,:e,"xn--uc0atv":e,:e,"xn--uc0ay4a":e,:e,blogspot:t,secaas:t,ltd:t,inc:t}],hm:e,hn:[1,{com:e,edu:e,org:e,net:e,mil:e,gob:e,cc:t}],hr:[1,{iz:e,from:e,name:e,com:e,blogspot:t,free:t}],ht:[1,{com:e,shop:e,firm:e,info:e,adult:e,net:e,pro:e,org:e,med:e,art:e,coop:e,pol:e,asso:e,edu:e,rel:e,gouv:e,perso:e}],hu:[1,{2e3:e,co:e,info:e,org:e,priv:e,sport:e,tm:e,agrar:e,bolt:e,casino:e,city:e,erotica:e,erotika:e,film:e,forum:e,games:e,hotel:e,ingatlan:e,jogasz:e,konyvelo:e,lakas:e,media:e,news:e,reklam:e,sex:e,shop:e,suli:e,szex:e,tozsde:e,utazas:e,video:e,blogspot:t}],id:[1,{ac:e,biz:e,co:i,desa:e,go:e,mil:e,my:[1,{rss:r}],net:e,or:e,ponpes:e,sch:e,web:e,flap:t,forte:t}],ie:[1,{gov:e,blogspot:t,myspreadshop:t}],il:[1,{ac:e,co:[1,{ravpage:t,blogspot:t,tabitorder:t,mytabit:t}],gov:e,idf:e,k12:e,muni:e,net:e,org:e}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":e,"xn--5dbhl8d":e,"xn--8dbq2a":e,"xn--hebda8b":e}],:[1,{:e,:e,:e,:e}],im:[1,{ac:e,co:[1,{ltd:e,plc:e}],com:e,net:e,org:e,tt:e,tv:e,ro:t}],in:[1,{"5g":e,"6g":e,ac:e,ai:e,am:e,bihar:e,biz:e,business:e,ca:e,cn:e,co:e,com:e,coop:e,cs:e,delhi:e,dr:e,edu:e,er:e,firm:e,gen:e,gov:e,gujarat:e,ind:e,info:e,int:e,internet:e,io:e,me:e,mil:e,net:e,nic:e,org:e,pg:e,post:e,pro:e,res:e,travel:e,tv:e,uk:e,up:e,us:e,web:t,cloudns:t,blogspot:t,barsy:t,supabase:t}],info:[1,{cloudns:t,"dynamic-dns":t,dyndns:t,"barrel-of-knowledge":t,"barrell-of-knowledge":t,"for-our":t,"groks-the":t,"groks-this":t,"here-for-more":t,knowsitall:t,selfip:t,webhop:t,barsy:t,mayfirst:t,forumz:t,nsupdate:t,dvrcam:t,ilovecollege:t,"no-ip":t,dnsupdate:t,"v-info":t}],int:[1,{eu:e}],io:[1,{2038:t,com:e,"on-acorn":r,apigee:t,"b-data":t,backplaneapp:t,banzaicloud:[0,{app:t,backyards:r}],beagleboard:t,bitbucket:t,bluebite:t,boxfuse:t,browsersafetymark:t,bigv:[0,{uk0:t}],cleverapps:t,dappnode:[0,{dyndns:t}],dedyn:t,drud:t,definima:t,"fh-muenster":t,shw:t,forgerock:[0,{id:t}],ghost:t,github:t,gitlab:t,lolipop:t,"hasura-app":t,hostyhosting:t,moonscale:r,beebyte:R,beebyteapp:[0,{sekd1:t}],jele:t,unispace:[0,{"cloud-fr1":t}],webthings:t,loginline:t,barsy:t,azurecontainer:r,ngrok:[2,{ap:t,au:t,eu:t,in:t,jp:t,sa:t,us:t}],nodeart:[0,{stage:t}],nid:t,pantheonsite:t,dyn53:t,pstmn:[2,{mock:t}],protonet:t,qoto:t,qcx:[2,{sys:r}],vaporcloud:t,vbrplsbx:[0,{g:t}],"on-k3s":r,"on-rio":r,readthedocs:t,resindevice:t,resinstaging:[0,{devices:t}],hzc:t,sandcats:t,shiftcrypto:t,shiftedit:t,"mo-siemens":t,musician:t,lair:_,stolos:r,spacekit:t,utwente:t,s5y:r,edugit:t,telebit:t,thingdust:[0,{dev:S,disrec:S,prod:A,testing:S}],tickets:t,upli:t,wedeploy:t,editorx:t,wixstudio:t,basicserver:t,virtualserver:t}],iq:O,ir:[1,{ac:e,co:e,gov:e,id:e,net:e,org:e,sch:e,"xn--mgba3a4f16a":e,:e,"xn--mgba3a4fra":e,:e}],is:[1,{net:e,com:e,edu:e,gov:e,org:e,int:e,cupcake:t,blogspot:t}],it:[1,{gov:e,edu:e,abr:e,abruzzo:e,"aosta-valley":e,aostavalley:e,bas:e,basilicata:e,cal:e,calabria:e,cam:e,campania:e,"emilia-romagna":e,emiliaromagna:e,emr:e,"friuli-v-giulia":e,"friuli-ve-giulia":e,"friuli-vegiulia":e,"friuli-venezia-giulia":e,"friuli-veneziagiulia":e,"friuli-vgiulia":e,"friuliv-giulia":e,"friulive-giulia":e,friulivegiulia:e,"friulivenezia-giulia":e,friuliveneziagiulia:e,friulivgiulia:e,fvg:e,laz:e,lazio:e,lig:e,liguria:e,lom:e,lombardia:e,lombardy:e,lucania:e,mar:e,marche:e,mol:e,molise:e,piedmont:e,piemonte:e,pmn:e,pug:e,puglia:e,sar:e,sardegna:e,sardinia:e,sic:e,sicilia:e,sicily:e,taa:e,tos:e,toscana:e,"trentin-sud-tirol":e,"xn--trentin-sd-tirol-rzb":e,"trentin-sd-tirol":e,"trentin-sudtirol":e,"xn--trentin-sdtirol-7vb":e,"trentin-sdtirol":e,"trentin-sued-tirol":e,"trentin-suedtirol":e,"trentino-a-adige":e,"trentino-aadige":e,"trentino-alto-adige":e,"trentino-altoadige":e,"trentino-s-tirol":e,"trentino-stirol":e,"trentino-sud-tirol":e,"xn--trentino-sd-tirol-c3b":e,"trentino-sd-tirol":e,"trentino-sudtirol":e,"xn--trentino-sdtirol-szb":e,"trentino-sdtirol":e,"trentino-sued-tirol":e,"trentino-suedtirol":e,trentino:e,"trentinoa-adige":e,trentinoaadige:e,"trentinoalto-adige":e,trentinoaltoadige:e,"trentinos-tirol":e,trentinostirol:e,"trentinosud-tirol":e,"xn--trentinosd-tirol-rzb":e,"trentinosd-tirol":e,trentinosudtirol:e,"xn--trentinosdtirol-7vb":e,trentinosdtirol:e,"trentinosued-tirol":e,trentinosuedtirol:e,"trentinsud-tirol":e,"xn--trentinsd-tirol-6vb":e,"trentinsd-tirol":e,trentinsudtirol:e,"xn--trentinsdtirol-nsb":e,trentinsdtirol:e,"trentinsued-tirol":e,trentinsuedtirol:e,tuscany:e,umb:e,umbria:e,"val-d-aosta":e,"val-daosta":e,"vald-aosta":e,valdaosta:e,"valle-aosta":e,"valle-d-aosta":e,"valle-daosta":e,valleaosta:e,"valled-aosta":e,valledaosta:e,"vallee-aoste":e,"xn--valle-aoste-ebb":e,"valle-aoste":e,"vallee-d-aoste":e,"xn--valle-d-aoste-ehb":e,"valle-d-aoste":e,valleeaoste:e,"xn--valleaoste-e7a":e,valleaoste:e,valleedaoste:e,"xn--valledaoste-ebb":e,valledaoste:e,vao:e,vda:e,ven:e,veneto:e,ag:e,agrigento:e,al:e,alessandria:e,"alto-adige":e,altoadige:e,an:e,ancona:e,"andria-barletta-trani":e,"andria-trani-barletta":e,andriabarlettatrani:e,andriatranibarletta:e,ao:e,aosta:e,aoste:e,ap:e,aq:e,aquila:e,ar:e,arezzo:e,"ascoli-piceno":e,ascolipiceno:e,asti:e,at:e,av:e,avellino:e,ba:e,"balsan-sudtirol":e,"xn--balsan-sdtirol-nsb":e,"balsan-sdtirol":e,"balsan-suedtirol":e,balsan:e,bari:e,"barletta-trani-andria":e,barlettatraniandria:e,belluno:e,benevento:e,bergamo:e,bg:e,bi:e,biella:e,bl:e,bn:e,bo:e,bologna:e,"bolzano-altoadige":e,bolzano:e,"bozen-sudtirol":e,"xn--bozen-sdtirol-2ob":e,"bozen-sdtirol":e,"bozen-suedtirol":e,bozen:e,br:e,brescia:e,brindisi:e,bs:e,bt:e,"bulsan-sudtirol":e,"xn--bulsan-sdtirol-nsb":e,"bulsan-sdtirol":e,"bulsan-suedtirol":e,bulsan:e,bz:e,ca:e,cagliari:e,caltanissetta:e,"campidano-medio":e,campidanomedio:e,campobasso:e,"carbonia-iglesias":e,carboniaiglesias:e,"carrara-massa":e,carraramassa:e,caserta:e,catania:e,catanzaro:e,cb:e,ce:e,"cesena-forli":e,"xn--cesena-forl-mcb":e,"cesena-forl":e,cesenaforli:e,"xn--cesenaforl-i8a":e,cesenaforl:e,ch:e,chieti:e,ci:e,cl:e,cn:e,co:e,como:e,cosenza:e,cr:e,cremona:e,crotone:e,cs:e,ct:e,cuneo:e,cz:e,"dell-ogliastra":e,dellogliastra:e,en:e,enna:e,fc:e,fe:e,fermo:e,ferrara:e,fg:e,fi:e,firenze:e,florence:e,fm:e,foggia:e,"forli-cesena":e,"xn--forl-cesena-fcb":e,"forl-cesena":e,forlicesena:e,"xn--forlcesena-c8a":e,forlcesena:e,fr:e,frosinone:e,ge:e,genoa:e,genova:e,go:e,gorizia:e,gr:e,grosseto:e,"iglesias-carbonia":e,iglesiascarbonia:e,im:e,imperia:e,is:e,isernia:e,kr:e,"la-spezia":e,laquila:e,laspezia:e,latina:e,lc:e,le:e,lecce:e,lecco:e,li:e,livorno:e,lo:e,lodi:e,lt:e,lu:e,lucca:e,macerata:e,mantova:e,"massa-carrara":e,massacarrara:e,matera:e,mb:e,mc:e,me:e,"medio-campidano":e,mediocampidano:e,messina:e,mi:e,milan:e,milano:e,mn:e,mo:e,modena:e,"monza-brianza":e,"monza-e-della-brianza":e,monza:e,monzabrianza:e,monzaebrianza:e,monzaedellabrianza:e,ms:e,mt:e,na:e,naples:e,napoli:e,no:e,novara:e,nu:e,nuoro:e,og:e,ogliastra:e,"olbia-tempio":e,olbiatempio:e,or:e,oristano:e,ot:e,pa:e,padova:e,padua:e,palermo:e,parma:e,pavia:e,pc:e,pd:e,pe:e,perugia:e,"pesaro-urbino":e,pesarourbino:e,pescara:e,pg:e,pi:e,piacenza:e,pisa:e,pistoia:e,pn:e,po:e,pordenone:e,potenza:e,pr:e,prato:e,pt:e,pu:e,pv:e,pz:e,ra:e,ragusa:e,ravenna:e,rc:e,re:e,"reggio-calabria":e,"reggio-emilia":e,reggiocalabria:e,reggioemilia:e,rg:e,ri:e,rieti:e,rimini:e,rm:e,rn:e,ro:e,roma:e,rome:e,rovigo:e,sa:e,salerno:e,sassari:e,savona:e,si:e,siena:e,siracusa:e,so:e,sondrio:e,sp:e,sr:e,ss:e,suedtirol:e,"xn--sdtirol-n2a":e,sdtirol:e,sv:e,ta:e,taranto:e,te:e,"tempio-olbia":e,tempioolbia:e,teramo:e,terni:e,tn:e,to:e,torino:e,tp:e,tr:e,"trani-andria-barletta":e,"trani-barletta-andria":e,traniandriabarletta:e,tranibarlettaandria:e,trapani:e,trento:e,treviso:e,trieste:e,ts:e,turin:e,tv:e,ud:e,udine:e,"urbino-pesaro":e,urbinopesaro:e,va:e,varese:e,vb:e,vc:e,ve:e,venezia:e,venice:e,verbania:e,vercelli:e,verona:e,vi:e,"vibo-valentia":e,vibovalentia:e,vicenza:e,viterbo:e,vr:e,vs:e,vt:e,vv:e,blogspot:t,ibxos:t,iliadboxos:t,neen:[0,{jc:t}],tim:[0,{open:[0,{jelastic:a}]}],"16-b":t,"32-b":t,"64-b":t,"123homepage":t,myspreadshop:t,syncloud:t}],je:[1,{co:e,net:e,org:e,of:t}],jm:s,jo:[1,{com:e,org:e,net:e,edu:e,sch:e,gov:e,mil:e,name:e}],jobs:e,jp:[1,{ac:e,ad:e,co:e,ed:e,go:e,gr:e,lg:e,ne:[1,{aseinet:z,gehirn:t,ivory:t,"mail-box":t,mints:t,mokuren:t,opal:t,sakura:t,sumomo:t,topaz:t}],or:e,aichi:[1,{aisai:e,ama:e,anjo:e,asuke:e,chiryu:e,chita:e,fuso:e,gamagori:e,handa:e,hazu:e,hekinan:e,higashiura:e,ichinomiya:e,inazawa:e,inuyama:e,isshiki:e,iwakura:e,kanie:e,kariya:e,kasugai:e,kira:e,kiyosu:e,komaki:e,konan:e,kota:e,mihama:e,miyoshi:e,nishio:e,nisshin:e,obu:e,oguchi:e,oharu:e,okazaki:e,owariasahi:e,seto:e,shikatsu:e,shinshiro:e,shitara:e,tahara:e,takahama:e,tobishima:e,toei:e,togo:e,tokai:e,tokoname:e,toyoake:e,toyohashi:e,toyokawa:e,toyone:e,toyota:e,tsushima:e,yatomi:e}],akita:[1,{akita:e,daisen:e,fujisato:e,gojome:e,hachirogata:e,happou:e,higashinaruse:e,honjo:e,honjyo:e,ikawa:e,kamikoani:e,kamioka:e,katagami:e,kazuno:e,kitaakita:e,kosaka:e,kyowa:e,misato:e,mitane:e,moriyoshi:e,nikaho:e,noshiro:e,odate:e,oga:e,ogata:e,semboku:e,yokote:e,yurihonjo:e}],aomori:[1,{aomori:e,gonohe:e,hachinohe:e,hashikami:e,hiranai:e,hirosaki:e,itayanagi:e,kuroishi:e,misawa:e,mutsu:e,nakadomari:e,noheji:e,oirase:e,owani:e,rokunohe:e,sannohe:e,shichinohe:e,shingo:e,takko:e,towada:e,tsugaru:e,tsuruta:e}],chiba:[1,{abiko:e,asahi:e,chonan:e,chosei:e,choshi:e,chuo:e,funabashi:e,futtsu:e,hanamigawa:e,ichihara:e,ichikawa:e,ichinomiya:e,inzai:e,isumi:e,kamagaya:e,kamogawa:e,kashiwa:e,katori:e,katsuura:e,kimitsu:e,kisarazu:e,kozaki:e,kujukuri:e,kyonan:e,matsudo:e,midori:e,mihama:e,minamiboso:e,mobara:e,mutsuzawa:e,nagara:e,nagareyama:e,narashino:e,narita:e,noda:e,oamishirasato:e,omigawa:e,onjuku:e,otaki:e,sakae:e,sakura:e,shimofusa:e,shirako:e,shiroi:e,shisui:e,sodegaura:e,sosa:e,tako:e,tateyama:e,togane:e,tohnosho:e,tomisato:e,urayasu:e,yachimata:e,yachiyo:e,yokaichiba:e,yokoshibahikari:e,yotsukaido:e}],ehime:[1,{ainan:e,honai:e,ikata:e,imabari:e,iyo:e,kamijima:e,kihoku:e,kumakogen:e,masaki:e,matsuno:e,matsuyama:e,namikata:e,niihama:e,ozu:e,saijo:e,seiyo:e,shikokuchuo:e,tobe:e,toon:e,uchiko:e,uwajima:e,yawatahama:e}],fukui:[1,{echizen:e,eiheiji:e,fukui:e,ikeda:e,katsuyama:e,mihama:e,minamiechizen:e,obama:e,ohi:e,ono:e,sabae:e,sakai:e,takahama:e,tsuruga:e,wakasa:e}],fukuoka:[1,{ashiya:e,buzen:e,chikugo:e,chikuho:e,chikujo:e,chikushino:e,chikuzen:e,chuo:e,dazaifu:e,fukuchi:e,hakata:e,higashi:e,hirokawa:e,hisayama:e,iizuka:e,inatsuki:e,kaho:e,kasuga:e,kasuya:e,kawara:e,keisen:e,koga:e,kurate:e,kurogi:e,kurume:e,minami:e,miyako:e,miyama:e,miyawaka:e,mizumaki:e,munakata:e,nakagawa:e,nakama:e,nishi:e,nogata:e,ogori:e,okagaki:e,okawa:e,oki:e,omuta:e,onga:e,onojo:e,oto:e,saigawa:e,sasaguri:e,shingu:e,shinyoshitomi:e,shonai:e,soeda:e,sue:e,tachiarai:e,tagawa:e,takata:e,toho:e,toyotsu:e,tsuiki:e,ukiha:e,umi:e,usui:e,yamada:e,yame:e,yanagawa:e,yukuhashi:e}],fukushima:[1,{aizubange:e,aizumisato:e,aizuwakamatsu:e,asakawa:e,bandai:e,date:e,fukushima:e,furudono:e,futaba:e,hanawa:e,higashi:e,hirata:e,hirono:e,iitate:e,inawashiro:e,ishikawa:e,iwaki:e,izumizaki:e,kagamiishi:e,kaneyama:e,kawamata:e,kitakata:e,kitashiobara:e,koori:e,koriyama:e,kunimi:e,miharu:e,mishima:e,namie:e,nango:e,nishiaizu:e,nishigo:e,okuma:e,omotego:e,ono:e,otama:e,samegawa:e,shimogo:e,shirakawa:e,showa:e,soma:e,sukagawa:e,taishin:e,tamakawa:e,tanagura:e,tenei:e,yabuki:e,yamato:e,yamatsuri:e,yanaizu:e,yugawa:e}],gifu:[1,{anpachi:e,ena:e,gifu:e,ginan:e,godo:e,gujo:e,hashima:e,hichiso:e,hida:e,higashishirakawa:e,ibigawa:e,ikeda:e,kakamigahara:e,kani:e,kasahara:e,kasamatsu:e,kawaue:e,kitagata:e,mino:e,minokamo:e,mitake:e,mizunami:e,motosu:e,nakatsugawa:e,ogaki:e,sakahogi:e,seki:e,sekigahara:e,shirakawa:e,tajimi:e,takayama:e,tarui:e,toki:e,tomika:e,wanouchi:e,yamagata:e,yaotsu:e,yoro:e}],gunma:[1,{annaka:e,chiyoda:e,fujioka:e,higashiagatsuma:e,isesaki:e,itakura:e,kanna:e,kanra:e,katashina:e,kawaba:e,kiryu:e,kusatsu:e,maebashi:e,meiwa:e,midori:e,minakami:e,naganohara:e,nakanojo:e,nanmoku:e,numata:e,oizumi:e,ora:e,ota:e,shibukawa:e,shimonita:e,shinto:e,showa:e,takasaki:e,takayama:e,tamamura:e,tatebayashi:e,tomioka:e,tsukiyono:e,tsumagoi:e,ueno:e,yoshioka:e}],hiroshima:[1,{asaminami:e,daiwa:e,etajima:e,fuchu:e,fukuyama:e,hatsukaichi:e,higashihiroshima:e,hongo:e,jinsekikogen:e,kaita:e,kui:e,kumano:e,kure:e,mihara:e,miyoshi:e,naka:e,onomichi:e,osakikamijima:e,otake:e,saka:e,sera:e,seranishi:e,shinichi:e,shobara:e,takehara:e}],hokkaido:[1,{abashiri:e,abira:e,aibetsu:e,akabira:e,akkeshi:e,asahikawa:e,ashibetsu:e,ashoro:e,assabu:e,atsuma:e,bibai:e,biei:e,bifuka:e,bihoro:e,biratori:e,chippubetsu:e,chitose:e,date:e,ebetsu:e,embetsu:e,eniwa:e,erimo:e,esan:e,esashi:e,fukagawa:e,fukushima:e,furano:e,furubira:e,haboro:e,hakodate:e,hamatonbetsu:e,hidaka:e,higashikagura:e,higashikawa:e,hiroo:e,hokuryu:e,hokuto:e,honbetsu:e,horokanai:e,horonobe:e,ikeda:e,imakane:e,ishikari:e,iwamizawa:e,iwanai:e,kamifurano:e,kamikawa:e,kamishihoro:e,kamisunagawa:e,kamoenai:e,kayabe:e,kembuchi:e,kikonai:e,kimobetsu:e,kitahiroshima:e,kitami:e,kiyosato:e,koshimizu:e,kunneppu:e,kuriyama:e,kuromatsunai:e,kushiro:e,kutchan:e,kyowa:e,mashike:e,matsumae:e,mikasa:e,minamifurano:e,mombetsu:e,moseushi:e,mukawa:e,muroran:e,naie:e,nakagawa:e,nakasatsunai:e,nakatombetsu:e,nanae:e,nanporo:e,nayoro:e,nemuro:e,niikappu:e,niki:e,nishiokoppe:e,noboribetsu:e,numata:e,obihiro:e,obira:e,oketo:e,okoppe:e,otaru:e,otobe:e,otofuke:e,otoineppu:e,oumu:e,ozora:e,pippu:e,rankoshi:e,rebun:e,rikubetsu:e,rishiri:e,rishirifuji:e,saroma:e,sarufutsu:e,shakotan:e,shari:e,shibecha:e,shibetsu:e,shikabe:e,shikaoi:e,shimamaki:e,shimizu:e,shimokawa:e,shinshinotsu:e,shintoku:e,shiranuka:e,shiraoi:e,shiriuchi:e,sobetsu:e,sunagawa:e,taiki:e,takasu:e,takikawa:e,takinoue:e,teshikaga:e,tobetsu:e,tohma:e,tomakomai:e,tomari:e,toya:e,toyako:e,toyotomi:e,toyoura:e,tsubetsu:e,tsukigata:e,urakawa:e,urausu:e,uryu:e,utashinai:e,wakkanai:e,wassamu:e,yakumo:e,yoichi:e}],hyogo:[1,{aioi:e,akashi:e,ako:e,amagasaki:e,aogaki:e,asago:e,ashiya:e,awaji:e,fukusaki:e,goshiki:e,harima:e,himeji:e,ichikawa:e,inagawa:e,itami:e,kakogawa:e,kamigori:e,kamikawa:e,kasai:e,kasuga:e,kawanishi:e,miki:e,minamiawaji:e,nishinomiya:e,nishiwaki:e,ono:e,sanda:e,sannan:e,sasayama:e,sayo:e,shingu:e,shinonsen:e,shiso:e,sumoto:e,taishi:e,taka:e,takarazuka:e,takasago:e,takino:e,tamba:e,tatsuno:e,toyooka:e,yabu:e,yashiro:e,yoka:e,yokawa:e}],ibaraki:[1,{ami:e,asahi:e,bando:e,chikusei:e,daigo:e,fujishiro:e,hitachi:e,hitachinaka:e,hitachiomiya:e,hitachiota:e,ibaraki:e,ina:e,inashiki:e,itako:e,iwama:e,joso:e,kamisu:e,kasama:e,kashima:e,kasumigaura:e,koga:e,miho:e,mito:e,moriya:e,naka:e,namegata:e,oarai:e,ogawa:e,omitama:e,ryugasaki:e,sakai:e,sakuragawa:e,shimodate:e,shimotsuma:e,shirosato:e,sowa:e,suifu:e,takahagi:e,tamatsukuri:e,tokai:e,tomobe:e,tone:e,toride:e,tsuchiura:e,tsukuba:e,uchihara:e,ushiku:e,yachiyo:e,yamagata:e,yawara:e,yuki:e}],ishikawa:[1,{anamizu:e,hakui:e,hakusan:e,kaga:e,kahoku:e,kanazawa:e,kawakita:e,komatsu:e,nakanoto:e,nanao:e,nomi:e,nonoichi:e,noto:e,shika:e,suzu:e,tsubata:e,tsurugi:e,uchinada:e,wajima:e}],iwate:[1,{fudai:e,fujisawa:e,hanamaki:e,hiraizumi:e,hirono:e,ichinohe:e,ichinoseki:e,iwaizumi:e,iwate:e,joboji:e,kamaishi:e,kanegasaki:e,karumai:e,kawai:e,kitakami:e,kuji:e,kunohe:e,kuzumaki:e,miyako:e,mizusawa:e,morioka:e,ninohe:e,noda:e,ofunato:e,oshu:e,otsuchi:e,rikuzentakata:e,shiwa:e,shizukuishi:e,sumita:e,tanohata:e,tono:e,yahaba:e,yamada:e}],kagawa:[1,{ayagawa:e,higashikagawa:e,kanonji:e,kotohira:e,manno:e,marugame:e,mitoyo:e,naoshima:e,sanuki:e,tadotsu:e,takamatsu:e,tonosho:e,uchinomi:e,utazu:e,zentsuji:e}],kagoshima:[1,{akune:e,amami:e,hioki:e,isa:e,isen:e,izumi:e,kagoshima:e,kanoya:e,kawanabe:e,kinko:e,kouyama:e,makurazaki:e,matsumoto:e,minamitane:e,nakatane:e,nishinoomote:e,satsumasendai:e,soo:e,tarumizu:e,yusui:e}],kanagawa:[1,{aikawa:e,atsugi:e,ayase:e,chigasaki:e,ebina:e,fujisawa:e,hadano:e,hakone:e,hiratsuka:e,isehara:e,kaisei:e,kamakura:e,kiyokawa:e,matsuda:e,minamiashigara:e,miura:e,nakai:e,ninomiya:e,odawara:e,oi:e,oiso:e,sagamihara:e,samukawa:e,tsukui:e,yamakita:e,yamato:e,yokosuka:e,yugawara:e,zama:e,zushi:e}],kochi:[1,{aki:e,geisei:e,hidaka:e,higashitsuno:e,ino:e,kagami:e,kami:e,kitagawa:e,kochi:e,mihara:e,motoyama:e,muroto:e,nahari:e,nakamura:e,nankoku:e,nishitosa:e,niyodogawa:e,ochi:e,okawa:e,otoyo:e,otsuki:e,sakawa:e,sukumo:e,susaki:e,tosa:e,tosashimizu:e,toyo:e,tsuno:e,umaji:e,yasuda:e,yusuhara:e}],kumamoto:[1,{amakusa:e,arao:e,aso:e,choyo:e,gyokuto:e,kamiamakusa:e,kikuchi:e,kumamoto:e,mashiki:e,mifune:e,minamata:e,minamioguni:e,nagasu:e,nishihara:e,oguni:e,ozu:e,sumoto:e,takamori:e,uki:e,uto:e,yamaga:e,yamato:e,yatsushiro:e}],kyoto:[1,{ayabe:e,fukuchiyama:e,higashiyama:e,ide:e,ine:e,joyo:e,kameoka:e,kamo:e,kita:e,kizu:e,kumiyama:e,kyotamba:e,kyotanabe:e,kyotango:e,maizuru:e,minami:e,minamiyamashiro:e,miyazu:e,muko:e,nagaokakyo:e,nakagyo:e,nantan:e,oyamazaki:e,sakyo:e,seika:e,tanabe:e,uji:e,ujitawara:e,wazuka:e,yamashina:e,yawata:e}],mie:[1,{asahi:e,inabe:e,ise:e,kameyama:e,kawagoe:e,kiho:e,kisosaki:e,kiwa:e,komono:e,kumano:e,kuwana:e,matsusaka:e,meiwa:e,mihama:e,minamiise:e,misugi:e,miyama:e,nabari:e,shima:e,suzuka:e,tado:e,taiki:e,taki:e,tamaki:e,toba:e,tsu:e,udono:e,ureshino:e,watarai:e,yokkaichi:e}],miyagi:[1,{furukawa:e,higashimatsushima:e,ishinomaki:e,iwanuma:e,kakuda:e,kami:e,kawasaki:e,marumori:e,matsushima:e,minamisanriku:e,misato:e,murata:e,natori:e,ogawara:e,ohira:e,onagawa:e,osaki:e,rifu:e,semine:e,shibata:e,shichikashuku:e,shikama:e,shiogama:e,shiroishi:e,tagajo:e,taiwa:e,tome:e,tomiya:e,wakuya:e,watari:e,yamamoto:e,zao:e}],miyazaki:[1,{aya:e,ebino:e,gokase:e,hyuga:e,kadogawa:e,kawaminami:e,kijo:e,kitagawa:e,kitakata:e,kitaura:e,kobayashi:e,kunitomi:e,kushima:e,mimata:e,miyakonojo:e,miyazaki:e,morotsuka:e,nichinan:e,nishimera:e,nobeoka:e,saito:e,shiiba:e,shintomi:e,takaharu:e,takanabe:e,takazaki:e,tsuno:e}],nagano:[1,{achi:e,agematsu:e,anan:e,aoki:e,asahi:e,azumino:e,chikuhoku:e,chikuma:e,chino:e,fujimi:e,hakuba:e,hara:e,hiraya:e,iida:e,iijima:e,iiyama:e,iizuna:e,ikeda:e,ikusaka:e,ina:e,karuizawa:e,kawakami:e,kiso:e,kisofukushima:e,kitaaiki:e,komagane:e,komoro:e,matsukawa:e,matsumoto:e,miasa:e,minamiaiki:e,minamimaki:e,minamiminowa:e,minowa:e,miyada:e,miyota:e,mochizuki:e,nagano:e,nagawa:e,nagiso:e,nakagawa:e,nakano:e,nozawaonsen:e,obuse:e,ogawa:e,okaya:e,omachi:e,omi:e,ookuwa:e,ooshika:e,otaki:e,otari:e,sakae:e,sakaki:e,saku:e,sakuho:e,shimosuwa:e,shinanomachi:e,shiojiri:e,suwa:e,suzaka:e,takagi:e,takamori:e,takayama:e,tateshina:e,tatsuno:e,togakushi:e,togura:e,tomi:e,ueda:e,wada:e,yamagata:e,yamanouchi:e,yasaka:e,yasuoka:e}],nagasaki:[1,{chijiwa:e,futsu:e,goto:e,hasami:e,hirado:e,iki:e,isahaya:e,kawatana:e,kuchinotsu:e,matsuura:e,nagasaki:e,obama:e,omura:e,oseto:e,saikai:e,sasebo:e,seihi:e,shimabara:e,shinkamigoto:e,togitsu:e,tsushima:e,unzen:e}],nara:[1,{ando:e,gose:e,heguri:e,higashiyoshino:e,ikaruga:e,ikoma:e,kamikitayama:e,kanmaki:e,kashiba:e,kashihara:e,katsuragi:e,kawai:e,kawakami:e,kawanishi:e,koryo:e,kurotaki:e,mitsue:e,miyake:e,nara:e,nosegawa:e,oji:e,ouda:e,oyodo:e,sakurai:e,sango:e,shimoichi:e,shimokitayama:e,shinjo:e,soni:e,takatori:e,tawaramoto:e,tenkawa:e,tenri:e,uda:e,yamatokoriyama:e,yamatotakada:e,yamazoe:e,yoshino:e}],niigata:[1,{aga:e,agano:e,gosen:e,itoigawa:e,izumozaki:e,joetsu:e,kamo:e,kariwa:e,kashiwazaki:e,minamiuonuma:e,mitsuke:e,muika:e,murakami:e,myoko:e,nagaoka:e,niigata:e,ojiya:e,omi:e,sado:e,sanjo:e,seiro:e,seirou:e,sekikawa:e,shibata:e,tagami:e,tainai:e,tochio:e,tokamachi:e,tsubame:e,tsunan:e,uonuma:e,yahiko:e,yoita:e,yuzawa:e}],oita:[1,{beppu:e,bungoono:e,bungotakada:e,hasama:e,hiji:e,himeshima:e,hita:e,kamitsue:e,kokonoe:e,kuju:e,kunisaki:e,kusu:e,oita:e,saiki:e,taketa:e,tsukumi:e,usa:e,usuki:e,yufu:e}],okayama:[1,{akaiwa:e,asakuchi:e,bizen:e,hayashima:e,ibara:e,kagamino:e,kasaoka:e,kibichuo:e,kumenan:e,kurashiki:e,maniwa:e,misaki:e,nagi:e,niimi:e,nishiawakura:e,okayama:e,satosho:e,setouchi:e,shinjo:e,shoo:e,soja:e,takahashi:e,tamano:e,tsuyama:e,wake:e,yakage:e}],okinawa:[1,{aguni:e,ginowan:e,ginoza:e,gushikami:e,haebaru:e,higashi:e,hirara:e,iheya:e,ishigaki:e,ishikawa:e,itoman:e,izena:e,kadena:e,kin:e,kitadaito:e,kitanakagusuku:e,kumejima:e,kunigami:e,minamidaito:e,motobu:e,nago:e,naha:e,nakagusuku:e,nakijin:e,nanjo:e,nishihara:e,ogimi:e,okinawa:e,onna:e,shimoji:e,taketomi:e,tarama:e,tokashiki:e,tomigusuku:e,tonaki:e,urasoe:e,uruma:e,yaese:e,yomitan:e,yonabaru:e,yonaguni:e,zamami:e}],osaka:[1,{abeno:e,chihayaakasaka:e,chuo:e,daito:e,fujiidera:e,habikino:e,hannan:e,higashiosaka:e,higashisumiyoshi:e,higashiyodogawa:e,hirakata:e,ibaraki:e,ikeda:e,izumi:e,izumiotsu:e,izumisano:e,kadoma:e,kaizuka:e,kanan:e,kashiwara:e,katano:e,kawachinagano:e,kishiwada:e,kita:e,kumatori:e,matsubara:e,minato:e,minoh:e,misaki:e,moriguchi:e,neyagawa:e,nishi:e,nose:e,osakasayama:e,sakai:e,sayama:e,sennan:e,settsu:e,shijonawate:e,shimamoto:e,suita:e,tadaoka:e,taishi:e,tajiri:e,takaishi:e,takatsuki:e,tondabayashi:e,toyonaka:e,toyono:e,yao:e}],saga:[1,{ariake:e,arita:e,fukudomi:e,genkai:e,hamatama:e,hizen:e,imari:e,kamimine:e,kanzaki:e,karatsu:e,kashima:e,kitagata:e,kitahata:e,kiyama:e,kouhoku:e,kyuragi:e,nishiarita:e,ogi:e,omachi:e,ouchi:e,saga:e,shiroishi:e,taku:e,tara:e,tosu:e,yoshinogari:e}],saitama:[1,{arakawa:e,asaka:e,chichibu:e,fujimi:e,fujimino:e,fukaya:e,hanno:e,hanyu:e,hasuda:e,hatogaya:e,hatoyama:e,hidaka:e,higashichichibu:e,higashimatsuyama:e,honjo:e,ina:e,iruma:e,iwatsuki:e,kamiizumi:e,kamikawa:e,kamisato:e,kasukabe:e,kawagoe:e,kawaguchi:e,kawajima:e,kazo:e,kitamoto:e,koshigaya:e,kounosu:e,kuki:e,kumagaya:e,matsubushi:e,minano:e,misato:e,miyashiro:e,miyoshi:e,moroyama:e,nagatoro:e,namegawa:e,niiza:e,ogano:e,ogawa:e,ogose:e,okegawa:e,omiya:e,otaki:e,ranzan:e,ryokami:e,saitama:e,sakado:e,satte:e,sayama:e,shiki:e,shiraoka:e,soka:e,sugito:e,toda:e,tokigawa:e,tokorozawa:e,tsurugashima:e,urawa:e,warabi:e,yashio:e,yokoze:e,yono:e,yorii:e,yoshida:e,yoshikawa:e,yoshimi:e}],shiga:[1,{aisho:e,gamo:e,higashiomi:e,hikone:e,koka:e,konan:e,kosei:e,koto:e,kusatsu:e,maibara:e,moriyama:e,nagahama:e,nishiazai:e,notogawa:e,omihachiman:e,otsu:e,ritto:e,ryuoh:e,takashima:e,takatsuki:e,torahime:e,toyosato:e,yasu:e}],shimane:[1,{akagi:e,ama:e,gotsu:e,hamada:e,higashiizumo:e,hikawa:e,hikimi:e,izumo:e,kakinoki:e,masuda:e,matsue:e,misato:e,nishinoshima:e,ohda:e,okinoshima:e,okuizumo:e,shimane:e,tamayu:e,tsuwano:e,unnan:e,yakumo:e,yasugi:e,yatsuka:e}],shizuoka:[1,{arai:e,atami:e,fuji:e,fujieda:e,fujikawa:e,fujinomiya:e,fukuroi:e,gotemba:e,haibara:e,hamamatsu:e,higashiizu:e,ito:e,iwata:e,izu:e,izunokuni:e,kakegawa:e,kannami:e,kawanehon:e,kawazu:e,kikugawa:e,kosai:e,makinohara:e,matsuzaki:e,minamiizu:e,mishima:e,morimachi:e,nishiizu:e,numazu:e,omaezaki:e,shimada:e,shimizu:e,shimoda:e,shizuoka:e,susono:e,yaizu:e,yoshida:e}],tochigi:[1,{ashikaga:e,bato:e,haga:e,ichikai:e,iwafune:e,kaminokawa:e,kanuma:e,karasuyama:e,kuroiso:e,mashiko:e,mibu:e,moka:e,motegi:e,nasu:e,nasushiobara:e,nikko:e,nishikata:e,nogi:e,ohira:e,ohtawara:e,oyama:e,sakura:e,sano:e,shimotsuke:e,shioya:e,takanezawa:e,tochigi:e,tsuga:e,ujiie:e,utsunomiya:e,yaita:e}],tokushima:[1,{aizumi:e,anan:e,ichiba:e,itano:e,kainan:e,komatsushima:e,matsushige:e,mima:e,minami:e,miyoshi:e,mugi:e,nakagawa:e,naruto:e,sanagochi:e,shishikui:e,tokushima:e,wajiki:e}],tokyo:[1,{adachi:e,akiruno:e,akishima:e,aogashima:e,arakawa:e,bunkyo:e,chiyoda:e,chofu:e,chuo:e,edogawa:e,fuchu:e,fussa:e,hachijo:e,hachioji:e,hamura:e,higashikurume:e,higashimurayama:e,higashiyamato:e,hino:e,hinode:e,hinohara:e,inagi:e,itabashi:e,katsushika:e,kita:e,kiyose:e,kodaira:e,koganei:e,kokubunji:e,komae:e,koto:e,kouzushima:e,kunitachi:e,machida:e,meguro:e,minato:e,mitaka:e,mizuho:e,musashimurayama:e,musashino:e,nakano:e,nerima:e,ogasawara:e,okutama:e,ome:e,oshima:e,ota:e,setagaya:e,shibuya:e,shinagawa:e,shinjuku:e,suginami:e,sumida:e,tachikawa:e,taito:e,tama:e,toshima:e}],tottori:[1,{chizu:e,hino:e,kawahara:e,koge:e,kotoura:e,misasa:e,nanbu:e,nichinan:e,sakaiminato:e,tottori:e,wakasa:e,yazu:e,yonago:e}],toyama:[1,{asahi:e,fuchu:e,fukumitsu:e,funahashi:e,himi:e,imizu:e,inami:e,johana:e,kamiichi:e,kurobe:e,nakaniikawa:e,namerikawa:e,nanto:e,nyuzen:e,oyabe:e,taira:e,takaoka:e,tateyama:e,toga:e,tonami:e,toyama:e,unazuki:e,uozu:e,yamada:e}],wakayama:[1,{arida:e,aridagawa:e,gobo:e,hashimoto:e,hidaka:e,hirogawa:e,inami:e,iwade:e,kainan:e,kamitonda:e,katsuragi:e,kimino:e,kinokawa:e,kitayama:e,koya:e,koza:e,kozagawa:e,kudoyama:e,kushimoto:e,mihama:e,misato:e,nachikatsuura:e,shingu:e,shirahama:e,taiji:e,tanabe:e,wakayama:e,yuasa:e,yura:e}],yamagata:[1,{asahi:e,funagata:e,higashine:e,iide:e,kahoku:e,kaminoyama:e,kaneyama:e,kawanishi:e,mamurogawa:e,mikawa:e,murayama:e,nagai:e,nakayama:e,nanyo:e,nishikawa:e,obanazawa:e,oe:e,oguni:e,ohkura:e,oishida:e,sagae:e,sakata:e,sakegawa:e,shinjo:e,shirataka:e,shonai:e,takahata:e,tendo:e,tozawa:e,tsuruoka:e,yamagata:e,yamanobe:e,yonezawa:e,yuza:e}],yamaguchi:[1,{abu:e,hagi:e,hikari:e,hofu:e,iwakuni:e,kudamatsu:e,mitou:e,nagato:e,oshima:e,shimonoseki:e,shunan:e,tabuse:e,tokuyama:e,toyota:e,ube:e,yuu:e}],yamanashi:[1,{chuo:e,doshi:e,fuefuki:e,fujikawa:e,fujikawaguchiko:e,fujiyoshida:e,hayakawa:e,hokuto:e,ichikawamisato:e,kai:e,kofu:e,koshu:e,kosuge:e,"minami-alps":e,minobu:e,nakamichi:e,nanbu:e,narusawa:e,nirasaki:e,nishikatsura:e,oshino:e,otsuki:e,showa:e,tabayama:e,tsuru:e,uenohara:e,yamanakako:e,yamanashi:e}],"xn--4pvxs":e,:e,"xn--vgu402c":e,:e,"xn--c3s14m":e,:e,"xn--f6qx53a":e,:e,"xn--8pvr4u":e,:e,"xn--uist22h":e,:e,"xn--djrs72d6uy":e,:e,"xn--mkru45i":e,:e,"xn--0trq7p7nn":e,:e,"xn--8ltr62k":e,:e,"xn--2m4a15e":e,:e,"xn--efvn9s":e,:e,"xn--32vp30h":e,:e,"xn--4it797k":e,:e,"xn--1lqs71d":e,:e,"xn--5rtp49c":e,:e,"xn--5js045d":e,:e,"xn--ehqz56n":e,:e,"xn--1lqs03n":e,:e,"xn--qqqt11m":e,:e,"xn--kbrq7o":e,:e,"xn--pssu33l":e,:e,"xn--ntsq17g":e,:e,"xn--uisz3g":e,:e,"xn--6btw5a":e,:e,"xn--1ctwo":e,:e,"xn--6orx2r":e,:e,"xn--rht61e":e,:e,"xn--rht27z":e,:e,"xn--djty4k":e,:e,"xn--nit225k":e,:e,"xn--rht3d":e,:e,"xn--klty5x":e,:e,"xn--kltx9a":e,:e,"xn--kltp7d":e,:e,"xn--uuwu58a":e,:e,"xn--zbx025d":e,:e,"xn--ntso0iqx3a":e,:e,"xn--elqq16h":e,:e,"xn--4it168d":e,:e,"xn--klt787d":e,:e,"xn--rny31h":e,:e,"xn--7t0a264c":e,:e,"xn--5rtq34k":e,:e,"xn--k7yn95e":e,:e,"xn--tor131o":e,:e,"xn--d5qv7z876c":e,:e,kawasaki:s,kitakyushu:s,kobe:s,nagoya:s,sapporo:s,sendai:s,yokohama:s,buyshop:t,fashionstore:t,handcrafted:t,kawaiishop:t,supersale:t,theshop:t,usercontent:t,angry:t,babyblue:t,babymilk:t,backdrop:t,bambina:t,bitter:t,blush:t,boo:t,boy:t,boyfriend:t,but:t,candypop:t,capoo:t,catfood:t,cheap:t,chicappa:t,chillout:t,chips:t,chowder:t,chu:t,ciao:t,cocotte:t,coolblog:t,cranky:t,cutegirl:t,daa:t,deca:t,deci:t,digick:t,egoism:t,fakefur:t,fem:t,flier:t,floppy:t,fool:t,frenchkiss:t,girlfriend:t,girly:t,gloomy:t,gonna:t,greater:t,hacca:t,heavy:t,her:t,hiho:t,hippy:t,holy:t,hungry:t,icurus:t,itigo:t,jellybean:t,kikirara:t,kill:t,kilo:t,kuron:t,littlestar:t,lolipopmc:t,lolitapunk:t,lomo:t,lovepop:t,lovesick:t,main:t,mods:t,mond:t,mongolian:t,moo:t,namaste:t,nikita:t,nobushi:t,noor:t,oops:t,parallel:t,parasite:t,pecori:t,peewee:t,penne:t,pepper:t,perma:t,pigboat:t,pinoko:t,punyu:t,pupu:t,pussycat:t,pya:t,raindrop:t,readymade:t,sadist:t,schoolbus:t,secret:t,staba:t,stripper:t,sub:t,sunnyday:t,thick:t,tonkotsu:t,under:t,upper:t,velvet:t,verse:t,versus:t,vivian:t,watson:t,weblike:t,whitesnow:t,zombie:t,blogspot:t,"2-d":t,bona:t,crap:t,daynight:t,eek:t,flop:t,halfmoon:t,jeez:t,matrix:t,mimoza:t,netgamers:t,nyanta:t,o0o0:t,rdy:t,rgr:t,rulez:t,sakurastorage:[0,{isk01:d,isk02:d}],saloon:t,sblo:t,skr:t,tank:t,"uh-oh":t,undo:t,webaccel:[0,{rs:t,user:t}],websozai:t,xii:t}],ke:[1,{ac:e,co:i,go:e,info:e,me:e,mobi:e,ne:e,or:e,sc:e}],kg:[1,{org:e,net:e,com:e,edu:e,gov:e,mil:e,blog:t,io:t,jp:t,tv:t,uk:t,us:t}],kh:s,ki:N,km:[1,{org:e,nom:e,gov:e,prd:e,tm:e,edu:e,mil:e,ass:e,com:e,coop:e,asso:e,presse:e,medecin:e,notaires:e,pharmaciens:e,veterinaire:e,gouv:e}],kn:[1,{net:e,org:e,edu:e,gov:e}],kp:[1,{com:e,edu:e,gov:e,org:e,rep:e,tra:e}],kr:[1,{ac:e,co:e,es:e,go:e,hs:e,kg:e,mil:e,ms:e,ne:e,or:e,pe:e,re:e,sc:e,busan:e,chungbuk:e,chungnam:e,daegu:e,daejeon:e,gangwon:e,gwangju:e,gyeongbuk:e,gyeonggi:e,gyeongnam:e,incheon:e,jeju:e,jeonbuk:e,jeonnam:e,seoul:e,ulsan:e,blogspot:t}],kw:[1,{com:e,edu:e,emb:e,gov:e,ind:e,net:e,org:e}],ky:C,kz:[1,{org:e,edu:e,net:e,gov:e,mil:e,com:e,jcloud:t,kazteleport:[0,{upaas:t}]}],la:[1,{int:e,net:e,info:e,edu:e,gov:e,per:e,com:e,org:e,bnr:t,c:t}],lb:n,lc:[1,{com:e,net:e,co:e,org:e,edu:e,gov:e,oy:t}],li:[1,{blogspot:t,caa:t}],lk:[1,{gov:e,sch:e,net:e,int:e,com:e,org:e,edu:e,ngo:e,soc:e,web:e,ltd:e,assn:e,grp:e,hotel:e,ac:e}],lr:n,ls:[1,{ac:e,biz:e,co:e,edu:e,gov:e,info:e,net:e,org:e,sc:e,de:t}],lt:j,lu:[1,{blogspot:t,"123website":t}],lv:[1,{com:e,edu:e,gov:e,org:e,mil:e,id:e,net:e,asn:e,conf:e}],ly:[1,{com:e,net:e,gov:e,plc:e,edu:e,sch:e,med:e,org:e,id:e}],ma:[1,{co:e,net:e,gov:e,org:e,ac:e,press:e}],mc:[1,{tm:e,asso:e}],md:[1,{blogspot:t,at:t,de:t,jp:t,to:t}],me:[1,{co:e,net:e,org:e,edu:e,ac:e,gov:e,its:e,priv:e,c66:t,daplie:[2,{localhost:t}],edgestack:t,filegear:t,"filegear-au":t,"filegear-de":t,"filegear-gb":t,"filegear-ie":t,"filegear-jp":t,"filegear-sg":t,glitch:t,ravendb:t,lohmus:t,barsy:t,mcpe:t,mcdir:t,soundcast:t,tcp4:t,brasilia:t,ddns:t,dnsfor:t,hopto:t,loginto:t,noip:t,webhop:t,vp4:t,diskstation:t,dscloud:t,i234:t,myds:t,synology:t,transip:D,wedeploy:t,yombo:t,nohost:t}],mg:[1,{org:e,nom:e,gov:e,prd:e,tm:e,edu:e,mil:e,com:e,co:e}],mh:e,mil:e,mk:[1,{com:e,org:e,net:e,edu:e,gov:e,inf:e,name:e,blogspot:t}],ml:[1,{com:e,edu:e,gouv:e,gov:e,net:e,org:e,presse:e}],mm:s,mn:[1,{gov:e,edu:e,org:e,nyc:t}],mo:n,mobi:[1,{barsy:t,dscloud:t}],mp:[1,{ju:t}],mq:e,mr:j,ms:[1,{com:e,edu:e,gov:e,net:e,org:e,lab:t,minisite:t}],mt:[1,{com:i,edu:e,net:e,org:e}],mu:[1,{com:e,net:e,org:e,gov:e,ac:e,co:e,or:e}],museum:e,mv:[1,{aero:e,biz:e,com:e,coop:e,edu:e,gov:e,info:e,int:e,mil:e,museum:e,name:e,net:e,org:e,pro:e}],mw:[1,{ac:e,biz:e,co:e,com:e,coop:e,edu:e,gov:e,int:e,museum:e,net:e,org:e}],mx:[1,{com:e,org:e,gob:e,edu:e,net:e,blogspot:t}],my:[1,{biz:e,com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,blogspot:t}],mz:[1,{ac:e,adv:e,co:e,edu:e,gov:e,mil:e,net:e,org:e}],na:[1,{info:e,pro:e,name:e,school:e,or:e,dr:e,us:e,mx:e,ca:e,in:e,cc:e,tv:e,ws:e,mobi:e,co:e,com:e,org:e}],name:[1,{her:W,his:W}],nc:[1,{asso:e,nom:e}],ne:e,net:[1,{adobeaemcloud:t,"adobeio-static":t,adobeioruntime:t,akadns:t,akamai:t,"akamai-staging":t,akamaiedge:t,"akamaiedge-staging":t,akamaihd:t,"akamaihd-staging":t,akamaiorigin:t,"akamaiorigin-staging":t,akamaized:t,"akamaized-staging":t,edgekey:t,"edgekey-staging":t,edgesuite:t,"edgesuite-staging":t,alwaysdata:t,myamaze:t,cloudfront:t,t3l3p0rt:t,appudo:t,"atlassian-dev":[0,{prod:[0,{cdn:t}]}],myfritz:t,onavstack:t,shopselect:t,blackbaudcdn:t,boomla:t,bplaced:t,square7:t,gb:t,hu:t,jp:t,se:t,uk:t,in:t,clickrising:t,cloudaccess:t,"cdn77-ssl":t,cdn77:[0,{r:t}],"feste-ip":t,"knx-server":t,"static-access":t,cryptonomic:r,dattolocal:t,mydatto:t,debian:t,bitbridge:t,"at-band-camp":t,blogdns:t,"broke-it":t,buyshouses:t,dnsalias:t,dnsdojo:t,"does-it":t,dontexist:t,dynalias:t,dynathome:t,endofinternet:t,"from-az":t,"from-co":t,"from-la":t,"from-ny":t,"gets-it":t,"ham-radio-op":t,homeftp:t,homeip:t,homelinux:t,homeunix:t,"in-the-band":t,"is-a-chef":t,"is-a-geek":t,"isa-geek":t,"kicks-ass":t,"office-on-the":t,podzone:t,"scrapper-site":t,selfip:t,"sells-it":t,servebbs:t,serveftp:t,thruhere:t,webhop:t,definima:t,casacam:t,dynu:t,dynv6:t,twmail:t,ru:t,channelsdvr:[2,{u:t}],fastlylb:[2,{map:t}],fastly:[0,{freetls:t,map:t,prod:[0,{a:t,global:t}],ssl:[0,{a:t,b:t,global:t}]}],edgeapp:t,flynnhosting:t,"cdn-edges":t,heteml:t,cloudfunctions:t,moonscale:t,"in-dsl":t,"in-vpn":t,ipifony:t,iobb:t,cloudjiffy:[2,{"fra1-de":t,"west1-us":t}],elastx:[0,{"jls-sto1":t,"jls-sto2":t,"jls-sto3":t}],faststacks:t,massivegrid:[0,{paas:[0,{"fr-1":t,"lon-1":t,"lon-2":t,"ny-1":t,"ny-2":t,"sg-1":t}]}],saveincloud:[0,{jelastic:t,"nordeste-idc":t}],scaleforce:U,tsukaeru:$,kinghost:t,uni5:t,krellian:t,barsy:t,memset:t,azurewebsites:t,"azure-mobile":t,cloudapp:t,azurestaticapps:[2,{1:t,2:t,3:t,centralus:t,eastasia:t,eastus2:t,westeurope:t,westus2:t}],dnsup:t,hicam:t,"now-dns":t,ownip:t,vpndns:t,"eating-organic":t,mydissent:t,myeffect:t,mymediapc:t,mypsx:t,mysecuritycamera:t,nhlfan:t,"no-ip":t,pgafan:t,privatizehealthinsurance:t,bounceme:t,ddns:t,redirectme:t,serveblog:t,serveminecraft:t,sytes:t,cloudycluster:t,ovh:[0,{webpaas:r,hosting:r}],bar0:t,bar1:t,bar2:t,rackmaze:t,squares:t,schokokeks:t,"firewall-gateway":t,seidat:t,senseering:t,siteleaf:t,"vps-host":[2,{jelastic:[0,{atl:t,njs:t,ric:t}]}],myspreadshop:t,srcf:[0,{soc:t,user:t}],supabase:t,dsmynas:t,familyds:t,tailscale:[0,{beta:t}],ts:t,torproject:[2,{pages:t}],"reserve-online":t,"community-pro":t,meinforum:t,yandexcloud:[2,{storage:t,website:t}],za:t}],nf:[1,{com:e,net:e,per:e,rec:e,web:e,arts:e,firm:e,info:e,other:e,store:e}],ng:[1,{com:i,edu:e,gov:e,i:e,mil:e,mobi:e,name:e,net:e,org:e,sch:e,col:t,firm:t,gen:t,ltd:t,ngo:t}],ni:[1,{ac:e,biz:e,co:e,com:e,edu:e,gob:e,in:e,info:e,int:e,mil:e,net:e,nom:e,org:e,web:e}],nl:[1,{co:t,"hosting-cluster":t,blogspot:t,gov:t,khplay:t,"123website":t,myspreadshop:t,transurl:r,cistron:t,demon:t}],no:[1,{fhs:e,vgs:e,fylkesbibl:e,folkebibl:e,museum:e,idrett:e,priv:e,mil:e,stat:e,dep:e,kommune:e,herad:e,aa:P,ah:P,bu:P,fm:P,hl:P,hm:P,"jan-mayen":P,mr:P,nl:P,nt:P,of:P,ol:P,oslo:P,rl:P,sf:P,st:P,svalbard:P,tm:P,tr:P,va:P,vf:P,akrehamn:e,"xn--krehamn-dxa":e,krehamn:e,algard:e,"xn--lgrd-poac":e,lgrd:e,arna:e,brumunddal:e,bryne:e,bronnoysund:e,"xn--brnnysund-m8ac":e,brnnysund:e,drobak:e,"xn--drbak-wua":e,drbak:e,egersund:e,fetsund:e,floro:e,"xn--flor-jra":e,flor:e,fredrikstad:e,hokksund:e,honefoss:e,"xn--hnefoss-q1a":e,hnefoss:e,jessheim:e,jorpeland:e,"xn--jrpeland-54a":e,jrpeland:e,kirkenes:e,kopervik:e,krokstadelva:e,langevag:e,"xn--langevg-jxa":e,langevg:e,leirvik:e,mjondalen:e,"xn--mjndalen-64a":e,mjndalen:e,"mo-i-rana":e,mosjoen:e,"xn--mosjen-eya":e,mosjen:e,nesoddtangen:e,orkanger:e,osoyro:e,"xn--osyro-wua":e,osyro:e,raholt:e,"xn--rholt-mra":e,rholt:e,sandnessjoen:e,"xn--sandnessjen-ogb":e,sandnessjen:e,skedsmokorset:e,slattum:e,spjelkavik:e,stathelle:e,stavern:e,stjordalshalsen:e,"xn--stjrdalshalsen-sqb":e,stjrdalshalsen:e,tananger:e,tranby:e,vossevangen:e,afjord:e,"xn--fjord-lra":e,fjord:e,agdenes:e,al:e,"xn--l-1fa":e,l:e,alesund:e,"xn--lesund-hua":e,lesund:e,alstahaug:e,alta:e,"xn--lt-liac":e,lt:e,alaheadju:e,"xn--laheadju-7ya":e,laheadju:e,alvdal:e,amli:e,"xn--mli-tla":e,mli:e,amot:e,"xn--mot-tla":e,mot:e,andebu:e,andoy:e,"xn--andy-ira":e,andy:e,andasuolo:e,ardal:e,"xn--rdal-poa":e,rdal:e,aremark:e,arendal:e,"xn--s-1fa":e,s:e,aseral:e,"xn--seral-lra":e,seral:e,asker:e,askim:e,askvoll:e,askoy:e,"xn--asky-ira":e,asky:e,asnes:e,"xn--snes-poa":e,snes:e,audnedaln:e,aukra:e,aure:e,aurland:e,"aurskog-holand":e,"xn--aurskog-hland-jnb":e,"aurskog-hland":e,austevoll:e,austrheim:e,averoy:e,"xn--avery-yua":e,avery:e,balestrand:e,ballangen:e,balat:e,"xn--blt-elab":e,blt:e,balsfjord:e,bahccavuotna:e,"xn--bhccavuotna-k7a":e,bhccavuotna:e,bamble:e,bardu:e,beardu:e,beiarn:e,bajddar:e,"xn--bjddar-pta":e,bjddar:e,baidar:e,"xn--bidr-5nac":e,bidr:e,berg:e,bergen:e,berlevag:e,"xn--berlevg-jxa":e,berlevg:e,bearalvahki:e,"xn--bearalvhki-y4a":e,bearalvhki:e,bindal:e,birkenes:e,bjarkoy:e,"xn--bjarky-fya":e,bjarky:e,bjerkreim:e,bjugn:e,bodo:e,"xn--bod-2na":e,bod:e,badaddja:e,"xn--bdddj-mrabd":e,bdddj:e,budejju:e,bokn:e,bremanger:e,bronnoy:e,"xn--brnny-wuac":e,brnny:e,bygland:e,bykle:e,barum:e,"xn--brum-voa":e,brum:e,telemark:[0,{bo:e,"xn--b-5ga":e,b:e}],nordland:[0,{bo:e,"xn--b-5ga":e,b:e,heroy:e,"xn--hery-ira":e,hery:e}],bievat:e,"xn--bievt-0qa":e,bievt:e,bomlo:e,"xn--bmlo-gra":e,bmlo:e,batsfjord:e,"xn--btsfjord-9za":e,btsfjord:e,bahcavuotna:e,"xn--bhcavuotna-s4a":e,bhcavuotna:e,dovre:e,drammen:e,drangedal:e,dyroy:e,"xn--dyry-ira":e,dyry:e,donna:e,"xn--dnna-gra":e,dnna:e,eid:e,eidfjord:e,eidsberg:e,eidskog:e,eidsvoll:e,eigersund:e,elverum:e,enebakk:e,engerdal:e,etne:e,etnedal:e,evenes:e,evenassi:e,"xn--eveni-0qa01ga":e,eveni:e,"evje-og-hornnes":e,farsund:e,fauske:e,fuossko:e,fuoisku:e,fedje:e,fet:e,finnoy:e,"xn--finny-yua":e,finny:e,fitjar:e,fjaler:e,fjell:e,flakstad:e,flatanger:e,flekkefjord:e,flesberg:e,flora:e,fla:e,"xn--fl-zia":e,fl:e,folldal:e,forsand:e,fosnes:e,frei:e,frogn:e,froland:e,frosta:e,frana:e,"xn--frna-woa":e,frna:e,froya:e,"xn--frya-hra":e,frya:e,fusa:e,fyresdal:e,forde:e,"xn--frde-gra":e,frde:e,gamvik:e,gangaviika:e,"xn--ggaviika-8ya47h":e,ggaviika:e,gaular:e,gausdal:e,gildeskal:e,"xn--gildeskl-g0a":e,gildeskl:e,giske:e,gjemnes:e,gjerdrum:e,gjerstad:e,gjesdal:e,gjovik:e,"xn--gjvik-wua":e,gjvik:e,gloppen:e,gol:e,gran:e,grane:e,granvin:e,gratangen:e,grimstad:e,grong:e,kraanghke:e,"xn--kranghke-b0a":e,kranghke:e,grue:e,gulen:e,hadsel:e,halden:e,halsa:e,hamar:e,hamaroy:e,habmer:e,"xn--hbmer-xqa":e,hbmer:e,hapmir:e,"xn--hpmir-xqa":e,hpmir:e,hammerfest:e,hammarfeasta:e,"xn--hmmrfeasta-s4ac":e,hmmrfeasta:e,haram:e,hareid:e,harstad:e,hasvik:e,aknoluokta:e,"xn--koluokta-7ya57h":e,koluokta:e,hattfjelldal:e,aarborte:e,haugesund:e,hemne:e,hemnes:e,hemsedal:e,"more-og-romsdal":[0,{heroy:e,sande:e}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":e,sande:e}],"mre-og-romsdal":[0,{hery:e,sande:e}],hitra:e,hjartdal:e,hjelmeland:e,hobol:e,"xn--hobl-ira":e,hobl:e,hof:e,hol:e,hole:e,holmestrand:e,holtalen:e,"xn--holtlen-hxa":e,holtlen:e,hornindal:e,horten:e,hurdal:e,hurum:e,hvaler:e,hyllestad:e,hagebostad:e,"xn--hgebostad-g3a":e,hgebostad:e,hoyanger:e,"xn--hyanger-q1a":e,hyanger:e,hoylandet:e,"xn--hylandet-54a":e,hylandet:e,ha:e,"xn--h-2fa":e,h:e,ibestad:e,inderoy:e,"xn--indery-fya":e,indery:e,iveland:e,jevnaker:e,jondal:e,jolster:e,"xn--jlster-bya":e,jlster:e,karasjok:e,karasjohka:e,"xn--krjohka-hwab49j":e,krjohka:e,karlsoy:e,galsa:e,"xn--gls-elac":e,gls:e,karmoy:e,"xn--karmy-yua":e,karmy:e,kautokeino:e,guovdageaidnu:e,klepp:e,klabu:e,"xn--klbu-woa":e,klbu:e,kongsberg:e,kongsvinger:e,kragero:e,"xn--krager-gya":e,krager:e,kristiansand:e,kristiansund:e,krodsherad:e,"xn--krdsherad-m8a":e,krdsherad:e,kvalsund:e,rahkkeravju:e,"xn--rhkkervju-01af":e,rhkkervju:e,kvam:e,kvinesdal:e,kvinnherad:e,kviteseid:e,kvitsoy:e,"xn--kvitsy-fya":e,kvitsy:e,kvafjord:e,"xn--kvfjord-nxa":e,kvfjord:e,giehtavuoatna:e,kvanangen:e,"xn--kvnangen-k0a":e,kvnangen:e,navuotna:e,"xn--nvuotna-hwa":e,nvuotna:e,kafjord:e,"xn--kfjord-iua":e,kfjord:e,gaivuotna:e,"xn--givuotna-8ya":e,givuotna:e,larvik:e,lavangen:e,lavagis:e,loabat:e,"xn--loabt-0qa":e,loabt:e,lebesby:e,davvesiida:e,leikanger:e,leirfjord:e,leka:e,leksvik:e,lenvik:e,leangaviika:e,"xn--leagaviika-52b":e,leagaviika:e,lesja:e,levanger:e,lier:e,lierne:e,lillehammer:e,lillesand:e,lindesnes:e,lindas:e,"xn--linds-pra":e,linds:e,lom:e,loppa:e,lahppi:e,"xn--lhppi-xqa":e,lhppi:e,lund:e,lunner:e,luroy:e,"xn--lury-ira":e,lury:e,luster:e,lyngdal:e,lyngen:e,ivgu:e,lardal:e,lerdal:e,"xn--lrdal-sra":e,lrdal:e,lodingen:e,"xn--ldingen-q1a":e,ldingen:e,lorenskog:e,"xn--lrenskog-54a":e,lrenskog:e,loten:e,"xn--lten-gra":e,lten:e,malvik:e,masoy:e,"xn--msy-ula0h":e,msy:e,muosat:e,"xn--muost-0qa":e,muost:e,mandal:e,marker:e,marnardal:e,masfjorden:e,meland:e,meldal:e,melhus:e,meloy:e,"xn--mely-ira":e,mely:e,meraker:e,"xn--merker-kua":e,merker:e,moareke:e,"xn--moreke-jua":e,moreke:e,midsund:e,"midtre-gauldal":e,modalen:e,modum:e,molde:e,moskenes:e,moss:e,mosvik:e,malselv:e,"xn--mlselv-iua":e,mlselv:e,malatvuopmi:e,"xn--mlatvuopmi-s4a":e,mlatvuopmi:e,namdalseid:e,aejrie:e,namsos:e,namsskogan:e,naamesjevuemie:e,"xn--nmesjevuemie-tcba":e,nmesjevuemie:e,laakesvuemie:e,nannestad:e,narvik:e,narviika:e,naustdal:e,"nedre-eiker":e,akershus:F,buskerud:F,nesna:e,nesodden:e,nesseby:e,unjarga:e,"xn--unjrga-rta":e,unjrga:e,nesset:e,nissedal:e,nittedal:e,"nord-aurdal":e,"nord-fron":e,"nord-odal":e,norddal:e,nordkapp:e,davvenjarga:e,"xn--davvenjrga-y4a":e,davvenjrga:e,"nordre-land":e,nordreisa:e,raisa:e,"xn--risa-5na":e,risa:e,"nore-og-uvdal":e,notodden:e,naroy:e,"xn--nry-yla5g":e,nry:e,notteroy:e,"xn--nttery-byae":e,nttery:e,odda:e,oksnes:e,"xn--ksnes-uua":e,ksnes:e,oppdal:e,oppegard:e,"xn--oppegrd-ixa":e,oppegrd:e,orkdal:e,orland:e,"xn--rland-uua":e,rland:e,orskog:e,"xn--rskog-uua":e,rskog:e,orsta:e,"xn--rsta-fra":e,rsta:e,hedmark:[0,{os:e,valer:e,"xn--vler-qoa":e,vler:e}],hordaland:[0,{os:e}],osen:e,osteroy:e,"xn--ostery-fya":e,ostery:e,"ostre-toten":e,"xn--stre-toten-zcb":e,"stre-toten":e,overhalla:e,"ovre-eiker":e,"xn--vre-eiker-k8a":e,"vre-eiker":e,oyer:e,"xn--yer-zna":e,yer:e,oygarden:e,"xn--ygarden-p1a":e,ygarden:e,"oystre-slidre":e,"xn--ystre-slidre-ujb":e,"ystre-slidre":e,porsanger:e,porsangu:e,"xn--porsgu-sta26f":e,porsgu:e,porsgrunn:e,radoy:e,"xn--rady-ira":e,rady:e,rakkestad:e,rana:e,ruovat:e,randaberg:e,rauma:e,rendalen:e,rennebu:e,rennesoy:e,"xn--rennesy-v1a":e,rennesy:e,rindal:e,ringebu:e,ringerike:e,ringsaker:e,rissa:e,risor:e,"xn--risr-ira":e,risr:e,roan:e,rollag:e,rygge:e,ralingen:e,"xn--rlingen-mxa":e,rlingen:e,rodoy:e,"xn--rdy-0nab":e,rdy:e,romskog:e,"xn--rmskog-bya":e,rmskog:e,roros:e,"xn--rros-gra":e,rros:e,rost:e,"xn--rst-0na":e,rst:e,royken:e,"xn--ryken-vua":e,ryken:e,royrvik:e,"xn--ryrvik-bya":e,ryrvik:e,rade:e,"xn--rde-ula":e,rde:e,salangen:e,siellak:e,saltdal:e,salat:e,"xn--slt-elab":e,slt:e,"xn--slat-5na":e,slat:e,samnanger:e,vestfold:[0,{sande:e}],sandefjord:e,sandnes:e,sandoy:e,"xn--sandy-yua":e,sandy:e,sarpsborg:e,sauda:e,sauherad:e,sel:e,selbu:e,selje:e,seljord:e,sigdal:e,siljan:e,sirdal:e,skaun:e,skedsmo:e,ski:e,skien:e,skiptvet:e,skjervoy:e,"xn--skjervy-v1a":e,skjervy:e,skierva:e,"xn--skierv-uta":e,skierv:e,skjak:e,"xn--skjk-soa":e,skjk:e,skodje:e,skanland:e,"xn--sknland-fxa":e,sknland:e,skanit:e,"xn--sknit-yqa":e,sknit:e,smola:e,"xn--smla-hra":e,smla:e,snillfjord:e,snasa:e,"xn--snsa-roa":e,snsa:e,snoasa:e,snaase:e,"xn--snase-nra":e,snase:e,sogndal:e,sokndal:e,sola:e,solund:e,songdalen:e,sortland:e,spydeberg:e,stange:e,stavanger:e,steigen:e,steinkjer:e,stjordal:e,"xn--stjrdal-s1a":e,stjrdal:e,stokke:e,"stor-elvdal":e,stord:e,stordal:e,storfjord:e,omasvuotna:e,strand:e,stranda:e,stryn:e,sula:e,suldal:e,sund:e,sunndal:e,surnadal:e,sveio:e,svelvik:e,sykkylven:e,sogne:e,"xn--sgne-gra":e,sgne:e,somna:e,"xn--smna-gra":e,smna:e,"sondre-land":e,"xn--sndre-land-0cb":e,"sndre-land":e,"sor-aurdal":e,"xn--sr-aurdal-l8a":e,"sr-aurdal":e,"sor-fron":e,"xn--sr-fron-q1a":e,"sr-fron":e,"sor-odal":e,"xn--sr-odal-q1a":e,"sr-odal":e,"sor-varanger":e,"xn--sr-varanger-ggb":e,"sr-varanger":e,"matta-varjjat":e,"xn--mtta-vrjjat-k7af":e,"mtta-vrjjat":e,sorfold:e,"xn--srfold-bya":e,srfold:e,sorreisa:e,"xn--srreisa-q1a":e,srreisa:e,sorum:e,"xn--srum-gra":e,srum:e,tana:e,deatnu:e,time:e,tingvoll:e,tinn:e,tjeldsund:e,dielddanuorri:e,tjome:e,"xn--tjme-hra":e,tjme:e,tokke:e,tolga:e,torsken:e,tranoy:e,"xn--trany-yua":e,trany:e,tromso:e,"xn--troms-zua":e,troms:e,tromsa:e,romsa:e,trondheim:e,troandin:e,trysil:e,trana:e,"xn--trna-woa":e,trna:e,trogstad:e,"xn--trgstad-r1a":e,trgstad:e,tvedestrand:e,tydal:e,tynset:e,tysfjord:e,divtasvuodna:e,divttasvuotna:e,tysnes:e,tysvar:e,"xn--tysvr-vra":e,tysvr:e,tonsberg:e,"xn--tnsberg-q1a":e,tnsberg:e,ullensaker:e,ullensvang:e,ulvik:e,utsira:e,vadso:e,"xn--vads-jra":e,vads:e,cahcesuolo:e,"xn--hcesuolo-7ya35b":e,hcesuolo:e,vaksdal:e,valle:e,vang:e,vanylven:e,vardo:e,"xn--vard-jra":e,vard:e,varggat:e,"xn--vrggt-xqad":e,vrggt:e,vefsn:e,vaapste:e,vega:e,vegarshei:e,"xn--vegrshei-c0a":e,vegrshei:e,vennesla:e,verdal:e,verran:e,vestby:e,vestnes:e,"vestre-slidre":e,"vestre-toten":e,vestvagoy:e,"xn--vestvgy-ixa6o":e,vestvgy:e,vevelstad:e,vik:e,vikna:e,vindafjord:e,volda:e,voss:e,varoy:e,"xn--vry-yla5g":e,vry:e,vagan:e,"xn--vgan-qoa":e,vgan:e,voagat:e,vagsoy:e,"xn--vgsy-qoa0j":e,vgsy:e,vaga:e,"xn--vg-yiab":e,vg:e,ostfold:[0,{valer:e}],"xn--stfold-9xa":[0,{"xn--vler-qoa":e}],stfold:[0,{vler:e}],co:t,blogspot:t,"123hjemmeside":t,myspreadshop:t}],np:s,nr:N,nu:[1,{merseine:t,mine:t,shacknet:t,enterprisecloud:t}],nz:[1,{ac:e,co:i,cri:e,geek:e,gen:e,govt:e,health:e,iwi:e,kiwi:e,maori:e,mil:e,"xn--mori-qsa":e,mori:e,net:e,org:e,parliament:e,school:e}],om:[1,{co:e,com:e,edu:e,gov:e,med:e,museum:e,net:e,org:e,pro:e}],onion:e,org:[1,{altervista:t,amune:[0,{tele:t}],pimienta:t,poivron:t,potager:t,sweetpepper:t,ae:t,us:t,certmgr:t,cdn77:[0,{c:t,rsc:t}],"cdn77-secure":[0,{origin:[0,{ssl:t}]}],cloudns:t,duckdns:t,tunk:t,dyndns:[2,{go:t,home:t}],blogdns:t,blogsite:t,boldlygoingnowhere:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,dvrdns:t,dynalias:t,endofinternet:t,endoftheinternet:t,"from-me":t,"game-host":t,gotdns:t,"hobby-site":t,homedns:t,homeftp:t,homelinux:t,homeunix:t,"is-a-bruinsfan":t,"is-a-candidate":t,"is-a-celticsfan":t,"is-a-chef":t,"is-a-geek":t,"is-a-knight":t,"is-a-linux-user":t,"is-a-patsfan":t,"is-a-soxfan":t,"is-found":t,"is-lost":t,"is-saved":t,"is-very-bad":t,"is-very-evil":t,"is-very-good":t,"is-very-nice":t,"is-very-sweet":t,"isa-geek":t,"kicks-ass":t,misconfused:t,podzone:t,readmyblog:t,selfip:t,sellsyourhome:t,servebbs:t,serveftp:t,servegame:t,"stuff-4-sale":t,webhop:t,ddnss:t,accesscam:t,camdvr:t,freeddns:t,mywire:t,webredirect:t,eu:[2,{al:t,asso:t,at:t,au:t,be:t,bg:t,ca:t,cd:t,ch:t,cn:t,cy:t,cz:t,de:t,dk:t,edu:t,ee:t,es:t,fi:t,fr:t,gr:t,hr:t,hu:t,ie:t,il:t,in:t,int:t,is:t,it:t,jp:t,kr:t,lt:t,lu:t,lv:t,mc:t,me:t,mk:t,mt:t,my:t,net:t,ng:t,nl:t,no:t,nz:t,paris:t,pl:t,pt:t,"q-a":t,ro:t,ru:t,se:t,si:t,sk:t,tr:t,uk:t,us:t}],twmail:t,fedorainfracloud:t,fedorapeople:t,fedoraproject:[0,{cloud:t,os:I,stg:[0,{os:I}]}],freedesktop:t,hepforge:t,"in-dsl":t,"in-vpn":t,js:t,barsy:t,mayfirst:t,"mozilla-iot":t,bmoattachments:t,dynserv:t,"now-dns":t,"cable-modem":t,collegefan:t,couchpotatofries:t,mlbfan:t,mysecuritycamera:t,nflfan:t,"read-books":t,ufcfan:t,hopto:t,myftp:t,"no-ip":t,zapto:t,httpbin:t,pubtls:t,jpn:t,"my-firewall":t,myfirewall:t,spdns:t,"small-web":t,dsmynas:t,familyds:t,teckids:d,tuxfamily:t,diskstation:t,hk:t,wmflabs:t,toolforge:t,wmcloud:t,za:t}],pa:[1,{ac:e,gob:e,com:e,org:e,sld:e,edu:e,net:e,ing:e,abo:e,med:e,nom:e}],pe:[1,{edu:e,gob:e,nom:e,mil:e,org:e,com:e,net:e,blogspot:t}],pf:[1,{com:e,org:e,edu:e}],pg:s,ph:[1,{com:e,net:e,org:e,gov:e,edu:e,ngo:e,mil:e,i:e}],pk:[1,{com:e,net:e,edu:e,org:e,fam:e,biz:e,web:e,gov:e,gob:e,gok:e,gon:e,gop:e,gos:e,info:e}],pl:[1,{com:e,net:e,org:e,aid:e,agro:e,atm:e,auto:e,biz:e,edu:e,gmina:e,gsm:e,info:e,mail:e,miasta:e,media:e,mil:e,nieruchomosci:e,nom:e,pc:e,powiat:e,priv:e,realestate:e,rel:e,sex:e,shop:e,sklep:e,sos:e,szkola:e,targi:e,tm:e,tourism:e,travel:e,turystyka:e,gov:[1,{ap:e,griw:e,ic:e,is:e,kmpsp:e,konsulat:e,kppsp:e,kwp:e,kwpsp:e,mup:e,mw:e,oia:e,oirm:e,oke:e,oow:e,oschr:e,oum:e,pa:e,pinb:e,piw:e,po:e,pr:e,psp:e,psse:e,pup:e,rzgw:e,sa:e,sdn:e,sko:e,so:e,sr:e,starostwo:e,ug:e,ugim:e,um:e,umig:e,upow:e,uppo:e,us:e,uw:e,uzs:e,wif:e,wiih:e,winb:e,wios:e,witd:e,wiw:e,wkz:e,wsa:e,wskr:e,wsse:e,wuoz:e,wzmiuw:e,zp:e,zpisdn:e}],augustow:e,"babia-gora":e,bedzin:e,beskidy:e,bialowieza:e,bialystok:e,bielawa:e,bieszczady:e,boleslawiec:e,bydgoszcz:e,bytom:e,cieszyn:e,czeladz:e,czest:e,dlugoleka:e,elblag:e,elk:e,glogow:e,gniezno:e,gorlice:e,grajewo:e,ilawa:e,jaworzno:e,"jelenia-gora":e,jgora:e,kalisz:e,"kazimierz-dolny":e,karpacz:e,kartuzy:e,kaszuby:e,katowice:e,kepno:e,ketrzyn:e,klodzko:e,kobierzyce:e,kolobrzeg:e,konin:e,konskowola:e,kutno:e,lapy:e,lebork:e,legnica:e,lezajsk:e,limanowa:e,lomza:e,lowicz:e,lubin:e,lukow:e,malbork:e,malopolska:e,mazowsze:e,mazury:e,mielec:e,mielno:e,mragowo:e,naklo:e,nowaruda:e,nysa:e,olawa:e,olecko:e,olkusz:e,olsztyn:e,opoczno:e,opole:e,ostroda:e,ostroleka:e,ostrowiec:e,ostrowwlkp:e,pila:e,pisz:e,podhale:e,podlasie:e,polkowice:e,pomorze:e,pomorskie:e,prochowice:e,pruszkow:e,przeworsk:e,pulawy:e,radom:e,"rawa-maz":e,rybnik:e,rzeszow:e,sanok:e,sejny:e,slask:e,slupsk:e,sosnowiec:e,"stalowa-wola":e,skoczow:e,starachowice:e,stargard:e,suwalki:e,swidnica:e,swiebodzin:e,swinoujscie:e,szczecin:e,szczytno:e,tarnobrzeg:e,tgory:e,turek:e,tychy:e,ustka:e,walbrzych:e,warmia:e,warszawa:e,waw:e,wegrow:e,wielun:e,wlocl:e,wloclawek:e,wodzislaw:e,wolomin:e,wroclaw:e,zachpomor:e,zagan:e,zarow:e,zgora:e,zgorzelec:e,beep:t,"ecommerce-shop":t,shoparena:t,homesklep:t,sdscloud:t,unicloud:t,krasnik:t,leczna:t,lubartow:t,lublin:t,poniatowa:t,swidnik:t,co:t,simplesite:t,art:t,gliwice:t,krakow:t,poznan:t,wroc:t,zakopane:t,myspreadshop:t,gda:t,gdansk:t,gdynia:t,med:t,sopot:t}],pm:[1,{own:t,name:t}],pn:[1,{gov:e,co:e,org:e,edu:e,net:e}],post:e,pr:[1,{com:e,net:e,org:e,gov:e,edu:e,isla:e,pro:e,biz:e,info:e,name:e,est:e,prof:e,ac:e}],pro:[1,{aaa:e,aca:e,acct:e,avocat:e,bar:e,cpa:e,eng:e,jur:e,law:e,med:e,recht:e,cloudns:t,dnstrace:[0,{bci:t}],barsy:t}],ps:[1,{edu:e,gov:e,sec:e,plo:e,com:e,org:e,net:e}],pt:[1,{net:e,gov:e,org:e,edu:e,int:e,publ:e,com:e,nome:e,blogspot:t,"123paginaweb":t}],pw:[1,{co:e,ne:e,or:e,ed:e,go:e,belau:e,cloudns:t,x443:t}],py:[1,{com:e,coop:e,edu:e,gov:e,mil:e,net:e,org:e}],qa:[1,{com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,sch:e,blogspot:t}],re:[1,{asso:e,com:e,nom:e,blogspot:t}],ro:[1,{arts:e,com:e,firm:e,info:e,nom:e,nt:e,org:e,rec:e,store:e,tm:e,www:e,co:t,shop:t,blogspot:t,barsy:t}],rs:[1,{ac:e,co:e,edu:e,gov:e,in:e,org:e,brendly:[0,{shop:t}],blogspot:t,ua:t,ox:t}],ru:[1,{ac:t,edu:t,gov:t,int:t,mil:t,test:t,eurodir:t,adygeya:t,bashkiria:t,bir:t,cbg:t,com:t,dagestan:t,grozny:t,kalmykia:t,kustanai:t,marine:t,mordovia:t,msk:t,mytis:t,nalchik:t,nov:t,pyatigorsk:t,spb:t,vladikavkaz:t,vladimir:t,blogspot:t,na4u:t,mircloud:t,regruhosting:$,myjino:[2,{hosting:r,landing:r,spectrum:r,vps:r}],cldmail:[0,{hb:t}],mcdir:[2,{vps:t}],mcpre:t,net:t,org:t,pp:t,"123sait":t,lk3:t,ras:t}],rw:[1,{ac:e,co:e,coop:e,gov:e,mil:e,net:e,org:e}],sa:[1,{com:e,net:e,org:e,gov:e,med:e,pub:e,edu:e,sch:e}],sb:n,sc:n,sd:[1,{com:e,net:e,org:e,edu:e,med:e,tv:e,gov:e,info:e}],se:[1,{a:e,ac:e,b:e,bd:e,brand:e,c:e,d:e,e,f:e,fh:e,fhsk:e,fhv:e,g:e,h:e,i:e,k:e,komforb:e,kommunalforbund:e,komvux:e,l:e,lanbib:e,m:e,n:e,naturbruksgymn:e,o:e,org:e,p:e,parti:e,pp:e,press:e,r:e,s:e,t:e,tm:e,u:e,w:e,x:e,y:e,z:e,com:t,blogspot:t,conf:t,iopsys:t,"123minsida":t,itcouldbewor:t,myspreadshop:t,paba:[0,{su:t}]}],sg:[1,{com:e,net:e,org:e,gov:e,edu:e,per:e,blogspot:t,enscaled:t}],sh:[1,{com:e,net:e,gov:e,org:e,mil:e,bip:t,hashbang:t,platform:[0,{bc:t,ent:t,eu:t,us:t}],now:t,vxl:t,wedeploy:t}],si:[1,{gitapp:t,gitpage:t,blogspot:t}],sj:e,sk:i,sl:n,sm:e,sn:[1,{art:e,com:e,edu:e,gouv:e,org:e,perso:e,univ:e,blogspot:t}],so:[1,{com:e,edu:e,gov:e,me:e,net:e,org:e,sch:t}],sr:e,ss:[1,{biz:e,com:e,edu:e,gov:e,me:e,net:e,org:e,sch:e}],st:[1,{co:e,com:e,consulado:e,edu:e,embaixada:e,mil:e,net:e,org:e,principe:e,saotome:e,store:e,kirara:t,noho:t}],su:[1,{abkhazia:t,adygeya:t,aktyubinsk:t,arkhangelsk:t,armenia:t,ashgabad:t,azerbaijan:t,balashov:t,bashkiria:t,bryansk:t,bukhara:t,chimkent:t,dagestan:t,"east-kazakhstan":t,exnet:t,georgia:t,grozny:t,ivanovo:t,jambyl:t,kalmykia:t,kaluga:t,karacol:t,karaganda:t,karelia:t,khakassia:t,krasnodar:t,kurgan:t,kustanai:t,lenug:t,mangyshlak:t,mordovia:t,msk:t,murmansk:t,nalchik:t,navoi:t,"north-kazakhstan":t,nov:t,obninsk:t,penza:t,pokrovsk:t,sochi:t,spb:t,tashkent:t,termez:t,togliatti:t,troitsk:t,tselinograd:t,tula:t,tuva:t,vladikavkaz:t,vladimir:t,vologda:t}],sv:[1,{com:e,edu:e,gob:e,org:e,red:e}],sx:o,sy:O,sz:[1,{co:e,ac:e,org:e}],tc:[1,{ch:t,me:t,we:t}],td:i,tel:e,tf:[1,{sch:t}],tg:e,th:[1,{ac:e,co:e,go:e,in:e,mi:e,net:e,or:e,online:t,shop:t}],tj:[1,{ac:e,biz:e,co:e,com:e,edu:e,go:e,gov:e,int:e,mil:e,name:e,net:e,nic:e,org:e,test:e,web:e}],tk:e,tl:o,tm:[1,{com:e,co:e,org:e,net:e,nom:e,gov:e,mil:e,edu:e}],tn:[1,{com:e,ens:e,fin:e,gov:e,ind:e,info:e,intl:e,mincom:e,nat:e,net:e,org:e,perso:e,tourism:e,orangecloud:t}],to:[1,{611:t,com:e,gov:e,net:e,org:e,edu:e,mil:e,oya:t,rdv:t,x0:t,vpnplus:t,quickconnect:u,nyan:t}],tr:[1,{av:e,bbs:e,bel:e,biz:e,com:i,dr:e,edu:e,gen:e,gov:e,info:e,mil:e,k12:e,kep:e,name:e,net:e,org:e,pol:e,tel:e,tsk:e,tv:e,web:e,nc:o}],tt:[1,{co:e,com:e,org:e,net:e,biz:e,info:e,pro:e,int:e,coop:e,jobs:e,mobi:e,travel:e,museum:e,aero:e,name:e,gov:e,edu:e}],tv:[1,{dyndns:t,"better-than":t,"on-the-web":t,"worse-than":t,from:t,sakura:t}],tw:[1,{edu:e,gov:e,mil:e,com:[1,{mymailer:t}],net:e,org:e,idv:e,game:e,ebiz:e,club:e,"xn--zf0ao64a":e,:e,"xn--uc0atv":e,:e,"xn--czrw28b":e,:e,url:t,blogspot:t}],tz:[1,{ac:e,co:e,go:e,hotel:e,info:e,me:e,mil:e,mobi:e,ne:e,or:e,sc:e,tv:e}],ua:[1,{com:e,edu:e,gov:e,in:e,net:e,org:e,cherkassy:e,cherkasy:e,chernigov:e,chernihiv:e,chernivtsi:e,chernovtsy:e,ck:e,cn:e,cr:e,crimea:e,cv:e,dn:e,dnepropetrovsk:e,dnipropetrovsk:e,donetsk:e,dp:e,if:e,"ivano-frankivsk":e,kh:e,kharkiv:e,kharkov:e,kherson:e,khmelnitskiy:e,khmelnytskyi:e,kiev:e,kirovograd:e,km:e,kr:e,kropyvnytskyi:e,krym:e,ks:e,kv:e,kyiv:e,lg:e,lt:e,lugansk:e,luhansk:e,lutsk:e,lv:e,lviv:e,mk:e,mykolaiv:e,nikolaev:e,od:e,odesa:e,odessa:e,pl:e,poltava:e,rivne:e,rovno:e,rv:e,sb:e,sebastopol:e,sevastopol:e,sm:e,sumy:e,te:e,ternopil:e,uz:e,uzhgorod:e,uzhhorod:e,vinnica:e,vinnytsia:e,vn:e,volyn:e,yalta:e,zakarpattia:e,zaporizhzhe:e,zaporizhzhia:e,zhitomir:e,zhytomyr:e,zp:e,zt:e,cc:t,inf:t,ltd:t,cx:t,ie:t,biz:t,co:t,pp:t,v:t}],ug:[1,{co:e,or:e,ac:e,sc:e,go:e,ne:e,com:e,org:e,blogspot:t}],uk:[1,{ac:e,co:[1,{bytemark:[0,{dh:t,vm:t}],blogspot:t,layershift:U,barsy:t,barsyonline:t,retrosnub:A,"nh-serv":t,"no-ip":t,wellbeingzone:t,adimo:t,myspreadshop:t}],gov:[1,{campaign:t,service:t,api:t,homeoffice:t}],ltd:e,me:e,net:e,nhs:e,org:[1,{glug:t,lug:t,lugs:t,affinitylottery:t,raffleentry:t,weeklylottery:t}],plc:e,police:e,sch:s,conn:t,copro:t,hosp:t,"independent-commission":t,"independent-inquest":t,"independent-inquiry":t,"independent-panel":t,"independent-review":t,"public-inquiry":t,"royal-commission":t,pymnt:t,barsy:t}],us:[1,{dni:e,fed:e,isa:e,kids:e,nsn:e,ak:G,al:G,ar:G,as:G,az:G,ca:G,co:G,ct:G,dc:G,de:[1,{cc:e,lib:t}],fl:G,ga:G,gu:G,hi:Y,ia:G,id:G,il:G,in:G,ks:G,ky:G,la:G,ma:[1,{k12:[1,{pvt:e,chtr:e,paroch:e}],cc:e,lib:e}],md:G,me:G,mi:[1,{k12:e,cc:e,lib:e,"ann-arbor":e,cog:e,dst:e,eaton:e,gen:e,mus:e,tec:e,washtenaw:e}],mn:G,mo:G,ms:G,mt:G,nc:G,nd:Y,ne:G,nh:G,nj:G,nm:G,nv:G,ny:G,oh:G,ok:G,or:G,pa:G,pr:G,ri:Y,sc:G,sd:Y,tn:G,tx:G,ut:G,vi:G,vt:G,va:G,wa:G,wi:G,wv:[1,{cc:e}],wy:G,graphox:t,cloudns:t,drud:t,"is-by":t,"land-4-sale":t,"stuff-4-sale":t,enscaled:[0,{phx:t}],mircloud:t,freeddns:t,golffan:t,noip:t,pointto:t,platterp:t}],uy:[1,{com:i,edu:e,gub:e,mil:e,net:e,org:e}],uz:[1,{co:e,com:e,net:e,org:e}],va:e,vc:[1,{com:e,net:e,org:e,gov:e,mil:e,edu:e,gv:[2,{d:t}],"0e":t}],ve:[1,{arts:e,bib:e,co:e,com:e,e12:e,edu:e,firm:e,gob:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rar:e,rec:e,store:e,tec:e,web:e}],vg:[1,{at:t}],vi:[1,{co:e,com:e,k12:e,net:e,org:e}],vn:[1,{ac:e,ai:e,biz:e,com:e,edu:e,gov:e,health:e,id:e,info:e,int:e,io:e,name:e,net:e,org:e,pro:e,angiang:e,bacgiang:e,backan:e,baclieu:e,bacninh:e,"baria-vungtau":e,bentre:e,binhdinh:e,binhduong:e,binhphuoc:e,binhthuan:e,camau:e,cantho:e,caobang:e,daklak:e,daknong:e,danang:e,dienbien:e,dongnai:e,dongthap:e,gialai:e,hagiang:e,haiduong:e,haiphong:e,hanam:e,hanoi:e,hatinh:e,haugiang:e,hoabinh:e,hungyen:e,khanhhoa:e,kiengiang:e,kontum:e,laichau:e,lamdong:e,langson:e,laocai:e,longan:e,namdinh:e,nghean:e,ninhbinh:e,ninhthuan:e,phutho:e,phuyen:e,quangbinh:e,quangnam:e,quangngai:e,quangninh:e,quangtri:e,soctrang:e,sonla:e,tayninh:e,thaibinh:e,thainguyen:e,thanhhoa:e,thanhphohochiminh:e,thuathienhue:e,tiengiang:e,travinh:e,tuyenquang:e,vinhlong:e,vinhphuc:e,yenbai:e,blogspot:t}],vu:[1,{com:e,edu:e,net:e,org:e,cn:t,blog:t,dev:t,me:t}],wf:[1,{biz:t,sch:t}],ws:[1,{com:e,net:e,org:e,gov:e,edu:e,advisor:r,cloud66:t,dyndns:t,mypets:t}],yt:[1,{org:t}],"xn--mgbaam7a8h":e,:e,"xn--y9a3aq":e,:e,"xn--54b7fta0cc":e,:e,"xn--90ae":e,:e,"xn--mgbcpq6gpa1a":e,:e,"xn--90ais":e,:e,"xn--fiqs8s":e,:e,"xn--fiqz9s":e,:e,"xn--lgbbat1ad8j":e,:e,"xn--wgbh1c":e,:e,"xn--e1a4c":e,:e,"xn--qxa6a":e,:e,"xn--mgbah1a3hjkrd":e,:e,"xn--node":e,:e,"xn--qxam":e,:e,"xn--j6w193g":[1,{"xn--55qx5d":e,"xn--wcvs22d":e,"xn--mxtq1m":e,"xn--gmqw5a":e,"xn--od0alg":e,"xn--uc0atv":e}],:[1,{:e,:e,:e,:e,:e,:e}],"xn--2scrj9c":e,:e,"xn--3hcrj9c":e,:e,"xn--45br5cyl":e,:e,"xn--h2breg3eve":e,:e,"xn--h2brj9c8c":e,:e,"xn--mgbgu82a":e,:e,"xn--rvc1e0am3e":e,:e,"xn--h2brj9c":e,:e,"xn--mgbbh1a":e,:e,"xn--mgbbh1a71e":e,:e,"xn--fpcrj9c3d":e,:e,"xn--gecrj9c":e,:e,"xn--s9brj9c":e,:e,"xn--45brj9c":e,:e,"xn--xkc2dl3a5ee0h":e,:e,"xn--mgba3a4f16a":e,:e,"xn--mgba3a4fra":e,:e,"xn--mgbtx2b":e,:e,"xn--mgbayh7gpa":e,:e,"xn--3e0b707e":e,:e,"xn--80ao21a":e,:e,"xn--q7ce6a":e,:e,"xn--fzc2c9e2c":e,:e,"xn--xkc2al3hye2a":e,:e,"xn--mgbc0a9azcg":e,:e,"xn--d1alf":e,:e,"xn--l1acc":e,:e,"xn--mix891f":e,:e,"xn--mix082f":e,:e,"xn--mgbx4cd0ab":e,:e,"xn--mgb9awbf":e,:e,"xn--mgbai9azgqp6j":e,:e,"xn--mgbai9a5eva00b":e,:e,"xn--ygbi2ammx":e,:e,"xn--90a3ac":[1,{"xn--o1ac":e,"xn--c1avg":e,"xn--90azh":e,"xn--d1at":e,"xn--o1ach":e,"xn--80au":e}],:[1,{:e,:e,:e,:e,:e,:e}],"xn--p1ai":e,:e,"xn--wgbl6a":e,:e,"xn--mgberp4a5d4ar":e,:e,"xn--mgberp4a5d4a87g":e,:e,"xn--mgbqly7c0a67fbc":e,:e,"xn--mgbqly7cvafr":e,:e,"xn--mgbpl2fh":e,:e,"xn--yfro4i67o":e,:e,"xn--clchc0ea0b2g2a9gcd":e,:e,"xn--ogbpf8fl":e,:e,"xn--mgbtf8fl":e,:e,"xn--o3cw4h":[1,{"xn--12c1fe0br":e,"xn--12co0c3b4eva":e,"xn--h3cuzk1di":e,"xn--o3cyx2a":e,"xn--m3ch0j3a":e,"xn--12cfi8ixb8l":e}],:[1,{:e,:e,:e,:e,:e,:e}],"xn--pgbs0dh":e,:e,"xn--kpry57d":e,:e,"xn--kprw13d":e,:e,"xn--nnx388a":e,:e,"xn--j1amh":e,:e,"xn--mgb2ddes":e,:e,xxx:e,ye:O,za:[0,{ac:e,agric:e,alt:e,co:i,edu:e,gov:e,grondar:e,law:e,mil:e,net:e,ngo:e,nic:e,nis:e,nom:e,org:e,school:e,tm:e,web:e}],zm:[1,{ac:e,biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,net:e,org:e,sch:e}],zw:[1,{ac:e,co:e,gov:e,mil:e,org:e}],aaa:e,aarp:e,abb:e,abbott:e,abbvie:e,abc:e,able:e,abogado:e,abudhabi:e,academy:[1,{official:t}],accenture:e,accountant:e,accountants:e,aco:e,actor:e,ads:e,adult:e,aeg:e,aetna:e,afl:e,africa:e,agakhan:e,agency:e,aig:e,airbus:e,airforce:e,airtel:e,akdn:e,alibaba:e,alipay:e,allfinanz:e,allstate:e,ally:e,alsace:e,alstom:e,amazon:e,americanexpress:e,americanfamily:e,amex:e,amfam:e,amica:e,amsterdam:e,analytics:e,android:e,anquan:e,anz:e,aol:e,apartments:e,app:[1,{beget:r,clerk:t,clerkstage:t,wnext:t,platform0:t,deta:t,ondigitalocean:t,easypanel:t,encr:t,edgecompute:t,fireweb:t,onflashdrive:t,framer:t,run:[2,{a:t}],web:t,hasura:t,loginline:t,messerli:t,netlify:t,ngrok:t,"ngrok-free":t,developer:r,noop:t,northflank:r,snowflake:[2,{privatelink:t}],streamlit:t,storipress:t,telebit:t,typedream:t,vercel:t,bookonline:t}],apple:e,aquarelle:e,arab:e,aramco:e,archi:e,army:e,art:e,arte:e,asda:e,associates:e,athleta:e,attorney:e,auction:e,audi:e,audible:e,audio:e,auspost:e,author:e,auto:e,autos:e,avianca:e,aws:e,axa:e,azure:e,baby:e,baidu:e,banamex:e,bananarepublic:e,band:e,bank:e,bar:e,barcelona:e,barclaycard:e,barclays:e,barefoot:e,bargains:e,baseball:e,basketball:[1,{aus:t,nz:t}],bauhaus:e,bayern:e,bbc:e,bbt:e,bbva:e,bcg:e,bcn:e,beats:e,beauty:e,beer:e,bentley:e,berlin:e,best:e,bestbuy:e,bet:e,bharti:e,bible:e,bid:e,bike:e,bing:e,bingo:e,bio:e,black:e,blackfriday:e,blockbuster:e,blog:e,bloomberg:e,blue:e,bms:e,bmw:e,bnpparibas:e,boats:e,boehringer:e,bofa:e,bom:e,bond:e,boo:e,book:e,booking:e,bosch:e,bostik:e,boston:e,bot:e,boutique:e,box:e,bradesco:e,bridgestone:e,broadway:e,broker:e,brother:e,brussels:e,build:e,builders:[1,{cloudsite:t}],business:l,buy:e,buzz:e,bzh:e,cab:e,cafe:e,cal:e,call:e,calvinklein:e,cam:e,camera:e,camp:e,canon:e,capetown:e,capital:e,capitalone:e,car:e,caravan:e,cards:e,care:e,career:e,careers:e,cars:e,casa:[1,{nabu:[0,{ui:t}]}],case:e,cash:e,casino:e,catering:e,catholic:e,cba:e,cbn:e,cbre:e,cbs:e,center:e,ceo:e,cern:e,cfa:e,cfd:e,chanel:e,channel:e,charity:e,chase:e,chat:e,cheap:e,chintai:e,christmas:e,chrome:e,church:e,cipriani:e,circle:e,cisco:e,citadel:e,citi:e,citic:e,city:e,cityeats:e,claims:e,cleaning:e,click:e,clinic:e,clinique:e,clothing:e,cloud:[1,{banzai:r,elementor:t,encoway:[0,{eu:t}],statics:r,ravendb:t,axarnet:[0,{"es-1":t}],diadem:t,jelastic:[0,{vip:t}],jele:t,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:t}]}],it1:t}],keliweb:[2,{cs:t}],oxa:[2,{tn:t,uk:t}],primetel:[2,{uk:t}],reclaim:[0,{ca:t,uk:t,us:t}],trendhosting:[0,{ch:t,de:t}],jotelulu:t,kuleuven:t,linkyard:t,magentosite:r,perspecta:t,vapor:t,"on-rancher":r,scw:[0,{baremetal:[0,{"fr-par-1":t,"fr-par-2":t,"nl-ams-1":t}],"fr-par":[0,{fnc:[2,{functions:t}],k8s:c,s3:t,"s3-website":t,whm:t}],instances:[0,{priv:t,pub:t}],k8s:t,"nl-ams":[0,{k8s:c,s3:t,"s3-website":t,whm:t}],"pl-waw":[0,{k8s:c,s3:t,"s3-website":t}],scalebook:t,smartlabeling:t}],sensiosite:r,trafficplex:t,urown:t,voorloper:t}],club:[1,{cloudns:t,jele:t,barsy:t}],clubmed:e,coach:e,codes:[1,{owo:r}],coffee:e,college:e,cologne:e,comcast:e,commbank:e,community:[1,{nog:t,ravendb:t,myforum:t}],company:e,compare:e,computer:e,comsec:e,condos:e,construction:e,consulting:e,contact:e,contractors:e,cooking:e,cool:[1,{elementor:t,de:t}],corsica:e,country:e,coupon:e,coupons:e,courses:e,cpa:e,credit:e,creditcard:e,creditunion:e,cricket:e,crown:e,crs:e,cruise:e,cruises:e,cuisinella:e,cymru:e,cyou:e,dabur:e,dad:e,dance:e,data:e,date:e,dating:e,datsun:e,day:e,dclk:e,dds:e,deal:e,dealer:e,deals:e,degree:e,delivery:e,dell:e,deloitte:e,delta:e,democrat:e,dental:e,dentist:e,desi:e,design:[1,{bss:t}],dev:[1,{autocode:t,lcl:r,lclstage:r,stg:r,stgstage:r,pages:t,r2:t,workers:t,curv:t,deno:t,"deno-staging":t,deta:t,fly:t,githubpreview:t,gateway:r,iserv:t,localcert:[0,{user:r}],loginline:t,mediatech:t,ngrok:t,"ngrok-free":t,"platter-app":t,shiftcrypto:t,vercel:t,webhare:r}],dhl:e,diamonds:e,diet:e,digital:[1,{cloudapps:[2,{london:t}]}],direct:e,directory:e,discount:e,discover:e,dish:e,diy:e,dnp:e,docs:e,doctor:e,dog:e,domains:e,dot:e,download:e,drive:e,dtv:e,dubai:e,dunlop:e,dupont:e,durban:e,dvag:e,dvr:e,earth:[1,{dapps:[0,{"*":t,bzz:r}]}],eat:e,eco:e,edeka:e,education:l,email:e,emerck:e,energy:e,engineer:e,engineering:e,enterprises:e,epson:e,equipment:e,ericsson:e,erni:e,esq:e,estate:[1,{compute:r}],etisalat:e,eurovision:e,eus:[1,{party:z}],events:[1,{koobin:t,co:t}],exchange:e,expert:e,exposed:e,express:e,extraspace:e,fage:e,fail:e,fairwinds:e,faith:q,family:e,fan:e,fans:e,farm:[1,{storj:t}],farmers:e,fashion:e,fast:e,fedex:e,feedback:e,ferrari:e,ferrero:e,fidelity:e,fido:e,film:e,final:e,finance:e,financial:l,fire:e,firestone:e,firmdale:e,fish:e,fishing:e,fit:e,fitness:e,flickr:e,flights:e,flir:e,florist:e,flowers:e,fly:e,foo:e,food:e,football:e,ford:e,forex:e,forsale:e,forum:e,foundation:e,fox:e,free:e,fresenius:e,frl:e,frogans:e,frontdoor:e,frontier:e,ftr:e,fujitsu:e,fun:e,fund:e,furniture:e,futbol:e,fyi:e,gal:e,gallery:e,gallo:e,gallup:e,game:e,games:e,gap:e,garden:e,gay:e,gbiz:e,gdn:[1,{cnpy:t}],gea:e,gent:e,genting:e,george:e,ggee:e,gift:e,gifts:e,gives:e,giving:e,glass:e,gle:e,global:e,globo:e,gmail:e,gmbh:e,gmo:e,gmx:e,godaddy:e,gold:e,goldpoint:e,golf:e,goo:e,goodyear:e,goog:[1,{cloud:t,translate:t,usercontent:r}],google:e,gop:e,got:e,grainger:e,graphics:e,gratis:e,green:e,gripe:e,grocery:e,group:[1,{discourse:t}],guardian:e,gucci:e,guge:e,guide:e,guitars:e,guru:e,hair:e,hamburg:e,hangout:e,haus:e,hbo:e,hdfc:e,hdfcbank:e,health:[1,{hra:t}],healthcare:e,help:e,helsinki:e,here:e,hermes:e,hiphop:e,hisamitsu:e,hitachi:e,hiv:e,hkt:e,hockey:e,holdings:e,holiday:e,homedepot:e,homegoods:e,homes:e,homesense:e,honda:e,horse:e,hospital:e,host:[1,{cloudaccess:t,freesite:t,easypanel:t,fastvps:t,myfast:t,tempurl:t,wpmudev:t,jele:t,mircloud:t,pcloud:t,half:t}],hosting:[1,{opencraft:t}],hot:e,hotels:e,hotmail:e,house:e,how:e,hsbc:e,hughes:e,hyatt:e,hyundai:e,ibm:e,icbc:e,ice:e,icu:e,ieee:e,ifm:e,ikano:e,imamat:e,imdb:e,immo:e,immobilien:e,inc:e,industries:e,infiniti:e,ing:e,ink:e,institute:e,insurance:e,insure:e,international:e,intuit:e,investments:e,ipiranga:e,irish:e,ismaili:e,ist:e,istanbul:e,itau:e,itv:e,jaguar:e,java:e,jcb:e,jeep:e,jetzt:e,jewelry:e,jio:e,jll:e,jmp:e,jnj:e,joburg:e,jot:e,joy:e,jpmorgan:e,jprs:e,juegos:e,juniper:e,kaufen:e,kddi:e,kerryhotels:e,kerrylogistics:e,kerryproperties:e,kfh:e,kia:e,kids:e,kim:e,kinder:e,kindle:e,kitchen:e,kiwi:e,koeln:e,komatsu:e,kosher:e,kpmg:e,kpn:e,krd:[1,{co:t,edu:t}],kred:e,kuokgroup:e,kyoto:e,lacaixa:e,lamborghini:e,lamer:e,lancaster:e,land:[1,{static:[2,{dev:t,sites:t}]}],landrover:e,lanxess:e,lasalle:e,lat:e,latino:e,latrobe:e,law:e,lawyer:e,lds:e,lease:e,leclerc:e,lefrak:e,legal:e,lego:e,lexus:e,lgbt:e,lidl:e,life:e,lifeinsurance:e,lifestyle:e,lighting:e,like:e,lilly:e,limited:e,limo:e,lincoln:e,link:[1,{cyon:t,mypep:t,dweb:r}],lipsy:e,live:[1,{hlx:t}],living:e,llc:e,llp:e,loan:e,loans:e,locker:e,locus:e,lol:[1,{omg:t}],london:e,lotte:e,lotto:e,love:e,lpl:e,lplfinancial:e,ltd:e,ltda:e,lundbeck:e,luxe:e,luxury:e,madrid:e,maif:e,maison:e,makeup:e,man:e,management:[1,{router:t}],mango:e,map:e,market:e,marketing:e,markets:e,marriott:e,marshalls:e,mattel:e,mba:e,mckinsey:e,med:e,media:V,meet:e,melbourne:e,meme:e,memorial:e,men:e,menu:K,merckmsd:e,miami:e,microsoft:e,mini:e,mint:e,mit:e,mitsubishi:e,mlb:e,mls:e,mma:e,mobile:e,moda:e,moe:e,moi:e,mom:e,monash:e,money:e,monster:e,mormon:e,mortgage:e,moscow:e,moto:e,motorcycles:e,mov:e,movie:e,msd:e,mtn:e,mtr:e,music:e,nab:e,nagoya:e,natura:e,navy:e,nba:e,nec:e,netbank:e,netflix:e,network:[1,{alces:r,co:t,arvo:t,azimuth:t,tlon:t}],neustar:e,new:e,news:[1,{noticeable:t}],next:e,nextdirect:e,nexus:e,nfl:e,ngo:e,nhk:e,nico:e,nike:e,nikon:e,ninja:e,nissan:e,nissay:e,nokia:e,norton:e,now:e,nowruz:e,nowtv:e,nra:e,nrw:e,ntt:e,nyc:e,obi:e,observer:e,office:e,okinawa:e,olayan:e,olayangroup:e,oldnavy:e,ollo:e,omega:e,one:[1,{onred:[2,{staging:t}],service:t,homelink:t}],ong:e,onl:e,online:[1,{eero:t,"eero-stage":t,barsy:t}],ooo:e,open:e,oracle:e,orange:[1,{tech:t}],organic:e,origins:e,osaka:e,otsuka:e,ott:e,ovh:[1,{nerdpol:t}],page:[1,{hlx:t,hlx3:t,translated:t,codeberg:t,pdns:t,plesk:t,prvcy:t,rocky:t,magnet:t}],panasonic:e,paris:e,pars:e,partners:e,parts:e,party:q,pay:e,pccw:e,pet:e,pfizer:e,pharmacy:e,phd:e,philips:e,phone:e,photo:e,photography:e,photos:V,physio:e,pics:e,pictet:e,pictures:[1,{1337:t}],pid:e,pin:e,ping:e,pink:e,pioneer:e,pizza:[1,{ngrok:t}],place:l,play:e,playstation:e,plumbing:e,plus:e,pnc:e,pohl:e,poker:e,politie:e,porn:[1,{indie:t}],pramerica:e,praxi:e,press:e,prime:e,prod:e,productions:e,prof:e,progressive:e,promo:e,properties:e,property:e,protection:e,pru:e,prudential:e,pub:K,pwc:e,qpon:e,quebec:e,quest:e,racing:e,radio:e,read:e,realestate:e,realtor:e,realty:e,recipes:e,red:e,redstone:e,redumbrella:e,rehab:e,reise:e,reisen:e,reit:e,reliance:e,ren:e,rent:e,rentals:e,repair:e,report:e,republican:e,rest:e,restaurant:e,review:q,reviews:e,rexroth:e,rich:e,richardli:e,ricoh:e,ril:e,rio:e,rip:[1,{clan:t}],rocher:e,rocks:[1,{myddns:t,"lima-city":t,webspace:t}],rodeo:e,rogers:e,room:e,rsvp:e,rugby:e,ruhr:e,run:[1,{hs:t,development:t,ravendb:t,servers:t,build:r,code:r,database:r,migration:r,onporter:t,repl:t,wix:t}],rwe:e,ryukyu:e,saarland:e,safe:e,safety:e,sakura:e,sale:e,salon:e,samsclub:e,samsung:e,sandvik:e,sandvikcoromant:e,sanofi:e,sap:e,sarl:e,sas:e,save:e,saxo:e,sbi:e,sbs:e,sca:e,scb:e,schaeffler:e,schmidt:e,scholarships:e,school:e,schule:e,schwarz:e,science:q,scot:[1,{edu:t,gov:[2,{service:t}]}],search:e,seat:e,secure:e,security:e,seek:e,select:e,sener:e,services:[1,{loginline:t}],seven:e,sew:e,sex:e,sexy:e,sfr:e,shangrila:e,sharp:e,shaw:e,shell:e,shia:e,shiksha:e,shoes:e,shop:[1,{base:t,hoplix:t,barsy:t}],shopping:e,shouji:e,show:e,showtime:e,silk:e,sina:e,singles:e,site:[1,{cloudera:r,cyon:t,fnwk:t,folionetwork:t,fastvps:t,jele:t,lelux:t,loginline:t,barsy:t,mintere:t,omniwe:t,opensocial:t,platformsh:r,tst:r,byen:t,srht:t,novecore:t}],ski:e,skin:e,sky:e,skype:e,sling:e,smart:e,smile:e,sncf:e,soccer:e,social:e,softbank:e,software:e,sohu:e,solar:e,solutions:[1,{diher:r}],song:e,sony:e,soy:e,spa:e,space:[1,{myfast:t,uber:t,xs4all:t}],sport:e,spot:e,srl:e,stada:e,staples:e,star:e,statebank:e,statefarm:e,stc:e,stcgroup:e,stockholm:e,storage:e,store:[1,{sellfy:t,shopware:t,storebase:t}],stream:e,studio:e,study:e,style:e,sucks:e,supplies:e,supply:e,support:K,surf:e,surgery:e,suzuki:e,swatch:e,swiss:e,sydney:e,systems:[1,{knightpoint:t}],tab:e,taipei:e,talk:e,taobao:e,target:e,tatamotors:e,tatar:e,tattoo:e,tax:e,taxi:e,tci:e,tdk:e,team:[1,{discourse:t,jelastic:t}],tech:e,technology:l,temasek:e,tennis:e,teva:e,thd:e,theater:e,theatre:e,tiaa:e,tickets:e,tienda:e,tips:e,tires:e,tirol:e,tjmaxx:e,tjx:e,tkmaxx:e,tmall:e,today:[1,{prequalifyme:t}],tokyo:e,tools:e,top:[1,{"now-dns":t,ntdll:t}],toray:e,toshiba:e,total:e,tours:e,town:e,toyota:e,toys:e,trade:q,trading:e,training:e,travel:e,travelers:e,travelersinsurance:e,trust:e,trv:e,tube:e,tui:e,tunes:e,tushu:e,tvs:e,ubank:e,ubs:e,unicom:e,university:e,uno:e,uol:e,ups:e,vacations:e,vana:e,vanguard:e,vegas:e,ventures:e,verisign:e,versicherung:e,vet:e,viajes:e,video:e,vig:e,viking:e,villas:e,vin:e,vip:e,virgin:e,visa:e,vision:e,viva:e,vivo:e,vlaanderen:e,vodka:e,volkswagen:e,volvo:e,vote:e,voting:e,voto:e,voyage:e,wales:e,walmart:e,walter:e,wang:e,wanggou:e,watch:e,watches:e,weather:e,weatherchannel:e,webcam:e,weber:e,website:V,wedding:e,weibo:e,weir:e,whoswho:e,wien:e,wiki:V,williamhill:e,win:e,windows:e,wine:e,winners:e,wme:e,wolterskluwer:e,woodside:e,work:e,works:e,world:e,wow:e,wtc:e,wtf:e,xbox:e,xerox:e,xfinity:e,xihuan:e,xin:e,"xn--11b4c3d":e,:e,"xn--1ck2e1b":e,:e,"xn--1qqw23a":e,:e,"xn--30rr7y":e,:e,"xn--3bst00m":e,:e,"xn--3ds443g":e,:e,"xn--3pxu8k":e,:e,"xn--42c2d9a":e,:e,"xn--45q11c":e,:e,"xn--4gbrim":e,:e,"xn--55qw42g":e,:e,"xn--55qx5d":e,:e,"xn--5su34j936bgsg":e,:e,"xn--5tzm5g":e,:e,"xn--6frz82g":e,:e,"xn--6qq986b3xl":e,:e,"xn--80adxhks":e,:e,"xn--80aqecdr1a":e,:e,"xn--80asehdb":e,:e,"xn--80aswg":e,:e,"xn--8y0a063a":e,:e,"xn--9dbq2a":e,:e,"xn--9et52u":e,:e,"xn--9krt00a":e,:e,"xn--b4w605ferd":e,:e,"xn--bck1b9a5dre4c":e,:e,"xn--c1avg":e,:e,"xn--c2br7g":e,:e,"xn--cck2b3b":e,:e,"xn--cckwcxetd":e,:e,"xn--cg4bki":e,:e,"xn--czr694b":e,:e,"xn--czrs0t":e,:e,"xn--czru2d":e,:e,"xn--d1acj3b":e,:e,"xn--eckvdtc9d":e,:e,"xn--efvy88h":e,:e,"xn--fct429k":e,:e,"xn--fhbei":e,:e,"xn--fiq228c5hs":e,:e,"xn--fiq64b":e,:e,"xn--fjq720a":e,:e,"xn--flw351e":e,:e,"xn--fzys8d69uvgm":e,:e,"xn--g2xx48c":e,:e,"xn--gckr3f0f":e,:e,"xn--gk3at1e":e,:e,"xn--hxt814e":e,:e,"xn--i1b6b1a6a2e":e,:e,"xn--imr513n":e,:e,"xn--io0a7i":e,:e,"xn--j1aef":e,:e,"xn--jlq480n2rg":e,:e,"xn--jvr189m":e,:e,"xn--kcrx77d1x4a":e,:e,"xn--kput3i":e,:e,"xn--mgba3a3ejt":e,:e,"xn--mgba7c0bbn0a":e,:e,"xn--mgbaakc7dvf":e,:e,"xn--mgbab2bd":e,:e,"xn--mgbca7dzdo":e,:e,"xn--mgbi4ecexp":e,:e,"xn--mgbt3dhd":e,:e,"xn--mk1bu44c":e,:e,"xn--mxtq1m":e,:e,"xn--ngbc5azd":e,:e,"xn--ngbe9e0a":e,:e,"xn--ngbrx":e,:e,"xn--nqv7f":e,:e,"xn--nqv7fs00ema":e,:e,"xn--nyqy26a":e,:e,"xn--otu796d":e,:e,"xn--p1acf":[1,{"xn--90amc":t,"xn--j1aef":t,"xn--j1ael8b":t,"xn--h1ahn":t,"xn--j1adp":t,"xn--c1avg":t,"xn--80aaa0cvac":t,"xn--h1aliz":t,"xn--90a1af":t,"xn--41a":t}],:[1,{:t,:t,:t,:t,:t,:t,:t,:t,:t,:t}],"xn--pssy2u":e,:e,"xn--q9jyb4c":e,:e,"xn--qcka1pmc":e,:e,"xn--rhqv96g":e,:e,"xn--rovu88b":e,:e,"xn--ses554g":e,:e,"xn--t60b56a":e,:e,"xn--tckwe":e,:e,"xn--tiq49xqyj":e,:e,"xn--unup4y":e,:e,"xn--vermgensberater-ctb":e,vermgensberater:e,"xn--vermgensberatung-pwb":e,vermgensberatung:e,"xn--vhquv":e,:e,"xn--vuq861b":e,:e,"xn--w4r85el8fhu5dnra":e,:e,"xn--w4rs40l":e,:e,"xn--xhq521b":e,:e,"xn--zfr164b":e,:e,xyz:[1,{blogsite:t,localzone:t,crafting:t,zapto:t,telebit:r}],yachts:e,yahoo:e,yamaxun:e,yandex:e,yodobashi:e,yoga:e,yokohama:e,you:e,youtube:e,yun:e,zappos:e,zara:e,zero:e,zip:e,zone:[1,{cloud66:t,hs:t,triton:r,lima:t}],zuerich:e}]})();function KF(e,t,n,r){let i=null,o=t;for(;o!==void 0&&((o[0]&r)!==0&&(i={index:n+1,isIcann:o[0]===1,isPrivate:o[0]===2}),n!==-1);){const s=o[1];o=Object.prototype.hasOwnProperty.call(s,e[n])?s[e[n]]:s["*"],n-=1}return i}function yxe(e,t,n){var r;if(pxe(e,t,n))return;const i=e.split("."),o=(t.allowPrivateDomains?2:0)|(t.allowIcannDomains?1:0),s=KF(i,mxe,i.length-1,o);if(s!==null){n.isIcann=s.isIcann,n.isPrivate=s.isPrivate,n.publicSuffix=i.slice(s.index+1).join(".");return}const a=KF(i,gxe,i.length-1,o);if(a!==null){n.isIcann=a.isIcann,n.isPrivate=a.isPrivate,n.publicSuffix=i.slice(a.index).join(".");return}n.isIcann=!1,n.isPrivate=!1,n.publicSuffix=(r=i[i.length-1])!==null&&r!==void 0?r:null}function vxe(e,t={}){return hxe(e,5,yxe,t,fxe())}const wxe=e=>({downloadFile:(t,n)=>mm(void 0,void 0,void 0,function*(){const r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}),getDisplayOrigin:()=>e.location.origin,getHost:()=>e.location.host,getHostname:()=>e.location.hostname,getOrigin:()=>e.location.origin,getTLD:t=>vxe(t||e.location.hostname,{allowPrivateDomains:!0}).domain||void 0,getUrl:()=>new URL(e.location.href),isNativeMobile:!1,openURL:(t,...n)=>mm(void 0,[t,...n],void 0,function*(r,i="self",o=""){i==="blank"?e.open(r,"_blank",o):e.location.assign(r)})});var as,b2;class Ln{static get implementation(){return f0(as,as,"f",b2)?f0(as,as,"f",b2):wxe(window)}static set implementation(t){dM(as,as,t,"f",b2)}static get isNativeMobile(){return as.implementation.isNativeMobile}static get getOrigin(){return as.implementation.getOrigin}static get getDisplayOrigin(){return as.implementation.getDisplayOrigin}static get getHost(){return as.implementation.getHost}static get getHostname(){return as.implementation.getHostname}static get getUrl(){return as.implementation.getUrl}static getTLD(t){return as.implementation.getTLD(t)}static get openURL(){return as.implementation.openURL}static get downloadFile(){return as.implementation.downloadFile}static onUrlUpdate(t){var n,r;return(r=(n=as.implementation).onUrlUpdate)===null||r===void 0?void 0:r.call(n,t)}}as=Ln;b2={value:void 0};const Hy=()=>Ln.getTLD(),bxe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ios|ipad|playbook|silk/i,_xe=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,rr=e=>typeof window>"u"||typeof navigator>"u"?!1:bxe.test(navigator.userAgent)||_xe.test(navigator.userAgent.substring(0,4))||VI()||V1(),V1=()=>typeof window>"u"||typeof navigator>"u"?!1:/iPhone|ios/.test(navigator.userAgent),xxe=()=>typeof window>"u"||typeof navigator>"u"?!1:Sxe.some(({regex:e})=>e.test(navigator.userAgent)),VI=e=>{if(typeof window>"u"||typeof navigator>"u")return!1;const t=navigator.maxTouchPoints;return/iPad/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&t===5},KI=e=>typeof window>"u"||typeof navigator>"u"?!1:V1()||VI(),HI=()=>rr()&&!KI(),aO=()=>typeof window>"u"||!window.CSS||typeof window.CSS.supports!="function"?!1:!CSS.supports("aspect-ratio: 1 / 1"),Qie=()=>typeof window>"u"||typeof navigator>"u"?!1:navigator.userAgent.includes("SamsungBrowser"),kxe=()=>{if(typeof window>"u"||typeof navigator>"u")return!1;const{userAgent:e}=navigator;return e.includes("Safari")&&!e.includes("Chrome")&&!e.includes("Chromium")},Sxe=[{model:"iPhone 5",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?5[C,_]12|5)$/},{model:"iPhone 5C",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?5[C,_]34)$/},{model:"iPhone 5S",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?6[C,_]12|5S)$/},{model:"iPhone 6 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?7[C,_]1|1C2%257enohPi|6PLUS)$/},{model:"iPhone 6",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?7[C,_]2|6)$/},{model:"iPhone 6s Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]2|6SPLUS)$/},{model:"iPhone 6s",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]1|iPhone[ /]6s|6S)$/},{model:"iPhone SE",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?8[C,_]4|SE)$/},{model:"iPhone 7",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?9[C,_]13|iphone7|7)$/},{model:"iPhone 7 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?9[C,_]24|7PLUS)$/},{model:"iPhone 8",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?10[C,_]14|8)$/},{model:"iPhone 8 Plus",regex:/(?:MDCR_|ICRU_|Apple-)?(?:iPh(?:one)?10[C,_]25|8PLUS)$/}],Ixe=()=>{if(typeof navigator>"u")return;const e=navigator.userAgent.match(/Android (\d+(\.\d+)?)/);return e?parseFloat(e[1]):void 0},eoe=({nativeLink:e,universalLink:t})=>{const n=encodeURIComponent(Ln.getUrl().href),r=encodeURIComponent(Ln.getOrigin());Qie()?Ln.openURL(`${e}/${n}?ref=${r}`):Ln.openURL(`${t}/${n}?ref=${r}`)},Exe=(e,t)=>t.filter(r=>{var i;return((i=r.walletProperties)===null||i===void 0?void 0:i.hardwareWallet)==="ledger"}).map(r=>r.address).includes(e),HF=e=>typeof e=="string",toe=e=>{const t=[e],n=i=>t.reduce((o,s)=>s(o),i),r=i=>(t.push(i),Object.assign(o=>n(o),{pipe:r}));return Object.assign(n,{pipe:r})};function noe(e,t){return new Promise(n=>{setTimeout(()=>n(t),e)})}const GF="FALLBACK_UNDEFINED",roe=(e,...t)=>mm(void 0,[e,...t],void 0,function*(n,r={}){const{maxRetries:i=3,currentRetry:o=0,timeoutMs:s=100,fallbackValue:a=new Error("Max retries reached"),retryStrategy:l="timeout-only",retryIntervalMs:c=0}=r,d=new Promise((u,h)=>{setTimeout(()=>{h(new Error("Timeout"))},s)});try{return yield Promise.race([n(),d])}catch(u){if(o>=i){if(a instanceof Error)throw a;return a===GF?void 0:a}const h=(u==null?void 0:u.message)==="Timeout";if(!(l==="timeout-and-rejection"||l==="timeout-only"&&h||l==="rejection-only"&&!h)){if(a instanceof Error)throw u;return a===GF?void 0:a}return c&&(yield noe(c)),roe(n,{currentRetry:o+1,fallbackValue:a,maxRetries:i,retryIntervalMs:c,retryStrategy:l,timeoutMs:s})}}),K1=e=>e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),ioe=e=>Array.from(new Set(e)),Cxe=(e,t={})=>{var n,r;const i=Object.getOwnPropertyDescriptors(e),o=Object.create(Object.getPrototypeOf(e));for(const[a,l]of Object.entries(t))Object.defineProperty(o,a,{configurable:!0,enumerable:(r=(n=i[a])===null||n===void 0?void 0:n.enumerable)!==null&&r!==void 0?r:!0,value:l,writable:!0});const s=Object.keys(t);for(const[a,l]of Object.entries(i))s.includes(a)||Object.defineProperty(o,a,l);return o},Axe=(e,t)=>{try{return(t.match(/[^.[\]"']+/g)||[]).reduce((r,i)=>r[i],e)}catch{return}},JF=e=>{const t=e.startsWith("0x")?e.substring(2):e;let n="";const r=t.length-t.length%2;for(let i=0;i<r;i+=2){const o=t.substring(i,i+2),s=parseInt(o,16);n+=String.fromCharCode(s)}return n},ZF=e=>{if(typeof e!="string")throw new Error("Input must be a string");const t=e.startsWith("0x")?e.substring(2):e;return/^[0-9a-fA-F]+$/.test(t)},Rxe=e=>mm(void 0,void 0,void 0,function*(){try{return[yield e(),void 0]}catch(t){return[void 0,t]}}),Txe=e=>t=>e.replace(/{{(\w+?)}}/g,(n,r)=>r in t?t[r]:n),Oxe=e=>`
--- ${e.scope} : ${e.timestamp.toISOString()} ---
${e.payload.join(`
`)}
`.trim(),Nxe=()=>{const e=[];return{formatObject:t=>JSON.stringify(t,null,2),logEvent:(t,...n)=>{e.push({payload:n,scope:t,timestamp:new Date})},packScopes:t=>e.filter(n=>t?t.includes(n.scope):!0).map(Oxe).join(`

`)}},Br=Nxe(),ub="phantom-redirect-connection-type";var B5={exports:{}},YF;function Pxe(){return YF||(YF=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(B5)),B5.exports}var Bxe=Pxe();const Mxe=Rr(Bxe);var oh,_2;class GI{static get implementation(){return f0(oh,oh,"f",_2)?f0(oh,oh,"f",_2):{fetch:window.fetch.bind(window)}}static set implementation(t){dM(oh,oh,t,"f",_2)}static get fetch(){return oh.implementation.fetch}}oh=GI;_2={value:void 0};var Dxe="4.57.1";function te(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}const jxe="https://app.dynamicauth.com/api/v0".replace(/\/+$/,""),$xe=e=>typeof Blob<"u"&&e instanceof Blob;class Lxe{constructor(t=new JI){this.configuration=t,this.fetchApi=(n,r)=>te(this,void 0,void 0,function*(){let i={url:n,init:r};for(const s of this.middleware)s.pre&&(i=(yield s.pre(Object.assign({fetch:this.fetchApi},i)))||i);let o=yield(this.configuration.fetchApi||fetch)(i.url,i.init);for(const s of this.middleware)s.post&&(o=(yield s.post({fetch:this.fetchApi,url:i.url,init:i.init,response:o.clone()}))||o);return o}),this.middleware=t.middleware}withMiddleware(...t){const n=this.clone();return n.middleware=n.middleware.concat(...t),n}withPreMiddleware(...t){const n=t.map(r=>({pre:r}));return this.withMiddleware(...n)}withPostMiddleware(...t){const n=t.map(r=>({post:r}));return this.withMiddleware(...n)}request(t,n){return te(this,void 0,void 0,function*(){const{url:r,init:i}=this.createFetchParams(t,n),o=yield this.fetchApi(r,i);if(o.status>=200&&o.status<300)return o;throw o})}createFetchParams(t,n){let r=this.configuration.basePath+t.path;t.query!==void 0&&Object.keys(t.query).length!==0&&(r+="?"+this.configuration.queryParamsStringify(t.query));const i=typeof FormData<"u"&&t.body instanceof FormData||t.body instanceof URLSearchParams||$xe(t.body)?t.body:JSON.stringify(t.body),o=Object.assign({},this.configuration.headers,t.headers),s=Object.assign({method:t.method,headers:o,body:i,credentials:this.configuration.credentials},n);return{url:r,init:s}}clone(){const t=this.constructor,n=new t(this.configuration);return n.middleware=this.middleware.slice(),n}}class le extends Error{constructor(t,n){super(n),this.field=t,this.name="RequiredError"}}class JI{constructor(t={}){this.configuration=t}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:jxe}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||ooe}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const t=this.configuration.apiKey;if(t)return typeof t=="function"?t:()=>t}get accessToken(){const t=this.configuration.accessToken;if(t)return typeof t=="function"?t:()=>te(this,void 0,void 0,function*(){return t})}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}function oe(e,t){const n=e[t];return n!=null}function ooe(e,t=""){return Object.keys(e).map(n=>{const r=t+(t.length?`[${n}]`:n),i=e[n];if(i instanceof Array){const o=i.map(s=>encodeURIComponent(String(s))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${o}`}return i instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(i.toISOString())}`:i instanceof Object?ooe(i,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(i))}`}).filter(n=>n.length>0).join("&")}function Uxe(e,t){return Object.keys(e).reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:t(e[r])}),{})}function Fxe(e){for(const t of e)if(t.contentType==="multipart/form-data")return!0;return!1}class at{constructor(t,n=r=>r){this.raw=t,this.transformer=n}value(){return te(this,void 0,void 0,function*(){return this.transformer(yield this.raw.json())})}}class Je{constructor(t){this.raw=t}value(){return te(this,void 0,void 0,function*(){})}}class fw{constructor(t){this.raw=t}value(){return te(this,void 0,void 0,function*(){return yield this.raw.text()})}}function Wxe(e){return qxe(e)}function qxe(e,t){return e==null?e:{currency:e.currency,balance:e.balance,availableBalance:oe(e,"availableBalance")?e.availableBalance:void 0,logoURI:oe(e,"logoURI")?e.logoURI:void 0}}var Oh;(function(e){e.Coinbase="coinbase",e.Kraken="kraken"})(Oh||(Oh={}));function hM(e){return zxe(e)}function zxe(e,t){return e}function Vxe(e){return Kxe(e)}function Kxe(e,t){return e==null?e:{id:e.id,exchange:hM(e.exchange),type:oe(e,"type")?e.type:void 0,balances:e.balances.map(Wxe),name:oe(e,"name")?e.name:void 0,chain:oe(e,"chain")?e.chain:void 0}}var XF;(function(e){e.Direct="direct",e.Enterprise="enterprise",e.Indirect="indirect",e.None="none"})(XF||(XF={}));function soe(e){return Hxe(e)}function Hxe(e,t){return e}var lO;(function(e){e.Only="connect-only",e.AndSign="connect-and-sign"})(lO||(lO={}));var cO;(function(e){e.Localstorage="localstorage",e.Cookie="cookie"})(cO||(cO={}));function Gxe(e){return Jxe(e)}function Jxe(e,t){return e}var QF;(function(e){e.CrossPlatform="cross-platform",e.Platform="platform"})(QF||(QF={}));function Zxe(e){return Yxe(e)}function Yxe(e,t){return e}var eW;(function(e){e.Discouraged="discouraged",e.Preferred="preferred",e.Required="required"})(eW||(eW={}));function Xxe(e){return Qxe(e)}function Qxe(e,t){return e}var tW;(function(e){e.Discouraged="discouraged",e.Preferred="preferred",e.Required="required"})(tW||(tW={}));function aoe(e){return eke(e)}function eke(e,t){return e}var jp;(function(e){e.Internal="AUTHENTICATOR_TRANSPORT_INTERNAL",e.Usb="AUTHENTICATOR_TRANSPORT_USB",e.Nfc="AUTHENTICATOR_TRANSPORT_NFC",e.Ble="AUTHENTICATOR_TRANSPORT_BLE",e.Hybrid="AUTHENTICATOR_TRANSPORT_HYBRID"})(jp||(jp={}));function tke(e){return e}var Nh;(function(e){e.GoogleDrive="googleDrive",e.ICloud="iCloud",e.Dynamic="dynamic",e.External="external",e.Delegated="delegated"})(Nh||(Nh={}));function pM(e){return nke(e)}function nke(e,t){return e}function rke(e){if(e!==void 0)return e===null?null:{location:e.location}}function ike(e){return oke(e)}function oke(e,t){return e==null?e:{message:e.message,walletId:e.walletId,location:pM(e.location)}}var nW;(function(e){e.TwoOfTwo="TWO_OF_TWO",e.TwoOfThree="TWO_OF_THREE",e.ThreeOfFive="THREE_OF_FIVE"})(nW||(nW={}));function loe(e){return ske(e)}function ske(e,t){return e}function ake(e){if(e!==void 0)return e===null?null:{location:e.location,keygenId:e.keygenId,thresholdSignatureScheme:e.thresholdSignatureScheme,externalKeyShareId:e.externalKeyShareId}}function lke(e){if(e!==void 0)return e===null?null:{locations:e.locations.map(ake)}}function cke(e){return dke(e)}function dke(e,t){return e==null?e:{location:pM(e.location),keyShareId:e.keyShareId,externalKeyShareId:e.externalKeyShareId}}function uke(e){return fke(e)}function fke(e,t){return e==null?e:{message:e.message,walletId:e.walletId,locationsWithKeyShares:e.locationsWithKeyShares.map(cke)}}function hke(e){if(e!==void 0)return e===null?null:{encryptedAccountCredentials:e.encryptedAccountCredentials,passwordEncrypted:e.passwordEncrypted}}function coe(e){return pke(e)}function pke(e,t){return e==null?e:{id:e.id,backupLocation:e.backupLocation,passwordEncrypted:e.passwordEncrypted,externalKeyShareId:oe(e,"externalKeyShareId")?e.externalKeyShareId:void 0}}function rW(e){return mke(e)}function mke(e,t){return e==null?e:{keyShares:e.keyShares.map(coe)}}var Zo;(function(e){e.Blockchain="blockchain",e.Email="email",e.Oauth="oauth",e.Passkey="passkey",e.PhoneNumber="phoneNumber",e.ExternalUser="externalUser"})(Zo||(Zo={}));function gke(e){return yke(e)}function yke(e,t){return e}var pn;(function(e){e.EmailOnly="emailOnly",e.MagicLink="magicLink",e.Apple="apple",e.Bitbucket="bitbucket",e.Coinbasesocial="coinbasesocial",e.Discord="discord",e.Epicgames="epicgames",e.Facebook="facebook",e.Farcaster="farcaster",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Instagram="instagram",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Twitch="twitch",e.Twitter="twitter",e.Blocto="blocto",e.Banxa="banxa",e.CoinbaseOnramp="coinbaseOnramp",e.CryptoDotCom="cryptoDotCom",e.Dynamic="dynamic",e.Alchemy="alchemy",e.Zerodev="zerodev",e.Telegram="telegram",e.Turnkey="turnkey",e.CoinbaseWaas="coinbaseWaas",e.Sms="sms",e.Spotify="spotify",e.Tiktok="tiktok",e.Line="line",e.Steam="steam",e.Shopify="shopify",e.Zksync="zksync",e.Kraken="kraken",e.Blockaid="blockaid",e.Passkey="passkey",e.Okta="okta",e.Sendgrid="sendgrid",e.Resend="resend"})(pn||(pn={}));function qu(e){return vke(e)}function vke(e,t){return e}var Fb;(function(e){e.Ordinals="ordinals",e.Payment="payment",e.Cosmos="cosmos",e.Evm="evm",e.Ton="ton"})(Fb||(Fb={}));function wke(e){return bke(e)}function bke(e,t){return e}var iW;(function(e){e.SignerToEcdsa="zerodev_signer_to_ecdsa",e.MultiChain="zerodev_multi_chain"})(iW||(iW={}));function doe(e){return _ke(e)}function _ke(e,t){return e}var Lc;(function(e){e.V1="V1",e.V2="V2",e.V3="V3"})(Lc||(Lc={}));function uoe(e){return xke(e)}function xke(e,t){return e}var p0;(function(e){e.Ledger="ledger"})(p0||(p0={}));function kke(e){return Ske(e)}function Ske(e,t){return e}var oW;(function(e){e.Dynamic="dynamic",e.User="user"})(oW||(oW={}));function mM(e){return Ike(e)}function Ike(e,t){return e}var sW;(function(e){e.V6="v6",e.V7="v7"})(sW||(sW={}));function foe(e){return Eke(e)}function Eke(e,t){return e}var aW;(function(e){e.V24="v2_4",e.V30="v3_0",e.V31="v3_1",e.V32="v3_2",e.V33="v3_3"})(aW||(aW={}));function hoe(e){return Cke(e)}function Cke(e,t){return e}var Ao;(function(e){e.BrowserExtension="browserExtension",e.CustodialService="custodialService",e.WalletConnect="walletConnect",e.QrCode="qrCode",e.DeepLink="deepLink",e.EmbeddedWallet="embeddedWallet",e.SmartContractWallet="smartContractWallet"})(Ao||(Ao={}));function poe(e){return Ake(e)}function Ake(e,t){return e}var zu;(function(e){e.Pending="pending",e.Complete="complete"})(zu||(zu={}));function Rke(e){return Tke(e)}function Tke(e,t){return e}var sm;(function(e){e.Text="text",e.Checkbox="checkbox",e.Select="select"})(sm||(sm={}));function Oke(e){return Nke(e)}function Nke(e,t){return e}var Ed;(function(e){e.Standard="standard",e.Custom="custom"})(Ed||(Ed={}));function Pke(e){return Bke(e)}function Bke(e,t){return e}var nr;(function(e){e.Eth="ETH",e.Evm="EVM",e.Flow="FLOW",e.Sol="SOL",e.Algo="ALGO",e.Stark="STARK",e.Cosmos="COSMOS",e.Btc="BTC",e.Eclipse="ECLIPSE",e.Sui="SUI",e.Spark="SPARK",e.Tron="TRON",e.Aptos="APTOS",e.Ton="TON",e.Stellar="STELLAR"})(nr||(nr={}));function ZI(e){return Mke(e)}function Mke(e,t){return e}var lW;(function(e){e.Buy="buy",e.Send="send"})(lW||(lW={}));var cW;(function(e){e.Network="FEE_TYPE_NETWORK",e.Exchange="FEE_TYPE_EXCHANGE"})(cW||(cW={}));function Dke(e){return jke(e)}function jke(e,t){return e}function $ke(e){if(e!==void 0)return e===null?null:{assets:e.assets,defaultNetwork:e.defaultNetwork,defaultAsset:e.defaultAsset,defaultExperience:e.defaultExperience,defaultPaymentMethod:e.defaultPaymentMethod,destinationAddress:e.destinationAddress,fiatCurrency:e.fiatCurrency,handlingRequestedUrls:e.handlingRequestedUrls,networks:e.networks,partnerUserRef:e.partnerUserRef,presetCryptoAmount:e.presetCryptoAmount,presetFiatAmount:e.presetFiatAmount,redirectUrl:e.redirectUrl}}function Lke(e){return Uke(e)}function Uke(e,t){return e==null?e:{url:e.url}}var dW;(function(e){e.GuestCheckoutApplePay="GUEST_CHECKOUT_APPLE_PAY"})(dW||(dW={}));function Fke(e){return Wke(e)}function Wke(e,t){return e}var uW;(function(e){e.PendingAuth="ONRAMP_ORDER_STATUS_PENDING_AUTH",e.PendingPayment="ONRAMP_ORDER_STATUS_PENDING_PAYMENT",e.Processing="ONRAMP_ORDER_STATUS_PROCESSING",e.Completed="ONRAMP_ORDER_STATUS_COMPLETED",e.Failed="ONRAMP_ORDER_STATUS_FAILED"})(uW||(uW={}));function qke(e){return zke(e)}function zke(e,t){return e}function Vke(e){if(e!==void 0)return e===null?null:{agreementAcceptedAt:e.agreementAcceptedAt.toISOString(),destinationAddress:e.destinationAddress,destinationNetwork:e.destinationNetwork,domain:e.domain,isQuote:e.isQuote,partnerUserRef:e.partnerUserRef,paymentAmount:e.paymentAmount,paymentCurrency:e.paymentCurrency,paymentMethod:e.paymentMethod,purchaseAmount:e.purchaseAmount,purchaseCurrency:e.purchaseCurrency}}var fW;(function(e){e.PaymentLinkTypeApplePayButton="PAYMENT_LINK_TYPE_APPLE_PAY_BUTTON"})(fW||(fW={}));function Kke(e){return Hke(e)}function Hke(e,t){return e}function Gke(e){return Jke(e)}function Jke(e,t){return e==null?e:{type:Dke(e.type),amount:e.amount,currency:e.currency}}function Zke(e){return Yke(e)}function Yke(e,t){return e==null?e:{orderId:e.orderId,paymentTotal:e.paymentTotal,paymentSubtotal:e.paymentSubtotal,paymentCurrency:e.paymentCurrency,paymentMethod:Fke(e.paymentMethod),purchaseAmount:e.purchaseAmount,purchaseCurrency:e.purchaseCurrency,fees:e.fees.map(Gke),exchangeRate:e.exchangeRate,destinationAddress:e.destinationAddress,destinationNetwork:e.destinationNetwork,status:qke(e.status),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),txHash:oe(e,"txHash")?e.txHash:void 0,partnerUserRef:oe(e,"partnerUserRef")?e.partnerUserRef:void 0}}function Xke(e){return Qke(e)}function Qke(e,t){return e==null?e:{url:e.url,paymentLinkType:Kke(e.paymentLinkType)}}function e2e(e){return t2e(e)}function t2e(e,t){return e==null?e:{order:Zke(e.order),paymentLink:oe(e,"paymentLink")?Xke(e.paymentLink):void 0}}function moe(e){if(e!==void 0)return e===null?null:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,credentialId:e.credentialId,transports:e.transports.map(tke),publicKey:e.publicKey}}function n2e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,attestation:moe(e.attestation),challenge:e.challenge}}function r2e(e){if(e!==void 0)return e===null?null:{address:e.address,chain:e.chain,provider:e.provider,walletName:e.walletName,authMode:e.authMode}}var am;(function(e){e.Evm="EVM",e.Sol="SOL",e.Sui="SUI",e.Btc="BTC",e.Ton="TON"})(am||(am={}));function i2e(e){return e}var dO;(function(e){e.Turnkey="turnkey",e.Turnkeyhd="turnkeyhd",e.DynamicWaas="dynamicWaas"})(dO||(dO={}));function o2e(e){if(e!==void 0)return e===null?null:{attestation:moe(e.attestation),challenge:e.challenge}}function s2e(e){if(e!==void 0)return e===null?null:Object.assign({},o2e(e))}function a2e(e){if(e!==void 0)return e===null?null:{chains:e.chains===void 0?void 0:e.chains.map(i2e),chain:e.chain,embeddedWalletProvider:e.embeddedWalletProvider,embeddedWalletSpecificOpts:s2e(e.embeddedWalletSpecificOpts),isAuthenticatorAttached:e.isAuthenticatorAttached,passkeyAlias:e.passkeyAlias,sessionPublicKey:e.sessionPublicKey}}function l2e(e){if(e!==void 0)return e===null?null:{embeddedWallets:e.embeddedWallets.map(a2e)}}function c2e(e){if(e!==void 0)return e===null?null:{networkId:e.networkId,chainName:e.chainName}}function d2e(e){if(e!==void 0)return e===null?null:{to:e.to,amount:e.amount,currency:e.currency,network:e.network,networkObject:c2e(e.networkObject),id:e.id,description:e.description,mfaCode:e.mfaCode}}var hW;(function(e){e.Threshold="threshold",e.Full="full"})(hW||(hW={}));function u2e(e){if(e!==void 0)return e===null?null:{roomType:e.roomType,roomCount:e.roomCount}}function f2e(e){return h2e(e)}function h2e(e,t){return e==null?e:{roomIds:e.roomIds}}function p2e(e){if(e!==void 0)return e===null?null:{roomType:e.roomType,thresholdSignatureScheme:e.thresholdSignatureScheme,roomCount:e.roomCount}}function m2e(e){return g2e(e)}function g2e(e,t){return e==null?e:{roomIds:e.roomIds}}var pW;(function(e){e.Email="email",e.Id="id",e.ExternalUserId="externalUserId",e.PhoneNumber="phoneNumber",e.SocialUsername="socialUsername",e.SocialAccountId="socialAccountId"})(pW||(pW={}));var mW;(function(e){e.Evm="EVM",e.Svm="SVM",e.Sui="SUI",e.Btc="BTC",e.Ton="TON"})(mW||(mW={}));function y2e(e){if(e!==void 0)return e===null?null:{chain:e.chain,clientKeygenIds:e.clientKeygenIds,thresholdSignatureScheme:e.thresholdSignatureScheme,skipLock:e.skipLock,addressType:e.addressType}}function v2e(e){if(e!==void 0)return e===null?null:{stampHeaderName:e.stampHeaderName,stampHeaderValue:e.stampHeaderValue}}function gM(e){if(e!==void 0)return e===null?null:{body:e.body,stamp:v2e(e.stamp),url:e.url}}function w2e(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:gM(e.turnkeySignedRequest)}}function b2e(e){if(e!==void 0)return e===null?null:{amount:e.amount,currency:e.currency,description:e.description,metadata:e.metadata,orderId:e.orderId,subMerchantId:e.subMerchantId,walletAddress:e.walletAddress,networkId:e.networkId,chain:e.chain,merchantName:e.merchantName}}function _2e(e){return x2e(e)}function x2e(e,t){return e==null?e:{id:e.id,amount:e.amount,currency:e.currency,amountRefunded:oe(e,"amountRefunded")?e.amountRefunded:void 0,created:oe(e,"created")?e.created:void 0,cryptoCurrency:oe(e,"cryptoCurrency")?e.cryptoCurrency:void 0,cryptoAmount:oe(e,"cryptoAmount")?e.cryptoAmount:void 0,customerId:oe(e,"customerId")?e.customerId:void 0,paymentUrl:e.paymentUrl,qrCode:e.qrCode,returnUrl:oe(e,"returnUrl")?e.returnUrl:void 0,cancelUrl:oe(e,"cancelUrl")?e.cancelUrl:void 0,description:oe(e,"description")?e.description:void 0,liveMode:oe(e,"liveMode")?e.liveMode:void 0,metadata:oe(e,"metadata")?e.metadata:void 0,orderId:oe(e,"orderId")?e.orderId:void 0,recipient:oe(e,"recipient")?e.recipient:void 0,refunded:oe(e,"refunded")?e.refunded:void 0,status:e.status,expiredAt:oe(e,"expiredAt")?e.expiredAt:void 0}}var gW;(function(e){e.Fiat="fiat",e.Crypto="crypto"})(gW||(gW={}));function k2e(e){return S2e(e)}function S2e(e,t){return e}function I2e(e){return E2e(e)}function E2e(e,t){return e==null?e:{name:e.name,symbol:e.symbol,type:k2e(e.type),code:e.code,value:e.value}}var yW;(function(e){e.Dynamic="dynamic",e.External="external"})(yW||(yW={}));var vW;(function(e){e.RsaOaep256="RSA-OAEP-256",e.HybridRsaAes256="HYBRID-RSA-AES-256"})(vW||(vW={}));var wW;(function(e){e.Pending="pending",e.Active="active",e.Revoked="revoked"})(wW||(wW={}));function C2e(e){if(e!==void 0)return e===null?null:{alg:e.alg,iv:e.iv,ct:e.ct,tag:e.tag,ek:e.ek,kid:e.kid}}function A2e(e){if(e!==void 0)return e===null?null:{encryptedDelegatedShare:C2e(e.encryptedDelegatedShare)}}var bW;(function(e){e.Accepted="accepted",e.Queued="queued"})(bW||(bW={}));function R2e(e){return T2e(e)}function T2e(e,t){return e==null?e:{delegatedShareDeliveryId:e.delegatedShareDeliveryId,status:e.status,message:oe(e,"message")?e.message:void 0}}function O2e(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:gM(e.turnkeySignedRequest)}}function N2e(e){if(e!==void 0)return e===null?null:{passkeyId:e.passkeyId}}var _W;(function(e){e.Days="days",e.Hours="hours",e.Minutes="minutes"})(_W||(_W={}));function P2e(e){return B2e(e)}function B2e(e,t){return e}function M2e(e){return D2e(e)}function D2e(e,t){return e==null?e:{emailProvider:qu(e.emailProvider)}}function j2e(e){if(e!==void 0)return e===null?null:{email:e.email,captchaToken:e.captchaToken}}function uO(e){return $2e(e)}function $2e(e,t){return e==null?e:{verificationUUID:e.verificationUUID,email:e.email}}function H1(e){if(e!==void 0)return e===null?null:{singleUse:e.singleUse}}function L2e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,createMfaToken:H1(e.createMfaToken)}}function U2e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,email:e.email,captchaToken:e.captchaToken}}function xW(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey}}function F2e(e){return W2e(e)}function W2e(e,t){return e==null?e:{token:e.token}}var kW;(function(e){e.Mpc="mpc"})(kW||(kW={}));function q2e(e){if(e!==void 0)return e===null?null:{walletId:e.walletId}}function SW(e){return z2e(e)}function z2e(e,t){return e==null?e:{walletId:e.walletId,secret:e.secret,source:oe(e,"source")?mM(e.source):void 0}}function V2e(e){return K2e(e)}function K2e(e,t){return e==null?e:{avatar:oe(e,"avatar")?e.avatar:void 0,name:oe(e,"name")?e.name:void 0}}function goe(e){return H2e(e)}function H2e(e,t){return e==null?e:{address:e.address,publicKey:oe(e,"publicKey")?e.publicKey:void 0,type:wke(e.type)}}function G2e(e){if(e!==void 0)return e===null?null:{address:e.address,publicKey:e.publicKey,type:e.type}}function yoe(e){return J2e(e)}function J2e(e,t){return e==null?e:{hasDeniedDelegatedAccess:oe(e,"hasDeniedDelegatedAccess")?e.hasDeniedDelegatedAccess:void 0,shouldRefreshOnNextSignOn:oe(e,"shouldRefreshOnNextSignOn")?e.shouldRefreshOnNextSignOn:void 0,reshareOnNextSignOn:oe(e,"reshareOnNextSignOn")?loe(e.reshareOnNextSignOn):void 0,revokeOnNextSignOn:oe(e,"revokeOnNextSignOn")?e.revokeOnNextSignOn:void 0}}function Z2e(e){return Y2e(e)}function Y2e(e,t){return e==null?e:{turnkeySubOrganizationId:oe(e,"turnkeySubOrganizationId")?e.turnkeySubOrganizationId:void 0,turnkeyPrivateKeyId:oe(e,"turnkeyPrivateKeyId")?e.turnkeyPrivateKeyId:void 0,turnkeyHDWalletId:oe(e,"turnkeyHDWalletId")?e.turnkeyHDWalletId:void 0,isAuthenticatorAttached:oe(e,"isAuthenticatorAttached")?e.isAuthenticatorAttached:void 0,turnkeyUserId:oe(e,"turnkeyUserId")?e.turnkeyUserId:void 0,isSessionKeyCompatible:oe(e,"isSessionKeyCompatible")?e.isSessionKeyCompatible:void 0,version:oe(e,"version")?uoe(e.version):void 0,ecdsaProviderType:oe(e,"ecdsaProviderType")?doe(e.ecdsaProviderType):void 0,entryPointVersion:oe(e,"entryPointVersion")?foe(e.entryPointVersion):void 0,kernelVersion:oe(e,"kernelVersion")?hoe(e.kernelVersion):void 0,hardwareWallet:oe(e,"hardwareWallet")?kke(e.hardwareWallet):void 0,claimed:oe(e,"claimed")?e.claimed:void 0,source:oe(e,"source")?mM(e.source):void 0,keyShares:oe(e,"keyShares")?e.keyShares.map(coe):void 0,thresholdSignatureScheme:oe(e,"thresholdSignatureScheme")?loe(e.thresholdSignatureScheme):void 0,derivationPath:oe(e,"derivationPath")?e.derivationPath:void 0,settings:oe(e,"settings")?yoe(e.settings):void 0}}function X2e(e){return Q2e(e)}function Q2e(e,t){return e==null?e:{address:oe(e,"address")?e.address:void 0,chain:oe(e,"chain")?e.chain:void 0,refId:oe(e,"refId")?e.refId:void 0,signerRefId:oe(e,"signerRefId")?e.signerRefId:void 0,email:oe(e,"email")?e.email:void 0,id:e.id,nameService:oe(e,"name_service")?V2e(e.name_service):void 0,publicIdentifier:oe(e,"public_identifier")?e.public_identifier:void 0,walletName:oe(e,"wallet_name")?e.wallet_name:void 0,walletProvider:oe(e,"wallet_provider")?poe(e.wallet_provider):void 0,walletProperties:oe(e,"wallet_properties")?Z2e(e.wallet_properties):void 0,format:gke(e.format),oauthProvider:oe(e,"oauth_provider")?qu(e.oauth_provider):void 0,oauthUsername:oe(e,"oauth_username")?e.oauth_username:void 0,oauthDisplayName:oe(e,"oauth_display_name")?e.oauth_display_name:void 0,oauthAccountId:oe(e,"oauth_account_id")?e.oauth_account_id:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,phoneCountryCode:oe(e,"phoneCountryCode")?e.phoneCountryCode:void 0,isoCountryCode:oe(e,"isoCountryCode")?e.isoCountryCode:void 0,oauthAccountPhotos:oe(e,"oauth_account_photos")?e.oauth_account_photos:void 0,oauthEmails:oe(e,"oauth_emails")?e.oauth_emails:void 0,oauthMetadata:oe(e,"oauth_metadata")?e.oauth_metadata:void 0,previousUsers:oe(e,"previous_users")?e.previous_users:void 0,embeddedWalletId:oe(e,"embedded_wallet_id")?e.embedded_wallet_id:void 0,walletAdditionalAddresses:oe(e,"wallet_additional_addresses")?e.wallet_additional_addresses.map(goe):void 0,lastSelectedAt:oe(e,"lastSelectedAt")?new Date(e.lastSelectedAt):void 0,signInEnabled:e.signInEnabled,verifiedAt:oe(e,"verifiedAt")?new Date(e.verifiedAt):void 0}}function eSe(e){return tSe(e)}function tSe(e,t){return e==null?e:{label:e.label,key:oe(e,"key")?e.key:void 0}}function nSe(e){return rSe(e)}function rSe(e,t){return e==null?e:{unique:oe(e,"unique")?e.unique:void 0,regex:oe(e,"regex")?e.regex:void 0,validOptions:oe(e,"validOptions")?e.validOptions.map(eSe):void 0,checkboxText:oe(e,"checkboxText")?e.checkboxText:void 0}}function fO(e){return iSe(e)}function iSe(e,t){return e==null?e:{name:e.name,required:e.required,enabled:e.enabled,unique:e.unique,verify:e.verify,type:oe(e,"type")?Pke(e.type):void 0,validationRules:oe(e,"validationRules")?nSe(e.validationRules):void 0,validationType:oe(e,"validationType")?Oke(e.validationType):void 0,label:oe(e,"label")?e.label:void 0,position:oe(e,"position")?e.position:void 0}}function iS(e){return oSe(e)}function oSe(e,t){return e==null?e:{id:e.id,projectEnvironmentId:e.projectEnvironmentId,verifiedCredentials:e.verifiedCredentials.map(X2e),lastVerifiedCredentialId:oe(e,"lastVerifiedCredentialId")?e.lastVerifiedCredentialId:void 0,sessionId:oe(e,"sessionId")?e.sessionId:void 0,alias:oe(e,"alias")?e.alias:void 0,country:oe(e,"country")?e.country:void 0,email:oe(e,"email")?e.email:void 0,firstName:oe(e,"firstName")?e.firstName:void 0,jobTitle:oe(e,"jobTitle")?e.jobTitle:void 0,lastName:oe(e,"lastName")?e.lastName:void 0,phoneNumber:oe(e,"phoneNumber")?e.phoneNumber:void 0,policiesConsent:oe(e,"policiesConsent")?e.policiesConsent:void 0,tShirtSize:oe(e,"tShirtSize")?e.tShirtSize:void 0,team:oe(e,"team")?e.team:void 0,username:oe(e,"username")?e.username:void 0,firstVisit:oe(e,"firstVisit")?new Date(e.firstVisit):void 0,lastVisit:oe(e,"lastVisit")?new Date(e.lastVisit):void 0,newUser:oe(e,"newUser")?e.newUser:void 0,metadata:oe(e,"metadata")?e.metadata:void 0,mfaBackupCodeAcknowledgement:oe(e,"mfaBackupCodeAcknowledgement")?Rke(e.mfaBackupCodeAcknowledgement):void 0,btcWallet:oe(e,"btcWallet")?e.btcWallet:void 0,kdaWallet:oe(e,"kdaWallet")?e.kdaWallet:void 0,ltcWallet:oe(e,"ltcWallet")?e.ltcWallet:void 0,ckbWallet:oe(e,"ckbWallet")?e.ckbWallet:void 0,kasWallet:oe(e,"kasWallet")?e.kasWallet:void 0,dogeWallet:oe(e,"dogeWallet")?e.dogeWallet:void 0,emailNotification:oe(e,"emailNotification")?e.emailNotification:void 0,discordNotification:oe(e,"discordNotification")?e.discordNotification:void 0,newsletterNotification:oe(e,"newsletterNotification")?e.newsletterNotification:void 0,lists:oe(e,"lists")?e.lists:void 0,scope:oe(e,"scope")?e.scope:void 0,missingFields:oe(e,"missingFields")?e.missingFields.map(fO):void 0}}var IW;(function(e){e.Passkey="passkey",e.Passphrase="passphrase"})(IW||(IW={}));function sSe(e){return aSe(e)}function aSe(e,t){return e}var oS;(function(e){e.Sandbox="sandbox",e.Live="live"})(oS||(oS={}));function lSe(e){return cSe(e)}function cSe(e,t){return e}function dSe(e){return uSe(e)}function uSe(e,t){return e==null?e:{transactionId:oe(e,"transactionId")?e.transactionId:void 0,transactionHash:oe(e,"transactionHash")?e.transactionHash:void 0,status:oe(e,"status")?e.status:void 0,amount:oe(e,"amount")?e.amount:void 0,currency:oe(e,"currency")?e.currency:void 0,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0}}function fSe(e){return hSe(e)}function hSe(e,t){return e==null?e:{id:e.id,exchangeAccountId:oe(e,"exchangeAccountId")?e.exchangeAccountId:void 0,status:oe(e,"status")?e.status:void 0,amount:e.amount,currency:e.currency,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0}}function pSe(e){return mSe(e)}function mSe(e,t){return e==null?e:{exportBundle:e.exportBundle}}function gSe(e){if(e!==void 0)return e===null?null:{exportId:e.exportId,addressType:e.addressType}}function EW(e){if(e!==void 0)return e===null?null:{jwt:e.jwt,sessionPublicKey:e.sessionPublicKey}}var CW;(function(e){e.Ethereum="ethereum",e.Solana="solana"})(CW||(CW={}));var AW;(function(e){e.Recommended="recommended",e.Exact="exact"})(AW||(AW={}));function ySe(e){return vSe(e)}function vSe(e,t){return e}function RW(e){if(e!==void 0)return e===null?null:{address:e.address,domain:e.domain,nonce:e.nonce,message:e.message,signature:e.signature,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey}}var sS;(function(e){e.Banxa="banxa",e.CoinbaseOnramp="coinbaseOnramp",e.CryptoDotCom="cryptoDotCom"})(sS||(sS={}));function wSe(e){return bSe(e)}function bSe(e,t){return e}function _Se(e){return xSe(e)}function xSe(e,t){return e==null?e:{token:e.token}}var TW;(function(e){e.Usb="usb",e.Nfc="nfc",e.Ble="ble",e.Internal="internal",e.Hybrid="hybrid"})(TW||(TW={}));function voe(e){return kSe(e)}function kSe(e,t){return e}function SSe(e){return e}function ISe(e){return ESe(e)}function ESe(e,t){return e==null?e:{id:e.id,transports:oe(e,"transports")?e.transports.map(voe):void 0}}var OW;(function(e){e.Hybrid="hybrid",e.SecurityKey="security-key",e.ClientDevice="client-device"})(OW||(OW={}));function CSe(e){return ASe(e)}function ASe(e,t){return e}function woe(e){return RSe(e)}function RSe(e,t){return e==null?e:{appid:oe(e,"appid")?e.appid:void 0,appidExclude:oe(e,"appidExclude")?e.appidExclude:void 0,credProps:oe(e,"credProps")?e.credProps:void 0,uvm:oe(e,"uvm")?e.uvm:void 0}}function NW(e){return TSe(e)}function TSe(e,t){return e==null?e:{challenge:e.challenge,timeout:oe(e,"timeout")?e.timeout:void 0,rpId:oe(e,"rpId")?e.rpId:void 0,userVerification:oe(e,"userVerification")?aoe(e.userVerification):void 0,allowCredentials:oe(e,"allowCredentials")?e.allowCredentials.map(ISe):void 0,extensions:oe(e,"extensions")?woe(e.extensions):void 0,hints:oe(e,"hints")?CSe(e.hints):void 0}}function boe(e){return OSe(e)}function OSe(e,t){return e==null?e:{authenticatorAttachment:oe(e,"authenticatorAttachment")?Zxe(e.authenticatorAttachment):void 0,requireResidentKey:oe(e,"requireResidentKey")?e.requireResidentKey:void 0,residentKey:oe(e,"residentKey")?Xxe(e.residentKey):void 0,userVerification:oe(e,"userVerification")?aoe(e.userVerification):void 0}}var PW;(function(e){e.PublicKey="public-key"})(PW||(PW={}));function NSe(e){return PSe(e)}function PSe(e,t){return e}function BSe(e){return MSe(e)}function MSe(e,t){return e==null?e:{id:e.id,transports:oe(e,"transports")?e.transports.map(voe):void 0,type:NSe(e.type)}}function DSe(e){return jSe(e)}function jSe(e,t){return e==null?e:{id:e.id,name:e.name}}function $Se(e){return LSe(e)}function LSe(e,t){return e==null?e:{displayName:e.displayName,id:e.id,name:e.name}}var BW;(function(e){e.PublicKey="public-key"})(BW||(BW={}));function _oe(e){return USe(e)}function USe(e,t){return e}function xoe(e){return FSe(e)}function FSe(e,t){return e==null?e:{alg:e.alg,type:_oe(e.type)}}function WSe(e){return qSe(e)}function qSe(e,t){return e==null?e:{attestation:soe(e.attestation),authenticatorSelection:boe(e.authenticatorSelection),challenge:e.challenge,excludeCredentials:e.excludeCredentials.map(BSe),extensions:oe(e,"extensions")?woe(e.extensions):void 0,hints:oe(e,"hints")?e.hints:void 0,pubKeyCredParams:e.pubKeyCredParams.map(xoe),rp:DSe(e.rp),timeout:e.timeout,user:$Se(e.user)}}function zSe(e){return VSe(e)}function VSe(e,t){return e==null?e:{name:e.name,icon:e.icon,updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0}}function yM(e){return KSe(e)}function KSe(e,t){return e==null?e:{id:e.id,alias:oe(e,"alias")?e.alias:void 0,userAgent:oe(e,"userAgent")?e.userAgent:void 0,origin:oe(e,"origin")?e.origin:void 0,credentialId:e.credentialId,createdAt:new Date(e.createdAt),updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0,storage:oe(e,"storage")?zSe(e.storage):void 0}}function HSe(e){return GSe(e)}function GSe(e,t){return e==null?e:{passkeys:e.passkeys.map(yM),count:e.count}}var MW;(function(e){e.Allow="allow",e.Block="block"})(MW||(MW={}));var DW;(function(e){e.Connected="connected",e.Disconnected="disconnected"})(DW||(DW={}));function JSe(e){return ZSe(e)}function ZSe(e,t){return e}function jW(e){return YSe(e)}function YSe(e,t){return e==null?e:{id:e.id,userId:e.userId,appUrl:e.appUrl,status:JSe(e.status),expiresAt:oe(e,"expiresAt")?e.expiresAt===null?null:new Date(e.expiresAt):void 0,createdAt:new Date(e.createdAt),updatedAt:oe(e,"updatedAt")?new Date(e.updatedAt):void 0}}function XSe(e){if(e!==void 0)return e===null?null:{expiresAt:e.expiresAt.toISOString()}}function QSe(e){return eIe(e)}function eIe(e,t){return e==null?e:{label:e.label,url:e.url}}function tIe(e){return nIe(e)}function nIe(e,t){return e==null?e:{id:e.id,walletName:e.walletName,popupPageTitle:oe(e,"popupPageTitle")?e.popupPageTitle:void 0,walletIconUrl:oe(e,"walletIconUrl")?e.walletIconUrl:void 0,customCssUrl:oe(e,"customCssUrl")?e.customCssUrl:void 0,termsOfServiceUrl:oe(e,"termsOfServiceUrl")?e.termsOfServiceUrl:void 0,privacyPolicyUrl:oe(e,"privacyPolicyUrl")?e.privacyPolicyUrl:void 0,termsOfServiceAndPrivacyPolicyMarkdown:oe(e,"termsOfServiceAndPrivacyPolicyMarkdown")?e.termsOfServiceAndPrivacyPolicyMarkdown:void 0,customMenuLinks:oe(e,"customMenuLinks")?e.customMenuLinks.map(QSe):void 0,enableLoginWithExternalWallets:oe(e,"enableLoginWithExternalWallets")?e.enableLoginWithExternalWallets:void 0,enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0}}var $W;(function(e){e.Healthy="healthy",e.Unhealthy="unhealthy"})($W||($W={}));function rIe(e){return iIe(e)}function iIe(e,t){return e}function oIe(e){return sIe(e)}function sIe(e,t){return e==null?e:{status:rIe(e.status)}}function aIe(e){if(e!==void 0)return e===null?null:{chain:e.chain,clientKeygenIds:e.clientKeygenIds,thresholdSignatureScheme:e.thresholdSignatureScheme,legacyWalletId:e.legacyWalletId}}function lIe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,turnkeyEmailAuthTargetPublicKey:e.turnkeyEmailAuthTargetPublicKey}}function cIe(e){return dIe(e)}function dIe(e,t){return e==null?e:{turnkeyUserId:e.turnkeyUserId,turnkeyApiKeyId:e.turnkeyApiKeyId}}function uIe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,turnkeyRecoveryTargetPublicKey:e.turnkeyRecoveryTargetPublicKey}}function fIe(e){return hIe(e)}function hIe(e,t){return e==null?e:{turnkeyRecoveryUserId:e.turnkeyRecoveryUserId}}function pIe(e){return mIe(e)}function mIe(e,t){return e==null?e:{kid:oe(e,"kid")?e.kid:void 0,alg:oe(e,"alg")?e.alg:void 0,kty:oe(e,"kty")?e.kty:void 0,use:oe(e,"use")?e.use:void 0,e:oe(e,"e")?e.e:void 0,n:oe(e,"n")?e.n:void 0}}function LW(e){return gIe(e)}function gIe(e,t){return e==null?e:{keys:e.keys.map(pIe)}}var bh;(function(e){e.WalletWaasSign="wallet.waas.sign",e.WalletWaasExport="wallet.waas.export",e.WalletWaasReshare="wallet.waas.reshare",e.WalletWaasRefresh="wallet.waas.refresh",e.UserUpdate="user.update"})(bh||(bh={}));function yIe(e){return vIe(e)}function vIe(e,t){return e}var Ji;(function(e){e.Totp="totp",e.Passkey="passkey",e.Email="email"})(Ji||(Ji={}));function G1(e){return wIe(e)}function wIe(e,t){return e}function vM(e){if(e!==void 0)return e===null?null:{appid:e.appid,credProps:e.credProps,hmacCreateSecret:e.hmacCreateSecret}}function bIe(e){if(e!==void 0)return e===null?null:{clientDataJSON:e.clientDataJSON,authenticatorData:e.authenticatorData,signature:e.signature,userHandle:e.userHandle}}function UW(e){if(e!==void 0)return e===null?null:{id:e.id,rawId:e.rawId,response:bIe(e.response),authenticatorAttachment:e.authenticatorAttachment,clientExtensionResults:vM(e.clientExtensionResults),type:e.type,createMfaToken:H1(e.createMfaToken)}}function _Ie(e){if(e!==void 0)return e===null?null:{createMfaToken:H1(e.createMfaToken),code:e.code}}function xIe(e){if(e!==void 0)return e===null?null:{id:e.id,createMfaToken:H1(e.createMfaToken),code:e.code}}function aS(e){return kIe(e)}function kIe(e,t){return e==null?e:{type:oe(e,"type")?G1(e.type):void 0,verified:oe(e,"verified")?e.verified:void 0,id:oe(e,"id")?e.id:void 0,createdAt:oe(e,"createdAt")?new Date(e.createdAt):void 0,verifiedAt:oe(e,"verifiedAt")?e.verifiedAt===null?null:new Date(e.verifiedAt):void 0,_default:oe(e,"default")?e.default:void 0,alias:oe(e,"alias")?e.alias:void 0}}function SIe(e){return IIe(e)}function IIe(e,t){return e==null?e:{count:e.count,recoveryCodes:e.recoveryCodes}}function EIe(e){return CIe(e)}function CIe(e,t){return e==null?e:{count:e.count,devices:e.devices.map(aS)}}function AIe(e){return RIe(e)}function RIe(e,t){return e==null?e:{devices:e.devices.map(aS),passkeys:e.passkeys.map(yM),userHasVerifiedMfaMethods:e.userHasVerifiedMfaMethods}}function TIe(e){return OIe(e)}function OIe(e,t){return e==null?e:{count:e.count,recoveryCodes:e.recoveryCodes}}function NIe(e){return PIe(e)}function PIe(e,t){return e==null?e:{appid:oe(e,"appid")?e.appid:void 0,credProps:oe(e,"credProps")?e.credProps:void 0,hmacCreateSecret:oe(e,"hmacCreateSecret")?e.hmacCreateSecret:void 0}}function BIe(e){return MIe(e)}function MIe(e,t){return e==null?e:{id:e.id,type:_oe(e.type)}}function DIe(e){return jIe(e)}function jIe(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,name:e.name}}function $Ie(e){return LIe(e)}function LIe(e,t){return e==null?e:{id:e.id,name:e.name,displayName:e.displayName}}function UIe(e){return FIe(e)}function FIe(e,t){return e==null?e:{attestation:oe(e,"attestation")?soe(e.attestation):void 0,rp:DIe(e.rp),user:$Ie(e.user),challenge:e.challenge,pubKeyCredParams:e.pubKeyCredParams.map(xoe),timeout:oe(e,"timeout")?e.timeout:void 0,authenticatorSelection:oe(e,"authenticatorSelection")?boe(e.authenticatorSelection):void 0,excludeCredentials:oe(e,"excludeCredentials")?e.excludeCredentials.map(BIe):void 0,extensions:oe(e,"extensions")?NIe(e.extensions):void 0}}function WIe(e){return qIe(e)}function qIe(e,t){return e==null?e:{id:e.id,type:G1(e.type),registration:UIe(e.registration)}}function zIe(e){if(e!==void 0)return e===null?null:{clientDataJSON:e.clientDataJSON,attestationObject:e.attestationObject,authenticatorData:e.authenticatorData,publicKeyAlgorithm:e.publicKeyAlgorithm,publicKey:e.publicKey}}function VIe(e){if(e!==void 0)return e===null?null:{id:e.id,rawId:e.rawId,response:zIe(e.response),authenticatorAttachment:e.authenticatorAttachment,clientExtensionResults:vM(e.clientExtensionResults),type:e.type}}function KIe(e){if(e!==void 0)return e===null?null:{id:e.id,attestation:VIe(e.attestation)}}function HIe(e){return GIe(e)}function GIe(e,t){return e==null?e:{id:e.id,type:G1(e.type),secret:e.secret,uri:e.uri}}function JIe(e){if(e!==void 0)return e===null?null:{type:e.type,code:e.code}}function ZIe(e){if(e!==void 0)return e===null?null:{default:e._default}}function YIe(e){if(e!==void 0)return e===null?null:{userId:e.userId,fieldKey:e.fieldKey,type:e.type}}function XIe(e){if(e!==void 0)return e===null?null:{mergeUserResolutions:e.mergeUserResolutions===void 0?void 0:e.mergeUserResolutions.map(YIe)}}function koe(e){return QIe(e)}function QIe(e,t){return e==null?e:{networkId:oe(e,"networkId")?e.networkId:void 0,address:e.address,name:e.name,symbol:e.symbol,decimals:e.decimals,logoURI:e.logoURI,balance:e.balance,rawBalance:e.rawBalance,price:oe(e,"price")?e.price:void 0,marketValue:oe(e,"marketValue")?e.marketValue:void 0,liquidityPoolSizeUsd:oe(e,"liquidityPoolSizeUsd")?e.liquidityPoolSizeUsd:void 0,totalSupply:oe(e,"totalSupply")?e.totalSupply:void 0,isNative:oe(e,"isNative")?e.isNative:void 0}}function e3e(e){return t3e(e)}function t3e(e,t){return e==null?e:{networkId:oe(e,"networkId")?e.networkId:void 0,balances:oe(e,"balances")?e.balances.map(koe):void 0}}function n3e(e){return r3e(e)}function r3e(e,t){return e==null?e:{walletAddress:e.walletAddress,chain:ZI(e.chain),networks:e.networks.map(e3e)}}function i3e(e){return o3e(e)}function o3e(e,t){return e==null?e:{chainBalances:e.chainBalances.map(n3e)}}function s3e(e){if(e!==void 0)return e===null?null:{address:e.address,chain:e.chain,networkIds:e.networkIds,whitelistedContracts:e.whitelistedContracts}}function FW(e){if(e!==void 0)return e===null?null:{filterSpamTokens:e.filterSpamTokens,balanceRequests:e.balanceRequests.map(s3e)}}var WW;(function(e){e.Custom="custom",e.Default="default"})(WW||(WW={}));function a3e(e){return l3e(e)}function l3e(e,t){return e==null?e:{networkId:e.networkId,chainName:e.chainName,enabled:e.enabled,rpcUrl:oe(e,"rpcUrl")?e.rpcUrl:void 0,iconUrl:oe(e,"iconUrl")?e.iconUrl:void 0,type:oe(e,"type")?e.type:void 0}}function c3e(e){return d3e(e)}function d3e(e,t){return e==null?e:{registry:oe(e,"registry")?e.registry:void 0}}function u3e(e){return f3e(e)}function f3e(e,t){return e==null?e:{decimals:e.decimals,name:e.name,symbol:e.symbol,denom:oe(e,"denom")?e.denom:void 0,iconUrl:oe(e,"iconUrl")?e.iconUrl:void 0,pricingProviderTokenId:oe(e,"pricingProviderTokenId")?e.pricingProviderTokenId:void 0}}function h3e(e){return p3e(e)}function p3e(e,t){return e==null?e:{lcdUrl:oe(e,"lcdUrl")?e.lcdUrl:void 0,chainName:oe(e,"chainName")?e.chainName:void 0,key:oe(e,"key")?e.key:void 0,name:e.name,shortName:e.shortName,isTestnet:oe(e,"isTestnet")?e.isTestnet:void 0,chain:e.chain,chainId:e.chainId,nameService:oe(e,"nameService")?c3e(e.nameService):void 0,networkId:e.networkId,iconUrls:e.iconUrls,nativeCurrency:u3e(e.nativeCurrency),rpcUrls:e.rpcUrls,privateCustomerRpcUrls:oe(e,"privateCustomerRpcUrls")?e.privateCustomerRpcUrls:void 0,blockExplorerUrls:e.blockExplorerUrls,vanityName:oe(e,"vanityName")?e.vanityName:void 0,bech32Prefix:oe(e,"bech32Prefix")?e.bech32Prefix:void 0,genesisHash:oe(e,"genesisHash")?e.genesisHash:void 0,cluster:oe(e,"cluster")?e.cluster:void 0}}function Soe(e){return m3e(e)}function m3e(e,t){return e==null?e:{chainName:oe(e,"chainName")?e.chainName:void 0,networks:oe(e,"networks")?e.networks.map(h3e):void 0}}var Wb;(function(e){e.Done="done",e.VerifyEmail="verify-email",e.VerifiedAndTransferred="verified-and-transferred",e.VerifySms="verify-sms"})(Wb||(Wb={}));function g3e(e){return y3e(e)}function y3e(e,t){return e}function v3e(e){return w3e(e)}function w3e(e,t){return e==null?e:{nonce:oe(e,"nonce")?e.nonce:void 0}}function b3e(e){if(e!==void 0)return e===null?null:{state:e.state,redirectUrl:e.redirectUrl,ssoProviderId:e.ssoProviderId}}function _3e(e){return x3e(e)}function x3e(e,t){return e==null?e:{url:e.url}}function qW(e){if(e!==void 0)return e===null?null:{code:e.code,codeVerifier:e.codeVerifier,state:e.state,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey,ssoProviderId:e.ssoProviderId}}function rk(e){if(e!==void 0)return e===null?null:{state:e.state,telegramAuthToken:e.telegramAuthToken,forceCreateUser:e.forceCreateUser,code:e.code,sessionPublicKey:e.sessionPublicKey,captchaToken:e.captchaToken}}var zW;(function(e){e.Pending="pending",e.Completed="completed"})(zW||(zW={}));function k3e(e){return S3e(e)}function S3e(e,t){return e}function I3e(e){return E3e(e)}function E3e(e,t){return e==null?e:{code:oe(e,"code")?e.code:void 0,error:oe(e,"error")?e.error:void 0,status:k3e(e.status)}}function C3e(e){return A3e(e)}function A3e(e,t){return e==null?e:{roomId:e.roomId,serverKeygenIds:oe(e,"serverKeygenIds")?e.serverKeygenIds:void 0,newServerKeygenIds:oe(e,"newServerKeygenIds")?e.newServerKeygenIds:void 0,walletId:oe(e,"walletId")?e.walletId:void 0}}function R3e(e){return T3e(e)}function T3e(e,t){return e==null?e:{roomId:e.roomId,serverKeygenIds:e.serverKeygenIds,newServerKeygenIds:e.newServerKeygenIds,walletId:oe(e,"walletId")?e.walletId:void 0}}function ik(e){return O3e(e)}function O3e(e,t){return e==null?e:{roomId:e.roomId,serverKeygenIds:e.serverKeygenIds,newServerKeygenIds:oe(e,"newServerKeygenIds")?e.newServerKeygenIds:void 0,walletId:oe(e,"walletId")?e.walletId:void 0}}function N3e(e){if(e!==void 0)return e===null?null:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,transports:e.transports===void 0?void 0:e.transports.map(SSe),publicKey:e.publicKey}}function P3e(e){if(e!==void 0)return e===null?null:{id:e.id,rawId:e.rawId,response:N3e(e.response),clientExtensionResults:vM(e.clientExtensionResults),authenticatorAttachment:e.authenticatorAttachment,type:e.type,createMfaToken:H1(e.createMfaToken)}}function B3e(e){if(e!==void 0)return e===null?null:{chain:e.chain,publicWalletAddress:e.publicWalletAddress}}function M3e(e){return D3e(e)}function D3e(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,exchange:hM(e.exchange),enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0,socialProvider:oe(e,"socialProvider")?qu(e.socialProvider):void 0,onRampProvider:oe(e,"onRampProvider")?qu(e.onRampProvider):void 0}}function j3e(e){return $3e(e)}function $3e(e,t){return e==null?e:{name:e.name,enabled:e.enabled,networks:oe(e,"networks")?e.networks.map(a3e):void 0}}function L3e(e){return U3e(e)}function U3e(e,t){return e==null?e:{background:oe(e,"background")?e.background:void 0,fontColor:oe(e,"fontColor")?e.fontColor:void 0,paddingHeight:oe(e,"paddingHeight")?e.paddingHeight:void 0,paddingWidth:oe(e,"paddingWidth")?e.paddingWidth:void 0,radius:oe(e,"radius")?e.radius:void 0}}function F3e(e){return W3e(e)}function W3e(e,t){return e==null?e:{border:oe(e,"border")?e.border:void 0,brand:oe(e,"brand")?e.brand:void 0,primaryColor:oe(e,"primaryColor")?e.primaryColor:void 0,radius:oe(e,"radius")?e.radius:void 0,theme:oe(e,"theme")?e.theme:void 0,view:oe(e,"view")?e.view:void 0,template:oe(e,"template")?e.template:void 0,displayOrder:oe(e,"displayOrder")?e.displayOrder:void 0,emailOnly:oe(e,"emailOnly")?e.emailOnly:void 0,showWalletsButton:oe(e,"showWalletsButton")?e.showWalletsButton:void 0,emailSubmitButtonInsideInput:oe(e,"emailSubmitButtonInsideInput")?e.emailSubmitButtonInsideInput:void 0,splitEmailAndSocial:oe(e,"splitEmailAndSocial")?e.splitEmailAndSocial:void 0,socialAboveEmail:oe(e,"socialAboveEmail")?e.socialAboveEmail:void 0}}function q3e(e){return z3e(e)}function z3e(e,t){return e==null?e:{backgroundColor:oe(e,"backgroundColor")?e.backgroundColor:void 0,border:oe(e,"border")?e.border:void 0,radius:oe(e,"radius")?e.radius:void 0,textColor:oe(e,"textColor")?e.textColor:void 0,theme:oe(e,"theme")?e.theme:void 0}}function V3e(e){return K3e(e)}function K3e(e,t){return e==null?e:{modal:oe(e,"modal")?F3e(e.modal):void 0,button:oe(e,"button")?L3e(e.button):void 0,widget:oe(e,"widget")?q3e(e.widget):void 0}}function H3e(e){return G3e(e)}function G3e(e,t){return e==null?e:{displayName:oe(e,"displayName")?e.displayName:void 0,supportEmail:oe(e,"supportEmail")?e.supportEmail:void 0,supportText:oe(e,"supportText")?e.supportText:void 0,appLogo:oe(e,"appLogo")?e.appLogo:void 0,imageUserNotInAccessList:oe(e,"imageUserNotInAccessList")?e.imageUserNotInAccessList:void 0,imageUserInAccessList:oe(e,"imageUserInAccessList")?e.imageUserInAccessList:void 0,supportUrls:oe(e,"supportUrls")?e.supportUrls:void 0,collectUserDataWelcomeHeader:oe(e,"collectUserDataWelcomeHeader")?e.collectUserDataWelcomeHeader:void 0,collectUserDataWelcomeMessage:oe(e,"collectUserDataWelcomeMessage")?e.collectUserDataWelcomeMessage:void 0,skipOptionalKYCFieldDuringOnboarding:oe(e,"skipOptionalKYCFieldDuringOnboarding")?e.skipOptionalKYCFieldDuringOnboarding:void 0,emailCompanyName:oe(e,"emailCompanyName")?e.emailCompanyName:void 0}}function J3e(e){return Z3e(e)}function Z3e(e,t){return e==null?e:{collectIp:oe(e,"collectIp")?e.collectIp:void 0}}function Y3e(e){return X3e(e)}function X3e(e,t){return e==null?e:{exchange:hM(e.exchange),socialProvider:oe(e,"socialProvider")?qu(e.socialProvider):void 0,onRampProvider:oe(e,"onRampProvider")?qu(e.onRampProvider):void 0}}function Q3e(e){return eEe(e)}function eEe(e,t){return e==null?e:{connectOnlyMultiAsset:e.connectOnlyMultiAsset,enableExchanges:e.enableExchanges}}function tEe(e){return nEe(e)}function nEe(e,t){return e==null?e:{value:oe(e,"value")?e.value:void 0,rule:oe(e,"rule")?ySe(e.rule):void 0}}function rEe(e){return iEe(e)}function iEe(e,t){return e==null?e:{chain:oe(e,"chain")?ZI(e.chain):void 0,token:oe(e,"token")?tEe(e.token):void 0}}function oEe(e){return sEe(e)}function sEe(e,t){return e==null?e:{chainSettings:oe(e,"chainSettings")?e.chainSettings.map(rEe):void 0}}function aEe(e){return lEe(e)}function lEe(e,t){return e==null?e:{amount:oe(e,"amount")?e.amount:void 0,currency:oe(e,"currency")?e.currency:void 0}}function cEe(e){return dEe(e)}function dEe(e,t){return e==null?e:{enabled:e.enabled,minAmount:oe(e,"minAmount")?aEe(e.minAmount):void 0,defaultSettings:oe(e,"defaultSettings")?oEe(e.defaultSettings):void 0}}function uEe(e){return fEe(e)}function fEe(e,t){return e==null?e:{onramps:e.onramps.map(wSe),externalWallets:oe(e,"externalWallets")?cEe(e.externalWallets):void 0}}function hEe(e){return pEe(e)}function pEe(e,t){return e==null?e:{deeplinkUrlsEnabled:oe(e,"deeplinkUrlsEnabled")?e.deeplinkUrlsEnabled:void 0}}function mEe(e){return gEe(e)}function gEe(e,t){return e==null?e:{domain:oe(e,"domain")?e.domain:void 0}}function yEe(e){return vEe(e)}function vEe(e,t){return e==null?e:{evm:mEe(e.evm)}}function wEe(e){return bEe(e)}function bEe(e,t){return e==null?e:{allWallets:oe(e,"allWallets")?e.allWallets:void 0,allUsers:oe(e,"allUsers")?e.allUsers:void 0,separateSmartWalletAndSigner:oe(e,"separateSmartWalletAndSigner")?e.separateSmartWalletAndSigner:void 0,enablePasskeys:oe(e,"enablePasskeys")?e.enablePasskeys:void 0}}var qb;(function(e){e.Dynamic="dynamic",e.MagicLink="magicLink",e.Blocto="blocto",e.Turnkey="turnkey",e.CoinbaseWaas="coinbaseWaas"})(qb||(qb={}));function Ioe(e){return _Ee(e)}function _Ee(e,t){return e}function xEe(e){return kEe(e)}function kEe(e,t){return e==null?e:{signInProvider:oe(e,"signInProvider")?Ioe(e.signInProvider):void 0}}function SEe(e){return IEe(e)}function IEe(e,t){return e==null?e:{name:e.name,enabled:e.enabled,primary:e.primary}}function Eoe(e){return EEe(e)}function EEe(e,t){return e==null?e:{amount:e.amount,unit:P2e(e.unit)}}function M5(e){return CEe(e)}function CEe(e,t){return e==null?e:{isDefault:e.isDefault,isEnabled:e.isEnabled,isPermanentAuthenticator:e.isPermanentAuthenticator,listPosition:e.listPosition}}function AEe(e){return REe(e)}function REe(e,t){return e==null?e:{passkey:oe(e,"passkey")?M5(e.passkey):void 0,email:oe(e,"email")?M5(e.email):void 0,password:oe(e,"password")?M5(e.password):void 0}}function TEe(e){return OEe(e)}function OEe(e,t){return e==null?e:{automaticEmbeddedWalletCreation:oe(e,"automaticEmbeddedWalletCreation")?e.automaticEmbeddedWalletCreation:void 0,automaticEmbeddedWalletCreationForExternal:oe(e,"automaticEmbeddedWalletCreationForExternal")?e.automaticEmbeddedWalletCreationForExternal:void 0,showEmbeddedWalletActionsUI:oe(e,"showEmbeddedWalletActionsUI")?e.showEmbeddedWalletActionsUI:void 0,emailRecoveryEnabled:oe(e,"emailRecoveryEnabled")?e.emailRecoveryEnabled:void 0,forceAuthenticatorAtSignup:oe(e,"forceAuthenticatorAtSignup")?e.forceAuthenticatorAtSignup:void 0,allowSkippingAuthenticatorAtSignup:oe(e,"allowSkippingAuthenticatorAtSignup")?e.allowSkippingAuthenticatorAtSignup:void 0,sessionKeyDuration:oe(e,"sessionKeyDuration")?Eoe(e.sessionKeyDuration):void 0,supportedSecurityMethods:oe(e,"supportedSecurityMethods")?AEe(e.supportedSecurityMethods):void 0,chainConfigurations:oe(e,"chainConfigurations")?e.chainConfigurations.map(SEe):void 0,domainEnabledByProvider:oe(e,"domainEnabledByProvider")?e.domainEnabledByProvider:void 0,defaultWalletVersion:oe(e,"defaultWalletVersion")?uoe(e.defaultWalletVersion):void 0,promptForKeyExport:oe(e,"promptForKeyExport")?e.promptForKeyExport:void 0,transactionSimulation:oe(e,"transactionSimulation")?e.transactionSimulation:void 0,svmGasSponsorshipEnabled:oe(e,"svmGasSponsorshipEnabled")?e.svmGasSponsorshipEnabled:void 0}}var ym;(function(e){e.Apple="apple",e.Bitbucket="bitbucket",e.Coinbasesocial="coinbasesocial",e.Discord="discord",e.Epicgames="epicgames",e.Facebook="facebook",e.Farcaster="farcaster",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Instagram="instagram",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Twitch="twitch",e.Twitter="twitter",e.Telegram="telegram",e.Spotify="spotify",e.Tiktok="tiktok",e.Line="line",e.Steam="steam",e.Shopify="shopify",e.Kraken="kraken",e.Okta="okta"})(ym||(ym={}));function NEe(e){return PEe(e)}function PEe(e,t){return e}function BEe(e){return MEe(e)}function MEe(e,t){return e==null?e:{provider:NEe(e.provider),enabled:oe(e,"enabled")?e.enabled:void 0}}function DEe(e){return jEe(e)}function jEe(e,t){return e==null?e:{signInProvider:oe(e,"signInProvider")?Ioe(e.signInProvider):void 0,providers:oe(e,"providers")?e.providers.map(BEe):void 0}}function $Ee(e){return LEe(e)}function LEe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,promptUsersOnSignIn:oe(e,"promptUsersOnSignIn")?e.promptUsersOnSignIn:void 0,requiresDelegation:oe(e,"requiresDelegation")?e.requiresDelegation:void 0}}var VW;(function(e){e.Development="development",e.Production="production"})(VW||(VW={}));function UEe(e){return FEe(e)}function FEe(e,t){return e==null?e:{containerIdentifier:oe(e,"containerIdentifier")?e.containerIdentifier:void 0,apiToken:oe(e,"apiToken")?e.apiToken:void 0,environment:oe(e,"environment")?e.environment:void 0}}function WEe(e){return qEe(e)}function qEe(e,t){return e==null?e:{promptBackupOptions:e.promptBackupOptions,promptClientShareExport:e.promptClientShareExport}}function zEe(e){return VEe(e)}function VEe(e,t){return e==null?e:{allowMultipleWaasWalletsPerChain:oe(e,"allowMultipleWaasWalletsPerChain")?e.allowMultipleWaasWalletsPerChain:void 0,passcodeRequired:e.passcodeRequired,onSignUp:WEe(e.onSignUp),backupOptions:e.backupOptions.map(pM),iCloud:oe(e,"iCloud")?UEe(e.iCloud):void 0,relayUrl:oe(e,"relayUrl")?e.relayUrl:void 0,delegatedAccessEndpoint:oe(e,"delegatedAccessEndpoint")?e.delegatedAccessEndpoint:void 0,delegatedAccess:oe(e,"delegatedAccess")?$Ee(e.delegatedAccess):void 0,enableForwardMPCClient:oe(e,"enableForwardMPCClient")?e.enableForwardMPCClient:void 0,customKeyshareRelayBaseUrl:oe(e,"customKeyshareRelayBaseUrl")?e.customKeyshareRelayBaseUrl:void 0,exportDisabled:oe(e,"exportDisabled")?e.exportDisabled:void 0}}function KEe(e){return HEe(e)}function HEe(e,t){return e==null?e:{projectId:oe(e,"projectId")?e.projectId:void 0,v2Enabled:oe(e,"v2Enabled")?e.v2Enabled:void 0,walletProjectId:oe(e,"walletProjectId")?e.walletProjectId:void 0}}var KW;(function(e){e.Center="center",e.Left="left",e.Right="right"})(KW||(KW={}));function GEe(e){return JEe(e)}function JEe(e,t){return e}var Eo;(function(e){e.Email="email",e.EmailAndPhone="emailAndPhone",e.Phone="phone",e.Separator="separator",e.Social="social",e.Text="text",e.Wallet="wallet",e.Passkey="passkey"})(Eo||(Eo={}));function ZEe(e){return YEe(e)}function YEe(e,t){return e}function XEe(e){return QEe(e)}function QEe(e,t){return e==null?e:{type:ZEe(e.type),label:oe(e,"label")?e.label:void 0,numOfItemsToDisplay:oe(e,"numOfItemsToDisplay")?e.numOfItemsToDisplay:void 0,defaultItem:oe(e,"defaultItem")?e.defaultItem:void 0,alignment:oe(e,"alignment")?GEe(e.alignment):void 0}}var hO;(function(e){e.Login="login"})(hO||(hO={}));function eCe(e){return tCe(e)}function tCe(e,t){return e}function nCe(e){return rCe(e)}function rCe(e,t){return e==null?e:{type:eCe(e.type),sections:oe(e,"sections")?e.sections.map(XEe):void 0}}function iCe(e){return oCe(e)}function oCe(e,t){return e==null?e:{nameService:oe(e,"nameService")?yEe(e.nameService):void 0,featureFlags:oe(e,"featureFlags")?Q3e(e.featureFlags):void 0,emailSignIn:oe(e,"emailSignIn")?xEe(e.emailSignIn):void 0,socialSignIn:oe(e,"socialSignIn")?DEe(e.socialSignIn):void 0,exchangeOptions:oe(e,"exchangeOptions")?e.exchangeOptions.map(Y3e):void 0,multiWallet:oe(e,"multiWallet")?e.multiWallet:void 0,multiWalletUnlinkDisabled:oe(e,"multiWalletUnlinkDisabled")?e.multiWalletUnlinkDisabled:void 0,mobile:oe(e,"mobile")?hEe(e.mobile):void 0,confirmWalletTransfers:oe(e,"confirmWalletTransfers")?e.confirmWalletTransfers:void 0,onrampFunding:oe(e,"onrampFunding")?e.onrampFunding:void 0,passkeyEmbeddedWalletEnabled:oe(e,"passkeyEmbeddedWalletEnabled")?e.passkeyEmbeddedWalletEnabled:void 0,automaticEmbeddedWalletCreation:oe(e,"automaticEmbeddedWalletCreation")?e.automaticEmbeddedWalletCreation:void 0,passkeyEmbeddedWalletRecoveryEnabled:oe(e,"passkeyEmbeddedWalletRecoveryEnabled")?e.passkeyEmbeddedWalletRecoveryEnabled:void 0,embeddedWalletSecurityMethods:oe(e,"embeddedWalletSecurityMethods")?e.embeddedWalletSecurityMethods.map(sSe):void 0,embeddedWallets:oe(e,"embeddedWallets")?TEe(e.embeddedWallets):void 0,waas:oe(e,"waas")?zEe(e.waas):void 0,walletConnect:oe(e,"walletConnect")?KEe(e.walletConnect):void 0,confirmEmailProviderForVerify:oe(e,"confirmEmailProviderForVerify")?e.confirmEmailProviderForVerify:void 0,displayDynamicMessaging:oe(e,"displayDynamicMessaging")?e.displayDynamicMessaging:void 0,hideNetworkInDynamicWidget:oe(e,"hideNetworkInDynamicWidget")?e.hideNetworkInDynamicWidget:void 0,preventOrphanedAccounts:oe(e,"preventOrphanedAccounts")?e.preventOrphanedAccounts:void 0,views:oe(e,"views")?e.views.map(nCe):void 0,accountAbstraction:oe(e,"accountAbstraction")?wEe(e.accountAbstraction):void 0,blockEmailSubaddresses:oe(e,"blockEmailSubaddresses")?e.blockEmailSubaddresses:void 0,enableMultiAsset:oe(e,"enableMultiAsset")?e.enableMultiAsset:void 0,showFiat:oe(e,"showFiat")?e.showFiat:void 0,disabledWalletConnectors:oe(e,"disabledWalletConnectors")?e.disabledWalletConnectors:void 0,funding:oe(e,"funding")?uEe(e.funding):void 0}}function sCe(e){return aCe(e)}function aCe(e,t){return e==null?e:{storage:e.storage.map(Gxe)}}function lCe(e){return cCe(e)}function cCe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,iss:oe(e,"iss")?e.iss:void 0,aud:oe(e,"aud")?e.aud:void 0,jwksUrl:oe(e,"jwksUrl")?e.jwksUrl:void 0,cookieName:oe(e,"cookieName")?e.cookieName:void 0}}function dCe(e){return uCe(e)}function uCe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,secretKey:oe(e,"secretKey")?e.secretKey:void 0,siteKey:oe(e,"siteKey")?e.siteKey:void 0}}function fCe(e){return hCe(e)}function hCe(e,t){return e==null?e:{action:yIe(e.action),required:e.required}}function pCe(e){return mCe(e)}function mCe(e,t){return e==null?e:{type:G1(e.type),enabled:e.enabled,allowBackupCodes:oe(e,"allowBackupCodes")?e.allowBackupCodes:void 0}}function gCe(e){return yCe(e)}function yCe(e,t){return e==null?e:{enabled:oe(e,"enabled")?e.enabled:void 0,required:oe(e,"required")?e.required:void 0,availableMethods:oe(e,"availableMethods")?e.availableMethods.map(G1):void 0,methods:oe(e,"methods")?e.methods.map(pCe):void 0,actions:oe(e,"actions")?e.actions.map(fCe):void 0}}function vCe(e){return wCe(e)}function wCe(e,t){return e==null?e:{waasPrivateKeyExport:oe(e,"waasPrivateKeyExport")?e.waasPrivateKeyExport:void 0,waasSignedTransaction:oe(e,"waasSignedTransaction")?e.waasSignedTransaction:void 0}}function bCe(e){return _Ce(e)}function _Ce(e,t){return e==null?e:{jwtDuration:oe(e,"jwtDuration")?Eoe(e.jwtDuration):void 0,hCaptcha:oe(e,"hCaptcha")?dCe(e.hCaptcha):void 0,mfa:oe(e,"mfa")?gCe(e.mfa):void 0,auth:oe(e,"auth")?sCe(e.auth):void 0,externalAuth:oe(e,"externalAuth")?lCe(e.externalAuth):void 0,environmentLocked:oe(e,"environmentLocked")?e.environmentLocked:void 0,notifications:oe(e,"notifications")?vCe(e.notifications):void 0}}function xCe(e){return kCe(e)}function kCe(e,t){return e==null?e:{termsUrl:e.termsUrl,email:e.email,userId:e.userId,createdAt:new Date(e.createdAt)}}function SCe(e){return ICe(e)}function ICe(e,t){return e==null?e:{clientId:e.clientId,chain:e.chain,_default:oe(e,"default")?e.default:void 0}}function ECe(e){return CCe(e)}function CCe(e,t){return e==null?e:{isoCountryCode:e.isoCountryCode,phoneCountryCode:e.phoneCountryCode}}var HW;(function(e){e.Stackup="STACKUP",e.Pimlico="PIMLICO",e.Alchemy="ALCHEMY",e.Gelato="GELATO"})(HW||(HW={}));function ACe(e){return RCe(e)}function RCe(e,t){return e}function TCe(e){return OCe(e)}function OCe(e,t){return e==null?e:{id:oe(e,"id")?e.id:void 0,provider:qu(e.provider),enabledAt:oe(e,"enabledAt")?e.enabledAt===null?null:new Date(e.enabledAt):void 0,clientId:oe(e,"clientId")?e.clientId:void 0,clientSecret:oe(e,"clientSecret")?e.clientSecret:void 0,providerProjectId:oe(e,"providerProjectId")?e.providerProjectId:void 0,authorizationUrl:oe(e,"authorizationUrl")?e.authorizationUrl:void 0,redirectUrl:oe(e,"redirectUrl")?e.redirectUrl:void 0,defaultChainId:oe(e,"defaultChainId")?e.defaultChainId:void 0,defaultChain:oe(e,"defaultChain")?e.defaultChain:void 0,keyExportUrl:oe(e,"keyExportUrl")?e.keyExportUrl:void 0,termsAcceptedByUser:oe(e,"termsAcceptedByUser")?xCe(e.termsAcceptedByUser):void 0,scopes:oe(e,"scopes")?e.scopes:void 0,baseAuthUrl:oe(e,"baseAuthUrl")?e.baseAuthUrl:void 0,appleKeyId:oe(e,"appleKeyId")?e.appleKeyId:void 0,appleTeamId:oe(e,"appleTeamId")?e.appleTeamId:void 0,shopifyStore:oe(e,"shopifyStore")?e.shopifyStore:void 0,domain:oe(e,"domain")?e.domain:void 0,accountSid:oe(e,"accountSid")?e.accountSid:void 0,twilioNumber:oe(e,"twilioNumber")?e.twilioNumber:void 0,twilioVerifyServiceSid:oe(e,"twilioVerifyServiceSid")?e.twilioVerifyServiceSid:void 0,enabledCountries:oe(e,"enabledCountries")?e.enabledCountries.map(ECe):void 0,sendgridIpPoolName:oe(e,"sendgridIpPoolName")?e.sendgridIpPoolName:void 0,entryPointVersion:oe(e,"entryPointVersion")?foe(e.entryPointVersion):void 0,kernelVersion:oe(e,"kernelVersion")?hoe(e.kernelVersion):void 0,factoryAddress:oe(e,"factoryAddress")?e.factoryAddress:void 0,paymasterAddress:oe(e,"paymasterAddress")?e.paymasterAddress:void 0,passkeyAddress:oe(e,"passkeyAddress")?e.passkeyAddress:void 0,sessionAddress:oe(e,"sessionAddress")?e.sessionAddress:void 0,salt:oe(e,"salt")?e.salt:void 0,multichainAccountAbstractionProviders:oe(e,"multichainAccountAbstractionProviders")?e.multichainAccountAbstractionProviders.map(SCe):void 0,ecdsaProviderType:oe(e,"ecdsaProviderType")?doe(e.ecdsaProviderType):void 0,createNewAccounts:oe(e,"createNewAccounts")?e.createNewAccounts:void 0,enableKernelV3Migration:oe(e,"enableKernelV3Migration")?e.enableKernelV3Migration:void 0,enableEIP7702:oe(e,"enableEIP7702")?e.enableEIP7702:void 0,zerodevBundlerProvider:oe(e,"zerodevBundlerProvider")?ACe(e.zerodevBundlerProvider):void 0,zerodevBundlerRpcUrl:oe(e,"zerodevBundlerRpcUrl")?e.zerodevBundlerRpcUrl:void 0,zerodevPaymasterRpcUrl:oe(e,"zerodevPaymasterRpcUrl")?e.zerodevPaymasterRpcUrl:void 0,zerodevKernelDelegationAddress:oe(e,"zerodevKernelDelegationAddress")?e.zerodevKernelDelegationAddress:void 0,returnUrl:oe(e,"returnUrl")?e.returnUrl:void 0,cancelUrl:oe(e,"cancelUrl")?e.cancelUrl:void 0}}function NCe(e){return PCe(e)}function PCe(e,t){return e==null?e:{environmentName:oe(e,"environmentName")?lSe(e.environmentName):void 0,chains:e.chains.map(j3e),customFields:oe(e,"customFields")?e.customFields.map(fO):void 0,kyc:e.kyc.map(fO),design:V3e(e.design),general:H3e(e.general),privacy:J3e(e.privacy),providers:oe(e,"providers")?e.providers.map(TCe):void 0,exchanges:oe(e,"exchanges")?e.exchanges.map(M3e):void 0,sdk:iCe(e.sdk),security:bCe(e.security),networks:oe(e,"networks")?e.networks.map(Soe):void 0}}var GW;(function(e){e.Track="track"})(GW||(GW={}));function BCe(e){if(e!==void 0)return e===null?null:{anonymousId:e.anonymousId,event:e.event,properties:e.properties,type:e.type}}function MCe(e){if(e!==void 0)return e===null?null:{events:e.events.map(BCe)}}function DCe(e){if(e!==void 0)return e===null?null:{keyShareIds:e.keyShareIds}}function jCe(e){return $Ce(e)}function $Ce(e,t){return e==null?e:{id:e.id,backupLocation:e.backupLocation,passwordEncrypted:e.passwordEncrypted,externalKeyShareId:oe(e,"externalKeyShareId")?e.externalKeyShareId:void 0,encryptedAccountCredential:oe(e,"encryptedAccountCredential")?e.encryptedAccountCredential:void 0}}function LCe(e){return UCe(e)}function UCe(e,t){return e==null?e:{keyShares:e.keyShares.map(jCe)}}function FCe(e){return WCe(e)}function WCe(e,t){return e==null?e:{publicKey:e.publicKey,expiresAt:e.expiresAt}}function qCe(e){if(e!==void 0)return e===null?null:{publicKey:e.publicKey,prevSessionKeySignature:e.prevSessionKeySignature,walletId:e.walletId}}function zCe(e){if(e!==void 0)return e===null?null:{clientKeygenIds:e.clientKeygenIds,oldThresholdSignatureScheme:e.oldThresholdSignatureScheme,newThresholdSignatureScheme:e.newThresholdSignatureScheme,delegateToProjectEnvironment:e.delegateToProjectEnvironment,revokeDelegation:e.revokeDelegation}}function VCe(e){if(e!==void 0)return e===null?null:{url:e.url}}function KCe(e){return HCe(e)}function HCe(e,t){return e==null?e:{isMalicious:oe(e,"isMalicious")?e.isMalicious:void 0}}function GCe(e){if(e!==void 0)return e===null?null:{version:e.version}}function JCe(e){if(e!==void 0)return e===null?null:{version:e.version}}function ZCe(e){if(e!==void 0)return e===null?null:{react:JCe(e.react),nextjs:GCe(e.nextjs)}}function YCe(e){if(e!==void 0)return e===null?null:{dynamicContextProps:e.dynamicContextProps,dynamicWagmiSettings:e.dynamicWagmiSettings,frameworkSettings:ZCe(e.frameworkSettings)}}function XCe(e){if(e!==void 0)return e===null?null:{address:e.address,chainId:e.chainId,nonce:e.nonce}}function QCe(e){if(e!==void 0)return e===null?null:{raw:e.raw}}function e5e(e){if(e!==void 0)return e===null?null:{to:e.to,chainId:e.chainId,data:e.data,gas:e.gas,gasPrice:e.gasPrice,maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,nonce:e.nonce,value:e.value}}function t5e(e){if(e!==void 0)return e===null?null:{name:e.name,version:e.version,chainId:e.chainId,verifyingContract:e.verifyingContract}}function n5e(e){if(e!==void 0)return e===null?null:{domain:t5e(e.domain),message:e.message,primaryType:e.primaryType,types:e.types}}function r5e(e){if(e!==void 0)return e===null?null:{address:e.address,chainId:e.chainId,nonce:e.nonce,r:e.r,s:e.s,v:e.v,yParity:e.yParity}}function i5e(e){if(e!==void 0)return e===null?null:{authorization:r5e(e.authorization),callData:e.callData,callGasLimit:e.callGasLimit,factory:e.factory,factoryData:e.factoryData,maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,nonce:e.nonce,paymaster:e.paymaster,paymasterData:e.paymasterData,paymasterPostOpGasLimit:e.paymasterPostOpGasLimit,paymasterVerificationGasLimit:e.paymasterVerificationGasLimit,preVerificationGas:e.preVerificationGas,sender:e.sender,signature:e.signature,verificationGasLimit:e.verificationGasLimit}}function o5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,entryPoint:e.entryPoint,operation:i5e(e.operation)}}function s5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,serializedTransaction:e.serializedTransaction}}function a5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,method:e.method,serializedTransactions:e.serializedTransactions}}function l5e(e){if(e!==void 0)return e===null?null:{evmTransaction:e5e(e.evmTransaction),evmUserOperation:o5e(e.evmUserOperation),svmTransaction:a5e(e.svmTransaction),suiTransaction:s5e(e.suiTransaction),eip7702Auth:XCe(e.eip7702Auth),evmMessage:QCe(e.evmMessage),svmMessage:e.svmMessage,suiMessage:e.suiMessage,evmTypedData:n5e(e.evmTypedData),domain:e.domain}}function c5e(e){if(e!==void 0)return e===null?null:{addressType:e.addressType,network:e.network}}function d5e(e){if(e!==void 0)return e===null?null:{message:e.message,isFormatted:e.isFormatted,roomId:e.roomId,context:l5e(e.context),bitcoinConfig:c5e(e.bitcoinConfig)}}function u5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,data:e.data,from:e.from,to:e.to,value:e.value,domain:e.domain}}function f5e(e){if(e!==void 0)return e===null?null:{chain:e.chain,transactions:e.transactions,accountAddress:e.accountAddress,domain:e.domain,method:e.method}}function Coe(e){return h5e(e)}function h5e(e,t){return e==null?e:{address:e.address,chainId:oe(e,"chainId")?e.chainId:void 0,chainName:e.chainName,decimals:e.decimals,logoUrl:e.logoUrl,name:e.name,symbol:e.symbol,type:e.type}}function JW(e){return p5e(e)}function p5e(e,t){return e==null?e:{rawValue:oe(e,"rawValue")?e.rawValue:void 0,summary:oe(e,"summary")?e.summary:void 0,usdPrice:oe(e,"usdPrice")?e.usdPrice:void 0,value:oe(e,"value")?e.value:void 0}}function ZW(e){return m5e(e)}function m5e(e,t){return e==null?e:{asset:Coe(e.asset),transferIn:e.transferIn.map(JW),transferOut:e.transferOut.map(JW)}}function g5e(e){return y5e(e)}function y5e(e,t){return e==null?e:{amount:e.amount,spenderAlias:oe(e,"spenderAlias")?e.spenderAlias:void 0,usdValue:oe(e,"usdValue")?e.usdValue:void 0}}function v5e(e){return w5e(e)}function w5e(e,t){return e==null?e:{asset:Coe(e.asset),spenderToInfo:Uxe(e.spenderToInfo,g5e)}}function b5e(e){return _5e(e)}function _5e(e,t){return e==null?e:{result:e.result,description:oe(e,"description")?e.description:void 0,reason:e.reason,classification:oe(e,"classification")?e.classification:void 0}}function x5e(e){return k5e(e)}function k5e(e,t){return e==null?e:{nativeTokenUsdPrice:oe(e,"nativeTokenUsdPrice")?e.nativeTokenUsdPrice:void 0}}function D5(e){return S5e(e)}function S5e(e,t){return e==null?e:{inAssets:e.inAssets.map(ZW),outAssets:e.outAssets.map(ZW),counterparties:oe(e,"counterparties")?e.counterparties:void 0,priceData:x5e(e.priceData),showTotalFiat:e.showTotalFiat,validation:oe(e,"validation")?b5e(e.validation):void 0,assetExposures:oe(e,"assetExposures")?e.assetExposures.map(v5e):void 0}}function I5e(e){if(e!==void 0)return e===null?null:{chainId:e.chainId,operation:e.operation,entryPoint:e.entryPoint,domain:e.domain,value:e.value}}function E5e(e){if(e!==void 0)return e===null?null:{phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber,isoCountryCode:e.isoCountryCode,captchaToken:e.captchaToken}}function pO(e){return C5e(e)}function C5e(e,t){return e==null?e:{verificationUUID:e.verificationUUID,phoneNumber:e.phoneNumber,phoneCountryCode:e.phoneCountryCode,isoCountryCode:e.isoCountryCode}}function A5e(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber,isoCountryCode:e.isoCountryCode,captchaToken:e.captchaToken}}function YW(e){if(e!==void 0)return e===null?null:{verificationUUID:e.verificationUUID,verificationToken:e.verificationToken,captchaToken:e.captchaToken,sessionPublicKey:e.sessionPublicKey}}function R5e(e){if(e!==void 0)return e===null?null:{transaction:e.transaction,address:e.address}}function T5e(e){return O5e(e)}function O5e(e,t){return e==null?e:{transaction:e.transaction}}var XW;(function(e){e.Okta="okta"})(XW||(XW={}));function N5e(e){if(e!==void 0)return e===null?null:{email:e.email}}var QW;(function(e){e.Otp="otp",e.Sso="sso"})(QW||(QW={}));function P5e(e){return B5e(e)}function B5e(e,t){return e==null?e:{type:e.type,provider:oe(e,"provider")?e.provider:void 0,ssoAuthUrl:oe(e,"ssoAuthUrl")?e.ssoAuthUrl:void 0,id:oe(e,"id")?e.id:void 0}}function Aoe(e){return M5e(e)}function M5e(e,t){return e==null?e:{provider:qu(e.provider),name:e.name,iconUrl:e.iconUrl,url:e.url,qrCode:oe(e,"qrCode")?e.qrCode:void 0}}function D5e(e){return j5e(e)}function j5e(e,t){return e==null?e:{offramps:oe(e,"offramps")?e.offramps.map(Aoe):void 0}}function $5e(e){return L5e(e)}function L5e(e,t){return e==null?e:{onramps:oe(e,"onramps")?e.onramps.map(Aoe):void 0}}function U5e(e){if(e!==void 0)return e===null?null:{id:e.id,firstName:e.firstName,lastName:e.lastName,hash:e.hash,photoURL:e.photoURL,username:e.username,authDate:e.authDate}}function F5e(e){if(e!==void 0)return e===null?null:{state:e.state,telegramUser:U5e(e.telegramUser)}}function W5e(e){return q5e(e)}function q5e(e,t){return e==null?e:{address:e.address,tokens:oe(e,"tokens")?e.tokens:void 0}}function z5e(e){return V5e(e)}function V5e(e,t){return e==null?e:{destinations:e.destinations.map(W5e),enforcesAddressWhitelist:e.enforcesAddressWhitelist}}function K5e(e){return H5e(e)}function H5e(e,t){return e==null?e:{curve:e.curve,pathFormat:e.pathFormat,path:e.path,addressFormat:e.addressFormat}}function G5e(e){return J5e(e)}function J5e(e,t){return e==null?e:{walletId:e.walletId,accounts:e.accounts.map(K5e)}}function Z5e(e){return Y5e(e)}function Y5e(e,t){return e==null?e:{organizationId:e.organizationId,parameters:G5e(e.parameters),timestampMs:e.timestampMs,type:e.type}}function X5e(e){return Q5e(e)}function Q5e(e,t){return e==null?e:{walletIds:e.walletIds,deleteWithoutExport:oe(e,"deleteWithoutExport")?e.deleteWithoutExport:void 0}}function eq(e){return eAe(e)}function eAe(e,t){return e==null?e:{organizationId:e.organizationId,parameters:X5e(e.parameters),timestampMs:e.timestampMs,type:e.type}}var zb;(function(e){e.EmailCannotBeNull="email_cannot_be_null",e.ExchangeCannotBeEnabled="exchange_cannot_be_enabled",e.TransferAmountTooSmall="transfer_amount_too_small",e.TransferAddressNotWhitelisted="transfer_address_not_whitelisted",e.InvalidScopes="invalid_scopes",e.UnknownTransferError="unknown_transfer_error",e.TransferMfaRequired="transfer_mfa_required",e.TransferMfaFailed="transfer_mfa_failed",e.InvalidTransferFunds="invalid_transfer_funds",e.InvalidTransferCurrency="invalid_transfer_currency",e.InvalidExchangeProvider="invalid_exchange_provider",e.InvalidTransferNetwork="invalid_transfer_network",e.InvalidEmail="invalid_email",e.EmailAlreadyExists="email_already_exists",e.AllowlistAlreadyExists="allowlist_already_exists",e.AllowlistEntryAlreadyExists="allowlist_entry_already_exists",e.ReassignWalletError="reassign_wallet_error",e.ReassignWalletConfirm="reassign_wallet_confirm",e.MembersCannotDeleteThemself="members_cannot_delete_themself",e.UsernameAlreadyExists="username_already_exists",e.WrongEmailVerificationToken="wrong_email_verification_token",e.WrongSmsVerificationToken="wrong_sms_verification_token",e.InvalidEmailVerification="invalid_email_verification",e.InvalidSmsVerification="invalid_sms_verification",e.InvalidVerification="invalid_verification",e.InvalidPosition="invalid_position",e.TooManySmsVerificationAttempts="too_many_sms_verification_attempts",e.TooManyEmailVerificationAttempts="too_many_email_verification_attempts",e.TooManyVerificationAttempts="too_many_verification_attempts",e.OrganizationNameAlreadyExists="organization_name_already_exists",e.ProjectNameAlreadyExists="project_name_already_exists",e.WalletNotDeployed="wallet_not_deployed",e.EmailVerificationRequired="email_verification_required",e.PhoneVerificationRequired="phone_verification_required",e.InviteAddressRequired="invite_address_required",e.ProviderNotAvailable="provider_not_available",e.ForbiddenUnlinkRequest="forbidden_unlink_request",e.InvalidUnlinkRequest="invalid_unlink_request",e.TooManyApiTokens="too_many_api_tokens",e.LockTimeout="lock_timeout",e.LockTooManyAttempts="lock_too_many_attempts",e.NftTokenGatingNotSupportedForChain="nft_token_gating_not_supported_for_chain",e.EmptyChainName="empty_chain_name",e.NoEnabledEmailProvider="no_enabled_email_provider",e.NoEnabledSmsProvider="no_enabled_sms_provider",e.InvalidKeyExportUrl="invalid_key_export_url",e.InvalidDynamicProps="invalid_dynamic_props",e.TooManyRequests="too_many_requests",e.TooManyOrganizationsForUser="too_many_organizations_for_user",e.TooManyProjectsForOrganization="too_many_projects_for_organization",e.EmailAssociatedWithDifferentProvider="email_associated_with_different_provider",e.UserHasAlreadyAccountWithEmail="user_has_already_account_with_email",e.UserHasAlreadyAccountWithPhoneNumber="user_has_already_account_with_phone_number",e.OtherVerifyFailure="other_verify_failure",e.EmailTiedToEmbeddedWallet="email_tied_to_embedded_wallet",e.InvalidInvite="invalid_invite",e.SocialAccountAlreadyExists="social_account_already_exists",e.InvalidEmailAddress="invalid_email_address",e.InvalidGate="invalid_gate",e.ConflictingEmbeddedWalletProviders="conflicting_embedded_wallet_providers",e.InvalidUser="invalid_user",e.InvalidCorsOrigins="invalid_cors_origins",e.InvalidMobileDeeplinkUrls="invalid_mobile_deeplink_urls",e.UnauthorizedMobileDeeplinkUrl="unauthorized_mobile_deeplink_url",e.InvalidPrivateKeyFormat="invalid_private_key_format",e.InvalidEmbeddedWalletSettings="invalid_embedded_wallet_settings",e.WalletNotSupportPasskey="wallet_not_support_passkey",e.RecoveryEmailUnavailableOrInvalid="recovery_email_unavailable_or_invalid",e.ConnectError="connect_error",e.InvalidWalletName="invalid_wallet_name",e.InvalidWalletAddress="invalid_wallet_address",e.EmailRecoveryDisabled="email_recovery_disabled",e.NoCompatibleWalletServiceEnabled="no_compatible_wallet_service_enabled",e.MissingAaProjectId="missing_aa_project_id",e.LinkedEmbeddedWallet="linked_embedded_wallet",e.InvalidMpcEnvironment="invalid_mpc_environment",e.InvalidRegex="invalid_regex",e.RepeatedOptions="repeated_options",e.MissingPhoneNumberOrEmail="missing_phone_number_or_email",e.DuplicateExists="duplicate_exists",e.MfaDeviceNotFound="mfa_device_not_found",e.MfaInvalidCode="mfa_invalid_code",e.MfaInvalidRequest="mfa_invalid_request",e.InvalidPhone="invalid_phone",e.GateExists="gate_exists",e.InvalidEmbeddedWalletChainsConfiguration="invalid_embedded_wallet_chains_configuration",e.MergeAccountsConfirmation="merge_accounts_confirmation",e.MergeAccountsInvalid="merge_accounts_invalid",e.InvalidWalletId="invalid_wallet_id",e.UnableToFetchBalances="unable_to_fetch_balances",e.CannotSwitchToUnique="cannot_switch_to_unique",e.CustomFieldDataNotUnique="custom_field_data_not_unique",e.MetadataSizeExceeded="metadata_size_exceeded",e.InvalidCustomHostname="invalid_custom_hostname",e.BlockedUserCannotTransferWallet="blocked_user_cannot_transfer_wallet",e.FeatureNotEnabledInSuborg="feature_not_enabled_in_suborg",e.InvalidUsername="invalid_username",e.InvalidExternalAuth="invalid_external_auth",e.InvalidChainAddressMatch="invalid_chain_address_match",e.InvalidUpdate="invalid_update",e.CannotDeleteLastProject="cannot_delete_last_project",e.NoHdWalletFound="no_hd_wallet_found",e.WalletAccountExistsForChain="wallet_account_exists_for_chain",e.TooManyEmbeddedWalletsForUser="too_many_embedded_wallets_for_user",e.TooManyEmbeddedWalletsPerChainForUser="too_many_embedded_wallets_per_chain_for_user",e.InvalidSessionPublicKey="invalid_session_public_key",e.CustomFieldNotUnique="custom_field_not_unique",e.InvalidAaProjectConfiguration="invalid_aa_project_configuration",e.NoV1EmbeddedWalletFound="no_v1_embedded_wallet_found",e.EmbeddedWalletAddressAlreadyLinked="embedded_wallet_address_already_linked",e.KeyShareAlreadyBackedUp="key_share_already_backed_up",e.InvalidKeySharesLength="invalid_key_shares_length",e.WalletServiceConnectionError="wallet_service_connection_error",e.NoGlobalWalletFound="no_global_wallet_found",e.InvalidMetadataValue="invalid_metadata_value",e.MaxPasskeysPerUser="max_passkeys_per_user",e.PasskeyNotFound="passkey_not_found",e.CannotDeletePasskeyLinkedToEmbeddedWallet="cannot_delete_passkey_linked_to_embedded_wallet",e.CannotDeleteLastSignInVerifiedCredential="cannot_delete_last_sign_in_verified_credential"})(zb||(zb={}));function tAe(e){if(e!==void 0)return e===null?null:{turnkeySignedRequest:gM(e.turnkeySignedRequest)}}function j5(e){return nAe(e)}function nAe(e,t){return e==null?e:{mfaToken:oe(e,"mfaToken")?e.mfaToken:void 0,jwt:oe(e,"jwt")?e.jwt:void 0,user:iS(e.user),minifiedJwt:oe(e,"minifiedJwt")?e.minifiedJwt:void 0,expiresAt:e.expiresAt,nextView:g3e(e.nextView),emailVerification:oe(e,"emailVerification")?uO(e.emailVerification):void 0,smsVerification:oe(e,"smsVerification")?pO(e.smsVerification):void 0}}function rAe(e){if(e!==void 0)return e===null?null:{id:e.id,alias:e.alias}}function iAe(e){if(e!==void 0)return e===null?null:{hasDeniedDelegatedAccess:e.hasDeniedDelegatedAccess}}function oAe(e){return sAe(e)}function sAe(e,t){return e==null?e:{walletId:e.walletId,settings:yoe(e.settings)}}function aAe(e){if(e!==void 0)return e===null?null:{sessionPublicKey:e.sessionPublicKey}}function lAe(e){if(e!==void 0)return e===null?null:{email:e.email,alias:e.alias,firstName:e.firstName,lastName:e.lastName,jobTitle:e.jobTitle,phoneNumber:e.phoneNumber,tShirtSize:e.tShirtSize,team:e.team,policiesConsent:e.policiesConsent,country:e.country,username:e.username,captchaToken:e.captchaToken,metadata:e.metadata,mfaBackupCodeAcknowledgement:e.mfaBackupCodeAcknowledgement,btcWallet:e.btcWallet,kdaWallet:e.kdaWallet,ltcWallet:e.ltcWallet,ckbWallet:e.ckbWallet,kasWallet:e.kasWallet,dogeWallet:e.dogeWallet,emailNotification:e.emailNotification,discordNotification:e.discordNotification,newsletterNotification:e.newsletterNotification}}var mO;(function(e){e.Email="email",e.Username="username",e.NameServiceSubdomainHandle="name-service-subdomain-handle"})(mO||(mO={}));function cAe(e){return dAe(e)}function dAe(e,t){return e==null?e:{field:e.field,value:e.value,available:e.available}}function uAe(e){return fAe(e)}function fAe(e,t){return e==null?e:{accessToken:e.accessToken}}function hAe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId}}function pAe(e){return mAe(e)}function mAe(e,t){return e==null?e:{provider:oe(e,"provider")?qu(e.provider):void 0,accessToken:oe(e,"accessToken")?e.accessToken:void 0,didToken:oe(e,"didToken")?e.didToken:void 0}}function gAe(e){if(e!==void 0)return e===null?null:{provider:e.provider,accessToken:e.accessToken,didToken:e.didToken}}function Roe(e){return yAe(e)}function yAe(e,t){return e==null?e:{oauth:oe(e,"oauth")?pAe(e.oauth):void 0,signedMessage:e.signedMessage,messageToSign:e.messageToSign,publicWalletAddress:e.publicWalletAddress,chain:ZI(e.chain),walletName:e.walletName,walletProvider:poe(e.walletProvider),skipEmptyAccountCheck:oe(e,"skipEmptyAccountCheck")?e.skipEmptyAccountCheck:void 0,captchaToken:oe(e,"captchaToken")?e.captchaToken:void 0,network:oe(e,"network")?e.network:void 0,additionalWalletAddresses:oe(e,"additionalWalletAddresses")?e.additionalWalletAddresses.map(goe):void 0,backup:oe(e,"backup")?e.backup:void 0,password:oe(e,"password")?e.password:void 0,passwordSource:oe(e,"passwordSource")?mM(e.passwordSource):void 0,sessionPublicKey:oe(e,"sessionPublicKey")?e.sessionPublicKey:void 0}}function $5(e){if(e!==void 0)return e===null?null:{oauth:gAe(e.oauth),signedMessage:e.signedMessage,messageToSign:e.messageToSign,publicWalletAddress:e.publicWalletAddress,chain:e.chain,walletName:e.walletName,walletProvider:e.walletProvider,skipEmptyAccountCheck:e.skipEmptyAccountCheck,captchaToken:e.captchaToken,network:e.network,additionalWalletAddresses:e.additionalWalletAddresses===void 0?void 0:e.additionalWalletAddresses.map(G2e),backup:e.backup,password:e.password,passwordSource:e.passwordSource,sessionPublicKey:e.sessionPublicKey}}function jr(e){return vAe(e)}function vAe(e,t){return e==null?e:{mfaToken:oe(e,"mfaToken")?e.mfaToken:void 0,jwt:oe(e,"jwt")?e.jwt:void 0,user:iS(e.user),minifiedJwt:oe(e,"minifiedJwt")?e.minifiedJwt:void 0,expiresAt:e.expiresAt}}function wAe(e){if(e!==void 0)return e===null?null:{walletId:e.walletId,verifiedCrentialId:e.verifiedCrentialId,verifiedCredentialId:e.verifiedCredentialId,primaryWalletId:e.primaryWalletId}}var tq;(function(e){e.Sent="sent",e.Receive="receive",e.Swap="swap"})(tq||(tq={}));function bAe(e){return _Ae(e)}function _Ae(e,t){return e}function xAe(e){return kAe(e)}function kAe(e,t){return e==null?e:{name:oe(e,"name")?e.name:void 0,symbol:oe(e,"symbol")?e.symbol:void 0,decimals:oe(e,"decimals")?e.decimals:void 0,imageUri:oe(e,"imageUri")?e.imageUri:void 0}}function SAe(e){return IAe(e)}function IAe(e,t){return e==null?e:{tokenAddress:oe(e,"tokenAddress")?e.tokenAddress:void 0,fromAddress:e.fromAddress,toAddress:e.toAddress,amount:e.amount,metadata:oe(e,"metadata")?xAe(e.metadata):void 0}}function EAe(e){return CAe(e)}function CAe(e,t){return e==null?e:{transactionHash:e.transactionHash,blockNumber:e.blockNumber,transactionTimestamp:new Date(e.transactionTimestamp),blockHash:e.blockHash,blockExplorerUrls:e.blockExplorerUrls,fromAddress:e.fromAddress,toAddress:e.toAddress,labels:e.labels.map(bAe),assetTransfers:e.assetTransfers.map(SAe),chainName:ZI(e.chainName),networkId:e.networkId}}function AAe(e){return RAe(e)}function RAe(e,t){return e==null?e:{transactions:e.transactions.map(EAe),nextOffset:oe(e,"nextOffset")?e.nextOffset:void 0}}class Toe extends Lxe{authMfaEmailDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaEmailDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/email".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaEmailDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaEmailDeviceOptionsRaw(t,n)})}authMfaPasskeyDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaPasskeyDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaPasskeyDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaPasskeyDeviceOptionsRaw(t,n)})}authMfaRecoveryRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaRecovery.");if(t.mFAAuthRecoveryDevicePostRequest===null||t.mFAAuthRecoveryDevicePostRequest===void 0)throw new le("mFAAuthRecoveryDevicePostRequest","Required parameter requestParameters.mFAAuthRecoveryDevicePostRequest was null or undefined when calling authMfaRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:_Ie(t.mFAAuthRecoveryDevicePostRequest)},n);return new at(o,s=>jr(s))})}authMfaRecovery(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authMfaRecoveryRaw(t,n)).value()})}authMfaRecoveryOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaRecoveryOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaRecoveryOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaRecoveryOptionsRaw(t,n)})}authMfaTotpDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaTotpDevice.");if(t.mFAAuthTotpDevicePostRequest===null||t.mFAAuthTotpDevicePostRequest===void 0)throw new le("mFAAuthTotpDevicePostRequest","Required parameter requestParameters.mFAAuthTotpDevicePostRequest was null or undefined when calling authMfaTotpDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:xIe(t.mFAAuthTotpDevicePostRequest)},n);return new at(o,s=>jr(s))})}authMfaTotpDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authMfaTotpDeviceRaw(t,n)).value()})}authMfaTotpDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authMfaTotpDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authMfaTotpDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authMfaTotpDeviceOptionsRaw(t,n)})}authenticateMfaEmailRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authenticateMfaEmail.");if(t.emailVerificationMfaRequest===null||t.emailVerificationMfaRequest===void 0)throw new le("emailVerificationMfaRequest","Required parameter requestParameters.emailVerificationMfaRequest was null or undefined when calling authenticateMfaEmail.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/email".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:L2e(t.emailVerificationMfaRequest)},n);return new at(o,s=>jr(s))})}authenticateMfaEmail(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authenticateMfaEmailRaw(t,n)).value()})}authenticateMfaPasskeyDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authenticateMfaPasskeyDevice.");if(t.passkeyAuthRequest===null||t.passkeyAuthRequest===void 0)throw new le("passkeyAuthRequest","Required parameter requestParameters.passkeyAuthRequest was null or undefined when calling authenticateMfaPasskeyDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/auth/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:UW(t.passkeyAuthRequest)},n);return new at(o,s=>jr(s))})}authenticateMfaPasskeyDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.authenticateMfaPasskeyDeviceRaw(t,n)).value()})}authenticatePasskeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling authenticatePasskeyOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}authenticatePasskeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.authenticatePasskeyOptionsRaw(t,n)})}backupKeySharesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeyShares.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeyShares.");if(t.backupMultipleClientKeySharesRequest===null||t.backupMultipleClientKeySharesRequest===void 0)throw new le("backupMultipleClientKeySharesRequest","Required parameter requestParameters.backupMultipleClientKeySharesRequest was null or undefined when calling backupKeyShares.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:hke(t.backupMultipleClientKeySharesRequest)},n);return new at(o,s=>rW(s))})}backupKeyShares(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesRaw(t,n)).value()})}backupKeySharesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesOptionsRaw(t,n)})}backupKeySharesToGoogleDriveRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToGoogleDrive.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToGoogleDrive.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/googleDrive".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r},n);return new at(o,s=>rW(s))})}backupKeySharesToGoogleDrive(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesToGoogleDriveRaw(t,n)).value()})}backupKeySharesToGoogleDriveOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToGoogleDriveOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToGoogleDriveOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/googleDrive".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesToGoogleDriveOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesToGoogleDriveOptionsRaw(t,n)})}backupKeySharesToLocationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocation.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocation.");if(t.backupKeySharesToLocationRequest===null||t.backupKeySharesToLocationRequest===void 0)throw new le("backupKeySharesToLocationRequest","Required parameter requestParameters.backupKeySharesToLocationRequest was null or undefined when calling backupKeySharesToLocation.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/location".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:rke(t.backupKeySharesToLocationRequest)},n);return new at(o,s=>ike(s))})}backupKeySharesToLocation(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesToLocationRaw(t,n)).value()})}backupKeySharesToLocationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocationOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/location".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesToLocationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesToLocationOptionsRaw(t,n)})}backupKeySharesToLocationsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocations.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocations.");if(t.backupKeySharesToLocationsRequest===null||t.backupKeySharesToLocationsRequest===void 0)throw new le("backupKeySharesToLocationsRequest","Required parameter requestParameters.backupKeySharesToLocationsRequest was null or undefined when calling backupKeySharesToLocations.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/locations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:lke(t.backupKeySharesToLocationsRequest)},n);return new at(o,s=>uke(s))})}backupKeySharesToLocations(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.backupKeySharesToLocationsRaw(t,n)).value()})}backupKeySharesToLocationsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling backupKeySharesToLocationsOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling backupKeySharesToLocationsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/backup/locations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}backupKeySharesToLocationsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.backupKeySharesToLocationsOptionsRaw(t,n)})}cbOauthRedirectRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling cbOauthRedirect.");const r={};t.code!==void 0&&(r.code=t.code),t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.authuser!==void 0&&(r.authuser=t.authuser),t.prompt!==void 0&&(r.prompt=t.prompt),t.error!==void 0&&(r.error=t.error);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/cbOauthRedirectUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new fw(o)})}cbOauthRedirect(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.cbOauthRedirectRaw(t,n)).value()})}cbOauthRedirectOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling cbOauthRedirectOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/cbOauthRedirectUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}cbOauthRedirectOptions(t,n){return te(this,void 0,void 0,function*(){yield this.cbOauthRedirectOptionsRaw(t,n)})}checkSsoProviderRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling checkSsoProvider.");if(t.ssoProviderCheckRequest===null||t.ssoProviderCheckRequest===void 0)throw new le("ssoProviderCheckRequest","Required parameter requestParameters.ssoProviderCheckRequest was null or undefined when calling checkSsoProvider.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/ssoProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:N5e(t.ssoProviderCheckRequest)},n);return new at(o,s=>P5e(s))})}checkSsoProvider(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.checkSsoProviderRaw(t,n)).value()})}claimEmbeddedWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling claimEmbeddedWallet.");if(t.embeddedWalletPasscodeClaimRequest===null||t.embeddedWalletPasscodeClaimRequest===void 0)throw new le("embeddedWalletPasscodeClaimRequest","Required parameter requestParameters.embeddedWalletPasscodeClaimRequest was null or undefined when calling claimEmbeddedWallet.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode/claim".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:q2e(t.embeddedWalletPasscodeClaimRequest)},n);return new at(o,s=>jr(s))})}claimEmbeddedWallet(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.claimEmbeddedWalletRaw(t,n)).value()})}claimEmbeddedWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling claimEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode/claim".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}claimEmbeddedWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.claimEmbeddedWalletOptionsRaw(t,n)})}coinbaseBuyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling coinbaseBuyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/buy".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}coinbaseBuyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.coinbaseBuyOptionsRaw(t,n)})}coinbaseNetworksOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling coinbaseNetworksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}coinbaseNetworksOptions(t,n){return te(this,void 0,void 0,function*(){yield this.coinbaseNetworksOptionsRaw(t,n)})}coinbaseOrdersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling coinbaseOrdersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/orders".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}coinbaseOrdersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.coinbaseOrdersOptionsRaw(t,n)})}completePasskeyRecoveryRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling completePasskeyRecovery.");if(t.completePasskeyRecoveryRequest===null||t.completePasskeyRecoveryRequest===void 0)throw new le("completePasskeyRecoveryRequest","Required parameter requestParameters.completePasskeyRecoveryRequest was null or undefined when calling completePasskeyRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:n2e(t.completePasskeyRecoveryRequest)},n);return new at(o,s=>jr(s))})}completePasskeyRecovery(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.completePasskeyRecoveryRaw(t,n)).value()})}createCoinbaseOnrampOrderRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createCoinbaseOnrampOrder.");if(t.coinbaseOnrampOrderCreateRequest===null||t.coinbaseOnrampOrderCreateRequest===void 0)throw new le("coinbaseOnrampOrderCreateRequest","Required parameter requestParameters.coinbaseOnrampOrderCreateRequest was null or undefined when calling createCoinbaseOnrampOrder.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/orders".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:Vke(t.coinbaseOnrampOrderCreateRequest)},n);return new at(o,s=>e2e(s))})}createCoinbaseOnrampOrder(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createCoinbaseOnrampOrderRaw(t,n)).value()})}createCryptoDotComPaymentRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createCryptoDotComPayment.");if(t.cryptoDotComPaymentCreateRequest===null||t.cryptoDotComPaymentCreateRequest===void 0)throw new le("cryptoDotComPaymentCreateRequest","Required parameter requestParameters.cryptoDotComPaymentCreateRequest was null or undefined when calling createCryptoDotComPayment.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/onramps/cryptoDotCom/payment".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:b2e(t.cryptoDotComPaymentCreateRequest)},n);return new at(o,s=>_2e(s))})}createCryptoDotComPayment(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createCryptoDotComPaymentRaw(t,n)).value()})}createEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmailVerification.");if(t.emailVerificationCreateRequest===null||t.emailVerificationCreateRequest===void 0)throw new le("emailVerificationCreateRequest","Required parameter requestParameters.emailVerificationCreateRequest was null or undefined when calling createEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:j2e(t.emailVerificationCreateRequest)},n);return new at(o,s=>uO(s))})}createEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createEmailVerificationRaw(t,n)).value()})}createEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createEmailVerificationOptionsRaw(t,n)})}createEmbeddedWalletsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmbeddedWallets.");if(t.createEmbeddedWalletsRequest===null||t.createEmbeddedWalletsRequest===void 0)throw new le("createEmbeddedWalletsRequest","Required parameter requestParameters.createEmbeddedWalletsRequest was null or undefined when calling createEmbeddedWallets.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:l2e(t.createEmbeddedWalletsRequest)},n);return new at(o,s=>jr(s))})}createEmbeddedWallets(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createEmbeddedWalletsRaw(t,n)).value()})}createEmbeddedWalletsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createEmbeddedWalletsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createEmbeddedWalletsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createEmbeddedWalletsOptionsRaw(t,n)})}createGlobalWalletConnectionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createGlobalWalletConnection.");if(t.globalWalletConnectionCreateRequest===null||t.globalWalletConnectionCreateRequest===void 0)throw new le("globalWalletConnectionCreateRequest","Required parameter requestParameters.globalWalletConnectionCreateRequest was null or undefined when calling createGlobalWalletConnection.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:XSe(t.globalWalletConnectionCreateRequest)},n);return new at(o,s=>jW(s))})}createGlobalWalletConnection(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createGlobalWalletConnectionRaw(t,n)).value()})}createNewRecoveryCodesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createNewRecoveryCodes.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new at(o,s=>TIe(s))})}createNewRecoveryCodes(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createNewRecoveryCodesRaw(t,n)).value()})}createRoomsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRooms.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling createRooms.");if(t.createRoomsRequest===null||t.createRoomsRequest===void 0)throw new le("createRoomsRequest","Required parameter requestParameters.createRoomsRequest was null or undefined when calling createRooms.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:u2e(t.createRoomsRequest)},n);return new at(o,s=>f2e(s))})}createRooms(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createRoomsRaw(t,n)).value()})}createRoomsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRoomsOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling createRoomsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createRoomsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createRoomsOptionsRaw(t,n)})}createRoomsWithoutWalletIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRoomsWithoutWalletId.");if(t.createRoomsWithoutWalletIdRequest===null||t.createRoomsWithoutWalletIdRequest===void 0)throw new le("createRoomsWithoutWalletIdRequest","Required parameter requestParameters.createRoomsWithoutWalletIdRequest was null or undefined when calling createRoomsWithoutWalletId.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:p2e(t.createRoomsWithoutWalletIdRequest)},n);return new at(o,s=>m2e(s))})}createRoomsWithoutWalletId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createRoomsWithoutWalletIdRaw(t,n)).value()})}createRoomsWithoutWalletIdOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createRoomsWithoutWalletIdOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/createRooms".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createRoomsWithoutWalletIdOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createRoomsWithoutWalletIdOptionsRaw(t,n)})}createSmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createSmsVerification.");if(t.smsVerificationCreateRequest===null||t.smsVerificationCreateRequest===void 0)throw new le("smsVerificationCreateRequest","Required parameter requestParameters.smsVerificationCreateRequest was null or undefined when calling createSmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:E5e(t.smsVerificationCreateRequest)},n);return new at(o,s=>pO(s))})}createSmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createSmsVerificationRaw(t,n)).value()})}createSmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createSmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createSmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createSmsVerificationOptionsRaw(t,n)})}createVisitRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createVisit.");if(t.connectRequest===null||t.connectRequest===void 0)throw new le("connectRequest","Required parameter requestParameters.connectRequest was null or undefined when calling createVisit.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/connect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:r2e(t.connectRequest)},n);return new Je(o)})}createVisit(t,n){return te(this,void 0,void 0,function*(){yield this.createVisitRaw(t,n)})}createWaasAccountRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWaasAccount.");if(t.createWaasAccountRequest===null||t.createWaasAccountRequest===void 0)throw new le("createWaasAccountRequest","Required parameter requestParameters.createWaasAccountRequest was null or undefined when calling createWaasAccount.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:y2e(t.createWaasAccountRequest)},n);return new at(o,s=>ik(s))})}createWaasAccount(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createWaasAccountRaw(t,n)).value()})}createWaasAccountOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWaasAccountOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/create".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}createWaasAccountOptions(t,n){return te(this,void 0,void 0,function*(){yield this.createWaasAccountOptionsRaw(t,n)})}createWalletAccountRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling createWalletAccount.");if(t.createWalletAccountRequest===null||t.createWalletAccountRequest===void 0)throw new le("createWalletAccountRequest","Required parameter requestParameters.createWalletAccountRequest was null or undefined when calling createWalletAccount.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:w2e(t.createWalletAccountRequest)},n);return new at(o,s=>jr(s))})}createWalletAccount(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.createWalletAccountRaw(t,n)).value()})}cryptoDotComPaymentOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling cryptoDotComPaymentOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/cryptoDotCom/payment".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}cryptoDotComPaymentOptions(t,n){return te(this,void 0,void 0,function*(){yield this.cryptoDotComPaymentOptionsRaw(t,n)})}deleteEmbeddedWalletsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deleteEmbeddedWallets.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"DELETE",headers:i,query:r,body:O2e(t.deleteEmbeddedWalletsRequest)},n);return new Je(o)})}deleteEmbeddedWallets(t,n){return te(this,void 0,void 0,function*(){yield this.deleteEmbeddedWalletsRaw(t,n)})}deleteMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deleteMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling deleteMfaDevice.");if(t.xMfaAuthToken===null||t.xMfaAuthToken===void 0)throw new le("xMfaAuthToken","Required parameter requestParameters.xMfaAuthToken was null or undefined when calling deleteMfaDevice.");const r={},i={};if(t.xMfaAuthToken!==void 0&&t.xMfaAuthToken!==null&&(i["x-mfa-auth-token"]=String(t.xMfaAuthToken)),this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"DELETE",headers:i,query:r},n);return new Je(o)})}deleteMfaDevice(t,n){return te(this,void 0,void 0,function*(){yield this.deleteMfaDeviceRaw(t,n)})}deletePasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deletePasskey.");if(t.deleteUserPasskeyRequest===null||t.deleteUserPasskeyRequest===void 0)throw new le("deleteUserPasskeyRequest","Required parameter requestParameters.deleteUserPasskeyRequest was null or undefined when calling deletePasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"DELETE",headers:i,query:r,body:N2e(t.deleteUserPasskeyRequest)},n);return new Je(o)})}deletePasskey(t,n){return te(this,void 0,void 0,function*(){yield this.deletePasskeyRaw(t,n)})}deliverDelegatedShareRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deliverDelegatedShare.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling deliverDelegatedShare.");if(t.delegatedShareDeliveryRequest===null||t.delegatedShareDeliveryRequest===void 0)throw new le("delegatedShareDeliveryRequest","Required parameter requestParameters.delegatedShareDeliveryRequest was null or undefined when calling deliverDelegatedShare.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/delegatedAccess/delivery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:A2e(t.delegatedShareDeliveryRequest)},n);return new at(o,s=>R2e(s))})}deliverDelegatedShare(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.deliverDelegatedShareRaw(t,n)).value()})}deliverDelegatedShareOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling deliverDelegatedShareOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling deliverDelegatedShareOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/delegatedAccess/delivery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}deliverDelegatedShareOptions(t,n){return te(this,void 0,void 0,function*(){yield this.deliverDelegatedShareOptionsRaw(t,n)})}disconnectGlobalWalletConnectionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling disconnectGlobalWalletConnection.");if(t.globalWalletConnectionId===null||t.globalWalletConnectionId===void 0)throw new le("globalWalletConnectionId","Required parameter requestParameters.globalWalletConnectionId was null or undefined when calling disconnectGlobalWalletConnection.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections/{globalWalletConnectionId}/disconnect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{globalWalletConnectionId}",encodeURIComponent(String(t.globalWalletConnectionId))),method:"PUT",headers:i,query:r},n);return new at(o,s=>jW(s))})}disconnectGlobalWalletConnection(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.disconnectGlobalWalletConnectionRaw(t,n)).value()})}disconnectGlobalWalletConnectionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling disconnectGlobalWalletConnectionOptions.");if(t.globalWalletConnectionId===null||t.globalWalletConnectionId===void 0)throw new le("globalWalletConnectionId","Required parameter requestParameters.globalWalletConnectionId was null or undefined when calling disconnectGlobalWalletConnectionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections/{globalWalletConnectionId}/disconnect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{globalWalletConnectionId}",encodeURIComponent(String(t.globalWalletConnectionId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}disconnectGlobalWalletConnectionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.disconnectGlobalWalletConnectionOptionsRaw(t,n)})}emailAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling emailAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/emailAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}emailAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.emailAuthOptionsRaw(t,n)})}emailProviderOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling emailProviderOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}emailProviderOptions(t,n){return te(this,void 0,void 0,function*(){yield this.emailProviderOptionsRaw(t,n)})}embeddedWalletDeleteRequestOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletDeleteRequestOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletDeleteRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}embeddedWalletDeleteRequestOptions(t,n){return te(this,void 0,void 0,function*(){yield this.embeddedWalletDeleteRequestOptionsRaw(t,n)})}embeddedWalletExportRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletExport.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletExport.");if(t.activityId===null||t.activityId===void 0)throw new le("activityId","Required parameter requestParameters.activityId was null or undefined when calling embeddedWalletExport.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/activities/{activityId}/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))).replace("{activityId}",encodeURIComponent(String(t.activityId))),method:"GET",headers:i,query:r},n);return new at(o,s=>pSe(s))})}embeddedWalletExport(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.embeddedWalletExportRaw(t,n)).value()})}embeddedWalletExportOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling embeddedWalletExportOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling embeddedWalletExportOptions.");if(t.activityId===null||t.activityId===void 0)throw new le("activityId","Required parameter requestParameters.activityId was null or undefined when calling embeddedWalletExportOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/activities/{activityId}/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))).replace("{activityId}",encodeURIComponent(String(t.activityId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}embeddedWalletExportOptions(t,n){return te(this,void 0,void 0,function*(){yield this.embeddedWalletExportOptionsRaw(t,n)})}eventsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling eventsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/events".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}eventsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.eventsOptionsRaw(t,n)})}exportPrivateKeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling exportPrivateKey.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling exportPrivateKey.");if(t.exportWaasWalletPrivateKeyRequest===null||t.exportWaasWalletPrivateKeyRequest===void 0)throw new le("exportWaasWalletPrivateKeyRequest","Required parameter requestParameters.exportWaasWalletPrivateKeyRequest was null or undefined when calling exportPrivateKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/privateKey/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:gSe(t.exportWaasWalletPrivateKeyRequest)},n);return new at(o,s=>ik(s))})}exportPrivateKey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.exportPrivateKeyRaw(t,n)).value()})}exportPrivateKeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling exportPrivateKeyOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling exportPrivateKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/privateKey/export".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}exportPrivateKeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.exportPrivateKeyOptionsRaw(t,n)})}externalAuthSigninRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthSignin.");if(t.externalAuthSigninRequest===null||t.externalAuthSigninRequest===void 0)throw new le("externalAuthSigninRequest","Required parameter requestParameters.externalAuthSigninRequest was null or undefined when calling externalAuthSignin.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/externalAuth/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:EW(t.externalAuthSigninRequest)},n);return new at(o,s=>jr(s))})}externalAuthSignin(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.externalAuthSigninRaw(t,n)).value()})}externalAuthSigninOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthSigninOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/externalAuth/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}externalAuthSigninOptions(t,n){return te(this,void 0,void 0,function*(){yield this.externalAuthSigninOptionsRaw(t,n)})}externalAuthVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthVerify.");if(t.externalAuthSigninRequest===null||t.externalAuthSigninRequest===void 0)throw new le("externalAuthSigninRequest","Required parameter requestParameters.externalAuthSigninRequest was null or undefined when calling externalAuthVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/externalAuth/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:EW(t.externalAuthSigninRequest)},n);return new Je(o)})}externalAuthVerify(t,n){return te(this,void 0,void 0,function*(){yield this.externalAuthVerifyRaw(t,n)})}externalAuthVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling externalAuthVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/externalAuth/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}externalAuthVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.externalAuthVerifyOptionsRaw(t,n)})}farcasterSignInRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/farcaster/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:RW(t.farcasterSignInRequest)},n);return new at(o,s=>jr(s))})}farcasterSignIn(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.farcasterSignInRaw(t,n)).value()})}farcasterSignInOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/farcaster/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}farcasterSignInOptions(t,n){return te(this,void 0,void 0,function*(){yield this.farcasterSignInOptionsRaw(t,n)})}farcasterVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/farcaster/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:RW(t.farcasterSignInRequest)},n);return new at(o,s=>jr(s))})}farcasterVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.farcasterVerifyRaw(t,n)).value()})}farcasterVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling farcasterVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/farcaster/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}farcasterVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.farcasterVerifyOptionsRaw(t,n)})}generateCoinbaseOnrampBuyUrlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling generateCoinbaseOnrampBuyUrl.");if(t.coinbaseOnrampGetBuyUrlRequest===null||t.coinbaseOnrampGetBuyUrlRequest===void 0)throw new le("coinbaseOnrampGetBuyUrlRequest","Required parameter requestParameters.coinbaseOnrampGetBuyUrlRequest was null or undefined when calling generateCoinbaseOnrampBuyUrl.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/buy".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:$ke(t.coinbaseOnrampGetBuyUrlRequest)},n);return new at(o,s=>Lke(s))})}generateCoinbaseOnrampBuyUrl(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.generateCoinbaseOnrampBuyUrlRaw(t,n)).value()})}getAccountBalancesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAccountBalances.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getAccountBalances.");if(t.accountAddress===null||t.accountAddress===void 0)throw new le("accountAddress","Required parameter requestParameters.accountAddress was null or undefined when calling getAccountBalances.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.accountAddress!==void 0&&(r.accountAddress=t.accountAddress),t.includePrices!==void 0&&(r.includePrices=t.includePrices),t.includeNative!==void 0&&(r.includeNative=t.includeNative),t.filterSpamTokens!==void 0&&(r.filterSpamTokens=t.filterSpamTokens),t.whitelistedContracts&&(r.whitelistedContracts=t.whitelistedContracts),t.forceRefresh!==void 0&&(r.forceRefresh=t.forceRefresh);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(koe))})}getAccountBalances(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getAccountBalancesRaw(t,n)).value()})}getAccountBalancesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAccountBalancesOptions.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getAccountBalancesOptions.");if(t.networkId===null||t.networkId===void 0)throw new le("networkId","Required parameter requestParameters.networkId was null or undefined when calling getAccountBalancesOptions.");if(t.accountAddress===null||t.accountAddress===void 0)throw new le("accountAddress","Required parameter requestParameters.accountAddress was null or undefined when calling getAccountBalancesOptions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.accountAddress!==void 0&&(r.accountAddress=t.accountAddress),t.transactionHash!==void 0&&(r.transactionHash=t.transactionHash);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getAccountBalancesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getAccountBalancesOptionsRaw(t,n)})}getAuthTokenRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthToken.");const r={};t.type!==void 0&&(r.type=t.type);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/authToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>F2e(s))})}getAuthToken(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getAuthTokenRaw(t,n)).value()})}getAuthTokenOptsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthTokenOpts.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/authToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getAuthTokenOpts(t,n){return te(this,void 0,void 0,function*(){yield this.getAuthTokenOptsRaw(t,n)})}getAuthenticatedUserRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getAuthenticatedUser.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>iS(s))})}getAuthenticatedUser(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getAuthenticatedUserRaw(t,n)).value()})}getBackupTokenRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getBackupToken.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/keyShares/backup/token".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>_Se(s))})}getBackupToken(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getBackupTokenRaw(t,n)).value()})}getBackupTokenOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getBackupTokenOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/keyShares/backup/token".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getBackupTokenOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getBackupTokenOptionsRaw(t,n)})}getCoinbaseSupportedNetworksRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCoinbaseSupportedNetworks.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps/coinbase/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o)})}getCoinbaseSupportedNetworks(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getCoinbaseSupportedNetworksRaw(t,n)).value()})}getCreateWalletAccountRequestRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCreateWalletAccountRequest.");if(t.chain===null||t.chain===void 0)throw new le("chain","Required parameter requestParameters.chain was null or undefined when calling getCreateWalletAccountRequest.");const r={};t.chain!==void 0&&(r.chain=t.chain);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts/createRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>Z5e(s))})}getCreateWalletAccountRequest(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getCreateWalletAccountRequestRaw(t,n)).value()})}getCurrencyExchangeRatesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCurrencyExchangeRates.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchangeRates".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(I2e))})}getCurrencyExchangeRates(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getCurrencyExchangeRatesRaw(t,n)).value()})}getCurrencyExchangeRatesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getCurrencyExchangeRatesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchangeRates".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getCurrencyExchangeRatesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getCurrencyExchangeRatesOptionsRaw(t,n)})}getEmailProviderRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmailProvider.");if(t.email===null||t.email===void 0)throw new le("email","Required parameter requestParameters.email was null or undefined when calling getEmailProvider.");const r={};t.email!==void 0&&(r.email=t.email);const i={},o=yield this.request({path:"/sdk/{environmentId}/emailProvider".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>M2e(s))})}getEmailProvider(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmailProviderRaw(t,n)).value()})}getEmbeddedWalletBackupOptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletBackupOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getEmbeddedWalletBackupOption(t,n){return te(this,void 0,void 0,function*(){yield this.getEmbeddedWalletBackupOptionRaw(t,n)})}getEmbeddedWalletBackupsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletBackups.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/backup".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>SW(s))})}getEmbeddedWalletBackups(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletBackupsRaw(t,n)).value()})}getEmbeddedWalletPasscodeRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletPasscode.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>SW(s))})}getEmbeddedWalletPasscode(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletPasscodeRaw(t,n)).value()})}getEmbeddedWalletPasscodeOptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletPasscodeOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passcode".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getEmbeddedWalletPasscodeOption(t,n){return te(this,void 0,void 0,function*(){yield this.getEmbeddedWalletPasscodeOptionRaw(t,n)})}getEmbeddedWalletsDeleteRequestRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEmbeddedWalletsDeleteRequest.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling getEmbeddedWalletsDeleteRequest.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"GET",headers:i,query:r},n);return new at(o,s=>eq(s))})}getEmbeddedWalletsDeleteRequest(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEmbeddedWalletsDeleteRequestRaw(t,n)).value()})}getEndUserOauthAccessTokenRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEndUserOauthAccessToken.");if(t.oauthAccountId===null||t.oauthAccountId===void 0)throw new le("oauthAccountId","Required parameter requestParameters.oauthAccountId was null or undefined when calling getEndUserOauthAccessToken.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/oauthAccounts/{oauthAccountId}/accessToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{oauthAccountId}",encodeURIComponent(String(t.oauthAccountId))),method:"GET",headers:i,query:r},n);return new at(o,s=>uAe(s))})}getEndUserOauthAccessToken(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEndUserOauthAccessTokenRaw(t,n)).value()})}getEndUserOauthAccessTokenOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEndUserOauthAccessTokenOptions.");if(t.oauthAccountId===null||t.oauthAccountId===void 0)throw new le("oauthAccountId","Required parameter requestParameters.oauthAccountId was null or undefined when calling getEndUserOauthAccessTokenOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/oauthAccounts/{oauthAccountId}/accessToken".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{oauthAccountId}",encodeURIComponent(String(t.oauthAccountId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getEndUserOauthAccessTokenOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getEndUserOauthAccessTokenOptionsRaw(t,n)})}getEnvironmentSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getEnvironmentSettings.");const r={};t.sdkVersion!==void 0&&(r.sdkVersion=t.sdkVersion);const i={},o=yield this.request({path:"/sdk/{environmentId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>NCe(s))})}getEnvironmentSettings(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getEnvironmentSettingsRaw(t,n)).value()})}getExchangeTransactionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransactions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransactions.");const r={};t.accountId!==void 0&&(r.accountId=t.accountId);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transactions".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(dSe))})}getExchangeTransactions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getExchangeTransactionsRaw(t,n)).value()})}getExchangeTransactionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransactionsOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransactionsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transactions".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getExchangeTransactionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getExchangeTransactionsOptionsRaw(t,n)})}getExchangeTransferDestinationsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransferDestinations.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransferDestinations.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transfer/destinations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"GET",headers:i,query:r},n);return new at(o,s=>z5e(s))})}getExchangeTransferDestinations(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getExchangeTransferDestinationsRaw(t,n)).value()})}getExchangeTransferDestinationsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getExchangeTransferDestinationsOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getExchangeTransferDestinationsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/transfer/destinations".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getExchangeTransferDestinationsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getExchangeTransferDestinationsOptionsRaw(t,n)})}getGlobalWalletsSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getGlobalWalletsSettings.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>tIe(s))})}getGlobalWalletsSettings(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getGlobalWalletsSettingsRaw(t,n)).value()})}getHealthcheckRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getHealthcheck.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/healthcheck".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>oIe(s))})}getHealthcheck(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getHealthcheckRaw(t,n)).value()})}getHealthcheckOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getHealthcheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/healthcheck".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getHealthcheckOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getHealthcheckOptionsRaw(t,n)})}getJwksByEnvironmentIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getJwksByEnvironmentId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>LW(s))})}getJwksByEnvironmentId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getJwksByEnvironmentIdRaw(t,n)).value()})}getJwksJsonByEnvironmentIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getJwksJsonByEnvironmentId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks.json".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>LW(s))})}getJwksJsonByEnvironmentId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getJwksJsonByEnvironmentIdRaw(t,n)).value()})}getMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling getMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"GET",headers:i,query:r},n);return new at(o,s=>aS(s))})}getMfaDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getMfaDeviceRaw(t,n)).value()})}getMfaDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getMfaDeviceOptions.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling getMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getMfaDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getMfaDeviceOptionsRaw(t,n)})}getNetworksConfigurationByEnvIdRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getNetworksConfigurationByEnvId.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(Soe))})}getNetworksConfigurationByEnvId(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getNetworksConfigurationByEnvIdRaw(t,n)).value()})}getNonceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getNonce.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/nonce".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>v3e(s))})}getNonce(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getNonceRaw(t,n)).value()})}getPasskeyAuthenticationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyAuthenticationOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/authenticate".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>NW(s))})}getPasskeyAuthenticationOptions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getPasskeyAuthenticationOptionsRaw(t,n)).value()})}getPasskeyAuthenticationOptionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyAuthenticationOptionsOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/authenticate".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getPasskeyAuthenticationOptionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getPasskeyAuthenticationOptionsOptionsRaw(t,n)})}getPasskeyAuthenticationSigninOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyAuthenticationSigninOptions.");const r={};t.relatedOriginRpId!==void 0&&(r.relatedOriginRpId=t.relatedOriginRpId);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>NW(s))})}getPasskeyAuthenticationSigninOptions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getPasskeyAuthenticationSigninOptionsRaw(t,n)).value()})}getPasskeyRegistrationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyRegistrationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/register".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>WSe(s))})}getPasskeyRegistrationOptions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getPasskeyRegistrationOptionsRaw(t,n)).value()})}getPasskeyRegistrationOptionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getPasskeyRegistrationOptionsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/register".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getPasskeyRegistrationOptionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getPasskeyRegistrationOptionsOptionsRaw(t,n)})}getRecoveryCodesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getRecoveryCodes.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>SIe(s))})}getRecoveryCodes(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getRecoveryCodesRaw(t,n)).value()})}getSupportedOfframpsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getSupportedOfframps.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getSupportedOfframps.");if(t.chain===null||t.chain===void 0)throw new le("chain","Required parameter requestParameters.chain was null or undefined when calling getSupportedOfframps.");const r={};t.walletAddress!==void 0&&(r.walletAddress=t.walletAddress),t.chain!==void 0&&(r.chain=t.chain),t.networkId!==void 0&&(r.networkId=t.networkId),t.token!==void 0&&(r.token=t.token);const i={},o=yield this.request({path:"/sdk/{environmentId}/offramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>D5e(s))})}getSupportedOfframps(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getSupportedOfframpsRaw(t,n)).value()})}getSupportedOnrampsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getSupportedOnramps.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getSupportedOnramps.");if(t.chain===null||t.chain===void 0)throw new le("chain","Required parameter requestParameters.chain was null or undefined when calling getSupportedOnramps.");const r={};t.walletAddress!==void 0&&(r.walletAddress=t.walletAddress),t.chain!==void 0&&(r.chain=t.chain),t.networkId!==void 0&&(r.networkId=t.networkId),t.token!==void 0&&(r.token=t.token),t.tokenAmount!==void 0&&(r.tokenAmount=t.tokenAmount),t.includeDisabled!==void 0&&(r.includeDisabled=t.includeDisabled),t.currency!==void 0&&(r.currency=t.currency),t.merchantName!==void 0&&(r.merchantName=t.merchantName);const i={},o=yield this.request({path:"/sdk/{environmentId}/onramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>$5e(s))})}getSupportedOnramps(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getSupportedOnrampsRaw(t,n)).value()})}getTelegramAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getTelegramAuth.");if(t.state===null||t.state===void 0)throw new le("state","Required parameter requestParameters.state was null or undefined when calling getTelegramAuth.");const r={};t.state!==void 0&&(r.state=t.state);const i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new fw(o)})}getTelegramAuth(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getTelegramAuthRaw(t,n)).value()})}getUserAccountsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserAccounts.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getUserAccounts.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.chainName!==void 0&&(r.chainName=t.chainName);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"GET",headers:i,query:r},n);return new at(o,s=>s.map(Vxe))})}getUserAccounts(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserAccountsRaw(t,n)).value()})}getUserAccountsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserAccountsOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling getUserAccountsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getUserAccountsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getUserAccountsOptionsRaw(t,n)})}getUserFieldsCheckRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserFieldsCheck.");const r={};t.filter!==void 0&&(r.filter=t.filter);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/check".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>cAe(s))})}getUserFieldsCheck(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserFieldsCheckRaw(t,n)).value()})}getUserFieldsCheckOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserFieldsCheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/check".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getUserFieldsCheckOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getUserFieldsCheckOptionsRaw(t,n)})}getUserMfaDevicesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserMfaDevices.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>EIe(s))})}getUserMfaDevices(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserMfaDevicesRaw(t,n)).value()})}getUserMfaMethodsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserMfaMethods.");const r={};t.verifiedOnly!==void 0&&(r.verifiedOnly=t.verifiedOnly);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/methods".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>AIe(s))})}getUserMfaMethods(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserMfaMethodsRaw(t,n)).value()})}getUserPasskeysRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getUserPasskeys.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>HSe(s))})}getUserPasskeys(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getUserPasskeysRaw(t,n)).value()})}getWaasWalletWithVerifiedCredentialsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWaasWalletWithVerifiedCredentials.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getWaasWalletWithVerifiedCredentials.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/byWalletAddress/{walletAddress}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletAddress}",encodeURIComponent(String(t.walletAddress))),method:"GET",headers:i,query:r},n);return new at(o,s=>iS(s))})}getWaasWalletWithVerifiedCredentials(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getWaasWalletWithVerifiedCredentialsRaw(t,n)).value()})}getWaasWalletWithVerifiedCredentialsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWaasWalletWithVerifiedCredentialsOptions.");if(t.walletAddress===null||t.walletAddress===void 0)throw new le("walletAddress","Required parameter requestParameters.walletAddress was null or undefined when calling getWaasWalletWithVerifiedCredentialsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/byWalletAddress/{walletAddress}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletAddress}",encodeURIComponent(String(t.walletAddress))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getWaasWalletWithVerifiedCredentialsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getWaasWalletWithVerifiedCredentialsOptionsRaw(t,n)})}getWalletTransactionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWalletTransactions.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getWalletTransactions.");if(t.address===null||t.address===void 0)throw new le("address","Required parameter requestParameters.address was null or undefined when calling getWalletTransactions.");if(t.networkId===null||t.networkId===void 0)throw new le("networkId","Required parameter requestParameters.networkId was null or undefined when calling getWalletTransactions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.limit!==void 0&&(r.limit=t.limit),t.offset!==void 0&&(r.offset=t.offset);const i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/transactions/{address}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))).replace("{address}",encodeURIComponent(String(t.address))),method:"GET",headers:i,query:r},n);return new at(o,s=>AAe(s))})}getWalletTransactions(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.getWalletTransactionsRaw(t,n)).value()})}getWalletTransactionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling getWalletTransactionsOptions.");if(t.chainName===null||t.chainName===void 0)throw new le("chainName","Required parameter requestParameters.chainName was null or undefined when calling getWalletTransactionsOptions.");if(t.address===null||t.address===void 0)throw new le("address","Required parameter requestParameters.address was null or undefined when calling getWalletTransactionsOptions.");if(t.networkId===null||t.networkId===void 0)throw new le("networkId","Required parameter requestParameters.networkId was null or undefined when calling getWalletTransactionsOptions.");const r={};t.networkId!==void 0&&(r.networkId=t.networkId),t.limit!==void 0&&(r.limit=t.limit),t.offset!==void 0&&(r.offset=t.offset);const i={},o=yield this.request({path:"/sdk/{environmentId}/chains/{chainName}/transactions/{address}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{chainName}",encodeURIComponent(String(t.chainName))).replace("{address}",encodeURIComponent(String(t.address))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}getWalletTransactionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.getWalletTransactionsOptionsRaw(t,n)})}globalWalletConnectionsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling globalWalletConnectionsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/connections".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}globalWalletConnectionsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.globalWalletConnectionsOptionsRaw(t,n)})}globalWalletsSettingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling globalWalletsSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/globalWallets/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}globalWalletsSettingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.globalWalletsSettingsOptionsRaw(t,n)})}hardDeleteUserRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling hardDeleteUser.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"DELETE",headers:i,query:r},n);return new Je(o)})}hardDeleteUser(t,n){return te(this,void 0,void 0,function*(){yield this.hardDeleteUserRaw(t,n)})}importPrivateKeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling importPrivateKey.");if(t.importWaasPrivateKeyRequest===null||t.importWaasPrivateKeyRequest===void 0)throw new le("importWaasPrivateKeyRequest","Required parameter requestParameters.importWaasPrivateKeyRequest was null or undefined when calling importPrivateKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/privateKey/import".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:aIe(t.importWaasPrivateKeyRequest)},n);return new at(o,s=>ik(s))})}importPrivateKey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.importPrivateKeyRaw(t,n)).value()})}importPrivateKeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling importPrivateKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/privateKey/import".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}importPrivateKeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.importPrivateKeyOptionsRaw(t,n)})}initAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initAuth.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling initAuth.");if(t.oauthInitAuthRequest===null||t.oauthInitAuthRequest===void 0)throw new le("oauthInitAuthRequest","Required parameter requestParameters.oauthInitAuthRequest was null or undefined when calling initAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/initAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:b3e(t.oauthInitAuthRequest)},n);return new Je(o)})}initAuth(t,n){return te(this,void 0,void 0,function*(){yield this.initAuthRaw(t,n)})}initAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initAuthOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling initAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/initAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}initAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.initAuthOptionsRaw(t,n)})}initEmailAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initEmailAuth.");if(t.initEmailAuthRequest===null||t.initEmailAuthRequest===void 0)throw new le("initEmailAuthRequest","Required parameter requestParameters.initEmailAuthRequest was null or undefined when calling initEmailAuth.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/emailAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:lIe(t.initEmailAuthRequest)},n);return new at(o,s=>cIe(s))})}initEmailAuth(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.initEmailAuthRaw(t,n)).value()})}initPasskeyRecoveryRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling initPasskeyRecovery.");if(t.initPasskeyRecoveryRequest===null||t.initPasskeyRecoveryRequest===void 0)throw new le("initPasskeyRecoveryRequest","Required parameter requestParameters.initPasskeyRecoveryRequest was null or undefined when calling initPasskeyRecovery.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:uIe(t.initPasskeyRecoveryRequest)},n);return new at(o,s=>fIe(s))})}initPasskeyRecovery(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.initPasskeyRecoveryRaw(t,n)).value()})}jwksOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling jwksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/.well-known/jwks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}jwksOptions(t,n){return te(this,void 0,void 0,function*(){yield this.jwksOptionsRaw(t,n)})}legacyEmbeddedWalletDeleteRequestOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling legacyEmbeddedWalletDeleteRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}legacyEmbeddedWalletDeleteRequestOptions(t,n){return te(this,void 0,void 0,function*(){yield this.legacyEmbeddedWalletDeleteRequestOptionsRaw(t,n)})}legacyGetEmbeddedWalletsDeleteRequestRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling legacyGetEmbeddedWalletsDeleteRequest.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/deleteRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>eq(s))})}legacyGetEmbeddedWalletsDeleteRequest(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.legacyGetEmbeddedWalletsDeleteRequestRaw(t,n)).value()})}listMfaDevicesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling listMfaDevicesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}listMfaDevicesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.listMfaDevicesOptionsRaw(t,n)})}listMfaMethodsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling listMfaMethodsOptions.");const r={};t.verifiedOnly!==void 0&&(r.verifiedOnly=t.verifiedOnly);const i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/methods".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}listMfaMethodsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.listMfaMethodsOptionsRaw(t,n)})}logDynamicSdkSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling logDynamicSdkSettings.");if(t.sdkSettingsRequest===null||t.sdkSettingsRequest===void 0)throw new le("sdkSettingsRequest","Required parameter requestParameters.sdkSettingsRequest was null or undefined when calling logDynamicSdkSettings.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/sdkSettings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:YCe(t.sdkSettingsRequest)},n);return new Je(o)})}logDynamicSdkSettings(t,n){return te(this,void 0,void 0,function*(){yield this.logDynamicSdkSettingsRaw(t,n)})}mergeUsersRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling mergeUsers.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new at(o,s=>jr(s))})}mergeUsers(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.mergeUsersRaw(t,n)).value()})}mergeUsersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling mergeUsersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}mergeUsersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.mergeUsersOptionsRaw(t,n)})}networksOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling networksOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/networks".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}networksOptions(t,n){return te(this,void 0,void 0,function*(){yield this.networksOptionsRaw(t,n)})}nonceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling nonceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/nonce".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}nonceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.nonceOptionsRaw(t,n)})}oauthAuthorizeHtmlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthAuthorizeHtml.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthAuthorizeHtml.");const r={};t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.redirectUri!==void 0&&(r.redirect_uri=t.redirectUri);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/authorizeHtml".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new fw(o)})}oauthAuthorizeHtml(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthAuthorizeHtmlRaw(t,n)).value()})}oauthAuthorizeHtmlOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthAuthorizeHtmlOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthAuthorizeHtmlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/authorizeHtml".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthAuthorizeHtmlOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthAuthorizeHtmlOptionsRaw(t,n)})}oauthLoginRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLogin.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLogin.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/login".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new Je(o)})}oauthLogin(t,n){return te(this,void 0,void 0,function*(){yield this.oauthLoginRaw(t,n)})}oauthLoginOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/login".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthLoginOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthLoginOptionsRaw(t,n)})}oauthLoginUrlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginUrl.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginUrl.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/loginUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new at(o,s=>_3e(s))})}oauthLoginUrl(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthLoginUrlRaw(t,n)).value()})}oauthLoginUrlOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthLoginUrlOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthLoginUrlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/loginUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthLoginUrlOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthLoginUrlOptionsRaw(t,n)})}oauthRedirectAppleRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectApple.");const r={},i={};Fxe([{contentType:"application/x-www-form-urlencoded"}]);let s;s=new URLSearchParams,t.code!==void 0&&s.append("code",t.code),t.state!==void 0&&s.append("state",t.state),t.idToken!==void 0&&s.append("id_token",t.idToken),t.error!==void 0&&s.append("error",t.error);const a=yield this.request({path:"/sdk/{environmentId}/providers/apple/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:s},n);return new fw(a)})}oauthRedirectApple(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthRedirectAppleRaw(t,n)).value()})}oauthRedirectAppleOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectAppleOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/apple/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthRedirectAppleOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthRedirectAppleOptionsRaw(t,n)})}oauthRedirectCodeRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectCode.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirectCode.");const r={};t.code!==void 0&&(r.code=t.code),t.scope!==void 0&&(r.scope=t.scope),t.state!==void 0&&(r.state=t.state),t.authuser!==void 0&&(r.authuser=t.authuser),t.prompt!==void 0&&(r.prompt=t.prompt),t.error!==void 0&&(r.error=t.error);const i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"GET",headers:i,query:r},n);return new fw(o)})}oauthRedirectCode(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthRedirectCodeRaw(t,n)).value()})}oauthRedirectOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthRedirectOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthRedirectOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/redirect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthRedirectOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthRedirectOptionsRaw(t,n)})}oauthResultRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthResult.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthResult.");if(t.oauthResultRequest===null||t.oauthResultRequest===void 0)throw new le("oauthResultRequest","Required parameter requestParameters.oauthResultRequest was null or undefined when calling oauthResult.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/oauthResult".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:rk(t.oauthResultRequest)},n);return new at(o,s=>I3e(s))})}oauthResult(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthResultRaw(t,n)).value()})}oauthResultOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthResultOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthResultOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/oauthResult".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthResultOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthResultOptionsRaw(t,n)})}oauthSignInRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthSignIn.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthSignIn.");if(t.oauthRequest===null||t.oauthRequest===void 0)throw new le("oauthRequest","Required parameter requestParameters.oauthRequest was null or undefined when calling oauthSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/signIn".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:qW(t.oauthRequest)},n);return new at(o,s=>jr(s))})}oauthSignIn(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthSignInRaw(t,n)).value()})}oauthSignInOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthSignInOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/signIn".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthSignInOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthSignInOptionsRaw(t,n)})}oauthVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthVerify.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthVerify.");if(t.oauthRequest===null||t.oauthRequest===void 0)throw new le("oauthRequest","Required parameter requestParameters.oauthRequest was null or undefined when calling oauthVerify.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"POST",headers:i,query:r,body:qW(t.oauthRequest)},n);return new at(o,s=>jr(s))})}oauthVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.oauthVerifyRaw(t,n)).value()})}oauthVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling oauthVerifyOptions.");if(t.providerType===null||t.providerType===void 0)throw new le("providerType","Required parameter requestParameters.providerType was null or undefined when calling oauthVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/providers/{providerType}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{providerType}",encodeURIComponent(String(t.providerType))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}oauthVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.oauthVerifyOptionsRaw(t,n)})}offrampsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling offrampsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/offramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}offrampsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.offrampsOptionsRaw(t,n)})}onrampsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling onrampsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/onramps".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}onrampsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.onrampsOptionsRaw(t,n)})}optimizeTransactionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optimizeTransaction.");if(t.solanaTransactionOptimizationRequest===null||t.solanaTransactionOptimizationRequest===void 0)throw new le("solanaTransactionOptimizationRequest","Required parameter requestParameters.solanaTransactionOptimizationRequest was null or undefined when calling optimizeTransaction.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/solana/optimizeTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:R5e(t.solanaTransactionOptimizationRequest)},n);return new at(o,s=>T5e(s))})}optimizeTransaction(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.optimizeTransactionRaw(t,n)).value()})}optimizeTransactionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optimizeTransactionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/solana/optimizeTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}optimizeTransactionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.optimizeTransactionOptionsRaw(t,n)})}optionsConnectRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling optionsConnect.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/connect".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}optionsConnect(t,n){return te(this,void 0,void 0,function*(){yield this.optionsConnectRaw(t,n)})}passkeyRecoveryOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling passkeyRecoveryOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/passkeyRecovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}passkeyRecoveryOptions(t,n){return te(this,void 0,void 0,function*(){yield this.passkeyRecoveryOptionsRaw(t,n)})}postExchangeAccountTransferRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postExchangeAccountTransfer.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling postExchangeAccountTransfer.");if(t.accountId===null||t.accountId===void 0)throw new le("accountId","Required parameter requestParameters.accountId was null or undefined when calling postExchangeAccountTransfer.");if(t.createExchangeTransferRequest===null||t.createExchangeTransferRequest===void 0)throw new le("createExchangeTransferRequest","Required parameter requestParameters.createExchangeTransferRequest was null or undefined when calling postExchangeAccountTransfer.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/{accountId}/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))).replace("{accountId}",encodeURIComponent(String(t.accountId))),method:"POST",headers:i,query:r,body:d2e(t.createExchangeTransferRequest)},n);return new at(o,s=>fSe(s))})}postExchangeAccountTransfer(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.postExchangeAccountTransferRaw(t,n)).value()})}postExchangeAccountTransferOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postExchangeAccountTransferOptions.");if(t.exchangeKey===null||t.exchangeKey===void 0)throw new le("exchangeKey","Required parameter requestParameters.exchangeKey was null or undefined when calling postExchangeAccountTransferOptions.");if(t.accountId===null||t.accountId===void 0)throw new le("accountId","Required parameter requestParameters.accountId was null or undefined when calling postExchangeAccountTransferOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/exchange/{exchangeKey}/accounts/{accountId}/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{exchangeKey}",encodeURIComponent(String(t.exchangeKey))).replace("{accountId}",encodeURIComponent(String(t.accountId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}postExchangeAccountTransferOptions(t,n){return te(this,void 0,void 0,function*(){yield this.postExchangeAccountTransferOptionsRaw(t,n)})}postMultichainAccountBalancesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postMultichainAccountBalances.");if(t.multichainAccountBalancesRequest===null||t.multichainAccountBalancesRequest===void 0)throw new le("multichainAccountBalancesRequest","Required parameter requestParameters.multichainAccountBalancesRequest was null or undefined when calling postMultichainAccountBalances.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:FW(t.multichainAccountBalancesRequest)},n);return new at(o,s=>i3e(s))})}postMultichainAccountBalances(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.postMultichainAccountBalancesRaw(t,n)).value()})}postMultichainAccountBalancesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postMultichainAccountBalancesOptions.");if(t.multichainAccountBalancesRequest===null||t.multichainAccountBalancesRequest===void 0)throw new le("multichainAccountBalancesRequest","Required parameter requestParameters.multichainAccountBalancesRequest was null or undefined when calling postMultichainAccountBalancesOptions.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/balances".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r,body:FW(t.multichainAccountBalancesRequest)},n);return new Je(o)})}postMultichainAccountBalancesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.postMultichainAccountBalancesOptionsRaw(t,n)})}postTelegramAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling postTelegramAuth.");if(t.telegramPostRequest===null||t.telegramPostRequest===void 0)throw new le("telegramPostRequest","Required parameter requestParameters.telegramPostRequest was null or undefined when calling postTelegramAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:F5e(t.telegramPostRequest)},n);return new Je(o)})}postTelegramAuth(t,n){return te(this,void 0,void 0,function*(){yield this.postTelegramAuthRaw(t,n)})}prefetchRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling prefetch.");if(t.prefetchRequest===null||t.prefetchRequest===void 0)throw new le("prefetchRequest","Required parameter requestParameters.prefetchRequest was null or undefined when calling prefetch.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/prefetch".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:B3e(t.prefetchRequest)},n);return new Je(o)})}prefetch(t,n){return te(this,void 0,void 0,function*(){yield this.prefetchRaw(t,n)})}publishEventRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling publishEvent.");if(t.publishEvents===null||t.publishEvents===void 0)throw new le("publishEvents","Required parameter requestParameters.publishEvents was null or undefined when calling publishEvent.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/events".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:MCe(t.publishEvents)},n);return new Je(o)})}publishEvent(t,n){return te(this,void 0,void 0,function*(){yield this.publishEventRaw(t,n)})}recoverKeySharesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoverKeyShares.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling recoverKeyShares.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/recover".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:DCe(t.recoverMultipleClientKeySharesRequest)},n);return new at(o,s=>LCe(s))})}recoverKeyShares(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.recoverKeySharesRaw(t,n)).value()})}recoverKeySharesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoverKeySharesOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling recoverKeySharesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/keyShares/recover".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}recoverKeySharesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.recoverKeySharesOptionsRaw(t,n)})}recoveryCodesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoveryCodesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/recovery".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}recoveryCodesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.recoveryCodesOptionsRaw(t,n)})}recoveryEmailOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling recoveryEmailOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/recoveryEmail".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}recoveryEmailOptions(t,n){return te(this,void 0,void 0,function*(){yield this.recoveryEmailOptionsRaw(t,n)})}refreshAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshAuth.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new at(o,s=>jr(s))})}refreshAuth(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.refreshAuthRaw(t,n)).value()})}refreshKeySharesRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshKeyShares.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling refreshKeyShares.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r},n);return new at(o,s=>ik(s))})}refreshKeyShares(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.refreshKeySharesRaw(t,n)).value()})}refreshKeySharesOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshKeySharesOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling refreshKeySharesOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}refreshKeySharesOptions(t,n){return te(this,void 0,void 0,function*(){yield this.refreshKeySharesOptionsRaw(t,n)})}refreshOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling refreshOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/refresh".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}refreshOptions(t,n){return te(this,void 0,void 0,function*(){yield this.refreshOptionsRaw(t,n)})}registerPasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskey.");if(t.passkeyRegisterRequest===null||t.passkeyRegisterRequest===void 0)throw new le("passkeyRegisterRequest","Required parameter requestParameters.passkeyRegisterRequest was null or undefined when calling registerPasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/register".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:P3e(t.passkeyRegisterRequest)},n);return new at(o,s=>jr(s))})}registerPasskey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerPasskeyRaw(t,n)).value()})}registerPasskeyMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskeyMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>WIe(s))})}registerPasskeyMfaDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerPasskeyMfaDeviceRaw(t,n)).value()})}registerPasskeyMfaDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskeyMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}registerPasskeyMfaDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.registerPasskeyMfaDeviceOptionsRaw(t,n)})}registerPasskeyMfaDeviceVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerPasskeyMfaDeviceVerify.");if(t.mFARegisterPasskeyDevicePostRequest===null||t.mFARegisterPasskeyDevicePostRequest===void 0)throw new le("mFARegisterPasskeyDevicePostRequest","Required parameter requestParameters.mFARegisterPasskeyDevicePostRequest was null or undefined when calling registerPasskeyMfaDeviceVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/passkey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:KIe(t.mFARegisterPasskeyDevicePostRequest)},n);return new at(o,s=>jr(s))})}registerPasskeyMfaDeviceVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerPasskeyMfaDeviceVerifyRaw(t,n)).value()})}registerSessionKeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerSessionKey.");if(t.registerSessionKeyRequest===null||t.registerSessionKeyRequest===void 0)throw new le("registerSessionKeyRequest","Required parameter requestParameters.registerSessionKeyRequest was null or undefined when calling registerSessionKey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/sessionKey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:qCe(t.registerSessionKeyRequest)},n);return new at(o,s=>FCe(s))})}registerSessionKey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerSessionKeyRaw(t,n)).value()})}registerTotpMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDevice.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new at(o,s=>HIe(s))})}registerTotpMfaDevice(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerTotpMfaDeviceRaw(t,n)).value()})}registerTotpMfaDeviceOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDeviceOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}registerTotpMfaDeviceOptions(t,n){return te(this,void 0,void 0,function*(){yield this.registerTotpMfaDeviceOptionsRaw(t,n)})}registerTotpMfaDeviceVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling registerTotpMfaDeviceVerify.");if(t.mFARegisterTotpDevicePostRequest===null||t.mFARegisterTotpDevicePostRequest===void 0)throw new le("mFARegisterTotpDevicePostRequest","Required parameter requestParameters.mFARegisterTotpDevicePostRequest was null or undefined when calling registerTotpMfaDeviceVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/register/totp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:JIe(t.mFARegisterTotpDevicePostRequest)},n);return new at(o,s=>aS(s))})}registerTotpMfaDeviceVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.registerTotpMfaDeviceVerifyRaw(t,n)).value()})}reshareRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling reshare.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling reshare.");if(t.reshareRequest===null||t.reshareRequest===void 0)throw new le("reshareRequest","Required parameter requestParameters.reshareRequest was null or undefined when calling reshare.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/reshare".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:zCe(t.reshareRequest)},n);return new at(o,s=>R3e(s))})}reshare(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.reshareRaw(t,n)).value()})}reshareOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling reshareOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling reshareOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/reshare".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}reshareOptions(t,n){return te(this,void 0,void 0,function*(){yield this.reshareOptionsRaw(t,n)})}restoreEmbeddedWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling restoreEmbeddedWallet.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling restoreEmbeddedWallet.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/restore".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"PUT",headers:i,query:r},n);return new Je(o)})}restoreEmbeddedWallet(t,n){return te(this,void 0,void 0,function*(){yield this.restoreEmbeddedWalletRaw(t,n)})}restoreEmbeddedWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling restoreEmbeddedWalletOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling restoreEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/restore".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}restoreEmbeddedWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.restoreEmbeddedWalletOptionsRaw(t,n)})}retryEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retryEmailVerification.");if(t.emailVerificationRetryRequest===null||t.emailVerificationRetryRequest===void 0)throw new le("emailVerificationRetryRequest","Required parameter requestParameters.emailVerificationRetryRequest was null or undefined when calling retryEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:U2e(t.emailVerificationRetryRequest)},n);return new at(o,s=>uO(s))})}retryEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.retryEmailVerificationRaw(t,n)).value()})}retryEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retryEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}retryEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.retryEmailVerificationOptionsRaw(t,n)})}retrySmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retrySmsVerification.");if(t.smsVerificationRetryRequest===null||t.smsVerificationRetryRequest===void 0)throw new le("smsVerificationRetryRequest","Required parameter requestParameters.smsVerificationRetryRequest was null or undefined when calling retrySmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:A5e(t.smsVerificationRetryRequest)},n);return new at(o,s=>pO(s))})}retrySmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.retrySmsVerificationRaw(t,n)).value()})}retrySmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling retrySmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/retry".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}retrySmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.retrySmsVerificationOptionsRaw(t,n)})}revokeSessionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling revokeSession.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/revoke".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r},n);return new Je(o)})}revokeSession(t,n){return te(this,void 0,void 0,function*(){yield this.revokeSessionRaw(t,n)})}revokeSessionOptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling revokeSessionOption.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/revoke".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}revokeSessionOption(t,n){return te(this,void 0,void 0,function*(){yield this.revokeSessionOptionRaw(t,n)})}scanUrlRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling scanUrl.");if(t.scanWebsiteUrlRequest===null||t.scanWebsiteUrlRequest===void 0)throw new le("scanWebsiteUrlRequest","Required parameter requestParameters.scanWebsiteUrlRequest was null or undefined when calling scanUrl.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/scan/websiteUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:VCe(t.scanWebsiteUrlRequest)},n);return new at(o,s=>KCe(s))})}scanUrl(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.scanUrlRaw(t,n)).value()})}scanUrlOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling scanUrlOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/scan/websiteUrl".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}scanUrlOptions(t,n){return te(this,void 0,void 0,function*(){yield this.scanUrlOptionsRaw(t,n)})}sdkSettingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sdkSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/sdkSettings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}sdkSettingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.sdkSettingsOptionsRaw(t,n)})}selectUserWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling selectUserWallet.");if(t.userWalletSelectionRequest===null||t.userWalletSelectionRequest===void 0)throw new le("userWalletSelectionRequest","Required parameter requestParameters.userWalletSelectionRequest was null or undefined when calling selectUserWallet.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/wallets/selection".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:hAe(t.userWalletSelectionRequest)},n);return new at(o,s=>jr(s))})}selectUserWallet(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.selectUserWalletRaw(t,n)).value()})}selectUserWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling selectUserWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/wallets/selection".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}selectUserWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.selectUserWalletOptionsRaw(t,n)})}sessionCheckRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionCheck.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/session".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"GET",headers:i,query:r},n);return new Je(o)})}sessionCheck(t,n){return te(this,void 0,void 0,function*(){yield this.sessionCheckRaw(t,n)})}sessionCheckOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionCheckOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/session".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}sessionCheckOptions(t,n){return te(this,void 0,void 0,function*(){yield this.sessionCheckOptionsRaw(t,n)})}sessionKeyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling sessionKeyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/sessionKey".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}sessionKeyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.sessionKeyOptionsRaw(t,n)})}settingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling settingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}settingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.settingsOptionsRaw(t,n)})}signInWithEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithEmailVerification.");if(t.emailVerificationVerifyRequest===null||t.emailVerificationVerifyRequest===void 0)throw new le("emailVerificationVerifyRequest","Required parameter requestParameters.emailVerificationVerifyRequest was null or undefined when calling signInWithEmailVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:xW(t.emailVerificationVerifyRequest)},n);return new at(o,s=>jr(s))})}signInWithEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signInWithEmailVerificationRaw(t,n)).value()})}signInWithEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}signInWithEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.signInWithEmailVerificationOptionsRaw(t,n)})}signInWithSmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithSmsVerification.");if(t.smsVerificationVerifyRequest===null||t.smsVerificationVerifyRequest===void 0)throw new le("smsVerificationVerifyRequest","Required parameter requestParameters.smsVerificationVerifyRequest was null or undefined when calling signInWithSmsVerification.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:YW(t.smsVerificationVerifyRequest)},n);return new at(o,s=>jr(s))})}signInWithSmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signInWithSmsVerificationRaw(t,n)).value()})}signInWithSmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signInWithSmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}signInWithSmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.signInWithSmsVerificationOptionsRaw(t,n)})}signMessageRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signMessage.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling signMessage.");if(t.signMessageWithWaasRequest===null||t.signMessageWithWaasRequest===void 0)throw new le("signMessageWithWaasRequest","Required parameter requestParameters.signMessageWithWaasRequest was null or undefined when calling signMessage.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/signMessage".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"POST",headers:i,query:r,body:d5e(t.signMessageWithWaasRequest)},n);return new at(o,s=>C3e(s))})}signMessage(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signMessageRaw(t,n)).value()})}signMessageOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signMessageOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling signMessageOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/signMessage".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}signMessageOptions(t,n){return te(this,void 0,void 0,function*(){yield this.signMessageOptionsRaw(t,n)})}signinWithPasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling signinWithPasskey.");if(t.passkeyAuthRequest===null||t.passkeyAuthRequest===void 0)throw new le("passkeyAuthRequest","Required parameter requestParameters.passkeyAuthRequest was null or undefined when calling signinWithPasskey.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:UW(t.passkeyAuthRequest)},n);return new at(o,s=>jr(s))})}signinWithPasskey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.signinWithPasskeyRaw(t,n)).value()})}simulateEVMTransactionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateEVMTransaction.");if(t.simulateEVMTransactionRequest===null||t.simulateEVMTransactionRequest===void 0)throw new le("simulateEVMTransactionRequest","Required parameter requestParameters.simulateEVMTransactionRequest was null or undefined when calling simulateEVMTransaction.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/evm/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:u5e(t.simulateEVMTransactionRequest)},n);return new at(o,s=>D5(s))})}simulateEVMTransaction(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.simulateEVMTransactionRaw(t,n)).value()})}simulateEVMTransactionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateEVMTransactionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/evm/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}simulateEVMTransactionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.simulateEVMTransactionOptionsRaw(t,n)})}simulateSVMTransactionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateSVMTransaction.");if(t.simulateSVMTransactionRequest===null||t.simulateSVMTransactionRequest===void 0)throw new le("simulateSVMTransactionRequest","Required parameter requestParameters.simulateSVMTransactionRequest was null or undefined when calling simulateSVMTransaction.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/solana/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:f5e(t.simulateSVMTransactionRequest)},n);return new at(o,s=>D5(s))})}simulateSVMTransaction(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.simulateSVMTransactionRaw(t,n)).value()})}simulateSVMTransactionOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateSVMTransactionOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/solana/simulateTransaction".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}simulateSVMTransactionOptions(t,n){return te(this,void 0,void 0,function*(){yield this.simulateSVMTransactionOptionsRaw(t,n)})}simulateUserOpRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateUserOp.");if(t.simulateUserOpRequest===null||t.simulateUserOpRequest===void 0)throw new le("simulateUserOpRequest","Required parameter requestParameters.simulateUserOpRequest was null or undefined when calling simulateUserOp.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/evm/simulateUserOp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:I5e(t.simulateUserOpRequest)},n);return new at(o,s=>D5(s))})}simulateUserOp(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.simulateUserOpRaw(t,n)).value()})}simulateUserOpOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling simulateUserOpOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/evm/simulateUserOp".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}simulateUserOpOptions(t,n){return te(this,void 0,void 0,function*(){yield this.simulateUserOpOptionsRaw(t,n)})}softDeleteEmbeddedWalletRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling softDeleteEmbeddedWallet.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling softDeleteEmbeddedWallet.");const r={},i={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/softDelete".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"DELETE",headers:i,query:r},n);return new Je(o)})}softDeleteEmbeddedWallet(t,n){return te(this,void 0,void 0,function*(){yield this.softDeleteEmbeddedWalletRaw(t,n)})}softDeleteEmbeddedWalletOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling softDeleteEmbeddedWalletOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling softDeleteEmbeddedWalletOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/{walletId}/softDelete".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}softDeleteEmbeddedWalletOptions(t,n){return te(this,void 0,void 0,function*(){yield this.softDeleteEmbeddedWalletOptionsRaw(t,n)})}telegramAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/auth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramAuthOptionsRaw(t,n)})}telegramCheckAuthRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramCheckAuth.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/checkTelegramAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:rk(t.oauthResultRequest)},n);return new Je(o)})}telegramCheckAuth(t,n){return te(this,void 0,void 0,function*(){yield this.telegramCheckAuthRaw(t,n)})}telegramCheckAuthOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramCheckAuthOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/checkTelegramAuth".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramCheckAuthOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramCheckAuthOptionsRaw(t,n)})}telegramSignInRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramSignIn.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/telegram/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:rk(t.oauthResultRequest)},n);return new at(o,s=>jr(s))})}telegramSignIn(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.telegramSignInRaw(t,n)).value()})}telegramSignInOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramSignInOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/signin".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramSignInOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramSignInOptionsRaw(t,n)})}telegramVerifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramVerify.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/telegram/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:rk(t.oauthResultRequest)},n);return new at(o,s=>jr(s))})}telegramVerify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.telegramVerifyRaw(t,n)).value()})}telegramVerifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling telegramVerifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/telegram/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}telegramVerifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.telegramVerifyOptionsRaw(t,n)})}updateEmbeddedWalletRecoveryEmailRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateEmbeddedWalletRecoveryEmail.");if(t.updateRecoveryEmailRequest===null||t.updateRecoveryEmailRequest===void 0)throw new le("updateRecoveryEmailRequest","Required parameter requestParameters.updateRecoveryEmailRequest was null or undefined when calling updateEmbeddedWalletRecoveryEmail.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/recoveryEmail".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:tAe(t.updateRecoveryEmailRequest)},n);return new Je(o)})}updateEmbeddedWalletRecoveryEmail(t,n){return te(this,void 0,void 0,function*(){yield this.updateEmbeddedWalletRecoveryEmailRaw(t,n)})}updatePasskeyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updatePasskey.");if(t.updateUserPasskeyRequest===null||t.updateUserPasskeyRequest===void 0)throw new le("updateUserPasskeyRequest","Required parameter requestParameters.updateUserPasskeyRequest was null or undefined when calling updatePasskey.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:rAe(t.updateUserPasskeyRequest)},n);return new at(o,s=>yM(s))})}updatePasskey(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.updatePasskeyRaw(t,n)).value()})}updateSelfRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateSelf.");if(t.userFields===null||t.userFields===void 0)throw new le("userFields","Required parameter requestParameters.userFields was null or undefined when calling updateSelf.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"PUT",headers:i,query:r,body:lAe(t.userFields)},n);return new at(o,s=>j5(s))})}updateSelf(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.updateSelfRaw(t,n)).value()})}updateUserMfaDeviceRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateUserMfaDevice.");if(t.mfaDeviceId===null||t.mfaDeviceId===void 0)throw new le("mfaDeviceId","Required parameter requestParameters.mfaDeviceId was null or undefined when calling updateUserMfaDevice.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/users/mfa/{mfaDeviceId}".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{mfaDeviceId}",encodeURIComponent(String(t.mfaDeviceId))),method:"PUT",headers:i,query:r,body:ZIe(t.mFAUpdateDeviceRequest)},n);return new Je(o)})}updateUserMfaDevice(t,n){return te(this,void 0,void 0,function*(){yield this.updateUserMfaDeviceRaw(t,n)})}updateWaasWalletSettingsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling updateWaasWalletSettings.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling updateWaasWalletSettings.");if(t.updateWaasWalletSettingsRequest===null||t.updateWaasWalletSettingsRequest===void 0)throw new le("updateWaasWalletSettingsRequest","Required parameter requestParameters.updateWaasWalletSettingsRequest was null or undefined when calling updateWaasWalletSettings.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"PUT",headers:i,query:r,body:iAe(t.updateWaasWalletSettingsRequest)},n);return new at(o,s=>oAe(s))})}updateWaasWalletSettings(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.updateWaasWalletSettingsRaw(t,n)).value()})}upgradeEmbeddedWalletToV2Raw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling upgradeEmbeddedWalletToV2.");if(t.upgradeEmbeddedWalletToV2Request===null||t.upgradeEmbeddedWalletToV2Request===void 0)throw new le("upgradeEmbeddedWalletToV2Request","Required parameter requestParameters.upgradeEmbeddedWalletToV2Request was null or undefined when calling upgradeEmbeddedWalletToV2.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/upgradeToV2".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:aAe(t.upgradeEmbeddedWalletToV2Request)},n);return new at(o,s=>jr(s))})}upgradeEmbeddedWalletToV2(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.upgradeEmbeddedWalletToV2Raw(t,n)).value()})}upgradeEmbeddedWalletToV2OptionRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling upgradeEmbeddedWalletToV2Option.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/upgradeToV2".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}upgradeEmbeddedWalletToV2Option(t,n){return te(this,void 0,void 0,function*(){yield this.upgradeEmbeddedWalletToV2OptionRaw(t,n)})}userPasskeysOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling userPasskeysOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/passkeys".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}userPasskeysOptions(t,n){return te(this,void 0,void 0,function*(){yield this.userPasskeysOptionsRaw(t,n)})}usersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling usersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}usersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.usersOptionsRaw(t,n)})}verifyRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verify.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new le("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verify.");const r={},i={};i["Content-Type"]="application/json";const o=yield this.request({path:"/sdk/{environmentId}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:$5(t.verifyRequest)},n);return new at(o,s=>jr(s))})}verify(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyRaw(t,n)).value()})}verifyEmailVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyEmailVerification.");if(t.emailVerificationVerifyRequest===null||t.emailVerificationVerifyRequest===void 0)throw new le("emailVerificationVerifyRequest","Required parameter requestParameters.emailVerificationVerifyRequest was null or undefined when calling verifyEmailVerification.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:xW(t.emailVerificationVerifyRequest)},n);return new at(o,s=>j5(s))})}verifyEmailVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyEmailVerificationRaw(t,n)).value()})}verifyEmailVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyEmailVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/emailVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyEmailVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyEmailVerificationOptionsRaw(t,n)})}verifyLinkRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyLink.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new le("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verifyLink.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/link".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:$5(t.verifyRequest)},n);return new at(o,s=>jr(s))})}verifyLink(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyLinkRaw(t,n)).value()})}verifyLinkOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyLinkOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/link".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyLinkOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyLinkOptionsRaw(t,n)})}verifyMergeUsersRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyMergeUsers.");if(t.mergeUserConflictResolutions===null||t.mergeUserConflictResolutions===void 0)throw new le("mergeUserConflictResolutions","Required parameter requestParameters.mergeUserConflictResolutions was null or undefined when calling verifyMergeUsers.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:XIe(t.mergeUserConflictResolutions)},n);return new at(o,s=>jr(s))})}verifyMergeUsers(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyMergeUsersRaw(t,n)).value()})}verifyMergeUsersOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyMergeUsersOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/merge".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyMergeUsersOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyMergeUsersOptionsRaw(t,n)})}verifyOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyOptionsRaw(t,n)})}verifyPrefetchRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyPrefetch.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/prefetch".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyPrefetch(t,n){return te(this,void 0,void 0,function*(){yield this.verifyPrefetchRaw(t,n)})}verifySmsVerificationRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifySmsVerification.");if(t.smsVerificationVerifyRequest===null||t.smsVerificationVerifyRequest===void 0)throw new le("smsVerificationVerifyRequest","Required parameter requestParameters.smsVerificationVerifyRequest was null or undefined when calling verifySmsVerification.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:YW(t.smsVerificationVerifyRequest)},n);return new at(o,s=>j5(s))})}verifySmsVerification(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifySmsVerificationRaw(t,n)).value()})}verifySmsVerificationOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifySmsVerificationOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/smsVerifications/verify".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifySmsVerificationOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifySmsVerificationOptionsRaw(t,n)})}verifyTransferRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyTransfer.");if(t.verifyRequest===null||t.verifyRequest===void 0)throw new le("verifyRequest","Required parameter requestParameters.verifyRequest was null or undefined when calling verifyTransfer.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:$5(t.verifyRequest)},n);return new at(o,s=>jr(s))})}verifyTransfer(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyTransferRaw(t,n)).value()})}verifyTransferOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyTransferOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/transfer".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyTransferOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyTransferOptionsRaw(t,n)})}verifyUnlinkRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyUnlink.");if(t.verifyUnlinkRequest===null||t.verifyUnlinkRequest===void 0)throw new le("verifyUnlinkRequest","Required parameter requestParameters.verifyUnlinkRequest was null or undefined when calling verifyUnlink.");const r={},i={};if(i["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=yield s("bearerAuth",[]);a&&(i.Authorization=`Bearer ${a}`)}const o=yield this.request({path:"/sdk/{environmentId}/verify/unlink".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"POST",headers:i,query:r,body:wAe(t.verifyUnlinkRequest)},n);return new at(o,s=>jr(s))})}verifyUnlink(t,n){return te(this,void 0,void 0,function*(){return yield(yield this.verifyUnlinkRaw(t,n)).value()})}verifyUnlinkOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling verifyUnlinkOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/verify/unlink".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}verifyUnlinkOptions(t,n){return te(this,void 0,void 0,function*(){yield this.verifyUnlinkOptionsRaw(t,n)})}waasWalletSettingsOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling waasWalletSettingsOptions.");if(t.walletId===null||t.walletId===void 0)throw new le("walletId","Required parameter requestParameters.walletId was null or undefined when calling waasWalletSettingsOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/waas/{walletId}/settings".replace("{environmentId}",encodeURIComponent(String(t.environmentId))).replace("{walletId}",encodeURIComponent(String(t.walletId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}waasWalletSettingsOptions(t,n){return te(this,void 0,void 0,function*(){yield this.waasWalletSettingsOptionsRaw(t,n)})}walletAccountOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling walletAccountOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}walletAccountOptions(t,n){return te(this,void 0,void 0,function*(){yield this.walletAccountOptionsRaw(t,n)})}walletAccountRequestOptionsRaw(t,n){return te(this,void 0,void 0,function*(){if(t.environmentId===null||t.environmentId===void 0)throw new le("environmentId","Required parameter requestParameters.environmentId was null or undefined when calling walletAccountRequestOptions.");const r={},i={},o=yield this.request({path:"/sdk/{environmentId}/users/embeddedWallets/walletAccounts/createRequest".replace("{environmentId}",encodeURIComponent(String(t.environmentId))),method:"OPTIONS",headers:i,query:r},n);return new Je(o)})}walletAccountRequestOptions(t,n){return te(this,void 0,void 0,function*(){yield this.walletAccountRequestOptionsRaw(t,n)})}}var ti;(function(e){e.ACCOUNT_ALREADY_LINKED="account_already_linked",e.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE="account_already_linked_to_different_profile",e.INVALID_PROVIDER="invalid_provider",e.NO_ACCOUNT_LINKED="no_account_linked",e.NO_AUTH_CODE="no_auth_code",e.NO_OAUTH_URL="no_oauth_url",e.NO_PROVIDER="no_provider",e.OAUTH_ERROR="oauth_error",e.OAUTH_WINDOW_BLOCKED="oauth_window_blocked",e.OAUTH_WINDOW_CLOSED="oauth_window_closed",e.OAUTH_WINDOW_TIMEOUT="oauth_window_timeout",e.PROVIDER_NOT_ENABLED="provider_not_enabled",e.SESSION_TIMEOUT="session_timeout",e.SIGNIN_ERROR="signin_error",e.SOCIAL_LINKING_NOT_ENABLED="social_linking_not_enabled",e.UNLINK_ERROR="unlink_error",e.VERIFICATION_ERROR="verification_error",e.GENERAL_ERROR="general_error",e.USER_CANCELLED="user_cancelled"})(ti||(ti={}));class TAe{constructor({id:t,key:n,address:r,additionalAddresses:i=[],chain:o,isAuthenticated:s}){this.id=t,this.key=n,this.address=r,this.additionalAddresses=i,this.chain=o,this.isAuthenticated=s}}Oo("@dynamic-labs/types",Dxe);const OAe="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",NAe=()=>new Promise((e,t)=>{const n=document.querySelector("script[data-apple-sdk]");if(n)n.hasAttribute("data-loaded")?e():(n.addEventListener("load",()=>e()),n.addEventListener("error",()=>t(new Error("Failed to load Apple SDK"))));else{const r=document.createElement("script");r.type="text/javascript",r.src=OAe,r.setAttribute("data-apple-sdk","true"),r.onload=()=>{r==null||r.setAttribute("data-loaded","true"),e()},r.onerror=()=>t(new Error("Failed to load Apple SDK")),window.document.head.appendChild(r)}}),PAe=e=>mm(void 0,[e],void 0,function*({clientId:t,oauthLoginUrl:n,state:r}){yield NAe(),AppleID.auth.init({clientId:t,redirectURI:n.searchParams.get("redirect_uri"),scope:"name email",state:r,usePopup:!1}),AppleID.auth.signIn()});let L5;const BAe=()=>({getOauthCode:({apiProvider:e,provider:t,redirectUrl:n,setIsProcessing:r,state:i,oauthLoginUrl:o,initWebAuth:s,strategy:a})=>new Promise((l,c)=>{if(t===pn.Apple&&(kxe()||KI()||a==="redirect")){s({redirectUrl:n||window.location.href}).then(()=>PAe({clientId:e==null?void 0:e.clientId,oauthLoginUrl:o,state:i}).catch(c));return}if(a==="redirect"&&t!==pn.Telegram){s({redirectUrl:n||window.location.href}).then(()=>{Ln.openURL(o.toString())});return}const d=k=>c(k);clearInterval(L5);const u={},h=window.open("","_blank","width=500,height=600");if(h===null||typeof h>"u"){d({code:ti.OAUTH_WINDOW_BLOCKED,message:"Please allow popups and try again."});return}const m=()=>{window.removeEventListener("message",v),u[t]=!1},v=k=>mm(void 0,void 0,void 0,function*(){const _=k.data,R=y(e);if(!R)return;if((_==null?void 0:_.type)==="origin_check"&&h){$u.debug("Origin check message received. Sending response now.",{data:_,expectedOrigin:R}),h.postMessage("origin_check_response",R);return}const I=(_==null?void 0:_.type)==="telegram_completed",T=(_==null?void 0:_.type)==="authorization_response";(T||I)&&$u.debug("Message received",{data:_});const D=k.origin===R;if((T&&(_==null?void 0:_.provider)===t||I)&&D){if(r(!0),!u[t]){d({code:ti.SESSION_TIMEOUT,message:`Connecting ${t} account session timeout.`});return}if(m(),I){g(_,i);return}b(_,t,i)}}),y=k=>{if(k!=null&&k.redirectUrl)try{return new URL(k.redirectUrl).origin}catch(_){$u.error("Failed to parse social provider redirect url",{error:_});return}},g=(k,_)=>{$u.debug("Telegram completion message received",{data:k});const{code:R,state:I}=k;if(_!==I){d({code:ti.OAUTH_ERROR,message:"Failed to connect telegram account: Invalid random state"});return}l(R),r(!1)},b=(k,_,R)=>{const{code:I,error:T,state:D}=k;if(T&&T!=="undefined"){d({code:ti.OAUTH_ERROR,message:`Failed to connect ${_} social account: ${T}`});return}if(R!==D){d({code:ti.OAUTH_ERROR,message:`Failed to connect ${_} social account: Invalid random state`});return}if(!I){d({code:ti.NO_AUTH_CODE,message:`Failed to connect ${_} social account: no authorization code`});return}l(I),r(!1)};u[t]||(window.addEventListener("message",v),u[t]=!0),s().then(()=>{h==null||h.location.assign(o),L5=setInterval(()=>{h!=null&&h.closed&&(clearInterval(L5),r(!1),u[t]&&d({code:ti.USER_CANCELLED,message:"User cancelled connection"}))},2e3)})})});var sh,x2;class lS{static get implementation(){return f0(sh,sh,"f",x2)?f0(sh,sh,"f",x2):BAe()}static set implementation(t){dM(sh,sh,t,"f",x2)}static get getOauthCode(){return sh.implementation.getOauthCode}}sh=lS;x2={value:void 0};lS.isGetOauthCodeError=e=>typeof e=="object"&&"code"in e&&Object.values(ti).includes(e.code)&&"message"in e&&typeof e.message=="string";const cS=({storage:e})=>{const t=a=>JSON.stringify(a),n=a=>JSON.parse(a),r=a=>{const l=e.getItem(a);if(!(!l||l==="undefined"||l==="null"))try{return n(l)}catch(c){$u.error(`Error while parsing ${a} from local storage`,{value:l}),o(a),ot.events.emit("parseFailure",c,a)}},i=(a,l)=>{e.setItem(a,t(l))},o=a=>{e.removeItem(a)};return{getItem:r,getKeys:()=>Object.keys(e),removeItem:o,setItem:i}};class ot{static clearRegistry(){ot.registry={localStorage:void 0,secureStorage:void 0,sessionStorage:void 0}}static registerSourceStorage(t,n){$u.logVerboseTroubleshootingMessage("StorageService.registerSourceStorage",{implementation:n,source:t}),ot.registry[t]=n}static getSourceStorage(t){return ot.registry[t]}static resolveStorage(t){const n=(t==null?void 0:t.priority)||["localStorage"];for(const r of n){const i=ot.getSourceStorage(r);if(i)return i}if(n.includes("localStorage"))return $u.info("No available storage found based on the specified priority, defaulting to localStorage"),cS({storage:localStorage});if(n.includes("sessionStorage"))return $u.info("No available storage found based on the specified priority, defaulting to sessionStorage"),cS({storage:sessionStorage});throw $u.logVerboseTroubleshootingMessage("No storage found  StorageService.registry:",ot.registry),new Error("No available storage found based on the specified priority")}static getItem(t,n){return ot.resolveStorage(n).getItem(t)}static setItem(t,n,r){ot.resolveStorage(r).setItem(t,n)}static removeItem(t,n){ot.resolveStorage(n).removeItem(t)}static getKeys(t){return ot.resolveStorage(t).getKeys()}}ot.registry={localStorage:void 0,secureStorage:void 0,sessionStorage:void 0};ot.events=new Mxe;const nq=({storage:e,postfix:t})=>{const n=r=>t?`${r}_${t}`:r;return Object.assign(Object.assign({},e),{getItem:r=>e.getItem(n(r)),removeItem:r=>e.removeItem(n(r)),setItem:(r,i)=>e.setItem(n(r),i)})},MAe=e=>e*1e9;var rq={};const wM=(e,t)=>{if(typeof process>"u"||!rq)return t;const n=Array.isArray(e)?e:[e];for(const r of n){const i=rq[r];if(i!==void 0)return i}return t};new gi("@dynamic-labs/iframe-setup");Oo("@dynamic-labs/utils",J_e);var Ooe="4.57.1",DAe={"@dynamic-labs/sdk-api-core":"0.0.860"};const Rd=()=>typeof window>"u";Rd()||new URL(window.location.href);const jAe=Ooe,$Ae=DAe["@dynamic-labs/sdk-api-core"];var LAe="4.57.1",UAe="4.57.1",U5={exports:{}},iq;function FAe(){return iq||(iq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(U5)),U5.exports}var WAe=FAe();const Noe=Rr(WAe),Hl=new Noe,Jn=new gi("WalletConnector"),qAe=(e,t)=>{if(t.length!==0)return e.find(n=>t.every(i=>((n==null?void 0:n[i.flag])||!1)===i.value)===!0)},Ga=(e,t,n,r)=>({blockchainName:e,displayName:r??e,name:t,symbol:n}),zAe=[Ga("Algorand","algorand","ALGO"),Ga("Aptos","aptos","APTOS"),Ga("Bitcoin","bitcoin","BTC"),Ga("Cosmos","cosmos","COSMOS"),Ga("Eclipse","eclipse","ECLIPSE"),Ga("Ethereum","evm","ETH","EVM"),Ga("Flow","flow","FLOW"),Ga("Solana","solana","SOL"),Ga("Spark","spark","SPARK"),Ga("Starknet","starknet","ETH"),Ga("Sui","sui","SUI"),Ga("Tron","tron","TRON"),Ga("TON","ton","TON")],VAe={algo:"algorand",bip122:"bitcoin",btc:"bitcoin",eip155:"evm",eth:"evm",sol:"solana",stark:"starknet",sui:"sui"};let k2;const KAe=e=>{k2=e},Lm=e=>{var t;const n=e.toLowerCase(),r=(t=VAe[n])!==null&&t!==void 0?t:n,i=zAe.find(o=>o.name===r||o.symbol.toLocaleLowerCase()===r);if(i)return i},Uc=e=>{var t,n;const r=Lm(e);if(!r)return;const i=k2==null?void 0:k2[r.name],o=Object.assign({},r);return i&&(o.blockchainName=(t=i.displayName)!==null&&t!==void 0?t:r.blockchainName,o.displayName=(n=i.displayName)!==null&&n!==void 0?n:r.displayName),o},bM=e=>!!e.verifyOneTimePassword,vm=e=>!!e.clearEmail,Poe=e=>{const t=e;return!!(t&&t.key==="turnkeyhd"&&typeof t.getWebAuthnAttestation=="function"&&typeof t.getAuthenticatorHandler=="function"&&typeof t.getExportHandler=="function"&&typeof t.isSessionKeyCompatible=="function"&&typeof t.createOrRestoreSession=="function")},HAe=e=>["eip155","flow","evm","eth","avax","matic"].includes(e.toLowerCase()),dS=(e,t)=>{let n=e;return n!=null&&n.startsWith("0x")&&(n=n.slice(2)),n=HAe(t)?n==null?void 0:n.toLowerCase():n,n},$a=(e,t,n)=>dS(e,n)===dS(t,n),J1=e=>!!e.canConnectViaSocial,GAe=(e,t,n)=>t.flatMap(r=>e.find(i=>JAe(i,r,n))).filter(ZAe),JAe=(e,t,n)=>e.key===t&&(n?e.connectedChain===n:!0),ZAe=e=>!!e,oq=(e,t,n)=>{const r=GAe(e,[t],n);return r.length>0?r[0]:null},YAe=(e,t,n)=>{if(HI())return e;const r=Boe(e,t,n);if(!r)return`${r}?uri=${encodeURIComponent(e)}`;const i=new URL(r),o=new URLSearchParams(i.search);return o.set("uri",e),i.search=o.toString(),i.toString()},Boe=(e,t,n)=>{var r,i,o,s;if(HI())return e.split("?")[0];const a=rr()?"mobile":"desktop";let l;return n==="native"?l=((r=t[a])===null||r===void 0?void 0:r.native)||((i=t[a])===null||i===void 0?void 0:i.universal):l=((o=t[a])===null||o===void 0?void 0:o.universal)||((s=t[a])===null||s===void 0?void 0:s.native),l||""},Moe=({mode:e,uri:t="",deepLinks:n,preference:r})=>{if(!n)return"";switch(e){case"connection":return YAe(t,n,r);case"regular":return Boe(t,n,r)}};function XAe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ks(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function sq(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}const QAe=(e,t,n,r)=>Ks(void 0,void 0,void 0,function*(){var i,o,s;const a=Moe({deepLinks:t,mode:"connection",preference:r,uri:e});rr()?yield Ln.openURL(a):(!((i=t==null?void 0:t.desktop)===null||i===void 0)&&i.native&&((o=n.onDesktopUri)===null||o===void 0||o.call(n,a)),(s=n.onDisplayUri)===null||s===void 0||s.call(n,e))}),_M=e=>!!e.isEmbeddedWallet,e6e=e=>["magicemailotp","magicsocial"].includes(e.key),aq=e=>["bloctoemail","bloctoevm","Blocto"].includes(e.key),rc=e=>!!e.getWebAuthnAttestation,YI=e=>e!=null&&typeof e=="object"&&"canSponsorTransactionGas"in e,xM=e=>!!(e!=null&&e.sendBitcoin),Ph=e=>"canConnectWithHardwareWallet"in e,Doe=e=>e.key==="phantom"&&e.extractSignature!==void 0,t6e=e=>!!(e!=null&&e.isWalletConnect),kM=e=>{var t;return"createUiTransaction"in e&&typeof e.createUiTransaction=="function"&&e.isAvailable&&!(!((t=e.isSendBalanceUnsupported)===null||t===void 0)&&t.call(e))},Pa=e=>{const t=e;return!!(typeof(t==null?void 0:t.isSessionKeyCompatible)=="function"&&t.isSessionKeyCompatible())},Bh=e=>Pa(e.connector);var n6e="4.57.1";const joe=x.createContext(void 0),SM=()=>{const e=x.useContext(joe);if(e===void 0)throw new Error("useWalletBookContext must be used within a WalletBookContextProvider");return e},IM=(e,t,n)=>{var r,i,o;if(!t)throw new Error("Wallet key is required. Please pass in a wallet key to getWalletBookWallet");const s=(i=(r=e==null?void 0:e.wallets)===null||r===void 0?void 0:r[t])!==null&&i!==void 0?i:n;if(!s)throw new Error(`Wallet ${t} not found in wallet book (${Object.keys((o=e==null?void 0:e.wallets)!==null&&o!==void 0?o:{}).length} wallets found)`);return s};var r6e="4.57.1",ok={};const lq="https://iconic.dynamic-static-assets.com/icons/sprite.svg",EM=()=>{var e,t,n;return typeof process<"u"&&ok&&(n=(t=(e=ok.ICONIC_SPRITE_CDN_URL)!==null&&e!==void 0?e:ok.NEXT_PUBLIC_ICONIC_SPRITE_CDN_URL)!==null&&t!==void 0?t:ok.REACT_APP_ICONIC_SPRITE_CDN_URL)!==null&&n!==void 0?n:lq},i6e=EM(),De=e=>{const t=Object.assign(Object.assign({},e),{function:r=>{const i=`${i6e}#${t.iconName}`;return x.createElement("img",Object.assign(Object.assign({"data-testid":`iconic-${t.iconName}`},r),{alt:t.alt,src:i}))}}),n=t.function.bind(t);return Object.assign(n,{iconName:t.iconName,sourcePath:t.sourcePath}),n},$oe=De({alt:"Brave Browser",iconName:"brave",sourcePath:"icons/browsers/brave.svg"}),Loe=De({alt:"Chrome Browser",iconName:"chrome",sourcePath:"icons/browsers/chrome.svg"}),Uoe=De({alt:"Edge Browser",iconName:"edge",sourcePath:"icons/browsers/edge.svg"}),Foe=De({alt:"Firefox Browser",iconName:"firefox",sourcePath:"icons/browsers/firefox.svg"}),o6e=De({alt:"Opera Browser",iconName:"opera",sourcePath:"icons/browsers/opera.svg"}),Woe=De({alt:"Opera Browser",iconName:"safari",sourcePath:"icons/browsers/safari.svg"});De({alt:"Aleo Chain",iconName:"aleo",sourcePath:"icons/chains/aleo.svg"});const s6e=De({alt:"Algorand Chain",iconName:"algorand",sourcePath:"icons/chains/algorand.svg"}),a6e=De({alt:"Aptos Chain",iconName:"aptos",sourcePath:"icons/chains/aptos.svg"});De({alt:"Arbitrum Chain",iconName:"arbitrum",sourcePath:"icons/chains/arbitrum.svg"});De({alt:"Aurora Chain",iconName:"aurora",sourcePath:"icons/chains/aurora.svg"});De({alt:"Axelar Chain",iconName:"axelar",sourcePath:"icons/chains/axelar.svg"});De({alt:"Base Chain",iconName:"base",sourcePath:"icons/chains/base.svg"});De({alt:"Berachain Chain",iconName:"berachain",sourcePath:"icons/chains/berachain.svg"});const l6e=De({alt:"Bitcoin Chain",iconName:"bitcoin",sourcePath:"icons/chains/bitcoin.svg"});De({alt:"BNB Chain",iconName:"bnb",sourcePath:"icons/chains/bnb.svg"});const c6e=De({alt:"Cosmos Chain",iconName:"cosmos",sourcePath:"icons/chains/cosmos.svg"}),d6e=De({alt:"Eclipse",iconName:"eclipse",sourcePath:"icons/chains/eclipse.svg"}),qoe=De({alt:"Ethereum Chain",iconName:"ethereum",sourcePath:"icons/chains/ethereum.svg"}),u6e=De({alt:"Flow Chain",iconName:"flow",sourcePath:"icons/chains/flow.svg"});De({alt:"Gnosis Chain",iconName:"gnosis",sourcePath:"icons/chains/gnosis.svg"});De({alt:"Goerli Chain",iconName:"goerli",sourcePath:"icons/chains/goerli.svg"});De({alt:"Optimism Chain",iconName:"optimism",sourcePath:"icons/chains/optimism.svg"});De({alt:"Osmosis Chain",iconName:"osmosis",sourcePath:"icons/chains/osmosis.svg"});De({alt:"Palm Chain",iconName:"palm",sourcePath:"icons/chains/palm.svg"});De({alt:"Polygon Chain",iconName:"polygon",sourcePath:"icons/chains/polygon.svg"});De({alt:"Sei Chain",iconName:"sei",sourcePath:"icons/chains/sei.svg"});const f6e=De({alt:"Solana Chain",iconName:"solana",sourcePath:"icons/chains/solana.svg"}),h6e=De({alt:"Spark Chain",iconName:"spark",sourcePath:"icons/chains/spark.svg"}),p6e=De({alt:"Starknet Chain",iconName:"starknet",sourcePath:"icons/chains/starknet.svg"});De({alt:"Stellar Chain",iconName:"stellar",sourcePath:"icons/chains/stellar.svg"});const m6e=De({alt:"Sui Chain",iconName:"sui",sourcePath:"icons/chains/sui.svg"}),g6e=De({alt:"Ton Chain",iconName:"ton",sourcePath:"icons/chains/ton.svg"}),y6e=De({alt:"Tron Chain",iconName:"tron",sourcePath:"icons/chains/tron.svg"});De({alt:"zkSync Era Chain",iconName:"zkSync",sourcePath:"icons/chains/zkSync.svg"});De({alt:"Banxa",iconName:"banxa",sourcePath:"icons/onramps/banxa.svg"});De({alt:"Coinbase Pay",iconName:"coinbase-pay",sourcePath:"icons/onramps/coinbase-pay.svg"});De({alt:"Crypto.com",iconName:"crypto-dot-com",sourcePath:"icons/onramps/crypto-dot-com.svg"});const v6e=De({alt:"Bitbucket",iconName:"bitbucket",sourcePath:"icons/social/bitbucket.svg"}),CM=De({alt:"Discord",iconName:"discord",sourcePath:"icons/social/discord.svg"}),w6e=De({alt:"Facebook",iconName:"facebook",sourcePath:"icons/social/facebook.svg"}),b6e=De({alt:"Farcaster",iconName:"farcaster",sourcePath:"icons/social/farcaster.svg"}),_6e=De({alt:"Github",iconName:"github",sourcePath:"icons/social/github.svg"}),x6e=De({alt:"Github",iconName:"github-dark",sourcePath:"icons/social/github-dark.svg"}),k6e=De({alt:"Gitlab",iconName:"gitlab",sourcePath:"icons/social/gitlab.svg"}),S6e=De({alt:"Google",iconName:"google",sourcePath:"icons/social/google.svg"}),zoe=De({alt:"Helpdesk",iconName:"helpdesk",sourcePath:"icons/social/helpdesk.svg"}),I6e=De({alt:"Linkedin",iconName:"linkedin",sourcePath:"icons/social/linkedin.svg"}),E6e=De({alt:"Microsoft",iconName:"microsoft",sourcePath:"icons/social/microsoft.svg"}),AM=De({alt:"Slack",iconName:"slack",sourcePath:"icons/social/slack.svg"}),C6e=De({alt:"Telegram",iconName:"telegram",sourcePath:"icons/social/telegram.svg"}),A6e=De({alt:"Twitch",iconName:"twitch",sourcePath:"icons/social/twitch.svg"}),R6e=De({alt:"Twitch",iconName:"twitch-dark",sourcePath:"icons/social/twitch-dark.svg"}),RM=De({alt:"Twitter",iconName:"twitter",sourcePath:"icons/social/twitter.svg"}),T6e=De({alt:"Twitter",iconName:"twitter-dark",sourcePath:"icons/social/twitter-dark.svg"}),O6e=De({alt:"Apple",iconName:"apple",sourcePath:"icons/social/apple.svg"}),N6e=De({alt:"Apple",iconName:"apple-dark",sourcePath:"icons/social/apple-dark.svg"}),P6e=De({alt:"Coinbase",iconName:"coinbasesocial",sourcePath:"icons/social/coinbasesocial.svg"}),B6e=De({alt:"Coinbase",iconName:"coinbasesocial-dark",sourcePath:"icons/social/coinbasesocial-dark.svg"}),M6e=De({alt:"Instagram",iconName:"instagram",sourcePath:"icons/social/instagram.svg"}),D6e=De({alt:"YouTube",iconName:"youtube",sourcePath:"icons/social/youtube.svg"}),j6e=De({alt:"onePassword",iconName:"one-password",sourcePath:"icons/social/onePassword.svg"}),$6e=De({alt:"onePassword-dark",iconName:"one-password-dark",sourcePath:"icons/social/onePassword-dark.svg"}),L6e=De({alt:"epicGames",iconName:"epicgames",sourcePath:"icons/social/epicgames.svg"}),U6e=De({alt:"epicGames-dark",iconName:"epicgames-dark",sourcePath:"icons/social/epicgames-dark.svg"}),F6e=De({alt:"spotify",iconName:"spotify",sourcePath:"icons/social/spotify.svg"}),W6e=De({alt:"spotify-dark",iconName:"spotify-dark",sourcePath:"icons/social/spotify-dark.svg"}),q6e=De({alt:"steam",iconName:"steam",sourcePath:"icons/social/steam.svg"}),z6e=De({alt:"steam-dark",iconName:"steam-dark",sourcePath:"icons/social/steam-dark.svg"}),V6e=De({alt:"tiktok",iconName:"tiktok",sourcePath:"icons/social/tiktok.svg"}),K6e=De({alt:"tiktok-dark",iconName:"tiktok-dark",sourcePath:"icons/social/tiktok-dark.svg"}),H6e=De({alt:"line",iconName:"line",sourcePath:"icons/social/line.svg"}),G6e=De({alt:"shopify",iconName:"shopify",sourcePath:"icons/social/shopify.svg"}),J6e=De({alt:"kraken",iconName:"kraken",sourcePath:"icons/social/kraken.svg"}),Z6e=De({alt:"kraken-dark",iconName:"kraken-dark",sourcePath:"icons/social/kraken-dark.svg"}),Y6e=De({alt:"binance",iconName:"binancesocial",sourcePath:"icons/social/binancesocial.svg"}),X6e=De({alt:"okta",iconName:"okta",sourcePath:"icons/social/okta.svg"}),Q6e=Object.freeze(Object.defineProperty({__proto__:null,AppleDarkSocialIcon:N6e,AppleSocialIcon:O6e,BinanceSocialIcon:Y6e,BitbucketIcon:v6e,CoinbaseSocialDarkIcon:B6e,CoinbaseSocialIcon:P6e,DiscordIcon:CM,EpicGamesDarkIcon:U6e,EpicGamesIcon:L6e,FacebookIcon:w6e,FarcasterIcon:b6e,GithubDarkIcon:x6e,GithubIcon:_6e,GitlabIcon:k6e,GoogleIcon:S6e,HelpdeskIcon:zoe,InstagramIcon:M6e,KrakenDarkIcon:Z6e,KrakenIcon:J6e,LineIcon:H6e,LinkedinIcon:I6e,MicrosoftIcon:E6e,OktaIcon:X6e,OnePasswordDarkIcon:$6e,OnePasswordIcon:j6e,ShopifyIcon:G6e,SlackIcon:AM,SpotifyDarkIcon:W6e,SpotifyIcon:F6e,SteamDarkIcon:z6e,SteamIcon:q6e,TelegramIcon:C6e,TikTokDarkIcon:K6e,TikTokIcon:V6e,TwitchDarkIcon:R6e,TwitchIcon:A6e,TwitterDarkIcon:T6e,TwitterIcon:RM,YouTubeIcon:D6e},Symbol.toStringTag,{value:"Module"}));De({alt:"1inch Wallet",iconName:"1inch.svg",sourcePath:"icons/wallets/1inch.svg"});De({alt:"Argent X Wallet",iconName:"argentx",sourcePath:"icons/wallets/argentx.svg"});De({alt:"Argent Mobile",iconName:"argentmobile",sourcePath:"icons/wallets/argent-mobile.svg"});De({alt:"Argent Web Wallet",iconName:"argentwebwallet",sourcePath:"icons/wallets/argent-web-wallet.svg"});De({alt:"Backpack Wallet",iconName:"backpack",sourcePath:"icons/wallets/backpack.svg"});De({alt:"Binance Wallet",iconName:"binance.svg",sourcePath:"icons/wallets/binance.svg"});De({alt:"BitPay Wallet",iconName:"bitpay.svg",sourcePath:"icons/wallets/bitpay.svg"});De({alt:"Blocto Wallet",iconName:"blocto",sourcePath:"icons/wallets/blocto.svg"});De({alt:"Braavos Wallet",iconName:"braavos",sourcePath:"icons/wallets/braavos.svg"});De({alt:"ByBit Wallet",iconName:"bybit",sourcePath:"icons/wallets/bybit.svg"});De({alt:"Coin98 Wallet",iconName:"coin98",sourcePath:"icons/wallets/coin98.svg"});De({alt:"Coinbase Wallet",iconName:"coinbase",sourcePath:"icons/wallets/coinbase.svg"});De({alt:"Crypto Wallet",iconName:"crypto.svg",sourcePath:"icons/wallets/crypto.svg"});De({alt:"Dapper Wallet",iconName:"dapper",sourcePath:"icons/wallets/dapper.svg"});De({alt:"Dawn Wallet",iconName:"dawn",sourcePath:"icons/wallets/dawn.svg"});De({alt:"Default Wallet",iconName:"defaultwallet",sourcePath:"icons/wallets/default.svg"});De({alt:"Dapper Wallet",iconName:"emailsign.svg",sourcePath:"icons/wallets/emailsign.svg"});const m0=De({alt:"Sign in with Email",iconName:"signinwithemail",sourcePath:"icons/wallets/signinwithemail.svg"});De({alt:"Exodus Wallet",iconName:"exodus",sourcePath:"icons/wallets/exodus.svg"});De({alt:"Fireblocks Wallet",iconName:"fireblocks",sourcePath:"icons/wallets/fireblocks.svg"});De({alt:"Flow Wallet",iconName:"flowwallet",sourcePath:"icons/wallets/flowwallet.svg"});De({alt:"Fordefi Wallet",iconName:"fordefi",sourcePath:"icons/wallets/fordefi.svg"});De({alt:"Fortmatic Wallet",iconName:"fortmatic",sourcePath:"icons/wallets/fortmatic.svg"});De({alt:"Frame Wallet",iconName:"frame",sourcePath:"icons/wallets/frame.svg"});De({alt:"Gamestop Wallet",iconName:"gamestop",sourcePath:"icons/wallets/gamestop.svg"});De({alt:"Glow Wallet",iconName:"glow",sourcePath:"icons/wallets/glow.svg"});De({alt:"ImToken Wallet",iconName:"imtoken.svg",sourcePath:"icons/wallets/imtoken.svg"});De({alt:"Injected Wallet",iconName:"injectedwallet",sourcePath:"icons/wallets/injectedwallet.svg"});De({alt:"Infinex Wallet",iconName:"infinex",sourcePath:"icons/wallets/infinex.svg"});De({alt:"Keplr Wallet",iconName:"keplr",sourcePath:"icons/wallets/keplr.svg"});De({alt:"Ledger Wallet",iconName:"ledger",sourcePath:"icons/wallets/ledger.svg"});De({alt:"Lilico Wallet",iconName:"lilico",sourcePath:"icons/wallets/lilico.svg"});De({alt:"Linen Wallet",iconName:"linen.svg",sourcePath:"icons/wallets/linen.svg"});De({alt:"Matic Wallet",iconName:"matic",sourcePath:"icons/wallets/matic.svg"});De({alt:"MetaMask Wallet",iconName:"metamask",sourcePath:"icons/wallets/metamask.svg"});De({alt:"Missing Wallet",iconName:"missing",sourcePath:"icons/wallets/missing.svg"});De({alt:"MyAlgo Wallet",iconName:"myalgo",sourcePath:"icons/wallets/myalgo.svg"});De({alt:"Omni Wallet",iconName:"omni",sourcePath:"icons/wallets/omni.svg"});De({alt:"OpeanSea Wallet",iconName:"opeansea",sourcePath:"icons/wallets/opensea.svg"});De({alt:"Oyl Wallet",iconName:"oyl",sourcePath:"icons/wallets/oyl.svg"});De({alt:"Passkeys Wallet",iconName:"passkeys",sourcePath:"icons/wallets/passkeys.svg"});De({alt:"Pera Wallet",iconName:"pera",sourcePath:"icons/wallets/pera.svg"});De({alt:"Phantom Wallet",iconName:"phantom",sourcePath:"icons/wallets/phantom.svg"});De({alt:"Rabby Wallet",iconName:"rabby",sourcePath:"icons/wallets/rabby.svg"});De({alt:"Rainbow Wallet",iconName:"rainbow",sourcePath:"icons/wallets/rainbow.svg"});De({alt:"Safe Wallet",iconName:"safe",sourcePath:"icons/wallets/safe.svg"});De({alt:"Sequence Wallet",iconName:"sequence",sourcePath:"icons/wallets/sequence.svg"});De({alt:"Slush  A Sui wallet",iconName:"slush",sourcePath:"icons/wallets/slush.svg"});De({alt:"Solflare Wallet",iconName:"solflare",sourcePath:"icons/wallets/solflare.svg"});De({alt:"Spot Wallet",iconName:"spot",sourcePath:"icons/wallets/spot.svg"});De({alt:"Stroke Wallet",iconName:"stroke",sourcePath:"icons/wallets/stroke.svg"});De({alt:"Suiet Wallet",iconName:"suiet",sourcePath:"icons/wallets/suiet.svg"});De({alt:"Taho Wallet",iconName:"tallycash",sourcePath:"icons/wallets/tallycash.svg"});De({alt:"Terra Wallet",iconName:"terra",sourcePath:"icons/wallets/terra.svg"});De({alt:"Torus Wallet",iconName:"torus",sourcePath:"icons/wallets/torus.svg"});De({alt:"TronLink Wallet",iconName:"tronlink",sourcePath:"icons/wallets/tronlink.svg"});De({alt:"Trust Wallet",iconName:"trust",sourcePath:"icons/wallets/trust.svg"});De({alt:"Unstoppable Wallet",iconName:"unstoppable",sourcePath:"icons/wallets/unstoppable.svg"});De({alt:"Venly Wallet",iconName:"venly",sourcePath:"icons/wallets/venly.svg"});const eRe=De({alt:"Wallet Connect Wallet",iconName:"walletconnect",sourcePath:"icons/wallets/walletconnect.svg"});De({alt:"Magic Link Wallet",iconName:"magiclink",sourcePath:"icons/wallets/magic-link.svg"});De({alt:"Turnkey",iconName:"turnkey",sourcePath:"icons/wallets/embedded-wallet.svg"});De({alt:"Dynamic Waas",iconName:"dynamicwaas",sourcePath:"icons/wallets/embedded-wallet.svg"});De({alt:"Zengo Wallet",iconName:"zengo",sourcePath:"icons/wallets/zengo.svg"});De({alt:"Superb Wallet",iconName:"superb",sourcePath:"icons/wallets/superb.svg"});De({alt:"ZeroDev",iconName:"zerodev",sourcePath:"icons/wallets/embedded-wallet.svg"});De({alt:"Smart Wallet",iconName:"smartwallet",sourcePath:"icons/wallets/smart-wallet.svg"});De({alt:"Magic Eden",iconName:"magiceden",sourcePath:"icons/wallets/magiceden.svg"});De({alt:"Xverse",iconName:"xverse",sourcePath:"icons/wallets/xverse.svg"});De({alt:"Unisat",iconName:"unisat",sourcePath:"icons/wallets/unisat.svg"});De({alt:"Leather",iconName:"leather",sourcePath:"icons/wallets/leather.svg"});De({alt:"OKX",iconName:"okx",sourcePath:"icons/wallets/okx.svg"});De({alt:"Coinbase WaaS",iconName:"coinbasewaas",sourcePath:"icons/wallets/embedded-wallet.svg"});De({alt:"MetaMask Starknet Snap",iconName:"metamaskstarknetsnap",sourcePath:"icons/wallets/metamask-starknet.svg"});De({alt:"Nightly",iconName:"nightly",sourcePath:"icons/wallets/nightly.svg"});De({alt:"OneKey",iconName:"onekey",sourcePath:"icons/wallets/onekey.svg"});De({alt:"Ambire",iconName:"ambire",sourcePath:"icons/wallets/ambire.svg"});De({alt:"Bitget Wallet",iconName:"bitgetwallet",sourcePath:"icons/wallets/bitgetwallet.svg"});De({alt:"Math Wallet",iconName:"coin98",sourcePath:"icons/wallets/coin98.svg"});De({alt:"Clover Wallet",iconName:"clover",sourcePath:"icons/wallets/clover.svg"});De({alt:"Unknown Wallet",iconName:"unknown-wallet",sourcePath:"icons/wallets/unknown.svg"});De({alt:"Abstract",iconName:"abstract",sourcePath:"icons/wallets/abstract.svg"});De({alt:"Eden Online",iconName:"edenonline",sourcePath:"icons/wallets/edenonline.svg"});De({alt:"Intersend",iconName:"intersend",sourcePath:"icons/wallets/intersend.svg"});De({alt:"Pontem",iconName:"pontem",sourcePath:"icons/wallets/pontem.svg"});const Voe=De({alt:"Apple",iconName:"apple",sourcePath:"icons/mobile/apple.svg"}),Koe=De({alt:"Android",iconName:"android",sourcePath:"icons/mobile/android.svg"}),tRe=De({alt:"Captcha Wave",iconName:"captcha-wave",sourcePath:"icons/misc/captcha-wave.svg"}),TM=De({alt:"User Profile",iconName:"user-profile",sourcePath:"icons/misc/user-profile.svg"});De({alt:"Arrow Send",iconName:"arrow-send",sourcePath:"icons/misc/arrow-send.svg"});function nRe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const rRe=new gi("iconic"),iRe=(e,t="light")=>{const n=Object.fromEntries(Object.values(Q6e).map(i=>[i.iconName,i]));if(t==="dark"){const i=n[`${e.toLowerCase()}-dark`];if(i)return i}const r=n[e.toLowerCase()];if(r)return r;throw new Error(`Icon ${e}, not found`)},OM=(e,t="light")=>{try{return iRe(e,t)}catch(n){return rRe.error(n),null}},XI=e=>{var{name:t,variant:n}=e,r=nRe(e,["name","variant"]);const i=OM(t,n);return i?x.createElement(i,r,null):null};Oo("@dynamic-labs/iconic",r6e);const oRe={androidUrl:"https://play.google.com/store/apps/details?id={{id}}",chromeUrl:"https://chrome.google.com/webstore/detail/{{id}}",edgeUrl:"https://microsoftedge.microsoft.com/addons/detail/{{id}}",firefoxUrl:"https://addons.mozilla.org/en-US/firefox/addon/{{id}}",iconicUrl:`${EM()}#{{id}}`,iosUrl:"https://apps.apple.com/app/apple-store/{{id}}",walletConnectUrl:"https://registry.walletconnect.org/v2/logo/sm/{{id}}"},xd=(e,t)=>{if(t)return oRe[e].replace("{{id}}",t)},Hoe=e=>e.spriteId?xd("iconicUrl",e.spriteId):"",QI=new gi("WalletBook"),Goe=()=>{try{return xd("iconicUrl","defaultwallet")}catch(e){QI.error(e)}return""},Ud=(e,t)=>{try{return IM(e,t)}catch{return}},sRe=(e,t)=>{const n=e.groups[t];if(!n)throw new Error(`Group ${t} not found in wallet book`);return n},Joe=(e,t)=>{try{return sRe(e,t)}catch(n){QI.error(n);return}},aRe="https://dynamic-static-assets.com/wallet-book/v1/stable/wallet-book.json",Zoe=()=>wM(["WALLET_BOOK_CDN_URL","NEXT_PUBLIC_WALLET_BOOK_CDN_URL","REACT_APP_WALLET_BOOK_CDN_URL"],aRe),lRe=(e,t,n)=>{var r;const i=Joe(e,t);return(r=i==null?void 0:i.walletOverrides)===null||r===void 0?void 0:r[n]},g0=e=>{var t;return Object.keys((t=e==null?void 0:e.wallets)!==null&&t!==void 0?t:{}).length>0},cRe=(e,t,n)=>{var r;return Object.values((r=e==null?void 0:e.wallets)!==null&&r!==void 0?r:{}).find(i=>{var o,s;return i.name===t&&((s=(o=i.injectedConfig)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.chain)===n})};function NM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function cq(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}var F5={exports:{}},dq;function dRe(){return dq||(dq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(F5)),F5.exports}var uRe=dRe();const fRe=Rr(uRe);var hRe={argentx:{brand:{alt:"ArgentX",primaryColor:"#FF875B",spriteId:"argentx"},key:"argentx",name:"ArgentX"},backpack:{brand:{alt:"Backpack",spriteId:"backpack"},key:"backpack",name:"Backpack"},bitgetwallet:{brand:{alt:"Bitget Wallet",spriteId:"bitget"},key:"bitgetwallet",name:"Bitget"},blocto:{brand:{alt:"Blocto",primaryColor:"#5E678A",spriteId:"blocto"},key:"blocto",name:"Blocto"},brave:{brand:{alt:"Brave Browser",primaryColor:"#4B49C6",spriteId:"brave"},key:"brave",name:"Brave"},coin98:{brand:{alt:"Coin98 Wallet",primaryColor:"#CDA349",spriteId:"fc460647-ea95-447a-99f0-1bff8fa4be00"},key:"coin98",name:"Coin98"},coinbase:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},key:"coinbase",name:"Coinbase"},compasswallet:{brand:{alt:"Compass",primaryColor:"#4B49C6",spriteId:"1d7dea00-96be-4ce8-ca15-d14bddbb5000"},key:"compasswallet",name:"Compass"},exodus:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},key:"exodus",name:"Exodus"},fireblocks:{brand:{alt:"Fireblocks",spriteId:"fireblocks"},key:"fireblocks",name:"Fireblocks"},flowwallet:{brand:{alt:"Flow Wallet",primaryColor:"#2BE829",spriteId:"flowwallet"},key:"flowwallet",name:"Flow Wallet"},keplr:{brand:{alt:"Keplr",spriteId:"keplr"},key:"keplr",name:"Keplr"},magiceden:{brand:{alt:"Magic Eden",spriteId:"magiceden"},key:"magiceden",name:"Magic Eden"},mathwallet:{brand:{alt:"MathWallet Wallet",spriteId:"26a8f588-3231-4411-60ce-5bb6b805a700"},key:"mathwallet",name:"Math Wallet"},metamask:{brand:{alt:"MetaMask",primaryColor:"#E2761B",spriteId:"metamask"},key:"metamask",name:"MetaMask"},nightly:{brand:{alt:"Nightly Wallet",spriteId:"nightly"},key:"nightly",name:"Nightly"},okxwallet:{brand:{alt:"OKX Wallet",spriteId:"okx"},key:"okxwallet",name:"OKX Wallet"},onekey:{brand:{alt:"OneKey Wallet",spriteId:"onekey"},key:"onekey",name:"OneKey"},phantom:{brand:{alt:"Phantom",primaryColor:"#4B49C6",spriteId:"phantom"},key:"phantom",name:"Phantom"},tronlinkwallet:{brand:{alt:"TronLink Wallet",primaryColor:"#1677FF",spriteId:"tronlink"},key:"tronlink",name:"TronLink"},trust:{brand:{alt:"Trust Wallet",spriteId:"trust"},key:"trust",name:"Trust"},walletconnect:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},key:"walletconnect",name:"WalletConnect"},xverse:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},key:"xverse",name:"Xverse"}},pRe={metamask:{brand:{alt:"MetaMask Wallet",primaryColor:"#E8831D",spriteId:"metamask"},chainGroup:"metamask",chains:["eip155:1","eip155:10","eip155:42161","eip155:42170","eip155:7777777","eip155:80084","eip155:80085","eip155:8453"],desktop:{chromeId:"nkbihfbeogaeaoehlefnkodbefgpgknn",edgeId:"ejbalbakoplchlghecdalmeeeajnimhm",firefoxId:"ether-metamask"},eip6963Config:{rdns:"io.metamask"},filterFromWalletConnect:!0,group:"metamask",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMetaMask",value:!0},{flag:"isDawn",value:!1},{flag:"isBraveWallet",value:!1},{flag:"isTrustWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isZerion",value:!1},{flag:"isSuperb",value:!1},{flag:"isRabby",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1},{flag:"isRainbow",value:!1},{flag:"isAvalanche",value:!1},{flag:"isMagicEden",value:!1},{flag:"isZerion",value:!1},{flag:"isOneKey",value:!1},{flag:"isPhantom",value:!1},{flag:"isCoin98",value:!1},{flag:"isBinance",value:!1}]}],mobile:{androidId:"io.metamask",inAppBrowser:"https://metamask.app.link/dapp",inAppBrowserV2:"https://metamask.app.link/dapp/{{dappURI}}",iosId:"id1438144202",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",shortName:"MetaMask",walletConnect:{sdks:["sign_v1","sign_v2"]}},coinbase:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},chainGroup:"coinbase",desktop:{chromeId:"hnfanknocfeofbddgcijnmhnfnkdnaad"},eip6963Config:{rdns:"com.coinbase.wallet"},group:"coinbase",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isCoinbaseWallet",value:!0}],windowLocations:["coinbaseWalletExtension"]}],mobile:{androidId:"org.toshi",inAppBrowserV2:"https://go.cb-w.com/dapp?cb_url={{encodedDappURI}}",iosId:"id1278383455"},name:"Coinbase",shortName:"Coinbase Wallet"},coinbasesolana:{brand:{alt:"Coinbase Wallet",primaryColor:"#1648F9",spriteId:"coinbase"},chainGroup:"coinbase",desktop:{chromeId:"hnfanknocfeofbddgcijnmhnfnkdnaad"},group:"coinbase",injectedConfig:[{chain:"sol",extensionLocators:[],windowLocations:["coinbaseSolana"]}],mobile:{androidId:"org.toshi",inAppBrowser:"https://go.cb-w.com/dapp?cb_url={{encodedDappURI}}",inAppBrowserV2:"https://go.cb-w.com/dapp?cb_url={{encodedDappURI}}",iosId:"id1278383455"},mobileExperience:"in-app-browser",name:"Coinbase",shortName:"Coinbase Wallet (Solana)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},phantom:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isBraveWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isMagicEden",value:!1},{flag:"isGlow",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1}],walletStandardLocators:[{locator:"features.phantom:.phantom",name:"Phantom"}],windowLocations:["phantom.solana"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},mobileExperience:"redirect",name:"Phantom"},phantombtc:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"btc",extensionLocators:[{flag:"isPhantom",value:!0}],walletStandard:{features:["bitcoin:connect"],name:"Phantom"},windowLocations:["phantom.bitcoin"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (Bitcoin)"},phantomevm:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isPhantom",value:!0}],windowLocations:["phantom.ethereum"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},mobileExperience:"in-app-browser",name:"Phantom",shortName:"Phantom (EVM)"},phantomledger:{brand:{alt:"Phantom Wallet",primaryColor:"#4B49C6",spriteId:"phantom"},chainGroup:"phantom",desktop:{chromeId:"bfnaelmomeimhlpmgjnjophhpkkoljpa",firefoxId:"phantom-app"},group:"phantom",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isBraveWallet",value:!1},{flag:"isExodus",value:!1},{flag:"isMagicEden",value:!1},{flag:"isGlow",value:!1},{flag:"isOKExWallet",value:!1},{flag:"isOkxWallet",value:!1}],walletStandardLocators:[{locator:"features.phantom:.phantom",name:"Phantom"}],windowLocations:["phantom.solana"]}],mobile:{androidId:"app.phantom",iosId:"id1598432977"},name:"Phantom",shortName:"Phantom (Ledger)"},walletconnect:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},chainGroup:"walletconnect",group:"walletconnect",mobile:{androidId:"enable-android",iosId:"id1438144202"},name:"WalletConnect",shortName:"WalletConnect"},walletconnectsol:{brand:{alt:"WalletConnect",primaryColor:"#3182CE",spriteId:"walletconnect"},chainGroup:"walletconnect",group:"walletconnect",mobile:{androidId:"enable-android",iosId:"id1438144202"},name:"WalletConnect"},argentx:{brand:{alt:"Argent X Wallet",primaryColor:"#FF875B",spriteId:"argentx"},desktop:{chromeId:"dlcobpjiigpikoobohmabehhmhfoodbb",edgeId:"ajcicjlkibolbeaaagejfhnofogocgcj",firefoxId:"argent-x"},name:"Ready Wallet (formerly Argent)",shortName:"Ready Wallet (formerly Argent)"},perawallet:{brand:{alt:"Pera Wallet",spriteId:"pera"},mobile:{androidId:"com.algorand.android",iosId:"id1459898525"},name:"Pera Wallet"},blocto:{brand:{alt:"Blocto Wallet",primaryColor:"#5E678A",spriteId:"blocto"},chainGroup:"blocto",group:"blocto",mobile:{androidId:"com.portto.blocto",iosId:"id1481181682"},name:"Blocto",shortName:"Blocto (Flow)"},solflare:{brand:{alt:"Solflare Wallet",primaryColor:"#FC7227",spriteId:"solflare"},chains:["solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"bhhhlbepdkbapadjdnnojkbgioiodbic"},filterFromWalletConnect:!0,hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isSolflare",value:!0}],windowLocations:["solflare"]}],mobile:{androidId:"com.solflare.mobile",inAppBrowser:"https://solflare.com/ul/v1/browse/{{encodedDappURI}}?ref={{encodedDappURI}}",inAppBrowserV2:"https://solflare.com/ul/v1/browse/{{encodedDappURI}}?ref={{encodedDappURI}}",iosId:"id1580902717"},name:"Solflare",walletConnect:{sdks:["sign_v1"]},walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},braavos:{brand:{alt:"Braavos Wallet",primaryColor:"#FABB38",spriteId:"braavos"},desktop:{chromeId:"jnlgamecbpmbajjfhmmmlhejkemejdma",edgeId:"hkkpjehhcnhgefhbdcgfkeegglpjchdc",firefoxId:"braavos-wallet"},injectedConfig:[{chain:"starknet",extensionLocators:[],windowLocations:["braavos"]}],mobile:{androidId:"app.braavos.wallet",inAppBrowser:"https://link.braavos.app/dapp/{{encodedDappURI}}",inAppBrowserV2:"https://link.braavos.app/dapp/{{encodedDappURI}}",iosId:"id1636013523"},name:"Braavos"},trust:{brand:{alt:"Trust Wallet",primaryColor:"#0500FF",spriteId:"7677b54f-3486-46e2-4e37-bf8747814f00"},chainGroup:"trust",chains:["cosmos:cosmoshub-4","cosmos:kava-4","cosmos:thorchain-mainnet-v1","eip155:1","eip155:10","eip155:100","eip155:108","eip155:1101","eip155:128","eip155:137","eip155:2020","eip155:288","eip155:321","eip155:324","eip155:361","eip155:42161","eip155:42220","eip155:43114","eip155:4689","eip155:56","eip155:56288","eip155:59144","eip155:60","eip155:80084","eip155:80085","eip155:820","eip155:88","eip155:9001","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"egjidjbpglichdcondbcbdnbeeppgdph"},eip6963Config:{rdns:"com.trustwallet.app"},filterFromWalletConnect:!0,group:"trust",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isTrustWallet",value:!0}],windowLocations:["trustWallet"]}],mobile:{androidId:"com.wallet.crypto.trustapp",inAppBrowserV2:"https://link.trustwallet.com/open_url?url={{encodedDappURI}}",iosId:"id1288339409",native:"trust://wc",universal:"https://link.trustwallet.com/wc"},name:"Trust",shortName:"Trust",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},rainbow:{brand:{alt:"Rainbow Wallet",primaryColor:"#001e59",spriteId:"rainbow"},chains:["eip155:1","eip155:10","eip155:137","eip155:42161","eip155:56","eip155:7777777","eip155:80084","eip155:80085","eip155:8453"],desktop:{chromeId:"opfgelmcmbiajamepnmloijbpoleiama",edgeId:"cpojfbodiccabbabgimdeohkkpjfpbnf",firefoxId:"rainbow-extension"},eip6963Config:{rdns:"me.rainbow"},filterFromWalletConnect:!0,injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isRainbow",value:!0}],windowLocations:["rainbow"]}],mobile:{androidId:"me.rainbow",inAppBrowserV2:"rainbow://dapp?url={{encodedDappURI}}",iosId:"id1457119021",native:"rainbow://wc",universal:"https://rnbwapp.com/wc"},name:"Rainbow",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},dapper:{brand:{alt:"Dapper Wallet",primaryColor:"#762FBE",spriteId:"dapper"},mobile:{android:"fake-to-get-dapper-to-appear",ios:"fake-to-get-dapper-to-appear"},name:"Dapper"},glow:{brand:{alt:"Glow Wallet",spriteId:"glow"},desktop:{chromeId:"ojbcfhjmpigfobfclfflafhblgemeidi",edgeId:"niihfokdlimbddhfmngnplgfcgpmlido",firefoxId:"glow-solana-wallet"},hardwareWallets:["ledger"],injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isGlow",value:!0}],windowLocations:["glowSolana"]}],name:"Glow"},lilico:{brand:{alt:"Lilico Wallet",spriteId:"lilico"},desktop:{chromeId:"hpclkefagolihohboafpheddmmgdffjm"},filterFromWalletConnect:!0,name:"Lilico"},flowwalletflow:{brand:{alt:"Flow Wallet",spriteId:"flowwallet"},chainGroup:"flowwallet",desktop:{chromeId:"hpclkefagolihohboafpheddmmgdffjm"},filterFromWalletConnect:!0,group:"flowwallet",name:"Flow Wallet"},magicemailotp:{brand:{alt:"Magic Email OTP",spriteId:"magiclink"},name:"Magic Email OTP"},magiclink:{brand:{alt:"Magic Link",spriteId:"magiclink"},name:"Magic Link"},magicsocial:{brand:{alt:"Magic Social",spriteId:"magiclink"},name:"Magic Social"},magiceden:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",chains:["eip155:1","eip155:137","eip155:80084","eip155:80085","eip155:8453","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},eip6963Config:{rdns:"io.magiceden.wallet"},filterFromWalletConnect:!0,group:"magiceden",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMagicEden",value:!0}],windowLocations:["magicEden.ethereum"]}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser",inAppBrowserV2:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",native:"magiceden://wc",universal:"https://magiceden.io/browser"},name:"Magic Eden"},magicedenbtc:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",injectedConfig:[{chain:"btc",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Magic Eden"},windowLocations:["magicEden.bitcoin"]}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser/{{encodedDappURI}}",inAppBrowserV2:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",universal:"https://magiceden.io/browser/{{encodedDappURI}}"},mobileExperience:"in-app-browser",name:"Magic Eden",shortName:"Magic Eden (Bitcoin)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},magicedensol:{brand:{alt:"Magic Eden",spriteId:"magiceden"},chainGroup:"magiceden",desktop:{chromeId:"mkpegjkblkkefacfnmkajcjmabijhclg"},group:"magiceden",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isMagicEden",value:!0}],windowLocations:["magicEden.solana"]}],mobile:{androidId:"com.magiceden.wallet",inAppBrowser:"magiceden://browser/{{encodedDappURI}}",inAppBrowserV2:"magiceden://browser/{{encodedDappURI}}",iosId:"id6478631482",universal:"https://magiceden.io/browser/{{encodedDappURI}}"},name:"Magic Eden",shortName:"Magic Eden (Solana)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},exodus:{brand:{alt:"Exodus Wallet",spriteId:"4c16cad4-cac9-4643-6726-c696efaf5200"},chainGroup:"exodus",chains:["eip155:1","eip155:137","eip155:43114","eip155:56","eip155:80084","eip155:80085","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},filterFromWalletConnect:!0,group:"exodus",mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc",universal:"https://exodus.com/m/wc"},name:"Exodus",walletConnect:{sdks:["sign_v1","sign_v2","auth_v1"]}},exodusevm:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},chainGroup:"exodus",chains:["eip155:1","eip155:137","eip155:43114","eip155:56"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},eip6963Config:{rdns:"com.exodus.web3-wallet"},filterFromWalletConnect:!0,group:"exodus",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isExodus",value:!0}]}],mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc"},name:"Exodus",shortName:"Exodus Wallet (EVM)",walletConnect:{sdks:["sign_v2","auth_v1"]}},exodussol:{brand:{alt:"Exodus Wallet",spriteId:"exodus"},chainGroup:"exodus",chains:["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"aholpfdialjgjfhomihkjbmgjidlcdno"},group:"exodus",injectedConfig:[{chain:"sol",extensionLocators:[{flag:"isPhantom",value:!0},{flag:"isExodus",value:!0}],windowLocations:["exodus.solana"]}],mobile:{androidId:"exodusmovement.exodus",iosId:"id1414384820",native:"exodus://wc"},name:"Exodus",shortName:"Exodus Wallet (Solana)",walletConnect:{sdks:["sign_v2","auth_v1"]}},okxwallet:{brand:{alt:"OKX Wallet",spriteId:"okx"},chainGroup:"okxwallet",chains:["bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba","eip155:1","eip155:137","eip155:43114","eip155:56","eip155:66","eip155:80084","eip155:80085","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"],desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},eip6963Config:{rdns:"com.okex.wallet"},filterFromWalletConnect:!0,group:"okxwallet",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isOKExWallet",value:!0},{flag:"isOkxWallet",value:!0}],windowLocations:["okxwallet"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",inAppBrowserV2:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470",native:"okex://main/wc"},name:"OKX Wallet",shortName:"OKX Wallet",walletConnect:{sdks:["sign_v2"]}},backpack:{brand:{alt:"Backpack",primaryColor:"#e43c3c",spriteId:"backpack"},chainGroup:"backpack",chains:["eip155:1","eip155:10","eip155:10143","eip155:137","eip155:42161","eip155:80084","eip155:80085","eip155:8453","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"],desktop:{chromeId:"aflkmfhebedbjioipglgcbcmnbpgliof"},eip6963Config:{rdns:"app.backpack"},filterFromWalletConnect:!0,group:"backpack",injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isBackpack",value:!0}],windowLocations:[]}],mobile:{androidId:"app.backpack.mobile",iosId:"id6445964121",native:"backpack://wc"},name:"Backpack",walletConnect:{sdks:["sign_v1","sign_v2"]}},okxwalletbtc:{brand:{alt:"OKX Wallet",spriteId:"okx"},chainGroup:"okxwallet",desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},group:"okxwallet",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["okxwallet.bitcoin"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",inAppBrowserV2:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470"},mobileExperience:"in-app-browser",name:"OKX Wallet",shortName:"OKX Wallet (Bitcoin)",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},unisat:{brand:{alt:"UniSat",spriteId:"unisat"},desktop:{chromeId:"ppbibelpcjmhbdihakflkdcoccbgbkpo"},injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["unisat"]}],name:"UniSat"},unknown:{brand:{spriteId:"unknown-wallet"},mobile:{androidId:"enable-android",iosId:"id1234567890"},name:"Unknown Wallet",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},xverse:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},chainGroup:"xverse",desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},group:"xverse",hardwareWallets:["ledger"],injectedConfig:[{chain:"btc",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Xverse",providerId:"XverseProviders.BitcoinProvider"},windowLocations:["XverseProviders.BitcoinProvider"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",inAppBrowserV2:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},name:"Xverse",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},fallbackconnector:{brand:{spriteId:"unknown-wallet"},mobile:{androidId:"enable-android",iosId:"id1234567890"},name:"Fallback Connector",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},oylwallet:{brand:{alt:"Oyl Wallet",spriteId:"oyl"},desktop:{chromeId:"ilolmnhjbbggkmopnemiphomhaojndmb"},injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["oyl"]}],name:"Oyl Wallet"},abstract:{brand:{alt:"Abstract",spriteId:"abstract"},chains:["eip155:11124","eip155:2741"],desktop:{universal:"https://portal.abs.xyz/profile"},injectedConfig:[{chain:"evm",extensionLocators:[]}],name:"Abstract",walletConnect:{sdks:["sign_v1","sign_v2"]}},edenonline:{brand:{alt:"Eden Online",spriteId:"edenonline"},injectedConfig:[{chain:"evm",extensionLocators:[]}],name:"Eden Online"},onekeybtc:{brand:{alt:"OneKey Wallet",spriteId:"onekey"},chainGroup:"onekey",desktop:{chromeId:"jnmbobjmhlngoefaiojfljckilhhlhcj"},group:"onekey",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["$onekey.btc"]}],mobile:{androidId:"so.onekey.app.wallet",iosId:"id1609559473"},mobileExperience:"in-app-browser",name:"OneKey"},intersend:{brand:{alt:"Intersend",spriteId:"intersend"},injectedConfig:[{chain:"evm",extensionLocators:[]}],name:"Intersend"},okxeclipse:{brand:{alt:"OKX Wallet",primaryColor:"#FABB38",spriteId:"okx"},chainGroup:"okxwallet",desktop:{chromeId:"mcohilncbfahbmgdjkbpemcciiolgcge"},group:"okxwallet",injectedConfig:[{chain:"eclipse",extensionLocators:[{flag:"isOKExWallet",value:!0},{flag:"isOkxWallet",value:!0}],windowLocations:["okxwallet.solana"]}],mobile:{androidId:"com.okinc.okex.gp",inAppBrowser:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",inAppBrowserV2:"okx://wallet/dapp/url?dappUrl={{encodedDappURI}}",iosId:"id1327268470"},name:"OKX Wallet"},dynamicwaas:{brand:{alt:"Dynamic Waas",primaryColor:"#4779ff",spriteId:"dynamicwaas"},name:"Dynamic Waas"},nightlyeclipse:{brand:{alt:"Nightly Wallet",spriteId:"nightly"},chainGroup:"nightly",desktop:{chromeId:"fiikommddbeccaoicoejoniammnalkfa",edgeId:"fiikommddbeccaoicoejoniammnalkfa",operaId:"fiikommddbeccaoicoejoniammnalkfa"},group:"nightly",hardwareWallets:["ledger"],injectedConfig:[{chain:"eclipse",extensionLocators:[],walletStandard:{features:["standard:connect","standard:disconnect","solana:signMessage","solana:signTransaction","solana:signAndSendTransaction"],name:"Nightly"}}],name:"Nightly"},bitgetwalletbtc:{brand:{alt:"Bitget Wallet",spriteId:"bitgetwallet"},chainGroup:"bitgetwallet",group:"bitgetwallet",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["bitkeep.unisat"]}],mobile:{androidId:"com.bitkeep.wallet",inAppBrowser:"https://bkcode.vip?action=dapp&url={{encodedDappURI}}",inAppBrowserV2:"https://bkcode.vip?action=dapp&url={{encodedDappURI}}",iosId:"id1395301115"},name:"Bitget Wallet"},backpackeclipse:{brand:{alt:"Backpack",primaryColor:"#e43c3c",spriteId:"backpack"},chainGroup:"backpack",desktop:{chromeId:"aflkmfhebedbjioipglgcbcmnbpgliof"},group:"backpack",hardwareWallets:["ledger"],injectedConfig:[{chain:"eclipse",extensionLocators:[{flag:"isBackpack",value:!0}],windowLocations:["backpack"]}],mobile:{androidId:"app.backpack.mobile",inAppBrowser:"backpack://ul/v1/browse/{{encodedDappURI}}",inAppBrowserV2:"backpack://ul/v1/browse/{{encodedDappURI}}",iosId:"id6445964121"},mobileExperience:"in-app-browser",name:"Backpack"},binancewalletbtc:{brand:{alt:"Binance Wallet",spriteId:"binance"},chainGroup:"binance",group:"binance",injectedConfig:[{chain:"btc",extensionLocators:[],windowLocations:["binancew3w.bitcoin"]}],name:"Binance Wallet",shortName:"Binance"},xversestarknet:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},chainGroup:"xverse",desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},group:"xverse",injectedConfig:[{chain:"starknet",extensionLocators:[],windowLocations:["xverse"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",inAppBrowserV2:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},name:"Xverse"},xversespark:{brand:{alt:"Xverse Wallet",spriteId:"xverse"},chainGroup:"xverse",desktop:{chromeId:"idnnbdplmphpflfnlkomgpfbpcgelopg"},group:"xverse",hardwareWallets:["ledger"],injectedConfig:[{chain:"spark",extensionLocators:[],walletStandard:{features:["sats-connect:"],name:"Xverse",providerId:"XverseProviders.SparkProvider"},windowLocations:["XverseProviders.SparkProvider"]}],mobile:{androidId:"com.secretkeylabs.xverse",inAppBrowser:"xverse://browser?url={{encodedDappURI}}",inAppBrowserV2:"xverse://browser?url={{encodedDappURI}}",iosId:"id1552272513"},mobileExperience:"in-app-browser",name:"Xverse",walletLimitations:{browserExtension:{unsupportedMethods:["getConnectedAccounts"]}}},turnkey:{brand:{alt:"Turnkey Wallet",spriteId:"turnkey"},name:"Turnkey"},turnkeyhd:{brand:{alt:"Turnkey Wallet",spriteId:"turnkey"},name:"Turnkey HD"}},mRe={groups:hRe,wallets:pRe};function Ur(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in s.prototype)d in a||Object.defineProperty(a,d,{value:s.prototype[d].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const c=n!=null&&n.Parent?new o:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,c;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}let Vb=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}};const Yoe={};function Z1(e){return Yoe}function gRe(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function yRe(e,t){return typeof t=="bigint"?t.toString():t}function Xoe(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Qoe(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function yl(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function vRe(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function hw(e){return JSON.stringify(e)}const ese=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function gO(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const wRe=Xoe(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function bRe(e){if(gO(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(gO(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const _Re=new Set(["string","number","symbol"]);function xRe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kRe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Um(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function SRe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function S2(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Kp(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function sk(e){return typeof e=="string"?e:e==null?void 0:e.message}function Y1(e,t,n){var i,o,s,a,l,c;const r={...e,path:e.path??[]};if(!e.message){const d=sk((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??sk((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??sk((l=n.customError)==null?void 0:l.call(n,e))??sk((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function IRe(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const tse=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,yRe,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ERe=Ur("$ZodError",tse),e3=Ur("$ZodError",tse,{Parent:Error}),CRe=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Vb;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>Y1(l,o,Z1())));throw ese(a,i==null?void 0:i.callee),a}return s.value},ARe=CRe(e3),RRe=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>Y1(l,o,Z1())));throw ese(a,i==null?void 0:i.callee),a}return s.value},TRe=RRe(e3),ORe=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Vb;return o.issues.length?{success:!1,error:new(e??ERe)(o.issues.map(s=>Y1(s,i,Z1())))}:{success:!0,data:o.value}},nse=ORe(e3),NRe=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Y1(s,i,Z1())))}:{success:!0,data:o.value}},rse=NRe(e3),PRe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},BRe=/true|false/i,MRe=Ur("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});let DRe=class{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}};const jRe={major:4,minor:0,patch:5},Ua=Ur("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=jRe;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,l)=>{let c=S2(s),d;for(const u of a){if(u._zod.def.when){if(!u._zod.def.when(s))continue}else if(c)continue;const h=s.issues.length,m=u._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new Vb;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(c||(c=S2(s,h)))});else{if(s.issues.length===h)continue;c||(c=S2(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,a)=>{const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new Vb;return l.then(c=>o(c,r,a))}return o(l,r,a)}}e["~standard"]={validate:o=>{var s;try{const a=nse(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return rse(e,o).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),$Re=Ur("$ZodString",(e,t)=>{var n;Ua.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??PRe(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),LRe=Ur("$ZodBoolean",(e,t)=>{Ua.init(e,t),e._zod.pattern=BRe,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}});function uq(e,t,n){e.issues.length&&t.issues.push(...Kp(n,e.issues)),t.value[n]=e.value}const URe=Ur("$ZodArray",(e,t)=>{Ua.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(c=>uq(c,n,s))):uq(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function ak(e,t,n){e.issues.length&&t.issues.push(...Kp(n,e.issues)),t.value[n]=e.value}function fq(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Kp(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const FRe=Ur("$ZodObject",(e,t)=>{Ua.init(e,t);const n=Xoe(()=>{const u=Object.keys(t.shape);for(const m of u)if(!(t.shape[m]instanceof Ua))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=SRe(t.shape);return{shape:t.shape,keys:u,keySet:new Set(u),numKeys:u.length,optionalKeys:new Set(h)}});yl(e._zod,"propValues",()=>{const u=t.shape,h={};for(const m in u){const v=u[m]._zod;if(v.values){h[m]??(h[m]=new Set);for(const y of v.values)h[m].add(y)}}return h});const r=u=>{const h=new DRe(["shape","payload","ctx"]),m=n.value,v=k=>{const _=hw(k);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};h.write("const input = payload.value;");const y=Object.create(null);let g=0;for(const k of m.keys)y[k]=`key_${g++}`;h.write("const newResult = {}");for(const k of m.keys)if(m.optionalKeys.has(k)){const _=y[k];h.write(`const ${_} = ${v(k)};`);const R=hw(k);h.write(`
        if (${_}.issues.length) {
          if (input[${R}] === undefined) {
            if (${R} in input) {
              newResult[${R}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${R}, ...iss.path] : [${R}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${R} in input) newResult[${R}] = undefined;
        } else {
          newResult[${R}] = ${_}.value;
        }
        `)}else{const _=y[k];h.write(`const ${_} = ${v(k)};`),h.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${hw(k)}, ...iss.path] : [${hw(k)}]
          })));`),h.write(`newResult[${hw(k)}] = ${_}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const b=h.compile();return(k,_)=>b(u,k,_)};let i;const o=gO,s=!Yoe.jitless,l=s&&wRe.value,c=t.catchall;let d;e._zod.parse=(u,h)=>{d??(d=n.value);const m=u.value;if(!o(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;const v=[];if(s&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)i||(i=r(t.shape)),u=i(u,h);else{u.value={};const _=d.shape;for(const R of d.keys){const I=_[R],T=I._zod.run({value:m[R],issues:[]},h),D=I._zod.optin==="optional"&&I._zod.optout==="optional";T instanceof Promise?v.push(T.then(M=>D?fq(M,u,R,m):ak(M,u,R))):D?fq(T,u,R,m):ak(T,u,R)}}if(!c)return v.length?Promise.all(v).then(()=>u):u;const y=[],g=d.keySet,b=c._zod,k=b.def.type;for(const _ of Object.keys(m)){if(g.has(_))continue;if(k==="never"){y.push(_);continue}const R=b.run({value:m[_],issues:[]},h);R instanceof Promise?v.push(R.then(I=>ak(I,u,_))):ak(R,u,_)}return y.length&&u.issues.push({code:"unrecognized_keys",keys:y,input:m,inst:e}),v.length?Promise.all(v).then(()=>u):u}}),WRe=Ur("$ZodRecord",(e,t)=>{Ua.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!bRe(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=t.valueType._zod.run({value:i[l],issues:[]},r);c instanceof Promise?o.push(c.then(d=>{d.issues.length&&n.issues.push(...Kp(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...Kp(l,c.issues)),n.value[l]=c.value)}let a;for(const l in i)s.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else{n.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>Y1(c,r,Z1())),input:s,path:[s],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:i[s],issues:[]},r);l instanceof Promise?o.push(l.then(c=>{c.issues.length&&n.issues.push(...Kp(s,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...Kp(s,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),qRe=Ur("$ZodEnum",(e,t)=>{Ua.init(e,t);const n=gRe(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>_Re.has(typeof r)).map(r=>typeof r=="string"?xRe(r):r.toString()).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),zRe=Ur("$ZodTransform",(e,t)=>{Ua.init(e,t),e._zod.parse=(n,r)=>{const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new Vb;return n.value=i,n}}),VRe=Ur("$ZodOptional",(e,t)=>{Ua.init(e,t),e._zod.optin="optional",e._zod.optout="optional",yl(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),yl(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Qoe(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),KRe=Ur("$ZodNullable",(e,t)=>{Ua.init(e,t),yl(e._zod,"optin",()=>t.innerType._zod.optin),yl(e._zod,"optout",()=>t.innerType._zod.optout),yl(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Qoe(n.source)}|null)$`):void 0}),yl(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),HRe=Ur("$ZodDefault",(e,t)=>{Ua.init(e,t),e._zod.optin="optional",yl(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>hq(o,t)):hq(i,t)}});function hq(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const GRe=Ur("$ZodPipe",(e,t)=>{Ua.init(e,t),yl(e._zod,"values",()=>t.in._zod.values),yl(e._zod,"optin",()=>t.in._zod.optin),yl(e._zod,"optout",()=>t.out._zod.optout),yl(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(o=>pq(o,t,r)):pq(i,t,r)}});function pq(e,t,n){return S2(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const JRe=Ur("$ZodCustom",(e,t)=>{MRe.init(e,t),Ua.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>mq(o,n,r,e));mq(i,n,r,e)}});function mq(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(IRe(i))}}function ZRe(e,t){return new e({type:"string",...Um(t)})}function YRe(e,t){return new e({type:"boolean",...Um(t)})}function XRe(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Um(n)})}const lc=Ur("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ua.init(e,t),e.def=t,e.parse=(n,r)=>ARe(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>nse(e,n,r),e.parseAsync=async(n,r)=>TRe(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>rse(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>kRe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),QRe=Ur("ZodMiniString",(e,t)=>{$Re.init(e,t),lc.init(e,t)});function gr(e){return ZRe(QRe,e)}const e4e=Ur("ZodMiniBoolean",(e,t)=>{LRe.init(e,t),lc.init(e,t)});function Kw(e){return YRe(e4e,e)}const t4e=Ur("ZodMiniArray",(e,t)=>{URe.init(e,t),lc.init(e,t)});function Zl(e,t){return new t4e({type:"array",element:e,...Um(t)})}const n4e=Ur("ZodMiniObject",(e,t)=>{FRe.init(e,t),lc.init(e,t),yl(e,"shape",()=>t.shape)});function hs(e,t){const n={type:"object",get shape(){return vRe(this,"shape",{...e}),this.shape},...Um(t)};return new n4e(n)}const r4e=Ur("ZodMiniRecord",(e,t)=>{WRe.init(e,t),lc.init(e,t)});function Kb(e,t,n){return new r4e({type:"record",keyType:e,valueType:t,...Um(n)})}const i4e=Ur("ZodMiniEnum",(e,t)=>{qRe.init(e,t),lc.init(e,t)});function o4e(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new i4e({type:"enum",entries:n,...Um(t)})}const s4e=Ur("ZodMiniTransform",(e,t)=>{zRe.init(e,t),lc.init(e,t)});function Ya(e){return new s4e({type:"transform",transform:e})}const a4e=Ur("ZodMiniOptional",(e,t)=>{VRe.init(e,t),lc.init(e,t)});function Pn(e){return new a4e({type:"optional",innerType:e})}const l4e=Ur("ZodMiniNullable",(e,t)=>{KRe.init(e,t),lc.init(e,t)});function c4e(e){return new l4e({type:"nullable",innerType:e})}function lk(e){return Pn(c4e(e))}const d4e=Ur("ZodMiniDefault",(e,t)=>{HRe.init(e,t),lc.init(e,t)});function u4e(e,t){return new d4e({type:"default",innerType:e,get defaultValue(){return t}})}const f4e=Ur("ZodMiniPipe",(e,t)=>{GRe.init(e,t),lc.init(e,t)});function Xa(e,t){return new f4e({type:"pipe",in:e,out:t})}const h4e=Ur("ZodMiniCustom",(e,t)=>{JRe.init(e,t),lc.init(e,t)});function p4e(e,t={}){return XRe(h4e,e,t)}const So=Pn(Xa(Ya(e=>e||void 0),Pn(gr()))),W5=e=>e&&Object.values(e).some(t=>!!t)?e:void 0,m4e=Pn(Xa(Ya(e=>Array.isArray(e)&&e.length>0?e:void 0),Pn(Zl(gr())))),g4e=e=>{if(!(e!=null&&e.match(/^https?:\/\//)))return e;if(e)try{const n=new URL(e).searchParams.get("id");if(n)return n}catch{}},y4e=e=>{if(e!=null&&e.match(/^[a-z]{32}$/))return e;if(e!=null&&e.includes("chrome.google.com/webstore/detail/"))try{return new URL(e).pathname.split("/").at(-1)}catch{}},v4e=e=>{if(e!=null&&e.match(/^[a-z]{32}$/))return e;if(e!=null&&e.includes("microsoftedge.microsoft.com/addons/detail/"))try{return new URL(e).pathname.split("/").at(-1)}catch{}},w4e=e=>{if(!(e!=null&&e.match(/^https?:\/\//)))return e;if(e!=null&&e.includes("addons.mozilla.org"))try{return new URL(e).pathname.replace(/\/$/,"").split("/").at(-1)}catch{}},gq=/^id[0-9]{1,36}$/,b4e=e=>{if(e!=null&&e.match(gq))return e;if(e!=null&&e.match(/^https:\/\/[a-zA-Z0-9-]+\.apple\.com/))try{const n=new URL(e).pathname.replace(/\/$/,"").split("/").at(-1);if(n!=null&&n.match(gq))return n}catch{}},_4e=hs({chain:gr(),extensionLocators:Zl(hs({flag:gr(),value:u4e(Pn(Kw()),!0)})),providerInterface:Pn(gr()),walletStandard:Pn(hs({features:Zl(gr()),name:gr(),providerId:Pn(gr())})),walletStandardLocators:Pn(Zl(hs({locator:gr(),name:gr()}))),windowLocations:Pn(Zl(gr())).check(p4e(e=>!e||!e.some(t=>["ethereum","ethereum.providers"].includes(t)),{message:"windowLocations cannot include ethereum or ethereum.providers as they are included by default",path:["config"]}))}),ise=hs({alt:So,primaryColor:So,spriteId:So}),ose=Xa(Xa(Ya(e=>e),hs({brand:Pn(ise),chainGroup:Pn(gr()),chains:Pn(Zl(gr())),desktop:Pn(Xa(hs({chromeId:Pn(Xa(So,Ya(y4e))),edgeId:Pn(Xa(So,Ya(v4e))),firefoxId:Pn(Xa(So,Ya(w4e))),native:So,operaId:So,safariId:So,universal:So}),Ya(W5))),eip6963Config:Pn(hs({rdns:gr()})),filterFromWalletConnect:Pn(Kw()),group:Pn(gr()),hardwareWallets:Pn(Zl(gr())),injectedConfig:Pn(Zl(_4e)),mobile:Pn(Xa(Pn(hs({android:lk(gr()),androidId:Pn(Xa(So,Ya(g4e))),inAppBrowser:lk(gr()),inAppBrowserV2:lk(gr()),ios:lk(gr()),iosId:Pn(Xa(So,Ya(b4e))),native:So,universal:So})),Ya(W5))),mobileExperience:Pn(o4e(["in-app-browser","redirect"])),name:gr(),requiresDisconnectBeforeNewConnection:Pn(Kw()),shortName:So,showOnlyIfInstalled:Pn(Kw()),switchNetworkOnlyFromWallet:Pn(Kw()),walletConnect:Pn(Xa(Pn(hs({sdks:m4e})),Ya(W5))),walletGroup:Pn(gr()),walletLimitations:Pn(hs({browserExtension:Pn(hs({unsupportedEvents:Pn(Zl(gr())),unsupportedMethods:Pn(Zl(gr()))})),mobile:Pn(hs({unsupportedEvents:Pn(Zl(gr())),unsupportedMethods:Pn(Zl(gr()))}))}))})),Ya(e=>{var t,n,r,i,o,s;return e.group&&(e.chainGroup=e.group),(!((t=e.mobile)===null||t===void 0)&&t.iosId||((n=e.mobile)===null||n===void 0?void 0:n.ios)===null)&&((r=e.mobile)===null||r===void 0||delete r.ios),(!((i=e.mobile)===null||i===void 0)&&i.androidId||((o=e.mobile)===null||o===void 0?void 0:o.android)===null)&&((s=e.mobile)===null||s===void 0||delete s.android),e})),x4e=hs({brand:Pn(ise),name:So}),sse=hs({brand:Pn(hs({alt:So,primaryColor:So,spriteId:So})),key:gr(),name:gr(),walletOverrides:Pn(Kb(gr(),x4e))});Kb(gr(),ose);const yq=Xa(Ya(e=>e),hs({groups:Kb(gr(),sse),wallets:Kb(gr(),ose)}));Kb(gr(),sse);const uS={current:{}},yO=new fRe,k4e=()=>cq(void 0,void 0,void 0,function*(){const e=Zoe(),t=()=>cq(void 0,void 0,void 0,function*(){const n=yield fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`Failed to fetch wallet book data from ${e} with status code ${n.status}`);const r=yield n.json();try{return yq.parse(r)}catch(i){throw QI.error("Error parsing wallet book data",i,r),i}});uS.current=yield roe(t,{fallbackValue:yq.parse(mRe),maxRetries:3,retryStrategy:"timeout-and-rejection",timeoutMs:3e4}),yO.emit("walletBookLoaded",uS.current)});k4e();const S4e=()=>{const[e,t]=x.useState(uS.current);return x.useEffect(()=>(yO.on("walletBookLoaded",t),t(uS.current),()=>{yO.off("walletBookLoaded",t)}),[]),e},I4e=(e,t,n)=>{if(!t)return{walletIconAlt:"",walletIconUrl:""};try{const r=n?Joe(e,t):IM(e,t),i=r==null?void 0:r.brand;if(i)return{walletIconAlt:i.alt,walletIconUrl:Hoe(i)}}catch(r){QI.debug(r)}return{walletIconAlt:"",walletIconUrl:""}},E4e=e=>{var{walletKey:t,isGroup:n,children:r}=e,i=NM(e,["walletKey","isGroup","children"]);const{walletBook:o}=SM(),[s,a]=x.useState(!1),{walletIconUrl:l,walletIconAlt:c}=I4e(o,t,n),d=Goe();if(!l)return x.createElement(x.Fragment,{},r);const u=()=>{a(!0)};return x.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${t}`},i),{alt:c,key:t,onError:u,src:s?d:l}),r)},oi=e=>{var{icon:t,walletKey:n,isGroup:r,children:i}=e,o=NM(e,["icon","walletKey","isGroup","children"]);return t?x.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${n}`},o),{alt:n,key:n,src:t}),i):x.createElement(E4e,Object.assign({children:i,isGroup:r,walletKey:n},o))},C4e=({walletBook:e,children:t})=>x.createElement(joe.Provider,{value:{walletBook:e}},t),A4e=e=>{var{brand:t,walletKey:n}=e,r=NM(e,["brand","walletKey"]);const[i,o]=x.useState(!1),s=Hoe(t),a=Goe();if(!s)return x.createElement(x.Fragment,{});const l=()=>{o(!0)};return x.createElement("img",Object.assign(Object.assign({"data-testid":`wallet-icon-${n}`},r),{alt:t.alt,onError:l,src:i?a:s}))};Oo("@dynamic-labs/wallet-book",n6e);const R4e=({mobileExperienceProp:e,walletKey:t})=>{if(e){if(typeof e=="string")return e;if(e[t])return e[t];if(e.default)return e.default}},T4e=({mobileExperienceProp:e,walletBook:t,walletKey:n,walletConnector:r})=>{Jn.logVerboseTroubleshootingMessage("[getMobileExperience]",{mobileExperienceProp:e,walletKey:n});const i=R4e({mobileExperienceProp:e,walletKey:n}),o=r.isWalletConnect||r.canConnectViaCustodialService;if(i&&(o||i!=="redirect"))return i;const s=Ud(t,n);return Jn.logVerboseTroubleshootingMessage("[getMobileExperience]",{isWalletConnect:r.isWalletConnect,walletBookRecord:s}),s!=null&&s.mobileExperience?s.mobileExperience:n==="metamask"||r.isWalletConnect?"redirect":"in-app-browser"},O4e=e=>{if(e)return{native:e.native,universal:e.universal}},N4e=e=>{if(e)return{native:e.native,universal:e.universal}},P4e=({mobile:e,desktop:t})=>{const n=O4e(e),r=N4e(t);if(!(!n&&!r))return{desktop:r,mobile:n}},B4e=e=>{if(e)return{androidId:e.androidId,iosId:e.iosId}},M4e=e=>{if(e)return{chromeId:e.chromeId,edgeId:e.edgeId,firefoxId:e.firefoxId,operaId:e.operaId,safariId:e.safariId}},D4e=e=>{const t=B4e(e.mobile),n=M4e(e.desktop);if(!(!t&&!n))return Object.assign(Object.assign({},t),n)},j4e=e=>e?xd("iconicUrl",e):xd("iconicUrl","defaultwallet"),$4e=e=>e&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)?e:void 0,L4e=e=>{if(!(e!=null&&e.browserExtension))return;const{unsupportedEvents:t,unsupportedMethods:n}=e.browserExtension;return{desktop:{unsupportedEvents:t,unsupportedMethods:n}}},X1=({walletKey:e,walletBookWallet:t,walletBook:n,walletFallback:r})=>{var i,o,s,a,l,c,d,u,h;if(!g0(n)&&!r){Jn.warn("Wallet book is required");return}try{const m=t??IM(n,e,r);if(!m){Jn.warn("Wallet not found in wallet book");return}return{brandColor:$4e((i=m==null?void 0:m.brand)===null||i===void 0?void 0:i.primaryColor),deepLinks:P4e({desktop:m==null?void 0:m.desktop,mobile:m==null?void 0:m.mobile}),downloadLinks:D4e(m),groupKey:(o=m==null?void 0:m.chainGroup)!==null&&o!==void 0?o:m==null?void 0:m.walletGroup,icon:(a=j4e((s=m==null?void 0:m.brand)===null||s===void 0?void 0:s.spriteId))!==null&&a!==void 0?a:"",id:e,inAppBrowserUrl:(u=(c=(l=m.mobile)===null||l===void 0?void 0:l.inAppBrowserV2)!==null&&c!==void 0?c:(d=m.mobile)===null||d===void 0?void 0:d.inAppBrowser)!==null&&u!==void 0?u:void 0,name:m.name,rdns:(h=m.eip6963Config)===null||h===void 0?void 0:h.rdns,supportedHardwareWallets:m.hardwareWallets,walletLimitations:L4e(m.walletLimitations)}}catch(m){Jn.warn("Error getting wallet metadata from wallet book",{error:m});return}},U4e=(e,t,n)=>{var r,i,o;return!(!((o=(i=(r=e.metadata.walletLimitations)===null||r===void 0?void 0:r[n])===null||i===void 0?void 0:i.unsupportedMethods)===null||o===void 0)&&o.includes(t))},F4e=(e,t,n)=>{var r,i,o;return!(!((o=(i=(r=e.metadata.walletLimitations)===null||r===void 0?void 0:r[n])===null||i===void 0?void 0:i.unsupportedEvents)===null||o===void 0)&&o.includes(t))},Q1=e=>{var t,n,r,i,o,s,a,l;const c={android:"",brave:"",chrome:"",edge:"",firefox:"",ios:""};return e&&(c.brave=(t=xd("chromeUrl",e.chromeId))!==null&&t!==void 0?t:"",c.chrome=(n=xd("chromeUrl",e.chromeId))!==null&&n!==void 0?n:"",c.edge=(r=xd("edgeUrl",e.edgeId))!==null&&r!==void 0?r:"",c.firefox=(i=xd("firefoxUrl",e.firefoxId))!==null&&i!==void 0?i:"",c.ios=(s=(o=xd("iosUrl",e.iosId))!==null&&o!==void 0?o:e.iosUrl)!==null&&s!==void 0?s:"",c.android=(l=(a=xd("androidUrl",e.androidId))!==null&&a!==void 0?a:e.androidUrl)!==null&&l!==void 0?l:""),c},fS=e=>{const t=e;return!!(t&&t.key==="dynamicwaas")},Hb=e=>e.isEmbeddedWallet?Ao.EmbeddedWallet:e.canConnectViaCustodialService?Ao.CustodialService:e.isInstalledOnBrowser()?Ao.BrowserExtension:rr()?Ao.DeepLink:Ao.QrCode,W4e=e=>{if(!e||!e.key)return!1;try{const{walletBook:t}=e;if(!t||!t.wallets)return!1;const n=Ud(t,e.key);return n?!!("requiresDisconnectBeforeNewConnection"in n&&n.requiresDisconnectBeforeNewConnection):!1}catch{return!1}};class q4e extends TAe{constructor(t){var{connector:n}=t,r=XAe(t,["connector"]);super(r),this._connector=n}get connector(){return this._connector}getBalance(){return Ks(this,void 0,void 0,function*(){return this._connector.getBalance(this.address)})}getNameService(){return Ks(this,void 0,void 0,function*(){return this._connector.getNameService(this.address)})}getNetwork(){return Ks(this,void 0,void 0,function*(){return this._connector.getNetwork(!0)})}isConnected(){return Ks(this,void 0,void 0,function*(){try{return(yield this._connector.getConnectedAccounts()).map(n=>dS(n,this.chain)).includes(dS(this.address,this.chain))}catch(t){return Jn.error("[Wallet] isConnected - Error detecting if wallet is connected",t),!1}})}proveOwnership(t){return Ks(this,void 0,void 0,function*(){return this._connector.proveOwnership(this.address,t)})}signMessage(t){return Ks(this,void 0,void 0,function*(){return yield this.sync(),this._connector.signMessage(t,{address:this.address})})}switchNetwork(t){return Ks(this,void 0,void 0,function*(){return this._connector.switchNetwork({networkChainId:t})})}sync(){return Ks(this,void 0,void 0,function*(){return this._connector.validateActiveWallet(this.address)})}}class $p{constructor(t){this.walletBook=t}static getOrCreate(t){var n;return!((n=$p.instance)===null||n===void 0)&&n.walletBook||($p.instance=new $p(t)),$p.instance}static reset(){$p.instance=void 0}}var I2;class t3 extends Noe{createWallet(t){return new this.ChainWallet(t)}constructor(t){if(super(),this.chainRpcProviders=void 0,this.isGlobalTransaction=!1,I2.set(this,[]),this.didSetup=!1,this.requiresNonDynamicEmailOtp=!1,this.canConnectViaCustodialService=!1,this.canConnectViaQrCode=!1,this.canConnectViaSocial=!1,this.canHandleMultipleConnections=!0,this.mergeWalletBookChains=!0,this.isAvailable=!0,this.isEmbeddedWallet=!1,this.isWalletConnect=!1,this.overrideKey=void 0,this.providerResources=void 0,this.switchNetworkOnlyFromWallet=void 0,this.isInitialized=!0,this.constructorProps=t,this._walletBookInstance=$p.getOrCreate(t.walletBook),this._metadata=t.metadata,this.walletConnectorEventsEmitter=this.constructorProps.walletConnectorEventsEmitter||Hl,this.walletBook===void 0)throw new Error("WalletConnectorBase was not called with super(props) and is missing wallet-book")}extend(t,n){if(sq(this,I2,"f").includes(t.name))throw new Error(`You can only register a single extension of: ${t.name}`);t.name==="global-wallet-extension"&&(!this.isEmbeddedWallet||!this.supportedChains.includes("EVM"))||(sq(this,I2,"f").push(t.name),t.extend(this,n??{}))}initEventListener(){this.didSetup||(this.didSetup=!0,this.setupEventListeners())}get walletBook(){return this._walletBookInstance.walletBook}filter(){return!0}get mobileExperience(){return T4e({mobileExperienceProp:this.constructorProps.mobileExperience,walletBook:this.walletBook,walletConnector:this,walletKey:this.key})}chooseAccountsToConnect(){return Promise.resolve([])}connect(){return Ks(this,void 0,void 0,function*(){yield this.getAddress()})}endSession(){return Promise.resolve()}getAddress(t){return Promise.resolve(void 0)}parseAddress(t){return t}isTestnet(){return Promise.resolve(!1)}getAdditionalAddresses(t){return Promise.resolve([])}setAdditionalAddresses(t,n){return Promise.resolve()}getBalance(t){return Promise.resolve(void 0)}getConnectedAccounts(){return Promise.resolve([])}getDeepLink(){}getNetwork(){return Promise.resolve(void 0)}getNameService(t){return Promise.resolve(void 0)}getPublicClient(){return Promise.resolve(void 0)}getSession(){return Ks(this,void 0,void 0,function*(){return Promise.resolve()})}getSigner(){return Promise.resolve(void 0)}getWalletClient(t){}init(){return Promise.resolve()}isInstalledOnBrowser(){return!1}get key(){return this.overrideKey||this.name.replace(/\W/g,"").toLowerCase()}get metadata(){var t;return this._metadata||(this._metadata=X1({walletBook:this.walletBook,walletKey:this.key})),(t=this._metadata)!==null&&t!==void 0?t:{icon:"",id:this.key,name:this.name}}getMobileOrInstalledWallet(){return this}proveOwnership(t,n){return Ks(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),this.signMessage(n)})}setupEventListeners(){}signMessage(t,n){return Promise.resolve(void 0)}getBlockExplorerUrlsForCurrentNetwork(){return Ks(this,void 0,void 0,function*(){return[]})}supportsNetworkSwitching(){return!1}switchNetwork({networkName:t,networkChainId:n}){return Promise.resolve(void 0)}teardownEventListeners(){}setVerifiedCredentials(t){}canGetChainAddress(){return!0}handleWalletNotActive(t){return Ks(this,arguments,void 0,function*({activeAddress:n,expectedAddress:r,reconnectedAddress:i}){Jn.debug("validateActiveWallet - wallet is not active",{activeAddress:n,expectedAddress:r,reconnectedAddress:i});const o=n||i||"",s=this.constructorProps.walletUiUtils;if(!s)throw new Y_e(`Wallet ${r??""} is not currently active in ${this.name||this.key}.`,{activeAddress:o,expectedAddress:r,walletName:this.name||this.key});return s.syncWallet({activeAddress:o,expectedAddress:r,walletConnector:this})})}validateActiveWallet(t){return Ks(this,void 0,void 0,function*(){Jn.debug("validateActiveWallet - validating wallet",t);const n=U4e(this,"getConnectedAccounts","desktop");Jn.debug("validateActiveWallet - getting connected accounts",{canFetchConnectedAccounts:n});const[r]=n?yield this.getConnectedAccounts():[];if(r&&$a(r,t,this.connectedChain)){Jn.debug("validateActiveWallet - wallet is active");return}Jn.debug("validateActiveWallet - trying to reconnect wallet...");const s=yield Ks(this,void 0,void 0,function*(){if(!(!this.canHandleMultipleConnections||!this.canGetChainAddress()))return this.getAddress().catch(a=>{Jn.debug("validateActiveWallet - error getting address",a)})});if(s&&$a(s,t,this.connectedChain)){Jn.debug("validateActiveWallet - wallet reconnected successfuly");return}return this.handleWalletNotActive({activeAddress:r,expectedAddress:t,reconnectedAddress:s})})}getEnabledNetworks(){return[]}retryDeeplinkConnection(){}hasRetryDeeplinkConnection(){return this.retryDeeplinkConnection!==t3.prototype.retryDeeplinkConnection}openInAppBrowserIfRequired(){var t;if(this.isInstalledOnBrowser()||!rr()||!(!((t=this.metadata)===null||t===void 0)&&t.inAppBrowserUrl)||this.mobileExperience==="redirect")return!1;const n=Txe(this.metadata.inAppBrowserUrl),{href:r}=Ln.getUrl(),i=n({encodedDappURI:encodeURIComponent(r)});return Ln.openURL(i),!0}}I2=new WeakMap;Oo("@dynamic-labs/wallet-connector-core",UAe);const z4e=({blockchain:e,domain:t,chainId:n,nonce:r,uri:i,publicKey:o,issuedAt:s=new Date().toISOString(),statement:a,requestId:l,resources:c})=>{var d,u;if(e==="STARK")return JSON.stringify({domain:t.substring(0,31),nonce:r});const h=(u=(d=Lm(e))===null||d===void 0?void 0:d.blockchainName)!==null&&u!==void 0?u:"Ethereum",v=[`${t} wants you to sign in with your ${h} account:`,o].join(`
`),y=a?`

`:`
`,g=`${[v,a].join(y)}
`,b=[];b.push(`URI: ${i}`),b.push("Version: 1"),n&&b.push(`Chain ID: ${n}`),b.push(`Nonce: ${r}`),b.push(`Issued At: ${s}`),l&&b.push(`Request ID: ${l}`),c!=null&&c.length&&b.push(`Resources:${c.map(_=>`
- `+_).join()}`);const k=b.join(`
`);return[g,k].join(`
`)},V4e=e=>{var t;return(t=e==null?void 0:e.filter(n=>!!n.enabledAt||n.provider===pn.MagicLink&&!!n.providerProjectId||n.provider===pn.Turnkey))!==null&&t!==void 0?t:[]},K4e=e=>Object.values(pn).reduce((t,n)=>{const r=e.find(i=>i.provider===n);return r&&(t[n]=r),t},{}),H4e={addNetwork:()=>{throw Error("addNetwork not implemented")},disabledConfirmationOnce:()=>{throw Error("disabledConfirmationOnce, not implemented")},sendTransaction:()=>{throw Error("requestSendTransactionConfirmation not implemented")},signMessage:()=>{throw Error("signMessage not implemented")},signTransaction:()=>{throw Error("signTransaction not implemented")},syncWallet:()=>{throw Error("syncWallet not implemented")},zkSyncCreateSession:()=>{throw Error("zkSyncCreateSession not implemented")}},ase=({appLogoUrl:e,appName:t,authMode:n,coinbaseWalletPreference:r,chainRpcProviders:i,deepLinkPreference:o,flowNetwork:s,mobileExperience:a,networkConfigurations:l,redirectUrl:c,settings:d,walletConnectProjectId:u,walletUiUtils:h,walletBook:m,walletConnectPreferredChains:v,useMetamaskSdk:y=!0})=>{const g=(l==null?void 0:l.eclipse)||[],b=(l==null?void 0:l.evm)||[],k=(l==null?void 0:l.solana)||[],_=(l==null?void 0:l.cosmos)||[],R=(l==null?void 0:l.starknet)||[],I=(l==null?void 0:l.stellar)||[],T=(l==null?void 0:l.sui)||[],D=(l==null?void 0:l.tron)||[],M=(l==null?void 0:l.aptos)||[],C=(l==null?void 0:l.ton)||[],U=(l==null?void 0:l.bitcoin)||[];return{apiProviders:K4e(V4e(d.providers)),appLogoUrl:e,appName:t,aptosNetworks:M,authMode:n,bitcoinNetworks:U,chainRpcProviders:i,coinbaseWalletPreference:r,cosmosNetworks:_,deepLinkPreference:o,eclipseNetworks:g,evmNetworks:b,flowNetwork:s,mobileExperience:a,projectId:u,redirectUrl:c,settings:d,solNetworks:k,starknetNetworks:R,stellarNetworks:I,suiNetworks:T,tonNetworks:C,tronNetworks:D,useMetamaskSdk:y,walletBook:m,walletConnectPreferredChains:v,walletConnectorEventsEmitter:Hl,walletUiUtils:h||H4e}},G4e=e=>{var t,n;if(!e.metadata)return!1;const{downloadLinks:r,deepLinks:i}=e.metadata,o=!!(!((t=i==null?void 0:i.mobile)===null||t===void 0)&&t.universal)||!!(!((n=i==null?void 0:i.mobile)===null||n===void 0)&&n.native),s=!e.isWalletConnect||e.key==="walletconnect"||e.key==="walletconnectsol"||o,a=Q1(r);return VI()||V1()?!!a.ios&&s:!!a.android&&s},J4e=(e,t)=>t.filter(n=>{const r=Ud(e,n.key);return n.isInstalledOnBrowser()||_M(n)?!0:r!=null&&r.showOnlyIfInstalled?!1:rr()?G4e(n):!0}),Z4e=(e,t)=>t.map(n=>{const r=Ud(e,n.key);return(r==null?void 0:r.switchNetworkOnlyFromWallet)!==void 0&&(n.switchNetworkOnlyFromWallet=r.switchNetworkOnlyFromWallet),n});let ck=[];const Y4e=e=>{var t;const{settings:n,skipMemo:r=!1,walletConnectorsProp:i,walletBook:o}=e;if(!r&&ck.length>0)return ck;const s=(t=n.sdk.disabledWalletConnectors)!==null&&t!==void 0?t:[],a=ase(e),l=i.map(u=>u(a)).flat().map(u=>{try{return new u(a)}catch(h){Jn.error(`Failed to construct wallet ${u.name}`,h);return}}).filter(u=>{var h;return u&&(!(!((h=u.metadata)===null||h===void 0)&&h.id)||!s.includes(u.metadata.id))}).map(u=>(u==null||u.init(),u)).filter(u=>u==null?void 0:u.filter()).map(u=>u.getMobileOrInstalledWallet()),c=l.filter(u=>u.isWalletConnect?!l.some(h=>h.key===u.key&&h.connectedChain===u.connectedChain&&!h.isWalletConnect&&h.isInstalledOnBrowser()):!0),d=J4e(o,c);return ck=Z4e(o,d),ck},X4e={"eip155:1":["ETH","EVM"],"flow:mainnet":["FLOW"]},Q4e=(e,t)=>{var n;const r=Ud(e,t.key);if(!t.mergeWalletBookChains||!r)return t.supportedChains;const i=new Set;return((n=r.chains)!==null&&n!==void 0?n:[]).forEach(s=>{const a=X4e[s];a==null||a.forEach(l=>{i.add(l)})}),t.supportedChains.forEach(s=>{i.add(s)}),[...i]},e8e=e=>Y4e(e.getSupportedWalletOpts).filter(r=>e.enabledChains.some(i=>Q4e(e.getSupportedWalletOpts.walletBook,r).includes(i))||r.key==="magiclink");Oo("@dynamic-labs/multi-wallet",LAe);var t8e="4.57.1",Gb;(function(e){e.ECLIPSE="eclipse",e.EVM="evm",e.SOLANA="solana",e.STARKNET="starknet",e.SUI="sui"})(Gb||(Gb={}));function n8e(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}class zs{static get client(){return zs.instance||(zs.instance=new zs),zs.instance}constructor(){this.getProvidersMethods={}}static getProviders(t){return Object.values(Gb).forEach(n=>{var r,i;if(!zs.providers[n]){const o=(i=(r=zs.client.getProvidersMethods)[n])===null||i===void 0?void 0:i.call(r,t);o&&Object.assign(zs.providers,{[n]:o})}}),zs.providers}static registerChainProviders(t,n){return n8e(this,void 0,void 0,function*(){zs.client.getProvidersMethods[t]||Object.assign(zs.client.getProvidersMethods,{[t]:n})})}}zs.providers={};zs.wipeInstance=()=>{zs.instance=void 0,zs.providers={}};const Jb=zs;Oo("@dynamic-labs/rpc-providers",t8e);var q5={exports:{}},vq;function r8e(){return vq||(vq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(q5)),q5.exports}var i8e=r8e();const PM=Rr(i8e),o8e=["authFailure","authFlowCancelled","authFlowClose","authFlowOpen","authInit","emailVerificationResult","embeddedWalletCreated","logout","mfaCompletionFailure","mfaCompletionSuccess","primaryWalletChanged","primaryWalletNetworkChanged","walletConnectionQrCodeReady","smsVerificationResult","walletAdded","walletRemoved","userWalletsChanged","walletConnectedForFunding","walletTabSelected","walletConnectionFailed","embeddedWalletRevealCompleted","embeddedWalletRevealFailed"],rt=new PM,s8e=rt,Un=(e,t)=>{const n=x.useRef(t);n.current=t,x.useEffect(()=>{const r=(...i)=>n.current(...i);return rt.on(e,r),()=>{rt.off(e,r)}},[e])},a8e=(e,t)=>{if(!o8e.includes(e))throw new Error(`Unrecognized event "${e}" used with useDynamicEvents`);Un(e,t)},l8e={"-32000":"Message signature denied","-32002":"Please unlock your wallet extension and try again.","-32003":"Message signature denied.","-32602":"Invalid parameters. Please try again.","-32603":"There was an internal error. Please try again.",0:"Message signature denied.",4001:"Message signature denied.",4100:"Please unlock your wallet extension and try again.",4900:"There was an internal error. Please try again.",5001:"Message signature denied.",5002:"Message signature denied.",account_already_linked_to_different_profile:"This social account is already linked to a different profile.",connection_rejected:"Connection rejected. Please try again.",metamask_timeout:"Whoops. Looks like something went wrong. Please try again.","missing-nonce":"Something went wrong. Please try again.","missing-public-address":"Connection cancelled. Please try again",oauth_window_blocked:"To connect to your social account, enable popups in your browser and then try again.",oauth_window_timeout:"Session time out. Please try again.",too_many_email_verification_attempts:"Too many email verification attempts, please try again later","user-cancelled":"",wallet_not_deployed:"Your smart wallet has not been deployed.",wrong_email_verification_token:"The code you entered is incorrect. Please try again."},lse=x.createContext(void 0),c8e=({children:e})=>{const[t,n]=x.useState(void 0),[r,i]=x.useState(void 0),o=x.useCallback((d,u)=>{n(d),i(u)},[]),s=x.useCallback(()=>{o("Something went wrong. Please try again.",qs.DEFAULT)},[o]),a=x.useCallback(d=>{var u;o((u=l8e[d])!==null&&u!==void 0?u:"Something went wrong. Please try again.")},[o]),l=x.useCallback(()=>{n(void 0),i(void 0)},[]),c=x.useMemo(()=>({clearError:l,error:t,errorCode:r,setDefaultError:s,setError:o,setErrorMessage:a}),[l,t,r,s,o,a]);return f.jsx(lse.Provider,{value:c,children:e})},so=()=>{const e=x.useContext(lse);if(e===void 0)throw new Error("usage of useErrorContext not wrapped in `ErrorContextProvider`.");return e},cse=x.createContext(void 0),d8e=({children:e,initialViewType:t})=>{var n;const[r,i]=x.useState([]),o=x.useMemo(()=>({type:t}),[t]),s=(n=r[r.length-1])!==null&&n!==void 0?n:o,{clearError:a}=so(),l=x.useCallback((y,g,b)=>{if(s.type===y){(g!==s.props||b!==s.events)&&i(k=>[...k.slice(0,-1),{events:b,props:g,type:y}]);return}a(),i(k=>k.length===0?[{type:t},{events:b,props:g,type:y}]:[...k,{events:b,props:g,type:y}])},[a,s.type,t]),c=x.useCallback((y,g,b)=>{s.type!==y&&(a(),i(k=>k.length<=1?[{type:t},{events:b,props:g,type:y}]:[...k.slice(0,-1),{events:b,props:g,type:y}]))},[a,t,s.type]),d=r.length>1,u=x.useCallback(()=>{d&&(a(),i(y=>y.slice(0,-1)),rt.emit("goBack"))},[d,a]),h=x.useCallback((y,g,b)=>{a(),i([{events:b,props:g,type:y}])},[a]),m=x.useCallback(()=>{a(),i(y=>y.length>0?[]:y)},[a]);Un("logout",m),Un("authFlowClose",()=>setTimeout(m,100));const v=x.useMemo(()=>({canGoBack:r.length>1,clearStackAndPush:h,clearStackAndPushInitialView:m,goBack:u,pushView:l,replaceView:c,stack:r,view:s}),[m,u,h,l,s,r,c]);return f.jsx(cse.Provider,{value:v,children:e})},At=()=>{const e=x.useContext(cse);if(e===void 0)throw new Error("usage of useViewContext not wrapped in `ViewContextProvider`.");return e},Ie=new gi("DynamicSDK",Wi.INFO),dse=(e,t)=>{var n;const r=Ud(e,t.key);return{chainGroup:t.metadata.groupKey,group:t.metadata.groupKey,injectedConfig:r==null?void 0:r.injectedConfig,isInstalledOnBrowser:(n=t.isInstalledOnBrowser())!==null&&n!==void 0?n:!1,key:t.key,name:t.name,walletConnector:t,walletGroup:t.metadata.groupKey}},e_=(e,t=1)=>{const n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return"rgba("+n+", "+r+", "+i+", "+t+")"},use="#363A46";e_(use,.65);e_(use,.4);const BM="#F5F8FF";e_(BM,.95);e_(BM,.55);e_(BM,.4);const fse=10,wq={ALGO:"algorand",BTC:"bip122",COSMOS:"cosmos",ETH:"eip155",EVM:"eip155",FLOW:"flow",SOL:"solana",STARK:"starknet",TON:"ton"},ec={algorand:nr.Algo,bip122:nr.Btc,cosmos:nr.Cosmos,eip155:nr.Evm,flow:nr.Flow,solana:nr.Sol,starknet:nr.Stark,sui:nr.Sui,ton:nr.Ton};var od={};const u8e=JSON.parse(`[{"code":"AD","name":"Andorra"},{"code":"AE","name":"United Arab Emirates"},{"code":"AF","name":"Afghanistan"},{"code":"AG","name":"Antigua and Barbuda"},{"code":"AI","name":"Anguilla"},{"code":"AL","name":"Albania"},{"code":"AM","name":"Armenia"},{"code":"AO","name":"Angola"},{"code":"AQ","name":"Antarctica"},{"code":"AR","name":"Argentina"},{"code":"AS","name":"American Samoa"},{"code":"AT","name":"Austria"},{"code":"AU","name":"Australia"},{"code":"AW","name":"Aruba"},{"code":"AX","name":"land Islands"},{"code":"AZ","name":"Azerbaijan"},{"code":"BA","name":"Bosnia and Herzegovina"},{"code":"BB","name":"Barbados"},{"code":"BD","name":"Bangladesh"},{"code":"BE","name":"Belgium"},{"code":"BF","name":"Burkina Faso"},{"code":"BG","name":"Bulgaria"},{"code":"BH","name":"Bahrain"},{"code":"BI","name":"Burundi"},{"code":"BJ","name":"Benin"},{"code":"BL","name":"Saint Barthlemy"},{"code":"BM","name":"Bermuda"},{"code":"BN","name":"Brunei Darussalam"},{"code":"BO","name":"Bolivia, Plurinational State of"},{"code":"BQ","name":"Bonaire, Sint Eustatius and Saba"},{"code":"BR","name":"Brazil"},{"code":"BS","name":"Bahamas"},{"code":"BT","name":"Bhutan"},{"code":"BV","name":"Bouvet Island"},{"code":"BW","name":"Botswana"},{"code":"BY","name":"Belarus"},{"code":"BZ","name":"Belize"},{"code":"CA","name":"Canada"},{"code":"CC","name":"Cocos (Keeling) Islands"},{"code":"CD","name":"Congo, Democratic Republic of the"},{"code":"CF","name":"Central African Republic"},{"code":"CG","name":"Congo"},{"code":"CH","name":"Switzerland"},{"code":"CI","name":"Cte d'Ivoire"},{"code":"CK","name":"Cook Islands"},{"code":"CL","name":"Chile"},{"code":"CM","name":"Cameroon"},{"code":"CN","name":"China"},{"code":"CO","name":"Colombia"},{"code":"CR","name":"Costa Rica"},{"code":"CU","name":"Cuba"},{"code":"CV","name":"Cabo Verde"},{"code":"CW","name":"Curaao"},{"code":"CX","name":"Christmas Island"},{"code":"CY","name":"Cyprus"},{"code":"CZ","name":"Czechia"},{"code":"DE","name":"Germany"},{"code":"DJ","name":"Djibouti"},{"code":"DK","name":"Denmark"},{"code":"DM","name":"Dominica"},{"code":"DO","name":"Dominican Republic"},{"code":"DZ","name":"Algeria"},{"code":"EC","name":"Ecuador"},{"code":"EE","name":"Estonia"},{"code":"EG","name":"Egypt"},{"code":"EH","name":"Western Sahara"},{"code":"ER","name":"Eritrea"},{"code":"ES","name":"Spain"},{"code":"ET","name":"Ethiopia"},{"code":"FI","name":"Finland"},{"code":"FJ","name":"Fiji"},{"code":"FK","name":"Falkland Islands (Malvinas)"},{"code":"FM","name":"Micronesia, Federated States of"},{"code":"FO","name":"Faroe Islands"},{"code":"FR","name":"France"},{"code":"GA","name":"Gabon"},{"code":"GB","name":"United Kingdom of Great Britain and Northern Ireland"},{"code":"GD","name":"Grenada"},{"code":"GE","name":"Georgia"},{"code":"GF","name":"French Guiana"},{"code":"GG","name":"Guernsey"},{"code":"GH","name":"Ghana"},{"code":"GI","name":"Gibraltar"},{"code":"GL","name":"Greenland"},{"code":"GM","name":"Gambia"},{"code":"GN","name":"Guinea"},{"code":"GP","name":"Guadeloupe"},{"code":"GQ","name":"Equatorial Guinea"},{"code":"GR","name":"Greece"},{"code":"GS","name":"South Georgia and the South Sandwich Islands"},{"code":"GT","name":"Guatemala"},{"code":"GU","name":"Guam"},{"code":"GW","name":"Guinea-Bissau"},{"code":"GY","name":"Guyana"},{"code":"HK","name":"Hong Kong"},{"code":"HM","name":"Heard Island and McDonald Islands"},{"code":"HN","name":"Honduras"},{"code":"HR","name":"Croatia"},{"code":"HT","name":"Haiti"},{"code":"HU","name":"Hungary"},{"code":"ID","name":"Indonesia"},{"code":"IE","name":"Ireland"},{"code":"IL","name":"Israel"},{"code":"IM","name":"Isle of Man"},{"code":"IN","name":"India"},{"code":"IO","name":"British Indian Ocean Territory"},{"code":"IQ","name":"Iraq"},{"code":"IR","name":"Iran, Islamic Republic of"},{"code":"IS","name":"Iceland"},{"code":"IT","name":"Italy"},{"code":"JE","name":"Jersey"},{"code":"JM","name":"Jamaica"},{"code":"JO","name":"Jordan"},{"code":"JP","name":"Japan"},{"code":"KE","name":"Kenya"},{"code":"KG","name":"Kyrgyzstan"},{"code":"KH","name":"Cambodia"},{"code":"KI","name":"Kiribati"},{"code":"KM","name":"Comoros"},{"code":"KN","name":"Saint Kitts and Nevis"},{"code":"KP","name":"Korea, Democratic People's Republic of"},{"code":"KR","name":"Korea, Republic of"},{"code":"KW","name":"Kuwait"},{"code":"KY","name":"Cayman Islands"},{"code":"KZ","name":"Kazakhstan"},{"code":"LA","name":"Lao People's Democratic Republic"},{"code":"LB","name":"Lebanon"},{"code":"LC","name":"Saint Lucia"},{"code":"LI","name":"Liechtenstein"},{"code":"LK","name":"Sri Lanka"},{"code":"LR","name":"Liberia"},{"code":"LS","name":"Lesotho"},{"code":"LT","name":"Lithuania"},{"code":"LU","name":"Luxembourg"},{"code":"LV","name":"Latvia"},{"code":"LY","name":"Libya"},{"code":"MA","name":"Morocco"},{"code":"MC","name":"Monaco"},{"code":"MD","name":"Moldova, Republic of"},{"code":"ME","name":"Montenegro"},{"code":"MF","name":"Saint Martin, (French part)"},{"code":"MG","name":"Madagascar"},{"code":"MH","name":"Marshall Islands"},{"code":"MK","name":"North Macedonia"},{"code":"ML","name":"Mali"},{"code":"MM","name":"Myanmar"},{"code":"MN","name":"Mongolia"},{"code":"MO","name":"Macao"},{"code":"MP","name":"Northern Mariana Islands"},{"code":"MQ","name":"Martinique"},{"code":"MR","name":"Mauritania"},{"code":"MS","name":"Montserrat"},{"code":"MT","name":"Malta"},{"code":"MU","name":"Mauritius"},{"code":"MV","name":"Maldives"},{"code":"MW","name":"Malawi"},{"code":"MX","name":"Mexico"},{"code":"MY","name":"Malaysia"},{"code":"MZ","name":"Mozambique"},{"code":"NA","name":"Namibia"},{"code":"NC","name":"New Caledonia"},{"code":"NE","name":"Niger"},{"code":"NF","name":"Norfolk Island"},{"code":"NG","name":"Nigeria"},{"code":"NI","name":"Nicaragua"},{"code":"NL","name":"Netherlands"},{"code":"NO","name":"Norway"},{"code":"NP","name":"Nepal"},{"code":"NR","name":"Nauru"},{"code":"NU","name":"Niue"},{"code":"NZ","name":"New Zealand"},{"code":"OM","name":"Oman"},{"code":"PA","name":"Panama"},{"code":"PE","name":"Peru"},{"code":"PF","name":"French Polynesia"},{"code":"PG","name":"Papua New Guinea"},{"code":"PH","name":"Philippines"},{"code":"PK","name":"Pakistan"},{"code":"PL","name":"Poland"},{"code":"PM","name":"Saint Pierre and Miquelon"},{"code":"PN","name":"Pitcairn"},{"code":"PR","name":"Puerto Rico"},{"code":"PS","name":"Palestine, State of"},{"code":"PT","name":"Portugal"},{"code":"PW","name":"Palau"},{"code":"PY","name":"Paraguay"},{"code":"QA","name":"Qatar"},{"code":"RE","name":"Runion"},{"code":"RO","name":"Romania"},{"code":"RS","name":"Serbia"},{"code":"RU","name":"Russian Federation"},{"code":"RW","name":"Rwanda"},{"code":"SA","name":"Saudi Arabia"},{"code":"SB","name":"Solomon Islands"},{"code":"SC","name":"Seychelles"},{"code":"SD","name":"Sudan"},{"code":"SE","name":"Sweden"},{"code":"SG","name":"Singapore"},{"code":"SH","name":"Saint Helena, Ascension and Tristan da Cunha"},{"code":"SI","name":"Slovenia"},{"code":"SJ","name":"Svalbard and Jan Mayen"},{"code":"SK","name":"Slovakia"},{"code":"SL","name":"Sierra Leone"},{"code":"SM","name":"San Marino"},{"code":"SN","name":"Senegal"},{"code":"SO","name":"Somalia"},{"code":"SR","name":"Suriname"},{"code":"SS","name":"South Sudan"},{"code":"ST","name":"Sao Tome and Principe"},{"code":"SV","name":"El Salvador"},{"code":"SX","name":"Sint Maarten, (Dutch part)"},{"code":"SY","name":"Syrian Arab Republic"},{"code":"SZ","name":"Eswatini"},{"code":"TC","name":"Turks and Caicos Islands"},{"code":"TD","name":"Chad"},{"code":"TF","name":"French Southern Territories"},{"code":"TG","name":"Togo"},{"code":"TH","name":"Thailand"},{"code":"TJ","name":"Tajikistan"},{"code":"TK","name":"Tokelau"},{"code":"TL","name":"Timor-Leste"},{"code":"TM","name":"Turkmenistan"},{"code":"TN","name":"Tunisia"},{"code":"TO","name":"Tonga"},{"code":"TR","name":"Trkiye"},{"code":"TT","name":"Trinidad and Tobago"},{"code":"TV","name":"Tuvalu"},{"code":"TW","name":"Taiwan, Province of China"},{"code":"TZ","name":"Tanzania, United Republic of"},{"code":"UA","name":"Ukraine"},{"code":"UG","name":"Uganda"},{"code":"UM","name":"United States Minor Outlying Islands"},{"code":"US","name":"United States of America"},{"code":"UY","name":"Uruguay"},{"code":"UZ","name":"Uzbekistan"},{"code":"VA","name":"Holy See"},{"code":"VC","name":"Saint Vincent and the Grenadines"},{"code":"VE","name":"Venezuela, Bolivarian Republic of"},{"code":"VG","name":"Virgin Islands, British"},{"code":"VI","name":"Virgin Islands, U.S."},{"code":"VN","name":"Viet Nam"},{"code":"VU","name":"Vanuatu"},{"code":"WF","name":"Wallis and Futuna"},{"code":"WS","name":"Samoa"},{"code":"YE","name":"Yemen"},{"code":"YT","name":"Mayotte"},{"code":"ZA","name":"South Africa"},{"code":"ZM","name":"Zambia"},{"code":"ZW","name":"Zimbabwe"}]`);var bq;function f8e(){if(bq)return od;bq=1;var e=u8e,t={},n={};e.forEach(r);function r(i){t[i.name.toLowerCase()]=i.code,n[i.code.toLowerCase()]=i.name}return od.overwrite=function(o){!o||!o.length||o.forEach(function(s){var a=e.findIndex(function(l){return l.code===s.code});e[a]=s,r(s)})},od.getCode=function(o){return t[o.toLowerCase()]},od.getName=function(o){return n[o.toLowerCase()]},od.getNames=function(){return e.map(function(o){return o.name})},od.getCodes=function(){return e.map(function(o){return o.code})},od.getCodeList=function(){return n},od.getNameList=function(){return t},od.getData=function(){return e},od}var h8e=f8e();const MM=["XS","S","M","L","XL","2XL"],DM=h8e.getData(),jM=["Brunei DS","Cambodia","Indonesia","Laos","Malaysia","Myanmar","Philippines","Singapore","Thailand","Vietnam"],z5={primary_chain:"evm",wallets:{algorand:"perawallet",bitcoin:"xverse",cosmos:"keplr",evm:"metamask",flow:"blocto",solana:"phantom"}},hse=2147483647,ev=2147483645,p8e={starknet:"STARK"},m8e=e=>e.filter(({enabled:t})=>t).map(({name:t})=>{var n,r;return(n=p8e[t])!==null&&n!==void 0?n:(r=Lm(t))===null||r===void 0?void 0:r.symbol}).filter(t=>!!t),g8e=e=>{var t;return e8e({enabledChains:m8e(e.getSupportedWalletOpts.settings.chains),getSupportedWalletOpts:Object.assign(Object.assign({},e.getSupportedWalletOpts),{chainRpcProviders:Jb,walletConnectProjectId:(t=e.getSupportedWalletOpts.settings.sdk.walletConnect)===null||t===void 0?void 0:t.projectId})}).map(n=>{var r;return(r=e.walletConnectorExtensions)===null||r===void 0||r.forEach(i=>{var o;return n.extend(i,{walletConnectDappProjectId:(o=e.getSupportedWalletOpts.settings.sdk.walletConnect)===null||o===void 0?void 0:o.walletProjectId})}),dse(e.getSupportedWalletOpts.walletBook,n)})};var pse="@dynamic-labs-sdk/client",t_="0.4.0",mse={"@dynamic-labs/sdk-api-core":"0.0.860"};const Tn=e=>e.__core,y8e=({details:e,cause:t})=>t instanceof No?t.details:t!=null&&t.message?t.message:e,v8e=({shortMessage:e,details:t,docsUrl:n,metaMessages:r})=>[e,"",...r?[...r,""]:[],...n?[`Docs: ${n}`]:[],...t?[`Details: ${t}`]:[],`Version: ${t_}`,`Timestamp: ${new Date().toISOString()}`].join(`
`);var No=class gse extends Error{constructor(n){const r=y8e(n),i=v8e({...n,details:r});super(n.shortMessage??i,n.cause?{cause:n.cause}:void 0);ur(this,"code");ur(this,"details");ur(this,"formattedMessage");ur(this,"name","BaseError");ur(this,"cause");this.formattedMessage=i,this.details=r,this.name=n.name??this.name,this.cause=n.cause??this.cause,this.code=n.code}walk(){const n=this.cause;return n instanceof gse?n.walk():n}toString(){return this.formattedMessage}},w8e=class extends No{constructor(){super({cause:null,code:"client_not_found_error",docsUrl:null,name:"ClientNotFoundError",shortMessage:"No Dynamic client has been created yet. Make sure you have called createDynamicClient() first."})}};let E2=null,yse=0;const Fr=()=>{if(!E2)throw new w8e;return yse>1&&Tn(E2).logger.debug('Multiple instances of DynamicClient found. If you are only using one client (recommended), make sure you are not calling "createDynamicClient" multiple times. If you are using multiple clients, make sure you are passing which client to use as the last param of all Dynamic functions.'),E2},b8e=e=>{E2=e,yse++},_8e="x-dyn-api-version",x8e="x-dyn-request-id",k8e="x-dyn-version",S8e="x-mfa-auth-token",_q="x-dyn-session-public-key",I8e=mse["@dynamic-labs/sdk-api-core"],vse="ClientSDK",E8e=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n="";for(let r=e;r>0;--r)n+=t[Math.floor(Math.random()*64)];return n};var C8e=class extends No{constructor(e){super({cause:null,code:"value_must_be_defined_error",docsUrl:null,name:"ValueMustBeDefined",shortMessage:e})}};function _l(e,t){if(e==null)throw new C8e(t)}const n_=e=>{var i,o;_l(e.projectSettings,"Project settings are not defined");const t=e.projectSettings.security;if(!t)return!1;const n=(((i=t.auth)==null?void 0:i.storage)||[]).includes(cO.Cookie),r=!!((o=t.externalAuth)!=null&&o.cookieName);return n||r},wse=()=>typeof Buffer<"u"?Buffer:Te.Buffer,A8e=e=>{const t=Tn(e),n=t.state.get().sessionKeys;if(n)try{return JSON.parse(wse().from(n,"base64").toString())}catch(r){t.logger.error("Error decoding session keys",r);return}};var bse=class _se extends No{constructor(n,r,i){super({cause:null,code:r,docsUrl:null,name:"APIError",shortMessage:n});ur(this,"status");this.status=i}static async fromResponse(n){try{const r=await n.clone().json();if(r&&"error"in r&&typeof r.error=="string"){const i="code"in r&&typeof r.code=="string"?r.code:"unknown_error";return new _se(r.error,i,n.status)}return null}catch{return null}}},R8e=class extends No{constructor({cause:e}){super({cause:e,code:"invalid_external_auth_error",docsUrl:"https://www.dynamic.xyz/docs/external-auth/third-party-auth-overview",name:"InvalidExternalAuthError",shortMessage:"Error authenticating with external JWT"})}},T8e=class extends No{constructor({cause:e}){super({cause:e,code:"link_credential_error",docsUrl:null,name:"LinkCredentialError",shortMessage:"The credential you are trying to link is associated with another account and cannot be reassigned."})}},xse=class extends No{constructor({cause:e}){super({cause:e,code:"mfa_invalid_otp_error",docsUrl:null,name:"MfaInvalidOtpError",shortMessage:"Invalid OTP"})}},$M=class extends No{constructor({cause:e}){super({cause:e,code:"mfa_rate_limited_error",docsUrl:null,name:"MfaRateLimitedError",shortMessage:"Rate limited"})}},kse=class extends No{constructor({cause:e}){super({cause:e,code:"sandbox_maximum_threshold_reached_error",docsUrl:"https://www.dynamic.xyz/docs/developer-dashboard/sandbox-vs-live#sandbox-vs-live",name:"SandboxMaximumThresholdReachedError",shortMessage:"Your sandbox environment has reached the maximum MAU. Please use a live environment for production traffic."})}};const O8e=e=>{if(e instanceof bse){if(e.code==="mfa_invalid_code")return new xse({cause:e});if(e.code==="mfa_rate_limited")return new $M({cause:e});if(e.code==="invalid_external_auth")return new R8e({cause:e});if(e.code==="sandbox_maximum_threshold_reached")return new kse({cause:e});if(e.code==="merge_accounts_invalid"||e.code==="reassign_wallet_error")return new T8e({cause:e})}return null},N8e=({errorMappers:e=[]})=>({post:async t=>{if(t.response.status>=400){const n=await bse.fromResponse(t.response);if(n){let r=n;for(const i of e){const o=i(n);if(o){r=o;break}}throw r}}return t.response}}),ao=(e={},t)=>{var a;const n=Tn(t),r=n.state.get(),i={basePath:n.apiBaseUrl,headers:{"Content-Type":"application/json",[_8e]:`API/${I8e}`,[x8e]:E8e(50),[k8e]:`${vse}/${t_}`,...n.getApiHeaders(),...e.headers}};t.token&&(i.headers.Authorization=`Bearer ${t.token}`),t.projectSettings&&n_(t)&&(i.credentials="include"),e.includeMfaToken&&r.mfaToken&&(i.headers[S8e]=r.mfaToken);const o=(a=A8e(t))==null?void 0:a.publicKey,s=i.headers[_q]!==void 0;return o&&!s&&(i.headers[_q]=o),new Toe(new JI({...i,fetchApi:n.fetch,middleware:[N8e({errorMappers:[...e.errorMappers||[],O8e]})]}))},xq={ALGO:{apiChainName:"algo",blockchainName:"Algorand",verifiedCredentialChainName:"algorand"},APTOS:{apiChainName:"aptos",blockchainName:"Aptos",verifiedCredentialChainName:"aptos"},BTC:{apiChainName:"bitcoin",blockchainName:"Bitcoin",verifiedCredentialChainName:"bip122"},COSMOS:{apiChainName:"cosmos",blockchainName:"Cosmos",verifiedCredentialChainName:"cosmos"},ECLIPSE:{apiChainName:"eclipse",blockchainName:"Eclipse",verifiedCredentialChainName:"eclipse"},EVM:{apiChainName:"evm",blockchainName:"Ethereum",verifiedCredentialChainName:"eip155"},FLOW:{apiChainName:"flow",blockchainName:"Flow",verifiedCredentialChainName:"flow"},SOL:{apiChainName:"solana",blockchainName:"Solana",verifiedCredentialChainName:"solana",waasChainNameOverride:"SVM"},SPARK:{apiChainName:"spark",blockchainName:"Spark",verifiedCredentialChainName:"spark"},STARK:{apiChainName:"starknet",blockchainName:"Starknet",verifiedCredentialChainName:"starknet"},STELLAR:{apiChainName:"stellar",blockchainName:"Stellar",verifiedCredentialChainName:"stellar"},SUI:{apiChainName:"sui",blockchainName:"Sui",verifiedCredentialChainName:"sui"},TON:{apiChainName:"ton",blockchainName:"TON",verifiedCredentialChainName:"ton"},TRON:{apiChainName:"tron",blockchainName:"Tron",verifiedCredentialChainName:"tron"}},Sse=e=>{const t=Object.keys(xq).find(n=>xq[n].verifiedCredentialChainName===e);return _l(t,`Unknown chain: ${e}`),t},Ise=mse["@dynamic-labs/sdk-api-core"],LM={displayName:"Dynamic WaaS",normalizedWalletName:"dynamicwaas"},Ese=e=>{document.cookie=e},fb=({event:e,listener:t},n=Fr())=>{const{eventEmitter:r}=Tn(n);return r.on(e,t),()=>{r.off(e,t)}},vl=({event:e,args:t},n)=>{const{eventEmitter:r}=Tn(n);r.emit(e,t)};var P8e=class extends No{constructor(e){super({cause:null,code:"invalid_wallet_provider_key",docsUrl:null,name:"InvalidWalletProviderKeyError",shortMessage:`Invalid wallet provider key: ${e}. Key must be in the format of <normalizedWalletNameWithChain>:<walletProviderType>[:<suffix>]`})}};const B8e=e=>{const[t,n,r,...i]=e.split(":");if(!t||!Object.values(Ao).includes(n)||i.length>0)throw new P8e(e);return{normalizedWalletNameWithChain:t,suffix:r,walletProviderType:n}},M8e=(e,t)=>{let n=e;return n!=null&&n.startsWith("0x")&&(n=n.slice(2)),n=["EVM","FLOW"].includes(t)?n==null?void 0:n.toLowerCase():n,n},Cse=({address:e,chain:t,walletProviderKey:n})=>{const{normalizedWalletNameWithChain:r}=B8e(n);return`${r}:${M8e(e,t)}`},D8e=({unverifiedWalletAccount:e})=>({address:e.address,addressesWithTypes:e.addressesWithTypes,chain:e.chain,id:Cse({address:e.address,chain:e.chain,walletProviderKey:e.walletProviderKey}),lastSelectedAt:e.lastSelectedAt,verifiedCredentialId:null,walletProviderKey:e.walletProviderKey}),j8e=({displayName:e,chain:t})=>{const n=e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),r=t.toLocaleLowerCase();return n.endsWith(r)?n:`${n}${r}`},UM=({suffix:e,chain:t,displayName:n,walletProviderType:r})=>`${j8e({chain:t,displayName:n})}:${r}${e?`:${e}`:""}`,$8e=({verifiedCredential:e},t)=>{const{walletProviderKeyMap:n}=Tn(t).state.get(),r=n[e.id];return r?{walletProviderKey:r}:(_l(e.walletName,`Failed to get wallet provider for verified credential with ID ${e.id}: missing walletName`),_l(e.walletProvider,`Failed to get wallet provider for verified credential with ID ${e.id}: missing walletProvider`),_l(e.chain,`Failed to get wallet provider for verified credential with ID ${e.id}: missing chain`),{walletProviderKey:UM({chain:Sse(e.chain),displayName:e.walletName,walletProviderType:e.walletProvider})})},L8e=({verifiedCredential:e},t)=>{_l(e.address,"Missing address in verified credential"),_l(e.chain,"Missing chain in verified credential");const n=Sse(e.chain),{walletProviderKey:r}=$8e({verifiedCredential:e},t),i=Cse({address:e.address,chain:n,walletProviderKey:r});return{address:e.address,addressesWithTypes:e.walletAdditionalAddresses,chain:n,id:i,lastSelectedAt:e.lastSelectedAt??null,verifiedCredentialId:e.id,walletProviderKey:r}},Ase=({unverifiedWalletAccounts:e,user:t},n)=>{const r=new Map;return e.forEach(i=>{const o=D8e({unverifiedWalletAccount:i});r.set(o.id,o)}),((t==null?void 0:t.verifiedCredentials)??[]).filter(i=>i.format===Zo.Blockchain).forEach(i=>{const o=L8e({verifiedCredential:i},n);r.set(o.id,o)}),Array.from(r.values())},n3=(e=Fr())=>{const{unverifiedWalletAccounts:t,user:n}=Tn(e).state.get();return Ase({unverifiedWalletAccounts:t,user:n},e)};var U8e=class extends No{constructor({walletProviderKey:e}){super({cause:null,code:"no_wallet_provider_found_error",docsUrl:null,name:"NoWalletProviderFoundError",shortMessage:`No wallet provider found with key: ${e}`})}};const F8e=(e,t)=>n=>{const{runtimeServices:r}=Tn(n),i=r.getByKey(e);if(i)return i;const o=t(n);return r.register(e,o),o},W8e=e=>{const t=new Map;return{getByKey:n=>{var r;return(r=t.get(n))==null?void 0:r.walletProvider},listProviders:()=>Array.from(t.values()).map(n=>n.walletProvider),register:n=>{const r=t.get(n.walletProvider.key);r?r.priority<n.priority&&(t.set(n.walletProvider.key,n),vl({args:{walletProviderKey:n.walletProvider.key},event:"walletProviderChanged"},e)):(t.set(n.walletProvider.key,n),vl({args:{walletProvider:n.walletProvider},event:"walletProviderRegistered"},e),vl({args:{walletProviderKey:n.walletProvider.key},event:"walletProviderChanged"},e))},unregister:n=>{t.delete(n),vl({args:{walletProviderKey:n},event:"walletProviderUnregistered"},e)}}},Rse=F8e("walletProviderRegistry",e=>W8e(e)),q8e=({walletAccount:e},t)=>{const n=Rse(t).getByKey(e.walletProviderKey);if(!n)throw new U8e({walletProviderKey:e.walletProviderKey});return n},Tse="DYNAMIC_JWT_TOKEN",z8e=e=>{vl({args:{walletAccounts:n3(e)},event:"walletAccountsChanged"},e)},Ose=({previousState:e},t)=>{const n=Tn(t);kq(e,t)!==kq(n.state.get(),t)&&z8e(t)},kq=(e,t)=>Ase(e,t).map(n=>JSON.stringify(n)).sort().join("-"),V8e=e=>Rse(e).listProviders(),K8e=e=>e.key.includes(LM.normalizedWalletName),H8e=({chain:e},t)=>{const n=V8e(t),r=UM({chain:e,displayName:LM.displayName,walletProviderType:Ao.EmbeddedWallet}),i=n.find(o=>o.key===r&&o.chain===e);return!i||!K8e(i)?null:i},G8e=({walletAccount:e})=>e.walletProviderKey.includes(LM.normalizedWalletName),Nse=async e=>{const t=n3(e).filter(n=>G8e({walletAccount:n}));await Promise.all(t.map(async n=>{const r=H8e({chain:n.chain},e);if(r)return r.restoreUserShareForWalletAccount({walletAccount:n})}))},Kh=({response:e},t)=>{const n=Tn(t),r={...n.state.get()},{user:i,minifiedJwt:o,jwt:s,expiresAt:a,mfaToken:l}=e,c=new Date(a*1e3),d={legacyToken:s??null,sessionExpiresAt:c,token:o??null,user:i};l&&(d.mfaToken=l),n.state.set(d),o&&n_(t)&&Ese(`${Tse}=${o}; expires=${c.toUTCString()}; path=/; SameSite=Lax`),Ose({previousState:r},t),!r.user&&d.user&&Nse(t)};var V5={exports:{}},Sq;function J8e(){return Sq||(Sq=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(V5)),V5.exports}var Z8e=J8e();const FM=Rr(Z8e),Pse=(e,t)=>{if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return e===t;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return e.constructor===t.constructor},Y8e=(e,t)=>n=>{let r=t(e.get());return e.subscribe(i=>{const o=t(i);Pse(o,r)||(r=o,n(o))})},X8e=()=>({getItem:async e=>localStorage.getItem(e),removeItem:async e=>localStorage.removeItem(e),setItem:async(e,t)=>localStorage.setItem(e,t)});var Q8e=class extends No{constructor({key:e,value:t}){super({cause:null,code:"invalid_storage_set",docsUrl:null,metaMessages:[`key: ${e}`,t],name:"InvalidStorageSet",shortMessage:"Tried to store a value that does not match the schema"})}};const eTe=e=>{const t=new Date(e);return!isNaN(t.getTime())&&t.toISOString()===e},Bse="__DATE__",tTe=e=>JSON.stringify({value:e},(n,r)=>eTe(r)?`${Bse}${r}`:r),nTe=e=>{try{return JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(Bse)?new Date(n.slice(8)):n)}catch{return null}},rTe=({prefix:e="",storageAdapter:t})=>{const n=r=>e?`${e}_${r}`:r;return{getItem:async r=>{const i=await t.getItem(n(r.key)),o=i?nTe(i):null;if(o!==null){const s=r.schema.safeParse(o.value);if(s.success)return s.data}return await t.removeItem(n(r.key)),null},removeItem:async r=>{await t.removeItem(n(r.key))},setItem:async(r,i)=>{const o=r.schema.safeParse(i);if(!o.success)throw new Q8e({key:r.key,value:JSON.stringify(i)});const s=tTe(o.data);await t.setItem(n(r.key),s)}}},tv=e=>e,iTe="refresh-user-state-from-cookie",oTe="initialize-storage-sync",sTe="fetch-project-settings",aTe="generate-session-keys",Mse=()=>{let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),reject:n=>t==null?void 0:t(n),resolve:n=>e==null?void 0:e(n)}};var lTe=class extends No{constructor(){super({cause:null,code:"cannot_track_error",docsUrl:null,name:"CannotTrackError",shortMessage:"All track calls must be performed in the same node tick"})}};const Iq={debug:0,error:3,info:1,warn:2},dk=console,cTe=(e={})=>{const t=new FM,n=e.level??"warn",r=s=>Iq[s]>=Iq[n],i=(s,a)=>`[${new Date().toISOString()}] ${s.toUpperCase()}: ${a}`,o=(s,a,l,...c)=>{t.emit("log",s,l,...c),r(s)&&a(i(s,l),...c)};return{debug:(s,...a)=>o("debug",dk.debug,s,...a),error:(s,...a)=>o("error",dk.error,s,...a),info:(s,...a)=>o("info",dk.info,s,...a),off:t.off.bind(t),on:t.on.bind(t),warn:(s,...a)=>o("warn",dk.warn,s,...a)}},dTe=({extensionKey:e},t=Fr())=>Tn(t).extensions.has(e),Eq=e=>[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join(""),uTe=(e=Fr())=>{const t=Tn(e),n=t.state.get().mfaToken;return _l(n,"No MFA token found"),t.state.set({mfaToken:null}),n},Dse=async(e=Fr())=>{const t=Tn(e);return await ao({},e).getUserMfaMethods({environmentId:t.environmentId,verifiedOnly:!0})},jse=async({mfaAction:e},t=Fr())=>{var r,i,o,s,a;const n=t.projectSettings;return(o=(i=(r=n==null?void 0:n.security)==null?void 0:r.mfa)==null?void 0:i.actions)!=null&&o.some(l=>l.action===e&&l.required)?(a=(s=n==null?void 0:n.security)==null?void 0:s.mfa)!=null&&a.required?!0:(await Dse(t)).userHasVerifiedMfaMethods:!1},fTe=async(e=Fr())=>{const t=Tn(e),n=await ao({},e).refreshAuth({environmentId:t.environmentId});return Kh({response:n},e),n};var hTe=class extends Error{constructor(e,t){const n=`
 Version Mismatch Error

One or more \`@dynamic-labs-sdk\` packages are installed with mismatched versions. All \`@dynamic-labs-sdk\` packages must be on the same version to work correctly.

Affected Packages:
${Object.entries(t).filter(([,r])=>r!==e).map(([r,i])=>`- \`${r}\` (installed: **${i}**, required: **${e}**)`).join(`
`)}

 To fix this issue, update all @dynamic-labs-sdk/* packages to version \`${e}\` in your package.json
`;super(n.trim()),this.name="VersionMismatchError"}};let uk={},pw=null;const $se=(e,t)=>{uk[e]=t,pw&&(clearTimeout(pw),pw=null),pw=setTimeout(()=>{const n=Object.values(uk),[r]=n;if(!n.every(i=>i===r)){const i=new hTe(uk["@dynamic-labs-sdk/client"]||r,uk);console.error(i)}pw=null},100)};function Hr(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in s.prototype)d in a||Object.defineProperty(a,d,{value:s.prototype[d].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const c=n!=null&&n.Parent?new o:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,c;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class hS extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Lse={};function r_(e){return Lse}function pTe(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function mTe(e,t){return typeof t=="bigint"?t.toString():t}function Use(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Fse(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function gh(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function gTe(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function mw(e){return JSON.stringify(e)}const Wse=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function vO(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const yTe=Use(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function vTe(e){if(vO(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(vO(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const wTe=new Set(["string","number","symbol"]);function bTe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _Te(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Hh(e){return{}}function xTe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function K5(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Hp(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function fk(e){return typeof e=="string"?e:e==null?void 0:e.message}function i_(e,t,n){var i,o,s,a,l,c;const r={...e,path:e.path??[]};if(!e.message){const d=fk((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??fk((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??fk((l=n.customError)==null?void 0:l.call(n,e))??fk((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function kTe(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const qse=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,mTe,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},STe=Hr("$ZodError",qse),r3=Hr("$ZodError",qse,{Parent:Error}),ITe=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new hS;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>i_(l,o,r_())));throw Wse(a,i==null?void 0:i.callee),a}return s.value},ETe=ITe(r3),CTe=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>i_(l,o,r_())));throw Wse(a,i==null?void 0:i.callee),a}return s.value},ATe=CTe(r3),RTe=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new hS;return o.issues.length?{success:!1,error:new(e??STe)(o.issues.map(s=>i_(s,i,r_())))}:{success:!0,data:o.value}},zse=RTe(r3),TTe=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>i_(s,i,r_())))}:{success:!0,data:o.value}},Vse=TTe(r3),OTe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},NTe=/^-?\d+(?:\.\d+)?/i,PTe=Hr("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])});class BTe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}}const MTe={major:4,minor:0,patch:5},kl=Hr("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=MTe;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,l)=>{let c=K5(s),d;for(const u of a){if(u._zod.def.when){if(!u._zod.def.when(s))continue}else if(c)continue;const h=s.issues.length,m=u._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new hS;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(c||(c=K5(s,h)))});else{if(s.issues.length===h)continue;c||(c=K5(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,a)=>{const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new hS;return l.then(c=>o(c,r,a))}return o(l,r,a)}}e["~standard"]={validate:o=>{var s;try{const a=zse(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return Vse(e,o).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),DTe=Hr("$ZodString",(e,t)=>{var n;kl.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??OTe(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jTe=Hr("$ZodNumber",(e,t)=>{kl.init(e,t),e._zod.pattern=e._zod.bag.pattern??NTe,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),$Te=Hr("$ZodAny",(e,t)=>{kl.init(e,t),e._zod.parse=n=>n}),LTe=Hr("$ZodDate",(e,t)=>{kl.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function Cq(e,t,n){e.issues.length&&t.issues.push(...Hp(n,e.issues)),t.value[n]=e.value}const UTe=Hr("$ZodArray",(e,t)=>{kl.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(c=>Cq(c,n,s))):Cq(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function hk(e,t,n){e.issues.length&&t.issues.push(...Hp(n,e.issues)),t.value[n]=e.value}function Aq(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Hp(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const FTe=Hr("$ZodObject",(e,t)=>{kl.init(e,t);const n=Use(()=>{const u=Object.keys(t.shape);for(const m of u)if(!(t.shape[m]instanceof kl))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=xTe(t.shape);return{shape:t.shape,keys:u,keySet:new Set(u),numKeys:u.length,optionalKeys:new Set(h)}});gh(e._zod,"propValues",()=>{const u=t.shape,h={};for(const m in u){const v=u[m]._zod;if(v.values){h[m]??(h[m]=new Set);for(const y of v.values)h[m].add(y)}}return h});const r=u=>{const h=new BTe(["shape","payload","ctx"]),m=n.value,v=k=>{const _=mw(k);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};h.write("const input = payload.value;");const y=Object.create(null);let g=0;for(const k of m.keys)y[k]=`key_${g++}`;h.write("const newResult = {}");for(const k of m.keys)if(m.optionalKeys.has(k)){const _=y[k];h.write(`const ${_} = ${v(k)};`);const R=mw(k);h.write(`
        if (${_}.issues.length) {
          if (input[${R}] === undefined) {
            if (${R} in input) {
              newResult[${R}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${R}, ...iss.path] : [${R}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${R} in input) newResult[${R}] = undefined;
        } else {
          newResult[${R}] = ${_}.value;
        }
        `)}else{const _=y[k];h.write(`const ${_} = ${v(k)};`),h.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${mw(k)}, ...iss.path] : [${mw(k)}]
          })));`),h.write(`newResult[${mw(k)}] = ${_}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const b=h.compile();return(k,_)=>b(u,k,_)};let i;const o=vO,s=!Lse.jitless,l=s&&yTe.value,c=t.catchall;let d;e._zod.parse=(u,h)=>{d??(d=n.value);const m=u.value;if(!o(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;const v=[];if(s&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)i||(i=r(t.shape)),u=i(u,h);else{u.value={};const _=d.shape;for(const R of d.keys){const I=_[R],T=I._zod.run({value:m[R],issues:[]},h),D=I._zod.optin==="optional"&&I._zod.optout==="optional";T instanceof Promise?v.push(T.then(M=>D?Aq(M,u,R,m):hk(M,u,R))):D?Aq(T,u,R,m):hk(T,u,R)}}if(!c)return v.length?Promise.all(v).then(()=>u):u;const y=[],g=d.keySet,b=c._zod,k=b.def.type;for(const _ of Object.keys(m)){if(g.has(_))continue;if(k==="never"){y.push(_);continue}const R=b.run({value:m[_],issues:[]},h);R instanceof Promise?v.push(R.then(I=>hk(I,u,_))):hk(R,u,_)}return y.length&&u.issues.push({code:"unrecognized_keys",keys:y,input:m,inst:e}),v.length?Promise.all(v).then(()=>u):u}}),WTe=Hr("$ZodRecord",(e,t)=>{kl.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!vTe(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=t.valueType._zod.run({value:i[l],issues:[]},r);c instanceof Promise?o.push(c.then(d=>{d.issues.length&&n.issues.push(...Hp(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...Hp(l,c.issues)),n.value[l]=c.value)}let a;for(const l in i)s.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else{n.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>i_(c,r,r_())),input:s,path:[s],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:i[s],issues:[]},r);l instanceof Promise?o.push(l.then(c=>{c.issues.length&&n.issues.push(...Hp(s,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...Hp(s,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),qTe=Hr("$ZodEnum",(e,t)=>{kl.init(e,t);const n=pTe(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>wTe.has(typeof r)).map(r=>typeof r=="string"?bTe(r):r.toString()).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),zTe=Hr("$ZodOptional",(e,t)=>{kl.init(e,t),e._zod.optin="optional",e._zod.optout="optional",gh(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),gh(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fse(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),VTe=Hr("$ZodNullable",(e,t)=>{kl.init(e,t),gh(e._zod,"optin",()=>t.innerType._zod.optin),gh(e._zod,"optout",()=>t.innerType._zod.optout),gh(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Fse(n.source)}|null)$`):void 0}),gh(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),KTe=Hr("$ZodCustom",(e,t)=>{PTe.init(e,t),kl.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>Rq(o,n,r,e));Rq(i,n,r,e)}});function Rq(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(kTe(i))}}function HTe(e,t){return new e({type:"string",...Hh()})}function GTe(e,t){return new e({type:"number",checks:[],...Hh()})}function JTe(e){return new e({type:"any"})}function ZTe(e,t){return new e({type:"date",...Hh()})}function YTe(e,t,n){const r=Hh();return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}const zc=Hr("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");kl.init(e,t),e.def=t,e.parse=(n,r)=>ETe(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>zse(e,n,r),e.parseAsync=async(n,r)=>ATe(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Vse(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>_Te(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),XTe=Hr("ZodMiniString",(e,t)=>{DTe.init(e,t),zc.init(e,t)});function Ro(e){return HTe(XTe)}const QTe=Hr("ZodMiniNumber",(e,t)=>{jTe.init(e,t),zc.init(e,t)});function Kse(e){return GTe(QTe)}const eOe=Hr("ZodMiniAny",(e,t)=>{$Te.init(e,t),zc.init(e,t)});function Tq(){return JTe(eOe)}const tOe=Hr("ZodMiniDate",(e,t)=>{LTe.init(e,t),zc.init(e,t)});function nOe(e){return ZTe(tOe)}const rOe=Hr("ZodMiniArray",(e,t)=>{UTe.init(e,t),zc.init(e,t)});function Hse(e,t){return new rOe({type:"array",element:e,...Hh()})}const iOe=Hr("ZodMiniObject",(e,t)=>{FTe.init(e,t),zc.init(e,t),gh(e,"shape",()=>t.shape)});function y0(e,t){const n={type:"object",get shape(){return gTe(this,"shape",{...e}),this.shape},...Hh()};return new iOe(n)}const oOe=Hr("ZodMiniRecord",(e,t)=>{WTe.init(e,t),zc.init(e,t)});function pS(e,t,n){return new oOe({type:"record",keyType:e,valueType:t,...Hh()})}const sOe=Hr("ZodMiniEnum",(e,t)=>{qTe.init(e,t),zc.init(e,t)});function aOe(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new sOe({type:"enum",entries:n,...Hh()})}const lOe=Hr("ZodMiniOptional",(e,t)=>{zTe.init(e,t),zc.init(e,t)});function wO(e){return new lOe({type:"optional",innerType:e})}const cOe=Hr("ZodMiniNullable",(e,t)=>{VTe.init(e,t),zc.init(e,t)});function yy(e){return new cOe({type:"nullable",innerType:e})}const dOe=Hr("ZodMiniCustom",(e,t)=>{KTe.init(e,t),zc.init(e,t)});function mS(e,t){return YTe(dOe,e??(()=>!0))}function Id(e){const t=new Uint8Array(e);let n="";for(const i of t)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function gS(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),i=atob(r),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return o}function i3(){return uOe.stubThis((globalThis==null?void 0:globalThis.PublicKeyCredential)!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const uOe={stubThis:e=>e};function Gse(e){const{id:t}=e;return{...e,id:gS(t),transports:e.transports}}function Jse(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}let ds=class extends Error{constructor({message:t,code:n,cause:r,name:i}){super(t,{cause:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i??r.name,this.code=n}};function fOe({error:e,options:t}){var r,i,o;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new ds({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new ds({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=n.authenticatorSelection)==null?void 0:o.userVerification)==="required")return new ds({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ds({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ds({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ds({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=globalThis.location.hostname;if(Jse(s)){if(n.rp.id!==s)return new ds({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new ds({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}let hOe=class{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}};const Zse=new hOe,pOe=["cross-platform","platform"];function Yse(e){if(e&&!(pOe.indexOf(e)<0))return e}async function mOe(e){var v;!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:n=!1}=e;if(!i3())throw new Error("WebAuthn is not supported in this browser");const r={...t,challenge:gS(t.challenge),user:{...t.user,id:gS(t.user.id)},excludeCredentials:(v=t.excludeCredentials)==null?void 0:v.map(Gse)},i={};n&&(i.mediation="conditional"),i.publicKey=r,i.signal=Zse.createNewAbortSignal();let o;try{o=await navigator.credentials.create(i)}catch(y){throw fOe({error:y,options:i})}if(!o)throw new Error("Registration was not completed");const{id:s,rawId:a,response:l,type:c}=o;let d;typeof l.getTransports=="function"&&(d=l.getTransports());let u;if(typeof l.getPublicKeyAlgorithm=="function")try{u=l.getPublicKeyAlgorithm()}catch(y){H5("getPublicKeyAlgorithm()",y)}let h;if(typeof l.getPublicKey=="function")try{const y=l.getPublicKey();y!==null&&(h=Id(y))}catch(y){H5("getPublicKey()",y)}let m;if(typeof l.getAuthenticatorData=="function")try{m=Id(l.getAuthenticatorData())}catch(y){H5("getAuthenticatorData()",y)}return{id:s,rawId:Id(a),response:{attestationObject:Id(l.attestationObject),clientDataJSON:Id(l.clientDataJSON),transports:d,publicKeyAlgorithm:u,publicKey:h,authenticatorData:m},type:c,clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:Yse(o.authenticatorAttachment)}}function H5(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function gOe(){if(!i3())return G5.stubThis(new Promise(t=>t(!1)));const e=globalThis.PublicKeyCredential;return(e==null?void 0:e.isConditionalMediationAvailable)===void 0?G5.stubThis(new Promise(t=>t(!1))):G5.stubThis(e.isConditionalMediationAvailable())}const G5={stubThis:e=>e};function yOe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ds({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ds({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=globalThis.location.hostname;if(Jse(r)){if(n.rpId!==r)return new ds({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ds({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ds({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function vOe(e){var m,v;!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:n=!1,verifyBrowserAutofillInput:r=!0}=e;if(!i3())throw new Error("WebAuthn is not supported in this browser");let i;((m=t.allowCredentials)==null?void 0:m.length)!==0&&(i=(v=t.allowCredentials)==null?void 0:v.map(Gse));const o={...t,challenge:gS(t.challenge),allowCredentials:i},s={};if(n){if(!await gOe())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&r)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');s.mediation="conditional",o.allowCredentials=[]}s.publicKey=o,s.signal=Zse.createNewAbortSignal();let a;try{a=await navigator.credentials.get(s)}catch(y){throw yOe({error:y,options:s})}if(!a)throw new Error("Authentication was not completed");const{id:l,rawId:c,response:d,type:u}=a;let h;return d.userHandle&&(h=Id(d.userHandle)),{id:l,rawId:Id(c),response:{authenticatorData:Id(d.authenticatorData),clientDataJSON:Id(d.clientDataJSON),signature:Id(d.signature),userHandle:h},type:u,clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:Yse(a.authenticatorAttachment)}}const wOe={initStatus:"initStatusChanged",mfaToken:"mfaTokenChanged",projectSettings:"projectSettingsChanged",sessionExpiresAt:"sessionExpiresAtChanged",token:"tokenChanged",user:"userChanged"};var bOe=class extends No{constructor(e){super({cause:null,code:"invalid_retry_on_fail_call_error",docsUrl:null,name:"InvalidRetryOnFailCallError",shortMessage:`Invalid retries parameter for retryOnFail call: ${e}`})}};const _Oe=async({delay:e=0,fn:t,maxRetries:n})=>{for(let r=0;r<=n;r++)try{return await t()}catch(i){if(r>=n)throw i;e>0&&await new Promise(o=>setTimeout(o,e))}throw new bOe(n)},xOe=(e=Fr())=>!!(e.user||n3(e).length>0),Oq=tv({key:"projectSettingsExpiration",schema:Kse()}),kOe=1e3*60*5,WM=async(e=Fr())=>{const t=Tn(e),n=await t.storage.getItem(Oq);if(e.projectSettings&&!(n&&n<Date.now())&&xOe(e))return e.projectSettings;const r=ao({},e);t.logger.debug("[fetchProjectSettings] Fetching project settings...");const o=await _Oe({fn:async()=>r.getEnvironmentSettings({environmentId:t.environmentId,sdkVersion:`${vse}/${t.version}`},{credentials:"omit"}),maxRetries:2});return t.state.set({projectSettings:o??null}),await t.storage.setItem(Oq,Date.now()+kOe),o},SOe=e=>(e=(e==null?void 0:e.replace(/-/g,"+").replace(/_/g,"/"))||"",Uint8Array.from(atob(e),t=>t.charCodeAt(0))),IOe=e=>{const t=new Uint8Array(e),n=t.byteLength,r=t.slice(0,1+n>>>1);return r[0]=2|t[n-1]&1,r.buffer},EOe=async()=>{const e=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t=await crypto.subtle.exportKey("raw",e.publicKey),n=await crypto.subtle.exportKey("jwk",e.privateKey),r=IOe(t);return{private:Eq(SOe(n.d)),privateJwk:n,public:Eq(r)}},Xse=async e=>{const{private:t,public:n,privateJwk:r}=await EOe(),i=Tn(e),o=JSON.stringify({privateKey:t,privateKeyJwk:r,publicKey:n,registered:!1}),s=wse().from(o).toString("base64");return i.state.set({sessionKeys:s}),{privateKey:t,privateKeyJwk:r,publicKey:n}},COe=()=>{const e=new Map;return{getByKey:t=>e.get(t),register:(t,n)=>e.set(t,n),unregister:t=>e.delete(t)}},AOe=e=>{const t=Tn(e),n=new Map;return n3(e).forEach(r=>{if(!n.has(r.walletProviderKey))try{const i=q8e({walletAccount:r},e);n.set(r.walletProviderKey,i)}catch(i){t.logger.debug("Wallet provider not found for wallet account",{error:i,walletAccount:r.address})}}),Array.from(n.values())},ROe=async e=>{const t=Tn(e),n=AOe(e);await Promise.all(n.map(async r=>{if(r.terminate&&await r.terminate(),r.disconnect)try{await r.disconnect()}catch(i){t.logger.error(`Error disconnecting from wallet ${r.key}`,i)}}))},qM=async(e=Fr())=>{const t=Tn(e);if(t.logger.debug("[logout] Logging out..."),await ROe(e),e.user!==null){const n=ao({},e);try{await n.revokeSession({environmentId:t.environmentId})}catch(r){t.logger.error("Failed to revoke session",r)}n_(e)&&Ese(`${Tse}=; Max-Age=-99999999; path=/; SameSite=Lax`)}t.state.set({captchaToken:null,legacyToken:null,mfaToken:null,sessionExpiresAt:null,sessionKeys:null,token:null,unverifiedWalletAccounts:[],user:null}),vl({event:"logout"},e),WM(e),Xse(e)},TOe=(e,t)=>{let r=null,i=t;const o=()=>{i<=2147483647?r=setTimeout(e,i):r=setTimeout(()=>{i-=2147483647,o()},2147483647)};return o(),()=>{r!==null&&clearTimeout(r)}},OOe=e=>{const t=Tn(e);let n=null;const r=Y8e(t.state,o=>o.sessionExpiresAt),i=()=>{const o=t.state.get().sessionExpiresAt;if(n==null||n(),!o)return;const s=new Date,a=o.getTime()-s.getTime();if(a<=0){qM(e);return}n=TOe(i,a)};r(i),i()},NOe=e=>{Tn(e).state.subscribe((t,n)=>{Object.entries(wOe).forEach(([r,i])=>{Pse(t[r],n[r])||vl({args:{[r]:t[r]},event:i},e)})})},POe=y0({address:Ro(),addressesWithTypes:wO(Hse(y0({address:Ro(),publicKey:wO(Ro()),type:mS(e=>typeof e=="string")}))),chain:mS(e=>typeof e=="string"),id:Ro(),lastSelectedAt:yy(nOe()),walletProviderKey:Ro()}),BOe=pS(Ro(),Ro()),Qse=tv({key:"state",schema:y0({apiVersion:Ro(),projectSettings:mS(),unverifiedWalletAccounts:Hse(POe),user:mS(),walletProviderKeyMap:BOe})}),bO=tv({key:"session",schema:y0({captchaToken:yy(Ro()),legacyToken:yy(Ro()),mfaToken:yy(Ro()),sessionExpiration:Kse(),sessionKeys:yy(Ro()),token:yy(Ro())})}),MOe=async e=>{const t=Tn(e),n=t.state.get(),r={},i=await t.storage.getItem(bO),o=(i==null?void 0:i.sessionExpiration)&&i.sessionExpiration>Date.now();o&&(r.token=i.token,r.legacyToken=i.legacyToken,r.sessionExpiresAt=new Date(i.sessionExpiration),r.mfaToken=i.mfaToken,r.captchaToken=i.captchaToken,r.sessionKeys=i.sessionKeys);const s=await t.storage.getItem(Qse);(s==null?void 0:s.apiVersion)===Ise&&(r.unverifiedWalletAccounts=s.unverifiedWalletAccounts,r.walletProviderKeyMap=s.walletProviderKeyMap,o&&(r.user=s.user),(o||(s.unverifiedWalletAccounts??[]).length>0)&&(r.projectSettings=s.projectSettings)),Object.keys(r).length>0&&t.state.set(r),Ose({previousState:n},e)},DOe=e=>{const t=Tn(e);t.state.subscribe(n=>{n.sessionExpiresAt===null?t.storage.removeItem(bO):t.storage.setItem(bO,{captchaToken:n.captchaToken,legacyToken:n.legacyToken,mfaToken:n.mfaToken,sessionExpiration:n.sessionExpiresAt.getTime(),sessionKeys:n.sessionKeys,token:n.token}),t.storage.setItem(Qse,{apiVersion:Ise,projectSettings:n.projectSettings,unverifiedWalletAccounts:n.unverifiedWalletAccounts,user:n.user,walletProviderKeyMap:n.walletProviderKeyMap})})},jOe=async e=>{await MOe(e),DOe(e)};var $Oe=class extends No{constructor(){super({cause:null,code:"client_already_initialized_error",docsUrl:null,name:"ClientAlreadyInitializedError",shortMessage:"Client must not be initialized more than once"})}};const LOe=async(e=Fr())=>{const t=Tn(e);if(t.logger.debug("[initializeClient] Initializing client. Current init status",t.state.get().initStatus),t.state.get().initStatus!=="uninitialized")throw new $Oe;t.state.set({initStatus:"in-progress"}),OOe(e),NOe(e);const n=jOe(e),r=n.then(async()=>{t.state.get().projectSettings||await WM(e)}),i=r.then(async()=>{t.state.get().sessionKeys||await Xse(e)}),o=r.then(async()=>{n_(e)&&await fTe(e).catch(async s=>{if(s.status===401)e.user&&await qM(e);else throw s})});t.initTrack.track({name:oTe,promise:n}),t.initTrack.track({name:sTe,promise:r}),t.initTrack.track({name:aTe,promise:i}),t.initTrack.track({name:iTe,promise:o});try{await t.initTrack.waitForAll(),t.state.set({initStatus:"finished"})}catch(s){throw t.state.set({initStatus:"failed"}),s}e.user&&Nse(e)},o3=()=>typeof window>"u",UOe=()=>{let e=!0;const t=new FM,n=Mse(),r=new Map,i=()=>{Array.from(r.values()).every(({status:l})=>l==="resolved")&&n.resolve()},o=({name:l,promise:c})=>{if(!e)throw new lTe;Promise.resolve().then(()=>e=!1),r.set(l,{promise:c,status:"pending"}),c.then(()=>{r.set(l,{promise:c,status:"resolved"}),t.emit("resolved",l),i()}).catch(d=>{r.set(l,{promise:c,status:"failed"}),t.emit("failed",l,d),n.reject(d)})},s=()=>n.promise;return{getTracker:l=>r.get(l),off:t.off.bind(t),on:t.on.bind(t),track:o,waitForAll:s}},FOe=()=>new FM;var zM=class extends No{constructor(e){super({cause:null,code:"unavailable_in_server_side_error",docsUrl:null,name:"UnavailableInServerSideError",shortMessage:`This function is not available in server-side rendering: ${e}`})}};const WOe=()=>o3()?()=>Promise.reject(new zM("createWebFetch")):window.fetch.bind(window),qOe=()=>o3()?()=>Promise.reject(new zM("createNavigationHandler")):async e=>{window.location.href=e},zOe=()=>o3()?()=>Promise.reject(new zM("createWebDeeplinkOpener")):async e=>{window.open(e,"_blank")},VOe=()=>({authenticate:e=>vOe(e),isSupported:()=>i3(),register:e=>mOe(e)}),KOe=()=>{const e=new Map;return async({lockKey:t,callback:n,debounceTime:r=0})=>{const i=Mse();e.has(t)||e.set(t,{nextCallback:null,queuePromise:Promise.resolve(),resolutionPromises:[],timer:null});const o=e.get(t);_l(o,`Mutex state for key ${t} not found`),o.resolutionPromises.push(i),o.timer&&clearTimeout(o.timer),o.nextCallback=n;const s=async()=>{o.queuePromise=o.queuePromise.then(async()=>{if(!o.nextCallback)return;const{nextCallback:a}=o;o.nextCallback=null;const l=o.resolutionPromises;o.resolutionPromises=[];try{await a(),l.forEach(c=>c.resolve())}catch(c){l.forEach(d=>d.reject(c))}})};return r>0?o.timer=setTimeout(s,r):await s(),i.promise}};var HOe=class extends No{constructor(e,t){super({cause:null,code:"invalid_storage_value",docsUrl:null,name:"InvalidStorageValue",shortMessage:`Tried to store state with a forbidden value. Key: ${e}, Value: ${t}`})}};const GOe=e=>{const t=new Set,n=(l,c)=>{t.forEach(d=>d(l,c))},r=l=>(t.add(l),()=>i(l)),i=l=>{t.delete(l)};let o=e();return{get:()=>o,getInitialState:e,set:l=>{const c=o;Object.entries(l).forEach(([d,u])=>{if(u===void 0)throw new HOe(d,u)}),o=Object.assign({},o,l),n(o,c)},subscribe:r,unsubscribe:i}},JOe="https://app.dynamicauth.com/api/v0",ZOe=()=>({captchaToken:null,initStatus:"uninitialized",legacyToken:null,mfaToken:null,projectSettings:null,sessionExpiresAt:null,sessionKeys:null,token:null,unverifiedWalletAccounts:[],user:null,walletProviderKeyMap:{}}),YOe=e=>{var m,v,y,g,b,k,_,R;const t=((m=e.coreConfig)==null?void 0:m.apiBaseUrl)??JOe,n=((v=e.coreConfig)==null?void 0:v.logger)??cTe({level:e.logLevel}),r=rTe({prefix:`dynamic_${e.environmentId}`,storageAdapter:((y=e.coreConfig)==null?void 0:y.storageAdapter)??X8e()}),i=((g=e.coreConfig)==null?void 0:g.fetch)??WOe(),o=((b=e.coreConfig)==null?void 0:b.openDeeplink)??zOe(),s=((k=e.coreConfig)==null?void 0:k.navigate)??qOe(),a=GOe(ZOe),l=KOe(),c=FOe(),d=UOe(),u=COe(),h=((_=e.coreConfig)==null?void 0:_.passkey)??VOe();return{apiBaseUrl:t,debouncedMutex:l,environmentId:e.environmentId,eventEmitter:c,extensions:new Set,fetch:i,getApiHeaders:((R=e.coreConfig)==null?void 0:R.getApiHeaders)??(()=>({})),initTrack:d,logger:n,metadata:e.metadata,navigate:s,openDeeplink:o,passkey:h,runtimeServices:u,state:a,storage:r,version:t_}},XOe=e=>{const t=YOe(e),n={get __core(){return t},get initStatus(){return t.state.get().initStatus},get mfaToken(){return t.state.get().mfaToken},get projectSettings(){return t.state.get().projectSettings},get sessionExpiresAt(){return t.state.get().sessionExpiresAt},get token(){return t.state.get().token},get user(){return t.state.get().user}},r=e.autoInitialize??!0,i=o3()?!1:r;return t.logger.debug("[createDynamicClient] Creating client..."),i&&(t.logger.debug("[createDynamicClient] Initializing client..."),LOe(n)),b8e(n),n};var QOe=class extends No{constructor(){super({cause:null,code:"no_passkey_credentials_found_error",docsUrl:null,name:"NoPasskeyCredentialsFoundError",shortMessage:"No passkey credentials found"})}},VM=class extends No{constructor(){super({cause:null,code:"no_webauthn_support_error",docsUrl:null,name:"NoWebAuthNSupportError",shortMessage:"Browser does not support WebAuthn"})}};const eNe=async e=>{const t=Tn(e);return await ao({},e).getPasskeyRegistrationOptions({environmentId:t.environmentId})},tNe=async({registration:e,createMfaToken:t},n)=>{const r=Tn(n);return await ao({},n).registerPasskey({environmentId:r.environmentId,passkeyRegisterRequest:{...e,createMfaToken:t,response:{...e.response,clientDataJson:e.response.clientDataJSON}}})},nNe=async({createMfaToken:e}={},t=Fr())=>{const n=Tn(t);if(!n.passkey.isSupported())throw new VM;const r=await eNe(t),i=await tNe({createMfaToken:e,registration:await n.passkey.register({optionsJSON:r})},t);return Kh({response:i},t),i},rNe=async({relatedOriginRpId:e}={},t)=>{const n=Tn(t);return await ao({},t).getPasskeyAuthenticationSigninOptions({environmentId:n.environmentId,relatedOriginRpId:e})},iNe=async({authentication:e,createMfaToken:t},n)=>{const r=Tn(n);return await ao({},n).signinWithPasskey({environmentId:r.environmentId,passkeyAuthRequest:{...e,createMfaToken:t,response:{...e.response,clientDataJson:e.response.clientDataJSON}}})},oNe=async({relatedOriginRpId:e}={},t=Fr())=>{const n=Tn(t);if(!n.passkey.isSupported())throw new VM;const r={...await rNe({relatedOriginRpId:e},t)},i=await iNe({authentication:await n.passkey.authenticate({optionsJSON:r})},t);return Kh({response:i},t),i};tv({key:"redirectState",schema:y0({codeVerifier:wO(Ro()),provider:aOe(pn),state:Ro()})});tv({key:"legacyWalletBookCache",schema:y0({groups:pS(Ro(),Tq()),wallets:pS(Ro(),Tq())})});const sNe=async({userFields:e},t=Fr())=>{const n=Tn(t),r=await ao({includeMfaToken:!0},t).updateSelf({environmentId:n.environmentId,userFields:e});if(Kh({response:r},t),r.emailVerification)return{email:r.emailVerification.email,verificationUUID:r.emailVerification.verificationUUID};if(r.smsVerification)return{isoCountryCode:r.smsVerification.isoCountryCode,phoneCountryCode:r.smsVerification.phoneCountryCode,phoneNumber:r.smsVerification.phoneNumber,verificationUUID:r.smsVerification.verificationUUID}},aNe=async(e=Fr())=>sNe({userFields:{mfaBackupCodeAcknowledgement:zu.Complete}},e),Nq=async({code:e,createMfaTokenOptions:t},n=Fr())=>{const r=Tn(n),i=ao({},n);try{const o=await i.authMfaRecovery({environmentId:r.environmentId,mFAAuthRecoveryDevicePostRequest:{code:e,createMfaToken:t}});return Kh({response:o},n),vl({args:{mfaToken:o.mfaToken},event:"mfaCompletionSuccess"},n),o}catch(o){throw vl({args:{error:o},event:"mfaCompletionFailure"},n),o}},lNe=async({relatedOriginRpId:e}={},t)=>{const n=Tn(t);return await ao({},t).getPasskeyAuthenticationOptions({environmentId:n.environmentId,relatedOriginRpId:e})},cNe=async({authentication:e,createMfaToken:t},n)=>{const r=Tn(n);return await ao({},n).authenticateMfaPasskeyDevice({environmentId:r.environmentId,passkeyAuthRequest:{...e,createMfaToken:t,response:{...e.response,clientDataJson:e.response.clientDataJSON}}})},dNe=async({createMfaToken:e,relatedOriginRpId:t}={},n=Fr())=>{var i;const r=Tn(n);try{if(!r.passkey.isSupported())throw new VM;const o=await lNe({relatedOriginRpId:t},n),s=(i=o.allowCredentials)==null?void 0:i.map(c=>({...c,type:"public-key"}));if(!(s!=null&&s.length))throw new QOe;const a={...o,allowCredentials:s},l=await cNe({authentication:await r.passkey.authenticate({optionsJSON:a}),createMfaToken:e},n);return Kh({response:l},n),vl({args:{mfaToken:l.mfaToken},event:"mfaCompletionSuccess"},n),l}catch(o){throw vl({args:{error:o},event:"mfaCompletionFailure"},n),o}},uNe=async({deviceId:e,code:t,createMfaTokenOptions:n},r=Fr())=>{const i=Tn(r),o=ao({},r);try{const s=await o.authMfaTotpDevice({environmentId:i.environmentId,mFAAuthTotpDevicePostRequest:{code:t,createMfaToken:n,id:e}});return Kh({response:s},r),vl({args:{deviceId:e,mfaToken:s.mfaToken},event:"mfaCompletionSuccess"},r),s}catch(s){throw vl({args:{deviceId:e,error:s},event:"mfaCompletionFailure"},r),s}},Pq=async(e=Fr())=>{const t=Tn(e);return ao({},e).createNewRecoveryCodes({environmentId:t.environmentId})},fNe=async({deviceId:e,mfaAuthToken:t},n=Fr())=>{const r=Tn(n),i=ao({},n);return _l(e,"deviceId is required"),_l(t,"mfaAuthToken is required"),i.deleteMfaDevice({environmentId:r.environmentId,mfaDeviceId:e,xMfaAuthToken:t})},J5=async(e=Fr())=>{const t=Tn(e),{devices:n}=await ao({},e).getUserMfaDevices({environmentId:t.environmentId});return n},hNe=async(e=Fr())=>{const t=Tn(e);return ao({},e).getRecoveryCodes({environmentId:t.environmentId})},pNe=(e=Fr())=>{const t=e.user;return _l(t,"User not logged in"),t.mfaBackupCodeAcknowledgement!==zu.Complete},mNe=async(e=Fr())=>{const t=Tn(e);return ao({},e).registerTotpMfaDevice({environmentId:t.environmentId})},gNe=async({deviceId:e},t=Fr())=>{const n=Tn(t),r=ao({},t);return _l(e,"deviceId is required"),r.updateUserMfaDevice({environmentId:n.environmentId,mfaDeviceId:e})};$se(pse,t_);const yNe=({extensionKey:e},t)=>{Tn(t).extensions.add(e)};tv({key:"lastKnownNetworkRegistry",schema:pS(Ro(),Ro())});$se(pse,t_);const KM=()=>{var e;return(e=Fr().token)!==null&&e!==void 0?e:void 0};let yS=null;const _O=new PM,vNe=e=>{yS=e,_O.emit("changed",e)},wNe=()=>yS!==null,Js=()=>{if(!yS)throw new Se("Tried to getClient when it was still null");return yS},eae=()=>{const[e,t]=x.useState(Js());return x.useEffect(()=>(_O.on("changed",t),()=>{_O.off("changed",t)}),[]),e},s3=e=>{const t=eae(),[n,r]=x.useState(t[e]);return x.useEffect(()=>{r(t[e]),fb({event:`${e}Changed`,listener:()=>r(t[e])},t)},[t,e]),n??void 0},vo=()=>s3("projectSettings");function bs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function de(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function bNe(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Bq={};function xO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&Bq[t[0]]||(typeof t[0]=="string"&&(Bq[t[0]]=new Date),bNe(...t))}const tae=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function Mq(e,t,n){e.loadNamespaces(t,tae(e,n))}function Dq(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,tae(e,r))}function _Ne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const c=t.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}function xNe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(xO("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):_Ne(e,t,n)}const kNe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,SNe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},INe=e=>SNe[e],ENe=e=>e.replace(kNe,INe);let kO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ENe};function CNe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kO={...kO,...e}}function ANe(){return kO}let nae;function RNe(e){nae=e}function TNe(){return nae}const ONe={type:"3rdParty",init(e){CNe(e.options.react),RNe(e)}},rae=x.createContext();class NNe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const PNe=(e,t)=>{const n=x.useRef();return x.useEffect(()=>{n.current=e},[e,t]),n.current};function Xe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=x.useContext(rae)||{},o=n||r||TNe();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new NNe),!o){xO("You will need to pass in an i18next instance by using initReactI18next");const _=(I,T)=>typeof T=="string"?T:T&&typeof T=="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(I)?I[I.length-1]:I,R=[_,{},!1];return R.t=_,R.i18n={},R.ready=!1,R}o.options.react&&o.options.react.wait!==void 0&&xO("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...ANe(),...o.options.react,...t},{useSuspense:a,keyPrefix:l}=s;let c=i||o.options&&o.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(c);const d=(o.isInitialized||o.initializedStoreOnce)&&c.every(_=>xNe(_,o,s));function u(){return o.getFixedT(t.lng||null,s.nsMode==="fallback"?c:c[0],l)}const[h,m]=x.useState(u);let v=c.join();t.lng&&(v=`${t.lng}${v}`);const y=PNe(v),g=x.useRef(!0);x.useEffect(()=>{const{bindI18n:_,bindI18nStore:R}=s;g.current=!0,!d&&!a&&(t.lng?Dq(o,t.lng,c,()=>{g.current&&m(u)}):Mq(o,c,()=>{g.current&&m(u)})),d&&y&&y!==v&&g.current&&m(u);function I(){g.current&&m(u)}return _&&o&&o.on(_,I),R&&o&&o.store.on(R,I),()=>{g.current=!1,_&&o&&_.split(" ").forEach(T=>o.off(T,I)),R&&o&&R.split(" ").forEach(T=>o.store.off(T,I))}},[o,v]);const b=x.useRef(!0);x.useEffect(()=>{g.current&&!b.current&&m(u),b.current=!1},[o,l]);const k=[h,o,d];if(k.t=h,k.i18n=o,k.ready=d,d||!d&&!a)return k;throw new Promise(_=>{t.lng?Dq(o,t.lng,c,()=>_()):Mq(o,c,()=>_())})}function BNe(e){let{i18n:t,defaultNS:n,children:r}=e;const i=x.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return x.createElement(rae.Provider,{value:i},r)}var MNe="4.57.1";const DNe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class vS{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||DNe,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new vS(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new vS(this.logger,t)}}var Cd=new vS;let a3=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(r=>r!==n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach(s=>{s(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(s=>{s.apply(s,[t,...r])})}};function gw(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function jq(e){return e==null?"":""+e}function jNe(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}function HM(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?[].concat(t):t.split(".");for(;o.length>1;){if(i())return{};const s=r(o.shift());!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={}}return i()?{}:{obj:e,k:r(o.shift())}}function $q(e,t,n){const{obj:r,k:i}=HM(e,t,Object);r[i]=n}function $Ne(e,t,n,r){const{obj:i,k:o}=HM(e,t,Object);i[o]=i[o]||[],i[o].push(n)}function wS(e,t){const{obj:n,k:r}=HM(e,t);if(n)return n[r]}function LNe(e,t,n){const r=wS(e,n);return r!==void 0?r:wS(t,n)}function iae(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):iae(e[r],t[r],n):e[r]=t[r]);return e}function Vg(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var UNe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function FNe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>UNe[t]):e}const WNe=[" ",",","?","!",";"];function qNe(e,t,n){t=t||"",n=n||"";const r=WNe.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o}function bS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;++o){if(!i||typeof i[r[o]]=="string"&&o+1<r.length)return;if(i[r[o]]===void 0){let s=2,a=r.slice(o,o+s).join(n),l=i[a];for(;l===void 0&&r.length>o+s;)s++,a=r.slice(o,o+s).join(n),l=i[a];if(l===void 0)return;if(l===null)return null;if(t.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}const c=r.slice(o+s).join(n);return c?bS(l,c,n):void 0}i=i[r[o]]}return i}function _S(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class Lq extends a3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[t,n];r&&typeof r!="string"&&(a=a.concat(r)),r&&typeof r=="string"&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."));const l=wS(this.data,a);return l||!s||typeof r!="string"?l:bS(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),$q(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Object.prototype.toString.apply(r[o])==="[object Array]")&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=wS(this.data,a)||{};i?iae(l,r,o):l={...l,...r},$q(this.data,a,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var oae={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const Uq={};class xS extends a3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),jNe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Cd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!qNe(t,r,i);if(s&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),t=c.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),l=a[a.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const R=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${R}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l}:`${l}${R}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l}:s}const u=this.resolve(t,n);let h=u&&u.res;const m=u&&u.usedKey||s,v=u&&u.exactUsedKey||s,y=Object.prototype.toString.apply(h),g=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&g.indexOf(y)<0&&!(typeof b=="string"&&y==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(u.res=R,u):R}if(o){const R=y==="[object Array]",I=R?[]:{},T=R?v:m;for(const D in h)if(Object.prototype.hasOwnProperty.call(h,D)){const M=`${T}${o}${D}`;I[D]=this.translate(M,{...n,joinArrays:!1,ns:a}),I[D]===M&&(I[D]=h[D])}h=I}}else if(k&&typeof b=="string"&&y==="[object Array]")h=h.join(b),h&&(h=this.extendTranslation(h,t,n,r));else{let R=!1,I=!1;const T=n.count!==void 0&&typeof n.count!="string",D=xS.hasDefaultValue(n),M=T?this.pluralResolver.getSuffix(c,n.count,n):"",C=n.ordinal&&T?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",U=n[`defaultValue${M}`]||n[`defaultValue${C}`]||n.defaultValue;!this.isValidLookup(h)&&D&&(R=!0,h=U),this.isValidLookup(h)||(I=!0,h=s);const z=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:h,q=D&&U!==h&&this.options.updateMissing;if(I||R||q){if(this.logger.log(q?"updateKey":"missingKey",c,l,s,q?U:h),o){const N=this.resolve(s,{...n,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let S=[];const A=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&A&&A[0])for(let N=0;N<A.length;N++)S.push(A[N]);else this.options.saveMissingTo==="all"?S=this.languageUtils.toResolveHierarchy(n.lng||this.language):S.push(n.lng||this.language);const O=(N,j,V)=>{const K=D&&V!==h?V:z;this.options.missingKeyHandler?this.options.missingKeyHandler(N,l,j,K,q,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(N,l,j,K,q,n),this.emit("missingKey",N,l,j,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?S.forEach(N=>{this.pluralResolver.getSuffixes(N,n).forEach(j=>{O([N],s+j,n[`defaultValue${j}`]||U)})}):O(S,s,U))}h=this.extendTranslation(h,t,n,u,r),I&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${s}`),(I||R)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,R?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(u.res=h,u):h}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const h=t.match(this.interpolator.nestingRegexp);d=h&&h.length}let u=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,r.lng||this.language,r),c){const h=t.match(this.interpolator.nestingRegexp),m=h&&h.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];return o&&o[0]===m[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):s.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=oae.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let u=c.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const h=n.count!==void 0&&typeof n.count!="string",m=h&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);u.forEach(g=>{this.isValidLookup(r)||(a=g,!Uq[`${y[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Uq[`${y[0]}-${g}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(b=>{if(this.isValidLookup(r))return;s=b;const k=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(k,d,b,g,n);else{let R;h&&(R=this.pluralResolver.getSuffix(b,n.count,n));const I=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(k.push(d+R),n.ordinal&&R.indexOf(T)===0&&k.push(d+R.replace(T,this.options.pluralSeparator)),m&&k.push(d+I)),v){const D=`${d}${this.options.contextSeparator}${n.context}`;k.push(D),h&&(k.push(D+R),n.ordinal&&R.indexOf(T)===0&&k.push(D+R.replace(T,this.options.pluralSeparator)),m&&k.push(D+I))}}let _;for(;_=k.pop();)this.isValidLookup(r)||(o=_,r=this.getResource(b,g,_,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function Z5(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Fq{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Cd.create("languageUtils")}getScriptPartFromCode(t){if(t=_S(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=_S(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Z5(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Z5(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Z5(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&o.indexOf(i)===0)return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let zNe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],VNe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const KNe=["v1","v2","v3"],HNe=["v4"],Wq={zero:0,one:1,two:2,few:3,many:4,other:5};function GNe(){const e={};return zNe.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:VNe[t.fc]}})}),e}class JNe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Cd.create("pluralResolver"),(!this.options.compatibilityJSON||HNe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=GNe()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(_S(t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Wq[i]-Wq[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!KNe.includes(this.options.compatibilityJSON)}}function qq(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=LNe(e,t,n);return!o&&i&&typeof n=="string"&&(o=bS(e,n,r),o===void 0&&(o=bS(t,n,r))),o}class ZNe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cd.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const n=t.interpolation;this.escape=n.escape!==void 0?n.escape:FNe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Vg(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Vg(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Vg(n.nestingPrefix):n.nestingPrefixEscaped||Vg("$t("),this.nestingSuffix=n.nestingSuffix?Vg(n.nestingSuffix):n.nestingSuffixEscaped||Vg(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(t,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(t,n,r,i){let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(v){return v.replace(/\$/g,"$$$$")}const d=v=>{if(v.indexOf(this.formatSeparator)<0){const k=qq(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...i,...n,interpolationkey:v}):k}const y=v.split(this.formatSeparator),g=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(qq(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:g})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>c(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?c(this.escape(v)):c(v)}].forEach(v=>{for(a=0;o=v.regex.exec(t);){const y=o[1].trim();if(s=d(y),s===void 0)if(typeof u=="function"){const b=u(t,o,i);s=typeof b=="string"?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(h){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=jq(s));const g=v.safeValue(s);if(t=t.replace(o[0],g),h?(v.regex.lastIndex+=s.length,v.regex.lastIndex-=o[0].length):v.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;function a(l,c){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const u=l.split(new RegExp(`${d}[ ]*{`));let h=`{${u[1]}`;l=u[0],h=this.interpolate(h,s);const m=h.match(/'/g),v=h.match(/"/g);(m&&m.length%2===0&&!v||v.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${h}`}return delete s.defaultValue,l}for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(u=>u.trim());i[1]=d.shift(),l=d,c=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=jq(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),c&&(o=l.reduce((d,u)=>this.format(d,u,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}function YNe(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(!s)return;const[a,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=c),c==="false"&&(n[a.trim()]=!1),c==="true"&&(n[a.trim()]=!0),isNaN(c)||(n[a.trim()]=parseInt(c,10))})}return{formatName:t,formatOptions:n}}function Kg(e){const t={};return function(r,i,o){const s=i+JSON.stringify(o);let a=t[s];return a||(a=e(_S(i),o),t[s]=a),a(r)}}class XNe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cd.create("formatter"),this.options=t,this.formats={number:Kg((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Kg((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Kg((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Kg((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Kg((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Kg(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,l)=>{const{formatName:c,formatOptions:d}=YNe(l);if(this.formats[c]){let u=a;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=h.locale||h.lng||i.locale||i.lng||r;u=this.formats[c](a,m,{...d,...i,...h})}catch(h){this.logger.warn(h)}return u}else this.logger.warn(`there was no format function for ${c}`);return a},t)}}function QNe(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class ePe extends a3{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Cd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},l={};return t.forEach(c=>{let d=!0;n.forEach(u=>{const h=`${c}|${u}`;!r.reload&&this.store.hasResourceBundle(c,u)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,d=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),l[u]===void 0&&(l[u]=!0)))}),d||(a[c]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),r&&this.store.addResourceBundle(o,s,r),this.state[t]=n?-1:2;const a={};this.queue.forEach(l=>{$Ne(l.loaded,[o],s),QNe(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(u=>{a[c][u]===void 0&&(a[c][u]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(t,n,r,i,l):d=c(t,n,r,i),d&&typeof d.then=="function"?d.then(u=>a(null,u)).catch(a):a(null,d)}catch(d){a(d)}else c(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function zq(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(e,t,n,r)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Vq(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function pk(){}function tPe(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class Yb extends a3{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Vq(t),this.services={},this.logger=Cd,this.modules={external:[]},tPe(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=zq();this.options={...i,...this.options,...Vq(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Cd.init(o(this.modules.logger),this.options):Cd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=XNe);const u=new Fq(this.options);this.store=new Lq(this.options.resources,this.options);const h=this.services;h.logger=Cd,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new JNe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new ZNe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new ePe(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var v=arguments.length,y=new Array(v>1?v-1:0),g=1;g<v;g++)y[g-1]=arguments[g];t.emit(m,...y)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new xS(this.services,this.options),this.translator.on("*",function(m){for(var v=arguments.length,y=new Array(v>1?v-1:0),g=1;g<v;g++)y[g-1]=arguments[g];t.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=pk),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=gw(),c=()=>{const d=(u,h)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(u,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pk;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const o=[],s=a=>{if(!a)return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{o.indexOf(c)<0&&o.push(c)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=gw();return t||(t=this.languages),n||(n=this.options.ns),r||(r=pk),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&oae.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=gw();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{s(d,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let l;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),u=2;u<c;u++)d[u-2]=arguments[u];l=i.options.overloadTranslationOptionHandler([s,a].concat(d))}else l={...a};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix=l.keyPrefix||r||o.keyPrefix;const h=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(s)?m=s.map(v=>`${l.keyPrefix}${h}${v}`):m=l.keyPrefix?`${l.keyPrefix}${h}${s}`:s,i.t(m,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=gw();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=gw();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Fq(zq());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Yb(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pk;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Yb(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new Lq(this.store.data,i),o.services.resourceStore=o.store),o.translator=new xS(o.services,i),o.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];o.emit(a,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ys=Yb.createInstance();Ys.createInstance=Yb.createInstance;Ys.createInstance;Ys.dir;Ys.init;Ys.loadResources;Ys.reloadResources;Ys.use;Ys.changeLanguage;Ys.getFixedT;Ys.t;Ys.exists;Ys.setDefaultNamespace;Ys.hasLoadedNamespace;Ys.loadNamespaces;Ys.loadLanguages;const SO={dyn_sandbox_maximum_threshold:{title:"Max User Limit Reached",description:"Your sandbox environment has reached your 100 MAU limit. To test with new users, delete existing users.",button:"Back"},dyn_account_exists:{connect:"Connect with {{socialOauth}}",description_email:"It looks like an account already exists using",description_social:"To restore your account to the right place, we need you to log in again.",title:"Re-Authentication Required",trail_message_email:". Please log in with your email.",trail_message_social:"through {{socialOauth}}"},dyn_active_wallet_info:{testnet_warning:"A testnet network has been selected. Please only use testnet funds or they will be lost.",ordinals_address:"Ordinals address",payment_address:"Payment address",balance:"Total balance",options:{copy_ens:"Copy ENS",view_address:"View address",disconnect:"Disconnect",settings:"Wallet settings",export:"Export private keys"}},dyn_wallet_details_card:{header:"Wallet Details",address:"Address",copy:"Copy",copied:"Copied!"},dyn_add_network_view:{title:"Network unavailable",description:"This network is not supported in your {{name}} wallet.",add_button:{title:"Add Network"},cancel_button:{title:"Cancel"}},dyn_bridge:{summary_view:{connection_succeed:"Congratulations on connecting both your {{firstBlockchainName}} and {{secondBlockchainName}} wallets",title:"Welcome to {{appName}}"},welcome_view:{button:"Get started",description:"Youll need to connect both your {{firstBlockchainName}} and {{secondBlockchainName}} wallets to get started",title:"Connect to {{appName}}"},widget:{address:"Copy wallet address",connect:"Connect wallet",connect_with_network:"Connect {{blockchainName}} wallet",copy:{address:"Copy wallet address",ens:"Copy ENS"},disconnect:"Disconnect",edit_profile:"Edit profile",wallet_network:"{{networkName}} wallet"}},dyn_captcha:{verify_user_subtitle:"We need to quickly verify youre human before we proceed.",verify_user_title:"Let's verify you're human"},dyn_access_blocked:{title:"Access Blocked",content:"Logging in is not available to persons in {{jurisdiction}} as you are in a sanctioned jurisdiction."},dyn_chainalysis_blocked_wallet:{title:"Access denied"},dyn_collect_user_data:{description:"We need a bit of information to get started",fields:{alias:{label:"Alias"},country:{label:"Country"},email:{label:"E-mail",validation:"Email is not valid"},first_name:{label:"First Name"},job_title:{label:"Job Title"},last_name:{label:"Last Name"},phone_number:{label:"Phone number",validation:"Phone number is not valid",too_short:"Phone number is too short"},policies_consent:{label:"Policies Consent"},t_shirt_size:{label:"T-Shirt Size"},team:{label:"Team"},username:{label:"Username",validation:"Username is not valid"}},greeting:"Welcome to {{appName}}",log_out_button:"Log out",not_supported_network:{description:"Your wallet is not connected to a supported network. Please update before continuing.",error_message:"This network is not available, please update.",title:"Update Network"},update_email_tooltip:"This email is tied to your wallet so cannot be updated",update_phone_number_tooltip:"This phone number is tied to your wallet so cannot be updated",lock_editing_multiple_verified_fields:"You can only edit 1 field at a time that requires verification"},dyn_common:{aria:{collapsed:"Collapsed",expanded:"Expanded"}},dyn_create_password:{continue:"Continue",create_input:{label:"Create passcode",placeholder:"Create passcode"},confirm_input:{label:"Confirm passcode",placeholder:"Confirm passcode"},current_password_input:{label:"Current passcode",placeholder:"Current passcode"},description:"Choose a strong, unique passcode to ensure your account's security and privacy.",errors:{invalid_current_password:"Invalid current passcode",error_changing_password:"Error changing passcode",new_password_same_as_old:"New passcode cannot be the same as the old passcode",password_mismatch:"Passcodes do not match",user_closed_view:"User closed the view"},intro:{continue:"Set up a passcode",description:{title:"Add a passcode to protect your account",additional_protection:{title:"Passcode Security",description:"Add a secure passcode to further prevent un-authrized access to your account."},restore_access:{title:"Restore Access",description:"You will be asked to enter it when signing on to a new device."}},title:"Add a Passcode"},logout:"Log out",title:{create:"Create passcode",update:"Create new passcode"},update_input:{label:"New passcode",placeholder:"New passcode"}},dyn_creating_wallet:{loading_message:"Your wallet is being created..."},dyn_email_confirmation:{description:"Weve sent a verification email to",note:"Note: it might take a few seconds to proceed after clicking the link in your email",title:"Confirm your email"},dyn_email_update:{current_email:"Your current email address is",label:"Email address",send_verification:"Send Verification Code",title:"Update email"},dyn_otp_verification:{code_not_received:"Did not receive a code? Check spam or",code_sent:"Code sent",description:"Weve sent a verification code to",log_out_button:"Log out",resend_code:"Re-send code",resend_code_in:"Re-send code in {{remainingSeconds}}",confirm_code:"Confirm verification code",verification_succeeded:"Verification code confirmed",hang_tight:"Hang tight while we get things ready for you",email:{title:"Confirm your email",complete:"Verification complete, the email is now verified to this account."},phone_number:{title:"Confirm your phone number",edit:"Edit phone number",complete:"Verification complete, the phone number is now verified to this account."}},dyn_deposit:{title:"Deposit",receive_funds_on:"You can receive tokens on "},dyn_exchange_transfer_confirmation:{title:"Deposit Confirmation",from:"From",to:"To",fee:"Network Fee",fee_not_found:"N/A",receive:"Receive",cost:"Amount + Fees",cost_no_fee:"Amount",terms:"By confirming I agree to the Terms of Service and acknowledge this deposit is final.",send:"Send {{fiatCurrency}} {{fiatCurrencySymbol}}",confirm:"Confirm",cancel:"Cancel",account:"User {{exchange}}"},dyn_deposited_exchange:{title:"Deposited",description:" was successfully deposited to {{address}}",done:"Done",view:"View Transaction"},dyn_exchange_mfa:{title:"Confirm Verification Code",placeholder:"Enter Verification Code Here",description:"Enter the code sent to you or generated by your authenticator app",button:"Confirm"},dyn_exchange_whitelist_warning:{title:"Whitelisting Required",description:"To complete your first transfer with {{exchange}}, please follow these steps:",step1:{kraken:"Open Kraken. Click Transfer, then Withdraw"},step2:"Whitelist your wallet address",step3:"Complete the first transfer on {{exchange}}",view_instructions:"View Instructions",done:"Im Done",address:"Your Wallet Address",open:"Open {{exchange}}"},dyn_fund_from_exchange:{title:"Fund from Exchange"},dyn_exchange_transfer_errors:{title:"Unable to execute transfer.",mfa_failed:"Incorrect security code. Please double-check your MFA code and try again.",invalid_currency_description:"Please choose a supported currency and try again.",invalid_balance:"This transfer, including fees, exceeds your available balance. Transfer a smaller amount.",amount_too_small:"The amount youre trying to transfer is below the minimum allowed by the selected exchange. Please enter a larger amount and try again.",address_not_whitelisted:"The destination address is not whitelisted on this exchange. Please add it to your whitelist before retrying the transfer.",unknown:"An unknown error occurred."},dyn_embedded_authenticator:{description:"Protect your account and simplify your transaction experience.",email:{badge:"Fastest",description:" You will need to renew after {{expiration}} minutes ",title:"Use a one-time code"},passkey:{auth_info:{convinience:{title:"Convenient and Fast",description:"Use Face ID or Touch ID to complete transactions quickly."},security:{title:"Increased Security",description:"Passkeys are encrypted end-to-end on your device or password manager to prevent phishing attempts."},add_button:"Add a passkey",start_button:"Add a passkey"},no_email_auth_info:{convinience:{title:"Simple and Fast",description:"Works across devices and syncs between devices and browsers."},security:{title:"Secured with a bio-metric",description:"Phishing resistant and encrypted."},add_button:"Add passkey",start_button:"Add passkey"},badge:"Recommended",description:"Works across devices & secured with biometric to prevent phishing attempts ",title:"Create new passkey",reveal_title:"Add a passkey"},skip:"Not now",title:"Account security",need_help_title:"Problem Signing?",need_help_description:"Select from an option below to complete",reveal_title:"Verification Required",reveal_description:"Choose a verification method."},dyn_enter_password:{continue_button_label:"Continue",description:"Please enter your passcode below to continue.",error:{invalid_password:"Invalid passcode"},input:{label:"Passcode",placeholder:"Passcode"},title:"Enter passcode"},dyn_farcaster_connect_view:{copy_button:"Copy QR URI",scan_title:"Scan this QR code from your mobile app or phone's camera to connect."},dyn_login:{connect_wallet:{title:"Connect"},email_form:{email_field:{label:"Enter your email"},submit_button:{label:"Continue"}},email_or_phone:{use_email:"Use email",use_phone:"Use phone",prefer_email:"Prefer email sign up?",prefer_phone:"Prefer phone number sign up?"},helper:{all_wallet_list:"Get your first wallet",email_form:{invalid_email:"Invalid or incorrect email. Did you mistype it?"},pending_connect:{title:"Connecting a wallet"},pending_signature:{title:"Signing a wallet"},pending_signature_without_back_button:{title:"Signing a wallet"},phone_number_form:{invalid_phone:"Invalid or incorrect number. Did you mistype it?",invalid_sms_verification:"The code you entered is incorrect. Please try again.",too_many_sms_verification_attempts:"Too many verification attempts, please try again later."},qr_code:{title:"Connecting a wallet"},wallet_only:"Get your first wallet"},passkey:{button_label:"Sign in with Passkey"},qr_code:{title:"Connect"},separators:{default:"OR"},sign_wallet:{title:"Sign"},select_wallet_in_wallet_group:{title:"Select"},social:{button_label:"Continue with {{provider}}",overlay_title:"Choose a social account"},title:{all:"Log in or sign up",all_wallet_list:"Select your wallet",wallet_only:"Select your wallet"},wallet_group:{title:"Select Chain"},wallet_list:{button_only:"Continue with a wallet"},mobile_wallet_redirect:{backup_title:"Connect mobile app",prompt:"Tap 'Open' to continue",get_app_prompt:"Get",open_prompt:"Open",redirect_fail_message:"If the app doesn't open, you might need to download the {{walletName}} Wallet app.",app_store:"App Store",play_store:"Play Store"},wrong_social_account:{retry_button:"Try again",retry_title:"Please connect with: ",subtitle:"You must connect with the same account you originally signed in with.",title:"Whoops. Wrong Account"}},dyn_manage_passkeys:{title:"Manage passkeys",passkey_from:"from",passkey_providers:{android:"Android Phone",brave:"Brave Browser",chrome:"Google Chrome",edge:"Microsoft Edge",firefox:"Firefox",iPhone:"iPhone",opera:"Opera Browser",safari:"Safari Browser",passkey:"Passkey"},passkey_rename:"Rename",passkey_delete:"Delete",recovery_button:"Set up new passkey"},dyn_rename_passkeys:{error:"Whoops! There was an error updating your passkey",input_label:"Passkey name",save:"Save",title:"Rename your passkey",not_found:"No passkeys found"},dyn_embedded_reveal:{title:"Export wallet",agreement_title:"Agree to continue",prompt_for_export_title:"Back up wallet key",private_key_title:"Export Key",recovery_phrase_title:"Secret recovery phrase",badge_label:"Sensitive information",prompt_for_export_description:"Your wallet is ready. Back up your key to protect your assets.",statement_1:{title:"Non-custodial wallet",description:"You're always in control"},statement_2:{title:"Keep your key private. It controls your account and assets."},checkbox_label:"I am responsible for safeguarding and using my wallet key information.",reveal_description:"Make sure to safely back up this information",skip_button_label:"Skip for now",reveal_button_label:"Reveal",backup_button_label:"Back up now",copy_button_label:"Copy to clipboard",done_button_label:"I'm Done",aa_warning:{title:"Your assets are not in this wallet.",subtitle:"This is a smart-contract wallet. You will not see your balance if you import this to an external service. Please send your assets to your preferred external wallet first to access your funds:",button:"here"},unlink:"Unlink wallet info"},dyn_embedded_delete:{title:"Unlink from app",description_1:"By continuing you acknowledge that if you return to the application, you will receive a new wallet address.",description_2:"Once unlinked, you cannot recover any wallet information through this application including any associated smart contract wallets.",acknowledgement:"I have safely backed up my wallet seed phrase information. If I return to this application, a new wallet will be created for me.",cancel_button:"Cancel",action_button:"Unlink & Log out"},dyn_settings:{account_permissions_section:{title:"Account Permissions",delegated_wallets_button:"Delegated Wallets"},global_connectivity_section:{title:"Global Connectivity",connected_apps_button:"Connected Apps"},export_section:{backup_button:"Backup Key Share",export_button:"Export Private key",private_key_button:"Private key",srp_button:"Recovery phrase",title:"Export & Backup"},identity_section:{title:"Recovery",add_email_button:"Add an email"},tags:{recommended:"Recommended"},security_section:{email_auth_button:"One time code",passkey_button:"Passkeys",password_button:"Passcode",mfa_button:"Authenticator App",title:"2 factor authentication"},mfa_section:{title:"MFA",passkey_button:"Passkeys",totp_button:"TOTP"},wallet_security_section:{title:"Wallet Security",passkey_button:"Passkeys"},title:"Settings",button_logout:"Log out",account_security:{title:"Account & Security"},empty_screen:{title:"Nothing to see here yet!"},delete_account:{title:"Delete My Account",description:"Deleting your account will permanently remove all data, including wallet details and linked smart contract wallets. This action cannot be undone.",backup_confirmation_embedded:"I confirm I've backed up my wallet keys. If I proceed, a new wallet will be created. Any wallets or assets not backed up will be lost permanently.",backup_confirmation_no_embedded:"I confirm that all of my information will be deleted. If I return, a new user profile will be created. These changes cannot be undone.",type_delete:"Enter DELETE in the box below to confirm this action.",cancel:"Cancel",confirm:"Delete Account",deleting:"Deleting...",type_delete_label:"Type to confirm"},session_management:{title:"Security Settings",session_management_button:"Session Management"}},global_wallet:{connect_to_apps:"Connect to apps",scan_qr_code:"Scan QR Code",or:"OR",walletconnect_uri:"WalletConnect URI",the_dapp:"the dApp",this_app:"this app",confirm:{title:"Confirm Connection",description:"Are you sure you want to connect to {{name}}?",cancel_button:"Cancel",connect_button:"Connect"},banner:{warning:"There was an error connecting to {{name}}.",success:"Successfully connected to {{name}}.",already_connected:"You are already connected to {{name}}.",expired:"The link you entered expired, please get a new URI from the app.",bad_input:"Invalid URI. Please check below for how to find the valid URI."},help:{title:"How do I find the URI code?",step:{1:"1. Go to the website you want to connect to",2:'2. Locate the "Connect" or "Login" button',3:"3. Open WalletConnect from the list"},learn_more:"Learn more about global wallets"},malicious_site:{certain:{title:"Malicious app detected!",subtitle_header:"Risk of losing funds",subtitle_text:"The site is known to exploit and or take assets from connected wallets.",go_back:"Cancel",proceed:"Proceed"},unknown:{title:"Site verification did not run.",subtitle_header:"Double check the app",subtitle_text:"We were unable to verify the vailidity of the app at this time.",go_back:"Cancel",proceed:"Proceed"}},connected_apps:{title:"Connected Apps",subtitle:"Connected apps allow you to interact with your wallet on other platforms.",success:"Successfully connected to {{name}}.",delegate_wallets:{title:"Delegated Wallets",button:"Delegated Wallets"}}},wallets_delegated:{title:"Wallets Delegated",subtitle:"Delegated wallets allow you to interact with your wallet on other platforms."},dyn_manage_mfa:{title:"Authenticator App",add_mfa_button:"Authenticator App",no_devices:"No authenticator apps configured",generate_backup_codes_button:"Get new backup codes",delete:"Delete"},dyn_manage_passkeys_mfa:{title:"Passkeys",add_passkey_button:"Passkey",no_passkeys:"No passkeys set up yet"},dyn_waas:{backup_unsuccessful:{title:"Let's try that again",description:"It looks like setup didn't finish all the way. Click below and we'll get you back on track.",try_again:"Try Again",log_out:"Log Out"},backup_info:{title:"About Backup",subtitle:"Why backup as shares?",description:"As a security best practice, you can store two independent recovery shares. This lets you restore your wallet from your own backups alone, giving you full control over the recovery process",warning:"You'll need both parts to recover your wallet, and they should never be stored together"},backup:{title:"Backup Key Share",subtitle:"Secure your wallets as a two-part backup. One part saved to your cloud, the other to your device. You will need both to recover your wallets.",checkbox_label:"I understand I must keep both parts secure and separate",continue_button:"Continue to Backup",cloud_backup_title:"1. Cloud Backup",cloud_backup_subtitle:"Back up your first key share to a cloud provider",cloud_backup_header:"Cloud Backup",backup_to_google_drive:"Backup to Google Drive",backup_to_icloud:"Backup to iCloud",icloud_ready_title:"Sign in to backup",icloud_ready_subtitle:"Sign in with your Apple ID below, then continue to backup your wallet.",sign_in_with_icloud:"Sign in with iCloud",continue_backup:"Continue",progress_title:"Backing up {{current}} of {{total}} wallets...",progress_initializing:"Preparing backup...",progress_subtitle:"Securely saving to your cloud. Don't close this window",progress_complete:"Backup complete!",google_drive_title:"Backup Key Share",google_drive_description:"Back up your wallet to help protect your access and recover it if needed.",google_drive:"Google Drive",backed_up:"BACKED UP",google_drive_subtitle:"Secure cloud backup with your Google account.",back_up:"Back Up",error:"Failed to back up wallet. Please try again.",download_title:"2. Download",download_subtitle:"Download your second key share and store it securely on your local device",download_key_share:"Download Key Share",downloading:"Downloading...({{current}}/{{total}})",download_complete:"Download Complete",download_error:"Failed to download key share. Please try again.",success_title:"Backup Successful",success_description_one:"Your local key shares have been successfully downloaded for {{count}} wallet. Store these files securely and separately from your cloud backup.",success_description_other:"Your local key shares have been successfully downloaded for {{count}} wallets. Store these files securely and separately from your cloud backup.",done:"Done",error_title:"Cloud backup failed. Don't worry, your account is still safe.",error_try_again:"Try Again"}},dyn_mfa:{choose_device_view:{title:"Secure your account",select_options:"Protect your account by adding multi-factor authentication",authenticator_app:"Authenticator app",authenticator_app_description:"Use your preferred authenticator app such as Authy, Google Authenticator, etc.",passkey:"Passkey",passkey_description:"Works across devices & secured with biometrics to prevent phishing attempts.",backup_code:"Backup code",backup_code_description:"Enter one of your saved backup codes to authenticate.",choose_another_method:"Choose another method",choose_another_method_description:"Use one of the methods below:",logout:"Log out"},display_backup_codes_view:{title:"Back up your codes",body:"Backup codes help recover your account if you lose access to your device. Each code can be used only 1 time.",warning:"You wont be able to see these again",copy_all:"Copy all",download:"Download",checkbox:"I've safely stored a copy of my backup codes",complete:"Complete"},otp_verification_view:{title:"Confirm verification code",body:"Enter the verification code generated by your authenticator app",error:"Invalid code. Please try again.",rate_limit_error:"Too many attempts, please try again later.",choose_another_method:"Use a different method",logout:"Log out"},secure_device_view:{title:"Secure your account",body:"Setup a new sign-in method in your authenticator app",continue:"Continue",helper:{button:"Can't scan QR Code?",title:"Troubles with scanning?",step1:{title:"Open your Authenticator App",description:"You will set up a new sign-in method"},step2:{title:"Enter the key provided below",description:"Make sure time-based or one-time password is enabled."},uri:{title:"Copy the full URI",description:"This only works if your authenticator app supports TOTP URIs"}},logout:"Log out"},recovery_view:{title:"Enter your backup code",body:"Your backup code is one of the 10 codes you received when you first enrolled in multi-factor authentication",input_label:"Enter back up code",button_label:"Continue",get_help:{description:"Missing your back up codes?",button_label:"Get Help"},helper:{title:"Mfa Recovery Help"}},setup_passkey_view:{title:"Set up your passkey",description:"Passkeys help safeguard your account and make access easier. Finish set up in just a few seconds."},confirm_passkey_view:{title:"Confirm your passkey",description:"Use your saved passkey to verify your identity and continue securely.",error:{not_allowed:"The passkey request timed out or was rejected."}}},dyn_merge_user_accounts:{confirm_button:"Merge accounts",errors:{merge_error:"Something went wrong, please try again."},wallet:{content:"This wallet is associated to another account. Would you like to merge accounts?",title:"Wallet already in use"}},dyn_merge_user_accounts_conflicts:{confirm_button:"Confirm & Merge",description:"You have some conflicting information. Please select your preferences",errors:{merge_error:"Something went wrong, please try again."},title:"Confirm your preferences"},dyn_merge_user_accounts_with_same_email:{cancel_button:"No, I'll use a different email",confirm_button:"Yes, link to existing account",errors:{merge_error:"Something went wrong, please try again."},existing_account:"An account already exists that uses",existing_account_trail:"email.",title:"Would you like to link this wallet to this existing account?"},dyn_need_help_section:{info:{v1:"Need Help?",not_v1:"Need help? Get in touch:"},contact_support:"Contact support",divider:"or",help_button:"Go here for support",visit_platform:"Visit {{platform}}"},dyn_network_not_supported:{button:"Switch Network",subtitle:"Your wallet is not connected to a supported network. Please update before continuing.",title:"Update Network",warning_message:"This network is not available, please update.",wallet:"Not Supported"},dyn_network_not_supported_manual_switch:{subtitle_network_defined_metamaskstarknet:"To continue, please update the network in your wallet to {{network}} by visiting the Starknet Snap",subtitle_network_defined_metamaskstarknet_companion_app:"companion app",subtitle_network_defined:"To continue, please update the network in your wallet to {{network}}",subtitle_no_network_defined:"Your wallet does not support switching networks from this app. Switch networks directly in your wallet.",title:"Update your Network",warning_message:"This network is not available, please update."},dyn_no_access:{chainalysis:{button_text:"Try another method",description:"This wallet has been correlated to illicit activity and cannot access this site.",social_media_link_text:"Why am I seeing this message?",social_media_link_url:"https://docs.dynamic.xyz/docs",title:"This address seems corrupted."},default:{button_text:"Try another method",description:"You are not currently on the allow list.",title:"Access denied"},gate:{button_text:"Try a different wallet",description:"A NFT or a token is required to access this site.",title:"You cannot access the site"},not_in_the_list_image_alt:"user is not in the list",title:"You don't have access"},dyn_magic_verification:{banner_text:"Sign in to access your email based wallet"},dyn_passkey_success:{created:"A new passkey has been created",edited:"Your passkey has been edited"},dyn_passkey_intro:{button:"Set up a passkey",button_logout:"Log out",button_skip:"Skip for now",disabled:"Passkeys are not available on this device or browser. Please open on Chrome, Safari, or Brave to continue",helper:{section_1:{description:"Passkeys are a standard built by Apple, Google and others, and eliminates the use of passwords.",title:"Built by Apple and Google"},section_2:{description:"Passkeys are stored on your phone and are not shared with anyone.",title:"Secure and Private"},title:"What's Passkey",tooltip:"Need some help?"},sms_auth:{title:"Finish set up",description:"Add a security method to finish your profile and complete transactions"},subtitle:"Passkeys are stored natively to your device with a biometric and can only be accessed by you.",title:"Secure your wallet"},dyn_passkey_new_domain_detected:{title:"New domain detected",description:"To complete your transaction select a signing method",actions:{passkey:{title:"Add new passkey",subtitle:"Does not expire. Works across devices & secured with biometric."},emailAuth:{title:"Use a one-time code",subtitle:"Allows you to transact for 30 min"},badges:{recommended:"Recommended",fastest:"Fastest"}}},dyn_passkey_recovery:{add_email:{description:"Dont get locked out if you delete your passkey or lose your device.",input_label:"Enter your email",title:"Add a recovery email",confirm_button:"Confirm with a passkey",skip_button:"Skip for now",success_message:"Recovery email added!"},code:{description:"A verification code has been sent to {{email}}",input_label:"Enter your code here...",title:"Verification code sent",resend:{button:"Resend code",text:"Didn't receive a code?"}},complete:{complete_button:"Create a passkey",description:"Secure your wallet by adding a new passkey.",title:"Create a new passkey"},start:{description:"To complete this process, ensure you are using the same device/browser.",start_button:"Send me an email",title:"Initiate Request"}},dyn_pending_connection:{title:"Connect",mobile:"Click connect in your mobile wallet",computer:"Click connect in your wallet popup"},dyn_pending_signature:{click_to_sign:"Click to Sign",link_wallet_message:"Sign the message in your wallet to approve linking this wallet to your account",note:"Note: ",phantom_ledger_sign:"Click sign in your wallet to confirm you own this wallet (this doesn't cost gas).",phantom_ledger_warning:"Ledger doesn't support message signing. When logging in, a small fee (which should not apply) may appear. See below to learn more.",regular_sign_description:"Click sign-in in your wallet to confirm you own this wallet."},dyn_qr_code:{copy_button:"Copy QR URI",get_extension_button:"Get Extension",open_button:"Open App",scan_title:"Scan this QR code from your mobile {{app}} or phone's camera to connect.",wallet_not_installed:{browser_install:"Install {{browser}} extension",install:"Install {{wallet}} extension to connect",refresh:"Refresh the page once installed",select:"Select from your preferred options below:"}},dyn_wallet_locked:{connect_continue:"Connect your wallet to continue",title:"Welcome back",subtitle:"We couldn't connect to your wallet. Click connect to retry the connection ",connect:"Connect wallet",logout:"Log out"},dyn_passkey_secure_modal:{code:{action_based_description:"To {{action}} verify account.",description:"A secure code has been sent to {{email}}.",input_label:"Enter your code here...",title:"Verification code sent",resend:{button:"Resend code",text:"Didn't receive a code?"},complete_transaction_action:"complete transaction",sign_message_action:"sign this message"},complete:{complete_button:"Create a passkey",description:"Passkeys are stored natively to your device with a biometric and can only be accessed by you.",title:"Secure your account"},start:{description:"A one-time security code will be sent to the email on file. It will expire in 15 minutes.",start_button:"Send me an email",title:"Send Email Code"}},dyn_save_password:{badge_text:"Important!",checkbox_label:"I have safely stored a copy of my passcode.",continue:"Continue",copy_button:{copy:"Copy",copied:"Copied"},description:"You must retain a copy of this passcode.",download_button:"Download",logout:"Log out",password_input:{label:"Passcode",placeholder:"Passcode"},title:"Save passcode",warning:"If you lose your passcode, you cannot recover access to your account."},dyn_secure_pregenerated_wallet:{description:"Make transactions simpler and more secure.",action:"Get started"},dyn_duplicate_wallet:{title:"Choose Another Wallet",description:"Youve selected the same wallet for both sending and receiving. To continue, choose a different wallet.",return:"Return to wallet list"},dyn_secondary_wallet:{title:"Select Wallet",copy_address:"Copy address",view_address:"View address",copy_ens:"Copy ENS",view_ens:"View ENS",unlink:"Unlink",switch_wallet:"Switch wallet",unlink_from_account:"Unlink from my account",disconnect_from_account:"Disconnect from my account",export:"Export private keys",connect_new:"Connect new",link_new:"Link new"},dyn_send_transaction:{confirmation:{cancel_button:"Cancel",confirm_button:"Confirm",send:"Confirm",data:{amount:"Amount",from:"From (You)",gas:"Gas",gas_estimate:"Network Fee",to:"To",total:"Total",wallet_used:"Wallet used",network:"Network",recipient:"Recipient",destination:"Interacting with",gas_tooltip:"Gas fees are charged by the network and can change quickly based on usage.",sending:"Sending",receiving:"Receiving",transfer:{send:"Send",receive:"Receive"}},not_applied:"N/A",title:"Confirm transaction"},data:{amount:{label:"Amount",placeholder:"Enter amount"},balance:{label:"Balance:"},from:"Send from",send:"Send",send_preview:"Send Preview",confirmation_tx:"Confirm Transaction",banner:"You're nearly done! Confirm transaction to proceed.",recipient:{label:"Address",placeholder:"Enter wallet address..."}},multiple_recipients:"Multiple",preview_transaction:"Preview transaction",send_button:"Send now",succeeded:{continue_button:"Done",network:{label:"Network"},recipient:{label:"Recipient"},title:"Transaction successfully sent to",total_amount:{label:"Total amount"}},validation:{amount:{invalid_decimals:"Please enter a value up to the {{decimals}}th decimal place.",invalid_format:"The amount is in invalid format",over_balance:"Insufficient funds to send this amount.",required:"The amount field is required"},recipient:{invalid_format:"The address is in invalid format",required:"The recipient is required"}},info_message:{refresh_balance_time:"Your balance may take up to 30s to refresh."},warning_message:{insufficient_funds:{title:"Insufficient funds",description:"Insufficient funds for transaction. Please add {{amountLeft}} {{currencySymbol}} to continue."},insufficient_gas_funds:{title:"Insufficient gas funds",description:"Please add {{amountLeft}} {{currencySymbol}} to continue."},failed_simulation:{title:"Transaction expected to fail",description:"Something went wrong. Check your balances and try again."}},error_message:{gas_not_sponsored:"The gas fee has increased. Confirm if you still want to complete this transaction."}},dyn_select_chain:{description:"This wallet supports multiple chains. Select which chain you'd like to connect to",using_hardware_wallet_toggle_label:"Using Ledger"},dyn_select_wallet:{description:"Select your preferred {{walletName}} wallet?"},dyn_select_hardware_wallet:{title:"Connect",description:"This wallet supports using ledger. Toggle on ledger to enable it.",using_hardware_wallet_toggle_label:"Using Ledger with {{chainName}}",button:"Connect"},dyn_session_key_approval:{aria:{close_button_label:"Close"},title:"Approve Access",description:"Youre granting this site access. Review the permissions before confirming.",approve_button:"Approve",reject_button:"Deny"},dyn_session_management:{aria:{back_button_label:"Back",info_button_label:"Info",close_button_label:"Close"},title:"Session Management",empty_sessions_view:{loading:"Loading sessions...",title:"No active sessions found"},info_view:{title:"Connected App Sessions",description_bold:"Easily manage which apps have access to your wallet. ",description_2:"Each session represents a connection you've made with a site or app.",description_3:"You can revoke access anytime to stay in control of where and how your wallet is used.",continue_button:"Continue"},revoke_access_view:{title:"Revoke Access",description:"You're removing this site's permissions. Confirm to revoke access.",cancel_button:"Cancel",revoke_button:"Revoke",success_message:"Revoked {{sessionName}}",error_message:"Failed to revoke {{sessionName}}"},session_component:{aria:{collapse_permissions:"Collapse",expand_permissions:"Expand"},permission_details:"Permission details",revoke_button:"Revoke"}},dyn_session_permissions:{permissions_label:"Permissions",permissions:{ownership:"Act on your behalf",access:"Access ends automatically in {{time}}"},spending_label:"Allow Spending",spending_limit:"Can spend up to:",advanced_label:"Advanced",advanced_description:"Session information",connected:"Connected: {{time}} ago"},dyn_sign_message:{cancel_button:"Reject",sign_button:"Sign",title:"Signature request",warning:"Only sign this message if you trust this site.",message_label:"Message:"},dyn_social_redirect:{logging_in:"Logging you in"},dyn_wallet_redirect:{loading:"Loading..."},dyn_time_since:{second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years",ago:"ago",created:"Created"},dyn_wallet_conect:{mobile:{wallet_list:{helper:"Get your first wallet",title:"WalletConnect wallets"}}},dyn_pending_account_switch_to_link:{title:"Wallet is already linked, switch wallet in {{walletName}}",description:"To link a new wallet, open {{walletName}} and switch to the account you want to link."},dyn_wallet_link:{cannot_link:{cancel_button:"Cancel",description:"This wallet is the only wallet in your other account. You cannot transfer it, since then you will lose access to that account.",link_other_button:"Link a different wallet",title:"Cannot link this wallet to a new account"},confirm_button:"Link wallet to current account",existent_account:{acceptance:"I understand that linking this wallet means that I will lose access to the other account.",warning:"Linking your wallet to this account will unlink it from its previously associated account"},log_out_button:"Log out",title:"Transfer this wallet?",already_exists:{title:"Wallet Already Linked",description:"This wallet is already used as an embedded wallet. You cannot link it unless you delete the existing embedded wallet."}},dyn_wallet_list:{configuration_mismatch:"Oops, no login methods have been configured.",helper:"Get your first wallet",search:{label:"Search through {{numberOfWallets}} wallets...",not_found:{description:"The wallet youre looking for may not be available, or linking more than one of these wallets might not be possible.",title:"Wallet not available"}},title:{connect:"Connect a new wallet",link:"Link a new wallet",select:"Select your wallet"},view_all:"View all wallets",wallet_missing:{description:"Try search instead",title:"Don't see your wallet?"}},dyn_exchange_list:{search:{label:"Search through exchanges",not_found:{description:"The exchange youre looking for may not be available.",title:"Exchange not available"}},item:{connected:"Connected"},no_exchanges:"Oops, no exchanges have been configured."},dyn_unified_list:{title:"Funding Source",exchange:"Exchange",wallet:"Wallet",onramp:"Onramp",search:{label:"Search Wallets, Exchanges, & Onramps",not_found:{description:"The wallet, exchange, or onramp youre looking for may not be available.",title:"Wallet, Exchange, or Onramp not available"}},item:{connected:"Connected"}},dyn_wallet_transfer:{sign:{spinner:{cancel:"Cancel",confirm_transfer:"Sign the message to confirm transferring this wallet to this account."},title:"Sign to confirm transfer"}},dyn_nav_bar:{wallets:"Wallets",profile:"Profile",settings:"Settings"},dyn_widget:{connect:"Log in or sign up",empty_wallets:"{{action}} additional wallets to see them here.",other_wallets:"My other wallets",empty_wallets_action_link:"Link",empty_wallets_action_connect:"Connect"},dyn_wallet_information:{balance:"Balance",multi_asset:{empty_state:"No assets in this wallet"}},dyn_unlink_wallet_pop_up:{disconnect_title:"Disconnect your wallet?",unlink_title:"Unlink your wallet?",disconnect_description:"Are you sure you want to disconnect your wallet?",unlink_description:"Are you sure you want to unlink your wallet?",disconnect_button:"Yes, disconnect",unlink_button:"Yes, unlink",cancel_button:"No"},dyn_user_profile:{my_information:{title:"My information"},my_wallet:{title:"My wallet"},social_accounts:{title:"Social accounts"},tooltips:{verified_email:"This email is verified",verified_phone:"This phone number is verified"},wallets:{link_wallet_button:"Link wallet",title:"Want to add a wallet?"},edit_profile_button:"Edit Profile"},dyn_subdomain_field:{label:"Subdomain Handle",available:"Subdomain is available",not_available:"Subdomain is not available",error:"Subdomain check failed",details:"A subdomain handle will create a unique ENS subdomain for your wallet, helping you easily share and identify it."},dyn_detected_new_wallet:{title:"Account Change Detected",description:"Your active account in {{walletName}} has changed. This account is not currently linked to this app. Do you want to add it?",confirm_button:"Yes, link this wallet"},dyn_sync_wallet:{switch_wallet:{title:`Your wallets are mismatched. 
Switch to continue.`,active_address:{heading:"Currently active in wallet"},expected_address:{heading:"Currently active on website",prompt:"Manually switch to this wallet"}},reconnecting:{title:"This wallet is not connected",description:"Reconnecting wallet {{walletAddress}} to make it active..."},reconnect_with_qr_code:{title:"This wallet is not connected"},cancel_button:"Cancel",retry_button:"Retry"},dyn_wallet_funding:{success:"Transaction processing",success_txn_link:"View transaction",funding_method_selection:{title:"Deposit",qr_option:"Receive by QR",buy_option:"Buy Crypto",external_wallet_option:"From External Wallet",linked_wallet_option:"From Linked Wallet",exchange_option:"From Exchange"},onramp_provider_selection:{title:"Select provider",description:"Select from a list of available onramp providers."},from_linked_wallet:{title:"Fund from Linked Wallet"},from_exchange:{title:"From Exchange"},from_external_wallet:{title:"Fund from External Wallet"},from_wallet:{amount_input:{title:"Fund from Wallet",wallet_detail_from:"From",confirm_button:"Confirm Transaction",pricing_unavailable:"Pricing unavailable.",minimum_error:"Minimum {{minimum}}",balance_error:"Insufficient funds: Buy more"},token_select:{title:"Select a Token",search_placeholder:"Search for a token",no_assets_title:"No Supported Assets",no_assets_description:"No supported assets in this wallet"}}},dyn_crypto_com_onramp:{title:"Deposit",amount_label:"Amount to purchase",amount_description:"Enter the USD amount you want to spend",token_label:"Token to receive",token_description:"Choose which token you want to purchase",wallet_info:"Tokens will be sent to your wallet",wallet_detail_to:"Tokens will be sent to",creating_payment:"Creating Payment...",create_payment:"Continue to Payment",currency_label:"Payment Currency",select_currency:"Select Currency"},dyn_widget_header:{buttons:{deposit_funds:"Deposit",send_funds:"Send",more:"More"}},dyn_error:{default:"Something went wrong. Please try again.",user_rejected:"User rejected the request.",message_signature_denied:"Message signature denied",wallet_locked:"Please unlock your wallet extension and try again.",invalid_parameters:"Invalid parameters. Please try again.",internal_error:"There was an internal error. Please try again.",account_already_linked_to_different_profile:"This social account is already linked to a different profile.",connection_rejected:"Connection rejected. Please try again.",missing_public_address:"Connection cancelled. Please try again",connection_proposal_expired:"Connection proposal expired. Please try again.",sei_not_enabled_in_keplr_wallet:"Sei network is not enabled in Keplr. Please enable it and try again."},dyn_search:{clear:"Clear"},dyn_account_upgraded:{title:"Account Upgraded",message:"All done! You've got the latest version  more powerful, flexible, and ready for what's next.",continue_button:"Continue"},dyn_upgrade_wallet:{title:"Upgrade your account",description:"A new version of your account is available, with better security and easier recovery.",eligible_wallets:"Eligible wallets",how_to_upgrade:"How would you like to upgrade?",keep_existing:"Keep existing wallet",keep_existing_desc:"Export your legacy wallet and securely import the private key to upgrade",start_fresh:"Start fresh",start_fresh_desc:"Removes your legacy wallet and create a brand new upgraded wallet",recommended:"recommended",upgrade:"Upgrade",not_now:"Not now"},dyn_wallet_upgrade_flow:{title:"Upgrade your wallet",step_wallet_upgrade:"{{walletName}} Upgrade",new_wallet_title:"Create New Wallet",new_wallet_coming_soon:"New wallet creation coming soon...",copy_private_key_subtitle:"Import your wallet key to upgrade your wallet. You will not lose access to any assets. Your wallet will always remain in your control.",copy_private_key_title:"Copy",step_2_upgrade_description:"Paste",upgrade_wallet:"Upgrade Account",cancel:"Cancel",export_failed:"Failed to export wallet",upgrade_failed:"Failed to upgrade wallet"},dyn_export_and_recovery:{title:"Export & Recovery",private_key:"Private Key",export_shares:"Export Share",advanced:"ADVANCED"},dyn_export_shares:{title:"Export Key Shares",sensitive_info:"Sensitive information",threshold_description:"You'll need at least {{required}} out of {{total}} shares to restore access to your wallet.",how_to_use_title:"How to use them",bullet_1:"Store your shares in separate secure locations.",bullet_2:"You'll need {{required}} shares to recover offline.",bullet_3:"You can re-import them through your wallet recovery flow.",acknowledge:"I am responsible for safeguarding and using my wallet key share information.",download_button:"Download Share",error:"Failed to export shares. Please try again."},dyn_export_shares_passcode:{title:"Enter Passcode",description:"To export your recovery shares, enter your passcode.",enter_passcode:"Enter passcode",error:"Invalid passcode"},dyn_wallet_delegation:{title:"Wallet delegation approval",approval_required:"Approval required",approval_requested:"Approval requested",approval_description:"{{appName}} is requesting access to perform automations on your behalf. You can revoke this permission at any time.",select_wallets:"Select Wallets",select_all:"Select All",deselect_all:"Deselect All",clear:"Clear",approve_button:"Approve delegation",deny_button:"Deny",done_button:"Done",approving_permissions:"Approving permissions",permissions_description:"{{appName}} is requesting access to perform automations on your behalf. You can revoke this permission at any time.",permissions_granted:"Permissions granted",permissions_description_granted:"{{appName}} has been granted access to perform automations on your behalf. You can revoke this permission at any time.",revoke_note:"You can always revoke these permissions in your wallet settings.",wallets_selected:"wallets selected",edit_selections:"Edit Selections",save_selections:"Save Selections",edit_wallets_title:"Edit Wallets",my_wallet:"My Wallet",all_wallets:"All Wallets",agreement_text:"I understand, and agree to accept this permission request",selected_wallets:"Selected Wallets",edit_wallets_to_delegate:"Edit Wallets to Delegate",something_went_wrong:"Something went wrong",delegation_timeout_message:"The delegation request timed out or was rejected. Please try approving again or come back in another time.",try_again_button:"Try again",logout_button:"Log out",learn_more:"Learn more",learn_more_description:"Delegating your wallet lets this app act on your behalf, even when you're not here. This is useful for things like trading bots or other automated workflows. You stay in control  you can revoke access anytime in your wallet settings.",learn_more_okay_button:"Okay"}},sae=(e,t)=>{if(typeof e!="object"||typeof t!="object")return t;const n=Object.assign({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(typeof t[r]=="object"&&Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]=="object"?n[r]=sae(e[r],t[r]):n[r]=t[r]);return n};class wi{static setResources(t){if(wi.__resources__)return;if(!t){wi.__resources__={en:{translation:SO}};return}const n={};Object.keys(t).forEach(r=>{const i=Object.assign({},SO);n[r]={translation:sae(i,t[r])}}),wi.__resources__=n}static setup(t){if(wi.__initialized__&&wi.__i18nInstance__)return wi.__i18nInstance__;wi.setResources(t);const n=Ys.createInstance();return n.use(ONe).init({fallbackLng:"en",interpolation:{escapeValue:!1},lng:"en",resources:wi.getResources()}),wi.__i18nInstance__=n,wi.__initialized__=!0,wi.__i18nInstance__}static getInstance(){if(wi.__initialized__||this.setup(),!wi.__i18nInstance__||!wi.__initialized__)throw new Error("Locale is not initialized");return wi.__i18nInstance__}}wi.__i18nInstance__=null;wi.__initialized__=!1;wi.getResources=()=>wi.__resources__;Oo("@dynamic-labs/locale",MNe);const nPe=e=>typeof e=="object",Ke=(...e)=>e.reduce((n,r)=>{if(HF(r))return[...n,r];if(nPe(r)){const o=Object.keys(r).map(s=>r[s]?s:null).filter(HF);return[...n,...o]}return n},[]).join(" "),rPe=(e,t)=>{const n=x.useRef(void 0),r=()=>t(e.getState()),i=()=>(n.current===void 0&&(n.current={value:t(e.getInitialState())}),n.current.value);return x.useSyncExternalStore(e.subscribe,r,i)};var iPe="4.57.1";const oPe=e=>{const t=new Set;let n=e();const r=()=>{for(const i of t)i(n)};return{getInitialState:()=>e(),getState:()=>n,setState:i=>{n=Object.assign(Object.assign({},n),i),r()},subscribe:i=>(t.add(i),()=>{t.delete(i)})}},sPe=new gi("@dynamic-labs/logger"),aPe=({name:e,version:t="0",storage:n,store:r,partialize:i})=>{r.subscribe(s=>{const a=i(s);n.setItem(e,JSON.stringify({state:a,version:t}))});const o=n.getItem(e);if(o)try{const{state:s,version:a}=JSON.parse(o);a===t&&r.setState(Object.assign(r.getInitialState(),s))}catch(s){sPe.error("Failed to load state from storage",s)}return r};Oo("@dynamic-labs/store",iPe);const aae="dynamic_device_fingerprint",Yu="dynamic_last_used_wallet",_h="dynamic_wallet_picker_search",Gy="dynamic_exchange_picker_search",IO="dynamic_newtoweb3_wallet_extension_installed",lPe="dynamic_connected_wallet_ns",cPe="dynamic_bridge_onboarding_completed",lae="dynamic_context_session_settings",cae="dynamic_wagmi_session_settings",v0="dynamic_embedded_wallet_session_settings",dae="dynamic_embedded_secure_banner",Hw="dynamic_phone_input_default_country",dPe="dynamic_captcha_token",wm="phantom_verification_type",_d="dynamic_delegation_state",Kq="dynamic_store",C2="dynamic_secure_enclave_session_keys",A2={priority:["secureStorage","localStorage"]},uPe=e=>{var t,n;return{authMode:(n=(t=e.settings)===null||t===void 0?void 0:t.initialAuthenticationMode)!==null&&n!==void 0?n:"connect-and-sign",connectedWalletsInfo:[],connectorsInitializing:{},dynamicContextProps:e,loadingAndLifecycle:{initialWalletVerificationInProgress:!1,sessionValidation:!1},multichainTokenBalancesState:{error:void 0,isError:!1,isLoading:!1,multichainTokenBalances:void 0,requestsKey:void 0},nonce:{expiresAt:void 0,nonce:void 0},primaryWalletId:void 0,sendBalanceState:{amount:void 0,chainName:void 0,nativePrice:void 0},tokenBalancesState:{error:void 0,isError:!1,isLoading:!1,tokenBalances:void 0},user:void 0,walletOptions:{groups:{},walletConnectorOptions:[]}}},fPe=e=>({connectedWalletsInfo:e.connectedWalletsInfo,nonce:e.nonce,primaryWalletId:e.primaryWalletId,user:e.user}),hPe="2025-02-21",Hq="dynamic_authenticated_user",pPe=e=>{const t=ot.getItem(Hq);return t&&!e.getState().user&&(e.setState({user:t??void 0}),ot.removeItem(Hq)),e};let Xb;const yw=()=>{if(!Xb)throw new Error("Store not initialized");return Xb},mPe=()=>{Xb=void 0},gPe=e=>{var t;if(Xb)return;const{localStorageSuffix:n}=(t=e.settings)!==null&&t!==void 0?t:{},r=n?`${Kq}_${n}`:Kq;Xb=pPe(aPe({name:r,partialize:fPe,storage:yPe(),store:oPe(()=>uPe(e)),version:hPe}))},yPe=()=>typeof localStorage>"u"?{getItem:()=>null,setItem:()=>{}}:window.localStorage,Vc=e=>{const t=e[0].toUpperCase()+e.slice(1),n=()=>rPe(yw(),s=>s[e]),r=s=>yw().setState(Object.assign(Object.assign({},yw().getState()),{[e]:s})),i=()=>yw().getState()[e],o=()=>r(yw().getInitialState()[e]);return{[`use${t}`]:n,[`get${t}`]:i,[`set${t}`]:r,[`reset${t}`]:o}},{getLoadingAndLifecycle:uae,setLoadingAndLifecycle:fae,useLoadingAndLifecycle:hae}=Vc("loadingAndLifecycle"),EO=e=>{fae(Object.assign(Object.assign({},uae()),{initialWalletVerificationInProgress:e}))},vPe=e=>{fae(Object.assign(Object.assign({},uae()),{sessionValidation:e}))},{getAuthMode:wl,setAuthMode:Qb,useAuthMode:Xu}=Vc("authMode"),nv=(e,t,n,r)=>{const i=x.useRef(t);i.current=t;const[o,s]=x.useState(()=>{try{const c=ot.getItem(e);return c&&n&&!n(c)?(ot.removeItem(e),r==null||r.forEach(d=>ot.removeItem(d)),i.current):c??i.current}catch(c){return Ie.error(c),i.current}}),a=x.useCallback(c=>{try{const d=c instanceof Function?c(o):c;s(d),ot.setItem(e,d)}catch(d){Ie.error(d)}},[e,o]),l=x.useCallback(()=>{ot.removeItem(e),s(i.current)},[e]);return[o,a,l]};var Fm=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Cte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Runion","re","262","",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],wPe="react-international-phone-",pae=(...e)=>e.filter(t=>!!t).join(" ").trim(),bPe=(...e)=>pae(...e).split(" ").map(t=>`${wPe}${t}`).join(" "),Gs=({addPrefix:e,rawClassNames:t})=>pae(bPe(...e),...t),_Pe=({value:e,mask:t,maskSymbol:n,offset:r=0,trimNonMaskCharsLeftover:i=!1})=>{if(e.length<r)return e;let o=e.slice(0,r),s=e.slice(r),a=o,l=0;for(let c of t.split("")){if(l>=s.length){if(!i&&c!==n){a+=c;continue}break}c===n?(a+=s[l],l+=1):a+=c}return a},vy=e=>e?/^\d+$/.test(e):!1,l3=e=>e.replace(/\D/g,""),xPe=(e,t)=>{let n=e.style.display;n!=="block"&&(e.style.display="block");let r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.top-r.top,s=r.bottom-i.bottom;o>=0&&s>=0||(Math.abs(o)<Math.abs(s)?e.scrollTop+=o:e.scrollTop-=s),e.style.display=n},kPe=e=>{let{name:t,iso2:n,dialCode:r,format:i,priority:o,areaCodes:s}=e,a=[t,n,r,i,o,s];for(let l=0;l<a.length;l+=1){if(l===0)continue;let c=a[l-1],d=a[l];if(c===void 0&&d!==void 0){let u=JSON.stringify(a,(h,m)=>m===void 0?"__undefined":m).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${c} in: ${u}`)}}return a.filter(l=>l!==void 0)},SPe=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),o_=({phone:e,dialCode:t,prefix:n="+",charAfterDialCode:r=" "})=>{if(!e||!t)return e;let i=e;return i.startsWith(n)&&(i=i.replace(n,"")),i.startsWith(t)?(i=i.replace(t,""),i.startsWith(r)&&(i=i.replace(r,"")),i):e},IPe=(e,t)=>{let n=t.disableDialCodeAndPrefix?!1:t.forceDialCode,r=t.disableDialCodeAndPrefix?!1:t.insertDialCodeOnEmpty,i=e,o=c=>t.trimNonDigitsEnd?c.trim():c;if(!i)return r&&!i.length||n?o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`):o(i);if(i=l3(i),i===t.dialCode&&!t.disableDialCodeAndPrefix)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(t.dialCode.startsWith(i)&&!t.disableDialCodeAndPrefix)return o(n?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:`${t.prefix}${i}`);if(!i.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(n)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(i.length<t.dialCode.length)return o(`${t.prefix}${i}`)}let s=()=>{let c=t.dialCode.length,d=i.slice(0,c),u=i.slice(c);return{phoneLeftSide:d,phoneRightSide:u}},{phoneLeftSide:a,phoneRightSide:l}=s();return a=`${t.prefix}${a}${t.charAfterDialCode}`,l=_Pe({value:l,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&l.length===0}),t.disableDialCodeAndPrefix&&(a=""),o(`${a}${l}`)},EPe=({phoneBeforeInput:e,phoneAfterInput:t,phoneAfterFormatted:n,cursorPositionAfterInput:r,leftOffset:i=0,deletion:o})=>{if(r<i)return i;if(!e)return n.length;let s=null;for(let d=r-1;d>=0;d-=1)if(vy(t[d])){s=d;break}if(s===null){for(let d=0;d<t.length;d+=1)if(vy(n[d]))return d;return t.length}let a=0;for(let d=0;d<s;d+=1)vy(t[d])&&(a+=1);let l=0,c=0;for(let d=0;d<n.length&&(l+=1,vy(n[d])&&(c+=1),!(c>=a+1));d+=1);if(o!=="backward")for(;!vy(n[l])&&l<n.length;)l+=1;return l},R2=({phone:e,prefix:t})=>e?`${t}${l3(e)}`:"";function CO({value:e,country:t,insertDialCodeOnEmpty:n,trimNonDigitsEnd:r,countries:i,prefix:o,charAfterDialCode:s,forceDialCode:a,disableDialCodeAndPrefix:l,defaultMask:c,countryGuessingEnabled:d,disableFormatting:u}){let h=e;l&&(h=h.startsWith(`${o}`)?h:`${o}${t.dialCode}${h}`);let m=d?c3({phone:h,countries:i,currentCountryIso2:t==null?void 0:t.iso2}):void 0,v=(m==null?void 0:m.country)??t,y=IPe(h,{prefix:o,mask:yae({phone:h,country:v,defaultMask:c,disableFormatting:u}),maskChar:mae,dialCode:v.dialCode,trimNonDigitsEnd:r,charAfterDialCode:s,forceDialCode:a,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:l}),g=d&&!(m!=null&&m.fullDialCodeMatch)?t:v;return{phone:R2({phone:l?`${g.dialCode}${y}`:y,prefix:o}),inputValue:y,country:g}}var CPe=e=>{if((e==null?void 0:e.toLocaleLowerCase().includes("delete"))??!1)return e!=null&&e.toLocaleLowerCase().includes("forward")?"forward":"backward"},APe=(e,{country:t,insertDialCodeOnEmpty:n,phoneBeforeInput:r,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:a,countryGuessingEnabled:l,defaultMask:c,disableFormatting:d,countries:u})=>{let h=e.nativeEvent,m=h.inputType,v=CPe(m),y=!!(m!=null&&m.startsWith("insertFrom")),g=m==="insertText",b=(h==null?void 0:h.data)||void 0,k=e.target.value,_=e.target.selectionStart??0;if(m!=null&&m.includes("history"))return{inputValue:r,phone:R2({phone:r,prefix:i}),cursorPosition:r.length,country:t};if(g&&!vy(b)&&k!==i)return{inputValue:r,phone:R2({phone:a?`${t.dialCode}${r}`:r,prefix:i}),cursorPosition:_-((b==null?void 0:b.length)??0),country:t};if(s&&!k.startsWith(`${i}${t.dialCode}`)&&!y){let M=k?r:`${i}${t.dialCode}${o}`;return{inputValue:M,phone:R2({phone:M,prefix:i}),cursorPosition:i.length+t.dialCode.length+o.length,country:t}}let{phone:R,inputValue:I,country:T}=CO({value:k,country:t,trimNonDigitsEnd:v==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:l,countries:u,prefix:i,charAfterDialCode:o,forceDialCode:s,disableDialCodeAndPrefix:a,disableFormatting:d,defaultMask:c}),D=EPe({cursorPositionAfterInput:_,phoneBeforeInput:r,phoneAfterInput:k,phoneAfterFormatted:I,leftOffset:s?i.length+t.dialCode.length+o.length:0,deletion:v});return{phone:R,inputValue:I,cursorPosition:D,country:T}},RPe=(e,t)=>{let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n)if(e[i]!==t[i])return!1;return!0},TPe=()=>{let e=x.useRef(),t=x.useRef(Date.now());return{check:()=>{let n=Date.now(),r=e.current?n-t.current:void 0;return e.current=t.current,t.current=n,r}}},OPe={size:20,overrideLastItemDebounceMS:-1};function NPe(e,t){let{size:n,overrideLastItemDebounceMS:r,onChange:i}={...OPe,...t},[o,s]=x.useState(e),[a,l]=x.useState([o]),[c,d]=x.useState(0),u=TPe();return[o,(h,m)=>{if(typeof h=="object"&&typeof o=="object"&&RPe(h,o)||h===o)return;let v=r>0,y=u.check(),g=v&&y!==void 0?y>r:!0;if((m==null?void 0:m.overrideLastItem)!==void 0?m.overrideLastItem:!g)l(b=>[...b.slice(0,c),h]);else{let b=a.length>=n;l(k=>[...k.slice(b?1:0,c+1),h]),b||d(k=>k+1)}s(h),i==null||i(h)},()=>{if(c<=0)return{success:!1};let h=a[c-1];return s(h),d(m=>m-1),i==null||i(h),{success:!0,value:h}},()=>{if(c+1>=a.length)return{success:!1};let h=a[c+1];return s(h),d(m=>m+1),i==null||i(h),{success:!0,value:h}}]}var mae=".",Bl={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:Fm},gae=({defaultCountry:e=Bl.defaultCountry,value:t=Bl.value,countries:n=Bl.countries,prefix:r=Bl.prefix,defaultMask:i=Bl.defaultMask,charAfterDialCode:o=Bl.charAfterDialCode,historySaveDebounceMS:s=Bl.historySaveDebounceMS,disableCountryGuess:a=Bl.disableCountryGuess,disableDialCodePrefill:l=Bl.disableDialCodePrefill,forceDialCode:c=Bl.forceDialCode,disableDialCodeAndPrefix:d=Bl.disableDialCodeAndPrefix,disableFormatting:u=Bl.disableFormatting,onChange:h,inputRef:m})=>{let v={countries:n,prefix:r,charAfterDialCode:o,forceDialCode:d?!1:c,disableDialCodeAndPrefix:d,defaultMask:i,countryGuessingEnabled:!a,disableFormatting:u},y=x.useRef(null),g=m||y,b=S=>{Promise.resolve().then(()=>{var A;typeof window>"u"||g.current!==(document==null?void 0:document.activeElement)||((A=g.current)==null||A.setSelectionRange(S,S))})},[{phone:k,inputValue:_,country:R},I,T,D]=NPe(()=>{let S=Ay({value:e,field:"iso2",countries:n});S||console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let A=S||Ay({value:"us",field:"iso2",countries:n}),{phone:O,inputValue:N,country:j}=CO({value:t,country:A,insertDialCodeOnEmpty:!l,...v});return b(N.length),{phone:O,inputValue:N,country:j.iso2}},{overrideLastItemDebounceMS:s,onChange:({inputValue:S,phone:A,country:O})=>{if(!h)return;let N=M(O);h({phone:A,inputValue:S,country:N})}}),M=x.useCallback(S=>Ay({value:S,field:"iso2",countries:n}),[n]),C=x.useMemo(()=>M(R),[R,M]);x.useEffect(()=>{let S=g.current;if(!S)return;let A=O=>{if(!O.key)return;let N=O.ctrlKey,j=O.metaKey,V=O.shiftKey;if(O.key.toLowerCase()==="z"){if(SPe()){if(!j)return}else if(!N)return;V?D():T()}};return S.addEventListener("keydown",A),()=>{S.removeEventListener("keydown",A)}},[g,T,D]);let U=S=>{S.preventDefault();let{phone:A,inputValue:O,country:N,cursorPosition:j}=APe(S,{country:C,phoneBeforeInput:_,insertDialCodeOnEmpty:!1,...v});return I({inputValue:O,phone:A,country:N.iso2}),b(j),t},$=(S,A={focusOnInput:!1})=>{let O=Ay({value:S,field:"iso2",countries:n});if(!O){console.error(`[react-international-phone]: can not find a country with "${S}" iso2 code`);return}let N=d?"":`${r}${O.dialCode}${o}`;I({inputValue:N,phone:`${r}${O.dialCode}`,country:O.iso2}),A.focusOnInput&&Promise.resolve().then(()=>{var j;(j=g.current)==null||j.focus()})},[z,q]=x.useState(!1);return x.useEffect(()=>{if(!z){q(!0),t!==k&&(h==null||h({inputValue:_,phone:k,country:C}));return}if(t===k)return;let{phone:S,inputValue:A,country:O}=CO({value:t,country:C,insertDialCodeOnEmpty:!l,...v});I({phone:S,inputValue:A,country:O.iso2})},[t]),{phone:k,inputValue:_,country:C,setCountry:$,handlePhoneValueChange:U,inputRef:g}},yae=({phone:e,country:t,defaultMask:n="............",disableFormatting:r=!1})=>{let i=t.format,o=a=>r?a.replace(new RegExp(`[^${mae}]`,"g"),""):a;if(!i)return o(n);if(typeof i=="string")return o(i);if(!i.default)return console.error(`[react-international-phone]: default mask for ${t.iso2} is not provided`),o(n);let s=Object.keys(i).find(a=>{if(a==="default")return!1;if(!(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${a}" for ${t.iso2} is not valid`),!1;let l=new RegExp(a.substring(1,a.length-1)),c=e.replace(t.dialCode,"");return l.test(l3(c))});return o(s?i[s]:i.default)},ps=e=>{let[t,n,r,i,o,s]=e;return{name:t,iso2:n,dialCode:r,format:i,priority:o,areaCodes:s}},PPe=e=>`Field "${e}" is not supported`,Ay=({field:e,value:t,countries:n=Fm})=>{if(["priority"].includes(e))throw new Error(PPe(e));let r=n.find(i=>{let o=ps(i);return t===o[e]});if(r)return ps(r)},c3=({phone:e,countries:t=Fm,currentCountryIso2:n})=>{var a;let r={country:void 0,fullDialCodeMatch:!1};if(!e)return r;let i=l3(e);if(!i)return r;let o=r,s=({country:l,fullDialCodeMatch:c})=>{var h,m;let d=l.dialCode===((h=o.country)==null?void 0:h.dialCode),u=(l.priority??0)<(((m=o.country)==null?void 0:m.priority)??0);(!d||u)&&(o={country:l,fullDialCodeMatch:c})};for(let l of t){let c=ps(l),{dialCode:d,areaCodes:u}=c;if(i.startsWith(d)){let h=o.country?Number(d)>=Number(o.country.dialCode):!0;if(u){let m=i.substring(d.length);for(let v of u)if(m.startsWith(v))return{country:c,fullDialCodeMatch:!0}}(h||d===i||!o.fullDialCodeMatch)&&s({country:c,fullDialCodeMatch:!0})}o.fullDialCodeMatch||i.length<d.length&&d.startsWith(i)&&(!o.country||Number(d)<=Number(o.country.dialCode))&&s({country:c,fullDialCodeMatch:!1})}if(n){let l=Ay({value:n,field:"iso2",countries:t});if(!l)return o;let c=l?(d=>{if(!(d!=null&&d.areaCodes))return!1;let u=i.substring(d.dialCode.length);return d.areaCodes.some(h=>h.startsWith(u))})(l):!1;o&&((a=o.country)==null?void 0:a.dialCode)===l.dialCode&&o.country!==l&&o.fullDialCodeMatch&&(!l.areaCodes||c)&&(o={country:l,fullDialCodeMatch:!0})}return o},BPe=(e,t)=>{let n=parseInt(e,16);return Number(n+t).toString(16)},MPe="abcdefghijklmnopqrstuvwxyz",DPe="1f1e6",Gq=MPe.split("").reduce((e,t,n)=>({...e,[t]:BPe(DPe,n)}),{}),jPe=e=>[Gq[e[0]],Gq[e[1]]].join("-"),kS=({iso2:e,size:t,src:n,protocol:r="https",disableLazyLoading:i,className:o,style:s,...a})=>{if(!e)return Vt.createElement("img",{className:Gs({addPrefix:["flag-emoji"],rawClassNames:[o]}),width:t,height:t,...a});let l=()=>{if(n)return n;let c=jPe(e);return`${r}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${c}.svg`};return Vt.createElement("img",{className:Gs({addPrefix:["flag-emoji"],rawClassNames:[o]}),src:l(),width:t,height:t,draggable:!1,"data-country":e,loading:i?void 0:"lazy",style:{width:t,height:t,...s},alt:"",...a})},$Pe=1e3,LPe=({show:e,dialCodePrefix:t="+",selectedCountry:n,countries:r=Fm,preferredCountries:i=[],flags:o,onSelect:s,onClose:a,...l})=>{let c=x.useRef(null),d=x.useRef(),u=x.useMemo(()=>{if(!i||!i.length)return r;let T=[],D=[...r];for(let M of i){let C=D.findIndex(U=>ps(U).iso2===M);if(C!==-1){let U=D.splice(C,1)[0];T.push(U)}}return T.concat(D)},[r,i]),h=x.useRef({updatedAt:void 0,value:""}),m=T=>{let D=h.current.updatedAt&&new Date().getTime()-h.current.updatedAt.getTime()>$Pe;h.current={value:D?T:`${h.current.value}${T}`,updatedAt:new Date};let M=u.findIndex(C=>ps(C).name.toLowerCase().startsWith(h.current.value));M!==-1&&g(M)},v=x.useCallback(T=>u.findIndex(D=>ps(D).iso2===T),[u]),[y,g]=x.useState(v(n)),b=()=>{d.current!==n&&g(v(n))},k=x.useCallback(T=>{g(v(T.iso2)),s==null||s(T)},[s,v]),_=T=>{let D=u.length-1,M=C=>T==="prev"?C-1:T==="next"?C+1:T==="last"?D:0;g(C=>{let U=M(C);return U<0?0:U>D?D:U})},R=T=>{if(T.stopPropagation(),T.key==="Enter"){T.preventDefault();let D=ps(u[y]);k(D);return}if(T.key==="Escape"){a==null||a();return}if(T.key==="ArrowUp"){T.preventDefault(),_("prev");return}if(T.key==="ArrowDown"){T.preventDefault(),_("next");return}if(T.key==="PageUp"){T.preventDefault(),_("first");return}if(T.key==="PageDown"){T.preventDefault(),_("last");return}T.key===" "&&T.preventDefault(),T.key.length===1&&!T.altKey&&!T.ctrlKey&&!T.metaKey&&m(T.key.toLocaleLowerCase())},I=x.useCallback(()=>{if(!c.current||y===void 0)return;let T=ps(u[y]).iso2;if(T===d.current)return;let D=c.current.querySelector(`[data-country="${T}"]`);D&&(xPe(c.current,D),d.current=T)},[y,u]);return x.useEffect(()=>{I()},[y,I]),x.useEffect(()=>{c.current&&(e?c.current.focus():b())},[e]),x.useEffect(()=>{b()},[n]),Vt.createElement("ul",{ref:c,role:"listbox",className:Gs({addPrefix:["country-selector-dropdown"],rawClassNames:[l.className]}),style:{display:e?"block":"none",...l.style},onKeyDown:R,onBlur:a,tabIndex:-1,"aria-activedescendant":`react-international-phone__${ps(u[y]).iso2}-option`},u.map((T,D)=>{let M=ps(T),C=M.iso2===n,U=D===y,$=i.includes(M.iso2),z=D===i.length-1,q=o==null?void 0:o.find(S=>S.iso2===M.iso2);return Vt.createElement(Vt.Fragment,{key:M.iso2},Vt.createElement("li",{"data-country":M.iso2,role:"option","aria-selected":C,"aria-label":`${M.name} ${t}${M.dialCode}`,id:`react-international-phone__${M.iso2}-option`,className:Gs({addPrefix:["country-selector-dropdown__list-item",$&&"country-selector-dropdown__list-item--preferred",C&&"country-selector-dropdown__list-item--selected",U&&"country-selector-dropdown__list-item--focused"],rawClassNames:[l.listItemClassName]}),onClick:()=>k(M),style:l.listItemStyle,title:M.name},Vt.createElement(kS,{iso2:M.iso2,src:q==null?void 0:q.src,className:Gs({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[l.listItemFlagClassName]}),style:l.listItemFlagStyle}),Vt.createElement("span",{className:Gs({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[l.listItemCountryNameClassName]}),style:l.listItemCountryNameStyle},M.name),Vt.createElement("span",{className:Gs({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[l.listItemDialCodeClassName]}),style:l.listItemDialCodeStyle},t,M.dialCode)),z?Vt.createElement("hr",{className:Gs({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[l.preferredListDividerClassName]}),style:l.preferredListDividerStyle}):null)}))},UPe=({selectedCountry:e,onSelect:t,disabled:n,hideDropdown:r,countries:i=Fm,preferredCountries:o=[],flags:s,renderButtonWrapper:a,...l})=>{let[c,d]=x.useState(!1),u=x.useMemo(()=>{if(e)return Ay({value:e,field:"iso2",countries:i})},[i,e]),h=x.useRef(null),m=y=>{y.key&&["ArrowUp","ArrowDown"].includes(y.key)&&(y.preventDefault(),d(!0))},v=()=>{var b;let y={title:u==null?void 0:u.name,onClick:()=>d(k=>!k),onMouseDown:k=>k.preventDefault(),onKeyDown:m,disabled:r||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":c},g=Vt.createElement("div",{className:Gs({addPrefix:["country-selector-button__button-content"],rawClassNames:[l.buttonContentWrapperClassName]}),style:l.buttonContentWrapperStyle},Vt.createElement(kS,{iso2:e,src:(b=s==null?void 0:s.find(k=>k.iso2===e))==null?void 0:b.src,className:Gs({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[l.flagClassName]}),style:{visibility:e?"visible":"hidden",...l.flagStyle}}),!r&&Vt.createElement("div",{className:Gs({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",c&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[l.dropdownArrowClassName]}),style:l.dropdownArrowStyle}));return a?a({children:g,rootProps:y}):Vt.createElement("button",{...y,type:"button",className:Gs({addPrefix:["country-selector-button",c&&"country-selector-button--active",n&&"country-selector-button--disabled",r&&"country-selector-button--hide-dropdown"],rawClassNames:[l.buttonClassName]}),"data-country":e,style:l.buttonStyle},g)};return Vt.createElement("div",{className:Gs({addPrefix:["country-selector"],rawClassNames:[l.className]}),style:l.style,ref:h},v(),Vt.createElement(LPe,{show:c,countries:i,preferredCountries:o,flags:s,onSelect:y=>{d(!1),t==null||t(y)},selectedCountry:e,onClose:()=>{d(!1)},...l.dropdownStyleProps}))},FPe=({dialCode:e,prefix:t,disabled:n,style:r,className:i})=>Vt.createElement("div",{className:Gs({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[i]}),style:r},`${t}${e}`);x.forwardRef(({value:e,onChange:t,countries:n=Fm,preferredCountries:r=[],hideDropdown:i,showDisabledDialCodeAndPrefix:o,disableFocusAfterCountrySelect:s,flags:a,style:l,className:c,inputStyle:d,inputClassName:u,countrySelectorStyleProps:h,dialCodePreviewStyleProps:m,inputProps:v,placeholder:y,disabled:g,name:b,onFocus:k,onBlur:_,required:R,autoFocus:I,...T},D)=>{let{phone:M,inputValue:C,inputRef:U,country:$,setCountry:z,handlePhoneValueChange:q}=gae({value:e,countries:n,...T,onChange:A=>{t==null||t(A.phone,{country:A.country,inputValue:A.inputValue})}}),S=T.disableDialCodeAndPrefix&&o&&($==null?void 0:$.dialCode);return x.useImperativeHandle(D,()=>U.current?Object.assign(U.current,{setCountry:z,state:{phone:M,inputValue:C,country:$}}):null,[U,z,M,C,$]),Vt.createElement("div",{ref:D,className:Gs({addPrefix:["input-container"],rawClassNames:[c]}),style:l},Vt.createElement(UPe,{onSelect:A=>z(A.iso2,{focusOnInput:!s}),flags:a,selectedCountry:$.iso2,countries:n,preferredCountries:r,disabled:g,hideDropdown:i,...h}),S&&Vt.createElement(FPe,{dialCode:$.dialCode,prefix:T.prefix??"+",disabled:g,...m}),Vt.createElement("input",{onChange:q,value:C,type:"tel",ref:U,className:Gs({addPrefix:["input",g&&"input--disabled"],rawClassNames:[u]}),placeholder:y,disabled:g,style:d,name:b,onFocus:k,onBlur:_,autoFocus:I,required:R,...v}))});class Td{}Td.getBaseUrl=()=>{if(!Td.__baseUrl__)throw new Error("ApiEndpoint Base URL has not been initialized");return Td.__baseUrl__};Td.setBaseUrl=e=>{e?Td.__baseUrl__=e:Td.__baseUrl__=new JI().basePath};const WPe="2762a57b-faa4-41ce-9f16-abff9300e2c9",na={appLogoUrl:"https://demo.dynamic.xyz/assets/dynamic-logo.svg",appName:"Dynamic Example",debugError:!1,deepLinkPreference:"native",detectNewWalletsForLinking:!1,displaySiweStatement:!0,enableConnectOnlyFallback:!1,enableVisitTrackingOnConnectOnly:!0,initialAuthenticationMode:"connect-and-sign",logLevel:"WARN",shadowDOMEnabled:!0,showLockedWalletView:!1,tokensFilter:e=>e,useMetamaskSdk:!0},{getDynamicContextProps:vae,setDynamicContextProps:wae,useDynamicContextProps:qPe}=Vc("dynamicContextProps"),bae=()=>xae(vae().settings),Wm=()=>xae(qPe().settings),Qu=()=>bae().environmentId,qm=()=>Wm().environmentId,zPe=e=>{const t=vae();wae(Object.assign(Object.assign({},t),{settings:Object.assign(Object.assign({},t.settings),{environmentId:e})}))},_ae=()=>Wm().apiBaseUrl,VPe=()=>bae().bridgeChains,xae=e=>{const t=Object.assign({},e);return Object.keys(na).forEach(n=>{const r=n;t[r]===void 0&&(t[r]=na[r])}),t},KPe=({settings:e,emitErrors:t,enableInstrumentation:n,locale:r,theme:i})=>{const o=qm();if(!o)throw new Vie;e.environmentId=o,x.useEffect(()=>{o===WPe&&Ie.warn(`WARNING: DYNAMIC is using a test environment ID ${o}. Please sign up on https://app.dynamic.xyz/ to get your production environment ID.`),e.logLevel&&gi.setLogLevel(e.logLevel);const s=wM("DYNAMIC_API_BASE_URL",e.apiBaseUrl||"");Td.setBaseUrl(s),wae({emitErrors:t,enableInstrumentation:n,locale:r,settings:e,theme:i})},[t,n,o,r,e,i])},{getPrimaryWalletId:Fd,setPrimaryWalletId:kae,usePrimaryWalletId:HPe,resetPrimaryWalletId:Sae}=Vc("primaryWalletId"),GPe={[nr.Btc]:e=>{if(e.startsWith("bc1p")||e.startsWith("tb1p"))return"Ordinals & Runes";if(e.startsWith("bc1q")||e.startsWith("tb1q"))return"Payment address"}},JPe=(e,t,n)=>{if(!e||!t||!n)return;const r=e===nr.Btc||e==="BTC"||e==="bip122"?nr.Btc:e,i=GPe[r];if(i)return i(n)},Iae=e=>{const t=e.map(r=>{const i=r.walletChain;return{address:r.id.split("-")[1]||"",chain:i,id:r.id,lastSelectedAt:null,walletProviderKey:UM({chain:i,displayName:r.walletConnectorKey,walletProviderType:r.provider})}});Tn(Fr()).state.set({unverifiedWalletAccounts:t})},{getConnectedWalletsInfo:Eae,resetConnectedWalletsInfo:ZPe,setConnectedWalletsInfo:YPe,useConnectedWalletsInfo:Cae}=Vc("connectedWalletsInfo"),GM=()=>{Iae([]),ZPe()},AO=e=>{Iae(e),YPe(e)},RO=()=>typeof window<"u"&&window.isGlobalWalletPopup,XPe=()=>{if(typeof window>"u")return;const e=ot.getItem(aae);if(e)return e},e1=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n="";for(let r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n},JM="dynamic_client_session_keys",ZM={priority:["secureStorage","localStorage"]},QPe="dynamic_secure_enclave_session_keys",e7e={priority:["secureStorage","localStorage"]},YM=(e,t,n,r,i)=>{const s=JSON.stringify({expirationDate:i,privateKey:t,privateKeyJwk:n,publicKey:e,registered:r});return Buffer.from(s).toString("base64")},T2=e=>[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join(""),t7e=e=>(e=(e==null?void 0:e.replace(/-/g,"+").replace(/_/g,"/"))||"",Uint8Array.from(atob(e),t=>t.charCodeAt(0))),n7e=e=>{const t=new Uint8Array(e),n=t.byteLength,r=t.slice(0,1+n>>>1);return r[0]=2|t[n-1]&1,r.buffer},Aae=()=>de(void 0,void 0,void 0,function*(){const e=yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),t=yield crypto.subtle.exportKey("raw",e.publicKey),n=yield crypto.subtle.exportKey("jwk",e.privateKey),r=n7e(t),i=t7e(n.d);return{private:T2(i),privateJwk:n,public:T2(r),publicUncompressed:T2(t)}}),SS=(e,t)=>de(void 0,void 0,void 0,function*(){const n=yield crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},n,new TextEncoder().encode(t));return T2(r)}),Rae="client-session-key",s_=()=>{const e=ot.getItem(JM,ZM);return e?JSON.parse(Buffer.from(e,"base64").toString()):void 0},r7e=()=>de(void 0,void 0,void 0,function*(){const{private:e,public:t,privateJwk:n}=yield Aae();return ot.setItem(JM,YM(t,e,n,!1),ZM),Ie.instrument("[SessionChaining] Generated new session key pair",{key:"generated_session_key_pair",sessionPublicKey:t,time:0}),Br.logEvent(Rae,"Generated new session key pair",Br.formatObject({publicKey:t})),{privateKey:e,privateKeyJwk:n,publicKey:t}}),i7e=e=>de(void 0,[e],void 0,function*({privateKeyJwk:t,sessionId:n}){return SS(t,n)}),o7e=e=>de(void 0,[e],void 0,function*({privateKeyJwk:t,nonce:n}){return SS(t,n)}),Fc=()=>de(void 0,void 0,void 0,function*(){const e=s_();Br.logEvent(Rae,"getClientSessionKeys",Br.formatObject({hasDecodedSessionKeys:!!e,publicKey:e==null?void 0:e.publicKey}));let t;return e?{publicKey:t}=e:{publicKey:t}=yield r7e(),{publicKey:t}}),Tae=()=>{const e=s_();return e==null?void 0:e.publicKey},s7e=e=>de(void 0,[e],void 0,function*({sessionId:t}){const n=s_();if(!n)throw new Error("Client session keys not found");const{publicKey:r,privateKeyJwk:i}=n,o=yield i7e({privateKeyJwk:i,sessionId:t});return{publicKey:r,sessionSignature:o}}),a7e=e=>de(void 0,[e],void 0,function*({environmentId:t}){const n=s_();if(!n)throw new Error("Client session keys not found");const{publicKey:r,privateKeyJwk:i}=n,o=yield Nae(t);if(!o)throw new Error("Nonce not found");const s=yield o7e({nonce:o,privateKeyJwk:i});return{nonce:o,nonceSignature:s,publicKey:r}}),l7e=()=>{const e=s_();Ie.instrument("[SessionChaining] Clearing client session keys",{key:"clearing_client_session_keys",sessionPublicKey:e==null?void 0:e.publicKey,time:0}),ot.removeItem(JM,ZM)},Oae=()=>{const e={"x-dyn-request-id":e1(50)},t=XPe();t&&(e["x-dyn-device-fingerprint"]=t);const n=Tae();return n&&(e["x-dyn-session-public-key"]=n),e["x-dyn-version"]=`WalletKit/${jAe}`,e["x-dyn-api-version"]=`API/${$Ae}`,e["x-dyn-is-global-wallet-popup"]=RO()?"true":"false",e},rv=()=>{var e;return(e=Js().projectSettings)!==null&&e!==void 0?e:void 0},XM=()=>n_(Fr()),cn=({customHeaders:e}={})=>{const t={basePath:Td.getBaseUrl(),headers:Object.assign(Object.assign({"Content-Type":"application/json","x-dyn-request-id":e1(50)},Oae()),e)},n=KM();n&&(t.headers.Authorization=`Bearer ${n}`);const i=rv()&&XM()?"include":void 0;return new Toe(new JI(Object.assign(Object.assign({},t),{credentials:i,fetchApi:GI.fetch})))},Tr=(e,t,...n)=>de(void 0,[e,t,...n],void 0,function*(r,i,o="error"){if(r instanceof Response){const s=yield r.json();return Ie[o](i,{error:s.error,status:r.status}),s}else r instanceof Error&&Ie[o](i,r)}),Nae=e=>de(void 0,void 0,void 0,function*(){try{return(yield cn().getNonce({environmentId:e})).nonce}catch{return}}),Pae=x.createContext(void 0),c7e=({children:e})=>{const[t,n]=x.useState(""),[r,i]=x.useState(""),[o,s]=x.useState(void 0),a=x.useMemo(()=>({deniedAddress:r,deniedOauthProvider:o,deniedOauthUsername:t,setDeniedAddress:i,setDeniedOauthProvider:s,setDeniedOauthUsername:n}),[r,o,t]);return f.jsx(Pae.Provider,{value:a,children:e})},a_=()=>{const e=x.useContext(Pae);if(e===void 0)throw new Error("usage of useAccessDeniedContext not wrapped in `AccessDeniedContextProvider`.");return e},Bae=x.createContext(void 0),d7e=({children:e})=>{const[t,n]=x.useState(),r=x.useMemo(()=>({existentAccountData:t,setExistentAccountData:n}),[t,n]);return f.jsx(Bae.Provider,{value:r,children:e})},l_=()=>{const e=x.useContext(Bae);if(e===void 0)throw new Error("usage of useAccountExistsContext not wrapped in `AccountExistsContextProvider`.");return e},Mae=x.createContext(void 0),u7e=({children:e})=>{const[t,n]=x.useState([]),r=x.useRef([]),i=x.useRef([]),o=x.useRef([]),s=x.useCallback(c=>{n(d=>{const u=c(d);return u.length===0&&d.length===0?d:(d.length===0&&u.length>0&&rt.emit("userWalletsPopulated",u),r.current=d,u)})},[]);x.useEffect(()=>{i.current.forEach(c=>{const d=t.find(({id:u})=>u===c);d&&rt.emit("walletAdded",d,t)}),o.current.forEach(c=>{const d=r.current.find(({id:u})=>u===c);d&&rt.emit("walletRemoved",d,t)}),i.current=[],o.current=[]},[t]);const a=x.useCallback(c=>s(d=>[...d,c]),[s]),l=x.useCallback(c=>s(d=>d.filter(({id:u})=>c!==u)),[s]);return f.jsx(Mae.Provider,{value:{addedWalletsIds:i,registerUserWallet:a,removeUserWallet:l,removedWalletsIds:o,setUserWallets:s,userWallets:t},children:e})},_s=()=>{const e=x.useContext(Mae);if(!e)throw new Error("Can only call useInternalUserWallets inside UserWalletsProvider");return e},Dae=x.createContext(void 0),f7e=({children:e})=>{const[t,n]=x.useState(void 0),[r,i]=x.useState(void 0),[o,s]=x.useState(void 0),a=x.useCallback(c=>{s(d=>(c==null?void 0:c.phone)===(d==null?void 0:d.phone)&&(c==null?void 0:c.iso2)===(d==null?void 0:d.iso2)&&(c==null?void 0:c.dialCode)===(d==null?void 0:d.dialCode)?d:c)},[]),l=x.useMemo(()=>({displayedDestination:t,retryData:o,setDisplayedDestination:n,setRetryData:a,setVerificationUUID:i,verificationUUID:r}),[t,o,r,a]);return f.jsx(Dae.Provider,{value:l,children:e})},Kc=()=>{const e=x.useContext(Dae);if(e===void 0)throw new Error("usage of useVerification not wrapped in `VerificationProvider`.");return e};var bm=jie();const hb={bip122:"BTC",bitcoin:"BTC",eip155:"EVM",solana:"SOL",sui:"SUI",ton:"TON"};for(const e in hb)hb[hb[e]]=e;const jae=(e,t)=>e===t||hb[e]===t||hb[t]===e,h7e=new gi("findPrimaryEmbeddedChain"),p7e=Object.values(am),w0=e=>{var t,n,r;const o=(r=(((n=(t=e==null?void 0:e.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.chainConfigurations)||[]).find(s=>s.primary))===null||r===void 0?void 0:r.name;return o?p7e.includes(o)?o:(h7e.error("Unsupported primary chain",{primaryChainName:o}),nr.Evm):nr.Evm},Ry=(e,t)=>e[t],Op={border:"rounded",brandStyle:"subtle",customColor:"",template:"default",themes:{auto:{colors:{accent_1:"#2C303A",accent_2:"#3C414D",accent_3:"#4C525F",background:"#15181F",border:"1px solid #2C303A",error_1:"rgba(255, 106, 106, 0.2)",error_2:"#FF6A6A",footer:"#2C303A",primary:"#15181F",secondary:"#2C303A",ternary:"#2660FF",textPrimary:"#FFF",textSecondary:"#ACACB9"},name:"auto"},dark:{colors:{accent_1:"#2C303A",accent_2:"#3C414D",accent_3:"#4C525F",background:"#15181F",border:"1px solid #2C303A",error_1:"rgba(255, 106, 106, 0.2)",error_2:"#FF6A6A",footer:"#2C303A",primary:"#15181F",secondary:"#2C303A",ternary:"#2660FF",textPrimary:"#FFF",textSecondary:"#ACACB9"},name:"dark"},light:{colors:{accent_1:"#FFF",accent_2:"#F0F3FF",accent_3:"#E9EDFC",background:"#FFFFFF",border:"1px solid #E9EDFC",error_1:"rgba(255, 70, 70, 0.1)",error_2:"#FF4646",footer:"#F7F9FE",primary:"#F7F7F9",secondary:"#FFFFFF",ternary:"#2660FF",textPrimary:"#404040",textSecondary:"#80858B"},name:"light"}},view:"extended",walletColor:{color:"#1648F9",gradient:"90deg, #1648F9 0%, #4B73FF 100%"}},TO=(e,t)=>{const{border:n,brand:r,view:i,primaryColor:o}=e||{},s=t||(e==null?void 0:e.theme)||"light",a=(e==null?void 0:e.template)||"default";return Object.assign(Object.assign({},Op),{border:n||Op.border,brandStyle:r||Op.brandStyle,customColor:o||Op.customColor,template:a,theme:Ry(Op.themes,s),view:i||Op.view})},m7e=()=>{if(Rd())return;const e=document.querySelector('[data-source="dynamic-theme-cdn"]');if(e)return e;const t=document.createElement("link");return document.head.append(t),t.dataset.source="dynamic-theme-cdn",t.rel="stylesheet",t},g7e=()=>{if(Rd())return;const e=document.querySelector('[data-source="dynamic-theme"]');if(e)return e;const t=document.createElement("style");return document.head.append(t),t.dataset.source="dynamic-theme",t},y7e=e=>{const{customColor:t,brandStyle:n}=e;return`@layer dynamic-project-environment-theme {
  #dynamic-widget, #dynamic-modal, .dynamic-shadow-dom {
    ${[["--dynamic-brand-primary-color",t],["--dynamic-badge-dot-background",t],["--dynamic-footer-background-color",n==="bold"?t:void 0],["--dynamic-footer-icon-color",n==="subtle"?t:void 0]].filter(([,s])=>s!==void 0&&s!=="").map(([s,a])=>`${s}: ${a};`).join(`
    `)}
  }
}`},$ae=x.createContext(void 0),v7e=({customerTheme:e,designSettings:t,children:n})=>{const[r,i]=x.useState(e||TO(t==null?void 0:t.modal)),o=x.useRef(m7e()),s=x.useRef(g7e()),a=x.useCallback(y=>{if(i(y),Rd()||o.current===void 0||s.current===void 0)return;document.body.dataset.dynamicTheme=y.theme.name,document.body.dataset.dynamicThemeBrand=y.brandStyle;const g=y.template==="default"?"":`https://app.dynamic.xyz/assets/templates/${y.template}.css`;o.current.href!==g&&(o.current.href=g);const b=y7e(y);s.current.innerHTML!==b&&(s.current.innerHTML=b)},[]),l=x.useCallback((y,g)=>{var b;const k=(b=Op.themes)===null||b===void 0?void 0:b[y],_=Object.assign(Object.assign({},r),{theme:Object.assign(Object.assign({},k),{colors:Object.assign(Object.assign({},k.colors),{ternary:g??k.colors.ternary})})});a(_)},[a,r]),c=x.useCallback(y=>a(Object.assign(Object.assign({},r),{template:y})),[a,r]),d=x.useCallback(y=>a(Object.assign(Object.assign({},r),{border:y})),[a,r]),u=x.useCallback(y=>a(Object.assign(Object.assign({},r),{view:y})),[a,r]),h=x.useCallback(y=>a(Object.assign(Object.assign({},r),{customColor:y})),[a,r]),m=x.useCallback(y=>a(Object.assign(Object.assign({},r),{brandStyle:y})),[a,r]);x.useEffect(()=>a(e||TO(t==null?void 0:t.modal)),[e,t==null?void 0:t.modal,a]);const v=x.useMemo(()=>({changeBorder:d,changeBrandStyle:m,changePrimaryColor:h,changeTemplate:c,changeTheme:l,changeView:u,theme:r}),[r,d,m,c,l,h,u]);return f.jsx($ae.Provider,{value:v,children:n})},c_=()=>{const e=x.useContext($ae);if(e===void 0)throw new Error("useThemeContext must be used within a ThemeContextProvider");return e};var OO;try{OO=Map}catch{}var NO;try{NO=Set}catch{}function Lae(e,t,n){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(PO);if(OO&&e instanceof OO)return new Map(Array.from(e.entries()));if(NO&&e instanceof NO)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);n.push(r);for(var i in e){var o=t.findIndex(function(s){return s===e[i]});r[i]=o>-1?n[o]:Lae(e[i],t,n)}return r}return e}function PO(e){return Lae(e,[],[])}const w7e=Object.prototype.toString,b7e=Error.prototype.toString,_7e=RegExp.prototype.toString,x7e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",k7e=/^Symbol\((.*)\)(.*)$/;function S7e(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Jq(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return S7e(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return x7e.call(e).replace(k7e,"Symbol($1)");const r=w7e.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+b7e.call(e)+"]":r==="RegExp"?_7e.call(e):null}function b0(e,t){let n=Jq(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=Jq(this[r],t);return o!==null?o:i},2)}let Np={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let i=r!=null&&r!==n,o=`${e} must be a \`${t}\` type, but the final value was: \`${b0(n,!0)}\``+(i?` (cast from the value \`${b0(r,!0)}\`).`:".");return n===null&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},Ac={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},I7e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},BO={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},MO={isValue:"${path} field must be ${value}"},DO={noUnknown:"${path} field has unspecified keys: ${unknown}"},O2={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Np,string:Ac,number:I7e,date:BO,object:DO,array:O2,boolean:MO});var Y5,Zq;function E7e(){if(Zq)return Y5;Zq=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Y5=n,Y5}var X5,Yq;function Gh(){if(Yq)return X5;Yq=1;var e=Array.isArray;return X5=e,X5}var Q5,Xq;function Uae(){if(Xq)return Q5;Xq=1;var e=typeof Na=="object"&&Na&&Na.Object===Object&&Na;return Q5=e,Q5}var eA,Qq;function ef(){if(Qq)return eA;Qq=1;var e=Uae(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return eA=n,eA}var tA,ez;function d3(){if(ez)return tA;ez=1;var e=ef(),t=e.Symbol;return tA=t,tA}var nA,tz;function C7e(){if(tz)return nA;tz=1;var e=d3(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var d=r.call(s);return c&&(a?s[i]=l:delete s[i]),d}return nA=o,nA}var rA,nz;function A7e(){if(nz)return rA;nz=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return rA=n,rA}var iA,rz;function d_(){if(rz)return iA;rz=1;var e=d3(),t=C7e(),n=A7e(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return iA=s,iA}var oA,iz;function u_(){if(iz)return oA;iz=1;function e(t){return t!=null&&typeof t=="object"}return oA=e,oA}var sA,oz;function QM(){if(oz)return sA;oz=1;var e=d_(),t=u_(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return sA=r,sA}var aA,sz;function eD(){if(sz)return aA;sz=1;var e=Gh(),t=QM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return aA=i,aA}var lA,az;function tD(){if(az)return lA;az=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return lA=e,lA}var cA,lz;function Fae(){if(lz)return cA;lz=1;var e=d_(),t=tD(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return cA=s,cA}var dA,cz;function R7e(){if(cz)return dA;cz=1;var e=ef(),t=e["__core-js_shared__"];return dA=t,dA}var uA,dz;function T7e(){if(dz)return uA;dz=1;var e=R7e(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return uA=n,uA}var fA,uz;function Wae(){if(uz)return fA;uz=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return fA=n,fA}var hA,fz;function O7e(){if(fz)return hA;fz=1;var e=Fae(),t=T7e(),n=tD(),r=Wae(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(h){if(!n(h)||t(h))return!1;var m=e(h)?d:o;return m.test(r(h))}return hA=u,hA}var pA,hz;function N7e(){if(hz)return pA;hz=1;function e(t,n){return t==null?void 0:t[n]}return pA=e,pA}var mA,pz;function zm(){if(pz)return mA;pz=1;var e=O7e(),t=N7e();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return mA=n,mA}var gA,mz;function u3(){if(mz)return gA;mz=1;var e=zm(),t=e(Object,"create");return gA=t,gA}var yA,gz;function P7e(){if(gz)return yA;gz=1;var e=u3();function t(){this.__data__=e?e(null):{},this.size=0}return yA=t,yA}var vA,yz;function B7e(){if(yz)return vA;yz=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return vA=e,vA}var wA,vz;function M7e(){if(vz)return wA;vz=1;var e=u3(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return wA=i,wA}var bA,wz;function D7e(){if(wz)return bA;wz=1;var e=u3(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return bA=r,bA}var _A,bz;function j7e(){if(bz)return _A;bz=1;var e=u3(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return _A=n,_A}var xA,_z;function $7e(){if(_z)return xA;_z=1;var e=P7e(),t=B7e(),n=M7e(),r=D7e(),i=j7e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,xA=o,xA}var kA,xz;function L7e(){if(xz)return kA;xz=1;function e(){this.__data__=[],this.size=0}return kA=e,kA}var SA,kz;function qae(){if(kz)return SA;kz=1;function e(t,n){return t===n||t!==t&&n!==n}return SA=e,SA}var IA,Sz;function f3(){if(Sz)return IA;Sz=1;var e=qae();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return IA=t,IA}var EA,Iz;function U7e(){if(Iz)return EA;Iz=1;var e=f3(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return EA=r,EA}var CA,Ez;function F7e(){if(Ez)return CA;Ez=1;var e=f3();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return CA=t,CA}var AA,Cz;function W7e(){if(Cz)return AA;Cz=1;var e=f3();function t(n){return e(this.__data__,n)>-1}return AA=t,AA}var RA,Az;function q7e(){if(Az)return RA;Az=1;var e=f3();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return RA=t,RA}var TA,Rz;function h3(){if(Rz)return TA;Rz=1;var e=L7e(),t=U7e(),n=F7e(),r=W7e(),i=q7e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,TA=o,TA}var OA,Tz;function nD(){if(Tz)return OA;Tz=1;var e=zm(),t=ef(),n=e(t,"Map");return OA=n,OA}var NA,Oz;function z7e(){if(Oz)return NA;Oz=1;var e=$7e(),t=h3(),n=nD();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return NA=r,NA}var PA,Nz;function V7e(){if(Nz)return PA;Nz=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return PA=e,PA}var BA,Pz;function p3(){if(Pz)return BA;Pz=1;var e=V7e();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return BA=t,BA}var MA,Bz;function K7e(){if(Bz)return MA;Bz=1;var e=p3();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return MA=t,MA}var DA,Mz;function H7e(){if(Mz)return DA;Mz=1;var e=p3();function t(n){return e(this,n).get(n)}return DA=t,DA}var jA,Dz;function G7e(){if(Dz)return jA;Dz=1;var e=p3();function t(n){return e(this,n).has(n)}return jA=t,jA}var $A,jz;function J7e(){if(jz)return $A;jz=1;var e=p3();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return $A=t,$A}var LA,$z;function rD(){if($z)return LA;$z=1;var e=z7e(),t=K7e(),n=H7e(),r=G7e(),i=J7e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,LA=o,LA}var UA,Lz;function Z7e(){if(Lz)return UA;Lz=1;var e=rD(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var c=r.apply(this,s);return o.cache=l.set(a,c)||l,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,UA=n,UA}var FA,Uz;function Y7e(){if(Uz)return FA;Uz=1;var e=Z7e(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return FA=n,FA}var WA,Fz;function X7e(){if(Fz)return WA;Fz=1;var e=Y7e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,c){o.push(l?c.replace(n,"$1"):a||s)}),o});return WA=r,WA}var qA,Wz;function Q7e(){if(Wz)return qA;Wz=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return qA=e,qA}var zA,qz;function eBe(){if(qz)return zA;qz=1;var e=d3(),t=Q7e(),n=Gh(),r=QM(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return zA=s,zA}var VA,zz;function f_(){if(zz)return VA;zz=1;var e=eBe();function t(n){return n==null?"":e(n)}return VA=t,VA}var KA,Vz;function zae(){if(Vz)return KA;Vz=1;var e=Gh(),t=eD(),n=X7e(),r=f_();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return KA=i,KA}var HA,Kz;function tBe(){if(Kz)return HA;Kz=1;var e=d_(),t=u_(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return HA=r,HA}var GA,Hz;function Vae(){if(Hz)return GA;Hz=1;var e=tBe(),t=u_(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return GA=o,GA}var JA,Gz;function Kae(){if(Gz)return JA;Gz=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return JA=n,JA}var ZA,Jz;function iD(){if(Jz)return ZA;Jz=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return ZA=t,ZA}var YA,Zz;function m3(){if(Zz)return YA;Zz=1;var e=QM();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return YA=t,YA}var XA,Yz;function Hae(){if(Yz)return XA;Yz=1;var e=zae(),t=Vae(),n=Gh(),r=Kae(),i=iD(),o=m3();function s(a,l,c){l=e(l,a);for(var d=-1,u=l.length,h=!1;++d<u;){var m=o(l[d]);if(!(h=a!=null&&c(a,m)))break;a=a[m]}return h||++d!=u?h:(u=a==null?0:a.length,!!u&&i(u)&&r(m,u)&&(n(a)||t(a)))}return XA=s,XA}var QA,Xz;function nBe(){if(Xz)return QA;Xz=1;var e=E7e(),t=Hae();function n(r,i){return r!=null&&t(r,i,e)}return QA=n,QA}var rBe=nBe();const IS=Rr(rBe),oD=e=>e&&e.__isYupSchema__;class iBe{constructor(t,n){if(this.fn=void 0,this.refs=t,this.refs=t,typeof n=="function"){this.fn=n;return}if(!IS(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(l=>l===r);this.fn=function(...a){let l=a.pop(),c=a.pop(),d=s(...a)?i:o;if(d)return typeof d=="function"?d(c):c.concat(d.resolve(l))}}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(t,r.concat(t,n));if(i===void 0||i===t)return t;if(!oD(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function Gae(e){return e==null?[]:[].concat(e)}function jO(){return jO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jO.apply(this,arguments)}let oBe=/\$\{\s*(\w+)\s*\}/g;class Ba extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=jO({},n,{path:r})),typeof t=="string"?t.replace(oBe,(i,o)=>b0(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Gae(t).forEach(o=>{Ba.isError(o)?(this.errors.push(...o.errors),this.inner=this.inner.concat(o.inner.length?o.inner:o)):this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Ba)}}const sBe=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}};function ES(e,t){let{endEarly:n,tests:r,args:i,value:o,errors:s,sort:a,path:l}=e,c=sBe(t),d=r.length;const u=[];if(s=s||[],!d)return s.length?c(new Ba(s,o,l)):c(null,o);for(let h=0;h<r.length;h++){const m=r[h];m(i,function(y){if(y){if(!Ba.isError(y))return c(y,o);if(n)return y.value=o,c(y,o);u.push(y)}if(--d<=0){if(u.length&&(a&&u.sort(a),s.length&&u.push(...s),s=u),s.length){c(new Ba(s,o,l),o);return}c(null,o)}})}}var e6,Qz;function aBe(){if(Qz)return e6;Qz=1;var e=zm(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return e6=t,e6}var t6,eV;function Jae(){if(eV)return t6;eV=1;var e=aBe();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return t6=t,t6}var n6,tV;function lBe(){if(tV)return n6;tV=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var c=a[t?l:++o];if(r(s[c],c,s)===!1)break}return n}}return n6=e,n6}var r6,nV;function cBe(){if(nV)return r6;nV=1;var e=lBe(),t=e();return r6=t,r6}var i6,rV;function dBe(){if(rV)return i6;rV=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return i6=e,i6}var Gw={exports:{}},o6,iV;function uBe(){if(iV)return o6;iV=1;function e(){return!1}return o6=e,o6}Gw.exports;var oV;function Zae(){return oV||(oV=1,(function(e,t){var n=ef(),r=uBe(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c})(Gw,Gw.exports)),Gw.exports}var s6,sV;function fBe(){if(sV)return s6;sV=1;var e=d_(),t=iD(),n=u_(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",u="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",k="[object Float32Array]",_="[object Float64Array]",R="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",D="[object Uint8Array]",M="[object Uint8ClampedArray]",C="[object Uint16Array]",U="[object Uint32Array]",$={};$[k]=$[_]=$[R]=$[I]=$[T]=$[D]=$[M]=$[C]=$[U]=!0,$[r]=$[i]=$[g]=$[o]=$[b]=$[s]=$[a]=$[l]=$[c]=$[d]=$[u]=$[h]=$[m]=$[v]=$[y]=!1;function z(q){return n(q)&&t(q.length)&&!!$[e(q)]}return s6=z,s6}var a6,aV;function hBe(){if(aV)return a6;aV=1;function e(t){return function(n){return t(n)}}return a6=e,a6}var Jw={exports:{}};Jw.exports;var lV;function pBe(){return lV||(lV=1,(function(e,t){var n=Uae(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();e.exports=a})(Jw,Jw.exports)),Jw.exports}var l6,cV;function Yae(){if(cV)return l6;cV=1;var e=fBe(),t=hBe(),n=pBe(),r=n&&n.isTypedArray,i=r?t(r):e;return l6=i,l6}var c6,dV;function mBe(){if(dV)return c6;dV=1;var e=dBe(),t=Vae(),n=Gh(),r=Zae(),i=Kae(),o=Yae(),s=Object.prototype,a=s.hasOwnProperty;function l(c,d){var u=n(c),h=!u&&t(c),m=!u&&!h&&r(c),v=!u&&!h&&!m&&o(c),y=u||h||m||v,g=y?e(c.length,String):[],b=g.length;for(var k in c)(d||a.call(c,k))&&!(y&&(k=="length"||m&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,b)))&&g.push(k);return g}return c6=l,c6}var d6,uV;function gBe(){if(uV)return d6;uV=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return d6=t,d6}var u6,fV;function yBe(){if(fV)return u6;fV=1;function e(t,n){return function(r){return t(n(r))}}return u6=e,u6}var f6,hV;function vBe(){if(hV)return f6;hV=1;var e=yBe(),t=e(Object.keys,Object);return f6=t,f6}var h6,pV;function wBe(){if(pV)return h6;pV=1;var e=gBe(),t=vBe(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return h6=i,h6}var p6,mV;function bBe(){if(mV)return p6;mV=1;var e=Fae(),t=iD();function n(r){return r!=null&&t(r.length)&&!e(r)}return p6=n,p6}var m6,gV;function sD(){if(gV)return m6;gV=1;var e=mBe(),t=wBe(),n=bBe();function r(i){return n(i)?e(i):t(i)}return m6=r,m6}var g6,yV;function Xae(){if(yV)return g6;yV=1;var e=cBe(),t=sD();function n(r,i){return r&&e(r,i,t)}return g6=n,g6}var y6,vV;function _Be(){if(vV)return y6;vV=1;var e=h3();function t(){this.__data__=new e,this.size=0}return y6=t,y6}var v6,wV;function xBe(){if(wV)return v6;wV=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return v6=e,v6}var w6,bV;function kBe(){if(bV)return w6;bV=1;function e(t){return this.__data__.get(t)}return w6=e,w6}var b6,_V;function SBe(){if(_V)return b6;_V=1;function e(t){return this.__data__.has(t)}return b6=e,b6}var _6,xV;function IBe(){if(xV)return _6;xV=1;var e=h3(),t=nD(),n=rD(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return _6=i,_6}var x6,kV;function Qae(){if(kV)return x6;kV=1;var e=h3(),t=_Be(),n=xBe(),r=kBe(),i=SBe(),o=IBe();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,x6=s,x6}var k6,SV;function EBe(){if(SV)return k6;SV=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return k6=t,k6}var S6,IV;function CBe(){if(IV)return S6;IV=1;function e(t){return this.__data__.has(t)}return S6=e,S6}var I6,EV;function ABe(){if(EV)return I6;EV=1;var e=rD(),t=EBe(),n=CBe();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,I6=r,I6}var E6,CV;function RBe(){if(CV)return E6;CV=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return E6=e,E6}var C6,AV;function TBe(){if(AV)return C6;AV=1;function e(t,n){return t.has(n)}return C6=e,C6}var A6,RV;function ele(){if(RV)return A6;RV=1;var e=ABe(),t=RBe(),n=TBe(),r=1,i=2;function o(s,a,l,c,d,u){var h=l&r,m=s.length,v=a.length;if(m!=v&&!(h&&v>m))return!1;var y=u.get(s),g=u.get(a);if(y&&g)return y==a&&g==s;var b=-1,k=!0,_=l&i?new e:void 0;for(u.set(s,a),u.set(a,s);++b<m;){var R=s[b],I=a[b];if(c)var T=h?c(I,R,b,a,s,u):c(R,I,b,s,a,u);if(T!==void 0){if(T)continue;k=!1;break}if(_){if(!t(a,function(D,M){if(!n(_,M)&&(R===D||d(R,D,l,c,u)))return _.push(M)})){k=!1;break}}else if(!(R===I||d(R,I,l,c,u))){k=!1;break}}return u.delete(s),u.delete(a),k}return A6=o,A6}var R6,TV;function OBe(){if(TV)return R6;TV=1;var e=ef(),t=e.Uint8Array;return R6=t,R6}var T6,OV;function NBe(){if(OV)return T6;OV=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return T6=e,T6}var O6,NV;function PBe(){if(NV)return O6;NV=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return O6=e,O6}var N6,PV;function BBe(){if(PV)return N6;PV=1;var e=d3(),t=OBe(),n=qae(),r=ele(),i=NBe(),o=PBe(),s=1,a=2,l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",k="[object DataView]",_=e?e.prototype:void 0,R=_?_.valueOf:void 0;function I(T,D,M,C,U,$,z){switch(M){case k:if(T.byteLength!=D.byteLength||T.byteOffset!=D.byteOffset)return!1;T=T.buffer,D=D.buffer;case b:return!(T.byteLength!=D.byteLength||!$(new t(T),new t(D)));case l:case c:case h:return n(+T,+D);case d:return T.name==D.name&&T.message==D.message;case m:case y:return T==D+"";case u:var q=i;case v:var S=C&s;if(q||(q=o),T.size!=D.size&&!S)return!1;var A=z.get(T);if(A)return A==D;C|=a,z.set(T,D);var O=r(q(T),q(D),C,U,$,z);return z.delete(T),O;case g:if(R)return R.call(T)==R.call(D)}return!1}return N6=I,N6}var P6,BV;function MBe(){if(BV)return P6;BV=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return P6=e,P6}var B6,MV;function DBe(){if(MV)return B6;MV=1;var e=MBe(),t=Gh();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return B6=n,B6}var M6,DV;function jBe(){if(DV)return M6;DV=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return M6=e,M6}var D6,jV;function $Be(){if(jV)return D6;jV=1;function e(){return[]}return D6=e,D6}var j6,$V;function LBe(){if($V)return j6;$V=1;var e=jBe(),t=$Be(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return j6=o,j6}var $6,LV;function UBe(){if(LV)return $6;LV=1;var e=DBe(),t=LBe(),n=sD();function r(i){return e(i,n,t)}return $6=r,$6}var L6,UV;function FBe(){if(UV)return L6;UV=1;var e=UBe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,c,d){var u=a&t,h=e(o),m=h.length,v=e(s),y=v.length;if(m!=y&&!u)return!1;for(var g=m;g--;){var b=h[g];if(!(u?b in s:r.call(s,b)))return!1}var k=d.get(o),_=d.get(s);if(k&&_)return k==s&&_==o;var R=!0;d.set(o,s),d.set(s,o);for(var I=u;++g<m;){b=h[g];var T=o[b],D=s[b];if(l)var M=u?l(D,T,b,s,o,d):l(T,D,b,o,s,d);if(!(M===void 0?T===D||c(T,D,a,l,d):M)){R=!1;break}I||(I=b=="constructor")}if(R&&!I){var C=o.constructor,U=s.constructor;C!=U&&"constructor"in o&&"constructor"in s&&!(typeof C=="function"&&C instanceof C&&typeof U=="function"&&U instanceof U)&&(R=!1)}return d.delete(o),d.delete(s),R}return L6=i,L6}var U6,FV;function WBe(){if(FV)return U6;FV=1;var e=zm(),t=ef(),n=e(t,"DataView");return U6=n,U6}var F6,WV;function qBe(){if(WV)return F6;WV=1;var e=zm(),t=ef(),n=e(t,"Promise");return F6=n,F6}var W6,qV;function zBe(){if(qV)return W6;qV=1;var e=zm(),t=ef(),n=e(t,"Set");return W6=n,W6}var q6,zV;function VBe(){if(zV)return q6;zV=1;var e=zm(),t=ef(),n=e(t,"WeakMap");return q6=n,q6}var z6,VV;function KBe(){if(VV)return z6;VV=1;var e=WBe(),t=nD(),n=qBe(),r=zBe(),i=VBe(),o=d_(),s=Wae(),a="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",u="[object WeakMap]",h="[object DataView]",m=s(e),v=s(t),y=s(n),g=s(r),b=s(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=h||t&&k(new t)!=a||n&&k(n.resolve())!=c||r&&k(new r)!=d||i&&k(new i)!=u)&&(k=function(_){var R=o(_),I=R==l?_.constructor:void 0,T=I?s(I):"";if(T)switch(T){case m:return h;case v:return a;case y:return c;case g:return d;case b:return u}return R}),z6=k,z6}var V6,KV;function HBe(){if(KV)return V6;KV=1;var e=Qae(),t=ele(),n=BBe(),r=FBe(),i=KBe(),o=Gh(),s=Zae(),a=Yae(),l=1,c="[object Arguments]",d="[object Array]",u="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function v(y,g,b,k,_,R){var I=o(y),T=o(g),D=I?d:i(y),M=T?d:i(g);D=D==c?u:D,M=M==c?u:M;var C=D==u,U=M==u,$=D==M;if($&&s(y)){if(!s(g))return!1;I=!0,C=!1}if($&&!C)return R||(R=new e),I||a(y)?t(y,g,b,k,_,R):n(y,g,D,b,k,_,R);if(!(b&l)){var z=C&&m.call(y,"__wrapped__"),q=U&&m.call(g,"__wrapped__");if(z||q){var S=z?y.value():y,A=q?g.value():g;return R||(R=new e),_(S,A,b,k,R)}}return $?(R||(R=new e),r(y,g,b,k,_,R)):!1}return V6=v,V6}var K6,HV;function tle(){if(HV)return K6;HV=1;var e=HBe(),t=u_();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return K6=n,K6}var H6,GV;function GBe(){if(GV)return H6;GV=1;var e=Qae(),t=tle(),n=1,r=2;function i(o,s,a,l){var c=a.length,d=c,u=!l;if(o==null)return!d;for(o=Object(o);c--;){var h=a[c];if(u&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++c<d;){h=a[c];var m=h[0],v=o[m],y=h[1];if(u&&h[2]){if(v===void 0&&!(m in o))return!1}else{var g=new e;if(l)var b=l(v,y,m,o,s,g);if(!(b===void 0?t(y,v,n|r,l,g):b))return!1}}return!0}return H6=i,H6}var G6,JV;function nle(){if(JV)return G6;JV=1;var e=tD();function t(n){return n===n&&!e(n)}return G6=t,G6}var J6,ZV;function JBe(){if(ZV)return J6;ZV=1;var e=nle(),t=sD();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return J6=n,J6}var Z6,YV;function rle(){if(YV)return Z6;YV=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Z6=e,Z6}var Y6,XV;function ZBe(){if(XV)return Y6;XV=1;var e=GBe(),t=JBe(),n=rle();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Y6=r,Y6}var X6,QV;function ile(){if(QV)return X6;QV=1;var e=zae(),t=m3();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return X6=n,X6}var Q6,eK;function YBe(){if(eK)return Q6;eK=1;var e=ile();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Q6=t,Q6}var eR,tK;function XBe(){if(tK)return eR;tK=1;function e(t,n){return t!=null&&n in Object(t)}return eR=e,eR}var tR,nK;function QBe(){if(nK)return tR;nK=1;var e=XBe(),t=Hae();function n(r,i){return r!=null&&t(r,i,e)}return tR=n,tR}var nR,rK;function eMe(){if(rK)return nR;rK=1;var e=tle(),t=YBe(),n=QBe(),r=eD(),i=nle(),o=rle(),s=m3(),a=1,l=2;function c(d,u){return r(d)&&i(u)?o(s(d),u):function(h){var m=t(h,d);return m===void 0&&m===u?n(h,d):e(u,m,a|l)}}return nR=c,nR}var rR,iK;function tMe(){if(iK)return rR;iK=1;function e(t){return t}return rR=e,rR}var iR,oK;function nMe(){if(oK)return iR;oK=1;function e(t){return function(n){return n==null?void 0:n[t]}}return iR=e,iR}var oR,sK;function rMe(){if(sK)return oR;sK=1;var e=ile();function t(n){return function(r){return e(r,n)}}return oR=t,oR}var sR,aK;function iMe(){if(aK)return sR;aK=1;var e=nMe(),t=rMe(),n=eD(),r=m3();function i(o){return n(o)?e(r(o)):t(o)}return sR=i,sR}var aR,lK;function ole(){if(lK)return aR;lK=1;var e=ZBe(),t=eMe(),n=tMe(),r=Gh(),i=iMe();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return aR=o,aR}var lR,cK;function oMe(){if(cK)return lR;cK=1;var e=Jae(),t=Xae(),n=ole();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,c){e(s,l,o(a,l,c))}),s}return lR=r,lR}var sMe=oMe();const sle=Rr(sMe);var cR,dK;function aMe(){if(dK)return cR;dK=1;function e(b){this._maxSize=b,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(b){return this._values[b]},e.prototype.set=function(b,k){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=k};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=512,a=new e(s),l=new e(s),c=new e(s);cR={Cache:e,split:u,normalizePath:d,setter:function(b){var k=d(b);return l.get(b)||l.set(b,function(R,I){for(var T=0,D=k.length,M=R;T<D-1;){var C=k[T];if(C==="__proto__"||C==="constructor"||C==="prototype")return R;M=M[k[T++]]}M[k[T]]=I})},getter:function(b,k){var _=d(b);return c.get(b)||c.set(b,function(I){for(var T=0,D=_.length;T<D;)if(I!=null||!k)I=I[_[T++]];else return;return I})},join:function(b){return b.reduce(function(k,_){return k+(m(_)||n.test(_)?"["+_+"]":(k?".":"")+_)},"")},forEach:function(b,k,_){h(Array.isArray(b)?b:u(b),k,_)}};function d(b){return a.get(b)||a.set(b,u(b).map(function(k){return k.replace(o,"$2")}))}function u(b){return b.match(t)||[""]}function h(b,k,_){var R=b.length,I,T,D,M;for(T=0;T<R;T++)I=b[T],I&&(g(I)&&(I='"'+I+'"'),M=m(I),D=!M&&/^\d+$/.test(I),k.call(_,I,M,D,T,b))}function m(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function v(b){return b.match(r)&&!b.match(n)}function y(b){return i.test(b)}function g(b){return!m(b)&&(v(b)||y(b))}return cR}var g3=aMe();const mk={context:"$",value:"."};class xh{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===mk.context,this.isValue=this.key[0]===mk.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?mk.context:this.isValue?mk.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&g3.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}xh.prototype.__isYupRef=!0;function CS(){return CS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(this,arguments)}function lMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gk(e){function t(n,r){let{value:i,path:o="",label:s,options:a,originalValue:l,sync:c}=n,d=lMe(n,["value","path","label","options","originalValue","sync"]);const{name:u,test:h,params:m,message:v}=e;let{parent:y,context:g}=a;function b(T){return xh.isRef(T)?T.getValue(i,y,g):T}function k(T={}){const D=sle(CS({value:i,originalValue:l,label:s,path:T.path||o},m,T.params),b),M=new Ba(Ba.formatError(T.message||v,D),i,D.path,T.type||u);return M.params=D,M}let _=CS({path:o,parent:y,type:u,createError:k,resolve:b,options:a,originalValue:l},d);if(!c){try{Promise.resolve(h.call(_,i,_)).then(T=>{Ba.isError(T)?r(T):T?r(null,T):r(k())}).catch(r)}catch(T){r(T)}return}let R;try{var I;if(R=h.call(_,i,_),typeof((I=R)==null?void 0:I.then)=="function")throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(T){r(T);return}Ba.isError(R)?r(R):R?r(null,R):r(k())}return t.OPTIONS=e,t}let cMe=e=>e.substr(0,e.length-1).substr(1);function dMe(e,t,n,r=n){let i,o,s;return t?(g3.forEach(t,(a,l,c)=>{let d=l?cMe(a):a;if(e=e.resolve({context:r,parent:i,value:n}),e.innerType){let u=c?parseInt(d,10):0;if(n&&u>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[u],e=e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e._type}")`);i=n,n=n&&n[d],e=e.fields[d]}o=d,s=l?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class AS{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const n of this.list)t.push(n);for(const[,n]of this.refs)t.push(n.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((n,r)=>n.concat(xh.isRef(r)?t(r):r),[])}add(t){xh.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){xh.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new AS;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,n){const r=this.clone();return t.list.forEach(i=>r.add(i)),t.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function Gl(){return Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(this,arguments)}class oa{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new AS,this._blacklist=new AS,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Np.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=Gl({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=Gl({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=PO(Gl({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Gl({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}cast(t,n={}){let r=this.resolve(Gl({value:t},n)),i=r._cast(t,n);if(t!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let o=b0(t),s=b0(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${o} 
`+(s!==o?`result of cast: ${s}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault()),r}_validate(t,n={},r){let{sync:i,path:o,from:s=[],originalValue:a=t,strict:l=this.spec.strict,abortEarly:c=this.spec.abortEarly}=n,d=t;l||(d=this._cast(d,Gl({assert:!1},n)));let u={value:d,path:o,options:n,originalValue:a,schema:this,label:this.spec.label,sync:i,from:s},h=[];this._typeError&&h.push(this._typeError);let m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),ES({args:u,value:d,path:o,tests:h,endEarly:c},v=>{if(v)return void r(v,d);ES({tests:this.tests.concat(m),args:u,path:o,sync:i,value:d,endEarly:c},r)})}validate(t,n,r){let i=this.resolve(Gl({},n,{value:t}));return typeof r=="function"?i._validate(t,n,r):new Promise((o,s)=>i._validate(t,n,(a,l)=>{a?s(a):o(l)}))}validateSync(t,n){let r=this.resolve(Gl({},n,{value:t})),i;return r._validate(t,Gl({},n,{sync:!0}),(o,s)=>{if(o)throw o;i=s}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Ba.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Ba.isError(r))return!1;throw r}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):PO(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let n=this.clone();return n.spec.strict=t,n}_isPresent(t){return t!=null}defined(t=Np.defined){return this.test({message:t,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(t=Np.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:t,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Np.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=gk(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=Gae(t).map(o=>new xh(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(new iBe(i,n)),r}typeError(t){let n=this.clone();return n._typeError=gk({message:t,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(t,n=Np.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=gk({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:o.toArray().join(", "),resolved:s}})}}),r}notOneOf(t,n=Np.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=gk({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:o.toArray().join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(){const t=this.clone(),{label:n,meta:r}=t.spec;return{meta:r,label:n,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(o=>({name:o.OPTIONS.name,params:o.OPTIONS.params})).filter((o,s,a)=>a.findIndex(l=>l.name===o.name)===s)}}}oa.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])oa.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=dMe(this,t,n,r.context);return s[e](i&&i[o],Gl({},r,{parent:i,path:t}))};for(const e of["equals","is"])oa.prototype[e]=oa.prototype.oneOf;for(const e of["not","nope"])oa.prototype[e]=oa.prototype.notOneOf;oa.prototype.optional=oa.prototype.notRequired;const Hs=e=>e==null;function pb(){return new ale}class ale extends oa{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}_typeCheck(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}isTrue(t=MO.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Hs(n)||n===!0}})}isFalse(t=MO.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Hs(n)||n===!1}})}}pb.prototype=ale.prototype;let uMe=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,fMe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,hMe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pMe=e=>Hs(e)||e===e.trim(),mMe={}.toString();function Ar(){return new lle}class lle extends oa{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===mMe?t:n})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,n=Ac.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Hs(r)||r.length===this.resolve(t)}})}min(t,n=Ac.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Hs(r)||r.length>=this.resolve(t)}})}max(t,n=Ac.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},test(r){return Hs(r)||r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Ac.matches,params:{regex:t},test:s=>Hs(s)||s===""&&r||s.search(t)!==-1})}email(t=Ac.email){return this.matches(uMe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Ac.url){return this.matches(fMe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Ac.uuid){return this.matches(hMe,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Ac.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:pMe})}lowercase(t=Ac.lowercase){return this.transform(n=>Hs(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Hs(n)||n===n.toLowerCase()})}uppercase(t=Ac.uppercase){return this.transform(n=>Hs(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Hs(n)||n===n.toUpperCase()})}}Ar.prototype=lle.prototype;var gMe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function yMe(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=gMe.exec(e)){for(var o=0,s;s=t[o];++o)i[s]=+i[s]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let cle=new Date(""),vMe=e=>Object.prototype.toString.call(e)==="[object Date]";class wMe extends oa{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=yMe(t),isNaN(t)?cle:new Date(t))})})}_typeCheck(t){return vMe(t)&&!isNaN(t.getTime())}prepareParam(t,n){let r;if(xh.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=BO.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(i){return Hs(i)||i>=this.resolve(r)}})}max(t,n=BO.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(i){return Hs(i)||i<=this.resolve(r)}})}}wMe.INVALID_DATE=cle;var dR,uK;function bMe(){if(uK)return dR;uK=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return dR=e,dR}var uR,fK;function _Me(){if(fK)return uR;fK=1;function e(t){return function(n){return t==null?void 0:t[n]}}return uR=e,uR}var fR,hK;function xMe(){if(hK)return fR;hK=1;var e=_Me(),t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n=e(t);return fR=n,fR}var hR,pK;function kMe(){if(pK)return hR;pK=1;var e=xMe(),t=f_(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+i+o,a="["+s+"]",l=RegExp(a,"g");function c(d){return d=t(d),d&&d.replace(n,e).replace(l,"")}return hR=c,hR}var pR,mK;function SMe(){if(mK)return pR;mK=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(n){return n.match(e)||[]}return pR=t,pR}var mR,gK;function IMe(){if(gK)return mR;gK=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(n){return e.test(n)}return mR=t,mR}var gR,yK;function EMe(){if(yK)return gR;yK=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",a="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c="\\u2000-\\u206f",d=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",m=a+l+c+d,v="[']",y="["+m+"]",g="["+i+"]",b="\\d+",k="["+o+"]",_="["+s+"]",R="[^"+e+m+b+o+s+u+"]",I="\\ud83c[\\udffb-\\udfff]",T="(?:"+g+"|"+I+")",D="[^"+e+"]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+u+"]",$="\\u200d",z="(?:"+_+"|"+R+")",q="(?:"+U+"|"+R+")",S="(?:"+v+"(?:d|ll|m|re|s|t|ve))?",A="(?:"+v+"(?:D|LL|M|RE|S|T|VE))?",O=T+"?",N="["+h+"]?",j="(?:"+$+"(?:"+[D,M,C].join("|")+")"+N+O+")*",V="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",K="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",W=N+O+j,P="(?:"+[k,M,C].join("|")+")"+W,F=RegExp([U+"?"+_+"+"+S+"(?="+[y,U,"$"].join("|")+")",q+"+"+A+"(?="+[y,U+z,"$"].join("|")+")",U+"?"+z+"+"+S,U+"+"+A,K,V,b,P].join("|"),"g");function G(Y){return Y.match(F)||[]}return gR=G,gR}var yR,vK;function CMe(){if(vK)return yR;vK=1;var e=SMe(),t=IMe(),n=f_(),r=EMe();function i(o,s,a){return o=n(o),s=a?void 0:s,s===void 0?t(o)?r(o):e(o):o.match(s)||[]}return yR=i,yR}var vR,wK;function dle(){if(wK)return vR;wK=1;var e=bMe(),t=kMe(),n=CMe(),r="[']",i=RegExp(r,"g");function o(s){return function(a){return e(n(t(a).replace(i,"")),s,"")}}return vR=o,vR}var wR,bK;function AMe(){if(bK)return wR;bK=1;var e=dle(),t=e(function(n,r,i){return n+(i?"_":"")+r.toLowerCase()});return wR=t,wR}var RMe=AMe();const _K=Rr(RMe);var bR,xK;function TMe(){if(xK)return bR;xK=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+n];return s}return bR=e,bR}var _R,kK;function OMe(){if(kK)return _R;kK=1;var e=TMe();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return _R=t,_R}var xR,SK;function ule(){if(SK)return xR;SK=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(c){return a.test(c)}return xR=l,xR}var kR,IK;function NMe(){if(IK)return kR;IK=1;function e(t){return t.split("")}return kR=e,kR}var SR,EK;function PMe(){if(EK)return SR;EK=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",d="[^"+e+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=c+"?",y="["+o+"]?",g="(?:"+m+"(?:"+[d,u,h].join("|")+")"+y+v+")*",b=y+v+g,k="(?:"+[d+a+"?",a,u,h,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+k+b,"g");function R(I){return I.match(_)||[]}return SR=R,SR}var IR,CK;function BMe(){if(CK)return IR;CK=1;var e=NMe(),t=ule(),n=PMe();function r(i){return t(i)?n(i):e(i)}return IR=r,IR}var ER,AK;function MMe(){if(AK)return ER;AK=1;var e=OMe(),t=ule(),n=BMe(),r=f_();function i(o){return function(s){s=r(s);var a=t(s)?n(s):void 0,l=a?a[0]:s.charAt(0),c=a?e(a,1).join(""):s.slice(1);return l[o]()+c}}return ER=i,ER}var CR,RK;function DMe(){if(RK)return CR;RK=1;var e=MMe(),t=e("toUpperCase");return CR=t,CR}var AR,TK;function jMe(){if(TK)return AR;TK=1;var e=f_(),t=DMe();function n(r){return t(e(r).toLowerCase())}return AR=n,AR}var RR,OK;function $Me(){if(OK)return RR;OK=1;var e=jMe(),t=dle(),n=t(function(r,i,o){return i=i.toLowerCase(),r+(o?e(i):i)});return RR=n,RR}var LMe=$Me();const UMe=Rr(LMe);var TR,NK;function FMe(){if(NK)return TR;NK=1;var e=Jae(),t=Xae(),n=ole();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,c){e(s,o(a,l,c),a)}),s}return TR=r,TR}var WMe=FMe();const qMe=Rr(WMe);var yk={exports:{}},PK;function zMe(){if(PK)return yk.exports;PK=1,yk.exports=function(i){return e(t(i),i)},yk.exports.array=e;function e(i,o){var s=i.length,a=new Array(s),l={},c=s,d=n(o),u=r(i);for(o.forEach(function(m){if(!u.has(m[0])||!u.has(m[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)l[c]||h(i[c],c,new Set);return a;function h(m,v,y){if(y.has(m)){var g;try{g=", node was:"+JSON.stringify(m)}catch{g=""}throw new Error("Cyclic dependency"+g)}if(!u.has(m))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(m));if(!l[v]){l[v]=!0;var b=d.get(m)||new Set;if(b=Array.from(b),v=b.length){y.add(m);do{var k=b[--v];h(k,u.get(k),y)}while(v);y.delete(m)}a[--s]=m}}}function t(i){for(var o=new Set,s=0,a=i.length;s<a;s++){var l=i[s];o.add(l[0]),o.add(l[1])}return Array.from(o)}function n(i){for(var o=new Map,s=0,a=i.length;s<a;s++){var l=i[s];o.has(l[0])||o.set(l[0],new Set),o.has(l[1])||o.set(l[1],new Set),o.get(l[0]).add(l[1])}return o}function r(i){for(var o=new Map,s=0,a=i.length;s<a;s++)o.set(i[s],s);return o}return yk.exports}var VMe=zMe();const KMe=Rr(VMe);function HMe(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let l=g3.split(s)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const s in e)if(IS(e,s)){let a=e[s];r.add(s),xh.isRef(a)&&a.isSibling?o(a.path,s):oD(a)&&"deps"in a&&a.deps.forEach(l=>o(l,s))}return KMe.array(Array.from(r),n).reverse()}function BK(e,t){let n=1/0;return e.some((r,i)=>{var o;if(((o=t.path)==null?void 0:o.indexOf(r))!==-1)return n=i,!0}),n}function fle(e){return(t,n)=>BK(e,t)-BK(e,n)}function Ty(){return Ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(this,arguments)}let MK=e=>Object.prototype.toString.call(e)==="[object Object]";function GMe(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const JMe=fle([]);class hle extends oa{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=JMe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),t&&this.shape(t)})}_typeCheck(t){return MK(t)||typeof t=="function"}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(i).filter(u=>this._nodes.indexOf(u)===-1)),l={},c=Ty({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const u of a){let h=o[u],m=IS(i,u);if(h){let v,y=i[u];c.path=(n.path?`${n.path}.`:"")+u,h=h.resolve({value:y,context:n.context,parent:l});let g="spec"in h?h.spec:void 0,b=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||u in i;continue}v=!n.__validating||!b?h.cast(i[u],c):i[u],v!==void 0&&(l[u]=v)}else m&&!s&&(l[u]=i[u]);l[u]!==i[u]&&(d=!0)}return d?l:i}_validate(t,n={},r){let i=[],{sync:o,from:s=[],originalValue:a=t,abortEarly:l=this.spec.abortEarly,recursive:c=this.spec.recursive}=n;s=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,n.from=s,super._validate(t,n,(d,u)=>{if(d){if(!Ba.isError(d)||l)return void r(d,u);i.push(d)}if(!c||!MK(u)){r(i[0]||null,u);return}a=a||u;let h=this._nodes.map(m=>(v,y)=>{let g=m.indexOf(".")===-1?(n.path?`${n.path}.`:"")+m:`${n.path||""}["${m}"]`,b=this.fields[m];if(b&&"validate"in b){b.validate(u[m],Ty({},n,{path:g,from:s,strict:!0,parent:u,originalValue:a[m]}),y);return}y(null)});ES({tests:h,value:u,errors:i,endEarly:l,sort:this._sortErrors,path:n.path},r)})}clone(t){const n=super.clone(t);return n.fields=Ty({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];s===void 0?r[i]=o:s instanceof oa&&o instanceof oa&&(r[i]=o.concat(s))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(n=>{const r=this.fields[n];t[n]="default"in r?r.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,n=[]){let r=this.clone(),i=Object.assign(r.fields,t);return r.fields=i,r._sortErrors=fle(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=HMe(i,r._excludedEdges),r}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(t){const n=this.clone(),r=n.fields;n.fields={};for(const i of t)delete r[i];return n.withMutation(()=>n.shape(r))}from(t,n,r){let i=g3.getter(t,!0);return this.transform(o=>{if(o==null)return o;let s=o;return IS(o,t)&&(s=Ty({},o),r||delete s[t],s[n]=i(o)),s})}noUnknown(t=!0,n=DO.noUnknown){typeof t=="string"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=GMe(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=DO.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>n&&qMe(n,(r,i)=>t(i)))}camelCase(){return this.transformKeys(UMe)}snakeCase(){return this.transformKeys(_K)}constantCase(){return this.transformKeys(t=>_K(t).toUpperCase())}describe(){let t=super.describe();return t.fields=sle(this.fields,n=>n.describe()),t}}function t1(e){return new hle(e)}t1.prototype=hle.prototype;function RS(){return RS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RS.apply(this,arguments)}function ple(e){return new mle(e)}class mle extends oa{constructor(t){super({type:"array"}),this.innerType=void 0,this.innerType=t,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(t){return Array.isArray(t)}get _subType(){return this.innerType}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const o=r.map((s,a)=>{const l=this.innerType.cast(s,RS({},n,{path:`${n.path||""}[${a}]`}));return l!==s&&(i=!0),l});return i?o:r}_validate(t,n={},r){var i,o;let s=[];n.sync;let a=n.path,l=this.innerType,c=(i=n.abortEarly)!=null?i:this.spec.abortEarly,d=(o=n.recursive)!=null?o:this.spec.recursive,u=n.originalValue!=null?n.originalValue:t;super._validate(t,n,(h,m)=>{if(h){if(!Ba.isError(h)||c)return void r(h,m);s.push(h)}if(!d||!l||!this._typeCheck(m)){r(s[0]||null,m);return}u=u||m;let v=new Array(m.length);for(let y=0;y<m.length;y++){let g=m[y],b=`${n.path||""}[${y}]`,k=RS({},n,{path:b,strict:!0,parent:m,index:y,originalValue:u[y]});v[y]=(_,R)=>l.validate(g,k,R)}ES({path:a,value:m,errors:s,endEarly:c,tests:v},r)})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!oD(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+b0(t));return n.innerType=t,n}length(t,n=O2.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Hs(r)||r.length===this.resolve(t)}})}min(t,n){return n=n||O2.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Hs(r)||r.length>=this.resolve(t)}})}max(t,n){return n=n||O2.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return Hs(r)||r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,o)=>!t(r,i,o):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let t=super.describe();return this.innerType&&(t.innerType=this.innerType.describe()),t}nullable(t=!0){return super.nullable(t)}defined(){return super.defined()}required(t){return super.required(t)}}ple.prototype=mle.prototype;const gle=t1().shape({alias:Ar(),btcWallet:Ar(),ckbWallet:Ar(),country:Ar(),discordNotification:pb(),dogeWallet:Ar(),email:Ar(),emailNotification:pb(),firstName:Ar(),jobTitle:Ar(),kasWallet:Ar(),kdaWallet:Ar(),lastName:Ar(),ltcWallet:Ar(),metadata:t1(),newsletterNotification:pb(),phoneNumber:Ar(),tShirtSize:Ar(),team:Ar(),username:Ar()});var OR,DK;function ZMe(){if(DK)return OR;DK=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var y=0,g=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,y++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,D=_-1;(I!==0||T<g)&&D!==-1;D--,T++)I+=256*R[D]>>>0,R[D]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");g=T,b++}for(var M=_-g;M!==_&&R[M]===0;)M++;for(var C=l.repeat(y);M<_;++M)C+=t.charAt(R[M]);return C}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var y=0,g=0,b=0;v[y]===l;)g++,y++;for(var k=(v.length-y)*c+1>>>0,_=new Uint8Array(k);v[y];){var R=v.charCodeAt(y);if(R>255)return;var I=n[R];if(I===255)return;for(var T=0,D=k-1;(I!==0||T<b)&&D!==-1;D--,T++)I+=a*_[D]>>>0,_[D]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=T,y++}for(var M=k-b;M!==k&&_[M]===0;)M++;for(var C=new Uint8Array(g+(k-M)),U=g;M!==k;)C[U++]=_[M++];return C}function m(v){var y=h(v);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:m}}return OR=e,OR}var NR,jK;function YMe(){return jK||(jK=1,NR=ZMe()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),NR}var XMe=YMe();const QMe=Rr(XMe),eDe=e=>e instanceof Promise,tDe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,{retries:i},o){const s=i?i+1:1;let a=0,l,c;for(;a<s;){a=a+1;try{const d=r();if(eDe(d)?l=yield d:l=d,c=void 0,l)break}catch(d){c=d}}return o(c,l),l}),vr=(e,t)=>{const n=x.useRef(new Date().getTime()),{deps:r=[],initialData:i=void 0,enabled:o=!0,retries:s=0}=t||{},a=x.useRef({onBeforeFetch:t==null?void 0:t.onBeforeFetch,onReject:t==null?void 0:t.onReject,onResolve:t==null?void 0:t.onResolve});a.current={onBeforeFetch:t==null?void 0:t.onBeforeFetch,onReject:t==null?void 0:t.onReject,onResolve:t==null?void 0:t.onResolve};const[l,c]=x.useState(i),[d,u]=x.useState(o),[h,m]=x.useState(void 0),v=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var y,g;const b=new Date().getTime();return b-n.current<5&&Ie.logVerboseTroubleshootingMessage("usePromise: Fetcher function was called in very quick succession. Please make sure the fetcher function is not synchronous and that you are not calling it inside a loop.",r),n.current=b,u(!0),(g=(y=a.current).onBeforeFetch)===null||g===void 0||g.call(y),tDe(e,{retries:s},(_,R)=>{var I,T,D,M;if(b===n.current){if(_){Ie.error(_),m(_),(T=(I=a.current).onReject)===null||T===void 0||T.call(I,_);return}c(R),(M=(D=a.current).onResolve)===null||M===void 0||M.call(D,R)}}).finally(()=>u(!1))}),r);return x.useEffect(()=>{o&&v()},[v,o]),x.useMemo(()=>({data:l,error:h,isLoading:d,retrigger:v}),[l,h,d,v])},yle=(e,t)=>{const n=e==null?void 0:e.verifiedCredentials.find(r=>r.id===t);return e==null?void 0:e.verifiedCredentials.find(r=>r.id===(n==null?void 0:n.refId))},Vm=e=>{var t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k,_,R,I,T;return{alias:(t=e.alias)!==null&&t!==void 0?t:void 0,btcWallet:(n=e.btcWallet)!==null&&n!==void 0?n:void 0,ckbWallet:(r=e.ckbWallet)!==null&&r!==void 0?r:void 0,country:(i=e.country)!==null&&i!==void 0?i:void 0,discordNotification:(o=e.discordNotification)!==null&&o!==void 0?o:void 0,dogeWallet:(s=e.dogeWallet)!==null&&s!==void 0?s:void 0,email:(a=e.email)!==null&&a!==void 0?a:void 0,emailNotification:(l=e.emailNotification)!==null&&l!==void 0?l:void 0,environmentId:e.projectEnvironmentId,firstName:(c=e.firstName)!==null&&c!==void 0?c:void 0,jobTitle:(d=e.jobTitle)!==null&&d!==void 0?d:void 0,kasWallet:(u=e.kasWallet)!==null&&u!==void 0?u:void 0,kdaWallet:(h=e.kdaWallet)!==null&&h!==void 0?h:void 0,lastName:(m=e.lastName)!==null&&m!==void 0?m:void 0,lastVerifiedCredentialId:(v=e.lastVerifiedCredentialId)!==null&&v!==void 0?v:void 0,lists:e.lists,ltcWallet:(y=e.ltcWallet)!==null&&y!==void 0?y:void 0,metadata:e.metadata,mfaBackupCodeAcknowledgement:e.mfaBackupCodeAcknowledgement,missingFields:e.missingFields,newUser:e.newUser,newsletterNotification:(g=e.newsletterNotification)!==null&&g!==void 0?g:void 0,phoneNumber:(b=e.phoneNumber)!==null&&b!==void 0?b:void 0,policiesConsent:(k=e.policiesConsent)!==null&&k!==void 0?k:void 0,scope:e.scope,sessionId:(_=e.sessionId)!==null&&_!==void 0?_:"missing-sessionId",tShirtSize:(R=e.tShirtSize)!==null&&R!==void 0?R:void 0,team:(I=e.team)!==null&&I!==void 0?I:void 0,userId:e.id,username:(T=e.username)!==null&&T!==void 0?T:void 0,verifiedCredentials:e.verifiedCredentials||[]}},nDe=(e,t)=>{var n,r,i,o;const s=(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.filter(d=>d.format==="oauth"))!==null&&r!==void 0?r:[],a=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.filter(d=>d.format==="oauth"))!==null&&o!==void 0?o:[];if(s.length!==a.length)return!0;const l=new Set(s.map(d=>d.id)),c=new Set(a.map(d=>d.id));if(l.size!==c.size)return!0;for(const d of l)if(!c.has(d))return!0;for(const d of c)if(!l.has(d))return!0;return!1},$K=(e,t,n)=>{if(!t||!n)return!1;for(const r of e){const i=t[r],o=n[r];if(JSON.stringify(i)!==JSON.stringify(o))return!0}return!1},rDe=({oldUser:e,newUser:t})=>{var n,r;const i=rv();if(!i)return;const o=$K(i.kyc.map(({name:l})=>l),e,t),s=$K((r=(n=i.customFields)===null||n===void 0?void 0:n.map(({name:l})=>l))!==null&&r!==void 0?r:[],e==null?void 0:e.metadata,t.metadata),a=e?nDe(e,t):!1;!o&&!s&&!a||rt.emit("userProfileUpdated",Vm(t))},Ii=e=>{const t=Js().user;return Kh({response:e},Js()),e.user&&t&&rDe({newUser:e.user,oldUser:t}),Vm(e.user)},iDe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{const r=yield cn().selectUserWallet({environmentId:t,userWalletSelectionRequest:{walletId:n}});return Ii(r)}catch(r){const i=yield Tr(r,"Error transfering wallet");throw new Se(i.error)}}),oDe=(e,t)=>de(void 0,[e,t],void 0,function*(n,{messageToSign:r,network:i,signedMessage:o,publicWalletAddress:s,chain:a,walletName:l,walletProvider:c,additionalWalletAddresses:d,backup:u}){const h=Roe({additionalWalletAddresses:d,backup:u,chain:a,messageToSign:r,network:i,publicWalletAddress:s,signedMessage:o,walletName:l,walletProvider:c});try{const m=yield cn().verifyLink({environmentId:n,verifyRequest:h});return Ii(m),m}catch(m){const v=yield Tr(m,"Error linkWallet");throw v.code==="embedded_wallet_address_already_linked"?new Wie(v.code):v.code==="reassign_wallet_confirm"||v.code==="reassign_wallet_error"?new Yie(v.code):v.code==="merge_accounts_confirmation"?new zie({code:v.code,mergeConflicts:v.payload.mergeConflicts,walletAddress:s}):v.error.code==="sandbox_maximum_threshold_reached"?new Ld(v.error.message):new Se(v.error)}}),sDe=e=>de(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,walletId:r,onSuccess:i}){const o=n==null?void 0:n.replace("-zerodev","");try{const s=yield cn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:o,walletId:r}});return i==null||i(),Ii(s)}catch(s){const a=yield Tr(s,"Error transfering wallet");throw new Se(a.error)}}),aDe=(e,t)=>de(void 0,[e,t],void 0,function*(n,{network:r,messageToSign:i,signedMessage:o,publicWalletAddress:s,chain:a,walletName:l,walletProvider:c,skipEmptyAccountCheck:d=!1}){const u={chain:a,messageToSign:i,network:r,publicWalletAddress:s,signedMessage:o,skipEmptyAccountCheck:d,walletName:l,walletProvider:c};try{const h=yield cn().verifyTransfer({environmentId:n,verifyRequest:u});return Ii(h)}catch(h){const m=yield Tr(h,"Error transfering wallet");throw new Se(m.error)}}),lDe=(e,t)=>de(void 0,[e,t],void 0,function*(n,{messageToSign:r,signedMessage:i,publicWalletAddress:o,chain:s,walletName:a,walletProvider:l,captchaToken:c,network:d,oauth:u,additionalWalletAddresses:h,sessionPublicKey:m}){const v=Roe({additionalWalletAddresses:h,captchaToken:c,chain:s,messageToSign:r,network:d,oauth:u,publicWalletAddress:o,sessionPublicKey:m,signedMessage:i,walletName:a,walletProvider:l});try{return yield cn().verify({environmentId:n,verifyRequest:v})}catch(y){const g=yield Tr(y,"Error verifyWallet");throw g.code==="wallet_not_deployed"?new X_e:g.error.code==="chainalysis_blocked_wallet"?new Uie(g.payload.walletPublicKey):g.error.code==="gate_blocked"?new lM(g.payload.walletPublicKey):g.error.code==="missing_from_list"?new Q0({walletPublicKey:g.payload.walletPublicKey}):g.code==="email_associated_with_different_provider"?new z1(g.error,g.payload):g.error.code==="sandbox_maximum_threshold_reached"?new Ld(g.error.message):new Se(g.error)}}),cDe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{yield cn().softDeleteEmbeddedWallet({environmentId:t,walletId:n})}catch(r){const i=yield Tr(r,`Error softDeleteEmbeddedWallet for ${n} in ${t}`);throw new Se(i.error)}}),dDe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{yield cn().restoreEmbeddedWallet({environmentId:t,walletId:n})}catch(r){const i=yield Tr(r,`Error restoreEmbeddedWallet for ${n} in ${t}`);throw new Se(i.error)}}),h_=()=>{const{user:e}=Js();if(e)return Vm(e)},To=e=>de(void 0,void 0,void 0,function*(){var t;kae(e);const n=h_();if(n){const r=Qu(),i=(t=n.verifiedCredentials.find(o=>o.id===e))===null||t===void 0?void 0:t.lastSelectedAt;if(i){const o=n.verifiedCredentials.reduce((s,a)=>a.format!=="blockchain"||!a.lastSelectedAt?s:!s||!s.lastSelectedAt||a.lastSelectedAt>s.lastSelectedAt?a:s,null);if(o!=null&&o.lastSelectedAt&&o.lastSelectedAt.getTime()===i.getTime())return}yield iDe({environmentId:r,walletId:e})}}),je=()=>{const e=x.useContext(J3);if(e===void 0)throw new Error("useInternalDynamicContext must be used within a DynamicContextProvider");return e},LK="session_active",uDe="error_sending_code",$O="error_processing_reveal_request",fDe="invalid_request",Oy="invalid_wallet",hDe="secure_enclave_provider_not_enabled",Kr="user_not_logged_in",pDe="code_sent",mDe="session_created",gDe="session_restored",UK=451,yDe=e=>de(void 0,void 0,void 0,function*(){if(e.connectedChain==="SOL"||e.connectedChain==="SUI")return;const t=yield e.getNetwork(!0);return t||(e.key==="bloctoevm"?137:e.connectedChain==="EVM"?1:t)}),vDe=(e,t,n,r,i,o)=>de(void 0,void 0,void 0,function*(){if(e===void 0)throw new Se("Unable to fetch the public address from the wallet");if(!t.connectedChain)throw new Se("Wallet is not connected");const s=yield yDe(t),a=t.parseAddress(e);let l;const c=Ln.getDisplayOrigin();Ln.isNativeMobile&&c?l=new URL(c):l=Ln.getUrl();const d=z4e({blockchain:t.connectedChain,chainId:s,domain:l.host,nonce:n,publicKey:a,requestId:r,resources:t.providerResources,statement:i?o.replace(/(\r\n|\n|\r)/gm," ").trim():void 0,uri:l.origin+l.pathname});Ie.debug("[generateMessages] Generated SIWE message:",{messageToSign:d});const u=yield t.proveOwnership(a,d);if(!u)throw new Se("Unable to sign the message");return{messageToSign:d,signedMessage:u}}),vle=e=>de(void 0,[e],void 0,function*({walletConnector:t,walletProvider:n,environmentId:r,displaySiweStatement:i,skipEmptyAccountCheck:o,siweStatement:s,publicWalletAddress:a,signedMessageOverride:l,messageToSignOverride:c}){const d=t.connectedChain;if(Ie.logVerboseTroubleshootingMessage("[getVerifyArgs] called",{chain:d,displaySiweStatement:i,environmentId:r,hasMessageToSignOverride:!!c,hasSignedMessageOverride:!!l,publicWalletAddress:a,siweStatement:s,walletConnectorKey:t.key}),l&&c){Ie.logVerboseTroubleshootingMessage("[getVerifyArgs] using overrides",{messageToSignOverride:c,messageToSignOverrideLength:c.length,signedMessageOverride:l,signedMessageOverrideLength:l.length});const[g,b]=yield Promise.all([t.getNetwork(!0),t.getAdditionalAddresses(a)]),k={additionalWalletAddresses:b,chain:d,messageToSign:c,network:String(g),publicWalletAddress:a,signedMessage:l,skipEmptyAccountCheck:o,walletName:t.key,walletProvider:n};return Ie.logVerboseTroubleshootingMessage("[getVerifyArgs] returning with overrides",{chain:k.chain,messageToSign:k.messageToSign,network:k.network,publicWalletAddress:k.publicWalletAddress,signedMessage:k.signedMessage,walletName:k.walletName}),k}const u=Nue(),{messageToSign:h,signedMessage:m}=yield vDe(a,t,u,r,i,s),[v,y]=yield Promise.all([t.getNetwork(!0),t.getAdditionalAddresses(a)]);return{additionalWalletAddresses:y,chain:d,messageToSign:h,network:String(v),publicWalletAddress:a,signedMessage:m,skipEmptyAccountCheck:o,walletName:t.key,walletProvider:n}}),aD=({appName:e,siweStatement:t})=>{const n=`Welcome to ${e}. Signing is the only way we can truly know that you are the owner of the wallet you are connecting. Signing is a safe, gas-less transaction that does not in any way give ${e} permission to perform any transactions with your wallet.`;return t||n},wDe="x-dyn-session-public-key",bDe="x-dyn-session-nonce",_De="x-dyn-session-nonce-signature",xDe=e=>de(void 0,[e],void 0,function*({attestation:t,challenge:n,environmentId:r,chains:i=[am.Evm],passkeyAlias:o,sessionPublicKey:s}){const a=[{chains:i,embeddedWalletProvider:dO.Turnkeyhd,isAuthenticatorAttached:!1,passkeyAlias:o,sessionPublicKey:s}];t&&n&&(a[0]=Object.assign(Object.assign({},a[0]),{embeddedWalletSpecificOpts:{attestation:t,challenge:n},isAuthenticatorAttached:!0}));try{const l=yield cn().createEmbeddedWallets({createEmbeddedWalletsRequest:{embeddedWallets:a},environmentId:r});return Ii(l)}catch(l){yield Wd(l,"[createTurnkeyEmbeddedWallet] Error creating embedded wallet");return}}),lD=e=>de(void 0,[e],void 0,function*({authenticatorType:t,walletId:n,publicKey:r,environmentId:i}){return t==="passkey"?cn().initPasskeyRecovery({environmentId:i,initPasskeyRecoveryRequest:{turnkeyRecoveryTargetPublicKey:r,walletId:n}}):cn().initEmailAuth({environmentId:i,initEmailAuthRequest:{turnkeyEmailAuthTargetPublicKey:r,walletId:n}})}),wle=e=>de(void 0,[e],void 0,function*({walletId:t,attestation:n,challenge:r,environmentId:i}){try{const o=yield cn().completePasskeyRecovery({completePasskeyRecoveryRequest:{attestation:n,challenge:r,walletId:t},environmentId:i});return Ii(o)}catch(o){yield Wd(o,"Error completing passkey recovery");return}}),kDe=e=>de(void 0,[e],void 0,function*({environmentId:t,updateRecoveryEmailRequest:n}){try{yield cn().updateEmbeddedWalletRecoveryEmail({environmentId:t,updateRecoveryEmailRequest:n})}catch(r){throw yield Wd(r,"Error while trying to update recovery email"),new Se("Error updating recovery email")}}),ble=e=>de(void 0,[e],void 0,function*({environmentId:t}){try{return yield cn().getUserPasskeys({environmentId:t})}catch(n){return yield Wd(n,"Error getting user passkeys"),{count:0,passkeys:[]}}}),SDe=e=>de(void 0,[e],void 0,function*({environmentId:t,id:n,alias:r}){try{return yield cn().updatePasskey({environmentId:t,updateUserPasskeyRequest:{alias:r,id:n}})}catch(i){yield Wd(i,"Error updating user passkeys",{alias:r,id:n});return}}),IDe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n,activityId:r}){try{return yield cn().embeddedWalletExport({activityId:r,environmentId:t,walletId:n})}catch(i){return yield Wd(i,"Error exporting embedded wallet",{activityId:r,walletId:n}),{exportBundle:""}}}),EDe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n,publicKey:r,prevSessionKeySignature:i}){let o;try{const{nonce:s,nonceSignature:a,publicKey:l}=yield a7e({environmentId:t});o=yield cn({customHeaders:{[bDe]:s,[_De]:a,[wDe]:l}}).registerSessionKey({environmentId:t,registerSessionKeyRequest:{prevSessionKeySignature:i,publicKey:r,walletId:n}})}catch(s){if(s instanceof Response){const a=yield zI.fromResponse({cause:s,message:"Error register session key"});throw Ie.error(a,{prevSessionKeySignature:i,publicKey:r}),Br.logEvent("session-key","Error registering session key",Br.formatObject({prevSessionKeySignature:i,publicKey:r,walletId:n})),Ln.isNativeMobile&&Ie.instrument(Br.packScopes()),a.response.status===422&&a.json.code===zb.InvalidSessionPublicKey?new qie(a.json.error):a}else Ie.error(s);throw s}return o}),CDe=e=>de(void 0,[e],void 0,function*({environmentId:t,chain:n}){try{return yield cn().getCreateWalletAccountRequest({chain:n,environmentId:t})}catch(r){throw yield Wd(r,"Error fetching create embedded wallet account request",{chain:n}),new Se("Error fetching create embedded wallet account request")}}),ADe=e=>de(void 0,[e],void 0,function*({environmentId:t,createEmbeddedWalletAccountRequest:n}){try{return yield cn().createWalletAccount({createWalletAccountRequest:{turnkeySignedRequest:n},environmentId:t})}catch(r){throw yield Wd(r,"[createEmbeddedWalletAccount] Error creating embedded wallet account",{createEmbeddedWalletAccountRequest:n}),new Se("[createEmbeddedWalletAccount] Error creating embedded wallet account")}}),RDe=e=>de(void 0,[e],void 0,function*({environmentId:t,walletId:n}){try{return yield cn().getEmbeddedWalletsDeleteRequest({environmentId:t,walletId:n})}catch(r){throw yield Wd(r,"Error fetching delete embedded wallet request"),new Se("Error fetching delete embedded wallets request")}}),TDe=e=>de(void 0,[e],void 0,function*({environmentId:t,deleteEmbeddedWalletsRequest:n}){try{return yield cn().deleteEmbeddedWallets({deleteEmbeddedWalletsRequest:{turnkeySignedRequest:n},environmentId:t})}catch(r){throw yield Wd(r,"Error deleting embedded wallets",{deleteEmbeddedWalletsRequest:n}),new Se("Error deleting embedded wallets")}}),Wd=(e,t,n)=>de(void 0,void 0,void 0,function*(){if(e instanceof Response){const r=yield zI.fromResponse({cause:e,message:t});Ie.error(r,n)}else Ie.error(e,n)}),p_=e=>{var t;return((t=e.scope)===null||t===void 0?void 0:t.includes("requiresAdditionalAuth"))||e.mfaBackupCodeAcknowledgement===zu.Pending},ODe=e=>{var t;return!!(!((t=e.missingFields)===null||t===void 0)&&t.length)||p_(e)},m_=()=>s3("user"),y3=()=>{const e=m_();return x.useMemo(()=>e?Vm(e):void 0,[e])},iv=()=>{const e=x.useRef(!1),t=m_();if(!t){e.current=!1;return}if(!(!e.current&&ODe(t)))return e.current=!0,t},cD=()=>{const e=iv();return x.useMemo(()=>e?Vm(e):void 0,[e])},v3=(e,t)=>{var n;const r=t==null?void 0:t.find(({id:o})=>o===e);if(!r)throw new Error("Dynamic v2 wallet not found");let i;if(!((n=r==null?void 0:r.walletName)===null||n===void 0)&&n.startsWith("turnkey")?i=r==null?void 0:r.id:r!=null&&r.signerRefId&&(i=r==null?void 0:r.signerRefId),!i)throw new Error("Invalid wallet type: expecting 'turnkey' wallet, or a wallet with a 'signerRefId'");return i},_le=()=>de(void 0,void 0,void 0,function*(){const{private:e,public:t,privateJwk:n}=yield Aae();return{privateKey:e,privateKeyJwk:n,publicKey:t,registered:!1}}),FK=()=>de(void 0,void 0,void 0,function*(){const e=yield _le();return ot.setItem(QPe,YM(e.publicKey,e.privateKey,e.privateKeyJwk,e.registered),e7e),e}),Km=({environmentId:e,projectSettings:t})=>{const n=cD(),r=x.useCallback(()=>{const d=ot.getItem(C2,A2);return d?JSON.parse(Buffer.from(d,"base64").toString()):void 0},[]),i=x.useCallback(d=>de(void 0,[d],void 0,function*({walletId:u,environmentId:h,privateKey:m,privateKeyJwk:v,publicKey:y,prevSessionKeySignature:g,user:b}){let k;const _=v3(u,b.verifiedCredentials);try{k=yield EDe({environmentId:h,prevSessionKeySignature:g,publicKey:y,walletId:_})}catch(I){throw I instanceof qie&&(Jn.warn("Invalid embedded wallet session key. Re-authentication is required to create new session keys."),rt.emit("triggerLogout")),Jn.error("Error registering session key",{error:I}),I}const R=new Date(k.expiresAt*1e3);return Br.logEvent("session-key","Created new session key",Br.formatObject({expirationDate:R,publicKey:y})),ot.setItem(C2,YM(y,m,v,!0,R),A2),{expirationDate:R,privateKey:m,publicKey:y}}),[]),o=x.useCallback(d=>de(void 0,[d],void 0,function*({ignoreRestore:u=!1,walletId:h}){if(!n)throw new Error("User not found");let m=r();Br.logEvent("session-key","registerEmbeddedWalletSessionKey",Br.formatObject({hasDecodedSessionKeys:!!m,publicKey:m==null?void 0:m.publicKey})),m||(Jn.error("Session keys not found in storage. Generating new session keys.",{userId:n==null?void 0:n.userId}),m=yield FK());const v=m.registered&&m.expirationDate&&new Date<=new Date(m.expirationDate)&&!u;if(Br.logEvent("session-key","isSessionKeyValid",Br.formatObject({isSessionKeyValid:!!v})),v)return m;Br.logEvent("session-key","decodedSessionKeys",Br.formatObject({publicKey:m.publicKey,registered:m.registered}));let y,g,b,k;return m.registered?(k=yield SS(m.privateKeyJwk,n.sessionId),{publicKey:y,privateKey:g,privateKeyJwk:b}=yield _le(),Br.logEvent("session-key","Loaded prevSessionKeySignature",Br.formatObject({prevSessionKeySignature:k,publicKey:y}))):{publicKey:y,privateKey:g,privateKeyJwk:b}=m,i({environmentId:e,prevSessionKeySignature:k,privateKey:g,privateKeyJwk:b,publicKey:y,user:n,walletId:h})}),[e,r,i,n]),s=x.useCallback(()=>{const d=r();if(!(d!=null&&d.publicKey))throw Br.logEvent("session-key","getSessionPublicKey","Could not find session keys."),new Error("Could not find session keys.");return Br.logEvent("session-key","getSessionPublicKey",Br.formatObject({publicKey:d==null?void 0:d.publicKey})),d==null?void 0:d.publicKey},[r]),a=x.useCallback(()=>!0,[]),l=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const d=n==null?void 0:n.sessionId;if(!d)throw new Error("Session ID not found");const u=r();if(!(u!=null&&u.privateKeyJwk))throw new Error("Private key JWK not found");return yield SS(u.privateKeyJwk,d)}),[r,n==null?void 0:n.sessionId]),c=x.useCallback(()=>{Br.logEvent("session-key","removeSessionKey"),ot.removeItem(C2,A2)},[]);return{generateSessionKey:FK,getSessionPublicKey:s,getSignedSessionId:l,registerEmbeddedWalletSessionKey:o,removeSessionKey:c,shouldRegisterSessionKeysOnSignin:a}},xle=x.createContext(void 0),NDe=({children:e})=>{const[t,n]=x.useState(!1),r=x.useMemo(()=>({isLoadingEmbeddedWallet:t,setIsLoadingEmbeddedWallet:n}),[t]);return f.jsx(xle.Provider,{value:r,children:e})},w3=()=>{const e=x.useContext(xle);if(e===void 0)throw new Error("usage of useWalletContext not wrapped in `WalletContextProvider`.");return e},WK="dyn-secure-enclave-container-id",qK="dyn-secure-enclave-element-id",PDe="dyn-secure-enclave-export-container-id",zK="dyn-secure-enclave-export-element-id";var n1;(function(e){e.V1="V1",e.V2="V2"})(n1||(n1={}));const kle=x.createContext(void 0),BDe=({children:e})=>{const{view:t}=At(),[n,r]=x.useState(!1);x.useEffect(()=>{r(!1)},[t]);const i=x.useMemo(()=>({isFooterExpanded:n,setIsFooterExpanded:r}),[n]);return f.jsx(kle.Provider,{value:i,children:f.jsx("div",{children:e})})},b3=()=>{const e=x.useContext(kle);if(!e)throw new Error("Can only call useFooterAnimationContext inside FooterAnimationContextProvider");return e};var VK,MDe=["title","titleId"];function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LO.apply(null,arguments)}function DDe(e,t){if(e==null)return{};var n,r,i=jDe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jDe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Jh=function(t){var n=t.title,r=t.titleId,i=DDe(t,MDe);return x.createElement("svg",LO({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,VK||(VK=x.createElement("path",{d:"M9.99 0C4.47 0 0 4.48 0 10s4.47 10 9.99 10C15.52 20 20 15.52 20 10S15.52 0 9.99 0ZM10 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Zm-1-5h2v2H9v-2Zm0-8h2v6H9V5Z",fill:"currentcolor"})))};const Nt=({children:e,className:t="",color:n,size:r})=>{const i=Ke(t,n?`icon--color-${n}`:"",r?`icon--size-${r}`:"");return x.cloneElement(e,{className:i})},se=e=>{var{as:t="p",variant:n,weight:r,color:i="primary",transform:o,className:s="",truncate:a=!1,style:l}=e,c=bs(e,["as","variant","weight","color","transform","className","truncate","style"]);const d={body_mini:"typography--body-mini",body_normal:"typography--body-normal",body_small:"typography--body-small",button_primary:"typography--button-primary",button_secondary:"typography--button-secondary",button_tertiary:"typography--button-tertiary",numbers_big:"typography--numbers-big",numbers_display:"typography--numbers-display",numbers_medium:"typography--numbers-medium",title:"typography--title"},u={bold:"typography--bold",medium:"typography--medium",regular:"typography--regular"},h={"alert-1":"typography--alert-1","brand-primary":"typography--brand-primary","current-color":"typography--current-color","error-1":"typography--dynamic-error-1","error-2":"typography--dynamic-error-2","green-1":"typography--connection-green-1",inherit:"typography--inherit",link:"typography--link",primary:"typography--primary",secondary:"typography--secondary",tertiary:"typography--tertiary",tooltip:"typography--tooltip",white:"typography--white"},m={uppercase:"typography--uppercase"},v=Ke("typography",n?d[n]:"",r?u[r]:"",i?h[i]:"",o?m[o]:"",{"typography--truncate":a},s);return f.jsx(t,Object.assign({style:l,className:v},c))},$De=({content:e,contentDataTestId:t})=>typeof e=="string"?f.jsx(se,{variant:"body_small",color:"current-color","data-testid":t,children:e}):f.jsx(f.Fragment,{children:e}),LDe={error:f.jsx(Jh,{})},tc=({children:e,icon:t,variant:n="error",contentDataTestId:r,className:i=""})=>f.jsxs("div",{className:Ke("alert",`alert--${n}`,i,{"alert--with-icon":!!t}),children:[t&&f.jsx(Nt,{size:"small",className:"alert__icon",children:typeof t=="string"?LDe[t]:t}),f.jsx($De,{content:e,contentDataTestId:r})]}),Sle=x.createContext(void 0),UDe=({children:e})=>{const t=x.useRef();return f.jsx(Sle.Provider,{value:{selectedPhoneCountry:t},children:e})},dD=()=>{const e=x.useContext(Sle);if(!e)throw new Se("Can only call useFieldsState inside FieldsStateProvider");return e},FDe=/^(\+[1-9]\d{1,14})?$/,uD="name-service-subdomain-handle",Ile=(e,t)=>o_({dialCode:t.dialCode,phone:e}).length>0,Ele={checkbox:ple(),select:Ar(),text:Ar()},fD=()=>{const{t:e}=Xe(),{selectedPhoneCountry:t}=dD();return{fieldsConfig:x.useMemo(()=>({alias:{key:"dyn_collect_user_data.fields.alias.label",label:e("dyn_collect_user_data.fields.alias.label"),type:"string",validation:Ar().trim()},country:{key:"dyn_collect_user_data.fields.country.label",label:e("dyn_collect_user_data.fields.country.label"),type:"select",validation:Ar().oneOf(DM.map(r=>r.code))},email:{autoComplete:"email",key:"dyn_collect_user_data.fields.email.label",label:e("dyn_collect_user_data.fields.email.label"),type:"email",validation:Ar().email(e("dyn_collect_user_data.fields.email.validation"))},firstName:{key:"dyn_collect_user_data.fields.first_name.label",label:e("dyn_collect_user_data.fields.first_name.label"),type:"string",validation:Ar().trim()},jobTitle:{key:"dyn_collect_user_data.fields.job_title.label",label:e("dyn_collect_user_data.fields.job_title.label"),type:"string",validation:Ar().trim()},lastName:{key:"dyn_collect_user_data.fields.last_name.label",label:e("dyn_collect_user_data.fields.last_name.label"),type:"string",validation:Ar().trim()},phoneNumber:{key:"dyn_collect_user_data.fields.phone_number.label",label:e("dyn_collect_user_data.fields.phone_number.label"),type:"string",validation:Ar().test("length",e("dyn_collect_user_data.fields.phone_number.too_short"),r=>t.current?r===void 0||r.length===0||Ile(r,t.current):!0).matches(FDe,e("dyn_collect_user_data.fields.phone_number.validation"))},policiesConsent:{key:"dyn_collect_user_data.fields.policies_consent.label",label:e("dyn_collect_user_data.fields.policies_consent.label"),type:"boolean",validation:pb()},tShirtSize:{key:"dyn_collect_user_data.fields.t_shirt_size.label",label:e("dyn_collect_user_data.fields.t_shirt_size.label"),type:"select",validation:Ar().oneOf(MM)},team:{key:"dyn_collect_user_data.fields.team.label",label:e("dyn_collect_user_data.fields.team.label"),type:"select",validation:Ar().oneOf(jM)},username:{key:"dyn_collect_user_data.fields.username.label",label:e("dyn_collect_user_data.fields.username.label"),type:"string",validation:Ar().matches(/^(?!.*([$!#%?])\1)[A-Za-z0-9$!#%?_-]{3,20}$/,e("dyn_collect_user_data.fields.username.validation"))}}),[t,e])}},hD=Vc("walletOptions"),{getWalletOptions:_3,useWalletOptions:Cle}=hD,x3=()=>_3().walletConnectorOptions,pD=()=>Cle().walletConnectorOptions,WDe=e=>{const t=_3();hD.setWalletOptions(Object.assign(Object.assign({},t),{walletConnectorOptions:e}))},qDe=()=>_3().groups,Hm=()=>Cle().groups,zDe=e=>{const t=_3();hD.setWalletOptions(Object.assign(Object.assign({},t),{groups:e}))},VDe=e=>{const t=qDe(),n=Object.assign(Object.assign({},t),e);zDe(n)},Ale=e=>{const t=x3(),n=o=>`${o.key}-${o.walletConnector.connectedChain}`,r=new Map(t.map(o=>[n(o),o]));e.forEach(o=>{r.set(n(o),o)});const i=Array.from(r.values());WDe(i)},g_=typeof window<"u"?x.useLayoutEffect:x.useEffect,Sn=x.forwardRef((e,t)=>{var{className:n="",color:r}=e,i=bs(e,["className","color"]);return f.jsx("button",Object.assign({},i,{className:Ke("icon-button",n),ref:t}))});Sn.displayName="IconButton";const KDe=x.forwardRef(({children:e,className:t,dataTestId:n},r)=>f.jsx("div",{ref:r,"data-testid":n,className:Ke("inline-widget",t),children:e}));KDe.displayName="InlineWidget";const Sl=x.forwardRef((e,t)=>{var{className:n="",id:r,label:i,type:o,onChange:s,onBlur:a,name:l,value:c,optional:d,error:u=!1,success:h=!1,disabled:m,message:v,placeholder:y,variant:g="dense",suffix:b,containerClassName:k}=e,_=bs(e,["className","id","label","type","onChange","onBlur","name","value","optional","error","success","disabled","message","placeholder","variant","suffix","containerClassName"]);return f.jsxs("div",{className:Ke("input__container",k,{"input__container--dense":g==="dense","input__container--regular":g==="regular"}),children:[f.jsx("input",Object.assign({},_,{name:l,value:c,onChange:s,onBlur:a,type:o,id:r,placeholder:g==="regular"||!i?y:i,disabled:m,className:Ke("input",n,{"input--no-label":!i,input__error:u,input__has_trailing:d,input__success:h}),ref:t})),i&&f.jsx("label",{htmlFor:r,className:Ke("input__label"),children:i}),b&&f.jsx("div",{className:Ke("input__suffix"),children:b}),d&&f.jsx("span",{className:"input__trailing",children:"Optional"}),!!v&&f.jsx(se,{variant:"body_mini",className:Ke("input__message",{input__message__error:u,input__message__success:h}),children:v})]})});Sl.displayName="Input";const KK=x.createContext(!1),UO=({children:e})=>{const t=x.useContext(KK),[n,r]=x.useState(!1);return x.useEffect(()=>{r(!0)},[]),n||t?f.jsx(KK.Provider,{value:!0,children:e}):f.jsx(f.Fragment,{})},mD=(e,t)=>{const n=x.useRef(t);n.current=t,x.useEffect(()=>{if(!e)return;const r=i=>{i.stopPropagation();const o=i.composedPath().shift(),s="current"in e?e.current:e;!s||s.contains(i.currentTarget)||s.contains(o)||n.current(i)};return document.addEventListener("touchstart",r),document.addEventListener("click",r),()=>{document.removeEventListener("touchstart",r),document.removeEventListener("click",r)}},[e])},HDe=e=>{const t=x.useRef(null);return x.useEffect(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)},[e,t]),t},PR=(e,t)=>{const n=performance.now(),r={id:-1},i=()=>{r.id=requestAnimationFrame(o=>{o-n>t?e():i()})};return i(),r},HK=e=>{e.id&&cancelAnimationFrame(e.id)},GDe=()=>{const e=x.useRef(!0);return x.useEffect(()=>{e.current&&(e.current=!1)},[]),e.current},JDe=(e,t)=>{const n=GDe();x.useEffect(()=>{if(!n)return e()},t)},ZDe=(e,t)=>{const n={ENTERED:t==null?void 0:t.onEntered,ENTERING:t==null?void 0:t.onEntering,EXITING:t==null?void 0:t.onExiting,UNMOUNT:t==null?void 0:t.onUnmount};return JDe(()=>{var r;return(r=n[e])===null||r===void 0||r.call(n),()=>{var i;e==="EXITING"&&((i=n.UNMOUNT)===null||i===void 0||i.call(n))}},[e])},YDe=100,y_=e=>{var{isShown:t,inDuration:n,outDuration:r,duration:i=YDe,delay:o,inDelay:s,outDelay:a,animateOnMount:l=!0}=e,c=bs(e,["isShown","inDuration","outDuration","duration","delay","inDelay","outDelay","animateOnMount"]);const d=l?"UNMOUNT":"ENTERED",u=x.useRef({id:-1}),h=x.useRef({id:-1}),[m,v]=x.useState(d),[y,g]=x.useState(!l),[b,k]=x.useState(i),_=(T,D)=>{D?h.current=PR(T,D):T()},R=x.useCallback(()=>{const T=n||i;k(T),g(!0),v("ENTERING"),u.current=PR(()=>{v("ENTERED")},T)},[i,n]),I=x.useCallback(()=>{const T=r||i;k(T),v("EXITING"),u.current=PR(()=>{g(!1),v("UNMOUNT")},T)},[i,r]);return x.useEffect(()=>(t&&m!=="ENTERED"?_(R,s||o):!t&&m!=="UNMOUNT"&&_(I,a||o),()=>{HK(u.current),HK(h.current)}),[s,a,R,I,t,o,m]),ZDe(m,c),{currentDuration:b,mount:y,stage:m}},XDe={"bottom-left":"popper-content__transform-origin-bottom-left","bottom-right":"popper-content__transform-origin-bottom-right","top-left":"popper-content__transform-origin-top-left","top-right":"popper-content__transform-origin-top-right"},Rle=x.forwardRef(({children:e,transformOrigin:t,style:n,className:r},i)=>f.jsx("div",{"data-testid":"popper-content",ref:i,className:Ke("popper-content",XDe[t],r),style:n,children:e}));Rle.displayName="PopperContent";const Tle=x.createContext(void 0),gD=({children:e,className:t,style:n})=>{const{Provider:r}=Tle,i=x.useRef(null);return f.jsx(r,{value:{containerRef:i},children:f.jsx("div",{ref:i,style:Object.assign({position:"relative"},n),className:t,children:e})})},Ole=()=>{const e=x.useContext(Tle);if(!e)throw new Error("To use popper, use the PopperProvider above in the dom hierarchy");return e},QDe=(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{left:r.x-n.x,top:r.y-n.y}},Nle=x.forwardRef(({anchorRef:e,anchorOrigin:t="top-left",transformOrigin:n="top-left",children:r,style:i,className:o},s)=>{const{containerRef:a}=Ole(),[l,c]=x.useState(),d=a.current;x.useEffect(()=>{const h=a.current,m=e.current;!h||!m||c(QDe(h,m))},[e,a,c]);const u=x.useMemo(()=>{var h;const m=(h=e.current)===null||h===void 0?void 0:h.getBoundingClientRect();if(!(!l||!m))switch(t){case"top-left":return l;case"top-right":return Object.assign(Object.assign({},l),{left:l.left+m.width});case"bottom-left":return Object.assign(Object.assign({},l),{top:l.top+m.height});case"bottom-right":return Object.assign(Object.assign({},l),{left:l.left+m.width,top:l.top+m.height});default:return}},[l,e,t]);return!u||d===null?null:bm.createPortal(f.jsx(Rle,{ref:s,transformOrigin:n,style:Object.assign(Object.assign({},u),i),className:o,children:r}),d)});Nle.displayName="Popper";const eje=e=>{const t=e.scrollHeight>e.clientHeight,r=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!r},tje=(e,t,n)=>{const r=[];let i=t;for(;i!==null;){const o=i===e;if(eje(i)&&(i.addEventListener("scroll",n),r.push(i)),i=i.parentElement,o)break}return()=>r.forEach(o=>o.removeEventListener("scroll",n))},nje=300,rje=300,k3=x.forwardRef((e,t)=>{var{children:n,isOpen:r,onClickOutside:i,onScroll:o,className:s,style:a,maxHeight:l=300}=e,c=bs(e,["children","isOpen","onClickOutside","onScroll","className","style","maxHeight"]);const{containerRef:d}=Ole(),u=HDe(t);mD(u,()=>i==null?void 0:i()),x.useEffect(()=>{if(!(!d.current||!c.anchorRef.current))return tje(d.current,c.anchorRef.current,()=>o==null?void 0:o())},[d,c.anchorRef,o]);const{mount:h,stage:m,currentDuration:v}=y_({inDuration:nje,isShown:r,outDuration:rje}),y=Ke({"dropdown--entering":m==="ENTERING","dropdown--exiting":m==="EXITING"});return h?f.jsx(Nle,Object.assign({},c,{ref:u,children:f.jsx("div",{className:Ke("dropdown",y,s),style:Object.assign({"--max-height":`${l}px`,animationDuration:`${v}ms`},a),children:n})})):null});k3.displayName="Dropdown";const ov=e=>{const t=()=>{var r;const i=document.querySelector("html"),o=document.querySelector("body");if(!i||!o)return;const s=(r=window==null?void 0:window.screen)===null||r===void 0?void 0:r.height;!(o.scrollHeight>s)||s===0||(i.classList.add("dynamic-no-scroll"),o.classList.add("dynamic-no-scroll"))},n=r=>{const i=document.querySelector("html"),o=document.querySelector("body");!i||!o||(i.classList.remove("dynamic-no-scroll"),o.classList.remove("dynamic-no-scroll"),KI()&&window.scrollTo(r.x,r.y))};x.useEffect(()=>{if(!e)return;const r={x:window.scrollX,y:window.scrollY};return t(),()=>{n(r)}},[e])},ije="cubic-bezier(0, 0, 0.24, 1.0)",GK=300,Ple=()=>{const[,e]=x.useState(0);return()=>e(t=>t+1)},oje=e=>{const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current},sje=e=>({transition:`transform ${e}ms linear, opacity ${e}ms linear`}),aje={ENTERED:{opacity:"1",transform:"scale(1)"},ENTERING:{opacity:"0",transform:"scale(0.9)"},EXITING:{opacity:"0",transform:"scale(1.1)"}},lje=e=>{var{children:t,className:n}=e,r=bs(e,["children","className"]);const{mount:i,stage:o,currentDuration:s}=y_(r),a=sje(s),l=aje[o];return i?f.jsx("div",{className:Ke(n,"zoom-transition__root"),style:Object.assign(Object.assign({},a),l),children:t}):null};Vt.memo(lje);const cje=(e,t=ije)=>({transition:`transform ${e}ms ${t}, opacity ${e}ms ${t}`}),dje={ENTERED:{transform:"translateY(0)"},ENTERING:{transform:"translateY(50vh)"},EXITING:{transform:"translateY(50vh)"}},uje=e=>{var{children:t,className:n,easingFunction:r}=e,i=bs(e,["children","className","easingFunction"]);const{mount:o,stage:s,currentDuration:a}=y_(i),l=cje(a,r),c=dje[s];return o?f.jsx("div",{className:n,style:Object.assign(Object.assign({},l),c),children:t}):null},fje=Vt.memo(uje),hje=e=>({transition:`opacity ${e}ms linear`}),pje={ENTERED:{opacity:1},ENTERING:{opacity:0},EXITING:{opacity:0},UNMOUNT:{opacity:0}},mje=e=>{var{children:t,style:n,className:r}=e,i=bs(e,["children","style","className"]);const{mount:o,stage:s,currentDuration:a}=y_(i),l=hje(a),c=pje[s];return o?f.jsx("div",{className:r,style:Object.assign(Object.assign(Object.assign({},l),c),n),children:t}):null},v_=Vt.memo(mje),Lr=({children:e,className:t,isMultiWalletError:n=!1,withIcon:r=!0,variant:i="error",copykey:o})=>{const s=Ke("error-container",`error-container--${i}`,t,{"error-container--multi-wallet":n}),a=Ke("error",{"error--with-icon":r});return f.jsxs("div",{className:s,"data-testid":`error-container--${i}`,children:[r&&f.jsx(Jh,{}),f.jsx(se,{variant:"body_small",className:a,copykey:o,children:e})]})};function gje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FO="data-focus-lock",Ble="data-focus-lock-disabled",yje="data-no-focus-lock",vje="data-autofocus-inside",wje="data-no-autofocus";function BR(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bje(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var _je=typeof window<"u"?x.useLayoutEffect:x.useEffect,JK=new WeakMap;function xje(e,t){var n=bje(null,function(r){return e.forEach(function(i){return BR(i,r)})});return _je(function(){var r=JK.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||BR(a,null)}),o.forEach(function(a){i.has(a)||BR(a,s)})}JK.set(n,e)},[e]),n}var MR={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},WO=function(){return WO=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},WO.apply(this,arguments)};function Mle(e){return e}function Dle(e,t){t===void 0&&(t=Mle);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function yD(e,t){return t===void 0&&(t=Mle),Dle(e,t)}function kje(e){e===void 0&&(e={});var t=Dle(null);return t.options=WO({async:!0,ssr:!1},e),t}var jle=yD({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),$le=yD(),Sje=yD(),Ije=kje({async:!0,ssr:typeof document<"u"}),Eje=x.createContext(void 0),Cje=[],vD=x.forwardRef(function(t,n){var r,i=x.useState(),o=i[0],s=i[1],a=x.useRef(),l=x.useRef(!1),c=x.useRef(null),d=x.useState({}),u=d[1],h=t.children,m=t.disabled,v=m===void 0?!1:m,y=t.noFocusGuards,g=y===void 0?!1:y,b=t.persistentFocus,k=b===void 0?!1:b,_=t.crossFrame,R=_===void 0?!0:_,I=t.autoFocus,T=I===void 0?!0:I;t.allowTextSelection;var D=t.group,M=t.className,C=t.whiteList,U=t.hasPositiveIndices,$=t.shards,z=$===void 0?Cje:$,q=t.as,S=q===void 0?"div":q,A=t.lockProps,O=A===void 0?{}:A,N=t.sideCar,j=t.returnFocus,V=j===void 0?!1:j,K=t.focusOptions,W=t.onActivation,P=t.onDeactivation,F=x.useState({}),G=F[0],Y=x.useCallback(function(Xt){var lt=Xt.captureFocusRestore;if(!c.current){var jt,rn=(jt=document)==null?void 0:jt.activeElement;c.current=rn,rn!==document.body&&(c.current=lt(rn))}a.current&&W&&W(a.current),l.current=!0,u()},[W]),ie=x.useCallback(function(){l.current=!1,P&&P(a.current),u()},[P]),ye=x.useCallback(function(Xt){var lt=c.current;if(lt){var jt=(typeof lt=="function"?lt():lt)||document.body,rn=typeof V=="function"?V(jt):V;if(rn){var Re=typeof rn=="object"?rn:void 0;c.current=null,Xt?Promise.resolve().then(function(){return jt.focus(Re)}):jt.focus(Re)}}},[V]),ge=x.useCallback(function(Xt){l.current&&jle.useMedium(Xt)},[]),be=$le.useMedium,Le=x.useCallback(function(Xt){a.current!==Xt&&(a.current=Xt,s(Xt))},[]),qe=Zb((r={},r[Ble]=v&&"disabled",r[FO]=D,r),O),Me=g!==!0,gt=Me&&g!=="tail",tt=xje([n,Le]),dt=x.useMemo(function(){return{observed:a,shards:z,enabled:!v,active:l.current}},[v,l.current,z,o]);return Vt.createElement(x.Fragment,null,Me&&[Vt.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:MR}),U?Vt.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:MR}):null],!v&&Vt.createElement(N,{id:G,sideCar:Ije,observed:o,disabled:v,persistentFocus:k,crossFrame:R,autoFocus:T,whiteList:C,shards:z,onActivation:Y,onDeactivation:ie,returnFocus:ye,focusOptions:K,noFocusGuards:g}),Vt.createElement(S,Zb({ref:tt},qe,{className:M,onBlur:be,onFocus:ge}),Vt.createElement(Eje.Provider,{value:dt},h)),gt&&Vt.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:MR}))});vD.propTypes={};function qO(e,t){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},qO(e,t)}function Lle(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qO(e,t)}function r1(e){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(e)}function Aje(e,t){if(r1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(r1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rje(e){var t=Aje(e,"string");return r1(t)=="symbol"?t:t+""}function Tje(e,t,n){return(t=Rje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oje(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],s;function a(){s=e(o.map(function(c){return c.props})),t(s)}var l=(function(c){Lle(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return s};var u=d.prototype;return u.componentDidMount=function(){o.push(this),a()},u.componentDidUpdate=function(){a()},u.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),a()},u.render=function(){return Vt.createElement(i,this.props)},d})(x.PureComponent);return Tje(l,"displayName","SideEffect("+n(i)+")"),l}}var qd=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},_m=function(e){return Array.isArray(e)?e:[e]},Ule=function(e){return Array.isArray(e)?e[0]:e},Nje=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Fle=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Wle=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Pje=function(e){return e.hasAttribute("inert")},Bje=function(e,t){return!e||Wle(e)||!Nje(e)&&!Pje(e)&&t(Fle(e))},qle=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Bje(t,qle.bind(void 0,e));return e.set(t,r),r},Mje=function(e,t){return e&&!Wle(e)?$je(e)?t(Fle(e)):!1:!0},zle=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Mje(t,zle.bind(void 0,e));return e.set(t,r),r},Vle=function(e){return e.dataset},Dje=function(e){return e.tagName==="BUTTON"},Kle=function(e){return e.tagName==="INPUT"},Hle=function(e){return Kle(e)&&e.type==="radio"},jje=function(e){return!((Kle(e)||Dje(e))&&(e.type==="hidden"||e.disabled))},$je=function(e){var t=e.getAttribute(wje);return![!0,"true",""].includes(t)},wD=function(e){var t;return!!(e&&(!((t=Vle(e))===null||t===void 0)&&t.focusGuard))},zO=function(e){return!wD(e)},Lje=function(e){return!!e},Uje=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},Fje=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},bD=function(e,t,n){return qd(e).map(function(r,i){var o=Fje(r);return{node:r,index:i,tabIndex:n&&o===-1?(r.dataset||{}).focusGuard?0:-1:o}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Uje)},Wje=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],_D=Wje.join(","),qje="".concat(_D,", [data-focus-guard]"),Gle=function(e,t){return qd((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?qje:_D)?[r]:[],Gle(r))},[])},zje=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?_0([e.contentDocument.body],t):[e]},_0=function(e,t){return e.reduce(function(n,r){var i,o=Gle(r,t),s=(i=[]).concat.apply(i,o.map(function(a){return zje(a,t)}));return n.concat(s,r.parentNode?qd(r.parentNode.querySelectorAll(_D)).filter(function(a){return a===r}):[])},[])},Vje=function(e){var t=e.querySelectorAll("[".concat(vje,"]"));return qd(t).map(function(n){return _0([n])}).reduce(function(n,r){return n.concat(r)},[])},xD=function(e,t){return qd(e).filter(function(n){return qle(t,n)}).filter(function(n){return jje(n)})},ZK=function(e,t){return t===void 0&&(t=new Map),qd(e).filter(function(n){return zle(t,n)})},kD=function(e,t,n){return bD(xD(_0(e,n),t),!0,n)},i1=function(e,t){return bD(xD(_0(e),t),!1)},Kje=function(e,t){return xD(Vje(e),t)},lm=function(e,t){return e.shadowRoot?lm(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:qd(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?lm(i,t):!1}return lm(n,t)})},Hje=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},Jle=function(e){return e.parentNode?Jle(e.parentNode):e},SD=function(e){var t=_m(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(FO);return n.push.apply(n,i?Hje(qd(Jle(r).querySelectorAll("[".concat(FO,'="').concat(i,'"]:not([').concat(Ble,'="disabled"])')))):[r]),n},[])},Gje=function(e){try{return e()}catch{return}},o1=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?o1(t.shadowRoot):t instanceof HTMLIFrameElement&&Gje(function(){return t.contentWindow.document})?o1(t.contentWindow.document):t}},Jje=function(e,t){return e===t},Zje=function(e,t){return!!qd(e.querySelectorAll("iframe")).some(function(n){return Jje(n,t)})},Zle=function(e,t){return t===void 0&&(t=o1(Ule(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:SD(e).some(function(n){return lm(n,t)||Zje(n,t)})},Yje=function(e){e===void 0&&(e=document);var t=o1(e);return t?qd(e.querySelectorAll("[".concat(yje,"]"))).some(function(n){return lm(n,t)}):!1},Xje=function(e,t){return t.filter(Hle).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},ID=function(e,t){return Hle(e)&&e.name?Xje(e,t):e},Qje=function(e){var t=new Set;return e.forEach(function(n){return t.add(ID(n,e))}),e.filter(function(n){return t.has(n)})},YK=function(e){return e[0]&&e.length>1?ID(e[0],e):e[0]},XK=function(e,t){return e.indexOf(ID(t,e))},VO="NEW_FOCUS",e9e=function(e,t,n,r,i){var o=e.length,s=e[0],a=e[o-1],l=wD(r);if(!(r&&e.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,d=i?n.indexOf(i):c,u=i?e.indexOf(i):-1;if(c===-1)return u!==-1?u:VO;if(u===-1)return VO;var h=c-d,m=n.indexOf(s),v=n.indexOf(a),y=Qje(n),g=r!==void 0?y.indexOf(r):-1,b=i?y.indexOf(i):g,k=y.filter(function(M){return M.tabIndex>=0}),_=r!==void 0?k.indexOf(r):-1,R=i?k.indexOf(i):_,I=_>=0&&R>=0?R-_:b-g;if(!h&&u>=0||t.length===0)return u;var T=XK(e,t[0]),D=XK(e,t[t.length-1]);if(c<=m&&l&&Math.abs(h)>1)return D;if(c>=v&&l&&Math.abs(h)>1)return T;if(h&&Math.abs(I)>1)return u;if(c<=m)return D;if(c>v)return T;if(h)return Math.abs(h)>1?u:(o+u+h)%o}},t9e=function(e){return function(t){var n,r=(n=Vle(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},QK=function(e,t,n){var r=e.map(function(o){var s=o.node;return s}),i=ZK(r.filter(t9e(n)));return i&&i.length?YK(i):YK(ZK(t))},KO=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&KO(e.parentNode.host||e.parentNode,t),t},DR=function(e,t){for(var n=KO(e),r=KO(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},Yle=function(e,t,n){var r=_m(e),i=_m(t),o=r[0],s=!1;return i.filter(Boolean).forEach(function(a){s=DR(s||a,a)||s,n.filter(Boolean).forEach(function(l){var c=DR(o,l);c&&(!s||lm(c,s)?s=c:s=DR(c,s))})}),s},eH=function(e,t){return e.reduce(function(n,r){return n.concat(Kje(r,t))},[])},n9e=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Lje)},r9e=function(e,t){var n=o1(_m(e).length>0?document:Ule(e).ownerDocument),r=SD(e).filter(zO),i=Yle(n||e,e,r),o=new Map,s=i1(r,o),a=s.filter(function(v){var y=v.node;return zO(y)});if(a[0]){var l=i1([i],o).map(function(v){var y=v.node;return y}),c=n9e(l,a),d=c.map(function(v){var y=v.node;return y}),u=c.filter(function(v){var y=v.tabIndex;return y>=0}).map(function(v){var y=v.node;return y}),h=e9e(d,u,l,n,t);if(h===VO){var m=QK(s,u,eH(r,o))||QK(s,d,eH(r,o));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return h===void 0?h:c[h]}},i9e=function(e){var t=SD(e).filter(zO),n=Yle(e,e,t),r=bD(_0([n],!0),!0,!0),i=_0(t,!1);return r.map(function(o){var s=o.node,a=o.index;return{node:s,index:a,lockItem:i.indexOf(s)>=0,guard:wD(s)}})},ED=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},jR=0,$R=!1,Xle=function(e,t,n){n===void 0&&(n={});var r=r9e(e,t);if(!$R&&r){if(jR>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),$R=!0,setTimeout(function(){$R=!1},1);return}jR++,ED(r.node,n.focusOptions),jR--}};function vw(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var o9e=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:vw(n),parent:vw(n.parentElement),left:vw(n.previousElementSibling),right:vw(n.nextElementSibling)}),n=n.parentElement;return{element:vw(e),stack:t,ownerDocument:e.ownerDocument}},s9e=function(e){var t,n,r,i,o;if(e)for(var s=e.stack,a=e.ownerDocument,l=new Map,c=0,d=s;c<d.length;c++){var u=d[c],h=(t=u.parent)===null||t===void 0?void 0:t.call(u);if(h&&a.contains(h)){for(var m=(n=u.left)===null||n===void 0?void 0:n.call(u),v=u.current(),y=h.contains(v)?v:void 0,g=(r=u.right)===null||r===void 0?void 0:r.call(u),b=kD([h],l),k=(o=(i=y??(m==null?void 0:m.nextElementSibling))!==null&&i!==void 0?i:g)!==null&&o!==void 0?o:m;k;){for(var _=0,R=b;_<R.length;_++){var I=R[_];if(k!=null&&k.contains(I.node))return I.node}k=k.nextElementSibling}if(b.length)return b[0].node}}},Qle=function(e){var t=o9e(e);return function(){return s9e(t)}},a9e=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=_m(t);if(r.every(function(s){return!lm(s,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?kD(r,new Map):i1(r,new Map),o=i.findIndex(function(s){var a=s.node;return a===e});if(o!==-1)return{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}},l9e=function(e,t){var n=t?kD(_m(e),new Map):i1(_m(e),new Map);return{first:n[0],last:n[n.length-1]}},c9e=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},ece=function(e,t,n){t===void 0&&(t={});var r=c9e(t),i=a9e(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&ED(o.node,r.focusOptions)}},d9e=function(e,t){t===void 0&&(t={}),ece(e,t,function(n,r){var i=n.next,o=n.first;return i||r&&o})},u9e=function(e,t){t===void 0&&(t={}),ece(e,t,function(n,r){var i=n.prev,o=n.last;return i||r&&o})},tce=function(e,t,n){var r,i=l9e(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),o=i[n];o&&ED(o.node,t.focusOptions)},f9e=function(e,t){t===void 0&&(t={}),tce(e,t,"first")},h9e=function(e,t){t===void 0&&(t={}),tce(e,t,"last")};function CD(e){setTimeout(e,1)}var p9e=function(t){return t&&"current"in t?t.current:t},nce=function(){return document&&document.activeElement===document.body},m9e=function(){return nce()||Yje()},Jy=null,Sa=null,tH=function(){return null},Zy=null,s1=!1,AD=!1,g9e=function(){return!0},y9e=function(t){return(Jy.whiteList||g9e)(t)},v9e=function(t,n){Zy={observerNode:t,portaledElement:n}},w9e=function(t){return Zy&&Zy.portaledElement===t};function nH(e,t,n,r){var i=null,o=e;do{var s=r[o];if(s.guard)s.node.dataset.focusAutoGuard&&(i=s);else if(s.lockItem){if(o!==e)return;i=null}else break}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var b9e=function(t){return t?!!s1:s1==="meanwhile"},_9e=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},x9e=function(t,n){return n.some(function(r){return _9e(t,r,r)})},rce=function(t){return i1(t,new Map)},k9e=function(t){return!rce([t.parentNode]).some(function(n){return n.node===t})},TS=function(){var t=!1;if(Jy){var n=Jy,r=n.observed,i=n.persistentFocus,o=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,c=n.noFocusGuards,d=r||Zy&&Zy.portaledElement;if(nce()&&Sa&&Sa!==document.body&&(!document.body.contains(Sa)||k9e(Sa))){var u=tH();u&&u.focus()}var h=document&&document.activeElement;if(d){var m=[d].concat(s.map(p9e).filter(Boolean)),v=function(){if(!b9e(a)||!c||!Sa||AD)return!1;var _=rce(m),R=_.findIndex(function(I){var T=I.node;return T===Sa});return R===0||R===_.length-1};if((!h||y9e(h))&&(i||v()||!m9e()||!Sa&&o)&&(d&&!(Zle(m)||h&&x9e(h,m)||w9e(h))&&(document&&!Sa&&h&&!o?(h.blur&&h.blur(),document.body.focus()):(t=Xle(m,Sa,{focusOptions:l}),Zy={})),Sa=document&&document.activeElement,Sa!==document.body&&(tH=Qle(Sa)),s1=!1),document&&h!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var y=document&&document.activeElement,g=i9e(m),b=g.map(function(k){var _=k.node;return _}).indexOf(y);b>-1&&(g.filter(function(k){var _=k.guard,R=k.node;return _&&R.dataset.focusAutoGuard}).forEach(function(k){var _=k.node;return _.removeAttribute("tabIndex")}),nH(b,g.length,1,g),nH(b,-1,-1,g))}}}return t},ice=function(t){TS()&&t&&(t.stopPropagation(),t.preventDefault())},RD=function(){return CD(TS)},S9e=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||v9e(r,n)},I9e=function(){return null},oce=function(){AD=!0},sce=function(){AD=!1,s1="just",CD(function(){s1="meanwhile"})},E9e=function(){document.addEventListener("focusin",ice),document.addEventListener("focusout",RD),window.addEventListener("focus",oce),window.addEventListener("blur",sce)},C9e=function(){document.removeEventListener("focusin",ice),document.removeEventListener("focusout",RD),window.removeEventListener("focus",oce),window.removeEventListener("blur",sce)};function A9e(e){return e.filter(function(t){var n=t.disabled;return!n})}var ace={moveFocusInside:Xle,focusInside:Zle,focusNextElement:d9e,focusPrevElement:u9e,focusFirstElement:f9e,focusLastElement:h9e,captureFocusRestore:Qle};function R9e(e){var t=e.slice(-1)[0];t&&!Jy&&E9e();var n=Jy,r=n&&t&&t.id===n.id;Jy=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!t)),t?(Sa=null,(!r||n.observed!==t.observed)&&t.onActivation(ace),TS(),CD(TS)):(C9e(),Sa=null)}jle.assignSyncMedium(S9e);$le.assignMedium(RD);Sje.assignMedium(function(e){return e(ace)});const T9e=Oje(A9e,R9e)(I9e);var lce=x.forwardRef(function(t,n){return Vt.createElement(vD,Zb({sideCar:T9e,ref:n},t))}),cce=vD.propTypes||{};cce.sideCar;gje(cce,["sideCar"]);lce.propTypes={};var Hg={},LR,rH;function O9e(){return rH||(rH=1,LR=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),LR}var UR={},If={},iH;function Gm(){if(iH)return If;iH=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return If.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},If.getSymbolTotalCodewords=function(r){return t[r]},If.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},If.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},If.isKanjiModeEnabled=function(){return typeof e<"u"},If.toSJIS=function(r){return e(r)},If}var FR={},oH;function TD(){return oH||(oH=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(FR)),FR}var WR,sH;function N9e(){if(sH)return WR;sH=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},WR=e,WR}var qR,aH;function P9e(){if(aH)return qR;aH=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const o=t*this.size+n;this.data[o]=r,i&&(this.reservedBit[o]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},qR=e,qR}var zR={},lH;function B9e(){return lH||(lH=1,(function(e){const t=Gm().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=t(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],o=e.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(zR)),zR}var VR={},cH;function M9e(){if(cH)return VR;cH=1;const e=Gm().getSymbolSize,t=7;return VR.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},VR}var KR={},dH;function D9e(){return dH||(dH=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,d=null;for(let u=0;u<o;u++){a=l=0,c=d=null;for(let h=0;h<o;h++){let m=i.get(u,h);m===c?a++:(a>=5&&(s+=t.N1+(a-5)),c=m,a=1),m=i.get(h,u),m===d?l++:(l>=5&&(s+=t.N1+(l-5)),d=m,l=1)}a>=5&&(s+=t.N1+(a-5)),l>=5&&(s+=t.N1+(l-5))}return s},e.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*t.N4};function n(r,i,o){switch(r){case e.Patterns.PATTERN000:return(i+o)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(i+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return i*o%2+i*o%3===0;case e.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case e.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},e.getBestMask=function(i,o){const s=Object.keys(e.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),e.applyMask(c,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(KR)),KR}var vk={},uH;function dce(){if(uH)return vk;uH=1;const e=TD(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return vk.getBlocksCount=function(i,o){switch(o){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},vk.getTotalCodewordsCount=function(i,o){switch(o){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},vk}var HR={},ww={},fH;function j9e(){if(fH)return ww;fH=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),ww.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},ww.exp=function(r){return e[r]},ww.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},ww}var hH;function $9e(){return hH||(hH=1,(function(e){const t=j9e();e.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=t.mul(r[s],i[a]);return o},e.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=t.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=e.mul(i,new Uint8Array([1,t.exp(o)]));return i}})(HR)),HR}var GR,pH;function L9e(){if(pH)return GR;pH=1;const e=$9e();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const o=e.mod(i,this.genPoly),s=this.degree-o.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(o,s),a}return o},GR=t,GR}var JR={},ZR={},YR={},mH;function uce(){return mH||(mH=1,YR.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),YR}var sd={},gH;function fce(){if(gH)return sd;gH=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;sd.KANJI=new RegExp(n,"g"),sd.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),sd.BYTE=new RegExp(r,"g"),sd.NUMERIC=new RegExp(e,"g"),sd.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),o=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return sd.testKanji=function(l){return i.test(l)},sd.testNumeric=function(l){return o.test(l)},sd.testAlphanumeric=function(l){return s.test(l)},sd}var yH;function Jm(){return yH||(yH=1,(function(e){const t=uce(),n=fce();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return n.testNumeric(o)?e.NUMERIC:n.testAlphanumeric(o)?e.ALPHANUMERIC:n.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(o,s){if(e.isValid(o))return o;try{return r(o)}catch{return s}}})(ZR)),ZR}var vH;function U9e(){return vH||(vH=1,(function(e){const t=Gm(),n=dce(),r=TD(),i=Jm(),o=uce(),s=7973,a=t.getBCHDigit(s);function l(h,m,v){for(let y=1;y<=40;y++)if(m<=e.getCapacity(y,v,h))return y}function c(h,m){return i.getCharCountIndicator(h,m)+4}function d(h,m){let v=0;return h.forEach(function(y){const g=c(y.mode,m);v+=g+y.getBitsLength()}),v}function u(h,m){for(let v=1;v<=40;v++)if(d(h,v)<=e.getCapacity(v,m,i.MIXED))return v}e.from=function(m,v){return o.isValid(m)?parseInt(m,10):v},e.getCapacity=function(m,v,y){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const g=t.getSymbolTotalCodewords(m),b=n.getTotalCodewordsCount(m,v),k=(g-b)*8;if(y===i.MIXED)return k;const _=k-c(y,m);switch(y){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(m,v){let y;const g=r.from(v,r.M);if(Array.isArray(m)){if(m.length>1)return u(m,g);if(m.length===0)return 1;y=m[0]}else y=m;return l(y.mode,y.getLength(),g)},e.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;t.getBCHDigit(v)-a>=0;)v^=s<<t.getBCHDigit(v)-a;return m<<12|v}})(JR)),JR}var XR={},wH;function F9e(){if(wH)return XR;wH=1;const e=Gm(),t=1335,n=21522,r=e.getBCHDigit(t);return XR.getEncodedBits=function(o,s){const a=o.bit<<3|s;let l=a<<10;for(;e.getBCHDigit(l)-r>=0;)l^=t<<e.getBCHDigit(l)-r;return(a<<10|l)^n},XR}var QR={},e4,bH;function W9e(){if(bH)return e4;bH=1;const e=Jm();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,o,s;for(i=0;i+3<=this.data.length;i+=3)o=this.data.substr(i,3),s=parseInt(o,10),r.put(s,10);const a=this.data.length-i;a>0&&(o=this.data.substr(i),s=parseInt(o,10),r.put(s,a*3+1))},e4=t,e4}var t4,_H;function q9e(){if(_H)return t4;_H=1;const e=Jm(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let o;for(o=0;o+2<=this.data.length;o+=2){let s=t.indexOf(this.data[o])*45;s+=t.indexOf(this.data[o+1]),i.put(s,11)}this.data.length%2&&i.put(t.indexOf(this.data[o]),6)},t4=n,t4}var n4,xH;function z9e(){return xH||(xH=1,n4=function(t){for(var n=[],r=t.length,i=0;i<r;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var s=t.charCodeAt(i+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,i+=1)}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192),n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224),n.push(o>>6&63|128),n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}),n4}var r4,kH;function V9e(){if(kH)return r4;kH=1;const e=z9e(),t=Jm();function n(r){this.mode=t.BYTE,typeof r=="string"&&(r=e(r)),this.data=new Uint8Array(r)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let i=0,o=this.data.length;i<o;i++)r.put(this.data[i],8)},r4=n,r4}var i4,SH;function K9e(){if(SH)return i4;SH=1;const e=Jm(),t=Gm();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let o=t.toSJIS(this.data[i]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},i4=n,i4}var o4={exports:{}},IH;function H9e(){return IH||(IH=1,(function(e){var t={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var l,c,d,u,h,m,v,y,g;!a.empty();){l=a.pop(),c=l.value,u=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],v=u+m,y=s[d],g=typeof s[d]>"u",(g||y>v)&&(s[d]=v,a.push(d,v),o[d]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(o4)),o4.exports}var EH;function G9e(){return EH||(EH=1,(function(e){const t=Jm(),n=W9e(),r=q9e(),i=V9e(),o=K9e(),s=fce(),a=Gm(),l=H9e();function c(b){return unescape(encodeURIComponent(b)).length}function d(b,k,_){const R=[];let I;for(;(I=b.exec(_))!==null;)R.push({data:I[0],index:I.index,mode:k,length:I[0].length});return R}function u(b){const k=d(s.NUMERIC,t.NUMERIC,b),_=d(s.ALPHANUMERIC,t.ALPHANUMERIC,b);let R,I;return a.isKanjiModeEnabled()?(R=d(s.BYTE,t.BYTE,b),I=d(s.KANJI,t.KANJI,b)):(R=d(s.BYTE_KANJI,t.BYTE,b),I=[]),k.concat(_,R,I).sort(function(D,M){return D.index-M.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function h(b,k){switch(k){case t.NUMERIC:return n.getBitsLength(b);case t.ALPHANUMERIC:return r.getBitsLength(b);case t.KANJI:return o.getBitsLength(b);case t.BYTE:return i.getBitsLength(b)}}function m(b){return b.reduce(function(k,_){const R=k.length-1>=0?k[k.length-1]:null;return R&&R.mode===_.mode?(k[k.length-1].data+=_.data,k):(k.push(_),k)},[])}function v(b){const k=[];for(let _=0;_<b.length;_++){const R=b[_];switch(R.mode){case t.NUMERIC:k.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:k.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:k.push([R,{data:R.data,mode:t.BYTE,length:c(R.data)}]);break;case t.BYTE:k.push([{data:R.data,mode:t.BYTE,length:c(R.data)}])}}return k}function y(b,k){const _={},R={start:{}};let I=["start"];for(let T=0;T<b.length;T++){const D=b[T],M=[];for(let C=0;C<D.length;C++){const U=D[C],$=""+T+C;M.push($),_[$]={node:U,lastCount:0},R[$]={};for(let z=0;z<I.length;z++){const q=I[z];_[q]&&_[q].node.mode===U.mode?(R[q][$]=h(_[q].lastCount+U.length,U.mode)-h(_[q].lastCount,U.mode),_[q].lastCount+=U.length):(_[q]&&(_[q].lastCount=U.length),R[q][$]=h(U.length,U.mode)+4+t.getCharCountIndicator(U.mode,k))}}I=M}for(let T=0;T<I.length;T++)R[I[T]].end=0;return{map:R,table:_}}function g(b,k){let _;const R=t.getBestModeForData(b);if(_=t.from(k,R),_!==t.BYTE&&_.bit<R.bit)throw new Error('"'+b+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(R));switch(_===t.KANJI&&!a.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new n(b);case t.ALPHANUMERIC:return new r(b);case t.KANJI:return new o(b);case t.BYTE:return new i(b)}}e.fromArray=function(k){return k.reduce(function(_,R){return typeof R=="string"?_.push(g(R,null)):R.data&&_.push(g(R.data,R.mode)),_},[])},e.fromString=function(k,_){const R=u(k,a.isKanjiModeEnabled()),I=v(R),T=y(I,_),D=l.find_path(T.map,"start","end"),M=[];for(let C=1;C<D.length-1;C++)M.push(T.table[D[C]].node);return e.fromArray(m(M))},e.rawSplit=function(k){return e.fromArray(u(k,a.isKanjiModeEnabled()))}})(QR)),QR}var CH;function J9e(){if(CH)return UR;CH=1;const e=Gm(),t=TD(),n=N9e(),r=P9e(),i=B9e(),o=M9e(),s=D9e(),a=dce(),l=L9e(),c=U9e(),d=F9e(),u=Jm(),h=G9e();function m(T,D){const M=T.size,C=o.getPositions(D);for(let U=0;U<C.length;U++){const $=C[U][0],z=C[U][1];for(let q=-1;q<=7;q++)if(!($+q<=-1||M<=$+q))for(let S=-1;S<=7;S++)z+S<=-1||M<=z+S||(q>=0&&q<=6&&(S===0||S===6)||S>=0&&S<=6&&(q===0||q===6)||q>=2&&q<=4&&S>=2&&S<=4?T.set($+q,z+S,!0,!0):T.set($+q,z+S,!1,!0))}}function v(T){const D=T.size;for(let M=8;M<D-8;M++){const C=M%2===0;T.set(M,6,C,!0),T.set(6,M,C,!0)}}function y(T,D){const M=i.getPositions(D);for(let C=0;C<M.length;C++){const U=M[C][0],$=M[C][1];for(let z=-2;z<=2;z++)for(let q=-2;q<=2;q++)z===-2||z===2||q===-2||q===2||z===0&&q===0?T.set(U+z,$+q,!0,!0):T.set(U+z,$+q,!1,!0)}}function g(T,D){const M=T.size,C=c.getEncodedBits(D);let U,$,z;for(let q=0;q<18;q++)U=Math.floor(q/3),$=q%3+M-8-3,z=(C>>q&1)===1,T.set(U,$,z,!0),T.set($,U,z,!0)}function b(T,D,M){const C=T.size,U=d.getEncodedBits(D,M);let $,z;for($=0;$<15;$++)z=(U>>$&1)===1,$<6?T.set($,8,z,!0):$<8?T.set($+1,8,z,!0):T.set(C-15+$,8,z,!0),$<8?T.set(8,C-$-1,z,!0):$<9?T.set(8,15-$-1+1,z,!0):T.set(8,15-$-1,z,!0);T.set(C-8,8,1,!0)}function k(T,D){const M=T.size;let C=-1,U=M-1,$=7,z=0;for(let q=M-1;q>0;q-=2)for(q===6&&q--;;){for(let S=0;S<2;S++)if(!T.isReserved(U,q-S)){let A=!1;z<D.length&&(A=(D[z]>>>$&1)===1),T.set(U,q-S,A),$--,$===-1&&(z++,$=7)}if(U+=C,U<0||M<=U){U-=C,C=-C;break}}}function _(T,D,M){const C=new n;M.forEach(function(S){C.put(S.mode.bit,4),C.put(S.getLength(),u.getCharCountIndicator(S.mode,T)),S.write(C)});const U=e.getSymbolTotalCodewords(T),$=a.getTotalCodewordsCount(T,D),z=(U-$)*8;for(C.getLengthInBits()+4<=z&&C.put(0,4);C.getLengthInBits()%8!==0;)C.putBit(0);const q=(z-C.getLengthInBits())/8;for(let S=0;S<q;S++)C.put(S%2?17:236,8);return R(C,T,D)}function R(T,D,M){const C=e.getSymbolTotalCodewords(D),U=a.getTotalCodewordsCount(D,M),$=C-U,z=a.getBlocksCount(D,M),q=C%z,S=z-q,A=Math.floor(C/z),O=Math.floor($/z),N=O+1,j=A-O,V=new l(j);let K=0;const W=new Array(z),P=new Array(z);let F=0;const G=new Uint8Array(T.buffer);for(let be=0;be<z;be++){const Le=be<S?O:N;W[be]=G.slice(K,K+Le),P[be]=V.encode(W[be]),K+=Le,F=Math.max(F,Le)}const Y=new Uint8Array(C);let ie=0,ye,ge;for(ye=0;ye<F;ye++)for(ge=0;ge<z;ge++)ye<W[ge].length&&(Y[ie++]=W[ge][ye]);for(ye=0;ye<j;ye++)for(ge=0;ge<z;ge++)Y[ie++]=P[ge][ye];return Y}function I(T,D,M,C){let U;if(Array.isArray(T))U=h.fromArray(T);else if(typeof T=="string"){let A=D;if(!A){const O=h.rawSplit(T);A=c.getBestVersionForData(O,M)}U=h.fromString(T,A||40)}else throw new Error("Invalid data");const $=c.getBestVersionForData(U,M);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=$;else if(D<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const z=_(D,M,U),q=e.getSymbolSize(D),S=new r(q);return m(S,D),v(S),y(S,D),b(S,M,0),D>=7&&g(S,D),k(S,z),isNaN(C)&&(C=s.getBestMask(S,b.bind(null,S,M))),s.applyMask(C,S),b(S,M,C),{modules:S,version:D,errorCorrectionLevel:M,maskPattern:C,segments:U}}return UR.create=function(D,M){if(typeof D>"u"||D==="")throw new Error("No input text");let C=t.M,U,$;return typeof M<"u"&&(C=t.from(M.errorCorrectionLevel,t.M),U=c.from(M.version),$=s.from(M.maskPattern),M.toSJISFunc&&e.setToSJISFunction(M.toSJISFunc)),I(D,U,C,$)},UR}var s4={},a4={},AH;function hce(){return AH||(AH=1,(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const o=e.getScale(r,i);return Math.floor((r+i.margin*2)*o)},e.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=e.getScale(s,o),c=Math.floor((s+o.margin*2)*l),d=o.margin*l,u=[o.color.light,o.color.dark];for(let h=0;h<c;h++)for(let m=0;m<c;m++){let v=(h*c+m)*4,y=o.color.light;if(h>=d&&m>=d&&h<c-d&&m<c-d){const g=Math.floor((h-d)/l),b=Math.floor((m-d)/l);y=u[a[g*s+b]?1:0]}r[v++]=y.r,r[v++]=y.g,r[v++]=y.b,r[v]=y.a}}})(a4)),a4}var RH;function Z9e(){return RH||(RH=1,(function(e){const t=hce();function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=t.getOptions(l);const d=t.getImageWidth(o.modules.size,l),u=c.getContext("2d"),h=u.createImageData(d,d);return t.qrToImageData(h.data,o,l),n(u,c,d),u.putImageData(h,0,0),c},e.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=e.render(o,s,l),d=l.type||"image/png",u=l.rendererOpts||{};return c.toDataURL(d,u.quality)}})(s4)),s4}var l4={},TH;function Y9e(){if(TH)return l4;TH=1;const e=hce();function t(i,o){const s=i.a/255,a=o+'="'+i.hex+'"';return s<1?a+" "+o+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function n(i,o,s){let a=i+o;return typeof s<"u"&&(a+=" "+s),a}function r(i,o,s){let a="",l=0,c=!1,d=0;for(let u=0;u<i.length;u++){const h=Math.floor(u%o),m=Math.floor(u/o);!h&&!c&&(c=!0),i[u]?(d++,u>0&&h>0&&i[u-1]||(a+=c?n("M",h+s,.5+m+s):n("m",l,0),l=0,c=!1),h+1<o&&i[u+1]||(a+=n("h",d),d=0)):l++}return a}return l4.render=function(o,s,a){const l=e.getOptions(s),c=o.modules.size,d=o.modules.data,u=c+l.margin*2,h=l.color.light.a?"<path "+t(l.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",m="<path "+t(l.color.dark,"stroke")+' d="'+r(d,c,l.margin)+'"/>',v='viewBox="0 0 '+u+" "+u+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+v+' shape-rendering="crispEdges">'+h+m+`</svg>
`;return typeof a=="function"&&a(null,g),g},l4}var OH;function X9e(){if(OH)return Hg;OH=1;const e=O9e(),t=J9e(),n=Z9e(),r=Y9e();function i(o,s,a,l,c){const d=[].slice.call(arguments,1),u=d.length,h=typeof d[u-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(u<2)throw new Error("Too few arguments provided");u===2?(c=a,a=s,s=l=void 0):u===3&&(s.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=a,a=s,s=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(a=s,s=l=void 0):u===2&&!s.getContext&&(l=a,a=s,s=void 0),new Promise(function(m,v){try{const y=t.create(a,l);m(o(y,s,l))}catch(y){v(y)}})}try{const m=t.create(a,l);c(null,o(m,s,l))}catch(m){c(m)}}return Hg.create=t.create,Hg.toCanvas=i.bind(null,n.render),Hg.toDataURL=i.bind(null,n.renderToDataURL),Hg.toString=i.bind(null,function(o,s,a){return r.render(o,a)}),Hg}var Q9e=X9e();const pce=Rr(Q9e);var c4,NH;function e$e(){if(NH)return c4;NH=1;var e=Array.isArray,t=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function i(o,s){if(o===s)return!0;if(o&&s&&typeof o=="object"&&typeof s=="object"){var a=e(o),l=e(s),c,d,u;if(a&&l){if(d=o.length,d!=s.length)return!1;for(c=d;c--!==0;)if(!i(o[c],s[c]))return!1;return!0}if(a!=l)return!1;var h=o instanceof Date,m=s instanceof Date;if(h!=m)return!1;if(h&&m)return o.getTime()==s.getTime();var v=o instanceof RegExp,y=s instanceof RegExp;if(v!=y)return!1;if(v&&y)return o.toString()==s.toString();var g=t(o);if(d=g.length,d!==t(s).length)return!1;for(c=d;c--!==0;)if(!n.call(s,g[c]))return!1;if(r&&o instanceof Element&&s instanceof Element)return o===s;for(c=d;c--!==0;)if(u=g[c],!(u==="_owner"&&o.$$typeof)&&!i(o[u],s[u]))return!1;return!0}return o!==o&&s!==s}return c4=function(s,a){try{return i(s,a)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},c4}var t$e=e$e();const Pp=Rr(t$e);var n$e=function(t){return r$e(t)&&!i$e(t)};function r$e(e){return!!e&&typeof e=="object"}function i$e(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||a$e(e)}var o$e=typeof Symbol=="function"&&Symbol.for,s$e=o$e?Symbol.for("react.element"):60103;function a$e(e){return e.$$typeof===s$e}function l$e(e){return Array.isArray(e)?[]:{}}function OS(e,t){return t.clone!==!1&&t.isMergeableObject(e)?a1(l$e(e),e,t):e}function c$e(e,t,n){return e.concat(t).map(function(r){return OS(r,n)})}function d$e(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=OS(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=OS(t[i],n):r[i]=a1(e[i],t[i],n)}),r}function a1(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||c$e,n.isMergeableObject=n.isMergeableObject||n$e;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):d$e(e,t,n):OS(t,n)}a1.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return a1(r,i,n)},{})};var HO=a1,mce=typeof global=="object"&&global&&global.Object===Object&&global,u$e=typeof self=="object"&&self&&self.Object===Object&&self,zd=mce||u$e||Function("return this")(),Mh=zd.Symbol,gce=Object.prototype,f$e=gce.hasOwnProperty,h$e=gce.toString,bw=Mh?Mh.toStringTag:void 0;function p$e(e){var t=f$e.call(e,bw),n=e[bw];try{e[bw]=void 0;var r=!0}catch{}var i=h$e.call(e);return r&&(t?e[bw]=n:delete e[bw]),i}var m$e=Object.prototype,g$e=m$e.toString;function y$e(e){return g$e.call(e)}var v$e="[object Null]",w$e="[object Undefined]",PH=Mh?Mh.toStringTag:void 0;function Zm(e){return e==null?e===void 0?w$e:v$e:PH&&PH in Object(e)?p$e(e):y$e(e)}function yce(e,t){return function(n){return e(t(n))}}var OD=yce(Object.getPrototypeOf,Object);function Ym(e){return e!=null&&typeof e=="object"}var b$e="[object Object]",_$e=Function.prototype,x$e=Object.prototype,vce=_$e.toString,k$e=x$e.hasOwnProperty,S$e=vce.call(Object);function BH(e){if(!Ym(e)||Zm(e)!=b$e)return!1;var t=OD(e);if(t===null)return!0;var n=k$e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&vce.call(n)==S$e}function I$e(){this.__data__=[],this.size=0}function wce(e,t){return e===t||e!==e&&t!==t}function S3(e,t){for(var n=e.length;n--;)if(wce(e[n][0],t))return n;return-1}var E$e=Array.prototype,C$e=E$e.splice;function A$e(e){var t=this.__data__,n=S3(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():C$e.call(t,n,1),--this.size,!0}function R$e(e){var t=this.__data__,n=S3(t,e);return n<0?void 0:t[n][1]}function T$e(e){return S3(this.__data__,e)>-1}function O$e(e,t){var n=this.__data__,r=S3(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function tf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tf.prototype.clear=I$e;tf.prototype.delete=A$e;tf.prototype.get=R$e;tf.prototype.has=T$e;tf.prototype.set=O$e;function N$e(){this.__data__=new tf,this.size=0}function P$e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function B$e(e){return this.__data__.get(e)}function M$e(e){return this.__data__.has(e)}function w_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var D$e="[object AsyncFunction]",j$e="[object Function]",$$e="[object GeneratorFunction]",L$e="[object Proxy]";function bce(e){if(!w_(e))return!1;var t=Zm(e);return t==j$e||t==$$e||t==D$e||t==L$e}var d4=zd["__core-js_shared__"],MH=(function(){var e=/[^.]+$/.exec(d4&&d4.keys&&d4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function U$e(e){return!!MH&&MH in e}var F$e=Function.prototype,W$e=F$e.toString;function Xm(e){if(e!=null){try{return W$e.call(e)}catch{}try{return e+""}catch{}}return""}var q$e=/[\\^$.*+?()[\]{}|]/g,z$e=/^\[object .+?Constructor\]$/,V$e=Function.prototype,K$e=Object.prototype,H$e=V$e.toString,G$e=K$e.hasOwnProperty,J$e=RegExp("^"+H$e.call(G$e).replace(q$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z$e(e){if(!w_(e)||U$e(e))return!1;var t=bce(e)?J$e:z$e;return t.test(Xm(e))}function Y$e(e,t){return e==null?void 0:e[t]}function Qm(e,t){var n=Y$e(e,t);return Z$e(n)?n:void 0}var l1=Qm(zd,"Map"),c1=Qm(Object,"create");function X$e(){this.__data__=c1?c1(null):{},this.size=0}function Q$e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eLe="__lodash_hash_undefined__",tLe=Object.prototype,nLe=tLe.hasOwnProperty;function rLe(e){var t=this.__data__;if(c1){var n=t[e];return n===eLe?void 0:n}return nLe.call(t,e)?t[e]:void 0}var iLe=Object.prototype,oLe=iLe.hasOwnProperty;function sLe(e){var t=this.__data__;return c1?t[e]!==void 0:oLe.call(t,e)}var aLe="__lodash_hash_undefined__";function lLe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=c1&&t===void 0?aLe:t,this}function xm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xm.prototype.clear=X$e;xm.prototype.delete=Q$e;xm.prototype.get=rLe;xm.prototype.has=sLe;xm.prototype.set=lLe;function cLe(){this.size=0,this.__data__={hash:new xm,map:new(l1||tf),string:new xm}}function dLe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function I3(e,t){var n=e.__data__;return dLe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function uLe(e){var t=I3(this,e).delete(e);return this.size-=t?1:0,t}function fLe(e){return I3(this,e).get(e)}function hLe(e){return I3(this,e).has(e)}function pLe(e,t){var n=I3(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zh.prototype.clear=cLe;Zh.prototype.delete=uLe;Zh.prototype.get=fLe;Zh.prototype.has=hLe;Zh.prototype.set=pLe;var mLe=200;function gLe(e,t){var n=this.__data__;if(n instanceof tf){var r=n.__data__;if(!l1||r.length<mLe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Zh(r)}return n.set(e,t),this.size=n.size,this}function sv(e){var t=this.__data__=new tf(e);this.size=t.size}sv.prototype.clear=N$e;sv.prototype.delete=P$e;sv.prototype.get=B$e;sv.prototype.has=M$e;sv.prototype.set=gLe;function yLe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var DH=(function(){try{var e=Qm(Object,"defineProperty");return e({},"",{}),e}catch{}})();function _ce(e,t,n){t=="__proto__"&&DH?DH(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var vLe=Object.prototype,wLe=vLe.hasOwnProperty;function xce(e,t,n){var r=e[t];(!(wLe.call(e,t)&&wce(r,n))||n===void 0&&!(t in e))&&_ce(e,t,n)}function E3(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?_ce(n,a,l):xce(n,a,l)}return n}function bLe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _Le="[object Arguments]";function jH(e){return Ym(e)&&Zm(e)==_Le}var kce=Object.prototype,xLe=kce.hasOwnProperty,kLe=kce.propertyIsEnumerable,SLe=jH((function(){return arguments})())?jH:function(e){return Ym(e)&&xLe.call(e,"callee")&&!kLe.call(e,"callee")},b_=Array.isArray;function ILe(){return!1}var Sce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$H=Sce&&typeof module=="object"&&module&&!module.nodeType&&module,ELe=$H&&$H.exports===Sce,LH=ELe?zd.Buffer:void 0,CLe=LH?LH.isBuffer:void 0,Ice=CLe||ILe,ALe=9007199254740991,RLe=/^(?:0|[1-9]\d*)$/;function TLe(e,t){var n=typeof e;return t=t??ALe,!!t&&(n=="number"||n!="symbol"&&RLe.test(e))&&e>-1&&e%1==0&&e<t}var OLe=9007199254740991;function Ece(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=OLe}var NLe="[object Arguments]",PLe="[object Array]",BLe="[object Boolean]",MLe="[object Date]",DLe="[object Error]",jLe="[object Function]",$Le="[object Map]",LLe="[object Number]",ULe="[object Object]",FLe="[object RegExp]",WLe="[object Set]",qLe="[object String]",zLe="[object WeakMap]",VLe="[object ArrayBuffer]",KLe="[object DataView]",HLe="[object Float32Array]",GLe="[object Float64Array]",JLe="[object Int8Array]",ZLe="[object Int16Array]",YLe="[object Int32Array]",XLe="[object Uint8Array]",QLe="[object Uint8ClampedArray]",eUe="[object Uint16Array]",tUe="[object Uint32Array]",pi={};pi[HLe]=pi[GLe]=pi[JLe]=pi[ZLe]=pi[YLe]=pi[XLe]=pi[QLe]=pi[eUe]=pi[tUe]=!0;pi[NLe]=pi[PLe]=pi[VLe]=pi[BLe]=pi[KLe]=pi[MLe]=pi[DLe]=pi[jLe]=pi[$Le]=pi[LLe]=pi[ULe]=pi[FLe]=pi[WLe]=pi[qLe]=pi[zLe]=!1;function nUe(e){return Ym(e)&&Ece(e.length)&&!!pi[Zm(e)]}function ND(e){return function(t){return e(t)}}var Cce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mb=Cce&&typeof module=="object"&&module&&!module.nodeType&&module,rUe=mb&&mb.exports===Cce,u4=rUe&&mce.process,x0=(function(){try{var e=mb&&mb.require&&mb.require("util").types;return e||u4&&u4.binding&&u4.binding("util")}catch{}})(),UH=x0&&x0.isTypedArray,iUe=UH?ND(UH):nUe,oUe=Object.prototype,sUe=oUe.hasOwnProperty;function Ace(e,t){var n=b_(e),r=!n&&SLe(e),i=!n&&!r&&Ice(e),o=!n&&!r&&!i&&iUe(e),s=n||r||i||o,a=s?bLe(e.length,String):[],l=a.length;for(var c in e)(t||sUe.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||TLe(c,l)))&&a.push(c);return a}var aUe=Object.prototype;function PD(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||aUe;return e===n}var lUe=yce(Object.keys,Object),cUe=Object.prototype,dUe=cUe.hasOwnProperty;function uUe(e){if(!PD(e))return lUe(e);var t=[];for(var n in Object(e))dUe.call(e,n)&&n!="constructor"&&t.push(n);return t}function Rce(e){return e!=null&&Ece(e.length)&&!bce(e)}function Tce(e){return Rce(e)?Ace(e):uUe(e)}function fUe(e,t){return e&&E3(t,Tce(t),e)}function hUe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var pUe=Object.prototype,mUe=pUe.hasOwnProperty;function gUe(e){if(!w_(e))return hUe(e);var t=PD(e),n=[];for(var r in e)r=="constructor"&&(t||!mUe.call(e,r))||n.push(r);return n}function yUe(e){return Rce(e)?Ace(e,!0):gUe(e)}function vUe(e,t){return e&&E3(t,yUe(t),e)}var Oce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,FH=Oce&&typeof module=="object"&&module&&!module.nodeType&&module,wUe=FH&&FH.exports===Oce,WH=wUe?zd.Buffer:void 0,qH=WH?WH.allocUnsafe:void 0;function bUe(e,t){var n=e.length,r=qH?qH(n):new e.constructor(n);return e.copy(r),r}function Nce(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function _Ue(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Pce(){return[]}var xUe=Object.prototype,kUe=xUe.propertyIsEnumerable,zH=Object.getOwnPropertySymbols,BD=zH?function(e){return e==null?[]:(e=Object(e),_Ue(zH(e),function(t){return kUe.call(e,t)}))}:Pce;function SUe(e,t){return E3(e,BD(e),t)}function Bce(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var IUe=Object.getOwnPropertySymbols,EUe=IUe?function(e){for(var t=[];e;)Bce(t,BD(e)),e=OD(e);return t}:Pce;function CUe(e,t){return E3(e,EUe(e),t)}function AUe(e,t,n){var r=t(e);return b_(e)?r:Bce(r,n(e))}function RUe(e){return AUe(e,Tce,BD)}var GO=Qm(zd,"DataView"),JO=Qm(zd,"Promise"),ZO=Qm(zd,"Set"),YO=Qm(zd,"WeakMap"),VH="[object Map]",TUe="[object Object]",KH="[object Promise]",HH="[object Set]",GH="[object WeakMap]",JH="[object DataView]",OUe=Xm(GO),NUe=Xm(l1),PUe=Xm(JO),BUe=Xm(ZO),MUe=Xm(YO),xu=Zm;(GO&&xu(new GO(new ArrayBuffer(1)))!=JH||l1&&xu(new l1)!=VH||JO&&xu(JO.resolve())!=KH||ZO&&xu(new ZO)!=HH||YO&&xu(new YO)!=GH)&&(xu=function(e){var t=Zm(e),n=t==TUe?e.constructor:void 0,r=n?Xm(n):"";if(r)switch(r){case OUe:return JH;case NUe:return VH;case PUe:return KH;case BUe:return HH;case MUe:return GH}return t});var DUe=Object.prototype,jUe=DUe.hasOwnProperty;function $Ue(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&jUe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ZH=zd.Uint8Array;function LUe(e){var t=new e.constructor(e.byteLength);return new ZH(t).set(new ZH(e)),t}function UUe(e,t){var n=e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var FUe=/\w*$/;function WUe(e){var t=new e.constructor(e.source,FUe.exec(e));return t.lastIndex=e.lastIndex,t}var YH=Mh?Mh.prototype:void 0,XH=YH?YH.valueOf:void 0;function qUe(e){return XH?Object(XH.call(e)):{}}function zUe(e,t){var n=e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var VUe="[object Boolean]",KUe="[object Date]",HUe="[object Map]",GUe="[object Number]",JUe="[object RegExp]",ZUe="[object Set]",YUe="[object String]",XUe="[object Symbol]",QUe="[object ArrayBuffer]",eFe="[object DataView]",tFe="[object Float32Array]",nFe="[object Float64Array]",rFe="[object Int8Array]",iFe="[object Int16Array]",oFe="[object Int32Array]",sFe="[object Uint8Array]",aFe="[object Uint8ClampedArray]",lFe="[object Uint16Array]",cFe="[object Uint32Array]";function dFe(e,t,n){var r=e.constructor;switch(t){case QUe:return LUe(e);case VUe:case KUe:return new r(+e);case eFe:return UUe(e);case tFe:case nFe:case rFe:case iFe:case oFe:case sFe:case aFe:case lFe:case cFe:return zUe(e);case HUe:return new r;case GUe:case YUe:return new r(e);case JUe:return WUe(e);case ZUe:return new r;case XUe:return qUe(e)}}var QH=Object.create,uFe=(function(){function e(){}return function(t){if(!w_(t))return{};if(QH)return QH(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function fFe(e){return typeof e.constructor=="function"&&!PD(e)?uFe(OD(e)):{}}var hFe="[object Map]";function pFe(e){return Ym(e)&&xu(e)==hFe}var eG=x0&&x0.isMap,mFe=eG?ND(eG):pFe,gFe="[object Set]";function yFe(e){return Ym(e)&&xu(e)==gFe}var tG=x0&&x0.isSet,vFe=tG?ND(tG):yFe,wFe=2,Mce="[object Arguments]",bFe="[object Array]",_Fe="[object Boolean]",xFe="[object Date]",kFe="[object Error]",Dce="[object Function]",SFe="[object GeneratorFunction]",IFe="[object Map]",EFe="[object Number]",jce="[object Object]",CFe="[object RegExp]",AFe="[object Set]",RFe="[object String]",TFe="[object Symbol]",OFe="[object WeakMap]",NFe="[object ArrayBuffer]",PFe="[object DataView]",BFe="[object Float32Array]",MFe="[object Float64Array]",DFe="[object Int8Array]",jFe="[object Int16Array]",$Fe="[object Int32Array]",LFe="[object Uint8Array]",UFe="[object Uint8ClampedArray]",FFe="[object Uint16Array]",WFe="[object Uint32Array]",ei={};ei[Mce]=ei[bFe]=ei[NFe]=ei[PFe]=ei[_Fe]=ei[xFe]=ei[BFe]=ei[MFe]=ei[DFe]=ei[jFe]=ei[$Fe]=ei[IFe]=ei[EFe]=ei[jce]=ei[CFe]=ei[AFe]=ei[RFe]=ei[TFe]=ei[LFe]=ei[UFe]=ei[FFe]=ei[WFe]=!0;ei[kFe]=ei[Dce]=ei[OFe]=!1;function N2(e,t,n,r,i,o){var s,a=t&wFe;if(s!==void 0)return s;if(!w_(e))return e;var l=b_(e);if(l)return s=$Ue(e),Nce(e,s);var c=xu(e),d=c==Dce||c==SFe;if(Ice(e))return bUe(e);if(c==jce||c==Mce||d&&!i)return s=d?{}:fFe(e),a?CUe(e,vUe(s,e)):SUe(e,fUe(s,e));if(!ei[c])return i?e:{};s=dFe(e,c),o||(o=new sv);var u=o.get(e);if(u)return u;o.set(e,s),vFe(e)?e.forEach(function(v){s.add(N2(v,t,n,v,e,o))}):mFe(e)&&e.forEach(function(v,y){s.set(y,N2(v,t,n,y,e,o))});var h=RUe,m=l?void 0:h(e);return yLe(m||e,function(v,y){m&&(y=v,v=e[y]),xce(s,y,N2(v,t,n,y,e,o))}),s}var qFe=4;function nG(e){return N2(e,qFe)}function $ce(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var zFe="[object Symbol]";function MD(e){return typeof e=="symbol"||Ym(e)&&Zm(e)==zFe}var VFe="Expected a function";function DD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(VFe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(DD.Cache||Zh),n}DD.Cache=Zh;var KFe=500;function HFe(e){var t=DD(e,function(r){return n.size===KFe&&n.clear(),r}),n=t.cache;return t}var GFe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JFe=/\\(\\)?/g,ZFe=HFe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(GFe,function(n,r,i,o){t.push(i?o.replace(JFe,"$1"):r||n)}),t});function YFe(e){if(typeof e=="string"||MD(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var rG=Mh?Mh.prototype:void 0,iG=rG?rG.toString:void 0;function Lce(e){if(typeof e=="string")return e;if(b_(e))return $ce(e,Lce)+"";if(MD(e))return iG?iG.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function XFe(e){return e==null?"":Lce(e)}function Uce(e){return b_(e)?$ce(e,YFe):MD(e)?[e]:Nce(ZFe(XFe(e)))}var f4={exports:{}},Nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oG;function QFe(){if(oG)return Nr;oG=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function _(I){if(typeof I=="object"&&I!==null){var T=I.$$typeof;switch(T){case t:switch(I=I.type,I){case l:case c:case r:case o:case i:case u:return I;default:switch(I=I&&I.$$typeof,I){case a:case d:case v:case m:case s:return I;default:return T}}case n:return T}}}function R(I){return _(I)===c}return Nr.AsyncMode=l,Nr.ConcurrentMode=c,Nr.ContextConsumer=a,Nr.ContextProvider=s,Nr.Element=t,Nr.ForwardRef=d,Nr.Fragment=r,Nr.Lazy=v,Nr.Memo=m,Nr.Portal=n,Nr.Profiler=o,Nr.StrictMode=i,Nr.Suspense=u,Nr.isAsyncMode=function(I){return R(I)||_(I)===l},Nr.isConcurrentMode=R,Nr.isContextConsumer=function(I){return _(I)===a},Nr.isContextProvider=function(I){return _(I)===s},Nr.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},Nr.isForwardRef=function(I){return _(I)===d},Nr.isFragment=function(I){return _(I)===r},Nr.isLazy=function(I){return _(I)===v},Nr.isMemo=function(I){return _(I)===m},Nr.isPortal=function(I){return _(I)===n},Nr.isProfiler=function(I){return _(I)===o},Nr.isStrictMode=function(I){return _(I)===i},Nr.isSuspense=function(I){return _(I)===u},Nr.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===c||I===o||I===i||I===u||I===h||typeof I=="object"&&I!==null&&(I.$$typeof===v||I.$$typeof===m||I.$$typeof===s||I.$$typeof===a||I.$$typeof===d||I.$$typeof===g||I.$$typeof===b||I.$$typeof===k||I.$$typeof===y)},Nr.typeOf=_,Nr}var sG;function eWe(){return sG||(sG=1,f4.exports=QFe()),f4.exports}var h4,aG;function tWe(){if(aG)return h4;aG=1;var e=eWe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(v){return e.isMemo(v)?i:o[v.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,h=Object.prototype;function m(v,y,g){if(typeof y!="string"){if(h){var b=u(y);b&&b!==h&&m(v,b,g)}var k=l(y);c&&(k=k.concat(c(y)));for(var _=s(v),R=s(y),I=0;I<k.length;++I){var T=k[I];if(!n[T]&&!(g&&g[T])&&!(R&&R[T])&&!(_&&_[T])){var D=d(y,T);try{a(v,T,D)}catch{}}}}return v}return h4=m,h4}tWe();function bi(){return bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bi.apply(this,arguments)}function Ny(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Qa=function(t){return typeof t=="function"},C3=function(t){return t!==null&&typeof t=="object"},nWe=function(t){return String(Math.floor(Number(t)))===t},p4=function(t){return Object.prototype.toString.call(t)==="[object String]"},rWe=function(t){return x.Children.count(t)===0},m4=function(t){return C3(t)&&Qa(t.then)};function zl(e,t,n,r){r===void 0&&(r=0);for(var i=Uce(t);e&&r<i.length;)e=e[i[r++]];return e===void 0?n:e}function cm(e,t,n){for(var r=nG(e),i=r,o=0,s=Uce(t);o<s.length-1;o++){var a=s[o],l=zl(e,s.slice(0,o+1));if(l&&(C3(l)||Array.isArray(l)))i=i[a]=nG(l);else{var c=s[o+1];i=i[a]=nWe(c)&&Number(c)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Fce(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];C3(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Fce(a,t,n,r[s])):r[s]=t}return r}var A3=x.createContext(void 0);A3.displayName="FormikContext";var iWe=A3.Provider;A3.Consumer;function jD(){var e=x.useContext(A3);return e}function oWe(e,t){switch(t.type){case"SET_VALUES":return bi({},e,{values:t.payload});case"SET_TOUCHED":return bi({},e,{touched:t.payload});case"SET_ERRORS":return Pp(e.errors,t.payload)?e:bi({},e,{errors:t.payload});case"SET_STATUS":return bi({},e,{status:t.payload});case"SET_ISSUBMITTING":return bi({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return bi({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return bi({},e,{values:cm(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return bi({},e,{touched:cm(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return bi({},e,{errors:cm(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return bi({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return bi({},e,{touched:Fce(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return bi({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return bi({},e,{isSubmitting:!1});default:return e}}var xp={},wk={};function sWe(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,c=l===void 0?!1:l,d=e.onSubmit,u=Ny(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=bi({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},u),m=x.useRef(h.initialValues),v=x.useRef(h.initialErrors||xp),y=x.useRef(h.initialTouched||wk),g=x.useRef(h.initialStatus),b=x.useRef(!1),k=x.useRef({});x.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var _=x.useReducer(oWe,{values:h.initialValues,errors:h.initialErrors||xp,touched:h.initialTouched||wk,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),R=_[0],I=_[1],T=x.useCallback(function(Re,Ze){return new Promise(function(ct,st){var vt=h.validate(Re,Ze);vt==null?ct(xp):m4(vt)?vt.then(function($t){ct($t||xp)},function($t){st($t)}):ct(vt)})},[h.validate]),D=x.useCallback(function(Re,Ze){var ct=h.validationSchema,st=Qa(ct)?ct(Ze):ct,vt=Ze&&st.validateAt?st.validateAt(Ze,Re):lWe(Re,st);return new Promise(function($t,zt){vt.then(function(){$t(xp)},function(ce){ce.name==="ValidationError"?$t(aWe(ce)):zt(ce)})})},[h.validationSchema]),M=x.useCallback(function(Re,Ze){return new Promise(function(ct){return ct(k.current[Re].validate(Ze))})},[]),C=x.useCallback(function(Re){var Ze=Object.keys(k.current).filter(function(st){return Qa(k.current[st].validate)}),ct=Ze.length>0?Ze.map(function(st){return M(st,zl(Re,st))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ct).then(function(st){return st.reduce(function(vt,$t,zt){return $t==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||$t&&(vt=cm(vt,Ze[zt],$t)),vt},{})})},[M]),U=x.useCallback(function(Re){return Promise.all([C(Re),h.validationSchema?D(Re):{},h.validate?T(Re):{}]).then(function(Ze){var ct=Ze[0],st=Ze[1],vt=Ze[2],$t=HO.all([ct,st,vt],{arrayMerge:cWe});return $t})},[h.validate,h.validationSchema,C,T,D]),$=Ml(function(Re){return Re===void 0&&(Re=R.values),I({type:"SET_ISVALIDATING",payload:!0}),U(Re).then(function(Ze){return b.current&&(I({type:"SET_ISVALIDATING",payload:!1}),I({type:"SET_ERRORS",payload:Ze})),Ze})});x.useEffect(function(){s&&b.current===!0&&Pp(m.current,h.initialValues)&&$(m.current)},[s,$]);var z=x.useCallback(function(Re){var Ze=Re&&Re.values?Re.values:m.current,ct=Re&&Re.errors?Re.errors:v.current?v.current:h.initialErrors||{},st=Re&&Re.touched?Re.touched:y.current?y.current:h.initialTouched||{},vt=Re&&Re.status?Re.status:g.current?g.current:h.initialStatus;m.current=Ze,v.current=ct,y.current=st,g.current=vt;var $t=function(){I({type:"RESET_FORM",payload:{isSubmitting:!!Re&&!!Re.isSubmitting,errors:ct,touched:st,status:vt,values:Ze,isValidating:!!Re&&!!Re.isValidating,submitCount:Re&&Re.submitCount&&typeof Re.submitCount=="number"?Re.submitCount:0}})};if(h.onReset){var zt=h.onReset(R.values,qe);m4(zt)?zt.then($t):$t()}else $t()},[h.initialErrors,h.initialStatus,h.initialTouched]);x.useEffect(function(){b.current===!0&&!Pp(m.current,h.initialValues)&&(c&&(m.current=h.initialValues,z()),s&&$(m.current))},[c,h.initialValues,z,s,$]),x.useEffect(function(){c&&b.current===!0&&!Pp(v.current,h.initialErrors)&&(v.current=h.initialErrors||xp,I({type:"SET_ERRORS",payload:h.initialErrors||xp}))},[c,h.initialErrors]),x.useEffect(function(){c&&b.current===!0&&!Pp(y.current,h.initialTouched)&&(y.current=h.initialTouched||wk,I({type:"SET_TOUCHED",payload:h.initialTouched||wk}))},[c,h.initialTouched]),x.useEffect(function(){c&&b.current===!0&&!Pp(g.current,h.initialStatus)&&(g.current=h.initialStatus,I({type:"SET_STATUS",payload:h.initialStatus}))},[c,h.initialStatus,h.initialTouched]);var q=Ml(function(Re){if(k.current[Re]&&Qa(k.current[Re].validate)){var Ze=zl(R.values,Re),ct=k.current[Re].validate(Ze);return m4(ct)?(I({type:"SET_ISVALIDATING",payload:!0}),ct.then(function(st){return st}).then(function(st){I({type:"SET_FIELD_ERROR",payload:{field:Re,value:st}}),I({type:"SET_ISVALIDATING",payload:!1})})):(I({type:"SET_FIELD_ERROR",payload:{field:Re,value:ct}}),Promise.resolve(ct))}else if(h.validationSchema)return I({type:"SET_ISVALIDATING",payload:!0}),D(R.values,Re).then(function(st){return st}).then(function(st){I({type:"SET_FIELD_ERROR",payload:{field:Re,value:st[Re]}}),I({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),S=x.useCallback(function(Re,Ze){var ct=Ze.validate;k.current[Re]={validate:ct}},[]),A=x.useCallback(function(Re){delete k.current[Re]},[]),O=Ml(function(Re,Ze){I({type:"SET_TOUCHED",payload:Re});var ct=Ze===void 0?i:Ze;return ct?$(R.values):Promise.resolve()}),N=x.useCallback(function(Re){I({type:"SET_ERRORS",payload:Re})},[]),j=Ml(function(Re,Ze){var ct=Qa(Re)?Re(R.values):Re;I({type:"SET_VALUES",payload:ct});var st=Ze===void 0?n:Ze;return st?$(ct):Promise.resolve()}),V=x.useCallback(function(Re,Ze){I({type:"SET_FIELD_ERROR",payload:{field:Re,value:Ze}})},[]),K=Ml(function(Re,Ze,ct){I({type:"SET_FIELD_VALUE",payload:{field:Re,value:Ze}});var st=ct===void 0?n:ct;return st?$(cm(R.values,Re,Ze)):Promise.resolve()}),W=x.useCallback(function(Re,Ze){var ct=Ze,st=Re,vt;if(!p4(Re)){Re.persist&&Re.persist();var $t=Re.target?Re.target:Re.currentTarget,zt=$t.type,ce=$t.name,X=$t.id,ee=$t.value,we=$t.checked;$t.outerHTML;var Ae=$t.options,Pe=$t.multiple;ct=Ze||ce||X,st=/number|range/.test(zt)?(vt=parseFloat(ee),isNaN(vt)?"":vt):/checkbox/.test(zt)?uWe(zl(R.values,ct),we,ee):Ae&&Pe?dWe(Ae):ee}ct&&K(ct,st)},[K,R.values]),P=Ml(function(Re){if(p4(Re))return function(Ze){return W(Ze,Re)};W(Re)}),F=Ml(function(Re,Ze,ct){Ze===void 0&&(Ze=!0),I({type:"SET_FIELD_TOUCHED",payload:{field:Re,value:Ze}});var st=ct===void 0?i:ct;return st?$(R.values):Promise.resolve()}),G=x.useCallback(function(Re,Ze){Re.persist&&Re.persist();var ct=Re.target,st=ct.name,vt=ct.id;ct.outerHTML;var $t=Ze||st||vt;F($t,!0)},[F]),Y=Ml(function(Re){if(p4(Re))return function(Ze){return G(Ze,Re)};G(Re)}),ie=x.useCallback(function(Re){Qa(Re)?I({type:"SET_FORMIK_STATE",payload:Re}):I({type:"SET_FORMIK_STATE",payload:function(){return Re}})},[]),ye=x.useCallback(function(Re){I({type:"SET_STATUS",payload:Re})},[]),ge=x.useCallback(function(Re){I({type:"SET_ISSUBMITTING",payload:Re})},[]),be=Ml(function(){return I({type:"SUBMIT_ATTEMPT"}),$().then(function(Re){var Ze=Re instanceof Error,ct=!Ze&&Object.keys(Re).length===0;if(ct){var st;try{if(st=Me(),st===void 0)return}catch(vt){throw vt}return Promise.resolve(st).then(function(vt){return b.current&&I({type:"SUBMIT_SUCCESS"}),vt}).catch(function(vt){if(b.current)throw I({type:"SUBMIT_FAILURE"}),vt})}else if(b.current&&(I({type:"SUBMIT_FAILURE"}),Ze))throw Re})}),Le=Ml(function(Re){Re&&Re.preventDefault&&Qa(Re.preventDefault)&&Re.preventDefault(),Re&&Re.stopPropagation&&Qa(Re.stopPropagation)&&Re.stopPropagation(),be().catch(function(Ze){console.warn("Warning: An unhandled error was caught from submitForm()",Ze)})}),qe={resetForm:z,validateForm:$,validateField:q,setErrors:N,setFieldError:V,setFieldTouched:F,setFieldValue:K,setStatus:ye,setSubmitting:ge,setTouched:O,setValues:j,setFormikState:ie,submitForm:be},Me=Ml(function(){return d(R.values,qe)}),gt=Ml(function(Re){Re&&Re.preventDefault&&Qa(Re.preventDefault)&&Re.preventDefault(),Re&&Re.stopPropagation&&Qa(Re.stopPropagation)&&Re.stopPropagation(),z()}),tt=x.useCallback(function(Re){return{value:zl(R.values,Re),error:zl(R.errors,Re),touched:!!zl(R.touched,Re),initialValue:zl(m.current,Re),initialTouched:!!zl(y.current,Re),initialError:zl(v.current,Re)}},[R.errors,R.touched,R.values]),dt=x.useCallback(function(Re){return{setValue:function(ct,st){return K(Re,ct,st)},setTouched:function(ct,st){return F(Re,ct,st)},setError:function(ct){return V(Re,ct)}}},[K,F,V]),Xt=x.useCallback(function(Re){var Ze=C3(Re),ct=Ze?Re.name:Re,st=zl(R.values,ct),vt={name:ct,value:st,onChange:P,onBlur:Y};if(Ze){var $t=Re.type,zt=Re.value,ce=Re.as,X=Re.multiple;$t==="checkbox"?zt===void 0?vt.checked=!!st:(vt.checked=!!(Array.isArray(st)&&~st.indexOf(zt)),vt.value=zt):$t==="radio"?(vt.checked=st===zt,vt.value=zt):ce==="select"&&X&&(vt.value=vt.value||[],vt.multiple=!0)}return vt},[Y,P,R.values]),lt=x.useMemo(function(){return!Pp(m.current,R.values)},[m.current,R.values]),jt=x.useMemo(function(){return typeof a<"u"?lt?R.errors&&Object.keys(R.errors).length===0:a!==!1&&Qa(a)?a(h):a:R.errors&&Object.keys(R.errors).length===0},[a,lt,R.errors,h]),rn=bi({},R,{initialValues:m.current,initialErrors:v.current,initialTouched:y.current,initialStatus:g.current,handleBlur:Y,handleChange:P,handleReset:gt,handleSubmit:Le,resetForm:z,setErrors:N,setFormikState:ie,setFieldTouched:F,setFieldValue:K,setFieldError:V,setStatus:ye,setSubmitting:ge,setTouched:O,setValues:j,submitForm:be,validateForm:$,validateField:q,isValid:jt,dirty:lt,unregisterField:A,registerField:S,getFieldProps:Xt,getFieldMeta:tt,getFieldHelpers:dt,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return rn}function R3(e){var t=sWe(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return x.useImperativeHandle(o,function(){return t}),x.createElement(iWe,{value:t},n?x.createElement(n,t):i?i(t):r?Qa(r)?r(t):rWe(r)?null:x.Children.only(r):null)}function aWe(e){var t={};if(e.inner){if(e.inner.length===0)return cm(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;zl(t,s.path)||(t=cm(t,s.path,s.message))}}return t}function lWe(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=XO(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function XO(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||BH(i)?XO(i):i!==""?i:void 0}):BH(e[r])?t[r]=XO(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function cWe(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?HO(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=HO(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function dWe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function uWe(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var fWe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Ml(e){var t=x.useRef(e);return fWe(function(){t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function Dh(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=Ny(e,["validate","name","render","children","as","component"]),l=jD(),c=Ny(l,["validate","validationSchema"]),d=c.registerField,u=c.unregisterField;x.useEffect(function(){return d(n,{validate:t}),function(){u(n)}},[d,u,n,t]);var h=c.getFieldProps(bi({name:n},a)),m=c.getFieldMeta(n),v={field:h,form:c};if(r)return r(bi({},v,{meta:m}));if(Qa(i))return i(bi({},v,{meta:m}));if(s){if(typeof s=="string"){var y=a.innerRef,g=Ny(a,["innerRef"]);return x.createElement(s,bi({ref:y},h,g),i)}return x.createElement(s,bi({field:h,form:c},a),i)}var b=o||"input";if(typeof b=="string"){var k=a.innerRef,_=Ny(a,["innerRef"]);return x.createElement(b,bi({ref:k},h,_),i)}return x.createElement(b,bi({},h,a),i)}var __=x.forwardRef(function(e,t){var n=e.action,r=Ny(e,["action"]),i=n??"#",o=jD(),s=o.handleReset,a=o.handleSubmit;return x.createElement("form",Object.assign({onSubmit:a,ref:t,onReset:s,action:i},r))});__.displayName="Form";const $D=(e,t)=>de(void 0,void 0,void 0,function*(){try{const n=yield cn().updateSelf({environmentId:e,userFields:t}),r=Ii(n);return Object.assign(Object.assign({},n),{userProfile:r})}catch(n){const r=yield Tr(n,"Error updateUserProfileFields");if(n instanceof Response){if(r.code==="email_already_exists")throw new aM;if(r.code==="custom_field_data_not_unique")throw new sM;if(r.code==="username_already_exists")throw new fM;if(r.code==="too_many_verification_attempts")throw new uM;if(r.code==="invalid_phone"||r.code==="invalid_sms_verification")throw new cM(r.error)}throw n}}),hWe=e=>de(void 0,void 0,void 0,function*(){try{const t=yield cn().mergeUsers({environmentId:e});return Ii(t)}catch(t){throw yield Tr(t,"Error mergeUserAccounts"),t}}),pWe=(e,t)=>de(void 0,void 0,void 0,function*(){try{const n=yield cn().verifyMergeUsers({environmentId:e,mergeUserConflictResolutions:{mergeUserResolutions:t}});return Ii(n)}catch(n){throw yield Tr(n,"Error verifyMergeUsers"),n}}),mWe=e=>de(void 0,void 0,void 0,function*(){try{yield cn().hardDeleteUser({environmentId:e})}catch(t){throw yield Tr(t,"Error hardDeleteUser"),t}}),T3=e=>de(void 0,[e],void 0,function*({environmentId:t}){try{const n=yield cn().refreshAuth({environmentId:t});return Ii(n)}catch(n){yield Tr(n,"Error refreshUserJwt");return}}),gWe=e=>de(void 0,[e],void 0,function*({environmentId:t,filter:n}){try{return yield cn().getUserFieldsCheck({environmentId:t,filter:n})}catch(r){yield Tr(r,"Error checking user field availability");return}}),yWe=e=>de(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,verifiedCredentialId:r}){const i=n==null?void 0:n.replace("-zerodev","");try{const o=yield cn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:i,verifiedCredentialId:r}});return Ii(o)}catch(o){yield Tr(o,"Error unlinkEmail");return}});var QO;(function(e){e[e.CHECK_FAILED=0]="CHECK_FAILED"})(QO||(QO={}));const vWe=()=>x.useCallback(t=>de(void 0,[t],void 0,function*({subdomain:n}){var r;const i=Qu(),o=yield gWe({environmentId:i,filter:{field:mO.NameServiceSubdomainHandle,value:n}});return o?{available:(r=o==null?void 0:o.available)!==null&&r!==void 0?r:!1,error:void 0}:{available:!1,error:QO.CHECK_FAILED}}),[]),Wce=e=>{if(!e.groupedWallets.length)throw new Error("Wallet group must have at least one wallet");const[t]=e.groupedWallets;if(t.chainGroup)return"multi-chain";if(t.walletGroup)return"multi-wallet"},LD=e=>{const n=new URLSearchParams(window.location.search).get("dev_isProgrammableNetworkSwitchSupported");return n?n==="true":e.switchNetworkOnlyFromWallet!==!0},eg=({walletConnector:e,network:t})=>{const n=e.getEnabledNetworks();return n.length?n.some(({chainId:i})=>String(i)===String(t)):!0},wWe=e=>{var t;return(t=e==null?void 0:e.filter(({enabledAt:n,authorizationUrl:r,redirectUrl:i})=>!!n&&!!r&&!!i))!==null&&t!==void 0?t:[]},qce=e=>{if(!e)return null;const t=Object.values(pn);for(const n of t)if(n===e)return n;return null},bWe=e=>{if(!e)return[];const t=[];for(const n of e){const r=qce(n.provider);r&&n.enabled&&t.push(r)}return t},zce=e=>{var t;return!!(!((t=e==null?void 0:e.kyc.find(({name:n})=>n==="social"))===null||t===void 0)&&t.enabled)},_We=(e,t,n)=>de(void 0,void 0,void 0,function*(){try{yield cn().initAuth({environmentId:e,oauthInitAuthRequest:n,providerType:t})}catch(r){let i;try{i=yield r.json(),Ie.error(i)}catch{throw Ie.error(r),r}throw new Error(i.error)}}),xWe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,i,{code:o,codeVerifier:s,state:a}){const l={code:o,codeVerifier:s,state:a};try{const c=yield cn().oauthVerify({environmentId:r,oauthRequest:l,providerType:i});return Ii(c)}catch(c){return UD(c)}}),kWe=e=>de(void 0,[e],void 0,function*({environmentId:t,primaryWalletId:n,verifiedCredentialId:r}){const i=n==null?void 0:n.replace("-zerodev","");try{const o=yield cn().verifyUnlink({environmentId:t,verifyUnlinkRequest:{primaryWalletId:i,verifiedCredentialId:r}});return Ii(o)}catch{return}}),SWe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,i,{code:o,codeVerifier:s,state:a,captchaToken:l,sessionPublicKey:c,ssoProviderId:d}){const u={captchaToken:l,code:o,codeVerifier:s,sessionPublicKey:c,ssoProviderId:d,state:a};try{const h=yield cn().oauthSignIn({environmentId:r,oauthRequest:u,providerType:i});return Ii(h)}catch(h){return FD(h)}}),IWe=(e,t,n)=>de(void 0,[e,t,n],void 0,function*(r,i,{state:o}){const s={state:o};try{return yield cn().oauthResult({environmentId:r,oauthResultRequest:s,providerType:i})}catch(a){yield Tr(a,"error getting oauth result");return}}),EWe=(e,t)=>de(void 0,void 0,void 0,function*(){try{const n=yield cn().farcasterSignIn({environmentId:e,farcasterSignInRequest:t});return Ii(n)}catch(n){return FD(n)}}),CWe=e=>de(void 0,void 0,void 0,function*(){try{const t=yield cn().farcasterVerify(e);return Ii(t)}catch(t){return UD(t)}}),lG=(e,t)=>de(void 0,void 0,void 0,function*(){const n={environmentId:e,oauthResultRequest:t};try{const r=yield cn().telegramSignIn(n);return Ii(r)}catch(r){return FD(r)}}),AWe=(e,t)=>de(void 0,void 0,void 0,function*(){const n={environmentId:e,oauthResultRequest:t};try{const r=yield cn().telegramVerify(n);return Ii(r)}catch(r){return UD(r)}}),UD=e=>de(void 0,void 0,void 0,function*(){const t=yield Tr(e,"error verifying social");if(t.code==="social_account_already_exists")throw new Hie;if(t.error.code==="sandbox_maximum_threshold_reached")throw new Ld(t.error.message)}),FD=e=>de(void 0,void 0,void 0,function*(){var t,n,r;const i=yield Tr(e,"error signin social");if(i.error.code==="gate_blocked")throw new lM(i.payload.walletPublicKey);if(i.error.code==="missing_from_list")throw new Q0({socialProvider:(t=i==null?void 0:i.payload)===null||t===void 0?void 0:t.socialProvider,socialUsername:(n=i==null?void 0:i.payload)===null||n===void 0?void 0:n.socialUsername,walletPublicKey:(r=i==null?void 0:i.payload)===null||r===void 0?void 0:r.walletPublicKey});if(i.code==="email_associated_with_different_provider")throw new z1(i.error,i.payload);if(i.error.code==="sandbox_maximum_threshold_reached")throw new Ld(i.error.message)}),RWe=e=>{const n=new TextEncoder().encode(e);return window.crypto.subtle.digest("SHA-256",n)},TWe=e=>{const t=[];return new Uint8Array(e).forEach(n=>t.push(n)),btoa(String.fromCharCode.apply(null,t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},OWe=e=>{const t=[];for(const n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},WD=(e,t)=>e.find(n=>n.provider===t),NWe={customMobileUrl:!0,response_mode:"form_post",response_type:["code","id_token"]},PWe=(e,t)=>{if(!(!(t!=null&&t.customMobileUrl)||!rr()||!e.redirectUrl))return e.redirectUrl.replace("redirect","authorizeHtml")},BWe=(e,t)=>{var n,r,i;const o=WD(e,t);if(!(o!=null&&o.clientId))return"";let s;t===pn.Apple&&(s=NWe);let a;if(t===pn.Telegram)a=(n=o.authorizationUrl)!==null&&n!==void 0?n:"";else if(o.baseAuthUrl)t===pn.Shopify?a=o.baseAuthUrl.replace("{{shopifyStore}}",(r=o.shopifyStore)!==null&&r!==void 0?r:""):a=o.baseAuthUrl;else return"";const l=PWe(o,s),c={client_id:o.clientId,redirect_uri:(i=o.redirectUrl)!==null&&i!==void 0?i:"",response_type:"code"};t===pn.Tiktok&&(delete c.client_id,c.client_key=o.clientId),t===pn.Google&&(c.access_type="offline"),o.scopes&&(c.scope=o.scopes),s!=null&&s.prompt&&(c.prompt=s.prompt.join(" ")),s!=null&&s.response_mode&&(c.response_mode=s.response_mode),s!=null&&s.response_type&&(c.response_type=s.response_type.join(" "));const d=OWe(c);return`${l??a}?${d}`},d1="dynamic_social_storage",MWe=e=>{var t;const n=ot.getItem(d1);if(!n)return;const r=Object.entries(n),[i]=(t=r.find(([,{state:o}])=>o===e))!==null&&t!==void 0?t:[];if(i)return n[i]},DWe=(e,t)=>{var n;const r=(n=ot.getItem(d1))!==null&&n!==void 0?n:{};r[e]=Object.assign({provider:e},t),ot.setItem(d1,r)},jWe=e=>{var t;const n=(t=ot.getItem(d1))!==null&&t!==void 0?t:{};delete n[e],ot.setItem(d1,n)},$We="https://relay.farcaster.xyz/v1/channel",LWe="https://relay.farcaster.xyz/v1/channel/status",UWe=18e4,FWe=1e3,WWe=e=>de(void 0,void 0,void 0,function*(){try{const t=yield GI.fetch($We,{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return yield t.json()}catch(t){Ie.error("Error connecting with farcaster:",t);return}}),qWe=(e,...t)=>de(void 0,[e,...t],void 0,function*(n,r=1){try{const i=yield GI.fetch(LWe,{headers:{Authorization:`Bearer ${n.channelToken}`,"Content-Type":"application/json"},method:"GET"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return yield i.json()}catch(i){return Ie.warn(`Error fetching farcaster connect status, trying again. Attempt: ${r}`,i),{error:JSON.stringify(i),state:"retry"}}}),zWe=(e,...t)=>de(void 0,[e,...t],void 0,function*(n,{timeout:r=UWe,interval:i=FWe}={}){const o=Date.now()+r;let s=!0,a;rt.on("farcasterConnectCancelled",()=>{s=!1,a==null||a(),a=void 0});const l=u=>{a=u,setTimeout(u,i)};let c=0,d="Unknown error";for(;s&&Date.now()<o;){c++;const u=yield qWe(n,c);if(u.state==="completed")return{data:u,type:"success"};u.state==="retry"?d=u.error:d="Timed out: Farcaster connection status still pending",yield new Promise(l)}return s?(Ie.error(`Polling farcaster connect status timed out after ${r}ms`),{error:d,type:"timeout"}):{type:"cancelled"}}),ra={GoogleDrive:Nh.GoogleDrive,ICloud:Nh.ICloud};var cG,dG,VWe=["title","titleId"];function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eN.apply(null,arguments)}function KWe(e,t){if(e==null)return{};var n,r,i=HWe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var GWe=function(t){var n=t.title,r=t.titleId,i=KWe(t,VWe);return x.createElement("svg",eN({width:20,height:24,viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,cG||(cG=x.createElement("g",{clipPath:"url(#google-drive_svg__a)"},x.createElement("path",{d:"m1.512 21.141.882 1.705c.183.36.447.641.756.846L6.3 17.59H0c0 .397.092.795.275 1.154l1.237 2.397Z",fill:"#0066DA"}),x.createElement("path",{d:"M10 10.41 6.85 4.308a2.22 2.22 0 0 0-.756.846L.274 16.436A2.54 2.54 0 0 0 0 17.59h6.3l3.7-7.18Z",fill:"#00AC47"}),x.createElement("path",{d:"M16.85 23.692a2.22 2.22 0 0 0 .756-.846l.366-.705 1.753-3.397A2.54 2.54 0 0 0 20 17.59h-6.3l1.34 2.948 1.81 3.154Z",fill:"#EA4335"}),x.createElement("path",{d:"m10 10.41 3.15-6.102A1.852 1.852 0 0 0 12.119 4H7.88a1.96 1.96 0 0 0-1.031.308L10 10.41Z",fill:"#00832D"}),x.createElement("path",{d:"M13.7 17.59H6.3l-3.15 6.102c.31.205.665.308 1.031.308H15.82a1.96 1.96 0 0 0 1.031-.308L13.7 17.59Z",fill:"#2684FC"}),x.createElement("path",{d:"m16.816 10.795-2.91-5.641a2.221 2.221 0 0 0-.756-.846L10 10.41l3.7 7.18h6.288a2.54 2.54 0 0 0-.274-1.154l-2.898-5.641Z",fill:"#FFBA00"}))),dG||(dG=x.createElement("defs",null,x.createElement("clipPath",{id:"google-drive_svg__a"},x.createElement("path",{fill:"#fff",transform:"translate(0 4)",d:"M0 0h20v20H0z"})))))},uG,fG,JWe=["title","titleId"];function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tN.apply(null,arguments)}function ZWe(e,t){if(e==null)return{};var n,r,i=YWe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var XWe=function(t){var n=t.title,r=t.titleId,i=ZWe(t,JWe);return x.createElement("svg",tN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,uG||(uG=x.createElement("path",{d:"M11.468 4.074a5.426 5.426 0 0 0-4.724 2.777 2.976 2.976 0 0 0-1.299-.3 2.976 2.976 0 0 0-2.93 2.5A4.098 4.098 0 0 0 0 12.83a4.098 4.098 0 0 0 4.1 4.094c.172-.001.344-.014.514-.037h11.393c.06.005.12.007.18.009l.171-.009h.273v-.02a3.809 3.809 0 0 0 2.404-1.259c.621-.7.964-1.606.965-2.545v-.007a3.844 3.844 0 0 0-.88-2.44A3.811 3.811 0 0 0 16.894 9.3a5.425 5.425 0 0 0-5.426-5.226Z",fill:"url(#icloud_svg__a)"})),fG||(fG=x.createElement("defs",null,x.createElement("linearGradient",{id:"icloud_svg__a",x1:20.061,y1:13.075,x2:-.007,y2:12.798,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#3E82F4"}),x.createElement("stop",{offset:1,stopColor:"#93DCF7"})))))};const u1={[ra.GoogleDrive]:{icon:f.jsx(GWe,{className:"waas-backup-view__provider-icon"}),id:ra.GoogleDrive,name:"Google Drive",oauthProvider:pn.Google,requiresIframe:!1,requiresOAuth:!0},[ra.ICloud]:{icon:f.jsx(XWe,{className:"waas-backup-view__provider-icon"}),id:ra.ICloud,name:"iCloud",requiresIframe:!0,requiresOAuth:!1}},QWe={[Nh.GoogleDrive]:ra.GoogleDrive,[Nh.ICloud]:ra.ICloud},eqe=e=>{const t=Object.values(u1);if(!e||e.length===0)return t;const n=new Set(e.map(r=>QWe[r]).filter(r=>r!==void 0));return t.filter(r=>n.has(r.id))},Vce=x.createContext(void 0),tqe=({children:e})=>{const[t,n]=x.useState(null),r=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(t)return t;try{const s=yield fetch("http://ip-api.com/json");if(!s.ok)return;const a=yield s.json();if(a.status!=="success")return;const{country:l,countryCode:c}=a,d={country:l,countryCode:c};return n(d),d}catch(s){Jn.warn("Error fetching IP configuration",s);return}}),[t,n]),i=x.useCallback(()=>{n(null)},[n]),o=x.useMemo(()=>({getIpConfiguration:r,removeIpConfiguration:i}),[r,i]);return f.jsx(Vce.Provider,{value:o,children:e})},nqe=()=>{const e=x.useContext(Vce);if(e===void 0)throw new Error("usage of useIpConfigurationContext not wrapped in `IpConfigurationContextProvider`.");return e},Kce=x.createContext(void 0),rqe={algorand:s6e,aptos:a6e,bitcoin:l6e,cosmos:c6e,eclipse:d6e,evm:qoe,flow:u6e,solana:f6e,spark:h6e,starknet:p6e,sui:m6e,ton:g6e,tron:y6e},Hc=e=>{var t,n,r;const i=(n=(t=Lm(e))===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"";return(r=rqe[i])!==null&&r!==void 0?r:Jh},Hce=x.createContext(void 0),iqe=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(new Set);return f.jsxs(Hce.Provider,{value:x.useMemo(()=>({closeCard:o=>i(s=>(s.delete(o),new Set(s))),openCard:o=>i(s=>(s.add(o),new Set(s))),portal:t}),[t]),children:[e,r.size>0&&f.jsx("div",{className:"overlay-card-target",ref:n})]})},oqe=e=>{var t;const n=x.useContext(Hce),r="overlay-card-target-id";return x.useEffect(()=>{if(!(!n||!e))return n.openCard(r),()=>{n.closeCard(r)}},[n,r,e]),(t=n==null?void 0:n.portal)!==null&&t!==void 0?t:void 0},sqe=e=>{var t;return(t=e==null?void 0:e.filter(({enabled:n})=>!!n))!==null&&t!==void 0?t:[]},Gce=["social"],aqe=(e,t)=>Object.entries(e).reduce((r,[i,o])=>{if(o){const s=t.find(a=>a.name===i);s&&!s.enabled&&r.push(Object.assign({},s))}return r},[]),lqe=e=>sqe(e).filter(({name:t,type:n})=>n===Ed.Custom||!Gce.includes(t)),cqe=({projectSettingsKyc:e=[],user:t})=>t?aqe(t,e).filter(({name:r})=>!Gce.includes(r)):[],qD=({projectSettingsKyc:e=[],customFields:t=[],user:n})=>{var r,i;const o=lqe([...e,...t]),s=cqe({projectSettingsKyc:e,user:n});let a=[...o,...s];a=a.filter(h=>h.name!=="policiesConsent");const l=(r=n==null?void 0:n.verifiedCredentials)===null||r===void 0?void 0:r.find(({walletProvider:h})=>h===Ao.EmbeddedWallet),c=((i=l==null?void 0:l.walletProperties)===null||i===void 0?void 0:i.version)===Lc.V1,d=!!(n!=null&&n.email),u=!!(n!=null&&n.phoneNumber);return c&&(a=a.map(h=>h.name==="email"&&d||h.name==="phoneNumber"&&u?Object.assign(Object.assign({},h),{enabled:!1}):h)),a.sort((h,m)=>{const v=e.findIndex(g=>g.name===h.name),y=e.findIndex(g=>g.name===m.name);return v-y})};function Dl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dqe(e){return Object.entries(e).filter(function(t){t[0];var n=t[1];return n||n===!1}).map(function(t){var n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&")}var hG="hcaptcha-api-script-id",pG="hcaptchaOnLoad",Jce,Zce,mG=new Promise(function(e,t){Jce=e,Zce=t}),uqe=function(t){if(t===void 0&&(t={}),document.getElementById(hG))return mG;window[pG]=Jce;var n=t.apihost||"https://js.hcaptcha.com";delete t.apihost;var r=document.createElement("script");r.id=hG,r.src=n+"/1/api.js?render=explicit&onload="+pG,r.async=!0,r.onerror=function(o){return Zce("script-error")};var i=dqe(t);return r.src+=i!==""?"&"+i:"",document.head.appendChild(r),mG},fqe=(function(e){Lle(t,e);function t(r){var i;i=e.call(this,r)||this,i.renderCaptcha=i.renderCaptcha.bind(Dl(i)),i.resetCaptcha=i.resetCaptcha.bind(Dl(i)),i.removeCaptcha=i.removeCaptcha.bind(Dl(i)),i.isReady=i.isReady.bind(Dl(i)),i.loadCaptcha=i.loadCaptcha.bind(Dl(i)),i.handleOnLoad=i.handleOnLoad.bind(Dl(i)),i.handleSubmit=i.handleSubmit.bind(Dl(i)),i.handleExpire=i.handleExpire.bind(Dl(i)),i.handleError=i.handleError.bind(Dl(i)),i.handleOpen=i.handleOpen.bind(Dl(i)),i.handleClose=i.handleClose.bind(Dl(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(Dl(i));var o=typeof hcaptcha<"u";return i.ref=x.createRef(),i.apiScriptRequested=!1,i.state={isApiReady:o,isRemoved:!1,elementId:r.id,captchaId:""},i}var n=t.prototype;return n.componentDidMount=function(){var i=this.state.isApiReady;if(i){this.renderCaptcha();return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this.state.captchaId;this.isReady()&&(hcaptcha.reset(i),hcaptcha.remove(i))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,s=["sitekey","size","theme","tabindex","languageOverride","endpoint"],a=s.every(function(l){return i[l]===o.props[l]});a||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,s=i.assethost,a=i.endpoint,l=i.host,c=i.imghost,d=i.languageOverride,u=i.reCaptchaCompat,h=i.reportapi,m=i.sentry,v=i.custom,y={apihost:o,assethost:s,endpoint:a,hl:d,host:l,imghost:c,recaptchacompat:u===!1?"off":null,reportapi:h,sentry:m,custom:v};uqe(y).then(this.handleOnLoad).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this.state.isApiReady;if(o){var s=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),a=hcaptcha.render(this.ref.current,s);this.setState({isRemoved:!1,captchaId:a},function(){i&&i()})}},n.resetCaptcha=function(){var i=this.state.captchaId;this.isReady()&&hcaptcha.reset(i)},n.removeCaptcha=function(i){var o=this.state.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){hcaptcha.remove(o),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){i.renderCaptcha(function(){var o=i.props.onLoad;o&&o()})})},n.handleSubmit=function(i){var o=this.props.onVerify,s=this.state,a=s.isRemoved,l=s.captchaId;if(!(typeof hcaptcha>"u"||a)){var c=hcaptcha.getResponse(l),d=hcaptcha.getRespKey(l);o(c,d)}},n.handleExpire=function(){var i=this.props.onExpire,o=this.state.captchaId;this.isReady()&&(hcaptcha.reset(o),i&&i())},n.handleError=function(i){var o=this.props.onError,s=this.state.captchaId;this.isReady()&&hcaptcha.reset(s),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,s=i.isRemoved;return o&&!s},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){i===void 0&&(i=null);var o=this.state.captchaId;if(this.isReady())return i&&typeof i!="object"&&(i=null),hcaptcha.execute(o,i)},n.setData=function(i){var o=this.state.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),hcaptcha.setData(o,i))},n.getResponse=function(){return hcaptcha.getResponse(this.state.captchaId)},n.getRespKey=function(){return hcaptcha.getRespKey(this.state.captchaId)},n.render=function(){var i=this.state.elementId;return x.createElement("div",{ref:this.ref,id:i})},t})(x.Component);const Yce={[Oh.Coinbase]:pn.Coinbasesocial,[Oh.Kraken]:pn.Kraken},hqe=Object.fromEntries(Object.entries(Yce).map(([e,t])=>[t,e])),f1=e=>{const t=Yce[e];if(t)return t;const n=pn[e];if(n)return n;throw new Error(`convertExchangeKeytoProviderEnum: No ProviderEnum value found for ExchangeKeyEnum.${e}`)},NS=e=>{const t=hqe[e];if(t)return t;const n=Oh[e];if(n)return n;throw new Error(`convertProviderToExchangeKeyEnum: No ExchangeKeyEnum value found for ProviderEnum.${e}`)};var gG,pqe=["title","titleId"];function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN.apply(null,arguments)}function mqe(e,t){if(e==null)return{};var n,r,i=gqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Oi=function(t){var n=t.title,r=t.titleId,i=mqe(t,pqe);return x.createElement("svg",nN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,gG||(gG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41 4.41a.833.833 0 0 1 1.18 0L10 8.822l4.41-4.41a.833.833 0 1 1 1.18 1.178L11.178 10l4.41 4.41a.833.833 0 1 1-1.178 1.18L10 11.177 5.588 15.59a.833.833 0 1 1-1.178-1.178L8.82 10l-4.41-4.41a.833.833 0 0 1 0-1.18Z",fill:"currentcolor"})))},yG,vG,yqe=["title","titleId"];function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rN.apply(null,arguments)}function vqe(e,t){if(e==null)return{};var n,r,i=wqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var jh=function(t){var n=t.title,r=t.titleId,i=vqe(t,yqe);return x.createElement("svg",rN({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,yG||(yG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.333 1.667a2.5 2.5 0 0 0-2.5 2.5v1.666H7.5V4.167c0-.46.373-.834.833-.834h7.5c.46 0 .833.373.833.834v7.5c0 .46-.373.833-.833.833h-1.667v1.667h1.667a2.5 2.5 0 0 0 2.5-2.5v-7.5a2.5 2.5 0 0 0-2.5-2.5h-7.5Z",fill:"currentColor"})),vG||(vG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.667 8.333a2.5 2.5 0 0 1 2.5-2.5h7.5a2.5 2.5 0 0 1 2.5 2.5v7.5a2.5 2.5 0 0 1-2.5 2.5h-7.5a2.5 2.5 0 0 1-2.5-2.5v-7.5Zm2.5-.833a.833.833 0 0 0-.833.833v7.5c0 .46.373.834.833.834h7.5c.46 0 .833-.373.833-.834v-7.5a.833.833 0 0 0-.833-.833h-7.5Z",fill:"currentColor"})))},wG,bqe=["title","titleId"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iN.apply(null,arguments)}function _qe(e,t){if(e==null)return{};var n,r,i=xqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var k0=function(t){var n=t.title,r=t.titleId,i=_qe(t,bqe);return x.createElement("svg",iN({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,wG||(wG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.333 1.333a.667.667 0 1 1 0-1.333h4c.368 0 .667.298.667.667v4a.667.667 0 0 1-1.333 0v-2.39L5.138 7.804a.667.667 0 1 1-.943-.943l5.529-5.529h-2.39ZM2 2.667a.667.667 0 0 0-.667.666V10c0 .368.299.667.667.667h6.667A.667.667 0 0 0 9.333 10V7.333a.667.667 0 0 1 1.334 0V10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3.333a2 2 0 0 1 2-2h2.667a.667.667 0 0 1 0 1.334H2Z",fill:"currentColor"})))};const Xce=({children:e,className:t,dataTestId:n,disabled:r,onClick:i,type:o,style:s,ariaLabel:a,ariaExpanded:l,ariaControls:c,buttonRef:d})=>f.jsx("button",{type:o,className:t,ref:d,onClick:i,disabled:r,"data-testid":n,style:s,"aria-label":a,"aria-expanded":l,"aria-controls":c,children:e});var bG,_G,kqe=["title","titleId"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oN.apply(null,arguments)}function Sqe(e,t){if(e==null)return{};var n,r,i=Iqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Eqe=function(t){var n=t.title,r=t.titleId,i=Sqe(t,kqe);return x.createElement("svg",oN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,x.createElement("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2,style:{opacity:.1}}),x.createElement("mask",{id:"spinner_svg__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},bG||(bG=x.createElement("circle",{cx:12,cy:12,r:11,stroke:"currentColor",strokeWidth:2}))),_G||(_G=x.createElement("g",{mask:"url(#spinner_svg__a)"},x.createElement("path",{fill:"currentColor",d:"M12-16.5h27v27H12z"}))))};const x_=({className:e=""})=>f.jsx(Eqe,{className:Ke("spinner",e)}),Qce="primary",km=({buttonClassName:e="",className:t,style:n,buttonPadding:r="medium",buttonVariant:i=Qce,buttonRef:o,children:s,feedback:a,expanded:l,dataTestId:c,disabled:d=!1,showInternalLoading:u=!0,loading:h=!1,onClick:m,type:v,startSlot:y,endSlot:g})=>{const[b,k]=x.useState(!1),[_,R]=x.useState(!1),I=Ke("button",{"button--expanded":!!l,"button--loading":!!h},r?`button--padding-${r}`:"",i?`button--${i}`:"",e,t),T=M=>de(void 0,void 0,void 0,function*(){if(m){const C=m(M);if(C instanceof Promise){u&&k(!0);try{yield C}finally{k(!1)}}}a&&(R(!0),setTimeout(()=>{R(!1)},2e3))}),D=f.jsxs(f.Fragment,{children:[y&&f.jsx("div",{className:"button__start-slot",children:y}),(a||s)&&(_&&a?a:s),g&&f.jsx("div",{className:"button__end-slot",children:g})]});return f.jsxs(Xce,{type:v,buttonRef:o,onClick:T,className:I,disabled:d||b||h,dataTestId:c,style:n,ariaExpanded:l,children:[(b||h)&&f.jsx("div",{className:"button__spinner-container","data-testid":"button__spinner",children:f.jsx(x_,{className:"button__spinner"})}),D]})},Ut=e=>`${e/16}rem`,Cqe=e=>{const t=o=>typeof window<"u"?window.matchMedia(o).matches:!1,[n,r]=x.useState(t(e)),i=()=>r(t(e));return x.useEffect(()=>{const o=window.matchMedia(e);return i(),o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[e]),n},Aqe=()=>Cqe("(prefers-color-scheme: dark)")?"dark":"light",k_=()=>{const{theme:{theme:{name:e}}}=c_(),t=Aqe();return e==="auto"?t:e},Rqe="#4779FF",ede=({className:e="",size:t=16,customSpinnerColor:n=""})=>{const{theme:r}=c_(),i=n||r.customColor||Rqe;return f.jsxs("svg",{style:{height:Ut(t),width:Ut(t)},viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,"data-testid":"spinner",children:[f.jsx("mask",{id:"path-1-inside-1_1433_60360",fill:"white",children:f.jsx("path",{d:"M40.53 42C41.3419 42 42.0027 41.3416 41.9743 40.5303C41.7987 35.5162 40.726 30.5699 38.8029 25.9273C36.6922 20.8316 33.5985 16.2016 29.6985 12.3015C25.7984 8.40145 21.1684 5.30776 16.0727 3.19706C11.4301 1.27403 6.48384 0.201284 1.46972 0.0257219C0.658363 -0.00268681 0 0.658141 0 1.47C0 2.28186 0.658382 2.93711 1.46967 2.96766C6.09758 3.1419 10.6617 4.138 14.9476 5.91326C19.6866 7.87621 23.9925 10.7534 27.6196 14.3804C31.2467 18.0075 34.1238 22.3134 36.0867 27.0524C37.862 31.3383 38.8581 35.9024 39.0323 40.5303C39.0629 41.3416 39.7181 42 40.53 42Z"})}),f.jsx("path",{d:"M40.53 42C41.3419 42 42.0027 41.3416 41.9743 40.5303C41.7987 35.5162 40.726 30.5699 38.8029 25.9273C36.6922 20.8316 33.5985 16.2016 29.6985 12.3015C25.7984 8.40145 21.1684 5.30776 16.0727 3.19706C11.4301 1.27403 6.48384 0.201284 1.46972 0.0257219C0.658363 -0.00268681 0 0.658141 0 1.47C0 2.28186 0.658382 2.93711 1.46967 2.96766C6.09758 3.1419 10.6617 4.138 14.9476 5.91326C19.6866 7.87621 23.9925 10.7534 27.6196 14.3804C31.2467 18.0075 34.1238 22.3134 36.0867 27.0524C37.862 31.3383 38.8581 35.9024 39.0323 40.5303C39.0629 41.3416 39.7181 42 40.53 42Z",stroke:"url(#paint0_linear_1433_60360)",strokeWidth:"4",mask:"url(#path-1-inside-1_1433_60360)"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:"paint0_linear_1433_60360",x1:"41",y1:"42",x2:"1.5",y2:"-1.82007e-07",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:i}),f.jsx("stop",{offset:"1",stopColor:i,stopOpacity:"0"})]})})]})};var xG,Tqe=["title","titleId"];function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sN.apply(null,arguments)}function Oqe(e,t){if(e==null)return{};var n,r,i=Nqe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Pqe=function(t){var n=t.title,r=t.titleId,i=Oqe(t,Tqe);return x.createElement("svg",sN({width:17,height:12,viewBox:"0 0 17 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,xG||(xG=x.createElement("path",{d:"M3.84 2.345c2.573-3.127 6.747-3.127 9.32 0l.31.376a.463.463 0 0 1 0 .566l-1.06 1.287a.145.145 0 0 1-.232 0l-.427-.518c-1.795-2.18-4.707-2.18-6.502 0l-.457.555a.145.145 0 0 1-.233 0L3.5 3.324a.463.463 0 0 1 0-.566l.34-.413Zm11.512 2.661.943 1.146a.463.463 0 0 1 0 .566l-4.252 5.165a.29.29 0 0 1-.466 0L8.558 8.217a.073.073 0 0 0-.116 0l-3.018 3.666a.29.29 0 0 1-.466 0L.705 6.718a.463.463 0 0 1 0-.566l.943-1.146a.29.29 0 0 1 .466 0l3.018 3.666c.032.04.085.04.117 0l3.018-3.666a.29.29 0 0 1 .466 0l3.018 3.666c.033.04.085.04.117 0l3.018-3.666a.29.29 0 0 1 .466 0Z",fill:"currentColor"})))};const Bqe=({indicator:e,iconSize:t})=>{const n={container:t*4/15,icon:t*3/15},r={container:t/6,icon:t/9};return e==="walletConnect"?f.jsx("div",{className:"indicator__wallet-connect",style:{height:Ut(n.container),width:Ut(n.container)},children:f.jsx(Pqe,{style:{height:Ut(n.icon),width:Ut(n.icon)}})}):f.jsx("div",{className:"indicator__container indicator__container--connected",style:{height:Ut(r.container),width:Ut(r.container)},"data-testid":"connected-indicator",children:f.jsx("div",{className:"indicator__icon",style:{height:Ut(r.icon),width:Ut(r.icon)}})})},Yo=7/11,si=({iconSize:e=24,Icon:t,isSpinning:n=!1,className:r,style:i,indicator:o,customSpinnerColor:s,treatAsFunctionComponent:a})=>{const l=e*Yo,c=e/2,d=Ke("icon-with-spinner__container",r),u=t;return f.jsxs("div",{className:d,style:Object.assign({height:Ut(e),width:Ut(e)},i),children:[t&&f.jsxs("div",{style:{height:Ut(l),width:Ut(l)},className:"icon-with-spinner__icon-container",children:[a||typeof t=="function"?f.jsx(u,{height:l,width:l}):t,o&&f.jsx(Bqe,{indicator:o,iconSize:e})]}),n&&!aO()&&f.jsx("div",{className:"icon-with-spinner__spinner-container icon-with-spinner__animation","data-chromatic":"ignore",style:{height:Ut(e),width:Ut(e)},children:f.jsx(ede,{className:"icon-with-spinner__spinner",customSpinnerColor:s,size:c})})]})},kG=4,SG=4,Ni=e=>e?e.length<=kG+SG?e:e.replace(e.substring(kG,Number(e.length)-SG),"..."):"",Zn=({alignContent:e,children:t,leading:n,displayLeading:r=!0,trailing:i,displayTrailing:o=!0,style:s,displayBorder:a,description:l,variant:c="default"})=>{const d=r&&n&&x.Children.count(n),u=o&&i&&x.Children.count(i),h=Ke("modal-header__content__trailing",{"modal-header__content__trailing--empty":!u});return f.jsxs("div",{className:Ke("modal-header",{"modal-header--border":a,"modal-header--empty":!d&&!t&&!u,"modal-header--filled":c==="filled"}),style:s,children:[f.jsxs("div",{className:Ke("modal-header__content",e&&`modal-header__content--align-content-${e}`),children:[r&&f.jsx("div",{className:Ke("modal-header__content__leading",{"modal-header__content__leading--empty":!d}),children:n}),t,RO()&&f.jsx("div",{id:"modal-header-gw-menu",className:h}),o&&!RO()&&f.jsx("div",{className:h,children:i})]}),l]})},Mqe={"brand-primary":"button_primary",card:"body_normal",danger:"button_primary",primary:"button_primary",secondary:"button_secondary",tertiary:"button_tertiary"},Dqe={"brand-primary":"primary",card:"primary",danger:"white",primary:"primary",secondary:"primary",tertiary:"secondary"},xt=e=>{var t,{children:n,typographyProps:r,copykey:i,disabled:o,leading:s,trailing:a,buttonVariant:l=Qce,description:c}=e,d=bs(e,["children","typographyProps","copykey","disabled","leading","trailing","buttonVariant","description"]);const u=Mqe[l],h=Dqe[l];return f.jsxs(km,Object.assign({},d,{disabled:o,buttonVariant:l,children:[s,f.jsxs("div",{className:Ke("typography-button__content",{"typography-button__content--with-description":!!c}),children:[f.jsx(se,Object.assign({variant:u,as:"span"},r,{color:o?"tertiary":(t=r==null?void 0:r.color)!==null&&t!==void 0?t:h,copykey:i,children:n})),c&&f.jsx(se,{variant:"body_small",color:"secondary",weight:"medium",children:c})]}),a]}))},tde=({get:e,set:t})=>(n,r)=>t(Object.assign(Object.assign({},e()),{[n]:r})),{getSendBalanceState:jqe,setSendBalanceState:$qe,useSendBalanceState:zD,resetSendBalanceState:Lqe}=Vc("sendBalanceState"),h1=tde({get:jqe,set:$qe}),Uqe=()=>{if(typeof window<"u")return window.location.origin},Fqe=e=>de(void 0,[e],void 0,function*({environmentId:t,userOperation:n,chainId:r,value:i,entryPoint:o}){try{const s={environmentId:t,simulateUserOpRequest:{chainId:r,entryPoint:o.address,operation:n,value:i}};return yield cn().simulateUserOp(s)}catch(s){return Ie.warn("simulateBlockaidUserOperation error",s),s instanceof Error&&s.message.includes("AA21 didn't pay prefund")?{inAssets:[],outAssets:[],priceData:{nativeTokenUsdPrice:void 0},showTotalFiat:!1}:void 0}}),Wqe=e=>de(void 0,[e],void 0,function*({environmentId:t,chainId:n,from:r,to:i,value:o,data:s}){try{const l={environmentId:t,simulateEVMTransactionRequest:{chainId:n,data:s,from:r,to:i,value:o}};return yield cn().simulateEVMTransaction(l)}catch(a){Ie.warn("simulateBlockaidEVMTransaction error",a);return}}),qqe=e=>de(void 0,[e],void 0,function*({environmentId:t,chain:n,accountAddress:r,transactions:i}){var o;try{const s={environmentId:t,simulateSVMTransactionRequest:{accountAddress:r,chain:n,domain:(o=Uqe())!==null&&o!==void 0?o:"https://example.com",method:"signAllTransactions",transactions:i}};return yield cn().simulateSVMTransaction(s)}catch(s){Ie.warn("simulateBlockaidSVMTransaction error",s);return}}),zqe=(e,t)=>{const n=x.useRef(e);g_(()=>{n.current=e},[e]),x.useEffect(()=>{if(!t&&t!==0)return;const r=setInterval(()=>n.current(),t);return()=>clearInterval(r)},[t])},Xo=(e,t={})=>{const[n,r]=x.useState({isLoading:!1}),i=x.useCallback(o=>de(void 0,void 0,void 0,function*(){var s,a;let l;r({isLoading:!0});try{const c=e(o);c instanceof Promise?l=yield c:l=c,r({data:l,isLoading:!1});try{(s=t==null?void 0:t.onSuccess)===null||s===void 0||s.call(t,l,o)}catch(d){Jn.error(d)}return l}catch(c){r({error:c,isLoading:!1}),Jn.error(c);try{(a=t==null?void 0:t.onFailure)===null||a===void 0||a.call(t,c,o)}catch(d){Jn.error(d)}}}),[e,t]);return Object.assign(Object.assign({},n),{hasData:!!n.data,hasError:!!n.error,mutate:i})},Vqe={[qs.UNKNOWN]:"dyn_error.default",[qs.DEFAULT]:"dyn_error.default",[qs.USER_REJECTED]:"dyn_error.user_rejected",[qs.MESSAGE_SIGNATURE_DENIED]:"dyn_error.message_signature_denied",[qs.WALLET_LOCKED]:"dyn_error.wallet_locked",[qs.INVALID_PARAMETERS]:"dyn_error.invalid_parameters",[qs.INTERNAL_ERROR]:"dyn_error.internal_error",[qs.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE]:"dyn_error.account_already_linked_to_different_profile",[qs.CONNECTION_REJECTED]:"dyn_error.connection_rejected",[qs.MISSING_PUBLIC_ADDRESS]:"dyn_error.missing_public_address",[qs.CONNECTION_PROPOSAL_EXPIRED]:"dyn_error.connection_proposal_expired",[qs.SEI_NOT_ENABLED_IN_KEPLR_WALLET]:"dyn_error.sei_not_enabled_in_keplr_wallet"},Kqe=()=>{const{t:e}=Xe(),{error:t,errorCode:n}=so();return{errorText:x.useMemo(()=>{var i;return n?e((i=Vqe[n])!==null&&i!==void 0?i:"dyn_error.default"):t},[t,n,e])}},IG=e=>{var t,n,r;const i=rv();return!!(!((r=(n=(t=i==null?void 0:i.security)===null||t===void 0?void 0:t.mfa)===null||n===void 0?void 0:n.methods)===null||r===void 0)&&r.find(o=>o.type===e&&o.enabled))},nde=()=>x.useCallback(()=>de(void 0,void 0,void 0,function*(){return Dse()}),[]),Hqe={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.passkey_description",labelKey:"dyn_mfa.choose_device_view.passkey",type:Ji.Passkey},Gqe={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.authenticator_app_description",labelKey:"dyn_mfa.choose_device_view.authenticator_app",type:Ji.Totp},Jqe={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.backup_code_description",labelKey:"dyn_mfa.choose_device_view.backup_code",type:"backupCode"},Zqe=e=>{const t=nde();return x.useCallback(()=>de(void 0,void 0,void 0,function*(){const n=yield t(),r=e?IG(Ji.Totp):n.devices.length>0,i=e?IG(Ji.Passkey):n.passkeys.length>0;if(!r&&!i)return[];const o=[];i&&o.push(Hqe),r&&o.push(Gqe);const s=h_();return!e&&(s==null?void 0:s.mfaBackupCodeAcknowledgement)===zu.Complete&&o.push(Jqe),o}),[t,e])},O3=(e,t)=>{var n,r,i;if(!e)return;if(t)return(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.find(s=>s.format===t))===null||r===void 0?void 0:r.format;const o=(i=e.verifiedCredentials)===null||i===void 0?void 0:i.find(s=>s.id===e.lastVerifiedCredentialId);return o==null?void 0:o.format},p1=(e,t)=>{const{walletName:n,chain:r}=e;if(n==="turnkeyhd"||n==="dynamicwaas"){const o=e.chain?ec[e.chain]:void 0;return t.find(s=>n===s.key&&s.walletConnector.connectedChain===o)}if(n!=="unknown"){const o=r?ec[r]:void 0,s=t.find(a=>a.key===n&&(!o||a.walletConnector.connectedChain===o));if(s)return s}const i=t.filter(o=>o.key==="fallbackconnector");if(r){const o=i.find(({walletConnector:s})=>jae(s.connectedChain,r));if(o)return o}return i[0]},Yqe={[pn.CoinbaseOnramp]:"popup",[pn.CryptoDotCom]:"popup"},EG=e=>{var t,n,r,i;const o=e.provider,s=(t=Yqe[o])!==null&&t!==void 0?t:"iframe";return{displayName:(r=(n=e.name)!==null&&n!==void 0?n:e.provider)!==null&&r!==void 0?r:"",iconUrl:(i=e.iconUrl)!==null&&i!==void 0?i:"",id:String(e.provider),openMode:s,url:e.url}},Xqe=(e,t)=>{const{screenLeft:n=window.screenX,screenTop:r=window.screenY}=window,{innerWidth:i=document.documentElement.clientWidth,innerHeight:o=document.documentElement.clientHeight}=window,s=n+(i-e)/2,a=r+(o-t)/2;return`toolbar=0,location=0,menubar=0,resizable=1,scrollbars=1,width=${e},height=${t},left=${s},top=${a}`},Qqe=(e,t,n,r)=>new Promise((i,o)=>{const s=window.open("","_blank",Xqe(t,n));if(!s){o(new Error("Popup blocked"));return}const a=setInterval(()=>{s.closed&&(clearInterval(a),window.removeEventListener("unload",l),r())},500);s.location.href=e;const l=()=>{clearInterval(a),s.closed||s.close(),window.removeEventListener("unload",l)};window.addEventListener("unload",l),i(l)}),CG={height:600,width:500},eze=(e,t,n,...r)=>de(void 0,[e,t,n,...r],void 0,function*(i,o,s,a=sS.CoinbaseOnramp){try{if(!i)throw new Error("Cannot open onramp popup: Empty URL");if(rr()&&a===sS.CryptoDotCom){window.open(i,"_blank","noopener,noreferrer"),s(!1);return}yield Qqe(i,CG.width,CG.height,()=>{s(!1)})}catch(l){throw s(!1),l instanceof Error?l:new Error("Error opening onramp popup")}}),yh=(e,t)=>{e.current&&(e.current.reject(t),e.current=null)},{getConnectorsInitializing:tze,resetConnectorsInitializing:R$t,setConnectorsInitializing:nze,useConnectorsInitializing:rze}=Vc("connectorsInitializing"),AG=(e,t)=>{const n=tze(),r=Object.assign(Object.assign({},n),{[e]:t});nze(r)},ize=12,oze=4,sze=4,RG=(e,t,n)=>e.replace(e.substring(t,n),"..."),m1=(e,t)=>{if(!e)return"";const n=(t==null?void 0:t.breakpoint)||ize,r=(t==null?void 0:t.cutStart)||sze,i=(t==null?void 0:t.cutEnd)||oze;let[o,s]=e.split("@");return(o==null?void 0:o.length)>n&&(o=RG(o,r,o.length-i)),(s==null?void 0:s.length)>n&&(s=RG(s,r,s.length-i)),`${o}@${s}`},nf=({className:e="",dot:t,text:n,copykey:r,variant:i="secondary"})=>f.jsxs("div",{className:Ke("badge__container",`badge__container__${i}`,e),children:[t&&f.jsx("span",{"data-testid":"badge__dot",className:"badge__dot"}),f.jsx("span",{copykey:r,children:n})]}),rde=({options:e,setShowMenu:t})=>f.jsx("div",{className:"dots-menu-dropdown__container",style:{zIndex:hse},children:e.map(n=>n.hide?null:f.jsxs("div",{className:"dots-menu-dropdown__item",onClick:()=>{n.callback(),t(!1)},children:[n.Icon&&f.jsx(Nt,{color:"text-tertiary",children:n.Icon}),f.jsxs(se,{copykey:n.copykey,className:"dots-menu-dropdown__item-text",color:n.fontColor?n.fontColor:"secondary",weight:n.fontWeight,children:[n.text," ",n.badge?f.jsx(nf,{text:n.badge}):null]}),n.endSlot&&f.jsx("div",{className:"dots-menu-dropdown__item__end-slot",children:n.endSlot})]},n.text))});var TG,aze=["title","titleId"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aN.apply(null,arguments)}function lze(e,t){if(e==null)return{};var n,r,i=cze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var dze=function(t){var n=t.title,r=t.titleId,i=lze(t,aze);return x.createElement("svg",aN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,TG||(TG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2a1.333 1.333 0 1 1 0 2.667A1.333 1.333 0 0 1 8 2Zm0 4.667a1.333 1.333 0 1 1 0 2.666 1.333 1.333 0 0 1 0-2.666Zm0 4.666A1.333 1.333 0 1 1 8 14a1.333 1.333 0 0 1 0-2.667Z",fill:"currentColor"})))};const ide=({options:e,buttonClassName:t,buttonClassNameWithOpenMenu:n,direction:r="right",iconOverride:i})=>{const o=x.useRef(null),[s,a]=x.useState(!1),l=x.useCallback(()=>{setTimeout(()=>a(!0),0)},[a]),c=x.useCallback(()=>{a(!1)},[a]);return f.jsxs(f.Fragment,{children:[f.jsx(Sn,{ref:o,onClick:l,"data-testid":"dotsMenu",className:s?n:t,children:i||f.jsx(Nt,{children:f.jsx(dze,{})})}),f.jsx(k3,{isOpen:s,onClickOutside:c,onScroll:c,anchorRef:o,anchorOrigin:r==="right"?"bottom-left":"top-right",transformOrigin:r==="right"?"top-left":"bottom-right",children:f.jsx(rde,{options:e,setShowMenu:a})})]})},uze=e=>{const t=navigator.userAgent;if(t.match(/brave/i))return"brave";if(t.match(/edg/i))return"edge";if(t.match(/chrome|chromium|crios/i))return"chrome";if(t.match(/firefox|fxios/i))return"firefox";if(t.match(/safari/i))return"safari"},fze=(e,t)=>{const{t:n}=wi.getInstance(),i=(t?t.getTime():Date.now())-e.getTime(),o=60*1e3,s=60*o,a=24*s,l=30*a,c=365*a;if(i>=c){const u=Math.floor(i/c);return{unit:n(u===1?"dyn_time_since.year":"dyn_time_since.years"),value:u}}if(i>=l){const u=Math.floor(i/l);return{unit:n(u===1?"dyn_time_since.month":"dyn_time_since.months"),value:u}}if(i>=a){const u=Math.floor(i/a);return{unit:n(u===1?"dyn_time_since.day":"dyn_time_since.days"),value:u}}if(i>=s){const u=Math.floor(i/s);return{unit:n(u===1?"dyn_time_since.hour":"dyn_time_since.hours"),value:u}}if(i>=o){const u=Math.floor(i/o);return{unit:n(u===1?"dyn_time_since.minute":"dyn_time_since.minutes"),value:u}}const d=Math.floor(i/1e3);return{unit:n(d===1?"dyn_time_since.second":"dyn_time_since.seconds"),value:d}};var OG,hze=["title","titleId"];function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lN.apply(null,arguments)}function pze(e,t){if(e==null)return{};var n,r,i=mze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var N3=function(t){var n=t.title,r=t.titleId,i=pze(t,hze);return x.createElement("svg",lN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,OG||(OG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.862 5.529c.26-.26.682-.26.943 0L8 9.724l4.195-4.195a.667.667 0 1 1 .943.943L8.47 11.138a.667.667 0 0 1-.943 0L2.862 6.472a.667.667 0 0 1 0-.943Z",fill:"#7B7D86"})))};const gze=e=>de(void 0,[e],void 0,function*({chain:t,environmentId:n,networkId:r,token:i,tokenAmount:o,walletAddress:s,currency:a,includeDisabled:l,merchantName:c}){const{onramps:d}=yield cn().getSupportedOnramps({chain:t,currency:a,environmentId:n,includeDisabled:l,merchantName:c,networkId:r?String(r):void 0,token:i,tokenAmount:o,walletAddress:s});return d??[]});var NG,yze=["title","titleId"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(null,arguments)}function vze(e,t){if(e==null)return{};var n,r,i=wze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var bze=function(t){var n=t.title,r=t.titleId,i=vze(t,yze);return x.createElement("svg",cN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,NG||(NG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.333a6.667 6.667 0 1 0 0 13.334 6.667 6.667 0 0 0 0-13.334ZM1.667 10a8.333 8.333 0 1 1 16.666 0 8.333 8.333 0 0 1-16.666 0Zm7.5-3.333c0-.46.373-.834.833-.834h.008a.833.833 0 1 1 0 1.667H10a.833.833 0 0 1-.833-.833ZM8.333 10c0-.46.374-.833.834-.833H10c.46 0 .833.373.833.833v2.5a.833.833 0 1 1 0 1.667H10a.833.833 0 0 1-.833-.834v-2.5A.833.833 0 0 1 8.333 10Z",fill:"currentcolor"})))};const Vo=({count:e=1,className:t,style:n,container:r,dataTestId:i})=>f.jsx("span",{"data-testid":i??"loading-skeleton-container",className:r==null?void 0:r.className,style:r==null?void 0:r.style,children:new Array(e).fill(null).map((o,s)=>f.jsx("span",{className:`skeleton ${t} `,style:n,"data-testid":"loading-skeleton",children:""},`skeleton-${s}`))});var PG,_ze=["title","titleId"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dN.apply(null,arguments)}function xze(e,t){if(e==null)return{};var n,r,i=kze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Sze=function(t){var n=t.title,r=t.titleId,i=xze(t,_ze);return x.createElement("svg",dN({width:8,height:4,viewBox:"0 0 8 4",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,PG||(PG=x.createElement("path",{d:"M4 3.75 7.031 0H.97L4 3.75Z",fill:"currentColor"})))};const Ize=(e,t)=>{let n;const r=()=>{e()};return()=>{clearTimeout(n),n=window.setTimeout(r,t)}},tg=()=>{const e=x.useRef(null);return{createRootElement:x.useCallback((n="dynamic-modal",r)=>{if(typeof window>"u")return e;const i=window.document.getElementById(n);if(i)return e.current=i,e;const o=r?window.document.getElementById(r):void 0;return e.current=window.document.createElement("div"),e.current.setAttribute("id",n),e.current.setAttribute("class",n),e.current.setAttribute("data-testid",n),e.current.style.pointerEvents="auto",o?o.appendChild(e.current):window.document.body.appendChild(e.current),e},[])}},Eze=({initialValue:e=!1,falseOnClick:t=!1,onHover:n,onHoverOff:r})=>{const[i,o]=x.useState(e);return[i,{onMouseDown:()=>o(!0),onMouseEnter:()=>{n==null||n(),o(!0)},onMouseLeave:()=>{r==null||r(),o(!1)},onMouseUp:()=>o(t)}]},{getTokenBalancesState:Cze,setTokenBalancesState:Aze,useTokenBalancesState:Rze}=Vc("tokenBalancesState"),Ef=tde({get:Cze,set:Aze}),{getMultichainTokenBalancesState:T$t,setMultichainTokenBalancesState:O$t,useMultichainTokenBalancesState:N$t}=Vc("multichainTokenBalancesState"),BG={onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseUp:"mouseup"},S_=({children:e,content:t,className:n,as:r="span",copykey:i,targetRef:o})=>{const{createRootElement:s}=tg(),a=s("dynamic-tooltips"),[l,c]=x.useState([0,0]),[d,u]=x.useState(!1),[h,m]=x.useState(null),v=o??h,y=x.useCallback(()=>{if(!v)return;const b=v.getBoundingClientRect();c([b.left+b.width/2,b.top-6])},[v]),[,g]=Eze({falseOnClick:!0,initialValue:!1,onHover:()=>{y(),u(!0)},onHoverOff:()=>{u(!1)}});return x.useEffect(()=>{y();const b=Ize(()=>{y()},3);return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[y]),x.useEffect(()=>{const b=v;if(b){for(const k in g)b.addEventListener(BG[k],g[k]);return()=>{for(const k in g)b.removeEventListener(BG[k],g[k])}}},[v,g]),f.jsxs(f.Fragment,{children:[bm.createPortal(f.jsx(E_,{zIndex:hse,children:f.jsxs("div",{"data-testid":"dynamicTooltip",className:Ke("dynamic-tooltip",{"dynamic-tooltip--visible":d},n),style:{left:l[0],top:l[1]},copykey:i,children:[t,f.jsx(Sze,{className:"dynamic-tooltip__arrow"})]})}),a.current),o===void 0&&f.jsx(r,{ref:m,children:e})]})},ode=({src:e,alt:t="",fallback:n,className:r,dataTestId:i})=>{const[o,s]=x.useState(!1),a=()=>{s(!0)};return e&&!o?f.jsx("img",{src:e,alt:t,onError:a,className:r,"data-testid":i}):f.jsx(f.Fragment,{children:n})},Tze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n,networkId:r,chainName:i}){try{return yield cn().getUserAccounts({chainName:i,environmentId:t,exchangeKey:n,networkId:r})}catch(o){const s=yield Tr(o,"Error retrieving accounts");throw new Se(s.error)}}),Oze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n,accountId:r,transfer:i}){try{return yield cn().postExchangeAccountTransfer({accountId:r,createExchangeTransferRequest:i,environmentId:t,exchangeKey:n})}catch(o){const s=yield Tr(o,"Error creating exchange-account transfer");throw new Se(s.error,s.code)}}),Nze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n,accountId:r}){try{return yield cn().getExchangeTransactions({accountId:r,environmentId:t,exchangeKey:n})}catch(i){const o=yield Tr(i,"Error retrieving transactions");throw new Se(o.error)}}),Pze=e=>de(void 0,[e],void 0,function*({environmentId:t,exchangeKey:n}){try{return yield cn().getExchangeTransferDestinations({environmentId:t,exchangeKey:n})}catch(r){const i=yield Tr(r,"Error retrieving transfer destinations");throw new Se(i.error)}}),Bze=()=>{const e=Qu(),{primaryWallet:t,network:n}=je(),r=x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l,networkId:c,chainName:d,includeChainName:u=!0}){const m={environmentId:e,exchangeKey:l,networkId:c??n};return u&&(m.chainName=d??(t==null?void 0:t.connector.connectedChain)),Tze(m)}),[n,e,t==null?void 0:t.connector.connectedChain]),i=x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l,accountId:c}){return Nze({accountId:c,environmentId:e,exchangeKey:l})}),[e]),o=x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l}){return Pze({environmentId:e,exchangeKey:l})}),[e]);return{exchangeTransfer:x.useCallback(a=>de(void 0,[a],void 0,function*({exchange:l,transferRequest:c}){const u=(yield r({exchange:l})).find(({balances:h})=>h.some(({currency:m})=>m.toLowerCase()===c.currency.toLowerCase()));if(!u)throw new Se(`No ${c.currency}-denominated account found for exchange ${l}.`,zb.InvalidTransferCurrency);return Oze({accountId:u.id,environmentId:e,exchangeKey:l,transfer:c})}),[r,e]),getExchangeTransactions:i,getExchangeUserAccounts:r,getExchangeWhitelistedDestinations:o}},sde=()=>new PM;var MG,Mze=["title","titleId"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uN.apply(null,arguments)}function Dze(e,t){if(e==null)return{};var n,r,i=jze(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jze(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var $ze=function(t){var n=t.title,r=t.titleId,i=Dze(t,Mze);return x.createElement("svg",uN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,MG||(MG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.667 2.667a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-5.333 4a5.333 5.333 0 1 1 9.546 3.27l3.592 3.592a.667.667 0 0 1-.943.942L9.937 10.88a5.333 5.333 0 0 1-8.604-4.213Z",fill:"currentColor"})))};const Lze=[{description:"TRON - Uses hash fragment format",domain:"tronscan.org",generateUrl:(e,t)=>`${new URL(e).origin}/#/transaction/${t}`}],Uze={description:"Standard format used by most block explorers",domain:"*",generateUrl:(e,t)=>{const n=new URL(e);return n.pathname=`/tx/${t}`,n.toString()}},Fze=e=>Lze.find(n=>e.includes(n.domain))||Uze,Wze=e=>de(void 0,[e],void 0,function*({walletConnector:t,transactionHash:n}){try{if(!t)return;const[r]=yield t.getBlockExplorerUrlsForCurrentNetwork();return r?Fze(r).generateUrl(r,n):void 0}catch{return}}),PS=(e,t)=>{e.current&&(e.current.resolve(t),e.current=null)},qze=()=>{const{setDynamicWidgetView:e}=Jc(),{setShowDynamicUserProfile:t}=je(),{userWallets:n}=_s(),{primaryWallet:r}=je(),i=x.useMemo(()=>n.filter(a=>a.id!==(r==null?void 0:r.id)&&a.chain===(r==null?void 0:r.chain)),[n,r==null?void 0:r.chain,r==null?void 0:r.id]),o=x.useRef(),s=x.useCallback(({showBackButton:a}={showBackButton:!0})=>(o.current=new $m,e("choose-linked-wallet",{onSelectWallet:l=>PS(o,l),showBackButton:a,wallets:i}),t(!0),o.current.promise),[i,e,t]);return Un("userProfileClose",()=>PS(o,void 0)),{chooseLinkedWallet:s,filteredWallets:i}},zze=e=>t=>t.filter(n=>n.walletConnector.supportedChains.includes(e)),Vze=e=>t=>t.filter(n=>n.walletConnector.supportedChains.includes(e)),Kze=["dapper"],VD=e=>rr()&&!(e!=null&&e.canConnectViaCustodialService)||Kze.includes((e==null?void 0:e.key)||""),ade=(e,t,n)=>n?e.map(({connector:r})=>r.key).includes(t.key):!1,lde=({allowAlreadyConnectedWallet:e,onQrCodeConnect:t,onConnectOnly:n,onCustodialWallet:r,onInstalledExtension:i})=>{const{setMultiWalletWidgetState:o,setShowAuthFlow:s,setSelectedWalletConnectorKey:a,walletConnectorOptions:l,setQrcodeUri:c,setDesktopUri:d,user:u,linkedWallets:h,setLegacyIsVerifying:m}=je(),{mockedSDK:v}=yj(),{setError:y,setErrorMessage:g}=so(),{pushView:b,clearStackAndPushInitialView:k,replaceView:_}=At(),R=$=>de(void 0,void 0,void 0,function*(){Ie.debug("handleCustodialWalletClick",$);const z=VD($);return Ie.logVerboseTroubleshootingMessage("[handleCustodialWalletClick]",{twoStepAuthentication:z}),a({chain:$.connectedChain,key:$.key}),r({requiresTwoStepAuthentication:z,walletConnector:$})}),I=$=>de(void 0,void 0,void 0,function*(){var z;if(Ie.debug("handleMobileWalletClick",$),a({chain:$.connectedChain,key:$.key}),$.key==="phantom"){const S=ot.getItem(wm);Ie.logVerboseTroubleshootingMessage("[useHandleWalletItem] Setting PHANTOM_SIGNATURE_STATE to awaiting_verification",{currentState:S}),ot.setItem(wm,{loseOriginalAccountOnTransfer:(z=S==null?void 0:S.loseOriginalAccountOnTransfer)!==null&&z!==void 0?z:!1,submittedAtTimestamp:new Date().toString(),verificationType:"awaiting_verification"})}b("mobile-wallet-redirect-view",{onRetry:()=>{if($.hasRetryDeeplinkConnection()){$.retryDeeplinkConnection();return}n({shouldShowPendingConnectView:!1,walletConnector:$})}}),n({shouldShowPendingConnectView:!1,walletConnector:$})}),T=$=>de(void 0,void 0,void 0,function*(){return Ie.debug("handleInstalledExtensionClick",$),a({chain:$.connectedChain,key:$.key}),i({walletConnector:$})}),D=$=>de(void 0,void 0,void 0,function*(){Ie.debug("handleUninstalledClick",$),a({chain:$.connectedChain,key:$.key}),$.canConnectViaQrCode?(t({getAddressOpts:{onDesktopUri:z=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",z),d(z)}),onDisplayUri:z=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",z),c(z)})},walletConnector:$}),_("qr-code")):_("no-qr-not-installed"),y(void 0)}),M=$=>de(void 0,void 0,void 0,function*(){Ie.debug("handleAlreadyConnectedWallet",$),s(!1);const z=yield $.getConnectedAccounts(),q=h.find(A=>{var O;return A.address.toLowerCase()===((O=z[0])===null||O===void 0?void 0:O.toLowerCase())});if(Ie.logVerboseTroubleshootingMessage("[handleAlreadyConnectedWallet]",{activeAccountAlreadyLinked:q,connectedAccounts:z,linkedWallets:h,walletConnectorKey:$.key}),a({chain:$.connectedChain,key:$.key}),!q){o("awaiting_signature",void 0,"linking_new_wallet");return}if(q.connector.key==="unknown"){rt.emit("triggerConnectAndSign",$);return}o("awaiting_account_switch","linking_new_wallet")});return{handleAlreadyConnectedWallet:M,handleCustodialWalletClick:R,handleInstalledExtensionClick:T,handleMobileWalletClick:I,handleUninstalledClick:D,handleWalletItemClick:$=>de(void 0,void 0,void 0,function*(){const{walletConnector:z,isInstalledOnBrowser:q}=$,S=z.connectedChain==="FLOW"||Doe(z)||!z.canHandleMultipleConnections;if(Ie.logVerboseTroubleshootingMessage("[handleWalletItemClick]",{mockedSDK:v,shouldEndWalletConnectorSession:S,wallet:$}),v)return;S&&(yield z.endSession()),m(!1);const A=z.metadata.groupKey==="metamask";if(wl()!=="connect-only"&&A&&!z.isWalletConnect)try{a({chain:z.connectedChain,key:z.key}),b("pending-connect"),yield z.chooseAccountsToConnect()}catch(j){if(j instanceof Jie){g("connection_rejected"),k();return}}const N=W4e(z);!e&&ade(h,z,u)&&z.connectedChain!=="FLOW"&&!z.isWalletConnect&&!N?M(z):z.canConnectViaCustodialService?R(z):rr()?z.key.startsWith("walletconnect")?b("wallet-connect-mobile-wallets-list"):I(z):q?T(z):D(z)}),openWallet:($,z)=>{var q;const{openMobileWallet:S=I,openCustodialWallet:A=R,openExtensionWallet:O=T}=z||{},N=(q=l.find(j=>j.key===$))===null||q===void 0?void 0:q.walletConnector;N&&(rr()?S(N):N.canConnectViaCustodialService?A(N):N.isInstalledOnBrowser()&&O(N))}}},P3=e=>{var t;return!!(!((t=e.groupedWallets)===null||t===void 0)&&t.length)},Hze=(e,t)=>t.findIndex(n=>P3(n)&&n.key===e),cde=(e,t)=>{const n=[];return t.forEach(r=>{var i;if(!r.group)return n.push(r);const o=Hze(r.group,n);if(o>-1)return(i=n[o].groupedWallets)===null||i===void 0?void 0:i.push(r);if(!t.some(c=>{const d=r.group===c.group,u=r.key!==c.key||r.walletConnector.connectedChain!==c.walletConnector.connectedChain;return d&&u}))return n.push(r);const a=e[r.group];if(!a)return n.push(r);const l={groupedWallets:[r],key:a.key,name:a.name};return n.push(l)}),n},Gze=["magicemailotp","magiclink","magicsocial","turnkey","turnkeyhd","zerodev","dynamicwaas"],Jze=()=>{const{walletConnectorOptions:e,setShowAuthFlow:t}=je(),n=Hm(),{pushView:r}=At(),{navigateToWalletGroup:i}=W3(),{handleWalletItemClick:o}=np(),s=x.useCallback(d=>{const u=e.filter(h=>!Gze.includes(h.walletConnector.key));return d(u).map(h=>{var m,v;const y=h.group&&((m=n[h.group])===null||m===void 0?void 0:m.name);return{chain:h.walletConnector.connectedChain,group:(v=h.group)!==null&&v!==void 0?v:null,groupName:y??null,isInstalledOnBrowser:h.isInstalledOnBrowser,isWalletConnect:h.walletConnector.isWalletConnect,key:h.walletConnector.key,metadata:h.walletConnector.metadata,name:h.name}})},[e,n]),a=x.useMemo(()=>s(d=>d),[s]),l=x.useCallback(({walletKey:d,connectorName:u,resolve:h,reject:m})=>{const v=k=>{k.key===d&&(h(k),t(!1),b())},y=(k,_)=>{k.key===d&&(m(_),t(!1),b())},g=(k,_)=>{if(k.type!=="wallet"||k.connectorName!==u)return;const R=typeof _=="object"?_.error:_;m(R),t(!1),b()},b=()=>{rt.off("walletConnectionFailed",y),rt.off("authFailure",g),rt.off("walletAdded",v)};rt.on("walletAdded",v),rt.on("walletConnectionFailed",y),rt.on("authFailure",g)},[t]),c=x.useCallback((d,u=!0,h=!1,m)=>new Promise((v,y)=>{const b=cde(n,e).find(_=>_.key===d),k=e==null?void 0:e.find(_=>_.key===d&&(!m||_.walletConnector.connectedChain===m));if(Ie.logVerboseTroubleshootingMessage("[useWalletOptions] selectWalletOption",{chain:m,selectGroupIfAvailable:u,walletGroup:b==null?void 0:b.key,walletKey:d,walletOption:k==null?void 0:k.key}),!k){const _=m?`No wallet found with key "${d}" for chain "${m}".`:`No wallet found with key "${d}".`;y(new Se(_));return}if(l({connectorName:k.walletConnector.name,reject:y,resolve:v,walletKey:d}),h){o(k);return}u&&b&&P3(b)?i(b):Ph(k.walletConnector)&&k.walletConnector.canConnectWithHardwareWallet()?r("select-hardware-wallet",{onSelectWallet:o,wallet:k}):o(k),t(!0)}),[l,o,i,t,r,e,n]);return{getFilteredWalletOptions:s,selectWalletOption:c,walletOptions:a}},Zze=()=>{const e=x.useRef(!1),t=x.useRef(null),{walletOptions:n}=Jze(),{userWallets:r}=_s(),i=x.useCallback(c=>de(void 0,void 0,void 0,function*(){const d={connectorConsumed:!1,initiatedByWidget:e.current,type:"external-wallet-funding"};ot.setItem(ub,d);const u=yield c.walletConnector.getAddress(c.getAddressOpts);if(!u){yh(t,new Se("No wallet address found"));return}PS(t,u)}),[]),{handleWalletItemClick:o}=lde({allowAlreadyConnectedWallet:!0,onConnectOnly:i,onCustodialWallet:i,onInstalledExtension:i,onQrCodeConnect:i}),s=x.useCallback(c=>{var d;const u=n.find(({key:h})=>h===c.key);return u?(t.current=new $m,o(Object.assign(Object.assign({},u),{group:(d=u.group)!==null&&d!==void 0?d:void 0,walletConnector:c})),t.current.promise):Promise.reject(new Se(`Connect wallet for funding error: wallet option for ${c.key} not found`))},[o,n]),a=r.some(c=>c.connector.isWalletConnect),l=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(a)return;const c=x3().find(({walletConnector:d})=>d.isWalletConnect);yield c==null?void 0:c.walletConnector.endSession(),yield c==null?void 0:c.walletConnector.init()}),[a]);return{getWalletAddress:s,handleWalletMethod:i,initiatedByWidgetRef:e,internalConnectionPromiseRef:t,resetWalletConnectSession:l}},Yze=["coinbase","phantomevm","magiceden"],Xze=e=>rr()?e.filter(t=>Yze.includes(t.key)?!1:t.walletConnector.isWalletConnect||t.walletConnector.mobileExperience!=="in-app-browser"):e,Qze=()=>{const{primaryWallet:e,setShowAuthFlow:t}=je(),{clearStackAndPush:n}=At(),{initiatedByWidgetRef:r,getWalletAddress:i,resetWalletConnectSession:o}=Zze(),s=x.useRef(null);Un("authFlowClose",()=>{yh(s,new Se("User cancelled"))});const a=x.useCallback(l=>{n("external-funding-wallet-list",{onSelectWallet:d=>de(void 0,[d],void 0,function*({walletConnector:u}){if(!s.current)return;let h=!1;try{r.current=l;const m=yield i(u);if(!m){yh(s,new Se("No wallet address found"));return}if(m===(e==null?void 0:e.address)){h=!0,n("duplicate-wallet",{initiatedByWidget:l,onReturn:a});return}const v=u.createWallet({address:m,chain:u.connectedChain,connector:u,id:"external-funding-wallet",isAuthenticated:!1,key:u.key});PS(s,v),s8e.emit("walletConnectedForFunding",{initiatedByWidget:l,isPhantomRedirect:!1,wallet:v})}catch(m){yh(s,m)}finally{h||t(!1)}}),showDefaultFooter:!0,viewWalletsFilter:toe(Xze).pipe(Vze(e==null?void 0:e.chain))})},[n,i,r,e==null?void 0:e.address,e==null?void 0:e.chain,t]);return x.useCallback(l=>de(void 0,[l],void 0,function*({initiatedByWidget:c}){return s.current||(o(),s.current=new $m,a(c),t(!0,{emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!1})),s.current.promise}),[a,o,t])},eVe=()=>{const{primaryWallet:e}=je();return x.useCallback(t=>de(void 0,[t],void 0,function*({amount:n,fromWallet:r,token:i,toWallet:o}){if(!n||!r)throw new Error("Amount and fromWallet are required");if(!e&&!o)throw new Error("No destination wallet found");const s=yield r.getNetwork();let a;if(o?a=o.network:a=yield e==null?void 0:e.getNetwork(),!s||!a)throw new Error("Wallet network not found");s!==a&&(yield r.switchNetwork(a));const l=o?o.address:e==null?void 0:e.address;if(!l)throw new Error("No destination address found");return r.sendBalance({amount:n.toString(),toAddress:l,token:i})}),[e])},tVe=()=>{const{setDynamicWidgetView:e}=Jc(),{setShowDynamicUserProfile:t}=je();return x.useCallback(n=>{e("receive-wallet-funds",n),t(!0)},[e,t])},nVe=()=>{var e,t;const n=vo(),r=eVe(),i=Qze(),o=tVe(),{chooseLinkedWallet:s,filteredWallets:a}=qze();return x.useMemo(()=>{var l,c;return{chooseLinkedWallet:s,connectWalletForFunding:i,externalWalletFundingEnabled:!!(!((c=(l=n==null?void 0:n.sdk.funding)===null||l===void 0?void 0:l.externalWallets)===null||c===void 0)&&c.enabled),filteredLinkedWallets:a,fund:r,promptAmountAndFund:o}},[s,i,(t=(e=n==null?void 0:n.sdk.funding)===null||e===void 0?void 0:e.externalWallets)===null||t===void 0?void 0:t.enabled,a,r,o])},rVe=({wallet:e,chain:t,network:n})=>{const[r,i]=x.useState("0.0"),o=!e,s=()=>de(void 0,void 0,void 0,function*(){if(o||!t||e.connector.supportsNetworkSwitching()&&!n)return;const l=yield e.getBalance();i(l)}),{isLoading:a}=vr(s,{deps:[e==null?void 0:e.address,n==null?void 0:n.toString(),t],enabled:!o});return{balance:r,isLoading:a}},iVe=e=>de(void 0,[e],void 0,function*({environmentId:t,chainName:n=nr.Evm,networkId:r,accountAddress:i,includeNative:o=!1,includePrices:s=!1,forceRefresh:a=!1,filterSpamTokens:l=!0,whitelistedContracts:c}){return yield cn({customHeaders:a?{"Cache-Control":"no-cache"}:void 0}).getAccountBalances({accountAddress:i,chainName:n,environmentId:t,filterSpamTokens:l,forceRefresh:a,includeNative:o,includePrices:s,networkId:r,whitelistedContracts:c})}),dde=({accountAddress:e,networkId:t,chainName:n,tokenAddresses:r,includeFiat:i=!1,includeNativeBalance:o=!1,filterSpamTokens:s=!0,forceRefresh:a=!1,whitelistedContracts:l}={})=>{var c;const d=Rze(),{tokenBalances:u,isLoading:h,error:m}=d,{primaryWallet:v,network:y}=je(),g=v==null?void 0:v.connector,b=e??(v==null?void 0:v.address),k=(c=n??(g==null?void 0:g.connectedChain))!==null&&c!==void 0?c:nr.Evm,_=x.useCallback((...M)=>de(void 0,[...M],void 0,function*(C=!1){var U;const $=h_(),z=wl();if(z!=="connect-only"&&!$){Ef("error",Kr);return}const q=rv();if(z==="connect-only"&&!(!((U=q==null?void 0:q.sdk.featureFlags)===null||U===void 0)&&U.connectOnlyMultiAsset))return;let S=t??(yield g==null?void 0:g.getNetwork(!0));k===nr.Btc&&(S=1);const A=S&&!isNaN(Number(S));if(Ie.logVerboseTroubleshootingMessage("[useTokenBalances] will try to fetch token balances",{isLoading:h,isValidRequest:A,networkId:t,requestAccount:b,requestChainName:k,requestNetwork:S}),h||!b||!A){Ef("tokenBalances",void 0);return}Ef("isLoading",!0);let O=[];try{if(O=yield iVe({accountAddress:b,chainName:k,environmentId:Qu(),filterSpamTokens:s,forceRefresh:C,includeNative:o,includePrices:i,networkId:Number(S),whitelistedContracts:l}),!O){Ef("error","No token balances found");return}Ef("error",void 0)}catch(N){const j=(N==null?void 0:N.code)>=500||(N==null?void 0:N.code)<400?"error":"warn";yield Tr(N,"Error getting token balances",j);let V="";(N==null?void 0:N.code)===429?V="Too many requests fetching balances":N!=null&&N.message?V=N.message:V="error fetching token balance",Ef("error",V)}finally{const N=O==null?void 0:O.filter(j=>j.balance!==0);Ef("tokenBalances",N),Ef("isLoading",!1)}}),[k,h,b,o,i,s,t,g]);Un("tokenBalancesChanged",()=>_(!0)),x.useEffect(()=>{_(a)},[b,y,t,a]);const{tokensFilter:R}=Wm(),I=x.useMemo(()=>r==null?void 0:r.map(M=>M.toLowerCase()),[r]),T=x.useMemo(()=>I?u==null?void 0:u.filter(M=>I==null?void 0:I.includes(M.address.toLowerCase())):u,[I,u]),D=x.useMemo(()=>T?R(T):[],[T,R]);return{error:m,fetchAccountBalances:_,isError:!!m,isLoading:h,tokenBalances:D}};var DG,oVe=["title","titleId"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fN.apply(null,arguments)}function sVe(e,t){if(e==null)return{};var n,r,i=aVe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Yh=function(t){var n=t.title,r=t.titleId,i=sVe(t,oVe);return x.createElement("svg",fN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,DG||(DG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.707 4.293a1 1 0 0 1 0 1.414L5.414 11H21a1 1 0 1 1 0 2H5.414l5.293 5.293a1 1 0 0 1-1.414 1.414l-7-7a1 1 0 0 1 0-1.414l7-7a1 1 0 0 1 1.414 0Z",fill:"currentColor"})))};sde();sde();const ude=()=>{const{completeAuth:e}=of({});return x.useCallback(t=>de(void 0,void 0,void 0,function*(){let n;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){const r=yield dNe(t);return n=r.mfaToken,rt.emit("mfaCompletionSuccess",{mfaToken:r.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:r}})}),n}),[e])},fde=()=>{const{setShowAuthFlow:e}=je(),{pushView:t}=At(),n=nde(),r=ude(),i=eae();return x.useCallback(s=>de(void 0,void 0,void 0,function*(){const a=yield n(),l=[...a.passkeys.map(d=>Object.assign(Object.assign({},d),{type:Ji.Passkey})),...a.devices.map(d=>Object.assign(Object.assign({},d),{type:Ji.Totp}))];if(!a.userHasVerifiedMfaMethods||l.length===0){e(!0),t("mfa-choose-device",{createMfaToken:s==null?void 0:s.createMfaToken});return}switch(l.reduce((d,u)=>d.createdAt&&u.createdAt?d.createdAt>=u.createdAt?d:u:u.createdAt?u:d).type){case Ji.Passkey:{const d=s!=null&&s.createMfaToken?{singleUse:!0}:void 0,u=r({createMfaToken:d});return e(!0),t("passkey-confirm",{authenticatePasskeyPromise:u,createMfaToken:s==null?void 0:s.createMfaToken}),u}case Ji.Totp:{if(i!=null&&i.mfaToken)return i==null?void 0:i.mfaToken;const d=new $m;e(!0),t("mfa-verification",{createMfaToken:s==null?void 0:s.createMfaToken});const u=fb({event:"mfaCompletionSuccess",listener:({mfaToken:m})=>d.resolve(m)},i),h=()=>d.reject(new Error("MFA view closed"));return rt.on("authFlowClose",h),d.promise.finally(()=>{u(),rt.off("authFlowClose",h)}),d.promise}default:throw new Error("Error determining MFA method to use")}}),[r,i,n,t,e])};f.jsx(Koe,{}),f.jsx($oe,{}),f.jsx(Loe,{}),f.jsx(Uoe,{}),f.jsx(Foe,{}),f.jsx(Voe,{}),f.jsx(o6e,{}),f.jsx(Woe,{});const hN=(e,t)=>{var n,r;return(r=(n=t==null?void 0:t.additionalAddresses)===null||n===void 0?void 0:n.find(i=>i.type===e))===null||r===void 0?void 0:r.address},lVe="evm",cVe="1",hde=e=>de(void 0,[e],void 0,function*({address:t,chainName:n,environmentId:r,network:i,primaryWallet:o,token:s,tokenAmount:a,currency:l,includeDisabled:c=!1,merchantName:d}){var u;const h=o!=null&&o.chain?(u=Lm(o.chain))===null||u===void 0?void 0:u.name:void 0,m=n??h,v=o&&xM(o.connector)&&hN(Fb.Payment,o),y=i&&m===lVe;let g;if(y?g=(i==null?void 0:i.toString())||cVe:g=void 0,!m||!(o!=null&&o.address)&&!t)return[];const b=t||v||(o==null?void 0:o.address);return b?(yield gze({chain:m,currency:l,environmentId:r,includeDisabled:c,merchantName:d,networkId:g,token:s,tokenAmount:a,walletAddress:b}))||[]:[]}),dVe=({primaryWallet:e,network:t,environmentId:n,projectSettingsOnramps:r,target:i,includeDisabled:o,shouldFetch:s=!1})=>{const{data:a=[]}=vr(()=>de(void 0,void 0,void 0,function*(){var c;return e!=null&&e.address?hde({address:i.address,chainName:i.chainName,currency:i.currency,environmentId:n,includeDisabled:!0,network:(c=i.network)!==null&&c!==void 0?c:t,primaryWallet:e,token:i.token,tokenAmount:i.tokenAmount}):[]}),{deps:[n,t,e==null?void 0:e.address,i.address,i.token,i.tokenAmount,i.chainName,i.network,i.currency],enabled:s&&o,initialData:[]}),l=x.useMemo(()=>a.filter(c=>r==null?void 0:r.includes(c.provider)),[a,r]);return x.useMemo(()=>({allOnRamps:a,enabledOnRamps:l}),[a,l])},pde=x.createContext(void 0),uVe=({children:e})=>{var t,n,r,i,o;const s=x.useRef(null),[a,l]=x.useState(),[c,d]=x.useState(!1),[u,h]=x.useState(!1),[m,v]=x.useState(void 0),{environmentId:y,network:g,primaryWallet:b,projectSettings:k,overrides:_}=je(),{setDynamicWidgetView:R}=Jc(),[I,T]=x.useState({}),[D,M]=x.useState(!0),C=x.useCallback(F=>{d(F),!F&&s.current&&yh(s,new Se("User cancelled"))},[]),U=x.useCallback(({address:F,token:G,network:Y,tokenAmount:ie,chainName:ye,currency:ge})=>{T({address:F,chainName:ye,currency:ge,network:Y,token:G,tokenAmount:ie}),(F||G||Y||ie||ye||ge)&&M(!0)},[]),$=x.useCallback(()=>{v(void 0),h(!1)},[]),{enabledOnRamps:z}=dVe({environmentId:y,includeDisabled:!0,network:g,primaryWallet:b,projectSettingsOnramps:(n=(t=k==null?void 0:k.sdk)===null||t===void 0?void 0:t.funding)===null||n===void 0?void 0:n.onramps,shouldFetch:D,target:I}),q=x.useMemo(()=>z.map(G=>{const Y=EG(G);return Y.id===pn.CryptoDotCom&&(Y.onClick=()=>R("crypto-com-onramp")),Y}),[z,R]),S=x.useMemo(()=>{const F=_==null?void 0:_.onrampOptions;return typeof F=="function"?F(q):F||[]},[_==null?void 0:_.onrampOptions,q]),A=x.useMemo(()=>{var F,G,Y;return(_==null?void 0:_.onrampOptions)!==void 0&&S.length===0?!1:S.length>0?!0:!!(!((Y=(G=(F=k==null?void 0:k.sdk)===null||F===void 0?void 0:F.funding)===null||G===void 0?void 0:G.onramps)===null||Y===void 0)&&Y.length&&z.length)},[(o=(i=(r=k==null?void 0:k.sdk)===null||r===void 0?void 0:r.funding)===null||i===void 0?void 0:i.onramps)===null||o===void 0?void 0:o.length,z.length,S.length,_==null?void 0:_.onrampOptions]),O=x.useMemo(()=>!!b,[b]),N=x.useCallback(({provider:F,wallet:G,payingWithDynamic:Y})=>{var ie;if((O||Y)&&l(F.id),C(!0),!!(F.openMode==="popup"&&F.url&&C))return eze((ie=F.url)!==null&&ie!==void 0?ie:"",G,C,F.id)},[O,C]),j=x.useMemo(()=>(_==null?void 0:_.onrampOptions)!==void 0?S:q,[q,S,_==null?void 0:_.onrampOptions]),V=x.useCallback(F=>de(void 0,[F],void 0,function*({onrampProvider:G,address:Y,token:ie,tokenAmount:ye,network:ge,chainName:be,currency:Le,overrideOnRamp:qe,payingWithDynamic:Me,merchantName:gt}){var tt,dt,Xt,lt;if(!A&&!qe&&!Me)throw new Error("Onramp is not enabled");if(h(!1),s.current)return s.current.promise;s.current=new $m,D||M(!0);let jt=q;const rn=ge||g,Re=qe||!!Y||!!ie||!!ge||!!ye||!!be||!!Le||!!gt,Ze=!!be&&!!rn&&!!ie&&!!ye&&!!Y;if(Me&&!Ze)return yh(s,new Error("PayingWithDynamic: Missing parameters")),(tt=s.current)===null||tt===void 0?void 0:tt.promise;Re&&h(!0),(Re||Me&&Ze)&&(jt=(yield hde({address:Y,chainName:be,currency:Le,environmentId:y,includeDisabled:qe,merchantName:gt,network:rn,primaryWallet:b,token:ie,tokenAmount:ye})).map(st=>EG(st)));const ct=jt.find(st=>st.id===G);return Me&&!ct?(yh(s,new Error("PayingWithDynamic: Onramp provider not found")),(dt=s.current)===null||dt===void 0?void 0:dt.promise):ct?(v(ct),N({payingWithDynamic:Me,provider:ct}),(lt=s.current)===null||lt===void 0?void 0:lt.promise):(yh(s,new Error("Onramp provider not found")),(Xt=s.current)===null||Xt===void 0?void 0:Xt.promise)}),[q,y,A,b,g,N,D]),K=x.useMemo(()=>{let F;return u?F=m:j.length&&(F=j.find(G=>G.id===a)),F},[m,j,u,a]),W=x.useCallback(({provider:F,wallet:G})=>{if(F.onClick){F.onClick({wallet:G});return}$(),N({provider:F,wallet:G})},[N,$]),P=x.useMemo(()=>({enabledOnrampProviders:j,onrampEnabled:A,openOnramp:V,selectOnrampProvider:W,selectedOnramp:K,setEnabledOnrampProvidersTargetValue:U,setShowOnramp:C,showOnramp:c}),[j,A,V,K,U,c,C,W]);return f.jsx(pde.Provider,{value:P,children:e})},mde=()=>{const e=x.useContext(pde);if(!e)throw new Error("useOnrampContext must be used within a OnrampContextProvider");return e},xs=()=>{const{user:e,walletConnectorOptions:t}=je(),n=x.useCallback(o=>{const{verifiedCredentials:s}=e??{};if(!s)return;const a=s.find(l=>l.id===o.id);return(a==null?void 0:a.walletProvider)===Ao.SmartContractWallet?a:void 0},[e]),r=x.useCallback(o=>{var s,a,l;const c=e==null?void 0:e.verifiedCredentials;if(!c)return;const d=n(o),u=c.find(y=>y.id===(d==null?void 0:d.signerRefId));if(!(u!=null&&u.address)||!(u!=null&&u.chain))return;const{walletConnector:h}=(s=p1(u,t))!==null&&s!==void 0?s:{},v=!((a=u.walletName)===null||a===void 0?void 0:a.startsWith("turnkey"))||!!(!((l=u.walletProperties)===null||l===void 0)&&l.isAuthenticatorAttached);return h==null?void 0:h.createWallet({address:u.address,chain:h.connectedChain,connector:h,id:u.id,isAuthenticated:v,key:h.key})},[n,e==null?void 0:e.verifiedCredentials,t]),i=x.useCallback(o=>{var s;const a=e==null?void 0:e.verifiedCredentials;if(!a)return;const l=a.find(u=>u.id===o.id),c=a.find(u=>u.signerRefId===(l==null?void 0:l.id));if(!(c!=null&&c.address)||!(c!=null&&c.chain))return;const{walletConnector:d}=(s=p1(c,t))!==null&&s!==void 0?s:{};return d==null?void 0:d.createWallet({address:c.address,chain:d.connectedChain,connector:d,id:c.id,isAuthenticated:!0,key:d.key})},[e==null?void 0:e.verifiedCredentials,t]);return x.useMemo(()=>({getEOAWallet:r,getSmartWallet:i,isSmartWallet:o=>n(o)!==void 0}),[r,n,i])},da=()=>{var e,t,n;const{primaryWallet:r,user:i}=je(),{getEOAWallet:o}=xs(),s=(e=r&&o(r))!==null&&e!==void 0?e:r,a=()=>{if(!s||!i||!s.connector.key.startsWith("turnkey"))return;const g=s.id,b=i.verifiedCredentials.find(k=>k.id===g);if(b)return b},l=()=>{if(!s||!i)return!1;const g=i.verifiedCredentials.find(k=>{var _,R;return((_=k.walletName)===null||_===void 0?void 0:_.startsWith("turnkey"))&&((R=k.walletProperties)===null||R===void 0?void 0:R.isAuthenticatorAttached)===!1});return i.verifiedCredentials.find(k=>g&&k.signerRefId===g.id)},c=a(),d=!!l(),u=!!(c||d),h=!!(!((t=c==null?void 0:c.walletProperties)===null||t===void 0)&&t.isAuthenticatorAttached),m=u&&!h||d,v=u&&!!O3(i,Zo.Email),y=u&&!!(!((n=c==null?void 0:c.walletProperties)===null||n===void 0)&&n.isSessionKeyCompatible);return{hasRecoveryEmail:v,hasTurnkeyVerifiedCredentialAuthenticator:h,isSessionKeyCompatible:y,isTurnkeyWallet:u,isTurnkeyWalletWithoutAuthenticator:m,turnkeyVerifiedCredential:c}},Dc=(e,t)=>e.some(n=>{const r=n.provider===t&&!!n.enabledAt;return n.provider===pn.MagicLink?r&&!!n.providerProjectId:r}),$h=e=>{var t;return Dc((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],pn.Turnkey)},KD=(e,t)=>{var n;return!!(e&&(!((n=e.verifiedCredentials)===null||n===void 0)&&n.some(({walletProvider:r,walletName:i})=>r===Ao.EmbeddedWallet&&(!t||(i==null?void 0:i.startsWith(t))))))},Lh=(e,t)=>{var n;const r=(n=e==null?void 0:e.verifiedCredentials)===null||n===void 0?void 0:n.filter(({walletProvider:o})=>o===Ao.EmbeddedWallet);let i;return r!=null&&r.length&&(t!=null&&t.length)&&(i=r.find(({chain:o})=>o&&t.includes(ec[o]))),i||(r==null?void 0:r.shift())},gde=(e,t,n=!1)=>{if(!(e!=null&&e.verifiedCredentials))return;const r=[...e.verifiedCredentials].sort((a,l)=>!a.lastSelectedAt&&!l.lastSelectedAt?0:a.lastSelectedAt?l.lastSelectedAt?l.lastSelectedAt.getTime()-a.lastSelectedAt.getTime():-1:1),i=r.find(a=>a.walletProvider===Ao.SmartContractWallet);if(i)return i;let o;if(t){const a=w0(t);o=Lh(Object.assign(Object.assign({},e),{verifiedCredentials:r}),[a])}if(o)return o;if(n)return;const s=r.find(a=>a.format==="blockchain");if(s)return s},yde=(e,t)=>{const n=t?ec[t]:void 0;return e==null?void 0:e.find(({key:r,walletConnector:i})=>r.startsWith("turnkey")&&(i==null?void 0:i.connectedChain)===n)},g4=(e,t,n)=>{var r;const i=((r=t==null?void 0:t.find(a=>a.primary))===null||r===void 0?void 0:r.name)||nr.Evm,o=yde(e,wq[i]),s=n==null?void 0:n.find(({walletName:a,chain:l})=>(a==null?void 0:a.startsWith("turnkey"))&&l===wq[i]);if(o)return Object.assign(Object.assign({},s),o)},vde=e=>{var t;return(t=e.verifiedCredentials)===null||t===void 0?void 0:t.filter(({walletProvider:n})=>n)},wde=(e,t)=>{var n;const r=(t==null?void 0:t.phoneNumber)||((n=t==null?void 0:t.verifiedCredentials.find(i=>i.oauthDisplayName))===null||n===void 0?void 0:n.oauthDisplayName)||"";e.setPasskeyIdentifier(r)},bk=e=>{if(!e||!("getAuthenticatorHandler"in e))throw new Se("Invalid connector type");return e.getAuthenticatorHandler()},fVe={days:86400,hours:3600,minutes:60},pN=e=>{if(!e)return 0;const{unit:t,amount:n}=e,r=n||0,i=fVe[t]||0;return r*i},bde=e=>de(void 0,[e],void 0,function*({iframeContainer:t,iframeElementId:n,wallet:r}){var i,o;if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!rc(r==null?void 0:r.connector))throw Ie.error("Cannot initialize embedded wallet export",{connector:(i=r==null?void 0:r.connector)===null||i===void 0?void 0:i.name,foo:r!=null&&r.connector?rc(r==null?void 0:r.connector):void 0,version:"v2",wallet:!!r,walletId:r==null?void 0:r.id}),new $d(Oy);const s=(o=r.connector)===null||o===void 0?void 0:o.getExportHandler();if(!(yield s.initExport(t,n)))throw new Se("Something went wrong",$O);return s}),hVe=({user:e,wallet:t})=>{var n,r,i,o,s;if(!e)throw new Se(Kr);if(!(t!=null&&t.connector)||!(t!=null&&t.id)||!rc(t==null?void 0:t.connector))throw new $d;const a=t.connector;a.setEmail(e.email);const l=(r=(n=e.verifiedCredentials)===null||n===void 0?void 0:n.find(({walletName:h,id:m})=>(h==null?void 0:h.startsWith("turnkey"))&&m===t.id))===null||r===void 0?void 0:r.walletProperties,c=(i=l==null?void 0:l.turnkeyHDWalletId)!==null&&i!==void 0?i:void 0,d=(o=l==null?void 0:l.turnkeyPrivateKeyId)!==null&&o!==void 0?o:void 0,u=(s=l==null?void 0:l.turnkeySubOrganizationId)!==null&&s!==void 0?s:void 0;if(!u||c===void 0&&d===void 0)throw new Se("Invalid token!");return{connector:a,organizationId:u,privateKeyId:d,turnkeyHDWalletId:c}},pVe=({address:e,privateKeyId:t,activity:n})=>{var r,i,o;const s=e?(r=n.result)===null||r===void 0?void 0:r.exportWalletAccountResult:(i=n.result)===null||i===void 0?void 0:i.exportWalletResult,a=t?(o=n.result)===null||o===void 0?void 0:o.exportPrivateKeyResult:s;return a==null?void 0:a.exportBundle},BS=e=>de(void 0,[e],void 0,function*({user:t,wallet:n,environmentId:r,address:i}){const{connector:o,turnkeyHDWalletId:s,privateKeyId:a,organizationId:l}=hVe({user:t,wallet:n}),c=o.getExportHandler();if(!c.publicKey)throw new Se("Must initialize export first",$O);let u;s?u=yield c.exportWallet({address:i,organizationId:l,walletId:s}):a&&(u=yield c.exportPrivateKey({organizationId:l,privateKeyId:a}));const h=u.id,m=u.status;let v;if(m==="ACTIVITY_STATUS_COMPLETED")v=pVe({activity:u,address:i,privateKeyId:a??void 0});else{const y=yield IDe({activityId:h,environmentId:r,walletId:(n==null?void 0:n.id)||""});v=y==null?void 0:y.exportBundle}if(!v)throw new Se("Invalid export response",$O);return i||a?c.verifyExportPrivateKey({chain:n==null?void 0:n.chain,exportBundle:v,organizationId:l}):c.verifyExportWallet({exportBundle:v,organizationId:l})}),_de=e=>de(void 0,[e],void 0,function*({wallet:t}){var n;const r=t==null?void 0:t.connector;(n=r==null?void 0:r.getExportHandler())===null||n===void 0||n.clear()}),HD=e=>{if(!e||!Object.keys(e).length)return{};const t={};return Object.keys(e).filter(n=>{var r;return(r=e[n])===null||r===void 0?void 0:r.isEnabled}).forEach(n=>t[n]=e[n]),t},GD="dyn-passkey-recovery-id",JD="dyn-passkey-recovery-element-id",mVe=e=>{let t;if(typeof window<"u"){t=window.document.getElementById(e);const n=t==null?void 0:t.parentElement;if(!t||!n)return;n.removeChild(t)}},gVe=e=>de(void 0,[e],void 0,function*({authenticatorType:t,iframeContainer:n,iframeElementId:r,environmentId:i,user:o,wallet:s,sessionExpiration:a}){var l;if(!o)throw new Se(Kr);if(!(s!=null&&s.connector)||!(s!=null&&s.id)||!rc(s==null?void 0:s.connector))throw new $d;const c=(l=s.connector)===null||l===void 0?void 0:l.getAuthenticatorHandler();if(t==="passkey"&&c.isSessionActive())return xde({environmentId:i,user:o,wallet:s});const d=yield c.initRecovery(t,n,r,a);if(!d)throw new Se("Something went wrong");const u=yield lD({authenticatorType:t,environmentId:i,publicKey:d,walletId:s.id});c.recoveryUserId=t==="passkey"?u.turnkeyRecoveryUserId:u.turnkeyUserId}),yVe=e=>de(void 0,[e],void 0,function*({user:t,bundleInput:n,wallet:r}){var i,o,s,a,l;if(!n)throw new Se("Code must be informed");if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!rc(r==null?void 0:r.connector))throw new $d;if(!t)throw new Se(Kr);const c=(a=(s=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.find(({walletName:h,id:m})=>(h==null?void 0:h.startsWith("turnkey"))&&m===r.id))===null||o===void 0?void 0:o.walletProperties)===null||s===void 0?void 0:s.turnkeySubOrganizationId)!==null&&a!==void 0?a:void 0,d=(l=r.connector)===null||l===void 0?void 0:l.getAuthenticatorHandler();yield d.verifyRecoveryCode(n,c??void 0);const u={createdAt:new Date().getTime(),emailCode:n,userId:d.recoveryUserId};ot.setItem(v0,u)}),vVe=e=>de(void 0,[e],void 0,function*({authenticatorType:t,user:n,environmentId:r,wallet:i}){var o;if(!n)throw new Se(Kr);if(!(i!=null&&i.connector)||!(i!=null&&i.id)||!rc(i==null?void 0:i.connector))throw new $d;const s=(o=i.connector)===null||o===void 0?void 0:o.getAuthenticatorHandler().publicKey;if(!s)throw new Se("Could not proceed with your request. Please restart the process.");return lD({authenticatorType:t,environmentId:r,publicKey:s,walletId:i==null?void 0:i.id})}),wVe=e=>de(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){const{connector:i,user:o}=yield kde({addPasskeyAuthenticator:!1,environmentId:n,user:t,wallet:r});return i.getAuthenticatorHandler().clear(),mVe(JD),o}),xde=e=>de(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){const{user:i}=yield kde({addPasskeyAuthenticator:!0,environmentId:n,user:t,wallet:r});return i}),kde=e=>de(void 0,[e],void 0,function*({wallet:t,user:n,environmentId:r,addPasskeyAuthenticator:i}){var o,s,a;if(!n)throw new Se(Kr);if(!t||!t.connector||!t.id||!rc(t.connector))throw new $d;const l=t.connector;l.setEmail(n.email);const c=(a=(s=(o=n.verifiedCredentials)===null||o===void 0?void 0:o.find(({walletName:g,id:b})=>(g==null?void 0:g.startsWith("turnkey"))&&b===t.id))===null||s===void 0?void 0:s.walletProperties)===null||a===void 0?void 0:a.turnkeySubOrganizationId;if(!c)throw new Se("The authentication token is invalid - turnkeySubOrganizationId is missing");const d=t.connector.getAuthenticatorHandler(),{attestation:u,challenge:h}=yield l.getWebAuthnAttestation();i?yield d.addPasskeyAuthenticator({attestation:u,challenge:h,turnkeySubOrganizationId:c}):yield d.completeRecovery({attestation:u,challenge:h,turnkeySubOrganizationId:c});const m=yield wle({attestation:u,challenge:h,environmentId:r,walletId:t.id});if(!m)throw new Se("No user returned from passkey recovery");const v=l.connectedChain;if(!Lh(m,[v]))throw new Se("EmbeddedWalletVerifiedCredential not found");return l.setVerifiedCredentials(m.verifiedCredentials),{connector:l,user:m}}),Sde=e=>{if(!(e!=null&&e.amount))return!1;const t=ot.getItem(v0);if(!t)return!1;const n=e.amount*(e.unit==="minutes"?60:3600),r=(t==null?void 0:t.createdAt)+n*1e3,i=new Date(r);return new Date>=i?(ot.removeItem(v0),!1):!0},Ide=e=>de(void 0,[e],void 0,function*({user:t,iframeContainer:n,iframeElementId:r,wallet:i,sessionExpiration:o}){var s,a,l,c,d;if(!t)throw new Se(Kr);if(!(i!=null&&i.connector)||!(i!=null&&i.id)||!rc(i==null?void 0:i.connector))throw new $d;const u=ot.getItem(v0),h=(s=i.connector)===null||s===void 0?void 0:s.getAuthenticatorHandler();if(!u||h.recoveryUserId)return!1;if(!(yield h.initRecovery("email",n,r,o)))throw new Se("Could not open embedded wallet connection communication");h.recoveryUserId=u.userId;const v=(d=(c=(l=(a=t.verifiedCredentials)===null||a===void 0?void 0:a.find(({walletName:y,id:g})=>(y==null?void 0:y.startsWith("turnkey"))&&g===i.id))===null||l===void 0?void 0:l.walletProperties)===null||c===void 0?void 0:c.turnkeySubOrganizationId)!==null&&d!==void 0?d:void 0;return yield h.verifyRecoveryCode(u.emailCode,v??void 0),!0}),bVe=e=>de(void 0,[e],void 0,function*({user:t,environmentId:n,wallet:r}){var i,o;if(!(t!=null&&t.email))throw new Se(Kr);if(!(r!=null&&r.connector)||!(r!=null&&r.id)||!rc(r==null?void 0:r.connector)||!vm(r==null?void 0:r.connector))throw new $d;const{turnkeySubOrganizationId:s,turnkeyUserId:a}=(o=(i=t.verifiedCredentials)===null||i===void 0?void 0:i.find(({walletName:d,id:u})=>(d==null?void 0:d.startsWith("turnkey"))&&u===r.id))===null||o===void 0?void 0:o.walletProperties;if(!s||!a)throw new Se("The authentication token is invalid - turnkeySubOrganizationId or turnkeyUserID is missing");const l=r.connector.getAuthenticatorHandler(),{signedRequest:c}=yield l.addEmailRecovery({email:t.email,organizationId:s,turnkeyUserId:a});return yield kDe({environmentId:n,updateRecoveryEmailRequest:{turnkeySignedRequest:c}}),r.connector.setEmail(t.email),T3({environmentId:n})}),ZD=()=>{const{primaryWallet:e,environmentId:t,user:n,projectSettings:r,setShowAuthFlow:i}=je(),{pushView:o}=At(),[s,a]=x.useState(!1),[l,c]=x.useState(),{getEOAWallet:d}=xs();return{error:l,initAuthMethod:h=>de(void 0,[h],void 0,function*({authenticatorType:m,iframeContainer:v,currentAction:y}){var g,b,k,_,R;a(!0);const I=(g=e&&d(e))!==null&&g!==void 0?g:e,T=((k=(b=r==null?void 0:r.sdk.embeddedWallets)===null||b===void 0?void 0:b.sessionKeyDuration)===null||k===void 0?void 0:k.amount)||0,D=((R=(_=r==null?void 0:r.sdk.embeddedWallets)===null||_===void 0?void 0:_.sessionKeyDuration)===null||R===void 0?void 0:R.unit)==="minutes"?60:3600,M=m==="email"||!(I==null?void 0:I.connector).getAuthenticatorHandler().isSessionActive();try{yield gVe({authenticatorType:m,environmentId:t,iframeContainer:v,iframeElementId:JD,sessionExpiration:T*D||void 0,user:n,wallet:I}),M?(o("passkey-recovery-bundle",{authenticatorType:m,currentAction:y}),i(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})):i(!1)}catch(C){c(C),Ie.error("Failed to create embedded wallet session",C),rt.emit("passkeyRecoveryFailed",C)}finally{a(!1)}}),isLoading:s}},Xh=()=>{var e,t,n;const{environmentId:r,primaryWallet:i,projectSettings:o,setShowAuthFlow:s,user:a}=je(),{createRootElement:l}=tg(),c=l(GD),{isTurnkeyWalletWithoutAuthenticator:d,hasRecoveryEmail:u}=da(),{initAuthMethod:h}=ZD(),{setDisplayedDestination:m,setVerificationUUID:v}=Kc(),{getEOAWallet:y}=xs(),{pushView:g}=At(),b=(e=i&&y(i))!==null&&e!==void 0?e:i,k=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var D,M;if(!(!((D=o==null?void 0:o.sdk.embeddedWallets)===null||D===void 0)&&D.sessionKeyDuration)||!Sde((M=o==null?void 0:o.sdk.embeddedWallets)===null||M===void 0?void 0:M.sessionKeyDuration))return!1;const C=pN(o.sdk.embeddedWallets.sessionKeyDuration);try{return yield Ide({iframeContainer:c.current,iframeElementId:JD,sessionExpiration:C,user:a,wallet:i})}catch(U){Ie.error("Failed to restore embedded wallet",U)}return!1}),[a,c,i,(n=(t=o==null?void 0:o.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration]),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!b||!rc(b.connector))return!1;const D=b.connector.getAuthenticatorHandler();return!(!d||D.isSessionActive()||(yield k()))}),[b,d,k]),R=x.useCallback((D,M)=>de(void 0,void 0,void 0,function*(){var C;(()=>{if(!a)throw new Error(Kr);if(!$h(o))throw new Error("Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.");if(!KD(a))throw new Error("Dynamic embedded wallet not found");if(b&&!rc(b.connector))throw new Error("Dynamic embedded wallet not found.")})();const $=(b==null?void 0:b.connector).getAuthenticatorHandler();if(D==="passkey"&&$.isSessionActive())return yield xde({environmentId:r,user:a,wallet:b}),s(!1),b;const z=HD((C=o==null?void 0:o.sdk.embeddedWallets)===null||C===void 0?void 0:C.supportedSecurityMethods),q=z?Object.keys(z):[];if(!u)g("passkey-recovery-add-email",{shouldInitRecovery:!0}),s(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1});else if(!D&&q.length>1)g("embedded-wallet-auth-choice",{currentAction:M}),s(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1});else{const[S]=q;D&&!q.includes(D)&&(D=S),yield h({authenticatorType:D||S,currentAction:M,iframeContainer:c.current})}return new Promise((S,A)=>{rt.once("passkeyRecoveryCompleted",O=>S(O)),rt.once("passkeyRecoveryFailed",O=>A(O))})}),[b,o,u,r,a,s,g,h,c]),I=D=>de(void 0,void 0,void 0,function*(){try{let M=a;a!=null&&a.email||(M=yield T(D)),yield bVe({environmentId:r,user:M,wallet:i}),rt.emit("embeddedWalletRecoveryEmailCompleted","")}catch(M){Ie.error("Failed to add recovery email",M),rt.emit("embeddedWalletRecoveryEmailFailed",M)}}),T=D=>de(void 0,void 0,void 0,function*(){try{const{nextView:M,emailVerification:C,userProfile:U}=yield $D(r,{email:D});return M===Wb.Done?U:(g("verify-email",{isEmailRecoveryFlow:!0}),m(D),v(C==null?void 0:C.verificationUUID),new Promise(($,z)=>{rt.once("emailVerificationResult",q=>{q&&$(U),z("Failed to verify email")})}))}catch(M){throw Ie.error("Failed to update user email",M),M}});return{addRecoveryEmail:I,initPasskeyRecoveryProcess:R,shouldInitRecovery:_}},Ede=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>!n.includes(r.id))},y4=e=>{const t=$h(e);if(!t)throw new Se("No embedded wallet is enabled. Go to the dashboard and make sure to have both Embedded wallets and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the DynamicContextProvider > settings > walletConnectors.",hDe);return t},_Ve=e=>de(void 0,[e],void 0,function*({user:t,walletConnector:n,environmentId:r,chains:i,sessionPublicKey:o,webAuthnAttestation:s,withAuthenticator:a}){if(!n)throw new $d;if(!t)throw new Se("User is not defined");n.setEmail(t.email);let l;if(a||s!==void 0){t.email||wde(n,t);const{attestation:h,challenge:m,displayName:v}=s||(yield n.getWebAuthnAttestation());l={attestation:h,challenge:m,passkeyAlias:v}}const c=yield xDe(Object.assign({chains:i,environmentId:r,sessionPublicKey:o},l));if(!c)throw new Se("Failed to create embedded wallet");const d=n.connectedChain,u=Lh(c,[d]);if(!u)throw new Se("EmbeddedWalletVerifiedCredential not found");return n.setVerifiedCredentials(c.verifiedCredentials),{embeddedWalletVerifiedCredential:u,updatedUser:c,walletConnector:n}}),Cde=(e,t)=>e.map(({walletConnector:r})=>r).find(r=>rc(r)&&vm(r)&&r.connectedChain===t),xVe=(e,t)=>t.find(n=>n.id===e.signerRefId),B3=(e,t)=>t.find(n=>n.signerRefId===e.id),kVe=(e,t)=>!!B3(e,t),YD=e=>de(void 0,[e],void 0,function*({account:t,verifiedCredentials:n,walletConnectorOptions:r,primaryWalletId:i}){var o,s;const a=p1(t,r);if(!a)throw new Error(`could not find smart wallet from wallet options. Account: ${JSON.stringify(t)}, Wallet options found: ${r.filter(u=>["turnkeyhd","dynamicwaas","zerodev","zksync"].includes(u.key)).map(u=>u.key).join(", ")}`);const l=a.walletConnector;if(!YI(l))throw new Error("could not initialize smart wallet");const c=xVe(t,n);if(!c)throw new Error("could not find associated eoa account for smart wallet");const d=p1(c,r);if(!c.address||!t.address||!d)throw new Error("could not find owner or smart wallet address");if(d&&Poe(d.walletConnector)){const u=(s=(o=d.walletConnector)===null||o===void 0?void 0:o.verifiedCredentials)===null||s===void 0?void 0:s.reduce((h,m)=>m.smartWalletRefAddress&&t.address&&t.chain&&$a(m.smartWalletRefAddress,t.address,ec[t.chain])?[m,...h]:[...h,m],[]);u&&d.walletConnector.setVerifiedCredentials(u)}yield l.initialize({eoaAddress:c.address,eoaConnector:d==null?void 0:d.walletConnector,properties:t.walletProperties,shouldSetEoaConnector:i===c.id||i===t.id,smartWalletAddress:t.address,verifiedCredentials:n})}),SVe=e=>e==="SOL"?am.Sol:e==="BTC"?am.Btc:am.Evm,Ade=()=>{var e,t;const{user:n,setShowAuthFlow:r,projectSettings:i,environmentId:o}=je(),[s,a]=x.useState(!1),[l,c]=x.useState(),{getSessionPublicKey:d,shouldRegisterSessionKeysOnSignin:u}=Km({environmentId:o,projectSettings:i}),h=((t=(e=i==null?void 0:i.sdk)===null||e===void 0?void 0:e.embeddedWallets)===null||t===void 0?void 0:t.chainConfigurations)||[],m=w0(i),v=h.filter(g=>g.enabled).map(g=>SVe(g.name));return{createDynamicEmbeddedWalletMutation:x.useCallback(g=>de(void 0,[g],void 0,function*({environmentId:b,walletConnectorOptions:k,withAuthenticator:_,options:R,chains:I}){var T,D;if(a(!0),!n)throw new Se(Kr);let M;u()&&(M=d());try{const{embeddedWalletVerifiedCredential:C,updatedUser:U,walletConnector:$}=yield _Ve({chains:I??v,environmentId:b,sessionPublicKey:M,user:n,walletConnector:Cde(k,m),webAuthnAttestation:R==null?void 0:R.webAuthnAttestation,withAuthenticator:_}),z=(T=U.verifiedCredentials)===null||T===void 0?void 0:T.find(({walletName:O})=>O==null?void 0:O.startsWith("turnkey")),q=!!(!((D=z==null?void 0:z.walletProperties)===null||D===void 0)&&D.isAuthenticatorAttached),S=$.createWallet({address:(yield $.getAddress())||"",chain:$.connectedChain,connector:$,id:C.id,isAuthenticated:q,key:C.walletName||$.key}),A=B3(C,U.verifiedCredentials);A?(yield YD({account:A,primaryWalletId:A.id,verifiedCredentials:U.verifiedCredentials,walletConnectorOptions:k}),To(A.id)):To(C.id),rt.emit("embeddedWalletCreated",S,z,U),r(!1,{performMultiWalletChecks:!1})}catch(C){Ie.error("Failed to create embedded wallet",C),c(C),rt.emit("embeddedWalletFailed",C)}finally{a(!1)}}),[v,m,r,n,d,u]),error:l,isLoading:s}},IVe=()=>{const{projectSettings:e,walletConnectorOptions:t,setShowAuthFlow:n,environmentId:r,user:i,primaryWallet:o}=je(),{pushView:s}=At(),{createDynamicEmbeddedWalletMutation:a}=Ade(),{getEOAWallet:l}=xs(),c=x.useCallback((m,v)=>de(void 0,void 0,void 0,function*(){return new Promise((y,g)=>{rt.once("embeddedWalletCreated",b=>{y(b)}),rt.once("embeddedWalletFailed",b=>g(b)),a({chains:m,environmentId:r,options:v,walletConnectorOptions:t,withAuthenticator:!1}).then(()=>{n(!1,{performMultiWalletChecks:!1})}).catch(b=>{g(b)})})}),[a,r,t,n]),d=x.useCallback(m=>de(void 0,void 0,void 0,function*(){return n(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),s("passkey-intro",{chains:m}),new Promise((v,y)=>{rt.once("embeddedWalletCreated",g=>v(g)),rt.once("embeddedWalletFailed",g=>{if(g instanceof DOMException&&g.name==="NotAllowedError"){Ie.error("User cancelled the passkey creation.",g);return}y(g)})})}),[n,s]),u=x.useCallback(m=>de(void 0,void 0,void 0,function*(){var v,y;const{chain:g}=m,b=yde(t,g);let k=null;if(i){(v=b==null?void 0:b.walletConnector)===null||v===void 0||v.setVerifiedCredentials(i.verifiedCredentials);const T=B3(m,i.verifiedCredentials);T?(yield YD({account:T,primaryWalletId:T.id,verifiedCredentials:i.verifiedCredentials,walletConnectorOptions:t}),k=T.id):k=m.id}k&&To(k);const _=!!(!((y=m.walletProperties)===null||y===void 0)&&y.isAuthenticatorAttached);if(!(b!=null&&b.walletConnector))throw new Error("Could not find the embedded wallet connector");const R=b.walletConnector,I=R.createWallet({address:(yield R.getAddress())||"",chain:R.connectedChain,connector:R,id:m.id,isAuthenticated:_,key:m.walletName||R.key||""});return Promise.resolve(I)}),[t,i]);return{createTurnkeyWallet:x.useCallback((m,v)=>de(void 0,void 0,void 0,function*(){var y,g,b,k,_,R;if(!i)throw new Error(Kr);const I=((y=e==null?void 0:e.sdk.embeddedWallets)===null||y===void 0?void 0:y.automaticEmbeddedWalletCreation)===!1,T=((g=e==null?void 0:e.sdk.embeddedWallets)===null||g===void 0?void 0:g.defaultWalletVersion)===Lc.V2,D=w0(e),M=Lh(i,m??[D]),C=vde(i);if(!(C!=null&&C.length)||!M&&I){const U=O3(i,Zo.Email);return!(!((b=e==null?void 0:e.sdk.embeddedWallets)===null||b===void 0)&&b.forceAuthenticatorAtSignup)&&U||v!=null&&v.webAuthnAttestation||T?c(m,v):d(m)}else if(M&&i.newUser&&(!((k=e==null?void 0:e.sdk.embeddedWallets)===null||k===void 0)&&k.automaticEmbeddedWalletCreation)){const U=Cde(t,D);if(!U)throw new Error("Could not find the embedded wallet connector");const $=U.createWallet({address:(yield U.getAddress())||"",chain:U.connectedChain,connector:U,id:M.id,isAuthenticated:!!(!((_=M==null?void 0:M.walletProperties)===null||_===void 0)&&_.isAuthenticatorAttached),key:(R=M.walletName)!==null&&R!==void 0?R:U.key});To(M.id),rt.emit("embeddedWalletCreated",$,M,i)}if(n(!1,{performMultiWalletChecks:!1}),!M)throw new Error("Primary wallet is not an embedded wallet");return u(M)}),[i,e,o,l,n,u,c,d,t])}},jG=e=>{var t;return!e||!Pa(e)?!1:!!(!((t=e.sessionKeys)===null||t===void 0)&&t.publicKey)},EVe=()=>{var e,t,n,r,i;const{projectSettings:o,primaryWallet:s,user:a,environmentId:l,walletConnectorOptions:c}=je(),{addedWalletsIds:d}=_s(),{createTurnkeyWallet:u}=IVe(),{hasRecoveryEmail:h}=da(),{createRootElement:m}=tg(),{isLoadingEmbeddedWallet:v,setIsLoadingEmbeddedWallet:y}=w3(),{getEOAWallet:g}=xs(),b=(e=s&&g(s))!==null&&e!==void 0?e:s,k=x.useCallback(()=>KD(a,"turnkey"),[a]),_=x.useCallback(()=>Pa(b==null?void 0:b.connector)?n1.V2:n1.V1,[b==null?void 0:b.connector]),{shouldInitRecovery:R,initPasskeyRecoveryProcess:I}=Xh(),T=x.useCallback((N,j)=>de(void 0,void 0,void 0,function*(){var V;if(!a)throw new Se(Kr);const K=vde(a),W=w0(o),P=Lh(a,N??[W]),F=((V=o==null?void 0:o.sdk.embeddedWallets)===null||V===void 0?void 0:V.automaticEmbeddedWalletCreation)===!1;if(K!=null&&K.length&&!P&&!F)throw new Fie("User already has a linked branded wallet, and manual mode creation is not enabled.");return y4(o),y(!1),u(N,j)}),[u,o,y,a]),D=x.useCallback(N=>de(void 0,[N],void 0,function*({chain:j}){var V,K,W;if(!a)throw new Error(Kr);y4(o);const P=w0(o),F=Lh(a,[P]);if(!((V=F==null?void 0:F.walletProperties)===null||V===void 0?void 0:V.turnkeyHDWalletId))throw new Se("No HD wallet was found for this user to derive a wallet account. Use createEmbeddedWallet first","NoHdWalletFound");const Y=yield CDe({chain:j,environmentId:l});Pa(b==null?void 0:b.connector)?yield(K=b==null?void 0:b.connector)===null||K===void 0?void 0:K.createOrRestoreSession({ignoreRestore:!0}):(yield R())&&(yield I("email"));const ie=yield(W=b==null?void 0:b.connector)===null||W===void 0?void 0:W.stampCreateWalletAccountRequest({request:Y}),ye=yield ADe({createEmbeddedWalletAccountRequest:ie,environmentId:l}),ge=Ede(a.verifiedCredentials,ye.user.verifiedCredentials).filter(({format:be})=>be===Zo.Blockchain).map(({id:be})=>be);return d.current=d.current.concat(ge),T3({environmentId:l})}),[l,b==null?void 0:b.connector,I,o,R,a,d]),M=x.useCallback(N=>de(void 0,void 0,void 0,function*(){var j,V,K,W,P,F,G;if(!a)throw new Se(Kr);const Y=s==null?void 0:s.connector;if(Y&&Pa(Y))return Y.createOrRestoreSession();const ie=b==null?void 0:b.connector;if(ie&&Pa(ie))return ie.createOrRestoreSession();const ye=bk(b==null?void 0:b.connector);if(ye.isSessionActive())return LK;const ge=m(WK);if(Sde((j=o==null?void 0:o.sdk.embeddedWallets)===null||j===void 0?void 0:j.sessionKeyDuration))try{if(yield Ide({iframeContainer:ge.current,iframeElementId:qK,sessionExpiration:pN((K=(V=o==null?void 0:o.sdk)===null||V===void 0?void 0:V.embeddedWallets)===null||K===void 0?void 0:K.sessionKeyDuration),user:a,wallet:s}))return gDe}catch(Me){Ie.error("Failed to restore embedded wallet",Me)}if(!(N!=null&&N.oneTimeCode))throw new Se("One-time code is required to create a session.",fDe);if(!k()||!h)throw new Se("User does not have a secure enclave wallet or a verified email",Oy);if(!s)throw new Se("No primary wallet found");const be=v3(s.id,(a==null?void 0:a.verifiedCredentials)||[]),Le=(G=(F=(P=(W=a==null?void 0:a.verifiedCredentials)===null||W===void 0?void 0:W.find(({walletName:Me,id:gt})=>(Me==null?void 0:Me.startsWith("turnkey"))&&gt===be))===null||P===void 0?void 0:P.walletProperties)===null||F===void 0?void 0:F.turnkeySubOrganizationId)!==null&&G!==void 0?G:void 0;yield ye.verifyRecoveryCode(N.oneTimeCode,Le??void 0);const qe={createdAt:new Date().getTime(),emailCode:N.oneTimeCode,userId:ye.recoveryUserId};return ot.setItem(v0,qe),mDe}),[m,a,h,s,(n=(t=o==null?void 0:o.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration,k,b==null?void 0:b.connector]),C=x.useCallback(N=>de(void 0,void 0,void 0,function*(){var j,V;if(!a)throw new Se(Kr);y4(o);const K=g4(c,(j=o==null?void 0:o.sdk.embeddedWallets)===null||j===void 0?void 0:j.chainConfigurations,a.verifiedCredentials);if(!(K!=null&&K.walletConnector))throw new Se("Wallet connector not found",Oy);const W=K.walletConnector;W.setEmail(a==null?void 0:a.email),a&&!(a!=null&&a.email)&&wde(W,a);const P=O3(a,Zo.Email);if(!("id"in K)||!P)return W.getWebAuthnAttestation();const F=(V=K==null?void 0:K.walletProperties)===null||V===void 0?void 0:V.turnkeySubOrganizationId;if(!F)throw new Se("No sub organization id found for the wallet",Oy);const G=bk(W);yield M(N);const{attestation:Y,challenge:ie,displayName:ye}=yield W.getWebAuthnAttestation();if(yield G.addPasskeyAuthenticator({attestation:Y,challenge:ie,turnkeySubOrganizationId:F}),!(yield wle({attestation:Y,challenge:ie,environmentId:l,walletId:K==null?void 0:K.id})))throw new Se("Error completing passkey recovery");return{attestation:Y,challenge:ie,displayName:ye}}),[M,l,o,a,c]),U=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!a)throw new Se(Kr);return(yield ble({environmentId:l})).passkeys}),[a,l]),$=x.useMemo(()=>{var N;const j=b==null?void 0:b.connector;return!j||!("getAuthenticatorHandler"in j)?!1:(N=bk(j))===null||N===void 0?void 0:N.isSessionActive()},[b==null?void 0:b.connector]),z=x.useMemo(()=>jG(b==null?void 0:b.connector),[b==null?void 0:b.connector]),q=x.useMemo(()=>jG(s==null?void 0:s.connector),[s==null?void 0:s.connector]),S=$||q||z,A=x.useCallback(N=>de(void 0,[N],void 0,function*({type:j,htmlContainerId:V}){var K,W,P,F,G,Y;if(!a)throw new Se(Kr);yield _de({wallet:b});const ie=g4(c,(K=o==null?void 0:o.sdk.embeddedWallets)===null||K===void 0?void 0:K.chainConfigurations,a==null?void 0:a.verifiedCredentials),ye=(W=ie==null?void 0:ie.walletProperties)===null||W===void 0?void 0:W.turnkeyHDWalletId;j==="recoveryPhrase"&&!ye&&(j="privateKey");const ge=m(zK,V||PDe);ge.current.style.display="none",Pa(b==null?void 0:b.connector)&&(yield(P=b==null?void 0:b.connector)===null||P===void 0?void 0:P.createOrRestoreSession()),yield bde({iframeContainer:ge.current,iframeElementId:zK,wallet:b});try{yield BS({address:j==="privateKey"?b==null?void 0:b.address:void 0,environmentId:l,user:a,wallet:b})}catch(be){Pa(b==null?void 0:b.connector)&&(!((F=b==null?void 0:b.connector)===null||F===void 0)&&F.removeSessionKeys)&&(yield(G=b==null?void 0:b.connector)===null||G===void 0?void 0:G.removeSessionKeys(),yield(Y=b==null?void 0:b.connector)===null||Y===void 0?void 0:Y.createOrRestoreSession({ignoreRestore:!0}),Ie.error("[TK - removeSessionKeys] failed to perform revealEmbeddedWalletKey activity",{address:b==null?void 0:b.address,err:be,userId:a==null?void 0:a.userId})),yield BS({address:j==="privateKey"?b==null?void 0:b.address:void 0,environmentId:l,user:a,wallet:b})}return ge.current.style.display="block",!0}),[m,l,b,(i=(r=o==null?void 0:o.sdk)===null||r===void 0?void 0:r.embeddedWallets)===null||i===void 0?void 0:i.chainConfigurations,a,c]),O=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var N,j;if(!a)throw new Se(Kr);const V=g4(c,(N=o==null?void 0:o.sdk.embeddedWallets)===null||N===void 0?void 0:N.chainConfigurations,a.verifiedCredentials);if(!V||!("id"in V))throw new Se("User does not have a valid secure enclave wallet",Oy);const K=bk(V==null?void 0:V.walletConnector),W=V.id;if(K.isSessionActive())throw new Se("Session is active. No need to create a new one",LK);const F=m(WK),G=yield K.initRecovery("email",F.current,qK,pN((j=o==null?void 0:o.sdk.embeddedWallets)===null||j===void 0?void 0:j.sessionKeyDuration));if(!G)throw new Se(uDe);const Y=yield lD({authenticatorType:"email",environmentId:l,publicKey:G,walletId:W});return K.recoveryUserId=Y.turnkeyUserId,pDe}),[m,a,l,o,c]);return x.useMemo(()=>({createEmbeddedWallet:T,createEmbeddedWalletAccount:D,createOrRestoreSession:M,createPasskey:C,getPasskeys:U,getWalletVersion:_,isLoadingEmbeddedWallet:v,isSessionActive:S,revealEmbeddedWalletKey:A,sendOneTimeCode:O,userHasEmbeddedWallet:k}),[T,D,M,C,U,_,v,S,A,O,k])},M3=()=>{const{user:e,projectSettings:t}=je(),{isTurnkeyWallet:n}=da(),{createEmbeddedWallet:r,createEmbeddedWalletAccount:i,createOrRestoreSession:o,createPasskey:s,revealEmbeddedWalletKey:a,getPasskeys:l,isSessionActive:c,sendOneTimeCode:d,getWalletVersion:u}=EVe(),{isLoadingEmbeddedWallet:h}=w3(),m=x.useCallback(()=>KD(e),[e]),v=x.useCallback(()=>{if(!e)throw new Se(Kr);if(!m())throw new Se("Embedded wallet not found");if(n)return u()},[u,n,e,m]),y=x.useCallback((I,T)=>de(void 0,void 0,void 0,function*(){return yield r(I,T)}),[r]),g=I=>de(void 0,void 0,void 0,function*(){if(!e)throw new Se(Kr);if(!m())throw new Se("Embedded wallet not found");return a(I)}),b=x.useCallback(()=>{var I;return!!(!((I=t==null?void 0:t.sdk.embeddedWallets)===null||I===void 0)&&I.promptForKeyExport)},[t]),k=x.useCallback(()=>{var I;return(I=t==null?void 0:t.sdk.embeddedWallets)===null||I===void 0?void 0:I.defaultWalletVersion},[t]),_=x.useCallback(I=>gde(I,t,!0),[t]),R=x.useCallback(()=>{var I,T;const D=$h(t),{user:M}=Js(),C=Fd();if(k()===Lc.V3){const U=_(M);return U&&!C&&To(U.id),!1}if(!D||C)return!1;if(M){const U=_(M);if(U)return To(U.id),!1}return!($h(t)&&!(!((T=(I=t==null?void 0:t.sdk)===null||I===void 0?void 0:I.embeddedWallets)===null||T===void 0)&&T.automaticEmbeddedWalletCreation))},[t,k,_]);return{createEmbeddedWallet:y,createEmbeddedWalletAccount:i,createOrRestoreSession:o,createPasskey:s,embeddedWalletSettingVersion:k,getPasskeys:l,getWalletVersion:v,isLoadingEmbeddedWallet:h,isSessionActive:c,revealWalletKey:g,sendOneTimeCode:d,shouldAutoCreateEmbeddedWallet:R,shouldPromptForKeyExport:b,userHasEmbeddedWallet:m}},XD=x.createContext(void 0),CVe=({children:e})=>{var t,n,r,i,o,s,a,l;const{userHasEmbeddedWallet:c,getWalletVersion:d}=M3(),{isSessionKeyCompatible:u,isTurnkeyWalletWithoutAuthenticator:h}=da(),{environmentId:m,projectSettings:v,user:y}=je(),[g,b]=x.useState(!1),[k,_]=x.useState(void 0),[R,I]=x.useState(void 0),[T,D]=nv(dae,!0),M=x.useMemo(()=>{var S,A,O,N;const j=!!(!((N=(O=(A=(S=v==null?void 0:v.sdk)===null||S===void 0?void 0:S.embeddedWallets)===null||A===void 0?void 0:A.supportedSecurityMethods)===null||O===void 0?void 0:O.passkey)===null||N===void 0)&&N.isEnabled);return T!==!1&&h&&j},[h,T,(i=(r=(n=(t=v==null?void 0:v.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.supportedSecurityMethods)===null||r===void 0?void 0:r.passkey)===null||i===void 0?void 0:i.isEnabled]),C=x.useCallback(()=>{var S,A,O,N;const j=!!(!((N=(O=(A=(S=v==null?void 0:v.sdk)===null||S===void 0?void 0:S.embeddedWallets)===null||A===void 0?void 0:A.supportedSecurityMethods)===null||O===void 0?void 0:O.passkey)===null||N===void 0)&&N.isEnabled);return!u&&(!M&&h&&j)},[(l=(a=(s=(o=v==null?void 0:v.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0?void 0:s.supportedSecurityMethods)===null||a===void 0?void 0:a.passkey)===null||l===void 0?void 0:l.isEnabled,M,u,h]),U=vr(()=>de(void 0,void 0,void 0,function*(){if(d()===n1.V1)return(yield ble({environmentId:m})).passkeys}),{deps:[m,y,c(),g,d],enabled:!!(m&&y&&c())}),$=x.useMemo(()=>{if(typeof window>"u")return!1;const S=Ln.getHostname();return U.data?U.data.some(A=>{if(!A.origin)return!1;try{const O=new URL(A.origin).hostname;return O===Hy()||O===S}catch(O){return Ie.error(O),!1}}):!1},[U.data]),z=!h&&!$,q=x.useMemo(()=>{var S;return{passkey:k,passkeyEdited:g,passkeyIcon:R,setPasskey:_,setPasskeyEdited:b,setPasskeyIcon:I,setShowSecureAccountBanner:D,showAlert:C,showSecureAccountBanner:M,userHasPasskeysForCurrentOrigin:$,userNeedsCrossDomainPasskey:z,userPasskeys:(S=U.data)!==null&&S!==void 0?S:[],userPasskeysLoading:U.isLoading}},[k,g,R,$,U.data,U.isLoading,z,C,D,M]);return f.jsx(XD.Provider,{value:q,children:e})},AVe=({children:e})=>f.jsx(CVe,{children:e}),av=()=>{const e=x.useContext(XD);if(e===void 0)throw new Error("usage of PasskeyContext not wrapped in `PasskeyContextProvider`.");return e},QD=(e,t)=>{const n=()=>de(void 0,void 0,void 0,function*(){var o,s,a,l,c;if(!e)return null;const d=yield e.getNetwork(!0),u=Uc((o=e.connectedChain)!==null&&o!==void 0?o:"");if(!d)return{name:u==null?void 0:u.displayName,symbol:u==null?void 0:u.symbol};const h=e.getEnabledNetworks(),m=h==null?void 0:h.find(v=>v.chainId===d);return{name:(a=(s=m==null?void 0:m.nativeCurrency)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:u==null?void 0:u.displayName,symbol:(c=(l=m==null?void 0:m.nativeCurrency)===null||l===void 0?void 0:l.symbol)!==null&&c!==void 0?c:u==null?void 0:u.symbol}}),{data:r,isLoading:i}=vr(n,{deps:[t,e==null?void 0:e.key],enabled:!!e,initialData:null});return{currency:r,isLoading:i}},Qh=e=>{x.useEffect(e,[])},$G=e=>Pa(e)||YI(e)&&Pa(e.getEOAConnector()),Rde=(e,t,n)=>{if(!(e!=null&&e.price)||!t.fee.gas)return;let r=e.price;return n&&(r=n),(Number(t.format(t.fee.gas))*r).toFixed(2)},Tde=(e,t,n,r)=>{const i=Rde(e,t,n);return!i||!(e!=null&&e.price)?void 0:(Number(i)+Number(r)*e.price).toFixed(2)},Ode=(e,t)=>{const[n,r]=x.useState(),i=x.useCallback(o=>{if(!Array.isArray(o))return;const[s]=o;r(s.contentRect)},[t,r]);return g_(()=>{if(!e.current)return;let o=new ResizeObserver(i);return o.observe(e.current),()=>{o==null||o.disconnect(),o=null}},[e]),[n]},ng=e=>{var{style:t,children:n,className:r}=e,i=bs(e,["style","children","className"]);const o=x.useRef(null),s=x.useRef(null),[a]=Ode(s),l=x.useMemo(()=>a==null?void 0:a.height,[a]),{mount:c,stage:d,currentDuration:u}=y_(Object.assign({animateOnMount:!1},i)),h=x.useMemo(()=>!c||d==="EXITING"||d==="UNMOUNT"?0:l,[d,l,c]);return f.jsx("div",{ref:o,className:Ke(r,"vertical-drawer-animation"),style:Object.assign(Object.assign({},t),{maxHeight:h,transitionDuration:`${u}ms`}),children:f.jsx("div",{ref:s,children:c&&n})})},Zs=e=>{var{className:t=""}=e,n=bs(e,["className"]);return f.jsx("button",Object.assign({className:Ke("text-button",t)},n))},RVe=e=>{switch(e.toLowerCase()){case"slack":return f.jsx(Nt,{size:"xsmall",children:f.jsx(AM,{})});case"discord":return f.jsx(Nt,{size:"xsmall",children:f.jsx(CM,{})});case"twitter":return f.jsx(Nt,{size:"xsmall",children:f.jsx(RM,{})});default:return null}},Nde=({supportEmail:e,supportUrls:t})=>{const{t:n}=Xe();return!e&&!t?null:f.jsxs("div",{className:"support-links",children:[e&&f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_need_help_section.contact_support",children:f.jsx(se,{variant:"body_small",color:"link",as:"span",children:f.jsx("a",{href:`mailto:${e}`,children:n("dyn_need_help_section.contact_support")})})}),t&&f.jsx("div",{className:"support-links__icons-container",children:Object.entries(t).map(([r,i])=>{const o=RVe(r),s=r.charAt(0).toUpperCase()+r.slice(1);return o?f.jsxs("a",{href:i,rel:"noreferrer",target:"_blank",className:"support-links__icon-link",children:[o,f.jsx(se,{variant:"body_small",color:"secondary",as:"span",children:s})]},r):null})})]})},ep=({isRecoveryFlow:e=!1,isExport:t=!1,walletCredential:n})=>{var r,i,o,s,a,l;const{projectSettings:c}=je(),{t:d}=Xe(),{pushView:u}=At(),{initPasskeyRecoveryProcess:h}=Xh(),m=(r=c==null?void 0:c.general)===null||r===void 0?void 0:r.supportEmail,v=(i=c==null?void 0:c.general)===null||i===void 0?void 0:i.supportUrls,y=!e&&((o=c==null?void 0:c.providers)===null||o===void 0?void 0:o.find(_=>_.provider===pn.Turnkey&&_.enabledAt))&&!!(!((a=(s=c==null?void 0:c.sdk)===null||s===void 0?void 0:s.embeddedWallets)===null||a===void 0)&&a.emailRecoveryEnabled),g=((l=n==null?void 0:n.walletProperties)===null||l===void 0?void 0:l.version)===Lc.V1&&y,b=!!(m||Object.keys(v||{}).length>0),k=()=>g?f.jsx(Zs,{copykey:"dyn_need_help_section.help_button",className:Ke("need-help-section__helper-link"),onClick:()=>h(void 0,{settings:t?{goBack:()=>{u("embedded-reveal-view")}}:void 0,type:"helpSession"}),children:d("dyn_need_help_section.help_button")}):b?f.jsx(Nde,{supportEmail:m,supportUrls:v}):null;return k()?f.jsxs("div",{className:"need-help-section",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:"dyn_need_help_section.info",children:d(g?"dyn_need_help_section.info.v1":"dyn_need_help_section.info.not_v1")}),k()]}):null};var LG,UG,TVe=["title","titleId"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(null,arguments)}function OVe(e,t){if(e==null)return{};var n,r,i=NVe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var PVe=function(t){var n=t.title,r=t.titleId,i=OVe(t,TVe);return x.createElement("svg",mN({fill:"none",viewBox:"0 0 114 21",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,LG||(LG=x.createElement("g",{clipPath:"url(#dynamic-logo_svg__a)",fill:"currentColor"},x.createElement("path",{d:"M10.053 2.002c-.43.4-.85.793-1.273 1.184-1.959 1.818-3.918 3.638-5.879 5.453-.45.417-.915.817-1.48 1.061C.75 9.99.365 9.81.15 9.085-.153 8.072.009 7.128.59 6.258 1.087 5.517 1.71 4.9 2.354 4.3A178.857 178.857 0 0 1 5.45 1.47c.457-.408.957-.78 1.567-.905 1.828-.368 2.994 1.384 3.038 1.436l-.002.001zM1.259 11.254c1.112-.32 1.946-1.026 2.758-1.768 2.59-2.363 5.176-4.728 7.777-7.078A16.823 16.823 0 0 1 13.609.96C14.42.408 15.303.33 16.173.855c.314.189.623.409.878.672a106.565 106.565 0 0 1 5.28 5.866c.298.358.542.774.744 1.196.375.785.279 1.561-.178 2.293-.409.655-.956 1.192-1.52 1.702a699.92 699.92 0 0 1-6.653 5.96c-.6.53-1.26 1.004-1.94 1.422-1.282.791-2.568.693-3.737-.244A16.245 16.245 0 0 1 7.14 17.92c-1.883-2.087-3.73-4.203-5.592-6.31-.094-.106-.18-.22-.29-.358v.002zM39.574.915h2.808V16.14h-2.808v-1.284c-.827 1.06-2.003 1.587-3.526 1.587-1.522 0-2.717-.555-3.755-1.664s-1.556-2.469-1.556-4.078c0-1.609.518-2.968 1.556-4.077s2.288-1.665 3.755-1.665 2.7.53 3.526 1.587V.913v.002zm-5.17 11.996c.573.572 1.294.859 2.166.859s1.589-.287 2.155-.86c.566-.572.849-1.309.849-2.207 0-.898-.283-1.635-.85-2.207-.565-.572-1.283-.859-2.154-.859s-1.593.287-2.166.86c-.574.571-.86 1.308-.86 2.206 0 .898.286 1.635.86 2.208zM51.766 5.264h3.004l-3.968 10.894c-.566 1.554-1.315 2.682-2.251 3.385-.934.704-2.098 1.02-3.489.947v-2.61c.755.015 1.352-.144 1.796-.477.442-.334.796-.87 1.057-1.61L43.453 5.268h3.069l2.837 7.308 2.409-7.308-.002-.002zM61.908 4.959c1.19 0 2.174.398 2.949 1.196.777.798 1.163 1.9 1.163 3.305v6.678h-2.808v-6.33c0-.723-.196-1.279-.588-1.664-.392-.383-.914-.576-1.567-.576-.725 0-1.306.224-1.74.674s-.654 1.124-.654 2.022v5.872h-2.808V5.261h2.808v1.218c.683-1.014 1.763-1.522 3.243-1.522l.002.002zM76.243 5.264h2.808V16.14h-2.808v-1.283c-.842 1.06-2.024 1.587-3.548 1.587s-2.695-.555-3.733-1.665-1.556-2.468-1.556-4.077c0-1.61.518-2.968 1.556-4.078C70 5.514 71.242 4.96 72.695 4.96c1.524 0 2.706.53 3.548 1.587V5.262v.002zm-5.182 7.646c.566.572 1.284.86 2.156.86s1.592-.288 2.166-.86c.573-.572.86-1.309.86-2.207 0-.898-.287-1.635-.86-2.207-.574-.572-1.295-.86-2.166-.86s-1.59.288-2.156.86c-.566.572-.849 1.309-.849 2.207 0 .898.283 1.635.85 2.207zM92.864 4.959c1.249 0 2.246.406 2.993 1.218.748.813 1.121 1.9 1.121 3.263v6.7H94.17V9.637c0-.652-.16-1.16-.48-1.523s-.769-.544-1.35-.544c-.638 0-1.135.211-1.49.631-.356.42-.533 1.03-.533 1.828v6.113h-2.808V9.638c0-.651-.16-1.159-.48-1.522-.32-.363-.77-.544-1.35-.544-.623 0-1.121.21-1.491.631-.37.42-.555 1.03-.555 1.828v6.113h-2.808V5.269h2.808v1.153c.653-.972 1.661-1.457 3.027-1.457 1.365 0 2.321.522 2.96 1.566.724-1.044 1.807-1.566 3.242-1.566l.002-.006zM100.15 3.959c-.464 0-.868-.17-1.208-.511a1.653 1.653 0 0 1-.512-1.207c0-.465.17-.87.512-1.219.34-.348.744-.522 1.208-.522.464 0 .888.174 1.23.522.341.348.511.754.511 1.219 0 .464-.17.866-.511 1.207-.34.34-.751.511-1.23.511zM98.757 16.14V5.265h2.808V16.14h-2.808zM108.69 16.443c-1.641 0-3.008-.55-4.103-1.654-1.095-1.101-1.643-2.464-1.643-4.088s.548-2.987 1.643-4.089 2.464-1.653 4.103-1.653c1.06 0 2.024.253 2.895.76.871.508 1.532 1.19 1.981 2.045l-2.416 1.413a2.464 2.464 0 0 0-.989-1.067 2.878 2.878 0 0 0-1.491-.39c-.842 0-1.539.28-2.091.837-.551.559-.827 1.272-.827 2.142 0 .87.276 1.563.827 2.12.552.56 1.249.837 2.091.837.566 0 1.069-.126 1.513-.381.442-.254.773-.606.99-1.056l2.438 1.393a5.463 5.463 0 0 1-2.024 2.055c-.871.515-1.835.772-2.895.772l-.002.004z"}))),UG||(UG=x.createElement("defs",null,x.createElement("clipPath",{id:"dynamic-logo_svg__a"},x.createElement("path",{transform:"translate(0 .5)",fill:"#fff",d:"M0 0h113.61v20H0z"})))))};const Pde=({children:e})=>f.jsx("div",{className:"dynamic-widget-footer","data-testid":"dynamic-widget-footer",children:e}),BVe="https://dynamic.xyz",MVe={center:"powered-by-dynamic--center",right:"powered-by-dynamic--right"},Gc=({align:e="center",classNameLogo:t,classNameRoot:n,classNameText:r,asFooter:i})=>{var o;const s=vo();if(((o=s==null?void 0:s.sdk)===null||o===void 0?void 0:o.displayDynamicMessaging)===!1)return null;const a=f.jsxs("a",{target:"_blank",href:BVe,className:Ke("powered-by-dynamic",MVe[e],n),rel:"noreferrer",children:[f.jsx(se,{as:"span",color:"tertiary",weight:"regular",variant:"body_mini",className:Ke("powered-by-dynamic__text",r),children:"Powered by"}),f.jsx(PVe,{className:Ke("powered-by-dynamic__logo",t)})]});return i?f.jsx(Pde,{children:a}):a},DVe=(e,t)=>{if(!e)return;const n=Math.pow(10,t),r=Math.round(e*n)/n,i="0".repeat(t-1);return r===0?`<0.${i}1`:r},jVe=(e,t)=>(e==null?void 0:e.symbol)||t,Bde=(e,t)=>{let n;return e?n=t.value?t.format(t.value):"0":n=t!=null&&t.nonNativeValue&&(t!=null&&t.formatNonNativeToken)?t.formatNonNativeToken(t.nonNativeValue,t.nonNativeDecimal||18):"0",DVe(Number(n),6)},$Ve=(e,t,n)=>{if(e===void 0||isNaN(e)||!n||!t)return 0;const r=Math.pow(10,n);try{const i=BigInt(Math.round(e*r)),o=BigInt(Math.round(t*r)),s=i*o/BigInt(r);return Number(s)/r}catch{return}},Mde=(e,t)=>{if(!(t!=null&&t.price))return"--";const n=$Ve(e,t.price,t.decimals);return n===void 0?"--":n===0||n>=.01?n.toFixed(2):"<0.01"},LVe=(e,t,n,r,i,o)=>{const s=()=>de(void 0,void 0,void 0,function*(){(yield r())&&e&&!t(e)&&(yield i("email",{type:"sendTransaction"})),n==null||n("callHandlerOutsideModal")});Qh(()=>{o&&s()})},UVe=(e,t,n)=>r=>de(void 0,void 0,void 0,function*(){const{walletConnector:i,usingSessionKey:o,onClickSend:s,isTurnkeyWallet:a,userNeedsCrossDomainPasskey:l}=e,{shouldInitRecovery:c,initPasskeyRecoveryProcess:d}=t,{pushView:u,setShowAuthFlow:h}=n;if(i&&o(i)){s(r);return}if((yield c())&&(yield d("email",{type:"sendTransaction"})),a&&l){u("passkey-new-domain-detected"),h(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),rt.once("passkeyRecoveryCompleted",()=>{s(r)});return}s(r)});var FG,FVe=["title","titleId"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(null,arguments)}function WVe(e,t){if(e==null)return{};var n,r,i=qVe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Dde=function(t){var n=t.title,r=t.titleId,i=WVe(t,FVe);return x.createElement("svg",gN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,FG||(FG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm10-5a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1Zm-1 9a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"#ABACB2"})))};const ej=({chain:e,networkId:t,networkInfo:n})=>{var r,i;if(Ie.logVerboseTroubleshootingMessage("[getNetworkInfoEntry]",{chain:e,networkId:t,networkInfo:n}),!e||!t)return;const o=(r=Lm(e))===null||r===void 0?void 0:r.name;if(!o)return;const s=n[o];if(s)return Ie.logVerboseTroubleshootingMessage("[getNetworkInfoEntry]",{networkData:s,normalizedChain:o}),(i=s.find(a=>a.chainId.toString()===t.toString()))!==null&&i!==void 0?i:s[0]},zVe=e=>({1:"Ethereum",10:"OP Mainnet",11155111:"Sepolia",137:"Polygon",42161:"Arbitrum One",43114:"Avalanche",8453:"Base"})[e]||"Unknown",I_=e=>{const t=()=>de(void 0,void 0,void 0,function*(){var i,o;if(!e)return{chainId:void 0,name:"",symbol:void 0};const s=yield e.getNetwork(!0),{connectedChain:a}=e,l=Uc(a||""),c={chainId:s,name:l==null?void 0:l.displayName,symbol:l==null?void 0:l.symbol},d=e==null?void 0:e.getEnabledNetworks();if(s&&d.length>0){const u=d.find(h=>h.chainId===s);c.name=(o=(i=u==null?void 0:u.vanityName)!==null&&i!==void 0?i:u==null?void 0:u.name)!==null&&o!==void 0?o:c.name,c.icon=u==null?void 0:u.iconUrls[0]}return c}),{data:n,isLoading:r}=vr(t,{deps:[e]});return{chain:n,isLoading:r}},D3=({projectSettings:e,cosmosNetworkOverrides:t,evmNetworksOverrides:n,solanaNetworksOverrides:r,tronNetworksOverrides:i,aptosNetworksOverrides:o,stellarNetworksOverrides:s,tonNetworksOverrides:a,bitcoinNetworksOverrides:l})=>x.useMemo(()=>{var c,d,u,h,m,v,y,g,b,k,_;const R=e==null?void 0:e.networks;if(!R)return{};const I=R.find(ge=>ge.chainName==="evm"),T=R.find(ge=>ge.chainName==="solana"),D=R.find(ge=>ge.chainName==="cosmos"),M=R.find(ge=>ge.chainName==="starknet"),C=R.find(ge=>ge.chainName==="stellar"),U=R.find(ge=>ge.chainName==="eclipse"),$=R.find(ge=>ge.chainName==="sui"),z=R.find(ge=>ge.chainName==="tron"),q=R.find(ge=>ge.chainName==="aptos"),S=R.find(ge=>ge.chainName==="ton"),A=R.find(ge=>ge.chainName==="bitcoin");let O=(c=D==null?void 0:D.networks)===null||c===void 0?void 0:c.map(ge=>bc(ge,Number.parseInt));O=Cf(t,O);let N=(d=I==null?void 0:I.networks)===null||d===void 0?void 0:d.map(ge=>bc(ge,Number.parseInt));N=Cf(n,N);const j=(u=M==null?void 0:M.networks)===null||u===void 0?void 0:u.map(ge=>bc(ge));let V=(h=T==null?void 0:T.networks)===null||h===void 0?void 0:h.map(ge=>bc(ge));V=Cf(r,V);const K=(m=U==null?void 0:U.networks)===null||m===void 0?void 0:m.map(ge=>bc(ge));n&&(Array.isArray(n)?N=n:N=n(N??[]));const W=(v=$==null?void 0:$.networks)===null||v===void 0?void 0:v.map(ge=>bc(ge));let P=(y=z==null?void 0:z.networks)===null||y===void 0?void 0:y.map(ge=>bc(ge));P=Cf(i,P);let F=(g=q==null?void 0:q.networks)===null||g===void 0?void 0:g.map(ge=>bc(ge));F=Cf(o,F);let G=(b=S==null?void 0:S.networks)===null||b===void 0?void 0:b.map(ge=>bc(ge));G=Cf(a,G);let Y=(k=C==null?void 0:C.networks)===null||k===void 0?void 0:k.map(ge=>bc(ge));Y=Cf(s,Y);let ie=(_=A==null?void 0:A.networks)===null||_===void 0?void 0:_.map(ge=>bc(ge,Number.parseInt));return ie=Cf(l,ie),{aptos:F,bitcoin:ie,cosmos:O,eclipse:K,evm:N,solana:V,starknet:j,stellar:Y,sui:W,ton:G,tron:P}},[e==null?void 0:e.networks,t,n,r,i,o,a,s,l]),bc=(e,t=n=>n)=>({bech32Prefix:e.bech32Prefix,blockExplorerUrls:e.blockExplorerUrls,chainId:t(e.chainId),cluster:e.cluster,genesisHash:e.genesisHash,iconUrls:e.iconUrls,isTestnet:e.isTestnet,key:e.key,lcdUrl:e.lcdUrl,name:e.name,nativeCurrency:e.nativeCurrency,networkId:t(e.networkId),privateCustomerRpcUrls:e.privateCustomerRpcUrls,rpcUrls:e.rpcUrls,vanityName:e.vanityName}),Cf=(e,t)=>e?Array.isArray(e)?e:e(t??[]):t,VVe=({transaction:e,simulationResult:t,isGasSponsored:n,isAATransaction:r,recipient:i})=>{var o,s,a,l,c,d,u;const{t:h}=Xe(),{primaryWallet:m,projectSettings:v,overrides:y}=je(),g=D3({evmNetworksOverrides:y==null?void 0:y.evmNetworks,projectSettings:v}),{chain:b}=I_(m==null?void 0:m.connector),k=ej({chain:(o=m==null?void 0:m.connector)===null||o===void 0?void 0:o.connectedChain,networkId:b==null?void 0:b.chainId,networkInfo:g}),{symbol:_,decimals:R}=(s=k==null?void 0:k.nativeCurrency)!==null&&s!==void 0?s:{},I=t==null?void 0:t.showTotalFiat,T=x.useMemo(()=>{var N;const j=(N=t==null?void 0:t.priceData)===null||N===void 0?void 0:N.nativeTokenUsdPrice;if(!(!j||!R))return Number(j)*Number(e.fee.gas)/Math.pow(10,R)},[t,R,e.fee.gas]),D=N=>{if(N)return N<.01?"<$0.01":`~$${N.toFixed(2)}`},M=x.useMemo(()=>{var N;const j=((N=t==null?void 0:t.outAssets)===null||N===void 0?void 0:N.reduce((V,K)=>{var W;const P=((W=K.transferOut)===null||W===void 0?void 0:W.reduce((F,G)=>F+Number((G==null?void 0:G.usdPrice)||0),0))||0;return V+P},0))||0;return I&&r?j:j+(_==="SOL"||n?0:T||0)},[t==null?void 0:t.outAssets,_,T]),C=N=>{if(N)return N<.01?"<$0.01":`~$${N.toFixed(2)}`},U=(N,j,V)=>{var K,W,P;["NATIVE","SOL","ETH"].includes(N.asset.type)&&((K=m==null?void 0:m.connector)===null||K===void 0?void 0:K.connectedChain)==="SOL"&&e.fee.gas&&(N.amount=(Number(N.amount)-Number(e.fee.gas)/Math.pow(10,9)).toString(),N.usdPrice=(Number(N.usdPrice)-Number(T)).toString());const F=()=>{const Y=Number(N.amount);return Number.isInteger(Y)?Y:Y<1e-6?"<0.000001":Y.toFixed(6)},G=()=>{const Y=Number(N.usdPrice);return Y<.01?"<$0.01":`$${Y.toFixed(2)}`};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`transaction-card__${N.direction}`,children:f.jsxs("div",{className:"transaction-card__info-container",children:[f.jsx(se,{variant:"body_normal",color:"secondary",children:N.direction==="in"?"Receive":"Send"}),f.jsxs("div",{className:"transaction-card__amount-symbol",children:[f.jsxs("div",{className:"transaction-card__token-info",children:[f.jsxs("div",{className:"transaction-card__token-row",children:[f.jsxs(se,{variant:"body_normal",color:N.direction==="in"?"green-1":"error-1",children:[N.direction==="out"?"-":"+",F()]}),f.jsx(se,{variant:"body_normal",color:"primary",children:(W=N.asset.symbol||N.asset.name)!==null&&W!==void 0?W:_})]}),Number(N.usdPrice)>0&&f.jsx(se,{variant:"body_small",color:N.direction==="in"?"green-1":"error-1",children:G()})]}),f.jsx("div",{className:"transaction-card__icon",children:f.jsx("div",{className:"transaction-card__icon__container",children:f.jsx("img",{src:N.asset.logoUrl||(k==null?void 0:k.nativeCurrency.iconUrl),alt:(P=N.asset.symbol)!==null&&P!==void 0?P:_,width:32,height:32,className:"transaction-card__icon__container__main"})})})]})]})}),j<V.length-1&&f.jsx("div",{className:"transaction-card__divider"})]})},$=((a=t==null?void 0:t.inAssets)===null||a===void 0?void 0:a.flatMap(N=>{var j;return((j=N.transferIn)===null||j===void 0?void 0:j.map(V=>{var K,W;return{amount:(K=V==null?void 0:V.value)!==null&&K!==void 0?K:"",asset:N.asset,direction:"in",usdPrice:(W=V==null?void 0:V.usdPrice)!==null&&W!==void 0?W:""}}))||[]}))||[],A=[...(((l=t==null?void 0:t.outAssets)===null||l===void 0?void 0:l.flatMap(N=>{var j;return((j=N.transferOut)===null||j===void 0?void 0:j.map(V=>{var K,W;return{amount:(K=V==null?void 0:V.value)!==null&&K!==void 0?K:"",asset:N.asset,direction:"out",usdPrice:(W=V==null?void 0:V.usdPrice)!==null&&W!==void 0?W:""}}))||[]}))||[]).filter(N=>!((N.asset.type==="NATIVE"||N.asset.type==="SOL")&&N.asset.chainName==="Solana"&&Number(N.amount)===Number(e.fee.gas)/Math.pow(10,9))).filter(N=>!(N.asset.type==="NATIVE"&&e.chain==="EVM"&&!e.value)),...$],O=()=>T?D(T):e.fee.gas?`${e.format(e.fee.gas,{precision:8})} ${_}`:`-- ${_}`;return f.jsxs("div",{className:"transaction-card-container",children:[A.length>0&&f.jsx("div",{className:"transaction-card",children:f.jsx("div",{className:"transaction-card__assets-container",children:A.map((N,j,V)=>f.jsx(Vt.Fragment,{children:U(N,j,V)},`asset-${j}`))})}),f.jsx("div",{className:"transaction-card",children:f.jsxs("div",{className:"transaction-card__details",children:[i&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.recipient",children:h("dyn_send_transaction.confirmation.data.recipient")}),f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-recipient",children:Ni(i)})]}),f.jsx("div",{className:"transaction-card__divider"})]}),!i&&(e.to||((c=t==null?void 0:t.counterparties)===null||c===void 0?void 0:c[0]))&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.destination",children:h("dyn_send_transaction.confirmation.data.destination")}),f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-destination",children:Ni((d=e.to)!==null&&d!==void 0?d:(u=t==null?void 0:t.counterparties)===null||u===void 0?void 0:u[0])})]}),f.jsx("div",{className:"transaction-card__divider"})]}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.network",children:h("dyn_send_transaction.confirmation.data.network")}),f.jsxs("div",{className:"transaction-card__network-info",children:[f.jsx(se,{variant:"body_normal",color:"primary",children:(k==null?void 0:k.name)||"Ethereum"}),f.jsx("img",{src:k==null?void 0:k.iconUrls[0],alt:(k==null?void 0:k.name)||"Network icon",width:16,height:16,className:"transaction-card__network-icon"})]})]}),!n&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsxs("div",{className:"transaction-card__label-with-tooltip",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.gas_estimate",children:h("dyn_send_transaction.confirmation.data.gas_estimate")}),f.jsx(S_,{content:"Network fees are paid to process your transaction",className:"transaction-confirmation",children:f.jsx(Nt,{size:"small",className:"fee-tooltip",children:f.jsx(Dde,{})})})]}),f.jsx("div",{className:"transaction-card__value",children:f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:O()})})]})]}),I&&M!==void 0&&M>0&&!(r&&!n)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",weight:"bold",copykey:"dyn_send_transaction.confirmation.data.total",children:h("dyn_send_transaction.confirmation.data.total")}),f.jsx("div",{className:"transaction-card__total-amount",children:f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-total",children:C(M)})})]})]})]})})]})},KVe=({transaction:e,currentToken:t,currencySymbol:n,valueRounded:r,transactionValue:i,isGasSponsored:o,gasFiatValue:s,totalGasFiatValue:a,currency:l,total:c,t:d,onFeeUpdate:u})=>{var h,m;const{primaryWallet:v,projectSettings:y,overrides:g}=je(),b=D3({evmNetworksOverrides:g==null?void 0:g.evmNetworks,projectSettings:y}),{chain:k}=I_(v==null?void 0:v.connector),_=ej({chain:(h=v==null?void 0:v.connector)===null||h===void 0?void 0:h.connectedChain,networkId:k==null?void 0:k.chainId,networkInfo:b}),R=e.chain==="BTC"||((m=v==null?void 0:v.connector)===null||m===void 0?void 0:m.connectedChain)==="BTC"||(v==null?void 0:v.connector)&&xM(v.connector),I=e,[T,D]=x.useState((I==null?void 0:I.feePriority)||"medium"),M=x.useCallback($=>de(void 0,void 0,void 0,function*(){var z;!R||T===$||(D($),yield(z=I.updateFeePriority)===null||z===void 0?void 0:z.call(I,$),u==null||u())}),[R,T,I,u]),C=()=>f.jsx("div",{className:"transaction-card",children:f.jsx("div",{className:"transaction-card__assets-container",children:f.jsx("div",{className:"transaction-card__out",children:f.jsxs("div",{className:"transaction-card__info-container",children:[f.jsx(se,{variant:"body_normal",color:"secondary",children:d("dyn_send_transaction.confirmation.data.transfer.send")}),f.jsxs("div",{className:"transaction-card__amount-symbol",children:[f.jsxs("div",{className:"transaction-card__token-info",children:[f.jsxs("div",{className:"transaction-card__token-row",children:[f.jsxs(se,{variant:"body_normal",color:"error-1","data-testid":"transaction-transfer-amount",children:["-",r||(e!=null&&e.value?e.format(e.value,{precision:6}):"")]}),f.jsx(se,{variant:"body_normal",color:"secondary",children:n})]}),i&&f.jsxs(se,{variant:"body_small",color:"error-1","data-testid":"transaction-transfer-amount-fiat",children:["$",Mde(Number(i)||Number(r)||0,t)]})]}),f.jsx("div",{className:"transaction-card__icon",children:f.jsx("div",{className:"transaction-card__icon__container",children:f.jsx("img",{src:(t==null?void 0:t.logoURI)||(_==null?void 0:_.nativeCurrency.iconUrl),alt:n,width:32,height:32,className:"transaction-card__icon__container__main"})})})]})]})})})}),U=()=>f.jsx("div",{className:"transaction-card",children:f.jsxs("div",{className:"transaction-card__details",children:[f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.destination",children:d("dyn_send_transaction.confirmation.data.destination")}),f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-destination",children:Ni(e.to)})]}),!o&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary","data-testid":"transaction-network",copykey:"dyn_send_transaction.confirmation.data.network",children:d("dyn_send_transaction.confirmation.data.network")}),f.jsxs("div",{className:"transaction-card__network-info",children:[f.jsx(se,{variant:"body_normal",color:"primary",children:(_==null?void 0:_.name)||(R?"Bitcoin":"Ethereum")}),f.jsx("img",{src:(_==null?void 0:_.iconUrls[0])||(k==null?void 0:k.icon),alt:(_==null?void 0:_.name)||(R?"Bitcoin":"Network icon"),width:16,height:16,className:"transaction-card__network-icon"})]})]}),R&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.fee_priority",children:"Fee Priority"}),f.jsxs("div",{className:"transaction-card__value",style:{alignItems:"center",display:"inline-flex",position:"relative"},children:[f.jsxs("select",{id:"fee-priority-select",value:T,onChange:$=>M($.target.value),"data-testid":"fee-priority-select",style:{MozAppearance:"none",WebkitAppearance:"none",appearance:"none",background:"transparent",border:"none",color:"inherit",cursor:"pointer",fontSize:"inherit",fontWeight:"inherit",outline:"none",padding:0,paddingRight:"20px"},children:[f.jsx("option",{value:"high",children:"High"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"low",children:"Low"})]}),f.jsx("div",{style:{alignItems:"center",display:"flex",opacity:.6,pointerEvents:"none",position:"absolute",right:0},children:f.jsx(Nt,{size:"small",children:f.jsx(N3,{})})})]})]})]}),f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsxs("div",{className:"transaction-card__label-with-tooltip",children:[f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.gas_estimate",children:d("dyn_send_transaction.confirmation.data.gas_estimate")}),f.jsx(S_,{content:"Network fees are paid to process your transaction",className:"transaction-confirmation",children:f.jsx(Nt,{size:"small",className:"fee-tooltip",children:f.jsx(Dde,{})})})]}),f.jsx("div",{className:"transaction-card__value",children:t!=null&&t.price?f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:Number(s)<=.01?"<$0.01":`$${s}`}):f.jsxs(se,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:[e.fee.gas?e.format(e.fee.gas,{precision:6}):"--"," ",l]})})]}),f.jsx("div",{className:"transaction-card__divider"}),f.jsxs("div",{className:"transaction-card__row",children:[f.jsx(se,{variant:"body_normal",color:"secondary",weight:"bold",copykey:"dyn_send_transaction.confirmation.data.total",children:d("dyn_send_transaction.confirmation.data.total")}),f.jsx("div",{className:"transaction-card__value",children:t!=null&&t.price?f.jsx(se,{variant:"body_normal",color:"primary","data-testid":"transaction-total",children:Number(a)<=.01?"<$0.01":`$${a}`}):f.jsxs(se,{variant:"body_normal",color:"primary","data-testid":"transaction-total",children:[c?e.format(c,{precision:6}):"--"," ",l]})})]})]})]})});return f.jsxs("div",{className:"transaction-card-container",children:[C(),U()]})},HVe=({onClickClose:e,isLoading:t,onClickBack:n,onClickSend:r,disableSendButton:i,displayPoweredByDynamicFooter:o=!1,error:s,fetchTransactionFee:a,alert:l,walletConnector:c,transaction:d,currentToken:u,children:h,hideModal:m,onSuccess:v,transactionValue:y,total:g,isGasSponsored:b,isNativeToken:k,walletKey:_,simulationResult:R,sendBalanceTransaction:I,recipient:T})=>{var D;const{t:M}=Xe(),{isTurnkeyWallet:C}=da(),{setShowAuthFlow:U,user:$,primaryWallet:z}=je(),{pushView:q}=At(),{userNeedsCrossDomainPasskey:S}=av(),{initPasskeyRecoveryProcess:A,shouldInitRecovery:O}=Xh(),N=x.useMemo(()=>{var ie;if(!(!$||!z))return(ie=$.verifiedCredentials)===null||ie===void 0?void 0:ie.find(ye=>ye.address===z.address)},[$,z]),{currency:j}=QD(c),V=jVe(u,j==null?void 0:j.symbol),{nativePrice:K}=zD();LVe(c,$G,v,O,A,m);const W=UVe({isTurnkeyWallet:C,onClickSend:r,userNeedsCrossDomainPasskey:S,usingSessionKey:$G,walletConnector:c},{initPasskeyRecoveryProcess:A,shouldInitRecovery:O},{pushView:q,setShowAuthFlow:U}),P=e&&f.jsx(Sn,{type:"button",onClick:e,"data-testid":"close",disabled:t,children:f.jsx(Oi,{})}),F=n&&f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Yh,{})}),G=Rde(u,d,K),Y=Tde(u,d,K,y);return m?null:f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:P,leading:F,alignContent:"bottom",children:f.jsx("div",{className:"send-balance-page-layout__header-content",children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_send_transaction.data.confirmation_tx",children:M("dyn_send_transaction.data.confirmation_tx")})})}),!I&&f.jsx("div",{className:"transaction-confirmation__banner",children:f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.data.banner",children:M("dyn_send_transaction.data.banner")})}),f.jsx(pj,{}),f.jsxs("div",{className:"transaction-confirmation__body",children:[f.jsxs("div",{className:"transaction-confirmation__content",children:[s&&f.jsx("div",{className:"transaction-confirmation__error",children:f.jsx(Lr,{children:s})}),I?f.jsx(KVe,{transaction:d,currentToken:u,currencySymbol:V,valueRounded:(D=Bde(!!k,d))===null||D===void 0?void 0:D.toString(),transactionValue:y,isGasSponsored:b,gasFiatValue:G||"0",totalGasFiatValue:Y||"0",currency:j==null?void 0:j.symbol,total:g,t:M,onFeeUpdate:a}):f.jsx(VVe,{transaction:d,isGasSponsored:b,isAATransaction:(c==null?void 0:c.key)==="zerodev",simulationResult:R,recipient:T}),h&&f.jsx("div",{className:"transaction-confirmation__rows",children:h})]}),f.jsx(Ku,{animationComponent:f.jsx(ng,{}),children:l&&f.jsx("div",{className:"transaction-confirmation__warning",children:l})}),f.jsxs("div",{className:"transaction-confirmation__actions",children:[(n||e)&&f.jsx(xt,{buttonVariant:"primary",buttonPadding:"medium",onClick:n||e,expanded:!0,disabled:t,copykey:"dyn_send_transaction.confirmation.cancel_button",children:M("dyn_send_transaction.confirmation.cancel_button")}),f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"medium",onClick:W,expanded:!0,loading:t,disabled:i,copykey:"dyn_send_transaction.confirmation.send",dataTestId:"transaction-confirmation-send",children:M("dyn_send_transaction.confirmation.send")})]}),f.jsx(ep,{walletCredential:N}),o&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transaction-confirmation__divider"}),f.jsx(Gc,{classNameRoot:"transaction-confirmation__footer"})]})]})]})},GVe=({transactionValue:e,gasTotalPrice:t,isGasSponsored:n=!1})=>x.useMemo(()=>n?e!==void 0?e:BigInt(0):t!==void 0&&e!==void 0?t+e:e||t,[t,e,n]),jde=-32603,_k={"-32002":"Insufficient funds for this transaction.",0:"The operation either timed out or was not allowed.",16:"Invalid Passkey signature. Select the passkey for this account and device.",3:"You reached the limit of passkeys for this account.",5:"Invalid Passkey signature.",INSUFFICIENT_FUNDS:"Insufficient funds for this transaction.",[jde.toString()]:"A network error has occurred. Please try again later"},WG={"provided ENS name resolves to null":"Invalid address. Please check that the entered address is correct."},$de=e=>{var t;const n=e;return(n==null?void 0:n.code)||((t=n==null?void 0:n.cause)===null||t===void 0?void 0:t.code)},tj=e=>{const t=e;return t==null?void 0:t.message},JVe=e=>"reason"in e&&e.reason!==void 0,ZVe=e=>e!=null&&typeof e=="object"&&"walk"in e&&typeof e.walk=="function",YVe=e=>{const t=tj(e);return(t==null?void 0:t.replace("Error: ",""))||"Policy violation: unknown error, please try again."},XVe=e=>{const t=tj(e);return(t==null?void 0:t.toLowerCase().includes("policy violation"))||(t==null?void 0:t.toLowerCase().includes("explicitly denied by policy"))},QVe=e=>{let t=e;if(ZVe(e)&&(t=e.walk()),Ie.debug("transaction error:",t),XVe(t))return YVe(t);if(gm.isInstance(t))return;if(Ub.isInstance(t)||eKe(t))return _k.INSUFFICIENT_FUNDS;const n=$de(t);return n!==void 0&&_k[n]?_k[n]:JVe(t)&&WG[t.reason]?WG[t.reason]:"Something went wrong."},eKe=e=>{const t=$de(e),n=tj(e);return t===jde&&!!(n!=null&&n.includes("insufficient funds for gas * price + value"))},tKe=2e4;var uo;(function(e){e.LOADING="loading",e.FAILED="failed",e.SKIPPED="skipped",e.SUCCESS="success"})(uo||(uo={}));const Lde=({transaction:e,onError:t,onSuccess:n,mutation:r,onClickBack:i,walletConnector:o,onClickClose:s,title:a,displayPoweredByDynamicFooter:l=!1,copykey:c,hideModal:d,currentToken:u,isNativeToken:h,transactionValue:m,isModal:v,sendBalanceTransaction:y})=>{const{primaryWallet:g,environmentId:b}=je(),[k,_]=x.useState(!1),[R,I]=x.useState(!1),T=Ple(),{t:D}=Xe(),{currency:M}=QD(o),C=x.useMemo(()=>{if(!(g!=null&&g.connector))return;const ge=g.connector;return ge._selectedChainId||ge.lastUsedChainId},[g==null?void 0:g.connector]),[U,$]=x.useState({status:uo.LOADING}),[z,q]=x.useState(void 0),S=x.useRef(!1),A=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var ge,be,Le,qe,Me,gt,tt;if(U.status===uo.LOADING&&!S.current){if(S.current=!0,y||d){$({status:uo.SKIPPED}),S.current=!1;return}if(!g||!C&&(g==null?void 0:g.chain)!=="SOL"&&(g==null?void 0:g.chain)!=="TON"){Ie.error("[TransactionConfirmationView] Simulation failed:",{chain:g==null?void 0:g.chain,chainId:C,primaryWallet:g}),$({status:uo.FAILED}),S.current=!1;return}try{let dt;if(g.connector.key==="zerodev"){const Xt=g.connector,{userOperation:lt,sponsored:jt}=yield Xt.getCurrentUserOperation(e);if(_(jt),I(!1),lt){const rn=yield Xt.formatUserOperation(lt);e.fee.gas=nKe(lt);const Re=yield(ge=Xt.getAccountAbstractionProvider())===null||ge===void 0?void 0:ge.account.entryPoint;if(!Re){Ie.error("[TransactionConfirmationView] Simulation failed: No entry point address found"),$({status:uo.FAILED});return}q((be=e==null?void 0:e.getTransactionRecipient)===null||be===void 0?void 0:be.call(e)),dt=yield Fqe({chainId:String(C),entryPoint:Re,environmentId:b,userOperation:rn,value:((Le=e.value)===null||Le===void 0?void 0:Le.toString())||"0"})}else{$({status:uo.FAILED});return}}else if((o==null?void 0:o.connectedChain)==="SOL"){const Xt=(qe=e.multipleTransactions)===null||qe===void 0?void 0:qe.map(lt=>QMe.encode(lt.serialize({requireAllSignatures:!1})));if(!Xt){Ie.error("[TransactionConfirmationView] Simulation failed: No encoded transactions"),$({status:uo.FAILED});return}dt=yield qqe({accountAddress:e.from,chain:yield o==null?void 0:o.getNetwork(!0),environmentId:b,transactions:Xt})}else if((o==null?void 0:o.connectedChain)==="EVM")q((Me=e==null?void 0:e.getTransactionRecipient)===null||Me===void 0?void 0:Me.call(e)),dt=yield Wqe({chainId:String(C),data:e.data||"0x",environmentId:b,from:e.from,to:e.to||"",value:((gt=e.value)===null||gt===void 0?void 0:gt.toString())||"0"});else if((o==null?void 0:o.connectedChain)==="TON"){$({status:uo.SKIPPED});return}if(!dt&&((tt=g.connector)===null||tt===void 0?void 0:tt.key)!=="zerodev"){Ie.warn("[TransactionConfirmationView] Simulation failed: No result"),$({status:uo.FAILED});return}$(dt?{result:dt,status:uo.SUCCESS}:{status:uo.FAILED})}catch(dt){Ie.error("[TransactionConfirmationView] Simulation failed:",dt),$({status:uo.FAILED})}finally{S.current=!1}}}),[y,d,g,C,b,e,o,U.status,$]);x.useEffect(()=>{U.status===uo.SUCCESS||U.status===uo.SKIPPED||A()},[A,g==null?void 0:g.connector,U.status]);const O=x.useCallback(()=>{var ge;if(!((g==null?void 0:g.chain)===nr.Sol&&e.fee.gas!==void 0||g&&((ge=g.connector)===null||ge===void 0?void 0:ge.key)==="zerodev")&&e.fetchFee){const be=e.fetchFee();be&&typeof be.finally=="function"&&be.finally(T)}},[g==null?void 0:g.chain,e,T]);x.useEffect(()=>{var ge;!((ge=e.isGasSponsored)===null||ge===void 0)&&ge.call(e)&&_(!0)},[e]);const{mutate:N,isLoading:j,error:V}=Xo(r,{onFailure:x.useCallback(ge=>{O(),gm.isInstance(ge)&&(Ie.debug(ge),_(!1),YI(o)&&o.disableGasSponsorshipOnce()),Ie.error(ge),t==null||t(ge)},[O,t,o]),onSuccess:x.useCallback(ge=>n==null?void 0:n(ge),[n])});zqe(O,j?null:tKe),Qh(O);const K=GVe({gasTotalPrice:e.fee.gas,isGasSponsored:k,transactionValue:e.value}),W=V&&QVe(V),{data:P,isLoading:F}=vr(()=>e.getBalance()),G=x.useMemo(()=>K===void 0||P===void 0?!1:P<K,[P,K]),Y=x.useMemo(()=>{if(!(K===void 0||P===void 0))return K-P},[K,P]),ie=x.useMemo(()=>{if(W)return null;if(gm.isInstance(V))return f.jsx(tc,{icon:"error",variant:"error",copykey:"dyn_send_transaction.error_message.gas_not_sponsored",children:D("dyn_send_transaction.error_message.gas_not_sponsored")});if(!R&&!F&&Y===void 0&&e.fee.gas&&!k)return f.jsx(tc,{icon:"error",variant:"warning",copykey:"dyn_send_transaction.warning_message.insufficient_gas_funds",children:f.jsxs(se,{variant:"body_small",color:"current-color","data-testid":"warning_content",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.warning_message.insufficient_gas_funds.title",children:D("dyn_send_transaction.warning_message.insufficient_gas_funds.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.warning_message.insufficient_gas_funds.description",children:D("dyn_send_transaction.warning_message.insufficient_gas_funds.description",{amountLeft:e.format(e.fee.gas,{precision:6}),currencySymbol:M==null?void 0:M.symbol})})]})});if(G&&Y){const be=e.format(Y,{precision:6});return f.jsx(tc,{icon:"error",variant:"error",copykey:"dyn_send_transaction.warning_message.insufficient_funds",children:f.jsxs(se,{variant:"body_small",color:"current-color","data-testid":"warning_content",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.warning_message.insufficient_funds.title",children:D("dyn_send_transaction.warning_message.insufficient_funds.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.warning_message.insufficient_funds.description",children:D("dyn_send_transaction.warning_message.insufficient_funds.description",{amountLeft:be,currencySymbol:M==null?void 0:M.symbol})})]})})}return U.status===uo.FAILED?f.jsx(tc,{icon:"error",variant:"warning",copykey:"dyn_send_transaction.warning_message.failed_simulation",children:f.jsxs(se,{variant:"body_small",color:"current-color","data-testid":"warning_content",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.warning_message.failed_simulation.title",as:"div",children:D("dyn_send_transaction.warning_message.failed_simulation.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.warning_message.failed_simulation.description",as:"div",children:D("dyn_send_transaction.warning_message.failed_simulation.description")})]})}):null},[U.status,W,V,R,F,Y,e,k,G,D,M==null?void 0:M.symbol]);x.useEffect(()=>{var ge,be;U.status===uo.SUCCESS&&!y&&((ge=U.result)===null||ge===void 0?void 0:ge.outAssets.length)===0&&!C&&!(!((be=e.isGasSponsored)===null||be===void 0)&&be.call(e))&&$({result:U.result,status:uo.FAILED})},[U,C,e,y]);const ye=x.useMemo(()=>{var ge;return{alert:ie,copykey:c,currentToken:u,disableSendButton:F,displayPoweredByDynamicFooter:l,error:W,fetchTransactionFee:O,hideModal:d,isGasSponsored:k,isGasSponsoredLoading:R,isLoading:j,isNativeToken:h,onClickBack:i,onClickClose:s,onClickSend:()=>N(),onSuccess:be=>n==null?void 0:n(be),recipient:z,sendBalanceTransaction:y,simulationResult:(ge=U.result)!==null&&ge!==void 0?ge:void 0,title:a,total:K,transaction:e,transactionValue:m,walletConnector:o,walletKey:(g==null?void 0:g.key)||""}},[K,z,u,m,h,i,s,c,a,d,j,N,n,l,F,W,ie,o,e,k,R,g==null?void 0:g.key,U.result,y,O]);return U.status===uo.LOADING?null:f.jsx(HVe,Object.assign({},ye))},nKe=e=>(BigInt(e.callGasLimit||0)+BigInt(e.verificationGasLimit||0)+BigInt(e.preVerificationGas||0))*BigInt(e.maxFeePerGas||0),Sm=({children:e,className:t="",textToCopy:n,onClick:r,variant:i="text",copykey:o,buttonPadding:s="small",buttonVariant:a="primary",buttonClassName:l="",startSlot:c,disabled:d})=>{const[u,h]=x.useState(!1),[m,v]=x.useState(null),y=()=>{navigator.clipboard.writeText(n),h(!0),r==null||r(),setTimeout(()=>{h(!1)},5e3)};return f.jsxs(f.Fragment,{children:[i==="text"?f.jsx(Zs,{className:Ke("copy-button__container",t),onClick:()=>y(),onMouseLeave:()=>h(!1),copykey:o,disabled:d,children:e}):f.jsx(xt,{buttonRef:v,expanded:!0,buttonPadding:s,buttonVariant:a,buttonClassName:l,onClick:()=>y(),copykey:o,startSlot:c,disabled:d,children:e}),f.jsx(S_,{className:"copy-button__tooltip",content:u?"Copied":"Copy",targetRef:m})]})},rKe=e=>{if(e===Oh.Kraken)return"https://support.kraken.com/articles/360000672863-adding-and-confirming-a-new-cryptocurrency-withdrawal-address"},iKe={[Oh.Kraken]:"https://www.kraken.com/",[Oh.Coinbase]:"https://www.coinbase.com/"},oKe=e=>{const t=iKe[e];t&&window.open(t,"_blank","noopener,noreferrer")},qG=96,sKe=({onContinue:e,exchange:t,onClose:n})=>{var r;const{t:i}=Xe(),o=k_(),{primaryWallet:s}=je(),a=f.jsx(Sn,{onClick:n,type:"button",id:"close-button","data-testid":"close-button",children:f.jsx(Oi,{})}),l=rKe(t),c=t.charAt(0).toUpperCase()+t.slice(1);return f.jsxs("div",{className:"exchange-whitelist-warning",children:[f.jsx(Zn,{trailing:a,children:f.jsx(se,{variant:"title",copykey:"dyn_exchange_whitelist_warning.title",children:i("dyn_exchange_whitelist_warning.title")})}),f.jsxs("div",{className:"exchange-whitelist-warning__content",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__icon-holder",children:f.jsx(XI,{name:f1(t),variant:o,style:{height:Ut(qG*Yo),width:Ut(qG*Yo)}})}),f.jsx(se,{variant:"body_normal",color:"primary",className:"exchange-whitelist-warning__content__description",copykey:"dyn_exchange_whitelist_warning.description",children:i("dyn_exchange_whitelist_warning.description",{exchange:c})}),f.jsxs("div",{className:"exchange-whitelist-warning__content__steps",children:[f.jsxs("div",{className:"exchange-whitelist-warning__content__steps__step",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__steps__step__number-badge",children:"1"}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_exchange_whitelist_warning.step1",children:i(`dyn_exchange_whitelist_warning.step1.${t}`)})]}),f.jsxs("div",{className:"exchange-whitelist-warning__content__steps__step",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__steps__step__number-badge",children:"2"}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_exchange_whitelist_warning.step2",children:i("dyn_exchange_whitelist_warning.step2")})]}),f.jsxs("div",{className:"exchange-whitelist-warning__content__steps__step",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__steps__step__number-badge",children:"3"}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_exchange_whitelist_warning.step3",children:i("dyn_exchange_whitelist_warning.step3",{exchange:c})})]})]}),f.jsxs("div",{className:"exchange-whitelist-warning__content__address",children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_exchange_whitelist_warning.address",children:i("dyn_exchange_whitelist_warning.address")}),f.jsxs("div",{className:"exchange-whitelist-warning__content__address__copy",children:[f.jsx("div",{className:"exchange-whitelist-warning__content__address__copy__copy-input",children:f.jsx(Sl,{id:"wallet_address","data-testid":"wallet_address",label:Ni(s==null?void 0:s.address),disabled:!0})}),f.jsx(Sm,{textToCopy:(r=s==null?void 0:s.address)!==null&&r!==void 0?r:"",children:f.jsx(jh,{})})]})]}),l&&f.jsxs("div",{className:"exchange-whitelist-warning__content__instructions",children:[f.jsx(se,{as:"a",weight:"bold",href:l,target:"_blank",rel:"noreferrer",className:"exchange-whitelist-warning__content__instructions__link",variant:"body_small",children:i("dyn_exchange_whitelist_warning.view_instructions")}),f.jsx(k0,{style:{height:Ut(12),marginLeft:Ut(8),width:Ut(12)},className:"exchange-whitelist-warning__content__steps__step__icon"})]}),f.jsx("div",{className:"exchange-whitelist-warning__content__open",children:f.jsxs(km,{onClick:()=>oKe(t),buttonVariant:"primary",className:"exchange-whitelist-warning__content__open__button",children:[f.jsx(se,{variant:"body_normal",children:i("dyn_exchange_whitelist_warning.open",{exchange:c})}),f.jsx(k0,{style:{height:Ut(14),marginLeft:Ut(8),width:Ut(14)}})]})}),f.jsx("div",{className:"exchange-whitelist-warning__content__done",children:f.jsx(xt,{dataTestId:"continue-button",buttonVariant:"brand-primary",typographyProps:{color:"white",weight:"regular"},className:"exchange-whitelist-warning__content__done__button",onClick:()=>{e()},copykey:"dyn_exchange_whitelist_warning.done",children:i("dyn_exchange_whitelist_warning.done")})})]})]})},aKe=()=>{const{projectSettings:e,user:t}=je();return Xu()==="connect-only"&&!t?!1:qD({customFields:e==null?void 0:e.customFields,projectSettingsKyc:e==null?void 0:e.kyc,user:t}).length>0||zce(e)},lKe=e=>{const[t,n]=x.useState(null);return{goToInitialView:()=>n(null),setView:n,view:t||e}},Ude=x.createContext(void 0),cKe=({children:e})=>{const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),{setShowDynamicUserProfile:i,showDynamicUserProfile:o,multiWallet:s}=je(),a=aKe(),{view:l,setView:c,goToInitialView:d}=lKe(a&&!s?"profile":"wallets"),[u,h]=x.useState(null),m=x.useRef(null),v=x.useCallback(()=>{h(null),m.current&&(clearTimeout(m.current),m.current=null)},[]),y=x.useCallback(T=>{var D;const M=(D=T==null?void 0:T.timeout)!==null&&D!==void 0?D:1e4;h(T),m.current=setTimeout(v,M)},[v]),[g,b]=x.useState({}),k=x.useCallback((T,D)=>{c(T),b(D||{}),v()},[v,c]),_=x.useCallback(()=>{if(a)return k("profile");k("wallets")},[a,k]),R=x.useMemo(()=>l==="manage-passkeys"||l==="manage-totp-mfa"||l==="manage-passkeys-mfa"||l==="account-and-security-settings"?"settings":!a&&!s&&l!=="settings"&&l!=="profile"?"wallets":l==="edit-profile"?"profile":l==="global-wallet"?"wallets":l,[l,a,s]);Un("logout",d),Un("userProfileClose",()=>{setTimeout(d,20)});const I=x.useMemo(()=>({availableWalletsContainerRef:r,dynamicWidgetView:l,goToInitialDynamicWidgetView:d,goToProfileView:_,headerAlert:u,inlineControlsRef:n,isOpen:o,overridenWidgetView:R,setDynamicWidgetView:k,setHeaderAlert:y,setIsOpen:i,viewProps:g,widgetRef:t}),[l,d,_,o,k,i,R,g,u,y]);return f.jsx(Ude.Provider,{value:I,children:e})},Jc=()=>{const e=x.useContext(Ude);if(e===void 0)throw new Error("usage of useWidgetContext not wrapped in `DynamicWidgetContextProvider`.");return e};var zG,dKe=["title","titleId"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yN.apply(null,arguments)}function uKe(e,t){if(e==null)return{};var n,r,i=fKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Fde=function(t){var n=t.title,r=t.titleId,i=uKe(t,dKe);return x.createElement("svg",yN({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,zG||(zG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2c.368 0 .667.298.667.667v4.666h4.666a.667.667 0 1 1 0 1.334H8.667v4.666a.667.667 0 1 1-1.334 0V8.667H2.667a.667.667 0 0 1 0-1.334h4.666V2.667C7.333 2.298 7.632 2 8 2Z",fill:"currentColor",fillOpacity:.4})))},VG,hKe=["title","titleId"];function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(null,arguments)}function pKe(e,t){if(e==null)return{};var n,r,i=mKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Wde=function(t){var n=t.title,r=t.titleId,i=pKe(t,hKe);return x.createElement("svg",vN({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,VG||(VG=x.createElement("path",{d:"M11.833 4.667H9.167V6h2.666c1.1 0 2 .9 2 2s-.9 2-2 2H9.167v1.333h2.666a3.335 3.335 0 0 0 0-6.666Zm-4 5.333H5.167c-1.1 0-2-.9-2-2s.9-2 2-2h2.666V4.667H5.167a3.335 3.335 0 0 0 0 6.666h2.666V10Zm-2-2.667h5.334v1.334H5.833V7.333Z",fill:"currentColor"})))},KG,gKe=["title","titleId"];function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wN.apply(null,arguments)}function yKe(e,t){if(e==null)return{};var n,r,i=vKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wKe=function(t){var n=t.title,r=t.titleId,i=yKe(t,gKe);return x.createElement("svg",wN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,KG||(KG=x.createElement("g",{clipPath:"url(#send_svg__clip0_6894_96)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m3.846 9.3.03-.01 14.64-5.728c.199-.078.399-.156.567-.205.156-.046.465-.126.794-.02.374.123.664.413.786.787.107.33.027.638-.019.794-.049.168-.127.368-.205.567L14.702 20.15c-.08.204-.16.408-.239.568-.073.147-.226.436-.537.614a1.277 1.277 0 0 1-1.136.072c-.323-.137-.496-.405-.58-.542-.09-.149-.184-.342-.278-.535l-2.693-5.52-5.546-2.724-.027-.014c-.193-.094-.385-.189-.533-.28-.137-.082-.403-.256-.54-.578a1.277 1.277 0 0 1 .074-1.136c.178-.31.466-.463.612-.536.16-.079.363-.158.567-.238Zm.972 1.425 4.88 2.396 2.912-2.913a.848.848 0 0 1 1.2-.017.848.848 0 0 1-.017 1.2l-2.898 2.898 2.384 4.888 5.433-13.888-13.894 5.436Z",fill:"currentColor",fillOpacity:.4}))))};const bKe=e=>{var t;return(t=e==null?void 0:e.verifiedCredentials)===null||t===void 0?void 0:t.find(n=>n.format==="oauth"&&n.id===e.lastVerifiedCredentialId)},nj=e=>{const t=Fm.map(ps).map(n=>(n.iso2==="fr"&&(n.format="(.) .. .. .. .."),kPe(n)));return e?t.filter(([,n])=>e.includes(n)):t},rj=e=>{var t;const{country:n}=c3({countries:nj(),phone:e});if(!n)return e;const r=o_({dialCode:n.dialCode,phone:e}),i=yae({country:n,phone:e}),o=/\./g;if(((t=i.match(o))!==null&&t!==void 0?t:[]).length!==_Ke(r).length)return e;let s=0;const a=i.replace(o,()=>r[s++]);return`+${n.dialCode} ${a}`},_Ke=e=>e.replace(/\D+/g,""),qde=e=>{const t=bKe(e);return t!=null&&t.publicIdentifier?t.publicIdentifier:e!=null&&e.email?m1(e.email):e!=null&&e.phoneNumber?rj(e.phoneNumber):"My Profile"},zde=({user:e,containerClassName:t,renderWithFallback:n=!0})=>{const i=(()=>{var o,s,a;return(a=(s=(o=e==null?void 0:e.verifiedCredentials)===null||o===void 0?void 0:o.find(c=>{var d;return e.lastVerifiedCredentialId===c.id&&((d=c.oauthAccountPhotos)===null||d===void 0?void 0:d.length)}))===null||s===void 0?void 0:s.oauthAccountPhotos)===null||a===void 0?void 0:a[0]})();return!i&&!n?null:f.jsx("div",{className:Ke("user-profile-social-account__connected-avatar",t),children:f.jsx(ode,{className:"user-profile-social-account__image",src:i,alt:"User avatar",dataTestId:"user-avatar",fallback:f.jsx(TM,{})})})},xKe=({className:e})=>{const{t}=Xe(),{primaryWallet:n}=je(),{initPasskeyRecoveryProcess:r}=Xh(),{showSecureAccountBanner:i,setShowSecureAccountBanner:o}=av(),{getEOAWallet:s}=xs(),a=n&&s(n),l=n&&Bh(n)||a&&Bh(a);return!i||l?null:f.jsxs("div",{className:Ke("secure-embedded-wallet-card",e),children:[f.jsxs("div",{className:"secure-embedded-wallet-card__text-content","data-testid":"secure-wallet-button",onClick:()=>r(),children:[f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_secure_pregenerated_wallet.description",children:t("dyn_secure_pregenerated_wallet.description")}),f.jsx(se,{variant:"body_small",weight:"bold",color:"brand-primary",copykey:"dyn_secure_pregenerated_wallet.action",className:"secure-embedded-wallet-card__link",children:t("dyn_secure_pregenerated_wallet.action")})]}),f.jsx("div",{children:f.jsx(Sn,{color:"text-secondary",onClick:()=>o(!1),children:f.jsx(Oi,{width:16,height:16})})})]})},Lp=({elementId:e})=>{const{createRootElement:t}=tg(),n=t(e),[r,i]=x.useState(null),o=x.useCallback(s=>de(void 0,void 0,void 0,function*(){return new Promise((l,c)=>{try{i(s(l,c))}catch(d){c(d)}}).finally(()=>{i(void 0)})}),[i]);return{modal:r?f.jsx("div",{children:bm.createPortal(r,n.current)}):void 0,open:o}},lv=({children:e,className:t,isShown:n=!0,transitionProps:r})=>f.jsx("div",{className:Ke("modal",t),children:f.jsx(v_,Object.assign({},r,{isShown:n,children:f.jsx("div",{className:"modal__items",children:e})}))}),Im=({children:e,borderRadius:t="default",border:n=!1,sharpBottomRadiusOnMobile:r=!0,dataTestId:i="modal-card",sharpBorder:o=!1,dropShadow:s=!0})=>f.jsx("div",{"data-testid":i,className:Ke("modal-card",{"modal-card--no-shadow":!s,"modal-card--sharp-border-radius":o,"modal-card--sharp-mobile-bottom-radius":r,"modal-card--with-border":n},`modal-card--radius-${t}`),children:e}),kKe=["wallet-list","login-with-email-or-wallet-full-wallet-list","multi-wallet-wallet-list","login-with-wallet-only"],SKe=["wallet-connect-mobile-wallets-list","wallet-list","login-with-email-or-wallet-full-wallet-list","login-with-wallet-only"],IKe=["qr-code","no-qr-not-installed","wallet-used","chainalysis-blocked-wallet","wallet-sign","collect-user-data","passkey-new-domain-detected"],EKe=["collect-user-data","no-access","chainalysis-blocked-wallet","wallet-locked-view","gate-blocked-wallet","email-wallet-otp-verification-view","bridge-welcome","bridge-summary","bridge-next-wallet-connection","passkey-intro","passkey-new-domain-detected","passkey-setup","passkey-confirm","social-redirect-view","collect-user-data-login-no-wallet","passkey-recovery-bundle","passkey-recovery-start","embedded-reveal-view","embedded-reveal-account-view","export-shares-view","wallet-delegation-view","mfa-exchange-view","exchange-whitelist-warning","rename-passkey","embedded-wallet-auth-choice","passkey-recovery-add-email","global-wallet-confirm","global-wallet-malicious","global-wallet-info","mfa-choose-device","mfa-verification","waas-upgrade-view","wallet-upgrade-flow-view","account-upgraded","waas-backup-view","waas-backup-info-view","waas-backup-cloud-provider-view","waas-backup-download-view","waas-backup-progress-view","waas-backup-success-view"],CKe=["wallet-list","qr-code","wallet-connect-mobile-wallets-list","pending-connect","pending-signature","pending-signature-without-back-button","bridge-next-wallet-connection","bridge-summary"],AKe=["login-with-email-or-wallet","login-with-email-or-wallet-full-wallet-list","login-with-wallet-only","login-with-email-verification","login-with-sms-verification","verify-email","verify-sms","pending-connect","wallet-group","select-wallet-in-wallet-group","select-hardware-wallet","pending-signature","qr-code","wallet-used","email-wallet-otp-verification-view","farcaster-connect-view","merge-user-accounts","merge-user-accounts-conflicts","mfa-verification","mfa-display-backup-codes","mfa-recovery","passkey-setup","passkey-confirm"],RKe=["collect-user-data","login-with-email-verification","login-with-sms-verification","backup-unsuccessful","wallet-upgrade-flow-view","wallet-delegation-view","waas-backup-progress-view"],TKe=["mfa-verification","mfa-choose-device","mfa-secure-device","mfa-display-backup-codes","mfa-recovery","passkey-setup","passkey-confirm"],OKe=["login-with-email-or-wallet-full-wallet-list","login-with-email-verification","login-with-sms-verification","network-not-supported","passkey-recovery-complete","passkey-recovery-start","passkey-recovery-bundle","passkey-confirm","rename-passkey","mobile-wallet-redirect-view","qr-code","mfa-verification","mfa-display-backup-codes","mfa-recovery","user-delete-account","backup-unsuccessful","waas-backup-view","waas-backup-info-view","waas-backup-cloud-provider-view","waas-backup-download-view","waas-backup-progress-view","waas-backup-success-view"],Vde=()=>{const{view:e}=At(),t=y3(),{showAuthFlow:n}=je(),i=!(t&&p_(t)&&TKe.includes(e.type))&&(!n||!RKe.includes(e.type)),o=i&&!OKe.includes(e.type);return{allowsClosing:i,showCloseButton:o}},NKe=({disabled:e,inputKey:t,onKeyPressed:n})=>{x.useEffect(()=>{const r=i=>{e||i.key!==t||n(i)};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,n])},PKe=({children:e,handleClose:t,withBackdrop:n=!0,whiteList:r})=>{const{allowsClosing:i}=Vde(),o=x.useCallback(s=>{i&&(s.stopPropagation(),t(s))},[i,t]);return NKe({disabled:!i,inputKey:"Escape",onKeyPressed:t}),f.jsxs(lce,{className:"modal-component__container",whiteList:r,children:[n&&f.jsx("div",{"data-testid":"portal-backdrop",role:"button",onClick:o,tabIndex:0,"aria-label":"Close modal",className:"modal-component__backdrop"}),f.jsx("div",{children:e})]})},cv=({children:e,isShown:t,handleClose:n,withBackdrop:r,zIndex:i,transitionEvents:o,elementId:s="dynamic-modal"})=>{const{createRootElement:a}=tg(),l=a(s),c=x.useCallback(d=>l.current.contains(d),[l]);return bm.createPortal(f.jsx(E_,{zIndex:i,dataTestId:"dynamic-modal-shadow",children:f.jsx(v_,Object.assign({isShown:t},o,{children:f.jsx(PKe,{handleClose:n,withBackdrop:r,whiteList:c,children:e})}))}),l.current)},BKe=({chain:e,chainName:t})=>{const n=Hc(t);return f.jsx(Nt,{size:"small",children:e!=null&&e.icon?f.jsx("img",{src:e.icon,alt:`${e.name} icon`}):f.jsx(n,{})})},MKe=e=>e<1?"":e%10===1&&e%100!==11?`${e}st`:e%10===2&&e%100!==12?`${e}nd`:e%10===3&&e%100!==13?`${e}rd`:`${e}th`,DKe=({children:e,htmlFor:t,className:n,divider:r})=>f.jsx("label",{className:Ke("form-field-label",{"form-field-label__with-divider":r},n),htmlFor:t,children:e});var HG,jKe=["title","titleId"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bN.apply(null,arguments)}function $Ke(e,t){if(e==null)return{};var n,r,i=LKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Vu=function(t){var n=t.title,r=t.titleId,i=$Ke(t,jKe);return x.createElement("svg",bN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,HG||(HG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.293 19.707a1 1 0 0 1 0-1.414L14.586 12 8.293 5.707a1 1 0 0 1 1.414-1.414l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414 0Z",fill:"currentColor"})))};const UKe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],ij=({isOpen:e,onClickClose:t,popperProps:n,dropdownClassName:r,dropdownStyle:i,overlayCardClassName:o,overlayCardStyle:s,className:a,style:l,children:c,mobileTitle:d})=>rr()?f.jsxs(jc,{isOpen:e,onClose:t,className:Ke(o,a),style:Object.assign(Object.assign({},l),s),children:[f.jsx(jc.Header,{children:d}),f.jsx(jc.Content,{removePadding:!0,children:f.jsx("div",{className:"menu-list__overlay-card__container",children:c})})]}):f.jsx(k3,Object.assign({isOpen:e,onClickOutside:t,onScroll:t,className:Ke(r,a),style:Object.assign(Object.assign({},l),i)},n,{children:c})),FKe=({tokenBalances:e,currentToken:t,setCurrentToken:n,isLoading:r,setFieldValue:i,setErrors:o})=>{const{t:s}=Xe(),[a,l]=x.useState(!1),c=(e==null?void 0:e.filter(y=>y.name))||[],{primaryWallet:d}=je(),u=x.useRef(null),h=y=>de(void 0,void 0,void 0,function*(){if(!d||!("getPublicClient"in d)||typeof d.getPublicClient!="function")return;const g=yield d.getPublicClient();if(!g)return;const b={abi:UKe,address:y.address},k=yield g.multicall({contracts:[Object.assign(Object.assign({},b),{args:[d==null?void 0:d.address],functionName:"balanceOf"}),Object.assign(Object.assign({},b),{functionName:"decimals"})]}),[_,R]=k.map(I=>Number(I.result));if(_&&R){if(y.balance=_/Math.pow(10,R),y.rawBalance=_,e){const I=e.findIndex(T=>T.name===y.name);e[I]=y}y.decimals=R}}),m=y=>de(void 0,void 0,void 0,function*(){var g,b;const k=(g=e==null?void 0:e.find(_=>_.name===y))!==null&&g!==void 0?g:void 0;k!=null&&k.address&&(k!=null&&k.address.startsWith("0x"))&&h(k),k&&(e&&(!((b=e[0])===null||b===void 0)&&b.price)&&h1("nativePrice",e[0].price),n(k),i("amount",""),h1("amount",0),o({})),l(!a)});if(r)return f.jsx(Vo,{});const v=(y,g)=>y!=null&&y.logoURI?f.jsx("img",{src:y.logoURI,alt:y==null?void 0:y.name,width:g,height:g}):f.jsx("div",{className:"token-balance-item__skeleton-icon","data-testid":"token-balance-item__skeleton-icon"});return f.jsxs("div",{className:"tokens-balance-dropdown",ref:u,onClick:()=>l(!a),"data-testid":"tokens-balance-dropdown",children:[!r&&f.jsxs("div",{className:"tokens-balance-dropdown__selected",children:[v(t,"20"),f.jsx(se,{variant:"body_normal",color:"primary",children:t==null?void 0:t.name}),f.jsx(Nt,{color:"text-primary",size:"small",className:Ke("evm-network-control__arrow-icon",{"evm-network-control__arrow-icon--active":a}),children:f.jsx(Vu,{})})]}),f.jsx(ij,{className:"tokens-balance-dropdown__menu_list",isOpen:a,popperProps:{anchorOrigin:"bottom-left",anchorRef:u},mobileTitle:"Select token",children:c.length>0?c.map(y=>f.jsxs("button",{className:"tokens-balance-dropdown__menu_list_item",onClick:()=>m(y.name),children:[f.jsxs("div",{className:"tokens-balance-dropdown__menu_list_item__name",children:[v(y,"16"),f.jsx(se,{variant:"body_small",color:"primary",children:y.name})]}),f.jsxs("div",{className:"tokens-balance-dropdown__menu_list_item__balance",style:{alignItems:"flex-end",display:"flex",flexDirection:"column"},children:[f.jsx(se,{variant:"body_small",color:"secondary",children:y.symbol}),f.jsx(se,{variant:"body_small",color:"primary",children:y.balance})]})]},y.address)):f.jsx("div",{className:"token-balance-list__empty",children:f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_information.multi_asset.empty_state",children:s("dyn_wallet_information.multi_asset.empty_state")})})})]})},WKe={amount:"",recipient:""},GG=(e,t,n,r)=>{const i={amount:{invalidDecimals:t("dyn_send_transaction.validation.amount.invalid_decimals",{decimals:r}),invalidFormat:t("dyn_send_transaction.validation.amount.invalid_decimals",{decimals:r}),overBalance:t("dyn_send_transaction.validation.amount.over_balance"),required:t("dyn_send_transaction.validation.amount.required")},recipient:{invalidFormat:t("dyn_send_transaction.validation.recipient.invalid_format"),required:t("dyn_send_transaction.validation.recipient.required")}},o=e[n];return o?i[n][o].replace("{decimals}",MKe(r??0)):""},qKe=({initialValues:e,onSubmit:t,decimals:n=18,validateAddress:r=()=>!0,validateAmount:i=()=>!0,currentToken:o,transaction:s,tokenBalances:a,setCurrentToken:l,isLoading:c})=>{const{t:d}=Xe(),{showFiat:u}=je(),h=x.useRef(null),[m,v]=x.useState(0),{amount:y}=zD();x.useEffect(()=>{if(h.current){const b=h.current.offsetWidth;v(b+15)}},[o]);const g=x.useMemo(()=>{const b=new RegExp(`^\\d*(\\.\\d{1,${n}})?$`);return t1().shape({amount:Ar().required("required").matches(/^\d*(\.\d+)?$/,"invalidFormat").matches(b,"invalidDecimals").test({message:"overBalance",test:k=>i(k)}),recipient:Ar().required("required").test({message:"invalidFormat",test:k=>r(k)})})},[n,r,i]);return f.jsx(R3,{initialValues:e||WKe,validationSchema:g,onSubmit:b=>t(b),validateOnChange:!1,validateOnBlur:!1,children:({errors:b,touched:k,values:_,handleChange:R,setFieldValue:I,setErrors:T,handleBlur:D,setFieldTouched:M,validateField:C})=>{var U;return f.jsxs(__,{className:"send-balance-form",children:[f.jsxs("div",{className:"send-balance-page-layout__balance-container",children:[f.jsx(DKe,{children:"Select any token"}),f.jsx(FKe,{tokenBalances:a??(o&&[o]),currentToken:o,setCurrentToken:l,isLoading:c,setFieldValue:I,setErrors:T})]}),f.jsxs("div",{className:"send-balance-form__amount-container",children:[f.jsx(Dh,{variant:"regular",className:`send-balance-form__amount-container__field ${u?"fiat":""}`,name:"amount",id:"amount",onChange:$=>{const z=$.target.value;if(!(z!==""&&!/^(?:\d+|\d*\.\d*|)$/.test(z))){if(T({}),R($),!z||Number.isNaN(z)){h1("amount",0);return}h1("amount",o!=null&&o.price?Number(z):void 0)}},onBlur:$=>{D($),M("amount",!0),C("amount")},placeholder:d("dyn_send_transaction.data.amount.placeholder"),as:Sl,error:b.amount,copykey:"dyn_send_transaction.data.amount.label",message:k.amount&&GG(b,d,"amount",n),style:{paddingLeft:`${m}px`}}),f.jsx("div",{className:"send-balance-form__amount-container__floating_value",ref:h,children:f.jsx(se,{variant:"title",weight:"regular",color:"secondary",children:o==null?void 0:o.symbol})}),f.jsx("div",{className:"send-balance-form__amount-container__balance",children:u&&!Number.isNaN(y)&&f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_mini",weight:"bold",color:"secondary",children:"$"}),f.jsx(se,{variant:"body_mini",weight:"regular",color:"secondary",children:Mde(y,o)})]})})]}),f.jsx(se,{className:"send-balance-form__amount_available",variant:"body_small",weight:"regular",color:"secondary",as:"div",children:f.jsxs("div",{style:{display:"flex",gap:"0.225rem"},children:[f.jsx(se,{className:"send-balance-form__amount_available__line",variant:"body_small",weight:"bold",color:"primary",as:"div",children:(U=o==null?void 0:o.balance)!==null&&U!==void 0?U:0}),`${o==null?void 0:o.symbol} Available`]})}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:"dyn_send_transaction.data.recipient.label",children:"Recipient Address"}),f.jsx(Dh,{className:"send-balance-form__field",placeholder:d("dyn_send_transaction.data.recipient.placeholder"),label:d("dyn_send_transaction.data.recipient.label"),id:"recipient",name:"recipient",as:Sl,error:b.recipient,copykey:"dyn_send_transaction.data.recipient.label",message:k.recipient&&GG(b,d,"recipient")}),f.jsx(xt,{dataTestId:"sendBalanceFormSubmitButton",expanded:!0,type:"submit",buttonVariant:"primary",buttonPadding:"small",buttonClassName:"send-balance-form__button",copykey:"dyn_send_transaction.preview_transaction",children:d("dyn_send_transaction.preview_transaction")})]})}})},zKe="0x0000000000000000000000000000000000000000",VKe="11111111111111111111111111111111",KKe=({error:e,onClickClose:t,onClickBack:n,onSubmit:r,displayPoweredByDynamicFooter:i=!1,transaction:o,networkCurrencyDecimals:s,tokenBalances:a,currentToken:l,setCurrentToken:c,isLoading:d,isNativeToken:u})=>{var h;const{t:m}=Xe(),{primaryWallet:v,projectSettings:y,overrides:g}=je(),b=D3({evmNetworksOverrides:g==null?void 0:g.evmNetworks,projectSettings:y}),k=v==null?void 0:v.connector,{chain:_}=I_(k),R=t&&f.jsx(Sn,{type:"button",onClick:t,"data-testid":"close-button",children:f.jsx(Oi,{})}),I=n&&f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Yh,{})}),{data:T}=vr(()=>o.getBalance(),{deps:[o]});x.useEffect(()=>{const M=()=>de(void 0,void 0,void 0,function*(){var U;const $=ej({chain:(U=v==null?void 0:v.connector)===null||U===void 0?void 0:U.connectedChain,networkId:_==null?void 0:_.chainId,networkInfo:b});if(!$){Ie.error("Token info not found. Please make sure you are on a supported chain and it is enabled. See https://docs.dynamic.xyz/chains/enabling-chains");return}const z={address:(_==null?void 0:_.name)==="Solana"?VKe:zKe,balance:0,decimals:$.nativeCurrency.decimals,isNative:!0,logoURI:$.nativeCurrency.iconUrl||$.iconUrls[0],name:$.name,rawBalance:0,symbol:$.nativeCurrency.symbol},q=yield v==null?void 0:v.getBalance();q&&(z.balance=Number(q),z.rawBalance=Number(q)/Math.pow(10,z.decimals)),c(z)});de(void 0,void 0,void 0,function*(){d||(a===void 0||Array.isArray(a)&&a.length===0?yield M():l||c(a[0]))})},[a,_]);const D=()=>u?o.value?o.format(o.value):"":o!=null&&o.formatNonNativeToken&&(o!=null&&o.nonNativeValue)&&(o!=null&&o.nonNativeDecimal)?o.formatNonNativeToken(o.nonNativeValue,o.nonNativeDecimal):"";return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:I,trailing:R,alignContent:"bottom",children:f.jsx("div",{className:"send-balance-page-layout__header-content",children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_send_transaction.data.send",children:m("dyn_send_transaction.data.send")})})}),f.jsxs("div",{className:"send-balance-page-layout__body",children:[f.jsx(Ku,{animationComponent:f.jsx(ng,{}),children:e&&f.jsx("div",{className:"send-balance-page-layout__error",children:f.jsx(tc,{icon:"error",variant:"error",children:e})})}),f.jsx(qKe,{tokenBalances:a,setCurrentToken:c,isLoading:d,onSubmit:({amount:M,recipient:C})=>{u?o.value=o.parse(M):o.parseNonNativeToken&&(o.nonNativeValue=o.parseNonNativeToken(M,(l==null?void 0:l.decimals)||18),o.value=BigInt(0),o.nonNativeAddress=l==null?void 0:l.address,o.nonNativeDecimal=l==null?void 0:l.decimals),o.to=C,r()},initialValues:{amount:D(),recipient:(h=o.to)!==null&&h!==void 0?h:""},decimals:u?s:l==null?void 0:l.decimals,validateAddress:M=>M?o.validateAddressFormat(M):!0,validateAmount:M=>M?u?T?o.parse(M)<=T:!1:!(l!=null&&l.rawBalance)||!o.parseNonNativeToken?!1:Number(o.parseNonNativeToken(M,(l==null?void 0:l.decimals)||18))<=l.rawBalance:!1,currentToken:l,transaction:o}),i&&f.jsx(Gc,{classNameRoot:"send-balance-page-layout__footer"})]})]})};var JG,HKe=["title","titleId"];function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_N.apply(null,arguments)}function GKe(e,t){if(e==null)return{};var n,r,i=JKe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ZKe=function(t){var n=t.title,r=t.titleId,i=GKe(t,HKe);return x.createElement("svg",_N({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,JG||(JG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm12.845-39.155a1.667 1.667 0 1 0-2.357-2.357L27.5 37.976l-5.488-5.488a1.667 1.667 0 1 0-2.357 2.357l6.666 6.667c.651.65 1.707.65 2.357 0l16.667-16.667Z",fill:"#4779FF"})))};const YKe=({destinationAddress:e,transactionValue:t,networkCurrency:n,onDone:r,displayPoweredByDynamicFooter:i=!0,onClickClose:o,transaction:s,currentToken:a,isNativeToken:l,transactionHash:c})=>{const{t:d}=Xe(),{showFiat:u,primaryWallet:h}=je(),{nativePrice:m}=zD(),{data:v}=vr(()=>de(void 0,void 0,void 0,function*(){if(!(!(h!=null&&h.connector)||!c))return Wze({transactionHash:c,walletConnector:h.connector})})),y=o&&f.jsx(Sn,{type:"button",onClick:o,"data-testid":"close",children:f.jsx(Oi,{})}),g=Tde(a,s,m,t);return f.jsxs("div",{className:"transaction-status-layout",children:[f.jsx(Zn,{trailing:y,alignContent:"bottom",children:f.jsx(Nt,{size:"large",className:"transaction-status-layout__status-icon",children:f.jsx(ZKe,{})})}),f.jsxs("div",{className:"transaction-status-layout__body",children:[f.jsxs("div",{className:"transaction-status-layout__sent_to",children:[f.jsxs(se,{variant:"body_small",color:"secondary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:[d("dyn_send_transaction.succeeded.title")," "]}),f.jsx(se,{variant:"body_small",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:Ni(e)})]}),f.jsx("div",{className:"transaction-status-layout__content",children:f.jsx("div",{className:"transaction-status-layout__rows",children:f.jsxs(se,{variant:"title",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:[`${Bde(l,s)} ${n} `,u&&(a==null?void 0:a.price)&&g!==void 0&&`($${Number(g)<=.01?"<0.01":g})`]})})}),f.jsx(Ku,{animationComponent:f.jsx(ng,{}),children:f.jsx("div",{className:"transaction-confirmation__warning",children:f.jsx(tc,{variant:"info",copykey:"dyn_send_transaction.info_message.refresh_balance_time",children:d("dyn_send_transaction.info_message.refresh_balance_time")})})}),f.jsx("div",{className:"transaction-status-layout__transaction-link-container",children:v&&f.jsx(se,{as:"a",href:v,target:"_blank",rel:"noreferrer",className:"transaction-status-layout__transaction-link-container__transaction-link",variant:"body_small",children:d("dyn_wallet_funding.success_txn_link")})}),f.jsx("div",{className:"transaction-status-layout__actions",children:f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"small",expanded:!0,onClick:r,loading:!1,copykey:"dyn_send_transaction.succeeded.continue_button",dataTestId:"transaction-done-continue",children:d("dyn_send_transaction.succeeded.continue_button")})}),i&&f.jsx(Gc,{classNameRoot:"transaction-status-layout__footer"})]})]})},XKe=e=>{const{data:t}=vr(()=>e==null?void 0:e.connector.getNetwork(!0),{enabled:!!e});if(!(!e||!t))return e.connector.getEnabledNetworks().find(n=>n.chainId===t)},QKe=()=>x.useCallback(e=>de(void 0,[e],void 0,function*({mfaAction:t}){return jse({mfaAction:t})}),[]),ZG=e=>!!e.isNative,YG=(e,t)=>t?e.value?e.format(e.value,{precision:6}):"0":e.nonNativeValue&&e.formatNonNativeToken?e.formatNonNativeToken(e.nonNativeValue,e.nonNativeDecimal||18):"0",eHe=e=>{const t={APTOS:nr.Aptos,BTC:nr.Btc,EVM:nr.Evm,SOL:nr.Sol,SUI:nr.Sui,TRON:nr.Tron};return e&&e in t?t[e]:nr.Evm},tHe=({initialRecipientAddress:e="",initialValue:t,onClickBack:n,onClickClose:r,onError:i,onSuccess:o,onDone:s,displayPoweredByDynamicFooter:a=!1})=>{const[l,c]=x.useState("form"),{primaryWallet:d,walletUiUtils:u}=je(),h=QKe(),m=fde(),{t:v}=Xe(),[y,g]=x.useState(!1),[b,k]=x.useState(void 0),[_,R]=x.useState(void 0),[I,T]=x.useState(void 0),{showFiat:D}=je(),M=d==null?void 0:d.connector,{chain:C}=I_(M),{tokenBalances:U,isLoading:$}=dde({chainName:eHe(M==null?void 0:M.connectedChain),includeFiat:D,includeNativeBalance:!0});if(!d)throw new Se("Primary wallet is not available, send balance cannot be displayed");if(M&&!kM(M))throw new Se("Primary wallet is not eligible for this operation. It must implement ISendBalanceWalletConnector");const[z,q]=x.useState(null);x.useEffect(()=>{const P=(M==null?void 0:M.connectedChain)==="EVM"?zVe(Number(C==null?void 0:C.chainId)):void 0;return h1("chainName",P||(C==null?void 0:C.name)||(M==null?void 0:M.connectedChain)),()=>{Lqe()}},[C==null?void 0:C.chainId,C==null?void 0:C.name,M==null?void 0:M.connectedChain]),x.useEffect(()=>{U&&R(U)},[U]),x.useEffect(()=>{M&&(b&&g(ZG(b)),M.createUiTransaction(d==null?void 0:d.address).then(P=>{e&&(P.to=e),t&&(P.value=t),b&&!ZG(b)&&(P.nonNativeAddress=b==null?void 0:b.address,P.nonNativeValue=BigInt(0),P.nonNativeDecimal=b==null?void 0:b.decimals),q(P)}).catch(P=>{if(Ie.debug("[SendBalanceView] Error creating transaction",P),P instanceof Se&&P.code==="0"){s==null||s();return}i==null||i(P)}))},[b]);const S=XKe(d);if(!z||!S)return f.jsx("div",{className:"send-balance-widget-view__spinner","data-testid":"send-balance-spinner",children:f.jsx(x_,{})});const A=P=>de(void 0,void 0,void 0,function*(){(M==null?void 0:M.connectedChain)==="SOL"&&setTimeout(()=>rt.emit("tokenBalancesChanged"),5e3),M!=null&&M.confirmTransactionStatus&&(yield M==null?void 0:M.confirmTransactionStatus(P),rt.emit("tokenBalancesChanged"))}),O=(b==null?void 0:b.symbol)||S.nativeCurrency.symbol,N=(C==null?void 0:C.name)&&f.jsx(BKe,{chain:C,chainName:C.name}),j=()=>f.jsx(KKe,{transaction:z,onClickBack:n,networkName:S.vanityName||S.name,networkIcon:N,networkCurrencyDecimals:S.nativeCurrency.symbol==="SOL"?9:S.nativeCurrency.decimals,walletAddress:Ni(b==null?void 0:b.address),walletKey:d==null?void 0:d.connector.key,onClickClose:r,displayPoweredByDynamicFooter:a,onSubmit:()=>c("confirmation"),tokenBalances:_??(b&&[b]),currentToken:b,setCurrentToken:k,isLoading:$,isNativeToken:y}),V=()=>f.jsx(Lde,{walletConnector:d==null?void 0:d.connector,transaction:z,mutation:()=>de(void 0,void 0,void 0,function*(){return d.connector.key==="dynamicwaas"&&(yield h({mfaAction:bh.WalletWaasSign}))&&(yield m({createMfaToken:!0})),u.disabledConfirmationOnce(),z.submit()}),copykey:"dyn_send_transaction.confirmation.title",title:v("dyn_send_transaction.confirmation.title"),onClickBack:()=>c("form"),onError:i,displayPoweredByDynamicFooter:a,onSuccess:P=>de(void 0,void 0,void 0,function*(){P&&(o==null||o(P),T(P),c("success"),A(P))}),currentToken:b,isNativeToken:y,transactionValue:YG(z,y),sendBalanceTransaction:!0}),K=()=>{var P;return f.jsx(YKe,{transactionValue:YG(z,y),destinationAddress:(P=z.to)!==null&&P!==void 0?P:"",networkCurrency:O,networkName:S.name||"",NetworkIcon:N,onClickClose:r,onDone:()=>s==null?void 0:s(),displayPoweredByDynamicFooter:a,transaction:z,currentToken:b,isNativeToken:y,transactionHash:I})};return(()=>{switch(l){case"form":return j();case"confirmation":return V();case"success":return K()}})()},nHe=({initialRecipientAddress:e,initialValue:t,onReject:n,onSuccess:r})=>{ov(!0);const[i,o]=x.useState(!0),s=x.useRef(null),a=x.useRef(null),l=x.useCallback(()=>{if(a.current){r(a.current);return}n(s.current||new Zie)},[n,r]),c=()=>{o(!1)};return f.jsx(cv,{handleClose:c,isShown:i,zIndex:ev,withBackdrop:!0,elementId:"dynamic-send-balance",transitionEvents:{onUnmount:l},children:f.jsx(lv,{children:f.jsx(Im,{children:f.jsx(ng,{isShown:!0,children:f.jsx(gD,{children:f.jsx(tHe,{initialRecipientAddress:e,initialValue:t,onError:d=>s.current=d,onClickClose:c,onDone:c,displayPoweredByDynamicFooter:!0,onSuccess:d=>{s.current=null,a.current=d}})})})})})})},rHe=new Se("No wallet connected"),iHe=new Se("Primary wallet must use embedded wallet"),Kde=x.createContext(void 0),oHe=({children:e})=>{const{primaryWallet:t}=je(),{open:n,modal:r}=Lp({elementId:"dynamic-send-balance"}),i=x.useCallback(o=>de(void 0,void 0,void 0,function*(){return n((s,a)=>{if(!t)throw rHe;if(!kM(t.connector))throw iHe;return f.jsx(nHe,{onReject:a,onSuccess:s,initialRecipientAddress:o==null?void 0:o.recipientAddress,initialValue:o==null?void 0:o.value})})}),[n,t]);return f.jsxs(Kde.Provider,{value:{open:i},children:[r,e]})},sHe=()=>{const e=x.useContext(Kde);if(e===void 0)throw new Error("usage of useSendBalance not wrapped in `SendBalanceContextProvider`.");if(x.useContext(XD)===void 0)throw new Error("usage of useSendBalance not wrapped in `PasskeyContextProvider`.");return e};var XG,aHe=["title","titleId"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(null,arguments)}function lHe(e,t){if(e==null)return{};var n,r,i=cHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var dHe=function(t){var n=t.title,r=t.titleId,i=lHe(t,aHe);return x.createElement("svg",xN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,XG||(XG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.512 12a9.004 9.004 0 0 0 16.977 0 9.004 9.004 0 0 0-16.977 0Zm-2.008-.3C2.906 7.238 7.074 4 12 4c4.927 0 9.095 3.238 10.497 7.7a1 1 0 0 1 0 .6C21.095 16.762 16.927 20 12 20c-4.927 0-9.095-3.238-10.497-7.7a1 1 0 0 1 0-.6ZM12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"#ABACB2"})))},QG,uHe=["title","titleId"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kN.apply(null,arguments)}function fHe(e,t){if(e==null)return{};var n,r,i=hHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var pHe=function(t){var n=t.title,r=t.titleId,i=fHe(t,uHe);return x.createElement("svg",kN({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,QG||(QG=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.25 3a3.751 3.751 0 0 0-3.59 4.84.743.743 0 0 1-.187.746L3 13.062V15h1.5v-.75a.75.75 0 0 1 .75-.75H6v-.75a.75.75 0 0 1 .75-.75h1.188l1.476-1.473a.743.743 0 0 1 .746-.187A3.751 3.751 0 1 0 11.25 3ZM6 15v.75a.75.75 0 0 1-.75.75H3A1.5 1.5 0 0 1 1.5 15v-1.938c0-.398.156-.78.438-1.062l4.171-4.172A5.251 5.251 0 0 1 11.25 1.5a5.251 5.251 0 0 1 5.251 5.25 5.251 5.251 0 0 1-6.328 5.14l-1.39 1.391a.75.75 0 0 1-.532.219H7.5v.75a.75.75 0 0 1-.75.75Zm4.5-9.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25.75.75 0 0 1-1.5 0 .75.75 0 0 0-.75-.75.75.75 0 0 1-.75-.75Zm0 0",fill:"currentColor"})))},eJ,mHe=["title","titleId"];function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SN.apply(null,arguments)}function gHe(e,t){if(e==null)return{};var n,r,i=yHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var vHe=function(t){var n=t.title,r=t.titleId,i=gHe(t,mHe);return x.createElement("svg",SN({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,eJ||(eJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.935 4.066a2.5 2.5 0 0 0-3.536 0l-.916.916a.833.833 0 0 1-1.179-1.179l.917-.916a4.167 4.167 0 0 1 5.892 5.893l-1.81 1.81-1.178-1.18 1.81-1.809a2.5 2.5 0 0 0 0-3.535Zm-10.06 6.523L4.698 9.411l-1.81 1.81a4.167 4.167 0 1 0 5.893 5.892l.918-.918a.833.833 0 0 0-1.179-1.178l-.918.917A2.5 2.5 0 0 1 4.066 12.4l1.81-1.81Zm-.488-6.38A.833.833 0 1 0 4.21 5.387l10.017 10.017a.833.833 0 1 0 1.179-1.178L5.387 4.209Z",fill:"currentColor"})))},tJ,wHe=["title","titleId"];function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IN.apply(null,arguments)}function bHe(e,t){if(e==null)return{};var n,r,i=_He(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _He(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Hde=function(t){var n=t.title,r=t.titleId,i=bHe(t,wHe);return x.createElement("svg",IN({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,tJ||(tJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 4a1 1 0 0 0 0 2h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-14a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h12a1 1 0 1 1 0 2h-12Zm-1 3.83V19a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-14c-.35 0-.687-.06-1-.17Zm11 6.17a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",fill:"#ABACB2"})))},nJ,xHe=["title","titleId"];function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EN.apply(null,arguments)}function kHe(e,t){if(e==null)return{};var n,r,i=SHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Gde=function(t){var n=t.title,r=t.titleId,i=kHe(t,xHe);return x.createElement("svg",EN({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,nJ||(nJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 64c17.673 0 32-14.327 32-32C64 14.327 49.673 0 32 0 14.327 0 0 14.327 0 32c0 17.673 14.327 32 32 32Zm8.334-45.333a3.333 3.333 0 0 0-3.333-3.334h-15a6.669 6.669 0 0 0-6.56 5.473 6.649 6.649 0 0 1 4.893-2.14h20ZM42 22a6.667 6.667 0 0 1 6.667 6.667V42A6.667 6.667 0 0 1 42 48.667H22A6.667 6.667 0 0 1 15.334 42V28.667A6.667 6.667 0 0 1 22 22h20Z",fill:"#4779FF","data-testid":"wallet-icon-embedded"})))},rJ,iJ,IHe=["title","titleId"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(null,arguments)}function EHe(e,t){if(e==null)return{};var n,r,i=CHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var AHe=function(t){var n=t.title,r=t.titleId,i=EHe(t,IHe);return x.createElement("svg",CN({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,rJ||(rJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 32c8.837 0 16-7.163 16-16S24.837 0 16 0 0 7.163 0 16s7.163 16 16 16Zm4.667-23.467c0-1.03-.836-1.866-1.867-1.866h-8.4A3.734 3.734 0 0 0 6.727 9.73a3.723 3.723 0 0 1 2.74-1.198h11.2ZM21.6 10.4a3.733 3.733 0 0 1 3.733 3.733V21.6a3.733 3.733 0 0 1-3.733 3.733H10.4A3.733 3.733 0 0 1 6.667 21.6v-7.467A3.733 3.733 0 0 1 10.4 10.4h11.2Z",fill:"#4779FF"})),iJ||(iJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.455 12.667c.2 0 .38.123.452.31l.572 1.486c.145.379.191.488.254.576a.97.97 0 0 0 .228.228c.088.063.197.109.576.255l1.486.57a.485.485 0 0 1 0 .906l-1.486.571c-.379.146-.488.192-.576.255a.97.97 0 0 0-.228.228c-.063.088-.109.197-.254.576l-.572 1.485a.485.485 0 0 1-.905 0l-.571-1.485c-.146-.379-.192-.488-.254-.576a.97.97 0 0 0-.229-.229c-.088-.062-.197-.108-.576-.254l-1.485-.571a.485.485 0 0 1 0-.905l1.485-.572c.38-.145.488-.191.576-.254a.97.97 0 0 0 .229-.228c.062-.088.108-.197.254-.576l.571-1.486a.485.485 0 0 1 .453-.31ZM13.333 18c.184 0 .352.104.434.268l.38.76c.137.275.18.353.23.42.05.065.11.124.176.175.066.051.144.093.418.23l.761.38a.485.485 0 0 1 0 .867l-.76.38c-.274.138-.353.18-.42.23a.968.968 0 0 0-.175.176c-.05.066-.093.145-.23.419l-.38.76a.485.485 0 0 1-.867 0l-.38-.76c-.138-.274-.18-.353-.23-.419a.968.968 0 0 0-.176-.176c-.066-.05-.145-.092-.419-.23l-.76-.38a.485.485 0 0 1 0-.867l.76-.38c.274-.137.353-.179.419-.23a.968.968 0 0 0 .176-.176c.05-.066.092-.144.23-.418l.38-.761a.485.485 0 0 1 .433-.268Z",fill:"#4779FF"})))};const j3=()=>{const e=k_();return x.useCallback(t=>OM(t,e),[e])},AN=({iconSize:e=24,chainName:t,Icon:n,showNetwork:r=!0,walletKey:i,iconUrl:o})=>{const s=t?Hc(t):void 0;return f.jsxs("div",{className:"wallet-icon-with-network__container",children:[n?f.jsx(n,{style:{height:Ut(e),width:Ut(e)}}):f.jsx(oi,{icon:o,walletKey:i,style:{height:Ut(e),width:Ut(e)}}),s&&r&&f.jsx("div",{"data-testid":"network-container",className:Ke("wallet-icon-with-network__network-container"),children:f.jsx(s,{})})]})},RHe=({findSocialIcon:e,wallet:t,user:n})=>{if(bM(t.connector))return m0;if(J1(t.connector)){const r=yle(n,t.id);if(!r||!r.oauthProvider)return m0;const{oauthProvider:i}=r;try{return e(i)}catch(o){Ie.error(o)}}return YI(t.connector)?AHe:_M(t.connector)?Gde:null},oj=({iconSize:e=64,showNetworkIcon:t=!1,wallet:n})=>{const{primaryWallet:r,selectedWalletConnector:i,user:o,userWithMissingInfo:s}=je(),{deniedOauthProvider:a,deniedAddress:l}=a_(),{isLoadingEmbeddedWallet:c}=w3(),d=j3();if(a){const m=d(a);return m?f.jsx(m,{style:{height:Ut(e),width:Ut(e)}}):null}if(l)return f.jsx(oi,{walletKey:i==null?void 0:i.key,icon:i==null?void 0:i.metadata.icon,style:{height:Ut(e),width:Ut(e)}});const u=n||r;if(!u)return c?f.jsx(AN,{iconSize:e,Icon:Gde,chainName:"EVM",showNetwork:!1}):null;const h=RHe({findSocialIcon:d,user:o??s,wallet:u});return f.jsx(AN,{iconSize:e,Icon:h??null,chainName:u.chain,showNetwork:t,walletKey:u.key,iconUrl:u.connector.metadata.icon})},THe=(e,t,n)=>{const r=new RegExp(t,"g");return e.replace(r,n)},OHe=e=>Math.floor(Lie(e,13)),NHe=1e3,oJ=1e6,sJ=1e4,PHe=(e,t=4)=>{const n=parseFloat(THe(e,'"',""));if(n>oJ){const s=Math.floor(n);return`${Math.floor(s/oJ*sJ)/sJ}M`}if(n>NHe)return String(Math.floor(n));const r=Math.pow(10,t),i=1/r;if(n<i&&n>0)return`< ${i}`;const o=OHe(n*r)/r;return o===0?"0.0":String(o)},BHe=(e,t)=>{var n;if(!e||!(t!=null&&t.length)||!e6e(e))return;const r=(n=t.find(i=>i.provider===pn.MagicLink))===null||n===void 0?void 0:n.keyExportUrl;if(r)return()=>{Ln.openURL(r,"blank")}},Jde=(e,t,n)=>t==null?void 0:t.find(({address:r})=>$a(r||"",e||"",n)),$3=({address:e,chain:t}={})=>{var n;const{getNameService:r,network:i}=je(),o=(n=y3())===null||n===void 0?void 0:n.verifiedCredentials,s=x.useMemo(()=>{var l;if(!(!e||!t))return(l=Jde(e,o,t))===null||l===void 0?void 0:l.nameService},[e,t,o]),{data:a}=vr(()=>r(e),{deps:[e,i,r]});return s??a},sj=({className:e})=>f.jsxs("div",{className:Ke("network-control-skeleton",e),"data-testid":"network-control-loading",children:[f.jsx("div",{className:"network-control-skeleton__icon"}),f.jsx(Vo,{className:"network-control-skeleton__skeleton"})]}),P2=({showMsg:e})=>{const{t}=Xe();return f.jsxs(f.Fragment,{children:[f.jsx(Nt,{size:"small",color:"text-error",children:f.jsx(Jh,{})}),e&&f.jsx(se,{className:"evm-network-control__network-name",as:"span",color:"error-1",variant:"body_small",copykey:"dyn_network_not_supported.button",children:t("dyn_network_not_supported.button")})]})},MHe=({enabledNetworks:e,className:t="",activeClassName:n="",network:r,walletConnector:i,isOpen:o,setIsOpen:s,showNetworkName:a=!1})=>{var l,c;const d=e.find(u=>r&&u.chainId.toString()===r.toString());if(!e.length)return f.jsx("div",{"data-testid":"NetworkSwitchControl",className:Ke("network-switch-control__container network-switch-control__container--error",t),children:f.jsx(P2,{showMsg:a})});if(!r){if(!i.isAvailable){const u=Hc(i.connectedChain),h=(l=Lm(i.connectedChain))===null||l===void 0?void 0:l.displayName;return f.jsxs("div",{"data-testid":"NetworkSwitchControl",className:Ke(t,"network-switch-control__container"),children:[f.jsx(Nt,{size:"small",children:f.jsx(u,{})}),a&&f.jsx(se,{className:"network-switch-control__network-name",as:"span",variant:"body_small",children:h})]})}return f.jsx("div",{"data-testid":"NetworkSwitchControl",className:Ke("network-switch-control__container",t),children:f.jsx(sj,{})})}if(e.length===1){const u=Ke(t,"network-switch-control__container","network-switch-control__container--error",{[n]:o});return d?f.jsxs("div",{"data-testid":"NetworkSwitchControl",onClick:()=>r&&s(!o),className:Ke("network-switch-control__container",{[n]:o},t),children:[d.iconUrls.length>0&&f.jsx(Nt,{size:"small",className:"network-switch-control__network-icon",children:f.jsx("img",{src:d.iconUrls[0],alt:`${d.name} icon`})}),a&&f.jsx(se,{className:"network-switch-control__network-name",as:"span",variant:"body_small",children:d.vanityName||d.name})]}):f.jsxs("button",{"data-testid":"NetworkSwitchControl",type:"button",onClick:()=>s(!o),className:u,children:[f.jsx(P2,{showMsg:a}),f.jsx(Nt,{color:"text-primary",size:"small",className:Ke("network-switch-control__arrow-icon",{"network-switch-control__arrow-icon--active":o}),children:f.jsx(Vu,{})})]})}return f.jsxs("button",{"data-testid":"NetworkSwitchControl",type:"button",onClick:u=>{u.stopPropagation(),r&&s(!o)},className:Ke(t,"network-switch-control__container",{[n]:o,"network-switch-control__container--error":!(d!=null&&d.name)}),children:[d!=null&&d.name?f.jsxs(f.Fragment,{children:[((c=d==null?void 0:d.iconUrls)===null||c===void 0?void 0:c[0])&&f.jsx(Nt,{size:"small",className:"network-switch-control__network-icon",children:f.jsx("img",{src:d.iconUrls[0],alt:`${d.name} icon`})}),a&&f.jsx(se,{className:"network-switch-control__network-name",as:"span",variant:"body_small",children:d.vanityName||d.name})]}):f.jsx(P2,{showMsg:a}),e.length>1&&f.jsx(Nt,{color:"text-primary",size:"small",className:Ke("network-switch-control__arrow-icon",{"network-switch-control__arrow-icon--active":o}),children:f.jsx(Vu,{})})]})},Od=e=>{var t;return((t=e[0])===null||t===void 0?void 0:t.toUpperCase())+e.slice(1).toLowerCase()},DHe=({walletConnector:e,className:t,showNetworkName:n=!1,network:r,enabledNetworks:i})=>{const{chain:o,isLoading:s}=I_(e),a=Hc(e.connectedChain||""),l=x.useMemo(()=>{var u;if(!r)return;const h=(u=i==null?void 0:i.find(m=>m.chainId.toString()===r.toString()))===null||u===void 0?void 0:u.name;return h?Od(h):void 0},[i,r]),c=x.useMemo(()=>{const u=o==null?void 0:o.name;return u?Od(u):void 0},[o]),d=x.useMemo(()=>!l&&i&&i.length>0,[l,i]);return s?f.jsx(sj,{className:t}):f.jsxs("div",{"data-testid":"NonNetworkSwitchingSupportedControl",className:Ke("non-network-switching-supported-control",t),children:[d&&f.jsx(P2,{showMsg:n}),!d&&f.jsxs(f.Fragment,{children:[f.jsx(Nt,{size:"small",children:o!=null&&o.icon?f.jsx("img",{src:o.icon,alt:`${o.name} icon`}):f.jsx(a,{})}),n&&f.jsx(se,{className:Ke("non-network-switching-supported-control__network-name"),as:"span",variant:"body_small",children:l??c})]})]})},jHe=({loading:e,walletConnector:t,buttonClassName:n,network:r,activeClassName:i,isOpen:o,setIsOpen:s,showNetworkName:a})=>{const l=t.getEnabledNetworks(),c=t.connectedChain===nr.Evm&&typeof r=="string";return e||c?f.jsx(sj,{className:n}):t.supportsNetworkSwitching()?f.jsx(MHe,{showNetworkName:a,enabledNetworks:l,activeClassName:i,className:n,network:r,loading:e,isOpen:o,walletConnector:t,setIsOpen:s}):f.jsx(DHe,{className:n,showNetworkName:a,walletConnector:t,network:r,enabledNetworks:l})},$He=(e,t)=>!(t!=null&&t.find(n=>{var r;return e&&((r=n.chainId)===null||r===void 0?void 0:r.toString())===e.toString()}));var aJ,LHe=["title","titleId"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(null,arguments)}function UHe(e,t){if(e==null)return{};var n,r,i=FHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var cc=function(t){var n=t.title,r=t.titleId,i=UHe(t,LHe);return x.createElement("svg",RN({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,aJ||(aJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.496 3.67a.583.583 0 0 1 0 .826l-5.834 5.833a.583.583 0 0 1-.824 0L2.504 7.996a.583.583 0 1 1 .825-.825L5.25 9.09l5.42-5.42a.583.583 0 0 1 .826 0Z",fill:"currentColor"})))};const WHe=({iconUrl:e,isActive:t,networkName:n,className:r,checkboxClassName:i="",isChanging:o,notSupported:s=!1})=>{const{t:a}=Xe();return f.jsxs("div",{className:Ke("network",r,{"network--not-supported":s}),children:[f.jsxs("div",{className:"network__container",children:[e?f.jsx("img",{src:e,className:"network__title-icon",alt:`${n} icon`}):f.jsx(Jh,{}),f.jsxs("div",{className:"network__title-container",children:[f.jsx(se,{variant:"button_primary",className:"network__title-copy",as:"span",weight:"medium",color:s?"secondary":"primary",children:n}),s&&f.jsx(se,{variant:"body_mini",className:"network__title-copy",as:"span",weight:"medium",color:s?"secondary":"primary","data-testid":"network-not-supported",copykey:"dyn_network_not_supported.wallet",children:a("dyn_network_not_supported.wallet")})]})]}),f.jsxs("div",{className:Ke("network__status-container",{"network__status-container--active":t},i),"data-testid":"single-network-checkbox",children:[t&&f.jsx(cc,{className:"network__status-icon"}),o&&f.jsx(ede,{className:"network__status-spinner-icon",size:12})]})]})},qHe=({iconUrl:e,networkId:t,network:n,onClick:r,networkName:i,checkboxClassName:o="",newNetworkId:s,notSupported:a})=>f.jsx("div",{className:Ke("network-action",{"network--not-supported":a}),onClick:()=>{!a&&r(t)},"data-testid":"network-action",children:f.jsx(WHe,{iconUrl:e,isActive:t===n,networkName:i,checkboxClassName:o,isChanging:s===t,notSupported:a})}),zHe=({anchorRef:e,connector:t,customCallbackOnSuccess:n,setIsNetworkPickerOpen:r,isNetworkPickerOpen:i,currentNetwork:o,className:s,checkboxClassName:a})=>{const[l,c]=x.useState(void 0),{data:d}=vr(()=>t6e(t)?t==null?void 0:t.getSupportedNetworks():Promise.resolve(void 0),{deps:[t,i],enabled:t.isWalletConnect,initialData:void 0});if(!t)return null;const u=t.getEnabledNetworks();if(!($He(o,u)||u.length>1))return null;const m=v=>de(void 0,void 0,void 0,function*(){c(v);try{yield t.switchNetwork({networkChainId:v}),n==null||n()}catch(y){Ie.debug(y)}finally{c(void 0),r(!1)}});return f.jsx(ij,{className:s,isOpen:i,onClickClose:()=>r(!1),popperProps:{anchorOrigin:"bottom-left",anchorRef:e},mobileTitle:"Select network",children:u.map(({name:v,networkId:y,vanityName:g,iconUrls:b})=>f.jsx(qHe,{iconUrl:b==null?void 0:b[0],networkId:y,networkName:g||v,network:o,onClick:m,checkboxClassName:a,newNetworkId:l,notSupported:d&&!d.includes(`${y}`)},y))})},aj=({activeClassName:e="",buttonClassName:t="",checkboxClassName:n="",connector:r,listClassName:i="",mainClassName:o="",showNetworkName:s,customCallbackOnSuccess:a,currentNetwork:l,isLoading:c=!1})=>{const[d,u]=x.useState(!1),h=x.useRef(null),{loadingNetwork:m}=je(),v=x.useRef(null);return r?f.jsxs("div",{className:Ke("non-widget-network-picker",o),ref:h,"data-testid":"network-picker",children:[f.jsxs("div",{className:"network-picker-network-control",children:[f.jsx(jHe,{activeClassName:e,network:l,loading:m||c,isOpen:d,setIsOpen:u,walletConnector:r,showNetworkName:s,buttonClassName:t}),f.jsx("div",{ref:v,className:"network-picker-network-control__anchor"})]}),f.jsx(zHe,{anchorRef:v,customCallbackOnSuccess:a,connector:r,className:i,checkboxClassName:n,isNetworkPickerOpen:d,setIsNetworkPickerOpen:u,currentNetwork:l})]}):null},L3=({variant:e,containerClassName:t})=>f.jsx("div",{"data-testid":"status-dot-container",className:Ke("status-dot__container",t||""),children:f.jsx("div",{"data-testid":"status-dot",className:Ke("status-dot",`status-dot--${e}`)})});var lJ,VHe=["title","titleId"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TN.apply(null,arguments)}function KHe(e,t){if(e==null)return{};var n,r,i=HHe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var GHe=function(t){var n=t.title,r=t.titleId,i=KHe(t,VHe);return x.createElement("svg",TN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,lJ||(lJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.955 12.806a7.373 7.373 0 1 0 9.14-7.07l.35.358a.922.922 0 1 1-1.32 1.287l-1.82-1.866a.922.922 0 0 1 .015-1.303l1.866-1.82a.922.922 0 0 1 1.287 1.32l-.182.177a9.217 9.217 0 1 1-6.548 1.01.922.922 0 0 1 .918 1.598 7.37 7.37 0 0 0-3.706 6.31Z",fill:"#ABACB2"})))};const lj=({wallet:e,network:t,className:n,variant:r="body_normal"})=>{const{currency:i,isLoading:o}=QD(e.connector,t),{balance:s,isLoading:a}=rVe({chain:i==null?void 0:i.symbol,network:t,wallet:e});return s?f.jsxs(se,{className:n,variant:r,color:"primary",children:[a?f.jsx(Vo,{className:"balance-skeleton"}):PHe(s)," ",!o&&f.jsx(se,{as:"span",variant:"body_normal",color:"secondary",children:i==null?void 0:i.symbol})]}):null},rf=({text:e,className:t,style:n,fullWidth:r=!1,children:i})=>f.jsxs("div",{className:Ke("divider",t,{"divider__full-width":r,"divider__no-gap":e===void 0&&i===void 0}),style:n,children:[f.jsx("div",{className:"divider__dash"}),!!e&&f.jsx(se,{className:"divider__text",variant:"body_small",color:"secondary",children:e}),i&&f.jsx("div",{children:i}),f.jsx("div",{className:"divider__dash"})]}),JHe=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),ZHe=({tokenBalance:e})=>{const{showFiat:t}=je(),n=()=>{var r;return e.marketValue!==0&&!e.marketValue?"$-":e.marketValue>=.01?JHe.format(parseFloat((r=e.marketValue)===null||r===void 0?void 0:r.toFixed(2))):"<$0.01"};return f.jsxs("div",{className:"token-balance-item",children:[f.jsxs("div",{className:"token-balance-item__name",children:[e.logoURI?f.jsx(ode,{src:e.logoURI,alt:e.symbol,className:"token-balance-item__icon",dataTestId:"token-balance-item-icon"}):f.jsx("div",{className:"token-balance-item__skeleton-icon","data-testid":"token-balance-item__skeleton-icon"}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",className:"token-balance-item__title",color:"primary",children:e.name})})]}),f.jsxs("div",{className:"flex",children:[t?f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",style:{textAlign:"right"},children:n()}):null,f.jsx("div",{className:"token-balance-item__value",children:f.jsxs("div",{className:"token-balance-item__value__balance","data-testid":"token-balance-item-balance",children:[f.jsx(se,{variant:"body_small",color:"secondary",style:{marginRight:"2px"},children:e.balance}),f.jsx(se,{variant:"body_small",color:"secondary",className:"token-balance-item__symbol",children:e.symbol})]})})]})]},e.address)},YHe=({tokenBalances:e})=>{const{t}=Xe();return f.jsx("ul",{className:"token-balance-list",children:(e==null?void 0:e.length)===0?f.jsx("div",{className:"token-balance-list__empty",children:f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_information.multi_asset.empty_state",children:t("dyn_wallet_information.multi_asset.empty_state")})}):e==null?void 0:e.map((n,r)=>f.jsxs(Vt.Fragment,{children:[f.jsx(ZHe,{tokenBalance:n}),e.length!==r+1?f.jsx(rf,{className:"token-balance-list__divider"}):null]},r))})},cJ=({isLoading:e=!1})=>{var t;const{t:n}=Xe(),[r,i]=x.useState(!1),[o,s]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(!1),u=x.useRef(null),h=x.useRef(null),m=x.useRef(null),{primaryWallet:v,network:y,showFiat:g,multiAsset:b}=je(),k=Xu(),_=vo(),{data:R}=vr(()=>de(void 0,void 0,void 0,function*(){return!!(yield v==null?void 0:v.connector.isTestnet())}),{deps:[y],initialData:!1}),{isLoading:I,tokenBalances:T,error:D,fetchAccountBalances:M}=dde({chainName:v==null?void 0:v.connector.connectedChain,includeFiat:g,includeNativeBalance:!0}),C=x.useMemo(()=>(T==null?void 0:T.filter(W=>W.name))||[],[T]),U=x.useMemo(()=>C.reduce((W,P)=>W+((P==null?void 0:P.marketValue)||0),0),[C]),$=x.useMemo(()=>{var W;return(k==="connect-and-sign"||k==="connect-only"&&((W=_==null?void 0:_.sdk.featureFlags)===null||W===void 0?void 0:W.connectOnlyMultiAsset))&&b},[k,(t=_==null?void 0:_.sdk.featureFlags)===null||t===void 0?void 0:t.connectOnlyMultiAsset,b]),q=!(D==="Too many requests fetching balances")&&$,S=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),A=x.useMemo(()=>!R&&g&&q&&!D,[R,g,q,D]),O=()=>{u.current&&s(u.current.scrollTop>0)},N=x.useCallback(W=>de(void 0,void 0,void 0,function*(){if(W.stopPropagation(),!(a||c)){h.current&&(clearTimeout(h.current),h.current=null),m.current&&(clearTimeout(m.current),m.current=null),l(!0),d(!1);try{yield M(!0),l(!1),d(!0),h.current=setTimeout(()=>{d(!1),h.current=null},5e3)}catch{m.current=setTimeout(()=>{l(!1),m.current=null},1e3)}}}),[a,c,M]),j=()=>!v||I||e?f.jsx(Vo,{className:"balance-container__skeleton"}):A?f.jsx(se,{variant:"numbers_display",color:"primary",children:U===0||U>=.01?S.format(parseFloat(U.toFixed(2))):"<$0.01"}):f.jsx(lj,{className:"balance-header__balance",wallet:v,network:y,variant:"numbers_display"}),V=()=>f.jsxs("div",{className:"balance-header__title",children:[I||e?f.jsx(Vo,{className:"balance-header__title-skeleton"}):f.jsx(se,{color:"secondary",variant:"body_normal",copykey:"dyn_active_wallet_info.balance",children:n("dyn_active_wallet_info.balance")}),f.jsxs("div",{className:"balance-header__balance",children:[j(),c?f.jsx("div",{className:"balance-header__success-icon",children:f.jsx(cc,{"data-testid":"success-icon"})}):f.jsx(GHe,{"data-testid":"refresh-balances",className:`balance-header__refresh-icon ${a?"balance-header__refresh-icon--spinning":""}`,onClick:N,style:{cursor:a?"not-allowed":"pointer",opacity:a?.5:1},title:"Refresh balances"})]})]}),K=x.useCallback(()=>{I||i(!r)},[I,r]);return q?f.jsx("div",{className:"balance-container",children:f.jsxs("div",{className:"multi-asset-balance-container",children:[f.jsx("div",{className:`${o?"shadow":""}`,children:f.jsxs("button",{onClick:K,className:"balance-header","data-testid":"balance-header",children:[V(),!I&&f.jsx("div",{className:r?"balance-header__chevron":"",children:f.jsx(N3,{})})]})}),f.jsx(DS,{isOpen:r,className:`multi-asset-balance-container__accordion ${"multi-asset-balance-container__accordion"+(r?"--expanded":"--collapsed")}`,handleScroll:O,ref:u,dataTestId:"multi-asset-balance-accordion",children:f.jsx(YHe,{tokenBalances:C})})]})}):f.jsx("div",{className:"balance-container",children:V()})},XHe=({address:e,open:t,onClose:n})=>{const{t:r}=Xe(),i=f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(jh,{})});return f.jsxs(jc,{isOpen:t,onClose:n,children:[f.jsx(jc.Header,{children:r("dyn_wallet_details_card.header")}),f.jsxs(jc.Content,{className:"wallet-details-card__body",children:[f.jsx(se,{className:"wallet-details-card__text",color:"primary",weight:"bold",variant:"body_small",copykey:"dyn_wallet_details_card.address",children:r("dyn_wallet_details_card.address")}),f.jsx(se,{className:"wallet-details-card__text",color:"secondary",weight:"regular",variant:"body_small",children:e}),f.jsx(Sm,{textToCopy:e,variant:"button",startSlot:i,children:r("dyn_wallet_details_card.copy")})]})]})},QHe=({menuOption:e,wallet:t})=>{var n,r;const{t:i}=Xe(),o=(n=hN(Fb.Ordinals,t))!==null&&n!==void 0?n:t==null?void 0:t.address,s=(r=hN(Fb.Payment,t))!==null&&r!==void 0?r:t==null?void 0:t.address;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"active-wallet-information__address-container",children:[f.jsxs("div",{children:[f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_active_wallet_info.ordinals_address",children:i("dyn_active_wallet_info.ordinals_address")}),f.jsx(se,{className:"active-wallet-information__address",weight:"medium",variant:"body_normal",color:"primary",children:Ni(o)})]}),f.jsx(ide,{"data-testid":"dots-menu",options:e,buttonClassName:"active-wallet-information__dots-menu",buttonClassNameWithOpenMenu:"active-wallet-information__dots-menu"})]}),f.jsxs("div",{className:"active-wallet-information__address-container",children:[f.jsxs("div",{children:[f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_active_wallet_info.payment_address",children:i("dyn_active_wallet_info.payment_address")}),f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"primary",children:Ni(s)})]}),f.jsx(Sm,{textToCopy:s??"",children:f.jsx(Nt,{size:"xsmall",children:f.jsx(jh,{})})})]})]})};var dJ,eGe=["title","titleId"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(null,arguments)}function tGe(e,t){if(e==null)return{};var n,r,i=nGe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var NN=function(t){var n=t.title,r=t.titleId,i=tGe(t,eGe);return x.createElement("svg",ON({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,dJ||(dJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.862 9.529c.26-.26.682-.26.943 0L12 13.724l4.195-4.195a.667.667 0 1 1 .943.942l-4.667 4.667a.667.667 0 0 1-.942 0l-4.667-4.667a.667.667 0 0 1 0-.942Z",fill:"currentColor"})))};const dv=({Icon:e,InnerIcon:t,containerClassName:n,iconSize:r=16,variant:i="green"})=>f.jsxs("div",{className:Ke("icon-with-status__container",n||""),children:[typeof e=="string"?f.jsx("img",{style:{height:Ut(r),width:Ut(r)},src:e,alt:"",className:"icon"}):f.jsx(e,{style:{height:Ut(r),width:Ut(r)}}),t?f.jsx("div",{className:"inner-icon__container",children:f.jsx("div",{className:Ke("inner-icon",`inner-icon--${i}`),children:f.jsx(t,{})})}):f.jsx(L3,{variant:i,containerClassName:"icon-with-status__status-dot"})]}),Ru=(e,t,n)=>{const r=x.useRef(n);r.current=n,x.useEffect(()=>{if(!e)return;const i=Array.isArray(e)?e:[e];i.forEach(a=>a.initEventListener());const s=Array.from(new Set(i)).map(a=>{const l=(...c)=>{r.current(...c,a)};return a.on(t,l),()=>a.off(t,l)});return()=>s.forEach(a=>a())},[e,t])},cj=(e,{onChange:t}={onChange:()=>{}})=>{const[n,r]=x.useState(),i=rze(),o=x.useMemo(()=>e?e.isWalletConnect?e.connectedChain==="EVM"?!!i.walletconnect:!!i.walletconnectsol:!!i[e.key]:!1,[i,e]),{isLoading:s}=vr(()=>e==null?void 0:e.getNetwork(!0),{deps:[e,o],onResolve:a=>{r(a)}});return Ru(e||void 0,"chainChange",({chain:a})=>{const l=(e==null?void 0:e.connectedChain)==="STARK"?a:parseInt(a);r(l),t==null||t(l)}),Ru(e||void 0,"disconnect",()=>de(void 0,void 0,void 0,function*(){if((e==null?void 0:e.key)!=="argentx")return;const a=yield e.getNetwork(!0);r(a),t==null||t(a)})),{isLoading:s,network:n}},rGe=e=>e&&(!e.connector.metadata.icon||e.connector.metadata.icon.includes("unknown-wallet"))?e.key.replace(/[-_]/g," ").replace(/\b\w/g,n=>n.toUpperCase()):void 0,iGe=({wallet:e,nameServiceName:t,menuOption:n,fullWidth:r=!1,isLoading:i=!1,addressTypeLabel:o})=>{const{showAlert:s}=av(),a=t||rGe(e),{network:l}=cj(e==null?void 0:e.connector),[c,d]=x.useState(!1),u=x.useCallback(()=>{d(!1)},[d]),h=x.useCallback(()=>{setTimeout(()=>d(!0),0)},[d]),m=x.useRef(null),{data:v}=vr(()=>(e==null?void 0:e.connector.connectedChain)==="COSMOS"?e==null?void 0:e.connector.getAddress():e==null?void 0:e.address,{deps:[e,l],enabled:!!e}),y=x.useMemo(()=>f.jsx("div",{ref:m,className:"active-wallet-information__handle-icon",children:s()?f.jsx(dv,{Icon:()=>f.jsx(NN,{width:24,height:24}),variant:"yellow"}):f.jsx(NN,{width:24,height:24})}),[s]);return f.jsxs("div",{className:"active-wallet-information__address-container",children:[f.jsxs(Xce,{onClick:h,dataTestId:"active-wallet-information-button",children:[f.jsxs("div",{className:"active-wallet-information__handle-row",children:[f.jsx(se,{className:r?"active-wallet-information__handle--full-width":"active-wallet-information__handle",color:"primary",variant:"body_normal","data-testid":"header-text",children:a}),a&&y]}),o&&f.jsx("div",{className:"active-wallet-information__handle-row",children:f.jsx(se,{className:"active-wallet-information__address",weight:"regular",variant:"body_small",color:"secondary",children:o})}),f.jsxs("div",{className:"active-wallet-information__handle-row",children:[f.jsx(se,{className:"active-wallet-information__address",weight:a?"regular":"medium",variant:a?"body_small":"body_normal",color:a?"secondary":"primary",children:i?f.jsx(Vo,{className:"active-wallet-information__address-skeleton"}):Ni(v)}),!a&&y]})]}),f.jsx(k3,{isOpen:c,onClickOutside:u,onScroll:u,anchorRef:m,anchorOrigin:"bottom-right",transformOrigin:"top-left",children:f.jsx(rde,{options:n,setShowMenu:d})})]})},oGe=32,ad=16,sGe=({isLoading:e=!1})=>{var t,n,r;const{t:i}=Xe(),[o,s]=x.useState(!1),{primaryWallet:a,network:l,user:c,removeWallet:d}=je(),{clearStackAndPushInitialView:u}=At(),h=Xu(),m=vo(),{setDynamicWidgetView:v,headerAlert:y}=Jc(),{isTurnkeyWalletWithoutAuthenticator:g}=da(),b=a==null?void 0:a.address,k=$3(a??void 0),{getEOAWallet:_}=xs(),{data:R}=vr(()=>de(void 0,void 0,void 0,function*(){return!!(yield a==null?void 0:a.connector.isTestnet())}),{deps:[l],initialData:!1}),I=BHe(a==null?void 0:a.connector,m==null?void 0:m.providers),{showAlert:T}=av(),D=(t=a&&_(a))!==null&&t!==void 0?t:a,M=a&&xM(a==null?void 0:a.connector),C=a&&fS(a==null?void 0:a.connector),U=!!(D&&(!((r=(n=D==null?void 0:D.connector)===null||n===void 0?void 0:n.key)===null||r===void 0)&&r.startsWith("turnkey"))),$=x.useCallback(()=>{setTimeout(()=>s(!0),0)},[]),z=x.useCallback(()=>{const N=Fd();N&&d(N,u)},[d,u]),q=[{Icon:f.jsx(jh,{width:ad,height:ad}),callback:()=>(k==null?void 0:k.name)&&navigator.clipboard.writeText(k==null?void 0:k.name),copykey:"dyn_active_wallet_info.options.copy_ens",hide:!(k!=null&&k.name),text:i("dyn_active_wallet_info.options.copy_ens")},{Icon:f.jsx(dHe,{width:ad,height:ad}),callback:$,copykey:"dyn_active_wallet_info.options.view_address",hide:!b,text:i("dyn_active_wallet_info.options.view_address")},{Icon:f.jsx(vHe,{width:ad,height:ad}),callback:z,copykey:"dyn_active_wallet_info.options.disconnect",hide:!b||h!=="connect-only",text:i("dyn_active_wallet_info.options.disconnect")},{Icon:f.jsx(Hde,{width:ad,height:ad}),callback:()=>v("settings"),copykey:"dyn_active_wallet_info.options.settings",endSlot:T()?f.jsx(L3,{variant:"yellow"}):void 0,hide:!U,text:i("dyn_active_wallet_info.options.settings")},{Icon:f.jsx(pHe,{width:ad,height:ad}),callback:I||(()=>Ie.info("No option to export private keys")),copykey:"dyn_active_wallet_info.options.export",hide:!I,text:i("dyn_active_wallet_info.options.export")}],S=R&&!g,A=m==null?void 0:m.sdk.hideNetworkInDynamicWidget,O=()=>M&&!C?f.jsx(QHe,{wallet:a,menuOption:q}):f.jsx(iGe,{wallet:a,nameServiceName:(k==null?void 0:k.name)||(c==null?void 0:c.email),menuOption:q,isLoading:e,fullWidth:A,addressTypeLabel:JPe((a==null?void 0:a.chain)||(a==null?void 0:a.connector.connectedChain),!!C,b)});return e?f.jsxs("div",{className:"active-wallet-information-container active-wallet-information-container--loading","data-testid":"active-wallet-information",children:[f.jsx("div",{className:"active-wallet-information active-wallet-information--loading",children:f.jsxs("div",{className:"active-wallet-information__header",children:[f.jsx("div",{className:"active-wallet-information__avatar",children:f.jsx("div",{className:"active-wallet-information__wallet-img",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-avatar"})})}),f.jsxs("div",{className:"active-wallet-information__details",children:[f.jsxs("div",{className:"active-wallet-information__addresses-container active-wallet-information__addresses-container--loading",children:[f.jsx("div",{className:"active-wallet-information__handle-row",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-handle"})}),f.jsx("div",{className:"active-wallet-information__handle-row",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-address"})})]}),!A&&f.jsx("div",{className:"active-wallet-information__network-picker",children:f.jsx(Vo,{className:"active-wallet-information__skeleton-network"})})]})]})}),f.jsx(cJ,{isLoading:e})]}):f.jsxs("div",{className:"active-wallet-information-container","data-testid":"active-wallet-information",children:[f.jsxs("div",{className:"active-wallet-information",children:[f.jsxs("div",{className:"active-wallet-information__header",children:[f.jsx("div",{className:"active-wallet-information__avatar",children:k!=null&&k.avatar?f.jsx("div",{className:"active-wallet-information__avatar__name-service",children:f.jsx("img",{src:k==null?void 0:k.avatar,alt:""})}):f.jsx("div",{className:"active-wallet-information__wallet-img",children:f.jsx(oj,{iconSize:oGe})})}),f.jsxs("div",{className:"active-wallet-information__details",children:[f.jsx("div",{className:Ke("active-wallet-information__addresses-container",{"active-wallet-information__addresses-container--centered":!(k!=null&&k.name)}),children:O()}),b&&f.jsx(XHe,{open:o,address:b,onClose:()=>s(!1)}),!A&&f.jsx(aj,{currentNetwork:l,connector:a==null?void 0:a.connector,mainClassName:"active-wallet-information__network-picker",buttonClassName:"active-wallet-information__network-picker-button",showNetworkName:!0,isLoading:e})]})]}),y&&f.jsx(tc,{variant:y.variant,children:y.content}),S&&f.jsx(tc,{variant:"warning",copykey:"dyn_active_wallet_info.testnet_warning",children:i("dyn_active_wallet_info.testnet_warning")})]}),f.jsx(cJ,{})]})},Zde=e=>{var t,n;return((n=(t=e==null?void 0:e.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.defaultWalletVersion)===Lc.V3},aGe=()=>{const e=cD(),t=Xu(),n=rv();return{isLoadingEmbeddedWallet:x.useMemo(()=>{var i,o;if(!Zde(n)||!$h(n))return!1;const s=(i=e==null?void 0:e.verifiedCredentials)===null||i===void 0?void 0:i.some(l=>l.format==="email"),a=(o=e==null?void 0:e.verifiedCredentials)===null||o===void 0?void 0:o.some(l=>l.format==="blockchain");return t==="connect-only"?s?!a:!1:!a},[n,e,t])}},Yde=Vt.memo(({connector:e})=>{const{setDynamicWidgetView:t}=Jc(),n=()=>{t("global-wallet")};return e.globalWallet?f.jsx(xt,{expanded:!0,dataTestId:"link-button",buttonPadding:"small",buttonVariant:"primary",onClick:n,startSlot:f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(Wde,{})}),children:"Connect"}):null});Yde.displayName="LinkButton";const Xde=({variant:e})=>{const{primaryWallet:t,user:n}=je(),{open:r}=sHe(),{setDynamicWidgetView:i,setIsOpen:o}=Jc(),{isLoadingEmbeddedWallet:s}=aGe(),{t:a}=Xe(),l=x.useMemo(()=>{const u=t==null?void 0:t.connector;return u?kM(u):!1},[t==null?void 0:t.connector]),c=()=>{e==="dropdown"?(o(!1),r().catch(u=>Ie.error(u))):i("send-balance")},d=()=>t||s?f.jsx(sGe,{isLoading:s}):f.jsx("div",{className:"dynamic-widget-wallet-header__icon-container",children:f.jsx(zde,{user:n})});return f.jsxs("div",{className:"dynamic-widget-wallet-header","data-testid":"dynamic-widget-wallet-header",children:[d(),t?f.jsxs("div",{"data-testid":"primaryWalletStatus",className:"dynamic-widget-wallet-header__wallet-info",children:[f.jsx(xKe,{className:"dynamic-widget-wallet-header__wallet-info__secure-wallet"}),f.jsxs("div",{className:"dynamic-widget-wallet-header__wallet-actions",children:[f.jsx(xt,{expanded:!0,dataTestId:"buy-crypto-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>i("choose-wallet-funding-method"),startSlot:f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(Fde,{})}),copykey:"dyn_widget_header.buttons.deposit_funds",children:a("dyn_widget_header.buttons.deposit_funds")}),l&&f.jsx(xt,{expanded:!0,dataTestId:"send-balance-button",buttonPadding:"small",buttonVariant:"primary",onClick:c,startSlot:f.jsx(Nt,{size:"small",color:"text-secondary",children:f.jsx(wKe,{})}),copykey:"dyn_widget_header.buttons.send_funds",children:a("dyn_widget_header.buttons.send_funds")}),f.jsx(Yde,{connector:t.connector})]})]}):f.jsx(se,{className:"dynamic-widget-wallet-header__email",variant:"body_normal",weight:"regular",children:!s&&qde(n)})]})};Vt.memo(Xde);const lGe=({variant:e})=>{const{overridenWidgetView:t}=Jc(),{multiWallet:n}=je();return f.jsxs("div",{className:"dynamic-widget-header",children:[f.jsx(pj,{className:"dynamic-widget-header__passkey-success"}),(t==="wallets"||t==="profile"&&!n)&&f.jsx(Xde,{variant:e})]})};Vt.memo(lGe);const Qde=({className:e,networkIcon:t,networkName:n,children:r})=>{const{t:i}=Xe();return f.jsxs("div",{className:Ke("dynamic-bridge-wallet-card",e),children:[f.jsxs("div",{className:"dynamic-bridge-wallet-card__network",children:[t&&Vt.cloneElement(t,{className:"dynamic-bridge-wallet-card__network-icon"}),n&&f.jsx(se,{className:"dynamic-bridge-wallet-card__network-name",variant:"body_small",color:"primary",weight:"medium",as:"span",copykey:"dyn_bridge.widget.wallet_network",children:i("dyn_bridge.widget.wallet_network",{networkName:n})})]}),r]})},cGe=({address:e,ens:t,balance:n,icon:r,network:i,menu:o})=>{const{t:s}=Xe(),a=x.useMemo(()=>{const l=Ni(e);return t?f.jsxs(f.Fragment,{children:[f.jsx(se,{color:"primary",variant:"body_normal",truncate:!0,children:t}),f.jsx(se,{weight:"regular",variant:"body_small",color:"secondary",children:l})]}):f.jsx(se,{weight:"medium",variant:"body_normal",color:"primary",children:l})},[t,e]);return f.jsxs("div",{className:"wallet-information-card",children:[f.jsxs("div",{className:"wallet-information-card__header",children:[f.jsxs("div",{className:"wallet-information-card__details-container",children:[r&&f.jsx(Nt,{className:"wallet-information-card__icon",children:r}),f.jsx("div",{className:"wallet-information-card__details",children:a}),f.jsx("div",{className:"wallet-information-card__menu",children:o})]}),i]}),f.jsxs("div",{className:"wallet-information-card__balance-container",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:"dyn_wallet_information.balance",children:s("dyn_wallet_information.balance")}),n]})]})},eue=({walletAddress:e,walletBalance:t,walletKey:n,onDisconnectClick:r})=>{const{t:i}=Xe(),o=$3({address:e}),s=[{Icon:null,callback:()=>(o==null?void 0:o.name)&&navigator.clipboard.writeText(o==null?void 0:o.name),copykey:"dyn_bridge.widget.copy.ens",hide:!(o!=null&&o.name),text:i("dyn_bridge.widget.copy.ens")},{Icon:null,callback:()=>e&&navigator.clipboard.writeText(e),copykey:"dyn_bridge.widget.copy.address",hide:!e,text:i("dyn_bridge.widget.copy.address")},{Icon:null,callback:()=>r==null?void 0:r(),copykey:"dyn_bridge.widget.disconnect",hide:!r,text:i("dyn_bridge.widget.disconnect")}];return f.jsx(cGe,{ens:o==null?void 0:o.name,address:e,icon:f.jsx(oi,{walletKey:n}),balance:t,menu:f.jsx(ide,{options:s}),copykey:"dyn_bridge.widget"})},dGe=({chain:e})=>{const{t}=Xe(),{bridgeChainsToConnect:n,setShowAuthFlow:r,setShowBridgeWidget:i}=je();if(!(n!=null&&n.length)||!e)return null;const o=Uc(e),s=Hc(e);return f.jsxs("div",{role:"button",className:"dynamic-bridge-widget-empty-card","data-testid":"dynamic-bridge-widget-empty-card",onClick:()=>{i(!1),r(!0)},children:[f.jsx(s,{className:"dynamic-bridge-widget-empty-card__icon"}),f.jsx(se,{variant:"body_normal",weight:"medium",as:"span",color:"primary",className:"dynamic-bridge-widget-empty-card__text",copykey:"dyn_bridge.widget.connect_with_network",children:t("dyn_bridge.widget.connect_with_network",{blockchainName:o==null?void 0:o.blockchainName})})]})},uGe=({hideUnlinkAction:e=!1})=>{const{disconnectWallet:t,bridgeChains:n,connectedWallets:r,primaryWalletId:i}=je(),o=x.useMemo(()=>{var c;return(c=n==null?void 0:n[1])===null||c===void 0?void 0:c.chain},[n]),s=x.useMemo(()=>r.find(c=>c.id!==i&&c.chain===o),[r,i,o]),a=s&&Hc(s==null?void 0:s.chain),l=s&&Uc(s==null?void 0:s.chain);return f.jsxs(f.Fragment,{children:[!s&&f.jsx(dGe,{chain:o}),s&&a&&f.jsx(Qde,{networkIcon:f.jsx(a,{}),networkName:l==null?void 0:l.displayName,children:f.jsx(eue,{walletKey:s.connector.key,walletAddress:s.address,walletBalance:f.jsx(lj,{wallet:s,network:s.chain}),onDisconnectClick:e?void 0:()=>t(s.id)},s.id)})]})},fGe=Vt.memo(uGe),uJ=["apple","coinbasesocial","discord","epicgames","facebook","farcaster","github","google","kraken","line","shopify","spotify","tiktok","telegram","twitch","twitter"],hGe=["twitter","github"],U3=({onSettled:e,onError:t,onFarcasterUrl:n})=>{var r;const{environmentId:i,setShowAuthFlow:o,socialSettings:s,projectSettings:a,redirectUrl:l}=je(),c=x.useMemo(()=>(s==null?void 0:s.strategy)||"redirect",[s]),{setErrorMessage:d,setError:u}=so(),{initAuth:h}=of({authMethod:"social"}),{generateSessionKey:m,shouldRegisterSessionKeysOnSignin:v}=Km({environmentId:i,projectSettings:a}),[y,g]=x.useState(!1),[b,k]=x.useState(),{engageCaptcha:_}=Hd(),R=x.useCallback(()=>{k(void 0),u(void 0)},[u]),I=x.useCallback((S,A,O)=>{g(!1),t==null||t(A.error),e==null||e(),S&&(O!=null&&O.raiseAuthFailure)&&rt.emit("authFailure",{option:S,provider:S,type:"social"},A)},[t,e]),T=x.useCallback((S,A,O,N)=>{const j={code:A,message:O};Ie.error(O),k(j),d(A),I(S,{error:j},N)},[I,d]),D=x.useCallback((S,A)=>S?uJ.includes(S)?!0:(T(S,ti.INVALID_PROVIDER,`Invalid social provider. Valid providers are: ${uJ.join(", ")}`,{raiseAuthFailure:A==="signin"}),!1):(T(S,ti.NO_PROVIDER,"Provider is required",{raiseAuthFailure:A==="signin"}),!1),[T]),M=x.useCallback((S,A)=>de(void 0,void 0,void 0,function*(){try{if(!(yield A())){T(S,ti.VERIFICATION_ERROR,`Failed to link social account: ${S}`,{raiseAuthFailure:!1});return}e==null||e()}catch(O){O instanceof Hie&&T(S,ti.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE,`Social account already linked to a different profile: ${S}`,{raiseAuthFailure:!1})}}),[T,e]),C=x.useCallback((S,A)=>de(void 0,void 0,void 0,function*(){yield h({onError:()=>T(S,ti.SIGNIN_ERROR,`Failed to sign-in with social account: ${S}`,{raiseAuthFailure:!0}),onSettled:e,options:{provider:S},verifyFunction:()=>A()})}),[T,h,e]),U=x.useCallback(S=>de(void 0,[S],void 0,function*({authMode:A,provider:O,state:N,authCode:j,captchaToken:V,verifier:K,telegramAuthToken:W,forceCreateUser:P=!1,ssoProviderId:F}){try{let G;if(Br.logEvent("oauth","completeConnection",Br.formatObject({authMode:A,provider:O,shouldRegisterSessionKeysOnSignin:v()})),v()&&(G=(yield m()).publicKey,Br.logEvent("oauth","completeConnection key generated",Br.formatObject({sessionPublicKey:G}))),A==="signin"){if(yield Fc(),O===pn.Telegram&&W)return yield C(O,()=>lG(i,{captchaToken:V,forceCreateUser:P,sessionPublicKey:G,telegramAuthToken:W}));O===pn.Telegram?yield C(O,()=>lG(i,{captchaToken:V,code:j,sessionPublicKey:G,state:N})):yield C(O,()=>SWe(i,O,{captchaToken:V,code:j,codeVerifier:K,sessionPublicKey:G,ssoProviderId:F,state:N}))}else O===pn.Telegram?yield M(O,()=>AWe(i,{captchaToken:V,code:j,state:N})):yield M(O,()=>xWe(i,O,{code:j,codeVerifier:K,state:N}))}catch(G){throw Ie.error("Social connection failed with unexpected error:",G),I(O,{error:G},{raiseAuthFailure:A==="signin"}),G}}),[i,m,M,I,v,C]),$=x.useCallback((S,A)=>de(void 0,[S,A],void 0,function*(O,{captchaToken:N,redirectUrl:j}){let V;try{V=Nue()}catch{T(pn.Farcaster,ti.GENERAL_ERROR,"Missing nonce",{raiseAuthFailure:O==="signin"});return}const K=Ln.getHost(),W=yield WWe({domain:K,nonce:V,redirectUrl:j||l,siweUri:Ln.getOrigin()});if(!(W!=null&&W.url)||!(W!=null&&W.channelToken)){T(pn.Farcaster,ti.GENERAL_ERROR,"Farcaster didn't return a valid url.",{raiseAuthFailure:O==="signin"});return}rr()?yield Ln.openURL(W.url):(o(!0),n==null||n(W.url));const P=yield zWe({channelToken:W.channelToken});if(P.type==="cancelled"){g(!1);return}if(P.type==="timeout"){T(pn.Farcaster,ti.GENERAL_ERROR,`Farcaster timed out while waiting for connection status. Error: ${P.error}`,{raiseAuthFailure:O==="signin"});return}if(!P.data.message||!P.data.custody||!P.data.signature||!P.data.nonce){T(pn.Farcaster,ti.GENERAL_ERROR,`Farcaster returned invalid data. Expected to be defined: message, custody, signature, nonce. Received: ${JSON.stringify(P.data)}`,{raiseAuthFailure:O==="signin"});return}const{custody:F,message:G,signature:Y,nonce:ie}=P.data;if(O==="signin"){let ye;v()&&(ye=(yield m()).publicKey),yield Fc();const ge=()=>EWe(i,{address:F,captchaToken:N,domain:K,message:G,nonce:ie,sessionPublicKey:ye,signature:Y});yield C(pn.Farcaster,ge)}else{const ye=()=>CWe({environmentId:i,farcasterSignInRequest:{address:F,captchaToken:N,domain:K,message:G,nonce:ie,signature:Y}});yield M(pn.Farcaster,ye),o(!1,{clearErrors:!1})}g(!1)}),[l,i,m,T,M,n,o,v,C]),z=x.useCallback(S=>de(void 0,[S],void 0,function*({authMode:A,provider:O,validator:N,captchaToken:j,isHeadlessSocialSignIn:V,payingWithDynamic:K,triggerFundFromExchangeOnSuccess:W,redirectUrl:P,telegramAuthToken:F,showWidgetAfterConnection:G,forcePopup:Y,ssoProviderId:ie}){var ye,ge;if(R(),g(!0),!A){Ie.error('Auth mode is required. Please use either "link" or "signin"');return}if(!D(O,A)||N&&!N(O))return;if(rt.emit("authInit",{option:O,provider:O,type:"social"}),O===pn.Farcaster)return $(A,{captchaToken:j,redirectUrl:P});const be=e1(32),Le=e1(43),qe=hGe.includes(O);DWe(O,{captchaToken:j,codeVerifier:qe?Le:void 0,dynamicOauthSsoProviderId:ie,isHeadlessSocialSignIn:V,mode:A,payingWithDynamic:K,showWidgetAfterConnection:G,state:be,triggerFundFromExchangeOnSuccess:W});const Me=BWe((ye=a==null?void 0:a.providers)!==null&&ye!==void 0?ye:[],O);if(!Me){T(O,ti.NO_OAUTH_URL,`Failed to get login url to connect social account: ${O}`,{raiseAuthFailure:A==="signin"});return}const gt=new URL(Me);if(gt.searchParams.set("state",be),qe){const dt=yield RWe(Le);gt.searchParams.set("code_challenge",TWe(dt)),gt.searchParams.set("code_challenge_method","S256")}const tt=rr();try{const dt=Y?"popup":c,Xt=yield lS.getOauthCode({apiProvider:WD((ge=a==null?void 0:a.providers)!==null&&ge!==void 0?ge:[],O),getOAuthResultFromApi:()=>IWe(i,O,{state:be}),initWebAuth:({redirectUrl:lt}={})=>_We(i,O,{redirectUrl:lt?pGe(lt):void 0,state:be}),isMobile:tt,oauthLoginUrl:gt,onSettled:e,provider:O,redirectUrl:P??l,setIsProcessing:g,state:be,strategy:dt});yield U({authCode:Xt,authMode:A,captchaToken:j,provider:O,ssoProviderId:ie,state:be,telegramAuthToken:F,verifier:Le})}catch(dt){if(lS.isGetOauthCodeError(dt))throw T(O,dt.code,dt.message,{raiseAuthFailure:A==="signin"}),dt;Ie.error("Social connection failed with unexpected error:",dt.message,dt),I(O,{error:dt},{raiseAuthFailure:A==="signin"})}}),[D,R,U,$,l,i,T,I,e,a==null?void 0:a.providers,c]),q=x.useCallback(S=>de(void 0,void 0,void 0,function*(){var A;if(S.authMode==="signin"&&Js().user)throw new Se("User is already logged in");if(S.authMode==="link"&&!Js().user)throw new Se("User is not logged in");if(!(!((A=a==null?void 0:a.security.hCaptcha)===null||A===void 0)&&A.enabled)){yield z(S);return}o(!0,{initializeWalletConnect:!1,performMultiWalletChecks:!1}),_({authMethod:"social",onCaptchaSuccess:O=>de(void 0,void 0,void 0,function*(){yield z(Object.assign(Object.assign({},S),{captchaToken:O})),o(!1)})})}),[o,z,_,(r=a==null?void 0:a.security.hCaptcha)===null||r===void 0?void 0:r.enabled]);return x.useMemo(()=>({checkValidProvider:D,completeConnection:U,connectSocialAccount:q,error:b,handleError:T,isProcessing:y,setError:k,setIsProcessing:g}),[D,U,q,b,T,y])},pGe=e=>{const t=new URL(e);return t.searchParams.delete("dynamicOauthState"),t.searchParams.delete("dynamicOauthCode"),t.toString()},tue=({onError:e}={})=>{var t;const{environmentId:n,user:r,projectSettings:i}=je(),{pushView:o}=At(),{setSocialProvider:s}=sf(),[a,l]=x.useState(new Map),c=x.useCallback((S,A)=>{l(O=>new Map(O).set(S,A))},[]),d=x.useCallback(S=>{var A;return(A=a.get(S))!==null&&A!==void 0?A:!1},[a]),u=x.useCallback(S=>o("farcaster-connect-view",{url:S},{onBackClick:()=>{s(void 0),rt.emit("farcasterConnectCancelled"),rt.emit("authFailure",{option:pn.Farcaster,provider:pn.Farcaster,type:"social"},"user-cancelled")}}),[o,s]),{handleError:h,setError:m,checkValidProvider:v,error:y,connectSocialAccount:g}=U3({onError:e,onFarcasterUrl:u}),b=x.useMemo(()=>{var S,A;const O=(A=(S=r==null?void 0:r.verifiedCredentials)===null||S===void 0?void 0:S.filter(j=>j.format==="oauth"))!==null&&A!==void 0?A:[],N=new Map;return O.forEach(j=>{var V,K;const W=(V=j.oauthProvider)!==null&&V!==void 0?V:j.id,P=(K=N.get(W))!==null&&K!==void 0?K:[];N.set(W,[...P,j])}),Object.fromEntries(N)},[r==null?void 0:r.verifiedCredentials]),k=x.useCallback(S=>{if(!zce(i))return h(S,ti.SOCIAL_LINKING_NOT_ENABLED,"Social linking is not enabled in Information Capture on the dashboard",{raiseAuthFailure:!1}),!1;const A=wWe(i==null?void 0:i.providers);return(A==null?void 0:A.find(N=>N.provider===S))?!0:(h(S,ti.PROVIDER_NOT_ENABLED,`Social linking provider is not enabled in Information Capture on the dashboard: ${S}`,{raiseAuthFailure:!1}),!1)},[h,i]),_=x.useCallback((S,...A)=>de(void 0,[S,...A],void 0,function*(O,{forcePopup:N,redirectUrl:j,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K,payingWithDynamic:W}={forcePopup:!1,payingWithDynamic:void 0,redirectUrl:void 0,showWidgetAfterConnection:!1,triggerFundFromExchangeOnSuccess:void 0}){c(O,!0);try{yield g({authMode:"link",forcePopup:N,payingWithDynamic:W,provider:O,redirectUrl:j,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K,validator:k})}finally{c(O,!1)}}),[k,g,c]),R=x.useCallback((S,A)=>{var O;const N=(O=b[S])!==null&&O!==void 0?O:[];return A?N.find(V=>V.id===A):N[0]},[b]),I=x.useCallback((S,A)=>de(void 0,void 0,void 0,function*(){var O;if(m(void 0),c(S,!0),!v(S,"unlink")){c(S,!1);return}const N=R(S,A);if(!N){h(S,ti.NO_ACCOUNT_LINKED,`No account linked for provider: ${S}`,{raiseAuthFailure:!1}),c(S,!1);return}try{const j=Fd();if(!(yield kWe({environmentId:n,primaryWalletId:j,verifiedCredentialId:(O=N.id)!==null&&O!==void 0?O:""}))){h(S,ti.UNLINK_ERROR,`Failed to unlink social account: ${S} | ${N.id}`,{raiseAuthFailure:!1});return}}catch{h(S,ti.GENERAL_ERROR,`Failed to unlink social account: ${S} | ${N.id}`,{raiseAuthFailure:!1})}finally{c(S,!1)}}),[v,n,h,m,c,R]),T=x.useCallback(S=>{var A;return!!(!((A=b[S])===null||A===void 0)&&A.length)},[b]),D=S=>{const{id:A,oauthAccountId:O,oauthAccountPhotos:N,oauthDisplayName:j,oauthEmails:V,oauthProvider:K,oauthUsername:W,publicIdentifier:P}=S;return{accountId:O??void 0,avatar:N==null?void 0:N[0],displayName:j??void 0,email:V==null?void 0:V[0],id:A,provider:K,publicIdentifier:P,username:W}},M=x.useCallback((S,A)=>{const O=R(S,A);if(O)return D(O)},[R]),C=x.useCallback(S=>{var A;return((A=b[S])!==null&&A!==void 0?A:[]).map(N=>D(N))},[b]),U=x.useCallback(()=>Object.values(b).flat().map(S=>D(S)),[b]),$=x.useCallback(S=>{var A;return bWe((A=i==null?void 0:i.sdk.socialSignIn)===null||A===void 0?void 0:A.providers).find(N=>N===S)?!0:(h(S,ti.PROVIDER_NOT_ENABLED,`Provider is not enabled for sign-in on the dashboard: ${S}`,{raiseAuthFailure:!0}),!1)},[h,(t=i==null?void 0:i.sdk.socialSignIn)===null||t===void 0?void 0:t.providers]),z=x.useCallback((S,...A)=>de(void 0,[S,...A],void 0,function*(O,{redirectUrl:N,payingWithDynamic:j,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K}={redirectUrl:void 0}){c(O,!0);try{yield g({authMode:"signin",isHeadlessSocialSignIn:!0,payingWithDynamic:j,provider:O,redirectUrl:N,showWidgetAfterConnection:V,triggerFundFromExchangeOnSuccess:K,validator:$})}finally{c(O,!1)}}),[$,g,c]),q=x.useMemo(()=>Array.from(a.values()).some(Boolean),[a]);return x.useMemo(()=>({error:y,getAllLinkedAccounts:U,getLinkedAccountInformation:M,getLinkedAccounts:C,isLinked:T,isProcessing:q,isProcessingForProvider:d,linkSocialAccount:_,signInWithSocialAccount:z,unlinkSocialAccount:I}),[y,M,C,T,q,d,_,z,I,U])},F3=()=>x.useCallback(()=>de(void 0,void 0,void 0,function*(){const e=yield T3({environmentId:Qu()});if(!(e!=null&&e.verifiedCredentials))throw new Error("useRefreshUser resulted in an invalid user: no verified credentials found");if(e.verifiedCredentials.some(({id:r})=>r===Fd()))return e;const n=gde(e);return n?(To(n.id),e):(kae(void 0),e)}),[]),dj="https://app.dynamicauth.com/api/v0",uj=()=>{const e=iv(),t=Tae(),n=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!(e!=null&&e.sessionId)||!t)throw new Error("Session ID and public key are required");const i=yield s7e({sessionId:e==null?void 0:e.sessionId});return Ie.instrument("[SessionChaining] Generated session signature",{environmentId:e.projectEnvironmentId,key:"generated_session_signature",sessionId:e.sessionId,sessionPublicKey:t,sessionSignature:i.sessionSignature,time:0}),i.sessionSignature}),[e==null?void 0:e.sessionId,t]),{data:r}=vr(n,{deps:[e==null?void 0:e.sessionId,t],enabled:!!(e!=null&&e.sessionId)&&!!t,initialData:void 0,retries:2});return{getSignedSessionId:n,sessionPublicKey:t,sessionSignature:r}},nue=()=>{const e=x.useCallback((...t)=>de(void 0,[...t],void 0,function*({mfaAction:n}={}){return n?jse({mfaAction:n}):!0}),[]);return x.useCallback((...t)=>de(void 0,[...t],void 0,function*({mfaAction:n}={}){if(yield e({mfaAction:n}))try{return uTe()}catch(i){if(!n){Ie.warn("No MFA token found",i);return}const o=`MFA Token required for this action: ${n}`;throw Ie.error(o,i),new Se(o)}}),[e])},mGe="No enabled embedded wallet chains. Please go to the Dynamic Dashboard, select Embedded Wallets, and then click the gear icon on the top row to enable a new chain.",gGe="Dynamic Waas connector not found",yGe="The following chains are not enabled for embedded wallets",vGe="Failed to create wallet account for the following chains",wGe=e=>typeof e=="object"&&e!==null&&"chain"in e,bGe=(e,t)=>{if(e.length===0)return[];const[n]=e;return wGe(n)?e:e.map(r=>{const i={chain:r};return r===nr.Btc&&t&&(i.bitcoinConfig=t),i})},fJ="dynamicwaas",rue=({walletConnector:e,environmentId:t,apiBaseUrl:n,relayUrl:r,baseClientKeysharesRelayApiUrl:i,authMode:o="header",getSignedSessionId:s,getMfaToken:a})=>{var l;return e.setEnvironmentId(t),e.setBaseApiUrl((l=n||dj)===null||l===void 0?void 0:l.replace("/api/v0","")),o==="cookie"?(e.setWaasAuthMode("cookie"),e.setGetAuthTokenFunction(()=>"")):(e.setWaasAuthMode("header"),e.setGetAuthTokenFunction(KM)),e.setGetSignedSessionIdFunction(s),e.setRelayUrl(r),e.setGetMfaTokenFunction(a),e.setBaseClientKeysharesRelayApiUrl(i),e},tp=()=>{var e,t,n,r,i,o;const{setShowAuthFlow:s,primaryWallet:a}=je(),{addedWalletsIds:l,userWallets:c}=_s(),d=m_(),u=_ae(),h=vo(),m=qm(),v=pD(),y=F3(),g=(t=(e=h==null?void 0:h.sdk)===null||e===void 0?void 0:e.waas)===null||t===void 0?void 0:t.relayUrl,b=(r=(n=h==null?void 0:h.sdk)===null||n===void 0?void 0:n.waas)===null||r===void 0?void 0:r.customKeyshareRelayBaseUrl,k=h==null?void 0:h.sdk.embeddedWallets,_=(i=k==null?void 0:k.chainConfigurations)===null||i===void 0?void 0:i.filter(ie=>ie.enabled),R=_==null?void 0:_.find(ie=>ie.primary),I=_==null?void 0:_.map(ie=>ie.name),T=k==null?void 0:k.automaticEmbeddedWalletCreation,D=k==null?void 0:k.automaticEmbeddedWalletCreationForExternal,C=(k==null?void 0:k.defaultWalletVersion)===Lc.V3,U=KM(),{getSignedSessionId:$}=uj(),z=nue(),q=h&&XM(),S=x.useRef(!1),A=x.useCallback(ie=>{var ye;if(!q&&!U||!v.length||!m)return;const ge=(ye=v.find(Le=>Le.key.includes(fJ)&&Le.walletConnector.connectedChain===ie))===null||ye===void 0?void 0:ye.walletConnector;if(!ge)throw new Se(gGe);return rue({apiBaseUrl:u||dj,authMode:q?"cookie":"header",baseClientKeysharesRelayApiUrl:b,environmentId:m,getMfaToken:z,getSignedSessionId:$,relayUrl:g??"",walletConnector:ge})},[q,U,v,m,u,z,$,g,b]),O=x.useMemo(()=>{var ie;const ye=!!(d!=null&&d.id&&(d!=null&&d.sessionId)),ge=!!(!((ie=d==null?void 0:d.verifiedCredentials)===null||ie===void 0)&&ie.length),be=!!(I!=null&&I.length),Le=!!v.length;return ye&&ge&&C&&be&&Le},[d==null?void 0:d.id,d==null?void 0:d.sessionId,(o=d==null?void 0:d.verifiedCredentials)===null||o===void 0?void 0:o.length,C,I==null?void 0:I.length,v.length]),N=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!(!O||!d))try{const ie=new Date().getTime(),ye=yield $();yield Promise.all((I||[]).map(ge=>de(void 0,void 0,void 0,function*(){const be=A(ge);if(!be)return;const Le=d.verifiedCredentials.filter(qe=>{var Me;return qe.walletName==="dynamicwaas"&&qe.address&&ec[(Me=qe.chain)!==null&&Me!==void 0?Me:""]===be.connectedChain});try{const qe=yield be.getWaasWalletClient();Jn.debug("[useDynamicWaas] initialized waas iframe");const Me=new Date().getTime(),gt=Me-ie;Jn.instrument("Waas iframe initialized",{chain:ge,end:Me,environmentId:d.projectEnvironmentId,key:"waasIframeInitialized",start:ie,time:gt,userId:d==null?void 0:d.id}),Le.length>0&&(yield Promise.all(Le.filter(tt=>tt.address).map(tt=>de(void 0,void 0,void 0,function*(){try{Jn.debug("[useDynamicWaas] restoring wallet keyshare",{chain:tt.chain,sessionId:d.sessionId,userId:d.id,walletAddress:tt.address});const dt=new Date().getTime();yield qe.getWallet({accountAddress:tt.address,signedSessionId:ye,walletOperation:"SIGN_MESSAGE"});const Xt=new Date().getTime(),lt=Xt-dt,jt=Xt-ie;Jn.instrument("Waas wallet keyshare restored",{accountAddress:tt.address,chain:ge,end:Xt,environmentId:d.projectEnvironmentId,key:"waasWalletKeyshareRestored",keyshareRestorationTime:lt,start:ie,time:jt,userId:d==null?void 0:d.id})}catch(dt){Jn.warn("[useDynamicWaas] Error restoring wallet keyshare",{chain:ge,error:dt,sessionId:d.sessionId,userId:d.id,walletAddress:tt.address})}}))))}catch(qe){Jn.error("Error initializing waas wallet client",{chain:ge,error:qe,sessionId:d.sessionId,userId:d.id})}})))}catch(ie){Jn.error("Error initializing waas",{error:ie,sessionId:d.sessionId,userId:d.id})}}),[I,$,A,O,d]),j=x.useCallback((ie,ye,ge)=>de(void 0,void 0,void 0,function*(){if(S.current)return;if(!(I!=null&&I.length))throw new Se(mGe);const be=bGe(ie,ge);(lt=>{const rn=lt.map(Re=>Re.chain).filter(Re=>!I.includes(Re));if(rn.length>0)throw new Se(`${yGe}: ${rn.join(", ")}`)})(be);const qe=(d==null?void 0:d.verifiedCredentials)||[],Me=yield Promise.allSettled(be.map(lt=>de(void 0,void 0,void 0,function*(){const jt=A(lt.chain);if(!jt)throw new Error("No connector");const rn=lt.chain===nr.Btc?lt.bitcoinConfig:void 0,Re=Object.assign({password:ye,thresholdSignatureScheme:"TWO_OF_TWO"},rn&&{bitcoinConfig:rn}),Ze=yield jt.createWalletAccount(Re);return Object.assign(Object.assign({},Ze),{chainName:lt.chain})}))),tt=((lt,jt)=>{const rn=[],Re=[];if(lt.forEach((Ze,ct)=>{if(Ze.status==="rejected"){const st=jt[ct];rn.push(st.chain);const vt=Ze.reason instanceof Error?Ze.reason.message:String(Ze.reason);Re.push(`${st.chain}: ${vt}`)}}),rn.length>0)throw y(),new Se(`${vGe}: ${rn.join(", ")}. Errors: ${Re.join("; ")}`);return lt.map(Ze=>Ze.status==="fulfilled"?Ze.value:void 0)})(Me,be),dt=tt==null?void 0:tt.find(lt=>(lt==null?void 0:lt.chainName)===(R==null?void 0:R.name)),Xt=yield y();if(Xt){const lt=Ede(qe,Xt.verifiedCredentials).filter(({format:Ze})=>Ze===Zo.Blockchain);(Ze=>{Ze.forEach(ct=>{var st,vt,$t;try{const zt=ec[(st=ct==null?void 0:ct.chain)!==null&&st!==void 0?st:""],ce=A(zt);if(!ce)return;const X=ce.createWallet({address:(vt=ct.address)!==null&&vt!==void 0?vt:"",chain:zt,connector:ce,id:ct.id,isAuthenticated:!0,key:($t=ct.walletName)!==null&&$t!==void 0?$t:""});rt.emit("embeddedWalletCreated",X,ct,d?Vm(d):void 0)}catch(zt){Jn.error(zt)}})})(lt);const rn=lt.map(({id:Ze})=>Ze);l.current=l.current.concat(rn),((Ze,ct)=>{if(!Ze)return;const st=ct.verifiedCredentials.find(ce=>{var X,ee,we;return((X=ce.walletName)===null||X===void 0?void 0:X.includes(fJ))&&((ee=ce.address)===null||ee===void 0?void 0:ee.toLowerCase())===((we=Ze.accountAddress)===null||we===void 0?void 0:we.toLowerCase())});if(!st||qe.find(ce=>ce.format==="blockchain"))return;const $t=B3(st,ct.verifiedCredentials),zt=($t==null?void 0:$t.id)||st.id;To(zt)})(dt,Xt)}return s(!1,{performMultiWalletChecks:!1}),tt}),[A,R,I,s,d,y,l]),V=x.useMemo(()=>{var ie;if(!d||!C||!T)return[];const ye=Me=>{var gt,tt;return(tt=(gt=d==null?void 0:d.verifiedCredentials)===null||gt===void 0?void 0:gt.some(dt=>dt.chain&&jae(dt.chain,Me)&&dt.walletProvider===Ao.EmbeddedWallet))!==null&&tt!==void 0?tt:!1};if(!(((ie=d==null?void 0:d.verifiedCredentials)===null||ie===void 0?void 0:ie.some(Me=>Me.format===Zo.Blockchain&&Me.walletProvider!==Ao.EmbeddedWallet))?D:!0))return[];const Le=[];I!=null&&I.includes(nr.Btc)&&(ye(nr.Btc)||Le.push({bitcoinConfig:{addressType:"native_segwit"},chain:nr.Btc}));const qe=I==null?void 0:I.filter(Me=>Me!==nr.Btc&&!ye(Me));return qe==null||qe.forEach(Me=>{Le.push({chain:Me})}),Le},[d,C,T,D,I]),K=ie=>de(void 0,[ie],void 0,function*({chainName:ye,privateKey:ge,addressType:be,legacyWalletId:Le}){const qe=A(ye);qe&&(yield qe.importPrivateKey({addressType:be,chainName:ye,legacyWalletId:Le,privateKey:ge}),yield y())}),W=x.useCallback(ie=>de(void 0,[ie],void 0,function*({privateKey:ye,wallet:ge}){if(S.current=!0,!a)throw new Se("Primary wallet not found");const be=ge.chain,Le=ge.id,qe=A(be);if(!qe)throw new Se("Wallet connector not found");let Me=!1;const gt=(Le==null?void 0:Le.replace("-zerodev",""))||Le;try{yield cDe({environmentId:m,walletId:gt}),Me=!0,yield qe.importPrivateKey({chainName:be,legacyWalletId:gt,privateKey:ye,publicAddressCheck:ge.address}),S.current=!1}catch(tt){throw Me&&(yield dDe({environmentId:m,walletId:gt}),yield y()),S.current=!1,tt instanceof Se?tt:((tt==null?void 0:tt.message)||"").includes("Public address mismatch")?new Se("Public address mismatch. Ensure the private key is copied correctly."):new Se("Upgrade failed, please try again.")}}),[m,A,a,y]),P=x.useCallback(()=>c.filter(ie=>ie.key==="dynamicwaas"),[c]),F=x.useCallback(()=>d!=null&&d.verifiedCredentials?d.verifiedCredentials.filter(ie=>ie.walletName==="dynamicwaas"&&ie.address&&ie.chain&&ec[ie.chain]):[],[d==null?void 0:d.verifiedCredentials]),G=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var ie;if(!(d!=null&&d.verifiedCredentials))return;const ye=d.verifiedCredentials.filter(ge=>{var be;return ge.walletName==="dynamicwaas"&&((be=ge.walletProperties)===null||be===void 0?void 0:be.settings)});for(const ge of ye)try{const be=(ie=ge.walletProperties)===null||ie===void 0?void 0:ie.settings,{address:Le,chain:qe}=ge;if(!be||!Le||!qe)continue;const{shouldRefreshOnNextSignOn:Me,reshareOnNextSignOn:gt,revokeOnNextSignOn:tt}=be,dt=ec[qe],Xt=A(dt);if(!Xt)continue;tt&&(yield Xt.revokeDelegation({accountAddress:Le})),Me&&(yield Xt.refreshWalletAccountShares({accountAddress:Le})),gt&&(yield Xt.reshareWalletAccountShares({accountAddress:Le,thresholdSignatureScheme:gt}))}catch(be){Jn.error("Failed to process wallet settings:",{error:be,wallet:ge})}yield y()}),[d,A,y]),Y=x.useMemo(()=>!(d!=null&&d.verifiedCredentials)||!C?!1:d.verifiedCredentials.some(ie=>{var ye;return ie.walletName==="dynamicwaas"&&((ye=ie.walletProperties)===null||ye===void 0?void 0:ye.settings)&&(ie.walletProperties.settings.shouldRefreshOnNextSignOn||ie.walletProperties.settings.reshareOnNextSignOn||ie.walletProperties.settings.revokeOnNextSignOn)}),[d,C]);return{createWalletAccount:j,dynamicWaasIsEnabled:C,getWaasWalletConnector:A,getWaasWallets:P,getWaasWalletsByCredentials:F,importPrivateKey:K,initializeWaas:N,needsAutoCreateWalletChains:V,needsSettingsProcessing:Y,processSignOnWalletSettings:G,shouldInitializeWaas:O,upgradeToDynamicWaas:W}},_Ge=[Nh.GoogleDrive,Nh.ICloud],xGe=e=>{var t;const n=(t=e.walletProperties)===null||t===void 0?void 0:t.keyShares;return!n||!Array.isArray(n)?!1:n.some(r=>r&&typeof r=="object"&&"backupLocation"in r&&_Ge.includes(r.backupLocation))},fj=()=>{var e,t;const{setShowAuthFlow:n}=je(),{pushView:r}=At(),i=m_(),o=vo(),s=F3(),{getWaasWalletConnector:a,getWaasWalletsByCredentials:l}=tp(),{linkSocialAccount:c,isLinked:d}=tue(),u=(t=(e=o==null?void 0:o.sdk)===null||e===void 0?void 0:e.waas)===null||t===void 0?void 0:t.backupOptions,h=x.useMemo(()=>d(pn.Google),[d]),[m,v]=x.useState({currentIndex:0,failedIndex:null,hasError:!1,isComplete:!1,isProcessing:!1,totalWallets:0}),y=x.useRef(null);x.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const g=x.useCallback(()=>l().map(A=>({address:A.address,chain:ec[A.chain],status:xGe(A)?"backed-up":"pending"})),[l]),b=x.useCallback(()=>g().filter(A=>A.status==="pending").map(({address:A,chain:O})=>({address:A,chain:O})),[g]),k=x.useMemo(()=>{const A=g();return A.length>0&&A.every(O=>O.status==="backed-up")},[g]),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var A;if(h)return!0;try{yield c(pn.Google,{forcePopup:!0,showWidgetAfterConnection:!1});const O=yield s();return!!((A=O==null?void 0:O.verifiedCredentials)===null||A===void 0?void 0:A.some(j=>j.format==="oauth"&&j.oauthProvider===pn.Google))}catch(O){return Ie.warn("Error linking Google account for backup",{error:O}),!1}}),[h,c,s]),R=x.useCallback((A,O)=>de(void 0,void 0,void 0,function*(){try{const N=a(O);return N?(yield N.displayICloudSignIn({displayContainer:A}),!0):(Ie.warn("No WaaS connector found for showing iCloud auth",{chain:O}),!1)}catch(N){return Ie.warn("Error showing iCloud auth",{error:N}),!1}}),[a]),I=x.useCallback(A=>de(void 0,void 0,void 0,function*(){try{const O=a(A);return O?yield O.isICloudAuthenticated():(Ie.warn("No WaaS connector found for checking iCloud auth",{chain:A}),!1)}catch(O){return Ie.warn("Error checking iCloud auth",{error:O}),!1}}),[a]),T=x.useCallback(A=>de(void 0,void 0,void 0,function*(){try{const O=a(A);if(!O){Ie.warn("No WaaS connector found for hiding iCloud auth",{chain:A});return}yield O.hideICloudSignIn()}catch(O){Ie.warn("Error hiding iCloud auth",{error:O})}}),[a]),D=x.useCallback((A,...O)=>de(void 0,[A,...O],void 0,function*(N,j=ra.GoogleDrive,V){try{const K=a(N.chain);return K?(j===ra.GoogleDrive?yield K.backupKeySharesToGoogleDrive({accountAddress:N.address}):j===ra.ICloud&&(yield K.backupKeySharesToICloud({accountAddress:N.address})),!0):(Ie.warn("No WaaS connector found for wallet",{address:N.address}),!1)}catch(K){return Ie.warn("Error backing up wallet",{address:N.address,error:K}),!1}}),[a]),M=x.useCallback((A,...O)=>de(void 0,[A,...O],void 0,function*(N,j=ra.GoogleDrive,V){const K=N??b();for(const W of K)yield D(W,j,V);yield s()}),[b,D,s]),C=x.useCallback((A,...O)=>de(void 0,[A,...O],void 0,function*(N,j=0,V=ra.GoogleDrive,K){y.current&&(clearTimeout(y.current),y.current=null);const W=b();if(W.length===0){N==null||N();return}v(P=>Object.assign(Object.assign({},P),{failedIndex:null,hasError:!1,isProcessing:!0,totalWallets:W.length}));for(let P=j;P<W.length;P++)if(v(G=>Object.assign(Object.assign({},G),{currentIndex:P+1})),!(yield D(W[P],V,K))){v(G=>Object.assign(Object.assign({},G),{failedIndex:P,hasError:!0,isProcessing:!1}));return}yield s(),v(P=>Object.assign(Object.assign({},P),{isComplete:!0,isProcessing:!1})),N&&(y.current=setTimeout(N,1e3))}),[b,D,s]),U=x.useCallback(()=>{if(!i)throw new Error(Kr);n(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),r("waas-backup-progress-view")},[n,r,i]),$=x.useCallback(A=>de(void 0,void 0,void 0,function*(){const O=u1[A];return O.requiresOAuth&&O.oauthProvider?_():!0}),[_]),z=x.useCallback(A=>u1[A].requiresOAuth?h:!0,[h]),q=x.useCallback((A,O)=>de(void 0,void 0,void 0,function*(){try{const{provider:N,password:j}=A,V=a(O.chain);return V?(N===ra.GoogleDrive?yield V.backupKeySharesToGoogleDrive({accountAddress:O.address,password:j}):N===ra.ICloud&&(yield V.backupKeySharesToICloud({accountAddress:O.address,password:j})),!0):(Ie.warn("No WaaS connector found for wallet",{address:O.address}),!1)}catch(N){return Ie.warn("Error backing up to cloud provider",{error:N,options:A}),!1}}),[a]),S=x.useCallback(()=>eqe(u),[u]);return{areAllWalletsBackedUp:k,backupAllWallets:M,backupState:m,backupToCloudProvider:q,backupWallet:D,checkICloudAuth:I,ensureGoogleLinked:_,ensureProviderLinked:$,getSupportedProviders:S,getWalletsBackupStatus:g,getWalletsToBackup:b,hideICloudAuth:T,initBackupProcess:U,isGoogleLinked:h,isProviderLinked:z,showICloudAuth:R,startBackup:C}},kGe=(e,t=ra.GoogleDrive,n)=>{const{backupState:r,startBackup:i}=fj(),o=x.useRef(!1),s=x.useRef(e);s.current=e;const a=u1[t],l=x.useCallback(()=>{if(!o.current){if(a.requiresIframe&&!n)throw new Error(`${a.name} backup requires iframe to be ready`);o.current=!0,i(()=>s.current(),0,t,n)}},[i,t,n,a]),c=x.useCallback(()=>{var d;o.current=!1;const u=(d=r.failedIndex)!==null&&d!==void 0?d:0;o.current=!0,i(()=>s.current(),u,t,n)},[i,r.failedIndex,t,n]);return x.useEffect(()=>{o.current||a.requiresIframe||l()},[a.requiresIframe,l]),Object.assign(Object.assign({},r),{retry:c,start:l})},SGe=e=>{const{getWaasWalletConnector:t,getWaasWalletsByCredentials:n}=tp(),[r,i]=x.useState({currentIndex:0,failedIndex:null,hasError:!1,isComplete:!1,isProcessing:!1,totalWallets:0}),o=x.useRef(!1),s=x.useRef(e);s.current=e;const a=x.useMemo(()=>n().map(u=>({address:u.address,chain:ec[u.chain]})),[n]),l=x.useCallback(u=>de(void 0,void 0,void 0,function*(){try{const h=t(u.chain);return h?(yield h.exportClientKeyshares({accountAddress:u.address}),!0):(Ie.warn("No WaaS connector found for wallet",{address:u.address}),!1)}catch(h){return Ie.warn("Error downloading key share",{address:u.address,error:h}),!1}}),[t]),c=x.useCallback((...u)=>de(void 0,[...u],void 0,function*(h=0){if(!(o.current||a.length===0)){o.current=!0,i(m=>Object.assign(Object.assign({},m),{currentIndex:h,failedIndex:null,hasError:!1,isComplete:!1,isProcessing:!0,totalWallets:a.length}));for(let m=h;m<a.length;m++)if(i(y=>Object.assign(Object.assign({},y),{currentIndex:m+1})),!(yield l(a[m]))){i(y=>Object.assign(Object.assign({},y),{failedIndex:m,hasError:!0,isProcessing:!1})),o.current=!1;return}if(i(m=>Object.assign(Object.assign({},m),{isComplete:!0,isProcessing:!1})),o.current=!1,s.current){const m=a.length;setTimeout(()=>{var v;return(v=s.current)===null||v===void 0?void 0:v.call(s,m)},500)}}}),[a,l]),d=x.useCallback(()=>{var u;const h=(u=r.failedIndex)!==null&&u!==void 0?u:0;c(h)},[c,r.failedIndex]);return Object.assign(Object.assign({},r),{retry:d,startDownload:()=>c(0)})},iue=()=>{const{bridgeChains:e,bridgeChainsToConnect:t,setShowAuthFlow:n,bridgeOnboardingCompleted:r,setBridgeOnboardingCompleted:i}=je(),{pushView:o,clearStackAndPushInitialView:s}=At();return{handleWalletsToConnect:({walletConnector:l})=>{if(!e){n(!1);return}if(!t){i(!0),n(!1);return}if(t.length===0||!l||!l.connectedChain)return n(!1),s();if(t.filter(u=>u.chain!==(l==null?void 0:l.connectedChain)).length===0){r?(n(!1),s()):(i(!0),o("bridge-summary"));return}o("bridge-next-wallet-connection")}}},IGe=["bloctoevm","perawallet","metamaskstarknet"],oue=(e,t)=>de(void 0,void 0,void 0,function*(){const n=Hb(e);if(n==="walletConnect"||n==="qrCode")return;IGe.forEach(i=>{e.key===i&&t("pending-connect")}),(yield e.getConnectedAccounts()).length===0&&t("pending-connect")}),uv=()=>wl()==="connect-only",EGe=5500,PN=()=>{EO(!1)},CGe=()=>{const e=setTimeout(()=>{PN(),clearTimeout(e),rt.removeListener("walletAdded",PN)},EGe)},hj=({shouldUpdateWallets:e=!0,shouldCallCallback:t=!0}={})=>{const{pushView:n,clearStackAndPushInitialView:r,replaceView:i}=At(),{engageCaptcha:o,getCaptchaToken:s}=Hd(),{setErrorMessage:a,setError:l,setDefaultError:c}=so(),{connectWallet:d,displaySiweStatement:u,environmentId:h,projectSettings:m,networkValidationMode:v,setIsSingleWalletAccount:y,setShowAuthFlow:g,walletUiUtils:b}=je(),{handleWalletsToConnect:k}=iue(),_=V3({displaySiweStatement:u,environmentId:h,projectSettings:m,setIsSingleWalletAccount:y}),R=(D,M,C)=>de(void 0,void 0,void 0,function*(){!vm(D)||aq(D)?(i("pending-signature"),g(!0)):b.disabledConfirmationOnce(),yield Fc(),yield _({captchaToken:C,publicWalletAddress:M,walletConnector:D})}),I=D=>{var M;(D==null?void 0:D.code)==="user-cancelled"||Ie.debug(D),r(),D instanceof u0?l(D.message,D.code):a((M=D==null?void 0:D.code)===null||M===void 0?void 0:M.toString())},T=D=>{D instanceof FF||(r(),D instanceof u0?l(D.message,D.code):c())};return D=>de(void 0,[D],void 0,function*({walletConnector:M,getAddressOpts:C=void 0}){var U;const $=new $m,z=()=>de(void 0,void 0,void 0,function*(){EO(!1),$.reject(new FF)});try{rt.on("goBack",z),rt.on("authFlowClose",z),rt.once("walletAdded",PN),EO(!0),yield oue(M,n),vm(M)&&(bM(M)?n("email-wallet-otp-verification-view"):aq(M)||n("wait-for-email-confirmation-view"));const q=d(M,C,{applyHandleConnectedWallet:t});try{yield Promise.race([q,$.promise])}catch(V){T(V);return}const S=yield q;if(!(S!=null&&S.address)){T();return}const{address:A}=S,O=yield M.getNetwork(!0);if(!eg({network:O,walletConnector:M})&&(v==="always"||v==="sign-in"))return LD(M)?n("network-not-supported"):n("network-not-supported-manual");if(uv()){ot.setItem(Yu,M.key),e&&k({walletConnector:M});return}if(!((U=m==null?void 0:m.security.hCaptcha)===null||U===void 0)&&U.enabled){o({authMethod:"wallet",onCaptchaSuccess:V=>de(void 0,void 0,void 0,function*(){try{yield R(M,A,V)}catch(K){I(K)}})});return}yield R(M,A,s())}catch(q){I(q)}finally{CGe(),rt.removeListener("goBack",z),rt.removeListener("authFlowClose",z)}})},sue=()=>{const{pushView:e,clearStackAndPushInitialView:t}=At(),{setErrorMessage:n}=so(),{getCaptchaToken:r,engageCaptcha:i}=Hd(),{connectWallet:o,displaySiweStatement:s,projectSettings:a,environmentId:l,networkValidationMode:c,setIsSingleWalletAccount:d,setShowAuthFlow:u}=je(),{handleWalletsToConnect:h}=iue(),m=V3({displaySiweStatement:s,environmentId:l,projectSettings:a,setIsSingleWalletAccount:d}),v=b=>{var k;Ie.debug(b),!(b instanceof sO&&rr())&&(t(),n((k=b.code)!==null&&k!==void 0?k:b.toString()))};return{onlyConnectUser:b=>de(void 0,[b],void 0,function*({walletConnector:k,getAddressOpts:_=void 0,shouldShowPendingConnectView:R=!0}){var I;R&&(yield oue(k,e));try{if(yield o(k,_),uv()){ot.setItem(Yu,k.key),h({walletConnector:k});return}if(!((I=a==null?void 0:a.security.hCaptcha)===null||I===void 0)&&I.enabled){i({authMethod:"wallet",onCaptchaSuccess:T=>de(void 0,void 0,void 0,function*(){u(!0),e("pending-signature")})});return}u(!0),e("pending-signature")}catch(T){v(T);return}}),signAlreadyConnectedUser:b=>de(void 0,[b],void 0,function*({walletConnector:k,getAddressOpts:_=void 0}){try{const R=yield o(k,_);if(!(R!=null&&R.address))return;const I=yield k.getNetwork(!0);if(!eg({network:I,walletConnector:k})&&(c==="always"||c==="sign-in"))return LD(k)?e("network-not-supported"):e("network-not-supported-manual");yield Fc(),yield m({captchaToken:r(),publicWalletAddress:R.address,walletConnector:k})}catch(R){v(R);return}})}},np=()=>{const{setMultiWalletWidgetState:e}=je(),{onlyConnectUser:t}=sue(),n=hj(),{pushView:r}=At(),i=o=>de(void 0,[o],void 0,function*({requiresTwoStepAuthentication:s,walletConnector:a}){const l=wl();s||l==="connect-only"?(r("pending-connect"),yield t({walletConnector:a})):e("awaiting_signature",void 0,"linking_new_wallet")});return lde({allowAlreadyConnectedWallet:!1,onConnectOnly:t,onCustodialWallet:i,onInstalledExtension:i,onQrCodeConnect:n})},aue=Vt.createContext(void 0),W3=()=>{const e=Vt.useContext(aue);if(e===void 0)throw new Error("usage of useWalletGroupContext not wrapped in `WalletGroupContextProvider`.");return e},AGe=({children:e})=>{const[t,n]=Vt.useState(),{pushView:r}=At(),{handleWalletItemClick:i}=np(),s={navigateToWalletGroup:Vt.useCallback((a,{onSelectWallet:l}={})=>{n(a);const c=Wce(a),d={"multi-chain":"wallet-group","multi-wallet":"select-wallet-in-wallet-group"},u=c?d[c]:d["multi-chain"];r(u,{onSelectWallet:l??i})},[i,r]),selectedWalletGroup:t};return f.jsx(aue.Provider,{value:s,children:e})};var S0;(function(e){e[e.CREATED=0]="CREATED",e[e.EDITED=1]="EDITED"})(S0||(S0={}));const pj=({className:e})=>{const{passkeySuccessPopup:t}=je(),{t:n}=Xe();return f.jsxs(Ku,{animationComponent:f.jsx(v_,{}),children:[t===S0.EDITED&&f.jsx(Lr,{variant:"success",className:e,copykey:"dyn_passkey_success.edited",children:n("dyn_passkey_success.edited")}),t===S0.CREATED&&f.jsx(Lr,{variant:"success",className:e,copykey:"dyn_passkey_success.created",children:n("dyn_passkey_success.created")})]})},Ku=({children:e,animationComponent:t})=>{const[n,r]=x.useState(!0),i=Ple(),o=x.useRef(null),s=x.useMemo(()=>!!e,[e]),a=oje(s),l=x.useCallback(()=>{o.current=null,i()},[i]);return x.useEffect(()=>{x.isValidElement(e)&&(o.current=x.Children.map(e,c=>x.cloneElement(c)))},[e]),x.useEffect(()=>{s&&!a&&r(!0),a&&!s&&r(!1)},[s,a]),x.cloneElement(t,{children:e||o.current,isShown:n,onUnmount:l})},RGe=({isOpen:e,children:t,onClickOverlay:n,style:r,className:i})=>{const o=oqe(e);ov(e&&!o);const s=x.useRef(null);mD(s,()=>n==null?void 0:n());const a=f.jsx(v_,{className:"overlay-card-base__animation",duration:GK}),l=f.jsx(fje,{className:"overlay-card-base__animation",duration:GK}),c=f.jsx("div",{className:Ke("overlay-card-base",{"overlay-card-base--disabled":!e}),style:{position:o===void 0?"fixed":"absolute"},children:e&&f.jsxs(f.Fragment,{children:[f.jsx(Ku,{animationComponent:a,children:f.jsx("div",{onClick:n,className:"overlay-card-base__overlay"})}),f.jsx("div",{className:"overlay-card-base__content-wrapper",children:f.jsx(Ku,{animationComponent:l,children:f.jsx("div",{ref:s,className:Ke("overlay-card-base__content",i),style:r,children:t})})})]})});return o?bm.createPortal(c,o):bm.createPortal(f.jsx(E_,{children:c}),document.body)},lue=x.createContext(void 0),TGe=({children:e,closeDisabled:t})=>{const n=x.useContext(lue),r=f.jsx(Sn,{onClick:n,type:"button",id:"close-button",disabled:t,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsx(Zn,{trailing:r,children:f.jsx(se,{as:"h1",variant:"title",color:"primary",children:e})})},OGe=({children:e,className:t,removePadding:n})=>f.jsx("div",{className:Ke("overlay-card__content",{"overlay-card__content-p0":n},t),"data-testid":"overlay-content",children:e}),jc=({children:e,isOpen:t,onClose:n,className:r,style:i})=>f.jsx(lue.Provider,{value:n,children:f.jsx(RGe,{isOpen:t,onClickOverlay:n,className:r,style:i,children:e})});jc.Header=TGe;jc.Content=OGe;var cue='@layer shadow-reset{.dynamic-shadow-dom-content{all:initial}}@layer preflight{a,hr{color:inherit}progress,sub,sup{vertical-align:baseline}blockquote,body,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,menu,ol,p,pre,ul{margin:0}fieldset,legend,menu,ol,ul{padding:0}*,:after,:before{border:0 solid;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit}hr{border-top-width:1px;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;-moz-appearance:button;appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none;appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;appearance:button;font:inherit}summary{display:list-item}menu,ol,ul{list-style:none}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}}.button{align-items:center;cursor:pointer;display:flex;gap:.375rem;justify-content:center;position:relative;transition:all .2s ease}.button:disabled:not(.button--loading){background-color:var(--dynamic-base-3);cursor:default}.button--expanded{align-self:stretch;flex:1;width:100%}.button--brand-primary{background:var(--dynamic-brand-primary-color);border:var(--dynamic-button-primary-border);box-shadow:var(--dynamic-shadow-down-1);color:#fff;padding:var(--dynamic-button-primary-padding)}.button--brand-primary .spinner{color:var(--dynamic-base-1)!important}.button--brand-primary:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--brand-primary:active:enabled,.button--primary{box-shadow:var(--dynamic-shadow-down-1)}.button--primary{background:var(--dynamic-button-primary-background);border:var(--dynamic-button-primary-border);padding:var(--dynamic-button-primary-padding)}.button--primary:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--primary:active:enabled,.button--secondary{box-shadow:var(--dynamic-shadow-down-1)}.button--secondary{background:var(--dynamic-button-secondary-background);border:var(--dynamic-button-secondary-border);padding:var(--dynamic-button-secondary-padding)}.button--secondary:hover:enabled{background:var(--dynamic-hover)}.button--secondary:active:enabled{background:var(--dynamic-base-3)}.button--tertiary,.button--tertiary .typography{color:var(--dynamic-text-secondary)}.button--tertiary:hover:enabled,.button--tertiary:hover:enabled .typography{color:var(--dynamic-text-primary)}.button--card{background:var(--dynamic-button-primary-background);box-shadow:0 .0625rem .125rem 0 rgba(24,39,75,.04);padding:var(--dynamic-button-primary-padding)}.button--card:hover:enabled{box-shadow:0 .75rem 1.25rem -.375rem rgba(24,39,75,.02),0 1rem 1.625rem -.25rem rgba(24,39,75,.04)}.button--danger{background:var(--dynamic-error-1);border:var(--dynamic-button-primary-border);color:var(--dynamic-base-1);padding:var(--dynamic-button-primary-padding)}.button--danger:hover:enabled{box-shadow:var(--dynamic-button-shadow)}.button--danger:active:enabled{box-shadow:var(--dynamic-shadow-down-1)}.button--padding-default{padding:.625rem 1rem}.button--padding-default,.button--padding-large{border-radius:calc(var(--dynamic-border-radius)/2)}.button--padding-large{padding:.875rem 1.25rem}.button--padding-medium{border-radius:calc(var(--dynamic-border-radius)/3);padding:.625rem 1rem}.button--padding-small{border-radius:calc(var(--dynamic-border-radius)/4);padding:.5rem .75rem}.button--padding-none{padding:0}.button--padding-login-screen-height{border-radius:calc(var(--dynamic-border-radius)/2);min-height:2.5rem;padding:0 1rem}.button__spinner{margin-left:auto;margin-right:auto}.button__end-slot,.button__start-slot{display:inline-flex}.button__spinner-container{align-items:center;bottom:0;color:var(--dynamic-text-primary);display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.button--loading>:not(.button__spinner-container){opacity:0}.accordion-item{overflow:hidden;position:relative;transition-duration:.15s;transition-property:max-height;transition-timing-function:ease-out}.accordion-item--full-height{height:var(--dynamic-modal-height,100vh)}.accordion-item__curtain{background-color:var(--dynamic-overlay);left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.accordion-item__curtain--dimmed{bottom:0;opacity:1}.dyn-accordion-toggle{align-items:center;border:none;border-radius:0;box-shadow:none;display:flex;flex:1;justify-content:space-between}.dyn-accordion-toggle__label{display:flex}.dyn-accordion-toggle__icon{display:flex;transition:transform .3s cubic-bezier(0,0,.24,1)}.dyn-accordion-toggle__icon-open{transform:rotate(-180deg)}.dyn-accordion-toggle:enabled,.dyn-accordion-toggle:enabled:hover{box-shadow:none}.vertical-accordion__container{display:flex;flex-direction:column}.alert{border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:.75rem;justify-content:center;padding:.75rem}.alert--with-icon{justify-content:flex-start}.alert--error{background-color:var(--dynamic-error-2);color:var(--dynamic-error-1)}.alert--warning{background-color:var(--dynamic-base-2);color:var(--dynamic-alert-1)}.alert--info{background-color:var(--dynamic-brand-secondary-color);color:var(--dynamic-brand-primary-color)}.alert--success{background-color:var(--dynamic-success-2);color:var(--dynamic-success-1)}.alert__icon{flex-shrink:0}.badge__container{align-items:center;border-radius:9999px;display:flex;font-size:.625rem;font-weight:500;gap:.25rem;padding:.25rem .5rem;position:relative;transition:color .3s,background-color .3s;white-space:nowrap}.badge__container__primary{background-color:var(--dynamic-badge-primary-background);color:var(--dynamic-badge-primary-color)}.badge__container__secondary{background-color:var(--dynamic-badge-background);color:var(--dynamic-badge-color)}.badge__dot{background-color:var(--dynamic-badge-dot-background);border-radius:9999px;height:.375rem;transition:color .3s,background-color .3s;width:.375rem}.checkbox--hidden{cursor:pointer;display:block;height:1rem;opacity:0;position:absolute;width:1rem;z-index:10}.checkbox--hidden:checked+.checkbox--visible{background:var(--dynamic-brand-primary-color);border-style:none}.checkbox--hidden:checked+.checkbox--visible>.checkbox__icon{opacity:1}.checkbox--hidden:disabled{pointer-events:none}.checkbox--visible{align-items:center;background:var(--dynamic-base-3);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/4);display:flex;height:1rem;justify-content:center;position:absolute;transition-duration:.2s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);width:1rem;z-index:0}.checkbox__container{height:1rem;position:relative;width:1rem}.checkbox__icon{color:#fff;height:.75rem;opacity:0;transition-duration:.2s;transition-property:opacity;width:.75rem}.connect-button{background:var(--dynamic-connect-button-background);border:var(--dynamic-connect-button-border);border-radius:calc(var(--dynamic-connect-button-radius, var(--dynamic-border-radius))/2);box-shadow:var(--dynamic-connect-button-shadow)}.connect-button:hover:enabled{background:var(--dynamic-connect-button-background-hover);border:var(--dynamic-connect-button-border-hover);box-shadow:var(--dynamic-connect-button-shadow-hover)}.connect-button:hover:enabled .typography{color:var(--dynamic-connect-button-color-hover)}.connect-button .typography{color:var(--dynamic-connect-button-color)}.copy-button__container{position:relative}.copy-button__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}@keyframes enter-tile{0%{opacity:0;transform:translateY(.5rem)}to{opacity:1;transform:translateY(0)}}.enter-list-tile-animation{animation-duration:.2s;animation-fill-mode:both;animation-iteration-count:1;animation-name:enter-tile;animation-timing-function:ease-out}.error-container{word-wrap:break-word;align-items:flex-start;display:flex;justify-content:flex-start;margin-bottom:.5rem;overflow:visible;padding:.5rem .75rem;transition:all .3s ease;word-break:break-word}.error-container img,.error-container svg{flex-shrink:0;height:1.25rem;margin-top:.125rem;width:1.25rem}.error-container--error{background:var(--dynamic-error-2);color:var(--dynamic-error-1)}.error-container--info{background:var(--dynamic-base-3);color:var(--dynamic-text-primary)}.error-container--success{background:var(--dynamic-success-2);color:var(--dynamic-success-1)}.error-container--multi-wallet{margin-bottom:.75rem}.error--with-icon{flex:1;margin-left:.875rem;min-width:0}.error-container *{transition:all .3s ease}.icon--color-brand-primary{color:var(--dynamic-brand-primary-color)}.icon--color-text-primary{color:var(--dynamic-text-primary)}.icon--color-text-secondary{color:var(--dynamic-text-secondary)}.icon--color-text-tertiary{color:var(--dynamic-text-tertiary)}.icon--color-text-error{color:var(--dynamic-error-1)}.icon--color-success-1{color:var(--dynamic-success-1)}.icon--size-xsmall{height:.75rem;width:.75rem}.icon--size-small{height:1rem;width:1rem}.icon--size-mini{height:1.25rem;width:1.25rem}.icon--size-medium{height:1.5rem;width:1.5rem}.icon--size-mlarge{height:1.875rem;width:1.875rem}.icon--size-large{height:2.375rem;width:2.375rem}.icon-button{align-items:center;border-radius:100%;color:var(--dynamic-text-tertiary);display:flex;justify-content:center}.icon-button svg:hover{color:var(--dynamic-text-secondary)}.icon-button svg:active{color:var(--dynamic-text-primary)}.indicator__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;bottom:0;display:flex;justify-content:center;position:absolute;right:0}.indicator__icon{background:var(--dynamic-success-1);border-radius:100%}.indicator__wallet-connect{background:#4084ed;bottom:0;color:#fff;position:absolute;right:-.125rem}.icon-with-spinner__container,.indicator__wallet-connect{align-items:center;border-radius:9999px;display:flex;justify-content:center}.icon-with-spinner__container{position:relative}.icon-with-spinner__container img{height:100%;width:100%}.icon-with-spinner__icon-container{align-items:center;display:flex;justify-content:center;position:relative}.icon-with-spinner__spinner-container{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));grid-template-rows:repeat(2,minmax(0,1fr));position:absolute;right:0;top:0}.icon-with-spinner__spinner{grid-column-start:2;grid-row-start:1;height:100%;width:100%}.icon-with-spinner__animation{animation:spin 1.4s linear infinite}.icon-with-status__container{margin-bottom:12px;max-width:-moz-fit-content;max-width:fit-content;position:relative}.icon-with-status__container .icon{border-radius:100%}.icon-with-status__status-dot{bottom:-.125rem;position:absolute;right:-.25rem}.icon-with-status__container .inner-icon__container{background:var(--dynamic-base-1);border-radius:100%;bottom:-.125rem;padding:.1875rem;position:absolute;right:-.1875rem}.icon-with-status__container .inner-icon{border-radius:100%}.icon-with-status__container .inner-icon svg{height:1rem;width:1rem}.icon-with-status__container .inner-icon--green{background:var(--dynamic-success-1)}.icon-with-status__container .inner-icon--red{background:var(--dynamic-error-1)}.icon-with-status__container .inner-icon path{fill:var(--dynamic-base-1)}.icon-with-status__container .status-dot__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;bottom:-.125rem;display:flex;height:.625rem;justify-content:center;position:absolute;right:-.25rem;width:.625rem}.icon-with-status__container .status-dot{border-radius:100%;height:.375rem;width:.375rem}.icon-with-status__container .status-dot--green{background:var(--dynamic-success-1)}.icon-with-status__container .status-dot--red{background:var(--dynamic-error-1)}.info-item__container{color:var(--dynamic-text-tertiary);display:flex}.info-item__container a{text-decoration:underline}.info-item__container .info-item__icon-container{border-radius:calc(var(--dynamic-border-radius)/3);color:var(--dynamic-text-tertiary);display:flex;margin-right:1.125rem}.info-item__container .info-item__icon-container svg{height:1.5rem;width:1.5rem}.info-item__container .info-item__secondary-text{margin-top:.25rem}.phone-number-field{display:flex;flex-direction:column}.phone-number-field__fields{align-items:stretch;display:flex;position:relative;width:100%}.phone-number-field__fields__country-code{align-items:center;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4) 0 0 calc(var(--dynamic-border-radius)*.4);border-right:none;cursor:pointer;display:flex;padding-left:.75rem;position:relative;transition:all .2s ease;width:6.25rem}.phone-number-field__fields__country-code--disabled{background-color:var(--dynamic-base-3);pointer-events:none}.phone-number-field__fields__country-code__flag{margin-right:.5rem}.phone-number-field__fields__country-code__plus{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.phone-number-field__fields__country-code__container{align-items:center;display:flex;flex:1;pointer-events:none}.phone-number-field__fields__country-code .phone-number-field__fields__country-code__container .phone-number-field__fields__country-code__container__input{border:none;flex:1;padding:0;width:100%}.phone-number-field__fields__country-code__chevron{cursor:pointer;position:absolute;right:.5rem;width:1rem}.phone-number-field__fields__phone-number{align-items:center;display:flex;flex:1;position:relative}.phone-number-field__fields .phone-number-field__fields__phone-number .phone-number-field__fields__phone-number__input{border-radius:0 calc(var(--dynamic-border-radius)*.4) calc(var(--dynamic-border-radius)*.4) 0;padding-left:.75rem}.phone-number-field__fields__placeholder{align-self:center;color:var(--dynamic-text-secondary);left:7.0625rem;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.phone-number-field__fields__inline-submit{align-self:center;position:absolute;right:.75rem}.phone-number-field__dropdown{width:calc(var(--dynamic-modal-width) - 3rem)}.phone-number-field__dropdown__items{display:flex;flex-direction:column}.phone-number-field__dropdown__items__country{align-items:center;cursor:pointer;display:flex;gap:.375rem;padding:.375rem .75rem}.phone-number-field__dropdown__items__country__flag{width:1.5rem}.phone-number-field__dropdown__items__country__name{font-size:var(--dynamic-text-size-body-small)}.phone-number-field__dropdown__items__country__code{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small)}.phone-number-field__dropdown__items__country:hover{background-color:var(--dynamic-base-4)}.phone-number-field__dropdown__items__country--selected{background-color:var(--dynamic-base-3)}.phone-number-field__error-message{color:var(--dynamic-error-1);padding:.5rem 0}.phone-number-field input::-webkit-inner-spin-button,.phone-number-field input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.phone-number-field input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.icon-button{--icon-arrow:var(--dynamic-text-tertiary);--icon-background:var(--dynamic-base-3)}.icon-button,.icon-button path,.icon-button rect{transition:all .2s}.icon-button--active,.icon-button:hover{--icon-arrow:var(--dynamic-text-secondary);--icon-background:var(--dynamic-hover)}.icon-button--has-content,.icon-button--has-content:hover{--icon-arrow:var(--dynamic-base-2);--icon-background:var(--dynamic-brand-primary-color)}.input__container{position:relative}.input__container .input__suffix{position:absolute;right:1rem;top:1rem}.input__container .input{background:var(--dynamic-base-2);border-color:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400;margin:0;outline:none;transition:all .2s ease;width:100%}.input__container .input:disabled{background:var(--dynamic-base-3);border-color:var(--dynamic-base-4)}.input__container .input:disabled .input__label{color:var(--dynamic-text-tertiary)}.input__container .input__label{color:var(--dynamic-text-secondary);cursor:text;font-size:.625rem;pointer-events:none}.input__container .input:not(.input__error,.input__success):focus,.input__container .input:not(.input__error,.input__success):hover{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4)}.input__container .input__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.input__container .input__error~.input__label,.input__container .input__error~.input__trailing{color:var(--dynamic-error-1)}.input__container .input__success{border-color:var(--dynamic-success-1)}.input__container .input__success~.input__label,.input__container .input__success~.input__trailing{color:var(--dynamic-success-1)}.input__container .input__has_trailing{padding-right:4rem}.input__container .input__trailing{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.input__container--dense .input{padding:1.125rem .75rem .375rem}.input__container--dense .input::-moz-placeholder{color:transparent}.input__container--dense .input::placeholder{color:transparent}.input__container--dense .input--no-label{padding-block:.75rem}.input__container--dense .input__label{left:.75rem;position:absolute;top:.4375rem;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.input__container--dense .input:-moz-placeholder-shown~.input__label{font-size:.9375rem;top:.75rem}.input__container--dense .input:placeholder-shown~.input__label{font-size:.9375rem;top:.75rem}.input__container--dense .input:focus~.input__label{font-size:.625rem;top:.4375rem}.input__container--regular{display:flex;flex-direction:column}.input__container--regular .input{padding:.75rem}.input__container--regular .input__label{align-items:center;display:inline-flex;font-size:.75rem;line-height:1rem;margin-bottom:.5rem;order:-1}.input__container--regular .input__label:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.input__container--regular .input__suffix{top:2.375rem}.input__message{color:var(--dynamic-text-primary);padding:.5rem 0}.input__message__error{color:var(--dynamic-error-1)}.input__message__success{color:var(--dynamic-success-1)}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{-webkit-transition:background-color 5000s ease-in-out 0s!important;transition:background-color 5000s ease-in-out 0s!important}.list-tile{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:var(--dynamic-wallet-list-tile-padding);transition-duration:var(--dynamic-wallet-list-tile-animation-duration);transition-property:all;transition-timing-function:ease-out;width:100%}.list-tile:not(:disabled):active{transform:scale(.95)}.list-tile:not(:disabled):hover{background-color:var(--dynamic-wallet-list-tile-background-hover);border:var(--dynamic-wallet-list-tile-border-hover);box-shadow:var(--dynamic-wallet-list-tile-shadow-hover)}.list-tile__children{flex-grow:1;text-align:left}.user-wallet{align-items:center;display:flex;height:3.4375rem;justify-content:space-between}.user-wallet__info{align-items:center;display:flex;gap:.5rem}.user-wallet__info__icon{height:1.75rem;width:1.75rem}.user-wallet__info__icon--avatar{border-radius:50%;overflow:hidden}.user-wallet__info__address{display:flex;flex-direction:column;text-align:left}.user-wallets-list{-ms-overflow-style:none;display:flex;flex-direction:column;gap:.5rem;margin-inline:1.5rem;margin-bottom:1.5rem;max-height:100%;overflow-y:auto;scrollbar-width:none}.user-wallets-list::-webkit-scrollbar{display:none}.modal-header{align-items:center;background:var(--dynamic-header-background);display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-header-padding);width:100%}.modal-header--border{border-bottom:var(--dynamic-header-border-bottom)}.modal-header--empty{padding-bottom:0}.modal-header--filled{background:var(--dynamic-base-2)}.modal-header__content{align-items:center;display:flex;justify-content:center;width:100%}.modal-header__content--align-content-bottom{align-items:start}.modal-header__content__leading,.modal-header__content__trailing{align-items:center;display:flex;flex:1;gap:.25rem;height:1.5rem}.modal-header__content__leading--empty,.modal-header__content__trailing--empty{height:0}.modal-header__content__leading{justify-content:flex-start;margin-right:auto}.modal-header__content__trailing{justify-content:flex-end;margin-left:auto}.hardware-wallet-toggle__toggle{pointer-events:none}.network-switch-control__container{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);bottom:0;color:var(--dynamic-text-primary);display:flex;gap:.375rem;max-width:100%;padding:.25rem;position:absolute;right:0;transform:translateX(50%)}.network-switch-control__container--error{border:1px solid var(--dynamic-error-1);color:var(--dynamic-error-1);cursor:auto}.network-switch-control__network-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network-switch-control__network-icon{border-radius:50%}.network-switch-control__arrow-icon{min-width:1rem;transform:rotate(90deg);transition:transform .15s linear}.network-switch-control__arrow-icon--active{transform:rotate(-90deg)}@keyframes spinner-animation{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.network{color:var(--dynamic-text-primary);display:flex;justify-content:space-between;width:100%}.network .network__container{align-items:flex-start;display:flex;flex:1}.network .network__title-icon{border-radius:50%;height:1rem;margin-right:.5rem;margin-top:.0625rem;width:1rem}.network .network__title-container{display:flex;flex-direction:column;gap:.25rem;overflow:hidden}.network .network__title-copy{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network .network__status-container{align-items:center;border-radius:100%;display:flex;height:1rem;justify-content:center;width:1rem}.network .network__status-container .network__status-icon{color:#fff;height:.75rem;width:.75rem}.network .network__status-container .network__status-icon svg path{fill:currentcolor}.network .network__status-container .network__status-spinner-icon{animation:spinner-animation 2s linear infinite;height:.75rem;margin-right:-.9375rem;margin-top:-.75rem;transform-origin:0 100%;width:.75rem}.network .network__status-container--active{background-color:var(--dynamic-brand-primary-color)}.network-action{align-items:center;display:flex;padding:.5rem 1rem}@media (pointer:coarse){.network-action{padding:.5rem 1.5rem}}.network-action:not(.network--not-supported){cursor:pointer}.network-action:not(.network--not-supported):hover{background-color:var(--dynamic-hover)}.network-control-skeleton{align-items:center;border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:.375rem;justify-content:center;padding:.1875rem .25rem}.network-control-skeleton__icon{background-color:var(--dynamic-base-3);border:1px solid var(--dynamic-base-4);border-radius:100%;height:1.125rem;width:1.125rem}.network-control-skeleton__skeleton{width:1.875rem}.non-network-switching-supported-control{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);bottom:0;color:var(--dynamic-text-primary);display:flex;gap:.375rem;justify-content:center;padding:.25rem;position:absolute;right:0;transform:translateX(50%)}.non-network-switching-supported-control--error{background-color:var(--dynamic-error-2);cursor:auto}.non-network-switching-supported-control__network-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.network-picker-network-control{display:flex;flex-direction:column}.network-picker-network-control__anchor{position:relative}.linear-gradient-frame{align-items:center;display:flex;flex-direction:column;justify-content:center;position:relative}.linear-gradient-frame__icon{position:absolute}.pin-field__container{display:flex;flex:1;flex-grow:0;gap:2.5%;justify-content:space-between;margin-top:1rem;max-width:19.5rem;width:100%}.pin-input__input{background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:.75rem;color:var(--dynamic-text-primary);font-size:1rem;height:2.75rem;max-width:2.75rem;outline:.125rem solid transparent;outline-offset:.125rem;text-align:center;width:100%}.pin-input__input:last-child{margin-right:0}.pin-input__input:disabled{cursor:not-allowed;opacity:.5}.pin-input__input--error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1);color:var(--dynamic-error-1)}.pin-input__input--success{background:var(--dynamic-success-2);border-color:var(--dynamic-success-1);color:var(--dynamic-success-1)}.modal-component__container{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.modal-component__backdrop{-webkit-backdrop-filter:var(--dynamic-modal-backdrop-filter);backdrop-filter:var(--dynamic-modal-backdrop-filter);background:var(--dynamic-modal-backdrop-background);cursor:default;height:100%;left:0;position:fixed;top:0;width:100%}.search__container{align-items:center;background:var(--dynamic-search-bar-background);border:var(--dynamic-search-bar-border);border-radius:calc(var(--dynamic-border-radius)/1.5);cursor:text;display:flex;gap:.625rem;height:2.625rem;justify-content:space-between;min-height:2.25rem;padding-left:.75rem;padding-right:.75rem}.search__container,.search__container svg{color:var(--dynamic-text-tertiary)}.search__container:hover:not(.search__container--active,.search__container:focus-within){background:var(--dynamic-search-bar-background-hover);border:var(--dynamic-search-bar-border-hover);color:var(--dynamic-text-secondary)}.search__container:hover:not(.search__container--active,.search__container:focus-within) svg{color:var(--dynamic-text-secondary)}.search__container--active,.search__container:focus-within{background:var(--dynamic-search-bar-background-focus);border:var(--dynamic-search-bar-border-focus);color:var(--dynamic-text-primary)}.search__container--active svg,.search__container:focus-within svg{color:var(--dynamic-text-secondary)}.search-icon__container{align-items:center;color:var(--dynamic-text-tertiary);display:flex;height:1rem;justify-content:center;width:1rem}.search__input{background:none;border:0;color:var(--dynamic-text-primary);display:flex;flex-grow:1;font-size:var(--dynamic-text-size-body-small);font-weight:500;line-height:1rem;margin:0;outline:none;padding-bottom:.25rem;padding-top:.25rem}.search__input::-moz-placeholder{color:var(--dynamic-text-tertiary)}.search__input::placeholder{color:var(--dynamic-text-tertiary)}.search__input:hover::-moz-placeholder{color:var(--dynamic-text-secondary)}.search__input:hover::placeholder{color:var(--dynamic-text-secondary)}.search__input:focus::-moz-placeholder{color:transparent}.search__input:focus::placeholder{color:transparent}.search__button--clear{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-mini)}.search__button--clear:hover{color:var(--dynamic-text-primary)}.select__container{cursor:pointer;position:relative}.select__container .select{-webkit-appearance:none;-moz-appearance:none;appearance:none;bottom:0;left:0;opacity:0;outline:none;position:absolute;right:0;top:0}.select__container .select::-moz-placeholder{color:transparent}.select__container .select::placeholder{color:transparent}.select__container .select__body{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;display:block;margin:0;padding:1.125rem .75rem .375rem;position:relative;transition:all .2s ease;width:100%}.select__container .select__value{color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400}.select__container .select__label{color:var(--dynamic-text-secondary);font-size:.9375rem;left:.75rem;pointer-events:none;position:absolute;top:.75rem;transition:all .2s ease}.select__container .select__control_icon{align-items:center;bottom:0;color:var(--dynamic-text-secondary);display:flex;position:absolute;right:.75rem;top:0}.select__container .select__has_value .select__label{font-size:.625rem;top:.4375rem}.select__container .select:has(.select__error)~.select__body{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.select__container .select__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.select__container .select__error .select__control_icon,.select__container .select__error .select__label{color:var(--dynamic-error-1)}.select__message{color:var(--dynamic-text-primary);padding-top:.5rem}.select__message__error{color:var(--dynamic-error-1)}.separator{border-top:.0625rem solid var(--dynamic-base-3)}@keyframes shimmer{to{transform:translateX(100%)}}.skeleton{background:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/6);display:inline-flex;line-height:1;min-width:100%;overflow:hidden;position:relative;z-index:0}.skeleton:after{animation:shimmer 2s infinite;background-image:var(--dynamic-loading-animation-gradient);bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:translateX(-100%)}.spinner{animation:spin 1s linear infinite;color:var(--dynamic-brand-primary-color)}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.status-dot__container{align-items:center;background:var(--dynamic-base-1);border-radius:100%;display:flex;height:.625rem;justify-content:center;width:.625rem}.status-dot{border-radius:100%;height:.375rem;width:.375rem}.status-dot--green{background:var(--dynamic-success-1)}.status-dot--red{background:var(--dynamic-error-1)}.status-dot--yellow{background:var(--dynamic-alert-1)}.support-links{display:flex;flex-direction:column;gap:.5rem}.support-links__icons-container{align-items:center;display:flex;gap:1rem;justify-content:center}.support-links__icon-link{align-items:center;display:inline-flex;gap:.25rem;text-decoration:none}.switch__container{display:flex}.switch__container.disabled{opacity:.2;pointer-events:none}.switch__container .button{background:var(--dynamic-base-2);border-radius:0;box-shadow:var(--dynamic-shadow-down-1);color:var(--dynamic-text-primary);font-size:var(--dynamic-text-size-button-primary);font-weight:400;margin:0;padding:.75rem 0;width:100%}.switch__container .button:first-child{border-bottom-left-radius:calc(var(--dynamic-border-radius)/3);border-right:0;border-top-left-radius:calc(var(--dynamic-border-radius)/3)}.switch__container .button:last-child{border-bottom-right-radius:calc(var(--dynamic-border-radius)/3);border-top-right-radius:calc(var(--dynamic-border-radius)/3)}.switch__container .button.active{background:var(--dynamic-brand-primary-color);color:#fff}.text-button{align-items:center;border-radius:calc(var(--dynamic-border-radius)/6);color:var(--dynamic-text-secondary);cursor:pointer;display:flex;font-size:.75rem;font-weight:500;gap:.375rem;padding:.125rem .375rem}.text-button:hover{background-color:var(--dynamic-hover)}.tos-and-pp__text{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small);margin:0 auto;text-align:center}.tos-and-pp__text .tos-and-pp__link{color:var(--dynamic-text-link);text-decoration:none}.zoom-transition__root{transform-origin:50% 50%}.vertical-drawer-animation{overflow:hidden;transition-property:max-height;transition-timing-function:ease-out}.typography{font-family:var(--dynamic-font-family-primary);font-weight:400;line-height:normal}.typography--title{font-size:var(--dynamic-text-size-title)}.typography--body-normal{font-size:var(--dynamic-text-size-body-normal)}.typography--body-small{font-size:var(--dynamic-text-size-body-small)}.typography--body-mini{font-size:var(--dynamic-text-size-body-mini)}.typography--button-primary{font-size:var(--dynamic-text-size-button-primary);font-weight:700}.typography--button-secondary{font-size:var(--dynamic-text-size-button-secondary);font-weight:700}.typography--button-tertiary{font-size:var(--dynamic-text-size-button-secondary);font-weight:400}.typography--numbers-display{font-size:var(--dynamic-text-size-numbers-display);font-weight:700}.typography--numbers-big{font-family:var(--dynamic-font-family-numbers);font-size:var(--dynamic-text-size-numbers-big)}.typography--numbers-medium{font-family:var(--dynamic-font-family-numbers);font-size:var(--dynamic-text-size-numbers-medium)}.typography--bold{font-weight:700}.typography--medium{font-weight:500}.typography--regular{font-weight:400}.typography--link{color:var(--dynamic-text-link)}.typography--brand-primary{color:var(--dynamic-brand-primary-color)}.typography--primary{color:var(--dynamic-text-primary)}.typography--secondary{color:var(--dynamic-text-secondary)}.typography--tertiary{color:var(--dynamic-text-tertiary)}.typography--uppercase{text-transform:uppercase}.typography--dynamic-error-1{color:var(--dynamic-error-1)}.typography--error-2{color:var(--dynamic-error-2)}.typography--alert-1{color:var(--dynamic-alert-1)}.typography--connection-green-1{color:var(--dynamic-success-1)}.typography--tooltip{color:var(--dynamic-tooltip-text-color)}.typography--inherit{color:inherit}.typography--white{color:#fff}.typography--current-color{color:currentcolor}.typography--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.typography-button__content{align-items:center;display:flex;flex-direction:column}.typography-button__content--with-description{align-items:flex-start;flex:1;text-align:left}.powered-by-dynamic{align-items:center;color:var(--dynamic-text-tertiary);display:flex;text-decoration:none;width:100%}.powered-by-dynamic--center{justify-content:center}.powered-by-dynamic--right{justify-content:end}.powered-by-dynamic__logo,.powered-by-dynamic__text{display:inline-block}.powered-by-dynamic__text{margin-right:.25rem}.powered-by-dynamic__logo{display:inline-block;margin-top:.0625rem;max-width:3.6875rem;width:3.6875rem}.dynamic-footer{background:var(--dynamic-footer-background);padding:var(--dynamic-footer-padding);width:100%}.dynamic-footer:not(.dynamic-footer__top-border){padding-top:0}.dynamic-footer__top-border{border-top:var(--dynamic-footer-border-top)}.user-address,.user-address__container{align-items:center;display:flex;justify-content:center}.user-address__container{margin-top:.375rem}.user-address__status-dot{margin-right:.375rem}.user-address__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.app-origin-tile.chip{align-self:center;padding:.625rem 1.25rem}.options-switcher{background-color:var(--dynamic-base-4);display:flex;min-height:2rem;position:relative}.options-switcher,.options-switcher__active-rail,.options-switcher__button{border-radius:calc(var(--dynamic-border-radius)/3)}.options-switcher__button{color:var(--dynamic-text-secondary);flex:1;font-size:var(--dynamic-text-size-button-secondary);font-weight:500;position:relative}.options-switcher__button--active{color:var(--dynamic-text-primary)}.options-switcher__active-rail{background-color:var(--dynamic-base-2);box-shadow:var(--dynamic-shadow-down-1);height:100%;position:absolute;transition:left .1s ease-in-out}.dynamic-verified-icon{color:var(--dynamic-success-1)}.user-profile-field__value{align-items:center;display:flex;min-height:.9375rem;overflow:auto}.user-profile-field__verify-icon{margin-left:.25rem}.user-profile-section{margin:0 0 .75rem}.user-profile-section__title{margin-bottom:.5rem}.user-profile-section__header{display:flex;flex-direction:row;justify-content:space-between}.user-profile-section__action{display:flex;margin:0 0 .5rem}.user-profile-social-account__connected-avatar{border-radius:100%;height:100%;overflow:hidden;position:relative;width:100%}.user-profile-social-account__connected-provider-icon{background-color:#fff;border-radius:100%;bottom:-.1875rem;height:.875rem;padding:.09375rem;position:absolute;right:-.3125rem;width:.875rem}.user-profile-social-account__image{-o-object-fit:cover;object-fit:cover}.user-profile-social-account{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:var(--dynamic-wallet-list-tile-padding);width:100%}.user-profile-social-account__icon{flex-shrink:0;height:1.5rem;position:relative;width:1.5rem}.user-profile-social-account__label{flex-grow:1;text-align:left}.user-profile-social-account__button{box-shadow:none;flex-shrink:0;padding:.1875rem .28125rem}.user-profile-social-account__button .button__spinner-container{left:auto}.user-profile__fields{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);padding:.75rem}.user-profile__fields,.user-profile__social-accounts{display:flex;flex-direction:column;gap:.5rem}.divider{align-items:center;display:flex;gap:.75rem;justify-content:space-between;padding:1rem 0}.divider__dash{background:var(--dynamic-base-4);height:.0625rem;width:100%}.divider__text{white-space:nowrap}.divider__full-width{width:100%}.divider__no-gap{gap:0}.dynamic-tooltip{background-color:var(--dynamic-tooltip-color);border-radius:calc(var(--dynamic-border-radius)/4);opacity:0;padding:.125rem .5rem;pointer-events:none;position:absolute;transform:translate(-50%,-100%);transform-origin:50% 50%;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;z-index:-1}.dynamic-tooltip__arrow{bottom:-.1875rem;color:var(--dynamic-tooltip-color);height:.25rem;left:50%;position:absolute;transform:translateX(-50%);width:.375rem}.dynamic-tooltip--visible{opacity:1;pointer-events:unset;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset;z-index:1}.modal-header-banner{padding:.5rem .75rem;text-align:center}.modal-header-banner__error{background-color:var(--dynamic-error-2)}.modal-header-banner__success{background-color:var(--dynamic-success-2)}.modal-header-banner__notice{background-color:var(--dynamic-brand-secondary-color)}.otp-verification-view{align-items:center;display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding);text-align:center}.otp-verification-view__icon-with-spinner{margin:0 auto .75rem}.otp-verification-view--message{padding:var(--dynamic-layout-content-error-padding)}.otp-verification-view__status-header{align-items:center;display:flex;justify-content:center}.otp-verification-view__footer{display:flex;flex-direction:column;gap:1rem}.otp-verification-view__destination-container{align-items:center;display:flex;gap:.25rem;justify-content:center}.otp-verification-view__retry-container{margin:1rem auto 0}.overlay-card__content{display:flex;flex-direction:column;padding:.25rem 1.5rem 1.5rem}.overlay-card__content-p0{padding:0}.overlay-card-base{bottom:0;height:100%;left:0;max-height:100%;overflow:hidden;position:absolute;right:0}.overlay-card-base--disabled{pointer-events:none}.overlay-card-base__animation{bottom:0;height:100%;left:0;max-height:100%;position:absolute;right:0;top:0}.overlay-card-base__overlay{background-color:var(--dynamic-overlay);bottom:0;left:0;position:absolute;right:0;top:0}.overlay-card-base__content-wrapper{bottom:0;left:0;max-height:80%;position:absolute;right:0;top:20%}.overlay-card-base__content{background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/1.5);border-top:.0625rem solid var(--dynamic-base-4);bottom:0;display:flex;flex-direction:column;left:0;max-height:100%;overflow-y:auto;position:absolute;right:0}@media (pointer:coarse){.overlay-card-base__content{border-bottom-left-radius:0;border-bottom-right-radius:0}}.overlay-card-target{bottom:0;height:100%;left:0;max-height:100%;overflow:auto;position:absolute;right:0}.icon-list-tile{padding-left:0;padding-right:0}.icon-list-tile--children{align-items:center;display:flex;justify-content:center}.popper-content{display:flex;position:absolute;z-index:100}.popper-content__transform-origin-bottom-left{transform:translateY(-100%)}.popper-content__transform-origin-bottom-right{transform:translate(-100%,-100%)}.popper-content__transform-origin-top-left{transform:translate(0)}.popper-content__transform-origin-top-right{transform:translate(-100%)}.dropdown{align-items:stretch;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/3);box-shadow:0 .5rem .75rem -.375rem rgba(24,39,75,.06),0 .5rem .75rem -.1875rem rgba(24,39,75,.06);display:flex;flex-direction:column;max-height:var(--max-height);min-width:10rem;overflow-y:auto;padding-block:.1875rem}.dropdown--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-entering-animation;animation-timing-function:ease-out}.dropdown--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-exiting-animation;animation-timing-function:ease-out}.dots-menu-dropdown__container{padding:.375rem 0}.dots-menu-dropdown__item{align-items:center;cursor:pointer;display:flex;font-size:var(--dynamic-text-size-body-small);gap:.5rem;padding:.5rem .75rem;width:100%}.dots-menu-dropdown__item .typography{white-space:nowrap}.dots-menu-dropdown__item__end-slot{position:absolute;right:.75rem}.dots-menu-dropdown__item:hover{background-color:var(--dynamic-hover)}.dots-menu-dropdown__item:hover .typography{color:var(--dynamic-text-primary)}@media (pointer:coarse){.dots-menu-dropdown__item{font-size:var(--dynamic-text-size-body-normal)}}.dots-menu-dropdown__item-text{align-items:center;display:flex;gap:.5rem}.menu-list__overlay-card__container{align-items:stretch;display:flex;flex-direction:column;overflow-y:auto;padding-bottom:1.25rem}.transaction-confirmation.dynamic-tooltip{word-wrap:break-word;color:var(--dynamic-base-1);font-size:12px;line-height:1.4;max-width:145px;white-space:normal;width:-moz-max-content;width:max-content}.transaction-confirmation__banner{margin:-8px auto 0;padding-bottom:16px;text-align:center;width:75%}.transaction-confirmation__actions{align-items:center;display:flex;flex-direction:row;gap:.375rem;padding:16px 0;width:100%}.transaction-confirmation__actions .button--brand-primary .icon--color-text-secondary,.transaction-confirmation__actions .button--brand-primary .typography--primary{color:#fff}.transaction-confirmation__body{align-items:stretch;display:flex;flex:1;flex-direction:column;overflow:hidden;padding:0 1.5rem .75rem}.transaction-confirmation__app-origin-tile{padding:.75rem}.transaction-confirmation__content{display:flex;flex:1;flex-direction:column;justify-content:flex-start;margin-top:.25rem;overflow:auto;width:100%}.transaction-confirmation__rows{max-height:14.375rem;padding:.5rem .75rem;width:100%}.transaction-confirmation__rows .flex{display:flex;justify-content:space-between}.transaction-confirmation__rows .flex-row{flex-direction:row;gap:.5rem}.transaction-confirmation__rows .row{padding:.5rem 0}.transaction-confirmation__rows .gap{gap:.3rem}.transaction-confirmation__secure-wallet{margin-bottom:0;margin-top:1rem}.transaction-confirmation__info{text-align:right}.transaction-confirmation__error{padding-top:.75rem}.transaction-confirmation__warning{padding-top:12px}.transaction-confirmation__divider{background-color:var(--dynamic-base-3);height:1px;margin:.5rem 0 .75rem;position:relative;transform:translateX(-50%);width:100vw}.transaction-card-container{display:flex;flex-direction:column;gap:.75rem}.transaction-card{background-color:var(--dynamic-base-2);border-radius:.75rem;display:flex;flex-direction:column;padding:.5rem}.transaction-card__icon{align-items:center;display:flex;margin-left:auto}.transaction-card__icon__container{align-items:center;display:flex;justify-content:center;position:relative}.transaction-card__icon__container__main{border-radius:50%;height:2rem;width:2rem}.transaction-card__icon__container__network{background-color:var(--dynamic-base-1);border:1px solid var(--dynamic-base-1);border-radius:50%;bottom:-3px;height:1rem;position:absolute;right:-3px;width:1rem}.transaction-card__total p .typography{gap:.3rem}.transaction-card__info{align-items:center;display:flex;flex-direction:row;gap:.25rem}.transaction-card__assets-container{display:flex;flex-direction:column}.transaction-card__in,.transaction-card__out{padding:.25rem 0;width:100%}.transaction-card__info-container{align-items:center;display:flex;justify-content:space-between;padding:.5rem;width:100%}.transaction-card__amount-symbol{align-items:center;display:flex;gap:.75rem}.transaction-card__token-info{align-items:flex-end;display:flex;flex-direction:column;gap:.125rem}.transaction-card__token-row{align-items:center;display:flex;gap:.5rem}.transaction-card__arrow{color:var(--dynamic-text-secondary);font-size:1.25rem;margin-left:.5rem}.transaction-card__destination{align-items:center;display:flex;gap:.5rem;margin:0}.transaction-card .row{border-top:1px solid var(--dynamic-base-3);display:flex;justify-content:space-between;padding:.6rem 0}.transaction-card .flex-row{display:flex;flex-direction:row;gap:.1rem}.transaction-card .gap-native{gap:.3rem}.transaction-card__divider{border-top:1px solid var(--dynamic-base-3);margin:0 .75rem}.transaction-card__details{display:flex;flex-direction:column}.transaction-card__row{align-items:center;display:flex;justify-content:space-between;padding:.5rem}.transaction-card__value{align-items:flex-end;display:flex;flex-direction:column;gap:.125rem}.transaction-card__network-info{align-items:center;display:flex;gap:.5rem}.transaction-card__network-icon{border-radius:50%}.transaction-card__fee-info{align-items:center;display:flex;gap:.5rem}.transaction-card__fee-info .fee-tooltip{margin-right:.25rem}.transaction-card__label-with-tooltip{align-items:center;display:flex;gap:.25rem}.transaction-card__label-with-tooltip .fee-tooltip{align-items:center;display:flex}.transaction-status-layout{display:flex;flex:1;flex-direction:column;overflow:hidden}.transaction-status-layout .modal-header{padding:3rem .3125rem .625rem}.transaction-status-layout__status-icon{color:var(--dynamic-brand-primary-color);height:4rem;width:4rem}.transaction-status-layout__title{text-align:center}.transaction-status-layout__body{align-items:stretch;display:flex;flex:1;flex-direction:column;padding:.25rem 1.5rem 1.5rem}.transaction-status-layout__sent_to{text-align:center}.transaction-status-layout__sent_to p{display:inline}.transaction-status-layout__content{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-top:.375rem;width:100%}.transaction-status-layout__rows{max-height:14.375rem;overflow-y:auto;padding:.375rem .75rem;width:100%}.transaction-status-layout__rows p{font-size:1.5rem}.transaction-status-layout__rows>.transaction-row:not(:first-child){border-top:1px solid var(--dynamic-base-4)}.transaction-status-layout__actions{margin-top:auto;padding-top:1rem}.transaction-status-layout__actions .button--brand-primary .typography--primary{color:var(--dynamic-base-2)}.transaction-status-layout__footer{padding-top:1rem}.transaction-status-layout__transaction-link-container{display:flex;justify-content:center;margin-top:1rem;width:100%}.transaction-status-layout__transaction-link-container__transaction-link{color:var(--dynamic-text-primary-color);text-decoration:underline;text-decoration-thickness:.0625rem;text-underline-offset:.125rem}.tokens-balance-dropdown{background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;padding:.875rem .75rem}.tokens-balance-dropdown,.tokens-balance-dropdown__selected{align-items:center;display:flex;gap:.5rem;justify-content:space-between}.tokens-balance-dropdown__selected .evm-network-control__arrow-icon{position:absolute;right:2.625rem}.tokens-balance-dropdown__menu_list{border-radius:calc(var(--dynamic-border-radius)/2);padding:.5rem 1rem;width:19.375rem}@media (max-width:640px){.tokens-balance-dropdown__menu_list{margin:0 auto;width:100%}.tokens-balance-dropdown__menu_list .modal-header{padding:1rem 0 1rem 1.25rem}}.tokens-balance-dropdown__menu_list .modal-header__leading{flex:none}.tokens-balance-dropdown__menu_list_item{align-items:center;display:flex;gap:.625rem;justify-content:space-between;padding:.5rem 0;text-align:left}.tokens-balance-dropdown__menu_list_item__name{display:flex;gap:.3125rem;min-width:9.375rem}.tokens-balance-dropdown__menu_list_item__balance{display:flex;gap:.3125rem}.tokens-balance-dropdown__chain{align-items:center;display:flex;gap:.375rem}.tokens-balance-dropdown__chain__icon{height:1rem;width:1rem}.tokens-balance-dropdown__balance-container{align-items:center;display:flex;gap:.25rem}.tokens-balance-dropdown__balance{align-items:center;display:flex;gap:.125rem}.send-balance-page-layout__header-content{align-items:center;display:flex;gap:.5rem}.send-balance-page-layout__body{display:flex;flex:1;flex-direction:column;overflow:auto;padding:.25rem 1.5rem 1.5rem}.send-balance-page-layout__balance-container{display:flex;flex-direction:column;gap:.5rem;padding-bottom:.5rem}.send-balance-page-layout__error{padding-bottom:1rem}.send-balance-page-layout__footer{padding-top:1.5rem}.send-balance-page-layout__network-container{display:flex;justify-content:center;padding-bottom:.5rem}.send-balance-form{display:flex;flex:1;flex-direction:column;gap:.5rem}.send-balance-form__button{flex:unset;margin-top:auto}.send-balance-form__secure-wallet{margin:0}.send-balance-form__field.fiat{padding-left:1.5625rem}.send-balance-form__amount-container{position:relative}.send-balance-form__amount-container__fiat_sign{left:.625rem;position:absolute;top:.6875rem}.send-balance-form__amount-container__double_arrow{position:absolute;right:.625rem;top:.875rem}.send-balance-form__amount-container__balance{display:flex;gap:.25rem;position:absolute;right:.75rem;top:.9375rem}.send-balance-form__amount-container__field.input{padding-left:3.125rem;transition:none}.send-balance-form__amount-container__floating_value{color:#000;font-size:1rem;left:10px;pointer-events:none;position:absolute;top:.6875rem;white-space:nowrap}.send-balance-form__amount_available{border-bottom:1px solid var(--dynamic-base-3);padding-bottom:.75rem}.send-balance-form .input__container--regular .input__label:after{content:"";height:0}.select-network-button__icon{display:inline;margin:0 6px 3px;max-height:16px;max-width:16px;vertical-align:middle}.chip{border:1px solid var(--dynamic-text-tertiary);border-radius:2rem;display:inline-flex;gap:.25rem;padding:.25rem .5rem}.chip,.chip--leading,.chip--trailing{align-items:center;justify-content:center}.chip--leading,.chip--trailing{display:flex}.form-field-label{align-items:center;color:var(--dynamic-text-secondary);cursor:text;display:flex;font-size:.75rem}.form-field-label__with-divider:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.step{counter-increment:step;gap:.5rem}.step,.step__icon{align-items:center;display:flex}.step__icon{flex-shrink:0;height:1.25rem;justify-content:center;width:1.25rem}.step__icon--done{background-color:var(--dynamic-success-1);border-radius:50%}.step__icon__check-mark{color:var(--dynamic-base-1);height:1rem;width:1rem}.step__index{align-items:center;border:1px solid var(--dynamic-base-4);border-radius:.625rem;display:flex;height:1.25rem;justify-content:center;min-width:1.25rem;padding:0 .25rem}.step__index-label:before{content:counter(step)}.step__leading{max-width:-moz-fit-content;max-width:fit-content;position:relative}.stepper{counter-reset:step;display:flex;gap:1rem;width:100%}.stepper__divider{flex-grow:1}.modal{left:50%;margin:auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:var(--dynamic-modal-width)}@media (max-width:640px){.modal{bottom:0;max-width:37.5rem;top:auto;transform:translate(-50%);width:100%}}.modal__items{display:flex;flex-direction:column;gap:.75rem}.modal-card{background:var(--dynamic-base-1);border-radius:var(--dynamic-border-radius);box-shadow:var(--dynamic-shadow-down-3);overflow:hidden;width:100%}.modal-card--radius-small{border-radius:calc(var(--dynamic-border-radius)*.75)}.modal-card--with-border{border:1px solid var(--dynamic-base-4)}.modal-card--sharp-border-radius{border-radius:0}.modal-card--no-shadow{box-shadow:none}@media (max-width:640px){.modal-card{bottom:0;max-width:37.5rem;top:auto;transform:translateY(0);width:100%}.modal-card--sharp-mobile-bottom-radius:last-child{border-radius:var(--dynamic-border-radius) var(--dynamic-border-radius) 0 0}}.inline-widget-button{align-items:center;background-color:var(--dynamic-base-1);display:flex;gap:.5rem;min-height:100%;padding:.5rem .75rem;width:-moz-fit-content;width:fit-content}.inline-widget-button:hover{background-color:var(--dynamic-hover)}.inline-widget-button__icon{height:1.25rem;width:1.25rem}.inline-widget-button__vertical-divider{background-color:var(--dynamic-base-3);content:"";height:1rem;width:.0625rem}.inline-widget{align-items:center;background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/3);display:flex;justify-content:center;overflow:hidden;width:-moz-fit-content;width:fit-content}.inline-widget>*{border-right:1px solid var(--dynamic-base-3)}.inline-widget>:last-child{border-right:none}.wallet-information-card{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column}.wallet-information-card__header{border-bottom:1px solid var(--dynamic-base-3);display:flex;gap:.5rem;justify-content:space-between;padding:.75rem}.wallet-information-card__details-container{align-items:center;display:flex;gap:.75rem;justify-content:space-between;min-width:0}.wallet-information-card__menu{flex-shrink:0}.wallet-information-card__icon{height:1.75rem;width:1.75rem}.wallet-information-card__details{display:flex;flex-direction:column;overflow:hidden}.wallet-information-card__balance-container{align-items:center;display:flex;gap:.5rem;justify-content:space-between;padding:.75rem}.social-sign-in{display:flex;flex-wrap:wrap;gap:.375rem;justify-content:space-between}.social-sign-in--tile{flex:1;height:2.5rem}.social-sign-in--tile__full-width{flex:1 0 100%}.social-sign-in--card{display:flex;flex-direction:column;min-height:11.5625rem}.social-sign-in--card--body{display:grid;gap:.375rem;grid-template-columns:auto auto auto auto}.social-sign-in--card--tile{height:2.5rem}.sign-typed-data-preview--attribute-row{display:flex;gap:.5rem}.sign-typed-data-preview--fields-list,.sign-typed-data-preview--type-container{display:flex;flex-direction:column;gap:.25rem}.sign-typed-data-preview--type-container{padding-left:1rem}.need-help-section{align-items:center;display:flex;flex-direction:column;gap:1rem}.need-help-section__links{display:flex;gap:.5rem}.need-help-section__links>*+*{padding-left:.5rem;position:relative}.need-help-section__links>*+:after{border-left:1px solid var(--dynamic-text-secondary);bottom:15%;content:"";left:0;position:absolute;top:15%;width:50%}.need-help-section__helper-link{color:var(--dynamic-text-link)}.textarea__container{position:relative}.textarea__container .textarea__suffix{position:absolute;right:1rem;top:1rem}.textarea__container .textarea{background:var(--dynamic-base-2);border-color:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary);font-size:.9375rem;font-weight:400;margin:0;outline:none;resize:none;transition:all .2s ease;width:100%}.textarea__container .textarea:disabled{background:var(--dynamic-base-3);border-color:var(--dynamic-base-4)}.textarea__container .textarea:disabled .textarea__label{color:var(--dynamic-text-tertiary)}.textarea__container .textarea__label{color:var(--dynamic-text-secondary);cursor:text;font-size:.625rem}.textarea__container .textarea:not(.textarea__error):focus,.textarea__container .textarea:not(.textarea__error):hover{background:var(--dynamic-base-2);border-color:var(--dynamic-base-4)}.textarea__container .textarea__error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.textarea__container .textarea__error~.textarea__label,.textarea__container .textarea__error~.textarea__trailing{color:var(--dynamic-error-1)}.textarea__container .textarea__valid{background:var(--dynamic-success-2);border-color:var(--dynamic-success-1)}.textarea__container .textarea__valid~.textarea__label,.textarea__container .textarea__valid~.textarea__trailing{color:var(--dynamic-success-1)}.textarea__container .textarea__has_trailing{padding-right:4rem}.textarea__container .textarea__trailing{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.textarea__container--dense .textarea{padding:1.125rem .75rem .375rem}.textarea__container--dense .textarea::-moz-placeholder{color:transparent}.textarea__container--dense .textarea::placeholder{color:transparent}.textarea__container--dense .textarea__label{left:.75rem;position:absolute;top:.4375rem;transition:all .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.textarea__container--dense .textarea:-moz-placeholder-shown~.textarea__label{font-size:.9375rem;top:.75rem}.textarea__container--dense .textarea:placeholder-shown~.textarea__label{font-size:.9375rem;top:.75rem}.textarea__container--dense .textarea:focus~.textarea__label{font-size:.625rem;top:.4375rem}.textarea__container--regular{display:flex;flex-direction:column}.textarea__container--regular .textarea{padding:.75rem}.textarea__container--regular .textarea__label{align-items:center;display:inline-flex;font-size:.75rem;line-height:1rem;margin-bottom:.5rem;order:-1}.textarea__container--regular .textarea__label:after{background:var(--dynamic-base-4);content:"";flex:1;height:1px;margin-left:.75rem;right:0}.textarea__container--regular .textarea__suffix{top:2.375rem}.textarea__message{color:var(--dynamic-text-primary);padding:.5rem 0}.textarea__message__error{color:var(--dynamic-error-1)}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{-webkit-text-fill-color:var(--dynamic-text-primary)!important;background:var(--dynamic-base-2);border-color:var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)*.4);border-width:.0625rem;color:var(--dynamic-text-primary)!important;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.secure-embedded-wallet-card{background:var(--dynamic-brand-secondary-color);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);color:var(--dynamic-text-primary);display:flex;gap:.625rem;padding:.75rem;transition-duration:var(--dynamic-wallet-list-tile-animation-duration);transition-property:all;transition-timing-function:ease-out;width:100%}.secure-embedded-wallet-card__text-content{align-items:flex-start;cursor:pointer;display:flex;flex-direction:column;flex-grow:1;padding:0;text-align:left}.secure-embedded-wallet-card__text-content,.secure-embedded-wallet-card__text-content:hover{background-color:transparent;box-shadow:none}.secure-embedded-wallet-card__link{line-height:20px;text-decoration:underline}.toggle{-webkit-tap-highlight-color:transparent;cursor:pointer;display:inline-block}.toggle--input{display:none}.toggle--input:checked+.toggle--content__variant-primary{background-color:var(--dynamic-brand-primary-color);color:var(--dynamic-brand-primary-color)}.toggle--input:checked+.toggle--content .toggle--knob{left:1.09375rem}.toggle--input:checked+.toggle--content .toggle--knob>*{opacity:1}.toggle--content{background-color:var(--dynamic-base-3);border-radius:.625rem;height:1.25rem;position:relative;transition:background-color .2s ease;width:2.25rem}.toggle--knob{align-items:center;background-color:#fff;border-radius:100%;display:flex;height:1.0625rem;justify-content:center;left:.09375rem;position:absolute;top:.09375rem;transition:left .2s ease;width:1.0625rem}.toggle--knob>*{opacity:0;transition:opacity .2s ease}.list-tile-animated-trailing{position:relative}.list-tile-animated-trailing__child{position:absolute;right:0;transform:translateY(-50%);transition-duration:.2s;transition-property:opacity,transform;transition-timing-function:ease-in}.list-tile-animated-trailing__hover-element{opacity:0;position:absolute;right:0;transform:translate(-.625rem,-50%);transition-duration:.3s}.list-tile:hover .list-tile-animated-trailing__hover-element{opacity:1;transform:translateY(-50%)}.list-tile:hover .list-tile-animated-trailing__child{opacity:0;transform:translate(-.625rem,-50%)}.wallet-group-view-layout__container{padding:var(--dynamic-layout-content-padding)}.wallet-group-view-layout__icon{height:4rem;margin:0 auto .75rem;width:4rem}.wallet-group-view-layout__list{display:flex;flex-direction:column;gap:.5rem}.wallet-group-view-layout__title{padding-bottom:1rem;text-align:center}.retry-send-verification-code-section{align-items:center;display:flex;flex-direction:column}.retry-send-verification-code-section__confirmation{color:var(--dynamic-success-1);display:flex;gap:.3125rem;padding:.125rem .375rem}.retry-send-verification-code-section__not-received{text-align:center}.toggle-visibility-button__container{position:relative}.toggle-visibility-button__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.qrcode{--background:var(--dynamic-base-1);color:var(--dynamic-text-primary);position:relative}.qrcode__container{align-items:center;border-radius:calc(var(--dynamic-border-radius)/1.5);display:flex;height:18.125rem;justify-content:center;margin:auto;width:18.125rem}.qrcode__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.qrcode-container__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.qrcode-container__container--message{padding:var(--dynamic-layout-content-error-padding)}.qrcode-container__container .button__content{display:flex;gap:.375rem}.qrcode-container__top{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*.6);display:flex;flex-direction:column;gap:.625rem;margin-bottom:1.25rem;padding:.75rem}.qrcode-container__top .button-container{align-items:center;display:flex;gap:.5rem;width:100%}.qrcode-container__top .button-container svg path{fill-opacity:100%}.qrcode-container__top .button-container .qr-code-button{height:2.375rem}.qrcode-container__content{max-width:20rem;text-align:center}.qrcode-container__tos{margin-top:1rem;max-width:17.5rem;text-align:center}.qrcode-container__tos .tos__link{color:var(--dynamic-text-link)}.qrcode-container__tos .tos__link:hover{text-decoration:underline}.qr-code-wrapper__scan-issue-message{align-items:center;background:var(--dynamic-base-2);border-bottom:var(--dynamic-button-primary-border);border-radius:0;border-top:var(--dynamic-button-primary-border);color:var(--dynamic-text-primary);display:flex;justify-content:center;padding:.5rem .75rem;text-align:center;width:100%}.qr-code-wrapper__scan-issue-button{color:var(--dynamic-text-link);font-size:.75rem;text-decoration:underline}.radio-button{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;gap:.5rem;padding:.75rem;width:100%}.radio-button input{height:1.5rem;width:1.5rem}.mfa-device-skeleton{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;flex-direction:row;gap:.625rem;margin-bottom:.625rem;padding:.625rem;width:auto}.mfa-device-skeleton__details{display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;padding-right:.625rem}.embedded-wallet-export__iframe-container,.embedded-wallet-export__iframe-container iframe,.embedded-wallet-export__iframe-container iframe *,.embedded-wallet-export__iframe-container iframe body,.embedded-wallet-export__iframe-container iframe html{-ms-overflow-style:none!important;overflow:hidden!important;overflow-x:hidden!important;overflow-y:hidden!important;scrollbar-width:none!important}.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar,.embedded-wallet-export__iframe-container::-webkit-scrollbar{display:none!important;height:0!important;width:0!important}.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar-track,.embedded-wallet-export__iframe-container::-webkit-scrollbar-thumb,.embedded-wallet-export__iframe-container::-webkit-scrollbar-track{display:none!important}.embedded-wallet-export__iframe-container iframe ::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container iframe body::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container iframe html::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container iframe::-webkit-scrollbar-corner,.embedded-wallet-export__iframe-container::-webkit-scrollbar-corner{display:none!important}.embedded-wallet-export__credential-container{align-items:flex-start;display:flex;flex:none;flex-direction:column;flex-grow:0;gap:8px;height:85px;min-height:85px;padding:0;position:relative;width:100%}.embedded-wallet-export__credential-container--hidden{display:none;height:0;margin:0;min-height:0}.embedded-wallet-export__credential-container--waas{margin:0}.embedded-wallet-export__iframe-container{-webkit-overflow-scrolling:touch;align-items:center;background-color:#fff;border:1px solid var(--dynamic-base-4);border-radius:.75rem;display:flex;flex:none;flex-direction:column;flex-grow:0;height:85px;min-height:85px;padding:1rem 1.25rem;position:relative;scroll-behavior:auto;width:100%}.embedded-wallet-export__iframe-container--hidden{display:none}.embedded-wallet-export__iframe-container--invisible{visibility:hidden}.embedded-wallet-export__iframe-container iframe{background:transparent!important;border:none!important;scroll-behavior:auto!important}.embedded-wallet-export__iframe-container iframe body,.embedded-wallet-export__iframe-container iframe html{height:100%!important;max-height:100%!important}.embedded-wallet-export__skeleton-container{align-items:flex-start;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;display:flex;flex:none;flex-direction:column;flex-grow:0;gap:8px;height:85px;left:0;padding:1rem 1.25rem;position:absolute;top:0;width:100%;z-index:2}.embedded-wallet-export__skeleton-line{background-color:var(--dynamic-base-3);border-radius:.25rem;height:1rem;overflow:hidden;position:relative;width:100%;z-index:0}.embedded-wallet-export__skeleton-line--short{width:70%}.embedded-wallet-export__skeleton-line:after{animation:shimmer 2s infinite;background-image:var(--dynamic-loading-animation-gradient);bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:translateX(-100%)}#dyn-turnkey-export-container-id{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;overflow:auto;padding:.75rem}#dyn-turnkey-export-element-id{word-wrap:break-word;max-height:-moz-min-content;max-height:min-content;width:100%}.phantom-ledger-icon{position:absolute}.phantom-ledger-icon__container{align-items:center;display:flex;height:100%;position:relative}.account-exists__container{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;padding:.3125rem}.account-exists__main{padding:var(--dynamic-modal-padding)}.account-exists__social-icon{margin:auto}.account-exists__image{padding:.3125rem;width:4.375rem}.account-exists__content{text-align:center}.account-exists__content--primary{margin-bottom:.375rem}.account-exists__content--secondary{margin-bottom:1rem}.account-exists__button--primary{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-down-1);margin:0}.account-upgraded-view{align-items:center;display:flex;flex-direction:column;gap:2.5rem;padding:2rem 1.5rem 1.5rem}.account-upgraded-view__content{align-items:center;display:flex;flex-direction:column;gap:2rem;justify-content:center}.account-upgraded-view__icon-container{align-items:center;display:flex;justify-content:center;margin-bottom:8px}.account-upgraded-view__icon-background{align-items:center;background:var(--dynamic-brand-primary-color);border-radius:50%;box-shadow:0 8px 24px rgba(0,0,0,.12);display:flex;height:88px;justify-content:center;position:relative;width:88px}.account-upgraded-view__icon-background:before{border-radius:50%;content:"";inset:3px;pointer-events:none;position:absolute}.account-upgraded-view__icon{color:#fff;height:44px;position:relative;width:44px;z-index:1}.account-upgraded-view__message{line-height:1.5;max-width:340px;text-align:center}.account-upgraded-view__actions{max-width:340px;width:100%}[data-dynamic-theme=dark] .account-upgraded-view__icon-background{background:linear-gradient(135deg,var(--dynamic-brand) 0,var(--dynamic-brand-dark,var(--dynamic-brand)) 100%);box-shadow:0 8px 24px rgba(0,0,0,.25)}[data-dynamic-theme=dark] .account-upgraded-view__icon-background:before{background:linear-gradient(135deg,hsla(0,0%,100%,.15),hsla(0,0%,100%,.03))}.user-data-form__form{display:flex;flex-direction:column}.user-data-form__error{margin-bottom:.625rem}.user-field__checkbox-container{background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column;padding:.625rem}.user-field__checkbox-container--error{background:var(--dynamic-error-2);border-color:var(--dynamic-error-1)}.user-field__consent-checkbox{display:flex;margin-bottom:.5rem}.user-field__consent-checkbox a{color:var(--dynamic-text-link)}.user-field__consent-checkbox:last-child{margin-bottom:0}.user-field__checkbox-label{padding-left:.75rem}.user-field__error-message{color:var(--dynamic-error-1);padding:.25rem}.user-phone-field__optional-label{color:var(--dynamic-text-secondary);font-size:.75rem;font-weight:500;pointer-events:none;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.user-data-fields__fields-column{display:flex;flex-direction:column;gap:.375rem;margin-bottom:.5rem;overflow:auto}.user-data-fields__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.collect-user-data::-webkit-scrollbar,.collect-user-data::-webkit-scrollbar-thumb,.collect-user-data::-webkit-scrollbar-track{display:none}.collect-user-data__main-img{width:100%}.collect-user-data__form{padding:var(--dynamic-layout-content-padding)}.collect-user-data__form--error{padding:var(--dynamic-layout-content-error-padding)}.collect-user-data__img-container{align-items:center;display:flex;justify-content:center}.collect-user-data__img{height:1.75rem;width:1.75rem}.collect-user-data__img--rounded{border-radius:9999px}.collect-user-data__wallet-address{margin-left:.5rem}.collect-user-data__success-icon{align-items:center;display:flex;justify-content:center}.collect-user-data__success-icon svg{height:4rem;width:4rem}.collect-user-data__welcome-container{margin:1rem 0;text-align:center}.collect-user-data__welcome-title{margin-bottom:.25rem}.collect-user-data__log-out{margin:.75rem auto 0}.collect-user-data__error--not-supported{align-items:center;border-radius:0;display:flex;justify-content:center;margin:0;width:100%}.collect-user-data__network-picker{margin:auto 0;max-width:-moz-fit-content;max-width:fit-content}.collect-user-data__network-picker-button{border:1px solid var(--dynamic-base-4);position:static;transform:translateX(0)}.collect-user-data__network-picker-button:hover{background:var(--dynamic-hover)}.collect-user-data__network-container{border:var(--dynamic-header-border-bottom);display:flex;justify-content:space-between;padding:var(--dynamic-header-padding);position:relative}.collect-user-data-login-no-wallet::-webkit-scrollbar,.collect-user-data-login-no-wallet::-webkit-scrollbar-thumb,.collect-user-data-login-no-wallet::-webkit-scrollbar-track{display:none}.collect-user-data-login-no-wallet__main-img{width:100%}.collect-user-data-login-no-wallet__user-info-container{align-items:center;border:var(--dynamic-header-border-bottom);display:flex;justify-content:center;padding:var(--dynamic-header-padding)}.collect-user-data-login-no-wallet__user-identification{margin-left:.5rem}.collect-user-data-login-no-wallet__icon-container{height:1.5rem;width:1.5rem}.collect-user-data-login-no-wallet__icon-container .user-profile-social-account__connected-avatar{margin-top:.125rem}.collect-user-data-login-no-wallet__form{padding:var(--dynamic-layout-content-padding)}.collect-user-data-login-no-wallet__success-icon{align-items:center;display:flex;justify-content:center}.collect-user-data-login-no-wallet__success-icon svg{height:4rem;width:4rem}.collect-user-data-login-no-wallet__welcome-container{margin:1rem 0;text-align:center}.collect-user-data-login-no-wallet__welcome-title{margin-bottom:.375rem}.collect-user-data-login-no-wallet__log-out{margin:.75rem auto 0}.email-verification__retry-container{margin:1rem auto 0}.email-verification__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.email-verification__container--error{padding:var(--dynamic-layout-content-error-padding)}.email-verification__icon-with-spinner{margin:0 auto .75rem}.email-verification__error-message{margin:0}.email-verification__error-message,.email-verification__transfer-message{align-items:center;border-radius:0;display:flex;justify-content:center;width:100%}.email-verification__transfer-message{background:var(--dynamic-success-2);color:var(--dynamic-success-1);margin-bottom:.5rem;padding:.5rem .75rem;text-align:center}.email-verification__icon--verified{margin:0 auto 1rem}.email-verification__title{margin-top:.5rem;text-align:center}.email-verification__retry-copy{margin-top:1rem}.email-verification__copy-text-container{margin:0;text-align:center}.email-verification__text-button{color:var(--dynamic-text-link)}.email-verification__text-button:disabled{color:var(--dynamic-text-tertiary);cursor:not-allowed}.email-verification__log-out{margin:.75rem auto 0}.no-qr-code-installed__container{align-items:center;color:var(--dynamic-text-primary);flex-direction:column;margin:-2.25rem 0 0;padding:var(--dynamic-modal-padding);padding-top:0;width:100%}.no-qr-code-installed__container:first-child,.no-qr-code-installed__container:last-child{margin-right:0}.no-qr-code-installed__img{display:flex;height:auto;justify-content:center;margin:auto;text-align:center}.no-qr-code-installed__typography{text-align:center}.no-qr-code-installed__typography--title{margin:1rem 0 .375rem;text-align:center}.no-qr-code-installed__links-section{flex-direction:column;margin:1rem 0}.wallet-help-link__anchor{align-items:center;background:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);color:var(--dynamic-text-primary);display:flex;gap:.625rem;margin-bottom:.5rem;padding:.75rem;position:relative;width:100%}.pending-connect__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.pending-connect__copy-text{color:var(--dynamic-text-secondary);max-width:20rem;text-align:center}.pending-connect__icon-with-spinner{margin:0 auto .75rem}.pending-signature__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.pending-signature__container .pending-signature__icon-with-spinner{margin:0 auto .75rem}.pending-signature__container .pending-signature__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;max-width:20rem;text-align:center}.pending-signature__container .pending-signature__copy--mini{line-height:1rem;margin-top:.25rem}.pending-signature__container .pending-signature__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.social-wrong-account-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:0 var(--dynamic-modal-padding) 1.125rem}.social-wrong-account-view__container .social-wrong-account-view__title{color:var(--dynamic-text-primary);line-height:1.5rem}.social-wrong-account-view__container .social-wrong-account-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;margin-top:.375rem;max-width:20rem;text-align:center}.social-wrong-account-view__container .social-wrong-account-view__button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.social-redirect-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:2rem var(--dynamic-modal-padding)}.social-redirect-view__container .social-redirect-view__title{color:var(--dynamic-text-primary);line-height:2.25rem}.sms-verification__text-button{color:var(--dynamic-text-link)}.sms-verification__text-button:disabled{color:var(--dynamic-text-tertiary);cursor:not-allowed}.sms-verification__log-out{margin:.75rem auto 0}.wallet-list-item__tile{border-radius:calc(var(--dynamic-border-radius)/2)}.wallet-list-grid-tabs{border-bottom:1px solid var(--dynamic-base-4);border-top:1px solid var(--dynamic-base-4);display:flex;width:100%}.wallet-list-grid-tabs__button{align-items:center;border-left:1px solid var(--dynamic-base-4);display:flex;flex-basis:50%;gap:.25rem;justify-content:center;outline:none;padding:.5rem .625rem}.wallet-list-grid-tabs__button:first-child{border-left:none}.wallet-list-grid-tabs__button--selected{background-color:var(--dynamic-wallet-list-tile-background)}.wallet-list-grid-tabs__button--text{flex-basis:100%}.wallet-list-grid-tabs__icon--selected{filter:grayscale(100%)}.wallet-list__error-container{margin:0}.wallet-list__search-container{padding:var(--dynamic-search-padding)}.wallet-list__tabs-container{margin-bottom:.5rem}.wallet-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.wallet-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.wallet-list__scroll-container::-webkit-scrollbar,.wallet-list__scroll-container::-webkit-scrollbar-track{display:none}.wallet-list__scroll-container::-webkit-scrollbar-thumb{display:none}.wallet-list__scroll-container:empty{display:flex}.wallet-list__scroll-container--fixed-height{height:var(--dynamic-wallet-list-max-height)}.wallet-list__search-skeleton{height:2.625rem}.wallet-list__search-skeleton,.wallet-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.wallet-list__tile-skeleton{height:3rem;padding:.75rem}.wallet-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.wallet-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.wallet-no-access__container{background:var(--dynamic-base-1)}.wallet-no-access__main{padding:var(--dynamic-modal-padding)}.wallet-no-access__social-info-container{align-items:center;display:flex;justify-content:center;margin-top:1.5rem}.wallet-no-access__waitlist-link{align-items:center;display:flex;gap:8px;justify-content:center}.wallet-no-access__social-icon{margin:auto}.wallet-no-access__image{width:100%}.wallet-no-access__user-info-container{align-items:center;display:flex;flex-direction:column;margin-bottom:1rem}.wallet-no-access__content{text-align:center}.wallet-no-access__content--primary{margin-bottom:.375rem}.wallet-no-access__content--secondary{margin-bottom:1rem}.wallet-no-access__wallet-address{margin-left:.375rem}.wallet-no-access__wallet-address-container{align-items:center;display:flex;justify-content:center}.wallet-no-access__button--primary{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-down-1);margin:0}.wallet-no-access__icon--verified{margin:0 auto 1rem}.wallet-sign-spinner__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.wallet-sign-spinner__copy{color:var(--dynamic-text-secondary);margin:0;text-align:center}.wallet-sign-spinner__button{box-shadow:var(--dynamic-shadow-down-1);margin:.75rem 0 0}.wallet-used-view__container{display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding);text-align:center}.wallet-used-view__icon{display:flex;justify-content:center;margin:0 0 .5rem}.wallet-used-view__icon svg{margin:0 auto}.wallet-used-view__shorten-wallet-address{margin:0 0 1rem}.wallet-used-view__copy{margin:0 0 .75rem}.wallet-used-view__accept-button,.wallet-used-view__footer{margin:0 0 .5rem}.wallet-used-view__logout{background:none;border:none;box-shadow:none;margin:auto}.wallet-used-view__checkbox-label{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:.5rem;justify-content:center;margin:1rem auto .5rem;padding:.75rem;text-align:left}.wallet-used-view__checkbox-container{flex-shrink:0}.network-not-supported__content-container{padding:var(--dynamic-layout-content-padding)}.network-not-supported__content-container--error{padding:var(--dynamic-layout-content-error-padding)}.network-not-supported__main-img{width:100%}.network-not-supported__img-container{align-items:center;display:flex;justify-content:center}.network-not-supported__img{border-radius:100%;height:4rem;width:4rem}.network-not-supported__welcome-container{margin:1rem 0;text-align:center}.network-not-supported__welcome-title{margin-bottom:.375rem}.network-not-supported__continue{margin-top:1rem}.network-not-supported__log-out{margin:.75rem auto 0}.network-not-supported__error--not-supported{align-items:center;border-radius:0;display:flex;justify-content:center;margin:0;width:100%}.network-not-supported__network-container{margin-top:.5rem;position:relative}.network-not-supported__network-picker{margin:auto;max-width:-moz-fit-content;max-width:fit-content}.network-not-supported__network-picker-button{position:static;transform:translateX(0)}.email-confirmation-waiting-view{align-items:center;display:flex;flex-direction:column;padding-bottom:1.625rem;text-align:center}.email-confirmation-waiting-view__title{padding-bottom:.375rem}.email-confirmation-waiting-view__email-container{align-items:center;display:flex;gap:.25rem;justify-content:center}.email-confirmation-waiting-view__edit-icon-button{display:inline-flex}.email-confirmation-waiting-view__header-icon{display:flex;justify-content:center;margin-top:-2rem}.email-confirmation-waiting-view__note{max-width:16.25rem;padding-top:1rem;text-align:center}.email-confirmation-waiting-view__powered_by_dynamic_footer{padding-top:1rem;width:100%}.login-with-email-form{display:flex;flex-direction:column;gap:.375rem}.login-with-email-form .input__suffix{top:.6875rem}.login-with-email-form .input__suffix .icon-button{--icon-arrow:var(--dynamic-text-tertiary);--icon-background:var(--dynamic-base-3);transition:all .2s}.login-with-email-form .input__suffix .icon-button path,.login-with-email-form .input__suffix .icon-button rect{transition:all .2s}.login-with-email-form .input__suffix .icon-button--active,.login-with-email-form .input__suffix .icon-button:hover{--icon-arrow:var(--dynamic-text-secondary);--icon-background:var(--dynamic-hover)}.login-with-email-form .input__suffix .icon-button--has-content,.login-with-email-form .input__suffix .icon-button--has-content:hover{--icon-arrow:var(--dynamic-base-2);--icon-background:var(--dynamic-brand-primary-color)}.list-item-button{background:none;box-shadow:none}.list-item-button__trailing{position:relative}.list-item-button__trailing-child{position:absolute;right:0;transition-property:opacity,transform;transition-timing-function:ease-in}.list-item-button__trailing-label{transform:translateY(-50%);transition-duration:.2s}.list-item-button__trailing-icon{transition-duration:.3s}.list-item-button:hover .list-item-button__trailing-label,.list-item-button__trailing-icon{opacity:0;transform:translate(-.625rem,-50%)}.list-item-button:hover .list-item-button__trailing-icon{opacity:1;transform:translateY(-50%)}.login-with-email-wallet-list__skeleton{border-radius:calc(var(--dynamic-border-radius)/2);height:2.625rem;margin-bottom:.5rem}.login-with-email-wallet-list__container{display:flex;flex-direction:column;gap:.375rem}.connect-with-wallet-button{height:2.5rem}.toggleable-section{align-items:stretch;display:flex;flex-direction:column;gap:.75rem}.toggleable-section__toggle-prompt{align-items:center;display:flex;justify-content:space-between}.toggleable-section__toggle-prompt__button{cursor:pointer;margin:-.75rem 0 0 -.75rem;outline:none;padding:.75rem 0 0 .75rem}.toggleable-section__toggle-prompt__button__text{outline:none;transition:all .2s}.toggleable-section__toggle-prompt__button:focus .toggleable-section__toggle-prompt__button__text,.toggleable-section__toggle-prompt__button:focus-visible .toggleable-section__toggle-prompt__button__text,.toggleable-section__toggle-prompt__button:hover .toggleable-section__toggle-prompt__button__text{background-color:var(--dynamic-brand-secondary-color)}.login-with-phone-number-form{display:flex;flex-direction:column;gap:.375rem}.login-with-phone-number-form__fields{align-items:stretch;display:flex;position:relative;width:100%}.login-with-phone-number-form__fields__country-code{align-items:center;background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*.4) 0 0 calc(var(--dynamic-border-radius)*.4);border-right:none;cursor:pointer;display:flex;padding-left:.75rem;position:relative;transition:all .2s ease;width:6.25rem}.login-with-phone-number-form__fields__country-code--disabled{background-color:var(--dynamic-base-3);pointer-events:none}.login-with-phone-number-form__fields__country-code__flag{margin-right:.5rem}.login-with-phone-number-form__fields__country-code__plus{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-with-phone-number-form__fields__country-code__container{align-items:center;display:flex;flex:1;pointer-events:none}.login-with-phone-number-form__fields__country-code__container .login-with-phone-number-form__fields__country-code__container__input{border:none;flex:1;padding:0;width:100%}.login-with-phone-number-form__fields__country-code__chevron{cursor:pointer;position:absolute;right:.5rem;width:1rem}.login-with-phone-number-form__fields__phone-number{align-items:center;display:flex;flex:1;position:relative}.login-with-phone-number-form__fields__phone-number .login-with-phone-number-form__fields__phone-number__input{border-radius:0 calc(var(--dynamic-border-radius)*.4) calc(var(--dynamic-border-radius)*.4) 0;padding-left:.75rem}.login-with-phone-number-form__fields__placeholder{align-self:center;color:var(--dynamic-text-secondary);left:7.0625rem;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-with-phone-number-form__fields__inline-submit{align-self:center;position:absolute;right:.75rem}.login-with-phone-number-form__dropdown{width:calc(var(--dynamic-modal-width) - 3rem)}.login-with-phone-number-form__dropdown__items{display:flex;flex-direction:column}.login-with-phone-number-form__dropdown__items__country{align-items:center;cursor:pointer;display:flex;gap:.375rem;padding:.375rem .75rem}.login-with-phone-number-form__dropdown__items__country__flag{width:1.5rem}.login-with-phone-number-form__dropdown__items__country__name{font-size:var(--dynamic-text-size-body-small)}.login-with-phone-number-form__dropdown__items__country__code{color:var(--dynamic-text-secondary);font-size:var(--dynamic-text-size-body-small)}.login-with-phone-number-form__dropdown__items__country:hover{background-color:var(--dynamic-base-4)}.login-with-phone-number-form__dropdown__items__country--selected{background-color:var(--dynamic-base-3)}.login-with-phone-number-form__error-message{color:var(--dynamic-error-1);padding:.5rem 0}.login-with-phone-number-form input::-webkit-inner-spin-button,.login-with-phone-number-form input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.login-with-phone-number-form input[type=number]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.login-view__text{padding:.5rem 0}.login-view__error-container{margin:0}.login-view__container{padding:var(--dynamic-initial-view-content-padding)}.login-view__container--error{padding:var(--dynamic-layout-content-error-padding)}@media (pointer:coarse){.login-view__container{padding:.75rem}}.login-view__scroll{align-items:stretch;gap:.375rem;height:100%;max-height:36.25rem;overflow:auto}.login-view__scroll,.login-view__scroll__section{display:flex;flex-direction:column}.login-view__scroll__section--emailAndPhone+.login-view__scroll__section--social{margin-top:1rem}.login-view__scroll::-webkit-scrollbar,.login-view__scroll::-webkit-scrollbar-track{display:none}.login-view__scroll::-webkit-scrollbar-thumb{display:none}.login-view__scroll:empty{display:flex}.login-view__scroll--full-height{height:100vh}.login-view__scroll--email-first{flex-direction:column-reverse}.login-view__scroll__web2{display:flex;flex-direction:column;gap:.75rem}.login-view__passkey-button{align-items:center;display:flex;gap:.5rem;height:2.5rem}.login-view__passkey-button .icon-list-tile--children{gap:.25rem}.mobile-wallet-redirect{align-items:stretch;display:flex;flex-direction:column;gap:1.5rem;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mobile-wallet-redirect__icon-with-spinner{align-self:center}.mobile-wallet-redirect__copy-text{align-self:center;max-width:20rem;text-align:center}.mobile-wallet-redirect__alert{text-align:center}.mobile-wallet-redirect__wallet-app{align-items:center;background-color:var(--dynamic-base-2);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex-wrap:wrap;gap:.875rem;justify-content:space-between;padding:.625rem .75rem}.mobile-wallet-redirect__wallet-app__group{align-items:center;display:flex;gap:.5rem}.mobile-wallet-redirect__wallet-app__group__app-store{text-align:right}.captcha-verify-user__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:0 1.5rem 1.5rem;text-align:center}.captcha-verify-user__icon{height:4rem;margin-bottom:1rem;width:4rem}.captcha-verify-user__title{margin-bottom:.375rem}.captcha-verify-user__subtitle{margin-bottom:1rem}.captcha-verify-user__dynamic-logo{margin-top:1rem}.network-not-supported-switch-manual{margin-top:-1.5rem;padding:0 1.5rem 1.5rem}.network-not-supported-switch-manual__img-container{align-items:center;display:flex;justify-content:center;margin-bottom:1rem}.network-not-supported-switch-manual__img{border-radius:100%;height:4rem;width:4rem}.network-not-supported-switch-manual__network-container{position:relative}.network-not-supported-switch-manual__content{text-align:center}.network-not-supported-switch-manual__title{margin:0 0 .375rem}.wallet-group__list{display:flex;flex-direction:column}.wallet-locked-view__error-container{align-items:center;display:flex;justify-content:center}.wallet-locked-view__button-header{margin:.75rem}.wallet-locked-view__button{margin:.75rem auto auto}.wallet-locked-view__icon{margin:auto}.wallet-locked-view__content{padding:0 var(--dynamic-modal-padding) 2.1875rem;text-align:center}@media (pointer:coarse){.wallet-locked-view__content{padding:0 .75rem}}.wallet-locked-view__title{margin-top:.75rem}.wallet-locked-view__log-out{margin:.75rem auto 0}.merge-user-accounts__error{margin-bottom:.75rem;padding:.75rem 1.5rem}.merge-user-accounts__container{display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}@media (pointer:coarse){.merge-user-accounts__container{padding:0 .75rem}}.merge-user-accounts-conflicts__error{margin-bottom:.75rem;padding:.75rem 1.5rem}.merge-user-accounts-conflicts__container{display:flex;flex-direction:column}@media (pointer:coarse){.merge-user-accounts-conflicts__container{padding:0 .75rem}}.merge-user-accounts-conflicts__description{padding:0 1.5rem .75rem}.merge-user-accounts-conflicts__fields{display:flex;flex-direction:column;gap:1rem;max-height:22.5rem;overflow-y:auto;padding:.75rem 1.5rem}.merge-user-accounts-conflicts__fields__item{display:flex;flex-direction:column;gap:.5rem}.merge-user-accounts-conflicts__fields__item__button{padding:.5rem .75rem}.merge-user-accounts-conflicts__buttons{background:var(--dynamic-base-1);box-shadow:0 -8px 48px -8px rgba(109,121,165,.16);display:flex;flex-direction:column;gap:.5rem;padding:.75rem 1.5rem}.merge-user-accounts-with-same-email__container{padding:0 1.5rem 1.5rem}@media (pointer:coarse){.merge-user-accounts-with-same-email__container{padding:0 .75rem}}.merge-user-accounts-with-same-email__accounts{align-items:center;display:flex;justify-content:space-between;margin:-1.5rem auto 1.5rem;max-width:270px;width:100%}.merge-user-accounts-with-same-email__accounts__item{align-items:center;display:flex;flex-direction:column;gap:.625rem;justify-content:center;width:100%}.merge-user-accounts-with-same-email__accounts__item__icon{height:3.5rem;width:3.5rem}.merge-user-accounts-with-same-email__accounts__divider{height:16px;margin-top:-1.5rem;width:16px}.merge-user-accounts-with-same-email__accounts__divider__icon>path{fill:var(--dynamic-text-secondary)}.merge-user-accounts-with-same-email__text{text-align:center}.merge-user-accounts-with-same-email__text__header{color:var(--dynamic-text-primary);margin-bottom:.5rem}.merge-user-accounts-with-same-email__text__body{color:var(--dynamic-text-secondary);margin-bottom:1rem}.merge-user-accounts-with-same-email__text--bold{font-weight:700}.merge-user-accounts-with-same-email__buttons{display:flex;flex-direction:column;gap:.5rem}.merge-user-accounts-with-same-email__buttons__button{width:100%}.wallet-cannot-be-transferred-view__container{padding:var(--dynamic-modal-padding);text-align:center}.wallet-cannot-be-transferred-view__icon{display:flex;justify-content:center;margin:0 0 .5rem}.wallet-cannot-be-transferred-view__icon svg{margin:0 auto}.wallet-cannot-be-transferred-view__shorten-wallet-address{margin:0 0 1rem}.wallet-cannot-be-transferred-view__title{margin:0 0 .375rem}.wallet-cannot-be-transferred-view__copy{margin:0 0 .75rem}.wallet-cannot-be-transferred-view__transfer-alt-wallet-button{margin:0 0 1rem}.wallet-cannot-be-transferred-view__footer{margin:0 0 .5rem}.wallet-cannot-be-transferred-view__cancel{background:none;border:none;box-shadow:none;margin:auto}.user-field-editor__header{align-items:center;display:flex;flex-direction:column;gap:1.25rem;text-align:center}.user-field-editor__header__icon{align-items:center;background-color:var(--dynamic-base-2);border-radius:50%;display:flex;height:4rem;justify-content:center;width:4rem}.user-field-editor__body{align-items:center;display:flex;flex-direction:column;gap:.5rem;margin:0 1.5rem 1.5rem;text-align:center}.user-field-editor__body__subtitle{margin-block:-.375rem .5rem}.user-field-editor__body__form{width:100%}.passkey-intro-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-intro-view__header{display:flex;width:100%}.passkey-intro-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-intro-view__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-intro-view__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-intro-view__log-out{font-size:.875rem;justify-content:center;line-height:20px}.passkey-intro-view__log-out:hover{background-color:transparent}.passkey-intro-view__skip{color:var(--dynamic-text-secondary);font-size:.875rem;justify-content:center;line-height:1rem}.passkey-intro-view__skip:hover{background-color:transparent}.passkey-recovery-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-recovery-view__header{align-items:center;display:flex;justify-content:center;margin-bottom:-5rem;width:12.875rem}.passkey-recovery-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-recovery-view__input-valid{background:var(--dynamic-success-2)!important;border-color:var(--dynamic-success-1)!important}.passkey-recovery-view__input-valid,.passkey-recovery-view__input-valid~.input__label{color:var(--dynamic-success-1)!important}.passkey-recovery-view__form{display:flex;flex-direction:column;width:100%}.passkey-recovery-view__skip{justify-content:center;margin-top:1.5rem}.passkey-recovery-view__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-recovery-view__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-recovery-view__resend-code{align-items:center;display:flex;flex-direction:column}.passkey-recovery-view button.text-button:not(.passkey-recovery-view__skip){color:inherit}.edit-passkeys-widget-view,.edit-passkeys-widget-view__body{display:flex;flex-direction:column}.edit-passkeys-widget-view__body{flex:1;gap:1.25rem;justify-content:space-between;margin-top:1.25rem;padding:0 1.5rem 1.5rem}.edit-passkeys-widget-view__icon{height:100px;margin-left:auto;margin-right:auto;margin-top:-40px;width:100px}.edit-passkeys-widget-view__title{margin-left:auto;margin-right:auto;margin-top:1.25rem}.passkey-new-domain-detected{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.passkey-new-domain-detected__header{align-items:center;display:flex;justify-content:center}.passkey-new-domain-detected__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.passkey-new-domain-detected__inline-button{align-items:center;display:inline-flex;gap:.5rem;text-align:left}.passkey-new-domain-detected__inline-button svg path{fill:var(--dynamic-base-2)!important}.passkey-new-domain-detected__log-out{font-size:.875rem;justify-content:center;line-height:20px}.passkey-new-domain-detected__log-out:hover{background-color:transparent}.embedded-delete-view{display:flex;flex-direction:column;gap:.5rem;height:100%;overflow:auto}.embedded-delete-view__header{align-items:center;display:flex;justify-content:center}.embedded-delete-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:.75rem}.embedded-delete-view__body__description{display:flex;justify-content:center;text-align:center}.embedded-delete-view__body__badge{font-size:.75rem}.embedded-delete-view__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;margin-left:1.5rem;margin-right:1.5rem;max-height:21.875rem;overflow:auto;padding:.75rem}.embedded-delete-view__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.embedded-delete-view__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.embedded-delete-view__body__card__icon{color:var(--dynamic-text-tertiary);height:1.5rem;min-width:1.5rem;width:1.5rem}.embedded-delete-view__body__card__skeleton{border-radius:.75rem;height:3.75rem}.embedded-delete-view__body__confirm_card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.75rem;letter-spacing:-.15px;margin-bottom:.75rem;margin-left:1.5rem;margin-right:1.5rem;max-height:21.875rem;overflow:auto;padding:.625rem}.embedded-delete-view__body__button{height:3rem;width:9.4375rem}.embedded-delete-view__body__cta_button_wrapper{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:1.5rem;margin-left:1.5rem;margin-right:1.5rem}.embedded-reveal-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.embedded-reveal-view__header,.embedded-reveal-view__header__hero{align-items:center;display:flex;justify-content:center}.embedded-reveal-view__header__hero{width:13.75rem}.embedded-reveal-view__zerodev-warning{background-color:var(--dynamic-error-1);border-radius:.5rem;margin-bottom:1rem;padding:1.25rem}.embedded-reveal-view__zerodev-warning__title-row{align-items:center;display:flex;margin-bottom:.5rem}.embedded-reveal-view__zerodev-warning__icon{flex-shrink:0;height:1.25rem;margin-right:.5rem;width:1.25rem}.embedded-reveal-view__zerodev-warning__link-button{background:none;border:none;cursor:pointer;display:inline;font:inherit;margin-left:.25rem;padding:0}.embedded-reveal-view__zerodev-warning .typography{color:inherit}.embedded-reveal-view__zerodev-warning .typography.underline{text-decoration:underline}.embedded-reveal-view__coinbase{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);color:var(--dynamic-text-secondary);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;overflow-wrap:break-word;padding:.75rem}.embedded-reveal-view__body{display:flex;flex:1;flex-direction:column;gap:.75rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.embedded-reveal-view__body--waas-credentials{padding-top:0}.embedded-reveal-view__body__description{display:flex;flex-direction:column;gap:1rem;justify-content:center;text-align:center}.embedded-reveal-view__body__badge,.embedded-reveal-view__body__badge-container{display:flex;justify-content:center}.embedded-reveal-view__body__badge{font-size:.75rem}.embedded-reveal-view__body__card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.625rem;max-height:21.875rem;overflow:auto;padding:.75rem}.embedded-reveal-view__body__card__statement{display:flex;gap:.5rem;letter-spacing:-.15px}.embedded-reveal-view__body__card__statement__text{display:flex;gap:.25rem}.embedded-reveal-view__body__card__acknowledgement{display:flex;gap:.5rem;text-align:left}.embedded-reveal-view__body__card__icon{color:var(--dynamic-text-tertiary);height:1rem;min-width:1rem;width:1rem}.embedded-reveal-view__body__card__skeleton{border-radius:.75rem;height:3.75rem}.embedded-reveal-view__body__confirm_card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);display:flex;flex:1;flex-direction:column;gap:.75rem;letter-spacing:-.15px;max-height:21.875rem;overflow:auto;padding:1rem}.embedded-reveal-view__body__button_section{display:flex;width:100%}.embedded-reveal-view__body__unlink_button{text-decoration:underline}.embedded-reveal-view__body__bullet-list{display:flex;flex-direction:column;gap:.25rem;margin:0;padding-left:1.5rem}.embedded-reveal-view__body__bullet-list li{color:var(--dynamic-text-primary)}.embedded-auth-choice{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.embedded-auth-choice__header{align-items:center;display:flex;justify-content:center;width:100%}.embedded-auth-choice__support-links{display:flex;flex-direction:column;gap:.25rem;width:100%}.embedded-auth-choice__skip-button{margin-top:-.25rem}.action-card{background-color:var(--dynamic-base-2);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);display:flex;padding:1rem;text-align:left;transition:all .2s ease}.action-card:hover{box-shadow:var(--dynamic-button-shadow)}.action-card__icon{height:1.75rem;min-width:1.75rem;width:1.75rem}.action-card__icon,.action-card__icon path{fill:var(--dynamic-text-tertiary)}.action-card__action-icon{margin-left:auto;min-width:1rem;transform:rotate(180deg);width:1rem}.action-card__content{display:flex;flex-direction:column;gap:.25rem;margin-left:8px}.action-card__content__row{align-items:flex-start;display:flex;gap:.375rem}.action-card__content__row__badge--primary{background:var(--dynamic-brand-primary-color);color:var(--dynamic-base-2)}.embedded-auth-choice-cards{display:flex;flex-direction:column;gap:.625rem;width:100%}.auth-choice-info{align-items:flex-start;align-self:stretch;background:var(--default-base-2,#fff);border:1px solid var(--default-base-4,#e7e8ed);border-radius:12px;display:flex;flex-direction:column;gap:12px;justify-content:center;padding:16px 12px 12px}.auth-choice-info__container-item{display:flex;flex-direction:row;gap:.5rem;text-align:start}.setup-passkey-view{align-items:center;display:flex;flex-direction:column;text-align:center}.setup-passkey-view__header{align-items:center;display:flex;justify-content:center}.setup-passkey-view__header-banner{margin-bottom:.75rem}.setup-passkey-view__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:var(--dynamic-layout-content-padding)}.setup-passkey-view__choose-another-method{display:flex;justify-content:center;margin-bottom:1.5rem;width:100%}.setup-passkey-view__choose-another-method-button{color:var(--dynamic-text-link)}.waas-upgrade-view{display:flex;flex-direction:column;height:80%;overflow:hidden}.waas-upgrade-view__content{display:flex;flex:1;flex-direction:column;gap:.75rem;overflow:auto;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem}.waas-upgrade-view__illustration{align-items:center;display:flex;justify-content:center}.waas-upgrade-view__illustration svg{height:7rem;width:20.5rem}.waas-upgrade-view__wallets-section{display:flex;flex-direction:column}.waas-upgrade-view__section-header{align-items:center;display:flex;justify-content:space-between;padding:.75rem 0}.waas-upgrade-view__wallets-list{display:flex;flex-direction:column;gap:.5rem;max-height:12.5rem;overflow-y:auto;padding:.125rem}.waas-upgrade-view__wallet-item{align-items:center;border-radius:.5rem;display:flex;gap:.75rem;transition:all .2s ease}.waas-upgrade-view__wallet-checkbox{flex-shrink:0}.waas-upgrade-view__wallet-info{flex:1;min-width:0}.waas-upgrade-view__wallet-details{align-items:center;display:flex;gap:.5rem;justify-content:space-between}.waas-upgrade-view__options-section{display:flex;flex-direction:column;gap:.75rem}.waas-upgrade-view__options-title{margin-bottom:.25rem}.waas-upgrade-view__option{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;cursor:pointer;display:flex;gap:.375rem;padding:.75rem}.waas-upgrade-view__option:hover{box-shadow:0 4px 12px rgba(0,0,0,.1)}.waas-upgrade-view__option--selected{background:var(--dynamic-brand-secondary-color);border:1.5px solid var(--dynamic-brand-primary-color);border-radius:.75rem}.waas-upgrade-view__option--selected:hover{box-shadow:0 4px 12px rgba(0,0,0,.1)}.waas-upgrade-view__option-icon{align-items:center;display:flex;flex-shrink:0;height:1.5rem;justify-content:center;margin-top:.125rem;width:1.5rem}.waas-upgrade-view__option-icon svg{color:var(--dynamic-text-secondary);height:1.25rem;width:1.25rem}.waas-upgrade-view__option-checkbox{flex-shrink:0;margin-top:.125rem}.waas-upgrade-view__option-content{display:flex;flex:1;flex-direction:column;gap:.25rem;min-width:0;position:relative}.waas-upgrade-view__recommended-badge{display:flex;gap:.5rem}.waas-upgrade-view__recommended-badge-text{background-color:var(--dynamic-brand-primary-color);color:#fff}.waas-upgrade-view__actions{display:flex;flex-direction:column;gap:.5rem;margin-top:auto;padding-top:.25rem}.waas-upgrade-view__upgrade-button{font-weight:500;text-align:center;transition:all .2s ease}.waas-upgrade-view__upgrade-button:hover:not(:disabled){opacity:.9}.waas-upgrade-view__upgrade-button:disabled{cursor:not-allowed;opacity:.5}.waas-upgrade-view__new-version-message{padding-left:.75rem;padding-right:.75rem;text-align:center}@media (max-width:480px){.waas-upgrade-view__content{gap:.5rem;padding:1rem}.waas-upgrade-view__illustration svg{height:6rem;width:17.5rem}.waas-upgrade-view__option,.waas-upgrade-view__wallet-item{padding:.75rem}.waas-upgrade-view__wallets-list{max-height:9.375rem}}.confirm-passkey-view{align-items:center;display:flex;flex-direction:column;text-align:center}.confirm-passkey-view__header{align-items:center;display:flex;justify-content:center}.confirm-passkey-view__header-banner{margin-bottom:.75rem}.confirm-passkey-view__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:var(--dynamic-layout-content-padding)}.confirm-passkey-view__choose-another-method{display:flex;justify-content:center;margin-bottom:1.5rem;width:100%}.confirm-passkey-view__choose-another-method-button{color:var(--dynamic-text-link)}.select-hardware-wallet-view__container{align-items:stretch;display:flex;flex-direction:column;padding:var(--dynamic-layout-content-padding)}.select-hardware-wallet-view__icon{height:6rem;margin:0 auto .75rem;width:4rem}.select-hardware-wallet-view__text{padding-bottom:1rem;text-align:center}.wallet-redirect-view__container{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-modal-padding)}.wallet-redirect-view__container .wallet-redirect-view__title{color:var(--dynamic-text-primary);line-height:2.25rem}.wallet-redirect-view__container .powered-by-dynamic{margin-top:1.5rem}.mfa-choose-device-view__body{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mfa-choose-device-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;text-align:center;width:75%}.mfa-choose-device-view__button{box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;gap:.25rem;margin-top:.75rem;text-align:left}.mfa-choose-device-view__button__header{align-items:center;display:flex;justify-content:space-between;width:100%}.mfa-choose-device-view__button__description.mfa-choose-device-view__button__description{font-size:var(--dynamic-text-size-body-small)}.mfa-choose-device-view__icon--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg);width:1rem}.mfa-choose-device-view__logout{margin-top:1.125rem}.mfa-secure-device-view__body{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:var(--dynamic-layout-content-padding)}.mfa-secure-device-view__copy{color:var(--dynamic-text-secondary);line-height:1.25rem;text-align:center;width:75%}.mfa-secure-device-view__button,.mfa-secure-device-view__logout-button{box-shadow:var(--dynamic-shadow-down-1);margin-top:.75rem}.mfa-secure-device-view__loading-spinner{height:394px}.mfa-secure-device-view__qrcode{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*.6);display:flex;flex-direction:column;gap:.625rem;margin:1rem 0;padding:.75rem}.mfa-secure-device-view__qrcode .button-container{display:flex;gap:.5rem;justify-content:center;width:100%}.mfa-secure-device-view__qrcode .button-container svg path{fill-opacity:100%}.mfa-secure-device-view__qrcode .button-container .qr-code-button{height:2.375rem}.mfa-display-backup-codes-view__body{align-items:center;display:flex;flex-direction:column;gap:1rem;justify-content:center;padding:var(--dynamic-layout-content-padding);text-align:center}.mfa-display-backup-codes-view__warning{border-radius:var(--dynamic-border-radius);padding:.25rem .5rem}.mfa-display-backup-codes-view__loading-spinner{height:19.5rem}.mfa-display-backup-codes-view__codes{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.mfa-display-backup-codes-view__code{background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-button-primary-border);border-radius:var(--dynamic-border-radius);color:var(--dynamic-text-secondary);padding:.75rem 1.125rem;text-align:center;width:8.75rem}.mfa-display-backup-codes-view__actions{display:flex;gap:.5rem;width:100%}.mfa-display-backup-codes-view__actions button{border-radius:calc(var(--dynamic-border-radius)/3)}.mfa-display-backup-codes-view__complete{display:flex;flex-direction:column;gap:.5rem;width:100%}.mfa-display-backup-codes-view__acknowledgement{border-radius:calc(var(--dynamic-border-radius)/3);justify-content:left}.mfa-display-backup-codes-view__acknowledgement .typography{font-size:var(--dynamic-text-size-button-secondary);font-weight:500}.mfa-recovery-view{align-items:center;display:flex;flex-direction:column;gap:1rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center}.mfa-recovery-view__body{padding:.3125rem,0}.mfa-recovery-view__actions{display:flex;flex-direction:column;gap:.625rem;width:100%}.mfa-recovery-view__get-help{padding:.3125rem,0}.mfa-verification-view__choose-another-method{align-items:center;display:flex;flex-direction:column;gap:.5rem;justify-content:center;margin-bottom:1.5rem;width:100%}.mfa-verification-view__choose-another-method-button{color:var(--dynamic-text-link)}.access-blocked__container{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;padding:.3125rem}.access-blocked__icon{margin-bottom:.3125rem}.access-blocked__content{margin:.9375rem 0;padding:0 .625rem .625rem;text-align:center}.switch-wallet{white-space:pre-line}.switch-wallet__body{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);margin-top:.625rem;padding:1rem 0;width:100%}.switch-wallet__body__divider{gap:0;padding:.75rem 0}.switch-wallet__body__divider svg{transform:rotate(90deg)}.switch-wallet__body__expected-address__prompt{margin-bottom:.5rem;margin-top:1rem}.switch-wallet__body__expected-address__address{font-size:1.5rem;line-height:1.25rem}.sync-wallet-view .qr-code-wrapper{padding-top:.5rem}.sync-wallet-view .prompt-modal-portal,.sync-wallet-view .prompt-modal-portal__container{position:relative}.mfa-qrcode-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.mfa-qrcode-help-content__vertical-container{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:column}.mfa-qrcode-help-content__setup-container{font-family:Arial,sans-serif;margin:0 auto;max-width:400px;width:100%}.mfa-qrcode-help-content__step{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);color:gray;display:flex;flex-direction:row;height:100%;justify-content:flex-start;margin-bottom:.625rem;max-width:100%;padding:1rem}.mfa-qrcode-help-content__step__title{margin-bottom:.3125rem}.mfa-qrcode-help-content__step__number{align-items:center;align-self:flex-start;background-color:var(--dynamic-base-4);border-radius:50%;color:var(--dynamic-brand-primary-color);display:flex;height:1.5rem;justify-content:center;margin-right:.625rem;min-width:1.5rem;width:1.5rem}.mfa-qrcode-help-content__step__nocopy-box{align-items:center;border:var(--dynamic-button-primary-border);border-radius:.3125rem;display:flex;justify-content:space-between;padding:.625rem}.mfa-qrcode-help-content__step__nocopy-text{word-break:break-all}.mfa-qrcode-help-content__copy-button{background-color:transparent;border:none;cursor:pointer}.sandbox-threshold__main{align-items:center;background:var(--dynamic-base-1);display:flex;flex-direction:column;justify-content:center;padding:0 var(--dynamic-modal-padding) 1.125rem}.sandbox-threshold__title{color:var(--dynamic-text-primary);line-height:1.5rem;text-align:center}.sandbox-threshold__description{color:var(--dynamic-text-secondary);line-height:1.25rem;margin-bottom:1.5rem;margin-top:.75rem;text-align:center}.sandbox-threshold__button{box-shadow:var(--dynamic-shadow-down-1)}.global-wallet-confirm .popup-content .wallet-connection-view{align-items:center;display:flex;flex-direction:column;padding:24px}.global-wallet-confirm .popup-content .wallet-connection-view .dapp-icon{height:64px;margin-bottom:16px;width:64px}.global-wallet-confirm .popup-content .wallet-connection-view .connection-title{color:var(--dynamic-text-primary);margin-bottom:16px;text-align:center}.global-wallet-confirm .popup-content .wallet-connection-view .dapp-url{color:var(--dynamic-text-secondary);margin-bottom:24px;text-align:center}.global-wallet-confirm .popup-content .wallet-connection-view .button-group{display:flex;gap:16px;width:100%}.global-wallet-confirm .popup-content .wallet-connection-view .button-group button{cursor:pointer;flex:1}.global-wallet-confirm .popup-content .wallet-connection-view .button-group button.cancel-button{background-color:var(--dynamic-base-2)}.global-wallet-confirm .popup-content .wallet-connection-view .button-group button.connect-global-button{background-color:#3b82f6;color:#fff}.info-card .wrapper{background:var(--dynamic-base-2);border:1px solid var(--dynamic-border-2);border-radius:16px;display:flex;flex-direction:column;gap:.75rem;padding:1.5rem;text-align:left}.inline-icon-text{display:inline}.inline-icon-text svg{display:inline-block;height:1em;margin:0 .25em;vertical-align:middle;width:1em}.nowrap{align-items:center;display:inline-flex;white-space:nowrap}.learn-more-link{align-items:center;display:flex;justify-content:center;padding:4px;pointer-events:auto;text-decoration:none}.learn-more-link svg{cursor:pointer;height:.5rem;margin-left:.25rem;width:.5rem}.malicious-site-view .popup-content .wallet-connection-view{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:24px;text-align:center}.malicious-site-view .popup-content .wallet-connection-view .header{align-items:center;display:flex;justify-content:center;margin-bottom:16px;width:100%}.malicious-site-view .popup-content .wallet-connection-view .header .back-button{background:none;border:none;cursor:pointer;left:24px;padding:8px;position:absolute}.malicious-site-view .popup-content .wallet-connection-view .header h1{color:var(--dynamic-text-primary);margin:0}.malicious-site-view .popup-content .wallet-connection-view .warning-card{align-items:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;margin-bottom:16px;padding:16px;width:100%}.malicious-site-view .popup-content .wallet-connection-view .warning-card .warning-icon{height:48px;margin-bottom:8px;width:48px}.malicious-site-view .popup-content .wallet-connection-view .connection-title{margin-top:16px}.malicious-site-view .popup-content .wallet-connection-view .site-info{color:var(--dynamic-text-secondary);padding:16px}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container{border-radius:12px;display:flex;flex-direction:column;margin-top:16px;padding:16px;position:relative}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container.definitely-malicious{background-color:var(--dynamic-error-2)}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container.unknown{background-color:#f4d09a}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle-header-container{align-items:flex-start;display:flex;margin-bottom:4px}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle-header-container .caution-icon{height:24px;left:16px;position:absolute;top:16px;width:24px}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle-header-container .subtitle-header{flex:1;margin-bottom:0;margin-left:32px;text-align:left}.malicious-site-view .popup-content .wallet-connection-view .subtitle-container .subtitle{margin-top:0;padding-left:32px;text-align:left}.malicious-site-view .popup-content .wallet-connection-view .button-group{display:flex;gap:16px;margin-top:16px;width:100%}.malicious-site-view .popup-content .wallet-connection-view .button-group button{cursor:pointer;flex:1}.malicious-site-view .popup-content .wallet-connection-view .button-group button.cancel-button{background-color:var(--dynamic-base-2)}.malicious-site-view .popup-content .wallet-connection-view .button-group button.proceed-button{background-color:inherit;box-shadow:none}.add-network-view{display:flex;flex-direction:column}.add-network-view__description,.add-network-view__title{text-align:center}.add-network-view__text-container{display:flex;flex-direction:column;gap:.25rem}.add-network-view__body{align-items:center;display:flex;flex-direction:column;gap:1rem;padding:var(--dynamic-layout-content-padding);text-align:center}.add-network-view__network-icon{height:4rem;width:4rem}.add-network-view__actions{display:flex;gap:.25rem;width:100%}.subdomain-field__container{align-items:flex-start;display:flex;flex-direction:row;gap:.25rem}.subdomain-field__container span{margin-top:.875rem}.subdomain-field__details{margin-top:.5rem}.wallet-already-exists-view__container{align-items:center;display:flex;flex-direction:column;padding-bottom:24px;padding-left:24px;padding-right:24px;text-align:center}.wallet-already-exists-view__icon{align-items:center;display:flex;height:64px;justify-content:center;margin-bottom:8px;width:64px}.wallet-already-exists-view__shorten-wallet-address{margin-bottom:8px}.wallet-already-exists-view__copy{max-width:320px}.delete-account-view{background:var(--dynamic-base-1);display:flex;flex-direction:column;width:100%}.delete-account-view__content{align-items:center;display:flex;flex-direction:column;gap:24px;padding:0 24px 24px;width:100%}.delete-account-view__content .warning-section{align-items:center;display:flex;flex-direction:column;gap:8px;padding-top:.75rem;width:100%}.delete-account-view__content .warning-section .warning-icon-container{height:64px;position:relative;width:64px}.delete-account-view__content .warning-section .warning-icon-container .warning-icon{color:var(--dynamic-error-1);height:100%;width:100%}.delete-account-view__content .warning-section .warning-icon-container .exclamation-icon{color:var(--dynamic-text-white);height:24px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:24px}.delete-account-view__content .message-box{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/2);box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;padding:12px;width:100%}.delete-account-view__content .confirmation-section{align-items:flex-start;display:flex;flex-direction:column;gap:24px;width:100%}.delete-account-view__content .confirmation-section .checkbox-container{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:var(--dynamic-border-radius);box-sizing:border-box;display:flex;flex-direction:row;gap:8px;padding:10px;width:100%}.delete-account-view__content .confirmation-section .input-section{display:flex;flex-direction:column;gap:8px;width:100%}.delete-account-view__content .button-group{display:flex;flex-direction:row;gap:24px;margin-top:auto;width:100%}.delete-account-view__content .button-group .cancel-button,.delete-account-view__content .button-group .delete-button{border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);flex:1;height:48px}.delete-account-view__content .button-group .cancel-button{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);color:var(--dynamic-text-primary)}.session-permissions-view{display:flex;flex-direction:column;gap:.25rem}.session-permissions-view__header{padding:.25rem 0}.session-permissions-view__card{align-items:flex-start;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:.5rem;display:flex;flex-direction:column;gap:.5rem;margin-bottom:.25rem;padding:.75rem}.session-permissions-view__card-permission{align-items:center;display:flex;flex-direction:row;gap:.5rem}.session-permissions-view__token-card{align-items:center;flex-direction:row;justify-content:space-between}.session-permissions-view__token{align-items:center;display:flex;gap:.5rem}.session-permissions-view__spending{align-items:flex-end;display:flex;flex-direction:column}.session-permissions-view__panel{background-color:var(--dynamic-base-1);border:1px solid var(--dynamic-base-3);border-radius:.5rem;display:flex;flex-direction:column;margin-top:.5rem;overflow:hidden}.session-permissions-view__panel-toggle{background-color:var(--dynamic-base-1);padding:.75rem}.session-permissions-view__panel-toggle-label{align-items:flex-start;flex-direction:column}.session-permissions-view__panel-content{display:flex;flex:1;width:100%}.session-permissions-view__panel-content .textarea__container{display:flex;flex:1}.session-permissions-view__panel-content .textarea__container .textarea{border:none;border-radius:0}.session-key-approval-view{display:flex;flex-direction:column;gap:.5rem;overflow-y:auto}.session-key-approval-view__body{display:flex;flex-direction:column;gap:1rem;padding:0 1.5rem}.session-key-approval-view__footer{display:flex;flex-direction:column;gap:.5rem;padding:1rem 1.5rem}.backup-unsuccessful-view{display:flex;flex-direction:column;margin:0 auto;max-width:480px;min-height:auto;text-align:center}.backup-unsuccessful-view__content{padding:16px 24px 24px}.backup-unsuccessful-view .backup-icon-container{align-items:center;display:flex;height:64px;justify-content:center;margin-bottom:16px;margin-left:auto;margin-right:auto;position:relative;width:64px}.backup-unsuccessful-view .backup-icon-container .backup-icon{height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.backup-unsuccessful-view .backup-icon-container .backup-icon svg{height:100%!important;width:100%!important}.backup-unsuccessful-view .backup-icon-container .warning-icon-container{height:40px;position:absolute;right:-30px;width:40px}.backup-unsuccessful-view .backup-icon-container .warning-icon-container .combined-icon{display:block;height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.backup-unsuccessful-view .backup-message{font-size:15px;line-height:1.5;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:32px}.backup-unsuccessful-view .button-group{display:flex;justify-content:center;margin:0 auto;width:100%}.backup-unsuccessful-view .button-group .retry-button{background-color:var(--dynamic-brand-primary-color);width:100%}.backup-unsuccessful-view .button-group .logout-button{font-weight:500}.backup-unsuccessful-view .button-group--with-help-section{padding-bottom:1rem}.backup-unsuccessful-view .logout-group{margin-top:.125rem}.search-instead__container{font-size:.75rem;line-height:1rem;margin-top:2.5rem;padding-bottom:1rem;text-align:center;transition-duration:.3s;transition-property:background-color,border-color,color,fill,stroke;width:100%}.search-instead__container__image{display:flex;justify-content:center;margin:.5rem auto}.exchange-list-item__tile{border-radius:calc(var(--dynamic-border-radius)/2)}.exchange-list__error-container{margin:0}.exchange-list__search-container{padding:var(--dynamic-search-padding)}.exchange-list__tabs-container{margin-bottom:.5rem}.exchange-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.exchange-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.exchange-list__scroll-container::-webkit-scrollbar,.exchange-list__scroll-container::-webkit-scrollbar-track{display:none}.exchange-list__scroll-container::-webkit-scrollbar-thumb{display:none}.exchange-list__scroll-container:empty{display:flex}.exchange-list__scroll-container--fixed-height{height:var(--dynamic-exchange-list-max-height)}.exchange-list__search-skeleton{height:2.625rem}.exchange-list__search-skeleton,.exchange-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.exchange-list__tile-skeleton{height:3rem;padding:.75rem}.exchange-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.exchange-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.duplicate-wallet-view__content{padding:0 var(--dynamic-modal-padding) 2.1875rem;text-align:center}@media (pointer:coarse){.duplicate-wallet-view__content{padding:0 .75rem}}.duplicate-wallet-view__title{margin-top:.75rem}.duplicate-wallet-view__icon{margin:auto}.duplicate-wallet-view__button{margin:1.5rem auto auto}.mfa-exchange-view__content{align-items:center;display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}.mfa-exchange-view__content__icon-description{align-items:center;display:flex;flex-direction:column;gap:.75rem}.mfa-exchange-view__content__icon-description__description-holder{align-items:center;display:flex;flex-direction:column;gap:.375rem}.mfa-exchange-view__content__icon-description__description-holder__description{text-align:center}.mfa-exchange-view__content__icon-description__icon-holder{align-items:center;display:flex;flex-direction:column;gap:.75rem}.mfa-exchange-view__content__icon-description__icon-holder__icon{height:6rem;width:6rem}.mfa-exchange-view__content__input,.mfa-exchange-view__content__input__input{align-items:center;border-radius:.75rem;display:flex;flex:1 0 0;gap:.5rem;height:3rem;justify-content:center;letter-spacing:.5rem;padding:.25rem .75rem;text-align:center;width:100%}.mfa-exchange-view__content__input__input{border:1px solid var(--default-base-4,#e7e8ed)}.mfa-exchange-view__content__confirm{align-items:center;align-self:stretch;display:flex;gap:.46875rem;justify-content:center;padding:.625rem .9375rem}.mfa-exchange-view__content__confirm__button{border-radius:.3125rem;width:100%}.exchange-whitelist-warning__content{align-items:center;display:flex;flex-direction:column;padding:0 1.5rem 1.5rem}.exchange-whitelist-warning__content__icon-holder{align-items:center;display:flex;flex-direction:column;padding-bottom:0;padding-top:.75rem}.exchange-whitelist-warning__content__modal-header{align-items:center;padding-top:0}.exchange-whitelist-warning__content__description{padding-top:.75rem;text-align:center}.exchange-whitelist-warning__content__steps{display:flex;flex-direction:column;gap:1rem;padding-top:1.5rem}.exchange-whitelist-warning__content__steps__step{align-items:center;display:flex;flex-direction:row;gap:.5rem}.exchange-whitelist-warning__content__steps__step__number-badge{align-items:center;background-color:var(--dynamic-brand-primary-color);border-radius:50%;box-sizing:border-box;color:#fff;display:flex;flex-shrink:0;font-size:1rem;font-weight:700;height:1.5rem;justify-content:center;line-height:1;padding:0;text-align:center;width:1.5rem}.exchange-whitelist-warning__content__steps__step__icon{color:var(--dynamic-brand-primary-color);flex-shrink:0}.exchange-whitelist-warning__content__address{align-items:flex-start;display:flex;flex-direction:column;gap:.25rem;padding-top:1.5rem;width:100%}.exchange-whitelist-warning__content__address__copy{align-items:center;display:flex;flex-direction:row;gap:.5rem;width:100%}.exchange-whitelist-warning__content__address__copy__copy-input{flex:9.5 9.5 0}.exchange-whitelist-warning__content__open{padding-top:1.25rem;width:100%}.exchange-whitelist-warning__content__open__button{align-items:center;width:100%}.exchange-whitelist-warning__content__instructions{align-items:center;display:flex;flex-direction:row;padding-top:1.25rem}.exchange-whitelist-warning__content__instructions__link{color:var(--dynamic-brand-primary-color)}.exchange-whitelist-warning__content__done{padding-top:.75rem;width:100%}.exchange-whitelist-warning__content__done__button{width:100%}.unified-list__error-container{margin:0}.unified-list__search-container{padding:var(--dynamic-search-padding)}.unified-list__tabs-container{margin-bottom:.5rem}.unified-list__scroll-container{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow:auto;padding:var(--dynamic-initial-view-content-padding)}.unified-list__scroll-container--error{padding:var(--dynamic-layout-content-error-padding)}.unified-list__scroll-container::-webkit-scrollbar,.unified-list__scroll-container::-webkit-scrollbar-track{display:none}.unified-list__scroll-container::-webkit-scrollbar-thumb{display:none}.unified-list__scroll-container:empty{display:flex}.unified-list__scroll-container--fixed-height{height:var(--dynamic-wallet-list-max-height)}.unified-list__search-skeleton{height:2.625rem}.unified-list__search-skeleton,.unified-list__tile-skeleton{border-radius:calc(var(--dynamic-border-radius)/2);margin-bottom:.5rem}.unified-list__tile-skeleton{height:3rem;padding:.75rem}.unified-list__tiny-footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible}.unified-list__tiny-footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.onramp-item__tile{border-radius:calc(var(--dynamic-border-radius)/2)}.onramp-item__icon{height:1.75rem;width:1.75rem}.wallet-upgrade-flow-view{display:flex;flex-direction:column;height:100%;width:100%}.wallet-upgrade-flow-view__header{padding:0}.wallet-upgrade-flow-view__steps{align-items:center;display:flex;gap:.75rem;justify-content:center}.wallet-upgrade-flow-view__step{align-items:center;display:flex;flex-direction:column;gap:.5rem;min-width:80px}.wallet-upgrade-flow-view__step--completed .wallet-upgrade-flow-view__step-indicator{background-color:var(--dynamic-brand-primary-color);border-color:var(--dynamic-brand-primary-color)}.wallet-upgrade-flow-view__step--completed .wallet-upgrade-flow-view__step-check{color:var(--dynamic-base-white)}.wallet-upgrade-flow-view__step--current .wallet-upgrade-flow-view__step-indicator{background-color:var(--dynamic-brand-primary-color);border-color:var(--dynamic-brand-primary-color)}.wallet-upgrade-flow-view__step--current .wallet-upgrade-flow-view__step-number{color:var(--dynamic-base-2)}.wallet-upgrade-flow-view__step-indicator{align-items:center;background-color:var(--dynamic-brand-secondary-color);border:2px solid var(--dynamic-border-color);border-radius:50%;color:var(--dynamic-base-white);display:flex;font-size:14px;font-weight:600;height:32px;justify-content:center;transition:all .2s ease;width:32px}.wallet-upgrade-flow-view__step-check,.wallet-upgrade-flow-view__step-number{color:var(--dynamic-brand-primary-color);font-size:14px;font-weight:600}.wallet-upgrade-flow-view__step-title{text-align:center;white-space:nowrap}.wallet-upgrade-flow-view__step-container{align-items:center;display:flex}.wallet-upgrade-flow-view__content{display:flex;flex:1;flex-direction:column;gap:.75rem;overflow-y:auto;padding:0 1.5rem}.wallet-upgrade-flow-view__title-section{margin-bottom:.5rem;text-align:center}.wallet-upgrade-flow-view__subtitle{margin-top:.5rem}.wallet-upgrade-flow-view__export-section{display:flex;flex-direction:column;min-height:100px}.wallet-upgrade-flow-view__section-title{margin-bottom:.5rem}.wallet-upgrade-flow-view__input-section{display:flex;flex-direction:column;gap:1rem}.wallet-upgrade-flow-view__input-instructions{margin-bottom:.5rem;text-align:center}.wallet-upgrade-flow-view__input-container{display:flex;flex-direction:column;gap:.5rem}.wallet-upgrade-flow-view__private-key-input{background-color:var(--dynamic-background-color);border:1px solid var(--dynamic-border-color);border-radius:.5rem;color:var(--dynamic-text-primary-color);font-family:var(--dynamic-font-family-mono,"SF Mono","Monaco","Inconsolata","Fira Code","Droid Sans Mono","Source Code Pro",monospace);font-size:14px;line-height:1.4;min-height:48px;padding:.75rem 1rem;transition:border-color .2s ease,box-shadow .2s ease;width:100%}.wallet-upgrade-flow-view__private-key-input::-moz-placeholder{color:var(--dynamic-text-secondary-color)}.wallet-upgrade-flow-view__private-key-input::placeholder{color:var(--dynamic-text-secondary-color)}.wallet-upgrade-flow-view__private-key-input:focus{border-color:var(--dynamic-brand-primary-color);box-shadow:0 0 0 3px var(--dynamic-brand-primary-color-10);outline:none}.wallet-upgrade-flow-view__private-key-input:disabled{background-color:var(--dynamic-background-disabled-color);cursor:not-allowed;opacity:.6}.wallet-upgrade-flow-view__actions{display:flex;flex-direction:column;gap:.75rem;margin-top:auto;padding:1.5rem}.wallet-upgrade-flow-view__paste-input{margin-bottom:.75rem;margin-top:.75rem}.wallet-upgrade-flow-view__paste-input .input{font-family:var(--dynamic-font-family-mono,"SF Mono","Monaco","Inconsolata","Fira Code","Droid Sans Mono","Source Code Pro",monospace);line-height:1.4;min-height:80px!important;overflow-wrap:break-word;padding:1rem .75rem;white-space:pre-wrap;word-break:break-all}.wallet-upgrade-flow-view__step-separator{background-color:var(--dynamic-base-4);border-radius:1px;height:3px;margin:0 -.5rem;width:3rem}@media (max-width:480px){.wallet-upgrade-flow-view__steps{gap:1rem}.wallet-upgrade-flow-view__step{min-width:60px}.wallet-upgrade-flow-view__step-separator{margin:0 -.25rem;width:1.5rem}.wallet-upgrade-flow-view__step-indicator{font-size:12px;height:28px;width:28px}.wallet-upgrade-flow-view__step-title{font-size:12px}.wallet-upgrade-flow-view__content{gap:1.25rem;padding:0 1rem 1rem}}.embedded-delegated-view{display:flex;flex-direction:column;gap:var(--dynamic-wallet-list-tile-gap);height:100%;overflow:auto}.embedded-delegated-view__body{display:flex;flex:1;flex-direction:column;gap:1rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.embedded-delegated-view__body__description{display:flex;flex-direction:column;gap:.5rem;justify-content:center;text-align:center}.embedded-delegated-view__approval-section{align-items:center;display:flex;flex-direction:column;text-align:center}.embedded-delegated-view__approval-icon{align-items:center;background:var(--dynamic-brand-primary-color);border-radius:50%;box-shadow:none;display:flex;height:3.75rem;justify-content:center;position:relative;width:3.75rem}.embedded-delegated-view__approval-icon:before{display:none}.embedded-delegated-view__approval-icon svg{fill:#fff;color:#fff;display:block;height:1.5rem;width:1.5rem}.embedded-delegated-view__approval-title{color:var(--dynamic-text-primary);font-size:1rem!important;font-weight:600;margin-top:1rem}.embedded-delegated-view__approval-description{color:var(--dynamic-text-secondary);font-size:.875rem;line-height:1.5;margin-top:.375rem}.embedded-delegated-view__body__card{border-radius:.75rem;display:flex;flex:1;flex-direction:column;gap:.5rem;max-height:21.875rem;overflow:auto}.embedded-delegated-view__body__button_section{display:flex;flex-direction:column;gap:.5rem;width:100%}.embedded-delegated-view__body__button{width:100%}.embedded-delegated-view__body__button[data-testid=embedded-delegation-deny-button]{background-color:var(--dynamic-base-2)!important;border:1px solid var(--dynamic-base-4)!important}.embedded-delegated-view__wallet-selection{background:var(--dynamic-base-2);border-radius:.5rem;display:flex;flex-direction:column;gap:1rem;padding:.75rem}.embedded-delegated-view__wallet-selection__header{align-items:center;display:flex;justify-content:space-between}.embedded-delegated-view__wallet-selection__header-text{display:flex;gap:.375rem}.embedded-delegated-view__wallet-selection__deselect-all{background:none;border:none;cursor:pointer;padding:0}.embedded-delegated-view__wallet-selection__deselect-all p{text-decoration:underline;text-decoration-color:var(--dynamic-text-secondary);text-decoration-style:dotted;text-underline-offset:.25rem}.embedded-delegated-view__wallet-list{display:flex;flex-direction:column;gap:.25rem}.embedded-delegated-view__wallet-item{align-items:center;border-radius:.5rem;cursor:pointer;display:flex;padding:.625rem .875rem .625rem .625rem;transition:background-color .2s ease}.embedded-delegated-view__wallet-item--selected{background-color:var(--dynamic-base-1)}.embedded-delegated-view__wallet-item:hover:not(.embedded-delegated-view__wallet-item--selected){background-color:var(--dynamic-base-2)}.embedded-delegated-view__wallet-item__content{align-items:center;display:flex;gap:.5rem;width:100%}.embedded-delegated-view__wallet-item__icon{align-items:center;display:flex;justify-content:center}.embedded-delegated-view__wallet-item__info{display:flex;flex:1;flex-direction:column;gap:.25rem}.embedded-delegated-view__wallet-item__checkbox{align-items:center;display:flex}.embedded-delegated-view__error-icon{align-items:center;background:var(--dynamic-error-1);border-radius:50%;box-shadow:none;display:flex;height:3.75rem;justify-content:center;position:relative;width:3.75rem}.embedded-delegated-view__error-icon svg{color:#fff;height:1.5rem;width:1.5rem}.embedded-delegated-view__wallet-card-container{display:flex;flex-direction:column;gap:.5rem;padding:0}.embedded-delegated-view__wallet-card{align-items:center;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.125rem}.embedded-delegated-view__wallet-card-header{align-items:baseline;display:flex;gap:.25rem}.embedded-delegated-view__wallet-address{align-items:center;display:flex;gap:.5rem}.embedded-delegated-view__wallet-address-dot{background-color:var(--dynamic-brand-primary-color);border-radius:50%;height:.5rem;width:.5rem}.embedded-delegated-view__edit-selections-button{background:none;border:none;cursor:pointer;padding:0;position:relative}.embedded-delegated-view__edit-selections-button:hover{opacity:.8}.embedded-delegated-view__edit-selections-button p{text-decoration:underline;text-decoration-color:var(--dynamic-text-secondary);text-decoration-style:dotted;text-underline-offset:.25rem}.embedded-delegated-view__agreement-section{align-items:flex-start;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.5rem;cursor:pointer;display:flex;gap:.625rem;padding:.75rem 1.125rem}.embedded-delegated-view__learn-more-content-icon{align-items:center;box-shadow:none;display:flex;justify-content:center;position:relative}.embedded-delegated-view__learn-more-content-icon:before{display:none}.embedded-delegated-view__learn-more-content-icon svg{color:var(--dynamic-brand-primary-color);height:3.75rem;width:3.75rem}.embedded-delegated-view__learn-more-content-description{color:var(--dynamic-text-secondary);font-size:.875rem;line-height:1.5;margin-top:.75rem}.sign-message-confirmation__actions{align-items:center;display:flex;flex-direction:row;gap:.375rem;padding-bottom:1rem;width:100%}.sign-message-confirmation__body{align-items:stretch;display:flex;flex-direction:column;gap:1rem;padding:0 1.5rem 1.5rem}.sign-message-confirmation__warning{text-align:center}.sign-message-confirmation__message-container-wrapper{display:flex;flex-direction:column;gap:.5rem}.sign-message-confirmation__message-container{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:var(--dynamic-shadow-down-1);margin-bottom:.5rem;max-height:12.5rem;overflow-y:scroll;padding:.75rem;width:100%}.sign-message-confirmation__secure-wallet{margin-block:.5rem}.sign-message-confirmation__message{overflow-wrap:break-word}.sign-message-confirmation__title{text-align:center}.sign-message-confirmation__error{padding-top:.75rem}.bridge-welcome-layout{display:flex;flex-direction:column;gap:.75rem}.bridge-welcome-layout__body{display:flex;flex-direction:column;gap:1.5rem;padding:0 1.5rem 1.5rem}.bridge-welcome-layout__message-container{display:flex;flex-direction:column;gap:.25rem;text-align:center}.bridge-welcome-layout__chain-icon-group{align-items:center;display:flex;flex-direction:row-reverse;padding-top:.875rem}.bridge-welcome-layout__chain-icon{background-color:var(--dynamic-base-1);border-radius:50%;height:4rem;margin-left:-1.375rem;outline:.25rem solid var(--dynamic-base-1);overflow:hidden;width:4rem}.bridge-welcome-layout__chain-icon:last-child{margin-left:0}.select-wallet-list-layout{display:flex;flex-direction:column;min-height:320px}.select-wallet-list-layout__wallet-list{display:flex;flex-direction:column;flex-grow:1;gap:var(--dynamic-wallet-list-tile-gap);max-height:var(--dynamic-wallet-list-max-height);overflow-y:auto;padding:.25rem 1.5rem 1.5rem}.connected-wallets-list-layout{display:flex;flex-direction:column}.connected-wallets-list-layout__body{display:flex;flex-direction:column;gap:1rem;padding:.25rem 1.5rem 1.5rem}.connected-wallets-list-layout__body__text{text-align:center}.bridge-next-wallet-to-connect-layout__chain-icon{height:4rem;margin:1rem 1rem 0;width:4rem}.bridge-next-wallet-to-connect-layout__body{align-items:center;display:flex;flex-direction:column;gap:1.5rem;padding:1rem 1.5rem 1.5rem;text-align:center}.account-control__name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.account-control__icon{min-width:1rem}.account-control__social_icon{height:1rem;width:1rem}.account-control__container{align-items:center;border-radius:calc(var(--dynamic-border-radius)/3);color:var(--dynamic-text-primary);display:flex;gap:.375rem;min-height:100%;padding:.75rem;z-index:10}.account-control__container--multiwallet-disabled{border-bottom-left-radius:0;border-top-left-radius:0}.account-control__container--active,.account-control__container:hover{background-color:var(--dynamic-hover)}.dynamic-widget-inline-controls{background-color:var(--dynamic-base-1);border-radius:calc(var(--dynamic-border-radius)/3);display:flex;font-size:var(--dynamic-text-size-body-small);max-height:2.5rem;min-width:100%;position:relative}.dynamic-widget-inline-controls__network-picker-main{min-width:60px}.dynamic-widget-inline-controls__account-control{max-width:100%;min-width:max(100%,45px)}.dynamic-widget-inline-controls__account-control .account-control__icon{margin-left:auto}.dynamic-widget-inline-controls__account-control-container{min-width:60px;overflow:hidden}.dynamic-widget-inline-controls__network-picker{background:unset;border-bottom-left-radius:calc(var(--dynamic-border-radius)/3);border-bottom-right-radius:unset;border-top-left-radius:calc(var(--dynamic-border-radius)/3);border-top-right-radius:unset;min-width:100%;padding:.75rem;position:unset;transform:unset}.dynamic-widget-inline-controls__network-picker--active,.dynamic-widget-inline-controls__network-picker:hover{background:var(--dynamic-hover)}.dynamic-widget-inline-controls__network-picker-checkbox{margin:0 0 0 .5rem}.dynamic-widget-inline-controls__network-picker-list{top:2.5rem}@media (pointer:coarse){.dynamic-widget-inline-controls__network-picker-list{top:unset}}.dynamic-widget-dropdown{position:absolute;right:0;top:3.0625rem}.dynamic-widget-dropdown__root{min-width:22.5rem}.dynamic-widget-modal{left:50%;margin:0 auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:min(100%,22.5rem)}@media (pointer:coarse){.dynamic-widget-modal{bottom:0;top:unset;transform:translate(-50%);width:100%}}.dynamic-widget-card{background-color:var(--dynamic-base-1);border:.0625rem solid var(--dynamic-base-4);border-radius:var(--dynamic-border-radius);box-shadow:var(--dynamic-shadow-down-3);height:100%;overflow:hidden;position:relative;transition:max-height .1s linear}@media (pointer:coarse){.dynamic-widget-card{border-bottom-left-radius:0;border-bottom-right-radius:0}}.dynamic-widget-header{background-color:var(--dynamic-base-2);position:relative}.dynamic-widget-header__switcher{margin:0 0 1rem}.dynamic-widget-header__passkey-success{margin-inline:-1.5rem}.dynamic-widget-wallet-header{position:relative}.dynamic-widget-wallet-header__email{color:var(--dynamic-text-primary);margin:.5rem 0;text-align:center}.dynamic-widget-wallet-header__icon-container{height:4rem;margin:1rem auto auto;position:relative;width:4rem}.dynamic-widget-wallet-header__icon-container img,.dynamic-widget-wallet-header__icon-container svg{height:100%;width:100%}.dynamic-widget-wallet-header__wallet-info{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:1rem 1.5rem}.dynamic-widget-wallet-header__wallet-info .text-button{padding:0}.dynamic-widget-wallet-header__wallet-info__secure-wallet{margin-bottom:1rem;margin-top:0}.dynamic-widget-wallet-header__wallet-address{align-items:center;display:flex;justify-content:center}.dynamic-widget-wallet-header__balance{margin-bottom:.0625rem}.dynamic-widget-wallet-header__seperator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.dynamic-widget-wallet-header__status-dot{margin-right:.375rem}.dynamic-widget-wallet-header__ens-name{max-width:12.5rem}.dynamic-widget-wallet-header__network-picker.evm-network-control__container{height:1.5rem}.dynamic-widget-wallet-header__network-picker.non-network-switching-supported-control{height:1.5rem;width:1.5rem}.dynamic-widget-wallet-header__network-picker.network-control-skeleton{bottom:0;height:1.5rem;position:absolute;right:0;width:1.5rem}.dynamic-widget-wallet-header__network-picker .evm-network-control__network-name,.dynamic-widget-wallet-header__network-picker .non-network-switching-supported-control__network-name{display:none}.dynamic-widget-wallet-header__wallet-avatar{border-radius:100%;overflow:hidden}.dynamic-widget-wallet-header__wallet-avatar img{height:4rem;width:4rem}.dynamic-widget-wallet-header__wallet-actions{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:stretch;width:100%}.dynamic-widget-wallet-header__wallet-loading{width:100%}.empty-wallet__container{align-items:center;background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);display:flex;flex-direction:column;gap:.75rem;justify-content:center;padding:.5rem;text-align:center;width:100%}.empty-wallet__container--big{margin:0 0 1rem;padding:.75rem}.empty-wallet__icon{height:1.5rem;width:1.5rem}.empty-wallet__icon--big{height:3rem;width:3rem}.empty-wallet__icon>path{fill:var(--dynamic-text-tertiary)}.empty-wallet__text-container{max-width:10rem}.wallet__container{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;flex-direction:row;padding:.75rem}.wallet__container:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-.75rem;padding-bottom:1.5rem}.wallet__container:hover .wallet__menu{opacity:1}.wallet__menu{color:var(--dynamic-text-tertiary)}.wallet__row{align-items:center;display:flex;flex:1}.wallet__row--clickable{cursor:pointer}.wallet__row__separator{background-color:var(--dynamic-base-4);height:.5rem;margin:0 .5rem;width:.0625rem}.wallet__row__menu__separator{height:auto}.wallet__icon-container{margin-right:.375rem}.wallet__ens-name{max-width:9.375rem}.wallet__actions{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}.wallet__actions__expanded{max-height:6.25rem}.wallet__actions__inner{padding-top:.75rem}.wallet-details-card__body{gap:.5rem}.wallet-details-card__text{word-wrap:break-word}.dynamic-widget-footer{border-bottom-left-radius:var(--dynamic-border-radius);border-bottom-right-radius:var(--dynamic-border-radius);border-top:.0625rem solid var(--dynamic-base-4);color:var(--dynamic-text-primary);display:flex;gap:.5rem;margin-top:auto;padding:1rem 1.5rem}.dynamic-widget-footer__button:hover:enabled svg{color:var(--dynamic-text-secondary)}.dynamic-widget-footer__button svg{color:var(--dynamic-text-tertiary)}.dynamic-widget-footer__button-align-right{margin-left:auto}@media (pointer:coarse){.dynamic-widget-footer{border-bottom-left-radius:unset;border-bottom-right-radius:unset}}.wallet-icon-with-network__container{position:relative}.wallet-icon-with-network__network-container{align-items:center;background-color:var(--dynamic-base-1);border-radius:100%;bottom:-.1875rem;display:flex;height:.75rem;justify-content:center;position:absolute;right:-.1875rem;width:.75rem}@keyframes desktop-dropdown-entering-animation{0%{opacity:0;transform:scale(.8) translateY(0)}70%{transform:scale(1) translateY(0)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes desktop-dropdown-exiting-animation{0%{opacity:1;transform:scale(1) translateY(0)}25%{opacity:1}50%{transform:scale(1.01) translateY(0)}to{opacity:0;transform:scale(1.02) translateY(1.875rem)}}@keyframes mobile-dropdown-entering-animation{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes mobile-dropdown-exiting-animation{0%{transform:translateY(0)}50%{transform:translateY(0)}to{transform:translateY(200%)}}.dots-menu-wrapper{position:relative}.dots-menu-wrapper__container--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-entering-animation;animation-timing-function:ease-out}@media (pointer:coarse){.dots-menu-wrapper__container--entering{animation-fill-mode:both;animation-iteration-count:1;animation-name:mobile-dropdown-entering-animation;animation-timing-function:ease-out}}.dots-menu-wrapper__container--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:desktop-dropdown-exiting-animation;animation-timing-function:ease-out}@media (pointer:coarse){.dots-menu-wrapper__container--exiting{animation-fill-mode:both;animation-iteration-count:1;animation-name:mobile-dropdown-exiting-animation;animation-timing-function:ease-out}}.dots-menu-wrapper__container{background-color:var(--dynamic-base-2);border:.0625rem solid var(--dynamic-base-4);border-radius:calc(var(--dynamic-border-radius)/3);box-shadow:0 .5rem .75rem -.375rem rgba(24,39,75,.06),0 .5rem .75rem -.1875rem rgba(24,39,75,.06);margin-top:.5rem;position:absolute;right:0;z-index:2147483647}.dots-menu-wrapper__container__alignment__top{bottom:1.375rem}.dots-menu-wrapper__container__alignment__bottom{top:1.375rem}@media (min-width:768px){.dots-menu-wrapper__container{min-width:9.375rem}}@media (pointer:coarse){.dots-menu-wrapper__container{border:none;border-radius:var(--dynamic-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;bottom:0;left:calc(50% - 18.75rem);margin:auto;max-width:37.5rem;padding-bottom:2rem;padding-top:0;position:fixed;right:calc(50% - 18.75rem);top:unset;width:100%}}.dots-menu-wrapper__header{display:none;padding:.75rem 1.5rem .25rem}@media (pointer:coarse){.dots-menu-wrapper__header{align-items:center;display:flex;justify-content:space-between}}.dots-menu-wrapper__header__icon{min-height:1.5rem;min-width:1.5rem}.dots-menu-wrapper__backdrop{cursor:default;display:none;height:100%;left:0;position:fixed;top:0;width:100%;z-index:10}@media (pointer:coarse){.dots-menu-wrapper__backdrop{background-color:var(--dynamic-overlay);display:block}}.dynamic-widget-wallets-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:1rem 1.5rem .75rem}.dynamic-widget-wallets-header__add_wallet{display:flex}.dynamic-widget-wallets{margin:0 1.5rem;overflow:auto}.dynamic-widget-wallets__body{display:flex;flex-direction:column;gap:1rem}.dynamic-widget-wallets__body__wallet-list{max-height:13rem}.widget-portal{background-color:var(--dynamic-overlay);top:0;z-index:50}.widget-portal,.widget-portal__container{border-radius:calc(var(--dynamic-border-radius)/1.5);bottom:0;left:0;position:absolute;right:0}.widget-portal__container{background-color:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);padding:1.5rem}@media (pointer:coarse){.widget-portal__container{border-bottom-left-radius:0;border-bottom-right-radius:0}}.widget-portal__container--no-padding{padding:0}.widget-portal__container__header{position:relative}.widget-portal__container__close-button{position:absolute;right:0}.single-wallet-buttons{display:flex;gap:.625rem;padding:0 1.5rem 1.5rem}.single-wallet-buttons--center{align-items:center;display:flex;justify-content:center}.single-wallet-buttons__copied{align-items:center;display:flex;gap:8px}.single-wallet-buttons__copied svg{color:var(--dynamic-success-1)}.email-connector-pending-sign-modal-content{align-items:center;display:flex;flex-direction:column;text-align:center;width:100%}.email-connector-pending-sign-modal-content__body{align-items:center;display:flex;flex-direction:column;gap:.5rem}.active-wallet-information{border-bottom:1px solid var(--dynamic-base-3);display:flex;flex-flow:column;gap:.5rem;padding:1rem 1.5rem}.active-wallet-information__header{align-items:center;display:flex;gap:.5rem}.active-wallet-information__handle-row{align-items:center;display:flex;flex-direction:row}.active-wallet-information__handle{max-width:100px;overflow:hidden;text-overflow:ellipsis}.active-wallet-information__handle--full-width{max-width:230px;overflow:hidden;text-overflow:ellipsis}.active-wallet-information__handle-icon{color:var(--dynamic-text-tertiary)}.active-wallet-information__handle-icon .icon-with-status__container{margin-bottom:0}.active-wallet-information__handle-icon .icon-with-status__container .status-dot__container{right:-.05rem;top:-.05rem}.active-wallet-information-container{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2)}.active-wallet-information-container--loading .active-wallet-information{padding:.75rem 1rem}.active-wallet-information__details{align-items:center;display:flex;flex:1;gap:.5rem;justify-content:space-between;overflow:hidden}.active-wallet-information__avatar img{height:2rem;min-height:2rem;min-width:2rem;width:2rem}.active-wallet-information__avatar__name-service{align-items:center;border-radius:100%;display:flex;overflow:hidden}.active-wallet-information__addresses-container{display:flex;flex-direction:column;gap:.5rem}.active-wallet-information__addresses-container--centered{justify-content:center}.active-wallet-information__addresses-container--loading{gap:.25rem}.active-wallet-information__address-container{display:flex}.active-wallet-information__address{align-items:center;display:flex}.active-wallet-information__address-skeleton{width:60px}.active-wallet-information__network-picker{overflow:hidden}.active-wallet-information__network-picker-button{border:1px solid var(--dynamic-base-4);border-radius:1rem;height:100%;position:relative;transform:translateX(0)}.active-wallet-information__network-picker-button:hover{background:var(--dynamic-hover)}.active-wallet-information__skeleton-avatar{border-radius:50%;height:32px;width:32px}.active-wallet-information__skeleton-handle{height:20px;width:120px}.active-wallet-information__skeleton-address{height:12px;width:90px}.active-wallet-information__skeleton-network{height:24px;width:100px}.balance-header{align-items:flex-start;display:flex;justify-content:space-between;width:100%}.balance-header__title{align-items:flex-start;display:flex;flex-direction:column}.balance-header__title-skeleton{height:1rem;margin-bottom:.25rem;width:6.25rem}.balance-header__chevron{rotate:180deg}.balance-header__balance{align-items:center;display:flex;gap:.5rem}.balance-header__refresh-icon{cursor:pointer;height:1rem;transition:opacity .2s ease,transform .2s ease;width:1rem}.balance-header__refresh-icon:hover{opacity:.7}.balance-header__refresh-icon--spinning{animation:spin-ccw 1s linear}.balance-header__success-icon{align-items:center;background-color:#2b8d69;border-radius:50%;display:flex;height:1rem;justify-content:center;padding:.125rem;width:1rem}.balance-header__success-icon svg{color:#fff;height:.75rem;width:.75rem}.balance-container{align-items:center;display:flex;justify-content:space-between;padding:1rem 1.5rem 0;position:relative}.balance-container__skeleton{display:table-cell;height:2rem;width:6.25rem}.multi-asset-balance-container{display:flex;flex:1;flex-direction:column;position:relative}.multi-asset-balance-container .shadow{border-bottom:1px solid var(--dynamic-base-3)}.multi-asset-balance-container__accordion{overflow-y:auto}.multi-asset-balance-container__accordion--collapsed{max-height:0!important}.multi-asset-balance-container__accordion--expanded{height:100%!important;max-height:11.25rem!important}@keyframes spin-ccw{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}.prompt-modal{padding:1.5rem}.prompt-modal__header{position:relative;width:100%}.prompt-modal__close-button{position:absolute;right:1rem;top:1rem}.balance-skeleton{display:table-cell;width:1.875rem}.token-balance-item{align-items:center;display:flex;gap:.5rem;justify-content:space-between;padding:8px 0;width:100%}.token-balance-item>.flex{flex-shrink:1;min-width:0;overflow:hidden;text-align:right}.token-balance-item__name{align-items:center;display:flex;flex-shrink:0;min-width:0}.token-balance-item__title{max-width:8.4375rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.token-balance-item__icon,.token-balance-item__skeleton-icon{border-radius:100%;flex-shrink:0;height:20px;margin-right:6px;overflow:hidden;width:20px}.token-balance-item__skeleton-icon{background-color:var(--dynamic-base-3)}.token-balance-item__value{display:flex;flex-shrink:1;justify-content:flex-end;min-width:0}.token-balance-item__value__balance{display:flex;min-width:0;overflow:hidden}.token-balance-item__symbol,.token-balance-item__value__balance>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.token-balance-item__symbol{flex-shrink:1;max-width:5rem}.token-balance-list__empty{display:flex;margin-top:.5rem}.token-balance-list__divider{padding:0}.footer-options-switcher__container{background-color:var(--dynamic-base-2);border-bottom-left-radius:var(--dynamic-border-radius);border-bottom-right-radius:var(--dynamic-border-radius);display:flex;justify-content:space-around;margin-top:auto;padding:.75rem 0}.footer-options-switcher__label{font-size:12px;margin-top:.25rem}.footer-options-switcher__tab{align-items:center;color:var(--dynamic-text-secondary);cursor:pointer;display:flex;flex-direction:column;text-align:center}.footer-options-switcher__tab--active{color:var(--dynamic-text-primary)}.passkey-card{background:var(--dynamic-base-2);border:1px solid var(--dynamic-base-4);border-radius:.75rem;box-shadow:0 1px 2px 0 rgba(24,39,75,.04);padding:.75rem;width:100%}.passkey-card__body{display:flex;flex-direction:row;justify-content:space-between}.passkey-card__left{align-items:center;display:flex;gap:.5rem;min-width:0}.passkey-card__info{align-items:center;border-bottom:1px solid var(--dynamic-base-4);gap:.25rem;padding-bottom:.5rem}.passkey-card__info__icon{flex-shrink:0;justify-self:start;width:1.5rem}.passkey-card__info__alias{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.passkey-card__info__tooltip{display:none}@media (hover:none),(pointer:coarse){.passkey-card__info__tooltip{background-color:#555;border:1px solid;border-radius:6px;color:#fff;display:block;font-size:12px;opacity:0;padding:3px;position:absolute;transition:opacity .5s;visibility:hidden;width:-moz-fit-content;width:fit-content}.passkey-card__info__tooltip--visible{opacity:1;transition:opacity .3s;visibility:visible}}.passkey-card__date{padding-top:.5rem}.dynamic-widget-index-view__email-container{display:flex;flex-direction:column;gap:1rem;text-align:center}.dynamic-widget-index-view__footer{display:flex;justify-content:space-between;width:100%}.dynamic-widget-index-view__user-profile{margin:0 0 1rem;padding:0 1.5rem}.dynamic-widget-index-view__user-profile-title{border-bottom:.0625rem solid var(--dynamic-base-4);margin:0 1.5rem .75rem;padding-bottom:.375rem}.profile-view{flex:1;overflow:auto;padding:1.5rem}.profile-view__footer{display:flex;justify-content:space-between;width:100%}.dynamic-widget-edit-profile-container{padding-top:1rem}.dynamic-widget-edit-profile-container,.dynamic-widget-edit-profile-view{display:flex;flex:1;flex-direction:column;overflow:hidden}.dynamic-widget-edit-profile-view__fields{flex:1;overflow:auto;padding:0 1.5rem 1rem}.dynamic-widget-edit-profile-view__profile-title{border-bottom:.0625rem solid var(--dynamic-base-4);margin:0 1.5rem .75rem;padding-bottom:.375rem}.send-balance-widget-view{display:flex;flex:1;flex-direction:column;overflow:auto}.send-balance-widget-view__spinner{align-items:center;display:flex;flex:1;justify-content:center}.manage-passkeys-widget-view,.manage-passkeys-widget-view__body{display:flex;flex:1;flex-direction:column}.manage-passkeys-widget-view__body{gap:1rem;justify-content:space-between;padding:0 1.5rem 1.5rem}.manage-passkeys-widget-view__body__cards{display:flex;flex:1;flex-direction:column;gap:.5rem;max-height:23.75rem;overflow:auto}.manage-passkeys-widget-view__body__cards__skeleton{border-radius:.75rem;height:3.75rem}.manage-passkeys-widget-view__reveal{display:flex;flex:1;flex-direction:column;gap:.5rem}.manage-passkeys-widget-view__reveal-helper-text{color:var(--dynamic-text-secondary);font-size:.9375rem;line-height:1.25rem}.manage-passkeys-widget-view__reveal-button{border-radius:calc(var(--dynamic-border-radius)/2);justify-content:space-between}.manage-passkeys-widget-view__reveal-button__start-slot{align-items:center;display:flex;font-size:.9375rem}.manage-passkeys-widget-view__reveal-button__icon{color:var(--dynamic-text-tertiary);height:1.75rem;margin-right:.5rem}.manage-passkeys-widget-view__reveal-button__icon--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg)}.empty-screen{align-items:center;display:none;flex:1;flex-direction:column;gap:2.25rem;justify-content:center}.empty-screen:only-child{display:flex}.settings-view{display:flex;flex:1;flex-direction:column;overflow:hidden;padding:1.5rem}.settings-view__delete-account-container{display:flex;justify-content:center;padding-top:1.5rem;width:100%}.settings-view__delete-account-container__delete-button{cursor:pointer}.settings-view__logout-button-container{bottom:60px;color:var(--dynamic-text-secondary);width:100%}.settings-view__logout-button-container__button{width:100%}.settings-view__header{align-items:center;display:flex;gap:.5rem}.settings-view__body{display:flex;flex-direction:column;gap:1rem;height:100%;margin-bottom:1.5rem;overflow-y:auto}.settings-view__body__section{display:flex;flex-direction:column;gap:.75rem}.settings-view__body__section__title{color:var(--dynamic-text-secondary);font-size:.9375rem;line-height:1.25rem}.settings-view__body__section__title__info-icon{align-items:center;display:flex;gap:5px}.settings-view__body__section__title__info-icon svg path{fill:var(--dynamic-alert-1)}.settings-view__body__section__button{border-radius:calc(var(--dynamic-border-radius)/2);justify-content:space-between}.settings-view__body__section__button__start-slot{align-items:center;display:flex;font-size:.9375rem}.settings-view__body__section__button__badge .badge__container.badge__container__secondary{margin-left:.625rem}.settings-view__body__section__button__icon{color:var(--dynamic-text-tertiary);height:1.75rem!important;margin-right:.625rem;width:1.75rem!important}.settings-view__body__section__button__icon.email{color:transparent}.settings-view__body__section__button__icon__stroke{stroke:var(--dynamic-text-tertiary);height:1.75rem;margin-right:.625rem;width:1.75rem}.settings-view__body__section__button__icon-secondary{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;width:1rem}.settings-view__body__section__button__icon-secondary--success{color:var(--dynamic-success-1);height:1rem;justify-content:end;width:1rem}.settings-view__body__section__button__icon-secondary--rotate{color:var(--dynamic-text-tertiary);height:1rem;justify-content:end;transform:rotate(180deg);width:1rem}.manage-totp-mfa-widget-view{display:flex;flex:1;flex-direction:column;overflow:hidden}.manage-totp-mfa-widget-view__description-container{background:var(--dynamic-base-4)}.manage-totp-mfa-widget-view__description-container__text{margin:.625rem}.manage-totp-mfa-widget-view__add-mfa-button-container{bottom:60px;padding:.625rem 1.5rem 1.5rem;width:100%}.manage-totp-mfa-widget-view__add-mfa-button-container__button{width:100%}.manage-totp-mfa-widget-view__no-devices{align-items:center;display:flex;flex-direction:column;gap:1rem;height:100%;justify-content:center;padding:1rem}.manage-totp-mfa-widget-view__scroll-container{display:flex;flex:1;flex-direction:column;gap:.75rem;overflow-y:auto;padding:.625rem 1.5rem 1.5rem}.manage-totp-mfa-widget-view__list-tile{align-items:center;background-color:var(--dynamic-wallet-list-tile-background);border:var(--dynamic-wallet-list-tile-border);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-wallet-list-tile-shadow);color:var(--dynamic-text-primary);display:flex;flex-direction:row;gap:.625rem;margin-bottom:.625rem;padding:.625rem;width:auto}.manage-totp-mfa-widget-view__list-tile__icon{height:1.5rem;position:relative;width:1.5rem}.manage-totp-mfa-widget-view__list-tile__details{display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;padding-right:.625rem}.manage-totp-mfa-widget-view__list-tile__details__title{display:flex;flex-direction:row;gap:.25rem}.manage-totp-mfa-widget-view__list-tile__dots-menu{color:var(--dynamic-text-tertiary);margin-left:.375rem}.connect-dapps-view{max-width:400px;padding:1.5rem;position:relative}.connect-dapps-view .header{align-items:center;display:flex;justify-content:space-between;margin-bottom:1rem;position:relative}.connect-dapps-view .header h1{flex-grow:1;margin:0 auto;text-align:center}.connect-dapps-view .header button{background:none;border:none;cursor:pointer;padding:.5rem;position:absolute;top:50%;transform:translateY(-50%)}.connect-dapps-view .header button:first-child{left:0}.connect-dapps-view .header button:last-child{right:0}.connect-dapps-view .scanner-wrapper{aspect-ratio:1/1;height:200px;margin-left:-24px;margin-right:-24px;overflow:hidden;position:relative;width:calc(100% + 48px)}.connect-dapps-view .scanner-wrapper video{height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.connect-dapps-view .scanner-overlay{align-items:center;bottom:0;display:flex;justify-content:center;left:0;pointer-events:none;position:absolute;right:0;top:0}.connect-dapps-view .scanner-frame{border-radius:12px;height:80%;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%}.connect-dapps-view .corner{border:4px solid #fff;height:16px;position:absolute;width:16px}.connect-dapps-view .top-left{border-bottom:none;border-right:none;border-top-left-radius:8px;left:-3px;top:-3px}.connect-dapps-view .top-right{border-bottom:none;border-left:none;border-top-right-radius:8px;right:-3px;top:-3px}.connect-dapps-view .bottom-left{border-bottom-left-radius:8px;border-right:none;border-top:none;bottom:-3px;left:-3px}.connect-dapps-view .bottom-right{border-bottom-right-radius:8px;border-left:none;border-top:none;bottom:-3px;right:-3px}.connect-dapps-view .scanner-overlay-content{align-items:center;border-radius:8px;display:flex;flex-direction:column;padding:16px;z-index:1}.connect-dapps-view .scanner-icon{height:20px;margin-bottom:2px;-o-object-fit:contain;object-fit:contain;width:20px}.connect-dapps-view .info-card,.connect-dapps-view .wallet-connect-card{margin-bottom:1rem;position:relative}.connect-dapps-view .wallet-connect-card{align-items:center;display:flex;flex-direction:column}.connect-dapps-view .wallet-connect-card h2{align-self:flex-start;margin-bottom:.5rem;width:100%}.connect-dapps-view .input-group{width:100%}.connect-dapps-view .input-suffix{transform:translateY(-20%)}.connect-dapps-view .banner{border-radius:8px;margin-top:.5rem;padding:6px;text-align:center;width:100%}.connect-dapps-view .banner.success{background-color:var(--dynamic-success-2)}.connect-dapps-view .banner.error{background-color:var(--dynamic-error-2)}.connect-dapps-view .info-card .wrapper{background:var(--dynamic-base-2);border:1px solid var(--dynamic-border-2);border-radius:16px;display:flex;flex-direction:column;padding:1.5rem;text-align:left}.connect-dapps-view .info-card .learn-more-link{align-items:center;display:flex;justify-content:center;padding:4px;pointer-events:auto;text-decoration:none}.connect-dapps-view .info-card .learn-more-link svg{cursor:pointer;height:.5rem;margin-left:.25rem;width:.5rem}.connect-dapps-view .inline-logo-text{align-items:center;display:flex;flex-wrap:nowrap}.connect-dapps-view .inline-logo-text .inline-logo{flex-shrink:0;margin:0 4px}.connected-apps-view{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;position:relative}.connected-apps-view .header{align-items:center;display:flex;justify-content:space-between;padding-bottom:.25rem;position:relative}.connected-apps-view .header .title{flex-grow:1;text-align:center}.connected-apps-view .header .arrow-left-icon{transform:rotate(90deg)}.connected-apps-view .subheader{align-items:center;display:flex;flex-grow:1;justify-content:space-between;padding-bottom:.25rem;position:relative;text-align:center}.connected-apps-view .connected-apps-list{display:flex;flex-direction:column;gap:.75rem;list-style-type:none;margin:0;padding:0}.connected-apps-view .connected-app-item{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;padding:.75rem}.connected-apps-view .connected-app-item .app-icon{border-radius:50%;height:2rem;margin-right:.75rem;width:2rem}.connected-apps-view .connected-app-item .app-info{display:flex;flex:1;flex-direction:column}.connected-apps-view .connected-app-item .app-actions{display:flex;gap:.5rem;margin-left:10px}.connected-apps-view .success-message{align-items:center;background-color:var(--dynamic-success-2);border:1px solid var(--dynamic-border-1);border-radius:.5rem;display:flex;padding:.75rem;text-align:left}.connected-apps-view .success-message svg{color:#30a67b;flex-shrink:0;height:1.5rem;margin-right:.75rem;width:1.5rem}.wallets-delegated-settings-view{display:flex;flex-direction:column;height:100%}.wallets-delegated-settings-view .header{align-items:center;display:flex;padding:1.25rem 1rem;position:relative}.wallets-delegated-settings-view .header .back-button svg{transform:rotate(90deg)!important}.wallets-delegated-settings-view .header .title{flex:1;text-align:center}.wallets-delegated-settings-view .delegated-wallets-list{display:flex;flex:1;flex-direction:column;gap:.5rem;list-style-type:none;margin:0;overflow-y:auto;padding:1rem}.wallets-delegated-settings-view .delegated-wallets-item{align-items:center;background-color:var(--dynamic-base-2);border-radius:.75rem;display:flex;padding:.75rem;transition:background-color .2s ease}.wallets-delegated-settings-view .delegated-wallets-item .wallet-icon{display:flex;margin-right:.75rem}.wallets-delegated-settings-view .delegated-wallets-item .wallet-info{display:flex;flex:1;flex-direction:column;gap:.25rem}.wallets-delegated-settings-view .delegated-wallets-item .status-badge{align-items:center;background-color:var(--dynamic-brand-secondary-color);border-radius:1rem;display:inline-flex;padding:.25rem .5rem;width:-moz-fit-content;width:fit-content}.wallets-delegated-settings-view .delegated-wallets-item .status-badge p{color:var(--dynamic-brand-primary-color);font-size:.6875rem;line-height:.875rem}.wallets-delegated-settings-view .delegated-wallets-item .status-badge--disconnected{background-color:var(--dynamic-base-3)}.wallets-delegated-settings-view .delegated-wallets-item .status-badge--disconnected p{color:var(--dynamic-text-secondary)}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button{margin-left:auto}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button button{background-color:#fff!important;border:1px solid var(--dynamic-base-4)!important}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading button,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) button{background-color:var(--dynamic-base-2)!important;border-color:var(--dynamic-base-3)!important}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading .button__spinner-container,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) .button__spinner-container{background-color:var(--dynamic-base-2);border-radius:inherit}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading .button__spinner,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) .button__spinner{color:var(--dynamic-text-secondary)!important}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button.button--loading .typography-button__content,.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:has(.button__spinner-container) .typography-button__content{opacity:0!important;visibility:hidden}.wallets-delegated-settings-view .delegated-wallets-item .revoke-button:disabled:not(.button--loading) button{background-color:var(--dynamic-base-3)!important;border-color:var(--dynamic-base-3)!important;cursor:not-allowed}.wallets-delegated-settings-view .revoke-all-section{display:flex;justify-content:center;margin-top:auto;padding:1.25rem}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button{color:var(--dynamic-red-2);cursor:pointer}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button p{color:var(--dynamic-red-2)}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:hover p{text-decoration:underline}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button.button--loading .button__spinner-container,.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:has(.button__spinner-container) .button__spinner-container{background-color:transparent}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button.button--loading .button__spinner,.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:has(.button__spinner-container) .button__spinner{color:var(--dynamic-red-2)!important}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button.button--loading .typography-button__content,.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:has(.button__spinner-container) .typography-button__content{opacity:0!important;visibility:hidden}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:disabled:not(.button--loading){cursor:not-allowed;opacity:.6}.wallets-delegated-settings-view .revoke-all-section .revoke-all-button:disabled:not(.button--loading) p{color:var(--dynamic-text-tertiary)}.wallets-delegated-settings-view .success-message{align-items:center;background-color:var(--dynamic-success-2);border-top:1px solid var(--dynamic-border-1);display:flex;padding:.75rem 1.5rem;text-align:left}.wallets-delegated-settings-view .success-message svg{color:#30a67b;flex-shrink:0;height:1.5rem;margin-right:.75rem;width:1.5rem}.token-option{align-items:center;background:var(--dynamic-base-2);border:1.5px solid transparent;border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:0 1px 2px 0 rgba(24,39,75,.04);cursor:pointer;display:flex;gap:.625rem;padding:.625rem .75rem;transition:all .2s ease-in-out}.token-option:hover{box-shadow:0 12px 20px -6px rgba(24,39,75,.02),0 16px 26px -4px rgba(24,39,75,.04)}.token-option--selected{background:var(--dynamic-brand-secondary-color);border-color:var(--dynamic-brand-primary-color)}.token-option__icon{background-color:var(--dynamic-base-1);border-radius:50%;height:1.75rem;overflow:hidden;width:1.75rem}.token-option__name{flex:1}.token-option__balance-container{align-items:flex-end;display:flex;flex-direction:column}.token-option__balance-container__balance-value-container{align-items:center;display:flex;gap:.25rem}.token-select{align-items:stretch;display:flex;flex-direction:column}.token-select__no-assets{flex-direction:column;gap:2.25rem;margin-top:2.75rem}.token-select__no-assets,.token-select__search{align-items:center;display:flex;margin-inline:1.5rem}.token-select__search{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*2);gap:.5rem;margin-bottom:1rem;padding:.625rem .75rem}.token-select__search__input{background:transparent;border:none;color:var(--dynamic-text-primary);flex:1;font-size:.9375rem;font-weight:400;line-height:1.25rem;outline:none}.token-select__search__input::-moz-placeholder{color:var(--dynamic-text-secondary)}.token-select__search__input::placeholder{color:var(--dynamic-text-secondary)}.token-select__tokens{-ms-overflow-style:none;align-items:stretch;display:flex;flex:1;flex-direction:column;gap:.5rem;margin-inline:1.5rem;margin-bottom:1.5rem;overflow-y:auto;scrollbar-width:none}.token-select__tokens::-webkit-scrollbar{display:none}.formatted-input{--size:calc(500px/(var(--char-count) + 8));align-items:center;color:var(--dynamic-text-primary);display:flex;font-size:var(--size);gap:.1875rem;justify-content:center;overflow:hidden}.formatted-input__leading,.formatted-input__trailing{-webkit-user-select:none;-moz-user-select:none;user-select:none}.formatted-input__trailing{margin-left:.625rem}.formatted-input__leading--secondary,.formatted-input__trailing{color:var(--dynamic-text-secondary)}.formatted-input__input-container{position:relative}.formatted-input__input-container__ghost-text,.formatted-input__input-container__input{align-items:center;background:transparent;border:none;display:flex;justify-content:center;min-height:3.25rem;outline:none;overflow:hidden;text-align:center}.formatted-input__input-container__input{bottom:0;color:var(--dynamic-text-primary);height:100%;left:0;position:absolute;resize:none;right:0;top:0;width:100%}.formatted-input__input-container__input::-moz-placeholder{color:var(--dynamic-text-secondary)}.formatted-input__input-container__input::placeholder{color:var(--dynamic-text-secondary)}.formatted-input__input-container__input:-moz-placeholder-shown{text-align:left}.formatted-input__input-container__input:placeholder-shown{text-align:left}.formatted-input__input-container__ghost-text{color:transparent;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.formatted-input__input-container__ghost-text--visible{color:var(--dynamic-text-primary);pointer-events:unset;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset}.fund-from-wallet{position:relative}.fund-from-wallet__content{justify-content:center;padding:0 1.5rem 1.5rem}.fund-from-wallet__content__token-icon{background-color:var(--dynamic-base-1);border-radius:50%;height:1rem;overflow:hidden;width:1rem}.fund-from-wallet__content__wallet-card{border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:0 .0625rem .125rem 0 rgba(24,39,75,.04);gap:.5rem;padding:.625rem .75rem}.fund-from-wallet__content__wallet-card--invisible{opacity:0;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.fund-from-wallet__content__wallet-card--has-minimum-error{margin-bottom:1.5rem}.fund-from-wallet__content__wallet-card__wallet-details{gap:.625rem}.fund-from-wallet__content__wallet-card__wallet-details__icon{height:1.75rem;width:1.75rem}.fund-from-wallet__content__wallet-card__balance{cursor:pointer;gap:.625rem}.fund-from-wallet__content__wallet-card__balance--disable-select{cursor:default}.fund-from-wallet__content__wallet-card__balance-skeleton{align-items:stretch;align-self:stretch;display:flex;width:5.3125rem}.fund-from-wallet__content__amount-container{flex:1;gap:1rem;justify-content:center;overflow:hidden}.fund-from-wallet__content__amount-container__amount{max-width:100%}.fund-from-wallet__content__amount-container__secondary-amount-container{align-items:center;display:flex;gap:.375rem}.fund-from-wallet__content__amount-container__secondary-amount-container__amount--grayed-out{color:var(--dynamic-text-tertiary)}.fund-from-wallet__content__amount-container__secondary-amount-container__switch{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.fund-from-wallet__content__amount-container__skeleton{align-items:stretch;display:flex;height:3.25rem;max-width:9.375rem;width:100%}.fund-from-wallet__content__amount-container__quick-suggestions{gap:.75rem}.fund-from-wallet__content__amount-container__quick-suggestions>*{align-items:center;background:var(--dynamic-base-3);border-radius:calc(var(--dynamic-border-radius)*1.25);display:flex;justify-content:center;padding:.25rem .5rem;text-align:center}.fund-from-wallet__content__amount-container__secondary-missing{align-items:center;display:flex;gap:.5rem}.fund-from-wallet__content__amount-container__secondary-missing__tooltip{color:var(--dynamic-base-2);font-size:.8125rem;font-weight:400}.fund-from-wallet__content__amount-container__balance-error,.fund-from-wallet__content__amount-container__minimum-error{max-height:0;opacity:0;transition:all .2s ease-in-out}.fund-from-wallet__content__amount-container__balance-error--visible,.fund-from-wallet__content__amount-container__minimum-error--visible{max-height:1.5625rem;opacity:1}.fund-from-wallet__content__amount-container__balance-error{margin-top:-1rem}.fund-from-wallet__content__amount-container__balance-error--visible{margin-top:0}.fund-from-wallet__content__amount-container__minimum-error{margin-bottom:-1rem}.fund-from-wallet__content__amount-container__minimum-error--visible{margin-bottom:0}.fund-from-wallet__token-select{background:var(--dynamic-base-1);height:100%;left:0;opacity:0;padding-top:-6.25rem;pointer-events:none;position:absolute;top:0;transition:all .2s ease-in-out;width:100%;z-index:1000}.fund-from-wallet__token-select:before{content:"";display:block;margin-bottom:-6.25rem;transition:all .2s ease-in-out}.fund-from-wallet__token-select--open{opacity:1;padding-top:0;pointer-events:all}.fund-from-wallet__token-select--open:before{margin-bottom:0}.choose-wallet-funding-method__header-description{margin-top:1rem;text-align:center}.choose-wallet-funding-method__options{display:flex;flex-direction:column;gap:.5rem;padding:0 1.5rem 1.5rem}.choose-wallet-funding-method__options__option{gap:.625rem;justify-content:start;padding-inline:.75rem}.choose-wallet-funding-method__options__option__icon{height:1.75rem;width:1.75rem}.choose-wallet-funding-method__options__option__trailing{align-items:center;display:flex;gap:.5rem;margin-left:auto}.choose-wallet-funding-method__options__option__trailing__preview-icons{align-items:center;display:flex}@media (max-width:500px){.choose-wallet-funding-method__options__option__trailing__preview-icons{display:none}}.choose-wallet-funding-method__options__option__trailing__preview-icons>*{height:1rem;width:1rem;z-index:var(--z-index,0)}.choose-wallet-funding-method__options__option__trailing__preview-icons>:not(:first-child){margin-left:-.3125rem}.choose-wallet-funding-method__options__option__trailing__preview-icons__onramp-icon,.choose-wallet-funding-method__options__option__trailing__preview-icons__plus-icon,.choose-wallet-funding-method__options__option__trailing__preview-icons__wallet-icon{align-items:center;border-radius:50%;display:flex;justify-content:center}.choose-wallet-funding-method__options__option__trailing__preview-icons__onramp-icon{background-color:#121730}.choose-wallet-funding-method__options__option__trailing__preview-icons__onramp-icon>*{height:100%;width:100%}.choose-wallet-funding-method__options__option__trailing__preview-icons__wallet-icon{background-color:var(--dynamic-base-2)}.choose-wallet-funding-method__options__option__trailing__preview-icons__wallet-icon>*{height:100%;width:100%}.choose-wallet-funding-method__options__option__trailing__preview-icons__plus-icon{background-color:var(--dynamic-base-1)}.deposit-view__content{align-items:center;display:flex;flex-direction:column;gap:2rem;margin-top:1rem}.deposit-view__content__qr-code{height:13.4375rem;width:13.4375rem}.deposit-view__content__address{align-items:center;display:flex;flex-direction:column;gap:.5rem}.deposit-view__content__address__ens{font-size:1.125rem;font-weight:700;text-align:center}.deposit-view__content__address__wrapper{align-items:center;display:flex;flex-direction:row;gap:.5rem}.deposit-view__content__address__wrapper__text{color:var(--dynamic-text-secondary);font-size:1.125rem;font-weight:500}.deposit-view__content__address__wrapper__copy{color:var(--dynamic-text-secondary);cursor:pointer;padding:0}.deposit-view__content__network{color:var(--dynamic-text-secondary);font-size:.875rem;font-weight:500;line-height:1rem;text-align:center}.choose-onramp-provider__header-description{margin-top:1rem;text-align:center}.choose-onramp-provider__options{display:flex;flex-direction:column;gap:.5rem;padding:0 1.5rem 1.5rem}.choose-onramp-provider__options__option{gap:.625rem;justify-content:start;padding-inline:.75rem}.choose-onramp-provider__options__option__icon{height:1.75rem;width:1.75rem}.account-wrap{display:flex;flex:1;flex-direction:column;padding:0 1.5rem}.account-and-security-settings-view{display:flex;flex-direction:column;height:100%}.account-and-security-settings-view__delete-account-container{display:flex;justify-content:center;margin-top:auto;padding:1.5rem 0;width:100%}.account-and-security-settings-view__delete-account-container__delete-button{cursor:pointer}.choose-linked-wallet-view{display:flex;flex-direction:column;gap:.5rem;max-height:100%}.session-management-view__body{display:flex;flex:1;flex-direction:column}.session-management-view__sessions-container{display:flex;flex-direction:column;gap:1rem;padding:1rem 1.5rem}.session-management-view__session{align-items:center;display:flex;flex-direction:row;justify-content:space-between}.empty-sessions-view{align-items:center;display:flex;flex:1;justify-content:center;padding:1rem}.session-management-info-view{display:flex;flex:1;flex-direction:column}.session-management-info-view__body{display:flex;flex:1;flex-direction:column;gap:1rem;padding:1rem 1.5rem}.session-management-info-view__footer{display:flex;padding:1rem 1.5rem}.revoke-access-view{display:flex;flex:1;flex-direction:column;overflow-y:auto}.revoke-access-view__body{display:flex;flex:1;flex-direction:column;gap:1rem;padding:0 1.5rem}.revoke-access-view__footer{display:flex;flex-direction:column;gap:.5rem;justify-self:flex-end;padding:1rem 1.5rem}.session-management-session{background-color:var(--dynamic-base-2);border-radius:.25rem;display:flex;flex-direction:column;padding:0 .75rem .25rem}.session-management-session__main{align-items:center;border-bottom:1px solid var(--dynamic-base-3);display:flex;flex-direction:row;justify-content:space-between;padding:.5rem}.session-management-session__permissions-accordion{border-bottom:none;display:flex;flex:1;flex-direction:column}.session-management-session__permissions-toggle{padding:.5rem}.session-management-session__permissions{align-items:flex-start;background-color:var(--dynamic-base-1);border-radius:.25rem;display:flex;flex:1;flex-direction:column;margin:0 0 .5rem;padding:.25rem .5rem}.session-management-session__permissions-header{align-items:center;border-bottom:1px solid var(--dynamic-base-3);display:flex;flex:1;padding:.25rem 0;width:100%}.session-management-session__permissions-body{align-items:center;display:flex;flex-direction:column;padding:.25rem 0}.session-management-session__permissions-list{align-items:flex-start;color:var(--dynamic-text-secondary);display:flex;flex-direction:column;list-style:disc;padding-left:1rem}.confirm-exchange-transfer{background-color:var(--dynamic-base-3)}.confirm-exchange-transfer__content{align-items:center;background-color:var(--dynamic-base-3);display:flex;flex-direction:column;gap:.75rem;padding:0 1rem}.confirm-exchange-transfer__content__modal{background-color:var(--dynamic-base-1);border-radius:.25rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;width:100%}.confirm-exchange-transfer__content__modal__top__token{align-items:center;display:flex;gap:.625rem}.confirm-exchange-transfer__content__modal__top__token__name{flex:1}.confirm-exchange-transfer__content__modal__top__token__balance-container{align-items:flex-end;display:flex;flex-direction:column}.confirm-exchange-transfer__content__modal__top__token__balance-container__balance-value-container{align-items:center;display:flex;gap:.25rem}.confirm-exchange-transfer__content__modal__top__token__icon{background-color:var(--dynamic-base-1);border-radius:50%;height:1.75rem;overflow:hidden;width:1.75rem}.confirm-exchange-transfer__content__modal__transaction{background-color:var(--dynamic-base-1);display:flex;flex-direction:column;gap:0;margin:0}.confirm-exchange-transfer__content__modal__transaction__from{align-items:center;display:flex;gap:0}.confirm-exchange-transfer__content__modal__transaction__from__title{flex:1}.confirm-exchange-transfer__content__modal__transaction__from__exchange{align-items:flex-end}.confirm-exchange-transfer__content__modal__transaction__receive{align-items:center;display:flex;gap:.625rem}.confirm-exchange-transfer__content__modal__transaction__receive__name{flex:1}.confirm-exchange-transfer__content__modal__transaction__receive__container{display:flex;flex-direction:column}.confirm-exchange-transfer__content__modal__transaction__receive__amount-container{align-items:flex-end;display:flex;flex-direction:column;margin-left:auto}.confirm-exchange-transfer__content__terms{background-color:var(--dynamic-base-1);border-radius:.25rem;display:flex;flex-direction:column;gap:.5rem;padding:.625rem}.confirm-exchange-transfer__content__buttons{align-items:center;display:flex;gap:1rem;padding:.5rem 0 0;width:100%}.confirm-exchange-transfer__content__buttons__button{width:100%}.confirm-exchange-transfer__content__footer{padding:.5rem 0}.deposited-exchange-view{display:flex;flex-direction:column;height:100%}.deposited-exchange-view__container{align-items:center;display:flex;flex:1 0 0;flex-direction:column;gap:1.5rem;justify-content:flex-end;padding:2.75rem}.deposited-exchange-view__container__icon-holder{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:.5rem .46875rem .5rem .53125rem}.deposited-exchange-view__container__icon-holder__icon{height:6rem;width:6rem}.deposited-exchange-view__container__description{align-items:center;align-self:stretch;display:flex;flex-direction:column;gap:.5rem;height:6rem}.deposited-exchange-view__container__description__text{text-align:center}.deposited-exchange-view__container__buttons{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:.5rem}.deposited-exchange-view__container__buttons__button{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:.25rem}.deposited-exchange-view__container__buttons__button__button{align-items:center;align-self:stretch;border:.0625rem solid var(--default-base-4,#e7e8ed);border-radius:.25rem;display:flex;gap:.375rem;justify-content:center;padding:.625rem 1rem}.currency-select{align-items:stretch;display:flex;flex-direction:column;height:100%}.currency-select__search{align-items:center;background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*2);display:flex;gap:.5rem;margin-bottom:1rem;margin-inline:1.5rem;padding:.625rem .75rem}.currency-select__search__input{background:transparent;border:none;color:var(--dynamic-text-primary);flex:1;font-size:.9375rem;font-weight:400;line-height:1.25rem;outline:none}.currency-select__search__input::-moz-placeholder{color:var(--dynamic-text-secondary)}.currency-select__search__input::placeholder{color:var(--dynamic-text-secondary)}.currency-select__currencies{-ms-overflow-style:none;align-items:stretch;display:flex;flex:1;flex-direction:column;gap:.5rem;margin-inline:1.5rem;margin-bottom:1.5rem;overflow-y:auto;scrollbar-width:none}.currency-select__currencies::-webkit-scrollbar{display:none}.currency-select__currencies__option{align-items:center;background:var(--dynamic-base-2);border-radius:var(--dynamic-border-radius);cursor:pointer;display:flex;justify-content:space-between;padding:.75rem 1rem;transition:background-color .2s ease}.currency-select__currencies__option--selected,.currency-select__currencies__option:hover{background:var(--dynamic-base-3)}.currency-select__currencies__option__info{display:flex;flex-direction:column;gap:.25rem}.fund-from-wallet{height:100%;overflow:auto;width:100%}.fund-from-wallet,.fund-from-wallet__content{align-items:stretch;display:flex;flex:1;flex-direction:column}.fund-from-wallet__content{gap:1rem;padding:1.5rem}.fund-from-wallet__content__amount-container{align-items:center;display:flex;flex-direction:column;gap:.75rem}.fund-from-wallet__content__amount-container__amount{text-align:center;width:100%}.fund-from-wallet__content__amount-container__amount .formatted-input{background:transparent;border:none;color:var(--dynamic-text-primary);font-size:2rem;font-weight:600;text-align:center}.fund-from-wallet__content__amount-container__amount .formatted-input:focus{outline:none}.fund-from-wallet__content__amount-container__quick-suggestions{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.fund-from-wallet__content__amount-container__quick-suggestions>*{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*2);cursor:pointer;padding:.5rem .75rem;transition:background-color .2s ease}.fund-from-wallet__content__amount-container__quick-suggestions>:hover{background-color:var(--dynamic-base-3)}.fund-from-wallet__content__amount-container__error{margin-bottom:.5rem;text-align:center}.fund-from-wallet__content__wallet-card{align-items:center;background:var(--dynamic-base-2);border-radius:var(--dynamic-border-radius);display:flex;gap:.75rem;justify-content:space-between;padding:.75rem 1rem}.fund-from-wallet__content__wallet-card__wallet-details{align-items:center;display:flex;flex:1;gap:.75rem}.fund-from-wallet__content__wallet-card__wallet-details__rows{display:flex;flex-direction:column;gap:.125rem}.fund-from-wallet__content__wallet-card__wallet-details__icon{border-radius:calc(var(--dynamic-border-radius)*.5);height:2rem;overflow:hidden;width:2rem}.fund-from-wallet__content__wallet-card__balance{align-items:center;display:flex;gap:.5rem}.fund-from-wallet__content__wallet-card__balance__rows{align-items:flex-end;display:flex;flex-direction:column;gap:.125rem}.fund-from-wallet__content__currency-selector{display:flex;flex-direction:column;gap:.5rem}.fund-from-wallet__content__currency-selector__dropdown{align-items:center;background-color:var(--dynamic-base-2);border-radius:var(--dynamic-border-radius);cursor:pointer;display:flex;justify-content:space-between;padding:.75rem 1rem;transition:background-color .2s ease}.fund-from-wallet__content__currency-selector__dropdown:hover{background-color:var(--dynamic-base-3)}.fund-from-wallet__content__currency-selector__dropdown__content{display:flex;flex:1;flex-direction:column;gap:.25rem}.fund-from-wallet__content__currency-selector__dropdown__icon{align-items:center;display:flex;flex-shrink:0;height:1.25rem;justify-content:center;margin-left:.5rem;width:1.25rem}.fund-from-wallet__confirm-button{border-radius:var(--dynamic-border-radius);margin:1.5rem}.waas-backup-view{padding:0 24px 16px}.waas-backup-view__body{display:flex;flex-direction:column}.waas-backup-view__icon-container{display:flex;justify-content:center;margin-bottom:16px}.waas-backup-view__subtitle{margin-bottom:24px;text-align:center}.waas-backup-view__stepper{justify-content:center;margin-bottom:24px}.waas-backup-view__step,.waas-backup-view__step-container,.waas-backup-view__stepper{align-items:center;display:flex}.waas-backup-view__step{flex-direction:column}.waas-backup-view__step--completed .waas-backup-view__step-indicator{background-color:var(--dynamic-brand-primary-color);border-color:var(--dynamic-brand-primary-color)}.waas-backup-view__step--completed .waas-backup-view__step-number{color:#fff}.waas-backup-view__step--current .waas-backup-view__step-indicator{background-color:transparent;border-color:var(--dynamic-brand-primary-color)}.waas-backup-view__step--current .waas-backup-view__step-number{color:var(--dynamic-brand-primary-color)}.waas-backup-view__step--upcoming .waas-backup-view__step-indicator{background-color:transparent;border-color:var(--dynamic-text-tertiary)}.waas-backup-view__step--upcoming .waas-backup-view__step-number{color:var(--dynamic-text-tertiary)}.waas-backup-view__step-indicator{align-items:center;background-color:transparent;border:2px solid var(--dynamic-text-tertiary);border-radius:50%;display:flex;height:28px;justify-content:center;transition:all .2s ease;width:28px}.waas-backup-view__step-number{color:var(--dynamic-text-secondary);font-size:14px;font-weight:500}.waas-backup-view__step-separator{border-top:2px dashed var(--dynamic-brand-primary-color);height:0;margin:0 8px;opacity:.4;width:32px}.waas-backup-view__cloud-title{font-size:15px;line-height:20px;margin-bottom:8px;text-align:center}.waas-backup-view__cloud-subtitle{margin-bottom:12px;text-align:center}.waas-backup-view__provider-button{align-items:center;background-color:var(--dynamic-base-2);border:1px solid var(--dynamic-border-color);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:12px;justify-content:center;margin-bottom:12px;padding:16px;transition:all .2s ease;width:100%}.waas-backup-view__provider-button:last-of-type{margin-bottom:0}.waas-backup-view__provider-button:hover{background-color:var(--dynamic-hover)}.waas-backup-view__provider-button:disabled{cursor:not-allowed;opacity:.5}.waas-backup-view__provider-button .typography{font-weight:600}.waas-backup-view__provider-icon{flex-shrink:0;height:20px;width:20px}.waas-backup-view__iframe-container{border-radius:calc(var(--dynamic-border-radius)/2);margin-top:16px;overflow:hidden;width:100%}.waas-backup-view__checkbox-container{margin-bottom:16px}.waas-backup-view__checkbox-label{align-items:flex-start;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);cursor:pointer;display:flex;gap:12px;padding:16px}.waas-backup-view__checkbox-label .checkbox__container{flex-shrink:0;margin-top:2px}.waas-backup-view__checkbox-label .typography{font-family:DM Sans,sans-serif;font-size:15px;font-weight:400;letter-spacing:0;line-height:20px}.waas-backup-view__actions .button{width:100%}.waas-backup-view .google-drive-section{display:flex;flex-direction:column}.waas-backup-view .google-drive-container{align-items:center;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/4);display:flex;gap:16px;justify-content:space-between;padding:10px 12px}.waas-backup-view .google-drive-icon{flex-shrink:0;height:20px!important;max-height:20px;max-width:20px;min-height:20px;min-width:20px;width:20px!important}.waas-backup-view .google-drive-header{align-items:flex-start;display:flex;flex:1;gap:8px}.waas-backup-view .google-drive-text{display:flex;flex-direction:column;gap:2px}.waas-backup-view .google-drive-title-row{align-items:center;display:flex;gap:4px}.waas-backup-view .backed-up-pill{background-color:rgba(65,204,153,.15);border-radius:12px;color:#0f5c3e;font-size:10px;font-weight:700;padding:4px 5px;text-transform:uppercase;white-space:nowrap}.waas-backup-view .google-drive-check-icon{align-self:center;color:#10b981;flex-shrink:0;height:20px;width:20px}.waas-backup-view__progress{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center}.waas-backup-view__progress-icon{align-items:center;display:flex;height:80px;justify-content:center;margin-bottom:16px;position:relative;width:80px}.waas-backup-view__progress-icon svg{height:100%;width:100%}.waas-backup-view__progress-icon:after{animation:swoosh 2s ease-in-out infinite;border-color:transparent #60a5fa #60a5fa transparent;border-radius:50%;border-style:solid;border-width:3px;content:"";height:100px;left:50%;margin-left:-50px;margin-top:-45px;position:absolute;top:50%;width:100px}.waas-backup-view__progress-icon--error:after{display:none}.waas-backup-view__progress-error-badge{align-items:center;background-color:#ef4444;border-radius:50%;bottom:8px;display:flex;height:32px;justify-content:center;position:absolute;right:-8px;width:32px}.waas-backup-view__progress-error-badge svg{height:18px;width:6px}.waas-backup-view__progress-error-badge svg path{fill:#fff}.waas-backup-view__progress-actions{margin-top:24px;width:100%}@keyframes swoosh{0%{opacity:.5;transform:rotate(45deg)}50%{opacity:.9}to{opacity:.5;transform:rotate(405deg)}}.waas-backup-view__progress-title{margin-bottom:8px}.waas-backup-view__progress-subtitle{max-width:280px}.waas-backup-view__info{align-items:center;display:flex;flex-direction:column;text-align:center}.waas-backup-view__info-icon{margin-bottom:16px}.waas-backup-view__info-subtitle{margin-bottom:12px}.waas-backup-view__info-description{margin-bottom:24px}.waas-backup-view__info-alert{align-items:flex-start;background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);display:flex;gap:12px;padding:12px;text-align:left}.waas-backup-view__info-alert-icon{flex-shrink:0;height:16px;margin-top:2px;width:16px}.waas-backup-view__info-alert-icon path{fill:var(--dynamic-text-tertiary)}.waas-backup-view__step-check{height:12px;width:12px}.waas-backup-view__step-check path{fill:#fff}.waas-backup-view__download-icon{height:16px;width:16px}.waas-backup-view__download-button-content{align-items:center;display:flex;gap:8px;justify-content:center}.waas-backup-view__body--centered{align-items:center;text-align:center}.waas-backup-view__success-description,.waas-backup-view__success-icon{margin-bottom:16px}.waas-backup-view__step-separator--solid{border-style:solid;opacity:1}.waas-backup-view{display:flex;flex-direction:column;height:100%}.waas-backup-view .account-wrap{flex:1;overflow-y:auto}.waas-backup-view .backup-content{display:flex;flex-direction:column}.waas-backup-view .backup-icon-container{display:flex;justify-content:center;margin-bottom:16px}.waas-backup-view .backup-content>.typography:first-of-type{margin-bottom:24px;text-align:left}.waas-backup-view .backup-content>.typography{text-align:left}.waas-backup-view .alert{margin:24px 0}.waas-backup-view .backup-actions{display:flex;justify-content:center}.waas-backup-view .backup-actions .backup-button{flex-shrink:0;width:100%}.waas-backup-view .backup-button{flex-shrink:0}.export-and-recovery-view{display:flex;flex-direction:column;height:100%}.export-and-recovery-view__export-shares-label{align-items:center;display:flex;gap:8px}.export-and-recovery-view__advanced-badge{align-items:center;background-color:#d7dbe7;border-radius:4px;color:#57627b;display:inline-flex;font-size:10px;font-weight:700;padding:2px 6px;text-transform:uppercase}.export-shares-passcode-view{display:flex;flex-direction:column;height:100%}.export-shares-passcode-view__content{display:flex;flex-direction:column;padding:16px}.export-shares-passcode-view__description{margin-bottom:24px;text-align:center}.export-shares-passcode-view__label{margin-bottom:8px}.export-shares-passcode-view__pin-container{display:flex;justify-content:center;margin-bottom:24px}.default-prompt-modal{align-items:center;display:flex;flex-direction:column;text-align:center}.default-prompt-modal__icon-with-spinner{margin:0 auto .75rem}.default-prompt-modal__content{flex-direction:column;width:100%}.default-prompt-modal__button .typography,.default-prompt-modal__content{align-items:center;display:flex;gap:.375rem;justify-content:center}.detected-new-wallet-modal__content{align-items:center;display:flex;flex-direction:column;gap:.75rem;text-align:center}.detected-new-wallet-modal__top-section{align-items:center;display:flex;flex-direction:column;gap:1.125rem;text-align:center}.no-qr-code-not-installed-modal-view{align-items:center;display:flex;flex-direction:column;gap:1rem}.no-qr-code-not-installed-modal-view__links-section{width:100%}.qr-code-modal-view{display:flex;flex-direction:column;gap:.5rem}.qr-code-modal-view__title{text-align:center}.qr-code-modal-view .qrcode__container{height:10.9375rem;width:10.9375rem}.qr-code-modal-view__container{align-items:center;display:flex;justify-content:center}.qr-code-modal-view__wrapper{background:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)*3/4);padding:.5rem}.qr-code-modal-view .info-item{margin-bottom:.75rem}.qr-code-modal-view .info-item__text{font-size:var(--dynamic-text-size-body-small)}.qr-code-modal-view .info-item svg path{fill:var(--dynamic-text-secondary)}.qr-code-modal-view .button__container{flex-direction:column}.qr-code-modal-view .button__container,.qr-code-modal-view .button__container span{align-items:center;display:flex;gap:.375rem}.unlink-wallet-popup__container{align-items:center;display:flex;flex-direction:column;width:100%}.unlink-wallet-popup__button,.unlink-wallet-popup__label,.unlink-wallet-popup__title{text-align:center}.unlink-wallet-popup__title{padding-bottom:.5rem}.unlink-wallet-popup__label{padding-bottom:.5rem;padding-top:.5rem}.unlink-wallet-popup__button{margin-top:.5rem}.unlink-wallet-popup__button--shadow{box-shadow:var(--dynamic-shadow-down-1)}.dynamic-widget__container{z-index:2147483646}.onramp-widget__backdrop{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background-color:rgba(0,0,0,.25);inset:0;position:fixed;z-index:2147483645}.onramp-widget__modal{align-items:center;display:flex;inset:0;justify-content:center;overflow-y:auto;padding:1rem;position:fixed;z-index:2147483646}@media (pointer:coarse){.onramp-widget__modal{padding:0}}.onramp-widget__modal iframe{border:none;border-radius:1.5rem;height:635px;margin:auto;max-width:470px;overflow:hidden;width:100%;z-index:2147483647}@media (pointer:coarse){.onramp-widget__modal iframe{border-bottom-left-radius:0;border-bottom-right-radius:0;margin:initial;margin-top:auto}}.embedded-widget{max-width:100%;width:var(--dynamic-modal-width)}.embedded-widget--background-default,.embedded-widget--background-none{background:none}.dynamic-bridge-user-profile__switcher{margin:0 0 1rem;padding:1.5rem 1.5rem 0}.dynamic-bridge-wallet-card__network{margin:0 0 .5rem}.dynamic-bridge-wallet-card__network,.dynamic-bridge-wallet-card__network-icon,.dynamic-bridge-wallet-card__network-name{display:inline-block;vertical-align:middle}.dynamic-bridge-wallet-card__network-icon{height:1rem;margin-right:.375rem;width:1rem}.dynamic-bridge-widget-empty-card{background-color:var(--dynamic-base-2);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);padding:.75rem;transition:transform .1s linear}.dynamic-bridge-widget-empty-card:active{transform:scale(.98)}.dynamic-bridge-widget-empty-card__icon{display:inline-flex;height:1.75rem;margin-right:.63rem;vertical-align:middle;width:1.75rem}.dynamic-bridge-widget-empty-card__text{overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.dynamic-bridge-widget-wallets-view{display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.dynamic-bridge-widget-wallets-view__logout-button{margin:0 auto}.dynamic-bridge-widget-wallets-view__unlink-button{color:var(--dynamic-text-secondary);margin:auto 0 0 auto}.dynamic-bridge-widget__skeleton{height:1.25rem;width:5rem}.dynamic-bridge-widget__skeleton-button{cursor:default}.dynamic-bridge-widget__skeleton-button:hover{background-color:initial}.footer-buttons-item{align-items:center;background:var(--dynamic-base-2);border:0;border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);cursor:pointer;display:flex;padding:.75rem;transition:all .3s;width:100%}.footer-buttons-item__icon--left{margin-right:.625rem}.footer-buttons-item__icon--left img,.footer-buttons-item__icon--left svg{height:1.25rem;width:1.25rem}.new-to-web3-buttons__container{margin-top:1rem}.new-to-web3-buttons__container button{background:var(--dynamic-brand-primary-color);border-radius:calc(var(--dynamic-border-radius)/2);box-shadow:var(--dynamic-shadow-down-1);color:#fff;padding:.75rem;width:100%}.walletlist-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.walletlist-help-content__icon{align-items:center;display:flex;height:3.5rem;justify-content:center;margin:0 auto;width:3.5rem}.walletlist-help-content__typography-wrapper{color:var(--dynamic-text-primary);margin:1rem 0;text-align:center}.walletlist-help-content__typography-wrapper .walletlist-help-content__typography--label{margin-top:.375rem}.walletlist-help-content__buttons-wrapper{display:flex;flex-direction:column;gap:.375rem;margin-top:1rem}.walletlist-help-content__buttons-wrapper button{text-align:left;width:100%}.walletlist-help-content__custodial-wallet-area--title{margin:.75rem 0;text-align:center}.footer-more-info-content__wrapper{display:flex;flex-direction:column;gap:.75rem;padding:1.5rem}.footer-more-info-content__item--phantom-ledger{font-size:.6875rem;margin-bottom:.5rem}.footer-more-info-content__item--phantom-ledger p{margin-bottom:.5rem}.footer-more-info-content__item--phantom-ledger p:last-child,.footer-more-info-content__item:last-child{margin-bottom:0}.back-button{rotate:-90deg}.help-header{border-bottom:1px solid var(--dynamic-base-4)}.passkey-info-help-content__container{color:var(--dynamic-text-secondary);padding:1.5rem}.passkey-info-help-content__typography-wrapper{color:var(--dynamic-text-primary);display:flex;flex-direction:column;gap:1rem;text-align:left}.passkey-info-help-content__wrapper{flex:1}.passkey-info-help-content__details{display:flex;flex-direction:row;gap:1rem}.layout-header{align-items:stretch;background:var(--dynamic-header-background);display:flex;flex-direction:column;width:100%}.layout-header__skeleton{width:7.5rem}.layout-header__typography{margin:0;text-align:center}.layout-header__typography img,.layout-header__typography svg{display:inline-block}.layout-header__tooltip{background-color:var(--dynamic-text-primary);color:var(--dynamic-base-2);font-size:.75rem}.layout-header__icon svg{height:1.5rem;width:1.5rem}.layout-header__description{margin-top:1rem;padding-inline:1.5rem;text-align:center}.tos-and-pp__footer{background:var(--dynamic-footer-background);border-top:var(--dynamic-footer-border-top);bottom:0;padding:var(--dynamic-footer-padding);position:relative;width:100%}.default-footer__footer{background:var(--dynamic-base-1);border-top:.0625rem solid var(--dynamic-base-4);box-shadow:var(--dynamic-shadow-up-1);height:var(--dynamic-border-radius);min-height:1.5rem;opacity:1;text-align:center;transition:opacity .15s,visibility .15s;visibility:visible;width:100%}.default-footer__footer--hidden{opacity:0;transition:opacity .15s,visibility .15s;visibility:hidden}.wallet-progress-stepper{padding:.5rem 1rem}.dynamic-user-profile-layout{display:flex;flex-direction:column;height:33.125rem;overflow:hidden}.dynamic-user-profile-layout--unset-max-height{height:unset}input:-webkit-autofill,input:-webkit-autofill:active,input:-webkit-autofill:focus,input:-webkit-autofill:hover{box-shadow:unset!important}.dynamic-modal{display:flex;flex-direction:column-reverse;left:50%;letter-spacing:0;position:absolute}.dynamic-shadow-dom-content{font-family:var(--dynamic-font-family-primary)}';const hJ=()=>f.jsx("link",{rel:"stylesheet",href:"https://app.dynamic.xyz/assets/legacySafari/styles.css"}),NGe=()=>{if(Rd())return!1;const e="shadowDOM.enabled",t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e)==="true":!0},PGe=Vt.createContext({}),pJ=()=>f.jsx("style",{children:cue}),E_=({mode:e="open",id:t,className:n,children:r,dataTestId:i,zIndex:o})=>{const{shadowDOMEnabled:s,cssOverrides:a}=je(),c=NGe()&&s,[d,u]=x.useState(null),[h,m]=x.useState(),v=x.useMemo(()=>a&&typeof a!="string"?()=>a:a&&typeof a=="string"?()=>f.jsx("style",{children:a}):null,[a]);g_(()=>{if(d&&c)try{const g=d.attachShadow({mode:e});m(g)}catch{}},[c,d,e]);const y=x.useMemo(()=>!!Object.keys(cue).length,[]);return c?f.jsx(UO,{children:f.jsx(PGe.Provider,{value:{shadowRoot:h},children:f.jsx("div",{"data-testid":i,ref:u,id:t,className:Ke("dynamic-shadow-dom",n),style:{zIndex:o},children:h&&bm.createPortal(f.jsxs("div",{className:"dynamic-shadow-dom-content",children:[r,y&&f.jsx(pJ,{}),aO()&&f.jsx(hJ,{}),v&&f.jsx(v,{})]}),h)})})}):f.jsx(UO,{children:f.jsxs("div",{"data-testid":i,ref:u,id:t,className:Ke("dynamic-shadow-dom",n),style:{zIndex:o},children:[r,y&&f.jsx(pJ,{}),aO()&&f.jsx(hJ,{}),v&&f.jsx(v,{})]})})},due=({onSubmit:e,onError:t,userProfile:n,shouldEnforcePolicies:r=!0,fields:i})=>{var o;const{mockedSDK:s}=yj(),[a,l]=x.useState(!1),{fieldsConfig:c}=fD(),d=r&&((o=i.find(y=>y.name==="policiesConsent"))===null||o===void 0?void 0:o.enabled),u=y=>`${y.charAt(0).toUpperCase()+y.slice(1)} is required`,h=x.useMemo(()=>t1().shape(Object.fromEntries(i.map(({name:y,required:g,type:b,validationType:k,validationRules:_})=>{let R=b===Ed.Custom?Ry(Ele,k):Ry(c,y).validation;return b===Ed.Custom&&_&&(k===sm.Select||k===sm.Text)&&(R=R,_.validOptions?R=R.oneOf(_.validOptions.map(I=>I.label),"Select a valid option"):_.regex&&(R=R.matches(new RegExp(_.regex),"Invalid field format"))),[y,g?R.required(u(y)):R]}))),[i]),m=x.useMemo(()=>Object.fromEntries(i.map(({name:y,type:g,validationRules:b,validationType:k})=>{var _,R,I,T;const D=n??{};if(g===Ed.Custom){let U="";return k===sm.Select&&(b!=null&&b.validOptions)&&(U=(_=b.validOptions[0].label)!==null&&_!==void 0?_:""),[y,(()=>{var $;const z=D.metadata?Ry(D.metadata,y):void 0;return Array.isArray(z)?z:($=z==null?void 0:z.toString())!==null&&$!==void 0?$:U})()]}const C=(R={country:DM[0].code,policiesConsent:!1,tShirtSize:MM[0],team:jM[0]}[y])!==null&&R!==void 0?R:"";return[y,(T=(I=Ry(D,y))===null||I===void 0?void 0:I.toString())!==null&&T!==void 0?T:C]}))||{},[i,n]),v=x.useCallback((y,g)=>de(void 0,void 0,void 0,function*(){const b={},k={};if(!s)try{if(!(n!=null&&n.environmentId))throw new Se("Invalid environment ID");l(!0);let _=y;Object.entries(_).forEach(([R,I])=>{const T=i.find(D=>D.name===R&&D.type===Ed.Custom);T&&(b[R]=I,delete _[R],T.unique&&(k[R]=I))}),Object.keys(b).length>0&&(_.metadata=b),d&&(_=Object.assign(Object.assign({},_),{policiesConsent:!0}),delete _.policiesConsentArray),yield e==null?void 0:e(_)}catch(_){Ie.error(_),t==null||t(_),_ instanceof aM?g.setErrors({email:"Email already exists"}):_ instanceof sM?g.setFormikState(R=>Object.assign(Object.assign({},R),{errors:Object.fromEntries(Object.entries(k).map(([I])=>[I,Object.entries(k).length>1?"One or more fields are already tied to another user":`${I} is already tied to another user`])),touched:Object.fromEntries(Object.entries(k).map(([I])=>[I,!0])),values:Object.assign(Object.assign({},m),k)})):_ instanceof uM?g.setErrors({email:"Too many email verification attempts."}):_ instanceof fM?g.setErrors({username:"Username already exists"}):_ instanceof cM?g.setErrors({phoneNumber:_.message}):g.setErrors({api:"Something went wrong. Please try again."})}finally{l(!1)}}),[s,n==null?void 0:n.environmentId,d,e,i,t,m]);return{enforcePolicies:d,fetch:a,formikInitialValues:m,formikValidationSchema:h,onFormSubmit:v}},Vd=({ariaLabel:e,checked:t,className:n="",defaultChecked:r,disabled:i,id:o,name:s,onChange:a,value:l})=>f.jsxs("div",{className:Ke("checkbox__container",n),children:[f.jsx("input",{type:"checkbox",id:o,"aria-label":e,"aria-checked":t,className:"checkbox--hidden",value:l,checked:t,name:s,disabled:i,defaultChecked:r,onChange:c=>!!a&&(a==null?void 0:a(c,c.currentTarget.value)),"data-testid":"input-checkbox"}),f.jsx("div",{className:"checkbox--visible",children:f.jsx(cc,{className:"checkbox__icon"})})]}),uue=e=>{var t,n;const r=WD((t=e==null?void 0:e.providers)!==null&&t!==void 0?t:[],pn.Sms);return((n=r==null?void 0:r.enabledCountries)!==null&&n!==void 0?n:[]).map(i=>i.isoCountryCode.toLowerCase())},BGe=["us","ca"],fue=e=>e.length?e:BGe,MGe=(e,t)=>{const n=x.useRef(!1),r=x.useRef(e);return r.current=e,x.useCallback((...i)=>{n.current||(r.current(...i),n.current=!0,setTimeout(()=>n.current=!1,t))},[t])},DGe=(e,t)=>(e%t+t)%t,jGe=({defaultIso2:e,countries:t,initialPhone:n})=>{if(n){const{country:l}=c3({countries:t,phone:n});if(l)return l}const r=t.map(ps),i=ot.getItem(Hw),o=r.find(({iso2:l})=>l===i);if(o)return o;const s=r.find(({iso2:l})=>l===e);if(s)return s;const a=r.find(({iso2:l})=>l==="us");if(a)return a;if(r[0])return r[0];throw new Error("No country list was provided")},$Ge=50,LGe=20,UGe=({countryInputRef:e,setCountryDropdownOpen:t,setInvalidNumberMessage:n,onUpdate:r,initialPhone:i,countries:o,defaultIso2:s})=>{const a=x.useRef(r);a.current=r;const l=x.useMemo(()=>jGe({countries:o,defaultIso2:s,initialPhone:i}),[o,s,i]),{inputValue:c,phone:d,country:u,setCountry:h,handlePhoneValueChange:m,inputRef:v}=gae({countries:o,defaultCountry:l.iso2,disableDialCodeAndPrefix:!0,value:i}),[y,g]=x.useState(l.dialCode),b=x.useMemo(()=>d.length===("+"+u.dialCode).length?"":d,[u.dialCode,d]);x.useEffect(()=>{var V;(V=a.current)===null||V===void 0||V.call(a,{country:u,formattedPhone:c,phone:b})},[u.iso2,c,b]);const[k,_]=x.useState(""),R=x.useMemo(()=>k?isNaN(parseInt(k))?o.filter(V=>{const{name:K,iso2:W}=ps(V);return K.toLowerCase().includes(k.toLowerCase())||W===k.toLowerCase()||u.iso2===W}):o.filter(V=>{const{dialCode:K,iso2:W}=ps(V);return K.includes(k)||u.iso2===W}):o,[o,u.iso2,k]),I=()=>{_(""),t(!0)},T=x.useCallback(()=>{t(!1)},[t]),D=x.useRef(l),M=({target:V})=>{const K=V.value.slice(0,4);g(K),_(K);const{country:W}=c3({countries:o,currentCountryIso2:u.iso2,phone:K});W&&(D.current=W,h(W.iso2),ot.setItem(Hw,W.iso2),setTimeout(()=>A(W.iso2),LGe))},C=()=>{!D.current||y===D.current.dialCode||(h(D.current.iso2),ot.setItem(Hw,D.current.iso2),g(D.current.dialCode),n(void 0))},U=x.useCallback(V=>{V.preventDefault();const K=R.findIndex(F=>ps(F).iso2===u.iso2),W=V.key==="ArrowUp"?-1:1,P=ps(R[DGe(K+W,R.length)]);A(P.iso2),g(P.dialCode),h(P.iso2),D.current=P,ot.setItem(Hw,P.iso2),n(void 0)},[u.iso2,R,n,h]),$=x.useCallback(()=>{var V;T(),(V=v.current)===null||V===void 0||V.select()},[T,v]),z=x.useCallback(V=>{if(V.key==="Tab")return T();if(V.key==="ArrowUp"||V.key==="ArrowDown")return U(V);if(V.key==="Enter")return $(V)},[T,U,$]),q=x.useMemo(()=>o_({charAfterDialCode:"+",dialCode:u.dialCode,phone:d}).length>0,[u.dialCode,d]),S=x.useRef(null),A=V=>{var K;const W=(K=S.current)===null||K===void 0?void 0:K.querySelector("#"+V);W==null||W.scrollIntoView({behavior:"instant",block:"center",inline:"center"})},O=MGe(V=>{var K;const W=!!S.current,P=!!V;S.current=V,!(W||!P)&&((K=e.current)===null||K===void 0||K.select(),A(u.iso2))},$Ge),N=V=>{g(V.dialCode),h(V.iso2),ot.setItem(Hw,V.iso2),D.current=V,n(void 0)},j=x.useMemo(()=>y.length>3?"var(--dynamic-text-size-body-mini)":y.length>2?"var(--dynamic-text-size-body-small)":"var(--dynamic-text-size-body-normal)",[y.length]);return{closeDropdown:T,countryFontSize:j,countryInput:y,currentCountry:u,filteredCountries:R,formattedPhone:c,handleCountryInput:M,handleCountryKeyDown:z,handlePhoneInput:m,hasInput:q,inputRef:v,onBlurCountry:C,onFocusCountry:I,onMenuDisplayToggle:O,openDropdown:I,setCountry:N}},hue=({isLoading:e,disabled:t,error:n,label:r,onUpdate:i,appendRight:o,setIsFocused:s,setIsHovered:a,initialPhone:l,onBlur:c,countries:d})=>{const{t:u}=Xe(),h=x.useRef(null),[m,v]=x.useState(!1),y=x.useRef(null),{defaultPhoneInputIso2:g}=je(),[b,k]=x.useState(void 0),{formattedPhone:_,currentCountry:R,handleCountryInput:I,handlePhoneInput:T,hasInput:D,inputRef:M,countryInput:C,onBlurCountry:U,filteredCountries:$,openDropdown:z,handleCountryKeyDown:q,closeDropdown:S,setCountry:A,onMenuDisplayToggle:O,onFocusCountry:N,countryFontSize:j}=UGe({countries:d,countryInputRef:h,defaultIso2:g,initialPhone:l,onUpdate:i,setCountryDropdownOpen:v,setInvalidNumberMessage:k});return f.jsxs("div",{className:"phone-number-field",children:[f.jsxs("div",{className:"phone-number-field__fields",onPointerEnter:()=>a==null?void 0:a(!0),onPointerLeave:()=>a==null?void 0:a(!1),onFocus:()=>s==null?void 0:s(!0),onBlur:V=>{s==null||s(!1),c==null||c(V)},ref:y,children:[f.jsxs("div",{className:Ke("phone-number-field__fields__country-code",{"phone-number-field__fields__country-code--disabled":e||t}),onClick:z,"data-testid":"country-code",children:[f.jsx(kS,{iso2:R.iso2,size:"24px",className:"phone-number-field__fields__country-code__flag"}),f.jsx(se,{className:"phone-number-field__fields__country-code__plus",variant:"body_normal",weight:"regular",style:{fontSize:j},color:"primary",children:"+"}),f.jsx(Sl,{label:"",id:"country_code_field",value:C,onChange:I,disabled:e||t,containerClassName:"phone-number-field__fields__country-code__container",className:"phone-number-field__fields__country-code__container__input",onBlur:U,ref:h,onKeyDown:q,onFocus:N,style:{fontSize:j},"data-testid":"country-code-input",inputMode:"numeric",autoComplete:"tel-country-code"}),f.jsx(Nt,{className:"phone-number-field__fields__country-code__chevron",children:f.jsx(N3,{})})]}),f.jsx(Sl,{label:"",id:"phoneNumber",value:_,onChange:T,disabled:e||t,containerClassName:"phone-number-field__fields__phone-number",className:"phone-number-field__fields__phone-number__input",ref:M,error:!!(b||n),inputMode:"numeric","data-testid":"phone_number_input",autoComplete:"tel-national"}),!D&&f.jsx(se,{className:"phone-number-field__fields__placeholder",variant:"body_normal",weight:"regular",copykey:"dyn_collect_user_data.fields.phone_number.label",children:r??u("dyn_collect_user_data.fields.phone_number.label")}),o]}),f.jsx(ij,{isOpen:m,onClickClose:S,popperProps:{anchorOrigin:"bottom-left",anchorRef:y},mobileTitle:"Select country",dropdownClassName:"phone-number-field__dropdown",children:f.jsx("div",{className:"phone-number-field__dropdown__items",ref:O,children:$.map(V=>{const K=ps(V),{iso2:W,name:P,dialCode:F}=K,G=W===R.iso2;return f.jsxs("div",{className:Ke("phone-number-field__dropdown__items__country",{"phone-number-field__dropdown__items__country--selected":G}),onClick:()=>{A(K),S()},id:W,children:[f.jsx(kS,{iso2:W,size:"24px"}),f.jsx(se,{variant:"body_small",color:"primary",children:P}),f.jsx(se,{variant:"body_small",color:"secondary",children:F})]},W)})})}),!!(b||n)&&f.jsx(se,{variant:"body_mini",className:"phone-number-field__error-message",children:n??b})]})},FGe=({onChange:e,value:t,onBlur:n,disabled:r,label:i,required:o,error:s,name:a,verify:l})=>{const{selectedPhoneCountry:c}=dD(),{projectSettings:d}=je(),u=({country:m,phone:v})=>{c.current=m,v!==t&&e({target:{name:a,value:v}})},h=x.useMemo(()=>{const m=uue(d);return nj(l?fue(m):void 0)},[l,d]);return f.jsx(hue,{countries:h,initialPhone:t,disabled:r,onUpdate:u,onBlur:n,label:i,appendRight:!r&&!o?f.jsx(se,{variant:"body_small",color:"secondary",className:"user-phone-field__optional-label",children:"Optional"}):void 0,error:s})},MS=(e,t)=>{var n;if(!t)return;const r={required:i=>`${i} is required`};return((n=r[t])===null||n===void 0?void 0:n.call(r,e))||t},WGe=e=>{if(!e)return;const{selectedIndex:t}=e;if(t===void 0)return;const n=e.options[t];if(n.hasAttribute("value"))return n.text},qGe=e=>{var{children:t,className:n="",id:r,label:i,value:o,error:s=!1,selectDataTestId:a,message:l}=e,c=bs(e,["children","className","id","label","value","error","selectDataTestId","message"]);const d=x.useRef(null),[u,h]=x.useState();return g_(()=>{if(!o)return;const m=d.current;h(WGe(m))},[o,h]),f.jsxs("div",{className:"select__field",children:[f.jsxs("div",{className:Ke(n,"select__container"),children:[f.jsxs("label",{className:Ke("select__body",{select__error:s,select__has_value:!!u}),htmlFor:r,children:[f.jsx("span",{className:"select__value",children:u||f.jsx("span",{children:""})}),f.jsx("span",{className:"select__label",children:i}),f.jsx("div",{className:"select__control_icon",children:f.jsx(Nt,{size:"medium",children:f.jsx(NN,{})})})]}),f.jsx("select",Object.assign({},c,{"data-testid":a,ref:d,id:r,value:o,placeholder:i,className:"select",children:t}))]}),l&&f.jsx(se,{className:Ke("select__message",{select__message__error:s}),variant:"body_mini",children:l})]})},xk=({key:e,name:t,label:n,type:r,options:i,disabled:o,dataTestId:s},{errors:a,touched:l})=>f.jsx(Dh,{copykey:e,as:qGe,type:r,id:t,name:t,label:n,error:!!(a[t]&&l[t]),selectDataTestId:s,message:l[t]&&MS(n,a[t]),disabled:o,children:i.map(c=>typeof c=="string"?f.jsx("option",{value:c,children:c},c):f.jsx("option",{value:c.value,children:c.label},c.value))},t),zGe=(e,t,n,r,i,o,s)=>f.jsxs("div",{children:[f.jsx("div",{role:"group","aria-labelledby":"checkbox-group",className:`user-field__checkbox-container ${i[t]&&o[t]?"user-field__checkbox-container--error":""}`,children:(r==null?void 0:r.checkboxText)&&f.jsxs("div",{className:"user-field__consent-checkbox",children:[f.jsx(Dh,{as:Vd,id:e,name:t,type:"checkbox",value:"0",disabled:s,selectDataTestId:"customFieldCheckbox"},e),f.jsx("label",{htmlFor:e,className:"user-field__checkbox-label",children:f.jsx(se,{variant:"body_small",color:"secondary",children:r.checkboxText})})]},e)},"customConsentGroup"),o[t]&&MS(n,i[t])&&f.jsx(se,{variant:"body_mini",className:"user-field__error-message",children:`${t.charAt(0).toUpperCase()+t.slice(1)} is required`})]}),VGe=(e,t,n)=>f.jsx("div",{role:"group","aria-labelledby":"checkbox-group",className:"user-field__checkbox-container",children:t==null?void 0:t.map((r,i)=>f.jsxs("div",{className:"user-field__consent-checkbox",children:[f.jsx(Dh,{copykey:e,as:Vd,id:`policiesConsent_${i}`,name:"policiesConsentArray",type:"checkbox",value:`${i}`,disabled:n},`policiesConsent_${i}`),f.jsx("label",{htmlFor:`policiesConsent_${i}`,className:"user-field__checkbox-label",children:f.jsx(se,{variant:"body_small",color:"secondary",children:r})})]},`policiesConsent_${i}`))},"policiesConsentGroup"),KGe=({fieldData:{validationRules:e,isCustom:t,key:n,label:r,type:i,autoComplete:o},fieldSettings:{enabled:s,name:a,required:l,verify:c,label:d=r},errors:u,touched:h,disabled:m,policiesConsentInnerComponentArray:v})=>{if(t){if(i===sm.Select&&(e!=null&&e.validOptions)){const y=e.validOptions.map(g=>g.label);return xk({dataTestId:"customFieldSelect",disabled:m,key:n,label:d,name:a,options:y,type:i},{errors:u,touched:h})}else if(i===sm.Checkbox)return zGe(n,a,d,e,u,h,m)}switch(a){case"tShirtSize":return xk({dataTestId:"tShirtSizeSelect",disabled:m,key:n,label:d,name:a,options:MM,type:i},{errors:u,touched:h});case"team":return xk({dataTestId:"teamSelect",disabled:m,key:n,label:d,name:a,options:jM,type:i},{errors:u,touched:h});case"country":return xk({dataTestId:"countrySelect",disabled:m,key:n,label:d,name:a,options:DM.map(y=>({label:y.name,value:y.code})),type:i},{errors:u,touched:h});case"policiesConsent":return VGe(n,v,m);case"phoneNumber":return f.jsx(Dh,{name:a,as:FGe,disabled:m,label:d,required:l,error:h[a]&&u[a]?MS(d,u[a]):void 0,verify:c,autoComplete:o},a);default:return f.jsx(Dh,{copykey:n,disabled:m,as:Sl,type:i,id:a,name:a,label:d,optional:s&&!l,error:u[a]&&h[a],message:h[a]&&MS(d,u[a]),autoComplete:o},a)}},HGe=({enabled:e,name:t,lockForVerification:n})=>{if(t==="email"&&!e)return"dyn_collect_user_data.update_email_tooltip";if(t==="phoneNumber"&&!e)return"dyn_collect_user_data.update_phone_number_tooltip";if(n)return"dyn_collect_user_data.lock_editing_multiple_verified_fields"},pue=({errors:e,policiesConsentInnerComponentArray:t,fields:n,touched:r,currentValues:i,disableEditingMultipleFieldsWithVerification:o,initialValues:s})=>{const{fieldsConfig:a}=fD(),{t:l}=Xe(),c=x.useMemo(()=>s&&i&&n?n.filter(d=>d.verify&&s[d.name]!==i[d.name]).map(d=>d.name):[],[i,n,s]);return f.jsx("div",{className:"user-data-fields__fields-column",children:n==null?void 0:n.map(d=>{const{enabled:u,name:h,verify:m}=d;if(h===uD)return;const v=o&&m&&c.length>0&&!c.includes(h),y=!u||v,g=HGe({enabled:u,lockForVerification:v,name:h});let b;d.type!==Ed.Custom?b=a[h]:b={isCustom:!0,key:d.name,label:d.name,type:d.validationType,validation:Ele[d.validationType],validationRules:d.validationRules};const k=f.jsx(KGe,{disabled:!!y,errors:e,fieldData:b,fieldSettings:d,touched:r,policiesConsentInnerComponentArray:t},b.key);return g?f.jsx(S_,{content:l(g),className:"user-data-fields__tooltip",copykey:g,children:k},b.key+"__tooltip"):k})})},mue=(e,t)=>{const n=x.useRef(null),r=x.useRef(e);return r.current=e,x.useCallback(((...i)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{r.current(...i)},t)}),[t])},gue=({showDetails:e=!1})=>{const{t}=Xe(),{values:n,setFieldValue:r,initialValues:i}=jD(),o=vWe(),{projectSettings:s}=je(),[a,l]=x.useState(void 0),c=x.useMemo(()=>n["name-service-subdomain-handle"]===void 0?i["name-service-subdomain-handle"]||"":n["name-service-subdomain-handle"],[n,i]),d=x.useMemo(()=>{var y;const g=(y=s==null?void 0:s.sdk.nameService)===null||y===void 0?void 0:y.evm.domain;if(g)return`.${g}`},[s]),u=x.useCallback(y=>de(void 0,void 0,void 0,function*(){if(y!==""&&y!==i["name-service-subdomain-handle"]){const g=yield o({subdomain:y});l(g)}else l(void 0)}),[o,i]),h=mue(u,500),m=y=>de(void 0,void 0,void 0,function*(){r("name-service-subdomain-handle",y.target.value),h(y.target.value)}),v=x.useMemo(()=>{if(a)return a!=null&&a.error?t("dyn_subdomain_field.error"):a!=null&&a.available?t("dyn_subdomain_field.available"):t("dyn_subdomain_field.not_available")},[a,t]);return d?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"subdomain-field__container",children:[f.jsx(Sl,{id:"subdomain-field",className:"input__container--available",value:c,onChange:m,label:t("dyn_subdomain_field.label"),error:!!(v&&!(a!=null&&a.available)),success:a==null?void 0:a.available,message:v}),f.jsx(se,{as:"span",color:"secondary",variant:"body_normal",children:d})]}),e&&f.jsx(se,{as:"p",color:"secondary",variant:"body_small",className:"subdomain-field__details",copykey:"dyn_subdomain_field.details",children:t("dyn_subdomain_field.details")}),f.jsx(rf,{})]}):(Ie.error("Failed to get ENS domain from settings.sdk.nameService"),null)},GGe=({filterFields:e,formClassName:t,fieldsContainerStyle:n,onEditProfileSubmit:r,onEditProfileCancel:i,options:o={buttonsAsFooter:!0,cancelText:"Cancel",shouldEnforcePolicies:!1,submitText:"Save"}})=>{const{projectSettings:s,user:a,primaryWallet:l}=je(),c=x.useMemo(()=>{const g=qD({customFields:s==null?void 0:s.customFields,projectSettingsKyc:s==null?void 0:s.kyc,user:a});return e?g.filter(({name:b})=>e.includes(b)):g},[e,s==null?void 0:s.customFields,s==null?void 0:s.kyc,a]),{fetch:d,formikInitialValues:u,formikValidationSchema:h,onFormSubmit:m}=due({fields:c,onSubmit:r,shouldEnforcePolicies:o.shouldEnforcePolicies,userProfile:a}),v=x.useMemo(()=>c.some(g=>g.name===uD)&&(l==null?void 0:l.connector.isEmbeddedWallet),[c,l]),y=(g,b,k)=>f.jsxs(f.Fragment,{children:[!o.hideCancelButton&&f.jsx(xt,Object.assign({disabled:d,expanded:!0,buttonPadding:"medium",buttonVariant:"secondary",type:"button",typographyProps:{variant:"button_secondary"},onClick:i,dataTestId:"cancel-button"},o.cancelButtonProps,{children:o.cancelText})),f.jsx(xt,Object.assign({buttonClassName:"dynamic-widget-footer__button",disabled:d||!b||!k,expanded:!0,type:"submit",buttonPadding:"medium",typographyProps:{variant:"button_secondary"},loading:g,startSlot:f.jsx(cc,{}),dataTestId:"submit-button"},o.submitButtonProps,{children:o.submitText}))]});return f.jsx(R3,{onSubmit:m,initialValues:u,validationSchema:h,validateOnChange:!0,children:({errors:g,touched:b,isSubmitting:k,isValid:_,dirty:R,values:I})=>f.jsxs(__,{className:Ke("dynamic-widget-edit-profile-view",t),"data-testid":"editUserProfileForm",children:[f.jsxs("div",{className:"dynamic-widget-edit-profile-view__fields",style:n,children:[v&&f.jsx(gue,{}),f.jsx(pue,{errors:g,fields:c,touched:b,currentValues:I,initialValues:u,disableEditingMultipleFieldsWithVerification:!0})]}),o.buttonsAsFooter?f.jsx(Pde,{children:y(k,_,R)}):y(k,_,R)]})})},JGe=e=>e.replace(/([a-z])([A-Z])/g,"$1 $2"),ZGe=(e,t)=>{const{appName:n,user:r}=je(),i=n?`${n} `:"";if(e.submitText||(e.submitText="Update"),t.length!==1)return e.title||(e.title="Update your info"),e.subtitle||(e.subtitle=`Fill out your info for your ${i}account`),e;const[o]=t,s=JGe(o).toLowerCase(),a=r!=null&&r[o]?"Update":"Enter";return e.title||(e.title=`${a} your ${s}`),e.subtitle||(e.subtitle=`Add your ${s} to your ${i}account`),e};var mJ,YGe=["title","titleId"];function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BN.apply(null,arguments)}function XGe(e,t){if(e==null)return{};var n,r,i=QGe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var eJe=function(t){var n=t.title,r=t.titleId,i=XGe(t,YGe);return x.createElement("svg",BN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,mJ||(mJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 4 14.928 1 1 0 1 1 1 1.732A9.96 9.96 0 0 1 11.942 22C6.446 21.968 2 17.503 2 12 2 6.477 6.477 2 12 2s10 4.477 10 10v1.5a3.5 3.5 0 0 1-6.396 1.966A5 5 0 1 1 17 12v1.5a1.5 1.5 0 0 0 3 0V12a8 8 0 0 0-8-8Zm3 8a3 3 0 1 0-6 0 3 3 0 0 0 6 0Z",fill:"currentColor"})))},gJ,tJe=["title","titleId"];function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MN.apply(null,arguments)}function nJe(e,t){if(e==null)return{};var n,r,i=rJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var iJe=function(t){var n=t.title,r=t.titleId,i=nJe(t,tJe);return x.createElement("svg",MN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,gJ||(gJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h16a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Z",fill:"currentColor"})))},yJ,oJe=["title","titleId"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN.apply(null,arguments)}function sJe(e,t){if(e==null)return{};var n,r,i=aJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var lJe=function(t){var n=t.title,r=t.titleId,i=sJe(t,oJe);return x.createElement("svg",DN({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,yJ||(yJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6 8.067a9.333 9.333 0 0 0-13.2 13.2l5.658 5.657c.52.52 1.363.52 1.884 0l5.658-5.658a9.333 9.333 0 0 0 0-13.199ZM7.515 6.181c4.686-4.686 12.284-4.686 16.97 0 4.687 4.687 4.687 12.285 0 16.97l-4.67 4.67c-.041.042.019-.018-.023.024l-.964.964a3.998 3.998 0 0 1-5.655 0l-5.658-5.657c-4.687-4.686-4.687-12.284 0-16.97ZM16 12a2.667 2.667 0 1 0 0 5.333A2.667 2.667 0 0 0 16 12Zm-5.333 2.667a5.333 5.333 0 1 1 10.666 0 5.333 5.333 0 0 1-10.666 0Z",fill:"currentColor"})))},vJ,cJe=["title","titleId"];function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jN.apply(null,arguments)}function dJe(e,t){if(e==null)return{};var n,r,i=uJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var yue=function(t){var n=t.title,r=t.titleId,i=dJe(t,cJe);return x.createElement("svg",jN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,vJ||(vJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm2 2.869V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9.869l-6.336 4.223a3 3 0 0 1-3.328 0L4 9.87Zm16-2.404-7.445 4.963a1 1 0 0 1-1.11 0L4 7.465V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v.465Z",fill:"currentColor"})))},wJ,fJe=["title","titleId"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$N.apply(null,arguments)}function hJe(e,t){if(e==null)return{};var n,r,i=pJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var mJe=function(t){var n=t.title,r=t.titleId,i=hJe(t,fJe);return x.createElement("svg",$N({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,wJ||(wJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 5a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V5Zm3-1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H8Zm3 14a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"currentColor"})))},bJ,gJe=["title","titleId"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LN.apply(null,arguments)}function yJe(e,t){if(e==null)return{};var n,r,i=vJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wJe=function(t){var n=t.title,r=t.titleId,i=yJe(t,gJe);return x.createElement("svg",LN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,bJ||(bJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h4a3 3 0 0 1 3 2.93 3 3 0 0 1 4.192.05l2.829 2.828A3 3 0 0 1 19.069 12 3 3 0 0 1 22 15v4a3 3 0 0 1-3 3H7a5 5 0 0 1-5-5V5Zm9.071 15H19a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-1.929l-6 6Zm4.878-7.707h.001l1.657-1.657a1 1 0 0 0 0-1.414l-2.829-2.829a1 1 0 0 0-1.414 0L12 7.757v8.486l3.95-3.95ZM9.123 19.12A2.99 2.99 0 0 0 10 17V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a3 3 0 0 0 5.123 2.12ZM6 17a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Z",fill:"currentColor"})))},_J,bJe=["title","titleId"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN.apply(null,arguments)}function _Je(e,t){if(e==null)return{};var n,r,i=xJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var xJ=function(t){var n=t.title,r=t.titleId,i=_Je(t,bJe);return x.createElement("svg",UN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,_J||(_J=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 5a3 3 0 1 1 6 0h4a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h4Zm.17 2H5a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-4.17a3.001 3.001 0 0 1-5.66 0ZM12 4a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V5a1 1 0 0 0-1-1Zm-3 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm2.4 2.8a3 3 0 1 0-4.8 0 4.01 4.01 0 0 0-1.372 1.867 1 1 0 1 0 1.885.666 2.001 2.001 0 0 1 3.773 0 1 1 0 1 0 1.886-.666A4.01 4.01 0 0 0 11.4 13.8ZM14 11a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z",fill:"currentColor"})))},kJ,kJe=["title","titleId"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FN.apply(null,arguments)}function SJe(e,t){if(e==null)return{};var n,r,i=IJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var EJe=function(t){var n=t.title,r=t.titleId,i=SJe(t,kJe);return x.createElement("svg",FN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,kJ||(kJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 0 0-6.598 12.526A14.943 14.943 0 0 1 12 15c2.366 0 4.606.548 6.598 1.526A8 8 0 0 0 12 4Zm7.654 14.436A9.96 9.96 0 0 0 22 12c0-5.523-4.477-10-10-10S2 6.477 2 12a9.96 9.96 0 0 0 2.37 6.464A9.978 9.978 0 0 0 12 22a9.978 9.978 0 0 0 7.654-3.564ZM17.2 18.08A12.954 12.954 0 0 0 12 17c-1.85 0-3.607.386-5.199 1.08A7.968 7.968 0 0 0 12 20c1.985 0 3.8-.723 5.199-1.92ZM12 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"currentColor"})))},SJ,CJe=["title","titleId"];function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(null,arguments)}function AJe(e,t){if(e==null)return{};var n,r,i=RJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var TJe=function(t){var n=t.title,r=t.titleId,i=AJe(t,CJe);return x.createElement("svg",WN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,SJ||(SJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h2V4ZM5 7a1 1 0 0 0-1 1v4.57A22.95 22.95 0 0 0 12 14c2.815 0 5.51-.505 8-1.43V8a1 1 0 0 0-1-1H5Zm10-2H9V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1Zm5 9.692A24.971 24.971 0 0 1 12 16c-2.796 0-5.487-.46-8-1.308V18a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3.308ZM11 12a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Z",fill:"currentColor"})))};const OJe={alias:EJe,country:lJe,email:yue,firstName:xJ,jobTitle:TJe,lastName:xJ,phoneNumber:mJe,tShirtSize:wJe,username:eJe},NJe=({fields:e,className:t})=>{const n=e.length===1?OJe[e[0]]:void 0;return n?f.jsx(n,{className:t}):f.jsx(iJe,{className:t})},PJe=({onClickClose:e,onSubmit:t,fields:n,submitText:r,subtitle:i,title:o})=>{({submitText:r,subtitle:i,title:o}=ZGe({submitText:r,subtitle:i,title:o},n));const s=e&&f.jsx(Sn,{type:"button",onClick:e,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{alignContent:"bottom",trailing:s,children:f.jsxs("div",{className:"user-field-editor__header",children:[f.jsx("div",{className:"user-field-editor__header__icon",children:f.jsx(Nt,{color:"brand-primary",size:"large",children:f.jsx(NJe,{fields:n})})}),o&&f.jsx(se,{variant:"title",color:"primary",children:o})]})}),f.jsxs("div",{className:"user-field-editor__body",children:[i&&f.jsx(se,{className:"user-field-editor__body__subtitle",variant:"body_normal",color:"secondary",children:i}),f.jsx(GGe,{filterFields:n,onEditProfileSubmit:t,formClassName:"user-field-editor__body__form",fieldsContainerStyle:{padding:0},options:{buttonsAsFooter:!1,hideCancelButton:!0,submitButtonProps:{buttonPadding:"large",startSlot:void 0,typographyProps:{variant:"button_primary"}},submitText:r}})]}),f.jsx(Gc,{asFooter:!0})]})},BJe=e=>{var{onCancel:t,onSubmit:n,fields:r}=e,i=bs(e,["onCancel","onSubmit","fields"]);const[o,s]=x.useState(!0),a=x.useRef(!1),l=x.useCallback(()=>{a.current||t("User cancelled"),a.current=!0},[t]),c=u=>de(void 0,void 0,void 0,function*(){return n(u).then(()=>{a.current=!0,s(!1)})}),d=()=>s(!1);return f.jsx(cv,{handleClose:d,isShown:o,zIndex:ev,withBackdrop:!0,elementId:"dynamic-edit-user-field",transitionEvents:{onUnmount:l},children:f.jsx(lv,{children:f.jsx(Im,{children:f.jsx(PJe,Object.assign({onSubmit:c,onClickClose:d,fields:r},i))})})})},MJe=({children:e,shadowDOMProps:t})=>f.jsx(E_,Object.assign({},t,{children:f.jsx(gD,{children:e})})),vue=x.createContext(void 0),DJe=({children:e})=>{const{modal:t,open:n}=Lp({elementId:"dynamic-edit-user-field"}),r=x.useCallback((o,s)=>de(void 0,void 0,void 0,function*(){return n((a,l)=>{const c=d=>s(d).then(u=>a({fields:d,updateUserResult:u}));return f.jsx(MJe,{children:f.jsx(BJe,{fields:o.fields,submitText:o.submitText,title:o.title,subtitle:o.subtitle,onCancel:l,onSubmit:c})})})}),[n]),i=x.useMemo(()=>({open:r}),[r]);return f.jsxs(vue.Provider,{value:i,children:[t,e]})},jJe=({children:e,className:t,style:n,view:r})=>f.jsx("div",{className:Ke(t,"vertical-accordion__container"),style:n,"data-dynamic-view":r,children:e}),$Je=(e,t,n)=>(e==null?void 0:e.verifiedCredentials)!==void 0&&t==="multi-wallet-wallet-list"&&!n,mj=({view:e})=>{const{t}=Xe(),{isTurnkeyWalletWithoutAuthenticator:n}=da(),{selectedWalletConnector:r}=je(),i=Xu(),o=x.useMemo(()=>({"login-with-email-or-wallet-full-wallet-list":{copykey:"dyn_login.helper.all_wallet_list",heading:t("dyn_login.helper.all_wallet_list")},"login-with-wallet-only":{copykey:"dyn_login.helper.wallet_only",heading:t("dyn_login.helper.wallet_only")},"passkey-intro":{copykey:"dyn_passkey_intro.helper.title",heading:t("dyn_passkey_intro.helper.title")},"pending-connect":{copykey:"dyn_login.helper.pending_connect.title",heading:t("dyn_login.helper.pending_connect.title")},"pending-signature":{copykey:"dyn_login.helper.pending_signature.title",heading:t("dyn_login.helper.pending_signature.title")},"pending-signature-without-back-button":{copykey:"dyn_login.helper.pending_signature_without_back_button.title",heading:t("dyn_login.helper.pending_signature_without_back_button.title")},"qr-code":{copykey:"dyn_login.helper.qr_code.title",heading:t("dyn_login.helper.qr_code.title")},"wallet-connect-mobile-wallets-list":{copykey:"dyn_wallet_conect.mobile.wallet_list.helper",heading:t("dyn_wallet_conect.mobile.wallet_list.helper")},"wallet-list":{copykey:"dyn_wallet_list.helper",heading:t("dyn_wallet_list.helper")}}),[t]),s=x.useMemo(()=>{var u;return{"account-exists":{copykey:"dyn_account_exists.title",heading:t("dyn_account_exists.title")},"backup-unsuccessful":{copykey:"dyn_waas.backup_unsuccessful.title",heading:t("dyn_waas.backup_unsuccessful.title")},"chainalysis-blocked-wallet":{copykey:"dyn_chainalysis_blocked_wallet.title",heading:t("dyn_chainalysis_blocked_wallet.title")},"confirm-exchange-transfer":{copykey:"dyn_exchange_transfer_confirmation.title",heading:t("dyn_exchange_transfer_confirmation.title")},"deposit-view":{copykey:"dyn_deposit.title",heading:t("dyn_deposit.title")},"duplicate-wallet":{copykey:"dyn_duplicate_wallet.title",heading:t("dyn_duplicate_wallet.title")},"embedded-delete-view":{copykey:"dyn_embedded_delete.title",heading:t("dyn_embedded_delete.title")},"embedded-wallet-exists":{copykey:"dyn_wallet_link.already_exists.title",heading:t("dyn_wallet_link.already_exists.title")},"external-funding-exchange-list":{copykey:"dyn_wallet_funding.from_exchange.title",heading:t("dyn_wallet_funding.from_exchange.title")},"external-funding-wallet-list":{copykey:"dyn_wallet_funding.from_external_wallet.title",heading:t("dyn_wallet_funding.from_external_wallet.title")},"farcaster-connect-view":{copykey:"dyn_login.qr_code.title",heading:t("dyn_login.qr_code.title")},"login-with-email-or-wallet":{copykey:"dyn_login.title.all",heading:t("dyn_login.title.all")},"login-with-email-or-wallet-full-wallet-list":{copykey:"dyn_login.title.all_wallet_list",heading:t("dyn_login.title.all_wallet_list")},"login-with-email-verification":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"login-with-sms-verification":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"login-with-wallet-only":{copykey:"dyn_login.title.wallet_only",heading:t("dyn_login.title.wallet_only")},"merge-user-accounts":{copykey:"dyn_merge_user_accounts.wallet.title",heading:t("dyn_merge_user_accounts.wallet.title")},"merge-user-accounts-conflicts":{copykey:"dyn_merge_user_accounts_conflicts.title",heading:t("dyn_merge_user_accounts_conflicts.title")},"mfa-choose-device":{copykey:"dyn_mfa.choose_device_view.title",heading:t("dyn_mfa.choose_device_view.title")},"mfa-display-backup-codes":{copykey:"dyn_mfa.display_backup_codes_view.title",heading:t("dyn_mfa.display_backup_codes_view.title")},"mfa-recovery":{copykey:"dyn_mfa.recovery_view.title",heading:t("dyn_mfa.recovery_view.title")},"mfa-secure-device":{copykey:"dyn_mfa.secure_device_view.title",heading:t("dyn_mfa.secure_device_view.title")},"mfa-secure-device-help":{copykey:"dyn_mfa.secure_device_view.helper.title",heading:t("dyn_mfa.secure_device_view.helper.title")},"mfa-verification":{copykey:"dyn_mfa.otp_verification_view.title",heading:t("dyn_mfa.otp_verification_view.title")},"mobile-wallet-redirect-view":{copykey:"dyn_login.mobile_wallet_redirect.backup_title",heading:(u=r==null?void 0:r.name)!==null&&u!==void 0?u:t("dyn_login.mobile_wallet_redirect.backup_title")},"multi-wallet-wallet-list":{copykey:i==="connect-only"?"dyn_wallet_list.title.connect":"dyn_wallet_list.title.link",heading:t(i==="connect-only"?"dyn_wallet_list.title.connect":"dyn_wallet_list.title.link")},"network-not-supported":{copykey:"dyn_network_not_supported.title",heading:t("dyn_network_not_supported.title")},"passkey-recovery-complete":{copykey:n?"dyn_passkey_secure_modal.complete.title":"dyn_passkey_recovery.complete.title",heading:t(n?"dyn_passkey_secure_modal.complete.title":"dyn_passkey_recovery.complete.title")},"passkey-recovery-start":{copykey:n?"dyn_passkey_secure_modal.start.title":"dyn_passkey_recovery.start.title",heading:t(n?"dyn_passkey_secure_modal.start.title":"dyn_passkey_recovery.start.title")},"pending-connect":{copykey:"dyn_login.connect_wallet.title",heading:t("dyn_login.connect_wallet.title")},"pending-signature":{copykey:"dyn_login.sign_wallet.title",heading:t("dyn_login.sign_wallet.title")},"qr-code":{copykey:"dyn_login.qr_code.title",heading:t("dyn_login.qr_code.title")},"select-hardware-wallet":{copykey:"dyn_select_hardware_wallet.title",heading:t("dyn_select_hardware_wallet.title")},"select-wallet-in-wallet-group":{copykey:"dyn_login.select_wallet_in_wallet_group.title",heading:t("dyn_login.select_wallet_in_wallet_group.title")},"unified-wallet-exchange-list":{copykey:"dyn_unified_list.title",heading:t("dyn_unified_list.title")},"user-delete-account":{copykey:"dyn_settings.delete_account.title",heading:t("dyn_settings.delete_account.title")},"verify-email":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"verify-sms":{copykey:"dyn_otp_verification.confirm_code",heading:t("dyn_otp_verification.confirm_code")},"wallet-connect-mobile-wallets-list":{copykey:"dyn_wallet_conect.mobile.wallet_list.title",heading:f.jsxs(f.Fragment,{children:[f.jsx(eRe,{style:{height:"1.5rem",width:"1.5rem"}})," ",t("dyn_wallet_conect.mobile.wallet_list.title")]})},"wallet-group":{copykey:"dyn_login.wallet_group.title",heading:t("dyn_login.wallet_group.title")},"wallet-list":{copykey:"dyn_wallet_list.title.select",heading:t("dyn_wallet_list.title.select")},"wallet-sign":{copykey:"dyn_wallet_transfer.sign.title",heading:t("dyn_wallet_transfer.sign.title")},"wallet-used":{copykey:"dyn_wallet_link.title",heading:t("dyn_wallet_link.title")}}},[n,r==null?void 0:r.name,t]),a=x.useMemo(()=>({}),[]);if(e==="no-access")return{headerData:{copykey:"dyn_no_access.title",heading:t("dyn_no_access.title")}};if(e==="access-blocked")return{headerData:{copykey:"dyn_access_blocked.title",heading:t("dyn_access_blocked.title")}};const l=o[e],c=s[e];return{descriptionData:a[e],headerData:c,helpHeaderData:l}},rg=()=>{var e;const{view:t}=At(),{customPrivacyPolicy:n,customTermsOfServices:r,privacyPolicyUrl:i,termsOfServiceUrl:o,isBridgeFlow:s}=je(),{isFooterExpanded:a}=b3(),{mockedSDK:l}=yj(),{helpHeaderData:c}=mj({view:t.type}),d=y3(),u=vo(),h=$Je(d,t.type,l),m=!kKe.includes(t.type)||a,v=SKe.includes(t.type),y=!!(c&&!IKe.includes(t.type)&&!h),g=!EKe.includes(t.type),b=s&&CKe.includes(t.type),k=!!(!h&&(t.type==="wallet-list"||t.type==="wallet-connect-mobile-wallets-list"||(t.type==="login-with-email-or-wallet"||t.type==="login-with-email-or-wallet-full-wallet-list"||t.type==="login-with-wallet-only"||t.type==="multi-wallet-wallet-list")&&(o||i||n||r))),_=!!(!((e=u==null?void 0:u.sdk)===null||e===void 0)&&e.displayDynamicMessaging)&&AKe.includes(t.type),R=!b&&!_&&!k,I=_&&k,{allowsClosing:T,showCloseButton:D}=Vde();return{allowsClosing:T,displayBorderBelowHeader:m,isWalletListTypeView:v,shouldHideDynamicFooterSeparator:I,showCloseButton:D,showConnectedWalletProgress:b,showDefaultFooter:R,showDynamicFooter:_,showHeader:g,showHelpContent:y,showToSFooter:k}},wue=()=>{const{shouldHideDynamicFooterSeparator:e}=rg();return f.jsx("div",{"data-testid":"dynamic-footer",className:Ke("dynamic-footer",{"dynamic-footer__top-border":!e}),children:f.jsx(Gc,{})})};var IJ,EJ,LJe=["title","titleId"];function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(null,arguments)}function UJe(e,t){if(e==null)return{};var n,r,i=FJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var fv=function(t){var n=t.title,r=t.titleId,i=UJe(t,LJe);return x.createElement("svg",qN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,IJ||(IJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.25a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM1.667 10a8.333 8.333 0 1 1 16.666 0 8.333 8.333 0 0 1-16.666 0Z",fill:"currentcolor"})),EJ||(EJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.31 7.044a1.784 1.784 0 0 0-1.133.192 1.513 1.513 0 0 0-.699.783.792.792 0 0 1-1.481-.559c.26-.689.768-1.257 1.42-1.613a3.368 3.368 0 0 1 2.144-.367 3.262 3.262 0 0 1 1.908 1.023c.496.55.775 1.254.774 1.99 0 1.201-.948 1.972-1.587 2.369a6.63 6.63 0 0 1-1.354.635l-.028.01-.008.002h-.003l-.002.001-.235-.756.235.756A.792.792 0 0 1 9.789 10h.001m0 0 .014-.005.06-.021a5.054 5.054 0 0 0 .956-.456c.575-.357.84-.717.84-1.024 0-.332-.125-.66-.367-.928a1.68 1.68 0 0 0-.982-.521M9.265 13.77c0-.438.355-.792.792-.792h.01a.792.792 0 1 1 0 1.584h-.01a.792.792 0 0 1-.792-.792Z",fill:"currentcolor"})))};const WJe=({onClose:e,heading:t,projectSettings:n,copykey:r,description:i,descriptionCopykey:o})=>{const{setError:s}=so(),{isFooterExpanded:a,setIsFooterExpanded:l}=b3(),{view:c,canGoBack:d,goBack:u}=At(),{showCloseButton:h,showHelpContent:m,isWalletListTypeView:v,displayBorderBelowHeader:y}=rg(),{setExistentAccountData:g}=l_(),b=x.useCallback(()=>{var I,T;(T=(I=c.events)===null||I===void 0?void 0:I.onBackClick)===null||T===void 0||T.call(I),u(),g(void 0),s(void 0)},[c.events,u,g,s]),k=h&&e&&f.jsx(Sn,{onClick:e,type:"button",id:"close-button","data-testid":"close-button",className:"layout-header__icon",children:f.jsx(Oi,{})}),_=m&&f.jsx(S_,{content:"Need some help?",className:"layout-header__tooltip",children:f.jsx(Sn,{type:"button",onClick:()=>l(!a),"data-testid":"info-button",className:"layout-header__icon",children:v?f.jsx(fv,{}):f.jsx(bze,{})})},"info-button"),R=[];return d&&R.push(f.jsx(Sn,{type:"button",onClick:b,"data-testid":"back-button",className:"layout-header__icon",children:f.jsx(Yh,{})},"back-button")),k&&_&&R.push(_),f.jsx("div",{className:"layout-header",children:f.jsx(Zn,{leading:R,trailing:k||_,displayBorder:y,alignContent:"bottom",description:i&&f.jsx(se,{as:"p",variant:"body_mini",color:"secondary",copykey:o,className:"layout-header__description",children:i}),children:(!n||t)&&f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"layout-header__typography",copykey:r,children:n?t:f.jsx(Vo,{className:"layout-header__skeleton"})})})})},qJe=()=>f.jsx("div",{"data-testid":"empty-help-content"});var CJ,zJe=["title","titleId"];function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zN.apply(null,arguments)}function VJe(e,t){if(e==null)return{};var n,r,i=KJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var AJ=function(t){var n=t.title,r=t.titleId,i=VJe(t,zJe);return x.createElement("svg",zN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,CJ||(CJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.995 4.167c3.965 0 6.643 2.655 7.937 4.675a2.14 2.14 0 0 1 0 2.316c-1.294 2.02-3.972 4.675-7.937 4.675-3.965 0-6.643-2.655-7.937-4.675a2.14 2.14 0 0 1 0-2.316c1.294-2.02 3.972-4.675 7.937-4.675ZM14.16 10a4.167 4.167 0 1 1-8.333 0 4.167 4.167 0 0 1 8.333 0Zm-4.12 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",fill:"currentColor"})))},RJ,HJe=["title","titleId"];function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VN.apply(null,arguments)}function GJe(e,t){if(e==null)return{};var n,r,i=JJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var v4=function(t){var n=t.title,r=t.titleId,i=GJe(t,HJe);return x.createElement("svg",VN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,RJ||(RJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.667 18.333a2 2 0 0 0 2-2V3.667a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v12.666a2 2 0 0 0 2 2h6ZM9 8.333a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H4.333a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1H9ZM17.5 5.833c.46 0 .833.373.833.834v7.5H17.5h.833V14.186a1.201 1.201 0 0 1-.005.113 2.881 2.881 0 0 1-.29 1.075c-.155.307-.398.64-.779.893-.386.258-.863.4-1.426.4-.562 0-1.04-.142-1.425-.4a2.295 2.295 0 0 1-.778-.893 2.878 2.878 0 0 1-.296-1.16v-.045l.833-.001h-.834V9.185l-.001-.011a.2.2 0 0 0-.015-.051v-.001s.005.008.016.02V7.5c.354 0 .675.091.944.27.264.176.43.404.53.607A1.856 1.856 0 0 1 15 9.13v.035c0 .001 0 .002-.832.002H15v4.992l.001.02a1.228 1.228 0 0 0 .12.448c.054.11.123.194.211.253.083.055.23.12.501.12s.419-.065.502-.12a.633.633 0 0 0 .211-.253 1.218 1.218 0 0 0 .12-.468V6.667c0-.46.374-.834.834-.834ZM13.378 9.17h.002-.002Z",fill:"currentColor"})))},TJ,ZJe=["title","titleId"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(null,arguments)}function YJe(e,t){if(e==null)return{};var n,r,i=XJe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XJe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var bue=function(t){var n=t.title,r=t.titleId,i=YJe(t,ZJe);return x.createElement("svg",KN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,TJ||(TJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.125 6.875a5 5 0 1 0-10 0 5 5 0 0 0 10 0Zm-2.5 0a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Zm-7.809 3.243a6.258 6.258 0 0 0 1.671 1.865L7.13 14.34l1.752 1.753-1.768 1.767-1.752-1.752-1.718 1.718-1.768-1.767 5.941-5.942Z",fill:"currentColor"})))};const _ue=e=>e!=null&&Ph(e)&&e.isHardwareWalletEnabled,q3=({children:e,className:t="",delay:n=0,dataTestId:r})=>{const i=x.useMemo(()=>({animationDelay:n}),[n]);return f.jsx("div",{"data-testid":r,className:Ke(t,"enter-list-tile-animation"),style:i,children:e})},QJe=({title:e,content:t,Icon:n,className:r="",iconClassName:i="",textClassName:o=""})=>f.jsxs("div",{className:Ke("info-item__container",r),children:[f.jsx("div",{className:Ke("info-item__icon-container",i,{"icon-container--has-content":!!t}),children:f.jsx(n,{})}),f.jsxs("div",{children:[f.jsx(se,{as:"h2",className:o,variant:"body_normal",color:"primary",weight:"medium",children:e}),t&&f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",className:"info-item__secondary-text",children:t})]})]}),OJ=({variant:e,wallet:t})=>{const n={info:[{content:"Signing proves you have access to your wallet. Its a bit like verifying your email by clicking an email confirmation link in your inbox during signup. This does not approve a transaction.",icon:bue,title:"Confirms you own your wallet"},{icon:v4,title:"There are no associated gas costs"}]},r=_ue(t)?{info:[{content:"By connecting a wallet to a website, you are allowing the site to read the contents of your wallet. This does not approve a transaction.",icon:AJ,title:"Allows read access"},{content:f.jsxs("div",{className:"footer-more-info-content__item--phantom-ledger",children:[f.jsx(se,{as:"p",variant:"body_small",weight:"regular",children:"Ledger does not support message signing functionality, commonly used to log in to sites. Instead, we sign a transaction as a proxy to prove ownership of the wallet."}),f.jsxs(se,{as:"p",variant:"body_small",weight:"regular",children:[f.jsx("strong",{children:"Important"}),": we do not"," ",f.jsx("strong",{children:"broadcast"})," this transaction, meaning Ledger based login will still be gasless."]}),f.jsx(se,{as:"p",variant:"body_small",weight:"regular",children:"Phantom in turn shows that a fee may apply as part of the transaction."}),f.jsx(se,{as:"p",variant:"body_small",weight:"regular",children:"As always, please be cautious of the extensions and websites you use to prevent unwanted transactions from being broadcasted to the network."})]}),icon:v4,title:"Why do I see a fee when using ledger"}]}:n,i={connect:{info:[{content:"By connecting a wallet to a website, you are allowing the site to read the contents of your wallet. This does not approve a transaction.",icon:AJ,title:"Allows read access"},{icon:v4,title:"There are no associated gas costs"}]},sign:r};return f.jsx("div",{className:"footer-more-info-content__wrapper",children:i[e].info.map((o,s)=>f.jsx("div",{className:"footer-more-info-content__item",children:f.jsx(q3,{delay:`${.3+s*.2}s`,children:f.jsx(QJe,{Icon:o.icon,title:o.title,content:o.content})})},s))})};var NJ,eZe=["title","titleId"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(null,arguments)}function tZe(e,t){if(e==null)return{};var n,r,i=nZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var rZe=function(t){var n=t.title,r=t.titleId,i=tZe(t,eZe);return x.createElement("svg",HN({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,NJ||(NJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.044 20.998a.693.693 0 0 0 .7-.68V16.59c.239-2.01 1.121-1.413 2.16-.791 2.51 1.502 4.177-2.45 2.148-3.67-1.592-.956-2.281.689-3.448.52-.45-.067-.763-.54-.862-1.261V8.693a.692.692 0 0 0-.7-.68h-3.21c-2.65-.327-.297-1.755-.297-3.083.001-1.066-.99-1.93-2.214-1.93-1.222 0-2.344.864-2.344 1.93 0 1.253 2.435 2.756-.253 3.083H3.7a.692.692 0 0 0-.699.68v2.688c.205 1.146 1.001 1.411 2.021.655.344-.256.924-.554 1.344-.554 1.094 0 1.982.965 1.982 2.154 0 1.19-.887 2.416-1.982 2.416-.39 0-.755-.123-1.063-.338 0 .091-1.913-1.674-2.302.486v4.121c0 .375.315.68.699.68L10.16 21c.085-.393-.191-.844-.45-1.234-2.04-3.075 5.895-3.382 3.855.095-.1.172-.2.338-.277.5-.098.202-.162.45-.149.639l2.905-.002Z",fill:"currentColor"})))};const xue=e=>{const t=V1()||VI(),n=uze()||"chrome";let r;switch(n){case"edge":r=e.edge;break;case"firefox":r=e.firefox;break;case"chrome":default:r=e.chrome;break}const i=!t&&!!e.android,o=(t||!rr())&&!!e.ios;return{canShowAndroidAppButton:i,canShowIosAppButton:o,currentDesktopUrl:r,hasMobileAppUrl:i||o,userBrowser:n}},kue=()=>ot.getItem(Yu),iZe=(e,t)=>{const n=t==null?void 0:t.find(s=>e.groupedWallets.some(a=>s.walletKey===a.walletConnector.key));if(n)return{isRecommended:!0,label:n.label||"Recommended"};const r=kue();if(e.groupedWallets.some(s=>s.walletConnector.key===r))return{label:"Last used"};if(e.groupedWallets.some(s=>s.isInstalledOnBrowser))return{label:"Installed"};if(Wce(e)==="multi-chain")return{label:"Multichain"}},oZe=(e,t)=>{const n=kue(),{key:r}=e.walletConnector,i=t==null?void 0:t.find(s=>s.walletKey===r);if(i)return{isRecommended:!0,label:i.label||"Recommended"};if(r===n)return{label:"Last used"};if(e.isInstalledOnBrowser)return{label:"Installed"}},gj=({wallet:e,recommendedWallets:t})=>P3(e)?iZe(e,t):oZe(e,t),C_=({hoverElement:e,children:t})=>f.jsx("div",{children:f.jsxs("div",{className:"list-tile-animated-trailing",children:[f.jsx("div",{className:"list-tile-animated-trailing__child",children:t}),f.jsx("div",{className:"list-tile-animated-trailing__hover-element",children:e})]})}),rp=({children:e,onClick:t,leading:n,disabled:r=!1,trailing:i,style:o,className:s="",dataTestId:a,copykey:l})=>f.jsxs("button",{"data-testid":a,type:"button",className:Ke(s,"list-tile"),onClick:t,style:o,disabled:r,children:[n,f.jsx("div",{className:"list-tile__children",children:f.jsx(se,{weight:"medium",variant:"body_normal",color:"primary",as:"span",copykey:l,children:e})}),i]}),sZe=({leading:e,name:t,onClick:n,trailing:r})=>f.jsx(rp,{leading:e,trailing:r,onClick:n,className:"wallet-list-item__tile",dataTestId:"ListTile",children:t}),z3=({disabled:e=!1,wallet:t,onResetSearchValue:n,recommendedWallets:r,tile:i=sZe,onSelectWallet:o,trailingProp:s=void 0})=>{var a,l,c,d,u;const{navigateToWalletGroup:h}=W3(),{pushView:m}=At(),v=P3(t),y=Hm(),g=gj({recommendedWallets:r,wallet:t}),b=i,k=()=>de(void 0,void 0,void 0,function*(){if(!e){if(n==null||n(""),v)return h(t,{onSelectWallet:o});if(Ph(t.walletConnector)&&t.walletConnector.canConnectWithHardwareWallet()){m("select-hardware-wallet",{onSelectWallet:o,wallet:t});return}o(t)}}),_=v?(a=y[t.key])===null||a===void 0?void 0:a.name:t.walletConnector.metadata.name,R=(c=(l=t.walletConnector)===null||l===void 0?void 0:l.metadata.icon)!==null&&c!==void 0?c:(u=(d=y[t.key])===null||d===void 0?void 0:d.brand)===null||u===void 0?void 0:u.icon,I=f.jsx(oi,{className:"wallet-list-item__leading",icon:R,walletKey:t.key,style:{height:Ut(28),width:Ut(28)},isGroup:v}),T=s??f.jsx(C_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Vu,{})}),children:g&&f.jsx(nf,{dot:!g.isRecommended,variant:g.isRecommended?"primary":"secondary",text:f.jsx(se,{variant:"body_small",children:g.label})})});return f.jsx(b,{leading:I,trailing:T,name:_,onClick:k})},GN=({children:e,style:t,wallet:n})=>{const{handleWalletItemClick:r}=np();return f.jsx(z3,{wallet:n,onSelectWallet:r,tile:e?({onClick:i})=>f.jsx("button",{className:"new-to-web3--button",style:t,onClick:i,children:e}):void 0})},aZe=({heading:e,StartIcon:t,EndIcon:n,message:r,url:i})=>f.jsxs("a",{className:"footer-buttons-item",href:i,rel:"noopener noreferrer",target:"_blank",children:[f.jsx("div",{className:"footer-buttons-item__icon--left",children:f.jsx(t,{})}),f.jsxs("div",{className:"footer-buttons-item__typography",children:[f.jsx(se,{as:"h2",weight:"regular",color:"primary",variant:"body_normal",children:e}),r&&f.jsx(se,{as:"p",weight:"regular",color:"secondary",children:r})]}),n&&f.jsx(n,{style:{height:"1.5rem",width:"1.5rem"}})]}),lZe=({wallet:e,selectedUrl:t})=>{const n=!!t.length&&!(e!=null&&e.isInstalledOnBrowser),r=()=>{e!=null&&e.key&&(ot.setItem(IO,e.key),window.location.reload())};return f.jsxs("div",{className:"new-to-web3-buttons__container",children:[!rr()&&f.jsxs(f.Fragment,{children:[(e==null?void 0:e.isInstalledOnBrowser)&&f.jsx(GN,{wallet:e,children:f.jsx(se,{as:"p","data-testid":"desktop-interactive-wallet-item",variant:"body_normal",weight:"bold",children:"Continue"})}),n&&f.jsx("button",{onClick:r,children:f.jsx(se,{as:"p","data-testid":"refresh-once-installed-button",variant:"body_normal",weight:"bold",children:"Continue once installed"})})]}),e&&rr()&&f.jsx(GN,{wallet:e,children:f.jsx("p",{"data-testid":"mobile-interactive-wallet-item",children:"Continue once installed"})})]})},cZe=({chains:e,newToWeb3WalletChainMap:t})=>{var n;const{walletConnectorOptions:r}=je(),{walletBook:i}=SM(),[o,s]=x.useState(""),a=((n=e==null?void 0:e.filter(b=>!!b.enabled).find(b=>b.name===t.primary_chain))===null||n===void 0?void 0:n.name)||"evm",l=Ry(t==null?void 0:t.wallets,a),c=r.find(b=>b.key===l),d=c==null?void 0:c.walletConnector.canConnectViaCustodialService,u=c==null?void 0:c.walletConnector.metadata,h=Q1(u==null?void 0:u.downloadLinks),{currentDesktopUrl:m,canShowAndroidAppButton:v,canShowIosAppButton:y}=xue(h),g=[{content:"Install Desktop extension",icon:rZe,isEnabled:!!(m!=null&&m.length)&&!rr(),url:m},{content:"Install iOS app",icon:Voe,isEnabled:y,url:h.ios},{content:"Install Android app",icon:Koe,isEnabled:v,url:h.android}];return g0(i)?f.jsx("div",{className:"walletlist-help-content__container",children:f.jsxs(q3,{delay:"300ms",children:[f.jsx("div",{className:"walletlist-help-content__icon",children:f.jsx(oi,{icon:u==null?void 0:u.icon,walletKey:l,style:{height:Ut(56),width:Ut(56)}})}),f.jsxs("div",{className:"walletlist-help-content__typography-wrapper",children:[f.jsxs(se,{as:"p",variant:"title",weight:"medium",children:["We recommend installing ",u==null?void 0:u.name]}),f.jsx(se,{as:"label",variant:"body_normal",weight:"regular",color:"secondary",className:"walletlist-help-content__typography--label",children:"Select your preferred option below:"})]}),f.jsx("div",{className:"walletlist-help-content__buttons-wrapper",children:g.map((b,k)=>b.isEnabled?f.jsx("button",{onClick:()=>s(b.url),children:f.jsx(aZe,{StartIcon:b.icon,heading:b.content,url:b.url})},k):void 0)}),d&&f.jsxs("div",{className:"walletlist-help-content__custodial-wallet-area",children:[f.jsx(se,{className:"walletlist-help-content__custodial-wallet-area--title",as:"p",color:"secondary",variant:"body_normal",weight:"regular",children:"If you don't want to install a wallet, then use:"}),f.jsx(GN,{wallet:c})]}),f.jsx(lZe,{selectedUrl:o,wallet:c})]})}):f.jsx(Vo,{className:"walletlist-footer-content__container"})};var PJ,dZe=["title","titleId"];function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JN.apply(null,arguments)}function uZe(e,t){if(e==null)return{};var n,r,i=fZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Kd=function(t){var n=t.title,r=t.titleId,i=uZe(t,dZe);return x.createElement("svg",JN({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,PJ||(PJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.09 3.577a.833.833 0 0 1 0 1.179L7.844 10l5.244 5.244a.833.833 0 0 1-1.178 1.179l-5.834-5.834a.833.833 0 0 1 0-1.178l5.834-5.834a.833.833 0 0 1 1.178 0Z",fill:"currentcolor"})))};const hZe=()=>{const{setIsFooterExpanded:e}=b3(),{view:t}=At(),{helpHeaderData:n}=mj({view:t.type}),{displayBorderBelowHeader:r}=rg(),i=f.jsx(Sn,{type:"button",onClick:()=>e(!1),"data-testid":"back-button",className:"header__icon",children:f.jsx(Kd,{className:"back-button "})});return f.jsx("div",{className:"help-header",children:f.jsx(Zn,{trailing:i,displayLeading:!1,displayBorder:r,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-help-heading",className:"header__typography",copykey:n==null?void 0:n.copykey,children:n==null?void 0:n.heading})})})};var BJ,pZe=["title","titleId"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(null,arguments)}function mZe(e,t){if(e==null)return{};var n,r,i=gZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var yZe=function(t){var n=t.title,r=t.titleId,i=mZe(t,pZe);return x.createElement("svg",ZN({width:60,height:50,viewBox:"0 0 60 50",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,BJ||(BJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.931 49.48A29.223 29.223 0 0 0 59.333 30C59.333 13.8 46.2.667 30 .667S.667 13.8.667 30A29.224 29.224 0 0 0 8.07 49.483c5.52-6.63 16.005-9.007 22.387-9.007 6.383 0 15.962 1.903 21.473 9.004ZM19 22.667c0-6.076 4.925-11 11-11s11 4.924 11 11c0 6.075-4.925 11-11 11s-11-4.925-11-11Z",fill:"#4779FF"})))};const vZe=()=>{const{t:e}=Xe();return f.jsx("div",{className:"passkey-info-help-content__container",children:f.jsx(q3,{delay:"300ms",children:f.jsxs("div",{className:"passkey-info-help-content__typography-wrapper",children:[f.jsxs("div",{className:"passkey-info-help-content__details",children:[f.jsx(Nt,{size:"medium",color:"text-tertiary",children:f.jsx(yZe,{})}),f.jsxs("div",{className:"passkey-info-help-content__wrapper",children:[f.jsx(se,{variant:"title",weight:"medium",copykey:"dyn_passkey_intro.helper.section_1.title",children:e("dyn_passkey_intro.helper.section_1.title")}),f.jsx(se,{as:"p",variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-info-help-content__typography--label",copykey:"dyn_passkey_intro.helper.section_1.description",children:e("dyn_passkey_intro.helper.section_1.description")})]})]}),f.jsxs("div",{className:"passkey-info-help-content__details",children:[f.jsx(Nt,{size:"medium",color:"text-tertiary",children:f.jsx(bue,{})}),f.jsxs("div",{className:"passkey-info-help-content__wrapper",children:[f.jsx(se,{variant:"title",weight:"medium",copykey:"dyn_passkey_intro.helper.section_2.title",children:e("dyn_passkey_intro.helper.section_2.title")}),f.jsx(se,{as:"p",variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-info-help-content__typography--label",copykey:"dyn_passkey_intro.helper.section_2.description",children:e("dyn_passkey_intro.helper.section_2.description")})]})]})]})})})},wZe=()=>f.jsxs("div",{children:[f.jsx(hZe,{}),f.jsx(bZe,{})]}),bZe=()=>{const{view:e}=At(),{projectSettings:t,newToWeb3WalletChainMap:n,selectedWalletConnector:r}=je(),i=x.useMemo(()=>e.type==="wallet-connect-mobile-wallets-list"||e.type==="wallet-list"||e.type==="login-with-email-or-wallet-full-wallet-list"||e.type==="login-with-wallet-only",[e]),o=x.useMemo(()=>e.type==="pending-signature-without-back-button"||e.type==="pending-signature",[e]),s=x.useMemo(()=>e.type==="pending-connect"||e.type==="qr-code",[e]),a=x.useMemo(()=>e.type==="passkey-intro",[e]);return i?f.jsx(cZe,{chains:t==null?void 0:t.chains,newToWeb3WalletChainMap:n}):o?f.jsx(OJ,{variant:"sign",wallet:r||void 0}):s?f.jsx(OJ,{variant:"connect"}):a?f.jsx(vZe,{}):f.jsx(qJe,{})},_Ze=()=>{const{customPrivacyPolicy:e,customTermsOfServices:t,privacyPolicyUrl:n,termsOfServiceUrl:r}=je(),i=uv()?"connecting":"logging in",o=()=>{if(r)return f.jsx("a",{className:"tos-and-pp__link",href:r,target:"_blank",rel:"noreferrer",children:"Terms of Service"})},s=()=>{if(n)return f.jsxs(f.Fragment,{children:[r&&f.jsx(f.Fragment,{children:"&"}),f.jsx("a",{className:"tos-and-pp__link",href:n,target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]})},a=()=>f.jsx(se,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",id:"custom-tos-and-pp-footer-start","data-testid":"custom-tos-and-pp-footer-start"}),l=()=>f.jsx(se,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",id:"custom-tos-and-pp-footer-end","data-testid":"custom-tos-and-pp-footer-end"});return f.jsxs(f.Fragment,{children:[a(),(n||r)&&f.jsxs(se,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",children:["By ",i,", you agree to",f.jsx("br",{}),"our",o(),s(),"."]}),t,e,l()]})},xZe=()=>f.jsx("div",{className:"tos-and-pp__footer",children:f.jsx(_Ze,{})}),kZe=(e,t)=>{const n=e===t[0],r=!t.includes(e);return n?"current":r?"done":"upcoming"},SZe={current:"1",default:"1",done:"0.4",upcoming:"0.15"},Sue=({children:e,className:t,icon:n,state:r="default"})=>{const i=x.useMemo(()=>({opacity:r==="upcoming"?.5:1}),[r]),o=x.useMemo(()=>r==="done"?f.jsx("div",{className:"step__icon step__icon--done",children:f.jsx(Nt,{className:"step__icon__check-mark",children:f.jsx(cc,{style:i})})}):n?f.jsx(Nt,{className:"step__icon",children:f.jsx("div",{style:i,children:n})}):f.jsx("div",{className:"step__index",children:f.jsx(se,{color:"primary",variant:"body_small",style:i,children:f.jsx("span",{className:"step__index-label"})})}),[n,r,i]);return f.jsxs("div",{className:Ke("step",t),children:[o,f.jsx(se,{color:"primary",variant:"body_small",style:{opacity:SZe[r]},children:e})]})},Iue=({children:e})=>f.jsx("div",{className:"stepper",children:x.Children.map(e,(t,n)=>{const r=n===0?void 0:f.jsx(rf,{className:"stepper__divider"});return f.jsxs(f.Fragment,{children:[r,t]})})}),Eue=()=>{const{bridgeChainsToConnect:e=[],bridgeChains:t=[]}=je(),n=t.map(({chain:i})=>i),r=[...e].map(({chain:i})=>i);return f.jsx("div",{className:"wallet-progress-stepper","data-testid":"wallet-progress-stepper",children:f.jsx(Iue,{children:n.map((i,o)=>{var s;const a=Uc(i),l=Hc(i);return f.jsx(Sue,{state:kZe(i,r),icon:f.jsx(l,{}),children:(s=a==null?void 0:a.blockchainName)!==null&&s!==void 0?s:a==null?void 0:a.displayName},i)})})})},IZe=({children:e,className:t,style:n,onClose:r,projectSettings:i,hideBridgeProgressSteppers:o})=>{const{view:s}=At(),{isFooterExpanded:a}=b3(),{headerData:l,helpHeaderData:c,descriptionData:d}=mj({view:s.type}),{showConnectedWalletProgress:u,showHeader:h,showHelpContent:m,showToSFooter:v,showDynamicFooter:y}=rg();return f.jsx(iqe,{children:f.jsxs(jJe,{style:n,className:t,view:s.type,children:[f.jsxs(DS,{isOpen:!a,dimOnHide:!0,children:[u&&!o&&f.jsx(Eue,{}),h&&f.jsx(WJe,{onClose:r,heading:(l==null?void 0:l.heading)||"",projectSettings:i,copykey:l==null?void 0:l.copykey,description:d==null?void 0:d.text,descriptionCopykey:d==null?void 0:d.copykey}),e,v&&f.jsx(xZe,{}),y&&f.jsx(wue,{})]}),c&&m&&f.jsx(DS,{isOpen:a,children:f.jsx("div",{children:f.jsx(wZe,{})},a.toString())})]})})},EZe=({children:e})=>{const{projectSettings:t}=je(),n=x.useRef(null),[r,i]=x.useState(void 0),o=(t==null?void 0:t.environmentName)===oS.Sandbox;return x.useEffect(()=>{var s;const a=(s=n.current)===null||s===void 0?void 0:s.clientHeight;i(a)},[n,i]),o?f.jsxs("div",{style:{position:"relative"},children:[f.jsx("div",{ref:n,style:{background:"var(--dynamic-alert-1)",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",color:"white",left:"calc( var(--dynamic-border-radius) + 8px)",padding:"2px 8px 4px",position:"absolute",top:-(r||0)},"data-testid":"sandbox-indicator",children:Od((t==null?void 0:t.environmentName)||"")}),e]}):f.jsx(f.Fragment,{children:e})},CZe=({children:e,onClose:t,transitionProps:n,projectSettings:r,className:i})=>{const{showConnectedWalletProgress:o}=rg();return f.jsxs(lv,{isShown:!!(n!=null&&n.isShown),children:[o&&f.jsx(Im,{borderRadius:"small",children:f.jsx(Eue,{})}),f.jsx(EZe,{children:f.jsx(Im,{dataTestId:"dynamic-auth-modal",children:f.jsx(IZe,{className:i,projectSettings:r,onClose:t,hideBridgeProgressSteppers:!0,children:e})})})]})},AZe=x.createContext(void 0),yj=()=>{const e=x.useContext(AZe);return e===void 0?{mockedSDK:!1}:e},Cue=x.createContext(void 0),RZe=({children:e})=>{const[t,n]=x.useState(!1);Un("logout",()=>n(!1)),Un("embeddedWalletCreated",()=>n(!1));const r=x.useMemo(()=>({loading:t,setLoading:n}),[t]);return f.jsx(Cue.Provider,{value:r,children:e})},hv=()=>{const e=x.useContext(Cue);if(e===void 0)throw new Error("usage of useLoadingContext not wrapped in `LoadingContextProvider`.");return e},Aue=()=>{const{handlers:e}=je(),{handleAuthenticatedUser:t}=e??{},n=x.useRef(t);return n.current=t,x.useCallback(r=>de(void 0,void 0,void 0,function*(){n.current&&(yield Rxe(()=>{var i;return(i=n.current)===null||i===void 0?void 0:i.call(n,{user:r})}))}),[])},TZe=()=>noe(1500),of=({authMethod:e})=>{const{handleLogOut:t,setShowAuthFlow:n,setCallback:r,setMultiWalletWidgetState:i,walletConnectorOptions:o}=je(),{setDeniedOauthUsername:s,setDeniedOauthProvider:a}=a_(),{view:l,pushView:c,clearStackAndPushInitialView:d}=At(),{setLoading:u}=hv(),{setErrorMessage:h,setError:m}=so(),{setExistentAccountData:v}=l_(),y=Aue(),{shouldAutoCreateEmbeddedWallet:g,shouldPromptForKeyExport:b,embeddedWalletSettingVersion:k}=M3(),_=C=>C.user,R=x.useCallback(()=>de(void 0,void 0,void 0,function*(){Ie.debug("cancelAuth",{authMethod:e}),yield t(),d()}),[e,d,t]),I=x.useCallback((C,{options:U={},onError:$})=>{var z,q;if(C instanceof xse||C instanceof $M||C instanceof aM||C instanceof sM||C instanceof fM||C instanceof uM||C instanceof cM)throw C;if(C instanceof Q0){a(C==null?void 0:C.socialProvider),s((z=C==null?void 0:C.socialUsername)!==null&&z!==void 0?z:""),c("no-access");return}if(C instanceof z1){v(C.errorPayload),c("account-exists");return}if(C instanceof Ld||C instanceof kse){c("sandbox-maximum-threshold-reached");return}if(C instanceof Gie){c("merge-user-accounts-with-same-email",{returnToView:"isEmailRecoveryFlow"in U&&U.isEmailRecoveryFlow?"passkey-recovery-add-email":void 0});return}if((C==null?void 0:C.name)==="NotAllowedError"&&(((q=C==null?void 0:C.constructor)===null||q===void 0?void 0:q.name)==="WebAuthnError"||(C==null?void 0:C.code)==="ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY")||(C==null?void 0:C.name)==="InvalidStateError"&&(C==null?void 0:C.code)==="ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED")throw C;if($){$==null||$(C);return}C.code?h(C.code):m(C.message)},[c,a,s,m,h,v]),T=x.useCallback(C=>de(void 0,[C],void 0,function*({isSignIn:U=!0,verifyFunction:$,onVerifySuccess:z,onSettled:q,onError:S,showSuccessMessage:A=!1,skipDefaultErrorHandling:O=!1}){var N;Ie.debug("initAuth",{authMethod:e,isSignIn:U});try{const j=yield $();if(!j)throw yield R(),new Se("No user returned from verify function");let V;if(_(j)?V=Ii(j):V=j,z==null||z(V),o.forEach(F=>{F.walletConnector.setVerifiedCredentials(V.verifiedCredentials)}),p_(V)||U&&(!((N=V.missingFields)===null||N===void 0)&&N.length))return;i("idle"),yield y(V);const K=g(),W=b();A&&(yield TZe()),U&&r("authSuccess"),k()===Lc.V1&&K?n(!0):(!K||!W)&&n(!1),q==null||q()}catch(j){if(Ie.debug(j),O){S==null||S(j);return}I(j,{onError:S})}finally{u(!1),q==null||q()}}),[e,R,k,I,y,r,u,i,n,g,b,o]),D=x.useCallback(C=>de(void 0,[C],void 0,function*({missingFields:U,isEmailVerificationRequired:$,isSmsVerificationRequired:z}){if($&&U.find(q=>q.name==="email")){c("verify-email");return}if(z&&U.find(q=>q.name==="phoneNumber")){c("verify-sms");return}c(l.type)}),[c,l==null?void 0:l.type]),M=x.useCallback(C=>de(void 0,[C],void 0,function*({completeSignInFlow:U,updateJwtFunction:$,onValidUpdatedJwt:z,options:q={}}){Ie.debug("completeAuth",{authMethod:e});try{const{updateUserProfileResponse:S,isSmsVerificationRequired:A,isEmailVerificationRequired:O,missingFields:N}=yield $();z==null||z();const j=Ii({expiresAt:S.expiresAt,jwt:S.jwt,minifiedJwt:S.minifiedJwt,user:S.user});if(N.length>0){yield D({isEmailVerificationRequired:O,isSmsVerificationRequired:A,missingFields:N});return}if(yield y(j),r("authSuccess"),U&&(yield U(S)))return;!g()&&j.mfaBackupCodeAcknowledgement!==zu.Pending&&n(!1)}catch(S){Ie.debug(S),I(S,{options:q})}finally{u(!1)}}),[e,I,y,D,r,u,n,g]);return{cancelAuth:R,completeAuth:M,handleAuthError:I,initAuth:T}},V3=({displaySiweStatement:e,environmentId:t,projectSettings:n,setIsSingleWalletAccount:r})=>{const{setExistentAccountData:i}=l_(),{setDeniedAddress:o,setDeniedOauthProvider:s}=a_(),{pushView:a,clearStackAndPushInitialView:l}=At(),{setErrorMessage:c,setError:d}=so(),{multiWalletWidgetState:u,debugError:h,multiWallet:m,appName:v,primaryWalletId:y,setShowAuthFlow:g,siweStatement:b,connectedWallets:k,user:_,events:R,primaryWallet:I,enableConnectOnlyFallback:T,selectedWalletConnector:D}=je(),{addedWalletsIds:M}=_s(),{initAuth:C}=of({authMethod:"wallet"}),{generateSessionKey:U,shouldRegisterSessionKeysOnSignin:$}=Km({environmentId:t,projectSettings:n}),z=!_,q=T&&(z||!m),S=(V,K,W,P,F,G,Y,ie)=>de(void 0,void 0,void 0,function*(){const ye=yield vle({displaySiweStatement:e,environmentId:t,getAddressOpts:W,messageToSignOverride:ie,publicWalletAddress:P,signedMessageOverride:Y,siweStatement:aD({appName:v,siweStatement:b}),walletConnector:V,walletProvider:K});if($()&&z){const be=yield U();ye.sessionPublicKey=be.publicKey}yield Fc();let ge;return _?ge=oDe(t,ye):ge=lDe(t,Object.assign(Object.assign({},ye),{captchaToken:F,oauth:G})),{verifyArgs:ye,verifyFunction:()=>ge}}),A=({walletConnector:V,verifiedCredentials:K,lastVerifiedCredentialId:W})=>{const P=K.find(F=>F.id===W&&F.format==="blockchain");if(P){const F=K.find(G=>G.id===y);(z||!I||u==="awaiting_signature"&&P.walletName===(F==null?void 0:F.walletName)||(F==null?void 0:F.chain)==="flow"&&V.connectedChain==="FLOW")&&To(P.id)}},O=V=>{var K;g(!0),a("wallet-used"),r(!1),V.code==="reassign_wallet_error"&&(!((K=n==null?void 0:n.sdk)===null||K===void 0)&&K.preventOrphanedAccounts&&a("wallet-cannot-be-transferred"),r(!0))},N=({walletConnector:V,endSession:K=!0})=>{GM(),K&&(V==null||V.endSession())},j=(V,K,W,P)=>{var F;if(V.message==="ignore")return;if(D&&D.key===K.key&&rt.emit("authFailure",{address:W,connectorName:K.name,option:K.name,type:"wallet"},{error:V}),V instanceof Wie){a("embedded-wallet-exists"),g(!0);return}if(V instanceof Yie)return N({endSession:!1,walletConnector:K}),O(V);if(V instanceof zie){a("merge-user-accounts",Object.assign({},V)),g(!0);return}if(V instanceof Uie){N({walletConnector:K}),o(W),a("chainalysis-blocked-wallet");return}if(V instanceof lM){N({walletConnector:K}),o(W),a("gate-blocked-wallet");return}if(V instanceof Ld){a("sandbox-maximum-threshold-reached");return}if(V instanceof Q0){N({walletConnector:K}),o(W),J1(K)&&s(P==null?void 0:P.provider),a("no-access");return}if(V instanceof z1){N({walletConnector:K}),i(V.errorPayload),a("account-exists");return}const G=wl();if(k.length&&G==="connect-only")throw new Se(V.message);const Y=(F=V==null?void 0:V.message)===null||F===void 0?void 0:F.includes("User rejected the request");if(q&&!Y){Ie.warn("Verification failed, changing to connect-only"),Qb("connect-only"),a("wallet-list");return}else N({walletConnector:K}),l();Ie.error(V),h?d(`${V.message}
 ${V.stack}`):c(V.code)};return V=>de(void 0,[V],void 0,function*({walletConnector:K,getAddressOpts:W,publicWalletAddress:P,captchaToken:F,oauth:G,signedMessageOverride:Y,messageToSignOverride:ie}){const ye=Hb(K);rt.emit("authInit",{address:P,connectorName:K.name,option:K.name,type:"wallet"});try{const{verifyFunction:ge,verifyArgs:be}=yield S(K,ye,W,P,F,G,Y,ie);yield C({isSignIn:z,onError:Le=>{j(Le,K,P,G)},onVerifySuccess:Le=>{var qe;if(!Le)throw new Se(Kr);try{(qe=R==null?void 0:R.onSignedMessage)===null||qe===void 0||qe.call(R,{messageToSign:be.messageToSign,signedMessage:be.signedMessage})}catch{Ie.warn("Error calling onSignedMessage callback")}ot.setItem(Yu,K.key),Qb("connect-and-sign"),A({lastVerifiedCredentialId:Le.lastVerifiedCredentialId,verifiedCredentials:Le.verifiedCredentials,walletConnector:K});const Me=Le.lastVerifiedCredentialId;Me&&M.current.push(Me)},options:{address:P,connectorName:K.name},skipDefaultErrorHandling:!0,verifyFunction:ge})}catch(ge){j(ge,K,P,G)}})},OZe=(e,t)=>{const n=x.useRef(!1),r=x.useRef(e);r.current=e,x.useEffect(()=>{t&&!n.current&&(r.current(),n.current=!0)},[t])},Rue=e=>{if(!e)return;const t=Object.values(ym);for(const n of t)if(n===e)return n},NZe=()=>{const{setDynamicWidgetView:e,goToInitialDynamicWidgetView:t}=Jc(),{setShowDynamicUserProfile:n,primaryWallet:r,setShowAuthFlow:i}=je(),{getExchangeUserAccounts:o,getExchangeWhitelistedDestinations:s}=Bze(),{clearStackAndPush:a}=At();return x.useCallback(l=>de(void 0,[l],void 0,function*({exchange:c,payingWithDynamic:d,onBack:u,hideBackButton:h}){var m,v;let y,g;d?(y=d.tokenSymbol,g=yield o({chainName:d.chainName,exchange:c,includeChainName:!0,networkId:typeof d.network=="string"?parseInt(d.network,10):d.network})):(g=yield o({exchange:c}),y=g.some(R=>R.balances.some(I=>I.currency==="USDC"))?"USDC":(v=(m=g[0])===null||m===void 0?void 0:m.balances[0])===null||v===void 0?void 0:v.currency);const b=yield s({exchange:c}),k=()=>{d?e("receive-wallet-funds",{accounts:g,amount:{rule:"exact",value:d.tokenAmount},destinationAddress:d.destinationAddress,exchange:c,fundingWithExchange:!0,hideBackButton:h,onBack:u,token:{rule:"exact-with-amount",value:y}}):e("receive-wallet-funds",{accounts:g,exchange:c,fundingWithExchange:!0,hideBackButton:h,onBack:u,token:{rule:"recommended",value:y}}),n(!0)},_=d?d.destinationAddress:r==null?void 0:r.address;b.enforcesAddressWhitelist&&!b.destinations.some(R=>R.address.trim().toLowerCase()===(_==null?void 0:_.trim().toLowerCase()))?(i(!0),a("exchange-whitelist-warning",{exchange:c,onClose:()=>{i(!1),t()},onContinue:()=>{i(!1),k()}})):k()}),[o,s,e,n,r==null?void 0:r.address,i,a,t])},MJ=e=>{if(!e)return null;try{const t=new URL(e),n=t.searchParams.get("dynamicOauthCode"),r=t.searchParams.get("dynamicOauthState"),i=t.searchParams.get("dynamicOauthSsoProviderId")||void 0;return!n||!r?null:{dynamicOauthCode:n,dynamicOauthSsoProviderId:i,dynamicOauthState:r}}catch(t){return Ie.error("Error extracting dynamic redirect data from URL",t),null}},PZe=(e,t)=>{if(e){const r=MJ(e);if(r)return r}const n=MJ(t);return n||null},BZe=({setSocialProvider:e})=>{const{clearStackAndPush:t}=At(),{setDynamicWidgetView:n}=Jc(),r=NZe(),[i,o]=x.useState(null),{sdkHasLoaded:s,setShowAuthFlow:a,isRenderingEmbeddedAuthFlow:l,setShowDynamicUserProfile:c,redirectUrl:d}=je(),{completeConnection:u}=U3({}),h=x.useCallback(m=>{const v=Rue(m.provider);e(v),t("social-redirect-view");const y=!!m.isHeadlessSocialSignIn;!l&&!y&&a(!0)},[e,t,l,a]);Qh(()=>{var m;if(Rd())return;const{dynamicOauthCode:v,dynamicOauthState:y,dynamicOauthSsoProviderId:g}=(m=PZe(d??null,window.location.href))!==null&&m!==void 0?m:{};if(!y||!v)return;const b=MWe(y);b&&(b.code=v,b.dynamicOauthSsoProviderId=g,o(b),jWe(b.provider))}),OZe(()=>de(void 0,void 0,void 0,function*(){if(i){if(i.mode==="signin"){if(Js().user){Ie.error(new Se("User is already logged in"));return}h(i)}else if(i.mode==="link"){if(!Js().user){Ie.error(new Se("User not logged in"));return}i.showWidgetAfterConnection&&(n("profile"),c(!0))}if(yield u({authCode:i.code,authMode:i.mode,captchaToken:i.captchaToken,provider:i.provider,ssoProviderId:i.dynamicOauthSsoProviderId,state:i.state,verifier:i.codeVerifier}),i.triggerFundFromExchangeOnSuccess){const m=i.payingWithDynamic;r(m?{exchange:i.triggerFundFromExchangeOnSuccess,hideBackButton:!0,payingWithDynamic:m}:{exchange:i.triggerFundFromExchangeOnSuccess})}}}),!!i&&s)},Tue=x.createContext(void 0),MZe=({children:e})=>{var t,n,r,i;const{setShowAuthFlow:o,walletConnectorOptions:s,setSelectedWalletConnectorKey:a,walletUiUtils:l,displaySiweStatement:c,environmentId:d,projectSettings:u,setIsSingleWalletAccount:h,setShowDynamicUserProfile:m,secondaryWallets:v,sdkHasLoaded:y,user:g,connectWallet:b,primaryWallet:k,socialProvidersFilter:_=W=>W}=je(),{setErrorMessage:R}=so(),{clearStackAndPush:I,pushView:T}=At(),{getCaptchaToken:D}=Hd(),M=V3({displaySiweStatement:c,environmentId:d,projectSettings:u,setIsSingleWalletAccount:h}),C=(t=u==null?void 0:u.sdk.socialSignIn)===null||t===void 0?void 0:t.signInProvider,U=(r=(n=u==null?void 0:u.sdk.socialSignIn)===null||n===void 0?void 0:n.providers)!==null&&r!==void 0?r:[],$=(i=_(U.filter(W=>W.enabled).map(W=>W.provider)))!==null&&i!==void 0?i:[],z=s.map(({walletConnector:W})=>W).find(J1),[q,S]=x.useState("idle"),[A,O]=x.useState(),j=(k?[k,...v]:v).find(W=>W.connector.key===(z==null?void 0:z.key)),V=x.useMemo(()=>j?yle(g,j.id):void 0,[g,j]);Un("logout",()=>O(void 0));const K=x.useCallback(W=>{Ie.error(W),g?(o(!1,{emitCancelAuth:!0}),m(!0)):(o(!0),I("wallet-list"),R("-1"))},[g,R,o,m,I]);return x.useEffect(()=>{var W,P;if(!u||!z||!y){new URLSearchParams(window.location.search).has("magic_oauth_request_id")&&(I("social-redirect-view"),o(!0));return}const F=new URLSearchParams(window.location.search);if(F.has("error")&&F.has("provider")){const G=F.get("error_description");K(G??"Unknown error"),(W=z.getSession)===null||W===void 0||W.call(z);return}if(F.has("magic_oauth_request_id")){const G=F.get("provider");O(G),S("loading"),I("social-redirect-view"),o(!0),g||a(z.key),(P=z.getSession)===null||P===void 0||P.call(z).then(Y=>de(void 0,void 0,void 0,function*(){if(g){if(!V)throw new Error("Social account not found");V.oauthAccountId===Y.oauthId?(j==null?void 0:j.id)!==(k==null?void 0:k.id)&&(To(j.id),o(!1),m(!0)):(yield z.endSession(),T("social-wrong-account"))}else{yield b(z);const ie=yield z.getAddress();l.disabledConfirmationOnce(),yield Fc(),yield M({captchaToken:D(),oauth:{accessToken:Y.accessToken,didToken:Y.didToken,provider:G},publicWalletAddress:ie,walletConnector:z})}O(void 0),S("success")})).catch(Y=>{O(void 0),S("error"),K(Y)})}},[V,g,u,y,v,a,o,m,T,z,M,l,j,K,b,k==null?void 0:k.id,D,I]),BZe({setSocialProvider:O}),f.jsx(Tue.Provider,{value:{enabledSocialProviders:$,redirectStatus:q,setSocialProvider:O,signInProvider:C,socialAccount:V,socialProvider:A,socialWalletConnector:z},children:e})},sf=()=>{const e=x.useContext(Tue);if(e===void 0)throw new Error("useSocialRedirectContext must be used within a SocialRedirectContextProvider");return e},{getNonce:Oue,setNonce:vj,useNonce:DZe}=Vc("nonce"),jZe=()=>Oue().nonce,wj=()=>DZe().nonce,$Ze=e=>{const t=new Date().getTime()+864e5;vj({expiresAt:t,nonce:e})};let w4;const DJ=()=>{const e=Oue();if(!(e!=null&&e.expiresAt))return;w4&&clearTimeout(w4);const t=e.expiresAt-new Date().getTime(),n=t>0?t:0;w4=setTimeout(()=>{Ie.debug("[Nonce] Expiring nonce",{expiresAt:e.expiresAt,nonce:e.nonce}),vj({expiresAt:void 0,nonce:void 0})},n)},LZe=({shouldFetch:e=!0,retries:t=2}={})=>{const n=wj(),r=qm();DJ();const{retrigger:i}=vr(()=>de(void 0,void 0,void 0,function*(){return Nae(r)}),{deps:[r],enabled:e&&!n,onResolve:o=>{$Ze(o),DJ()},retries:t});return a8e("logout",i),n},Nue=()=>{const e=jZe();if(!e)throw new Se("Nonce is not defined");return vj({expiresAt:void 0,nonce:void 0}),e},Pue=x.createContext(void 0),UZe=({children:e})=>{const{pushView:t}=At(),{setShowAuthFlow:n}=je(),[r,i,o]=nv(dPe,void 0),[s,a]=x.useState(),l=x.useCallback(({authMethod:u,onCaptchaSuccess:h})=>{a({authMethod:u,onCaptchaSuccess:h}),t("captcha"),n(!0)},[t,a,n]),c=x.useCallback(()=>{const u=r;return o(),u},[r,o]),d=x.useMemo(()=>({captchaAuthState:s,engageCaptcha:l,getCaptchaToken:c,removeCaptchaToken:o,setCaptchaAuthState:a,setCaptchaToken:i}),[s,c,l,a,i,o]);return f.jsx(Pue.Provider,{value:d,children:e})},Hd=()=>{const e=x.useContext(Pue);if(e===void 0)throw new Error("usage of useCaptchaContext not wrapped in `CaptchaContextProvider`.");return e},DS=x.forwardRef(({children:e,className:t="",isOpen:n,dataTestId:r,dimOnHide:i=!1,handleScroll:o=()=>{}},s)=>{const a=x.useRef(null),l=x.useRef(),[c]=Ode(a),d=x.useMemo(()=>n?c?c.height:l.current:0,[n,c]);return x.useEffect(()=>{const u=c==null?void 0:c.height;u&&(l.current=u)},[c]),f.jsxs("div",{"data-testid":r,style:{maxHeight:d},className:Ke(t,"accordion-item",{"accordion-item--full-height":!!d}),onScroll:o,ref:s,children:[i&&f.jsx("div",{"data-testid":"accordion-item-curtain",className:Ke("accordion-item__curtain",{"accordion-item__curtain--dimmed":!n})}),f.jsx("div",{ref:a,children:e})]})});DS.displayName="AccordionItem";const jJ=["Cloud Backup","Download"],bj=({currentStep:e,completedSteps:t})=>{const n=i=>{const o=["waas-backup-view__step"];return i<t?o.push("waas-backup-view__step--completed"):i===e?o.push("waas-backup-view__step--current"):o.push("waas-backup-view__step--upcoming"),o.join(" ")},r=()=>{const i=["waas-backup-view__step-separator"];return t>=1&&i.push("waas-backup-view__step-separator--solid"),i.join(" ")};return f.jsx("div",{className:"waas-backup-view__stepper",children:jJ.map((i,o)=>f.jsxs("div",{className:"waas-backup-view__step-container",children:[f.jsx("div",{className:n(o),children:f.jsx("div",{className:"waas-backup-view__step-indicator",children:o<t?f.jsx(cc,{className:"waas-backup-view__step-check"}):f.jsx("div",{className:"waas-backup-view__step-number",children:o+1})})}),o<jJ.length-1&&f.jsx("div",{className:r()})]},i))})},FZe=()=>{var e;const{pushView:t,goBack:n}=At(),{t:r}=Xe(),{isProcessingForProvider:i,error:o}=tue(),{ensureProviderLinked:s,getSupportedProviders:a}=fj(),[l,c]=x.useState(null),d=a(),u=x.useCallback(()=>n(),[n]),h=x.useCallback(()=>{t("waas-backup-info-view")},[t]),m=x.useCallback(g=>de(void 0,void 0,void 0,function*(){c(null);const b=d.find(k=>k.id===g);if(b){if(b.requiresOAuth&&!(yield s(g))){c(r("dyn_waas.backup.error"));return}t("waas-backup-progress-view",{provider:g})}}),[s,t,d,r]),v=f.jsx(Sn,{type:"button",onClick:u,"data-testid":"back-button",children:f.jsx(Kd,{})}),y=f.jsx(Sn,{type:"button",onClick:h,"data-testid":"info-button",children:f.jsx(fv,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:v,trailing:y,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.title",children:r("dyn_waas.backup.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body",children:[f.jsx(bj,{currentStep:0,completedSteps:0}),(l||o)&&f.jsx(Lr,{variant:"error",withIcon:!1,children:(e=o==null?void 0:o.message)!==null&&e!==void 0?e:l}),f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.cloud_backup_title",className:"waas-backup-view__cloud-title",children:r("dyn_waas.backup.cloud_backup_title","1. Cloud Backup")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.cloud_backup_subtitle",className:"waas-backup-view__cloud-subtitle",children:r("dyn_waas.backup.cloud_backup_subtitle","Back up your first key share to a cloud provider")}),d.map(g=>f.jsxs("button",{type:"button",className:"waas-backup-view__provider-button",onClick:()=>m(g.id),disabled:g.requiresOAuth&&g.oauthProvider&&i(g.oauthProvider),"data-testid":`${g.id}-button`,children:[g.icon,f.jsx(se,{variant:"body_normal",color:"primary",children:r(`dyn_waas.backup.backup_to_${g.id}`,`Backup to ${g.name}`)})]},g.id))]})})]})};var $J,WZe=["title","titleId"];function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YN.apply(null,arguments)}function qZe(e,t){if(e==null)return{};var n,r,i=zZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Bue=function(t){var n=t.title,r=t.titleId,i=qZe(t,WZe);return x.createElement("svg",YN({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,$J||($J=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.417 14.167c0 .92.746 1.666 1.666 1.666h8.334c.92 0 1.666-.746 1.666-1.666v-.834a.833.833 0 0 1 1.667 0v.834a3.333 3.333 0 0 1-3.333 3.333H6.083a3.333 3.333 0 0 1-3.333-3.333v-.834a.833.833 0 0 1 1.667 0v.834Zm1.91-4.756a.833.833 0 0 1 1.179 0l1.91 1.91V3.333a.833.833 0 0 1 1.667 0v7.989l1.911-1.911a.833.833 0 1 1 1.179 1.178l-3.334 3.334a.833.833 0 0 1-1.178 0l-3.334-3.334a.833.833 0 0 1 0-1.178Z",fill:"#ABACB2"})))};const VZe=()=>{const{pushView:e}=At(),{t}=Xe(),n=x.useCallback(m=>{e("waas-backup-success-view",{walletCount:m})},[e]),{currentIndex:r,hasError:i,isComplete:o,isProcessing:s,retry:a,startDownload:l,totalWallets:c}=SGe(n),d=x.useCallback(()=>{e("waas-backup-info-view")},[e]),u=f.jsx(Sn,{type:"button",onClick:d,"data-testid":"info-button",children:f.jsx(fv,{})}),h=()=>o?f.jsxs("span",{className:"waas-backup-view__download-button-content",children:[f.jsx(cc,{className:"waas-backup-view__download-icon"}),t("dyn_waas.backup.download_complete")]}):s?f.jsxs("span",{className:"waas-backup-view__download-button-content",children:[f.jsx(Bue,{className:"waas-backup-view__download-icon"}),t("dyn_waas.backup.downloading",{current:r,total:c})]}):t(i?"dyn_waas.backup.error_try_again":"dyn_waas.backup.download_key_share");return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:u,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.title",children:t("dyn_waas.backup.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body",children:[f.jsx(bj,{currentStep:1,completedSteps:1}),i&&f.jsx(Lr,{variant:"error",withIcon:!1,children:t("dyn_waas.backup.download_error")}),f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.download_title",className:"waas-backup-view__cloud-title",children:t("dyn_waas.backup.download_title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.download_subtitle",className:"waas-backup-view__cloud-subtitle",children:t("dyn_waas.backup.download_subtitle")}),f.jsx(xt,{dataTestId:"download-key-share-button",onClick:i?a:l,disabled:s||o,buttonVariant:s||o?"secondary":"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:h()})]})})]})};var LJ,KZe=["title","titleId"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XN.apply(null,arguments)}function HZe(e,t){if(e==null)return{};var n,r,i=GZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Mue=function(t){var n=t.title,r=t.titleId,i=HZe(t,KZe);return x.createElement("svg",XN({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,LJ||(LJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.335 1.917c.962-1.667 3.368-1.667 4.33 0l5.774 10c.962 1.666-.241 3.75-2.166 3.75H2.726c-1.924 0-3.127-2.084-2.165-3.75l5.774-10Zm2.887.833a.833.833 0 0 0-1.444 0l-5.773 10A.833.833 0 0 0 2.726 14h11.547a.833.833 0 0 0 .722-1.25l-5.773-10ZM8.5 5.667c.46 0 .833.373.833.833v1.667a.833.833 0 0 1-1.666 0V6.5c0-.46.373-.833.833-.833ZM7.667 11.5c0-.46.373-.833.833-.833h.008a.833.833 0 1 1 0 1.666H8.5a.833.833 0 0 1-.833-.833Z",fill:"#DD8500"})))},UJ,JZe=["title","titleId"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QN.apply(null,arguments)}function ZZe(e,t){if(e==null)return{};var n,r,i=YZe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YZe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Due=function(t){var n=t.title,r=t.titleId,i=ZZe(t,JZe);return x.createElement("svg",QN({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,UJ||(UJ=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm.11 42.446c-1.561 0-2.828 1.243-2.828 2.777 0 1.533 1.267 2.777 2.828 2.777h.038c1.562 0 2.828-1.244 2.828-2.777 0-1.534-1.266-2.777-2.828-2.777h-.038Zm1.8-26.297a12.215 12.215 0 0 0-7.658 1.286c-2.326 1.25-4.14 3.242-5.07 5.659-.55 1.434.187 3.036 1.648 3.578 1.461.541 3.092-.183 3.644-1.617.428-1.116 1.294-2.103 2.495-2.75a6.458 6.458 0 0 1 3.783-.708l-1.595 10.396-.003.001c-1.488.457-2.319 2.012-1.856 3.475.463 1.464 2.048 2.283 3.539 1.828l-.839-2.652c.8 2.525.84 2.644.843 2.65l.004-.001.01-.003.032-.01.098-.031a23.601 23.601 0 0 0 1.448-.535c.906-.368 2.136-.93 3.388-1.693 2.28-1.392 5.665-4.095 5.665-8.304.004-2.583-.993-5.054-2.763-6.98-1.767-1.921-4.188-3.176-6.814-3.589Zm-.894 5.484c1.405.22 2.642.884 3.51 1.827.862.938 1.307 2.092 1.305 3.252v.005c0 1.075-.945 2.335-2.995 3.587-.913.557-1.848.988-2.566 1.28a17.913 17.913 0 0 1-1.064.393l1.81-10.344Z",fill:"currentColor"})))};const XZe=()=>{const{goBack:e}=At(),{t}=Xe(),n=x.useCallback(()=>e(),[e]),r=f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Kd,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:r,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup_info.title",children:t("dyn_waas.backup_info.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__info",children:[f.jsx("div",{className:"waas-backup-view__info-icon",children:f.jsx(Nt,{color:"brand-primary",children:f.jsx(Due,{width:64,height:64})})}),f.jsx(se,{variant:"body_normal",weight:"medium",color:"primary",copykey:"dyn_waas.backup_info.subtitle",className:"waas-backup-view__info-subtitle",children:t("dyn_waas.backup_info.subtitle")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup_info.description",className:"waas-backup-view__info-description",children:t("dyn_waas.backup_info.description")}),f.jsxs("div",{className:"waas-backup-view__info-alert",children:[f.jsx(Mue,{className:"waas-backup-view__info-alert-icon"}),f.jsx(se,{variant:"body_small",color:"secondary",children:t("dyn_waas.backup_info.warning")})]})]})})]})};var FJ,QZe=["title","titleId"];function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eP.apply(null,arguments)}function eYe(e,t){if(e==null)return{};var n,r,i=tYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var K3=function(t){var n=t.title,r=t.titleId,i=eYe(t,QZe);return x.createElement("svg",eP({width:7,height:32,viewBox:"0 0 7 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,FJ||(FJ=x.createElement("path",{d:"M6.4 3.2a3.2 3.2 0 0 0-6.4 0V16a3.2 3.2 0 0 0 6.4 0V3.2ZM3.2 25.6a3.2 3.2 0 0 0 0 6.4h.032a3.2 3.2 0 0 0 0-6.4H3.2Z",fill:"#F9F9FB"})))};const nYe=({provider:e=ra.GoogleDrive})=>{const{goBack:t,pushView:n}=At(),{t:r}=Xe(),i=u1[e],{getWalletsToBackup:o,showICloudAuth:s,checkICloudAuth:a,hideICloudAuth:l}=fj(),[c,d]=x.useState(null),[u,h]=x.useState("pending"),[m,v]=x.useState(null),y=x.useRef(!1),g=x.useCallback(()=>{n("waas-backup-download-view")},[n]),b=x.useCallback(()=>t(),[t]),{currentIndex:k,hasError:_,isComplete:R,retry:I,totalWallets:T,start:D}=kGe(g,e,c||void 0),M=x.useCallback(S=>{i.requiresIframe&&S&&d(S)},[i.requiresIframe]);x.useEffect(()=>{if(y.current)return;if(!i.requiresIframe){y.current=!0,D();return}if(!c||u!=="pending")return;const S=o();if(S.length===0)return;y.current=!0,de(void 0,void 0,void 0,function*(){(yield s(c,S[0].chain))?(yield a(S[0].chain))?(h("authenticated"),D()):h("shown"):(h("failed"),v(r("dyn_waas.backup.error")))})},[i.requiresIframe,c,u,s,a,o,r,D]),x.useEffect(()=>()=>{if(i.requiresIframe&&c){const S=o();S.length>0&&l(S[0].chain)}},[i.requiresIframe,c,l,o]);const C=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(!c){v(r("dyn_waas.backup.error"));return}const S=o();if(S.length===0)return;if(!(yield a(S[0].chain))){h("failed"),v(r("dyn_waas.backup.error_title"));return}h("authenticated"),D()}),[c,a,o,D,r]),U=x.useCallback(()=>{i.requiresIframe?(y.current=!1,h("pending"),v(null)):I()},[i.requiresIframe,I]),$=()=>R?r("dyn_waas.backup.progress_complete"):T===0?r("dyn_waas.backup.progress_initializing"):r("dyn_waas.backup.progress_title",{current:k,total:T}),z=()=>_||u==="failed"?f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_waas.backup.error_title",className:"waas-backup-view__progress-title",children:m||r("dyn_waas.backup.error_title")}),f.jsx("div",{className:"waas-backup-view__progress-actions",children:f.jsx(xt,{dataTestId:"retry-backup-button",onClick:U,copykey:"dyn_waas.backup.error_try_again",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:r("dyn_waas.backup.error_try_again")})})]}):i.requiresIframe&&u==="shown"&&T===0&&!R?f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.icloud_ready_title",className:"waas-backup-view__progress-title",children:r("dyn_waas.backup.icloud_ready_title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.icloud_ready_subtitle",className:"waas-backup-view__progress-subtitle",children:r("dyn_waas.backup.icloud_ready_subtitle")}),f.jsx("div",{className:"waas-backup-view__progress-actions",children:f.jsx(xt,{dataTestId:"continue-icloud-backup-button",onClick:C,copykey:"dyn_waas.backup.continue_backup",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!c,expanded:!0,children:r("dyn_waas.backup.continue_backup")})})]}):f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.progress_title",className:"waas-backup-view__progress-title",children:$()}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.progress_subtitle",className:"waas-backup-view__progress-subtitle",children:r("dyn_waas.backup.progress_subtitle")})]}),q=_?f.jsx(Sn,{type:"button",onClick:b,"data-testid":"back-button",children:f.jsx(Kd,{})}):void 0;return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:q,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.cloud_backup_header",children:r("dyn_waas.backup.cloud_backup_header")})}),f.jsxs("div",{className:"waas-backup-view",children:[f.jsxs("div",{className:"waas-backup-view__progress",children:[f.jsxs("div",{className:`waas-backup-view__progress-icon ${_?"waas-backup-view__progress-icon--error":""}`,children:[i.icon,_&&f.jsx("div",{className:"waas-backup-view__progress-error-badge",children:f.jsx(K3,{})})]}),z()]}),i.requiresIframe&&f.jsx("div",{ref:M,className:"waas-backup-view__icloud-container"})]})]})};var WJ,rYe=["title","titleId"];function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tP.apply(null,arguments)}function iYe(e,t){if(e==null)return{};var n,r,i=oYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var jue=function(t){var n=t.title,r=t.titleId,i=iYe(t,rYe);return x.createElement("svg",tP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,WJ||(WJ=x.createElement("path",{d:"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm10.325 34.635a.89.89 0 0 0-1.258-.016l-1.8 1.757a.89.89 0 0 0-.016 1.258l1.758 1.801a.89.89 0 0 0 1.273-1.242l-.338-.346a7.119 7.119 0 1 1-5.245.735.89.89 0 1 0-.886-1.543 8.897 8.897 0 1 0 6.321-.975l.176-.171a.89.89 0 0 0 .015-1.258ZM19.95 15A4.95 4.95 0 0 0 15 19.95v23.1A4.95 4.95 0 0 0 19.95 48h8.11a12.481 12.481 0 0 1-.383-3.081c0-6.002 4.245-11.014 9.897-12.193a2.47 2.47 0 0 1 2.183-.257A12.405 12.405 0 0 1 48 35.262V26.55a4.95 4.95 0 0 0-4.95-4.95h-23.1a1.65 1.65 0 1 1 0-3.3h19.8a1.65 1.65 0 1 0 0-3.3h-19.8Z",fill:"#4779FF"})))};const sYe=({walletCount:e=1})=>{const{goBack:t,pushView:n}=At(),{setShowAuthFlow:r}=je(),{t:i}=Xe(),o=x.useCallback(()=>t(),[t]),s=x.useCallback(()=>{n("waas-backup-info-view")},[n]),a=x.useCallback(()=>{r(!1)},[r]),l=f.jsx(Sn,{type:"button",onClick:o,"data-testid":"back-button",children:f.jsx(Kd,{})}),c=f.jsx(Sn,{type:"button",onClick:s,"data-testid":"info-button",children:f.jsx(fv,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:l,trailing:c,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.success_title",children:i("dyn_waas.backup.success_title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body waas-backup-view__body--centered",children:[f.jsx("div",{className:"waas-backup-view__success-icon",children:f.jsx(Nt,{color:"brand-primary",children:f.jsx(jue,{width:64,height:64})})}),f.jsx(bj,{currentStep:1,completedSteps:2}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.success_description",className:"waas-backup-view__success-description",children:i("dyn_waas.backup.success_description",{count:e})}),f.jsx(xt,{dataTestId:"done-button",onClick:a,buttonVariant:"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:i("dyn_waas.backup.done")})]})})]})},aYe=()=>{const{setShowAuthFlow:e}=je(),{pushView:t}=At(),{t:n}=Xe(),[r,i]=x.useState(!1),o=x.useCallback(()=>{e(!1)},[e]),s=x.useCallback(()=>{t("waas-backup-info-view")},[t]),a=x.useCallback(()=>{t("waas-backup-cloud-provider-view")},[t]),l=x.useCallback(()=>{i(u=>!u)},[]),c=f.jsx(Sn,{type:"button",onClick:o,"data-testid":"back-button",children:f.jsx(Kd,{})}),d=f.jsx(Sn,{type:"button",onClick:s,"data-testid":"info-button",children:f.jsx(fv,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:c,trailing:d,children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_waas.backup.title",children:n("dyn_waas.backup.title")})}),f.jsx("div",{className:"waas-backup-view",children:f.jsxs("div",{className:"waas-backup-view__body",children:[f.jsx("div",{className:"waas-backup-view__icon-container",children:f.jsx(Nt,{color:"brand-primary",children:f.jsx(jue,{width:64,height:64})})}),f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_waas.backup.subtitle",className:"waas-backup-view__subtitle",children:n("dyn_waas.backup.subtitle")}),f.jsx("div",{className:"waas-backup-view__checkbox-container",children:f.jsxs("label",{className:"waas-backup-view__checkbox-label",children:[f.jsx(Vd,{checked:r,onChange:l,ariaLabel:n("dyn_waas.backup.checkbox_label")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_waas.backup.checkbox_label",children:n("dyn_waas.backup.checkbox_label")})]})}),f.jsx("div",{className:"waas-backup-view__actions",children:f.jsx(xt,{dataTestId:"continue-backup-button",onClick:a,disabled:!r,copykey:"dyn_waas.backup.continue_button",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},expanded:!0,children:n("dyn_waas.backup.continue_button")})})]})})]})};var qJ,zJ,lYe=["title","titleId"];function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nP.apply(null,arguments)}function cYe(e,t){if(e==null)return{};var n,r,i=dYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var uYe=function(t){var n=t.title,r=t.titleId,i=cYe(t,lYe);return x.createElement("svg",nP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,qJ||(qJ=x.createElement("g",{clipPath:"url(#access-blocked_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#access-blocked_svg__b)",fillOpacity:.12}),x.createElement("circle",{cx:220.352,cy:29.265,r:15.729,transform:"rotate(15 220.352 29.265)",fill:"#4779FF"}),x.createElement("path",{d:"M223.594 23.62a1.573 1.573 0 1 0-3.038-.815l-1.629 6.078a1.573 1.573 0 1 0 3.039.814l1.628-6.077ZM219.225 33.848a1.573 1.573 0 0 0-.814 3.039l.015.004a1.574 1.574 0 0 0 .814-3.039l-.015-.004Z",fill:"#F9F9FB"}),x.createElement("g",{clipPath:"url(#access-blocked_svg__c)",fill:"#4779FF"},x.createElement("path",{d:"M101.972 36.04a8 8 0 0 1 9.798 5.657l-2.897.777a5 5 0 0 0-9.66 2.588l-2.897.776a8 8 0 0 1 5.656-9.797ZM118.498 47.487a5.333 5.333 0 0 0-6.532-3.772l-14.81 3.969a5.333 5.333 0 0 0-3.772 6.532l1.898 7.084a5.333 5.333 0 0 0 6.532 3.77l14.811-3.968a5.334 5.334 0 0 0 3.771-6.532l-1.898-7.083Z"})),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-3.344 46.703c-1.172-2.936-2.026-7.051-2.236-11.797h9.298c-.21 4.746-1.064 8.861-2.236 11.797-.683 1.709-1.393 2.816-1.971 3.428-.198.21-.346.328-.442.393a2.703 2.703 0 0 1-.442-.392c-.578-.613-1.288-1.72-1.971-3.429Zm0-28.13c-1.208 3.025-2.078 7.301-2.253 12.228h9.332c-.175-4.927-1.045-9.203-2.253-12.227-.683-1.709-1.393-2.816-1.971-3.429a2.703 2.703 0 0 0-.442-.392 2.703 2.703 0 0 0-.442.392c-.578.613-1.288 1.72-1.971 3.429Zm-15.106 12.228h8.746c.21-6.38 1.506-11.989 3.423-15.668-6.57 2.184-11.466 8.283-12.169 15.668Zm.046 4.105h8.716c.253 6.201 1.533 11.642 3.407 15.238-6.442-2.141-11.274-8.046-12.123-15.238Zm34.946 0h-8.716c-.253 6.201-1.533 11.642-3.407 15.238 6.442-2.141 11.275-8.046 12.123-15.238Zm.133-2.267v.065-.131.066Zm-8.833-1.838h8.746c-.703-7.385-5.599-13.484-12.169-15.668 1.917 3.68 3.213 9.289 3.423 15.668Zm-8.909 19.795c0-.001.007-.004.023-.008a.077.077 0 0 1-.023.008Zm.25-.008a.064.064 0 0 1 .022.008s-.007-.001-.022-.008Zm.022-35.907c0 .001-.007.004-.023.008a.077.077 0 0 1 .023-.008Zm-.249.008c-.016-.004-.023-.007-.023-.008 0 0 .007.001.023.008Z",fill:"#4779FF"}))),zJ||(zJ=x.createElement("defs",null,x.createElement("clipPath",{id:"access-blocked_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"access-blocked_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 188.268 -307.493)",d:"M0 0h32v32H0z"})),x.createElement("linearGradient",{id:"access-blocked_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const fYe=()=>{const[e,t]=x.useState(),{t:n}=Xe(),{getIpConfiguration:r}=nqe();return vr(r,{deps:[r,e],onResolve:i=>t(i==null?void 0:i.country),retries:2}),f.jsxs("div",{className:"access-blocked__container",children:[f.jsx("div",{className:"access-blocked__icon",children:f.jsx(uYe,{})}),f.jsx("div",{className:"access-blocked__content",children:f.jsx(se,{variant:"body_normal",color:"secondary",copykey:"dyn_access_blocked.content",children:n("dyn_access_blocked.content",{jurisdiction:e})})})]})},_j=e=>e!==void 0&&(Dc(e,pn.Dynamic)||Dc(e,pn.Blocto)||Dc(e,pn.MagicLink)),hYe=e=>e.map(({walletConnector:n})=>n).find(n=>vm(n)&&n.requiresNonDynamicEmailOtp),$ue=({emailProvider:e}={})=>{const t=x.useContext(Kce);if(!t)throw new Error("useConnectWithOtp must be used within a DynamicContextProvider");return{connectWithEmail:(n,r={})=>t.connectWithEmail(n,Object.assign({provider:e},r)),connectWithSms:t.connectWithSms,retryOneTimePassword:t.retryOneTimePassword,verifyOneTimePassword:t.verifyOneTimePassword}},pYe=()=>{const{projectSettings:e,walletConnectorOptions:t}=je(),{connectWithEmail:n}=$ue(),{engageCaptcha:r}=Hd(),i=hYe(t);return{connectWithEmail:x.useCallback((s,a)=>de(void 0,void 0,void 0,function*(){var l;rt.emit("authInit",{email:s,option:s,type:"email"});try{!((l=e==null?void 0:e.security.hCaptcha)===null||l===void 0)&&l.enabled&&(i==null?void 0:i.key)!=="magicemailotp"?r({authMethod:"email",onCaptchaSuccess:c=>de(void 0,void 0,void 0,function*(){yield n(s,{captchaToken:c}),a==null||a()})}):(yield n(s),a==null||a())}catch(c){throw rt.emit("authFailure",{email:s,option:s,type:"email"},{error:c}),c}}),[n,r,e==null?void 0:e.security.hCaptcha,i])}},mYe=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,Lue=e=>mYe.test(e);var VJ,KJ,gYe=["title","titleId"];function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rP.apply(null,arguments)}function yYe(e,t){if(e==null)return{};var n,r,i=vYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wYe=function(t){var n=t.title,r=t.titleId,i=yYe(t,gYe);return x.createElement("svg",rP({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,VJ||(VJ=x.createElement("rect",{x:.5,width:24,height:24,rx:12,fill:"var(--icon-background, var(--dynamic-hover))"})),KJ||(KJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.22 7.47a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1 0 1.06l-3.75 3.75a.75.75 0 1 1-1.06-1.06l2.47-2.47H7.5a.75.75 0 0 1 0-1.5h8.19l-2.47-2.47a.75.75 0 0 1 0-1.06Z",fill:"var(--icon-arrow, var(--dynamic-text-secondary))"})))};const Uue=({disabled:e,highlighted:t,isFocused:n,isHovered:r,className:i,style:o,emailSubmitButtonInsideInput:s=!1})=>s?f.jsx(Sn,{"data-testid":"in_line_submit_button",type:"submit",className:Ke("inline-submit-button",i,{"icon-button--active":n||r,"icon-button--has-content":t}),disabled:e,style:o,children:f.jsx(wYe,{})}):null,Fue=({isLoading:e,onSubmit:t,isEmailInvalid:n=!1,currentEmail:r,emailSubmitButtonInsideInput:i=!1,buttonCopyKey:o="dyn_login.email_form.submit_button.label",isDisabled:s=!1,className:a,style:l})=>{const{t:c}=Xe(),[d,u]=x.useState(r??""),[h,m]=x.useState(!1),[v,y]=x.useState(!1),g=k=>{const{value:_}=k.currentTarget;u(_)},b=k=>de(void 0,void 0,void 0,function*(){k.preventDefault(),Lue(d)&&(t==null||t(d))});return f.jsxs("form",{className:Ke("login-with-email-form",a),style:l,"data-testid":"email-form",onSubmit:k=>b(k),children:[f.jsx(Sl,{id:"email_field",value:d,onChange:g,copykey:"dyn_login.email_form.email_field.label",label:c("dyn_login.email_form.email_field.label"),error:n,message:n&&c("dyn_login.helper.email_form.invalid_email"),suffix:f.jsx(Uue,{disabled:e||s,highlighted:d.length>0,isFocused:v,isHovered:h,emailSubmitButtonInsideInput:i}),disabled:e||s,type:"email",onPointerEnter:()=>m(!0),onPointerLeave:()=>m(!1),onFocus:()=>y(!0),onBlur:()=>y(!1),autoComplete:"email"}),!i&&f.jsx(xt,{dataTestId:"submit_button",buttonClassName:"login-with-email-form__button",type:"submit",loading:e,disabled:e||d.length<3||s,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,copykey:o,typographyProps:{color:"inherit"},children:c(o)})]})},iP=({isLoading:e,onSubmit:t,onSubmitError:n,currentEmail:r,className:i,style:o})=>{var s;const a=vo(),{view:l,pushView:c}=At(),{setVerificationUUID:d,setDisplayedDestination:u}=Kc(),{setError:h}=so(),[m,v]=x.useState(!1),{connectWithEmail:y}=pYe(),g=x.useCallback(k=>{k.message==="Email is not valid"||k.message==="Invalid Email Address"?v(!0):h(k.message),Ie.debug(k),n==null||n()},[h,n]),b=x.useCallback(k=>de(void 0,void 0,void 0,function*(){t==null||t();try{yield y(k,()=>{d(void 0),u(k),c("login-with-email-verification")})}catch(_){g(_),c(l.type)}}),[y,t,g,c,l,d,u]);return a?_j(a.providers)?f.jsx(Fue,{onSubmit:b,isLoading:e,currentEmail:r,emailSubmitButtonInsideInput:(s=a==null?void 0:a.design.modal)===null||s===void 0?void 0:s.emailSubmitButtonInsideInput,isEmailInvalid:m,className:i,style:o}):(Ie.error("Failed to render EmailSignInSection - no sign in provider enabled"),null):(Ie.debug("Failed to render EmailSignInSection - no project settings"),null)},g1=e=>{var{children:t,className:n}=e,r=bs(e,["children","className"]);return f.jsx(rp,Object.assign({},r,{className:Ke(n,"icon-list-tile"),children:f.jsx("div",{className:"icon-list-tile--children",children:t})}))},bYe=()=>{const{existentAccountData:e}=l_(),{t}=Xe(),{email:n,embeddedSocialSigninProvider:r}=e||{},i=Rue(r),{socialProvider:o,setSocialProvider:s,socialWalletConnector:a}=sf(),l=j3(),{mutate:c}=Xo(()=>de(void 0,void 0,void 0,function*(){return s(i),yield a==null?void 0:a.endSession(),a==null?void 0:a.connect(r)})),d=()=>r?t("dyn_account_exists.description_social"):f.jsxs(f.Fragment,{children:[t("dyn_account_exists.description_email")," ",f.jsx("strong",{children:n})," ",t("dyn_account_exists.trail_message_email")]});return f.jsxs("div",{className:"account-exists__container",children:[f.jsx(TM,{className:"account-exists__image"}),f.jsxs("div",{className:"account-exists__main",children:[f.jsx("div",{className:"account-exists__content",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"account-exists__content--secondary",copykey:"dyn_account_exists",children:d()})}),r?f.jsxs(g1,{dataTestId:`inline-${r}`,onClick:()=>c(),className:"social-sign-in--tile",children:[f.jsx(si,{Icon:l(r),isSpinning:o===i,iconSize:32}),f.jsx(se,{variant:"button_primary",copykey:"dyn_account_exists.connect",children:t("dyn_account_exists.connect",{socialOauth:Od(r==null?void 0:r.toString())})})]},r):f.jsx(iP,{isLoading:!1,currentEmail:n})]})]})};var HJ,_Ye=["title","titleId"];function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oP.apply(null,arguments)}function xYe(e,t){if(e==null)return{};var n,r,i=kYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var SYe=function(t){var n=t.title,r=t.titleId,i=xYe(t,_Ye);return x.createElement("svg",oP({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,HJ||(HJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.667 2.667C7.403 2.667 8 3.264 8 4v1.333h1.333a1.333 1.333 0 0 1 0 2.667H8v1.333a1.333 1.333 0 1 1-2.667 0V8H4a1.333 1.333 0 0 1 0-2.667h1.333V4c0-.736.597-1.333 1.334-1.333Zm10.666 0c.574 0 1.084.367 1.265.911l2.847 8.54 7.023 2.634a1.333 1.333 0 0 1 0 2.496l-7.023 2.634-2.847 8.54a1.333 1.333 0 0 1-2.53 0l-2.846-8.54-7.023-2.634a1.333 1.333 0 0 1 0-2.496l7.023-2.634 2.846-8.54a1.333 1.333 0 0 1 1.265-.911Zm0 5.55-1.782 5.348c-.128.381-.42.685-.797.826L10.464 16l4.29 1.609c.377.141.67.445.797.826l1.782 5.349 1.783-5.348c.127-.382.42-.686.797-.827L24.203 16l-4.29-1.609a1.333 1.333 0 0 1-.797-.826l-1.783-5.349ZM8 21.332c.736 0 1.333.597 1.333 1.334V24h1.334a1.333 1.333 0 0 1 0 2.667H9.333V28a1.333 1.333 0 1 1-2.666 0v-1.333H5.333a1.333 1.333 0 0 1 0-2.667h1.334v-1.333c0-.737.597-1.334 1.333-1.334Z",fill:"currentColor"})))};const IYe=()=>{const{setShowAuthFlow:e}=je(),{t}=Xe(),n=()=>{e(!1)},r=f.jsx(Sn,{onClick:()=>{e(!1)},type:"button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:r,displayBorder:!0,children:f.jsx(se,{variant:"title",color:"primary",children:t("dyn_account_upgraded.title")})}),f.jsxs("div",{className:"account-upgraded-view",children:[f.jsxs("div",{className:"account-upgraded-view__content",children:[f.jsx("div",{className:"account-upgraded-view__icon-container",children:f.jsx("div",{className:"account-upgraded-view__icon-background",children:f.jsx(SYe,{className:"account-upgraded-view__icon"})})}),f.jsx("div",{className:"account-upgraded-view__message",children:f.jsx(se,{variant:"body_normal",color:"primary",style:{textAlign:"center"},children:t("dyn_account_upgraded.message")})})]}),f.jsx("div",{className:"account-upgraded-view__actions",children:f.jsx(xt,{onClick:n,buttonVariant:"brand-primary",expanded:!0,buttonPadding:"large",typographyProps:{color:"white"},dataTestId:"account-upgraded-continue-button",children:t("dyn_account_upgraded.continue_button")})})]})]})};var GJ,EYe=["title","titleId"];function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sP.apply(null,arguments)}function CYe(e,t){if(e==null)return{};var n,r,i=AYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var xj=function(t){var n=t.title,r=t.titleId,i=CYe(t,EYe);return x.createElement("svg",sP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,GJ||(GJ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"#FF4646"})))},JJ,RYe=["title","titleId"];function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aP.apply(null,arguments)}function TYe(e,t){if(e==null)return{};var n,r,i=OYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var NYe=function(t){var n=t.title,r=t.titleId,i=TYe(t,RYe);return x.createElement("svg",aP({xmlns:"http://www.w3.org/2000/svg",width:65,height:64,viewBox:"0 0 65 64",fill:"none","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,JJ||(JJ=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm10.325 34.635a.89.89 0 0 0-1.258-.016l-1.8 1.757a.89.89 0 0 0-.016 1.258l1.758 1.801a.89.89 0 0 0 1.273-1.242l-.338-.346a7.119 7.119 0 1 1-5.245.735.89.89 0 1 0-.886-1.543 8.897 8.897 0 1 0 6.321-.975l.176-.171a.89.89 0 0 0 .015-1.258ZM20.45 15a4.95 4.95 0 0 0-4.95 4.95v23.1A4.95 4.95 0 0 0 20.45 48h8.11a12.481 12.481 0 0 1-.383-3.081c0-6.004 4.247-11.016 9.901-12.194a2.462 2.462 0 0 1 2.172-.256 12.403 12.403 0 0 1 8.25 2.795V26.55a4.95 4.95 0 0 0-4.95-4.95h-23.1a1.65 1.65 0 1 1 0-3.3h19.8a1.65 1.65 0 1 0 0-3.3h-19.8Z",fill:"currentColor"})))};const Wue=()=>{var e,t,n;const{user:r,primaryWallet:i,projectSettings:o}=je(),s=Xu(),{getEOAWallet:a}=xs(),l=i&&a(i),c=i&&Bh(i)||l&&Bh(l),d=$h(o),u=!!r||s==="connect-only"&&!!i,h=(e=r==null?void 0:r.verifiedCredentials)===null||e===void 0?void 0:e.filter(({walletProvider:g})=>g),m=!!(h!=null&&h.find(({walletProvider:g})=>g==="embeddedWallet")),y=!Zde(o)&&d&&((n=(t=o==null?void 0:o.sdk)===null||t===void 0?void 0:t.embeddedWallets)===null||n===void 0?void 0:n.automaticEmbeddedWalletCreation)&&(!(o!=null&&o.sdk.embeddedWallets.forceAuthenticatorAtSignup)||c)&&(!(h!=null&&h.length)||m);return x.useEffect(()=>{Ie.logVerboseTroubleshootingMessage("useIsLoggedIn",{authMode:s,eoaWallet:l,isSessionKeyCompatible:c,isTurnkeyProviderEnabled:d,primaryWallet:i,projectSettings:o,user:r})},[s,l,c,d,i,o,r]),y?!!(i&&u):u},PYe=e=>{const t=x.useRef(e),n=Wue(),r=Xu();return t.current=e,x.useMemo(()=>({authMode:r,setAuthMode:i=>{if(i!==r){if(n){Ie.error("Calling DynamicContext's setAuthMode method when the user already has a wallet is a noop");return}return Qb(i)}}}),[n,r])},Zc=()=>{const e=x.useContext(J3);if(e===void 0)throw new Error("useDynamicContext must be used within a DynamicContextProvider");const{accountSwitchState:t,awaitingSignatureState:n,getNameService:r,handleLogOut:i,removeWallet:o,loadingNetwork:s,locale:a,loginWithEmail:l,multiWalletWidgetState:c,network:d,networkConfigurations:u,qrcodeUri:h,refetchProjectSettings:m,sdkHasLoaded:v,setLogInWithEmail:y,setMultiWalletWidgetState:g,setShowAuthFlow:b,setShowDynamicUserProfile:k,setShowQrcodeModal:_,shadowDOMEnabled:R,showAuthFlow:I,showQrcodeModal:T,user:D,userWithMissingInfo:M,bridgeChains:C,bridgeChainsToConnect:U,primaryWallet:$,setShowBridgeWidget:z,sendWagmiSettings:q,showDynamicUserProfile:S,selectedTabIndex:A,setSelectedTabIndex:O}=e,{authMode:N,setAuthMode:j}=PYe(e),V=x.useCallback(P=>{b(P,{clearErrors:!0,emitCancelAuth:!0,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!0})},[b]),{initialWalletVerificationInProgress:K}=hae(),W=x.useRef(null);return(!K||!$)&&(W.current=$),{accountSwitchState:t,authMode:N,awaitingSignatureState:n,bridgeChains:C,bridgeChainsToConnect:U,getNameService:r,handleLogOut:i,handleUnlinkWallet:o,loadingNetwork:s,locale:a,loginWithEmail:l,multiWalletWidgetState:c,network:d,networkConfigurations:u,primaryWallet:W.current,qrcodeUri:h,refetchProjectSettings:m,removeWallet:o,sdkHasLoaded:v,selectedTabIndex:A,sendWagmiSettings:q,setAuthMode:j,setLogInWithEmail:y,setMultiWalletWidgetState:g,setSelectedTabIndex:O,setShowAuthFlow:V,setShowBridgeWidget:z,setShowDynamicUserProfile:k,setShowQrcodeModal:_,shadowDOMEnabled:R,showAuthFlow:I,showDynamicUserProfile:S,showQrcodeModal:T,user:D,userWithMissingInfo:M}},BYe=()=>{var e,t;const{t:n}=Xe(),r=vo(),i=x.useRef(!1),o=(e=r==null?void 0:r.general)===null||e===void 0?void 0:e.supportEmail,s=(t=r==null?void 0:r.general)===null||t===void 0?void 0:t.supportUrls,a=!!(o||Object.keys(s||{}).length>0),{handleLogOut:l}=Zc(),c=()=>{window.location.reload()};return x.useEffect(()=>{const d=setTimeout(()=>{i.current=!0},100);return()=>{clearTimeout(d),i.current&&setTimeout(()=>{c()},0)}},[]),f.jsxs("div",{className:"backup-unsuccessful-view",children:[f.jsxs("div",{className:"backup-unsuccessful-view__content",children:[f.jsxs("div",{className:"backup-icon-container",children:[f.jsx(Nt,{color:"brand-primary",children:f.jsx(NYe,{className:"backup-icon",width:64,height:64})}),f.jsxs("div",{className:"warning-icon-container",children:[f.jsx(xj,{className:"combined-icon",width:40,height:40}),f.jsx(K3,{className:"exclamation-icon",width:20,height:20,style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}})]})]}),f.jsx(se,{variant:"body_normal",className:"backup-message",color:"primary",copykey:"dyn_waas.backup_unsuccessful.description",children:n("dyn_waas.backup_unsuccessful.description")}),f.jsx("div",{className:Ke("button-group",{"button-group--with-help-section":a}),children:f.jsx(xt,{buttonClassName:"retry-button",buttonVariant:"brand-primary",type:"submit",onClick:()=>c(),copykey:"dyn_waas.backup_unsuccessful.try_again",typographyProps:{color:"inherit"},children:n("dyn_waas.backup_unsuccessful.try_again")})}),f.jsx("div",{className:Ke("button-group","logout-group",{"button-group--with-help-section":a}),children:f.jsx(xt,{buttonClassName:"logout-button",buttonVariant:"tertiary",type:"submit",onClick:()=>{Ie.error("BackupUnsuccessfulView: Could not backup wallet, logging out"),l()},copykey:"dyn_waas.backup_unsuccessful.log_out",typographyProps:{color:"inherit",weight:"medium"},children:n("dyn_waas.backup_unsuccessful.log_out")})}),f.jsx("div",{className:"need-help-section",children:f.jsx(ep,{})})]}),f.jsx(Gc,{asFooter:!0})]})},MYe=({chainName:e,chainIcon:t,onClickAction:n,onClickClose:r})=>{const i=r&&f.jsx(Sn,{type:"button",onClick:r,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs("div",{className:"bridge-next-wallet-to-connect-layout",children:[f.jsx(Zn,{trailing:i,alignContent:"bottom",children:t&&f.jsx("div",{className:"bridge-next-wallet-to-connect-layout__chain-icon",children:t})}),f.jsxs("div",{className:"bridge-next-wallet-to-connect-layout__body",children:[f.jsxs(se,{color:"primary",variant:"title",children:["Nice! Now lets connect your ",e," wallet"]}),f.jsx(xt,{expanded:!0,buttonPadding:"large",onClick:n,children:`Connect ${e} wallet`})]})]})},DYe=()=>{const{setShowAuthFlow:e,bridgeChainsToConnect:t}=je(),{pushView:n}=At();if(!(t!=null&&t.length))throw new Se("No wallets to connect");const[r]=t,{chain:i}=r,o=Uc(i),s=Hc(i);if(!o)throw new Se("No chain info found for chain",i);return f.jsx(MYe,{chainName:o.blockchainName,chainIcon:f.jsx(s,{}),onClickAction:()=>n("wallet-list"),onClickClose:()=>e(!1,{emitCancelAuth:!0})})},jYe=({title:e,body:t,onClickBack:n,onClickClose:r,onClickAction:i,actionButtonText:o="Continue",children:s,copykey:a})=>{const l=r&&f.jsx(Sn,{type:"button",onClick:r,"data-testid":"close-button",children:f.jsx(Oi,{})}),c=n&&f.jsx(Sn,{type:"button",onClick:n,"data-testid":"back-button",children:f.jsx(Kd,{})});return f.jsxs("div",{className:"connected-wallets-list-layout",children:[f.jsx(Zn,{leading:c,trailing:l,children:f.jsx(se,{variant:"title",color:"primary",copykey:a,children:e})}),f.jsxs("div",{className:"connected-wallets-list-layout__body",children:[f.jsx(se,{variant:"body_normal",color:"secondary",className:"connected-wallets-list-layout__body__text",children:t}),s,f.jsx(xt,{buttonPadding:"large",buttonVariant:"primary",onClick:i,children:o})]})]})},$Ye=()=>{const{primaryWallet:e,setShowAuthFlow:t,appName:n,bridgeChains:r=[]}=je(),{t:i}=Xe(),o=()=>t(!1,{emitCancelAuth:!0}),s=x.useMemo(()=>{const l=r.map(({chain:u})=>{var h;return(h=Uc(u))===null||h===void 0?void 0:h.blockchainName}),[c,d]=l;return i("dyn_bridge.summary_view.connection_succeed",{firstBlockchainName:c,secondBlockchainName:d})},[r,i]),a=l=>{const c=Hc(l.chain),d=Uc(l.chain);return f.jsx(Qde,{networkIcon:f.jsx(c,{}),networkName:d==null?void 0:d.displayName,children:f.jsx(eue,{walletKey:l.connector.key,walletAddress:l.address,walletBalance:f.jsx(lj,{wallet:l,network:l.chain})})})};return f.jsxs(jYe,{onClickClose:o,onClickAction:o,copykey:"dyn_bridge.summary_view.title",title:i("dyn_bridge.summary_view.title",{appName:n}),body:s,children:[e&&a(e),f.jsx(fGe,{hideUnlinkAction:!0})]})},LYe=({body:e,chains:t=[],onClickAction:n,onClickClose:r,title:i,actionButtonText:o,copykey:s})=>{const a=r&&f.jsx(Sn,{type:"button",onClick:r,"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs("div",{className:"bridge-welcome-layout",children:[f.jsx(Zn,{trailing:a,alignContent:"bottom",children:f.jsx("div",{className:"bridge-welcome-layout__chain-icon-group",children:[...t].reverse().map((l,c)=>f.jsx("div",{className:"bridge-welcome-layout__chain-icon",style:{zIndex:c},children:l.icon},l.id))})}),f.jsxs("div",{className:"bridge-welcome-layout__body",children:[f.jsxs("div",{className:"bridge-welcome-layout__message-container",children:[f.jsx(se,{variant:"title",color:"primary",copykey:s,children:i}),f.jsx(se,{variant:"body_normal",color:"secondary",children:e})]}),f.jsx("div",{children:f.jsx(Iue,{children:t.map(l=>f.jsx(Sue,{children:l.name},l.id))})}),f.jsx(xt,{buttonVariant:"primary",buttonPadding:"large",onClick:n,children:o})]})]})},UYe=e=>e!==void 0,FYe=()=>{const{appName:e,bridgeChains:t=[],setShowAuthFlow:n}=je(),{pushView:r}=At(),{t:i}=Xe(),o=x.useMemo(()=>{const a=t.map(({chain:d})=>{var u;return(u=Uc(d))===null||u===void 0?void 0:u.blockchainName}),[l,c]=a;return i("dyn_bridge.welcome_view.description",{firstBlockchainName:l,secondBlockchainName:c})},[t,i]),s=x.useMemo(()=>t.map(({chain:a},l)=>{const c=Uc(a),d=Hc(a);if(c&&d)return{icon:f.jsx(d,{}),id:l,name:c.blockchainName}}).filter(UYe),[t]);return f.jsx(LYe,{onClickClose:()=>n(!1,{emitCancelAuth:!0}),title:i("dyn_bridge.welcome_view.title",{appName:e}),copykey:"dyn_bridge.welcome_view.title",body:o,chains:s,actionButtonText:i("dyn_bridge.welcome_view.button"),onClickAction:()=>r("wallet-list")})},WYe=({handleSuccess:e})=>{var t;const{projectSettings:n}=je();return!((t=n==null?void 0:n.security.hCaptcha)===null||t===void 0)&&t.siteKey?f.jsx("form",{"data-testid":"captcha-form",children:f.jsx(fqe,{sitekey:n.security.hCaptcha.siteKey,onVerify:r=>e(r),theme:document.body.dataset.dynamicTheme})}):null},qYe=()=>{const{t:e}=Xe(),{captchaAuthState:t,setCaptchaToken:n}=Hd(),r=i=>de(void 0,void 0,void 0,function*(){var o;n(i),yield(o=t==null?void 0:t.onCaptchaSuccess)===null||o===void 0?void 0:o.call(t,i)});return f.jsxs("div",{className:"captcha-verify-user__container",children:[f.jsx(tRe,{className:"captcha-verify-user__icon"}),f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"captcha-verify-user__title",copykey:"dyn_captcha.verify_user_title",children:e("dyn_captcha.verify_user_title")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"captcha-verify-user__subtitle",copykey:"dyn_captcha.verify_user_subtitle",children:e("dyn_captcha.verify_user_subtitle")}),f.jsx(WYe,{handleSuccess:r}),f.jsx(Gc,{classNameRoot:"captcha-verify-user__dynamic-logo"})]})};var ZJ,zYe=["title","titleId"];function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lP.apply(null,arguments)}function VYe(e,t){if(e==null)return{};var n,r,i=KYe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var que=function(t){var n=t.title,r=t.titleId,i=VYe(t,zYe);return x.createElement("svg",lP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,ZJ||(ZJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm12.845-39.155a1.667 1.667 0 1 0-2.357-2.357L27.5 37.976l-5.488-5.488a1.667 1.667 0 1 0-2.357 2.357l6.666 6.667c.651.65 1.707.65 2.357 0l16.667-16.667Z",fill:"#4779FF"})))};const zue=e=>{if(e===Wb.VerifyEmail)return"email";if(e===Wb.VerifySms)return"sms"},HYe=e=>de(void 0,[e],void 0,function*({email:t,environmentId:n,captchaToken:r}){try{return yield cn().createEmailVerification({emailVerificationCreateRequest:{captchaToken:r,email:t},environmentId:n})}catch(i){const o=yield Tr(i,"Error creating email verification");throw new qI(o.error,o.code)}}),Vue=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r,captchaToken:i,sessionPublicKey:o}){try{return yield cn().signInWithEmailVerification({emailVerificationVerifyRequest:{captchaToken:i,sessionPublicKey:o,verificationToken:t,verificationUUID:n},environmentId:r})}catch(s){const a=yield Tr(s,"Error email signin");throw a.error.code==="missing_from_list"?new Q0({email:a.payload.email}):a.code==="email_associated_with_different_provider"?new z1(a.error,a.payload):a.error.code==="sandbox_maximum_threshold_reached"?new Ld(a.error.message):new qI(a.error,a.code)}}),Kue=e=>de(void 0,[e],void 0,function*({email:t,environmentId:n,verificationUUID:r}){try{return yield cn().retryEmailVerification({emailVerificationRetryRequest:{email:t,verificationUUID:r},environmentId:n})}catch(i){const o=yield Tr(i,"Error retrying email verification");throw new qI(o.error,o.code)}}),GYe=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r}){try{return yield cn().verifyEmailVerification({emailVerificationVerifyRequest:{verificationToken:t,verificationUUID:n},environmentId:r})}catch(i){const o=yield Tr(i,"Error linking email");throw o.code===zb.UserHasAlreadyAccountWithEmail?new Gie(o.error):o.error.code==="sandbox_maximum_threshold_reached"?new Ld(o.error.message):new qI(o.error,o.code)}}),Hue=e=>de(void 0,[e],void 0,function*({isoCountryCode:t,phoneNumber:n,phoneCountryCode:r,environmentId:i,captchaToken:o}){try{return yield cn().createSmsVerification({environmentId:i,smsVerificationCreateRequest:{captchaToken:o,isoCountryCode:t,phoneCountryCode:r,phoneNumber:n}})}catch(s){const a=yield Tr(s,"Error creating phone number verification");throw new h0(a.error,a.code)}}),Gue=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r,captchaToken:i,sessionPublicKey:o}){var s;try{return yield cn().signInWithSmsVerification({environmentId:r,smsVerificationVerifyRequest:{captchaToken:i,sessionPublicKey:o,verificationToken:t,verificationUUID:n}})}catch(a){const l=yield Tr(a,"Error signin phone number");throw((s=l.error)===null||s===void 0?void 0:s.code)==="missing_from_list"?new Q0({phoneNumber:l.payload.phoneNumber}):l.code==="wrong_sms_verification_token"?new h0(wi.getInstance().t("dyn_login.helper.phone_number_form.invalid_sms_verification"),l.code):l.error.code==="sandbox_maximum_threshold_reached"?new Ld(l.error.message):new h0(l.error,l.code)}}),JYe=e=>de(void 0,[e],void 0,function*({isoCountryCode:t,phoneCountryCode:n,phoneNumber:r,environmentId:i,verificationUUID:o}){try{return yield cn().retrySmsVerification({environmentId:i,smsVerificationRetryRequest:{isoCountryCode:t,phoneCountryCode:n,phoneNumber:r,verificationUUID:o}})}catch(s){const a=yield Tr(s,"Error retrying phone number verification");throw new h0(a.error,a.code)}}),ZYe=e=>de(void 0,[e],void 0,function*({verificationToken:t,verificationUUID:n,environmentId:r}){try{return yield cn().verifySmsVerification({environmentId:r,smsVerificationVerifyRequest:{verificationToken:t,verificationUUID:n}})}catch(i){const o=yield Tr(i,"Error verifying phone number");throw Ie.error(o.error),o.error.code==="sandbox_maximum_threshold_reached"?new Ld(o.error.message):new h0(o.error,o.code)}}),Jue=()=>{const{environmentId:e,user:t,userWithMissingInfo:n}=je(),{verificationUUID:r}=Kc();return{verifyOtp:x.useCallback((o,s,a,l)=>de(void 0,void 0,void 0,function*(){var c;if(!t&&!n)throw new Se(Kr);if(!l&&!r)throw new Se("No verification UUID is available");const h=yield(a==="email"?GYe:ZYe)({environmentId:e,verificationToken:s,verificationUUID:l??r}),m=h.user,v=(c=m==null?void 0:m.missingFields)!==null&&c!==void 0?c:[],y=zue(h.nextView);return Ii(h),y?o({destination:y,missingFields:v,updateUserProfileResponse:h}):{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:v,updateUserProfileResponse:h}}),[r,e,t,n])}},Zue=()=>{const e=Yue(),{verifyOtp:t}=Jue();return x.useMemo(()=>({verifyOtp:(n,r,i)=>t(e,n,r,i)}),[e,t])},YYe=(e,t)=>{var n,r,i,o,s,a,l;return t==="email"?{displayDestination:(n=e.emailVerification)===null||n===void 0?void 0:n.email,verificationUUID:(r=e.emailVerification)===null||r===void 0?void 0:r.verificationUUID}:{displayDestination:rj("+"+((o=(i=e.smsVerification)===null||i===void 0?void 0:i.phoneCountryCode)!==null&&o!==void 0?o:"")+((a=(s=e.smsVerification)===null||s===void 0?void 0:s.phoneNumber)!==null&&a!==void 0?a:"")),verificationUUID:(l=e.smsVerification)===null||l===void 0?void 0:l.verificationUUID}},Yue=()=>{const{setVerificationUUID:e,setDisplayedDestination:t}=Kc(),{environmentId:n}=je(),{verifyOtp:r}=Jue(),i=x.useCallback((s,a)=>de(void 0,void 0,void 0,function*(){if(s==="email"&&a.emailVerification||s==="sms"&&a.smsVerification)return a;const l=s==="email"?"email":"phoneNumber";if(!a.user[l])throw new WF(`missing ${l} field to perform update`);const c=yield gle.validate({[l]:a.user[l]}),{emailVerification:d,smsVerification:u}=yield $D(n,c);if(s==="email"&&!d||s==="sms"&&!u)throw new WF(`could not get ${s} verification data from api`);return Object.assign(Object.assign({},a),{emailVerification:d,smsVerification:u})}),[n]),o=x.useCallback(s=>de(void 0,[s],void 0,function*({updateUserProfileResponse:a,missingFields:l,destination:c}){const d=yield i(c,a),{displayDestination:u,verificationUUID:h}=YYe(d,c);t(u),e(h);const m=v=>de(void 0,void 0,void 0,function*(){return r(o,v,c,h)});return c==="email"?{isEmailVerificationRequired:!0,isSmsVerificationRequired:!1,missingFields:l,updateUserProfileResponse:d,verifyOtp:m}:{isEmailVerificationRequired:!1,isSmsVerificationRequired:!0,missingFields:l,updateUserProfileResponse:d,verifyOtp:m}}),[i,t,e,r]);return o},XYe=e=>{const{environmentId:t,userWithMissingInfo:n}=je(),{setRetryData:r}=Kc(),{selectedPhoneCountry:i}=dD(),o=Yue();return x.useCallback((a,l)=>de(void 0,void 0,void 0,function*(){var c,d;let{metadata:u}=a;u=u?Object.assign(Object.assign({},n==null?void 0:n.metadata),u):n==null?void 0:n.metadata;const h=yield gle.validate(a,{stripUnknown:e});h.phoneNumber&&h.phoneNumber.length>0&&i.current&&r({dialCode:i.current.dialCode,iso2:i.current.iso2,phone:h.phoneNumber});const m=yield $D((c=l==null?void 0:l.userEnvironmentId)!==null&&c!==void 0?c:t,Object.assign(Object.assign({},h),{metadata:u})),v=(d=m.user.missingFields)!==null&&d!==void 0?d:[],y=zue(m.nextView);return y?o({destination:y,missingFields:v,updateUserProfileResponse:m}):{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:v,updateUserProfileResponse:m}}),[n==null?void 0:n.metadata,e,i,r,t,o])},QYe=(e,t,n)=>{if(!e.length)return"At least one field must be provided for editing";if(!t)return"No signed-in user";const r=qD({customFields:n==null?void 0:n.customFields,projectSettingsKyc:n==null?void 0:n.kyc,user:t});for(const i of e)if(!r.find(({name:o})=>o===i))return`Please ensure field "${i}" is enabled under "Configurations > Onboarding > Information capture" in your app's dashboard before using it with updateUserWithModal`;return""},eXe=(e,t,n,r,i)=>de(void 0,[e,t,n,r,i],void 0,function*({fields:o,updateUserResult:{isEmailVerificationRequired:s,isSmsVerificationRequired:a}},l,c,d,u){if(!s&&!a){d(o);return}if(l(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),s){c("verify-email"),rt.once("emailVerificationResult",(h,m)=>{o.email=m,h?d(o):u("Failed to verify email, no fields were updated")});return}c("verify-sms"),rt.once("smsVerificationResult",(h,{phone:m})=>{o.phoneNumber=m,h?d(o):u("Failed to verify phone number, no fields were updated")})}),tXe=e=>{const{user:t,projectSettings:n,setShowAuthFlow:r}=je(),{pushView:i}=At(),o=x.useContext(vue);if(!o)throw new Se("useUserUpdateRequest can only be used inside the context of DynamicContextProvider");const{open:s}=o;return x.useCallback((l,c)=>new Promise((d,u)=>{const h=QYe(l,t,n);if(h){u(h);return}s({fields:l,submitText:c==null?void 0:c.submitText,subtitle:c==null?void 0:c.subtitle,title:c==null?void 0:c.title},e).then(m=>eXe(m,r,i,d,u)).catch(m=>{if(/email already exists/gi.test(m))throw m;u(m)})}),[t,n,s,e,r,i])},nXe=()=>{const{environmentId:e}=je();return x.useCallback(n=>de(void 0,[n],void 0,function*({verifiedCredentialId:r}){var i;const o=(i=Js())===null||i===void 0?void 0:i.user,s=Fd();if(!s)throw new Se("Primary wallet not found");const a=o==null?void 0:o.verifiedCredentials.find(l=>l.id===r);if(!a)throw new Se("Verified credential not found");if(a.format!==Zo.Email)throw new Se("Verified credential is not an email");return yWe({environmentId:e,primaryWalletId:s,verifiedCredentialId:r})}),[e])},Xue=({validationSchemaStripUnknown:e})=>{const t=XYe(e),n=tXe(t);return{unlinkUserEmail:nXe(),updateUser:t,updateUserWithModal:n}},Que=({children:e,userProfile:t,disableSubmit:n})=>{const{policiesConsentInnerComponent:r,userWithMissingInfo:i,primaryWallet:o}=je(),{error:s}=so(),{completeAuth:a}=of({}),{updateUser:l}=Xue({validationSchemaStripUnknown:!1}),c=x.useCallback(b=>de(void 0,void 0,void 0,function*(){yield a({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return l(b)})})}),[a,l]),d=x.useMemo(()=>{var b;return((b=i==null?void 0:i.missingFields)===null||b===void 0?void 0:b.some(k=>k.name===uD))&&(o==null?void 0:o.connector.isEmbeddedWallet)},[i==null?void 0:i.missingFields,o]),{fetch:u,formikInitialValues:h,formikValidationSchema:m,enforcePolicies:v,onFormSubmit:y}=due({fields:(i==null?void 0:i.missingFields)||[],onSubmit:c,userProfile:t}),g=[r].flat();return f.jsx(R3,{onSubmit:y,initialValues:h,validationSchema:m,children:({errors:b,touched:k,values:_})=>{var R;const I=n||v&&(g==null?void 0:g.length)!==((R=_.policiesConsentArray)===null||R===void 0?void 0:R.length);return f.jsx(__,{className:"user-data-form__form",children:f.jsxs(f.Fragment,{children:[e,d&&f.jsx(gue,{showDetails:!0}),s&&f.jsx(tc,{icon:"error",variant:"error",className:"user-data-form__error",children:s}),f.jsx(pue,{fields:i==null?void 0:i.missingFields,errors:b,touched:k,policiesConsentInnerComponentArray:g}),f.jsx(xt,{type:"submit",loading:u,disabled:I,buttonVariant:"primary",expanded:!0,buttonPadding:"login-screen-height",children:"Continue"})]})})}})},rXe=()=>{var e;const{appName:t,projectSettings:n,network:r,selectedWalletConnector:i,handleLogOut:o,onboardingImageUrl:s,userWithMissingInfo:a}=je(),l=$3(),{t:c}=Xe();if(!a)return null;const u=!(!r||!i||eg({network:r,walletConnector:i}))&&!!i,h=(e=a==null?void 0:a.verifiedCredentials.find(m=>m.id===a.lastVerifiedCredentialId))===null||e===void 0?void 0:e.address;return f.jsxs("div",{className:"collect-user-data","data-testid":"collect-user-data-view",children:[f.jsxs("div",{className:"collect-user-data__network-container",children:[f.jsxs("div",{className:"collect-user-data__img-container",children:[l!=null&&l.avatar?f.jsx("img",{src:l.avatar,alt:"",className:"collect-user-data__img collect-user-data__img--rounded"}):f.jsx(oj,{iconSize:28}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"medium",className:"collect-user-data__wallet-address",children:(l==null?void 0:l.name)||Ni(h)})]}),i&&f.jsx(aj,{currentNetwork:r,connector:i,showNetworkName:!0,buttonClassName:"collect-user-data__network-picker-button",mainClassName:"collect-user-data__network-picker"})]}),s&&f.jsx("img",{className:"collect-user-data__main-img",src:s,alt:"onboarding"}),u&&f.jsx(Lr,{withIcon:!1,className:"collect-user-data__error--not-supported",copykey:"dyn_collect_user_data.not_supported_network.error_message",children:c("dyn_collect_user_data.not_supported_network.error_message")}),f.jsxs("div",{className:Ke("collect-user-data__form",{"collect-user-data__form--error":u}),children:[f.jsx("div",{className:"collect-user-data__success-icon",children:f.jsx(Nt,{color:"text-primary",size:"large",children:f.jsx(que,{})})}),f.jsx(Que,{disableSubmit:u,userProfile:a,children:u?f.jsxs("div",{className:"collect-user-data__welcome-container",children:[f.jsx(se,{variant:"title",color:"primary",className:"collect-user-data__welcome-title",copykey:"dyn_collect_user_data.not_supported_network.title",children:c("dyn_collect_user_data.not_supported_network.title")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.not_supported_network.description",children:c("dyn_collect_user_data.not_supported_network.description")})]}):f.jsxs("div",{className:"collect-user-data__welcome-container",children:[f.jsx(se,{variant:"title",color:"primary",className:"collect-user-data__welcome-title",copykey:"dyn_collect_user_data.greeting",children:(n==null?void 0:n.general.collectUserDataWelcomeHeader)||c("dyn_collect_user_data.greeting",{appName:t})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.description",children:(n==null?void 0:n.general.collectUserDataWelcomeMessage)||c("dyn_collect_user_data.description")})]})}),f.jsx(Zs,{className:"collect-user-data__log-out",onClick:o,copykey:"dyn_collect_user_data.log_out_button",children:c("dyn_collect_user_data.log_out_button")})]})]})},iXe=({userIdentification:e,userIdentificationOverride:t})=>{var n;const{appName:r,handleLogOut:i,projectSettings:o,onboardingImageUrl:s,userWithMissingInfo:a}=je(),{t:l}=Xe();return a?f.jsxs("div",{className:"collect-user-data-login-no-wallet","data-testid":"collect-user-data-login-no-wallet",children:[s&&f.jsx("img",{className:"collect-user-data-login-no-wallet__main-img",src:s,alt:"onboarding"}),f.jsxs("div",{className:"collect-user-data-login-no-wallet__user-info-container",children:[f.jsx("div",{className:"collect-user-data-login-no-wallet__icon-container",children:f.jsx(zde,{user:a})}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"medium",className:"collect-user-data-login-no-wallet__user-identification",children:(n=t??a[e])!==null&&n!==void 0?n:qde(a)})]}),f.jsxs("div",{className:"collect-user-data-login-no-wallet__form",children:[f.jsx("div",{className:"collect-user-data-login-no-wallet__success-icon",children:f.jsx(Nt,{color:"text-primary",size:"large",children:f.jsx(que,{})})}),f.jsx(Que,{userProfile:a,children:f.jsxs("div",{className:"collect-user-data-login-no-wallet__welcome-container",children:[f.jsx(se,{variant:"title",color:"primary",className:"collect-user-data-login-no-wallet__welcome-title",copykey:"dyn_collect_user_data.greeting",children:(o==null?void 0:o.general.collectUserDataWelcomeHeader)||l("dyn_collect_user_data.greeting",{appName:r})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_collect_user_data.description",children:(o==null?void 0:o.general.collectUserDataWelcomeMessage)||l("dyn_collect_user_data.description")})]})}),f.jsx(Zs,{className:"collect-user-data-login-no-wallet__log-out",onClick:i,copykey:"dyn_collect_user_data.log_out_button",children:l("dyn_collect_user_data.log_out_button")})]})]}):null},b4=64,oXe=({onReturn:e,initiatedByWidget:t})=>{const{primaryWallet:n}=je(),{t:r}=Xe();if(!n)return null;const i=f.jsx(oi,{icon:n.connector.metadata.icon,walletKey:n.connector.key,style:{height:Ut(b4*Yo),width:Ut(b4*Yo)}});return f.jsx("div",{"data-testid":"duplicate-wallet-view",children:f.jsxs("div",{className:"duplicate-wallet-view__content",children:[f.jsx(si,{Icon:i,customSpinnerColor:"red",iconSize:b4,className:"duplicate-wallet-view__icon",isSpinning:!0}),f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_duplicate_wallet.description",children:r("dyn_duplicate_wallet.description")}),f.jsx(xt,{onClick:()=>e(t),buttonClassName:"duplicate-wallet-view__button",buttonVariant:"brand-primary",buttonPadding:"large",copykey:"dyn_duplicate_wallet.return",typographyProps:{color:"white",weight:"regular"},children:r("dyn_duplicate_wallet.return")})]})})};var YJ,sXe=["title","titleId"];function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cP.apply(null,arguments)}function aXe(e,t){if(e==null)return{};var n,r,i=lXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var efe=function(t){var n=t.title,r=t.titleId,i=aXe(t,sXe);return x.createElement("svg",cP({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,YJ||(YJ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.638 2.862a.667.667 0 0 0-.943 0L7.167 8.391v.943h.942l5.53-5.53a.667.667 0 0 0 0-.942Zm-1.886-.943a2 2 0 1 1 2.829 2.829l-5.724 5.724a.667.667 0 0 1-.471.195H6.5A.667.667 0 0 1 5.833 10V8.115c0-.177.07-.347.196-.472l5.723-5.724ZM4.5 4a.667.667 0 0 0-.667.667V12c0 .368.299.667.667.667h7.333A.667.667 0 0 0 12.5 12V8.667a.667.667 0 0 1 1.333 0V12a2 2 0 0 1-2 2H4.5a2 2 0 0 1-2-2V4.667a2 2 0 0 1 2-2h3.333a.667.667 0 0 1 0 1.333H4.5Z",fill:"currentColor"})))};const cXe=()=>{const{pushView:e}=At(),{clearStatesOnBackClick:t,selectedWalletConnector:n}=je(),{t:r}=Xe();if(n&&!vm(n))throw new Error("Wallet connector is not email provider");const i=n,o=x.useCallback(()=>de(void 0,void 0,void 0,function*(){yield i==null?void 0:i.endSession(),e("login-with-email-or-wallet"),t()}),[e,i,t]);return f.jsxs("div",{className:"email-confirmation-waiting-view",children:[f.jsx("div",{className:"email-confirmation-waiting-view__header-icon",children:f.jsx(si,{Icon:m0,iconSize:80,isSpinning:!0})}),f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"email-confirmation-waiting-view__title",copykey:"dyn_email_confirmation.title",children:r("dyn_email_confirmation.title")}),f.jsx(se,{weight:"regular",variant:"body_normal",color:"secondary",copykey:"dyn_email_confirmation.description",children:r("dyn_email_confirmation.description")}),f.jsxs("div",{className:"email-confirmation-waiting-view__email-container",children:[f.jsx(se,{variant:"body_normal",color:"secondary",weight:"medium",as:"span",children:i==null?void 0:i.email}),f.jsx(Sn,{onClick:o,className:"email-confirmation-waiting-view__edit-icon-button","data-testid":"email-confirmation-waiting-view__edit-button",children:f.jsx(Nt,{color:"text-tertiary",children:f.jsx(efe,{})})})]}),f.jsx("div",{className:"email-confirmation-waiting-view__note",children:f.jsx(se,{weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_email_confirmation.note",children:r("dyn_email_confirmation.note")})}),f.jsx(Gc,{classNameRoot:"email-confirmation-waiting-view__powered_by_dynamic_footer"})]})};var XJ,QJ,eZ,dXe=["title","titleId"];function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dP.apply(null,arguments)}function uXe(e,t){if(e==null)return{};var n,r,i=fXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var kj=function(t){var n=t.title,r=t.titleId,i=uXe(t,dXe);return x.createElement("svg",dP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,XJ||(XJ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"currentColor"})),QJ||(QJ=x.createElement("path",{d:"M51 29.333a1.333 1.333 0 0 0-1.333 0l-17.334 9.8L15 29.333a1.333 1.333 0 0 0-2 1.16V42a4 4 0 0 0 4 4h30.667a4 4 0 0 0 4-4V30.5A1.333 1.333 0 0 0 51 29.333Z",fill:"#fff"})),eZ||(eZ=x.createElement("path",{d:"M47.667 18H17a4 4 0 0 0-4 4v2.5a1.334 1.334 0 0 0 .667 1.16l18 10.167a1.333 1.333 0 0 0 1.333 0L51 25.66a1.334 1.334 0 0 0 .667-1.16V22a4 4 0 0 0-4-4Z",fill:"#fff"})))};const hXe=10,tfe=e=>{const t=x.useRef(e);t.current=e,x.useEffect(()=>{const n=new Date;return()=>{new Date().getTime()-n.getTime()<hXe||t.current()}},[])},pXe=(e,t)=>!e||t.length>2?t.split(""):t===""?[]:e[0]===t[0]?[t[1]]:[t[0]],mXe=({autoFocus:e,disabled:t,inputIndex:n,inputMode:r,isValidated:i,name:o,onChange:s,pattern:a,type:l,value:c,values:d,hasError:u})=>{const h=x.useRef(null),m=y=>{const g=d[n],b=y.target.value.replace(/\s+/g,""),k=[...d],_=pXe(g,b).slice(0,k.length-n),R=(M,C)=>k[n+C]=M,I=l==="number"?/(^$)|(\d+)/:/.*/,T=_.every(M=>I.test(M));let D=h.current;if(T){_.length?_.forEach(R):k[n]="",s(k);for(let M=0;M<_.length;M++)D=D==null?void 0:D.nextElementSibling;_&&D instanceof HTMLInputElement&&D.focus()}},v=({key:y})=>{var g;if(y==="Backspace"&&d[n]===""&&n>0){const b=(g=h.current)===null||g===void 0?void 0:g.previousElementSibling;b instanceof HTMLInputElement&&b.focus()}};return x.useEffect(()=>{var y;e&&n===0&&((y=h==null?void 0:h.current)===null||y===void 0||y.focus())},[e,n]),f.jsx("input",{ref:h,className:Ke("pin-input__input",{"pin-input__input--error":!!u,"pin-input__input--success":!!i}),disabled:t,name:o,value:c,onChange:m,onKeyDown:v,"data-testid":n,pattern:a,inputMode:r,tabIndex:0})},gXe=e=>e.every(t=>t),nfe=({handleComplete:e,initialValue:t,inputMode:n,isLoading:r,isValidated:i,pattern:o,type:s="number",hasError:a,onChange:l,disabled:c})=>{const d=x.useRef(null),[u,h]=x.useState(t),m=v=>{const y=v.join("");h(v),l==null||l(y),gXe(v)&&e(y)};return x.useEffect(()=>{var v,y;a&&(h(t),(y=(v=d==null?void 0:d.current)===null||v===void 0?void 0:v.getElementsByTagName("input").item(0))===null||y===void 0||y.focus())},[a,t,d]),f.jsx("div",{className:"pin-field__container",ref:d,children:u.map((v,y)=>f.jsx(mXe,{values:u,inputIndex:y,value:v,onChange:m,disabled:r||c,inputMode:n,isValidated:i,pattern:o,type:s,autoFocus:!0,hasError:a},`pin_input_${y}`))})};var tZ,yXe=["title","titleId"];function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uP.apply(null,arguments)}function vXe(e,t){if(e==null)return{};var n,r,i=wXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var bXe=function(t){var n=t.title,r=t.titleId,i=vXe(t,yXe);return x.createElement("svg",uP({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,tZ||(tZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.666a5.333 5.333 0 1 0 0 10.667A5.333 5.333 0 0 0 8 2.666ZM1.333 8a6.667 6.667 0 1 1 13.333 0A6.667 6.667 0 0 1 1.333 8Zm9.138-1.805c.26.26.26.682 0 .943L7.804 9.804a.667.667 0 0 1-.942 0L5.528 8.471a.667.667 0 1 1 .943-.943l.862.862 2.195-2.195c.26-.26.683-.26.943 0Z",fill:"currentColor"})))};const _Xe=({callback:e,seconds:t})=>{const[n,r]=x.useState(t),i=x.useRef(),o=()=>{if(i.current)return r(t);a()},s=()=>{clearTimeout(i.current),i.current=void 0},a=()=>{i.current=setTimeout(()=>{r(l=>l-1)},1e3)};return x.useEffect(()=>{if(i.current){if(n<=0){e&&e();return}return a(),()=>clearTimeout(i.current)}},[n,e]),{remainingSeconds:n,startCountdown:o,stopCountdown:s}},rfe=({retryHandler:e,secondsToRetry:t=15,disabled:n=!1,className:r})=>{const{t:i}=Xe(),[o,s]=x.useState(!1),{remainingSeconds:a,startCountdown:l}=_Xe({callback:()=>s(!1),seconds:t}),{isLoading:c,mutate:d}=Xo(e,{onSuccess:()=>{s(!0),l()}}),u=Ke("retry-send-verification-code-section",r);return o?f.jsxs("div",{className:u,children:[f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_otp_verification.resend_code_in",children:i("dyn_otp_verification.resend_code_in",{remainingSeconds:a})}),f.jsxs("span",{className:"retry-send-verification-code-section__confirmation",children:[f.jsx(Nt,{color:"success-1",children:f.jsx(bXe,{})}),f.jsx(se,{variant:"body_small",weight:"medium",color:"primary",copykey:"dyn_otp_verification.code_sent",children:i("dyn_otp_verification.code_sent")})]})]}):f.jsxs("div",{className:u,children:[f.jsx(se,{variant:"body_small",weight:"medium",color:"secondary",copykey:"dyn_otp_verification.code_not_received",className:"retry-send-verification-code-section__not-received",children:i("dyn_otp_verification.code_not_received")}),f.jsx(Zs,{className:"email-verification__text-button",disabled:c||n,onClick:()=>d(),copykey:"dyn_otp_verification.resend_code",children:i("dyn_otp_verification.resend_code")})]})},xXe=15,nZ=({isEmailRecoveryFlow:e=!1,showRetryButton:t=!0,showTransferMessage:n=!1})=>{var r,i,o,s;const{environmentId:a,handleLogOut:l,setShowAuthFlow:c,projectSettings:d,user:u,userWithMissingInfo:h,walletConnectorOptions:m,primaryWallet:v}=je(),{pushView:y,clearStackAndPushInitialView:g}=At(),{error:b,setError:k,setErrorMessage:_}=so(),{loading:R,setLoading:I}=hv(),[T,D]=x.useState(t),[M,C]=x.useState(n),{getEOAWallet:U}=xs(),[$,z]=x.useState(!1),q=x.useRef($),S=lt=>{z(lt),q.current=lt},{displayedDestination:A,verificationUUID:O,setVerificationUUID:N}=Kc(),{t:j}=Xe(),{addRecoveryEmail:V}=Xh(),{isTurnkeyWallet:K,hasTurnkeyVerifiedCredentialAuthenticator:W,hasRecoveryEmail:P}=da(),F=$h(d),{initAuth:G,completeAuth:Y,cancelAuth:ie}=of({authMethod:"email"}),{verifyOneTimePassword:ye,retryOneTimePassword:ge}=$ue(),{generateSessionKey:be,shouldRegisterSessionKeysOnSignin:Le}=Km({environmentId:a,projectSettings:d}),qe=x.useRef(!0);tfe(()=>{if(!qe.current)return;const lt=A??"";rt.emit("emailVerificationResult",q.current,lt),q.current||rt.emit("authFailure",{email:lt,option:lt,type:"email"},"user-cancelled"),A||Ie.warn("WARNING: emitted emailVerificationResult with incomplete params because useVerification's displayedDestination was undefined")});const{verifyOtp:Me}=Zue(),gt=x.useCallback(lt=>de(void 0,void 0,void 0,function*(){var jt,rn,Re,Ze,ct,st,vt,$t;if(lt.nextView==="verified-and-transferred"&&(C==null||C(!0)),e)return y("passkey-recovery-add-email",{canSkipAddingEmail:!1,isFromEmailVerification:!0}),!0;if(!K)return!1;if(W&&!P&&(!((jt=lt==null?void 0:lt.user)===null||jt===void 0)&&jt.email))return Ii(lt),yield V(lt.user.email),c(!1),!0;if(F){const zt=(Re=(rn=d==null?void 0:d.sdk)===null||rn===void 0?void 0:rn.embeddedWallets)===null||Re===void 0?void 0:Re.automaticEmbeddedWalletCreation,ce=v&&U(v),X=v&&Bh(v)||ce&&Bh(ce),we=!!(!(((ct=(Ze=d==null?void 0:d.sdk)===null||Ze===void 0?void 0:Ze.embeddedWallets)===null||ct===void 0?void 0:ct.defaultWalletVersion)===Lc.V3)&&zt&&(!(!((vt=(st=d==null?void 0:d.sdk)===null||st===void 0?void 0:st.embeddedWallets)===null||vt===void 0)&&vt.forceAuthenticatorAtSignup)||X));if(we){const Ae=w0(d),Pe=Lh(Vm(lt.user),[Ae]);if(!Pe)throw new Error("Could not find an embedded wallet");const Fe=m==null?void 0:m.find(on=>on.key===Pe.walletName);if(!(Fe!=null&&Fe.walletConnector))throw new Error("Could not find connector for embedded wallet");const en=Fe.walletConnector.createWallet({address:Pe.address||"",chain:Fe.walletConnector.connectedChain,connector:Fe.walletConnector,id:Pe.id,isAuthenticated:!1,key:($t=Pe.walletName)!==null&&$t!==void 0?$t:""});To(Pe.id),rt.emit("embeddedWalletCreated",en,Pe,u)}if(we||!zt)return c(!1),!0}return!1}),[e,K,W,P,F,y,V,c,(i=(r=d==null?void 0:d.sdk)===null||r===void 0?void 0:r.embeddedWallets)===null||i===void 0?void 0:i.automaticEmbeddedWalletCreation,(s=(o=d==null?void 0:d.sdk)===null||o===void 0?void 0:o.embeddedWallets)===null||s===void 0?void 0:s.forceAuthenticatorAtSignup,v,U,m,u]),tt=x.useCallback(lt=>de(void 0,void 0,void 0,function*(){return k(void 0),I(!0),!u&&!h?G({onVerifySuccess:()=>S(!0),options:{email:A},showSuccessMessage:!1,verifyFunction:()=>de(void 0,void 0,void 0,function*(){if(!O)return ye(lt,{skipSetUserAndAuthToken:!0});let jt;return Le()&&(jt=(yield be()).publicKey),yield Fc(),Vue({environmentId:a,sessionPublicKey:jt,verificationToken:lt,verificationUUID:O})})}):O?Y({completeSignInFlow:jt=>de(void 0,void 0,void 0,function*(){return gt(jt)}),onValidUpdatedJwt:()=>{S(!0)},options:{email:A,isEmailRecoveryFlow:e},updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return Me(lt,"email",O)})}):ie()}),[k,I,O,u,h,Y,A,e,ie,G,a,gt,Me,ye,be,Le]),dt=()=>de(void 0,void 0,void 0,function*(){try{if(I(!0),!O||!A){yield ge(),N(void 0),k(void 0);return}const{verificationUUID:lt}=yield Kue({email:A,environmentId:a,verificationUUID:O});N(lt),k(void 0)}catch(lt){Ie.debug(lt),_(lt.code),lt.code==="too_many_email_verification_attempts"&&D(!1),lt.code==="invalid_email_verification"&&g()}finally{I(!1)}}),Xt=x.useMemo(()=>jt=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(kj,Object.assign({},jt))}),[]);return f.jsxs(f.Fragment,{children:[b&&f.jsx(Lr,{withIcon:!1,className:"email-verification__error-message",children:b}),f.jsxs("div",{className:Ke("email-verification__container",{"email-verification__container--error":!!b}),children:[M&&f.jsx("div",{className:"email-verification__transfer-message",copykey:"dyn_otp_verification.email.complete",children:j("dyn_otp_verification.email.complete")}),$?f.jsx("div",{className:"email-verification__icon-container",children:f.jsx(dv,{containerClassName:"email-verification__icon--verified",Icon:Xt,iconSize:64,InnerIcon:cc})}):f.jsx(si,{Icon:Xt,iconSize:96,isSpinning:!0,className:"email-verification__icon-with-spinner"}),f.jsxs("div",{className:"email-verification__copy-text-container",children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:j("dyn_otp_verification.description")}),f.jsx(se,{variant:"body_normal",weight:"bold",color:"secondary",children:m1(A)})]}),f.jsx(nfe,{initialValue:Array(6).fill(""),isLoading:R,handleComplete:tt,isValidated:$,inputMode:"numeric",pattern:"[0-9]*",hasError:!!b,onChange:()=>k(void 0)}),T&&f.jsx(rfe,{className:"email-verification__retry-container",retryHandler:dt,secondsToRetry:xXe}),(u||h)&&!e&&f.jsx(Zs,{className:"email-verification__log-out",onClick:l,copykey:"dyn_otp_verification.log_out_button",children:j("dyn_otp_verification.log_out_button")})]})]})},kXe={error:"error-1",notice:"brand-primary",success:"green-1"},jS=({messageKey:e,type:t="error",disableTruncate:n=!1,className:r})=>{const{t:i}=Xe();return f.jsx(Ku,{animationComponent:f.jsx(ng,{style:{width:"100%"}}),children:!!e&&f.jsx("div",{className:Ke("modal-header-banner",r,{"modal-header-banner__error":t==="error","modal-header-banner__notice":t==="notice","modal-header-banner__success":t==="success"}),children:f.jsx(se,{variant:"body_small",color:kXe[t],truncate:n===!1,copykey:e,children:i(e||"")})})})},Sj=({onClickBack:e,onClickEditDestination:t,isLoading:n,disabled:r,displayedDestination:i,description:o,onPinComplete:s,isValid:a,error:l,retryHandler:c,onPinChange:d,successBannerTextKey:u,MainIcon:h,hideHeader:m,appendAboveOTPInput:v,appendToEnd:y})=>{const{t:g}=Xe(),b=e&&f.jsx(Sn,{type:"button",onClick:e,"data-testid":"back-button",children:f.jsx(Yh,{})}),k=x.useMemo(()=>a?"dyn_otp_verification.verification_succeeded":"dyn_otp_verification.confirm_code",[a]);return f.jsxs(f.Fragment,{children:[!m&&f.jsx(Zn,{alignContent:"bottom",leading:e&&b,children:f.jsx("div",{className:"otp-verification-view__status-header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"otp-verification-view__title",copykey:k,children:g(k)})})}),u&&f.jsx(jS,{type:"notice",messageKey:u,disableTruncate:!0}),f.jsx(jS,{type:"error",messageKey:l==null?void 0:l.message}),f.jsxs("div",{className:Ke("otp-verification-view",{"otp-verification-view--message":!!(u||l)}),children:[a&&f.jsx(dv,{Icon:h,iconSize:64,InnerIcon:cc}),!a&&f.jsx(si,{Icon:h,iconSize:96,isSpinning:n,className:"otp-verification-view__icon-with-spinner",treatAsFunctionComponent:!0}),f.jsxs("div",{className:"otp-verification-view__body",children:[a&&f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.hang_tight",children:g("dyn_otp_verification.hang_tight")}),!a&&(o?f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:o}):f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_otp_verification.description",children:g("dyn_otp_verification.description")}),f.jsxs("div",{className:"otp-verification-view__destination-container",children:[i&&f.jsx(se,{variant:"body_normal",weight:"bold",color:"secondary",children:i}),t&&f.jsx(Sn,{onClick:t,"data-testid":"otp-verification-view__edit-button",children:f.jsx(Nt,{color:"text-tertiary",children:f.jsx(efe,{})})})]})]}))]}),v,f.jsx(nfe,{initialValue:Array(6).join(".").split("."),isLoading:n,handleComplete:s,isValidated:a,inputMode:"numeric",pattern:"[0-9]*",hasError:!!l,onChange:d,disabled:r}),c&&f.jsx(rfe,{className:"otp-verification-view__retry-container",retryHandler:c}),y]})]})},SXe=e=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(kj,Object.assign({},e,{"data-testid":"sign-in-with-email-icon"}))}),IXe=()=>{const{pushView:e}=At(),[t,n]=x.useState(),{selectedWalletConnector:r,clearStatesOnBackClick:i}=je();if(!r||!bM(r))throw new Error("Current wallet is not EmailWalletConnector");const{email:o}=r;if(!o)throw new Error("EmailWalletOtpVerificationView requires a email");const s=()=>{r.clearEmail(),i(),e("login-with-email-or-wallet"),rt.emit("authFailure",{email:o,option:o,type:"email"},"user-cancelled")},{data:a,isLoading:l,mutate:c}=Xo(d=>r.verifyOneTimePassword(d),{onFailure:d=>{n(d),rt.emit("emailVerificationResult",!1,o)},onSuccess:()=>{rt.emit("emailVerificationResult",!0,o)}});return f.jsx(Sj,{MainIcon:SXe,displayedDestination:m1(o),error:t,onClickBack:s,isLoading:l,onPinComplete:c,isValid:a===!0,retryHandler:r.retryOneTimePassword.bind(r),onPinChange:()=>n(void 0),onClickEditDestination:s,successBannerTextKey:"dyn_magic_verification.banner_text"})};var rZ,iZ,EXe=["title","titleId"];function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fP.apply(null,arguments)}function CXe(e,t){if(e==null)return{};var n,r,i=AXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var RXe=function(t){var n=t.title,r=t.titleId,i=CXe(t,EXe);return x.createElement("svg",fP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,rZ||(rZ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"#FF4646"})),iZ||(iZ=x.createElement("path",{d:"M35.4 19.2a3.2 3.2 0 0 0-6.4 0V32a3.2 3.2 0 0 0 6.4 0V19.2ZM32.2 41.6a3.2 3.2 0 0 0 0 6.4h.032a3.2 3.2 0 0 0 0-6.4H32.2Z",fill:"#F9F9FB"})))};const hP=(e=!1)=>({0:"Operation was canceled.",16:e?"Error processing your request. Please try again.":"Invalid Passkey signature. Select the passkey for this account and device.",3:"You reached the limit of passkeys for this account.",5:e?"Error processing your request. Please try again.":"Invalid Passkey signature. Select the passkey for this account and device.",7:"The code is invalid or expired."}),kk={RequestFailed:"Request failed. Please try again.",UserCancelled:hP(!1)[0]},TXe={NotAllowedError:"Request Cancelled. Select a device or password manager to set up a passkey."},ip=(e,t)=>{var n,r;const i=((n=t==null?void 0:t.verifiedCredentials)===null||n===void 0?void 0:n.some(o=>{var s;return((s=o.walletProperties)===null||s===void 0?void 0:s.version)===Lc.V2}))||!1;if(typeof e=="string")return e;if("reason"in e)return e.reason;if(e instanceof DOMException)return TXe[e.name]||"Something went wrong";if("cause"in e){if(((r=e==null?void 0:e.cause)===null||r===void 0?void 0:r.code)!==void 0){if(e.cause.code===UK)throw new rS;return hP(i)[e.cause.code]}if(e.cause&&"error"in e.cause&&typeof e.cause.error=="string"&&kk[e.cause.error])return kk[e.cause.error]}if("code"in e&&e.code){if(e.code===UK)throw new rS;return hP(i)[e.code]}return"error"in e&&typeof e.error=="string"&&kk[e.error]?kk[e.error]:"Something went wrong"},OXe=()=>{const{primaryWallet:e,setShowAuthFlow:t,environmentId:n,handleLogOut:r,user:i}=je(),[o,s]=x.useState(!1),[a,l]=x.useState(void 0),{t:c}=Xe(),[d,u]=x.useState(!1),{isSmartWallet:h,getEOAWallet:m}=xs(),v=x.useMemo(()=>{if(a){if(a instanceof Se)return a.message;try{return ip(a,i)}catch{return"An unexpected error occured while deleting your embedded wallets."}}},[a,i]),y=()=>de(void 0,void 0,void 0,function*(){var b;if(e){u(!0);try{const k=v3(e.id,(i==null?void 0:i.verifiedCredentials)||[]),_=yield RDe({environmentId:n,walletId:k}),I=yield(h(e)?(b=m(e))===null||b===void 0?void 0:b.connector:e==null?void 0:e.connector).stampDeleteSubOrganizationRequest({request:_});yield TDe({deleteEmbeddedWalletsRequest:I,environmentId:n}),r()}catch(k){l(k)}finally{u(!1)}}}),g=f.jsx("div",{children:f.jsx("div",{className:"embedded-delete-view__body__description",children:f.jsx("div",{className:"embedded-delete-view__header",children:f.jsx(RXe,{})})})});return f.jsxs("div",{className:"embedded-delete-view",children:[f.jsx("div",{className:"embedded-delete-view__body",children:g}),v&&f.jsx(Lr,{children:v}),f.jsxs("div",{className:"embedded-delete-view__body__card",children:[f.jsx(se,{variant:"body_normal",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_delete.description_1",children:c("dyn_embedded_delete.description_1")}),f.jsx(se,{variant:"body_normal",color:"primary",style:{fontWeight:"bold",letterSpacing:"-0.15px"},copykey:"dyn_embedded_delete.description_2",children:c("dyn_embedded_delete.description_2")})]}),f.jsx("div",{className:"embedded-delete-view__body__confirm_card",children:f.jsxs("button",{className:"embedded-delete-view__body__card__acknowledgement","data-testid":"embedded-delete-checkbox",onClick:()=>s(!o),children:[f.jsx("div",{children:f.jsx(Vd,{checked:o,className:"embedded-delete-view__body__card__statement__checkbox",id:"embedded-reveal-checkbox-1"})}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_delete.acknowledgement",children:c("dyn_embedded_delete.acknowledgement")})})]})}),f.jsxs("div",{className:"embedded-delete-view__body__cta_button_wrapper",children:[f.jsx(xt,{buttonPadding:"large",buttonVariant:"primary",typographyProps:{color:"inherit"},onClick:()=>t(!1),disabled:!1,loading:!1,dataTestId:"embedded-delete-cancel-button",copykey:"dyn_embedded_delete.cancel_button",buttonClassName:"embedded-delete-view__body__button",children:c("dyn_embedded_delete.cancel_button")}),f.jsx(xt,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit",style:{fontSize:"13px"}},onClick:y,disabled:d||!o,loading:d,dataTestId:"embedded-delete-action-button",copykey:"dyn_embedded_delete.action_button",buttonClassName:"embedded-delete-view__body__button",children:c("dyn_embedded_delete.action_button")})]})]})},NXe="dyn-turnkey-export-container-id",PXe="dyn-turnkey-export-element-id",ife=({wallet:e,isTurnkeyWallet:t,isWaasWallet:n,data:r,onIframeContainerRef:i,onExportReady:o,isVisible:s=!0})=>{const a=x.useRef(null),l=h=>{a.current=h,h&&i&&i(h)};vr(()=>de(void 0,void 0,void 0,function*(){var h,m,v;const y=a.current;if(!(!y||((h=y==null?void 0:y.children)===null||h===void 0?void 0:h.length)>0)&&(Pa(e==null?void 0:e.connector)&&(yield(m=e==null?void 0:e.connector)===null||m===void 0?void 0:m.createOrRestoreSession()),Poe(e==null?void 0:e.connector)&&(yield(v=e==null?void 0:e.connector)===null||v===void 0?void 0:v.getTurnkeyClient()),t)){yield bde({iframeContainer:y,iframeElementId:PXe,wallet:e}),o==null||o(!0,e);return}}),{deps:[e.address]});const c=()=>{const h="embedded-wallet-export__credential-container";return!r&&!s?`${h} ${h}--hidden`:n?`${h} ${h}--waas`:h},d=()=>{const h="embedded-wallet-export__iframe-container";return r?h:`${h} ${h}--hidden`},u=()=>{const m=[];for(let v=0;v<3;v++){const g=v===2?"embedded-wallet-export__skeleton-line embedded-wallet-export__skeleton-line--short":"embedded-wallet-export__skeleton-line";m.push(f.jsx("div",{className:g,"data-testid":v===0?"private-key-skeleton":void 0},v))}return m};return!t&&!n?null:f.jsxs("div",{className:c(),children:[f.jsx("div",{id:NXe,className:d(),ref:l}),!r&&a.current&&f.jsx("div",{className:"embedded-wallet-export__skeleton-container",children:u()})]})};var oZ,sZ,BXe=["title","titleId"];function pP(){return pP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pP.apply(null,arguments)}function MXe(e,t){if(e==null)return{};var n,r,i=DXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ofe=function(t){var n=t.title,r=t.titleId,i=MXe(t,BXe);return x.createElement("svg",pP({width:329,height:88,viewBox:"0 0 329 88",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,oZ||(oZ=x.createElement("g",{clipPath:"url(#export-embedded-hero_svg__a)"},x.createElement("circle",{cx:164.5,cy:114,r:114,fill:"url(#export-embedded-hero_svg__b)",fillOpacity:.12}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M195 23a4 4 0 0 1 4-4h40a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4h-40a4 4 0 0 1-4-4v-8Zm13.585 4c0 1.473-1.217 2.667-2.717 2.667-1.501 0-2.717-1.194-2.717-2.667 0-1.473 1.216-2.667 2.717-2.667 1.5 0 2.717 1.194 2.717 2.667Zm6.34 2.667c1.5 0 2.717-1.194 2.717-2.667 0-1.473-1.217-2.667-2.717-2.667-1.501 0-2.717 1.194-2.717 2.667 0 1.473 1.216 2.667 2.717 2.667ZM226.698 27c0 1.473-1.216 2.667-2.717 2.667-1.5 0-2.717-1.194-2.717-2.667 0-1.473 1.217-2.667 2.717-2.667 1.501 0 2.717 1.194 2.717 2.667Zm8.057 0c0 .903-.751 1.667-1.717 1.667-.966 0-1.717-.764-1.717-1.667s.751-1.667 1.717-1.667c.966 0 1.717.764 1.717 1.667Zm1 0c0 1.473-1.217 2.667-2.717 2.667-1.501 0-2.717-1.194-2.717-2.667 0-1.473 1.216-2.667 2.717-2.667 1.5 0 2.717 1.194 2.717 2.667ZM110.237 57.018c8.535-2.287 13.601-11.06 11.314-19.596-2.287-8.535-11.061-13.6-19.596-11.313-8.536 2.287-13.601 11.06-11.314 19.596 2.287 8.535 11.061 13.6 19.596 11.313Zm-8.712-17.797-.522-1.949a4.037 4.037 0 0 1 7.798-2.09l.522 1.95a6.727 6.727 0 1 1-7.798 2.09Zm4.573-2.535-.195-.727a1.036 1.036 0 1 0-2.002.537l.194.726a6.81 6.81 0 0 1 2.003-.536Zm1.567 6.87a1.749 1.749 0 0 0-1.586-3.023 1.75 1.75 0 0 0 .137 3.412l.368 1.37a.75.75 0 1 0 1.448-.388l-.367-1.37Z",fill:"#4779FF"}),x.createElement("path",{d:"M171.501 40.667a4.666 4.666 0 0 1 4.667 4.666h-28a9.306 9.306 0 0 0-6.85 2.995c.788-4.357 4.6-7.661 9.183-7.661h21ZM187.834 59.333A9.334 9.334 0 0 0 178.5 50h-28a9.333 9.333 0 0 0-9.333 9.333V78a9.333 9.333 0 0 0 9.333 9.333h28A9.334 9.334 0 0 0 187.834 78V59.333Z",fill:"#4779FF"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M174.25 65.25a6 6 0 1 0-12 0 6 6 0 0 0 12 0Zm-3 0a3 3 0 1 0-6 0 3 3 0 0 0 6 0Zm-9.37 3.892a7.497 7.497 0 0 0 2.005 2.237l-2.831 2.83 2.103 2.103-2.121 2.122-2.103-2.103-2.062 2.062-2.121-2.121 7.13-7.13Z",fill:"#fff"}))),sZ||(sZ=x.createElement("defs",null,x.createElement("linearGradient",{id:"export-embedded-hero_svg__b",x1:164.5,y1:0,x2:164.5,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})),x.createElement("clipPath",{id:"export-embedded-hero_svg__a"},x.createElement("rect",{x:.5,width:328,height:88,rx:12,fill:"#fff"})))))},aZ,jXe=["title","titleId"];function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mP.apply(null,arguments)}function $Xe(e,t){if(e==null)return{};var n,r,i=LXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var UXe=function(t){var n=t.title,r=t.titleId,i=$Xe(t,jXe);return x.createElement("svg",mP({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,aZ||(aZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.793 2.293a1 1 0 0 1 1.414 0l3.04 3.04A10.955 10.955 0 0 1 12.5 4c4.927 0 9.095 3.238 10.497 7.7a1 1 0 0 1 0 .6 11.014 11.014 0 0 1-3.552 5.231l2.762 2.762a1 1 0 0 1-1.414 1.414l-18-18a1 1 0 0 1 0-1.414Zm5.943 4.53 1.732 1.731a4 4 0 0 1 5.478 5.478l2.076 2.076A9.022 9.022 0 0 0 20.989 12 9.004 9.004 0 0 0 8.736 6.822Zm5.696 5.695a2 2 0 0 0-2.45-2.45l2.45 2.45ZM5.125 8.174a1 1 0 0 1 .194 1.4A8.975 8.975 0 0 0 4.012 12a9.004 9.004 0 0 0 10.177 5.842 1 1 0 0 1 .372 1.965c-.668.127-1.357.193-2.06.193-4.927 0-9.095-3.238-10.497-7.7a1 1 0 0 1 0-.6 10.97 10.97 0 0 1 1.72-3.332 1 1 0 0 1 1.4-.194Z",fill:"#ABACB2"})))},lZ,FXe=["title","titleId"];function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gP.apply(null,arguments)}function WXe(e,t){if(e==null)return{};var n,r,i=qXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var zXe=function(t){var n=t.title,r=t.titleId,i=WXe(t,FXe);return x.createElement("svg",gP({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,lZ||(lZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2.333a6.667 6.667 0 1 0 0 13.334A6.667 6.667 0 0 0 9 2.333ZM.667 9a8.333 8.333 0 1 1 16.666 0A8.333 8.333 0 0 1 .667 9Zm7.5-3.333c0-.46.373-.834.833-.834h.008a.833.833 0 0 1 0 1.667H9a.833.833 0 0 1-.833-.833ZM7.333 9c0-.46.373-.833.834-.833H9c.46 0 .833.373.833.833v2.5a.833.833 0 1 1 0 1.667H9a.833.833 0 0 1-.833-.834v-2.5A.833.833 0 0 1 7.333 9Z",fill:"#383C48"})))};const VXe=({user:e,wallet:t})=>{var n,r,i;if(!e)throw new Se(Kr);if(!(t!=null&&t.connector)||!(t!=null&&t.id))throw Ie.error("Cannot initialize embedded wallet export",{connector:(n=t==null?void 0:t.connector)===null||n===void 0?void 0:n.name,version:"v3",wallet:!!t,walletId:t==null?void 0:t.id}),new $d;const o=t.connector;let s=(i=(r=e.verifiedCredentials)===null||r===void 0?void 0:r.find(({walletName:a})=>a==null?void 0:a.startsWith("dynamicwaas")))===null||i===void 0?void 0:i.walletProperties;if(s&&(s=Object.assign(Object.assign({},s),{accountAddress:t.address})),!s)throw new Se("Invalid token!");return{connector:o,walletProperties:s}},KXe=e=>de(void 0,[e],void 0,function*({user:t,wallet:n,address:r,iframeContainer:i}){const{connector:o,walletProperties:s}=VXe({user:t,wallet:n});return yield o.exportPrivateKey({accountAddress:r||s.accountAddress,displayContainer:i}),!0}),HXe=e=>de(void 0,[e],void 0,function*({wallet:t}){var n;const r=t==null?void 0:t.connector;try{(n=r==null?void 0:r.getExportHandler())===null||n===void 0||n.clear()}catch(i){Ie.error("Error cleaning up export:",i)}}),sfe=e=>de(void 0,[e],void 0,function*({isTurnkeyWallet:t,isWaasWallet:n,wallet:r,user:i,environmentId:o,exportPrivateKey:s,iframeContainerRef:a,handleAcknowledgeExportPrompt:l}){var c,d,u;if(l(),t)try{return yield BS({address:s?r==null?void 0:r.address:void 0,environmentId:o,user:i,wallet:r})}catch(h){return Pa(r==null?void 0:r.connector)&&(!((c=r==null?void 0:r.connector)===null||c===void 0)&&c.removeSessionKeys)&&(yield(d=r==null?void 0:r.connector)===null||d===void 0?void 0:d.removeSessionKeys(),yield(u=r==null?void 0:r.connector)===null||u===void 0?void 0:u.createOrRestoreSession({ignoreRestore:!0}),Ie.error("[TK - removeSessionKeys] failed to perform revealEmbeddedWalletKey activity",{address:r==null?void 0:r.address,err:h,userId:i==null?void 0:i.userId})),BS({address:s?r==null?void 0:r.address:void 0,environmentId:o,user:i,wallet:r})}if(n)return KXe({address:s?r==null?void 0:r.address:void 0,iframeContainer:a,user:i,wallet:r})}),afe=()=>{const{primaryWallet:e,projectSettings:t,user:n,setShowAuthFlow:r}=je(),{userHasEmbeddedWallet:i}=M3(),{pushView:o}=At(),{isTurnkeyWallet:s}=da(),a=({user:c,recoveryPhrase:d})=>{var u,h;if(!$h(t))throw new Error("Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic Embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.");if(!i())throw new Error("Dynamic embedded wallet not found");const m=(h=(u=c.verifiedCredentials)===null||u===void 0?void 0:u.find(({walletName:y})=>y==null?void 0:y.startsWith("turnkey")))===null||h===void 0?void 0:h.walletProperties,v=m==null?void 0:m.turnkeyHDWalletId;if(d&&!v)throw new Error("Wallet is non-HD and does not have a recovery phrase")};return{initExportProcess:x.useCallback((...c)=>de(void 0,[...c],void 0,function*(d=!1,u=!1){if(!e)throw new Error("No primary wallet");if(!n)throw new Error(Kr);if(s&&a({recoveryPhrase:d,user:n}),!i())throw new Error("Dynamic embedded wallet not found");return r(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),o("embedded-reveal-view",{exportPrivateKey:!d,isPromptForExport:u}),new Promise((h,m)=>{rt.once("embeddedWalletRevealCompleted",v=>h(v)),rt.once("embeddedWalletRevealFailed",v=>m(v))})}),[e,s,r,o,n])}};let Gg=!1;const lfe=()=>{const{projectSettings:e,user:t,primaryWalletId:n,walletConnectorOptions:r,primaryWallet:i,setShowAuthFlow:o}=je(),{isLoadingEmbeddedWallet:s}=w3(),{loading:a}=hv(),{initExportProcess:l}=afe(),[c,d]=nv(`dynamic_export_prompt-${t==null?void 0:t.userId}`,!1,g=>!!g),{createEmbeddedWallet:u,shouldAutoCreateEmbeddedWallet:h,shouldPromptForKeyExport:m}=M3(),v=x.useRef(!1),y=x.useCallback((g=!0)=>{Gg=g,d(g)},[d]);return Un("logout",()=>{v.current=!1,Gg=!1}),x.useEffect(()=>{const g=t&&Js().user,b=()=>de(void 0,void 0,void 0,function*(){const D=g==null?void 0:g.newUser;if(_){v.current=!0;try{yield u()}catch(M){M instanceof Fie?Ie.debug("[useSyncEmbeddedWalletFlow][EmbeddedWalletException] Error creating embedded wallet",M):Ie.error("[useSyncEmbeddedWalletFlow] Error creating embedded wallet",M),o(!1)}}if(I&&D&&Lh(g)&&i)try{o(!0),yield l(!0,!0)}catch(M){Ie.error("Error initializing embedded wallet export",M),o(!1)}}),_=h()&&!v.current;c&&!Gg&&(Gg=!0);const I=m()&&!Gg;!(_||I)||!g||!e||!r.length||s||a||b()},[t,e,n,u,s,r,a,h,o,l,i,m,d,y,c]),{acknowledgedExportPrompt:Gg,handleAcknowledgeExportPrompt:y}},cZ=({exportPrivateKey:e,isPromptForExport:t=!1})=>{var n,r,i;const{primaryWallet:o,user:s,setShowAuthFlow:a,environmentId:l}=je(),{handleAcknowledgeExportPrompt:c}=lfe(),{isTurnkeyWallet:d}=da(),u=!!(s!=null&&s.verifiedCredentials.find(Y=>{var ie;return(ie=Y.walletName)===null||ie===void 0?void 0:ie.startsWith("dynamicwaas")})),{setDynamicWidgetView:h}=Jc(),{pushView:m}=At(),{getEOAWallet:v,isSmartWallet:y}=xs(),[g,b]=x.useState(!1),[k,_]=x.useState(null);if(!o)throw new Se("No primary wallet found",Oy);let R;try{R=v3(o.id,(s==null?void 0:s.verifiedCredentials)||[])}catch{}const I=(n=s==null?void 0:s.verifiedCredentials)===null||n===void 0?void 0:n.find(({walletName:Y,id:ie})=>(Y==null?void 0:Y.startsWith("turnkey"))&&ie===R),T=I==null?void 0:I.walletProperties,D=(r=s==null?void 0:s.verifiedCredentials)===null||r===void 0?void 0:r.find(Y=>Y.address===o.address),M=T==null?void 0:T.turnkeyHDWalletId,C=(i=o&&v(o))!==null&&i!==void 0?i:o;x.useEffect(()=>()=>{d&&_de({wallet:C}),u&&HXe({wallet:C})},[]);const{mutate:U,isLoading:$,error:z,data:q}=Xo(()=>sfe({environmentId:l,exportPrivateKey:e,handleAcknowledgeExportPrompt:c,iframeContainerRef:k,isTurnkeyWallet:d,isWaasWallet:u,user:s,wallet:C}),{onFailure:Y=>{Ie.error("Failed to export",Y),rt.emit("embeddedWalletRevealFailed",Y)}}),S=x.useMemo(()=>{if(z){if(z instanceof Se)return z.message;try{return ip(z,s)}catch(Y){Y instanceof rS&&m("access-blocked");return}}},[z,m,s]),{t:A}=Xe(),O=!$&&q&&!z,N=x.useRef(null);x.useEffect(()=>{O&&C&&(N.current=C)},[O,C]),x.useEffect(()=>()=>{N.current&&rt.emit("embeddedWalletRevealCompleted",N.current)},[]);const j=A(!M||e?"dyn_embedded_reveal.private_key_title":"dyn_embedded_reveal.recovery_phrase_title"),K=O?j:A(t?"dyn_embedded_reveal.prompt_for_export_title":"dyn_embedded_reveal.agreement_title"),W=()=>{m("embedded-delete-view")},P=f.jsx(Sn,{onClick:()=>{a(!1)},type:"button",children:f.jsx(Oi,{})}),F=()=>{const Y="embedded-reveal-view__body";return u&&O&&K===j?`${Y} ${Y}--waas-credentials`:Y},G=f.jsxs("div",{children:[o&&y(o)&&!$&&q&&!z&&f.jsxs("div",{className:"embedded-reveal-view__zerodev-warning",children:[f.jsxs("div",{className:"embedded-reveal-view__zerodev-warning__title-row",children:[f.jsx(zXe,{className:"embedded-reveal-view__zerodev-warning__icon"}),f.jsx(se,{variant:"body_normal",weight:"bold",copykey:"dyn_embedded_reveal.aa_warning.title",children:A("dyn_embedded_reveal.aa_warning.title")})]}),f.jsxs(se,{variant:"body_normal",weight:"regular",copykey:"dyn_embedded_reveal.aa_warning.subtitle",children:[A("dyn_embedded_reveal.aa_warning.subtitle"),f.jsx("button",{onClick:()=>{a(!1),h("send-balance")},className:"embedded-reveal-view__zerodev-warning__link-button",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"primary",className:"underline",copykey:"dyn_embedded_reveal.aa_warning.button",children:A("dyn_embedded_reveal.aa_warning.button")})})]})]}),f.jsx("div",{className:"embedded-reveal-view__body__description",children:!O&&f.jsx("div",{className:"embedded-reveal-view__header",children:f.jsx("div",{className:"embedded-reveal-view__header__hero",children:f.jsx(ofe,{})})})})]});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:t?null:P,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:K})}),f.jsx("div",{className:"embedded-reveal-view",children:f.jsxs("div",{className:F(),children:[(!u||!O||K!==j)&&G,(d||u)&&f.jsx(ife,{wallet:C,isTurnkeyWallet:d,isWaasWallet:u,data:q,onIframeContainerRef:_,isVisible:!K.includes("Agree")}),O?f.jsxs(f.Fragment,{children:[f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",onClick:()=>{a(!1)},loading:$,copykey:"dyn_embedded_reveal.done_button_label",typographyProps:{color:"inherit"},children:A("dyn_embedded_reveal.done_button_label")}),!e&&f.jsx(xt,{buttonClassName:"embedded-reveal-view__body__unlink_button",buttonVariant:"tertiary",buttonPadding:"none",copykey:"dyn_embedded_reveal.unlink",onClick:W,typographyProps:{color:"secondary",variant:"button_tertiary"},children:A("dyn_embedded_reveal.unlink")})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"embedded-reveal-view__body__description",children:[f.jsx("div",{className:"embedded-reveal-view__body__badge-container",children:f.jsx(nf,{text:A("dyn_embedded_reveal.badge_label"),className:"embedded-reveal-view__body__badge"})}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_embedded_reveal.prompt_for_export_description",children:A("dyn_embedded_reveal.prompt_for_export_description")})]}),S&&f.jsx(Lr,{children:S}),f.jsxs("div",{className:"embedded-reveal-view__body__card",children:[f.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[f.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:f.jsx(Hde,{height:16,width:16})}),f.jsxs("div",{className:"embedded-reveal-view__body__card__statement__text",children:[f.jsxs(se,{variant:"body_small",color:"primary",copykey:"dyn_embedded_reveal.statement_1.title",children:[A("dyn_embedded_reveal.statement_1.title"),":"]}),f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_embedded_reveal.statement_1.description",children:A("dyn_embedded_reveal.statement_1.description")})]})]}),f.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[f.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:f.jsx(UXe,{height:16,width:16})}),f.jsx("div",{className:"embedded-reveal-view__body__card__statement__text",children:f.jsx(se,{variant:"body_small",color:"primary",copykey:"dyn_embedded_reveal.statement_2.title",children:A("dyn_embedded_reveal.statement_2.title")})})]})]}),f.jsx("div",{className:"embedded-reveal-view__body__confirm_card",children:f.jsxs("button",{className:"embedded-reveal-view__body__card__acknowledgement",onClick:()=>b(!g),children:[f.jsx("div",{children:f.jsx(Vd,{checked:g,onChange:()=>b(!g),className:"embedded-reveal-view__body__card__statement__checkbox",id:"export-agreement-checkbox"})}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_embedded_reveal.checkbox_label",children:A("dyn_embedded_reveal.checkbox_label")})})]})}),f.jsx(ep,{isExport:!0,walletCredential:D}),f.jsxs("div",{className:"embedded-reveal-view__body__button_section",children:[t&&f.jsx(xt,{buttonPadding:"medium",buttonVariant:"primary",onClick:()=>{c(),a(!1)},dataTestId:"export-agreement-skip-button",copykey:"dyn_embedded_reveal.skip_button_label",expanded:!0,buttonClassName:"embedded-reveal-view__body__button",children:A("dyn_embedded_reveal.skip_button_label")}),f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:()=>U(),disabled:!g,loading:$,dataTestId:"embedded-reveal-button",copykey:t?"dyn_embedded_reveal.backup_button_label":"dyn_embedded_reveal.reveal_button_label",style:{width:"100%"},className:"embedded-reveal-view__body__button",expanded:!0,children:A(t?"dyn_embedded_reveal.backup_button_label":"dyn_embedded_reveal.reveal_button_label")})]})]})]})})]})};var dZ,uZ,fZ,hZ,GXe=["title","titleId"];function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(null,arguments)}function JXe(e,t){if(e==null)return{};var n,r,i=ZXe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZXe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ij=function(t){var n=t.title,r=t.titleId,i=JXe(t,GXe);return x.createElement("svg",yP({width:121,height:81,viewBox:"0 0 121 81",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,dZ||(dZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M99.064 34.016c-6.654 0-12.048 5.394-12.048 12.048 0 6.653 5.394 12.047 12.048 12.047 6.653 0 12.047-5.394 12.047-12.047 0-6.654-5.394-12.048-12.047-12.048ZM83 46.064C83 37.192 90.192 30 99.064 30c8.871 0 16.063 7.192 16.063 16.064 0 3.712-1.259 7.13-3.373 9.85l8.658 8.658a2.008 2.008 0 0 1-2.84 2.84l-8.658-8.658a15.994 15.994 0 0 1-9.85 3.373C90.192 62.127 83 54.935 83 46.064Z",fill:"currentColor",fillOpacity:.35})),uZ||(uZ=x.createElement("rect",{y:8,width:121,height:16,rx:4,fill:"currentColor",fillOpacity:.3})),fZ||(fZ=x.createElement("rect",{y:30,width:75,height:16,rx:4,fill:"currentColor",fillOpacity:.3})),hZ||(hZ=x.createElement("rect",{y:52,width:75,height:16,rx:4,fill:"currentColor",fillOpacity:.3})))};const Ej=({className:e="",id:t,label:n,type:r,onChange:i,onBlur:o,name:s,value:a,onClickClear:l,copykey:c})=>{const{t:d}=Xe();return f.jsxs("label",{htmlFor:t,className:Ke("search__container",a?"search__container--active":void 0),children:[f.jsx("div",{className:"search-icon__container",children:f.jsx($ze,{})}),f.jsx("input",{name:s,value:a,onChange:i,onBlur:o,type:r,id:t,placeholder:n,className:Ke("search__input",e),"data-testid":"Search",copykey:c}),a.length>0&&f.jsx("button",{type:"button",onClick:l,className:"search__button--clear","data-testid":"search-clear-button",copykey:"dyn_search.clear",children:d("dyn_search.clear")})]})},H3=({hideBorder:e})=>f.jsx("div",{className:Ke("default-footer__footer",{"default-footer__footer--hidden":e}),"data-testid":"default-footer"}),$S=({titleKey:e,subtitleKey:t,image:n})=>{const{t:r}=Xe();return f.jsxs("div",{className:"search-instead__container",children:[n&&f.jsx(Nt,{className:"search-instead__container__image",color:"text-tertiary",children:n}),f.jsx(se,{color:"secondary",variant:"body_small",weight:"regular",copykey:e||"dyn_wallet_list.wallet_missing.title",children:r(e||"dyn_wallet_list.wallet_missing.title")}),f.jsx(se,{color:"primary",variant:"button_primary",weight:"regular",copykey:t||"dyn_wallet_list.wallet_missing.description",children:r(t||"dyn_wallet_list.wallet_missing.description")})]})},YXe=({leading:e,name:t,onClick:n,trailing:r})=>f.jsx(rp,{leading:e,trailing:r,onClick:n,className:"exchange-list-item__tile",dataTestId:"ListTile",children:t}),cfe=({disabled:e=!1,exchange:t,onResetSearchValue:n,tile:r=YXe,onSelectExchange:i,trailingProp:o=void 0})=>{var s,a;const l=r,c=k_(),{t:d}=Xe(),u=()=>de(void 0,void 0,void 0,function*(){e||(n==null||n(""),i(t))}),{user:h}=je(),m=t,v=(a=(s=h==null?void 0:h.verifiedCredentials)===null||s===void 0?void 0:s.some(({oauthProvider:b})=>b===f1(t)))!==null&&a!==void 0?a:!1,y=f.jsx(XI,{name:f1(t),variant:c,style:{height:Ut(28),width:Ut(28)}}),g=o??f.jsx(C_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Vu,{})}),children:v&&f.jsx(nf,{dot:!0,variant:"primary",text:f.jsx(se,{variant:"body_small",copykey:"dyn_exchange_list.item.connected",children:d("dyn_exchange_list.item.connected")})})});return f.jsx(l,{leading:y,trailing:g,name:m.charAt(0).toUpperCase()+m.slice(1),onClick:u})},XXe=({onSelectExchange:e,showDefaultFooter:t,scrollContainerClassName:n})=>{var r;Qh(()=>()=>ot==null?void 0:ot.setItem(Gy,""));const{error:i}=so(),[o,s]=x.useState(!0),{t:a}=Xe(),l=vo(),[c,d]=x.useState((r=ot.getItem(Gy))!==null&&r!==void 0?r:""),u=x.useMemo(()=>{if(!(l!=null&&l.exchanges))return[];const b=l.exchanges.flatMap(({exchange:k,enabledAt:_})=>_?[f1(k)]:[]);return[...new Set(b)]},[l==null?void 0:l.exchanges]),h=x.useMemo(()=>{const b=c.trim().toLowerCase();return b?u.filter(k=>NS(k).toLowerCase().includes(b)):u},[u,c]),m=x.useRef(null),v=()=>{const b=m.current;b&&((b==null?void 0:b.scrollTop)>(b==null?void 0:b.clientHeight)*1.25?s(!1):s(!0))},y=b=>{ot.setItem(Gy,b),d(b)},g=l?f.jsx("div",{className:Ke("exchange-list__search-container",{"exchange-list__search-container--scroll":!i}),children:f.jsx(Ej,{copykey:"dyn_exchange_list.search.label",label:a("dyn_exchange_list.search.label"),value:c,onChange:({target:{value:b}})=>y(b),onClickClear:()=>y("")})}):f.jsx(Vo,{className:"exchange-list__search-skeleton"});return f.jsxs(f.Fragment,{children:[g,!!i&&f.jsx(Lr,{className:"exchange-list__error-container",withIcon:!1,children:i}),f.jsx("div",{className:Ke("exchange-list__scroll-container",n,{"exchange-list__scroll-container--error":!!i,"exchange-list__scroll-container--fixed-height":!1}),"data-testid":"exchange-list-scroll-container",ref:m,onScroll:v,children:l?f.jsxs(f.Fragment,{children:[u.length===0&&f.jsx(Lr,{copykey:"dyn_exchange_list.no_exchange",children:a("dyn_exchange_list.no_exchanges")}),u.length&&h.length===0?f.jsx($S,{titleKey:"dyn_exchange_list.search.not_found.title",subtitleKey:"dyn_exchange_list.search.not_found.description",image:f.jsx(Ij,{})}):h.map((b,k)=>f.jsx(cfe,{exchange:NS(b),onResetSearchValue:()=>y(""),onSelectExchange:e},`${b}_${k}`))]}):f.jsx(Vo,{count:10,className:"exchange-list__tile-skeleton"})}),t&&f.jsx(H3,{hideBorder:!o})]})},QXe=e=>(e==null?void 0:e.key)==="zerodev",eQe=e=>e?{THREE_OF_THREE:{required:3,total:3},TWO_OF_THREE:{required:2,total:3},TWO_OF_TWO:{required:2,total:2}}[e]||{required:2,total:3}:{required:2,total:3},tQe=({passcode:e})=>{const{t}=Xe(),{primaryWallet:n,setShowAuthFlow:r,user:i}=je(),{getEOAWallet:o}=xs(),{goBack:s,canGoBack:a}=At(),[l,c]=x.useState(!1),[d,u]=x.useState(),[h,m]=x.useState(!1),v=n&&o(n),y=v??n,g=x.useMemo(()=>{var T;if(!(!i||!n))return(T=i.verifiedCredentials)===null||T===void 0?void 0:T.find(D=>D.walletName==="dynamicwaas"&&D.address===n.address)},[i,n]),b=x.useMemo(()=>{var T;const D=(T=g==null?void 0:g.walletProperties)===null||T===void 0?void 0:T.thresholdSignatureScheme;return eQe(D)},[g]),k=x.useCallback(()=>de(void 0,void 0,void 0,function*(){u(void 0),c(!0);try{if(!y)throw new Se("No wallet found");if(fS(y.connector)){yield y.connector.exportClientKeyshares({accountAddress:y.address,password:e}),r(!1);return}if(QXe(y.connector)){const{eoaConnector:T}=y.connector;if(T&&fS(T)){yield T.exportClientKeyshares({accountAddress:y.address,password:e}),r(!1);return}}throw new Se("Not a supported connector type for export shares")}catch(T){Ie.error("Error exporting shares",{error:T}),u(t("dyn_export_shares.error"))}finally{c(!1)}}),[y,e,r,t]),_=[{key:"dyn_export_shares.bullet_1"},{key:"dyn_export_shares.bullet_2",values:{required:b.required}},{key:"dyn_export_shares.bullet_3"}],R=a&&f.jsx(Sn,{onClick:s,type:"button",children:f.jsx(Yh,{})}),I=f.jsx(Sn,{onClick:()=>{r(!1)},type:"button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:R,trailing:I,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:t("dyn_export_shares.title")})}),f.jsx("div",{className:"embedded-reveal-view",children:f.jsxs("div",{className:"embedded-reveal-view__body",children:[f.jsx("div",{className:"embedded-reveal-view__body__description",children:f.jsx("div",{className:"embedded-reveal-view__header",children:f.jsx("div",{className:"embedded-reveal-view__header__hero",children:f.jsx(ofe,{})})})}),f.jsxs("div",{className:"embedded-reveal-view__body__description",children:[f.jsx("div",{className:"embedded-reveal-view__body__badge-container",children:f.jsx(nf,{text:t("dyn_export_shares.sensitive_info"),className:"embedded-reveal-view__body__badge"})}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_export_shares.threshold_description",children:t("dyn_export_shares.threshold_description",{required:b.required,total:b.total})})]}),d&&f.jsx(Lr,{children:d}),f.jsxs("div",{className:"embedded-reveal-view__body__card",children:[f.jsxs("div",{className:"embedded-reveal-view__body__card__statement",children:[f.jsx("div",{className:"embedded-reveal-view__body__card__icon",children:f.jsx(Due,{height:16,width:16})}),f.jsx("div",{className:"embedded-reveal-view__body__card__statement__text",children:f.jsx(se,{variant:"body_small",color:"primary",weight:"medium",copykey:"dyn_export_shares.how_to_use_title",children:t("dyn_export_shares.how_to_use_title")})})]}),f.jsx("ul",{className:"embedded-reveal-view__body__bullet-list",children:_.map(T=>f.jsx("li",{children:f.jsx(se,{variant:"body_small",color:"primary",copykey:T.key,children:t(T.key,T.values)})},T.key))})]}),f.jsx("div",{className:"embedded-reveal-view__body__confirm_card",children:f.jsxs("button",{className:"embedded-reveal-view__body__card__acknowledgement",onClick:()=>m(!h),children:[f.jsx("div",{children:f.jsx(Vd,{checked:h,onChange:()=>m(!h),className:"embedded-reveal-view__body__card__statement__checkbox",id:"export-shares-checkbox"})}),f.jsx("div",{children:f.jsx(se,{variant:"body_small",color:"primary",style:{letterSpacing:"-0.15px"},copykey:"dyn_export_shares.acknowledge",children:t("dyn_export_shares.acknowledge")})})]})}),f.jsx(ep,{isExport:!0}),f.jsx("div",{className:"embedded-reveal-view__body__button_section",children:f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:k,disabled:!h,loading:l,dataTestId:"export-shares-submit-button",copykey:"dyn_export_shares.download_button",style:{width:"100%"},className:"embedded-reveal-view__body__button",expanded:!0,children:t("dyn_export_shares.download_button")})})]})})]})},nQe=(e,t)=>{const n=x.useRef(e);g_(()=>{n.current=e},[e]),x.useEffect(()=>{if(!t&&t!==0)return;const r=setTimeout(()=>n.current(),t);return()=>clearTimeout(r)},[t])},rQe={brave:$oe,chrome:Loe,edge:Uoe,firefox:Foe,safari:Woe},vP=e=>rQe[e],iQe=e=>{if(!(e!=null&&e.metadata.downloadLinks))return[];const t=Q1(e.metadata.downloadLinks),{currentDesktopUrl:n,userBrowser:r}=xue(t);return n?[{Icon:vP(r),key:r,link:n,name:r}]:Object.entries(t).filter(([,i])=>i!=="").filter(([i])=>i!=="ios"&&i!=="android").map(([i,o])=>({Icon:vP(i),key:i,link:o,name:i}))},oQe=(e,t)=>{const n=Array.prototype.slice.call(pce.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,o,s)=>(s%r===0?i.push([o]):i[i.length-1].push(o))&&i,[])},dfe=({ecl:e="M",Icon:t,logoMargin:n=0,logoSize:r=40,size:i=250,value:o,accentColor:s="currentColor",walletKey:a=void 0,showQrCodeImage:l,className:c,style:d})=>{const{data:u}=vr(()=>pce.toDataURL(o)),h=x.useMemo(()=>{const v=[],y=oQe(o||"QR Code value",e),g=i/y.length;[{x:0,y:0},{x:1,y:0},{x:0,y:1}].forEach(({x:I,y:T})=>{const D=(y.length-7)*g*I,M=(y.length-7)*g*T;for(let C=0;C<3;C++)v.push(f.jsx("rect",{"data-key":`corner-square-${I}-${T}-${C}`,fill:C%2!==0?"var(--background)":s,height:g*(7-C*2),rx:C===0?10:C===1?7:20,ry:C===0?10:C===1?7:20,width:g*(7-C*2),x:D+g*C,y:M+g*C},`corner-square-${I}-${T}-${C}`))});const k=Math.floor(r*1.5/g),_=y.length/2-k/2,R=y.length/2+k/2-1;for(let I=0;I<y.length;I++)for(let T=0;T<y[I].length;T++)y[I][T]&&(I<7&&T<7||I>y.length-8&&T<7||I<7&&T>y.length-8||I>_&&I<R&&T>_&&T<R||v.push(f.jsx("circle",{className:"qrcode__dot-circle",cx:I*g+g/2,cy:T*g+g/2,fill:Math.random()>.9?s:"currentColor",r:g/2.25},`dot-${I}-${T}`)));return v},[e,r,i,o,s]),m=i/2-r/2-n;return f.jsx("div",{className:Ke("qrcode__container",c),style:d,children:f.jsx("div",{className:"qrcode",children:l?f.jsx("img",{"data-testid":"qr-code-image",src:u,alt:""}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{height:"100%",width:"100%",viewBox:`0 0 ${i} ${i}`,"data-testid":"qr-code",children:[f.jsx("defs",{children:f.jsx("clipPath",{id:"clip-logo",children:f.jsx("rect",{height:r,width:r,x:m,y:m,rx:7,ry:7})})}),f.jsx("rect",{fill:"none",height:i,width:i}),h]}),f.jsx(si,{Icon:t,iconSize:r,isSpinning:!0,className:"qrcode__icon"})]})})})},sQe=({Icon:e,logoSize:t})=>f.jsx("div",{className:"qrcode__container qrcode","data-testid":"loading-qrcode",children:f.jsx(si,{Icon:e,iconSize:t,isSpinning:!0,className:"qrcode__icon"})}),aQe=({accentColor:e,walletConnector:t,qrcodeValue:n,Icon:r,showCopyToClipboardButton:i=!1,desktopUri:o,showQrCodeMessage:s,showQrCodeImage:a})=>{const{t:l}=Xe(),{pushView:c}=At(),d=iQe(t),u=()=>o?f.jsx(xt,{expanded:!0,dataTestId:"get-extension-button",buttonPadding:"small",buttonVariant:"primary",buttonClassName:"qr-code-button",onClick:()=>Ln.openURL(o,"blank"),copykey:"dyn_qr_code.open_button",typographyProps:{variant:"button_secondary"},startSlot:f.jsx(Nt,{size:"xsmall",color:"text-tertiary",children:f.jsx(k0,{})}),children:l("dyn_qr_code.open_button")}):d!=null&&d.length?f.jsx(xt,{expanded:!0,dataTestId:"get-extension-button",buttonPadding:"small",buttonVariant:"primary",buttonClassName:"qr-code-button",onClick:()=>c("no-qr-not-installed"),copykey:"dyn_qr_code.get_extension_button",typographyProps:{variant:"button_secondary"},startSlot:f.jsx(Nt,{size:"xsmall",color:"text-tertiary",children:f.jsx(k0,{})}),children:l("dyn_qr_code.get_extension_button")}):null;return f.jsxs("div",{className:Ke("qrcode-container__container",{"qrcode-container__container--message":s}),children:[f.jsxs("div",{className:"qrcode-container__top",children:[n.length?f.jsx(dfe,{Icon:r,accentColor:e,value:n,logoSize:50,walletKey:t==null?void 0:t.key,showQrCodeImage:a}):f.jsx(sQe,{Icon:r,logoSize:50}),f.jsxs("div",{className:"button-container",children:[i&&f.jsx(Sm,{variant:"button",textToCopy:n,disabled:!n.length,buttonClassName:"qr-code-button",copykey:"dyn_qr_code.copy_button",startSlot:f.jsx(Nt,{size:"mini",color:"text-tertiary",children:f.jsx(Wde,{})}),children:l("dyn_qr_code.copy_button")}),u()]})]}),f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",className:"qrcode-container__content",copykey:"dyn_qr_code.scan_title",children:l("dyn_qr_code.scan_title",{app:t?"wallet":"app"})})]})},Cj=({uri:e,desktopUri:t,icon:n,accentColor:r,showCopyToClipboardButton:i,walletConnector:o})=>{const[s,a]=x.useState(!1),[l,c]=x.useState(!1);return nQe(()=>a(!0),e.length?5e3:null),f.jsxs("div",{"data-testid":"qr-code-wrapper",className:"qr-code-wrapper",children:[f.jsx(Ku,{animationComponent:f.jsx(ng,{style:{width:"100%"}}),children:s&&!l&&f.jsxs("div",{className:"qr-code-wrapper__scan-issue-message",children:[f.jsx(se,{color:"primary",variant:"body_small",children:"If you're having issues scanning, click"}),f.jsx("button",{"data-testid":"qr-code-wrapper__scan-issue-button",className:"qr-code-wrapper__scan-issue-button",onClick:()=>c(!0),children:"here"})]})}),f.jsx(aQe,{showQrCodeMessage:s,desktopUri:t,accentColor:r,walletConnector:o,qrcodeValue:e,Icon:n,showCopyToClipboardButton:i,showQrCodeImage:l})]})},ufe=({url:e})=>{const{theme:{theme:t}}=c_(),n=k_(),r=f.jsx(XI,{name:"farcaster",variant:n});return f.jsx(Cj,{uri:e,accentColor:n==="dark"?t.colors.textPrimary:"#7b65c0",icon:r,showCopyToClipboardButton:!0})},lQe=({pairingInfo:e,onConfirm:t,onCancel:n})=>{const{t:r}=Xe(),[i,o]=x.useState(!1),s=()=>{o(!0)};return f.jsx("div",{className:"global-wallet-confirm",children:f.jsx("div",{className:"popup-content",children:f.jsxs("div",{className:"wallet-connection-view",children:[!i&&f.jsx("img",{src:e.icons[0],alt:`${e.name} icon`,className:"dapp-icon",onError:s}),f.jsx(se,{className:"connection-title",variant:"title",font:"bold",copykey:"global_wallet.confirm.description",children:r("global_wallet.confirm.description",{name:e.name})}),f.jsx(se,{variant:"body_normal",className:"dapp-url",children:e.url}),f.jsxs("div",{className:"button-group",children:[f.jsx(xt,{buttonClassName:"cancel-button",onClick:n,type:"submit",buttonPadding:"large",copykey:"global_wallet.confirm.cancel_button",children:r("global_wallet.confirm.cancel_button")}),f.jsx(xt,{buttonClassName:"connect-global-button",onClick:t,type:"submit",buttonPadding:"large",typographyProps:{color:"white"},copykey:"global_wallet.confirm.connect_button",children:r("global_wallet.confirm.connect_button")})]})]})})})};var pZ,mZ,cQe=["title","titleId"];function wP(){return wP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wP.apply(null,arguments)}function dQe(e,t){if(e==null)return{};var n,r,i=uQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var fQe=function(t){var n=t.title,r=t.titleId,i=dQe(t,cQe);return x.createElement("svg",wP({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,pZ||(pZ=x.createElement("g",{clipPath:"url(#blue-walletconnect_svg__a)"},x.createElement("path",{d:"M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12Z",fill:"#4084ED"}),x.createElement("path",{d:"M3.343 4.286a3.761 3.761 0 0 1 5.314 0l.176.176a.186.186 0 0 1 0 .265l-.603.603a.096.096 0 0 1-.133 0l-.243-.244a2.624 2.624 0 0 0-3.708 0l-.26.26a.096.096 0 0 1-.132 0l-.606-.6a.186.186 0 0 1 0-.266l.195-.194Zm6.563 1.248.538.537a.185.185 0 0 1 0 .265L8.018 8.757a.187.187 0 0 1-.264 0L6.034 7.04a.047.047 0 0 0-.068 0l-1.72 1.718a.187.187 0 0 1-.264 0l-2.426-2.42a.186.186 0 0 1 0-.266l.538-.537a.187.187 0 0 1 .265 0l1.72 1.718a.047.047 0 0 0 .067 0l1.72-1.718a.187.187 0 0 1 .265 0l1.72 1.718a.047.047 0 0 0 .068 0l1.72-1.718a.19.19 0 0 1 .267 0Z",fill:"#fff"}))),mZ||(mZ=x.createElement("defs",null,x.createElement("clipPath",{id:"blue-walletconnect_svg__a"},x.createElement("path",{fill:"#fff",d:"M0 0h12v12H0z"})))))};const gZ=({children:e})=>f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",children:f.jsx("span",{className:"inline-icon-text",children:e})}),hQe=()=>{const{t:e}=Xe();return f.jsx("div",{className:"info-card",children:f.jsxs("div",{className:"wrapper",children:[f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",as:"h2",children:"How do I find the URI or QR code?"}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:"global_wallet.help.step.1",children:e("global_wallet.help.step.1")}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:"global_wallet.help.step.2",children:e("global_wallet.help.step.2")}),f.jsxs(gZ,{children:["3. Open"," ",f.jsxs("span",{className:"nowrap",children:["WalletConnect ",f.jsx(fQe,{})]}),"from the list, this should show a QR code to scan"]}),f.jsxs(gZ,{children:["4. If you are not using the QR code, locate and click",f.jsxs("span",{className:"nowrap",children:[f.jsx(jh,{})," to copy"]})," ","the URI code"]})]})})};var yZ,pQe=["title","titleId"];function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bP.apply(null,arguments)}function mQe(e,t){if(e==null)return{};var n,r,i=gQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var yQe=function(t){var n=t.title,r=t.titleId,i=mQe(t,pQe);return x.createElement("svg",bP({width:17,height:18,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,yZ||(yZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2.333a6.667 6.667 0 1 0 0 13.334 6.667 6.667 0 0 0 0-13.334ZM.167 9a8.333 8.333 0 1 1 16.666 0A8.333 8.333 0 0 1 .167 9ZM8.5 4.833c.46 0 .833.373.833.834V9a.833.833 0 1 1-1.667 0V5.667c0-.46.374-.834.834-.834Zm-.833 7.5c0-.46.373-.833.833-.833h.008a.833.833 0 0 1 0 1.667H8.5a.833.833 0 0 1-.833-.834Z",fill:"#FF4646"})))},vZ,vQe=["title","titleId"];function _P(){return _P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_P.apply(null,arguments)}function wQe(e,t){if(e==null)return{};var n,r,i=bQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var _Qe=function(t){var n=t.title,r=t.titleId,i=wQe(t,vQe);return x.createElement("svg",_P({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,vZ||(vZ=x.createElement("circle",{cx:32,cy:32,r:32,fill:"#DD8500"})))};const xQe=({maliciousSiteInfo:e})=>{const{t}=Xe(),{setDynamicWidgetView:n}=Jc(),{setShowAuthFlow:r}=je(),i=()=>{n("global-wallet"),r(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},o=()=>{var s;(s=e.proceedFlow)===null||s===void 0||s.call(e)};return f.jsx("div",{className:"malicious-site-view",children:f.jsx("div",{className:"popup-content",children:f.jsxs("div",{className:"wallet-connection-view",children:[f.jsxs("div",{className:"warning-icon-container",style:{position:"relative"},children:[e.isDefinitelyMalicious?f.jsx(xj,{className:"warning-icon"}):f.jsx(_Qe,{className:"warning-icon"}),f.jsx(K3,{className:"exclamation-icon",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}})]}),f.jsx(se,{className:"connection-title",variant:"title",font:"bold",color:"primary",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.title"):t("global_wallet.malicious_site.unknown.title")}),f.jsxs("div",{className:`subtitle-container ${e.isDefinitelyMalicious?"definitely-malicious":"unknown"}`,children:[f.jsxs("div",{className:"subtitle-header-container",children:[e.isDefinitelyMalicious?f.jsx(yQe,{className:"caution-icon"}):f.jsx(Mue,{className:"caution-icon"}),f.jsx(se,{variant:"body_normal",className:"subtitle-header",color:"primary",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.subtitle_header"):t("global_wallet.malicious_site.unknown.subtitle_header")})]}),f.jsx(se,{variant:"body_normal",className:"subtitle",color:"secondary",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.subtitle_text"):t("global_wallet.malicious_site.unknown.subtitle_text")})]}),f.jsx(se,{variant:"body_normal",className:"site-info",color:"secondary",children:e.url}),f.jsxs("div",{className:"button-group",children:[f.jsx(xt,{buttonClassName:"cancel-button",buttonVariant:"primary",type:"submit",buttonPadding:"large",onClick:i,copykey:"global_wallet.malicious_site.go_back",children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.go_back"):t("global_wallet.malicious_site.unknown.go_back")}),f.jsx(xt,{buttonClassName:"proceed-button",buttonVariant:"secondary",type:"submit",buttonPadding:"large",onClick:o,copykey:"global_wallet.malicious_site.proceed",typographyProps:{color:"error-1"},children:e.isDefinitelyMalicious?t("global_wallet.malicious_site.certain.proceed"):t("global_wallet.malicious_site.unknown.proceed")})]})]})})})},kQe=()=>{const{setError:e}=so(),[t,n]=x.useState(void 0),r=x.useRef(!1),i=wj(),o=x.useCallback(()=>{e("Something went wrong")},[e]),s=x.useCallback(l=>{n(l)},[n]),{connectSocialAccount:a}=U3({onError:o,onFarcasterUrl:s});return x.useEffect(()=>{r.current||!i||(r.current=!0,a({authMode:"signin",provider:pn.Farcaster}))},[a,i]),f.jsx(ufe,{url:t??""})},SQe=(e,t)=>t.reduce((n,r)=>{const i=e.indexOf(r.toLowerCase());return i>n?i:n},-1),IQe=({hasWalletFilter:e,defaultOffset:t,list:n,priorityList:r})=>{const i=SQe(n,r);return t===fse&&!e&&n.length>t&&i!==-1?i+1:t},EQe=({walletOptions:e,userWallets:t})=>{const n=new Set(t.map(r=>r.connector.key));return(n.has("phantom")||n.has("phantomledger"))&&(n.add("phantom"),n.add("phantomledger")),e.filter(r=>!n.has(r.walletConnector.key))},CQe=e=>rr()||e.isWalletConnect?"mobile":"desktop",AQe=(e,t)=>t.filter(n=>n.walletConnector&&F4e(n.walletConnector,"accountChanged",CQe(n.walletConnector))?!0:!e.some(r=>r.connector.key===n.key)),wZ="metamask",RQe=e=>rr()?e.some(n=>n.key===wZ)?n=>n.walletConnector.key!==wZ:()=>!0:()=>!0,TQe=({userWallets:e,walletOptions:t})=>{const n=t.filter(RQe(e));return wl()==="connect-only"?EQe({userWallets:e,walletOptions:n}):AQe(e,n)},B2=["metamask","coinbase","walletconnect","walletconnectsol","phantom","argentx","blocto","solflare","braavos","trust","rainbow","dapper","glow","flowwalletflow"],OQe=(e,t)=>{const n=[],r=[],i=[];e.forEach(a=>{const l=t.includes(a.key);l?n.push(a):B2.includes(a.key)&&!l?r.push(a):i.push(a)});const o=r.slice().sort((a,l)=>B2.indexOf(a.key)-B2.indexOf(l.key));return[...n.slice().sort((a,l)=>t.indexOf(a.key)-t.indexOf(l.key)),...o,...i]},Aj=({userWallets:e,multiWallet:t,numberOfWalletsToShow:n,inputList:r,isWalletConnectList:i,lastUsedWalletKey:o,searchFilter:s,walletsFilter:a,loginWithEmail:l,groupWallets:c,walletGroups:d,showMoreWalletsWithFilter:u,recommendedWallets:h})=>{let m=r;i&&(m=r.filter(C=>C.walletConnector.isWalletConnect&&C.key!=="walletconnect"&&C.key!=="walletconnectsol")),t&&(m=TQe({userWallets:e,walletOptions:m}));const v=!!a,y=[],g=[],b=[],k=[],_=Array.from(new Set((h||[]).map(C=>C.walletKey))),R=NQe(m,a,i,_);R.forEach(C=>{_M(C.walletConnector)||!C.walletConnector.isAvailable||(_!=null&&_.includes(C.key)?g.push(C):o===C.key?y.push(C):C.isInstalledOnBrowser?b.push(C):k.push(C))});const I=[...g,...y,...b,...k],T=cde(d,I),D=u&&v?DQe(R,y.concat(b),n):n,M=MQe(T,s,i,D,v,l);return{numberOfWallets:I.length,walletsList:M}},NQe=(e,t,n,r)=>{const i=OQe(e,r);return!n&&t?t(i):i},PQe=["walletconnect","walletconnect sol","bitcoin.com wallet"],BQe=(e,t)=>{const n=e.trim().toLowerCase(),r=i=>{const o=i.trim().toLowerCase();return PQe.includes(o)?o:o.replace("wallet","").replace("evm","").replace("starknet","").replace("solana","").replace("flow","").replace("bitcoin","")};return t.filter(i=>{var o;return r(i.name).includes(n)||((o=i.groupedWallets)===null||o===void 0?void 0:o.some(s=>r(s.name).includes(n)))})},MQe=(e,t,n,r,i,o)=>{if(t)return BQe(t,e);if(n)return e;if(o)return e.slice(0,r);{const s=e.map(l=>l.name.toLowerCase()),a=IQe({defaultOffset:r,hasWalletFilter:i,list:s,priorityList:B2});return e.slice(0,a)}},DQe=(e,t,n)=>{const r=e.slice(0,n),i=t.filter(o=>!r.includes(o)).length;return n+i},jQe=(e,t)=>e&&(e!=null&&e.recommendedWallets)?e.recommendedWallets:t,$Qe=(e,t)=>e&&(e!=null&&e.walletsFilter)?e.walletsFilter:t,ffe=({isWalletConnectList:e=!1,viewWalletsFilter:t,searchFilter:n,lastUsedWalletKey:r})=>{const{walletsFilter:i,walletConnectorOptions:o,defaultNumberOfWalletsToShow:s,bridgeChainsToConnect:a,multiWallet:l,recommendedWallets:c,selectedTabSettings:d}=je(),{userWallets:u}=_s(),h=Hm(),m=(a==null?void 0:a.length)&&zze(a[0].chain),v=m&&m(o),y=jQe(d,c),g=$Qe(d,i),{numberOfWallets:b,walletsList:k}=Aj({groupWallets:!0,inputList:v||o,isWalletConnectList:e,lastUsedWalletKey:r,multiWallet:l,numberOfWalletsToShow:s,recommendedWallets:y,searchFilter:n,showMoreWalletsWithFilter:!0,userWallets:u,walletGroups:h,walletsFilter:t&&g?toe(t).pipe(g):t||g});return{numberOfWallets:b,recommendedWallets:y,walletsList:k}},LQe=({items:e,onSelect:t,value:n})=>f.jsx("div",{className:"wallet-list-grid-tabs",children:e.map((r,i)=>{const o=n===i,{icon:s,text:a}=r.label,l=`${a}-${s}-${e.indexOf(r)}`,c=typeof s=="string"?f.jsx("img",{src:s,alt:a}):s;return f.jsxs("button",{type:"button",className:Ke("wallet-list-grid-tabs__button",{"wallet-list-grid-tabs__button--selected":o,"wallet-list-grid-tabs__button--text":!!a}),tabIndex:-1,"aria-label":a,onClick:()=>t(i),children:[c&&f.jsx(Nt,{size:"small",className:Ke({"wallet-list-grid-tabs__icon--selected":!o}),children:c}),a&&f.jsx(se,{as:"span",variant:"body_small",weight:o?"bold":"medium",color:o?"primary":"secondary",children:a})]},l)})}),Rj=({isWalletConnectList:e=!1,onSelectWallet:t,viewWalletsFilter:n,showDefaultFooter:r,scrollContainerClassName:i})=>{var o,s;Qh(()=>()=>ot==null?void 0:ot.setItem(_h,""));const{walletConnectorOptions:a,projectSettings:l,defaultNumberOfWalletsToShow:c,selectedTabIndex:d,setSelectedTabIndex:u,tabsItems:h}=je(),{error:m}=so(),[v,y]=x.useState(!0),{t:g}=Xe(),[b,k]=x.useState((o=ot.getItem(_h))!==null&&o!==void 0?o:""),{numberOfWallets:_,walletsList:R,recommendedWallets:I}=ffe({isWalletConnectList:e,lastUsedWalletKey:(s=ot.getItem(Yu))!==null&&s!==void 0?s:void 0,searchFilter:b,viewWalletsFilter:n}),T=!!b||_>c&&R.length!==_,D=!!(h!=null&&h.length),M=x.useRef(null),C=()=>{const z=M.current;z&&((z==null?void 0:z.scrollTop)>(z==null?void 0:z.clientHeight)*1.25?y(!1):y(!0))},U=z=>{ot.setItem(_h,z),k(z)},$=l?T&&f.jsx("div",{className:Ke("wallet-list__search-container",{"wallet-list__search-container--scroll":!m}),children:f.jsx(Ej,{copykey:"dyn_wallet_list.search.label",label:g("dyn_wallet_list.search.label",{numberOfWallets:_}),value:b,onChange:({target:{value:z}})=>U(z),onClickClear:()=>U("")})}):f.jsx(Vo,{className:"wallet-list__search-skeleton"});return f.jsxs(f.Fragment,{children:[D&&f.jsx("div",{className:"wallet-list__tabs-container",children:f.jsx(LQe,{items:h,value:d||0,onSelect:u})}),$,!!m&&f.jsx(Lr,{className:"wallet-list__error-container",withIcon:!1,children:m}),f.jsxs("div",{className:Ke("wallet-list__scroll-container",i,{"wallet-list__scroll-container--error":!!m,"wallet-list__scroll-container--fixed-height":D}),"data-testid":"wallet-list-scroll-container",ref:M,onScroll:C,children:[l?f.jsxs(f.Fragment,{children:[a.length===0&&f.jsx(Lr,{copykey:"dyn_wallet_list.configuration_mismatch",children:g("dyn_wallet_list.configuration_mismatch")}),a.length&&R.length===0?f.jsx($S,{titleKey:"dyn_wallet_list.search.not_found.title",subtitleKey:"dyn_wallet_list.search.not_found.description",image:f.jsx(Ij,{})}):R.map((z,q)=>f.jsx(z3,{wallet:z,onResetSearchValue:()=>U(""),recommendedWallets:I,onSelectWallet:t},`${z.key}_${q}`))]}):f.jsx(Vo,{count:10,className:"wallet-list__tile-skeleton"}),T&&!b&&l&&f.jsx($S,{})]}),r&&f.jsx(H3,{hideBorder:!v})]})};var bZ,UQe=["title","titleId"];function xP(){return xP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xP.apply(null,arguments)}function FQe(e,t){if(e==null)return{};var n,r,i=WQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var hfe=function(t){var n=t.title,r=t.titleId,i=FQe(t,UQe);return x.createElement("svg",xP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,bZ||(bZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.055 2.4A3.548 3.548 0 0 1 21.6 5.945v2.013a1.095 1.095 0 0 1-2.19 0V5.945c0-.747-.608-1.355-1.355-1.355h-2.012a1.095 1.095 0 1 1 0-2.19h2.012Zm-10.098 0a1.095 1.095 0 0 1 0 2.19H5.945c-.747 0-1.355.608-1.355 1.355v2.013a1.095 1.095 0 0 1-2.19 0V5.945A3.548 3.548 0 0 1 5.945 2.4h2.012Zm7.692 5.083c.6 0 1.086.486 1.086 1.086v1.347a1.086 1.086 0 1 1-2.172 0V8.57c0-.6.486-1.086 1.086-1.086Zm-4.121 0c.614 0 1.112.498 1.112 1.112v2.982h.008a1.113 1.113 0 0 1 0 2.226h-.386a1.849 1.849 0 0 1-1.847-1.848v-3.36c0-.614.498-1.112 1.113-1.112Zm-3.282 0c.6 0 1.086.486 1.086 1.086v1.347a1.086 1.086 0 0 1-2.172 0V8.57c0-.6.486-1.086 1.086-1.086Zm12.259 7.465c.605 0 1.095.49 1.095 1.095v2.012a3.548 3.548 0 0 1-3.545 3.545h-2.012a1.095 1.095 0 1 1 0-2.19h2.012c.747 0 1.355-.608 1.355-1.355v-2.012c0-.605.49-1.095 1.095-1.095Zm-17.01 0c.605 0 1.095.49 1.095 1.095v2.012c0 .747.608 1.355 1.355 1.355h2.012a1.095 1.095 0 0 1 0 2.19H5.945A3.548 3.548 0 0 1 2.4 18.055v-2.012c0-.605.49-1.095 1.095-1.095Zm5.365 1.337a.473.473 0 0 0 0 0l-.434.47a1.113 1.113 0 0 1 1.51-1.634c.563.52 1.296.806 2.064.806s1.5-.286 2.065-.807a1.113 1.113 0 0 1 1.51 1.634A5.255 5.255 0 0 1 12 18.153a5.255 5.255 0 0 1-3.574-1.397l.434-.47a4.615 4.615 0 0 1 0 0Zm5.947.28a4.694 4.694 0 0 1 0 0Z",fill:"#ABACB2"})))};const qQe=({relatedOriginRpId:e}={})=>{const{setCallback:t}=je();return x.useCallback(()=>de(void 0,void 0,void 0,function*(){yield Fc();const n=yield oNe({relatedOriginRpId:e});return t("authSuccess"),n}),[e,t])},zQe=({isLoading:e,onSubmit:t,onSubmitError:n})=>{const{t:r}=Xe(),i=qQe(),{setError:o}=so(),{isLoading:s,mutate:a}=Xo(()=>de(void 0,void 0,void 0,function*(){t==null||t(),o(""),yield i()}),{onFailure:c=>{var d,u;Ie.error("Passkey sign in failed:",c);let h="Failed to sign in with passkey. Please try again.";c instanceof Error&&(!((d=c.name)===null||d===void 0)&&d.includes("NotAllowedError")?h="Passkey sign-in was cancelled or not allowed.":!((u=c==null?void 0:c.message)===null||u===void 0)&&u.includes("No passkey found")?h="No account found with this passkey. Please set up a passkey after using another sign-in method.":c!=null&&c.message&&(h=c.message)),o(h),n==null||n()}}),l=e||s;return f.jsxs(g1,{onClick:()=>a(),disabled:l,dataTestId:"passkey-sign-in-button",className:"login-view__passkey-button",children:[f.jsx(hfe,{}),f.jsx(se,{variant:"button_primary",copykey:"dyn_login.passkey.button_label",children:r("dyn_login.passkey.button_label")})]})},pfe=e=>!!(e&&Dc(e,pn.Sms)),VQe=({onSubmit:e,onSubmitError:t,country:n,phone:r,setInvalidNumberMessage:i})=>{const{engageCaptcha:o}=Hd(),{view:s,pushView:a}=At(),{environmentId:l,projectSettings:c}=je(),{setDisplayedDestination:d,setVerificationUUID:u,setRetryData:h}=Kc(),{fieldsConfig:m}=fD(),{t:v}=Xe(),y=g=>de(void 0,void 0,void 0,function*(){if(n)try{const b=o_({dialCode:n.dialCode,phone:r}),{verificationUUID:k}=yield Hue({captchaToken:g,environmentId:l,isoCountryCode:n.iso2,phoneCountryCode:n.dialCode,phoneNumber:b});h({dialCode:n.dialCode,iso2:n.iso2,phone:b}),a("login-with-sms-verification"),d(rj(r)),u(k);const _={dialCode:n.dialCode,iso2:n.iso2,phone:b};rt.emit("authInit",{option:_,phone:_,type:"sms"}),e==null||e()}catch(b){if(a(s.type),b instanceof h0){let k=v("dyn_login.helper.phone_number_form.invalid_phone");b.code==="too_many_sms_verification_attempts"&&(k=v("dyn_login.helper.phone_number_form.too_many_sms_verification_attempts")),b.code&&b.code in SO.dyn_login.helper.phone_number_form&&(k=v("dyn_login.helper.phone_number_form."+b.code)),i(k)}else typeof b=="string"&&i(b);t==null||t()}});return g=>de(void 0,void 0,void 0,function*(){var b;if(n){g.preventDefault();try{m.phoneNumber.validation.validateSync(r)}catch(k){const{message:_}=k;i(_),t==null||t();return}if(!((b=c==null?void 0:c.security.hCaptcha)===null||b===void 0)&&b.enabled){o({authMethod:"phone",onCaptchaSuccess:y});return}y()}})},_Z=({isLoading:e,onSubmit:t,onSubmitError:n})=>{var r,i;const o=vo(),s=x.useMemo(()=>{const R=uue(o);return nj(fue(R))},[o]),[a,l]=x.useState(void 0),[c,d]=x.useState(!1),[u,h]=x.useState({country:void 0,phone:""}),m=x.useCallback(R=>{h(R),d(Ile(R.phone,R.country))},[]),[v,y]=x.useState(!1),[g,b]=x.useState(!1),k=VQe({country:u.country,onSubmit:t,onSubmitError:n,phone:u.phone,setInvalidNumberMessage:l});if(!o)return Ie.debug("Failed to render PhoneNumberSignInSection - no project settings"),null;if(!pfe((r=o==null?void 0:o.providers)!==null&&r!==void 0?r:[]))return Ie.error("Failed to render PhoneNumberSignInSection - no sign in provider enabled"),null;const _=!(!((i=o==null?void 0:o.design.modal)===null||i===void 0)&&i.emailSubmitButtonInsideInput);return f.jsxs("form",{className:"login-with-phone-number-form",onSubmit:R=>k(R),children:[f.jsx(hue,{countries:s,onUpdate:m,error:a,setIsHovered:y,setIsFocused:b,appendRight:f.jsx(Uue,{disabled:e||!c,highlighted:c,isFocused:g,isHovered:v,className:"login-with-phone-number-form__fields__inline-submit",emailSubmitButtonInsideInput:!_})}),_&&f.jsx(xt,{dataTestId:"big-submit-button",buttonClassName:"login-with-phone-number-form__button",type:"submit",loading:e,disabled:e||!c,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,typographyProps:{color:"inherit"},children:"Continue"})]})},KQe=e=>{if(!e)return;const t=Object.values(ym);for(const n of t)if(n===e)return n};var xZ,HQe=["title","titleId"];function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kP.apply(null,arguments)}function GQe(e,t){if(e==null)return{};var n,r,i=JQe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JQe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ZQe=function(t){var n=t.title,r=t.titleId,i=GQe(t,HQe);return x.createElement("svg",kP({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,xZ||(xZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.7 10a1.667 1.667 0 1 1 3.333 0A1.667 1.667 0 0 1 2.7 10Zm5.833 0a1.667 1.667 0 1 1 3.334 0 1.667 1.667 0 0 1-3.334 0Zm5.834 0a1.667 1.667 0 1 1 3.333 0 1.667 1.667 0 0 1-3.333 0Z",fill:"currentColor",fillOpacity:.4})))};const YQe=e=>{if(e)return e===ym.Twitter?"X":e===ym.Coinbasesocial?"Coinbase":Od(e)},XQe=5,mfe=({providers:e,onSelectProvider:t,isLoading:n,selectedProvider:r,testId:i,defaultProvider:o,numOfItemsToDisplay:s=5,collapsedLayout:a})=>{const{t:l}=Xe(),c=k_();o&&!e.includes(o)&&([o]=e);const d=e.filter(R=>R!==o),u=Math.min(s,XQe),h=d.length>u,m=h?d.slice(0,u-1):d.slice(0,u),[v,y]=x.useState(!1),g=()=>!n&&y(!1),b=e.length===1||!a&&e.length<4,k=R=>R,_=(R,I=!1,T=!1)=>f.jsxs(g1,{dataTestId:T?`card-${R}`:`inline-${R}`,onClick:()=>t(R),disabled:!!r,className:Ke({"social-sign-in--card--tile":T,"social-sign-in--tile":!T,"social-sign-in--tile__full-width":I}),children:[f.jsx(si,{Icon:f.jsx(XI,{name:k(R),variant:c}),isSpinning:r===R,iconSize:32}),!T&&I&&f.jsx(se,{variant:"button_primary",copykey:"dyn_login.social.button_label",children:l("dyn_login.social.button_label",{provider:YQe(R)})})]},k(R));return e.length?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"social-sign-in","data-testid":i,children:[o&&_(o,!0),m.map(R=>_(R,b)),h&&f.jsx(g1,{dataTestId:"show-more-options",onClick:()=>y(!0),className:"social-sign-in--tile",children:f.jsx(Nt,{color:"text-primary",children:f.jsx(ZQe,{})})},"show-more-options")]}),f.jsxs(jc,{isOpen:v,onClose:g,children:[f.jsx(jc.Header,{closeDisabled:n,children:l("dyn_login.social.overlay_title")}),f.jsx(jc.Content,{className:"social-sign-in--card--body",children:e.map(R=>_(R,!1,!0))})]})]}):(Ie.error("Failed to render SocialSignInSection - no social providers enabled"),null)},QQe=({defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})=>{const{projectSettings:r}=je(),{socialProvider:i,setSocialProvider:o,socialWalletConnector:s,enabledSocialProviders:a}=sf(),{engageCaptcha:l}=Hd(),{mutate:c,isLoading:d}=Xo(u=>de(void 0,void 0,void 0,function*(){var h;if(!((h=r==null?void 0:r.security.hCaptcha)===null||h===void 0)&&h.enabled){l({authMethod:"social",onCaptchaSuccess:m=>de(void 0,void 0,void 0,function*(){return o(u),yield s==null?void 0:s.endSession(),s==null?void 0:s.connect(u)})});return}return o(u),yield s==null?void 0:s.endSession(),s==null?void 0:s.connect(u)}));return f.jsx(mfe,{onSelectProvider:c,providers:a,selectedProvider:i,isLoading:d,testId:"magic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})},eet=({defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})=>{const{setShowAuthFlow:r}=je(),{setSocialProvider:i,socialProvider:o,enabledSocialProviders:s}=sf(),{pushView:a,clearStackAndPushInitialView:l}=At(),c=x.useCallback(()=>{l()},[l]),d=x.useCallback(y=>a("farcaster-connect-view",{url:y},{onBackClick:()=>{i(void 0),rt.emit("farcasterConnectCancelled"),rt.emit("authFailure",{option:pn.Farcaster,provider:pn.Farcaster,type:"social"},"user-cancelled"),l()}}),[l,a,i]),u=x.useCallback(()=>{i(void 0)},[i]),{isProcessing:h,connectSocialAccount:m}=U3({onError:c,onFarcasterUrl:d,onSettled:u}),v=y=>{const g=qce(y);i(y),a("social-redirect-view"),r(!0),m({authMode:"signin",provider:g})};return f.jsx(mfe,{onSelectProvider:v,providers:s,selectedProvider:o,isLoading:h,testId:"dynamic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:t,collapsedLayout:n})},tet=({sectionData:e,collapsedLayout:t})=>{var n,r,i;const o=vo();if(!o)return Ie.debug("Failed to render SocialSignInSection - no project settings"),null;const s=(n=o.providers)!==null&&n!==void 0?n:[],a={collapsedLayout:t,defaultProvider:KQe(e.defaultItem),numOfItemsToDisplay:e.numOfItemsToDisplay};return Dc(s,pn.MagicLink)&&((r=o.sdk.socialSignIn)===null||r===void 0?void 0:r.signInProvider)===qb.MagicLink?f.jsx(QQe,Object.assign({},a)):((i=o.sdk.socialSignIn)===null||i===void 0?void 0:i.signInProvider)===qb.Dynamic?f.jsx(eet,Object.assign({},a)):(Ie.error("Failed to render SocialSignInSection - no sign in provider enabled"),null)},net=({sections:e})=>{const[t,n]=x.useState(!0),r=t?e[0]:e[1];return f.jsxs("div",{className:"toggleable-section",children:[r.component,f.jsxs("div",{className:"toggleable-section__toggle-prompt",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:r.labelCopyKey,children:r.label}),f.jsx("button",{className:"toggleable-section__toggle-prompt__button",onClick:()=>n(!t),children:f.jsx(se,{weight:"medium",variant:"body_small",color:"brand-primary",className:"toggleable-section__toggle-prompt__button__text",copykey:r.buttonCopyKey,children:r.button})})]})]})},ret=({text:e,onClick:t,numberOfWallets:n,disabled:r=!1,copykey:i})=>{const o=x.useMemo(()=>n<=10?n:`${Math.floor(n/10)*10}+`,[n]),s=f.jsxs("div",{className:"list-item-button__trailing",children:[f.jsx("div",{className:Ke("list-item-button__trailing-child","list-item-button__trailing-label"),children:f.jsx(nf,{text:`${o} available`})}),f.jsx("div",{className:Ke("list-item-button__trailing-child","list-item-button__trailing-icon"),children:f.jsx(Nt,{color:"text-primary",size:"small",children:f.jsx(Vu,{})})})]});return f.jsx(rp,{trailing:s,onClick:t,className:"list-item-button",disabled:r,copykey:i,children:e})},iet=({previewWalletsNumber:e,disabled:t=!1,onshowAllWallets:n})=>{var r;const{t:i}=Xe(),{walletConnectorOptions:o,projectSettings:s,walletsFilter:a,multiWallet:l,recommendedWallets:c}=je(),{userWallets:d}=_s(),u=Hm(),{handleWalletItemClick:h}=np(),{numberOfWallets:m,walletsList:v}=Aj({groupWallets:!0,inputList:o,isWalletConnectList:!1,lastUsedWalletKey:(r=ot.getItem(Yu))!==null&&r!==void 0?r:void 0,loginWithEmail:!0,multiWallet:l,numberOfWalletsToShow:e,recommendedWallets:c,searchFilter:void 0,userWallets:d,walletGroups:u,walletsFilter:a});return s?f.jsxs("div",{className:"login-with-email-wallet-list__container","data-testid":"top-wallets-list",children:[v.map((y,g)=>f.jsx(z3,{wallet:y,disabled:t,onSelectWallet:h,recommendedWallets:c},`${y.key}_${g}`)),f.jsx(ret,{copykey:"dyn_wallet_list.view_all",text:i("dyn_wallet_list.view_all"),onClick:n,numberOfWallets:m,disabled:t})]}):f.jsx(Vo,{count:e+1,className:"login-with-email-wallet-list__skeleton"})},oet=({numberOfItemsToShow:e,isLoading:t,onSubmit:n})=>{const{t:r}=Xe();return e>0?f.jsx(iet,{previewWalletsNumber:e,onshowAllWallets:()=>n==null?void 0:n(),disabled:t}):f.jsx(g1,{onClick:()=>n==null?void 0:n(),disabled:t,className:"connect-with-wallet-button",children:f.jsx(se,{variant:"button_primary",copykey:"dyn_login.wallet_list.button_only",children:r("dyn_login.wallet_list.button_only")})})},set=({viewSection:e,index:t,walletCount:n,gotToWalletList:r})=>{const{loading:i}=hv(),{t:o}=Xe(),[s,a]=x.useState(i);switch(e.type){case Eo.Separator:return f.jsx(rf,{text:e.label});case Eo.Email:return f.jsx(iP,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s});case Eo.Phone:return f.jsx(_Z,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s});case Eo.EmailAndPhone:const l=[{button:o("dyn_login.email_or_phone.use_phone"),buttonCopyKey:"dyn_login.email_or_phone.use_phone",component:f.jsx(iP,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s}),label:o("dyn_login.email_or_phone.prefer_phone"),labelCopyKey:"dyn_login.email_or_phone.prefer_phone"},{button:o("dyn_login.email_or_phone.use_email"),buttonCopyKey:"dyn_login.email_or_phone.use_email",component:f.jsx(_Z,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s}),label:o("dyn_login.email_or_phone.prefer_email"),labelCopyKey:"dyn_login.email_or_phone.prefer_email"}];return e.defaultItem==="phone"&&l.reverse(),f.jsx(net,{sections:l});case Eo.Wallet:return f.jsx(oet,{numberOfItemsToShow:e.numOfItemsToDisplay||0,onSubmit:r,isLoading:s});case Eo.Social:return f.jsx(tet,{collapsedLayout:n>1,sectionData:e});case Eo.Passkey:return f.jsx(zQe,{onSubmit:()=>a(!0),onSubmitError:()=>a(!1),isLoading:s});case Eo.Text:return e.label?f.jsx(se,{variant:"body_normal",color:"secondary",align:e.alignment,className:"login-view__text","data-testid":"login-view-section__text",children:e.label}):null}},aet=e=>!!(e&&Dc(e,pn.Passkey)),kZ=e=>({numOfItemsToDisplay:e,type:Eo.Wallet}),SZ=(e,t)=>({defaultItem:t,numOfItemsToDisplay:e,type:Eo.Social}),Sk=e=>({type:e}),cet=({socialAboveEmail:e,showWallets:t,web3Layout:n,numOfWalletsToDisplay:r,showEmail:i,showPhone:o,showSocial:s,showPasskey:a,splitEmailAndSocial:l,defaultSocialItem:c})=>{const d=!l&&(i||o),u=l?c:void 0;return[{condition:t&&n,section:kZ(r)},{condition:s&&e,hideSeparator:d?"below":void 0,section:SZ(5,u)},{condition:i&&!o,section:Sk(Eo.Email)},{condition:!i&&o,section:Sk(Eo.Phone)},{condition:i&&o,section:Sk(Eo.EmailAndPhone)},{condition:s&&!e,hideSeparator:d?"above":void 0,section:SZ(5,u)},{condition:a,section:Sk(Eo.Passkey)},{condition:t&&!n,section:kZ(r)}]},det=e=>{var t,n,r;const{projectSettings:i,overrides:o}=je(),s=(n=(t=i==null?void 0:i.sdk)===null||t===void 0?void 0:t.views)===null||n===void 0?void 0:n.find(l=>l.type===e);return((r=o==null?void 0:o.views)===null||r===void 0?void 0:r.find(l=>l.type===e))||s},uet=3,fet=()=>{const e=det(hO.Login),{authorizationViewDisplayOrder:t,loginWithEmail:n,walletsFilter:r}=je(),i=vo(),{t:o}=Xe(),{enabledSocialProviders:s}=sf(),{numberOfWallets:a}=ffe({viewWalletsFilter:r}),l=!!(s!=null&&s.length),c=_j(i==null?void 0:i.providers),d=pfe(i==null?void 0:i.providers),u=aet(i==null?void 0:i.providers),h=x.useMemo(()=>{var y;return i?!n&&!d&&!l?!0:!((y=e==null?void 0:e.sections)===null||y===void 0)&&y.length?e.sections.length===1&&e.sections[0].type==="wallet":!c&&!d&&!l:!1},[e==null?void 0:e.sections,i,n,l,d,c]),m=x.useCallback(y=>{var g;const b=_=>{var R;return(R=_.networks)===null||R===void 0?void 0:R.some(I=>I.enabled)},k=(g=i==null?void 0:i.chains)===null||g===void 0?void 0:g.some(_=>_.enabled&&b(_));return i&&!k&&y.find(_=>_.type==="wallet")&&Ie.error("Failed to render WalletSignInSection - no chains enabled"),a>0?y:y.filter(_=>_.type!=="wallet")},[a,i]),v=x.useMemo(()=>{var y,g,b,k,_,R;if(!((y=e==null?void 0:e.sections)===null||y===void 0)&&y.length)return m(e==null?void 0:e.sections);const{splitEmailAndSocial:I=!1,socialAboveEmail:T=!1}=(g=i==null?void 0:i.design.modal)!==null&&g!==void 0?g:{},D=[],M=cet({defaultSocialItem:s[0],numOfWalletsToDisplay:!((k=(b=i==null?void 0:i.design)===null||b===void 0?void 0:b.modal)===null||k===void 0)&&k.showWalletsButton?0:uet,showEmail:c,showPasskey:u,showPhone:d,showSocial:!!(s!=null&&s.length),showWallets:a>0&&!(!((R=(_=i==null?void 0:i.design)===null||_===void 0?void 0:_.modal)===null||R===void 0)&&R.emailOnly),socialAboveEmail:T,splitEmailAndSocial:I,web3Layout:t==="web3"}),C={label:o("dyn_login.separators.default"),type:Eo.Separator};let U=!1;for(const $ of M)$.condition&&(D.length>0&&!U&&$.hideSeparator!=="above"&&D.push(C),D.push($.section),U=$.hideSeparator==="below");return D},[e==null?void 0:e.sections,i==null?void 0:i.design.modal,s,c,u,d,a,t,o,m]);return{isWalletOnly:h,loginViewSections:v}},het=(e,t)=>e.length===1&&e[0].type===Eo.Social&&t.length===1&&t.includes(ym.Farcaster)&&!rr(),IZ=()=>{var e;const{errorText:t}=Kqe(),{pushView:n}=At(),{isWalletOnly:r,loginViewSections:i}=fet(),{enabledSocialProviders:o}=sf(),{showDefaultFooter:s}=rg(),{handleWalletItemClick:a}=np(),l=((e=i.find(h=>h.type===Eo.Wallet))===null||e===void 0?void 0:e.numOfItemsToDisplay)||0,c=x.useMemo(()=>i.map((h,m)=>f.jsx("div",{className:Ke("login-view__scroll__section",`login-view__scroll__section--${h.type}`),children:f.jsx(set,{gotToWalletList:()=>n("login-with-email-or-wallet-full-wallet-list"),index:m,viewSection:h,walletCount:l})},`${h.type}__${m}`)),[i,l,n]),d=t&&f.jsx(Lr,{className:"login-view__error-container",withIcon:!1,children:t});if(het(i,o))return f.jsxs(f.Fragment,{children:[d,f.jsx(kQe,{})]});if(r)return f.jsx(Rj,{onSelectWallet:a,showDefaultFooter:s});const u=rr()&&s;return f.jsxs(f.Fragment,{children:[d,f.jsx("div",{className:Ke("login-view__container",{"login-view__container--error":!!t}),children:f.jsx("div",{className:"login-view__scroll","data-testid":"login-view-scroll",children:c})}),u&&f.jsx(H3,{hideBorder:!0})]})},gfe=()=>{const{environmentId:e,setShowAuthFlow:t,selectedWalletConnector:n}=je(),{addedWalletsIds:r}=_s();return{mergeUserAccounts:o=>de(void 0,void 0,void 0,function*(){const a=(yield pWe(e,o)).lastVerifiedCredentialId;a&&r.current.push(a);const l=yield n==null?void 0:n.getConnectedAccounts();l!=null&&l.length&&rt.emit("triggerComputePrimaryWalletMultiWalletStateFromAccounts",{accounts:l}),t(!1)})}},EZ=({children:e,checked:t,value:n,name:r,disabled:i=!1,className:o="",onChange:s})=>{const a=`${r}_${n}`;return f.jsxs("div",{className:Ke("radio-button",o),children:[f.jsx("input",{type:"radio",id:a,name:r,value:n,disabled:i,defaultChecked:t,onChange:s}),f.jsx("label",{htmlFor:a,children:e})]})},pet=({mergeConflicts:e})=>{const{mergeUserAccounts:t}=gfe(),{t:n}=Xe(),[r,i]=x.useState(""),o=x.useRef(Object.fromEntries(e.map(({field:l,currentUser:c})=>[`${l.name}_${l.type}`,{fieldKey:l.name,type:l.type||Ed.Standard,userId:c.userId}]))),s=()=>de(void 0,void 0,void 0,function*(){const l=Object.values(o.current).map(({fieldKey:c,type:d,userId:u})=>({fieldKey:c,type:d,userId:u}));try{yield t(l)}catch(c){Ie.error("Error merging user accounts",c),i(n("dyn_merge_user_accounts_conflicts.errors.merge_error"))}});if(!(e!=null&&e.length))return null;const a=(l,c,d,u)=>{i(""),u&&(o.current[`${l}_${c}`]={fieldKey:l,type:c||Ed.Standard,userId:d})};return f.jsxs("div",{className:"merge-user-accounts-conflicts__container",children:[r&&f.jsx(tc,{icon:"error",variant:"error",className:"merge-user-accounts-conflicts__error",children:r}),f.jsx("div",{className:"merge-user-accounts-conflicts__description",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_merge_user_accounts_conflicts.description",children:n("dyn_merge_user_accounts_conflicts.description")})}),f.jsx("div",{className:"merge-user-accounts-conflicts__fields",children:e.map(({field:l,currentUser:c,fromUser:d})=>{var u;return f.jsxs("div",{className:"merge-user-accounts-conflicts__fields__item",children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts-conflicts__fields__item__name",children:(u=l.label)!==null&&u!==void 0?u:Od(l.name)}),f.jsx(EZ,{name:l.name,value:c.value,checked:!0,className:"merge-user-accounts-conflicts__fields__item__button",onChange:h=>a(l.name,l.type,c.userId,h.target.checked),children:c.value}),f.jsx(EZ,{name:l.name,value:d.value,className:"merge-user-accounts-conflicts__fields__item__button",onChange:h=>a(l.name,l.type,d.userId,h.target.checked),children:d.value})]},l.name)})}),f.jsx("div",{className:"merge-user-accounts-conflicts__buttons",children:f.jsx(xt,{className:"merge-user-accounts-conflicts__buttons__button",onClick:s,buttonVariant:"primary",buttonPadding:"large",expanded:!0,copykey:"dyn_merge_user_accounts_conflicts.confirm_button",children:n("dyn_merge_user_accounts_conflicts.confirm_button")})})]})},met=e=>{const{pushView:t}=At(),{mergeUserAccounts:n}=gfe(),{t:r}=Xe(),[i,o]=x.useState(""),{mergeConflicts:s}=e,a=()=>{const c=()=>{t("merge-user-accounts",e)};t("merge-user-accounts-conflicts",{mergeConflicts:(s==null?void 0:s.conflicts)||[]},{onBackClick:c})},l=()=>de(void 0,void 0,void 0,function*(){if(s!=null&&s.conflicts.length){a();return}try{yield n([])}catch(c){Ie.error("Error merging user accounts",c),o(r("dyn_merge_user_accounts.errors.merge_error"))}});return f.jsxs("div",{className:"merge-user-accounts",children:[i&&f.jsx(tc,{icon:"error",variant:"error",className:"merge-user-accounts__error",children:i}),f.jsxs("div",{className:"merge-user-accounts__container",children:[f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts__title",copykey:"dyn_merge_user_accounts.wallet.content",children:r("dyn_merge_user_accounts.wallet.content")}),f.jsx(xt,{onClick:l,buttonClassName:"merge-user-accounts__button",buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"inherit"},expanded:!0,copykey:"dyn_merge_user_accounts.confirm_button",children:r("dyn_merge_user_accounts.confirm_button")})]})]})};var CZ,get=["title","titleId"];function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SP.apply(null,arguments)}function yet(e,t){if(e==null)return{};var n,r,i=vet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wet=function(t){var n=t.title,r=t.titleId,i=yet(t,get);return x.createElement("svg",SP({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,CZ||(CZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.862 2.862c.26-.26.682-.26.943 0L8.47 7.529a.667.667 0 0 1 0 .942l-4.666 4.667a.667.667 0 0 1-.943-.943L7.057 8 2.862 3.805a.667.667 0 0 1 0-.943Zm5.333 0c.26-.26.683-.26.943 0l4.667 4.667c.26.26.26.682 0 .942l-4.667 4.667a.667.667 0 0 1-.943-.943L12.39 8 8.195 3.805a.667.667 0 0 1 0-.943Z",fill:"currentColor"})))};const bet=({returnToView:e})=>{const{environmentId:t,setShowAuthFlow:n,setCallback:r,primaryWallet:i,user:o}=je(),s=Aue(),{t:a}=Xe(),{setError:l}=so(),{pushView:c,clearStackAndPushInitialView:d}=At(),{displayedDestination:u}=Kc(),h=()=>de(void 0,void 0,void 0,function*(){try{const v=yield hWe(t);if(!v)throw new Se("Something went wrong, please try again.");yield s(v),n(!1),r("authSuccess")}catch{if(l(a("dyn_merge_user_accounts_with_same_email.errors.merge_error")),o){n(!1,{emitCancelAuth:!0});return}d()}}),m=()=>{if(l(void 0),e){c(e);return}if(o){n(!1);return}c("collect-user-data")};return f.jsxs("div",{className:"merge-user-accounts-with-same-email__container",children:[f.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts",children:[f.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[f.jsx(oi,{icon:i==null?void 0:i.connector.metadata.icon,walletKey:i==null?void 0:i.connector.key,className:"merge-user-accounts-with-same-email__accounts__item__icon"}),f.jsx(se,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:Ni(i==null?void 0:i.address)})]}),f.jsx("div",{className:"merge-user-accounts-with-same-email__accounts__divider",children:f.jsx(Nt,{color:"text-secondary",size:"small",children:f.jsx(wet,{})})}),f.jsxs("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[f.jsx(TM,{className:"merge-user-accounts-with-same-email__accounts__item__icon"}),f.jsx(se,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:m1(u,{breakpoint:4,cutEnd:1,cutStart:2})})]})]}),f.jsx(se,{weight:"regular",variant:"title",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__header",copykey:"dyn_merge_user_accounts_with_same_email.title",children:a("dyn_merge_user_accounts_with_same_email.title")}),f.jsxs(se,{weight:"medium",variant:"body_normal",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__body",copykey:"dyn_merge_user_accounts_with_same_email.existing_account",children:[a("dyn_merge_user_accounts_with_same_email.existing_account")," ",f.jsx("span",{className:"merge-user-accounts-with-same-email__text--bold",children:m1(u,{breakpoint:14})})," ",a("dyn_merge_user_accounts_with_same_email.existing_account_trail")]}),f.jsxs("div",{className:"merge-user-accounts-with-same-email__buttons",children:[f.jsx(xt,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:h,buttonVariant:"primary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.confirm_button",children:a("dyn_merge_user_accounts_with_same_email.confirm_button")}),f.jsx(xt,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:m,buttonVariant:"secondary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.cancel_button",children:a("dyn_merge_user_accounts_with_same_email.cancel_button")})]})]})};var AZ,RZ,TZ,OZ,NZ,PZ,BZ,_et=["title","titleId"];function IP(){return IP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IP.apply(null,arguments)}function xet(e,t){if(e==null)return{};var n,r,i=ket(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ket(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Iet=function(t){var n=t.title,r=t.titleId,i=xet(t,_et);return x.createElement("svg",IP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,x.createElement("mask",{id:"secure-account_svg__a",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:327,height:112},AZ||(AZ=x.createElement("path",{d:"M315 0H12C5.373 0 0 5.373 0 12v88c0 6.627 5.373 12 12 12h303c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12Z",fill:"#fff"}))),x.createElement("g",{mask:"url(#secure-account_svg__a)"},RZ||(RZ=x.createElement("path",{d:"M164 228c62.96 0 114-51.04 114-114S226.96 0 164 0 50 51.04 50 114s51.04 114 114 114Z",fill:"url(#secure-account_svg__b)",fillOpacity:.12})),x.createElement("mask",{id:"secure-account_svg__c",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:86,y:29,width:40,height:40},TZ||(TZ=x.createElement("path",{d:"M116.91 29 86 37.282l8.282 30.91 30.91-8.282L116.91 29Z",fill:"#fff"}))),x.createElement("g",{mask:"url(#secure-account_svg__c)"},x.createElement("mask",{id:"secure-account_svg__d",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:90,y:33,width:31,height:31},OZ||(OZ=x.createElement("path",{d:"M119.763 44.8c-2.097-7.825-10.139-12.468-17.963-10.371-7.824 2.096-12.468 10.138-10.371 17.962 2.096 7.825 10.139 12.468 17.963 10.371 7.824-2.096 12.467-10.138 10.371-17.962Z",fill:"#fff"}))),NZ||(NZ=x.createElement("g",{mask:"url(#secure-account_svg__d)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.37-7.825 2.096-12.468 10.138-10.371 17.962a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.847 5.5 5.5 0 0 1-10.625 2.847Z",fill:"#4779FF"})))),PZ||(PZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm7.008 18.695c0-1.726-1.4-3.126-3.127-3.126h-14.069a6.253 6.253 0 0 0-6.153 5.133 6.234 6.234 0 0 1 4.589-2.007h18.76Zm1.562 3.127c3.454 0 6.253 2.8 6.253 6.253v12.506a6.253 6.253 0 0 1-6.253 6.254h-18.759a6.253 6.253 0 0 1-6.253-6.254V60.14a6.253 6.253 0 0 1 6.253-6.253h18.759Z",fill:"#4779FF"}))),BZ||(BZ=x.createElement("defs",null,x.createElement("linearGradient",{id:"secure-account_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const Eet=()=>{const{completeAuth:e}=of({});return x.useCallback(()=>de(void 0,void 0,void 0,function*(){let t;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return t=yield nNe(),rt.emit("mfaCompletionSuccess",{mfaToken:t.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:t}})}),t}),[e])},Cet=({isInitialSetup:e=!0,createMfaToken:t=!1})=>{const{handleLogOut:n}=Zc(),{t:r}=Xe(),{pushView:i}=At(),o=Eet(),s=ude(),a=Zqe(e),{data:l}=vr(a,{deps:[e],initialData:[]}),c=()=>{if(e){const v=o();i("passkey-setup",{registerPasskeyPromise:v});return}const m=s({createMfaToken:t?{singleUse:!0}:void 0});i("passkey-confirm",{authenticatePasskeyPromise:m,createMfaToken:t})},d=()=>{if(e){i("mfa-secure-device",{isInitialSetup:!0,type:Ji.Totp});return}i("mfa-verification",{createMfaToken:t,isInitialSetup:e,showBackButton:!0,type:Ji.Totp})},u=h=>{switch(h.type){case"backupCode":i("mfa-recovery");break;case Ji.Passkey:c();break;case Ji.Totp:d();break;default:Ie.error(`No handler found for selected MFA option: ${h.type}`);break}};return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{alignContent:"bottom",children:f.jsx("div",{className:"otp-verification-view__status-header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"otp-verification-view__title",children:r(e?"dyn_mfa.choose_device_view.title":"dyn_mfa.choose_device_view.choose_another_method")})})}),f.jsxs("div",{className:"mfa-choose-device-view__body","data-testid":"mfa-choose-device-view",children:[f.jsx(Iet,{}),f.jsx(se,{className:"mfa-choose-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:r(e?"dyn_mfa.choose_device_view.select_options":"dyn_mfa.choose_device_view.choose_another_method_description")}),l.map(h=>f.jsxs(km,{buttonClassName:"mfa-choose-device-view__button",expanded:!0,onClick:()=>u(h),children:[f.jsxs("div",{className:"mfa-choose-device-view__button__header","data-testid":`mfa-device-header-${h.type}`,children:[f.jsx(se,{copykey:h.labelKey,color:"primary",children:r(h.labelKey)}),f.jsx(Kd,{className:"mfa-choose-device-view__icon--rotate"})]}),f.jsx(se,{className:"mfa-choose-device-view__button__description",color:"secondary",copykey:h.descriptionKey,children:r(h.descriptionKey)})]},h.type)),f.jsx(Zs,{className:"mfa-choose-device-view__logout",onClick:n,copykey:"dyn_mfa.choose_device_view.logout",children:r("dyn_mfa.choose_device_view.logout")})]})]})},Aet=({code:e})=>{const t=Js(),n=Tn(t);return ao({},t).registerTotpMfaDeviceVerify({environmentId:n.environmentId,mFARegisterTotpDevicePostRequest:{code:e,type:Ji.Totp}})},G3=()=>{const{completeAuth:e}=of({}),t=x.useCallback(y=>de(void 0,[y],void 0,function*({code:g,type:b,deviceId:k,createMfaToken:_,resultHandler:R}){let I;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){if(b!==Ji.Totp)throw new Error("Only Totp is supported");const T=yield uNe({code:g,createMfaTokenOptions:_,deviceId:k});return I=R(T),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:T}})}),I}),[e]),n=x.useCallback(()=>de(void 0,void 0,void 0,function*(){return yield J5()}),[]),r=x.useCallback(y=>de(void 0,void 0,void 0,function*(){if(!(yield J5()).find(k=>k.id===y))throw new Error("Device not found");yield gNe({deviceId:y})}),[]),i=x.useCallback((y,g)=>de(void 0,void 0,void 0,function*(){if(!(yield J5()).find(_=>_.id===y))throw new Error("Device not found");yield fNe({deviceId:y,mfaAuthToken:g}),yield T3({environmentId:Qu()})}),[]),o=x.useCallback((...y)=>de(void 0,[...y],void 0,function*(g=Ji.Totp){if(g===Ji.Totp)return mNe();throw new Error("Unsupported MFA device type")}),[]),s=x.useCallback((y,...g)=>de(void 0,[y,...g],void 0,function*(b,k=Ji.Totp,_){let R=!1;return yield t({code:b,deviceId:_,resultHandler:()=>(R=!0,!0),type:k}),R}),[t]),a=x.useCallback(y=>de(void 0,[y],void 0,function*({code:g,type:b=Ji.Totp,deviceId:k,createMfaToken:_}){return t({code:g,createMfaToken:_,deviceId:k,resultHandler:R=>R.mfaToken,type:b})}),[t]),l=x.useCallback(y=>de(void 0,void 0,void 0,function*(){let g=!1;return yield e({onValidUpdatedJwt:()=>de(void 0,void 0,void 0,function*(){g=!0}),updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){const b=yield Nq({code:y,createMfaTokenOptions:{singleUse:!0}});if(!b)throw new Error("Failed to authenticate recovery code");return rt.emit("mfaCompletionSuccess",{mfaToken:b.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:b}})}),g}),[e]),c=x.useCallback(y=>de(void 0,[y],void 0,function*({code:g,createMfaToken:b}){let k;return yield e({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){const _=yield Nq({code:g,createMfaTokenOptions:b});if(!_)throw new Error("Failed to authenticate recovery code");return k=_.mfaToken,rt.emit("mfaCompletionSuccess",{mfaToken:_.mfaToken}),{isEmailVerificationRequired:!1,isSmsVerificationRequired:!1,missingFields:[],updateUserProfileResponse:_}})}),k}),[e]),d=x.useCallback((y,...g)=>de(void 0,[y,...g],void 0,function*(b,k=Ji.Totp){if(k===Ji.Totp){const _=yield Aet({code:b});if(!_)throw new Error("Failed to verify device");return _}throw new Error("Unsupported MFA device type")}),[]),u=x.useCallback((...y)=>de(void 0,[...y],void 0,function*(g=!1){if(g){const{recoveryCodes:b}=yield Pq();return b}else{const{recoveryCodes:b}=yield hNe();return b}}),[]),h=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const{recoveryCodes:y}=yield Pq();return y}),[]),m=x.useCallback(()=>de(void 0,void 0,void 0,function*(){return pNe()}),[]),v=x.useCallback(()=>de(void 0,void 0,void 0,function*(){yield aNe()}),[]);return{addDevice:o,authDevice:s,authRecoveryCode:l,authenticateDevice:a,authenticateRecoveryCode:c,completeAcknowledgement:v,deleteUserDevice:i,getNewRecoveryCodes:h,getRecoveryCodes:u,getUserDevices:n,isPendingRecoveryCodesAcknowledgment:m,updateUserDevice:r,verifyDevice:d}},Ret=({regenerateCodes:e=!1})=>{const{setShowAuthFlow:t}=je(),[n,r]=x.useState(!1),{t:i}=Xe(),{getRecoveryCodes:o,completeAcknowledgement:s}=G3(),{data:a,isLoading:l}=vr(()=>o(e)),c=(a||[]).join(`
`),d=()=>de(void 0,void 0,void 0,function*(){t(!1),yield s()}),u=h=>de(void 0,void 0,void 0,function*(){h.preventDefault();const m=new Blob([c],{type:"text/plain"});yield Ln.downloadFile("mfa-backup-codes.txt",m)});return f.jsxs("div",{className:"mfa-display-backup-codes-view__body","data-testid":"mfa-display-backup-codes-view",children:[f.jsx(se,{className:"mfa-display-backup-codes-view__copy",variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_mfa.display_backup_codes_view.body",children:i("dyn_mfa.display_backup_codes_view.body")}),f.jsx(tc,{variant:"warning",copykey:"dyn_mfa.display_backup_codes_view.warning",className:"mfa-display-backup-codes-view__warning",children:i("dyn_mfa.display_backup_codes_view.warning")}),l?f.jsx(x_,{className:"mfa-display-backup-codes-view__loading-spinner"}):f.jsxs("div",{className:"mfa-display-backup-codes-view__codes",children:[a==null?void 0:a.map((h,m)=>f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"mfa-display-backup-codes-view__code",children:h},m)),f.jsxs("div",{className:"mfa-display-backup-codes-view__actions",children:[f.jsx(Sm,{variant:"button",textToCopy:c,copykey:"dyn_mfa.display_backup_codes_view.copy_all",startSlot:f.jsx(Nt,{size:"mini",color:"text-tertiary",children:f.jsx(jh,{})}),children:i("dyn_mfa.display_backup_codes_view.copy_all")}),f.jsx(xt,{dataTestId:"download-button",buttonPadding:"small",buttonVariant:"primary",onClick:u,startSlot:f.jsx(Bue,{}),expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.download",children:i("dyn_mfa.display_backup_codes_view.download")})]})]}),f.jsxs("div",{className:"mfa-display-backup-codes-view__complete",children:[f.jsx(xt,{buttonClassName:"mfa-display-backup-codes-view__acknowledgement",dataTestId:"ack-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>r(!n),startSlot:f.jsx(Vd,{checked:n,onChange:()=>{r(!n)},className:"mfa-display-backup-codes-view__acknowledgement__checkbox"}),expanded:!0,typographyProps:{color:"secondary"},copykey:"dyn_mfa.display_backup_codes_view.checkbox",children:i("dyn_mfa.display_backup_codes_view.checkbox")}),f.jsx(xt,{dataTestId:"complete-button",buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!n,expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.complete",onClick:d,children:i("dyn_mfa.display_backup_codes_view.complete")})]})]})};var MZ,Tet=["title","titleId"];function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EP.apply(null,arguments)}function Oet(e,t){if(e==null)return{};var n,r,i=Net(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Net(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Pet=function(t){var n=t.title,r=t.titleId,i=Oet(t,Tet);return x.createElement("svg",EP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,MZ||(MZ=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm.455 13a8.074 8.074 0 0 0-8.073 8.073v4.037A13.435 13.435 0 0 0 19.5 35.875c0 7.431 6.025 13.456 13.456 13.456 7.431 0 13.455-6.025 13.455-13.456 0-4.403-2.114-8.312-5.383-10.767v-4.035a8.073 8.073 0 0 0-7.657-8.062L32.955 13ZM33 30a3.5 3.5 0 0 1 1.5 6.663V39.5a1.5 1.5 0 0 1-3 0v-2.837A3.5 3.5 0 0 1 33 30Zm-.045-14a5.073 5.073 0 0 1 5.073 5.073v2.335a13.418 13.418 0 0 0-5.072-.99c-1.795 0-3.508.353-5.074.991v-2.336A5.074 5.074 0 0 1 32.955 16Z",fill:"#0A0B0C"})))};const _4=96,Bet=({onSubmit:e,onBack:t})=>{const{t:n}=Xe(),[r,i]=x.useState(""),o=l=>{const c=l.target.value;i(c)},s=f.jsx(Sn,{type:"button",id:"back-button","data-testid":"back-button",onClick:()=>{t()},children:f.jsx(Yh,{})}),a=f.jsx(Pet,{style:{height:Ut(_4*Yo),width:Ut(_4*Yo)}});return f.jsxs("div",{className:"mfa-exchange-view",children:[f.jsx(Zn,{leading:s,children:f.jsx(se,{variant:"title",copykey:"dyn_exchange_mfa.title",children:n("dyn_exchange_mfa.title")})}),f.jsxs("div",{className:"mfa-exchange-view__content",children:[f.jsxs("div",{className:"mfa-exchange-view__content__icon-description",children:[f.jsx("div",{className:"mfa-exchange-view__content__icon-description__icon-holder",children:f.jsx(si,{Icon:a,customSpinnerColor:"black",iconSize:_4,className:"mfa-exchange-view__content__icon-description__icon-holder__icon",isSpinning:!0})}),f.jsx("div",{className:"mfa-exchange-view__content__icon-description__description-holder",children:f.jsx(se,{variant:"body_normal",className:"mfa-exchange-view__content__icon-description__description-holder__description",color:"secondary",copykey:"dyn_exchange_mfa.description",children:n("dyn_exchange_mfa.description")})})]}),f.jsx("div",{className:"mfa-exchange-view__content__input",children:f.jsx("input",{id:"mfa-input","data-testid":"mfa-input",value:r,onChange:o,className:"mfa-exchange-view__content__input__input"})}),f.jsx("div",{className:"mfa-exchange-view__content__confirm",children:f.jsx(xt,{dataTestId:"confirm-button",buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"white"},className:"mfa-exchange-view__content__confirm__button",disabled:r==="",onClick:()=>{e(r)},copykey:"dyn_exchange_mfa.button",children:n("dyn_exchange_mfa.button")})})]}),f.jsx(Gc,{asFooter:!0})]})},Met=e=>/^[a-zA-Z0-9]{10}$/.test(e);var DZ,Det=["title","titleId"];function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CP.apply(null,arguments)}function jet(e,t){if(e==null)return{};var n,r,i=$et(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $et(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Let=function(t){var n=t.title,r=t.titleId,i=jet(t,Det);return x.createElement("svg",CP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,DZ||(DZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-9.322-18.117a1.828 1.828 0 1 0 3.613.568l1.152-7.457h7.144l-1.1 6.89a1.828 1.828 0 1 0 3.612.567l1.153-7.457h3.504a1.691 1.691 0 0 0 0-3.383h-2.948l1.16-7.222h3.597a1.691 1.691 0 0 0 0-3.383h-3.087l1.1-6.89a1.829 1.829 0 1 0-3.612-.567l-1.153 7.457H30.17l1.1-6.89a1.828 1.828 0 1 0-3.613-.567l-1.152 7.457h-3.458a1.691 1.691 0 0 0 0 3.383h2.901l-1.16 7.222h-3.597a1.691 1.691 0 0 0 0 3.383h3.087l-1.1 6.89Zm12.42-10.272H28.5l1.16-7.222h7.097l-1.16 7.222Z",fill:"#4779FF"})))};const Uet=e=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(Let,Object.assign({},e,{"data-testid":"mfa-recovery-icon"}))}),Fet=()=>{var e;const{t}=Xe(),{projectSettings:n}=je(),{authRecoveryCode:r}=G3(),[i,o]=x.useState(""),[s,a]=x.useState(!1),[l,c]=x.useState(""),d=(e=n==null?void 0:n.general)===null||e===void 0?void 0:e.supportEmail,u=()=>de(void 0,void 0,void 0,function*(){if(i)try{a(!0),yield r(i)}catch(m){c(m.message||"Something went wrong")}finally{a(!1)}}),h=m=>{const v=m.target.value;o(v),c("")};return f.jsxs(f.Fragment,{children:[l&&f.jsx(Lr,{children:l}),f.jsxs("div",{className:"mfa-recovery-view",children:[f.jsx(si,{Icon:Uet,isSpinning:s,iconSize:96}),f.jsx("div",{className:"mfa-recovery-view__body",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_mfa.recovery_view.body",children:t("dyn_mfa.recovery_view.body")})}),f.jsxs("div",{className:"mfa-recovery-view__actions",children:[f.jsx(Sl,{id:"mfa-recovery-input","data-testid":"mfa-recovery-input",label:t("dyn_mfa.recovery_view.input_label"),onChange:h,value:i}),f.jsx(km,{expanded:!0,buttonVariant:"brand-primary",disabled:s||!Met(i),onClick:u,dataTestId:"mfa-recovery-submit",children:f.jsx(se,{copykey:"dyn_mfa.recovery_view.button_label",children:t("dyn_mfa.recovery_view.button_label")})})]}),d&&f.jsxs("div",{className:"mfa-recovery-view__get-help",children:[f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_mfa.recovery_view.get_help.description",children:t("dyn_mfa.recovery_view.get_help.description")}),f.jsx(se,{variant:"body_small",color:"link",copykey:"dyn_mfa.recovery_view.get_help.button_label",children:f.jsx("a",{href:`mailto:${d}`,children:t("dyn_mfa.recovery_view.get_help.button_label")})})]})]})]})},Wet=({uri:e,secret:t})=>{const{t:n}=Xe();return f.jsx("div",{className:"mfa-qrcode-help-content__container",children:f.jsx(q3,{delay:"300ms",children:f.jsxs("div",{className:"mfa-qrcode-help-content__setup-container",children:[f.jsxs("div",{className:"mfa-qrcode-help-content__step",children:[f.jsx("div",{className:"mfa-qrcode-help-content__step__number",children:"1"}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__instructions",children:[f.jsx(se,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",copykey:"dyn_mfa.secure_device_view.helper.step1.title",children:n("dyn_mfa.secure_device_view.helper.step1.title")}),f.jsx(se,{variant:"body_small",className:"mfa-qrcode-help-content__step__subtext",copykey:"dyn_mfa.secure_device_view.helper.step1.description",children:n("dyn_mfa.secure_device_view.helper.step1.description")})]})]}),f.jsxs("div",{className:"mfa-qrcode-help-content__vertical-container",children:[f.jsxs("div",{className:"mfa-qrcode-help-content__step",children:[f.jsx("div",{className:"mfa-qrcode-help-content__step__number",children:"2"}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__instructions",children:[f.jsx(se,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",copykey:"dyn_mfa.secure_device_view.helper.step2.title",children:n("dyn_mfa.secure_device_view.helper.step2.title")}),f.jsx(se,{variant:"body_small",className:"mfa-qrcode-help-content__step__subtext",copykey:"dyn_mfa.secure_device_view.helper.step2.description",children:n("dyn_mfa.secure_device_view.helper.step2.description")})]})]}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__nocopy-box",children:[f.jsx(se,{className:"mfa-qrcode-help-content__step__nocopy-text",variant:"body_small",children:t}),f.jsx(Sm,{textToCopy:t,children:f.jsx(jh,{"data-testid":"copy-secret",onClick:r=>{r.preventDefault()}})})]})]}),f.jsx(rf,{text:"OR"}),f.jsxs("div",{className:"mfa-qrcode-help-content__vertical-container",children:[f.jsx("div",{className:"mfa-qrcode-help-content__step",children:f.jsxs("div",{className:"uri-section",children:[f.jsx(se,{variant:"body_normal",color:"primary",className:"mfa-qrcode-help-content__step__title",copykey:"dyn_mfa.secure_device_view.helper.uri.title",children:n("dyn_mfa.secure_device_view.helper.uri.title")}),f.jsx(se,{className:"uri-subtext",variant:"body_small",copykey:"dyn_mfa.secure_device_view.helper.uri.description",children:n("dyn_mfa.secure_device_view.helper.uri.description")})]})}),f.jsxs("div",{className:"mfa-qrcode-help-content__step__nocopy-box",children:[f.jsx(se,{className:"mfa-qrcode-help-content__step__nocopy-text",variant:"body_small",children:e}),f.jsx(Sm,{textToCopy:e,children:f.jsx(jh,{"data-testid":"copy-uri",onClick:r=>{r.preventDefault()}})})]})]})]})})})};var jZ,qet=["title","titleId"];function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AP.apply(null,arguments)}function zet(e,t){if(e==null)return{};var n,r,i=Vet(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var yfe=function(t){var n=t.title,r=t.titleId,i=zet(t,qet);return x.createElement("svg",AP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,jZ||(jZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-7.618-38.89v-4.037a8.074 8.074 0 0 1 16.147 0v4.036a13.436 13.436 0 0 1 5.383 10.766c0 7.431-6.025 13.456-13.456 13.456-7.432 0-13.456-6.025-13.456-13.456 0-4.402 2.114-8.31 5.382-10.765Zm13.147-1.702v-2.335a5.074 5.074 0 0 0-10.147 0v2.336a13.416 13.416 0 0 1 5.074-.99c1.795 0 3.507.352 5.073.99ZM34.5 36.663a3.5 3.5 0 1 0-3 0V39.5a1.5 1.5 0 0 0 3 0v-2.837Z",fill:"#4779FF"})))};const Ket=({type:e,isInitialSetup:t=!1})=>{const{t:n}=Xe(),{handleLogOut:r}=Zc(),{pushView:i}=At(),{addDevice:o}=G3(),{data:s,isLoading:a}=vr(()=>o(e)),l=()=>{i("mfa-verification",{deviceId:s==null?void 0:s.id,isInitialSetup:t,showBackButton:!0,type:e})},c=({secret:d,uri:u})=>{i("mfa-secure-device-help",{secret:d,uri:u})};return f.jsxs("div",{className:"mfa-secure-device-view__body","data-testid":"mfa-secure-device-view",children:[f.jsx(se,{className:"mfa-secure-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_mfa.secure_device_view.body",children:n("dyn_mfa.secure_device_view.body")}),a&&f.jsx(x_,{className:"mfa-secure-device-view__loading-spinner"}),s&&f.jsxs("div",{className:"mfa-secure-device-view__qrcode",children:[f.jsx(dfe,{Icon:f.jsx(yfe,{}),value:s.uri,logoSize:50}),f.jsx("div",{className:"button-container",children:f.jsx("button",{onClick:()=>c({secret:s.secret,uri:s.uri}),children:f.jsx(se,{variant:"body_small",weight:"medium",color:"secondary",copykey:"dyn_mfa.secure_device_view.helper.button",children:n("dyn_mfa.secure_device_view.helper.button")})})})]}),f.jsx(xt,{className:"mfa-secure-device-view__button",expanded:!0,onClick:l,copykey:"dyn_mfa.secure_device_view.continue",children:n("dyn_mfa.secure_device_view.continue")}),f.jsx(Zs,{className:"mfa-secure-device-view__logout-button",onClick:r,copykey:"dyn_mfa.choose_device_view.logout",children:n("dyn_mfa.secure_device_view.logout")})]})},Het=({type:e,isInitialSetup:t=!1,showBackButton:n=!1,createMfaToken:r=!1,deviceId:i})=>{const{t:o}=Xe(),{handleLogOut:s}=Zc(),{clearStackAndPush:a,pushView:l,goBack:c,canGoBack:d}=At(),{authenticateDevice:u}=G3(),[h,m]=x.useState(""),[v,y]=x.useState(),[g,b]=x.useState(!1),{data:k,isLoading:_}=vr(()=>u({code:h,createMfaToken:r?{singleUse:!0}:void 0,deviceId:i,type:e}),{deps:[h],enabled:(h==null?void 0:h.length)===6,initialData:void 0,onReject:D=>{D instanceof $M?(b(!0),y(new Se(o("dyn_mfa.otp_verification_view.rate_limit_error")))):y(new Se(o("dyn_mfa.otp_verification_view.error")))},onResolve:()=>de(void 0,void 0,void 0,function*(){const D=h_();(D==null?void 0:D.mfaBackupCodeAcknowledgement)!==zu.Complete&&a("mfa-display-backup-codes")})}),R=D=>{y(void 0),m(D)},I=D=>{m(D)},T=d&&n?c:void 0;return f.jsxs(f.Fragment,{children:[f.jsx(Sj,{MainIcon:yfe,error:v,isLoading:_,onPinComplete:I,isValid:!!k,onPinChange:R,description:o("dyn_mfa.otp_verification_view.body"),onClickBack:T,disabled:g}),!t&&f.jsxs("div",{className:"mfa-verification-view__choose-another-method",children:[f.jsx(Zs,{className:"mfa-verification-view__choose-another-method-button",onClick:()=>l("mfa-choose-device",{createMfaToken:r,isInitialSetup:t}),copykey:"dyn_mfa.otp_verification_view.choose_another_method",children:o("dyn_mfa.otp_verification_view.choose_another_method")}),f.jsx(Zs,{onClick:s,copykey:"dyn_mfa.otp_verification_view.logout",children:o("dyn_mfa.otp_verification_view.logout")})]})]})},vfe=({onRetry:e,connector:t})=>{const{selectedWalletConnector:n}=je(),r=x.useMemo(()=>t||n,[t,n]),{t:i}=Xe(),{storeName:o,walletLink:s}=x.useMemo(()=>{const c=Q1(r==null?void 0:r.metadata.downloadLinks);return c!=null&&c.ios&&KI()?{storeName:"App Store",walletLink:c.ios}:c!=null&&c.android&&(HI()||Qie())?{storeName:"Play Store",walletLink:c.android}:{storeName:void 0,walletLink:void 0}},[r]),a=()=>s&&Ln.openURL(s,"blank","noopener,noreferrer"),l=c=>f.jsx(oi,{icon:r==null?void 0:r.metadata.icon,walletKey:r==null?void 0:r.key,style:{height:Ut(c),width:Ut(c)}});return f.jsxs("div",{className:"mobile-wallet-redirect",children:[f.jsx(si,{Icon:l(94*Yo),iconSize:94,isSpinning:!0,className:"mobile-wallet-redirect__icon-with-spinner"}),f.jsx(se,{variant:"body_normal",weight:"regular",className:"mobile-wallet-redirect__copy-text",copykey:"dyn_login.mobile_wallet_redirect.prompt",children:i("dyn_login.mobile_wallet_redirect.prompt")}),f.jsxs(xt,{buttonVariant:"brand-primary",typographyProps:{color:"white",variant:"button_secondary"},onClick:e,buttonPadding:"small",copykey:"dyn_login.mobile_wallet_redirect.open_prompt",children:[i("dyn_login.mobile_wallet_redirect.open_prompt")," ",r==null?void 0:r.name]}),o&&f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_small",color:"secondary",className:"mobile-wallet-redirect__alert",copykey:"dyn_login.mobile_wallet_redirect.redirect_fail_message",children:i("dyn_login.mobile_wallet_redirect.redirect_fail_message",{walletName:r==null?void 0:r.name})}),f.jsxs("div",{className:"mobile-wallet-redirect__wallet-app",onClick:a,children:[f.jsxs("div",{className:"mobile-wallet-redirect__wallet-app__group",children:[l(26),f.jsxs(se,{variant:"body_small",weight:"bold",copykey:"dyn_login.mobile_wallet_redirect.get_app_prompt",children:[i("dyn_login.mobile_wallet_redirect.get_app_prompt")," ",r==null?void 0:r.name]})]}),f.jsxs("div",{className:"mobile-wallet-redirect__wallet-app__group",children:[f.jsx(se,{className:"mobile-wallet-redirect__wallet-app__group__app-store",variant:"body_small",weight:"bold",color:"secondary",children:o}),f.jsx(Nt,{color:"text-secondary",size:"small",children:f.jsx(k0,{})})]})]})]})]})},Get=({userProfile:e,walletConnector:t})=>{const n=e==null?void 0:e.verifiedCredentials.find(o=>o.id===e.lastVerifiedCredentialId),r=$3(n),{data:i}=vr(()=>t==null?void 0:t.getAddress(),{enabled:!e&&!!t});return f.jsxs("div",{className:"user-address__container",children:[f.jsx(L3,{variant:"green",containerClassName:"user-address__status-dot"}),r!=null&&r.name?f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"numbers_big",color:"primary",className:"user-address",children:r.name}),f.jsx("div",{className:"dynamic-widget-wallet-header__seperator"}),f.jsx(se,{variant:"numbers_medium",color:"secondary",className:"user-address",children:Ni(n==null?void 0:n.address)})]}):f.jsx(se,{variant:"numbers_big",color:"primary",className:"user-address",children:Ni((n==null?void 0:n.address)||i)})]})},Jet=({networkId:e,networkName:t,networkIconUrl:n,onClick:r})=>{const i=f.jsx("img",{alt:t,className:"select-network-button__icon",src:n});return f.jsxs(xt,{dataTestId:"SelectNetworkButton",onClick:()=>r(e),expanded:!0,className:"select-network-button",children:["Select",i,t," network"]})},wfe=()=>{const{selectedWalletConnector:e,setShowAuthFlow:t,bridgeChainsToConnect:n,bridgeOnboardingCompleted:r,isBridgeFlow:i,user:o}=je(),s=hj({shouldCallCallback:!1,shouldUpdateWallets:!!(n!=null&&n.length)}),{network:a}=cj(e,{onChange:l=>{!e||!eg({network:l,walletConnector:e})||s({walletConnector:e}).then(()=>{const c=wl();!o&&c==="connect-and-sign"||(!i||r||!(n!=null&&n.length))&&t(!1)})}});return{currentNetwork:a}},Zet=()=>{const{onboardingImageUrl:e,selectedWalletConnector:t}=je(),{t:n}=Xe(),{currentNetwork:r}=wfe();if(!t)return null;const i=a=>de(void 0,void 0,void 0,function*(){try{yield t.switchNetwork({networkChainId:a})}catch(l){Ie.debug(l)}}),o=t.getEnabledNetworks(),s=eg({network:r,walletConnector:t});return f.jsxs("div",{className:"network-not-supported","data-testid":"network-not-supported",children:[e&&f.jsx("img",{className:"network-not-supported__main-img",src:e,alt:"onboarding"}),!s&&f.jsx(Lr,{variant:"info",withIcon:!1,className:"network-not-supported__error--not-supported",copykey:"dyn_network_not_supported.warning_message",children:n("dyn_network_not_supported.warning_message")}),f.jsxs("div",{className:Ke("network-not-supported__content-container",{"network-not-supported__content-container--error":!s}),children:[f.jsx("div",{className:"network-not-supported__img-container",children:f.jsx(oi,{style:{height:64,width:64},icon:t.metadata.icon,walletKey:t.key})}),f.jsx(Get,{walletConnector:t}),f.jsx("div",{className:"network-not-supported__network-container",children:o.length>1&&f.jsx(aj,{currentNetwork:r,connector:t,showNetworkName:!0,buttonClassName:"network-not-supported__network-picker-button",mainClassName:"network-not-supported__network-picker"})}),f.jsx("div",{className:"network-not-supported__welcome-container",children:f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_network_not_supported.subtitle",children:n("dyn_network_not_supported.subtitle")})}),o.length===1&&f.jsx(Jet,{onClick:i,networkId:o[0].networkId,networkName:o[0].vanityName||o[0].name,networkIconUrl:o[0].iconUrls[0]})]})]})},Yet=()=>{var e;const{selectedWalletConnector:t}=je();wfe();const{t:n}=Xe(),r=80,i=f.jsx(oi,{icon:t==null?void 0:t.metadata.icon,walletKey:t==null?void 0:t.key,style:{height:Ut(r*Yo),width:Ut(r*Yo)}}),o=(e=t==null?void 0:t.getEnabledNetworks())!==null&&e!==void 0?e:[],s=()=>(t==null?void 0:t.key)==="metamaskstarknet"?"dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet":o.length?"dyn_network_not_supported_manual_switch.subtitle_network_defined":"dyn_network_not_supported_manual_switch.subtitle_no_network_defined",a=()=>(t==null?void 0:t.key)==="metamaskstarknet"?f.jsxs(f.Fragment,{children:[n("dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet",{network:o[0].name}),f.jsxs("a",{href:"https://snaps.consensys.io/starknet",target:"_blank",rel:"noreferrer",children:[" ",n("dyn_network_not_supported_manual_switch.subtitle_network_defined_metamaskstarknet_companion_app")," ",f.jsx(k0,{style:{display:"inline-block"}})]})]}):o.length?n("dyn_network_not_supported_manual_switch.subtitle_network_defined",{network:o[0].name}):n("dyn_network_not_supported_manual_switch.subtitle_no_network_defined");return f.jsxs("div",{"data-testid":"network-not-supported",className:"network-not-supported-switch-manual",children:[f.jsx("div",{className:"network-not-supported-switch-manual__img-container",children:f.jsx("div",{className:"network-not-supported-switch-manual__network-container",children:f.jsx(si,{Icon:i,iconSize:r,isSpinning:!0})})}),f.jsxs("div",{className:"network-not-supported-switch-manual__content",children:[f.jsx(se,{className:"network-not-supported-switch-manual__title",weight:"medium",variant:"title",color:"primary",copykey:"dyn_network_not_supported_manual_switch.title",children:n("dyn_network_not_supported_manual_switch.title")}),f.jsx(se,{variant:"body_normal",color:"secondary",copykey:s(),children:a()})]})]})},Xet={discord:CM,helpdesk:zoe,slack:AM,twitter:RM},Qet=e=>Xet[e],ett=()=>{const{socialMediaLinkText:e,socialMediaUrl:t,accessDeniedMessagePrimary:n,accessDeniedMessageSecondary:r}=je(),{view:i}=At(),{t:o}=Xe(),s=i.type==="chainalysis-blocked-wallet",a=i.type==="gate-blocked-wallet",l=i.type==="no-access",c=()=>{if(s)return o(_c.chainalysis._socialMediaLinkText);if(!a)return e},d=()=>{if(s)return o(_c.chainalysis._socialMediaUrl);if(!a)return t},u=()=>s?o(_c.chainalysis.title):a?o(_c.gate.title):n||o(_c.default.title),h=()=>s?o(_c.chainalysis.subtitle):a?o(_c.gate.subtitle):r||o(_c.default.subtitle),m=()=>o(s?_c.chainalysis.buttonTitle:a?_c.gate.buttonTitle:_c.default.buttonTitle);return{_socialMediaLinkText:c(),_socialMediaUrl:d(),buttonTitle:m(),isAccessListView:l,isChainalysisView:s,isGateBlockedView:a,subtitle:h(),title:u()}},_c={chainalysis:{_socialMediaLinkText:"dyn_no_access.chainalysis.social_media_link_text",_socialMediaUrl:"dyn_no_access.chainalysis.social_media_link_url",buttonTitle:"dyn_no_access.chainalysis.button_text",subtitle:"dyn_no_access.chainalysis.description",title:"dyn_no_access.chainalysis.title"},default:{buttonTitle:"dyn_no_access.default.button_text",subtitle:"dyn_no_access.default.description",title:"dyn_no_access.default.title"},gate:{buttonTitle:"dyn_no_access.gate.button_text",subtitle:"dyn_no_access.gate.description",title:"dyn_no_access.gate.title"}},x4=()=>{const{deniedAddress:e,setDeniedAddress:t,setDeniedOauthProvider:n,deniedOauthProvider:r,deniedOauthUsername:i}=a_(),{t:o}=Xe(),s=r?OM(r):void 0,{selectedWalletConnector:a,socialMediaIconUrl:l,notInTheListImageUrl:c,accessDeniedButton:d}=je(),{displayedDestination:u}=Kc(),{clearStackAndPushInitialView:h}=At(),{_socialMediaLinkText:m,_socialMediaUrl:v,isAccessListView:y,isGateBlockedView:g,subtitle:b,title:k,buttonTitle:_}=ett(),R=()=>{h(),t(""),n(void 0),a==null||a.endSession()},I=!l||typeof l=="string"?null:Qet(Object.keys(l)[0]),T=x.useMemo(()=>a?f.jsx(oj,{}):f.jsx(dv,{containerClassName:"wallet-no-access__icon--verified",Icon:s??m0,iconSize:50,InnerIcon:Jh,variant:"red"}),[s,a]),D=Ni(e),M=(d==null?void 0:d.title)||_,C=(d==null?void 0:d.action)||R,$=r===void 0?u??D:i,z=!!c&&(y||g),q=I&&(y||g);return f.jsxs("div",{className:"wallet-no-access__container",children:[z&&f.jsx("img",{src:c,alt:o("dyn_no_access.not_in_the_list_image_alt"),className:"wallet-no-access__image",copykey:"dyn_no_access.not_in_the_list_image_alt"}),f.jsxs("div",{className:"wallet-no-access__main",children:[f.jsxs("div",{className:"wallet-no-access__user-info-container",children:[T,f.jsxs("div",{"data-testid":"walletAddress",className:"wallet-no-access__wallet-address-container",children:[a&&f.jsx(L3,{variant:"red",containerClassName:"user-info__status-dot"}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"medium",className:"wallet-no-access__wallet-address",children:$})]})]}),f.jsxs("div",{className:"wallet-no-access__content",children:[f.jsx(se,{variant:"title",color:"primary",className:"wallet-no-access__content--primary",children:k}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"wallet-no-access__content--secondary",children:b})]}),f.jsx(xt,{onClick:C,className:"wallet-no-access__button--primary",expanded:!0,buttonPadding:"large",children:M}),v&&m&&f.jsxs("div",{className:"wallet-no-access__social-info-container",children:[f.jsxs("a",{href:v,className:"wallet-no-access__waitlist-link",children:[f.jsx(se,{variant:"button_primary",color:"primary",children:m}),q&&f.jsx(I,{className:"wallet-no-access__social-icon",style:{height:Ut(24),width:Ut(24)}})]}),typeof l=="string"&&f.jsx("img",{alt:"social media",src:l,style:{height:"1.5rem",width:"1.5rem"}})]})]})]})},ttt=e=>e[0].toUpperCase()+e.slice(1),ntt=({name:e,link:t,Icon:n})=>{const{t:r}=Xe();return f.jsx("div",{className:"wallet-help-link",children:f.jsxs("a",{className:"wallet-help-link__anchor",href:t,target:"_blank",rel:"noreferrer",children:[f.jsx(n,{style:{height:"1.5rem",width:"1.5rem"}}),f.jsx(se,{variant:"button_primary",weight:"medium",copykey:"dyn_qr_code.wallet_not_installed.browser_install",children:r("dyn_qr_code.wallet_not_installed.browser_install",{browser:ttt(e)})})]})})},rtt=()=>{const{selectedWalletConnector:e}=je(),{t}=Xe();if(!e)return null;const{metadata:n}=e,r=Object.entries(Q1(n.downloadLinks)).filter(([,i])=>i!=="").filter(([i])=>i!=="ios"&&i!=="android").map(([i,o])=>f.jsx(ntt,{name:i,link:o,Icon:vP(i)},i));return f.jsxs("div",{className:"no-qr-code-installed__container","data-testid":"no-qr-code-installed",children:[f.jsx("div",{className:"no-qr-code-installed__img",children:f.jsx(oi,{icon:n.icon,walletKey:e.key,style:{height:Ut(64),width:Ut(64)}})}),f.jsx(se,{className:"no-qr-code-installed__typography--title",variant:"title",copykey:"dyn_qr_code.wallet_not_installed.install",children:t("dyn_qr_code.wallet_not_installed.install",{wallet:n.name})}),f.jsx(se,{variant:"body_normal",className:"no-qr-code-installed__typography",color:"secondary",copykey:"dyn_qr_code.wallet_not_installed.select",children:t("dyn_qr_code.wallet_not_installed.select")}),f.jsx("div",{className:"no-qr-code-installed__links-section",children:r}),f.jsx(se,{variant:"body_mini",className:"no-qr-code-installed__typography",weight:"medium",color:"secondary",copykey:"dyn_qr_code.wallet_not_installed.refresh",children:t("dyn_qr_code.wallet_not_installed.refresh")})]})};var $Z,LZ,itt=["title","titleId"];function RP(){return RP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RP.apply(null,arguments)}function ott(e,t){if(e==null)return{};var n,r,i=stt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function stt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var att=function(t){var n=t.title,r=t.titleId,i=ott(t,itt);return x.createElement("svg",RP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,$Z||($Z=x.createElement("g",{clipPath:"url(#passkey-intro2_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#passkey-intro2_svg__b)",fillOpacity:.12}),x.createElement("g",{clipPath:"url(#passkey-intro2_svg__c)",fill:"#4779FF"},x.createElement("path",{d:"M106.009 34.681a2.666 2.666 0 0 1 3.266 1.886l-15.454 4.141a5.319 5.319 0 0 0-3.339 2.666 5.335 5.335 0 0 1 3.936-5.587l11.591-3.106ZM117.785 42.57a5.333 5.333 0 0 0-6.532-3.772l-15.455 4.141a5.333 5.333 0 0 0-3.771 6.532l2.76 10.303a5.333 5.333 0 0 0 6.533 3.771l15.454-4.14a5.333 5.333 0 0 0 3.772-6.533l-2.761-10.303Z"})),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.314.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.325 9.325 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.732-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-1.34 14.592a15.89 15.89 0 0 0-7.978 2.135 1.772 1.772 0 0 0 1.775 3.069 12.347 12.347 0 0 1 6.203-1.66c6.853 0 12.408 5.556 12.408 12.409a44.34 44.34 0 0 1-1.688 12.156 1.772 1.772 0 1 0 3.41.97 47.883 47.883 0 0 0 1.823-13.126c0-8.81-7.142-15.953-15.953-15.953Zm-10.749 9.75a1.772 1.772 0 1 0-3.069-1.775 15.891 15.891 0 0 0-2.135 7.978c0 2.499-.573 4.86-1.594 6.96a1.772 1.772 0 1 0 3.189 1.55 19.43 19.43 0 0 0 1.95-8.51c0-2.263.604-4.38 1.659-6.203Zm10.749-2.66a8.863 8.863 0 0 0-8.863 8.863c0 4.516-1.29 8.704-3.518 12.246l1.5.944-1.5-.944-.121.196a1.774 1.774 0 0 0 3.049 1.81 26.434 26.434 0 0 0 4.135-14.253 5.318 5.318 0 0 1 10.636 0c0 1.723-.118 3.418-.345 5.078a1.773 1.773 0 0 0 3.513.48 41.12 41.12 0 0 0 .377-5.557 8.863 8.863 0 0 0-8.863-8.863Zm1.772 8.863a1.772 1.772 0 1 0-3.545 0c0 5.89-1.688 11.381-4.607 16.021a1.773 1.773 0 0 0 3.001 1.888 33.528 33.528 0 0 0 5.151-17.91Zm5.554 11.117a1.773 1.773 0 0 0-3.411-.965 37.01 37.01 0 0 1-2.523 6.502 1.771 1.771 0 1 0 3.169 1.588 40.517 40.517 0 0 0 2.765-7.124Z",fill:"#4779FF"}))),LZ||(LZ=x.createElement("defs",null,x.createElement("clipPath",{id:"passkey-intro2_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"passkey-intro2_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),x.createElement("linearGradient",{id:"passkey-intro2_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))},UZ,FZ,WZ,ltt=["title","titleId"];function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TP.apply(null,arguments)}function ctt(e,t){if(e==null)return{};var n,r,i=dtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var utt=function(t){var n=t.title,r=t.titleId,i=ctt(t,ltt);return x.createElement("svg",TP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,UZ||(UZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 57.887c14.297 0 25.887-11.59 25.887-25.887S46.297 6.113 32 6.113 6.113 17.703 6.113 32 17.703 57.887 32 57.887ZM32 60c15.464 0 28-12.536 28-28S47.464 4 32 4 4 16.536 4 32s12.536 28 28 28Z",fill:"#1A73E8"})),FZ||(FZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.752 46.831c.27.582.018 1.274-.565 1.544-2.69 1.25-5.356 1.479-7.54.476-2.215-1.017-3.66-3.173-4.134-6.099l2.295-.372c.383 2.364 1.466 3.742 2.809 4.359 1.374.63 3.299.592 5.591-.472a1.162 1.162 0 0 1 1.544.564ZM33.585 35.17v-4.755h2.113v6.868h-5.811V35.17h3.698Z",fill:"#1A73E8"})),WZ||(WZ=x.createElement("path",{d:"M46.792 25.132a2.113 2.113 0 1 1-4.226 0 2.113 2.113 0 0 1 4.226 0ZM21.434 25.132a2.113 2.113 0 1 1-4.227 0 2.113 2.113 0 0 1 4.227 0Z",fill:"#1A73E8"})))},qZ,ftt=["title","titleId"];function OP(){return OP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OP.apply(null,arguments)}function htt(e,t){if(e==null)return{};var n,r,i=ptt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ptt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var bfe=function(t){var n=t.title,r=t.titleId,i=htt(t,ftt);return x.createElement("svg",OP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,qZ||(qZ=x.createElement("path",{d:"M47.493 11.92c-.213 0-.426-.053-.613-.16C41.76 9.12 37.333 8 32.027 8c-5.28 0-10.294 1.253-14.854 3.76-.64.347-1.44.107-1.813-.533a1.35 1.35 0 0 1 .533-1.814c4.96-2.693 10.4-4.08 16.134-4.08 5.68 0 10.64 1.254 16.08 4.054.666.346.906 1.146.56 1.786-.24.48-.694.747-1.174.747Zm-38.16 14a1.33 1.33 0 0 1-1.093-2.107c2.64-3.733 6-6.666 10-8.72 8.373-4.32 19.093-4.346 27.493-.026 4 2.053 7.36 4.96 10 8.666.427.587.294 1.44-.32 1.867a1.33 1.33 0 0 1-1.866-.32c-2.4-3.36-5.44-6-9.04-7.84-7.654-3.92-17.44-3.92-25.067.027-3.627 1.866-6.667 4.533-9.067 7.893-.213.373-.613.56-1.04.56ZM26 58.107c-.347 0-.693-.134-.933-.4-2.32-2.32-3.574-3.814-5.36-7.04-1.84-3.28-2.8-7.28-2.8-11.574 0-7.92 6.773-14.373 15.093-14.373s15.093 6.453 15.093 14.373a1.32 1.32 0 0 1-1.333 1.334 1.32 1.32 0 0 1-1.333-1.334c0-6.453-5.574-11.706-12.427-11.706S19.573 32.64 19.573 39.093c0 3.84.854 7.387 2.48 10.267 1.707 3.067 2.88 4.373 4.934 6.453a1.37 1.37 0 0 1 0 1.894c-.294.266-.64.4-.987.4Zm19.12-4.934c-3.173 0-5.973-.8-8.267-2.373-3.973-2.693-6.346-7.067-6.346-11.707a1.32 1.32 0 0 1 1.333-1.333 1.32 1.32 0 0 1 1.333 1.333c0 3.76 1.92 7.307 5.174 9.494 1.893 1.28 4.106 1.893 6.773 1.893.64 0 1.707-.08 2.773-.267a1.33 1.33 0 0 1 1.547 1.094 1.33 1.33 0 0 1-1.093 1.546c-1.52.294-2.854.32-3.227.32Zm-5.36 5.494a1.56 1.56 0 0 1-.347-.054c-4.24-1.173-7.013-2.746-9.92-5.6-3.733-3.706-5.786-8.64-5.786-13.92 0-4.32 3.68-7.84 8.213-7.84 4.533 0 8.213 3.52 8.213 7.84 0 2.854 2.48 5.174 5.547 5.174 3.067 0 5.547-2.32 5.547-5.174 0-10.053-8.667-18.213-19.334-18.213-7.573 0-14.506 4.213-17.626 10.747-1.04 2.16-1.574 4.693-1.574 7.466 0 2.08.187 5.36 1.787 9.627a1.301 1.301 0 0 1-.773 1.707A1.323 1.323 0 0 1 12 49.653c-1.307-3.493-1.947-6.96-1.947-10.56 0-3.2.614-6.106 1.814-8.64 3.546-7.44 11.413-12.266 20.026-12.266 12.134 0 22 9.36 22 20.88 0 4.32-3.68 7.84-8.213 7.84-4.533 0-8.213-3.52-8.213-7.84 0-2.854-2.48-5.174-5.547-5.174-3.067 0-5.547 2.32-5.547 5.174 0 4.56 1.76 8.826 4.987 12.026 2.533 2.507 4.96 3.894 8.72 4.934.72.186 1.12.933.933 1.626a1.301 1.301 0 0 1-1.253 1.014Z",fill:"#1A73E8"})))},zZ,VZ,mtt=["title","titleId"];function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NP.apply(null,arguments)}function gtt(e,t){if(e==null)return{};var n,r,i=ytt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ytt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var vtt=function(t){var n=t.title,r=t.titleId,i=gtt(t,mtt);return x.createElement("svg",NP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,zZ||(zZ=x.createElement("g",{clipPath:"url(#iphone-touch-id_svg__a)",fill:"#000"},x.createElement("path",{d:"M38.635.943c-4.483-1.118-9.2-1.278-13.79-.287a.657.657 0 0 0 .277 1.285c4.396-.95 8.924-.793 13.232.287 10.3 2.582 18.875 10.327 22.14 20.444 1.264 3.912 1.8 8.078 1.908 12.445a.657.657 0 0 0 1.313-.033c-.108-4.426-.651-8.7-1.945-12.74C58.378 11.75 49.417 3.632 38.635.943ZM21.51 2.932a.657.657 0 1 0-.35-1.267c-4.801 1.324-11.554 5.9-15.728 12.014a.754.754 0 0 0-.004.007C1.763 19.208-.534 26.148.108 32.883l.001.019c.154 1.23.412 2.457.67 3.686.544 2.588 1.09 5.183.665 7.818a.657.657 0 1 0 1.297.21c.445-2.755-.107-5.443-.66-8.13-.254-1.244-.51-2.487-.666-3.737-.604-6.364 1.57-13.002 5.105-18.333 4.015-5.879 10.516-10.25 14.99-11.484Z"}),x.createElement("path",{d:"M30.133 4.4c8.25-.504 16.499 2.863 22.039 9.314a.657.657 0 1 1-.997.856c-5.268-6.134-13.118-9.339-20.966-8.858H30.2c-9.925.48-19.22 7.214-22.638 16.648a.657.657 0 1 1-1.236-.447C9.928 11.973 19.688 4.907 30.133 4.4ZM54.174 16.585a.657.657 0 0 0-1.091.733c3.07 4.572 4.34 9.548 4.843 15.454a.657.657 0 0 0 1.31-.112c-.514-6.034-1.823-11.252-5.062-16.075ZM58.796 35.45a.657.657 0 0 1 .697.615c.247 3.963.25 8.446-.189 11.76a.657.657 0 1 1-1.303-.173c.423-3.193.425-7.582.18-11.505a.657.657 0 0 1 .615-.697ZM6.57 25.543a.657.657 0 1 0-1.278-.308 26.58 26.58 0 0 0-.743 6.104c-.01 2.117.385 4.184.78 6.25.323 1.692.646 3.384.747 5.104.134 2.26-.341 4.523-1.163 6.677a.657.657 0 1 0 1.228.469c.868-2.277 1.395-4.73 1.247-7.223-.1-1.709-.424-3.39-.747-5.072-.394-2.051-.788-4.102-.778-6.199.01-1.952.248-3.902.706-5.802Z"}),x.createElement("path",{d:"M23.813 10.94a.657.657 0 0 1-.365.855c-6.813 2.736-11.93 8.91-12.973 16.19-.436 3.042.035 6.055.506 9.067.265 1.696.53 3.392.634 5.093.223 3.688-.197 7.739-2.597 11.425a.657.657 0 0 1-1.101-.718c2.186-3.358 2.6-7.088 2.386-10.627-.105-1.726-.368-3.442-.632-5.156-.472-3.077-.944-6.15-.497-9.27 1.115-7.774 6.563-14.324 13.784-17.224a.657.657 0 0 1 .855.365ZM46.882 14.681c-5.374-5.034-13.164-6.79-20.244-5.238a.657.657 0 1 0 .282 1.284c6.704-1.47 14.039.207 19.064 4.914 4.235 3.967 6.695 9.739 7.339 16.037a.657.657 0 0 0 1.307-.134c-.668-6.54-3.232-12.633-7.748-16.863ZM54.493 34.674a.657.657 0 0 1 .72.586c.625 6.077.356 12.64-.587 18.99a.657.657 0 0 1-1.3-.193c.93-6.261 1.191-12.713.58-18.662a.657.657 0 0 1 .587-.721Z"}),x.createElement("path",{d:"M31.582 13.355c-10.07 0-18.252 8.034-18.252 17.967 0 1.06.094 2.1.274 3.111a.657.657 0 0 0 1.294-.23 16.469 16.469 0 0 1-.254-2.881c0-9.187 7.574-16.652 16.938-16.652 4.232 0 8.098 1.525 11.066 4.045a.657.657 0 0 0 .85-1.002 18.353 18.353 0 0 0-11.916-4.358ZM44.971 20.163a.657.657 0 0 1 .93.02c2.9 3.024 3.828 7.777 4.442 11.766.692 4.494.798 8.877.798 10.91a.657.657 0 0 1-1.315 0c0-2-.104-6.31-.782-10.71-.57-3.703-1.392-8.24-4.092-11.056a.657.657 0 0 1 .02-.93ZM50.974 46.622a.657.657 0 0 0-1.31-.105c-.323 4.048-.745 8.092-1.6 11.827a.657.657 0 1 0 1.28.293c.879-3.833 1.306-7.956 1.63-12.015ZM14.662 36.852a.657.657 0 0 1 .771.518c1.39 7.056.43 13.466-3.25 19.08a.657.657 0 0 1-1.099-.72c3.462-5.283 4.394-11.331 3.06-18.106a.657.657 0 0 1 .518-.772Z"}),x.createElement("path",{d:"M31.582 17.631c-6.537 0-12.95 5.06-13.604 11.42-.287 2.784.116 5.526.519 8.27.351 2.395.703 4.791.596 7.217-.244 5.552-1.873 10.135-4.672 13.91a.657.657 0 1 0 1.056.782c2.968-4.003 4.674-8.844 4.93-14.634.106-2.415-.247-4.804-.6-7.19-.403-2.73-.806-5.459-.521-8.221.574-5.587 6.325-10.24 12.296-10.24 2.785 0 9.991 1.508 12.283 8.976 1.437 4.679 1.828 11.012 1.48 17.164-.347 6.151-1.43 12.035-2.885 15.808a.657.657 0 0 0 1.227.473c1.522-3.947 2.619-9.98 2.97-16.207.353-6.226-.034-12.734-1.535-17.624-2.545-8.289-10.52-9.904-13.54-9.904Z"}),x.createElement("path",{d:"M21.47 56.451c.303.198.389.606.19.91-.407.624-.765 1.278-1.124 1.932-.359.654-.717 1.307-1.125 1.932a.657.657 0 1 1-1.1-.718c.407-.624.765-1.278 1.124-1.932.359-.654.717-1.308 1.125-1.932a.657.657 0 0 1 .91-.192ZM27.096 24.453a.657.657 0 1 0-.73-1.093c-2.603 1.74-4.2 4.134-4.2 7.64 0 2.088.37 3.795.75 5.545.567 2.62.953 5.233.883 7.923-.084 3.267-.723 6.252-1.952 9.096a.657.657 0 1 0 1.207.521c1.299-3.007 1.971-6.158 2.06-9.583.071-2.796-.325-5.513-.913-8.235-.38-1.758-.72-3.328-.72-5.267 0-3.004 1.321-5.013 3.615-6.547ZM29.66 22.144c2.728-.556 5.662.13 7.822 1.879 3.858 3.122 4.371 8.817 4.787 13.432l.021.235c.538 5.949-.077 11.726-1.316 17.529a.657.657 0 1 1-1.286-.275c1.22-5.715 1.815-11.355 1.293-17.136l-.052-.582v-.002c-.37-4.17-.832-9.394-4.274-12.18-1.846-1.494-4.379-2.092-6.732-1.613a.657.657 0 1 1-.262-1.287ZM40.045 58.489a.657.657 0 1 0-1.274-.325 15.88 15.88 0 0 1-1.785 4.266.657.657 0 1 0 1.127.675 17.188 17.188 0 0 0 1.932-4.616ZM36.831 48.952c.36.043.618.37.576.73-.62 5.245-2.022 9.922-4.27 13.98a.657.657 0 0 1-1.15-.638c2.152-3.882 3.51-8.39 4.115-13.496a.657.657 0 0 1 .73-.576Z"}),x.createElement("path",{d:"M36.696 30.656c-.456-2.435-2.545-4.297-5.081-4.297-3.435 0-5.845 3.462-4.996 6.683 1.437 5.686 1.673 11.166.7 16.444v.003c-.845 4.739-2.465 9.002-4.677 12.614a.657.657 0 0 0 1.121.686c2.302-3.76 3.978-8.178 4.85-13.067 1.01-5.482.759-11.154-.72-17.005l-.002-.007c-.637-2.41 1.138-5.037 3.724-5.037 1.865 0 3.44 1.373 3.788 3.22.957 5.548 1.455 10.693 1.1 15.123a.657.657 0 1 0 1.31.105c.368-4.592-.151-9.863-1.115-15.456l-.002-.01ZM29.654 59.117c.323.166.45.562.284.885l-1.741 3.389a.657.657 0 1 1-1.17-.601L28.77 59.4a.657.657 0 0 1 .885-.284Z"}),x.createElement("path",{d:"M32.103 31.29a.657.657 0 1 0-1.28.3c2.217 9.433 1.913 17.717-.787 24.773a.657.657 0 1 0 1.228.47c2.814-7.358 3.1-15.919.84-25.544Z"}))),VZ||(VZ=x.createElement("defs",null,x.createElement("clipPath",{id:"iphone-touch-id_svg__a"},x.createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"})))))};const Tj=({defaultIcon:e,className:t,size:n="small"})=>{let r=e||null;if(V1()&&(xxe()?r=f.jsx(vtt,{"data-testid":"iphone-8-icon"}):r=f.jsx(hfe,{"data-testid":"iphone-icon"})),HI()){const i=Ixe();i&&i>=9?r=f.jsx(bfe,{"data-testid":"android-9-icon"}):r=f.jsx(utt,{"data-testid":"android-icon"})}return r?f.jsx(Nt,{className:t,size:n,children:r}):f.jsx(f.Fragment,{})},_fe=({choice:e,variant:t="default"})=>{const{t:n}=Xe(),r={passkey:{default:[{description:"dyn_embedded_authenticator.passkey.auth_info.convinience.description",title:"dyn_embedded_authenticator.passkey.auth_info.convinience.title"},{description:"dyn_embedded_authenticator.passkey.auth_info.security.description",title:"dyn_embedded_authenticator.passkey.auth_info.security.title"}],noEmailSignup:[{description:"dyn_embedded_authenticator.passkey.no_email_auth_info.convinience.description",title:"dyn_embedded_authenticator.passkey.no_email_auth_info.convinience.title"},{description:"dyn_embedded_authenticator.passkey.no_email_auth_info.security.description",title:"dyn_embedded_authenticator.passkey.no_email_auth_info.security.title"}]}};return f.jsx("div",{className:"auth-choice-info",children:r[e][t].map((i,o)=>f.jsxs("div",{className:"auth-choice-info__container-item",children:[f.jsx("div",{className:"auth-choice-info__container-icon",children:f.jsx(Nt,{size:"medium",className:"auth-choice-info__icon",children:f.jsx(Fde,{})})}),f.jsxs("div",{className:"action-card__item-title",children:[f.jsx(se,{variant:"body_normal",weight:"regular",copykey:i.title,children:n(i.title)}),f.jsx(se,{variant:"body_small",weight:"regular",color:"secondary",copykey:i.description,children:n(i.description)})]})]},`authChoiceInfo_${o}`))})},wtt=({chains:e})=>{var t;const{walletConnectorOptions:n,environmentId:r,handleLogOut:i,user:o,userWithMissingInfo:s}=je(),a=((t=o==null?void 0:o.verifiedCredentials)===null||t===void 0?void 0:t.length)===1&&!O3(o,Zo.Email),{t:l}=Xe(),[c,d]=x.useState(!1);x.useEffect(()=>ot.removeItem(Yu),[]);const{createDynamicEmbeddedWalletMutation:u,isLoading:h,error:m}=Ade(),v=g=>de(void 0,void 0,void 0,function*(){if(!o&&!s)throw new Error("User is not logged in");d(g),yield u({chains:e,environmentId:r,walletConnectorOptions:n,withAuthenticator:g})}),y=x.useMemo(()=>{if(m)return m instanceof Se?m.message:ip(m)},[m]);return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_passkey_intro.title",children:l("dyn_passkey_intro.title")})}),f.jsxs("div",{className:"passkey-intro-view",children:[f.jsx("div",{className:"passkey-intro-view__header",children:f.jsx(att,{})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-intro-view__subtitle",copykey:"dyn_passkey_intro.subtitle",children:l("dyn_passkey_intro.subtitle")}),y&&f.jsx(Lr,{children:y}),f.jsx(_fe,{choice:"passkey",variant:a?"noEmailSignup":"default"}),f.jsxs("div",{className:"passkey-intro-view__actions",children:[f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"large",onClick:()=>v(!0),dataTestId:"setup-passkey-button",loading:h&&c,disabled:h,typographyProps:{color:"inherit"},children:f.jsxs("div",{className:"passkey-intro-view__inline-button",children:[f.jsx(Tj,{size:"small"}),f.jsx(se,{copykey:"dyn_passkey_intro.button",children:l("dyn_passkey_intro.button")})]})}),f.jsx(Zs,{"data-testid":"setup-passkey-logout-button",className:"passkey-intro-view__log-out",onClick:i,copykey:"dyn_passkey_intro.button_logout",children:l("dyn_passkey_intro.button_logout")})]})]})]})};var KZ,HZ,GZ,JZ,btt=["title","titleId"];function PP(){return PP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PP.apply(null,arguments)}function _tt(e,t){if(e==null)return{};var n,r,i=xtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var xfe=function(t){var n=t.title,r=t.titleId,i=_tt(t,btt);return x.createElement("svg",PP({width:206,height:206,viewBox:"0 0 206 206",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,KZ||(KZ=x.createElement("circle",{cx:103,cy:103,r:103,fill:"url(#passkey-intro-icon_svg__a)",fillOpacity:.12})),HZ||(HZ=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.59 42.066a6.37 6.37 0 0 1 1.822 0c.696.1 1.343.345 1.858.54l.138.051 17.072 6.402.416.156c1.967.734 3.695 1.38 5.025 2.551a9.553 9.553 0 0 1 2.612 3.77c.631 1.657.628 3.501.625 5.6v15.672c0 9-4.895 16.504-10.187 22.016-5.326 5.55-11.421 9.469-14.643 11.349l-.131.077c-.588.345-1.351.793-2.361 1.01a6.78 6.78 0 0 1-2.67 0c-1.01-.217-1.774-.665-2.362-1.01l-.13-.077c-3.223-1.88-9.317-5.799-14.644-11.349-5.291-5.512-10.186-13.015-10.186-22.016V61.137c-.003-2.1-.006-3.944.625-5.601a9.553 9.553 0 0 1 2.612-3.77c1.33-1.172 3.058-1.817 5.025-2.551l.416-.156 17.072-6.402.138-.052c.514-.194 1.162-.439 1.858-.54ZM94.382 69.11v-4.037a8.073 8.073 0 1 1 16.147 0v4.036a13.434 13.434 0 0 1 5.383 10.766c0 7.431-6.024 13.456-13.456 13.456C95.025 93.33 89 87.306 89 79.875c0-4.402 2.114-8.31 5.382-10.765Zm13.147-1.702v-2.335a5.073 5.073 0 1 0-10.147 0v2.336a13.414 13.414 0 0 1 5.074-.99c1.795 0 3.508.352 5.073.99ZM106 77.5a3.5 3.5 0 0 1-2 3.163V83.5a1.5 1.5 0 1 1-3 0v-2.837a3.5 3.5 0 1 1 5-3.163ZM126 22a4 4 0 0 1 4-4h45a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4h-45a4 4 0 0 1-4-4V22Zm15 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm7 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm13-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm9 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm1 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"#4779FF"})),GZ||(GZ=x.createElement("g",{clipPath:"url(#passkey-intro-icon_svg__b)"},x.createElement("g",{clipPath:"url(#passkey-intro-icon_svg__c)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.731 54.983a15.068 15.068 0 0 0 1.087-10.69C58.656 36.226 50.362 31.438 42.294 33.6c-8.069 2.162-12.857 10.455-10.695 18.524a15.068 15.068 0 0 0 6.288 8.715c1.864-4.039 6.77-6.622 9.948-7.473 3.179-.852 8.204-1.183 11.896 1.618Zm-19.98-8.96a5.672 5.672 0 1 1 10.957-2.935 5.672 5.672 0 0 1-10.957 2.936Z",fill:"#4779FF"})))),JZ||(JZ=x.createElement("defs",null,x.createElement("clipPath",{id:"passkey-intro-icon_svg__b"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 151.778 -80.474)",d:"M0 0h33v33H0z"})),x.createElement("clipPath",{id:"passkey-intro-icon_svg__c"},x.createElement("rect",{x:27.684,y:37.513,width:30.25,height:30.25,rx:15.125,transform:"rotate(-15 27.684 37.513)",fill:"#fff"})),x.createElement("linearGradient",{id:"passkey-intro-icon_svg__a",x1:103,y1:0,x2:103,y2:105.711,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const ktt=({canSkipAddingEmail:e=!0,shouldInitRecovery:t=!1,authenticatorType:n,currentAction:r,isFromEmailVerification:i=!1})=>{const{user:o,setShowAuthFlow:s}=je(),{t:a}=Xe(),{addRecoveryEmail:l,initPasskeyRecoveryProcess:c}=Xh(),[d,u]=x.useState(!1),[h,m]=x.useState(void 0);Qh(()=>{rt.once("embeddedWalletRecoveryEmailCompleted",()=>de(void 0,void 0,void 0,function*(){if(u(!0),m(void 0),!t){setTimeout(()=>{s(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},5e3);return}return c(n,r)})),rt.once("embeddedWalletRecoveryEmailFailed",_=>de(void 0,void 0,void 0,function*(){m(_)}))});const{mutate:v,isLoading:y}=Xo(_=>de(void 0,void 0,void 0,function*(){yield l(_)})),g=()=>{s(!1)},b=()=>{if(h)return h instanceof Se?h.message:ip(h,o)},k=e&&f.jsx(Sn,{onClick:g,type:"button","data-testid":"add-recovery-email-close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:k,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"passkey-recovery-heading",className:"header__typography",copykey:"dyn_passkey_recovery.add_email.title",children:a("dyn_passkey_recovery.add_email.title")})}),f.jsxs("div",{className:"passkey-recovery-view",children:[f.jsx("div",{className:"passkey-recovery-view__header",children:f.jsx(xfe,{})}),d&&f.jsx(Lr,{variant:"success",copykey:"dyn_passkey_recovery.add_email.success_message",children:a("dyn_passkey_recovery.add_email.success_message")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",copykey:"dyn_passkey_recovery.add_email.description",children:a("dyn_passkey_recovery.add_email.description")}),h!==void 0&&f.jsx(Lr,{children:b()}),f.jsx("div",{className:"passkey-recovery-view__form",children:f.jsx(Fue,{onSubmit:v,currentEmail:o==null?void 0:o.email,isLoading:(y||i)&&!h,buttonCopyKey:"dyn_passkey_recovery.add_email.confirm_button",isDisabled:i&&!h&&!d})})]})]})},Stt=new RegExp(/^([A-Za-z0-9\s_+@\.-]+)$/),Itt=({authenticatorType:e,currentAction:t})=>{const{primaryWallet:n,environmentId:r,user:i,setShowAuthFlow:o}=je(),{isTurnkeyWalletWithoutAuthenticator:s}=da(),{getEOAWallet:a}=xs(),[l,c]=x.useState(""),[d,u]=x.useState(!1),[h,m]=x.useState(!1),{t:v}=Xe(),{pushView:y}=At(),{mutate:g,isLoading:b,error:k}=Xo(U=>de(void 0,void 0,void 0,function*(){var $;const z=($=n&&a(n))!==null&&$!==void 0?$:n;yield yVe({bundleInput:U,user:i,wallet:z}),m(!0),e==="email"&&rt.emit("passkeyRecoveryCompleted",n),setTimeout(()=>{const q=()=>{var S,A,O;!((S=t==null?void 0:t.settings)===null||S===void 0)&&S.goBack?(O=(A=t==null?void 0:t.settings)===null||A===void 0?void 0:A.goBack)===null||O===void 0||O.call(A):o(!1)};if(e==="passkey")return y("passkey-recovery-complete",{goBack:q});(t==null?void 0:t.type)!=="reveal"&&q()},2e3)})),_=U=>!(!(U!=null&&U.length)||U.length<100||U.length>=256||!Stt.test(U)),R=U=>{var $;const z=($=U.target.value)===null||$===void 0?void 0:$.trim();c(z),_(z)&&g(z)},I=()=>de(void 0,void 0,void 0,function*(){try{u(!0),yield vVe({authenticatorType:e,environmentId:r,user:i,wallet:n})}catch(U){Ie.error("Failed to complete passkey recovery",U)}finally{u(!1)}}),T=x.useMemo(()=>{if(k)return k instanceof Se?k.message:ip(k)},[k]),D=f.jsx(Nt,{color:"brand-primary",children:f.jsx(m0,{})}),M=s?"dyn_passkey_secure_modal":"dyn_passkey_recovery",C=f.jsx(Sn,{type:"button",onClick:()=>{o(!1,{emitCancelAuth:!0}),rt.emit("passkeyRecoveryFailed",new Se("Validation request cancelled"))},"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:C,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:`${M}.code.title`,children:v(`${M}.code.title`)})}),f.jsxs("div",{className:"passkey-recovery-view",children:[!k&&!h?f.jsx(si,{Icon:D,isSpinning:!k&&!h,iconSize:96}):f.jsx(dv,{Icon:m0,iconSize:64,variant:k?"red":"green",InnerIcon:k?Jh:cc}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",copykey:`${M}.code.description`,children:v(`${M}.code.description`,{email:i==null?void 0:i.email})}),f.jsx("div",{className:"passkey-recovery-view__actions",children:f.jsx(Sl,{id:"passkey-recovery-bundle","data-testid":"passkey-recovery-bundle-input",value:l,onChange:R,label:v(`${M}.code.input_label`),disabled:b||d,error:!!k,className:h?"passkey-recovery-view__input-valid":"",autoFocus:!0,message:T})}),f.jsxs("div",{className:"passkey-recovery-view__resend-code",children:[f.jsx(se,{color:"secondary",variant:"body_small",copykey:`${M}.code.resend.text`,children:v(`${M}.code.resend.text`)}),f.jsx(se,{variant:"body_small",color:"link",copykey:`${M}.code.resend.button`,children:f.jsx(Zs,{"data-testid":"resend-email-button",onClick:I,disabled:d||b||l.length>0&&!k,children:v(`${M}.code.resend.button`)})})]})]})]})},Ett=({goBack:e})=>{const{primaryWallet:t,environmentId:n,user:r,setPasskeySuccessPopup:i}=je(),{isTurnkeyWalletWithoutAuthenticator:o}=da(),{getEOAWallet:s}=xs(),{t:a}=Xe(),{mutate:l,isLoading:c,error:d}=Xo(()=>de(void 0,void 0,void 0,function*(){var m;const v=(m=t&&s(t))!==null&&m!==void 0?m:t;if(!(yield wVe({environmentId:n,user:r,wallet:v})))throw new Se("Error completing passkey recovery");rt.emit("passkeyRecoveryCompleted",t),e(),i(S0.CREATED)}),{onFailure:m=>{Ie.error("Failed to init passkey recovery",m),rt.emit("passkeyRecoveryFailed",m)}}),u=x.useMemo(()=>{if(d)return d instanceof Se?d.message:ip(d)},[d]),h=o?"dyn_passkey_secure_modal":"dyn_passkey_recovery";return f.jsxs("div",{className:"passkey-recovery-view",children:[f.jsx("div",{className:"passkey-recovery-view__header",children:f.jsx(xfe,{})}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",children:a(`${h}.complete.description`)}),u&&f.jsx(Lr,{children:u}),f.jsx("div",{className:"passkey-recovery-view__actions",children:f.jsx(xt,{buttonVariant:"brand-primary",buttonPadding:"large",dataTestId:"passkey-recovery-complete-button",onClick:()=>l(),disabled:c,showInternalLoading:!1,typographyProps:{color:"inherit"},children:f.jsxs("div",{className:"passkey-recovery-view__inline-button",children:[f.jsx(Tj,{size:"small"}),f.jsx(se,{copykey:`${h}.complete.complete_button`,children:a(`${h}.complete.complete_button`)})]})})}),f.jsx(ep,{isRecoveryFlow:!0})]})},Ctt=({authenticatorType:e})=>{const{setShowAuthFlow:t}=je(),{isTurnkeyWalletWithoutAuthenticator:n}=da(),{initAuthMethod:r,isLoading:i,error:o}=ZD(),{createRootElement:s}=tg(),a=s(GD),{t:l}=Xe(),c=x.useMemo(()=>{if(o)return o instanceof Se?o.message:"Something went wrong."},[o]),d=f.jsx(Nt,{color:"brand-primary",children:f.jsx(kj,{})}),u=n?"dyn_passkey_secure_modal":"dyn_passkey_recovery",h=f.jsx(Sn,{type:"button",onClick:()=>t(!1,{emitCancelAuth:!0}),"data-testid":"close-button",children:f.jsx(Oi,{})});return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{trailing:h,children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",children:l(`${u}.start.title`)})}),f.jsxs("div",{className:"passkey-recovery-view",children:[f.jsx(si,{Icon:d,isSpinning:i,iconSize:96}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"passkey-recovery-view__subtitle",children:l(`${u}.start.description`)}),c&&f.jsx(Lr,{children:c}),f.jsx("div",{className:"passkey-recovery-view__actions",children:f.jsx(xt,{buttonPadding:"large",dataTestId:"passkey-recovery-button",onClick:()=>r({authenticatorType:e,iframeContainer:a.current}),disabled:i,showInternalLoading:!1,children:f.jsx("div",{children:f.jsx(se,{copykey:`${u}.start.start_button`,children:l(`${u}.start.start_button`)})})})}),f.jsx(ep,{isRecoveryFlow:!0})]})]})},Att=({onUpdate:e})=>{var t;const{passkey:n,setPasskey:r,passkeyIcon:i,passkeyEdited:o,setPasskeyEdited:s}=av(),{t:a}=Xe(),{setShowAuthFlow:l,setPasskeySuccessPopup:c}=je(),[d,u]=x.useState(!1),h=y=>de(void 0,void 0,void 0,function*(){if(y&&(n!=null&&n.id)){const g=yield SDe({alias:y.trim(),environmentId:Qu(),id:n.id});g?(r(g),s(!o),l(!1),c(S0.EDITED),e==null||e()):u(!0)}else u(!0)}),m=f.jsx(Sn,{type:"button",onClick:()=>{l(!1)},"data-testid":"back-button",children:f.jsx(Kd,{})}),v=f.jsx(Sn,{onClick:()=>l(!1),type:"button",id:"close-button","data-testid":"close-button",children:f.jsx(Oi,{})});return n?f.jsxs("div",{className:"edit-passkeys-widget-view",children:[f.jsx(Zn,{leading:m,trailing:v}),f.jsx("div",{className:"edit-passkeys-widget-view__icon",children:i}),f.jsx(se,{as:"h1",variant:"title",color:"primary",className:"edit-passkeys-widget-view__title",copykey:"dyn_rename_passkeys.title",children:a("dyn_rename_passkeys.title")}),f.jsx(R3,{initialValues:{alias:(t=n.alias)!==null&&t!==void 0?t:""},onSubmit:y=>{h(y.alias)},children:({values:y})=>f.jsxs(__,{className:"edit-passkeys-widget-view__body",children:[f.jsx(Dh,{"data-testid":"input-field",name:"alias",type:"text",label:a("dyn_rename_passkeys.input_label"),copykey:"dyn_rename_passkeys.input_label",className:"edit-passkeys-widget-view__input",as:Sl,error:d,maxLength:32}),f.jsx(xt,{type:"submit",buttonPadding:"large",disabled:!y.alias,copykey:"dyn_rename_passkeys.save",children:a("dyn_rename_passkeys.save")}),d&&f.jsx(se,{as:"h1",variant:"body_small",color:"error-1",copykey:"dyn_rename_passkeys.error",children:a("dyn_rename_passkeys.error")})]})})]}):f.jsx(se,{as:"h1",variant:"title",color:"primary",className:"edit-passkeys-widget-view__title",children:a("dyn_rename_passkeys.not_found")})};var ZZ,YZ,Rtt=["title","titleId"];function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BP.apply(null,arguments)}function Ttt(e,t){if(e==null)return{};var n,r,i=Ott(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ott(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ntt=function(t){var n=t.title,r=t.titleId,i=Ttt(t,Rtt);return x.createElement("svg",BP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,ZZ||(ZZ=x.createElement("g",{clipPath:"url(#multiple-account-security_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#multiple-account-security_svg__b)",fillOpacity:.12}),x.createElement("g",{clipPath:"url(#multiple-account-security_svg__c)"},x.createElement("g",{clipPath:"url(#multiple-account-security_svg__d)"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M118.709 55.166a14.617 14.617 0 0 0 1.054-10.366c-2.097-7.824-10.139-12.467-17.963-10.371-7.824 2.096-12.468 10.139-10.371 17.963a14.612 14.612 0 0 0 6.097 8.451c1.808-3.916 6.565-6.42 9.647-7.247 3.083-.826 7.955-1.146 11.536 1.57Zm-19.375-8.688a5.5 5.5 0 1 1 10.625-2.848 5.5 5.5 0 0 1-10.625 2.848Z",fill:"#4779FF"}))),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.269 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.844 9.844 0 0 0-3.409-1.665 9.847 9.847 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm7.008 18.695c0-1.726-1.4-3.126-3.127-3.126h-14.069a6.253 6.253 0 0 0-6.153 5.133 6.234 6.234 0 0 1 4.589-2.007h18.76Zm1.562 3.127c3.454 0 6.253 2.8 6.253 6.253v12.506a6.253 6.253 0 0 1-6.253 6.254h-18.759a6.253 6.253 0 0 1-6.253-6.254V60.14a6.253 6.253 0 0 1 6.253-6.253h18.759Z",fill:"#4779FF"}))),YZ||(YZ=x.createElement("defs",null,x.createElement("clipPath",{id:"multiple-account-security_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"multiple-account-security_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),x.createElement("clipPath",{id:"multiple-account-security_svg__d"},x.createElement("rect",{x:87.633,y:38.225,width:29.333,height:29.333,rx:14.667,transform:"rotate(-15 87.633 38.225)",fill:"#fff"})),x.createElement("linearGradient",{id:"multiple-account-security_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))},XZ,QZ,Ptt=["title","titleId"];function MP(){return MP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MP.apply(null,arguments)}function Btt(e,t){if(e==null)return{};var n,r,i=Mtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Dtt=function(t){var n=t.title,r=t.titleId,i=Btt(t,Ptt);return x.createElement("svg",MP({width:327,height:112,viewBox:"0 0 327 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,XZ||(XZ=x.createElement("g",{clipPath:"url(#passkey-account-security_svg__a)"},x.createElement("circle",{cx:164,cy:114,r:114,fill:"url(#passkey-account-security_svg__b)",fillOpacity:.12}),x.createElement("g",{clipPath:"url(#passkey-account-security_svg__c)",fill:"#4779FF"},x.createElement("path",{d:"M106.009 34.681a2.666 2.666 0 0 1 3.266 1.886l-15.454 4.141a5.319 5.319 0 0 0-3.339 2.666 5.335 5.335 0 0 1 3.936-5.587l11.591-3.105ZM117.785 42.57a5.333 5.333 0 0 0-6.532-3.772l-15.455 4.141a5.333 5.333 0 0 0-3.771 6.532l2.76 10.303a5.334 5.334 0 0 0 6.533 3.771l15.454-4.14a5.333 5.333 0 0 0 3.772-6.533l-2.761-10.303Z"})),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m207.67 19.875-.767 2.862a9.86 9.86 0 0 0-5.861 6.61c-1.412 5.268 1.715 10.684 6.984 12.096 5.268 1.412 10.684-1.715 12.096-6.984a9.862 9.862 0 0 0-1.771-8.655l.767-2.861a5.926 5.926 0 0 0-11.448-3.068Zm9.321 2.498-.444 1.655a9.846 9.846 0 0 0-3.409-1.665 9.849 9.849 0 0 0-3.785-.262l.444-1.656a3.723 3.723 0 1 1 7.194 1.928Zm-3.445 8.52a2.57 2.57 0 0 1-2.019 1.862l-.539 2.011a1.1 1.1 0 1 1-2.127-.57l.539-2.01a2.569 2.569 0 1 1 4.146-1.294ZM164.943 32.064a6.216 6.216 0 0 0-1.779 0c-.681.098-1.313.337-1.816.527l-.135.05-16.68 6.256-.407.152c-1.922.718-3.61 1.348-4.909 2.493a9.336 9.336 0 0 0-2.553 3.683c-.616 1.62-.613 3.421-.61 5.473V66.01c0 8.793 4.783 16.125 9.953 21.51 5.204 5.422 11.159 9.252 14.307 11.089l.128.075c.574.337 1.32.775 2.307.987a6.619 6.619 0 0 0 2.609 0c.987-.212 1.733-.65 2.307-.987l.128-.075c3.148-1.837 9.103-5.667 14.307-11.088 5.17-5.386 9.953-12.718 9.953-21.511V50.698c.003-2.052.006-3.854-.611-5.473a9.333 9.333 0 0 0-2.552-3.683c-1.3-1.145-2.987-1.775-4.909-2.493l-.407-.152-16.68-6.255-.135-.05c-.503-.19-1.136-.43-1.816-.528Zm-1.34 14.592a15.89 15.89 0 0 0-7.978 2.135 1.772 1.772 0 1 0 1.776 3.069 12.34 12.34 0 0 1 6.202-1.66c6.853 0 12.408 5.556 12.408 12.409a44.34 44.34 0 0 1-1.688 12.156 1.772 1.772 0 1 0 3.41.97 47.883 47.883 0 0 0 1.823-13.126c0-8.81-7.142-15.953-15.953-15.953Zm-10.749 9.75a1.772 1.772 0 1 0-3.068-1.775 15.882 15.882 0 0 0-2.136 7.978c0 2.499-.573 4.86-1.594 6.96a1.772 1.772 0 1 0 3.189 1.55 19.43 19.43 0 0 0 1.95-8.51c0-2.263.605-4.38 1.659-6.203Zm10.749-2.66a8.863 8.863 0 0 0-8.863 8.863c0 4.516-1.29 8.704-3.518 12.246l1.5.944-1.5-.944a8.75 8.75 0 0 0-.12.196 1.773 1.773 0 1 0 3.048 1.81c.023-.04.048-.079.072-.118a26.434 26.434 0 0 0 4.063-14.134 5.318 5.318 0 0 1 10.636 0c0 1.722-.118 3.417-.344 5.077a1.772 1.772 0 1 0 3.512.48 41.12 41.12 0 0 0 .377-5.557 8.863 8.863 0 0 0-8.863-8.863Zm1.772 8.863a1.772 1.772 0 1 0-3.545 0c0 5.89-1.688 11.381-4.607 16.021a1.773 1.773 0 0 0 3.001 1.888 33.528 33.528 0 0 0 5.151-17.91Zm5.554 11.117a1.773 1.773 0 0 0-3.411-.965 37.01 37.01 0 0 1-2.523 6.502 1.771 1.771 0 1 0 3.169 1.588 40.517 40.517 0 0 0 2.765-7.124Z",fill:"#4779FF"}))),QZ||(QZ=x.createElement("defs",null,x.createElement("clipPath",{id:"passkey-account-security_svg__a"},x.createElement("rect",{width:327,height:112,rx:12,fill:"#fff"})),x.createElement("clipPath",{id:"passkey-account-security_svg__c"},x.createElement("path",{fill:"#fff",transform:"rotate(-15 184.593 -307.976)",d:"M0 0h32v32H0z"})),x.createElement("linearGradient",{id:"passkey-account-security_svg__b",x1:164,y1:0,x2:164,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})))))};const jtt=({titleKey:e,descriptionKey:t,description:n,LeadingIcon:r,action:i,badgeVariant:o,badgeKey:s,isLoading:a,dataTestId:l})=>{const{t:c}=Xe();return f.jsxs("button",{className:"action-card",onClick:i,"data-testid":l,children:[f.jsx(Nt,{className:"action-card__icon",children:r}),f.jsxs("div",{className:"action-card__content",children:[f.jsxs("div",{className:"action-card__content__row",children:[f.jsx(se,{variant:"body_normal",weight:"medium",copykey:e,children:c(e)}),f.jsx(nf,{text:c(s),className:Ke("action-card__content__row__badge",{"action-card__content__row__badge--primary":o==="primary"},{"action-card__content__row__badge--secondary":o==="secondary"}),copykey:s})]}),f.jsx(se,{variant:"body_small",color:"secondary",copykey:t,children:n})]}),f.jsx(Nt,{color:"text-tertiary",className:"action-card__action-icon",children:a?f.jsx(x_,{}):f.jsx(Kd,{})})]})},kfe=({currentAction:e,supportedAuthenticators:t})=>{var n,r;const[i,o]=x.useState(),{projectSettings:s}=je(),{t:a}=Xe(),{initAuthMethod:l,isLoading:c}=ZD(),{createRootElement:d}=tg(),u=d(GD),h={email:{badgeKey:"dyn_embedded_authenticator.email.badge",description:a("dyn_embedded_authenticator.email.description",{expiration:(r=(n=s==null?void 0:s.sdk.embeddedWallets)===null||n===void 0?void 0:n.sessionKeyDuration)===null||r===void 0?void 0:r.amount}),descriptionKey:"dyn_embedded_authenticator.email.description",icon:f.jsx(Nt,{color:"text-tertiary",size:"small",children:f.jsx(yue,{})},"one-time-code-icon"),titleKey:"dyn_embedded_authenticator.email.title"},passkey:{badgeKey:"dyn_embedded_authenticator.passkey.badge",description:a("dyn_embedded_authenticator.passkey.description"),descriptionKey:"dyn_embedded_authenticator.passkey.description",icon:f.jsx(Tj,{defaultIcon:f.jsx(bfe,{"data-testid":"default-icon"})}),titleKey:(e==null?void 0:e.type)==="reveal"?"dyn_embedded_authenticator.passkey.reveal_title":"dyn_embedded_authenticator.passkey.title"}},m=v=>()=>de(void 0,void 0,void 0,function*(){o(v),yield l({authenticatorType:v,currentAction:e,iframeContainer:u.current})});return f.jsx("div",{className:"embedded-auth-choice-cards",children:t&&t.map(v=>f.jsx(jtt,{LeadingIcon:h[v].icon,action:m(v),badgeKey:h[v].badgeKey,badgeVariant:v==="passkey"?"primary":"secondary",descriptionKey:h[v].descriptionKey,description:h[v].description,titleKey:h[v].titleKey,isLoading:c&&v===i,dataTestId:`embedded-auth-choice__item-${v}`},v))})},$tt={helpSession:{description:"dyn_embedded_authenticator.need_help_description",title:"dyn_embedded_authenticator.need_help_title"},reveal:{description:"dyn_embedded_authenticator.reveal_description",title:"dyn_embedded_authenticator.reveal_title"},sendTransaction:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"},signMessage:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"},signTransaction:{description:"dyn_embedded_authenticator.description",title:"dyn_embedded_authenticator.title"}},Ltt=({currentAction:e})=>{var t,n,r;const{t:i}=Xe(),{primaryWallet:o,projectSettings:s,setShowAuthFlow:a}=je(),{getEOAWallet:l}=xs(),c=(t=o&&l(o))!==null&&t!==void 0?t:o,{initPasskeyRecoveryProcess:d}=Xh(),{isTurnkeyWallet:u}=da(),h=x.useMemo(()=>{var R;const I=HD((R=s==null?void 0:s.sdk.embeddedWallets)===null||R===void 0?void 0:R.supportedSecurityMethods),T=Object.keys(I);return!e||!["helpSession","reveal"].includes(e.type)?T.filter(D=>D!=="email"):T},[s==null?void 0:s.sdk.embeddedWallets]),m=()=>!c||!u?!1:c.connector.getAuthenticatorHandler().isSessionActive(),v=()=>h.length>1?f.jsx(Ntt,{}):f.jsx(Dtt,{}),y=m()?"dyn_embedded_authenticator.passkey.auth_info.start_button":"dyn_embedded_authenticator.passkey.auth_info.add_button",{title:g,description:b}=$tt[(e==null?void 0:e.type)||"signMessage"],k=(n=s==null?void 0:s.general)===null||n===void 0?void 0:n.supportUrls,_=(r=s==null?void 0:s.general)===null||r===void 0?void 0:r.supportEmail;return h!=null&&h.length?f.jsxs(f.Fragment,{children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:g,children:i(g)})}),f.jsxs("div",{className:"embedded-auth-choice",children:[f.jsx("div",{className:"embedded-auth-choice__header",children:v()}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"embedded-auth-choice__subtitle",copykey:b,children:i(b)}),h.length>1?f.jsx(kfe,{currentAction:e,supportedAuthenticators:h}):f.jsxs(f.Fragment,{children:[f.jsx(_fe,{choice:"passkey"}),f.jsx(xt,{dataTestId:"passkey-only-choice-button",buttonVariant:"brand-primary",expanded:!0,onClick:()=>d("passkey"),copykey:y,typographyProps:{color:"inherit"},children:i(y)})]}),(e==null?void 0:e.type)!=="reveal"&&f.jsx(xt,{buttonVariant:"primary",buttonClassName:"embedded-auth-choice__skip-button",expanded:!0,onClick:()=>{var R,I,T;!((R=e==null?void 0:e.settings)===null||R===void 0)&&R.goBack?(T=(I=e==null?void 0:e.settings)===null||I===void 0?void 0:I.goBack)===null||T===void 0||T.call(I):a(!1)},copykey:"dyn_embedded_authenticator.skip",children:i("dyn_embedded_authenticator.skip")}),(e==null?void 0:e.type)==="helpSession"&&(k||_)&&f.jsx("div",{className:"embedded-auth-choice__support-links",children:f.jsx(Nde,{supportEmail:_,supportUrls:k})})]})]}):null};var eY,Utt=["title","titleId"];function DP(){return DP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DP.apply(null,arguments)}function Ftt(e,t){if(e==null)return{};var n,r,i=Wtt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var qtt=function(t){var n=t.title,r=t.titleId,i=Ftt(t,Utt);return x.createElement("svg",DP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,eY||(eY=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm.11 42.446c-1.561 0-2.828 1.243-2.828 2.777 0 1.533 1.267 2.777 2.828 2.777h.038c1.562 0 2.828-1.244 2.828-2.777 0-1.534-1.266-2.777-2.828-2.777h-.038Zm1.8-26.297a12.215 12.215 0 0 0-7.658 1.286c-2.326 1.25-4.14 3.242-5.07 5.659-.55 1.434.187 3.036 1.648 3.578 1.461.541 3.092-.183 3.644-1.617.428-1.116 1.294-2.103 2.495-2.75a6.458 6.458 0 0 1 3.783-.708l-1.595 10.396-.003.001c-1.488.457-2.319 2.012-1.856 3.475.463 1.464 2.048 2.283 3.539 1.828l-.839-2.652c.8 2.525.84 2.644.843 2.65l.004-.001.01-.003.032-.01.098-.031a23.601 23.601 0 0 0 1.448-.535c.906-.368 2.136-.93 3.388-1.693 2.28-1.392 5.665-4.095 5.665-8.304.004-2.583-.993-5.054-2.763-6.98-1.767-1.921-4.188-3.176-6.814-3.589Zm-.894 5.484c1.405.22 2.642.884 3.51 1.827.862.938 1.307 2.092 1.305 3.252v.005c0 1.075-.945 2.335-2.995 3.587-.913.557-1.848.988-2.566 1.28a17.913 17.913 0 0 1-1.064.393l1.81-10.344Z",fill:"currentColor"})))},tY,ztt=["title","titleId"];function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(null,arguments)}function Vtt(e,t){if(e==null)return{};var n,r,i=Ktt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ktt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var nY=function(t){var n=t.title,r=t.titleId,i=Vtt(t,ztt);return x.createElement("svg",jP({width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,tY||(tY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.256 5.244a.833.833 0 0 1 0 1.179l-3.333 3.333a.833.833 0 0 1-1.179-1.179l1.91-1.91H6.668a.833.833 0 0 1 0-1.667h7.988l-1.91-1.91a.833.833 0 1 1 1.178-1.18l3.333 3.334Zm-11.91 8.09h7.987a.833.833 0 1 1 0 1.666H5.345l1.91 1.91a.833.833 0 1 1-1.178 1.18l-3.333-3.334a.833.833 0 0 1 0-1.179l3.333-3.333a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"currentColor"})))};const Htt=(e,t)=>{var n;const r=vo(),i=Wm();return(n=r==null?void 0:r.general[e])!==null&&n!==void 0?n:i[t]},Gtt=()=>Htt("displayName","appName"),Sfe=()=>Wm().redirectUrl,Jtt=(e,t,n)=>de(void 0,void 0,void 0,function*(){try{yield cn().updateWaasWalletSettings({environmentId:e,updateWaasWalletSettingsRequest:n,walletId:t},{credentials:"omit"})}catch(r){throw Ie.error("Failed to update waas wallet settings",{error:r,walletId:t}),r}}),rY=(e,t)=>e&&e.length>0?t().filter(i=>i.status==="pending"||i.status==="denied"||i.isDismissedThisSession).filter(i=>e.some(o=>o.accountAddress===i.address&&o.chainName===i.chain)):t().filter(r=>r.status==="pending"),$P=()=>{var e,t,n;const{setShowAuthFlow:r}=je(),{userWallets:i}=_s(),{pushView:o}=At(),s=vo(),a=m_(),l=qm(),c=F3(),{getWaasWalletConnector:d}=tp(),u=s==null?void 0:s.sdk.waas,h=(e=u==null?void 0:u.delegatedAccess)===null||e===void 0?void 0:e.enabled,m=(t=u==null?void 0:u.delegatedAccess)===null||t===void 0?void 0:t.promptUsersOnSignIn,v=(n=u==null?void 0:u.delegatedAccess)===null||n===void 0?void 0:n.requiresDelegation,y=x.useCallback(()=>{if(!h||!m||!(a!=null&&a.verifiedCredentials))return!1;const D=ot.getItem(_d);return D!=null&&D.dismissed?!1:a.verifiedCredentials.filter(U=>U.walletName==="dynamicwaas"&&U.format===Zo.Blockchain).some(U=>{var $,z,q,S,A;const O=(z=($=U.walletProperties)===null||$===void 0?void 0:$.keyShares)===null||z===void 0?void 0:z.some(V=>V.backupLocation==="delegated"),N=((S=(q=U.walletProperties)===null||q===void 0?void 0:q.settings)===null||S===void 0?void 0:S.hasDeniedDelegatedAccess)===!0,j=(A=D==null?void 0:D.dismissedWallets)===null||A===void 0?void 0:A.includes(U.id);return!O&&!N&&!j})},[a==null?void 0:a.verifiedCredentials,h,m]),g=x.useCallback(D=>de(void 0,void 0,void 0,function*(){if(!a)throw new Error(Kr);return r(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),o("wallet-delegation-view",{wallets:D==null?void 0:D.wallets}),new Promise((M,C)=>{rt.once("embeddedWalletDelegationCompleted",()=>M()),rt.once("embeddedWalletDelegationFailed",U=>C(U))})}),[r,o,a]),b=x.useCallback(()=>{if(!(a!=null&&a.verifiedCredentials))return[];const D=ot.getItem(_d);return a.verifiedCredentials.filter(C=>C.walletName==="dynamicwaas"&&C.format===Zo.Blockchain).map(C=>{var U,$,z,q,S;let A="pending";const O=($=(U=C.walletProperties)===null||U===void 0?void 0:U.keyShares)===null||$===void 0?void 0:$.some(K=>K.backupLocation==="delegated"),N=((q=(z=C.walletProperties)===null||z===void 0?void 0:z.settings)===null||q===void 0?void 0:q.hasDeniedDelegatedAccess)===!0;O?A="delegated":N&&(A="denied");const j=(S=D==null?void 0:D.dismissedWallets)===null||S===void 0?void 0:S.includes(C.id),V=i.find(K=>K.address===C.address);return V?Object.assign(Object.assign({},V),{isDismissedThisSession:j,status:A}):(Ie.warn("Wallet not found for verified credential",{address:C.address,vcId:C.id}),null)}).filter(C=>C!==null)},[a==null?void 0:a.verifiedCredentials,i]),k=x.useCallback(D=>de(void 0,void 0,void 0,function*(){if(!h)throw new Error("Wallet delegation is not enabled for this project environment. Please check the project settings.");const M=rY(D,b).map(C=>({accountAddress:C.address,chainName:C.chain}));if(M.length===0)throw new Error("No eligible wallets to delegate, only Dynamic WaaS wallets are eligible for delegation");for(const C of M){const U=d(C.chainName);if(!U){Ie.warn("Wallet connector not found, skipping delegate",{accountAddress:C.accountAddress,chainName:C.chainName});continue}try{yield U.delegateKeyShares({accountAddress:C.accountAddress})}catch($){Ie.error("Failed to delegate key shares:",{error:$,wallet:C})}}yield c()}),[d,c,b,h]),_=x.useCallback(D=>de(void 0,void 0,void 0,function*(){const M=b();for(const C of D){const U=d(C.chainName);if(!U)continue;const $=M.find(z=>z.address===C.accountAddress&&z.chain===C.chainName);if(!$||$.status!=="delegated"){Ie.warn("Wallet is not delegated, skipping revoke",{accountAddress:C.accountAddress,chainName:C.chainName,status:$==null?void 0:$.status});continue}try{yield U.revokeDelegation({accountAddress:C.accountAddress})}catch(z){Ie.error("Failed to revoke delegation:",{error:z,wallet:C})}}yield c()}),[d,c,b]),R=x.useCallback(D=>de(void 0,void 0,void 0,function*(){try{yield Jtt(l,D,{hasDeniedDelegatedAccess:!0}),yield c();const M=ot.getItem(_d)||{};M.dismissedWallets&&(M.dismissedWallets=M.dismissedWallets.filter(C=>C!==D),ot.setItem(_d,M))}catch(M){throw Ie.error("Failed to deny wallet delegation",M),M}}),[l,c]),I=x.useCallback(D=>{const M=ot.getItem(_d)||{};D?M.dismissedWallets=[...M.dismissedWallets||[],D]:M.dismissed=!0,ot.setItem(_d,M)},[]);return{clearDelegationSessionState:x.useCallback(()=>{ot.removeItem(_d)},[]),delegateKeyShares:k,delegatedAccessEnabled:h,denyWalletDelegation:R,dismissDelegationPrompt:I,getWalletsDelegatedStatus:b,getWalletsToDelegate:rY,initDelegationProcess:g,requiresDelegation:v,revokeDelegation:_,shouldPromptWalletDelegation:y}},iY=({checked:e,onToggle:t,text:n,className:r})=>{const i=a=>{(a.key===" "||a.key==="Enter")&&(a.preventDefault(),t())},o=a=>{a.stopPropagation(),t()},s=r?`embedded-delegated-view__agreement-section ${r}`:"embedded-delegated-view__agreement-section";return f.jsxs("div",{className:s,onClick:t,role:"checkbox","aria-checked":e,tabIndex:0,onKeyDown:i,children:[f.jsx(Vd,{checked:e,onChange:o,value:"agreement"}),f.jsx(se,{variant:"body_small",color:"secondary",children:n})]})},Ztt=({wallets:e})=>{const{setShowAuthFlow:t,handleLogOut:n}=je(),{user:r}=Zc(),i=Gtt(),{getWalletsToDelegate:o,delegateKeyShares:s}=$P(),{requiresDelegation:a,denyWalletDelegation:l,getWalletsDelegatedStatus:c}=$P(),[d,u]=x.useState(new Set),[h,m]=x.useState(!1),[v,y]=x.useState(!1),[g,b]=x.useState(!1),[k,_]=x.useState(!1),R=x.useMemo(()=>{const Me=e?e.map(gt=>({accountAddress:gt.address,chainName:gt.chain})):void 0;return o(Me,c)},[e,c,o]);x.useEffect(()=>{k||(R.length===1?(u(new Set([R[0].id])),_(!0)):R.length>1&&(u(new Set(R.map(Me=>Me.id))),_(!0)))},[R,k]);const I=(Me,gt)=>{_(!0),u(tt=>{const dt=new Set(tt);return dt.has(Me)?dt.delete(Me):dt.add(Me),dt})},T=()=>{_(!0),u(new Set(R.map(Me=>Me.id)))},D=()=>{_(!0),u(new Set)},M=()=>de(void 0,void 0,void 0,function*(){try{for(const Me of d)yield l(Me);t(!1)}catch(Me){Ie.error("Failed to deny wallet delegation",Me),t(!1)}}),{mutate:C,isLoading:U,error:$,data:z}=Xo(()=>de(void 0,void 0,void 0,function*(){if(d.size===0)throw new Se("No wallets selected for delegation");const Me=R.filter(tt=>d.has(tt.id)),gt=Me.map(tt=>({accountAddress:tt.address,chainName:tt.chain}));try{yield s(gt),Me.forEach(tt=>{rt.emit("embeddedWalletDelegationCompleted",tt)})}catch(tt){throw Ie.error("Failed to delegate wallets",tt),tt}return rt.emit("embeddedWalletDelegationCompleted",Me[0]),!0}),{onFailure:Me=>{Ie.error("Failed to delegate wallets",Me),rt.emit("embeddedWalletDelegationFailed",Me)}}),q=x.useMemo(()=>{if($){if($ instanceof Se)return $.message;try{return ip($,r)}catch(Me){Ie.error("Error getting proper error message",Me);return}}},[$,r]),{t:S}=Xe(),A=()=>d.size===R.length?S("dyn_wallet_delegation.deselect_all"):d.size===0?S("dyn_wallet_delegation.select_all"):S("dyn_wallet_delegation.clear"),O=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__approval-icon",children:f.jsx(nY,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",children:S("dyn_wallet_delegation.approving_permissions",{appName:i})}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",children:S("dyn_wallet_delegation.revoke_note")})]})}),N=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__approval-icon",children:f.jsx(cc,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",children:S("dyn_wallet_delegation.permissions_granted",{appName:i})}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",children:S("dyn_wallet_delegation.revoke_note")})]})}),j=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__error-icon",children:f.jsx(Oi,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",children:S("dyn_wallet_delegation.something_went_wrong")}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",children:S("dyn_wallet_delegation.delegation_timeout_message")})]})}),V=f.jsx("div",{className:"embedded-delegated-view__body__description",children:f.jsxs("div",{className:"embedded-delegated-view__approval-section",children:[f.jsx("div",{className:"embedded-delegated-view__approval-icon",children:f.jsx(nY,{})}),f.jsx(se,{variant:"body_small",weight:"bold",color:"primary",className:"embedded-delegated-view__approval-title",copykey:"dyn_wallet_delegation.approval_required",children:S(a?"dyn_wallet_delegation.approval_required":"dyn_wallet_delegation.approval_requested")}),f.jsx(se,{variant:"body_small",color:"secondary",className:"embedded-delegated-view__approval-description",copykey:"dyn_wallet_delegation.approval_description",children:S("dyn_wallet_delegation.approval_description",{appName:i})})]})}),K=()=>{const[Me]=R;return!Me||!Me.address?null:f.jsxs("div",{className:"embedded-delegated-view__wallet-card-container",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-card",children:[f.jsx(se,{variant:"body_normal",weight:"medium",color:"primary",children:S("dyn_wallet_delegation.my_wallet")}),f.jsxs("div",{className:"embedded-delegated-view__wallet-address",children:[f.jsx("div",{className:"embedded-delegated-view__wallet-address-dot"}),f.jsxs(se,{variant:"body_small",color:"secondary",children:[Me.address.slice(0,6),"...",Me.address.slice(-4)]})]})]}),f.jsx(iY,{checked:g,onToggle:()=>b(!g),text:S("dyn_wallet_delegation.agreement_text")})]})},W=()=>f.jsxs("div",{className:"embedded-delegated-view__wallet-card-container",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-card",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-card-header",children:[f.jsx(se,{variant:"body_normal",weight:"medium",color:"primary",children:S(d.size===R.length?"dyn_wallet_delegation.all_wallets":"dyn_wallet_delegation.selected_wallets")}),d.size!==R.length&&f.jsx(se,{variant:"body_normal",color:"tertiary",children:d.size.toString().padStart(2,"0")})]}),f.jsx("button",{onClick:()=>m(!0),className:"embedded-delegated-view__edit-selections-button",children:f.jsx(se,{variant:"body_small",color:"secondary",children:S("dyn_wallet_delegation.edit_selections")})})]}),f.jsx(iY,{checked:g,onToggle:()=>b(!g),text:S("dyn_wallet_delegation.agreement_text")})]}),P=()=>f.jsxs("div",{className:"embedded-delegated-view__wallet-selection",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-selection__header",children:[f.jsxs("div",{className:"embedded-delegated-view__wallet-selection__header-text",children:[f.jsx(se,{variant:"body_small",color:"secondary",children:S("dyn_wallet_delegation.selected_wallets")}),f.jsx(se,{variant:"body_small",color:"tertiary",children:d.size.toString().padStart(2,"0")})]}),f.jsx("button",{onClick:d.size===R.length?D:T,className:"embedded-delegated-view__wallet-selection__deselect-all",children:f.jsx(se,{variant:"body_small",color:"tertiary",children:A()})})]}),f.jsx("div",{className:"embedded-delegated-view__wallet-list",children:R==null?void 0:R.map(Me=>{var gt,tt;return f.jsx("div",{className:`embedded-delegated-view__wallet-item${d.has(Me.id)?" embedded-delegated-view__wallet-item--selected":""}`,onClick:()=>I(Me.id),children:f.jsxs("div",{className:"embedded-delegated-view__wallet-item__content",children:[f.jsx("div",{className:"embedded-delegated-view__wallet-item__icon",children:f.jsx(AN,{walletKey:Me.key,Icon:null,iconUrl:(tt=(gt=Me.connector)===null||gt===void 0?void 0:gt.metadata)===null||tt===void 0?void 0:tt.icon,chainName:Me.chain,iconSize:24,showNetwork:!0})}),f.jsx("div",{className:"embedded-delegated-view__wallet-item__info",children:f.jsxs(se,{variant:"body_small",weight:"medium",children:[Me.address.slice(0,6),"...",Me.address.slice(-4)]})}),f.jsx("div",{className:"embedded-delegated-view__wallet-item__checkbox",children:f.jsx(Vd,{checked:d.has(Me.id),onChange:dt=>dt.stopPropagation(),value:Me.id})})]})},Me.id)})})]}),F=h||v?f.jsx(Sn,{onClick:()=>{m(!1),y(!1),b(!1)},type:"button",children:f.jsx(Yh,{})}):f.jsx(Sn,{onClick:()=>{const Me=ot.getItem(_d)||{completed:{},denied:{},dismissed:!1};Me.dismissed=!0,ot.setItem(_d,Me),t(!1)},type:"button",children:f.jsx(Oi,{})}),G=f.jsx(Sn,{onClick:()=>y(!0),type:"button",children:f.jsx(fv,{})}),Y=()=>f.jsxs("div",{className:"embedded-delegated-view__learn-more-content",children:[f.jsx("div",{className:"embedded-delegated-view__learn-more-content-icon",children:f.jsx(qtt,{})}),f.jsx(se,{variant:"body_normal",color:"secondary",className:"embedded-delegated-view__learn-more-content-description",children:S("dyn_wallet_delegation.learn_more_description")})]}),ie=()=>U?O:z?N:$?j:V,ye=()=>v?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"secondary",typographyProps:{color:"primary",weight:"medium"},onClick:()=>{y(!1),m(!1),b(!1)},dataTestId:"embedded-delegation-okay-button",copykey:"dyn_wallet_delegation.learn_more_okay_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.learn_more_okay_button")}):z?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>t(!1),dataTestId:"embedded-delegation-done-button",copykey:"dyn_wallet_delegation.done_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.done_button")}):$?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>C(),dataTestId:"embedded-delegation-try-again-button",copykey:"dyn_wallet_delegation.try_again_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.try_again_button")}):h?f.jsx(xt,{buttonPadding:"medium",buttonVariant:"secondary",typographyProps:{color:"primary",weight:"medium"},onClick:()=>{m(!1),b(!1),y(!1)},dataTestId:"embedded-delegation-done-button",copykey:"dyn_wallet_delegation.done_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.done_button")}):f.jsxs(f.Fragment,{children:[f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},onClick:()=>C(),loading:U,disabled:d.size===0||!g,dataTestId:"embedded-delegation-button",copykey:"dyn_wallet_delegation.approve_button",style:{width:"100%"},className:"embedded-delegated-view__body__button",expanded:!0,children:S("dyn_wallet_delegation.approve_button")}),!U&&!a&&f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>M(),dataTestId:"embedded-delegation-deny-button",copykey:"dyn_wallet_delegation.deny_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button embedded-delegated-view__body__deny-button",expanded:!0,children:S("dyn_wallet_delegation.deny_button")}),!U&&a&&f.jsx(xt,{buttonPadding:"medium",buttonVariant:"brand-primary",typographyProps:{color:"primary",weight:"bold"},onClick:()=>{n()},dataTestId:"embedded-delegation-logout-button",copykey:"dyn_wallet_delegation.logout_button",style:{backgroundColor:"var(--dynamic-base-2)",border:"var(--px-to-rem-1) solid var(--dynamic-base-4)",width:"100%"},className:"embedded-delegated-view__body__button embedded-delegated-view__body__logout-button",expanded:!0,children:S("dyn_wallet_delegation.logout_button")})]});let ge,be;h||v?(ge=F,be=void 0):(!U&&!z&&!$&&(be=G),a?ge=void 0:ge=F);const qe=(()=>{if(h)return f.jsx(se,{variant:"body_normal",weight:"bold",color:"primary",children:S("dyn_wallet_delegation.edit_wallets_to_delegate")});if(v)return f.jsx(se,{variant:"body_normal",weight:"bold",color:"primary",children:S("dyn_wallet_delegation.learn_more")})})();return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{leading:ge,trailing:be,style:{paddingBottom:h||v?"24px":0},children:qe}),f.jsx("div",{className:"embedded-delegated-view",children:f.jsxs("div",{className:"embedded-delegated-view__body",children:[!h&&!v&&ie(),q&&f.jsx(Lr,{children:q}),!U&&!z&&!$&&f.jsx("div",{className:"embedded-delegated-view__body__card",children:h?P():v?Y():R.length===1?K():R.length>1?W():null}),f.jsx("div",{className:"embedded-delegated-view__body__button_section",children:ye()})]})})]})},oY=()=>{const[e,t]=x.useState(!1),{selectedWalletConnector:n}=je(),{signAlreadyConnectedUser:r}=sue(),{t:i}=Xe(),o=96,s=_ue(n);if(!n)return null;const a=()=>de(void 0,void 0,void 0,function*(){try{t(!0),yield r({walletConnector:n})}catch(d){Ie.error(d)}finally{t(!1)}}),l=f.jsx(oi,{icon:n.metadata.icon,walletKey:n.key,style:{height:Ut(o*Yo),width:Ut(o*Yo)}}),c=i(s?"dyn_pending_signature.phantom_ledger_sign":"dyn_pending_signature.regular_sign_description");return f.jsxs("div",{className:"pending-signature__container","data-testid":"pending-signature-view",children:[f.jsx(si,{Icon:l,iconSize:o,isSpinning:!0,indicator:"connected",className:"pending-signature__icon-with-spinner"}),f.jsx(se,{variant:"body_normal",weight:"regular",className:Ke("pending-signature__copy"),copykey:s?"dyn_pending_signature.phantom_ledger_sign":"dyn_pending_signature.regular_sign_description",children:c}),s&&f.jsxs(se,{variant:"body_small",weight:"regular",className:Ke("pending-signature__copy","pending-signature__copy--mini"),copykey:"dyn_pending_signature.phantom_ledger_warning",children:[f.jsx("strong",{children:i("dyn_pending_signature.note")}),i("dyn_pending_signature.phantom_ledger_warning")]}),VD(n)&&f.jsx(xt,{buttonClassName:"pending-signature__button",onClick:a,loading:e,buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},copykey:"dyn_pending_signature.click_to_sign",children:i("dyn_pending_signature.click_to_sign")})]})},Ytt=()=>{var e;const{theme:{theme:t}}=c_(),{name:n}=t,{qrcodeUri:r,desktopUri:i,selectedWalletConnector:o}=je();if(!o)return null;const s=f.jsx(oi,{icon:o.metadata.icon,walletKey:o.key,style:{height:Ut(32),width:Ut(32)}});return f.jsx(Cj,{uri:r,desktopUri:i,accentColor:n==="dark"?t.colors.textPrimary:(e=o.metadata.brandColor)!==null&&e!==void 0?e:"",icon:s,showCopyToClipboardButton:o.isWalletConnect,walletConnector:o})};var sY,Xtt=["title","titleId"];function LP(){return LP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LP.apply(null,arguments)}function Qtt(e,t){if(e==null)return{};var n,r,i=ent(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ent(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ife=function(t){var n=t.title,r=t.titleId,i=Qtt(t,Xtt);return x.createElement("svg",LP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,sY||(sY=x.createElement("path",{d:"M32.5 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm6.389 39.467a1.815 1.815 0 0 0-2.24 1.252 37.88 37.88 0 0 1-2.583 6.654 1.814 1.814 0 0 0 3.244 1.625 41.508 41.508 0 0 0 2.83-7.292 1.814 1.814 0 0 0-1.251-2.24Zm-6.247-10.953a1.813 1.813 0 0 0-1.814 1.813 30.69 30.69 0 0 1-4.716 16.399 1.814 1.814 0 1 0 3.072 1.931 34.317 34.317 0 0 0 5.272-18.33 1.814 1.814 0 0 0-1.814-1.813Zm0-7.257a9.07 9.07 0 0 0-9.07 9.07c0 4.622-1.322 8.909-3.602 12.534l-.123.202a1.815 1.815 0 0 0 3.12 1.852l.074-.122a27.06 27.06 0 0 0 4.158-14.466 5.443 5.443 0 0 1 10.885 0c0 1.763-.12 3.498-.352 5.197a1.814 1.814 0 1 0 3.595.492c.254-1.862.386-3.761.386-5.689 0-5.01-4.062-9.07-9.071-9.07Zm0-7.257c-2.971 0-5.762.795-8.165 2.186a1.814 1.814 0 0 0 1.817 3.14 12.632 12.632 0 0 1 6.348-1.698c7.013 0 12.699 5.686 12.699 12.7 0 4.316-.602 8.49-1.727 12.442a1.814 1.814 0 1 0 3.49.993 49.017 49.017 0 0 0 1.866-13.436C48.97 21.31 41.659 14 32.642 14Zm-11.664 7.5a1.815 1.815 0 0 0-2.478.662 16.262 16.262 0 0 0-2.186 8.165c0 2.558-.587 4.974-1.631 7.125a1.815 1.815 0 1 0 3.263 1.585 19.884 19.884 0 0 0 1.997-8.71c0-2.316.618-4.482 1.698-6.348a1.815 1.815 0 0 0-.662-2.479Z",fill:"#4779FF"})))};const Efe=e=>{const{t}=Xe();return x.useMemo(()=>{if(e)return e.name==="NotAllowedError"?t("dyn_mfa.confirm_passkey_view.error.not_allowed"):(e.name==="InvalidStateError",e.message)},[e,t])},tnt=({createMfaToken:e=!1,authenticatePasskeyPromise:t})=>{const{t:n}=Xe(),{setShowAuthFlow:r}=je(),{pushView:i}=At(),{error:o,isLoading:s}=vr(()=>t,{initialData:void 0,onResolve:()=>{r(!1)}}),a=Efe(o);return f.jsxs("div",{className:Ke("confirm-passkey-view"),children:[f.jsx(Zn,{alignContent:"bottom",children:f.jsx("div",{className:"confirm-passkey-view__header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"confirm-passkey-view__title",copykey:"dyn_mfa.confirm_passkey_view.title",children:n("dyn_mfa.confirm_passkey_view.title")})})}),f.jsx(jS,{type:"error",messageKey:a,className:"confirm-passkey-view__header-banner"}),f.jsxs("div",{className:Ke("confirm-passkey-view__content"),children:[f.jsx(si,{Icon:Ife,iconSize:96,isSpinning:s,treatAsFunctionComponent:!0}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:Ke("confirm-passkey-view__description"),copykey:"dyn_mfa.confirm_passkey_view.description",children:n("dyn_mfa.confirm_passkey_view.description")})]}),f.jsx("div",{className:"confirm-passkey-view__choose-another-method",children:f.jsx(Zs,{className:"confirm-passkey-view__choose-another-method-button",onClick:()=>i("mfa-choose-device",{createMfaToken:e,isInitialSetup:!1}),copykey:"dyn_mfa.otp_verification_view.choose_another_method",children:n("dyn_mfa.otp_verification_view.choose_another_method")})})]})},nnt=({registerPasskeyPromise:e})=>{const{t}=Xe(),{clearStackAndPush:n,pushView:r,goBack:i,canGoBack:o}=At(),{setShowAuthFlow:s}=je(),{error:a,isLoading:l}=vr(()=>e,{initialData:void 0,onResolve:u=>de(void 0,void 0,void 0,function*(){if((u==null?void 0:u.user.mfaBackupCodeAcknowledgement)===zu.Pending){n("mfa-display-backup-codes");return}s(!1)})}),c=Efe(a),d=o&&f.jsx(Sn,{type:"button",onClick:i,"data-testid":"back-button",children:f.jsx(Yh,{})});return f.jsxs("div",{className:Ke("setup-passkey-view"),children:[f.jsx(Zn,{alignContent:"bottom",leading:d,children:f.jsx("div",{className:"setup-passkey-view__header",children:f.jsx(se,{weight:"medium",variant:"title",color:"primary",className:"setup-passkey-view__title",copykey:"dyn_mfa.setup_passkey_view.title",children:t("dyn_mfa.setup_passkey_view.title")})})}),f.jsx(jS,{type:"error",messageKey:c,className:"setup-passkey-view__header-banner"}),f.jsxs("div",{className:Ke("setup-passkey-view__content"),children:[f.jsx(si,{Icon:Ife,iconSize:96,isSpinning:l,treatAsFunctionComponent:!0}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:Ke("setup-passkey-view__description"),copykey:"dyn_mfa.setup_passkey_view.description",children:t("dyn_mfa.setup_passkey_view.description")})]}),f.jsx("div",{className:"setup-passkey-view__choose-another-method",children:f.jsx(Zs,{className:"setup-passkey-view__choose-another-method-button",onClick:()=>r("mfa-choose-device",{isInitialSetup:!0}),copykey:"dyn_mfa.otp_verification_view.choose_another_method",children:t("dyn_mfa.otp_verification_view.choose_another_method")})})]})},rnt=()=>{const{selectedWalletConnector:e}=je(),{t}=Xe(),n=94,r=f.jsx(oi,{icon:e==null?void 0:e.metadata.icon,walletKey:e==null?void 0:e.key,style:{height:Ut(n*Yo),width:Ut(n*Yo)}});return f.jsxs("div",{className:"pending-connect__container",children:[f.jsx(si,{Icon:r,iconSize:n,isSpinning:!0,className:"pending-connect__icon-with-spinner"}),f.jsx(se,{variant:"body_normal",weight:"regular",className:"pending-connect__copy-text",copykey:rr()?"dyn_pending_connection.mobile":"dyn_pending_connection.computer",children:rr()?t("dyn_pending_connection.mobile"):t("dyn_pending_connection.computer")})]})},int=()=>{const{t:e}=Xe(),{clearStackAndPushInitialView:t}=At(),n=()=>{t()};return f.jsxs("div",{className:"sandbox-threshold__main",children:[f.jsx(se,{variant:"title",color:"primary",className:"sandbox-threshold__title",copykey:"dyn_sandbox_maximum_threshold.title",children:e("dyn_sandbox_maximum_threshold.title")}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",className:"sandbox-threshold__description",copykey:"dyn_sandbox_maximum_threshold.description",children:e("dyn_sandbox_maximum_threshold.description")}),f.jsx(xt,{onClick:n,className:"sandbox-threshold__button",expanded:!0,buttonPadding:"large",copykey:"dyn_sandbox_maximum_threshold.button",children:e("dyn_sandbox_maximum_threshold.button")})]})},ont=({icon:e,variant:t="primary",value:n,onChange:r,dataTestId:i,className:o,style:s})=>f.jsxs("label",{className:Ke("toggle",o),style:s,children:[f.jsx("input",{type:"checkbox",className:"toggle--input","data-testid":i,checked:n,onChange:()=>r==null?void 0:r(!n)}),f.jsx("div",{className:Ke("toggle--content",`toggle--content__variant-${t}`),children:f.jsx("div",{className:"toggle--knob",children:e})})]}),Cfe=({connectors:e,label:t,copykey:n})=>{const[r,i]=x.useState(e.some(a=>a.isHardwareWalletEnabled)),o=x.useCallback(a=>{i(a),e.forEach(l=>{l.isHardwareWalletEnabled=a})},[e]),s=f.jsx(ont,{value:r,dataTestId:"hardware-wallet-toggle",icon:f.jsx(Nt,{size:"small",children:f.jsx(cc,{})}),className:"hardware-wallet-toggle__toggle"});return f.jsx(rp,{onClick:()=>o(!r),trailing:s,children:f.jsx("span",{copykey:n,children:t})})},snt=({wallet:e,onSelectWallet:t})=>{const{t:n}=Xe();return f.jsx("div",{className:"select-hardware-wallet-view",children:f.jsxs("div",{className:"select-hardware-wallet-view__container",children:[f.jsx(Nt,{className:"select-hardware-wallet-view__icon",children:f.jsx(oi,{icon:e.walletConnector.metadata.icon,walletKey:e.key})}),f.jsx(se,{className:"select-hardware-wallet-view__text",as:"p",color:"secondary",variant:"body_normal",copykey:"dyn_select_hardware_wallet.description",children:n("dyn_select_hardware_wallet.description")}),Ph(e.walletConnector)&&f.jsxs(f.Fragment,{children:[f.jsx(Cfe,{connectors:[e.walletConnector],copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:n("dyn_select_chain.using_hardware_wallet_toggle_label")}),f.jsx(rf,{})]}),f.jsx(xt,{buttonVariant:"primary",onClick:()=>t==null?void 0:t(e),copykey:"dyn_select_hardware_wallet.button",dataTestId:"select-hardware-wallet-connect-button",children:n("dyn_select_hardware_wallet.button")})]})})},Afe=({icon:e,title:t,titleCopyKey:n,children:r})=>f.jsxs("div",{className:"wallet-group-view-layout__container",children:[f.jsx(si,{className:"wallet-group-view-layout__icon",Icon:e,iconSize:96}),f.jsxs("div",{className:"wallet-group-view-layout__body",children:[f.jsx(se,{className:"wallet-group-view-layout__title",as:"p",color:"secondary",variant:"body_normal",copykey:n,children:t}),f.jsx("div",{className:"wallet-group-view-layout__list",children:r})]})]}),ant=({groupKey:e,wallet:t,onClick:n})=>{const{recommendedWallets:r}=je(),{walletBook:i}=SM(),o=lRe(i,e,t.key),s=Ud(i,t.key),a=(o==null?void 0:o.brand)||(s==null?void 0:s.brand),l=(o==null?void 0:o.name)||(s==null?void 0:s.name),c=a?f.jsx(A4e,{brand:a,walletKey:t.key,style:{height:Ut(28),width:Ut(28)}}):null,d=gj({recommendedWallets:r,wallet:t}),u=f.jsx(C_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Vu,{})}),children:d&&f.jsx(nf,{dot:!d.isRecommended,variant:d.isRecommended?"primary":"secondary",text:f.jsx(se,{variant:"body_small",children:d.label})})});return f.jsx(rp,{onClick:n,leading:c,trailing:u,children:l})},lnt=({onSelectWallet:e})=>{var t;const{selectedWalletGroup:n}=W3(),r=Hm(),{t:i}=Xe();if(!n)throw new Error("Could not access WalletGroup view without selected group");const o=r[n.key];if(!o)throw new Error("Could not access WalletGroup view without group data");return f.jsx(Afe,{icon:f.jsx(oi,{walletKey:o.key,isGroup:!0,icon:(t=o.brand)===null||t===void 0?void 0:t.icon}),title:i("dyn_select_wallet.description",{walletName:o.name}),titleCopyKey:"dyn_select_wallet.description",children:n.groupedWallets.map((s,a)=>f.jsx(ant,{groupKey:n.key,wallet:s,onClick:()=>e(s)},`${s.key}_${a}`))})};var aY,cnt=["title","titleId"];function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UP.apply(null,arguments)}function dnt(e,t){if(e==null)return{};var n,r,i=unt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function unt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var fnt=function(t){var n=t.title,r=t.titleId,i=dnt(t,cnt);return x.createElement("svg",UP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,aY||(aY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 64c17.673 0 32-14.327 32-32C64 14.327 49.673 0 32 0 14.327 0 0 14.327 0 32c0 17.673 14.327 32 32 32Zm-7.91-50h14.892a4.092 4.092 0 0 1 4.09 4.09v27.82a4.092 4.092 0 0 1-4.09 4.09H24.09A4.092 4.092 0 0 1 20 45.91V18.09A4.092 4.092 0 0 1 24.09 14Zm4.992 31.91a2.451 2.451 0 0 0 2.454 2.454 2.451 2.451 0 0 0 2.455-2.455 2.451 2.451 0 0 0-2.455-2.454 2.451 2.451 0 0 0-2.454 2.454Zm-5.81-4.092H39.8V18.91H23.273v22.91Z",fill:"#4779FF"})))};const hnt=e=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(fnt,Object.assign({},e,{"data-testid":"sign-in-with-sms-icon"}))}),pnt=e=>{const{verificationUUID:t,displayedDestination:n,retryData:r}=Kc(),{environmentId:i,user:o,userWithMissingInfo:s,projectSettings:a}=je(),[l,c]=x.useState(),{verifyOtp:d}=Zue(),{generateSessionKey:u,shouldRegisterSessionKeysOnSignin:h}=Km({environmentId:i,projectSettings:a}),{initAuth:m,completeAuth:v,cancelAuth:y}=of({authMethod:"sms"}),g=x.useRef(!1);tfe(()=>{const T=r??{dialCode:"",iso2:"",phone:""};r||Ie.warn("WARNING: emitted smsVerificationResult with incomplete params because retryData was undefined"),rt.emit("smsVerificationResult",g.current,T),g.current||rt.emit("authFailure",{option:T,phone:T,type:"sms"},"user-cancelled")});const b=()=>de(void 0,void 0,void 0,function*(){if(c(void 0),!t||!r){yield y();return}JYe({environmentId:i,isoCountryCode:r.iso2,phoneCountryCode:r.dialCode,phoneNumber:o_({dialCode:r.dialCode,phone:r.phone}),verificationUUID:t})}),k=x.useCallback(T=>de(void 0,void 0,void 0,function*(){if(!t||!o&&!s){yield y();return}yield v({onValidUpdatedJwt:()=>g.current=!0,updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return d(T,"sms",t)})})}),[y,v,o,s,t,d]),_=x.useCallback(T=>de(void 0,void 0,void 0,function*(){if(!t){yield y();return}yield m({onError:D=>c(D),onVerifySuccess:()=>{g.current=!0},options:{phone:r},showSuccessMessage:!0,verifyFunction:()=>de(void 0,void 0,void 0,function*(){let D;return h()&&(D=(yield u()).publicKey),yield Fc(),Gue({environmentId:i,sessionPublicKey:D,verificationToken:T,verificationUUID:t})})})}),[t,m,r,y,i,u,h]),{isLoading:R,mutate:I}=Xo(e==="login"?_:k,{onFailure:T=>{c(T)}});return{error:l,formattedPhone:n??"",isLoading:R,isValid:g.current,onSubmit:I,retryOneTimePassword:b,setError:c}},lY=()=>{const{view:e}=At(),{handleLogOut:t}=je(),{t:n}=Xe(),r=e.type==="login-with-sms-verification",{error:i,formattedPhone:o,isLoading:s,isValid:a,onSubmit:l,retryOneTimePassword:c,setError:d}=pnt(r?"login":"verify-only"),u=r?void 0:f.jsx(Zs,{className:"sms-verification__log-out",onClick:t,copykey:"dyn_otp_verification.log_out_button",children:n("dyn_otp_verification.log_out_button")});return f.jsx(Sj,{MainIcon:hnt,displayedDestination:o,error:i,hideHeader:!0,isLoading:s,onPinComplete:l,isValid:a,retryHandler:c,onPinChange:()=>d(void 0),appendToEnd:u})},mnt=()=>{const{socialProvider:e,signInProvider:t}=sf(),n=j3(),{t:r}=Xe();return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Ke("social-redirect-view__container"),children:[e&&f.jsx(si,{iconSize:64,Icon:n(e),isSpinning:!0}),f.jsx(se,{weight:"medium",variant:"title",className:Ke("social-redirect-view__title"),copykey:"dyn_social_redirect.logging_in",children:r("dyn_social_redirect.logging_in")})]}),t!==qb.MagicLink&&f.jsx(wue,{})]})},gnt=()=>{const[e,t]=x.useState(!1),{socialWalletConnector:n,socialAccount:r}=sf(),{t:i}=Xe(),o=j3();return!r||!n?null:f.jsxs("div",{className:Ke("social-wrong-account-view__container"),children:[f.jsx(si,{Icon:o(r.oauthProvider),isSpinning:e,iconSize:64}),f.jsx(se,{weight:"medium",variant:"title",className:Ke("social-wrong-account-view__title"),copykey:"dyn_login.wrong_social_account.title",children:i("dyn_login.wrong_social_account.title")}),f.jsx(se,{variant:"body_normal",weight:"regular",className:Ke("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.subtitle",children:i("dyn_login.wrong_social_account.subtitle")}),f.jsxs(se,{variant:"body_normal",weight:"regular",className:Ke("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.retry_title",children:[i("dyn_login.wrong_social_account.retry_title"),f.jsx("b",{children:r.oauthUsername})]}),f.jsx(xt,{buttonClassName:"social-wrong-account-view__button",buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},disabled:e,onClick:()=>{t(!0),n.connect(r.oauthProvider)},copykey:"dyn_login.wrong_social_account.retry_button",children:i("dyn_login.wrong_social_account.retry_button")})]})},ynt=({leading:e,name:t,onClick:n,trailing:r})=>f.jsx(rp,{leading:e,trailing:r,onClick:n,className:"onramp-item__tile",dataTestId:"ListTile",children:t}),vnt=({disabled:e=!1,onramp:t,onResetSearchValue:n,tile:r=ynt,onSelectOnRamp:i,trailingProp:o=void 0})=>{const s=r,a=()=>de(void 0,void 0,void 0,function*(){e||(n==null||n(""),i(t))}),l=t.displayName,c=f.jsx(Nt,{className:"onramp-item__icon",children:f.jsx("img",{src:t.iconUrl,alt:t.displayName})}),d=o??f.jsx(C_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Vu,{})})});return f.jsx(s,{leading:c,trailing:d,name:l.charAt(0).toUpperCase()+l.slice(1),onClick:a})},wnt=({onSelectWallet:e,onSelectExchange:t,onSelectOnRamp:n,showDefaultFooter:r,scrollContainerClassName:i})=>{var o,s,a;const{t:l}=Xe(),{error:c}=so(),[d,u]=x.useState(!0),[h,m]=x.useState((o=ot.getItem(_h))!==null&&o!==void 0?o:""),{userWallets:v}=_s(),y=Hm(),{multiWallet:g,walletConnectorOptions:b}=je(),{enabledOnrampProviders:k}=mde(),_=Wm(),{numberOfWallets:R,walletsList:I}=Aj({groupWallets:!0,inputList:b,isWalletConnectList:!1,lastUsedWalletKey:(s=ot.getItem(Yu))!==null&&s!==void 0?s:void 0,loginWithEmail:!0,multiWallet:g,numberOfWalletsToShow:(a=_.defaultNumberOfWalletsToShow)!==null&&a!==void 0?a:10,recommendedWallets:_.recommendedWallets,searchFilter:h,userWallets:v,walletGroups:y,walletsFilter:_.walletsFilter}),T=vo(),D=x.useMemo(()=>{if(!(T!=null&&T.exchanges))return[];const j=T.exchanges.flatMap(({exchange:V,enabledAt:K})=>K?[f1(V)]:[]);return[...new Set(j)]},[T==null?void 0:T.exchanges]),M=x.useMemo(()=>{const j=h.trim().toLowerCase();return j?D.filter(V=>NS(V).toLowerCase().includes(j)):D},[D,h]),C=x.useMemo(()=>k.filter(({isPaymentMethod:j})=>!j),[k]),U=x.useMemo(()=>{const j=h.trim().toLowerCase();return j?C.filter(({displayName:V})=>V.toLowerCase().includes(j)):C},[C,h]),$=x.useRef(null),z=()=>{const j=$.current;j&&u(j.scrollTop<=j.clientHeight*1.25)},q=j=>{ot.setItem(_h,j),m(j)},S=!T,A=f.jsx(se,{variant:"body_small",color:"tertiary",copykey:"dyn_unified_list.wallet",children:l("dyn_unified_list.wallet")}),O=f.jsx(se,{variant:"body_small",color:"tertiary",copykey:"dyn_unified_list.exchange",children:l("dyn_unified_list.exchange")}),N=f.jsx(se,{variant:"body_small",color:"tertiary",copykey:"dyn_unified_list.onramp",children:l("dyn_unified_list.onramp")});return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Ke("unified-list__search-container",{"unified-list__search-container--scroll":!c}),children:f.jsx(Ej,{copykey:"dyn_unified_list.search.label",label:l("dyn_unified_list.search.label",{count:R+M.length}),value:h,onChange:({target:{value:j}})=>q(j),onClickClear:()=>q("")})}),!!c&&f.jsx(Lr,{className:"unified-list__error-container",withIcon:!1,children:c}),f.jsx("div",{className:Ke("unified-list__scroll-container",i,{"unified-list__scroll-container--error":!!c}),ref:$,onScroll:z,"data-testid":"unified-list-scroll-container",children:S?f.jsx(Vo,{count:10,className:"unified-list__tile-skeleton"}):f.jsxs(f.Fragment,{children:[I.length===0&&M.length===0&&U.length===0&&(b.length||D.length||C.length)?f.jsx($S,{titleKey:l("dyn_unified_list.search.not_found.title"),subtitleKey:l("dyn_unified_list.search.not_found.description"),image:f.jsx(Ij,{})}):I.map((j,V)=>f.jsx(z3,{wallet:j,onResetSearchValue:()=>q(""),recommendedWallets:_.recommendedWallets,onSelectWallet:e,trailingProp:A},`wallet_${j.key}_${V}`)),M.map((j,V)=>f.jsx(cfe,{exchange:NS(j),onResetSearchValue:()=>q(""),onSelectExchange:t,trailingProp:O},`exchange_${j}_${V}`)),U.map((j,V)=>f.jsx(vnt,{onramp:j,onResetSearchValue:()=>q(""),onSelectOnRamp:n,trailingProp:N},`onramp_${j}_${V}`))]})}),r&&f.jsx(H3,{hideBorder:!d})]})},bnt=()=>{const e=qm(),{handleLogOut:t}=je(),[n,r]=x.useState(!1),[i,o]=x.useState(null);return{deleteUser:()=>de(void 0,void 0,void 0,function*(){try{r(!0),o(null),yield mWe(e),yield t()}catch(a){throw o(a),a}finally{r(!1)}}),error:i,isLoading:n}},_nt=()=>{const{setShowAuthFlow:e,user:t}=je(),{t:n}=Xe(),{deleteUser:r,isLoading:i,error:o}=bnt(),[s,a]=x.useState(!1),[l,c]=x.useState(""),d=x.useCallback(g=>{c(g.target.value)},[]),u=x.useCallback(g=>{a(g.target.checked)},[]),h=x.useCallback(()=>{e(!1)},[e]),m=x.useCallback(()=>de(void 0,void 0,void 0,function*(){s&&(yield r())}),[r,s]),v=x.useMemo(()=>s&&l==="DELETE"&&!i,[s,l,i]),y=x.useMemo(()=>t==null?void 0:t.verifiedCredentials.some(g=>g.walletProvider===Ao.EmbeddedWallet),[t]);return f.jsx("div",{className:"delete-account-view",children:f.jsxs("div",{className:"delete-account-view__content",children:[f.jsx("div",{className:"warning-section",children:f.jsxs("div",{className:"warning-icon-container",children:[f.jsx(xj,{className:"warning-icon"}),f.jsx(K3,{className:"exclamation-icon"})]})}),f.jsx("div",{className:"message-box",children:f.jsx(se,{variant:"body_normal",weight:"bold",copykey:"dyn_settings.delete_account.description",children:n("dyn_settings.delete_account.description")})}),f.jsxs("div",{className:"confirmation-section",children:[f.jsxs("div",{className:"checkbox-container",children:[f.jsx("input",{type:"checkbox",checked:s,onChange:u,"data-testid":"delete-account-checkbox"}),f.jsx(se,{className:"checkbox-text",variant:"body_small",copykey:y?"dyn_settings.delete_account.backup_confirmation_embedded":"dyn_settings.delete_account.backup_confirmation_no_embedded",children:n(y?"dyn_settings.delete_account.backup_confirmation_embedded":"dyn_settings.delete_account.backup_confirmation_no_embedded")})]}),f.jsxs("div",{className:"input-section",children:[f.jsx(se,{className:"input-label",variant:"body_small",copykey:"dyn_settings.delete_account.type_delete",children:n("dyn_settings.delete_account.type_delete")}),f.jsx(Sl,{id:"delete-confirmation",label:n("dyn_settings.delete_account.type_delete_label"),value:l,onChange:d,placeholder:"DELETE",variant:"dense","data-testid":"delete-account-input"})]}),o&&f.jsx(se,{variant:"body_small",color:"error-1",children:o.message})]}),f.jsxs("div",{className:"button-group",children:[f.jsx(xt,{buttonClassName:"cancel-button",buttonVariant:"primary",type:"button",onClick:h,copykey:"dyn_settings.delete_account.cancel",children:n("dyn_settings.delete_account.cancel")}),f.jsx(xt,{buttonClassName:"delete-button",buttonVariant:"danger",type:"submit",onClick:m,disabled:!v,copykey:"dyn_settings.delete_account.confirm",children:n(i?"dyn_settings.delete_account.deleting":"dyn_settings.delete_account.confirm")})]})]})})};var cY,dY,xnt=["title","titleId"];function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(null,arguments)}function knt(e,t){if(e==null)return{};var n,r,i=Snt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Snt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Int=function(t){var n=t.title,r=t.titleId,i=knt(t,xnt);return x.createElement("svg",FP({width:328,height:112,viewBox:"0 0 328 112",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,cY||(cY=x.createElement("g",{clipPath:"url(#upgrade_svg__a)"},x.createElement("circle",{cx:164.5,cy:114,r:114,fill:"url(#upgrade_svg__b)",fillOpacity:.12}),x.createElement("path",{d:"M138.586 37.408s12.282 9.32 30.953-8.106c16.582-15.477 30.121 8.941 30.216 20.635.123 15.148-16.582 27.268-8.475 37.217 8.107 9.95-16.077 26.379-29.111 12.16-16.213-17.687-20.605-3.316-29.847-3.316-6.633 0-20.251-16.481-11.055-28.742 7.739-10.318 3.518-13.742 1.475-17.32-2.948-5.158 4.053-19.16 15.844-12.528Z",fill:"#DEE9FF"}),x.createElement("path",{d:"M193.356 31.055a7.764 7.764 0 0 1-8.274 7.741 7.76 7.76 0 1 1 8.274-7.74Z",fill:"#A2BDFF"}),x.createElement("path",{d:"M186.574 31.65c-.501.389-1.201 1.165-.99 2.89-.234.67-1.069 1.95-1.069 2.563 0 .612-1.002.723-1.113.556-.111-.168-.167-2.282-.779-2.671-.612-.39-.501-2.17-.501-2.17s.223-.668-.501-1.113c-.723-.445-1.227-1.502-.585-2.115.641-.612-1.084-1.001-1.306-1.446-.095-.19-.458-.612-.843-1.034a7.799 7.799 0 0 1 3.588-3.179c.569.594 1.061 1.355.927 2.154.022.39 1.713 1.001.885 1.836-.829.835-1.954 2.003 0 2.393 1.953.39 2.788.946 2.287 1.335ZM191.019 25.5c-.417.879-1.46 1.587-2.052 1.587-.668-.724-2.115.278-2.25-.89-.079-.682.697-1.739 1.359-2.505a7.777 7.777 0 0 1 2.943 1.809ZM193.326 31.734a7.74 7.74 0 0 1-2.46 5.02c-.257-.246-.474-.534-.397-.764.167-.501.846-1.559.729-2.226-.109-.623.466-2.509 2.128-2.03Z",fill:"#0E84E5"}),x.createElement("path",{d:"M180.69 70.309a21.881 21.881 0 0 1-1.227 4.48c-3.696 9.468-13.612 15.4-24.046 13.695a22.016 22.016 0 0 1-18.014-26.147c2.354-11.517 13.406-19.214 25.112-17.302a21.88 21.88 0 0 1 9.628 4.09 21.659 21.659 0 0 1 2.611 2.299 22 22 0 0 1 5.936 18.884Z",fill:"#699CFF"}),x.createElement("path",{d:"M179.463 74.79c-4.192 2.698-9.142 5.194-14.6 7.259-5.557 2.1-11.014 3.52-16.016 4.263-11.753 1.752-20.983-.206-23.063-5.707-1.948-5.139 2.843-12.098 11.619-18.268a21.656 21.656 0 0 0-.446 4.11c-5.057 3.904-7.688 7.727-6.651 10.47 1.009 2.667 5.291 3.802 11.383 3.48 5.955-.314 13.64-2.029 21.684-5.07 6.957-2.633 13.058-5.834 17.6-9.05 6.082-4.299 9.38-8.625 8.242-11.643-1.171-3.098-6.756-4.131-14.461-3.21a21.591 21.591 0 0 0-2.611-2.298c10.786-1.247 19.099.79 21.058 5.972 2.1 5.542-3.625 13.193-13.738 19.692Z",fill:"#0E84E5"}))),dY||(dY=x.createElement("defs",null,x.createElement("linearGradient",{id:"upgrade_svg__b",x1:164.5,y1:0,x2:164.5,y2:93.5,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#4779FF"}),x.createElement("stop",{offset:1,stopColor:"#4779FF",stopOpacity:0})),x.createElement("clipPath",{id:"upgrade_svg__a"},x.createElement("rect",{x:.5,width:327,height:112,rx:12,fill:"#fff"})))))};const Ent=!1,Cnt=({onUpgrade:e})=>{const{pushView:t}=At(),{userWallets:n}=_s(),{getEOAWallet:r}=xs(),i=n.reduce((u,h)=>{if(!h)return u;h.connector.key.startsWith("turnkey")&&u.push(h);const m=r(h);return m&&m.connector.key.startsWith("turnkey")&&(u.some(y=>y.id===m.id)||u.push(m)),u},[]),{t:o}=Xe(),{setShowAuthFlow:s}=Zc(),[a]=x.useState(i.map(u=>u.id)),[l,c]=x.useState("keep"),d=()=>de(void 0,void 0,void 0,function*(){if(a.length!==0){if(l==="keep"){const u=a.map(h=>i.find(m=>m.id===h)).filter(h=>h!=null);t("wallet-upgrade-flow-view",{method:"existing",wallets:u})}e==null||e(a,l)}});return f.jsxs("div",{className:"waas-upgrade-view",children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary",children:o("dyn_upgrade_wallet.title")})}),f.jsxs("div",{className:"waas-upgrade-view__content",children:[f.jsx("div",{className:"waas-upgrade-view__illustration",children:f.jsx(Int,{})}),f.jsx(se,{as:"p",variant:"body_normal",className:"waas-upgrade-view__new-version-message",children:o("dyn_upgrade_wallet.description")}),f.jsxs("div",{className:"waas-upgrade-view__wallets-section",children:[f.jsx("div",{className:"waas-upgrade-view__section-header",children:f.jsx(se,{color:"primary",children:o("dyn_upgrade_wallet.eligible_wallets")})}),f.jsx("div",{className:"waas-upgrade-view__wallets-list",children:i.map(u=>f.jsx("div",{className:"waas-upgrade-view__wallet-item",children:f.jsx("div",{className:"waas-upgrade-view__wallet-info",children:f.jsxs("div",{className:"waas-upgrade-view__wallet-details",children:[f.jsx(se,{color:"primary",children:u.chain}),f.jsxs(se,{color:"primary",children:[u.address.slice(0,6),"...",u.address.slice(-4)]})]})})},u.id))})]}),Ent,f.jsxs("div",{className:"waas-upgrade-view__actions",children:[f.jsx(xt,{buttonVariant:"brand-primary",onClick:d,disabled:a.length===0,copykey:"dyn_upgrade_wallet.upgrade",typographyProps:{color:"inherit"},children:o("dyn_upgrade_wallet.upgrade")}),f.jsx(xt,{buttonVariant:"tertiary",onClick:()=>{s(!1)},children:o("dyn_upgrade_wallet.not_now")})]})]})]})},Ant=()=>{const{selectedWalletConnector:e}=je(),{t}=Xe(),{data:n}=vr(()=>de(void 0,void 0,void 0,function*(){const i=yield e==null?void 0:e.getConnectedAccounts();return i==null?void 0:i[0]}),{deps:[e]}),r=Ni(n);return f.jsxs("div",{className:"wallet-already-exists-view__container",children:[f.jsx("div",{className:"wallet-already-exists-view__icon",children:f.jsx(oi,{icon:e==null?void 0:e.metadata.icon,walletKey:e==null?void 0:e.key,width:64,height:64})}),f.jsx(se,{className:"wallet-already-exists-view__shorten-wallet-address",variant:"body_normal",weight:"medium",color:"primary",children:r}),f.jsx(se,{className:"wallet-already-exists-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.already_exists.description",children:t("dyn_wallet_link.already_exists.description")})]})},Rnt=()=>{const{clearStackAndPushInitialView:e}=At(),{selectedWalletConnector:t}=je(),{t:n}=Xe(),{data:r}=vr(()=>de(void 0,void 0,void 0,function*(){const i=yield t==null?void 0:t.getConnectedAccounts();return Ni(i==null?void 0:i[0])}),{deps:[t]});return f.jsxs("div",{className:"wallet-cannot-be-transferred-view__container",children:[f.jsx(se,{className:"wallet-cannot-be-transferred-view__title",as:"h6",variant:"title",color:"primary",weight:"medium",copykey:"dyn_wallet_link.cannot_link.title",children:n("dyn_wallet_link.cannot_link.title")}),f.jsx("div",{className:"wallet-cannot-be-transferred-view__icon",children:f.jsx(oi,{icon:t==null?void 0:t.metadata.icon,walletKey:t==null?void 0:t.key,width:64,height:64})}),f.jsx(se,{className:"wallet-cannot-be-transferred-view__shorten-wallet-address",variant:"body_normal",weight:"regular",color:"primary",children:r}),f.jsx(se,{className:"wallet-cannot-be-transferred-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.cannot_link.description",children:n("dyn_wallet_link.cannot_link.description")}),f.jsx(xt,{buttonClassName:"wallet-cannot-be-transferred-view__transfer-alt-wallet-button",buttonVariant:"primary",expanded:!0,buttonPadding:"large",onClick:e,dataTestId:"wallet-cannot-be-transferred-view-transfer-alt-wallet",copykey:"dyn_wallet_link.cannot_link.link_other_button",children:n("dyn_wallet_link.cannot_link.link_other_button")}),f.jsx(xt,{dataTestId:"wallet-cannot-be-transferred-view-cancel",buttonPadding:"small",buttonClassName:"wallet-cannot-be-transferred-view__cancel",onClick:e,copykey:"dyn_wallet_link.cannot_link.cancel_button",children:n("dyn_wallet_link.cannot_link.cancel_button")})]})},Tnt=({wallet:e,onClick:t})=>{const[n]=e.walletConnector.supportedChains,r=Uc(n),i=gj({wallet:e}),o=f.jsx(C_,{hoverElement:f.jsx(Nt,{color:"text-tertiary",size:"mini",children:f.jsx(Vu,{})}),children:i&&f.jsx(nf,{dot:!i.isRecommended,variant:i.isRecommended?"primary":"secondary",text:f.jsx(se,{variant:"body_small",children:i.label})})}),s=x.useMemo(()=>{const l={height:Ut(28),width:Ut(28)},c=Hc(n);return f.jsx(c,{style:l})},[n]),a=(r==null?void 0:r.displayName)||e.name;return f.jsx(rp,{className:"chain-card",onClick:t,leading:s,trailing:o,children:a},e.key)},Ont=({onSelectWallet:e})=>{var t;const{selectedWalletGroup:n}=W3(),r=Hm(),{t:i}=Xe();if(!n)throw new Error("Could not access WalletGroup view without selected group");const o=r[n.key];if(!o)throw new Error("Could not find group");const s=n.groupedWallets.map(({walletConnector:a})=>a).filter(a=>Ph(a)&&a.canConnectWithHardwareWallet());return f.jsx(Afe,{icon:f.jsx(oi,{walletKey:o.key,isGroup:!0,icon:(t=o.brand)===null||t===void 0?void 0:t.icon}),title:i("dyn_select_chain.description"),titleCopyKey:"dyn_select_chain.description",children:f.jsxs("div",{className:"wallet-group__list",children:[!!s.length&&f.jsxs(f.Fragment,{children:[f.jsx(Cfe,{connectors:s,copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:i("dyn_select_chain.using_hardware_wallet_toggle_label")}),f.jsx(rf,{})]}),f.jsx("div",{className:"wallet-group-view-layout__list",children:n.groupedWallets.map((a,l)=>f.jsx(Tnt,{wallet:a,onClick:()=>e(a)},`${a.key}_${l}`))})]})})},Ik=({isWalletConnectList:e})=>{const{handleWalletItemClick:t}=np(),{showDefaultFooter:n}=rg();return f.jsx(Rj,{onSelectWallet:t,isWalletConnectList:e,showDefaultFooter:n})},k4=64,Nnt=()=>{const{handleLogOut:e,primaryWallet:t,setShowAuthFlow:n,appName:r}=je(),{t:i}=Xe();if(!t)return null;const o=()=>de(void 0,void 0,void 0,function*(){try{yield t.connector.connect(),n(!1)}catch{Ie.info("could not connect wallet")}}),s=f.jsx(oi,{icon:t.connector.metadata.icon,walletKey:t.connector.key,style:{height:Ut(k4*Yo),width:Ut(k4*Yo)}});return f.jsxs("div",{"data-testid":"wallet-locked-view",children:[f.jsx(Lr,{withIcon:!1,variant:"success",className:"wallet-locked-view__error-container",copykey:"dyn_wallet_locked.connect_continue",children:i("dyn_wallet_locked.connect_continue")}),f.jsxs("div",{className:"wallet-locked-view__content",children:[f.jsx(si,{Icon:s,iconSize:k4,className:"wallet-locked-view__icon",isSpinning:!0}),f.jsx(se,{variant:"title",color:"primary",weight:"medium",className:"wallet-locked-view__title",copykey:"dyn_wallet_locked.title",children:i("dyn_wallet_locked.title")}),f.jsxs(se,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_locked.subtitle",children:[i("dyn_wallet_locked.subtitle"),r,"."]}),f.jsx(xt,{onClick:()=>o(),buttonClassName:"wallet-locked-view__button",copykey:"dyn_wallet_locked.connect",children:i("dyn_wallet_locked.connect")}),f.jsx(rf,{text:"Or"}),f.jsx(Zs,{className:"wallet-locked-view__log-out",onClick:e,copykey:"dyn_wallet_locked.logout",children:i("dyn_wallet_locked.logout")})]})]})},Pnt=()=>{const{t:e}=Xe(),{selectedWalletConnector:t}=je();return f.jsxs("div",{className:Ke("wallet-redirect-view__container"),children:[t&&f.jsx(si,{iconSize:64,Icon:f.jsx(oi,{icon:t.metadata.icon,walletKey:t.key}),isSpinning:!0}),f.jsx(se,{weight:"medium",variant:"title",className:Ke("wallet-redirect-view__title"),copykey:"dyn_wallet_redirect.loading",children:e("dyn_wallet_redirect.loading")}),f.jsx(Gc,{classNameRoot:"powered-by-dynamic"})]})},Bnt=()=>{const{clearStackAndPushInitialView:e}=At(),{t}=Xe(),{setMultiWalletWidgetState:n,setSelectedWalletConnectorKey:r,selectedWalletConnector:i}=je();if(!i)return null;const{key:o,metadata:s}=i,a=96,l=()=>de(void 0,void 0,void 0,function*(){e(),n("idle"),r(null),yield i==null?void 0:i.endSession()}),c=f.jsx(oi,{icon:s.icon,walletKey:o,style:{height:Ut(a*Yo),width:Ut(a*Yo)}});return f.jsxs("div",{className:"wallet-sign-spinner__container","data-testid":"wallet-sign-spinner-view",children:[f.jsx(si,{Icon:c,iconSize:a,isSpinning:!0}),f.jsx(se,{variant:"body_normal",weight:"regular",className:Ke("wallet-sign-spinner__copy"),copykey:"dyn_wallet_transfer.sign.spinner.confirm_transfer",children:t("dyn_wallet_transfer.sign.spinner.confirm_transfer")}),f.jsx(xt,{expanded:!0,buttonPadding:"large",buttonVariant:"primary",buttonClassName:"wallet-sign-spinner__button",onClick:()=>l(),typographyProps:{variant:"button_primary",weight:"medium"},copykey:"dyn_wallet_transfer.sign.spinner.cancel",children:t("dyn_wallet_transfer.sign.spinner.cancel")})]})},Rfe=e=>{var{className:t="",id:n,label:r,onChange:i,onBlur:o,name:s,value:a,optional:l,error:c=!1,disabled:d,message:u,placeholder:h,variant:m="dense",isValid:v}=e,y=bs(e,["className","id","label","onChange","onBlur","name","value","optional","error","disabled","message","placeholder","variant","isValid"]);return f.jsxs("div",{className:Ke("textarea__container",{"textarea__container--dense":m==="dense","textarea__container--regular":m==="regular"}),children:[f.jsx("textarea",Object.assign({},y,{name:s,value:a,onChange:i,onBlur:o,id:n,placeholder:m==="regular"?h:r,disabled:d,className:Ke("textarea",t,{textarea__error:c,textarea__has_trailing:l,textarea__valid:v===!0})})),r&&f.jsx("label",{htmlFor:n,className:Ke("textarea__label"),children:r}),l&&f.jsx("span",{className:"textarea__trailing",children:"Optional"}),!!u&&f.jsx(se,{variant:"body_mini",className:Ke("textarea__message",{textarea__message__error:c}),children:u})]})},Mnt=({wallets:e,method:t,onComplete:n,onCancel:r})=>{var i;const{setShowAuthFlow:o,user:s,environmentId:a}=je(),{upgradeToDynamicWaas:l}=tp(),{t:c}=Xe(),{pushView:d}=At(),[u,h]=x.useState(0),[m,v]=x.useState(""),[y,g]=x.useState(null),b=u===e.length-1,k=u,_=e.length,R=F3(),I=!!(s!=null&&s.verifiedCredentials.find(O=>{var N;return(N=O.walletName)===null||N===void 0?void 0:N.startsWith("dynamicwaas")})),T=(O,N)=>{O&&D(N)},{mutate:D,data:M,error:C}=Xo(O=>sfe({environmentId:a,exportPrivateKey:!0,handleAcknowledgeExportPrompt:()=>{},iframeContainerRef:y,isTurnkeyWallet:!0,isWaasWallet:I,user:s,wallet:O}),{onFailure:O=>{Ie.error("Failed to export wallet in upgrade flow",O),rt.emit("embeddedWalletRevealFailed",O)}}),U=x.useRef(null);x.useEffect(()=>{M&&e[u]&&(U.current=e[u])},[M,e,u]),x.useEffect(()=>()=>{U.current&&rt.emit("embeddedWalletRevealCompleted",U.current)},[]);const{mutate:$,isLoading:z,error:q}=Xo(()=>de(void 0,void 0,void 0,function*(){if(!m.trim())throw new Se("Private key is required");yield l({privateKey:m.trim(),wallet:e[u]}),g(null),v(""),R(),b?(n==null||n(),d("account-upgraded")):h(O=>O+1)}),{onFailure:()=>{Ie.error("Failed to upgrade wallet in upgrade flow")}}),S=()=>{r==null||r(),o(!1)},A=O=>{var N;const j=((N=e[O])===null||N===void 0?void 0:N.chain)||"Wallet";return c("dyn_wallet_upgrade_flow.step_wallet_upgrade",{walletName:j})};return e[u]?t==="new"?f.jsxs("div",{className:"wallet-upgrade-flow-view",children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary",children:c("dyn_wallet_upgrade_flow.new_wallet_title")})}),f.jsx("div",{className:"wallet-upgrade-flow-view__content",children:f.jsx(se,{children:c("dyn_wallet_upgrade_flow.new_wallet_coming_soon")})})]}):f.jsxs("div",{className:"wallet-upgrade-flow-view",children:[f.jsx(Zn,{children:_>1&&f.jsx("div",{className:"wallet-upgrade-flow-view__header",children:f.jsx("div",{className:"wallet-upgrade-flow-view__steps",children:Array.from({length:_},(O,N)=>f.jsxs("div",{className:"wallet-upgrade-flow-view__step-container",children:[f.jsxs("div",{className:`wallet-upgrade-flow-view__step ${N<k?"wallet-upgrade-flow-view__step--completed":""} ${N===u?"wallet-upgrade-flow-view__step--current":""}`,children:[f.jsx("div",{className:"wallet-upgrade-flow-view__step-indicator",children:N<k?f.jsx("div",{className:"wallet-upgrade-flow-view__step-check",children:""}):f.jsx("div",{className:"wallet-upgrade-flow-view__step-number",children:N+1})}),f.jsx(se,{variant:"body_small",color:N<=u?"primary":"secondary",className:"wallet-upgrade-flow-view__step-title",children:A(N)})]}),N<_-1&&f.jsx("div",{className:"wallet-upgrade-flow-view__step-separator"})]},N))})})}),f.jsxs("div",{className:"wallet-upgrade-flow-view__content",children:[C&&f.jsx(Lr,{className:"wallet-upgrade-flow-view__error",children:C instanceof Error?C.message:c("dyn_wallet_upgrade_flow.export_failed")}),q&&f.jsx(Lr,{className:"wallet-upgrade-flow-view__error",children:q instanceof Error?q.message:c("dyn_wallet_upgrade_flow.upgrade_failed")}),f.jsxs("div",{className:"wallet-upgrade-flow-view__title-section",children:[f.jsx(se,{as:"h1",variant:"title",color:"primary",children:c("dyn_wallet_upgrade_flow.title")}),f.jsx(se,{color:"secondary",className:"wallet-upgrade-flow-view__subtitle",children:c("dyn_wallet_upgrade_flow.copy_private_key_subtitle")})]}),f.jsxs("div",{className:"wallet-upgrade-flow-view__export-section",children:[f.jsx(se,{color:"primary",variant:"body_normal",weight:"bold",className:"wallet-upgrade-flow-view__section-title",children:c("dyn_wallet_upgrade_flow.copy_private_key_title")}),f.jsx(ife,{wallet:e[u],isTurnkeyWallet:!0,isWaasWallet:I,data:M,onIframeContainerRef:g,onExportReady:T},`wallet-export-${u}-${(i=e[u])===null||i===void 0?void 0:i.id}`)]}),f.jsx("div",{className:"wallet-upgrade-flow-view__input-section",children:f.jsxs("div",{className:"wallet-upgrade-flow-view__input-container",children:[f.jsxs(se,{variant:"body_normal",weight:"bold",color:"primary",copykey:"dyn_embedded_reveal.step_2_title",children:[f.jsx("span",{className:"wallet-upgrade-flow__step-description",children:c("dyn_wallet_upgrade_flow.step_2_upgrade_description")})," "]}),f.jsx(Rfe,{id:"paste-private-key-input",value:m,onChange:O=>v(O.target.value),variant:"regular",className:"wallet-upgrade-flow__paste-input",label:""})]})})]}),f.jsxs("div",{className:"wallet-upgrade-flow-view__actions",children:[f.jsx(xt,{buttonVariant:"brand-primary",onClick:()=>$(),disabled:!m.trim()||z,loading:z,copykey:"dyn_wallet_upgrade_flow.upgrade_button",typographyProps:{color:"inherit"},expanded:!0,children:c("dyn_wallet_upgrade_flow.upgrade_wallet")}),f.jsx(xt,{buttonVariant:"tertiary",onClick:S,disabled:z,children:c("dyn_wallet_upgrade_flow.cancel")})]})]}):null},Tfe=()=>{const e=iv(),{displaySiweStatement:t,events:n}=Wm(),r=qm(),{primaryWallet:i}=je(),{addedWalletsIds:o}=_s(),s=x.useCallback((a,l)=>{const c=l.lastVerifiedCredentialId;if(!c)return;(!i||a.key===i.connector.key||i.connector.connectedChain==="FLOW"&&a.connectedChain==="FLOW")&&To(c)},[i]);return x.useCallback(a=>de(void 0,void 0,void 0,function*(){if(!e)throw new Se(Kr);const{overrideSiweStatement:l,walletConnector:c}=a,d=Object.assign(Object.assign({},a),{displaySiweStatement:t,environmentId:r,siweStatement:l,walletProvider:Hb(c)}),u=yield vle(d);if(n!=null&&n.onSignedMessage)try{n.onSignedMessage({messageToSign:u.messageToSign,signedMessage:u.signedMessage})}catch(v){Ie.warn("Error calling onSignedMessage callback:",v)}const h=yield aDe(r,u);if(!h)throw new Se("Error transferring wallet.");s(c,h);const m=h.lastVerifiedCredentialId;m&&o.current.push(m)}),[o,t,r,n,s,e])},Dnt=()=>{const[e,t]=x.useState(!1),{t:n}=Xe(),{loading:r,setLoading:i}=hv(),{pushView:o}=At(),{setShowAuthFlow:s,appName:a,siweStatement:l,setMultiWalletWidgetState:c,connectWallet:d,selectedWalletConnector:u,isSingleWalletAccount:h,handleLogOut:m}=je(),{data:v}=vr(()=>de(void 0,void 0,void 0,function*(){const k=yield u==null?void 0:u.getConnectedAccounts();return k==null?void 0:k[0]}),{deps:[u]}),y=Ni(v),g=Tfe(),b=()=>de(void 0,void 0,void 0,function*(){if(!u)return;c("awaiting_signature",void 0,"transferring_wallet"),i(!0),o("wallet-sign");const k=aD({appName:a,siweStatement:l});try{const _=yield d(u);if(!(_!=null&&_.address))return;u.key==="phantom"&&rr()&&(Ie.logVerboseTroubleshootingMessage("[WalletUsedView handleWalletTransfer] Setting PHANTOM_SIGNATURE_STATE to awaiting_transfer",{isChecked:e}),ot.setItem(wm,{loseOriginalAccountOnTransfer:e,submittedAtTimestamp:new Date().toString(),verificationType:"awaiting_transfer"})),yield g({overrideSiweStatement:k,publicWalletAddress:_.address,skipEmptyAccountCheck:e,walletConnector:u}),s(!1)}catch(_){Ie.error(_),s(!1,{emitCancelAuth:!0})}finally{i(!1),c("idle")}});return f.jsxs("div",{className:"wallet-used-view__container",children:[f.jsx("div",{className:"wallet-used-view__icon",children:f.jsx(oi,{icon:u==null?void 0:u.metadata.icon,walletKey:u==null?void 0:u.key,width:64,height:64})}),f.jsx(se,{className:"wallet-used-view__shorten-wallet-address",variant:"body_normal",weight:"medium",color:"primary",children:y}),f.jsx(se,{className:"wallet-used-view__copy",variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_wallet_link.existent_account.warning",children:n("dyn_wallet_link.existent_account.warning")}),h&&f.jsxs("label",{htmlFor:"skipEmptyAccountCheck",className:"wallet-used-view__checkbox-label",children:[f.jsx(Vd,{id:"skipEmptyAccountCheck",className:"wallet-used-view__checkbox-container",defaultChecked:e,onChange:()=>t(!e),ariaLabel:"skip empty account check"}),f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_wallet_link.existent_account.acceptance",children:n("dyn_wallet_link.existent_account.acceptance")})]}),f.jsx(xt,{buttonClassName:"wallet-used-view__accept-button",buttonVariant:"primary",expanded:!0,buttonPadding:"large",onClick:()=>b(),disabled:!e&&h||r,dataTestId:"wallet-used-view-transfer-wallet",copykey:"dyn_wallet_link.confirm_button",children:n("dyn_wallet_link.confirm_button")}),f.jsx(xt,{dataTestId:"wallet-used-view-log-out",buttonPadding:"small",buttonClassName:"wallet-used-view__logout",onClick:m,copykey:"dyn_wallet_link.log_out_button",children:n("dyn_wallet_link.log_out_button")})]})};var uY,jnt=["title","titleId"];function WP(){return WP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WP.apply(null,arguments)}function $nt(e,t){if(e==null)return{};var n,r,i=Lnt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lnt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Unt=function(t){var n=t.title,r=t.titleId,i=$nt(t,jnt);return x.createElement("svg",WP({width:65,height:64,viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,uY||(uY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 64c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32C14.827 0 .5 14.327.5 32c0 17.673 14.327 32 32 32Zm-4.928-29.305h9.717c-.207 4.908-1.087 9.168-2.3 12.206-.7 1.756-1.433 2.9-2.036 3.54-.245.26-.42.387-.523.448-.102-.06-.277-.189-.522-.449-.603-.638-1.336-1.783-2.037-3.539-1.213-3.038-2.092-7.298-2.3-12.206Zm2.3-16.655c-1.242 3.108-2.134 7.497-2.314 12.55h9.744c-.18-5.053-1.071-9.442-2.313-12.55-.7-1.756-1.433-2.9-2.036-3.54-.245-.26-.42-.388-.523-.449-.102.061-.277.19-.522.45-.603.638-1.336 1.783-2.037 3.539ZM14.5 30.59h8.951c.216-6.53 1.541-12.27 3.503-16.036C20.23 16.789 15.22 23.03 14.5 30.59Zm.036 4.105h8.928c.25 6.387 1.563 11.993 3.49 15.692-6.622-2.201-11.582-8.288-12.418-15.692Zm35.789 0h-8.928c-.25 6.387-1.563 11.993-3.49 15.692 6.621-2.201 11.581-8.288 12.418-15.692Zm.125-2.224v.066-.133.066Zm-9.04-1.88h8.95c-.719-7.56-5.73-13.802-12.454-16.037 1.962 3.766 3.288 9.507 3.503 16.036Zm-9.09 20.35c0-.001.008-.004.023-.007-.015.006-.023.008-.023.007Zm.198-.007a.072.072 0 0 1 .023.007s-.008-.001-.023-.007ZM32.541 14s-.008.004-.023.007c.015-.006.023-.008.023-.007Zm-.198.007A.068.068 0 0 1 32.32 14s.008.001.023.007Z",fill:"#4779FF"})))};const Fnt=()=>{const{t:e}=Xe(),{projectSettings:t}=je(),n=x.useMemo(()=>{var r;const i=HD((r=t==null?void 0:t.sdk.embeddedWallets)===null||r===void 0?void 0:r.supportedSecurityMethods);return Object.keys(i).filter(o=>o!=="email")},[t==null?void 0:t.sdk.embeddedWallets]);return f.jsxs(f.Fragment,{children:[f.jsx(Zn,{children:f.jsx(se,{as:"h1",variant:"title",color:"primary","data-testid":"dynamic-auth-modal-heading",className:"header__typography",copykey:"dyn_passkey_new_domain_detected.title",children:e("dyn_passkey_new_domain_detected.title")})}),f.jsxs("div",{className:"passkey-new-domain-detected",children:[f.jsx(Unt,{className:"passkey-new-domain-detected__header"}),f.jsx(se,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_passkey_new_domain_detected.description",children:e("dyn_passkey_new_domain_detected.description")}),f.jsx(kfe,{supportedAuthenticators:n}),f.jsx(ep,{isRecoveryFlow:!0})]})]})},Wnt={"access-blocked":fYe,"account-exists":bYe,"account-upgraded":IYe,"backup-unsuccessful":BYe,"bridge-next-wallet-connection":DYe,"bridge-summary":$Ye,"bridge-welcome":FYe,captcha:qYe,"chainalysis-blocked-wallet":x4,"collect-user-data":rXe,"collect-user-data-login-no-wallet":iXe,"duplicate-wallet":oXe,"email-wallet-otp-verification-view":IXe,"embedded-delete-view":OXe,"embedded-reveal-account-view":cZ,"embedded-reveal-view":cZ,"embedded-wallet-auth-choice":Ltt,"embedded-wallet-exists":Ant,"exchange-whitelist-warning":sKe,"export-shares-view":tQe,"external-funding-exchange-list":XXe,"external-funding-wallet-list":Rj,"farcaster-connect-view":ufe,"gate-blocked-wallet":x4,"global-wallet-confirm":lQe,"global-wallet-info":hQe,"global-wallet-malicious":xQe,"login-with-email-or-wallet":IZ,"login-with-email-or-wallet-full-wallet-list":Ik,"login-with-email-verification":nZ,"login-with-sms-verification":lY,"login-with-wallet-only":IZ,"merge-user-accounts":met,"merge-user-accounts-conflicts":pet,"merge-user-accounts-with-same-email":bet,"mfa-choose-device":Cet,"mfa-display-backup-codes":Ret,"mfa-exchange-view":Bet,"mfa-recovery":Fet,"mfa-secure-device":Ket,"mfa-secure-device-help":Wet,"mfa-verification":Het,"mobile-wallet-redirect-view":vfe,"multi-wallet-wallet-list":Ik,"network-not-supported":Zet,"network-not-supported-manual":Yet,"no-access":x4,"no-qr-not-installed":rtt,"passkey-confirm":tnt,"passkey-intro":wtt,"passkey-new-domain-detected":Fnt,"passkey-recovery-add-email":ktt,"passkey-recovery-bundle":Itt,"passkey-recovery-complete":Ett,"passkey-recovery-start":Ctt,"passkey-setup":nnt,"pending-connect":rnt,"pending-signature":oY,"pending-signature-without-back-button":oY,"qr-code":Ytt,"rename-passkey":Att,"sandbox-maximum-threshold-reached":int,"select-hardware-wallet":snt,"select-wallet-in-wallet-group":lnt,"social-redirect-view":mnt,"social-wrong-account":gnt,"unified-wallet-exchange-list":wnt,"user-delete-account":_nt,"verify-email":nZ,"verify-sms":lY,"waas-backup-cloud-provider-view":FZe,"waas-backup-download-view":VZe,"waas-backup-info-view":XZe,"waas-backup-progress-view":nYe,"waas-backup-success-view":sYe,"waas-backup-view":aYe,"waas-upgrade-view":Cnt,"wait-for-email-confirmation-view":cXe,"wallet-cannot-be-transferred":Rnt,"wallet-connect-mobile-wallets-list":()=>f.jsx(Ik,{isWalletConnectList:!0}),"wallet-delegation-view":Ztt,"wallet-group":Ont,"wallet-list":Ik,"wallet-locked-view":Nnt,"wallet-redirect-view":Pnt,"wallet-sign":Bnt,"wallet-upgrade-flow-view":Mnt,"wallet-used":Dnt},qnt=()=>{const{view:e}=At(),t=Wnt[e.type];return f.jsx(t,Object.assign({},e.props||{}))};function znt(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Vnt='@layer dynamic-sdk-styles{#argent-mobile-modal-overlay,iframe[src*="wallet-dev.blocto.app"],iframe[src*="wallet-staging.blocto.app"],iframe[src*="wallet-testnet.blocto.app"],iframe[src*="wallet.blocto.app"]{z-index:2147483647!important}iframe[id*=dyn-passkey-recovery-element-id],iframe[id*=dyn-secure-enclave-element-id]{display:none!important}#pera-wallet-connect-modal-wrapper{position:relative;z-index:2147483647!important}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:400;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-400-italic.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:500;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:500;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-500-italic.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:normal;font-weight:700;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-normal.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-normal.woff) format("woff")}@font-face{font-display:swap;font-family:DM Sans;font-style:italic;font-weight:700;src:url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-italic.woff2) format("woff2"),url(https://cdn.jsdelivr.net/npm/@fontsource/dm-sans/files/dm-sans-latin-700-italic.woff) format("woff")}@layer light-theme-default{:root{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:#ffe3e3;--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-display:1.875rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme-brand=bold],:root[data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme-brand=subtle],:root[data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}@media (prefers-color-scheme:light){:root [data-dynamic-theme=auto]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:#ffe3e3;--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-display:1.875rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}}:root [data-dynamic-theme=light]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#f7f7f9;--dynamic-base-2:#fff;--dynamic-base-3:#eeeef1;--dynamic-base-4:#e7e8ed;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#30a67b;--dynamic-success-2:#e3f7ef;--dynamic-border-radius:1.5rem;--dynamic-hover:rgba(22,37,77,.03);--dynamic-info-2:rgba(71,121,255,.1);--dynamic-error-1:#ff4646;--dynamic-error-2:#ffe3e3;--dynamic-alert-1:#dd8500;--dynamic-alert-2:#faedd9;--dynamic-footer-background-color:#fff;--dynamic-footer-text-color:#383c48;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.2) 20%,hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(24,27,34,.15);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#0047ff;--dynamic-text-primary:#383c48;--dynamic-text-secondary:#7b7d86;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-display:1.875rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#abacb2;--dynamic-badge-background:#eeeef1;--dynamic-badge-color:#7b7d86;--dynamic-badge-primary-background:#e3f7ef;--dynamic-badge-primary-color:#30a67b;--dynamic-badge-dot-background:#4779ff;--dynamic-search-bar-background:#fff;--dynamic-search-bar-background-hover:#fff;--dynamic-search-bar-background-focus:#fff;--dynamic-search-bar-border:0.0625rem solid #eeeef1;--dynamic-search-bar-border-hover:0.0625rem solid #e7e8ed;--dynamic-search-bar-border-focus:0.0625rem solid #e7e8ed;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#fff;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#fff;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#383c48;--dynamic-tooltip-text-color:#fff;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#fff;--dynamic-button-primary-background:#fff;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #e7e8ed;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#f7f8fa;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#fff;--dynamic-connect-button-background-hover:#fff;--dynamic-connect-button-color:#383c48;--dynamic-connect-button-border:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#383c48;--dynamic-connect-button-border-hover:0.0625rem solid #e7e8ed;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #e7e8ed;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=light] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=light][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=light] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=light][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#abacb2}}@layer dark-theme-default{@media (prefers-color-scheme:dark){:root [data-dynamic-theme=auto]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#0c0e13;--dynamic-base-2:#1b1d22;--dynamic-base-3:#24272e;--dynamic-base-4:#282b33;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#79ffcf;--dynamic-success-2:#192d2c;--dynamic-border-radius:1.5rem;--dynamic-hover:hsla(0,0%,100%,.1);--dynamic-error-1:#ff6a6a;--dynamic-error-2:hsla(0,100%,71%,.2);--dynamic-alert-1:#e2a140;--dynamic-alert-2:#2b2621;--dynamic-footer-background-color:#0c0e13;--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.01) 20%,hsla(0,0%,100%,.05) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(0,0,0,.25);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#69a5ff;--dynamic-text-primary:#fbfcff;--dynamic-text-secondary:#a8aab0;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#6f7177;--dynamic-badge-background:#24272e;--dynamic-badge-color:#a8aab0;--dynamic-badge-dot-background:#4779ff;--dynamic-badge-primary-background:#192d2c;--dynamic-badge-primary-color:#79ffcf;--dynamic-search-bar-background:#1b1d22;--dynamic-search-bar-background-hover:#1b1d22;--dynamic-search-bar-background-focus:#1b1d22;--dynamic-search-bar-border:0.0625rem solid #24272e;--dynamic-search-bar-border-hover:0.0625rem solid #282b33;--dynamic-search-bar-border-focus:0.0625rem solid #282b33;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#24272e;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#282b33;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#fbfcff;--dynamic-tooltip-text-color:#0c0e13;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#1b1d22;--dynamic-button-primary-background:#1b1d22;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #282b33;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#1a1c21;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#1b1d22;--dynamic-connect-button-background-hover:#1b1d22;--dynamic-connect-button-color:#fbfcff;--dynamic-connect-button-border:0.0625rem solid #282b33;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#fbfcff;--dynamic-connect-button-border-hover:0.0625rem solid #282b33;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #282b33;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=auto] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=auto][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#6f7177;--dynamic-footer-icon-color:#6f7177}}:root [data-dynamic-theme=dark]{--dynamic-font-family-primary:"DM Sans",sans-serif;--dynamic-font-family-numbers:"Roboto Mono",monospace,sans-serif;--dynamic-base-1:#0c0e13;--dynamic-base-2:#1b1d22;--dynamic-base-3:#24272e;--dynamic-base-4:#282b33;--dynamic-brand-hover-color:linear-gradient(0deg,rgba(0,0,0,.08),rgba(0,0,0,.08)),#4779ff;--dynamic-brand-primary-color:#4779ff;--dynamic-brand-secondary-color:rgba(71,121,255,.15);--dynamic-success-1:#79ffcf;--dynamic-success-2:#192d2c;--dynamic-border-radius:1.5rem;--dynamic-hover:hsla(0,0%,100%,.1);--dynamic-error-1:#ff6a6a;--dynamic-error-2:hsla(0,100%,71%,.2);--dynamic-alert-1:#e2a140;--dynamic-alert-2:#2b2621;--dynamic-footer-background-color:#0c0e13;--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:#4779ff;--dynamic-loading-animation-gradient:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.01) 20%,hsla(0,0%,100%,.05) 60%,hsla(0,0%,100%,0));--dynamic-overlay:rgba(0,0,0,.25);--dynamic-shadow-down-1:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-shadow-down-2:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-shadow-down-3:0 1.5rem 2rem -1.5rem rgba(0,0,0,.24);--dynamic-shadow-up-1:0 -0.5rem 3rem -0.5rem rgba(109,121,165,.16);--dynamic-text-link:#69a5ff;--dynamic-text-primary:#fbfcff;--dynamic-text-secondary:#a8aab0;--dynamic-text-size-body-mini:0.6875rem;--dynamic-text-size-body-normal:0.9375rem;--dynamic-text-size-body-small:0.75rem;--dynamic-text-size-button-primary:0.875rem;--dynamic-text-size-button-secondary:0.75rem;--dynamic-text-size-numbers-big:0.875rem;--dynamic-text-size-numbers-medium:0.75rem;--dynamic-text-size-title:1.125rem;--dynamic-text-tertiary:#6f7177;--dynamic-badge-background:#24272e;--dynamic-badge-color:#a8aab0;--dynamic-badge-dot-background:#4779ff;--dynamic-badge-primary-background:#192d2c;--dynamic-badge-primary-color:#79ffcf;--dynamic-search-bar-background:#1b1d22;--dynamic-search-bar-background-hover:#1b1d22;--dynamic-search-bar-background-focus:#1b1d22;--dynamic-search-bar-border:0.0625rem solid #24272e;--dynamic-search-bar-border-hover:0.0625rem solid #282b33;--dynamic-search-bar-border-focus:0.0625rem solid #282b33;--dynamic-modal-border: ;--dynamic-modal-width:22.5rem;--dynamic-modal-padding:1.5rem;--dynamic-modal-backdrop-background:rgba(0,0,0,.25);--dynamic-modal-backdrop-filter:blur(4px);--dynamic-wallet-list-tile-padding:0.75rem;--dynamic-wallet-list-tile-gap:0.375rem;--dynamic-wallet-list-max-height:16.25rem;--dynamic-wallet-list-tile-background:#24272e;--dynamic-wallet-list-tile-border: ;--dynamic-wallet-list-tile-shadow:0 0.0625rem 0.125rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-background-hover:#282b33;--dynamic-wallet-list-tile-border-hover: ;--dynamic-wallet-list-tile-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-wallet-list-tile-animation-duration:150ms;--dynamic-tooltip-color:#fbfcff;--dynamic-tooltip-text-color:#0c0e13;--dynamic-initial-view-content-padding:0rem 1.5rem 1.5rem;--dynamic-button-primary-hover:#1b1d22;--dynamic-button-primary-background:#1b1d22;--dynamic-button-primary-font-size:0.875rem;--dynamic-button-primary-padding:0;--dynamic-button-primary-border:0.0625rem solid #282b33;--dynamic-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-button-secondary-hover:#1a1c21;--dynamic-button-secondary-background:transparent;--dynamic-button-secondary-font-size:0.75rem;--dynamic-button-secondary-padding:0;--dynamic-button-secondary-border:0.0625rem solid transparent;--dynamic-connect-button-background:#1b1d22;--dynamic-connect-button-background-hover:#1b1d22;--dynamic-connect-button-color:#fbfcff;--dynamic-connect-button-border:0.0625rem solid #282b33;--dynamic-connect-button-shadow:0px 2px 3px 0px rgba(24,39,75,.08);--dynamic-connect-button-color-hover:#fbfcff;--dynamic-connect-button-border-hover:0.0625rem solid #282b33;--dynamic-connect-button-shadow-hover:0 0.75rem 1.25rem -0.375rem rgba(24,39,75,.02),0 1rem 1.625rem -0.25rem rgba(24,39,75,.04);--dynamic-search-padding:0 1.5rem 0.5rem;--dynamic-layout-content-padding:0 1.5rem 1.5rem;--dynamic-layout-content-error-padding:1.5rem 1.5rem 1.5rem;--dynamic-footer-border-top:0.0625rem solid #282b33;--dynamic-footer-padding:0.75rem 1.5rem 0.75rem;--dynamic-footer-background:transparent;--dynamic-header-border-bottom:1px solid transparent;--dynamic-header-padding:1.5rem 1.5rem 1.25rem;--dynamic-header-background:transparent}:root [data-dynamic-theme=dark] [data-dynamic-theme-brand=bold],:root [data-dynamic-theme=dark][data-dynamic-theme-brand=bold]{--dynamic-footer-text-color:#fbfcff;--dynamic-footer-icon-color:rgba(247,247,249,.75);--dynamic-footer-arrow-color:rgba(247,247,249,.75)}:root [data-dynamic-theme=dark] [data-dynamic-theme-brand=subtle],:root [data-dynamic-theme=dark][data-dynamic-theme-brand=subtle]{--dynamic-footer-arrow-color:#6f7177;--dynamic-footer-icon-color:#6f7177}}.dynamic-shadow-dom{position:relative}#dynamic-tooltips{left:0;position:absolute;top:0}@supports (overflow:clip){.dynamic-no-scroll{overflow:clip}}@supports not (overflow:clip){.dynamic-no-scroll{overflow:hidden}}}';znt(Vnt);const Knt=()=>{const{awaitingSignatureState:e,multiWalletWidgetState:t,setMultiWalletWidgetState:n,legacyIsVerifying:r,setLegacyIsVerifying:i,selectedWalletConnector:o}=je(),s=hj(),a=x.useRef(!1),l=x.useCallback(c=>de(void 0,void 0,void 0,function*(){Ie.debug("runConnectAndSign",{selectedWalletConnector:o,walletConnector:c});const d=c??o;if(d){a.current=!0,i(!0);try{yield s({walletConnector:d})}catch(u){Ie.error(u)}n("idle"),i(!1),a.current=!1}}),[o==null?void 0:o.key,i,n,s]);x.useEffect(()=>{!r&&!a.current&&t==="awaiting_signature"&&o&&e==="linking_new_wallet"&&!VD(o)&&l()},[l,e,r,t,o==null?void 0:o.key,i,n]),Un("triggerConnectAndSign",l)},Hnt=["email-wallet-otp-verification-view","social-redirect-view","passkey-intro"],Gnt=()=>{const{selectedWalletConnector:e,linkedWallets:t,projectSettings:n,setShowAuthFlow:r,showAuthFlow:i,walletConnectorOptions:o,clearStatesOnBackClick:s,user:a,disconnectWallet:l,connectedWallets:c,handleLogOut:d}=je(),{view:u,clearStackAndPushInitialView:h}=At(),{setDeniedAddress:m,setDeniedOauthProvider:v}=a_(),{setExistentAccountData:y}=l_(),{setSocialProvider:g}=sf();ov(i);const{userWallets:b}=_s(),k=()=>de(void 0,void 0,void 0,function*(){var z;if(!Hnt.includes(u.type)){if(!((z=u.events)===null||z===void 0)&&z.onClose){u.events.onClose();return}(u.type==="network-not-supported"||u.type==="network-not-supported-manual")&&b.length===1&&(yield d()),u.type==="farcaster-connect-view"&&(g(void 0),rt.emit("farcasterConnectCancelled")),r(!1,{emitCancelAuth:!0}),m(""),v(void 0),y(void 0),s()}}),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const z=["network-not-supported","network-not-supported-manual"];if(!uv()||!z.includes(u.type)||!e)return;const q=c.find(S=>S.connector.key===e.key);q&&(eg({network:yield q.connector.getNetwork(!0),walletConnector:q.connector})||l(q.id))}),[e,c,l,u]),R=x.useCallback(()=>{h()},[h]);Knt();const{handleAlreadyConnectedWallet:I,handleCustodialWalletClick:T,handleInstalledExtensionClick:D,handleMobileWalletClick:M,handleUninstalledClick:C}=np(),U=z=>de(void 0,void 0,void 0,function*(){r(!0),ade(t,z,a)?I(z):z.canConnectViaCustodialService?T(z):rr()?M(z):z.isInstalledOnBrowser()?D(z):C(z)});x.useEffect(()=>{const z=ot.getItem(IO);if(o!=null&&o.length&&z){const q=o.find(S=>S.key===z);q!=null&&q.walletConnector&&U(q.walletConnector),ot.removeItem(IO)}},[o]);const $=i&&!!n;return f.jsx(BDe,{children:f.jsx(cv,{zIndex:ev,isShown:$,handleClose:k,withBackdrop:!0,transitionEvents:{onExiting:_,onUnmount:R},children:f.jsx(gD,{children:f.jsx(CZe,{transitionProps:{isShown:$},onClose:k,projectSettings:n,children:f.jsx(qnt,{})})})})})},Jnt=()=>f.jsx(UO,{children:f.jsx(Gnt,{})}),fY="sdk-react-core-integration",Znt=e=>{fb({event:"mfaCompletionSuccess",listener:({mfaToken:t})=>{rt.emit("mfaCompletionSuccess",{mfaToken:t})}},e),fb({event:"mfaCompletionFailure",listener:({error:t})=>{rt.emit("mfaCompletionFailure",{error:t})}},e),fb({event:"logout",listener:()=>{rt.emit("logout")}},e)};let S4=null;const Ynt=({settings:e,client:t})=>{const n=o=>{dTe({extensionKey:fY},o)||(vNe(o),yNe({extensionKey:fY},o),Znt(o))};if(t){(!wNe()||Js()!==t)&&n(t);return}const r=[e.apiBaseUrl,e.environmentId].join("-");if(Ie.logVerboseTroubleshootingMessage("[useInitializeSdkClient] Checking if DynamicClient needs to be created...",{clientDependencyKey:r,lastClientDependencyKey:S4}),S4===r)return;S4=r,Ie.logVerboseTroubleshootingMessage("[useInitializeSdkClient] Creating DynamicClient...");const i=XOe({coreConfig:{apiBaseUrl:Td.getBaseUrl(),getApiHeaders:Oae},environmentId:e.environmentId,logLevel:e.logLevel==="DEBUG"?"debug":void 0});n(i)},hY=({as:e,href:t,id:n,type:r})=>{if(Rd()||document.head.querySelector(`#${n}`))return;const o=document.createElement("link");o.setAttribute("id",n),o.setAttribute("rel","prefetch"),o.setAttribute("href",t),o.setAttribute("as",e),o.setAttribute("type",r),document.head.insertAdjacentElement("beforeend",o)};let Ofe,Nfe;const Oj=1440*60*1e3,Xnt=()=>{Pfe(lae),Ofe=setTimeout(Bfe,Oj)},Qnt=()=>{Pfe(cae),Nfe=setTimeout(Mfe,Oj)},Pfe=e=>{const t=new Date().getTime();ot.setItem(e,t.toString())},Bfe=()=>Dfe(lae,Ofe),Mfe=()=>Dfe(cae,Nfe),Dfe=(e,t)=>{const n=ot.getItem(e);if(!n)return!0;const r=parseInt(n);return new Date().getTime()-r>Oj?(clearTimeout(t),ot.removeItem(e),!0):!1},ert=({networkValidationMode:e,bridgeChains:t})=>e||(t?"always":"sign-in"),trt=(e,t)=>t?"universal":e,nrt=e=>{const t=new WeakMap,n=(r,i="")=>{for(const o in r){const s=i+(i===""?"":".")+o;if(typeof r[o]=="object"){if(t.has(r[o])){const a=t.get(r[o]);r[o]=`[Circular Reference => ${a}]`;continue}t.set(r[o],s),n(r[o],s)}}return r};return n(e)},jfe=(e,t)=>de(void 0,void 0,void 0,function*(){try{const{dynamicContextProps:n,dynamicWagmiSettings:r,frameworkSettings:i}=t;n&&(yield pY(e,{dynamicContextProps:n,frameworkSettings:i},Bfe,Xnt)),r&&(yield pY(e,{dynamicWagmiSettings:r},Mfe,Qnt))}catch(n){Ie.warn("Error caught when sending sdkSettings to api. Please notify Dynamic, and send the DynamicContextProvider settings you currently have configured",{error:n})}}),pY=(e,t,n,r)=>de(void 0,void 0,void 0,function*(){n()&&(yield cn().logDynamicSdkSettings({environmentId:e,sdkSettingsRequest:nrt(t)}),r())}),$fe=(e,t)=>{if(!e||!t)return;const n=new Set(t.map(i=>i.walletChain));return e.filter(i=>!n.has(i.chain))},rrt=()=>x.useCallback(()=>de(void 0,void 0,void 0,function*(){return(yield WM())||void 0}),[]),irt=(e,t)=>{!e||!(t!=null&&t.length)||t.forEach(n=>{n.walletConnector.setVerifiedCredentials(e.verifiedCredentials)})},ort=()=>{var e;return(e=s3("initStatus"))!==null&&e!==void 0?e:"uninitialized"},srt=e=>de(void 0,[e],void 0,function*({environmentId:t,logout:n}){const r=Qu();!r||t===r||(yield n("store and environment are out of sync",{currentEnvId:t,storedEnvId:r}),zPe(t))}),art=e=>de(void 0,[e],void 0,function*({logout:t}){const n=Fd();if(!n)return;const r=h_(),i=Eae();r||i.length>0||(yield t("wallet info is out of sync",{connectedWallets:i,primaryWalletId:n,user:r}))}),lrt=({environmentId:e,handleLogOut:t})=>{const n=x.useRef(!1),r=vo(),i=ort(),o=x.useCallback((a,l)=>de(void 0,void 0,void 0,function*(){return Ie.info(`Logging out due to invalid session - Reason: ${a}`,Object.assign({},l)),t()}),[t]),s=x.useCallback(a=>de(void 0,void 0,void 0,function*(){const l={environmentId:e,logout:o,projectSettings:a};yield Promise.all([srt(l),art(l)]),vPe(!0)}),[o,e]);x.useEffect(()=>{n.current||!r||i!=="finished"||(n.current=!0,s(r))},[s,r,i])},Lfe=e=>{try{return e?e.map(t=>t.name):void 0}catch(t){Ie.error("error serializing walletConnectors",t);return}};class Ufe extends Se{constructor(t,n){super(`${t} is enabled but ${n} is not in your walletConnectors list. See https://docs.dynamic.xyz/react-sdk/wallet-connectors for more information.`)}}const crt="magicemailotp",drt="magicsocial",urt=(e,t)=>{var n;const r=Dc((n=e.providers)!==null&&n!==void 0?n:[],pn.MagicLink),i=t.some(({key:o})=>[crt,drt].includes(o));if(r&&!i)throw new Ufe("Magic","MagicWalletConnectors")},frt="zerodev",hrt=(e,t)=>{var n;const r=Dc((n=e.providers)!==null&&n!==void 0?n:[],pn.Zerodev),i=t.some(({key:o})=>o===frt);if(r&&!i)throw new Ufe("ZeroDev","ZeroDevSmartWalletConnectors")},prt=(e,t)=>{urt(e,t),hrt(e,t)},mrt=e=>{var{projectSettings:t,networkConfigurations:n,walletBook:r,walletConnectorsProp:i,walletConnectorExtensions:o}=e,s=bs(e,["projectSettings","networkConfigurations","walletBook","walletConnectorsProp","walletConnectorExtensions"]);const a=Sfe(),l=x.useMemo(()=>{var u;return(u=Lfe(i))===null||u===void 0?void 0:u.join(",")},[i]),c=x.useMemo(()=>g0(r),[r]),d=x.useMemo(()=>!t||!c||!n?[]:g8e({getSupportedWalletOpts:Object.assign({networkConfigurations:n,redirectUrl:a,settings:t,skipMemo:!0,walletBook:r,walletConnectorsProp:i??[]},s),walletConnectorExtensions:o}),[t,a,l,c,n]);return x.useEffect(()=>{!t||d.length===0||(prt(t,d.map(({walletConnector:u})=>u)),Ale(d))},[d,t]),{walletConnectorOptions:d}},grt=e=>{const{metadata:t}=e.walletConnector,{name:n}=t,r=K1(n);return{brand:{icon:t.icon,primaryColor:t.brandColor},key:r,name:n}},yrt=({walletConnectorOptions:e})=>{x.useEffect(()=>{if(!e.length)return;const t={};e.forEach(n=>{const r=grt(n);t[r.key]||(t[r.key]=r),n.chainGroup=r.key,n.group=r.key}),Ie.logVerboseTroubleshootingMessage("[DynamicContext] mergeWalletGroups",{groups:t}),VDe(t)},[e])},Ffe=e=>e.connectedChain==="STARK"||e.connectedChain==="FLOW",vrt=e=>Object.assign(Object.assign({},e),{walletName:"phantom",walletProperties:{hardwareWallet:p0.Ledger}}),wrt=({user:e,walletConnectorOptions:t,primaryWalletId:n,separateSmartWalletAndSigner:r})=>!t||!e?[]:e.verifiedCredentials.map(brt).map(i=>{var o,s;const a=p1(i,t);return!a||(i.id===n&&Ffe(a.walletConnector)&&a.walletConnector.connect(),((o=i.walletProperties)===null||o===void 0?void 0:o.hardwareWallet)===p0.Ledger&&Ph(a.walletConnector)&&(a.walletConnector.isHardwareWalletEnabled=!0),!r&&kVe(i,e.verifiedCredentials))?null:i.address&&i.chain?(i.walletProvider===Ao.SmartContractWallet&&YD({account:i,primaryWalletId:n,verifiedCredentials:e.verifiedCredentials,walletConnectorOptions:t}),a.walletConnector.createWallet({additionalAddresses:i.walletAdditionalAddresses,address:i.address,chain:a.walletConnector.connectedChain,connector:a.walletConnector,id:i.id,isAuthenticated:!0,key:(s=i.walletName)!==null&&s!==void 0?s:a.walletConnector.key})):null}).filter(i=>i!==null),brt=e=>e.walletName==="phantomledger"?vrt(e):e,_rt=(e,t)=>{const n=[...e],r=new Set,i=new Set;for(const o of t){r.add(o.address),i.add(o.chain);const s=n.findIndex(a=>a.address===o.address&&a.chain===o.chain);if(s===-1){n.push(o);continue}n[s]=o}return n.filter(o=>r.has(o.address)&&i.has(o.chain))},xrt=({connectedWallets:e,walletConnectorOptions:t,setMultiWalletWidgetState:n,primaryWalletId:r,user:i,canHaveMultipleWalletsConnected:o,separateSmartWalletAndSigner:s=!1})=>{const[a,l]=x.useState(!1),c=x.useRef(r),d=x.useMemo(()=>i?wrt({primaryWalletId:r,separateSmartWalletAndSigner:s,user:i,walletConnectorOptions:t}):[],[i,r,t,s]);Ie.logVerboseTroubleshootingMessage("linkedWallets",d);const u=x.useMemo(()=>i?d:e??[],[e,d,i]);Ie.logVerboseTroubleshootingMessage("wallets",u),x.useEffect(()=>u.forEach(b=>{b.connector.initEventListener()}),[u]);const{setUserWallets:h}=_s();x.useEffect(()=>{Ie.logVerboseTroubleshootingMessage("[useWalletConnectors] will call setUserWallets",u),h(b=>_rt(b,u))},[h,u]);const m=x.useMemo(()=>{var b;return(b=u.find(k=>k.id===r))!==null&&b!==void 0?b:null},[r,u]);x.useEffect(()=>{m&&m.id!==c.current&&rt.emit("primaryWalletChanged",m),c.current=m==null?void 0:m.id},[m]);const v=x.useMemo(()=>o?u.filter(b=>b.id!==r):[],[r,u,o]),y=x.useCallback(b=>de(void 0,void 0,void 0,function*(){const k=u.find(({id:_})=>_===b);if(!k)throw new Se(`Wallet with id: ${b} not found`);return k}),[u]),g=x.useCallback(b=>de(void 0,void 0,void 0,function*(){const k=yield y(b);if(!r){To(b);return}if(r!==b){if(vm(k.connector)){const _=k.connector,R=localStorage.getItem("magic-link-email");R&&_.setEmail(R)}To(b),n("idle")}}),[y,r,n]);return{primaryWallet:m,secondaryWallets:v,setPrimaryWallet:g,setShowQrcodeModal:l,showQrcodeModal:a,wallets:u}};var mY,gY,krt=["title","titleId"];function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qP.apply(null,arguments)}function Srt(e,t){if(e==null)return{};var n,r,i=Irt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Irt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ert=function(t){var n=t.title,r=t.titleId,i=Srt(t,krt);return x.createElement("svg",qP({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,mY||(mY=x.createElement("circle",{cx:32,cy:32,r:32,fill:"currentColor"})),gY||(gY=x.createElement("path",{d:"M34.048 17.611a5.5 5.5 0 1 1 7.779 7.779l-.611.61.193.193a4.5 4.5 0 0 1 0 6.364l-3.238 3.239a1.125 1.125 0 0 1-1.592-1.591l3.239-3.239a2.25 2.25 0 0 0 0-3.182l-.193-.193-12.704 12.705a1.123 1.123 0 0 1-.523.296l-9 2.25a1.125 1.125 0 0 1-1.34-1.447l2.812-8.438c.055-.166.148-.316.272-.44l14.906-14.906Zm6.188 1.591a3.25 3.25 0 0 0-4.597 0L20.921 33.92l-2.08 6.242 6.709-1.678 14.686-14.686a3.25 3.25 0 0 0 0-4.596ZM24.925 47.375c-2.779 0-4.967-1.275-6.424-2.49l2.89-.723c1.003.562 2.19.963 3.534.963.912 0 1.853-.369 2.856-1.028 1.005-.66 1.976-1.546 2.956-2.465l.255-.24c.865-.812 1.764-1.658 2.624-2.242.918-.624 2.135-1.191 3.413-.7.844.325 1.393.925 1.78 1.658.362.687.612 1.548.855 2.485.111.427.3.841.515 1.12.105.137.196.214.26.253.055.034.08.034.086.034.274 0 .745-.185 1.417-.643.417-.284.774-.568 1.13-.852.221-.177.443-.354.679-.53.628-.47 1.171-.785 1.57-.986a6.86 6.86 0 0 1 .625-.28l.045-.016.016-.006.006-.002h.003s.002-.002.359 1.065l-.357-1.067a1.125 1.125 0 0 1 .721 2.132l-.008.003a4.59 4.59 0 0 0-.394.178 8.472 8.472 0 0 0-1.238.78c-.132.098-.304.235-.5.391-.409.324-.921.73-1.39 1.05-.7.476-1.67 1.033-2.684 1.033-.98 0-1.69-.595-2.127-1.162-.447-.578-.746-1.29-.912-1.93-.247-.95-.442-1.573-.667-2-.201-.38-.383-.525-.598-.608-.184-.07-.552-.075-1.34.46-.704.48-1.472 1.2-2.38 2.053l-.225.211c-.97.91-2.071 1.922-3.26 2.703-1.19.783-2.566 1.398-4.091 1.398Z",fill:"#fff"})))};const Crt=({children:e,leading:t,trailing:n,className:r})=>f.jsxs("div",{className:Ke("chip",r),children:[!!t&&f.jsx("div",{className:"chip--leading",children:t}),f.jsx(se,{variant:"body_small",children:e}),!!n&&f.jsx("div",{className:"chip--trailing",children:n})]}),Art=()=>typeof window>"u"||!window.isGlobalWalletPopup||!window.globalWalletContext?{}:window.globalWalletContext,Wfe=({origin:e})=>{const{requesterOrigin:t}=Art(),n=x.useMemo(()=>e||t||Ln.getDisplayOrigin(),[e,t]);return n?f.jsx(Crt,{className:"app-origin-tile",children:f.jsx(se,{color:"secondary",variant:"body_normal",weight:"regular",as:"span",children:n})}):null},Rrt=e=>{if(typeof e!="object"||e===null)return!1;const{types:t,message:n,primaryType:r}=e;return typeof t=="object"&&t!==null&&typeof n=="object"&&n!==null&&typeof r=="string"},Trt=e=>typeof e!="object"||e===null?!1:typeof e.raw=="string",zP=({currentType:e,types:t,showTypeName:n=!1,data:r})=>{const i=t[e].map(o=>{var s;const a=o.type.replace("[]",""),l=o.type.endsWith("[]"),c=a in t;if(l&&c)return f.jsx(Ek,{title:Od(o.name),children:(s=r==null?void 0:r[o.name])===null||s===void 0?void 0:s.map((h,m)=>f.jsx(Ek,{title:m.toString(),children:f.jsx(zP,{currentType:a,types:t,data:h})},m))},o.name);if(c)return f.jsx(Ek,{title:Od(o.name),children:f.jsx(zP,{currentType:a,types:t,data:r==null?void 0:r[o.name]})},o.name);const d=r==null?void 0:r[o.name],u=o.type;return f.jsx(Brt,{name:Od(o.name),data:d,displayValue:u==="address"?Ni(d):d},o.name)});return n?f.jsx(Ek,{title:e,children:i}):f.jsx("div",{className:"sign-typed-data-preview--fields-list",children:i})},qfe=({children:e})=>f.jsx(se,{color:"secondary",weight:"medium",children:e}),Ort=qfe,Nrt=({children:e,title:t})=>f.jsx(se,{as:"span",weight:"regular",color:"primary",title:t,children:e}),Prt=({children:e})=>f.jsx("div",{className:"sign-typed-data-preview--type-container",children:e}),Ek=({title:e,children:t})=>f.jsxs("div",{children:[f.jsx(qfe,{children:e}),f.jsx(Prt,{children:t})]}),Brt=({name:e,displayValue:t,data:n})=>f.jsxs("div",{className:"sign-typed-data-preview--attribute-row",children:[f.jsxs(Ort,{children:[Od(e),": "]}),f.jsx(Nrt,{title:n,children:t})]}),Mrt=e=>/[^ -~\s]/.test(e),Drt=e=>{try{return JSON.parse(e)}catch(t){if(e.includes("raw")){const n=e.replace(/\n/g,"\\n");return JSON.parse(n)}throw t}},jrt=({message:e})=>{const t=x.useMemo(()=>{try{return Drt(e)}catch{return}},[e]),n=x.useMemo(()=>{const r=Trt(t)?t.raw:e;let i=ZF(r)?JF(r):r;return ZF(i)&&(i=JF(i)),Mrt(i)?r:i},[t,e]);return Rrt(t)?f.jsx(zP,{currentType:t.primaryType,types:t.types,showTypeName:!0,data:t.message}):f.jsx(se,{color:"primary",variant:"body_normal",children:f.jsx("span",{style:{whiteSpace:"pre-line"},children:n})})},$rt=({message:e,handler:t,onReject:n,onSignMessage:r,hideModal:i})=>{ov(!0);const o=x.useRef(!1),[s,a]=x.useState(!0),{initPasskeyRecoveryProcess:l,shouldInitRecovery:c}=Xh(),{isTurnkeyWallet:d}=da(),{setShowAuthFlow:u,primaryWallet:h,user:m}=je(),{pushView:v}=At(),{userNeedsCrossDomainPasskey:y}=av(),{t:g}=Xe(),{getEOAWallet:b}=xs(),k=h&&b(h),_=x.useMemo(()=>{var q;if(!(!m||!h))return(q=m.verifiedCredentials)===null||q===void 0?void 0:q.find(S=>S.address===h.address)},[m,h]),R=x.useCallback(()=>{o.current=!1,a(!1)},[a]),{isLoading:I,mutate:T,data:D,error:M}=Xo(()=>t(e),{onSuccess:()=>{o.current=!0,a(!1)}}),C=x.useMemo(()=>{if(M){if(M instanceof Se)return M.message;try{return ip(M,m)}catch(q){q instanceof rS&&v("access-blocked");return}}},[M,v,m]),U=x.useCallback(()=>{if(D)return r(D);n(M||new Jie)},[D,r,n,M]),$=q=>de(void 0,void 0,void 0,function*(){const S=h&&Bh(h)||k&&Bh(k);if((yield c())&&!S&&(yield l("email",{type:"signMessage"})),q===!0){r("callHandlerOutsideModal");return}if(S){T();return}if(d&&y){v("passkey-new-domain-detected"),u(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),rt.once("passkeyRecoveryCompleted",()=>{T()});return}T()});Qh(()=>{i&&$(!0)});const z=f.jsx(Sn,{type:"button",onClick:R,"data-testid":"close",disabled:I,children:f.jsx(Oi,{})});return i?null:f.jsx(cv,{handleClose:R,isShown:s,zIndex:ev,withBackdrop:!0,elementId:"dynamic-sign-message",transitionEvents:{onUnmount:U},children:f.jsx(lv,{children:f.jsxs(Im,{children:[f.jsx(Zn,{trailing:z,alignContent:"bottom",children:f.jsx(si,{Icon:q=>f.jsx(Nt,{color:"brand-primary",children:f.jsx(Ert,Object.assign({},q))}),iconSize:64,isSpinning:!0})}),f.jsx(pj,{}),f.jsxs("div",{className:"sign-message-confirmation__body",children:[f.jsx(se,{variant:"title",color:"primary",className:"sign-message-confirmation__title",copykey:"dyn_sign_message.title",children:g("dyn_sign_message.title")}),f.jsx(Wfe,{}),f.jsx(se,{variant:"body_normal",color:"secondary",className:"sign-message-confirmation__warning",copykey:"dyn_sign_message.warning",children:g("dyn_sign_message.warning")}),f.jsx(Ku,{animationComponent:f.jsx(ng,{}),children:M&&f.jsx("div",{className:"sign-message-confirmation__error",children:f.jsx(Lr,{children:C})})}),f.jsxs("div",{className:"sign-message-confirmation__message-container-wrapper",children:[f.jsx(se,{variant:"body_normal",color:"primary",weight:"bold",className:"sign-message-confirmation__message-container-label",copykey:"dyn_sign_message.message_label",children:g("dyn_sign_message.message_label")}),f.jsx("div",{className:"sign-message-confirmation__message-container",children:f.jsx("div",{className:"sign-message-confirmation__message",children:f.jsx(jrt,{message:e.toString().replace(/^"(.*)"$/,"$1").replace(/\\n/g,`
`)})})})]}),f.jsxs("div",{className:"sign-message-confirmation__actions",children:[f.jsx(xt,{buttonVariant:"secondary",onClick:R,expanded:!0,buttonPadding:"large",disabled:I,copykey:"dyn_sign_message.cancel_button",children:g("dyn_sign_message.cancel_button")}),f.jsx(xt,{buttonVariant:"primary",buttonPadding:"large",onClick:$,expanded:!0,loading:I,copykey:"dyn_sign_message.sign_button",dataTestId:"sign-button",children:g("dyn_sign_message.sign_button")})]}),f.jsx(ep,{walletCredential:_}),f.jsx(Gc,{})]})]})})})},Nj=({modalId:e,closeModal:t,show:n,zIndex:r,handleOnModalUnmount:i,children:o})=>f.jsx(cv,{elementId:e,handleClose:t,isShown:n,zIndex:r??ev+1,withBackdrop:!0,transitionEvents:{onUnmount:i},children:f.jsx(lv,{children:f.jsx(Im,{children:o})})}),Pj=({onResolve:e,onReject:t,defaultErrorMessage:n})=>{ov(!0);const[r,i]=x.useState(!0),o=x.useRef(null),s=x.useRef(null),a=x.useCallback(()=>{i(!1)},[i]),l=x.useCallback(()=>{if(s.current)return e(s.current);const u=o.current||new Se(n);return t(u)},[e,t,n]);return{closeModal:a,handleOnModalUnmount:l,onError:(u,h=!1)=>{s.current=null,o.current=u,h&&a()},onSuccess:(u,h=!0)=>{o.current=null,s.current=u,h&&a()},show:r}},Lrt=({children:e,onClose:t,disablePadding:n,portalClassName:r,portalContainerClassName:i})=>f.jsx("div",{className:Ke(r,"widget-portal"),onClick:t,"data-testid":"backdrop",children:f.jsxs("div",{className:Ke(i,"widget-portal__container",{"widget-portal__container--no-padding":n}),onClick:o=>o.stopPropagation(),children:[t&&f.jsx("div",{className:"widget-portal__container__header",children:f.jsx(Sn,{className:"widget-portal__container__close-button",onClick:o=>t(o),type:"button","data-testid":"close-button",children:f.jsx(Oi,{})})}),e]})}),Urt=({children:e,className:t="",dataTestId:n="",icon:r,showSpinnerInIcon:i=!0,title:o})=>f.jsxs("div",{className:Ke("default-prompt-modal",t),"data-testid":n,children:[r&&f.jsx(si,{Icon:r,iconSize:96,isSpinning:i,className:"default-prompt-modal__icon-with-spinner"}),f.jsxs("div",{className:"default-prompt-modal__content",children:[o&&f.jsx(se,{variant:"title",color:"primary","data-testid":"title",children:o}),e]})]}),Bj=e=>f.jsx(Lrt,{onClose:e.onClose,portalClassName:"prompt-modal-portal",portalContainerClassName:"prompt-modal-portal__container",children:f.jsx(Urt,Object.assign({},e))});var yY,Frt=["title","titleId"];function VP(){return VP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VP.apply(null,arguments)}function Wrt(e,t){if(e==null)return{};var n,r,i=qrt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qrt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var zrt=function(t){var n=t.title,r=t.titleId,i=Wrt(t,Frt);return x.createElement("svg",VP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,yY||(yY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm10.293-3.707a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L13.586 13H8a1 1 0 1 1 0-2h5.586l-1.293-1.293a1 1 0 0 1 0-1.414Z",fill:"#ABACB2"})))};const Vrt=({onCancel:e,connector:t,expectedAddress:n,activeAddress:r})=>{const{t:i}=Xe();return f.jsx(Bj,{dataTestId:"switch-wallet",className:"switch-wallet",icon:f.jsx(oi,{icon:t.metadata.icon,walletKey:t.key}),title:i("dyn_sync_wallet.switch_wallet.title"),onClose:e,children:f.jsxs("div",{className:"switch-wallet__body",children:[r&&f.jsxs(f.Fragment,{children:[f.jsx(se,{variant:"body_mini",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.active_address.heading",children:i("dyn_sync_wallet.switch_wallet.active_address.heading")}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",children:Ni(r)}),f.jsx(rf,{className:"switch-wallet__body__divider",children:f.jsx(zrt,{})})]}),f.jsx(se,{variant:"body_mini",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.expected_address.heading",children:i("dyn_sync_wallet.switch_wallet.expected_address.heading")}),f.jsx(se,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.expected_address.prompt",className:"switch-wallet__body__expected-address__prompt",children:i("dyn_sync_wallet.switch_wallet.expected_address.prompt")}),f.jsx(se,{color:"green-1",weight:"bold",className:"switch-wallet__body__expected-address__address",children:Ni(n)})]})})},Krt=({onCancel:e,onSuccess:t,connector:n,expectedAddress:r})=>{var i;const{t:o}=Xe(),{theme:{theme:s}}=c_(),{name:a}=s,[l,c]=x.useState(),[d,u]=x.useState(),h=x.useRef(!1),{retrigger:m}=vr(()=>de(void 0,void 0,void 0,function*(){if(h.current)return;h.current=!0;const y=yield n.getAddress({onDesktopUri:g=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",g),u(g)}),onDisplayUri:g=>de(void 0,void 0,void 0,function*(){rt.emit("walletConnectionQrCodeReady",g),c(g)})});if(y&&$a(y,r,n.connectedChain)){t();return}yield n.endSession(),e()}),{deps:[n],retries:3}),v=()=>{h.current=!1,m()};return f.jsx(Bj,{dataTestId:"reconnect-qr-code",title:o("dyn_sync_wallet.reconnect_with_qr_code.title"),onClose:e,children:rr()?f.jsx(vfe,{onRetry:v,connector:n}):f.jsx(Cj,{uri:l||"",desktopUri:d,accentColor:a==="dark"?s.colors.textPrimary:(i=n.metadata.brandColor)!==null&&i!==void 0?i:"",icon:f.jsx(oi,{icon:n.metadata.icon,walletKey:n.key}),showCopyToClipboardButton:!0,walletConnector:n})})},Hrt=(e,t,n,r)=>de(void 0,void 0,void 0,function*(){if(!J1(t))return;const i=e==null?void 0:e.verifiedCredentials.find(o=>o.format===Zo.Oauth&&o.address&&$a(o.address,n,r));!i||!i.oauthProvider||(yield t.connect(i.oauthProvider))}),Grt=({onCancel:e,onSuccess:t,connector:n,expectedAddress:r})=>{const{t:i}=Xe(),{user:o}=je();return vr(()=>de(void 0,void 0,void 0,function*(){J1(n)&&(yield Hrt(o,n,r,n.connectedChain),t())}),{deps:[n]}),f.jsx(Bj,{dataTestId:"auto-reconnecting",icon:f.jsx(oi,{icon:n.metadata.icon,walletKey:n.key}),title:i("dyn_sync_wallet.reconnecting.title"),onClose:e,children:f.jsx(se,{variant:"body_normal",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.reconnecting.description",children:i("dyn_sync_wallet.reconnecting.description",{walletAddress:Ni(r)})})})},Jrt=({onSuccess:e,onError:t,expectedAddress:n,activeAddress:r,connector:i})=>{const o=i.canConnectViaQrCode&&!i.isInstalledOnBrowser()&&!i.canConnectViaCustodialService;Ie.logVerboseTroubleshootingMessage("[SyncWallet]",{canConnectViaCustodialService:i.canConnectViaCustodialService,canConnectViaQrCode:i.canConnectViaQrCode,isEmbeddedWallet:i.isEmbeddedWallet,isInstalledOnBrowser:i.isInstalledOnBrowser()}),Ru(i,"accountChange",({accounts:l})=>{Ie.logVerboseTroubleshootingMessage("[SyncWallet] accountChange",{accounts:l,expectedAddress:n});const[c]=l;$a(c,n,i.connectedChain)&&e(!0)}),Un("logout",()=>t(new Error("user logged out"),!0));const s=()=>de(void 0,void 0,void 0,function*(){const l=yield i.getAddress();l&&$a(l,n,i.connectedChain)&&e(!0)}),a=()=>{Ie.logVerboseTroubleshootingMessage("[SyncWallet] handleCancel called"),t(new Se("User cancelled","0"),!0)};return i.isEmbeddedWallet?f.jsx("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:f.jsx(Grt,{connector:i,expectedAddress:n,onCancel:a,onSuccess:()=>e(!0)})}):o?f.jsx("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:f.jsx(Krt,{connector:i,expectedAddress:n,onCancel:a,onSuccess:()=>e(!0)})}):f.jsx("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:f.jsx(Vrt,{connector:i,expectedAddress:n,activeAddress:r,onCancel:a,onTryToReconnect:s})})},Zrt=({expectedAddress:e,connector:t,onResolve:n,onReject:r,activeAddress:i})=>{const{onSuccess:o,onError:s,show:a,handleOnModalUnmount:l}=Pj({defaultErrorMessage:"User canceled",onReject:r,onResolve:n});return f.jsx(Nj,{modalId:"sync-wallet-modal",show:a,closeModal:()=>{},handleOnModalUnmount:l,children:f.jsx(Jrt,{onSuccess:o,onError:s,expectedAddress:e,connector:t,activeAddress:i})})},vY=({title:e,onReject:t,onTransactionResponseSuccess:n,transaction:r,copykey:i,walletConnector:o,hideModal:s,isNativeToken:a,currentToken:l})=>{ov(!0);const[c,d]=x.useState(!0),u=x.useRef(null),h=x.useRef(null),m=x.useCallback(()=>{d(!1)},[d]),v=x.useCallback(()=>h.current?n(h.current):t(u.current||new Zie),[n,t]);return f.jsx(cv,{handleClose:m,isShown:c,zIndex:ev,withBackdrop:!0,elementId:"dynamic-send-transaction",transitionEvents:{onUnmount:v},children:f.jsx(lv,{children:f.jsx(Im,{children:f.jsx(Lde,{transaction:r,title:e,copykey:i,hideModal:s,mutation:()=>r.submit(),onClickClose:m,onError:y=>u.current=y,displayPoweredByDynamicFooter:!0,walletConnector:o,onSuccess:y=>{u.current=null,h.current=y,m()},isNativeToken:a,currentToken:l,isModal:!0})})})})},Yrt=({walletConnector:e,network:t,addNetworkMutation:n,onCancel:r,onNetworkAdded:i})=>{const{t:o}=Xe(),{iconUrls:s,name:a}=t,[l]=s,{mutate:c}=Xo(n,{onSuccess:i}),d=u=>f.jsx("img",Object.assign({},u,{src:l,className:"add-network-view__network-icon",alt:`${a} icon`}));return f.jsxs("div",{"data-testid":"add-network-view",className:"add-network-view",children:[f.jsx(Zn,{alignContent:"bottom"}),f.jsxs("div",{className:"add-network-view__body",children:[f.jsx(dv,{Icon:d,iconSize:64,InnerIcon:Jh,variant:"red"}),f.jsxs("div",{className:"add-network-view__text-container",children:[f.jsx(se,{weight:"bold",variant:"body_normal",color:"primary",copykey:"dyn_add_network_view.title",className:"add-network-view__title",children:o("dyn_add_network_view.title")}),f.jsx(se,{weight:"regular",variant:"body_small",color:"secondary",copykey:"dyn_add_network_view.description",className:"add-network-view__description",children:o("dyn_add_network_view.description",{name:e.metadata.name})})]}),f.jsxs("div",{className:"add-network-view__actions",children:[f.jsx(km,{expanded:!0,buttonVariant:"primary",onClick:()=>r(),dataTestId:"add-network-view__cancel-button",children:f.jsx(se,{copykey:"dyn_add_network_view.cancel_button.title",children:o("dyn_add_network_view.cancel_button.title")})}),f.jsx(km,{expanded:!0,buttonVariant:"brand-primary",onClick:()=>c(),children:f.jsx(se,{copykey:"dyn_add_network_view.add_button.title",children:o("dyn_add_network_view.add_button.title")})})]})]})]})},Xrt=({walletConnector:e,network:t,onCancel:n,onNetworkAdded:r,addNetworkMutation:i})=>{const{onSuccess:o,show:s,handleOnModalUnmount:a,closeModal:l}=Pj({defaultErrorMessage:"User canceled",onReject:n,onResolve:r});return f.jsx(Nj,{modalId:"prompt-to-add-network",show:s,closeModal:()=>{},handleOnModalUnmount:a,children:f.jsx(Yrt,{walletConnector:e,addNetworkMutation:i,network:t,onCancel:l,onNetworkAdded:o})})},Qrt=e=>{var t;return(t=e.origin)!==null&&t!==void 0?t:Ni(e.sessionId)},eit=e=>{const{value:t,unit:n}=fze(new Date,new Date(Number(e.session.expiresAt)*1e3));return`${t} ${n}`},tit=e=>{var t,n;const r=e.session.transferPolicies;if(!r)return"0 ETH";let i=BigInt(0);for(const a of r)i+=(n=(t=a.valueLimit)===null||t===void 0?void 0:t.limit)!==null&&n!==void 0?n:BigInt(0);return`~${new Intl.NumberFormat(void 0,{maximumFractionDigits:6}).format(Number(i)/Math.pow(10,18))} ETH`},nit=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n,2),rit=({className:e,children:t,isOpen:n,onClick:r,labelClassName:i})=>{const{t:o}=Xe();return f.jsxs(km,{onClick:r,className:Ke("dyn-accordion-toggle",e),children:[f.jsx("div",{className:Ke("dyn-accordion-toggle__label",i),children:t}),f.jsx(N3,{"data-testid":"dyn-accordion-toggle-icon",className:Ke("dyn-accordion-toggle__icon",{"dyn-accordion-toggle__icon-open":n}),"aria-label":o(n?"dyn_common.aria.expanded":"dyn_common.aria.collapsed"),role:"presentation"})]})};var wY,iit=["title","titleId"];function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KP.apply(null,arguments)}function oit(e,t){if(e==null)return{};var n,r,i=sit(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var ait=function(t){var n=t.title,r=t.titleId,i=oit(t,iit);return x.createElement("svg",KP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,wY||(wY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm10-5a1 1 0 0 1 1 1v3.586l2.707 2.707a1 1 0 0 1-1.414 1.414l-3-3A1 1 0 0 1 11 12V8a1 1 0 0 1 1-1Z",fill:"currentColor"})))},bY,lit=["title","titleId"];function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(null,arguments)}function cit(e,t){if(e==null)return{};var n,r,i=dit(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var uit=function(t){var n=t.title,r=t.titleId,i=cit(t,lit);return x.createElement("svg",HP({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},i),n?x.createElement("title",{id:r},n):null,bY||(bY=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 4a8 8 0 0 0-6.598 12.526A14.943 14.943 0 0 1 12.5 15c2.366 0 4.606.548 6.598 1.526A8 8 0 0 0 12.5 4Zm7.654 14.436A9.96 9.96 0 0 0 22.5 12c0-5.523-4.477-10-10-10s-10 4.477-10 10a9.96 9.96 0 0 0 2.37 6.464A9.978 9.978 0 0 0 12.5 22a9.978 9.978 0 0 0 7.654-3.564ZM17.7 18.08A12.954 12.954 0 0 0 12.5 17c-1.85 0-3.607.386-5.199 1.08A7.968 7.968 0 0 0 12.5 20c1.985 0 3.8-.723 5.199-1.92ZM12.5 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",fill:"currentColor"})))};const fit=({session:e,showAdvanced:t=!1})=>{const{t:n}=Xe(),[r,i]=x.useState(!1),o=x.useCallback(()=>{i(!r)},[r]),s=x.useMemo(()=>eit(e),[e]),a=x.useMemo(()=>tit(e),[e]),l=x.useMemo(()=>nit(e),[e]);return f.jsxs("div",{className:"session-permissions-view",children:[f.jsx("div",{className:"session-permissions-view__header",children:f.jsx(se,{variant:"body_small",weight:"bold",copykey:"dyn_session_permissions.permissions_label",children:n("dyn_session_permissions.permissions_label")})}),f.jsxs("div",{className:"session-permissions-view__card",children:[f.jsxs("div",{className:"session-permissions-view__card-permission",children:[f.jsx(Nt,{size:"small",color:"text-tertiary",children:f.jsx(uit,{})}),f.jsx(se,{variant:"body_small",copykey:"dyn_session_permissions.permissions.ownership",children:n("dyn_session_permissions.permissions.ownership")})]}),f.jsxs("div",{className:"session-permissions-view__card-permission",children:[f.jsx(Nt,{size:"small",color:"text-tertiary",children:f.jsx(ait,{})}),f.jsx(se,{variant:"body_small",copykey:"dyn_session_permissions.permissions.access",children:n("dyn_session_permissions.permissions.access",{time:s})})]})]}),f.jsx("div",{className:"session-permissions-view__header",children:f.jsx(se,{variant:"body_small",weight:"bold",copykey:"dyn_session_permissions.spending_label",children:n("dyn_session_permissions.spending_label")})}),f.jsxs("div",{className:"session-permissions-view__card session-permissions-view__token-card",children:[f.jsxs("div",{className:"session-permissions-view__token",children:[f.jsx(Nt,{size:"medium",children:f.jsx(qoe,{})}),f.jsx(se,{variant:"body_normal",children:"ETH"})]}),f.jsxs("div",{className:"session-permissions-view__spending",children:[f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_session_permissions.spending_limit",children:n("dyn_session_permissions.spending_limit")}),f.jsx(se,{variant:"body_small",children:a})]})]}),t&&f.jsxs("div",{className:"session-permissions-view__panel",children:[f.jsxs(rit,{className:"session-permissions-view__panel-toggle",isOpen:r,onClick:o,labelClassName:"session-permissions-view__panel-toggle-label",children:[f.jsx(se,{variant:"body_small",weight:"bold",copykey:"dyn_session_permissions.advanced_label",children:n("dyn_session_permissions.advanced_label")}),f.jsx(se,{variant:"body_small",color:"secondary",copykey:"dyn_session_permissions.advanced_description",children:n("dyn_session_permissions.advanced_description")})]}),r&&f.jsx("div",{className:"session-permissions-view__panel-content",children:f.jsx(Rfe,{value:l,readOnly:!0,rows:8,id:"session-permissions-view__raw-json","data-testid":"session-permissions-view__raw-json",label:""})})]})]})},hit=({onApprove:e,onReject:t,session:n})=>{const{t:r}=Xe(),i=x.useMemo(()=>Qrt(n),[n]),o=x.useCallback(()=>f.jsx(Sn,{onClick:t,"aria-label":r("dyn_session_key_approval.aria.close_button_label"),children:f.jsx(Oi,{})}),[t,r]);return f.jsxs("div",{className:"session-key-approval-view",children:[f.jsx(Zn,{trailing:o(),children:f.jsx(se,{variant:"title",color:"primary",copykey:"dyn_session_key_approval.title",children:r("dyn_session_key_approval.title")})}),f.jsxs("div",{className:"session-key-approval-view__body",children:[f.jsx(Wfe,{origin:i}),f.jsx(se,{variant:"body_normal",color:"primary",copykey:"dyn_session_key_approval.description",align:"center",children:r("dyn_session_key_approval.description")}),f.jsx(fit,{showAdvanced:!0,session:n})]}),f.jsxs("div",{className:"session-key-approval-view__footer",children:[f.jsx(xt,{onClick:e,buttonVariant:"brand-primary",expanded:!0,copykey:"dyn_session_key_approval.approve_button",typographyProps:{color:"white"},children:r("dyn_session_key_approval.approve_button")}),f.jsx(xt,{onClick:t,expanded:!0,copykey:"dyn_session_key_approval.reject_button",children:r("dyn_session_key_approval.reject_button")})]})]})},pit=({session:e,onCancel:t,onApproved:n})=>{const{onSuccess:r,show:i,handleOnModalUnmount:o,closeModal:s}=Pj({defaultErrorMessage:"User canceled",onReject:t,onResolve:n});return f.jsx(Nj,{modalId:"zksync-approval-modal",show:i,closeModal:()=>{},handleOnModalUnmount:o,children:f.jsx(hit,{session:e,onApprove:r,onReject:s})})},mit=({hideEmbeddedWalletTransactionUIs:e=!1})=>{const t=x.useRef("enabled"),{t:n}=Xe(),{modal:r,open:i}=Lp({elementId:"dynamic-send-transaction"}),{modal:o,open:s}=Lp({elementId:"dynamic-sign-message"}),{modal:a,open:l}=Lp({elementId:"dynamic-sync-wallet"}),{modal:c,open:d}=Lp({elementId:"dynamic-prompt-to-add-network"}),{modal:u,open:h}=Lp({elementId:"dynamic-zksync-approval"}),m=x.useCallback(({walletConnector:T})=>(T==null?void 0:T.overrideKey)==="dynamicwaas"&&e?!1:t.current==="disabled"?(t.current="enabled",!1):!0,[e,t]),v=x.useCallback(T=>de(void 0,[T],void 0,function*({walletConnector:D,message:M,handler:C}){return m({walletConnector:D})?s((U,$)=>f.jsx($rt,{message:M,handler:C,onSignMessage:U,onReject:$,hideModal:e&&!(D!=null&&D.isGlobalTransaction)})).then(U=>de(void 0,void 0,void 0,function*(){return U==="callHandlerOutsideModal"?C():U})):C()}),[e,s,m]),y=x.useCallback((T,D)=>de(void 0,void 0,void 0,function*(){return m({walletConnector:T})?i((M,C)=>f.jsx(vY,{copykey:"dyn_send_transaction.confirmation.title",title:n("dyn_send_transaction.confirmation.title"),transaction:D,onTransactionResponseSuccess:M,onReject:C,walletConnector:T,hideModal:e&&!(T!=null&&T.isGlobalTransaction)})).then(M=>de(void 0,void 0,void 0,function*(){return M==="callHandlerOutsideModal"?D.submit():M})):D.submit()}),[e,i,m,n]),g=x.useCallback((T,D)=>de(void 0,void 0,void 0,function*(){return m({walletConnector:T})?i((M,C)=>f.jsx(vY,{copykey:"dyn_send_transaction.confirmation.title",title:n("dyn_send_transaction.confirmation.title"),transaction:D,onTransactionResponseSuccess:M,onReject:C,walletConnector:T,hideModal:e&&!(T!=null&&T.isGlobalTransaction)})).then(M=>de(void 0,void 0,void 0,function*(){return M==="callHandlerOutsideModal"?D.submit():M})):D.submit()}),[e,i,m,n]),b=x.useCallback(T=>de(void 0,[T],void 0,function*({walletConnector:D,activeAddress:M,expectedAddress:C}){yield l((U,$)=>f.jsx(Zrt,{onResolve:U,onReject:$,connector:D,expectedAddress:C,activeAddress:M}))}),[l]),k=x.useCallback(T=>de(void 0,[T],void 0,function*({handler:D,network:M,walletConnector:C}){yield d(U=>f.jsx(Xrt,{network:M,walletConnector:C,onCancel:U,onNetworkAdded:U,addNetworkMutation:D}))}),[d]),_=x.useCallback(T=>de(void 0,[T],void 0,function*({session:D}){return yield h((M,C)=>f.jsx(pit,{session:D,onCancel:C,onApproved:()=>M(!0)}))}),[h]),R=x.useCallback(()=>{t.current="disabled"},[]),I=x.useMemo(()=>({addNetwork:k,disabledConfirmationOnce:R,sendTransaction:y,signMessage:v,signTransaction:g,syncWallet:b,zkSyncCreateSession:_}),[v,g,R,y,b,k,_]);return x.useMemo(()=>[o||r||a||c||u,I],[o,r,a,c,u,I])},git=(e,t,n)=>{const r=_ae(),{registerEmbeddedWalletSessionKey:i,removeSessionKey:o}=Km({environmentId:t,projectSettings:n}),{getSignedSessionId:s}=uj(),a=nue(),l=n&&XM();e!=null&&e.length&&e.forEach(c=>{var d,u,h,m,v;Pa(c.walletConnector)?((d=c.walletConnector)===null||d===void 0||d.setSessionKeyFetcher(i),(u=c.walletConnector)===null||u===void 0||u.setSessionKeyRemoveFunction(()=>o())):fS(c.walletConnector)&&rue({apiBaseUrl:r??dj,authMode:l?"cookie":"header",environmentId:t,getMfaToken:a,getSignedSessionId:s,relayUrl:(v=(m=(h=n==null?void 0:n.sdk)===null||h===void 0?void 0:h.waas)===null||m===void 0?void 0:m.relayUrl)!==null&&v!==void 0?v:"",walletConnector:c.walletConnector})})},yit=({settings:e,environmentId:t})=>{Qh(()=>{const n={settings:Object.assign(Object.assign({},e),{customPrivacyPolicy:!!e.customPrivacyPolicy,customTermsOfServices:!!e.customTermsOfServices,policiesConsentInnerComponent:!!e.policiesConsentInnerComponent})},r=vit(e.events),i=Lfe(e.walletConnectors),o=Object.assign(Object.assign({},n),{settings:Object.assign(Object.assign({},n.settings),{events:r,walletConnectors:i})});jfe(t,{dynamicContextProps:o,frameworkSettings:wit()})})},vit=e=>{try{if(!e)return;const t=Object.values(e);return Object.keys(e).filter((r,i)=>t[i]===void 0?!1:r)}catch(t){Ie.error("error serializing events",t);return}},wit=()=>{var e;return{nextJs:{version:(e=window.next)===null||e===void 0?void 0:e.version},react:{version:x.version}}};let _Y=!1;const bit=({suppress:e=!1,projectSettings:t})=>{x.useEffect(()=>{var n;!e&&!_Y&&(t==null?void 0:t.environmentName)===oS.Live&&(_Y=!0,Ie.info("%cWarning!","color: red; font-size: 32px;"),Ie.info(`%cThis is a browser feature intended for developers. You are reading this message because you opened the browser console, a developer tool.

%c1. Never share your tokens or sensitive information with anyone.
2. Do not paste any code you do not fully understand.
3. If someone instructed you to do this, it is likely a scam.

%cInjecting code into your browser could result in loss of tokens or control of your account that cannot be recovered or protected.`,"font-size: 16px;","font-size: 12px;","color: red; font-size: 12px;"),!((n=t==null?void 0:t.general)===null||n===void 0)&&n.supportUrls&&Object.values(t.general.supportUrls).length>0&&Ie.info(`%cFor more information, visit ${Object.values(t.general.supportUrls)[0]}`,"font-size: 12px;"))},[t==null?void 0:t.environmentName,e])},_it="modulepreload",xit=function(e){return"/"+e},xY={},gb=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(c=>{if(c=xit(c),c in xY)return;xY[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":_it,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},kit=()=>{const[e,t]=nv(aae,void 0),n=e!==""&&e!==void 0;vr(()=>de(void 0,void 0,void 0,function*(){if(!(typeof window>"u"||typeof document>"u"))return gb(()=>import("./thumbmark.esm-Ca_gir3-.js"),[]).then(i=>i.getFingerprint()).catch(()=>{})}),{deps:[n],enabled:!n,initialData:void 0,onResolve:t,retries:2});const r=x.useCallback(()=>e,[e]);return{consumeDeviceFingerprint:()=>r()}},Sit=()=>{const{userWallets:e}=_s(),t=n=>n.find(r=>r.id===Fd());Un("walletAdded",(n,r)=>{rt.emit("userWalletsChanged",{addedWallet:n,primaryWallet:t(r),updateType:"walletAdded",userWallets:r})}),Un("walletRemoved",(n,r)=>{rt.emit("userWalletsChanged",{primaryWallet:t(r),removedWallet:n,updateType:"walletRemoved",userWallets:r})}),Un("primaryWalletChanged",n=>{rt.emit("userWalletsChanged",{primaryWallet:n,updateType:"primaryWalletChanged",userWallets:e})}),Un("primaryWalletNetworkChanged",n=>{rt.emit("userWalletsChanged",{newNetwork:n,primaryWallet:t(e),updateType:"primaryWalletNetworkChanged",userWallets:e})}),Un("nonPrimaryWalletNetworkChanged",(n,r)=>{const i=e.filter(o=>o.connector.key===r.key);rt.emit("userWalletsChanged",{affectedWallets:i,newNetwork:n,primaryWallet:t(e),updateType:"nonPrimaryWalletNetworkChanged",userWallets:e})})},Iit=(e,{shouldRegisterSessionKeysOnSignin:t,generateSessionKey:n})=>(r,i)=>de(void 0,void 0,void 0,function*(){const o=yield HYe({captchaToken:i,email:r,environmentId:e});let{verificationUUID:s}=o;return{retry:()=>de(void 0,void 0,void 0,function*(){s=(yield Kue({email:r,environmentId:e,verificationUUID:s})).verificationUUID}),type:"email",verify:(a,l)=>de(void 0,void 0,void 0,function*(){let c;t()&&(c=(yield n()).publicKey),yield Fc();const d=yield Vue({captchaToken:i,environmentId:e,sessionPublicKey:c,verificationToken:a,verificationUUID:s});return l!=null&&l.skipSetUserAndAuthToken||Ii(d),{destination:r,response:d,verified:!0}})}}),Eit=(e,{shouldRegisterSessionKeysOnSignin:t,generateSessionKey:n})=>(r,i)=>de(void 0,void 0,void 0,function*(){const{verificationUUID:o}=yield Hue({captchaToken:i,environmentId:e,isoCountryCode:r.iso2,phoneCountryCode:r.dialCode,phoneNumber:r.phone});return{type:"sms",verify:(s,a)=>de(void 0,void 0,void 0,function*(){let l;t()&&(l=(yield n()).publicKey),yield Fc();const c=yield Gue({captchaToken:i,environmentId:e,sessionPublicKey:l,verificationToken:s,verificationUUID:o});return a!=null&&a.skipSetUserAndAuthToken||Ii(c),{destination:r,response:c,verified:!0}})}}),{Provider:Cit}=Kce,Ait=({children:e})=>{const{environmentId:t,projectSettings:n,setCallback:r,setShowAuthFlow:i}=je(),{engageCaptcha:o}=Hd(),s=Km({environmentId:t,projectSettings:n}),a=x.useRef(null),l=(n==null?void 0:n.providers)||[],c={[pn.Dynamic]:{enabled:Dc(l,pn.Dynamic),handler:Iit(t,s)}},d=y=>new Promise(g=>{var b;if(!(!((b=n==null?void 0:n.security.hCaptcha)===null||b===void 0)&&b.enabled)){g(void 0);return}i(!0,{initializeWalletConnect:!1,performMultiWalletChecks:!1}),o({authMethod:y,onCaptchaSuccess:k=>de(void 0,void 0,void 0,function*(){g(k),i(!1)})})}),u=(y,...g)=>de(void 0,[y,...g],void 0,function*(b,k={}){var _;if(!Lue(b))throw new Error("Email is not valid");const R="dynamic";if(!c[R].enabled)throw new Error("Email provider is not enabled");const I=(_=k.captchaToken)!==null&&_!==void 0?_:yield d("email"),T=yield c[R].handler(b,I);a.current=T}),h=(y,...g)=>de(void 0,[y,...g],void 0,function*(b,k={}){var _;if(!Dc(l,pn.Sms))throw new Error("SMS provider is not enabled");const R=Eit(t,s),I=(_=k.captchaToken)!==null&&_!==void 0?_:yield d("phone"),T=yield R(b,I);a.current=T}),m=(y,g)=>de(void 0,void 0,void 0,function*(){if(!a.current)throw new Error("Verification has not started, use connectWithEmail or connectWithSms before verifying");const{type:b,verify:k}=a.current,{destination:_,response:R,verified:I}=yield k(y,g);return b==="sms"?rt.emit("smsVerificationResult",I,_):rt.emit("emailVerificationResult",I,_),g!=null&&g.skipSetUserAndAuthToken||r("authSuccess"),R}),v=()=>de(void 0,void 0,void 0,function*(){if(!a.current)throw new Error("Verification has not started, use connectWithEmail or connectWithSms before verifying");if(!a.current.retry)throw new Error("Re-send is not supported");return a.current.retry()});return f.jsx(Cit,{value:{connectWithEmail:u,connectWithSms:h,retryOneTimePassword:v,verifyOneTimePassword:m},children:e})},Rit=({handler:e}={})=>{const{setShowAuthFlow:t,userWithMissingInfo:n,sdkHasLoaded:r,setSelectedWalletConnectorKey:i}=je(),{pushView:o}=At(),{updateUser:s}=Xue({validationSchemaStripUnknown:!1}),{completeAuth:a,handleAuthError:l}=of({}),{displayedDestination:c}=Kc(),d=x.useRef(!1);Un("logout",()=>{d.current=!1}),x.useEffect(()=>{var u;const h=()=>de(void 0,void 0,void 0,function*(){var v;if(!(!e||!(!((v=n==null?void 0:n.missingFields)===null||v===void 0)&&v.length))){d.current=!0;try{const y=n.missingFields.map(_=>({isCustom:_.type==="custom",key:_.name,label:_.label,required:_.required})),g=yield e(y),b={},k=Object.assign({},n==null?void 0:n.metadata);g.forEach(_=>{_.isCustom?k[_.key]=_.value:b[_.key]=_.value}),yield a({updateJwtFunction:()=>de(void 0,void 0,void 0,function*(){return s(Object.assign(Object.assign({},b),{metadata:k}))})})}catch(y){Ie.error("Error handling user onboarding",y),l(y,{})}}}),m=()=>de(void 0,void 0,void 0,function*(){d.current=!0,t(!0);const v=n==null?void 0:n.verifiedCredentials.find(y=>y.id===(n==null?void 0:n.lastVerifiedCredentialId));switch(v!=null&&v.walletName&&i({chain:v!=null&&v.chain?ec[v.chain]:void 0,key:v==null?void 0:v.walletName}),v==null?void 0:v.format){case Zo.Email:case Zo.Oauth:o("collect-user-data-login-no-wallet",{userIdentification:"email"});break;case Zo.PhoneNumber:o("collect-user-data-login-no-wallet",{userIdentification:"phoneNumber",userIdentificationOverride:c});break;default:o("collect-user-data")}});if(!(!r||d.current||!(!((u=n==null?void 0:n.missingFields)===null||u===void 0)&&u.length)||p_(n))){if(e){h();return}m()}},[r,n,e,a,s,t,o,c,l,i])},Tit=({handler:e}={})=>{const{setShowAuthFlow:t,userWithMissingInfo:n,sdkHasLoaded:r}=je(),i=fde(),{clearStackAndPush:o}=At(),s=x.useRef(!1);Un("logout",()=>{setTimeout(()=>{s.current=!1},0)}),x.useEffect(()=>{var a;if(!(!r||s.current)&&!(!n||!p_(n))){if(s.current=!0,e){t(!1),e();return}t(!0),!((a=n.scope)===null||a===void 0)&&a.includes("requiresAdditionalAuth")?i():o("mfa-display-backup-codes")}},[i,r,t,n,e,o])},Oit=()=>{const e=iv(),t=vo(),n=pD(),{loading:r}=hv();return x.useCallback(()=>!(e&&Js().user)?{isValid:!1,reason:"User not authenticated"}:t?n.length?r?{isValid:!1,reason:"Authentication in progress"}:{isValid:!0}:{isValid:!1,reason:"No wallet connectors available"}:{isValid:!1,reason:"Project settings not loaded"},[e,t,n,r])},Nit=()=>{const{setShowAuthFlow:e}=je(),{clearStackAndPush:t}=At(),{createWalletAccount:n}=tp(),r=iv(),i=qm();return Xo(o=>de(void 0,void 0,void 0,function*(){const s=Date.now(),a=o.map(l=>l.chain).join(",");Ie.instrument("Auto wallet creation initiated",{chainCount:o.length,chains:a,environmentId:i,key:"auto_wallet_creation_initiated",time:0,userId:r==null?void 0:r.id});try{yield n(o);const l=Date.now()-s;Ie.instrument("Auto wallet creation successful",{chainCount:o.length,chains:a,environmentId:i,key:"auto_wallet_creation_success",time:l,userId:r==null?void 0:r.id})}catch(l){const c=Date.now()-s;throw Ie.instrument("Auto wallet creation failed",{chainCount:o.length,chains:a,environmentId:i,error:l instanceof Error?l.message:"Unknown error",key:"auto_wallet_creation_failed",time:c,userId:r==null?void 0:r.id}),l}}),{onFailure:o=>{Ie.error("Error creating dynamic waas wallet",o),e(!0),t("backup-unsuccessful")}})},Pit=()=>{const{processSignOnWalletSettings:e}=tp();return Xo(()=>de(void 0,void 0,void 0,function*(){yield e()}),{onFailure:t=>{Ie.error("Error processing wallet settings",t)}})},Bit=()=>{const{needsAutoCreateWalletChains:e,needsSettingsProcessing:t,initializeWaas:n,shouldInitializeWaas:r}=tp(),i=Oit(),{mutate:o,isLoading:s}=Nit(),{mutate:a,isLoading:l}=Pit(),{initDelegationProcess:c,shouldPromptWalletDelegation:d}=$P(),u=iv(),h=x.useRef(!1),m=x.useRef(!1),v=x.useRef(!1),y=x.useRef(void 0),g=x.useRef(!1);Un("logout",()=>{h.current=!1,m.current=!1});const b=x.useCallback(()=>h.current||s||!(e!=null&&e.length)?!1:i().isValid,[e,i,s]),k=x.useCallback(()=>m.current||l||!t?!1:i().isValid,[t,i,l]),_=x.useCallback(()=>{k()&&(a(),m.current=!0)},[k,a]);x.useEffect(()=>{k()&&_()},[k,_]);const R=x.useCallback(()=>{!b()||!e||(Ie.debug("Auto wallet creation triggered",{chainCount:e.length,chains:e.map(I=>I.chain)}),o(e),h.current=!0)},[b,e,o]);x.useEffect(()=>{if(y.current&&!(u!=null&&u.sessionId)&&(y.current=void 0,v.current=!1,g.current=!1),r&&(u!=null&&u.sessionId)){const{sessionId:I,id:T}=u;if(!g.current&&(!v.current||y.current!==I)){const M=y.current!==I;Ie.debug(M?"[useSyncDynamicWaas] session id changed, initializing waas":"[useSyncDynamicWaas] waas not initialized, initializing waas"),g.current=!0,n().then(()=>{Ie.debug("[useSyncDynamicWaas] waas initialized"),v.current=!0,y.current=I}).catch(C=>{Ie.warn("[useSyncDynamicWaas] Error initializing waas",{error:C,sessionId:I,userId:T})}).finally(()=>{g.current=!1})}}},[n,r,u]),x.useEffect(()=>{b()&&R()},[b,R]),x.useEffect(()=>{d()&&c()},[d,c])},Mit=()=>(Rit(),Bit(),lfe(),Tit(),null),Dit=({connectorProps:e})=>{const{primaryWallet:t}=je(),{handleWalletItemClick:n}=np(),r=Sfe(),i=x.useRef([]),o=x.useRef(),s=x.useRef([]),a=x.useRef(),l=d=>{setTimeout(()=>{d()},0)},c=x.useMemo(()=>{var d,u;if(!(!e.projectSettings||!e.networkConfigurations||!g0(e.walletBook)))return ase(Object.assign(Object.assign({},e),{chainRpcProviders:Jb,redirectUrl:r,settings:e.projectSettings,walletConnectProjectId:(u=(d=e.projectSettings)===null||d===void 0?void 0:d.sdk.walletConnect)===null||u===void 0?void 0:u.projectId}))},[e,r]);return x.useEffect(()=>{const d=()=>{i.current.length!==0&&(Ie.debug("[WalletConnectorEvents] processPendingConstructors",{pendingConstructors:i.current}),i.current.forEach(h=>{if(!c)return;const m=new h(c);Ie.debug("[WalletConnectorEvents] handleProviderInjected",{injectedConnector:m}),Hl.emit("providerReady",{connector:m})}),i.current=[])},u=({injectedConnectorConstructor:h})=>{i.current.push(h),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{d()},100)};return Hl.on("providerInjected",u),()=>{Hl.off("providerInjected",u),o.current&&clearTimeout(o.current),d()}},[c]),x.useEffect(()=>{const d=()=>{if(s.current.length===0)return;Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] processReadyConnectors",{connectors:s.current});const m=[...x3()];let v;s.current.forEach(({connector:y,shouldAutoConnect:g})=>{let b=!1;for(let k=0;k<m.length;k++){const _=m[k].key===y.key,R=!m[k].walletConnector.isWalletConnect&&y.isWalletConnect;if(_&&!R&&(m[k]=Object.assign(Object.assign({},m[k]),{isInstalledOnBrowser:y.isInstalledOnBrowser(),walletConnector:y})),_){b=!0;break}}if(!b){const k=dse(e.walletBook,y);m.push(k)}g&&(v=m.find(k=>k.key===y.key&&!k.walletConnector.isWalletConnect))}),Ale(m),s.current=[],Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] processReadyConnectors",{walletOptionToAutoConnect:v}),v&&!t&&n(v)},u=h=>{Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] handleProviderReady",h),s.current.push(h),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{d()},100)};if(g0(e.walletBook))return Hl.on("providerReady",u),()=>{Hl.off("providerReady",u),a.current&&clearTimeout(a.current),d()}},[e.walletBook,n]),x.useEffect(()=>{const d=h=>{Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] handleConnectorInitStarted",{key:h}),l(()=>{AG(h,!0)})},u=h=>{Ie.logVerboseTroubleshootingMessage("[WalletConnectorEvents] handleConnectorInitCompleted",{key:h}),l(()=>{AG(h,!1)})};return Hl.on("connectorInitStarted",d),Hl.on("connectorInitCompleted",u),()=>{Hl.off("connectorInitStarted",d),Hl.off("connectorInitCompleted",u)}},[]),null},zfe=({authMode:e})=>e==="connect-and-sign"||rr(),jit=["light","dark","auto"],$it=e=>jit.includes(e),Lit=(e,t)=>$it(e)?TO(t,e):e,Uit={idle:["linking_new_wallet","primary_not_connected","switching_primary"],linking_new_wallet:["idle"],primary_not_connected:["idle"],switching_primary:["idle"]},Fit=({from:e,to:t})=>{if(e!==t&&!Uit[e].includes(t))throw new Error(`Invalid AccountSwitch state transition from ${e} to ${t}`);return!0},Wit=e=>{if(e!=="awaiting_account_switch")throw new Error(`Invalid MultiWalletWidget state while trying to set AccountSwitch state: ${e}
Expected: awaiting_account_switch`)},qit=()=>{const[e,t]=x.useState("idle"),n=x.useCallback(()=>{t("idle")},[t]),r=x.useCallback((i,o)=>{Wit(o),Fit({from:e,to:i}),t(i)},[e]);return[e,r,n]},zit={idle:["linking_new_wallet","transferring_wallet"],linking_new_wallet:["idle"],transferring_wallet:["idle"]},Vit=({from:e,to:t})=>{if(e!==t&&!zit[e].includes(t))throw new Error(`Invalid AwaitingSignature state transition from ${e} to ${t}`);return!0},Kit=e=>{if(e!=="awaiting_signature")throw new Error(`Invalid MultiWalletWidget state while trying to set AwaitingSignature state: ${e}
Expected: awaiting_signature`)},Hit=()=>{const[e,t]=x.useState("idle"),n=x.useCallback(()=>{t("idle")},[t]),r=x.useCallback((i,o)=>{Kit(o),Vit({from:e,to:i}),t(i)},[e]);return[e,r,n]},Git={awaiting_account_switch:["awaiting_signature","idle"],awaiting_connection:["idle"],awaiting_signature:["idle"],detected_new_wallet:["awaiting_signature","idle"],idle:["awaiting_account_switch","awaiting_connection","awaiting_signature","detected_new_wallet"]},Jit=({from:e,to:t})=>{if(e!==t&&!Git[e].includes(t))throw new Error(`Invalid MultiWalletWidget state transition from ${e} to ${t}`);return!0},Zit=()=>{const[e,t]=x.useState("idle"),[n,r,i]=qit(),[o,s,a]=Hit(),l=x.useCallback(()=>{i(),a()},[i,a]),c=x.useCallback((d,u,h)=>{Jit({from:e,to:d}),t(d),l(),u&&r(u,d),h&&s(h,d)},[e,l,r,s]);return[e,c,{awaiting_account_switch:[n,r],awaiting_signature:[o,s]}]},Yit=({connectors:e})=>{const t=x.useCallback(()=>{if(!(typeof window>"u")){for(const n of ot.getKeys())(n.startsWith("walletconnect")||n.startsWith("walletlink")||n.startsWith("wc@2"))&&localStorage.removeItem(n);e==null||e.forEach(n=>{var r,i,o;!((i=(r=n==null?void 0:n.name)===null||r===void 0?void 0:r.toLowerCase())===null||i===void 0)&&i.startsWith("turnkey")&&((o=n.getAuthenticatorHandler())===null||o===void 0||o.clear(),ot.removeItem(v0),ot.removeItem(dae))})}},[e]);return x.useEffect(()=>{if(typeof window>"u"||e.length===0)return;const n=new Set(e.map(r=>r.key));for(const r of ot.getKeys())r.startsWith("walletconnect")&&!n.has(r.replace("walletconnect-",""))&&localStorage.removeItem(r)},[e]),{clearAllWalletConnectSessions:t}},Xit=({address:e,connectorKey:t,chain:n})=>`${t}-${e}-${n}`,Qit=e=>{const t=Object.values(nr).find(n=>n===e);if(!t)throw new Se(`Invalid chain ${e}`);return t},eot=e=>{const t=Object.values(Ao).find(n=>n===e);if(!t)throw new Se(`Invalid provider ${e}`);return t},tot=e=>{const t=Object.values(lO).find(n=>n===e);if(!t)throw new Se(`Invalid authMode ${e}`);return t},not=e=>de(void 0,[e],void 0,function*({authMode:t,chain:n,environmentId:r,walletProvider:i,publicWalletAddress:o,walletName:s}){try{const a={address:o,authMode:tot(t),chain:Qit(n),provider:eot(i),walletName:s};yield cn().createVisit({connectRequest:a,environmentId:r})}catch(a){yield Tr(a,"Error creating visit")}}),rot=e=>{var t,n;if(!e)return;const r=x3(),{key:i,chain:o}=e,s=(t=r.find(l=>i===l.key&&l.walletConnector.connectedChain===o))===null||t===void 0?void 0:t.walletConnector;return s||((n=r.find(l=>l.key==="fallbackconnector"))===null||n===void 0?void 0:n.walletConnector)};class iot extends Se{constructor(t){super(`Connection was not established because handleConnectedWallet returned false for wallet connector ${t.key}`),this.walletConnector=t}}const oot=(e,t)=>{const n=[...e],r=new Set,i=new Set;for(const o of t)r.add(o.address),i.add(o.chain),n.find(a=>a.address===o.address&&a.chain===o.chain)||n.push(o);return n.filter(o=>r.has(o.address)&&i.has(o.chain)||o.isAuthenticated)},sot=({enableVisitTrackingOnConnectOnly:e,environmentId:t,primaryWalletId:n,walletConnectorOptions:r,handleConnectedWallet:i,setShowAuthFlow:o,isBridgeFlow:s})=>{const a=Cae(),[l,c]=x.useState([]),{setUserWallets:d,addedWalletsIds:u,removedWalletsIds:h}=_s(),m=x.useCallback(I=>{c(T=>T.length===0&&I.length===0?T:I),d(T=>oot(T,I))},[d]),v=x.useCallback(I=>de(void 0,void 0,void 0,function*(){const T=l.find(C=>C.id===I);yield T==null?void 0:T.connector.endSession();const D=a.filter(C=>C.id!==I);if(AO(D),h.current.push(I),I!==n)return;const M=D.length>0;s||!M?Sae():To(D[0].id)}),[l,a,s,n,h]),y=mue(()=>de(void 0,void 0,void 0,function*(){const I=r.map(D=>D.walletConnector);if(!I.length)return;const T=(yield Promise.all(a.map(D=>de(void 0,void 0,void 0,function*(){const M=oq(I,D.walletConnectorKey,D.walletChain);if(!M)return Jn.error("Could not find walletConnector: "+D.walletConnectorKey),yield v(D.id),null;Ph(M)&&D.hardwareWallet===p0.Ledger&&(M.isHardwareWalletEnabled=!0);const[C]=yield M.getConnectedAccounts();if(!C)return yield v(D.id),null;const U=yield M.getAdditionalAddresses(C),$=M.connectedChain;return M.createWallet({additionalAddresses:U,address:C,chain:$,connector:M,id:D.id,isAuthenticated:!1,key:M.key})})))).filter(D=>!!D);m(T)}),300);x.useEffect(()=>{y()},[a,r]);const g=x.useCallback((I,T)=>{var D;const M=[...l],C=M.findIndex(U=>U.id===I);C<0||(M[C]=M[C].connector.createWallet(Object.assign(Object.assign({},M[C]),{address:(D=T.address)!==null&&D!==void 0?D:M[C].address,connector:rot(M[C])})),m(M))},[l,m]),b=x.useCallback(({walletId:I,walletConnectorKey:T,walletChain:D,provider:M})=>{const C=[...a],U=r.map(q=>q.walletConnector),$=oq(U,T,D),z=$&&Ph($)&&$.isHardwareWalletEnabled?p0.Ledger:void 0;C.push({hardwareWallet:z,id:I,provider:M,walletChain:D,walletConnectorKey:T}),AO(C)},[a,r]),k=(I,T)=>de(void 0,void 0,void 0,function*(){Ffe(T)&&(yield T.connect());const D=yield T.getAddress();if(D&&i&&!(yield i({address:D,chain:T.connectedChain,connector:T}))){Jn.info("Connection was not established because handleConnectedWallet returned false"),v(I),o(!1,{emitCancelAuth:!0});return}g(I,{address:D})}),_=x.useCallback((I,T,D)=>de(void 0,void 0,void 0,function*(){const{applyHandleConnectedWallet:M=!0}=D??{};let C;try{C=yield I.getAddress(T)}catch(A){throw A instanceof u0?(rt.emit("walletConnectionFailed",I,A),A):(rt.emit("walletConnectionFailed",I,A),new sO)}if(!C){const A=new sO;throw rt.emit("walletConnectionFailed",I,A),A}if(i&&M&&!(yield i({address:C,chain:I.connectedChain,connector:I}))){Jn.info("Connection was not established because handleConnectedWallet returned false"),o(!1),rt.emit("walletConnectionFailed",I,new iot(I));return}const U=a.some(({walletConnectorKey:A})=>A===I.key),$=I.connectedChain,z=wl();if(!U&&(z!=="connect-only"||e)&&not({authMode:z,chain:$||"",environmentId:t,publicWalletAddress:C,walletName:I.key,walletProvider:Hb(I)}),!uv())return{address:C,id:""};const S=Xit({address:C,chain:I.connectedChain,connectorKey:I.key});return n||To(S),u.current.push(S),U?yield y():b({provider:Hb(I),walletAddress:C,walletChain:$,walletConnectorKey:I.key,walletId:S}),{address:C,id:S}}),[u,b,a,e,t,i,n,o,y]),R=x.useCallback(I=>l.find(T=>T.id===I),[l]);return{connectWallet:_,connectedWallets:l,connectedWalletsInfo:a,disconnectWallet:v,getConnectedWalletById:R,refreshConnectedWallet:k}},aot=e=>({walletsForChainsMap:x.useMemo(()=>e?Object.assign(Object.assign({},z5),{primary_chain:e.primary_chain,wallets:Object.assign(Object.assign({},z5.wallets),!!e.wallets&&e.wallets)}):z5,[e])}),lot=e=>e.verifiedCredentials.find(t=>t.id===e.lastVerifiedCredentialId),cot=()=>s3("initStatus"),dot=({connectedInfo:e,connectedWallets:t,projectSettings:n,primaryWalletId:r,primaryWallet:i,user:o,walletBook:s,enableInstrumentation:a,appName:l,environmentId:c,nonce:d})=>{var u;const h=x.useRef(!1),m=x.useRef(new Date().getTime()),v=x.useRef(!1),y=cot();v.current||(v.current=!0,Br.logEvent("sdk-react-core.initialization","sdk-mounted"));const{sessionValidation:g}=hae(),b=Xu(),k=x.useMemo(()=>zfe({authMode:b})&&!d,[b,d]),_=()=>{if(!h.current&&(h.current=!0,Ie.debug("[useGlobalLoading] SDK finished loading",{authMode:b,enableInstrumentation:a,primaryWallet:i,user:o}),Br.logEvent("sdk-react-core.initialization","sdk-loaded"),a)){const $=new Date().getTime()-m.current;Ie.instrument(`SDK loaded in (ms) ${$}`,{appName:l,environmentId:c,key:"sdkHasLoaded",primaryWalletId:r,time:$,userId:o==null?void 0:o.userId})}};if(h.current)return!0;const R=!g0(s),I=y==="uninitialized"||y==="in-progress",T=!n,M=!!((r||o&&((u=lot(o))===null||u===void 0?void 0:u.format)==="blockchain")&&!i),C=b==="connect-only"&&e&&t.length===0,U=!g;return Ie.logVerboseTroubleshootingMessage("[useGlobalLoading] SDK loading",{isConnectOnlyWalletsLoading:C,isFetchingNonce:k,isPrimaryWalletLoading:M,isProjectSettingsLoading:T,isValidatingSession:U,isWalletBookLoading:R,javascriptSDKInitStatus:y}),!R&&!T&&!M&&!C&&!U&&!k&&!I&&_(),h.current},uot=({disconnectWallet:e,handleLogOut:t,multiWallet:n,multiWalletWidgetState:r,primaryWallet:i,secondaryWallets:o,selectedWalletConnector:s,selectedWalletWithAction:a,setSelectedWalletConnectorKey:l,setSelectedWalletWithAction:c,setMultiWalletWidgetState:d,user:u,refreshConnectedWallet:h,detectNewWalletsForLinking:m})=>{const v=x.useCallback((b,k)=>{Ie.debug("handleAccountChangeWhenAwaitingAccountSwitch",{isPrimaryWallet:b,newAddress:k});const _=o.find(R=>$a(R.address,k,R.chain));if(Ie.logVerboseTroubleshootingMessage("[handleAccountChangeWhenAwaitingAccountSwitch]",{linkedSecondaryWallet:_}),!_){d("awaiting_signature",void 0,"linking_new_wallet"),b&&i&&l({chain:i.connector.connectedChain,key:i.connector.key});return}if(!_.connector.isAvailable){rt.emit("triggerConnectAndSign");return}c(null),To(_.id),d("idle")},[d,i,o,l,c]),y=x.useCallback(({accounts:b})=>{const k=wl();if(Ie.debug("calculatePrimaryWalletMultiWalletStateFromAccounts",{accounts:b,authMode:k,multiWallet:n,multiWalletWidgetState:r,primaryWallet:i}),!i)return;const[_]=b;if(!!$a(_,i.address,i.chain)){d("idle");return}if(k==="connect-only"){h(i.id,i.connector);return}if(!n)return;if(r==="awaiting_account_switch"){v(!0,_);return}r!=="idle"&&(Ie.error(`Unexpected multiWalletWidgetState (${r}) and onAccountChange combination. Resetting state to idle.`),d("idle"));const I=o.find(T=>$a(T.address,_,T.chain));if(I){To(I.id);return}u&&m&&(d("detected_new_wallet"),l({chain:i.connector.connectedChain,key:i.connector.key}))},[m,v,n,r,i,h,o,d,l,u]);Un("triggerComputePrimaryWalletMultiWalletStateFromAccounts",y),Ru(i==null?void 0:i.connector,"accountChange",({accounts:b})=>{Ie.debug("primary wallet account change",{accounts:b}),y({accounts:b})});const g=x.useMemo(()=>{const b=i==null?void 0:i.connector,k=o.map(({connector:R})=>R),_=new Set([...k,b,s].filter(R=>!!R));return b&&_.delete(b),Array.from(_)},[o,s,i==null?void 0:i.connector]);Ru(g,"accountChange",(b,k)=>de(void 0,void 0,void 0,function*(){if(Ie.debug("secondary wallet account change"),wl()==="connect-only"&&o.length){const R=o.filter(({connector:I})=>I.key===k.key);for(const I of R)h(I.id,I.connector);return}r==="awaiting_account_switch"&&v(!1,(a==null?void 0:a.wallet.address)||"")})),Ru(i==null?void 0:i.connector,"disconnect",()=>{Ie.debug("primary wallet disconnect"),wl()==="connect-only"&&t()}),Ru(g,"disconnect",b=>{if(Ie.debug("secondary wallet disconnect"),wl()==="connect-only"){const _=o.filter(({connector:R})=>R.key===b.key);for(const R of _)e(R.id)}}),Ru(g,"chainChange",({chain:b},k)=>{rt.emit("nonPrimaryWalletNetworkChanged",b,k)})},fot=({settingsOverrides:e})=>{var t,n,r,i;const o=(t=e==null?void 0:e.views)===null||t===void 0?void 0:t.find(d=>d.type==="wallet-list"),[s,a]=x.useState(0),l=x.useCallback(d=>{const u=h=>{var m,v;const y=(m=o==null?void 0:o.tabs)===null||m===void 0?void 0:m.items[h];if(!y){Ie.error(`Tab with index ${h} not found. Available tabs: ${JSON.stringify((v=o==null?void 0:o.tabs)===null||v===void 0?void 0:v.items)}`);return}return rt.emit("walletTabSelected",{index:h,tab:y}),h};if(typeof d=="number"){const h=u(d);h!==void 0&&a(h);return}a(h=>{var m;const v=d(h);return(m=u(v))!==null&&m!==void 0?m:h})},[(n=o==null?void 0:o.tabs)===null||n===void 0?void 0:n.items]),c=s===null||(r=o==null?void 0:o.tabs)===null||r===void 0?void 0:r.items[s];return{selectedTabIndex:s,selectedTabSettings:c,setSelectedTabIndex:l,tabsItems:(i=o==null?void 0:o.tabs)===null||i===void 0?void 0:i.items}},hot=Vt.createContext(void 0),kY="wallets",pot=({children:e})=>{const t=x.useRef(null),n=x.useRef(null),[r,i]=x.useState(kY),o=x.useCallback(()=>{i(kY)},[]),s=x.useCallback(()=>{i("profile")},[]),a={bridgeWidgetView:r,events:{onDynamicBridgeWidgetClose:o},goToProfileView:s,inlineControlsRef:n,setBridgeWidgetView:i,widgetRef:t};return f.jsx(hot.Provider,{value:a,children:e})},mot=x.forwardRef(({children:e},t)=>f.jsx("div",{ref:t,className:"dynamic-widget-card",children:e}));mot.displayName="DynamicWidgetCard";const got=x.createContext(null),yot=({children:e})=>{const[t,n]=x.useState({}),r=x.useCallback((s,a)=>{n(l=>Object.assign(Object.assign({},l),{[s]:{type:a}}))},[n]),i=x.useCallback(s=>{n(a=>{const l=Object.assign({},a);return delete l[s],l})},[n]),o=x.useCallback(s=>Object.values(t).some(a=>a.type===s),[t]);return f.jsx(got.Provider,{value:{checkWidgetPresence:o,registerId:r,removeId:i},children:e})},vot=()=>{const{showOnramp:e,selectedOnramp:t,onrampEnabled:n,setShowOnramp:r}=mde(),[i,o]=x.useState(null);return mD(i,()=>r(!1)),n&&t&&t.openMode==="iframe"&&t.url?f.jsx(E_,{children:f.jsxs(v_,{isShown:e,children:[f.jsx("div",{className:"onramp-widget__backdrop","aria-hidden":"true","data-testid":"onramp-widget-backdrop"}),f.jsx("div",{className:"onramp-widget__modal",children:f.jsx("iframe",{id:"onramp-iframe",src:t.url,allow:"camera *;geolocation *",title:"Crypto Onramp",ref:o,"data-testid":"onramp-widget-modal"})})]})}):null},wot="ERROR_BOUNDARY_CONTEXT_NOT_FOUND",Vfe=x.createContext(null);function Kfe(e){if(e===null||typeof e.hasError!="boolean"||typeof e.error!="object"||typeof e.isDynamicSdkError!="boolean"){const t=new Error("ErrorBoundaryContext not found");throw t.cause=wot,t}}class Mj extends x.Component{static getDerivedStateFromError(t){return{error:t,hasError:!0}}renderOrError(t,{isDynamicSdkError:n}){try{Kfe(this.context),this.context.isDynamicSdkError=n}catch(r){return Ie.error(r),x.createElement(Lr,null,"ErrorBoundary must be used within ErrorBoundaryContext")}return t}}Mj.contextType=Vfe;class bot extends Mj{constructor(t){super(t),this.state={error:null,hasError:!1}}componentDidCatch(t,n){var r;const{onError:i}=this.props;throw!((r=this.context)===null||r===void 0)&&r.isDynamicSdkError&&(i==null||i(t,n),Ie.error(t,{error:{bundleStack:t.stack,message:t,stack:n.componentStack}})),t}render(){const{children:t}=this.props,{hasError:n,error:r}=this.state;return n?(Kfe(this.context),this.context.error=r,this.context.hasError=n,null):t}}const _ot=e=>{var{children:t}=e,n=bs(e,["children"]);return f.jsx(Vfe.Provider,{value:{error:null,hasError:!1,isDynamicSdkError:!0},children:f.jsx(bot,Object.assign({},n,{children:t}))})};class xot extends Mj{render(){const{children:t}=this.props;return this.renderOrError(t,{isDynamicSdkError:!1})}}const kot=({wallet:e})=>{var t,n,r,i,o,s,a;const l=e.connector.connectedChain,c=(o=(i=(r=(n=(t=rv())===null||t===void 0?void 0:t.sdk.funding)===null||n===void 0?void 0:n.externalWallets)===null||r===void 0?void 0:r.defaultSettings)===null||i===void 0?void 0:i.chainSettings)===null||o===void 0?void 0:o.find(({chain:d})=>d===l);if(!(!((s=c==null?void 0:c.token)===null||s===void 0)&&s.value)||!(!((a=c==null?void 0:c.token)===null||a===void 0)&&a.rule))throw new Se(`No wallet funding chain settings found for chain ${l}`);return{token:{rule:c.token.rule,value:c.token.value},wallet:e}},Sot=()=>{const{walletConnectorOptions:e,displaySiweStatement:t,environmentId:n,projectSettings:r,setIsSingleWalletAccount:i,connectWallet:o,setShowAuthFlow:s,setSelectedWalletConnectorKey:a,siweStatement:l,appName:c,user:d}=je(),{pushView:u}=At(),{setErrorMessage:h}=so(),{getCaptchaToken:m}=Hd(),{promptAmountAndFund:v}=nVe(),y=V3({displaySiweStatement:t,environmentId:n,projectSettings:r,setIsSingleWalletAccount:i}),g=e.map(({walletConnector:I})=>I).find(Doe),b=x.useCallback(()=>de(void 0,void 0,void 0,function*(){if(Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] called"),!g){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] no phantomRedirectConnector");return}Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] calling getSession"),yield g.getSession(),Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] getSession complete, calling connectWallet");const I=yield o(g);Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] connectWallet result",{connectResult:I});const T=ot.getItem(ub);if(T!=null&&T.connectorConsumed&&T.type==="external-wallet-funding"){if(!I)return;const D=g.createWallet({address:I.address,chain:g.connectedChain,connector:g,id:"external-funding-wallet",isAuthenticated:!1,key:g.key});if(rt.emit("walletConnectedForFunding",{initiatedByWidget:T.initiatedByWidget,isPhantomRedirect:!0,wallet:D}),!T.initiatedByWidget)return;const M=kot({wallet:D});v(M);return}if(uv()){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] Connect-only mode: skipping verification",{authMode:"connect-only",connectResult:I}),I!=null&&I.address&&(ot.setItem(Yu,g.key),s(!1));return}Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleConnectResponse] Connect-and-sign mode: proceeding to verification",{authMode:"connect-and-sign",connectResult:I}),s(!0,{ignoreIfIsEmbeddedWidget:!0}),u("pending-signature"),a("phantom")}),[g,o,s,u,a,v]),k=Tfe(),_=x.useCallback(()=>de(void 0,void 0,void 0,function*(){var I,T,D,M;if(Ie.debug("[PhantomRedirect handleUserResponse] called"),!g){Ie.debug("[PhantomRedirect handleUserResponse] no phantomRedirectConnector");return}a("phantom");const[C]=yield g.getConnectedAccounts();Ie.debug("[PhantomRedirect handleUserResponse] got address",{address:C});const U=g.consumeMethod();switch(Ie.debug("[PhantomRedirect handleUserResponse] consumed method",{method:U}),U){case"signAndSendTransaction":{const $=(I=g.consumeRequestId)===null||I===void 0?void 0:I.call(g);Ie.debug("[PhantomRedirect handleUserResponse] handling signAndSendTransaction");try{const z=yield g.extractAndSendTransaction();g.emit("signAndSendTransaction",{requestId:$,signature:z})}catch(z){Ie.error("[PhantomRedirect handleUserResponse] Failed to send transaction",{error:z}),g.emit("signAndSendTransaction",{errorCode:"SEND_FAILED",errorMessage:z instanceof Error?z.message:"Failed to send transaction",requestId:$})}break}case"signAllTransactions":{const $=(T=g.consumeRequestId)===null||T===void 0?void 0:T.call(g);Ie.debug("[PhantomRedirect handleUserResponse] handling signAllTransactions"),g.emit("signAllTransactions",{requestId:$,transactions:g.extractTransactions()});break}case"signTransaction":{const $=(D=g.consumeRequestId)===null||D===void 0?void 0:D.call(g);Ie.debug("[PhantomRedirect handleUserResponse] handling signTransaction"),g.emit("signTransaction",{requestId:$,transaction:g.extractTransaction()});break}case"signMessage":{Ie.debug("[PhantomRedirect handleUserResponse] handling signMessage response");const{signature:$,message:z}=g.extractSignature();Ie.debug("[PhantomRedirect handleUserResponse] extracted signature and message",{message:z,messageLength:z==null?void 0:z.length,messagePreview:z==null?void 0:z.substring(0,200),signature:$,signatureLength:$==null?void 0:$.length});const q=ot.getItem(wm);if(ot.removeItem(wm),(q==null?void 0:q.verificationType)==="awaiting_transfer"){const S=aD({appName:c,siweStatement:l});Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] completeWalletTransfer",{messageToSignOverride:z,overrideSiweStatement:S,publicWalletAddress:C,signedMessageOverride:$}),yield k({messageToSignOverride:z,overrideSiweStatement:S,publicWalletAddress:C,signedMessageOverride:$,skipEmptyAccountCheck:q.loseOriginalAccountOnTransfer,walletConnector:g})}else if((q==null?void 0:q.verificationType)==="awaiting_verification"||!d){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] calling verifyWallet",{address:C,captchaTokenPresent:!!m(),message:z,messageLength:z==null?void 0:z.length,signature:$,signatureLength:$==null?void 0:$.length,user:!!d,verificationType:q==null?void 0:q.verificationType}),u("wallet-redirect-view");try{yield y({captchaToken:m(),messageToSignOverride:z,publicWalletAddress:C,signedMessageOverride:$,walletConnector:g}),Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] verifyWallet completed successfully")}catch(S){throw Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] verifyWallet threw error",{error:S}),S}}else{const S=(M=g.consumeRequestId)===null||M===void 0?void 0:M.call(g);Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleUserResponse] emitting signMessage event (post-auth sign)",{message:z,requestId:S,signature:$,signatureLength:$==null?void 0:$.length}),g.emit("signMessage",{message:z,requestId:S,signature:$})}break}}}),[g,a,d,c,l,k,u,y,m]),R=x.useCallback(I=>{var T;if(Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] called",{errorCode:I.get("errorCode"),errorMessage:I.get("errorMessage")}),!g){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] no phantomRedirectConnector");return}const D=I.get("errorCode"),M=(T=I.get("errorMessage"))!==null&&T!==void 0?T:void 0;if(!D){Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] no errorCode");return}h(D);const C=g.consumeMethod();switch(Ie.logVerboseTroubleshootingMessage("[PhantomRedirect handleErrorResponse] consumed method, emitting error",{errorCode:D,errorMessage:M,method:C}),C){case"signAndSendTransaction":g.emit("signAndSendTransaction",{errorCode:D,errorMessage:M});break;case"signAllTransactions":g.emit("signAllTransactions",{errorCode:D,errorMessage:M});break;case"signTransaction":g.emit("signTransaction",{errorCode:D,errorMessage:M});break;case"signMessage":g.emit("signMessage",{errorCode:D,errorMessage:M});break}},[g,h]);return{handleConnectResponse:b,handleErrorResponse:R,handleUserResponse:_,phantomRedirectConnector:g}},Iot=x.createContext(void 0),Eot=({children:e})=>{const{sdkHasLoaded:t}=je(),{phantomRedirectConnector:n,handleConnectResponse:r,handleUserResponse:i,handleErrorResponse:o}=Sot(),s=x.useRef(""),a=x.useCallback(l=>{const c=l.searchParams.has("data"),d=l.searchParams.has("phantom_encryption_public_key"),u=l.searchParams.has("errorCode");if((c||d||u)&&Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] processPhantomRedirect",{hasConnect:d,hasData:c,hasError:u,sdkHasLoaded:t}),!n||!rr()||!t)return;const h=l.searchParams,m=[h.get("errorCode"),h.get("phantom_encryption_public_key"),h.get("data"),h.get("nonce")].filter(Boolean).join("|");if(m&&m===s.current){Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] skipping - already processed");return}if(m&&(s.current=m),h.has("errorCode")){Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] handling errorCode response"),o(h);return}if(h.has("phantom_encryption_public_key")){Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] handling connect response"),r();return}h.has("data")&&(Ie.logVerboseTroubleshootingMessage("[PhantomRedirectContext] handling user response (data)"),i())},[r,i,o,n,t]);return x.useEffect(()=>{a(Ln.getUrl())},[a]),x.useEffect(()=>Ln.onUrlUpdate(a),[a]),f.jsx(Iot.Provider,{value:{phantomRedirectConnector:n},children:e})},Cot=x.createContext(void 0),Aot=({children:e,onReinitialize:t})=>{const[n,r]=x.useState(),i=x.useRef(t);i.current=t;const o=x.useCallback(()=>{var s;const a=e1(8);(s=i.current)===null||s===void 0||s.call(i,a),r(a)},[]);return f.jsx(Cot.Provider,{value:{key:n,reinitialize:o},children:x.cloneElement(e,{key:n})})},Rot=()=>{const{connectedWallets:e,selectedWalletConnector:t,setSelectedWalletConnectorKey:n,setShowAuthFlow:r,bridgeChainsToConnect:i,sdkHasLoaded:o}=je(),{pushView:s}=At(),a=Wue(),l=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const u=[];for(const h of e){const m=i==null?void 0:i.some(g=>g.chain===h.chain),v=yield h.connector.getNetwork(!0),y=eg({network:v,walletConnector:h.connector});!m&&!y&&u.push(h)}return u}),[i,e]),c=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const u=yield l();if(!u.length)return;const[h]=u;h.connector.key!==(t==null?void 0:t.key)&&n({chain:h.connector.connectedChain,key:h.connector.key});const m=LD(h.connector)?"network-not-supported":"network-not-supported-manual";r(!0),s(m)}),[l,t==null?void 0:t.key,n,r,s]),d=x.useMemo(()=>{const u=e.map(({connector:m})=>m),h=new Set([...u].filter(m=>!!m));return Array.from(h)},[e]);Ru(d,"chainChange",({chain:u})=>{c()}),x.useEffect(()=>{!o||!a||c()},[o,a,c])},Tot=()=>(Rot(),null),Oot=()=>{mPe(),ot.clearRegistry()},Not=e=>{if(e.length!==2)return!1;const[t,n]=e;return t==="wallet"&&n==="email"},Pot=e=>{const[t,n]=x.useState(null),r=x.useMemo(()=>{var i;const o=(i=e==null?void 0:e.design.modal)===null||i===void 0?void 0:i.displayOrder;return o?Not(o)?"web3":"web2":"web3"},[e]);return[t||r,n]},Bot=(e,t)=>{const[n,r]=x.useState(null),i=()=>{r(null)},o=x.useCallback(a=>{r(a)},[r]),s=x.useMemo(()=>t?!1:_j(e),[e,t]);return[n??s,o,i]},Mot=e=>{const t=x.useRef(e);t.current=e;const n=x.useCallback(()=>de(void 0,void 0,void 0,function*(){const r=t.current,i=[...r.walletConnectors,...r.connectedWallets.map(o=>o.connector)];yield qM(),Ie.logVerboseTroubleshootingMessage("useHandleLogout called",{params:t.current}),Br.logEvent("logout","useHandleLogout called"),r.setSelectedWalletConnectorKey(null),r.clearAllWalletConnectSessions(),r.setShowDynamicUserProfile(!1),r.setShowBridgeWidget(!1),r.resetLoginWithEmail(),r.setLegacyIsVerifying(!1),ot.removeItem(_h),ot.removeItem(Gy),ot.removeItem(wm),ot.removeItem(_d),l7e(),Qb(r.initialAuthenticationMode),r.setShowAuthFlow(!1,{emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!1,initializeWalletConnect:!1,performMultiWalletChecks:!1}),r.setMultiWalletWidgetState("idle"),GM(),r.removeBridgeOnboardingCompleted(),Sae(),r.removeConnectedNameService(),r.removeSessionStorageSessionKeys(),yield Promise.all(i.map(o=>o.endSession()))}),[]);return x.useEffect(()=>(ot.events.on("parseFailure",n),()=>{ot.events.off("parseFailure",n)}),[n]),Un("triggerLogout",()=>n()),n},Dot=({currentWallet:e,user:t})=>{const[n,r,i]=nv(lPe,null),o=x.useRef(),s=x.useRef(),a=x.useCallback(c=>de(void 0,void 0,void 0,function*(){const{address:d,connector:u}=c,h=yield u.getNetwork(!0);if(d===o.current&&h===s.current)return;r(null),o.current=d,s.current=h;let m;try{m=yield c.getNameService()}catch{}if(o.current===d&&s.current===h)return r({address:d,avatar:m==null?void 0:m.avatar,name:m==null?void 0:m.name,network:h}),m}),[r]);return{getNameService:x.useCallback(c=>de(void 0,void 0,void 0,function*(){var d;if(!e)return;const u=yield e.connector.getNetwork(!0),h=t==null?void 0:t.verifiedCredentials;if(h){const m=Jde(e==null?void 0:e.address,h,e.chain);if(m&&(!((d=m.nameService)===null||d===void 0)&&d.name))return m.nameService}if(!(c&&(e==null?void 0:e.address)!==c))return n&&n.address===(e==null?void 0:e.address)&&n.network===u?{avatar:n.avatar,name:n.name}:a(e)}),[e,t==null?void 0:t.verifiedCredentials,n,a]),removeConnectedNameService:i}},jot=({walletConnectorOptions:e})=>{const[t,n]=x.useState(null),r=o=>{n(typeof o=="string"?{key:o}:o)};return{selectedWalletConnector:x.useMemo(()=>{var o;if(!t)return null;const s=e.find(({walletConnector:a})=>a.key===t.key&&(!t.chain||a.connectedChain===t.chain));return(o=s==null?void 0:s.walletConnector)!==null&&o!==void 0?o:null},[t,e]),setSelectedWalletConnectorKey:r}},$ot=()=>{const e=$fe(VPe(),Eae());return!!(!(e!=null&&e.length)&&Fd())},Lot=({isRenderingEmbeddedAuthFlow:e,isMultiWalletEnabled:t,setShowDynamicUserProfile:n})=>{const[r,i]=x.useState(!1),{setError:o}=so(),s=x.useCallback((a,l={})=>{const{emitCancelAuth:c,ignoreIfIsEmbeddedWidget:d,initializeWalletConnect:u,performMultiWalletChecks:h,clearErrors:m}=Object.assign({clearErrors:!0,emitCancelAuth:!1,ignoreIfIsEmbeddedWidget:!0,initializeWalletConnect:!0,performMultiWalletChecks:!1},l),v=$ot();if(Ie.logVerboseTroubleshootingMessage("setShowAuthFlow",{areAllRequiredWalletsConnected:v,clearErrors:m,emitCancelAuth:c,ignoreIfIsEmbeddedWidget:d,initializeWalletConnect:u,performMultiWalletChecks:h}),!r&&a?rt.emit("authFlowOpen"):r&&!a&&rt.emit("authFlowClose"),a){if(d&&e)return;if(h&&v){if(!t)return n(!0);Ie.warn("Use setShowLinkNewWalletModal to render the wallet list instead. For more information, see: https://docs.dynamic.xyz/react-sdk/hooks/usedynamiccontext");return}}else c&&r&&rt.emit("authFlowCancelled");m&&o(void 0),i(a)},[t,e,o,n,r]);return[r,s]},Uot=()=>{const[e,t]=x.useState(void 0),n=x.useCallback(r=>{t(r),setTimeout(()=>{t(void 0)},2e3)},[t]);return{passkeySuccessPopup:e,setPasskeySuccessPopup:n}},Fot=({clientCallbacks:e,user:t})=>{Un("emailVerificationResult",(n,r)=>{var i;return(i=e==null?void 0:e.onOtpVerificationResult)===null||i===void 0?void 0:i.call(e,n,{type:"email",value:r})}),Un("smsVerificationResult",(n,r)=>{var i;return(i=e==null?void 0:e.onOtpVerificationResult)===null||i===void 0?void 0:i.call(e,n,{type:"sms",value:r})}),Un("authFlowCancelled",()=>{var n;return(n=e==null?void 0:e.onAuthFlowCancel)===null||n===void 0?void 0:n.call(e)}),Un("authFlowOpen",()=>{var n;(n=e==null?void 0:e.onAuthFlowOpen)===null||n===void 0||n.call(e)}),Un("authFlowClose",()=>{var n;(n=e==null?void 0:e.onAuthFlowClose)===null||n===void 0||n.call(e)}),Un("walletAdded",(n,r)=>{var i;Ie.debug("[walletAdded]",{userWallets:r,wallet:n}),(i=e==null?void 0:e.onWalletAdded)===null||i===void 0||i.call(e,{userWallets:r,wallet:n})}),Un("walletRemoved",(n,r)=>{var i;Ie.debug("[walletRemoved]",{userWallets:r,wallet:n}),(i=e==null?void 0:e.onWalletRemoved)===null||i===void 0||i.call(e,{userWallets:r,wallet:n})}),Un("embeddedWalletCreated",(n,r,i)=>{var o;Ie.debug("[embeddedWalletCreated]",{_wallet:n,jwtVerifiedCredential:r,user:i}),(o=e==null?void 0:e.onEmbeddedWalletCreated)===null||o===void 0||o.call(e,r,i)}),Un("embeddedWalletRevealCompleted",n=>{var r;Ie.debug("[embeddedWalletRevealCompleted]",{wallet:n}),(r=e==null?void 0:e.onEmbeddedWalletRevealSuccess)===null||r===void 0||r.call(e,n)}),Un("embeddedWalletRevealFailed",n=>{var r;Ie.debug("[embeddedWalletRevealFailed]",{error:n}),(r=e==null?void 0:e.onEmbeddedWalletRevealFailure)===null||r===void 0||r.call(e,n)}),Un("logout",()=>{var n;(n=e==null?void 0:e.onLogout)===null||n===void 0||n.call(e,t)}),Un("authFailure",(n,r)=>{var i;Ie.debug("[authFailure]",{data:n,reason:r}),(i=e==null?void 0:e.onAuthFailure)===null||i===void 0||i.call(e,n,r)}),Un("authInit",n=>{var r;Ie.debug("[authInit]",{data:n}),(r=e==null?void 0:e.onAuthInit)===null||r===void 0||r.call(e,n)}),Un("userProfileUpdated",n=>{var r;(r=e==null?void 0:e.onUserProfileUpdate)===null||r===void 0||r.call(e,n)}),Un("walletTabSelected",n=>{var r;(r=e==null?void 0:e.onWalletTabSelected)===null||r===void 0||r.call(e,n)}),Un("walletConnectionFailed",(n,r)=>{var i;(i=e==null?void 0:e.onWalletConnectionFailed)===null||i===void 0||i.call(e,n,r)})},Wot=({isBridgeFlow:e,multiWalletOverride:t,multiWalletSettings:n})=>{var r;return t!==void 0?t:(r=n||e)!==null&&r!==void 0?r:!1},qot=e=>{Un("userWalletsPopulated",t=>{if(e||t.some(r=>r.connector.isEmbeddedWallet)||Fd())return;const n=t[0];n&&To(n.id)})},zot=({isAuthenticated:e,bridgeOnboardingCompleted:t,isMultiWalletEnabled:n,isBridgeFlow:r,connectedWallets:i})=>e||t?n?"multi-wallet-wallet-list":"wallet-list":r&&!i.length?"bridge-welcome":"login-with-email-or-wallet",Vot=({multiAssetOverride:e,multiAssetSettings:t})=>e!==void 0?e:t??!0,Kot=()=>{if(x.useContext(J3))throw new Error("DynamicContextProvider should not be nested. Please wrap your application in a single DynamicContextProvider.")},Hot=({storagePostfix:e})=>{const t=x.useRef(e);if(!Rd()&&Ln.isNativeMobile)return;const n={clear:()=>{},getItem:()=>null,key:()=>null,length:0,removeItem:()=>{},setItem:()=>null},r=Rd()?n:window.localStorage,i=Rd()?n:window.sessionStorage;t.current!==e&&(t.current=e,ot.clearRegistry()),ot.getSourceStorage("localStorage")||ot.registerSourceStorage("localStorage",nq({postfix:e,storage:cS({storage:r})})),ot.getSourceStorage("sessionStorage")||ot.registerSourceStorage("sessionStorage",nq({postfix:e,storage:cS({storage:i})}))},Got=({secondaryWallets:e,handleLogOut:t,setPrimaryWallet:n})=>{const{removedWalletsIds:r,userWallets:i}=_s(),o=Cae(),s=x.useMemo(()=>e[0]?e[0].id:void 0,[e]);return x.useCallback((l,c)=>de(void 0,void 0,void 0,function*(){var d;const u=i.find(k=>k.id===l);if(!u)return;const h=Fd(),m=l===h,v=wl(),y=(d=Js())===null||d===void 0?void 0:d.user;if(v==="connect-and-sign"){if((y==null?void 0:y.verifiedCredentials.length)===1)throw new Se("This is your only login method. Add another wallet or log in method before removing it.");yield sDe({environmentId:Qu(),onSuccess:()=>{r.current.push(l)},primaryWalletId:m?void 0:h,walletId:l})}else r.current.push(l);const g=o.filter(k=>k.id!==l);if(AO(g),m&&s&&n(s),!y&&!s){t();return}i.filter(({connector:k})=>k.key===u.connector.key).length===1&&(yield u.connector.endSession())}),[i,o,s,r,n,t])},Jot=()=>{const[e,t]=x.useState(!1);return{setShowDynamicUserProfile:x.useCallback(r=>{t(r),!e&&r?rt.emit("userProfileOpen"):e&&!r&&rt.emit("userProfileClose")},[e]),showDynamicUserProfile:e}},Zot=(e,t)=>{var n,r;return e!=null&&e.required?!0:t&&(r=(n=t.sdk.embeddedWallets)===null||n===void 0?void 0:n.showEmbeddedWalletActionsUI)!==null&&r!==void 0?r:!1},Yot=({showFiatOverride:e,showFiatSettings:t})=>e!==void 0?e:t??!0,Xot=e=>{const t=e.verifiedCredentials.find(n=>n.id===e.lastVerifiedCredentialId);return(t==null?void 0:t.format)===Zo.Blockchain},Qot=e=>{var t;if(!e.sdk.automaticEmbeddedWalletCreation)return!1;const n=(t=e.sdk.embeddedWallets)===null||t===void 0?void 0:t.chainConfigurations;return n?n.some(r=>r.enabled):!1},est=({callbacks:{onAuthSuccess:e},handleLogOut:t,primaryWallet:n,user:r,isAuthenticated:i})=>{const[o,s]=x.useState([]),a=x.useCallback((d,u)=>{if((d==null?void 0:d.callback)==="authSuccess")try{e==null||e({handleLogOut:t,isAuthenticated:i,primaryWallet:n,user:u})}catch(h){Ie.error("Error calling onAuthSuccess: ",h)}},[t,i,e,n]),l=vo();return x.useEffect(()=>{!o.length||!r||!l||Xot(r)&&!n||Qot(l)&&!n||(a(o[0],r),s(d=>{const[u,...h]=d;return u&&(Ie.debug("Resolved callback: ",u.callback),Ie.debug("Callbacks in queue: ",h.map(m=>m.callback))),h}))},[o,a,n,l,r]),{setCallback:x.useCallback((d,u)=>{s(h=>[...h,{callback:d,params:u}])},[])}},tst="2762a57b-faa4-41ce-9f16-abff9300e2c9",J3=x.createContext(void 0),nst=e=>{var t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k,_,R;const{children:I,theme:T,settings:D,locale:M,enableInstrumentation:C=!1}=e,{accessDeniedMessagePrimary:U,accessDeniedMessageSecondary:$,accessDeniedButton:z,defaultPhoneInputIso2:q,coinbaseWalletPreference:S,detectNewWalletsForLinking:A=na.detectNewWalletsForLinking,enableConnectOnlyFallback:O=na.enableConnectOnlyFallback,deepLinkPreference:N=na.deepLinkPreference,bridgeChains:j,cssOverrides:V,defaultNumberOfWalletsToShow:K=fse,flowNetwork:W,initialAuthenticationMode:P=na.initialAuthenticationMode,debugError:F=na.debugError,displaySiweStatement:G=na.displaySiweStatement,newToWeb3WalletChainMap:Y,enableVisitTrackingOnConnectOnly:ie=na.enableVisitTrackingOnConnectOnly,environmentId:ye,walletsFilter:ge,logLevel:be=na.logLevel,mobileExperience:Le,notInTheListImageUrl:qe,onboardingImageUrl:Me,policiesConsentInnerComponent:gt,customPrivacyPolicy:tt,privacyPolicyUrl:dt,socialMediaLinkText:Xt,socialMediaIconUrl:lt,socialMediaUrl:jt,customTermsOfServices:rn,termsOfServiceUrl:Re,siweStatement:Ze,shadowDOMEnabled:ct=na.shadowDOMEnabled,walletConnectors:st,socialProvidersFilter:vt,showLockedWalletView:$t=na.showLockedWalletView,walletConnectPreferredChains:zt,walletConnectorExtensions:ce,recommendedWallets:X,handlers:ee,suppressEndUserConsoleWarning:we,transactionConfirmation:Ae,useMetamaskSdk:Pe=na.useMetamaskSdk}=D;let{appLogoUrl:Fe=na.appLogoUrl,appName:en=na.appName}=D;Hot({storagePostfix:D.localStorageSuffix}),gPe(e),KPe(e),x.useEffect(()=>{Qb(P)},[P]),KAe((t=D.overrides)===null||t===void 0?void 0:t.chainDisplayValues);const on=ert({bridgeChains:D.bridgeChains,networkValidationMode:D.networkValidationMode});if(!ye)throw new Vie;gi.setLogLevel(be),ye===tst&&Ie.warn(`WARNING: DYNAMIC is using a test environment ID ${ye}. Please sign up on https://app.dynamic.xyz/ to get your production environment ID.`);const tn=wi.setup(M),Bn=!!j,Jt=trt(N,Bn),{selectedTabIndex:hr,setSelectedTabIndex:Wa,selectedTabSettings:pr,tabsItems:wr}=fot({settingsOverrides:D.overrides}),[uc,ir,sr]=nv(cPe,!1),{setShowDynamicUserProfile:Qo,showDynamicUserProfile:Or}=Jot(),[Ir,fc]=x.useState(!1),[Er,Fn]=x.useState(!1),es=y3(),ne=cD();ne?gi.globalMetaData.set("user",ne):gi.globalMetaData.set("user",void 0),kit(),uj();const fe=!!ne,[he,Z]=x.useState(""),[ve,Be]=x.useState(""),[Ne,Ge,{awaiting_account_switch:[ut],awaiting_signature:[bt]}]=Zit(),Ye=vo(),jn=rrt(),Et=D3({aptosNetworksOverrides:(n=D.overrides)===null||n===void 0?void 0:n.aptosNetworks,bitcoinNetworksOverrides:(r=D.overrides)===null||r===void 0?void 0:r.bitcoinNetworks,cosmosNetworkOverrides:(i=D.overrides)===null||i===void 0?void 0:i.cosmosNetworks,evmNetworksOverrides:(o=D.overrides)===null||o===void 0?void 0:o.evmNetworks,projectSettings:Ye,solanaNetworksOverrides:(s=D.overrides)===null||s===void 0?void 0:s.solNetworks,stellarNetworksOverrides:(a=D.overrides)===null||a===void 0?void 0:a.stellarNetworks,tonNetworksOverrides:(l=D.overrides)===null||l===void 0?void 0:l.tonNetworks,tronNetworksOverrides:(c=D.overrides)===null||c===void 0?void 0:c.tronNetworks});yit({environmentId:ye,settings:D}),bit({projectSettings:Ye,suppress:we});const Zt=Wot({isBridgeFlow:Bn,multiWalletOverride:(d=D.overrides)===null||d===void 0?void 0:d.multiWallet,multiWalletSettings:(u=Ye==null?void 0:Ye.sdk)===null||u===void 0?void 0:u.multiWallet}),dn=Vot({multiAssetOverride:(h=D.overrides)===null||h===void 0?void 0:h.multiAsset,multiAssetSettings:(m=Ye==null?void 0:Ye.sdk)===null||m===void 0?void 0:m.enableMultiAsset}),yn=Yot({showFiatOverride:(v=D.overrides)===null||v===void 0?void 0:v.showFiat,showFiatSettings:(y=Ye==null?void 0:Ye.sdk)===null||y===void 0?void 0:y.showFiat}),[vn,un]=x.useState(!1),Rt=S4e(),{imageUserInAccessList:hn,imageUserNotInAccessList:Tt,displayName:Ft,appLogo:St}=(Ye==null?void 0:Ye.general)||{};Fe=St||Fe,en=Ft||en;const[Pt,Dt,_t]=Bot((Ye==null?void 0:Ye.providers)||[],ne),[Ue,Ve]=Pot(Ye),et=Zot(Ae,Ye),[Qe,nt]=mit({hideEmbeddedWalletTransactionUIs:!et}),pt=x.useMemo(()=>({appLogoUrl:Fe,appName:en,coinbaseWalletPreference:S,deepLinkPreference:Jt,flowNetwork:W,mobileExperience:Le,networkConfigurations:Et,projectSettings:Ye,useMetamaskSdk:Pe,walletBook:Rt,walletConnectPreferredChains:zt,walletConnectorExtensions:ce,walletConnectorsProp:st,walletUiUtils:nt}),[Fe,en,S,Jt,W,Le,Et,Ye,Pe,Rt,zt,ce,st,nt]);mrt(pt);const Wt=pD();yrt({walletConnectorOptions:Wt});const mn=HPe(),gn=Xu(),[_n,Ee]=x.useState(!1),[On,$n]=Lot({isMultiWalletEnabled:Zt,isRenderingEmbeddedAuthFlow:_n,setShowDynamicUserProfile:Qo}),{connectWallet:Gn,connectedWalletsInfo:In,getConnectedWalletById:Mn,connectedWallets:Nn,disconnectWallet:Dr,refreshConnectedWallet:Yt}=sot({enableVisitTrackingOnConnectOnly:ie,environmentId:ye,handleConnectedWallet:ee==null?void 0:ee.handleConnectedWallet,isBridgeFlow:Bn,primaryWalletId:mn,setShowAuthFlow:$n,walletConnectorOptions:Wt}),Wr=x.useMemo(()=>$fe(j,In),[j,In]),{selectedWalletConnector:ar,setSelectedWalletConnectorKey:Cr}=jot({walletConnectorOptions:Wt}),[Gr,Di]=x.useState(null);irt(ne??es,Wt),git(Wt,ye,Ye);const{primaryWallet:lr,showQrcodeModal:Ei,secondaryWallets:Zd,setPrimaryWallet:El,setShowQrcodeModal:hc,wallets:qa}=xrt({canHaveMultipleWalletsConnected:Zt||Bn,connectedWallets:Nn,primaryWalletId:mn,separateSmartWalletAndSigner:(b=(g=Ye==null?void 0:Ye.sdk)===null||g===void 0?void 0:g.accountAbstraction)===null||b===void 0?void 0:b.separateSmartWalletAndSigner,setMultiWalletWidgetState:Ge,user:ne||es,walletConnectorOptions:Wt});qot(Bn);const Yd=x.useMemo(()=>qa.map(qr=>qr.connector),[qa]);LZe({shouldFetch:zfe({authMode:gn})});const{getNameService:lf,removeConnectedNameService:ed}=Dot({currentWallet:lr??Nn[0],user:ne}),{clearAllWalletConnectSessions:Pv}=Yit({connectors:Yd}),Q_=()=>{Br.logEvent("session-key","removeSessionStorageSessionKeys"),ot.removeItem(C2,A2),Yd.forEach(qr=>{Pa(qr)&&typeof(qr==null?void 0:qr.removeSessionKeys)=="function"&&(qr==null||qr.removeSessionKeys())})},Cl=Mot({bridgeChains:j,clearAllWalletConnectSessions:Pv,connectedWallets:Nn,environmentId:ye,events:D.events,initialAuthenticationMode:P,removeBridgeOnboardingCompleted:sr,removeConnectedNameService:ed,removeSessionStorageSessionKeys:Q_,resetLoginWithEmail:_t,setLegacyIsVerifying:un,setMultiWalletWidgetState:Ge,setSelectedWalletConnectorKey:Cr,setShowAuthFlow:$n,setShowBridgeWidget:fc,setShowDynamicUserProfile:Qo,user:ne,walletConnectors:Yd});lrt({environmentId:ye,handleLogOut:Cl});const tC=wj(),Bv=dot({appName:en,connectedInfo:In[0],connectedWallets:Nn,enableInstrumentation:C,environmentId:ye,nonce:tC,primaryWallet:lr,primaryWalletId:mn,projectSettings:Ye,user:ne??es,walletBook:Rt});Fot({clientCallbacks:D.events,user:ne});const ap=Got({handleLogOut:Cl,secondaryWallets:Zd,setPrimaryWallet:El}),{isLoading:Mv,network:ex}=cj(lr==null?void 0:lr.connector,{onChange:qr=>{qr&&rt.emit("primaryWalletNetworkChanged",qr)}});Sit(),uot({detectNewWalletsForLinking:A,disconnectWallet:Dr,handleLogOut:Cl,multiWallet:Zt,multiWalletWidgetState:Ne,primaryWallet:lr,refreshConnectedWallet:Yt,secondaryWallets:Zd,selectedWalletConnector:ar,selectedWalletWithAction:Gr,setMultiWalletWidgetState:Ge,setSelectedWalletConnectorKey:Cr,setSelectedWalletWithAction:Di,user:ne});const{walletsForChainsMap:cf}=aot(Y),{setCallback:df}=est({callbacks:{onAuthSuccess:(k=D.events)===null||k===void 0?void 0:k.onAuthSuccess,onUserProfileUpdate:(_=D.events)===null||_===void 0?void 0:_.onUserProfileUpdate},handleLogOut:Cl,isAuthenticated:fe,primaryWallet:lr,user:ne}),Xd=x.useCallback(()=>qr=>{const{dynamicWagmiSettings:kg}=qr;kg&&jfe(ye,{dynamicWagmiSettings:{dynamicWagmiSettings:kg}})},[ye]),lp=x.useCallback(()=>de(void 0,void 0,void 0,function*(){Be(""),un(!1),ne||Pv(),Ge("idle"),gn!=="connect-only"&&GM(),ot.getItem(_h)&&ot.removeItem(_h),ot.getItem(Gy)&&ot.removeItem(Gy),ot.removeItem(wm),ar&&(!lr||lr.connector.key!==ar.key)&&(yield ar==null?void 0:ar.endSession())}),[ne,Ge,gn,ar,lr,Pv]),{passkeySuccessPopup:tx,setPasskeySuccessPopup:nx}=Uot(),xg=x.useMemo(()=>({changeLanguage:wi.getInstance().changeLanguage}),[]),cp=x.useMemo(()=>gn==="connect-only"||!ne?[]:qa,[gn,qa,ne]),Dv=x.useMemo(()=>{var qr;return{accessDeniedButton:z,accessDeniedMessagePrimary:U,accessDeniedMessageSecondary:$,accountSwitchState:ut,appLogoUrl:Fe,appName:en,authorizationViewDisplayOrder:Ue,awaitingSignatureState:bt,bridgeChains:j,bridgeChainsToConnect:Wr,bridgeOnboardingCompleted:uc,clearStatesOnBackClick:lp,connectWallet:Gn,connectedWallets:Nn,cssOverrides:V,customPrivacyPolicy:tt,customTermsOfServices:rn,debugError:F,defaultNumberOfWalletsToShow:K,defaultPhoneInputIso2:q,desktopUri:ve,detectNewWalletsForLinking:A,disconnectWallet:Dr,displaySiweStatement:G,enableConnectOnlyFallback:O,environmentId:ye,events:D.events,getConnectedWalletById:Mn,getNameService:lf,handleLogOut:Cl,handlers:ee,i18nSDKInstance:tn,isBridgeFlow:Bn,isRenderingEmbeddedAuthFlow:_n,isSingleWalletAccount:Er,legacyIsVerifying:vn,linkedWallets:cp,loadingNetwork:Mv,locale:xg,loginWithEmail:Pt,multiAsset:dn,multiWallet:Zt,multiWalletWidgetState:Ne,network:ex,networkConfigurations:Et,networkValidationMode:on,newToWeb3WalletChainMap:cf,notInTheListImageUrl:Tt||qe,onboardingImageUrl:hn||Me,overrides:D.overrides,passkeySuccessPopup:tx,policiesConsentInnerComponent:gt,primaryWallet:lr,primaryWalletId:mn,privacyPolicyUrl:dt,projectSettings:Ye,qrcodeUri:he,recommendedWallets:X,redirectUrl:D.redirectUrl,refetchProjectSettings:jn,removeBridgeOnboardingCompleted:sr,removeWallet:ap,sdkHasLoaded:Bv,secondaryWallets:Zd,selectedTabIndex:hr,selectedTabSettings:pr,selectedWalletConnector:ar,selectedWalletWithAction:Gr,sendWagmiSettings:Xd,setAuthorizationViewDisplayOrder:Ve,setBridgeOnboardingCompleted:ir,setCallback:df,setDesktopUri:Be,setIsRenderingEmbeddedAuthFlow:Ee,setIsSingleWalletAccount:Fn,setLegacyIsVerifying:un,setLogInWithEmail:Dt,setMultiWalletWidgetState:Ge,setPasskeySuccessPopup:nx,setPrimaryWallet:El,setQrcodeUri:Z,setSelectedTabIndex:Wa,setSelectedWalletConnectorKey:Cr,setSelectedWalletWithAction:Di,setShowAuthFlow:$n,setShowBridgeWidget:fc,setShowDynamicUserProfile:Qo,setShowQrcodeModal:hc,shadowDOMEnabled:ct,showAuthFlow:On,showBridgeWidget:Ir,showDynamicUserProfile:Or,showFiat:yn,showLockedWalletView:$t,showQrcodeModal:Ei,siweStatement:Ze,socialMediaIconUrl:((qr=Ye==null?void 0:Ye.general)===null||qr===void 0?void 0:qr.supportUrls)||lt,socialMediaLinkText:Xt,socialMediaUrl:jt,socialProvidersFilter:vt,socialSettings:D.social,tabsItems:wr,termsOfServiceUrl:Re,theme:T,user:ne,userWithMissingInfo:es,walletConnectorOptions:Wt,walletUiUtils:nt,walletsFilter:ge}},[z,U,$,ut,Fe,en,Ue,bt,j,Wr,uc,lp,Gn,Nn,V,tt,rn,F,K,q,ve,A,Dr,G,O,ye,D.events,D.overrides,D.redirectUrl,D.social,Mn,lf,Cl,ap,ee,tn,Bn,_n,Er,vn,cp,Mv,xg,Pt,dn,Zt,Ne,ex,Et,on,cf,Tt,qe,hn,Me,tx,gt,lr,mn,dt,Ye,he,X,jn,sr,Bv,Zd,hr,pr,ar,Gr,Xd,Ve,ir,df,Dt,Ge,nx,El,Wa,Cr,$n,Qo,hc,ct,On,Ir,Or,yn,$t,Ei,Ze,lt,Xt,jt,vt,wr,Re,T,ne,es,Wt,nt,ge]);hY({as:"image",href:EM(),id:"sprite",type:"image/svg+xml"}),hY({as:"fetch",href:Zoe(),id:"wallet-book",type:"application/json"});const rx=zot({bridgeOnboardingCompleted:uc,connectedWallets:Nn,isAuthenticated:fe||!!lr,isBridgeFlow:Bn,isMultiWalletEnabled:Zt});return f.jsx(BNe,{i18n:tn,children:f.jsx(J3.Provider,{value:Dv,children:f.jsx(C4e,{walletBook:Rt,children:f.jsx(v7e,{customerTheme:Lit(T,((R=Ye==null?void 0:Ye.design)===null||R===void 0?void 0:R.modal)||void 0),designSettings:Ye==null?void 0:Ye.design,children:f.jsx(RZe,{children:f.jsxs(d8e,{initialViewType:rx,children:[on==="always"&&f.jsx(Tot,{}),f.jsx(UZe,{children:f.jsx(d7e,{children:f.jsx(NDe,{children:f.jsx(f7e,{children:f.jsx(AVe,{children:f.jsx(cKe,{children:f.jsx(pot,{children:f.jsx(uVe,{children:f.jsx(c7e,{children:f.jsx(oHe,{children:f.jsx(AGe,{children:f.jsx(DJe,{children:f.jsx(Ait,{children:f.jsx(Eot,{children:f.jsxs(MZe,{children:[f.jsx(Jnt,{}),f.jsx(vot,{}),f.jsx(Mit,{}),f.jsx(Dit,{connectorProps:pt}),Qe,f.jsx(xot,{children:I})]})})})})})})})})})})})})})})})]})})})})})})},rst=e=>{const t=wM("DYNAMIC_API_BASE_URL",e.settings.apiBaseUrl||"");return Td.setBaseUrl(t),Ynt(e),gi.setEnvironmentId(e.settings.environmentId),gi.setEmitErrors(e.emitErrors),Kot(),f.jsx(Aot,{onReinitialize:Oot,children:f.jsx(_ot,{children:f.jsx(c8e,{children:f.jsx(u7e,{children:f.jsx(UDe,{children:f.jsx(tqe,{children:f.jsx(yot,{children:f.jsx(nst,Object.assign({},e))})})})})})})})};Oo("@dynamic-labs/sdk-react-core",Ooe);Br.logEvent("sdk-react-core.initialization","script-loaded");function I4(e,t){const[n,r]=x.useState(()=>{try{const o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return console.error(o),t}});return[n,o=>{try{const s=o instanceof Function?o(n):o;r(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(s){console.error(s)}}]}const ist="https://c.prediction-markets-api.dflow.net/api/v1",LS="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",ost="KXSOL15M,KXBTC15M,KXETH15M";async function sst({limit:e=100,include15MinCrypto:t=!0}={}){const r=typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:3001/api/markets":"/api/markets";try{const i=`${r}?withNestedMarkets=true&status=active&limit=${e}`;console.log("[DFlow] Fetching regular markets from:",i);const o=await fetch(i);let s=[];if(o.ok){const a=await o.json();for(const l of a.events||[])if(l.markets)for(const c of l.markets)s.push({...c,eventTicker:l.ticker,eventTitle:l.title,imageUrl:l.imageUrl});console.log("[DFlow] Regular markets:",s.length)}if(t)try{const a=`${r}?withNestedMarkets=true&seriesTickers=${ost}&status=active&limit=20`;console.log("[DFlow] Fetching 15-min crypto markets from:",a);const l=await fetch(a);if(l.ok){const c=await l.json();for(const d of c.events||[])if(d.markets)for(const u of d.markets)s.push({...u,eventTicker:d.ticker,eventTitle:d.title,imageUrl:d.imageUrl,is15MinMarket:!0});console.log("[DFlow] Added 15-min crypto markets, total now:",s.length)}}catch(a){console.log("[DFlow] 15-min crypto fetch failed (non-fatal):",a.message)}if(s.length>0)return s}catch(i){console.log("[DFlow] Events endpoint failed:",i.message)}throw new Error("Failed to fetch markets")}async function ast(e){try{const t=await fetch(`${ist}/markets/${e}`);if(!t.ok)return console.log("[DFlow] Failed to fetch market details:",t.status),null;const n=await t.json();return console.log("[DFlow] Market details:",n),n}catch(t){return console.error("[DFlow] Error fetching market details:",t),null}}const SY={Sports:"https://images.unsplash.com/photo-1461896836934-28e4b8c4e1c0?w=800&h=600&fit=crop",Finance:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop",Politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800&h=600&fit=crop",Crypto:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop",Tech:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&h=600&fit=crop",Weather:"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=800&h=600&fit=crop",Culture:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=800&h=600&fit=crop",Other:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=800&h=600&fit=crop"};function lst(e,t){const n=(e.title||"").toLowerCase();return n.includes("football")||n.includes("nfl")||n.includes("super bowl")||n.includes("pro football")?"https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=800&h=600&fit=crop":n.includes("basketball")||n.includes("nba")?"https://images.unsplash.com/photo-1546519638-68e109498ffc?w=800&h=600&fit=crop":n.includes("baseball")||n.includes("mlb")?"https://images.unsplash.com/photo-1529768167801-9173d94c2a42?w=800&h=600&fit=crop":n.includes("soccer")||n.includes("fifa")||n.includes("world cup")?"https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=800&h=600&fit=crop":n.includes("boxing")||n.includes("ufc")||n.includes("fight")?"https://images.unsplash.com/photo-1549719386-74dfcbf7dbed?w=800&h=600&fit=crop":n.includes("college football")||n.includes("ncaa")?"https://images.unsplash.com/photo-1566577739112-5180d4bf9390?w=800&h=600&fit=crop":n.includes("trump")||n.includes("biden")||n.includes("president")||n.includes("election")||n.includes("governor")||n.includes("mayor")?"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620?w=800&h=600&fit=crop":n.includes("bitcoin")||n.includes("btc")?"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop":n.includes("ethereum")||n.includes("eth")?"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&h=600&fit=crop":n.includes("crypto")?"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=600&fit=crop":n.includes("stock")||n.includes("s&p")||n.includes("nasdaq")||n.includes("dow")?"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=600&fit=crop":n.includes("federal reserve")||n.includes("fed ")||n.includes("rate cut")||n.includes("rate hike")||n.includes("interest rate")?"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=800&h=600&fit=crop":n.includes("weather")||n.includes("rain")||n.includes("temperature")||n.includes("hurricane")||n.includes("snow")?"https://images.unsplash.com/photo-1534088568595-a066f410bcda?w=800&h=600&fit=crop":n.includes("apple")||n.includes("iphone")?"https://images.unsplash.com/photo-1491933382434-500287f9b54b?w=800&h=600&fit=crop":n.includes("google")?"https://images.unsplash.com/photo-1573804633927-bfcbcd909acd?w=800&h=600&fit=crop":n.includes("tesla")?"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&h=600&fit=crop":n.includes("ai")||n.includes("artificial intelligence")||n.includes("chatgpt")||n.includes("openai")?"https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=600&fit=crop":n.includes("spotify")||n.includes("music")||n.includes("artist")?"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=800&h=600&fit=crop":n.includes("time person")||n.includes("time's person")?"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&h=600&fit=crop":SY[t]||SY.Other}function GP(e,t=new Map){var v;const n=parseFloat(e.yesAsk)||.5,r=parseFloat(e.noAsk)||.5,i=n>0?1/n-1:1,o=r>0?1/r-1:1,s=cst(e);let a=e.imageUrl||t.get(e.eventTicker);a||(a=lst(e,s));const l=(v=e.accounts)==null?void 0:v[LS],c=Object.keys(e.accounts||{}),d=c.length>0?e.accounts[c[0]]:null,u=l||d,h=(u==null?void 0:u.yesMint)||null,m=(u==null?void 0:u.noMint)||null;return u&&console.log("[DFlow] Extracted mints - YES:",h,"NO:",m),{id:e.ticker,eventTicker:e.eventTicker,title:e.title||"Unknown Market",subtitle:e.subtitle||e.yesSubTitle||"",category:s,image:a,yesProfit:Math.round(i*100)/100,noProfit:Math.round(o*100)/100,yesPrice:n,noPrice:r,volume:e.volume||0,status:e.status,expirationTime:e.expirationTime||null,closeTime:e.closeTime||null,yesMint:h,noMint:m,accounts:e.accounts||null}}function cst(e){const t=(e.ticker||"").toUpperCase(),n=(e.title||"").toLowerCase();return t.includes("BTC")||t.includes("ETH")||t.includes("SOL")||t.includes("CRYPTO")||n.includes("bitcoin")||n.includes("ethereum")||n.includes("solana")||n.includes("crypto")?"Crypto":t.includes("NFL")||t.includes("KXSB")||t.includes("NBA")||t.includes("WNBA")||t.includes("NCAA")||t.includes("MLB")||t.includes("BOXING")||t.includes("UFC")||t.includes("MMA")||n.includes("basketball")||n.includes("football")||n.includes("baseball")||n.includes("tennis")||n.includes("boxing")||n.includes("ufc")?"Sports":t.includes("FED")||t.includes("RATE")||n.includes("federal reserve")||n.includes("interest rate")||n.includes("rate cut")||n.includes("rate hike")?"Finance":t.includes("PRES")||t.includes("GOV")||t.includes("MAYOR")||n.includes("president")||n.includes("election")||n.includes("democrat")||n.includes("republican")||n.includes("senate")||n.includes("house")||n.includes("congress")||n.includes("governor")?"Politics":t.includes("LLM")||t.includes("AI")||n.includes("ai ")||n.includes("artificial intelligence")||n.includes("chatgpt")||n.includes("openai")?"Tech":t.includes("TIME")||t.includes("GOOGLE")||n.includes("gta")||n.includes("game")||n.includes("movie")||n.includes("spotify")?"Culture":"Other"}function dst(e){if(e.length<=1)return e;const t={};for(const i of e){const o=i.category||"Other";t[o]||(t[o]=[]),t[o].push(i)}const n=[];let r=null;for(;Object.values(t).some(i=>i.length>0);){const i=Object.keys(t).filter(s=>t[s].length>0&&s!==r);let o;if(i.length>0)i.sort((s,a)=>t[a].length-t[s].length),o=i[0];else if(o=Object.keys(t).find(s=>t[s].length>0),!o)break;n.push(t[o].shift()),r=o}return n}async function ust({limit:e=100}={}){const t=await sst({limit:e});console.log("[DFlow] Raw markets count:",t.length);const n="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",r=t.filter(m=>{const v=(m.ticker||"").toUpperCase(),y=(m.title||"").toLowerCase();return v.includes("BTC")||v.includes("ETH")||v.includes("SOL")||y.includes("bitcoin")||y.includes("ethereum")||y.includes("solana")||y.includes("crypto")});console.log("[DFlow] Raw crypto-related markets:",r.length),r.length>0&&console.log("[DFlow] Sample crypto markets:",r.slice(0,5).map(m=>{var v;return{ticker:m.ticker,title:m.title,status:m.status,hasUsdc:!!((v=m.accounts)!=null&&v[n]),hasPricing:!!(m.yesAsk&&m.noAsk),yesAsk:m.yesAsk,noAsk:m.noAsk}}));const i=t.filter(m=>{var I,T,D,M;const v=(m.ticker||"").toUpperCase(),y=(m.title||"").toLowerCase(),g=v.includes("BTC")||v.includes("ETH")||v.includes("SOL")||y.includes("bitcoin")||y.includes("ethereum")||y.includes("solana"),b=(I=m.accounts)==null?void 0:I[n];if(!(b!=null&&b.yesMint)||!(b!=null&&b.noMint))return g&&console.log("[DFlow] Crypto market filtered (no USDC mints):",m.ticker,(T=m.title)==null?void 0:T.substring(0,40)),!1;if(!m.yesAsk||!m.noAsk)return g&&console.log("[DFlow] Crypto market filtered (no pricing):",m.ticker,(D=m.title)==null?void 0:D.substring(0,40)),!1;if(m.status!=="active")return g&&console.log("[DFlow] Crypto market filtered (not active):",m.ticker,m.status),!1;const k=(m.title||"").toLowerCase().trim(),_=k.startsWith("will "),R=k.includes("price up in next 15 mins")||k.includes("price down in next 15 mins");return!_&&!R?(g&&console.log("[DFlow] Crypto market filtered (not a binary question):",m.ticker,(M=m.title)==null?void 0:M.substring(0,50)),!1):!0});console.log("[DFlow] Valid binary markets:",i.length);const o=i.filter(m=>{const v=(m.ticker||"").toUpperCase(),y=(m.title||"").toLowerCase();return v.includes("BTC")||v.includes("ETH")||v.includes("SOL")||y.includes("bitcoin")||y.includes("ethereum")||y.includes("solana")});console.log("[DFlow] Valid crypto markets after filtering:",o.length),o.length>0&&console.log("[DFlow] Valid crypto market samples:",o.slice(0,3).map(m=>{var v;return{ticker:m.ticker,title:(v=m.title)==null?void 0:v.substring(0,40)}}));const s=i.map(m=>GP(m)),a={};s.forEach(m=>{a[m.category]=(a[m.category]||0)+1}),console.log("[DFlow] Raw category distribution:",a);const l={};for(const m of s){const v=m.category||"Other";l[v]||(l[v]=[]),l[v].push(m)}for(const m of Object.keys(l))l[m].sort((v,y)=>{const g=v.expirationTime||1/0,b=y.expirationTime||1/0;return g-b});const c=[],d=20;for(const m of Object.keys(l))c.push(...l[m].slice(0,d));const u={};return c.forEach(m=>{u[m.category]=(u[m.category]||0)+1}),console.log("[DFlow] Selected category distribution:",u),dst(c)}async function fst(e){var i,o,s,a,l,c,d;if(!e)return[];const t="https://mainnet.helius-rpc.com/?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e",r=typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:3001":"";try{console.log("[DFlow] Fetching on-chain positions for:",e);const[u,h]=await Promise.all([fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getTokenAccountsByOwner",params:[e,{programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{encoding:"jsonParsed"}]})}),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:2,method:"getTokenAccountsByOwner",params:[e,{programId:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{encoding:"jsonParsed"}]})})]),m=await u.json(),v=await h.json(),y=[...((i=m.result)==null?void 0:i.value)||[],...((o=v.result)==null?void 0:o.value)||[]];if(y.length===0)return console.log("[DFlow] No token accounts found"),[];const g=new Map;for(const C of y){const U=(l=(a=(s=C.account)==null?void 0:s.data)==null?void 0:a.parsed)==null?void 0:l.info;if(!U)continue;const $=U.mint,z=parseFloat(((c=U.tokenAmount)==null?void 0:c.uiAmount)||0);z>0&&g.set($,{amount:z,tokenAccount:C.pubkey})}if(g.size===0)return console.log("[DFlow] No non-zero token balances"),[];console.log("[DFlow] Found",g.size,"tokens with balances");const b=Array.from(g.keys()),k=await fetch(`${r}/api/filter-mints`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:b})});if(!k.ok)return console.log("[DFlow] filter_outcome_mints failed:",k.status),[];const R=(await k.json()).outcomeMints||[];if(R.length===0)return console.log("[DFlow] No prediction market tokens found"),[];console.log("[DFlow] Found",R.length,"prediction market tokens");const I=await fetch(`${r}/api/markets-batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mints:R})});if(!I.ok)return console.log("[DFlow] markets/batch failed:",I.status),[];const D=(await I.json()).markets||[],M=[];for(const C of D){const U=(d=C.accounts)==null?void 0:d[LS];if(U){if(U.yesMint&&g.has(U.yesMint)){const $=g.get(U.yesMint);M.push({market:GP(C),choice:"yes",amount:$.amount,tokenMint:U.yesMint,tokenAccount:$.tokenAccount,isOnChain:!0})}if(U.noMint&&g.has(U.noMint)){const $=g.get(U.noMint);M.push({market:GP(C),choice:"no",amount:$.amount,tokenMint:U.noMint,tokenAccount:$.tokenAccount,isOnChain:!0})}}}return console.log("[DFlow] Found",M.length,"on-chain positions"),M}catch(u){return console.error("[DFlow] Failed to fetch on-chain positions:",u),[]}}async function hst({market:e,side:t,amount:n,userPublicKey:r}){var h;console.log("[DFlow] Placing bet:",{market:e.id,side:t,amount:n,userPublicKey:r});let i=t==="yes"?e.yesMint:e.noMint;if(!i){console.log("[DFlow] Token mint not found, fetching market details...");const m=await ast(e.id);if(m){const v=(h=m.accounts)==null?void 0:h[LS],y=Object.values(m.accounts||{})[0],g=v||y,b=g==null?void 0:g.yesMint,k=g==null?void 0:g.noMint;i=t==="yes"?b:k,console.log("[DFlow] Got mints from details - YES:",b,"NO:",k)}}if(!i)throw console.error("[DFlow] No outcome token mint found for",t,"Market:",e),new Error(`No ${t} token mint found for this market`);const o=Math.floor(n*1e6);console.log("[DFlow] Amount calculation:",{amountUSDC:n,amountInSmallestUnit:o,outputMint:i});const s=new URLSearchParams;s.append("inputMint",LS),s.append("outputMint",i),s.append("amount",o.toString()),s.append("slippageBps","100"),s.append("userPublicKey",r);const c=`${typeof window<"u"&&window.location.hostname!=="localhost"?"/api/dflow-order":"http://localhost:3001/api/dflow-order"}?${s.toString()}`;console.log("[DFlow] Using proxy:",c);const d=await fetch(c);if(!d.ok){const m=await d.text();throw console.error("[DFlow] Order failed:",d.status,m),new Error(`Order failed: ${d.status} - ${m}`)}const u=await d.json();return console.log("[DFlow] Order response:",u),u}function pst(e){const[t,n]=x.useState([]),[r,i]=x.useState(!1),[o,s]=x.useState(null),a=x.useCallback(async()=>{if(!e){n([]);return}i(!0),s(null);try{const c=(await fst(e)).map(d=>({market:d.market,choice:d.choice,amount:d.amount,profit:((d.choice==="yes"?d.market.yesProfit:d.market.noProfit)*d.amount).toFixed(2),timestamp:Date.now(),status:"pending",tokenMint:d.tokenMint,tokenAccount:d.tokenAccount,isOnChain:!0}));n(c),console.log("[useOnChainPositions] Found",c.length,"positions")}catch(l){console.error("[useOnChainPositions] Error:",l),s(l.message)}finally{i(!1)}},[e]);return x.useEffect(()=>{a()},[a]),{positions:t,isLoading:r,error:o,refetch:a}}const Hfe=x.createContext(null);let mst=0;function gst({children:e}){const[t,n]=x.useState([]),r=x.useCallback(c=>{const d=++mst,u={id:d,type:c.type||"info",message:c.message,button:c.button,onButtonClick:c.onButtonClick,autoDismiss:c.autoDismiss!==!1,duration:c.duration||3e3};return n(h=>[...h,u]),u.autoDismiss&&setTimeout(()=>{i(d)},u.duration),d},[]),i=x.useCallback(c=>{n(d=>d.filter(u=>u.id!==c))},[]),o=x.useCallback((c,d={})=>r({...d,type:"success",message:c,duration:d.duration||2e3}),[r]),s=x.useCallback((c,d={})=>r({...d,type:"error",message:c,autoDismiss:d.autoDismiss??!1}),[r]),a=x.useCallback((c,d={})=>r({...d,type:"warning",message:c,duration:d.duration||3e3}),[r]),l=x.useCallback((c,d={})=>r({...d,type:"info",message:c,duration:d.duration||3e3}),[r]);return f.jsx(Hfe.Provider,{value:{toasts:t,showToast:r,dismissToast:i,success:o,error:s,warning:a,info:l},children:e})}function Gfe(){const e=x.useContext(Hfe);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const Jfe=x.createContext(null);function yst({audioContext:e,children:t}){return f.jsx(Jfe.Provider,{value:e,children:t})}function vst(){return x.useContext(Jfe)}const Zfe=x.createContext();function wst({children:e}){const[t,n]=x.useState(()=>localStorage.getItem("instinct-theme")||"light");x.useEffect(()=>{localStorage.setItem("instinct-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")},i=t==="dark",o=i?{background:"#1a1a1a",backgroundSecondary:"#222",paper:"#2a2a2a",border:"#444",text:"#f0f0f0",textSecondary:"#aaa",textMuted:"#666"}:{background:"#E8E8E8",backgroundSecondary:"#f5f5f5",paper:"#fff",border:"#222",text:"#222",textSecondary:"#666",textMuted:"#888"};return f.jsx(Zfe.Provider,{value:{theme:t,toggleTheme:r,isDark:i,colors:o},children:e})}function dc(){const e=x.useContext(Zfe);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}var bst="4.57.1",_st="4.57.1";function mi(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function IY(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xst(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Z3(e,...t){if(!xst(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function kst(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");IY(e.outputLen),IY(e.blockLen)}function US(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Sst(e,t){Z3(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Jg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E4=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ld=(e,t)=>e<<32-t|e>>>t;function Ist(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Dj(e){return typeof e=="string"&&(e=Ist(e)),Z3(e),e}function Est(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Z3(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let Yfe=class{clone(){return this._cloneInto()}};function Xfe(e){const t=r=>e().update(Dj(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Qfe(e=32){if(Jg&&typeof Jg.getRandomValues=="function")return Jg.getRandomValues(new Uint8Array(e));if(Jg&&typeof Jg.randomBytes=="function")return Jg.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Cst(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}const Ast=(e,t,n)=>e&t^~e&n,Rst=(e,t,n)=>e&t^e&n^t&n;let ehe=class extends Yfe{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=E4(this.buffer)}update(t){US(this);const{view:n,buffer:r,blockLen:i}=this;t=Dj(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=E4(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){US(this),Sst(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;Cst(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=E4(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const Ck=BigInt(2**32-1),JP=BigInt(32);function the(e,t=!1){return t?{h:Number(e&Ck),l:Number(e>>JP&Ck)}:{h:Number(e>>JP&Ck)|0,l:Number(e&Ck)|0}}function Tst(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=the(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const Ost=(e,t)=>BigInt(e>>>0)<<JP|BigInt(t>>>0),Nst=(e,t,n)=>e>>>n,Pst=(e,t,n)=>e<<32-n|t>>>n,Bst=(e,t,n)=>e>>>n|t<<32-n,Mst=(e,t,n)=>e<<32-n|t>>>n,Dst=(e,t,n)=>e<<64-n|t>>>n-32,jst=(e,t,n)=>e>>>n-32|t<<64-n,$st=(e,t)=>t,Lst=(e,t)=>e,Ust=(e,t,n)=>e<<n|t>>>32-n,Fst=(e,t,n)=>t<<n|e>>>32-n,Wst=(e,t,n)=>t<<n-32|e>>>64-n,qst=(e,t,n)=>e<<n-32|t>>>64-n;function zst(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Vst=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Kst=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Hst=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Gst=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Jst=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Zst=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,Wn={fromBig:the,split:Tst,toBig:Ost,shrSH:Nst,shrSL:Pst,rotrSH:Bst,rotrSL:Mst,rotrBH:Dst,rotrBL:jst,rotr32H:$st,rotr32L:Lst,rotlSH:Ust,rotlSL:Fst,rotlBH:Wst,rotlBL:qst,add:zst,add3L:Vst,add3H:Kst,add4L:Hst,add4H:Gst,add5H:Zst,add5L:Jst},[Yst,Xst]=Wn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Af=new Uint32Array(80),Rf=new Uint32Array(80);let Qst=class extends ehe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:y,Hl:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=y|0,this.Hl=g|0}process(t,n){for(let _=0;_<16;_++,n+=4)Af[_]=t.getUint32(n),Rf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Af[_-15]|0,I=Rf[_-15]|0,T=Wn.rotrSH(R,I,1)^Wn.rotrSH(R,I,8)^Wn.shrSH(R,I,7),D=Wn.rotrSL(R,I,1)^Wn.rotrSL(R,I,8)^Wn.shrSL(R,I,7),M=Af[_-2]|0,C=Rf[_-2]|0,U=Wn.rotrSH(M,C,19)^Wn.rotrBH(M,C,61)^Wn.shrSH(M,C,6),$=Wn.rotrSL(M,C,19)^Wn.rotrBL(M,C,61)^Wn.shrSL(M,C,6),z=Wn.add4L(D,$,Rf[_-7],Rf[_-16]),q=Wn.add4H(z,T,U,Af[_-7],Af[_-16]);Af[_]=q|0,Rf[_]=z|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:y,Gl:g,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=Wn.rotrSH(u,h,14)^Wn.rotrSH(u,h,18)^Wn.rotrBH(u,h,41),I=Wn.rotrSL(u,h,14)^Wn.rotrSL(u,h,18)^Wn.rotrBL(u,h,41),T=u&m^~u&y,D=h&v^~h&g,M=Wn.add5L(k,I,D,Xst[_],Rf[_]),C=Wn.add5H(M,b,R,T,Yst[_],Af[_]),U=M|0,$=Wn.rotrSH(r,i,28)^Wn.rotrBH(r,i,34)^Wn.rotrBH(r,i,39),z=Wn.rotrSL(r,i,28)^Wn.rotrBL(r,i,34)^Wn.rotrBL(r,i,39),q=r&o^r&a^o&a,S=i&s^i&l^s&l;b=y|0,k=g|0,y=m|0,g=v|0,m=u|0,v=h|0,{h:u,l:h}=Wn.add(c|0,d|0,C|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=Wn.add3L(U,z,S);r=Wn.add3H(A,C,$,q),i=A|0}({h:r,l:i}=Wn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Wn.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Wn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Wn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=Wn.add(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=Wn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:y,l:g}=Wn.add(this.Gh|0,this.Gl|0,y|0,g|0),{h:b,l:k}=Wn.add(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k)}roundClean(){Af.fill(0),Rf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const eat=Xfe(()=>new Qst);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y3=BigInt(0),X3=BigInt(1),tat=BigInt(2);function Em(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function A_(e){if(!Em(e))throw new Error("Uint8Array expected")}function Uu(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const nat=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Cm(e){A_(e);let t="";for(let n=0;n<e.length;n++)t+=nat[e[n]];return t}function Py(e){const t=e.toString(16);return t.length&1?"0"+t:t}function jj(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Y3:BigInt("0x"+e)}const au={_0:48,_9:57,A:65,F:70,a:97,f:102};function EY(e){if(e>=au._0&&e<=au._9)return e-au._0;if(e>=au.A&&e<=au.F)return e-(au.A-10);if(e>=au.a&&e<=au.f)return e-(au.a-10)}function I0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=EY(e.charCodeAt(o)),a=EY(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function dm(e){return jj(Cm(e))}function Yy(e){return A_(e),jj(Cm(Uint8Array.from(e).reverse()))}function E0(e,t){return I0(e.toString(16).padStart(t*2,"0"))}function y1(e,t){return E0(e,t).reverse()}function rat(e){return I0(Py(e))}function ho(e,t,n){let r;if(typeof t=="string")try{r=I0(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Em(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Am(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];A_(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}function iat(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function oat(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const C4=e=>typeof e=="bigint"&&Y3<=e;function Q3(e,t,n){return C4(e)&&C4(t)&&C4(n)&&t<=e&&e<n}function Ql(e,t,n,r){if(!Q3(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function nhe(e){let t;for(t=0;e>Y3;e>>=X3,t+=1);return t}function sat(e,t){return e>>BigInt(t)&X3}function aat(e,t,n){return e|(n?X3:Y3)<<BigInt(t)}const $j=e=>(tat<<BigInt(e-1))-X3,A4=e=>new Uint8Array(e),CY=e=>Uint8Array.from(e);function rhe(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=A4(e),i=A4(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),l=(u=A4())=>{i=a(CY([0]),u),r=a(),u.length!==0&&(i=a(CY([1]),u),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<t;){r=a();const m=r.slice();h.push(m),u+=r.length}return Am(...h)};return(u,h)=>{s(),l(u);let m;for(;!(m=h(c()));)l();return s(),m}}const lat={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Em(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function pv(e,t,n={}){const r=(i,o,s)=>{const a=lat[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+l)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const cat=()=>{throw new Error("not implemented")};function v1(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const dat=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Ql,abool:Uu,abytes:A_,bitGet:sat,bitLen:nhe,bitMask:$j,bitSet:aat,bytesToHex:Cm,bytesToNumberBE:dm,bytesToNumberLE:Yy,concatBytes:Am,createHmacDrbg:rhe,ensureBytes:ho,equalBytes:iat,hexToBytes:I0,hexToNumber:jj,inRange:Q3,isBytes:Em,memoized:v1,notImplemented:cat,numberToBytesBE:E0,numberToBytesLE:y1,numberToHexUnpadded:Py,numberToVarBytesBE:rat,utf8ToBytes:oat,validateObject:pv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ko=BigInt(0),Ri=BigInt(1),Up=BigInt(2),uat=BigInt(3),ZP=BigInt(4),AY=BigInt(5),RY=BigInt(8);function xi(e,t){const n=e%t;return n>=Ko?n:t+n}function fat(e,t,n){if(t<Ko)throw new Error("invalid exponent, negatives unsupported");if(n<=Ko)throw new Error("invalid modulus");if(n===Ri)return Ko;let r=Ri;for(;t>Ko;)t&Ri&&(r=r*e%n),e=e*e%n,t>>=Ri;return r}function qi(e,t,n){let r=e;for(;t-- >Ko;)r*=r,r%=n;return r}function YP(e,t){if(e===Ko)throw new Error("invert: expected non-zero number");if(t<=Ko)throw new Error("invert: expected positive modulus, got "+t);let n=xi(e,t),r=t,i=Ko,o=Ri;for(;n!==Ko;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Ri)throw new Error("invert: does not exist");return xi(i,t)}function hat(e){const t=(e-Ri)/Up;let n,r,i;for(n=e-Ri,r=0;n%Up===Ko;n/=Up,r++);for(i=Up;i<e&&fat(i,t,e)!==e-Ri;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+Ri)/ZP;return function(l,c){const d=l.pow(c,s);if(!l.eql(l.sqr(d),c))throw new Error("Cannot find square root");return d}}const o=(n+Ri)/Up;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),u=a.pow(l,o),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let y=a.sqr(h);m<c&&!a.eql(y,a.ONE);m++)y=a.sqr(y);const v=a.pow(d,Ri<<BigInt(c-m-1));d=a.sqr(v),u=a.mul(u,v),h=a.mul(h,d),c=m}return u}}function pat(e){if(e%ZP===uat){const t=(e+Ri)/ZP;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%RY===AY){const t=(e-AY)/RY;return function(r,i){const o=r.mul(i,Up),s=r.pow(o,t),a=r.mul(i,s),l=r.mul(r.mul(a,Up),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return hat(e)}const mat=(e,t)=>(xi(e,t)&Ri)===Ri,gat=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yat(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gat.reduce((r,i)=>(r[i]="function",r),t);return pv(e,n)}function vat(e,t,n){if(n<Ko)throw new Error("invalid exponent, negatives unsupported");if(n===Ko)return e.ONE;if(n===Ri)return t;let r=e.ONE,i=t;for(;n>Ko;)n&Ri&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ri;return r}function wat(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function ihe(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function eE(e,t,n=!1,r={}){if(e<=Ko)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=ihe(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:$j(i),ZERO:Ko,ONE:Ri,create:l=>xi(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ko<=l&&l<e},is0:l=>l===Ko,isOdd:l=>(l&Ri)===Ri,neg:l=>xi(-l,e),eql:(l,c)=>l===c,sqr:l=>xi(l*l,e),add:(l,c)=>xi(l+c,e),sub:(l,c)=>xi(l-c,e),mul:(l,c)=>xi(l*c,e),pow:(l,c)=>vat(a,l,c),div:(l,c)=>xi(l*YP(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>YP(l,e),sqrt:r.sqrt||(l=>(s||(s=pat(e)),s(a,l))),invertBatch:l=>wat(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?y1(l,o):E0(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?Yy(l):dm(l)}});return Object.freeze(a)}function ohe(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function she(e){const t=ohe(e);return t+Math.ceil(t/2)}function bat(e,t,n=!1){const r=e.length,i=ohe(t),o=she(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Yy(e):dm(e),a=xi(s,t-Ri)+Ri;return n?y1(a,i):E0(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TY=BigInt(0),Ak=BigInt(1);function R4(e,t){const n=t.negate();return e?n:t}function ahe(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function T4(e,t){ahe(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function _at(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function xat(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const O4=new WeakMap,lhe=new WeakMap;function N4(e){return lhe.get(e)||1}function che(e,t){return{constTimeNegate:R4,hasPrecomputes(n){return N4(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>TY;)r&Ak&&(i=i.add(o)),o=o.double(),r>>=Ak;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=T4(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){const{windows:o,windowSize:s}=T4(n,t);let a=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),d=2**n,u=BigInt(n);for(let h=0;h<o;h++){const m=h*s;let v=Number(i&c);i>>=u,v>s&&(v-=d,i+=Ak);const y=m,g=m+Math.abs(v)-1,b=h%2!==0,k=v<0;v===0?l=l.add(R4(b,r[y])):a=a.add(R4(k,r[g]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=T4(n,t),l=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let u=0;u<s;u++){const h=u*a;if(i===TY)break;let m=Number(i&l);if(i>>=d,m>a&&(m-=c,i+=Ak),m===0)continue;let v=r[h+Math.abs(m)-1];m<0&&(v=v.negate()),o=o.add(v)}return o},getPrecomputes(n,r,i){let o=O4.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&O4.set(r,i(o))),o},wNAFCached(n,r,i){const o=N4(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=N4(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){ahe(r,t),lhe.set(n,r),O4.delete(n)}}}function dhe(e,t,n,r){if(_at(n,e),xat(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=nhe(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=new Array(a+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let d=i;for(let u=c;u>=0;u-=s){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],y=Number(v>>BigInt(u)&BigInt(a));l[y]=l[y].add(n[m])}let h=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),h=h.add(v);if(d=d.add(h),u!==0)for(let m=0;m<s;m++)d=d.double()}return d}function Lj(e){return yat(e.Fp),pv(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ihe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xc=BigInt(0),ba=BigInt(1),Rk=BigInt(2),kat=BigInt(8),Sat={zip215:!0};function Iat(e){const t=Lj(e);return pv(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Eat(e){const t=Iat(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=Rk<<BigInt(a*8)-ba,d=n.create,u=eE(t.n,t.nBitLength),h=t.uvRatio||((O,N)=>{try{return{isValid:!0,value:n.sqrt(O*n.inv(N))}}catch{return{isValid:!1,value:xc}}}),m=t.adjustScalarBytes||(O=>O),v=t.domain||((O,N,j)=>{if(Uu("phflag",j),N.length||j)throw new Error("Contexts/pre-hash are not supported");return O});function y(O,N){Ql("coordinate "+O,N,xc,c)}function g(O){if(!(O instanceof _))throw new Error("ExtendedPoint expected")}const b=v1((O,N)=>{const{ex:j,ey:V,ez:K}=O,W=O.is0();N==null&&(N=W?kat:n.inv(K));const P=d(j*N),F=d(V*N),G=d(K*N);if(W)return{x:xc,y:ba};if(G!==ba)throw new Error("invZ was invalid");return{x:P,y:F}}),k=v1(O=>{const{a:N,d:j}=t;if(O.is0())throw new Error("bad point: ZERO");const{ex:V,ey:K,ez:W,et:P}=O,F=d(V*V),G=d(K*K),Y=d(W*W),ie=d(Y*Y),ye=d(F*N),ge=d(Y*d(ye+G)),be=d(ie+d(j*d(F*G)));if(ge!==be)throw new Error("bad point: equation left != right (1)");const Le=d(V*K),qe=d(W*P);if(Le!==qe)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(N,j,V,K){this.ex=N,this.ey=j,this.ez=V,this.et=K,y("x",N),y("y",j),y("z",V),y("t",K),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof _)throw new Error("extended point not allowed");const{x:j,y:V}=N||{};return y("x",j),y("y",V),new _(j,V,ba,d(j*V))}static normalizeZ(N){const j=n.invertBatch(N.map(V=>V.ez));return N.map((V,K)=>V.toAffine(j[K])).map(_.fromAffine)}static msm(N,j){return dhe(_,u,N,j)}_setWindowSize(N){T.setWindowSize(this,N)}assertValidity(){k(this)}equals(N){g(N);const{ex:j,ey:V,ez:K}=this,{ex:W,ey:P,ez:F}=N,G=d(j*F),Y=d(W*K),ie=d(V*F),ye=d(P*K);return G===Y&&ie===ye}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:N}=t,{ex:j,ey:V,ez:K}=this,W=d(j*j),P=d(V*V),F=d(Rk*d(K*K)),G=d(N*W),Y=j+V,ie=d(d(Y*Y)-W-P),ye=G+P,ge=ye-F,be=G-P,Le=d(ie*ge),qe=d(ye*be),Me=d(ie*be),gt=d(ge*ye);return new _(Le,qe,gt,Me)}add(N){g(N);const{a:j,d:V}=t,{ex:K,ey:W,ez:P,et:F}=this,{ex:G,ey:Y,ez:ie,et:ye}=N;if(j===BigInt(-1)){const Re=d((W-K)*(Y+G)),Ze=d((W+K)*(Y-G)),ct=d(Ze-Re);if(ct===xc)return this.double();const st=d(P*Rk*ye),vt=d(F*Rk*ie),$t=vt+st,zt=Ze+Re,ce=vt-st,X=d($t*ct),ee=d(zt*ce),we=d($t*ce),Ae=d(ct*zt);return new _(X,ee,Ae,we)}const ge=d(K*G),be=d(W*Y),Le=d(F*V*ye),qe=d(P*ie),Me=d((K+W)*(G+Y)-ge-be),gt=qe-Le,tt=qe+Le,dt=d(be-j*ge),Xt=d(Me*gt),lt=d(tt*dt),jt=d(Me*dt),rn=d(gt*tt);return new _(Xt,lt,rn,jt)}subtract(N){return this.add(N.negate())}wNAF(N){return T.wNAFCached(this,N,_.normalizeZ)}multiply(N){const j=N;Ql("scalar",j,ba,r);const{p:V,f:K}=this.wNAF(j);return _.normalizeZ([V,K])[0]}multiplyUnsafe(N,j=_.ZERO){const V=N;return Ql("scalar",V,xc,r),V===xc?I:this.is0()||V===ba?this:T.wNAFCachedUnsafe(this,V,_.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(N){return b(this,N)}clearCofactor(){const{h:N}=t;return N===ba?this:this.multiplyUnsafe(N)}static fromHex(N,j=!1){const{d:V,a:K}=t,W=n.BYTES;N=ho("pointHex",N,W),Uu("zip215",j);const P=N.slice(),F=N[W-1];P[W-1]=F&-129;const G=Yy(P),Y=j?c:n.ORDER;Ql("pointHex.y",G,xc,Y);const ie=d(G*G),ye=d(ie-ba),ge=d(V*ie-K);let{isValid:be,value:Le}=h(ye,ge);if(!be)throw new Error("Point.fromHex: invalid y coordinate");const qe=(Le&ba)===ba,Me=(F&128)!==0;if(!j&&Le===xc&&Me)throw new Error("Point.fromHex: x=0 and x_0=1");return Me!==qe&&(Le=d(-Le)),_.fromAffine({x:Le,y:G})}static fromPrivateKey(N){return C(N).point}toRawBytes(){const{x:N,y:j}=this.toAffine(),V=y1(j,n.BYTES);return V[V.length-1]|=N&ba?128:0,V}toHex(){return Cm(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,ba,d(t.Gx*t.Gy)),_.ZERO=new _(xc,ba,ba,xc);const{BASE:R,ZERO:I}=_,T=che(_,a*8);function D(O){return xi(O,r)}function M(O){return D(Yy(O))}function C(O){const N=n.BYTES;O=ho("private key",O,N);const j=ho("hashed private key",o(O),2*N),V=m(j.slice(0,N)),K=j.slice(N,2*N),W=M(V),P=R.multiply(W),F=P.toRawBytes();return{head:V,prefix:K,scalar:W,point:P,pointBytes:F}}function U(O){return C(O).pointBytes}function $(O=new Uint8Array,...N){const j=Am(...N);return M(o(v(j,ho("context",O),!!i)))}function z(O,N,j={}){O=ho("message",O),i&&(O=i(O));const{prefix:V,scalar:K,pointBytes:W}=C(N),P=$(j.context,V,O),F=R.multiply(P).toRawBytes(),G=$(j.context,F,W,O),Y=D(P+G*K);Ql("signature.s",Y,xc,r);const ie=Am(F,y1(Y,n.BYTES));return ho("result",ie,n.BYTES*2)}const q=Sat;function S(O,N,j,V=q){const{context:K,zip215:W}=V,P=n.BYTES;O=ho("signature",O,2*P),N=ho("message",N),j=ho("publicKey",j,P),W!==void 0&&Uu("zip215",W),i&&(N=i(N));const F=Yy(O.slice(P,2*P));let G,Y,ie;try{G=_.fromHex(j,W),Y=_.fromHex(O.slice(0,P),W),ie=R.multiplyUnsafe(F)}catch{return!1}if(!W&&G.isSmallOrder())return!1;const ye=$(K,Y.toRawBytes(),G.toRawBytes(),N);return Y.add(G.multiplyUnsafe(ye)).subtract(ie).clearCofactor().equals(_.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:U,sign:z,verify:S,ExtendedPoint:_,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>s(n.BYTES),precompute(O=8,N=_.BASE){return N._setWindowSize(O),N.multiply(BigInt(3)),N}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uj=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),OY=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Cat=BigInt(1),NY=BigInt(2);BigInt(3);const Aat=BigInt(5),Rat=BigInt(8);function Tat(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Uj,a=e*e%o*e%o,l=qi(a,NY,o)*a%o,c=qi(l,Cat,o)*e%o,d=qi(c,Aat,o)*c%o,u=qi(d,t,o)*d%o,h=qi(u,n,o)*u%o,m=qi(h,r,o)*h%o,v=qi(m,i,o)*m%o,y=qi(v,i,o)*m%o,g=qi(y,t,o)*d%o;return{pow_p_5_8:qi(g,NY,o)*e%o,b2:a}}function Oat(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Nat(e,t){const n=Uj,r=xi(t*t*t,n),i=xi(r*r*t,n),o=Tat(e*i).pow_p_5_8;let s=xi(e*r*o,n);const a=xi(t*s*s,n),l=s,c=xi(s*OY,n),d=a===e,u=a===xi(-e,n),h=a===xi(-e*OY,n);return d&&(s=l),(u||h)&&(s=c),mat(s,n)&&(s=xi(-s,n)),{isValid:d||u,value:s}}const Pat=eE(Uj,void 0,!0),Bat={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pat,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Rat,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eat,randomBytes:Qfe,adjustScalarBytes:Oat,uvRatio:Nat},af=Eat(Bat);var M2={exports:{}};const Mat={},Dat=Object.freeze(Object.defineProperty({__proto__:null,default:Mat},Symbol.toStringTag,{value:"Module"})),uhe=q1(Dat);var jat=M2.exports,PY;function fhe(){return PY||(PY=1,(function(e){(function(t,n){function r(q,S){if(!q)throw new Error(S||"Assertion failed")}function i(q,S){q.super_=S;var A=function(){};A.prototype=S.prototype,q.prototype=new A,q.prototype.constructor=q}function o(q,S,A){if(o.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((S==="le"||S==="be")&&(A=S,S=10),this._init(q||0,S||10,A||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=uhe.Buffer}catch{}o.isBN=function(S){return S instanceof o?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===o.wordSize&&Array.isArray(S.words)},o.max=function(S,A){return S.cmp(A)>0?S:A},o.min=function(S,A){return S.cmp(A)<0?S:A},o.prototype._init=function(S,A,O){if(typeof S=="number")return this._initNumber(S,A,O);if(typeof S=="object")return this._initArray(S,A,O);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),S=S.toString().replace(/\s+/g,"");var N=0;S[0]==="-"&&(N++,this.negative=1),N<S.length&&(A===16?this._parseHex(S,N,O):(this._parseBase(S,A,N),O==="le"&&this._initArray(this.toArray(),A,O)))},o.prototype._initNumber=function(S,A,O){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),A,O)},o.prototype._initArray=function(S,A,O){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var j,V,K=0;if(O==="be")for(N=S.length-1,j=0;N>=0;N-=3)V=S[N]|S[N-1]<<8|S[N-2]<<16,this.words[j]|=V<<K&67108863,this.words[j+1]=V>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);else if(O==="le")for(N=0,j=0;N<S.length;N+=3)V=S[N]|S[N+1]<<8|S[N+2]<<16,this.words[j]|=V<<K&67108863,this.words[j+1]=V>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);return this._strip()};function a(q,S){var A=q.charCodeAt(S);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+q)}function l(q,S,A){var O=a(q,A);return A-1>=S&&(O|=a(q,A-1)<<4),O}o.prototype._parseHex=function(S,A,O){this.length=Math.ceil((S.length-A)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var j=0,V=0,K;if(O==="be")for(N=S.length-1;N>=A;N-=2)K=l(S,A,N)<<j,this.words[V]|=K&67108863,j>=18?(j-=18,V+=1,this.words[V]|=K>>>26):j+=8;else{var W=S.length-A;for(N=W%2===0?A+1:A;N<S.length;N+=2)K=l(S,A,N)<<j,this.words[V]|=K&67108863,j>=18?(j-=18,V+=1,this.words[V]|=K>>>26):j+=8}this._strip()};function c(q,S,A,O){for(var N=0,j=0,V=Math.min(q.length,A),K=S;K<V;K++){var W=q.charCodeAt(K)-48;N*=O,W>=49?j=W-49+10:W>=17?j=W-17+10:j=W,r(W>=0&&j<O,"Invalid character"),N+=j}return N}o.prototype._parseBase=function(S,A,O){this.words=[0],this.length=1;for(var N=0,j=1;j<=67108863;j*=A)N++;N--,j=j/A|0;for(var V=S.length-O,K=V%N,W=Math.min(V,V-K)+O,P=0,F=O;F<W;F+=N)P=c(S,F,F+N,A),this.imuln(j),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(K!==0){var G=1;for(P=c(S,F,S.length,A),F=0;F<K;F++)G*=A;this.imuln(G),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this._strip()},o.prototype.copy=function(S){S.words=new Array(this.length);for(var A=0;A<this.length;A++)S.words[A]=this.words[A];S.length=this.length,S.negative=this.negative,S.red=this.red};function d(q,S){q.words=S.words,q.length=S.length,q.negative=S.negative,q.red=S.red}if(o.prototype._move=function(S){d(S,this)},o.prototype.clone=function(){var S=new o(null);return this.copy(S),S},o.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{o.prototype.inspect=u}else o.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(S,A){S=S||10,A=A|0||1;var O;if(S===16||S==="hex"){O="";for(var N=0,j=0,V=0;V<this.length;V++){var K=this.words[V],W=((K<<N|j)&16777215).toString(16);j=K>>>24-N&16777215,N+=2,N>=26&&(N-=26,V--),j!==0||V!==this.length-1?O=h[6-W.length]+W+O:O=W+O}for(j!==0&&(O=j.toString(16)+O);O.length%A!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(S===(S|0)&&S>=2&&S<=36){var P=m[S],F=v[S];O="";var G=this.clone();for(G.negative=0;!G.isZero();){var Y=G.modrn(F).toString(S);G=G.idivn(F),G.isZero()?O=Y+O:O=h[P-Y.length]+Y+O}for(this.isZero()&&(O="0"+O);O.length%A!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(S,A){return this.toArrayLike(s,S,A)}),o.prototype.toArray=function(S,A){return this.toArrayLike(Array,S,A)};var y=function(S,A){return S.allocUnsafe?S.allocUnsafe(A):new S(A)};o.prototype.toArrayLike=function(S,A,O){this._strip();var N=this.byteLength(),j=O||Math.max(1,N);r(N<=j,"byte array longer than desired length"),r(j>0,"Requested array length <= 0");var V=y(S,j),K=A==="le"?"LE":"BE";return this["_toArrayLike"+K](V,N),V},o.prototype._toArrayLikeLE=function(S,A){for(var O=0,N=0,j=0,V=0;j<this.length;j++){var K=this.words[j]<<V|N;S[O++]=K&255,O<S.length&&(S[O++]=K>>8&255),O<S.length&&(S[O++]=K>>16&255),V===6?(O<S.length&&(S[O++]=K>>24&255),N=0,V=0):(N=K>>>24,V+=2)}if(O<S.length)for(S[O++]=N;O<S.length;)S[O++]=0},o.prototype._toArrayLikeBE=function(S,A){for(var O=S.length-1,N=0,j=0,V=0;j<this.length;j++){var K=this.words[j]<<V|N;S[O--]=K&255,O>=0&&(S[O--]=K>>8&255),O>=0&&(S[O--]=K>>16&255),V===6?(O>=0&&(S[O--]=K>>24&255),N=0,V=0):(N=K>>>24,V+=2)}if(O>=0)for(S[O--]=N;O>=0;)S[O--]=0},Math.clz32?o.prototype._countBits=function(S){return 32-Math.clz32(S)}:o.prototype._countBits=function(S){var A=S,O=0;return A>=4096&&(O+=13,A>>>=13),A>=64&&(O+=7,A>>>=7),A>=8&&(O+=4,A>>>=4),A>=2&&(O+=2,A>>>=2),O+A},o.prototype._zeroBits=function(S){if(S===0)return 26;var A=S,O=0;return(A&8191)===0&&(O+=13,A>>>=13),(A&127)===0&&(O+=7,A>>>=7),(A&15)===0&&(O+=4,A>>>=4),(A&3)===0&&(O+=2,A>>>=2),(A&1)===0&&O++,O},o.prototype.bitLength=function(){var S=this.words[this.length-1],A=this._countBits(S);return(this.length-1)*26+A};function g(q){for(var S=new Array(q.bitLength()),A=0;A<S.length;A++){var O=A/26|0,N=A%26;S[A]=q.words[O]>>>N&1}return S}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,A=0;A<this.length;A++){var O=this._zeroBits(this.words[A]);if(S+=O,O!==26)break}return S},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},o.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var A=0;A<S.length;A++)this.words[A]=this.words[A]|S.words[A];return this._strip()},o.prototype.ior=function(S){return r((this.negative|S.negative)===0),this.iuor(S)},o.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},o.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},o.prototype.iuand=function(S){var A;this.length>S.length?A=S:A=this;for(var O=0;O<A.length;O++)this.words[O]=this.words[O]&S.words[O];return this.length=A.length,this._strip()},o.prototype.iand=function(S){return r((this.negative|S.negative)===0),this.iuand(S)},o.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},o.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},o.prototype.iuxor=function(S){var A,O;this.length>S.length?(A=this,O=S):(A=S,O=this);for(var N=0;N<O.length;N++)this.words[N]=A.words[N]^O.words[N];if(this!==A)for(;N<A.length;N++)this.words[N]=A.words[N];return this.length=A.length,this._strip()},o.prototype.ixor=function(S){return r((this.negative|S.negative)===0),this.iuxor(S)},o.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},o.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},o.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var A=Math.ceil(S/26)|0,O=S%26;this._expand(A),O>0&&A--;for(var N=0;N<A;N++)this.words[N]=~this.words[N]&67108863;return O>0&&(this.words[N]=~this.words[N]&67108863>>26-O),this._strip()},o.prototype.notn=function(S){return this.clone().inotn(S)},o.prototype.setn=function(S,A){r(typeof S=="number"&&S>=0);var O=S/26|0,N=S%26;return this._expand(O+1),A?this.words[O]=this.words[O]|1<<N:this.words[O]=this.words[O]&~(1<<N),this._strip()},o.prototype.iadd=function(S){var A;if(this.negative!==0&&S.negative===0)return this.negative=0,A=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,A=this.isub(S),S.negative=1,A._normSign();var O,N;this.length>S.length?(O=this,N=S):(O=S,N=this);for(var j=0,V=0;V<N.length;V++)A=(O.words[V]|0)+(N.words[V]|0)+j,this.words[V]=A&67108863,j=A>>>26;for(;j!==0&&V<O.length;V++)A=(O.words[V]|0)+j,this.words[V]=A&67108863,j=A>>>26;if(this.length=O.length,j!==0)this.words[this.length]=j,this.length++;else if(O!==this)for(;V<O.length;V++)this.words[V]=O.words[V];return this},o.prototype.add=function(S){var A;return S.negative!==0&&this.negative===0?(S.negative=0,A=this.sub(S),S.negative^=1,A):S.negative===0&&this.negative!==0?(this.negative=0,A=S.sub(this),this.negative=1,A):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},o.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var A=this.iadd(S);return S.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var O=this.cmp(S);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,j;O>0?(N=this,j=S):(N=S,j=this);for(var V=0,K=0;K<j.length;K++)A=(N.words[K]|0)-(j.words[K]|0)+V,V=A>>26,this.words[K]=A&67108863;for(;V!==0&&K<N.length;K++)A=(N.words[K]|0)+V,V=A>>26,this.words[K]=A&67108863;if(V===0&&K<N.length&&N!==this)for(;K<N.length;K++)this.words[K]=N.words[K];return this.length=Math.max(this.length,K),N!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(S){return this.clone().isub(S)};function b(q,S,A){A.negative=S.negative^q.negative;var O=q.length+S.length|0;A.length=O,O=O-1|0;var N=q.words[0]|0,j=S.words[0]|0,V=N*j,K=V&67108863,W=V/67108864|0;A.words[0]=K;for(var P=1;P<O;P++){for(var F=W>>>26,G=W&67108863,Y=Math.min(P,S.length-1),ie=Math.max(0,P-q.length+1);ie<=Y;ie++){var ye=P-ie|0;N=q.words[ye]|0,j=S.words[ie]|0,V=N*j+G,F+=V/67108864|0,G=V&67108863}A.words[P]=G|0,W=F|0}return W!==0?A.words[P]=W|0:A.length--,A._strip()}var k=function(S,A,O){var N=S.words,j=A.words,V=O.words,K=0,W,P,F,G=N[0]|0,Y=G&8191,ie=G>>>13,ye=N[1]|0,ge=ye&8191,be=ye>>>13,Le=N[2]|0,qe=Le&8191,Me=Le>>>13,gt=N[3]|0,tt=gt&8191,dt=gt>>>13,Xt=N[4]|0,lt=Xt&8191,jt=Xt>>>13,rn=N[5]|0,Re=rn&8191,Ze=rn>>>13,ct=N[6]|0,st=ct&8191,vt=ct>>>13,$t=N[7]|0,zt=$t&8191,ce=$t>>>13,X=N[8]|0,ee=X&8191,we=X>>>13,Ae=N[9]|0,Pe=Ae&8191,Fe=Ae>>>13,en=j[0]|0,on=en&8191,tn=en>>>13,Bn=j[1]|0,Jt=Bn&8191,hr=Bn>>>13,Wa=j[2]|0,pr=Wa&8191,wr=Wa>>>13,uc=j[3]|0,ir=uc&8191,sr=uc>>>13,Qo=j[4]|0,Or=Qo&8191,Ir=Qo>>>13,fc=j[5]|0,Er=fc&8191,Fn=fc>>>13,es=j[6]|0,ne=es&8191,fe=es>>>13,he=j[7]|0,Z=he&8191,ve=he>>>13,Be=j[8]|0,Ne=Be&8191,Ge=Be>>>13,ut=j[9]|0,bt=ut&8191,Ye=ut>>>13;O.negative=S.negative^A.negative,O.length=19,W=Math.imul(Y,on),P=Math.imul(Y,tn),P=P+Math.imul(ie,on)|0,F=Math.imul(ie,tn);var jn=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(jn>>>26)|0,jn&=67108863,W=Math.imul(ge,on),P=Math.imul(ge,tn),P=P+Math.imul(be,on)|0,F=Math.imul(be,tn),W=W+Math.imul(Y,Jt)|0,P=P+Math.imul(Y,hr)|0,P=P+Math.imul(ie,Jt)|0,F=F+Math.imul(ie,hr)|0;var Et=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Et>>>26)|0,Et&=67108863,W=Math.imul(qe,on),P=Math.imul(qe,tn),P=P+Math.imul(Me,on)|0,F=Math.imul(Me,tn),W=W+Math.imul(ge,Jt)|0,P=P+Math.imul(ge,hr)|0,P=P+Math.imul(be,Jt)|0,F=F+Math.imul(be,hr)|0,W=W+Math.imul(Y,pr)|0,P=P+Math.imul(Y,wr)|0,P=P+Math.imul(ie,pr)|0,F=F+Math.imul(ie,wr)|0;var Zt=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,W=Math.imul(tt,on),P=Math.imul(tt,tn),P=P+Math.imul(dt,on)|0,F=Math.imul(dt,tn),W=W+Math.imul(qe,Jt)|0,P=P+Math.imul(qe,hr)|0,P=P+Math.imul(Me,Jt)|0,F=F+Math.imul(Me,hr)|0,W=W+Math.imul(ge,pr)|0,P=P+Math.imul(ge,wr)|0,P=P+Math.imul(be,pr)|0,F=F+Math.imul(be,wr)|0,W=W+Math.imul(Y,ir)|0,P=P+Math.imul(Y,sr)|0,P=P+Math.imul(ie,ir)|0,F=F+Math.imul(ie,sr)|0;var dn=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(dn>>>26)|0,dn&=67108863,W=Math.imul(lt,on),P=Math.imul(lt,tn),P=P+Math.imul(jt,on)|0,F=Math.imul(jt,tn),W=W+Math.imul(tt,Jt)|0,P=P+Math.imul(tt,hr)|0,P=P+Math.imul(dt,Jt)|0,F=F+Math.imul(dt,hr)|0,W=W+Math.imul(qe,pr)|0,P=P+Math.imul(qe,wr)|0,P=P+Math.imul(Me,pr)|0,F=F+Math.imul(Me,wr)|0,W=W+Math.imul(ge,ir)|0,P=P+Math.imul(ge,sr)|0,P=P+Math.imul(be,ir)|0,F=F+Math.imul(be,sr)|0,W=W+Math.imul(Y,Or)|0,P=P+Math.imul(Y,Ir)|0,P=P+Math.imul(ie,Or)|0,F=F+Math.imul(ie,Ir)|0;var yn=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(yn>>>26)|0,yn&=67108863,W=Math.imul(Re,on),P=Math.imul(Re,tn),P=P+Math.imul(Ze,on)|0,F=Math.imul(Ze,tn),W=W+Math.imul(lt,Jt)|0,P=P+Math.imul(lt,hr)|0,P=P+Math.imul(jt,Jt)|0,F=F+Math.imul(jt,hr)|0,W=W+Math.imul(tt,pr)|0,P=P+Math.imul(tt,wr)|0,P=P+Math.imul(dt,pr)|0,F=F+Math.imul(dt,wr)|0,W=W+Math.imul(qe,ir)|0,P=P+Math.imul(qe,sr)|0,P=P+Math.imul(Me,ir)|0,F=F+Math.imul(Me,sr)|0,W=W+Math.imul(ge,Or)|0,P=P+Math.imul(ge,Ir)|0,P=P+Math.imul(be,Or)|0,F=F+Math.imul(be,Ir)|0,W=W+Math.imul(Y,Er)|0,P=P+Math.imul(Y,Fn)|0,P=P+Math.imul(ie,Er)|0,F=F+Math.imul(ie,Fn)|0;var vn=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(vn>>>26)|0,vn&=67108863,W=Math.imul(st,on),P=Math.imul(st,tn),P=P+Math.imul(vt,on)|0,F=Math.imul(vt,tn),W=W+Math.imul(Re,Jt)|0,P=P+Math.imul(Re,hr)|0,P=P+Math.imul(Ze,Jt)|0,F=F+Math.imul(Ze,hr)|0,W=W+Math.imul(lt,pr)|0,P=P+Math.imul(lt,wr)|0,P=P+Math.imul(jt,pr)|0,F=F+Math.imul(jt,wr)|0,W=W+Math.imul(tt,ir)|0,P=P+Math.imul(tt,sr)|0,P=P+Math.imul(dt,ir)|0,F=F+Math.imul(dt,sr)|0,W=W+Math.imul(qe,Or)|0,P=P+Math.imul(qe,Ir)|0,P=P+Math.imul(Me,Or)|0,F=F+Math.imul(Me,Ir)|0,W=W+Math.imul(ge,Er)|0,P=P+Math.imul(ge,Fn)|0,P=P+Math.imul(be,Er)|0,F=F+Math.imul(be,Fn)|0,W=W+Math.imul(Y,ne)|0,P=P+Math.imul(Y,fe)|0,P=P+Math.imul(ie,ne)|0,F=F+Math.imul(ie,fe)|0;var un=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(un>>>26)|0,un&=67108863,W=Math.imul(zt,on),P=Math.imul(zt,tn),P=P+Math.imul(ce,on)|0,F=Math.imul(ce,tn),W=W+Math.imul(st,Jt)|0,P=P+Math.imul(st,hr)|0,P=P+Math.imul(vt,Jt)|0,F=F+Math.imul(vt,hr)|0,W=W+Math.imul(Re,pr)|0,P=P+Math.imul(Re,wr)|0,P=P+Math.imul(Ze,pr)|0,F=F+Math.imul(Ze,wr)|0,W=W+Math.imul(lt,ir)|0,P=P+Math.imul(lt,sr)|0,P=P+Math.imul(jt,ir)|0,F=F+Math.imul(jt,sr)|0,W=W+Math.imul(tt,Or)|0,P=P+Math.imul(tt,Ir)|0,P=P+Math.imul(dt,Or)|0,F=F+Math.imul(dt,Ir)|0,W=W+Math.imul(qe,Er)|0,P=P+Math.imul(qe,Fn)|0,P=P+Math.imul(Me,Er)|0,F=F+Math.imul(Me,Fn)|0,W=W+Math.imul(ge,ne)|0,P=P+Math.imul(ge,fe)|0,P=P+Math.imul(be,ne)|0,F=F+Math.imul(be,fe)|0,W=W+Math.imul(Y,Z)|0,P=P+Math.imul(Y,ve)|0,P=P+Math.imul(ie,Z)|0,F=F+Math.imul(ie,ve)|0;var Rt=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,W=Math.imul(ee,on),P=Math.imul(ee,tn),P=P+Math.imul(we,on)|0,F=Math.imul(we,tn),W=W+Math.imul(zt,Jt)|0,P=P+Math.imul(zt,hr)|0,P=P+Math.imul(ce,Jt)|0,F=F+Math.imul(ce,hr)|0,W=W+Math.imul(st,pr)|0,P=P+Math.imul(st,wr)|0,P=P+Math.imul(vt,pr)|0,F=F+Math.imul(vt,wr)|0,W=W+Math.imul(Re,ir)|0,P=P+Math.imul(Re,sr)|0,P=P+Math.imul(Ze,ir)|0,F=F+Math.imul(Ze,sr)|0,W=W+Math.imul(lt,Or)|0,P=P+Math.imul(lt,Ir)|0,P=P+Math.imul(jt,Or)|0,F=F+Math.imul(jt,Ir)|0,W=W+Math.imul(tt,Er)|0,P=P+Math.imul(tt,Fn)|0,P=P+Math.imul(dt,Er)|0,F=F+Math.imul(dt,Fn)|0,W=W+Math.imul(qe,ne)|0,P=P+Math.imul(qe,fe)|0,P=P+Math.imul(Me,ne)|0,F=F+Math.imul(Me,fe)|0,W=W+Math.imul(ge,Z)|0,P=P+Math.imul(ge,ve)|0,P=P+Math.imul(be,Z)|0,F=F+Math.imul(be,ve)|0,W=W+Math.imul(Y,Ne)|0,P=P+Math.imul(Y,Ge)|0,P=P+Math.imul(ie,Ne)|0,F=F+Math.imul(ie,Ge)|0;var hn=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(hn>>>26)|0,hn&=67108863,W=Math.imul(Pe,on),P=Math.imul(Pe,tn),P=P+Math.imul(Fe,on)|0,F=Math.imul(Fe,tn),W=W+Math.imul(ee,Jt)|0,P=P+Math.imul(ee,hr)|0,P=P+Math.imul(we,Jt)|0,F=F+Math.imul(we,hr)|0,W=W+Math.imul(zt,pr)|0,P=P+Math.imul(zt,wr)|0,P=P+Math.imul(ce,pr)|0,F=F+Math.imul(ce,wr)|0,W=W+Math.imul(st,ir)|0,P=P+Math.imul(st,sr)|0,P=P+Math.imul(vt,ir)|0,F=F+Math.imul(vt,sr)|0,W=W+Math.imul(Re,Or)|0,P=P+Math.imul(Re,Ir)|0,P=P+Math.imul(Ze,Or)|0,F=F+Math.imul(Ze,Ir)|0,W=W+Math.imul(lt,Er)|0,P=P+Math.imul(lt,Fn)|0,P=P+Math.imul(jt,Er)|0,F=F+Math.imul(jt,Fn)|0,W=W+Math.imul(tt,ne)|0,P=P+Math.imul(tt,fe)|0,P=P+Math.imul(dt,ne)|0,F=F+Math.imul(dt,fe)|0,W=W+Math.imul(qe,Z)|0,P=P+Math.imul(qe,ve)|0,P=P+Math.imul(Me,Z)|0,F=F+Math.imul(Me,ve)|0,W=W+Math.imul(ge,Ne)|0,P=P+Math.imul(ge,Ge)|0,P=P+Math.imul(be,Ne)|0,F=F+Math.imul(be,Ge)|0,W=W+Math.imul(Y,bt)|0,P=P+Math.imul(Y,Ye)|0,P=P+Math.imul(ie,bt)|0,F=F+Math.imul(ie,Ye)|0;var Tt=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,W=Math.imul(Pe,Jt),P=Math.imul(Pe,hr),P=P+Math.imul(Fe,Jt)|0,F=Math.imul(Fe,hr),W=W+Math.imul(ee,pr)|0,P=P+Math.imul(ee,wr)|0,P=P+Math.imul(we,pr)|0,F=F+Math.imul(we,wr)|0,W=W+Math.imul(zt,ir)|0,P=P+Math.imul(zt,sr)|0,P=P+Math.imul(ce,ir)|0,F=F+Math.imul(ce,sr)|0,W=W+Math.imul(st,Or)|0,P=P+Math.imul(st,Ir)|0,P=P+Math.imul(vt,Or)|0,F=F+Math.imul(vt,Ir)|0,W=W+Math.imul(Re,Er)|0,P=P+Math.imul(Re,Fn)|0,P=P+Math.imul(Ze,Er)|0,F=F+Math.imul(Ze,Fn)|0,W=W+Math.imul(lt,ne)|0,P=P+Math.imul(lt,fe)|0,P=P+Math.imul(jt,ne)|0,F=F+Math.imul(jt,fe)|0,W=W+Math.imul(tt,Z)|0,P=P+Math.imul(tt,ve)|0,P=P+Math.imul(dt,Z)|0,F=F+Math.imul(dt,ve)|0,W=W+Math.imul(qe,Ne)|0,P=P+Math.imul(qe,Ge)|0,P=P+Math.imul(Me,Ne)|0,F=F+Math.imul(Me,Ge)|0,W=W+Math.imul(ge,bt)|0,P=P+Math.imul(ge,Ye)|0,P=P+Math.imul(be,bt)|0,F=F+Math.imul(be,Ye)|0;var Ft=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,W=Math.imul(Pe,pr),P=Math.imul(Pe,wr),P=P+Math.imul(Fe,pr)|0,F=Math.imul(Fe,wr),W=W+Math.imul(ee,ir)|0,P=P+Math.imul(ee,sr)|0,P=P+Math.imul(we,ir)|0,F=F+Math.imul(we,sr)|0,W=W+Math.imul(zt,Or)|0,P=P+Math.imul(zt,Ir)|0,P=P+Math.imul(ce,Or)|0,F=F+Math.imul(ce,Ir)|0,W=W+Math.imul(st,Er)|0,P=P+Math.imul(st,Fn)|0,P=P+Math.imul(vt,Er)|0,F=F+Math.imul(vt,Fn)|0,W=W+Math.imul(Re,ne)|0,P=P+Math.imul(Re,fe)|0,P=P+Math.imul(Ze,ne)|0,F=F+Math.imul(Ze,fe)|0,W=W+Math.imul(lt,Z)|0,P=P+Math.imul(lt,ve)|0,P=P+Math.imul(jt,Z)|0,F=F+Math.imul(jt,ve)|0,W=W+Math.imul(tt,Ne)|0,P=P+Math.imul(tt,Ge)|0,P=P+Math.imul(dt,Ne)|0,F=F+Math.imul(dt,Ge)|0,W=W+Math.imul(qe,bt)|0,P=P+Math.imul(qe,Ye)|0,P=P+Math.imul(Me,bt)|0,F=F+Math.imul(Me,Ye)|0;var St=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(St>>>26)|0,St&=67108863,W=Math.imul(Pe,ir),P=Math.imul(Pe,sr),P=P+Math.imul(Fe,ir)|0,F=Math.imul(Fe,sr),W=W+Math.imul(ee,Or)|0,P=P+Math.imul(ee,Ir)|0,P=P+Math.imul(we,Or)|0,F=F+Math.imul(we,Ir)|0,W=W+Math.imul(zt,Er)|0,P=P+Math.imul(zt,Fn)|0,P=P+Math.imul(ce,Er)|0,F=F+Math.imul(ce,Fn)|0,W=W+Math.imul(st,ne)|0,P=P+Math.imul(st,fe)|0,P=P+Math.imul(vt,ne)|0,F=F+Math.imul(vt,fe)|0,W=W+Math.imul(Re,Z)|0,P=P+Math.imul(Re,ve)|0,P=P+Math.imul(Ze,Z)|0,F=F+Math.imul(Ze,ve)|0,W=W+Math.imul(lt,Ne)|0,P=P+Math.imul(lt,Ge)|0,P=P+Math.imul(jt,Ne)|0,F=F+Math.imul(jt,Ge)|0,W=W+Math.imul(tt,bt)|0,P=P+Math.imul(tt,Ye)|0,P=P+Math.imul(dt,bt)|0,F=F+Math.imul(dt,Ye)|0;var Pt=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,W=Math.imul(Pe,Or),P=Math.imul(Pe,Ir),P=P+Math.imul(Fe,Or)|0,F=Math.imul(Fe,Ir),W=W+Math.imul(ee,Er)|0,P=P+Math.imul(ee,Fn)|0,P=P+Math.imul(we,Er)|0,F=F+Math.imul(we,Fn)|0,W=W+Math.imul(zt,ne)|0,P=P+Math.imul(zt,fe)|0,P=P+Math.imul(ce,ne)|0,F=F+Math.imul(ce,fe)|0,W=W+Math.imul(st,Z)|0,P=P+Math.imul(st,ve)|0,P=P+Math.imul(vt,Z)|0,F=F+Math.imul(vt,ve)|0,W=W+Math.imul(Re,Ne)|0,P=P+Math.imul(Re,Ge)|0,P=P+Math.imul(Ze,Ne)|0,F=F+Math.imul(Ze,Ge)|0,W=W+Math.imul(lt,bt)|0,P=P+Math.imul(lt,Ye)|0,P=P+Math.imul(jt,bt)|0,F=F+Math.imul(jt,Ye)|0;var Dt=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,W=Math.imul(Pe,Er),P=Math.imul(Pe,Fn),P=P+Math.imul(Fe,Er)|0,F=Math.imul(Fe,Fn),W=W+Math.imul(ee,ne)|0,P=P+Math.imul(ee,fe)|0,P=P+Math.imul(we,ne)|0,F=F+Math.imul(we,fe)|0,W=W+Math.imul(zt,Z)|0,P=P+Math.imul(zt,ve)|0,P=P+Math.imul(ce,Z)|0,F=F+Math.imul(ce,ve)|0,W=W+Math.imul(st,Ne)|0,P=P+Math.imul(st,Ge)|0,P=P+Math.imul(vt,Ne)|0,F=F+Math.imul(vt,Ge)|0,W=W+Math.imul(Re,bt)|0,P=P+Math.imul(Re,Ye)|0,P=P+Math.imul(Ze,bt)|0,F=F+Math.imul(Ze,Ye)|0;var _t=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(_t>>>26)|0,_t&=67108863,W=Math.imul(Pe,ne),P=Math.imul(Pe,fe),P=P+Math.imul(Fe,ne)|0,F=Math.imul(Fe,fe),W=W+Math.imul(ee,Z)|0,P=P+Math.imul(ee,ve)|0,P=P+Math.imul(we,Z)|0,F=F+Math.imul(we,ve)|0,W=W+Math.imul(zt,Ne)|0,P=P+Math.imul(zt,Ge)|0,P=P+Math.imul(ce,Ne)|0,F=F+Math.imul(ce,Ge)|0,W=W+Math.imul(st,bt)|0,P=P+Math.imul(st,Ye)|0,P=P+Math.imul(vt,bt)|0,F=F+Math.imul(vt,Ye)|0;var Ue=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,W=Math.imul(Pe,Z),P=Math.imul(Pe,ve),P=P+Math.imul(Fe,Z)|0,F=Math.imul(Fe,ve),W=W+Math.imul(ee,Ne)|0,P=P+Math.imul(ee,Ge)|0,P=P+Math.imul(we,Ne)|0,F=F+Math.imul(we,Ge)|0,W=W+Math.imul(zt,bt)|0,P=P+Math.imul(zt,Ye)|0,P=P+Math.imul(ce,bt)|0,F=F+Math.imul(ce,Ye)|0;var Ve=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,W=Math.imul(Pe,Ne),P=Math.imul(Pe,Ge),P=P+Math.imul(Fe,Ne)|0,F=Math.imul(Fe,Ge),W=W+Math.imul(ee,bt)|0,P=P+Math.imul(ee,Ye)|0,P=P+Math.imul(we,bt)|0,F=F+Math.imul(we,Ye)|0;var et=(K+W|0)+((P&8191)<<13)|0;K=(F+(P>>>13)|0)+(et>>>26)|0,et&=67108863,W=Math.imul(Pe,bt),P=Math.imul(Pe,Ye),P=P+Math.imul(Fe,bt)|0,F=Math.imul(Fe,Ye);var Qe=(K+W|0)+((P&8191)<<13)|0;return K=(F+(P>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,V[0]=jn,V[1]=Et,V[2]=Zt,V[3]=dn,V[4]=yn,V[5]=vn,V[6]=un,V[7]=Rt,V[8]=hn,V[9]=Tt,V[10]=Ft,V[11]=St,V[12]=Pt,V[13]=Dt,V[14]=_t,V[15]=Ue,V[16]=Ve,V[17]=et,V[18]=Qe,K!==0&&(V[19]=K,O.length++),O};Math.imul||(k=b);function _(q,S,A){A.negative=S.negative^q.negative,A.length=q.length+S.length;for(var O=0,N=0,j=0;j<A.length-1;j++){var V=N;N=0;for(var K=O&67108863,W=Math.min(j,S.length-1),P=Math.max(0,j-q.length+1);P<=W;P++){var F=j-P,G=q.words[F]|0,Y=S.words[P]|0,ie=G*Y,ye=ie&67108863;V=V+(ie/67108864|0)|0,ye=ye+K|0,K=ye&67108863,V=V+(ye>>>26)|0,N+=V>>>26,V&=67108863}A.words[j]=K,O=V,V=N}return O!==0?A.words[j]=O:A.length--,A._strip()}function R(q,S,A){return _(q,S,A)}o.prototype.mulTo=function(S,A){var O,N=this.length+S.length;return this.length===10&&S.length===10?O=k(this,S,A):N<63?O=b(this,S,A):N<1024?O=_(this,S,A):O=R(this,S,A),O},o.prototype.mul=function(S){var A=new o(null);return A.words=new Array(this.length+S.length),this.mulTo(S,A)},o.prototype.mulf=function(S){var A=new o(null);return A.words=new Array(this.length+S.length),R(this,S,A)},o.prototype.imul=function(S){return this.clone().mulTo(S,this)},o.prototype.imuln=function(S){var A=S<0;A&&(S=-S),r(typeof S=="number"),r(S<67108864);for(var O=0,N=0;N<this.length;N++){var j=(this.words[N]|0)*S,V=(j&67108863)+(O&67108863);O>>=26,O+=j/67108864|0,O+=V>>>26,this.words[N]=V&67108863}return O!==0&&(this.words[N]=O,this.length++),this.length=S===0?1:this.length,A?this.ineg():this},o.prototype.muln=function(S){return this.clone().imuln(S)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(S){var A=g(S);if(A.length===0)return new o(1);for(var O=this,N=0;N<A.length&&A[N]===0;N++,O=O.sqr());if(++N<A.length)for(var j=O.sqr();N<A.length;N++,j=j.sqr())A[N]!==0&&(O=O.mul(j));return O},o.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var A=S%26,O=(S-A)/26,N=67108863>>>26-A<<26-A,j;if(A!==0){var V=0;for(j=0;j<this.length;j++){var K=this.words[j]&N,W=(this.words[j]|0)-K<<A;this.words[j]=W|V,V=K>>>26-A}V&&(this.words[j]=V,this.length++)}if(O!==0){for(j=this.length-1;j>=0;j--)this.words[j+O]=this.words[j];for(j=0;j<O;j++)this.words[j]=0;this.length+=O}return this._strip()},o.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},o.prototype.iushrn=function(S,A,O){r(typeof S=="number"&&S>=0);var N;A?N=(A-A%26)/26:N=0;var j=S%26,V=Math.min((S-j)/26,this.length),K=67108863^67108863>>>j<<j,W=O;if(N-=V,N=Math.max(0,N),W){for(var P=0;P<V;P++)W.words[P]=this.words[P];W.length=V}if(V!==0)if(this.length>V)for(this.length-=V,P=0;P<this.length;P++)this.words[P]=this.words[P+V];else this.words[0]=0,this.length=1;var F=0;for(P=this.length-1;P>=0&&(F!==0||P>=N);P--){var G=this.words[P]|0;this.words[P]=F<<26-j|G>>>j,F=G&K}return W&&F!==0&&(W.words[W.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(S,A,O){return r(this.negative===0),this.iushrn(S,A,O)},o.prototype.shln=function(S){return this.clone().ishln(S)},o.prototype.ushln=function(S){return this.clone().iushln(S)},o.prototype.shrn=function(S){return this.clone().ishrn(S)},o.prototype.ushrn=function(S){return this.clone().iushrn(S)},o.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var A=S%26,O=(S-A)/26,N=1<<A;if(this.length<=O)return!1;var j=this.words[O];return!!(j&N)},o.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var A=S%26,O=(S-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(A!==0&&O++,this.length=Math.min(O,this.length),A!==0){var N=67108863^67108863>>>A<<A;this.words[this.length-1]&=N}return this._strip()},o.prototype.maskn=function(S){return this.clone().imaskn(S)},o.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<=S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},o.prototype._iaddn=function(S){this.words[0]+=S;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},o.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},o.prototype.addn=function(S){return this.clone().iaddn(S)},o.prototype.subn=function(S){return this.clone().isubn(S)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(S,A,O){var N=S.length+O,j;this._expand(N);var V,K=0;for(j=0;j<S.length;j++){V=(this.words[j+O]|0)+K;var W=(S.words[j]|0)*A;V-=W&67108863,K=(V>>26)-(W/67108864|0),this.words[j+O]=V&67108863}for(;j<this.length-O;j++)V=(this.words[j+O]|0)+K,K=V>>26,this.words[j+O]=V&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,j=0;j<this.length;j++)V=-(this.words[j]|0)+K,K=V>>26,this.words[j]=V&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(S,A){var O=this.length-S.length,N=this.clone(),j=S,V=j.words[j.length-1]|0,K=this._countBits(V);O=26-K,O!==0&&(j=j.ushln(O),N.iushln(O),V=j.words[j.length-1]|0);var W=N.length-j.length,P;if(A!=="mod"){P=new o(null),P.length=W+1,P.words=new Array(P.length);for(var F=0;F<P.length;F++)P.words[F]=0}var G=N.clone()._ishlnsubmul(j,1,W);G.negative===0&&(N=G,P&&(P.words[W]=1));for(var Y=W-1;Y>=0;Y--){var ie=(N.words[j.length+Y]|0)*67108864+(N.words[j.length+Y-1]|0);for(ie=Math.min(ie/V|0,67108863),N._ishlnsubmul(j,ie,Y);N.negative!==0;)ie--,N.negative=0,N._ishlnsubmul(j,1,Y),N.isZero()||(N.negative^=1);P&&(P.words[Y]=ie)}return P&&P._strip(),N._strip(),A!=="div"&&O!==0&&N.iushrn(O),{div:P||null,mod:N}},o.prototype.divmod=function(S,A,O){if(r(!S.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var N,j,V;return this.negative!==0&&S.negative===0?(V=this.neg().divmod(S,A),A!=="mod"&&(N=V.div.neg()),A!=="div"&&(j=V.mod.neg(),O&&j.negative!==0&&j.iadd(S)),{div:N,mod:j}):this.negative===0&&S.negative!==0?(V=this.divmod(S.neg(),A),A!=="mod"&&(N=V.div.neg()),{div:N,mod:V.mod}):(this.negative&S.negative)!==0?(V=this.neg().divmod(S.neg(),A),A!=="div"&&(j=V.mod.neg(),O&&j.negative!==0&&j.isub(S)),{div:V.div,mod:j}):S.length>this.length||this.cmp(S)<0?{div:new o(0),mod:this}:S.length===1?A==="div"?{div:this.divn(S.words[0]),mod:null}:A==="mod"?{div:null,mod:new o(this.modrn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new o(this.modrn(S.words[0]))}:this._wordDiv(S,A)},o.prototype.div=function(S){return this.divmod(S,"div",!1).div},o.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},o.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},o.prototype.divRound=function(S){var A=this.divmod(S);if(A.mod.isZero())return A.div;var O=A.div.negative!==0?A.mod.isub(S):A.mod,N=S.ushrn(1),j=S.andln(1),V=O.cmp(N);return V<0||j===1&&V===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},o.prototype.modrn=function(S){var A=S<0;A&&(S=-S),r(S<=67108863);for(var O=(1<<26)%S,N=0,j=this.length-1;j>=0;j--)N=(O*N+(this.words[j]|0))%S;return A?-N:N},o.prototype.modn=function(S){return this.modrn(S)},o.prototype.idivn=function(S){var A=S<0;A&&(S=-S),r(S<=67108863);for(var O=0,N=this.length-1;N>=0;N--){var j=(this.words[N]|0)+O*67108864;this.words[N]=j/S|0,O=j%S}return this._strip(),A?this.ineg():this},o.prototype.divn=function(S){return this.clone().idivn(S)},o.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var A=this,O=S.clone();A.negative!==0?A=A.umod(S):A=A.clone();for(var N=new o(1),j=new o(0),V=new o(0),K=new o(1),W=0;A.isEven()&&O.isEven();)A.iushrn(1),O.iushrn(1),++W;for(var P=O.clone(),F=A.clone();!A.isZero();){for(var G=0,Y=1;(A.words[0]&Y)===0&&G<26;++G,Y<<=1);if(G>0)for(A.iushrn(G);G-- >0;)(N.isOdd()||j.isOdd())&&(N.iadd(P),j.isub(F)),N.iushrn(1),j.iushrn(1);for(var ie=0,ye=1;(O.words[0]&ye)===0&&ie<26;++ie,ye<<=1);if(ie>0)for(O.iushrn(ie);ie-- >0;)(V.isOdd()||K.isOdd())&&(V.iadd(P),K.isub(F)),V.iushrn(1),K.iushrn(1);A.cmp(O)>=0?(A.isub(O),N.isub(V),j.isub(K)):(O.isub(A),V.isub(N),K.isub(j))}return{a:V,b:K,gcd:O.iushln(W)}},o.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var A=this,O=S.clone();A.negative!==0?A=A.umod(S):A=A.clone();for(var N=new o(1),j=new o(0),V=O.clone();A.cmpn(1)>0&&O.cmpn(1)>0;){for(var K=0,W=1;(A.words[0]&W)===0&&K<26;++K,W<<=1);if(K>0)for(A.iushrn(K);K-- >0;)N.isOdd()&&N.iadd(V),N.iushrn(1);for(var P=0,F=1;(O.words[0]&F)===0&&P<26;++P,F<<=1);if(P>0)for(O.iushrn(P);P-- >0;)j.isOdd()&&j.iadd(V),j.iushrn(1);A.cmp(O)>=0?(A.isub(O),N.isub(j)):(O.isub(A),j.isub(N))}var G;return A.cmpn(1)===0?G=N:G=j,G.cmpn(0)<0&&G.iadd(S),G},o.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var A=this.clone(),O=S.clone();A.negative=0,O.negative=0;for(var N=0;A.isEven()&&O.isEven();N++)A.iushrn(1),O.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;O.isEven();)O.iushrn(1);var j=A.cmp(O);if(j<0){var V=A;A=O,O=V}else if(j===0||O.cmpn(1)===0)break;A.isub(O)}while(!0);return O.iushln(N)},o.prototype.invm=function(S){return this.egcd(S).a.umod(S)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(S){return this.words[0]&S},o.prototype.bincn=function(S){r(typeof S=="number");var A=S%26,O=(S-A)/26,N=1<<A;if(this.length<=O)return this._expand(O+1),this.words[O]|=N,this;for(var j=N,V=O;j!==0&&V<this.length;V++){var K=this.words[V]|0;K+=j,j=K>>>26,K&=67108863,this.words[V]=K}return j!==0&&(this.words[V]=j,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(S){var A=S<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var O;if(this.length>1)O=1;else{A&&(S=-S),r(S<=67108863,"Number is too big");var N=this.words[0]|0;O=N===S?0:N<S?-1:1}return this.negative!==0?-O|0:O},o.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var A=this.ucmp(S);return this.negative!==0?-A|0:A},o.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var A=0,O=this.length-1;O>=0;O--){var N=this.words[O]|0,j=S.words[O]|0;if(N!==j){N<j?A=-1:N>j&&(A=1);break}}return A},o.prototype.gtn=function(S){return this.cmpn(S)===1},o.prototype.gt=function(S){return this.cmp(S)===1},o.prototype.gten=function(S){return this.cmpn(S)>=0},o.prototype.gte=function(S){return this.cmp(S)>=0},o.prototype.ltn=function(S){return this.cmpn(S)===-1},o.prototype.lt=function(S){return this.cmp(S)===-1},o.prototype.lten=function(S){return this.cmpn(S)<=0},o.prototype.lte=function(S){return this.cmp(S)<=0},o.prototype.eqn=function(S){return this.cmpn(S)===0},o.prototype.eq=function(S){return this.cmp(S)===0},o.red=function(S){return new $(S)},o.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(S){return this.red=S,this},o.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},o.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},o.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},o.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},o.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},o.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},o.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},o.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var I={k256:null,p224:null,p192:null,p25519:null};function T(q,S){this.name=q,this.p=new o(S,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var S=new o(null);return S.words=new Array(Math.ceil(this.n/13)),S},T.prototype.ireduce=function(S){var A=S,O;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),O=A.bitLength();while(O>this.n);var N=O<this.n?-1:A.ucmp(this.p);return N===0?(A.words[0]=0,A.length=1):N>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},T.prototype.split=function(S,A){S.iushrn(this.n,0,A)},T.prototype.imulK=function(S){return S.imul(this.k)};function D(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,T),D.prototype.split=function(S,A){for(var O=4194303,N=Math.min(S.length,9),j=0;j<N;j++)A.words[j]=S.words[j];if(A.length=N,S.length<=9){S.words[0]=0,S.length=1;return}var V=S.words[9];for(A.words[A.length++]=V&O,j=10;j<S.length;j++){var K=S.words[j]|0;S.words[j-10]=(K&O)<<4|V>>>22,V=K}V>>>=22,S.words[j-10]=V,V===0&&S.length>10?S.length-=10:S.length-=9},D.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var A=0,O=0;O<S.length;O++){var N=S.words[O]|0;A+=N*977,S.words[O]=A&67108863,A=N*64+(A/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function M(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(M,T);function C(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(C,T);function U(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,T),U.prototype.imulK=function(S){for(var A=0,O=0;O<S.length;O++){var N=(S.words[O]|0)*19+A,j=N&67108863;N>>>=26,S.words[O]=j,A=N}return A!==0&&(S.words[S.length++]=A),S},o._prime=function(S){if(I[S])return I[S];var A;if(S==="k256")A=new D;else if(S==="p224")A=new M;else if(S==="p192")A=new C;else if(S==="p25519")A=new U;else throw new Error("Unknown prime "+S);return I[S]=A,A};function $(q){if(typeof q=="string"){var S=o._prime(q);this.m=S.p,this.prime=S}else r(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}$.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},$.prototype._verify2=function(S,A){r((S.negative|A.negative)===0,"red works only with positives"),r(S.red&&S.red===A.red,"red works only with red numbers")},$.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):(d(S,S.umod(this.m)._forceRed(this)),S)},$.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},$.prototype.add=function(S,A){this._verify2(S,A);var O=S.add(A);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},$.prototype.iadd=function(S,A){this._verify2(S,A);var O=S.iadd(A);return O.cmp(this.m)>=0&&O.isub(this.m),O},$.prototype.sub=function(S,A){this._verify2(S,A);var O=S.sub(A);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},$.prototype.isub=function(S,A){this._verify2(S,A);var O=S.isub(A);return O.cmpn(0)<0&&O.iadd(this.m),O},$.prototype.shl=function(S,A){return this._verify1(S),this.imod(S.ushln(A))},$.prototype.imul=function(S,A){return this._verify2(S,A),this.imod(S.imul(A))},$.prototype.mul=function(S,A){return this._verify2(S,A),this.imod(S.mul(A))},$.prototype.isqr=function(S){return this.imul(S,S.clone())},$.prototype.sqr=function(S){return this.mul(S,S)},$.prototype.sqrt=function(S){if(S.isZero())return S.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var O=this.m.add(new o(1)).iushrn(2);return this.pow(S,O)}for(var N=this.m.subn(1),j=0;!N.isZero()&&N.andln(1)===0;)j++,N.iushrn(1);r(!N.isZero());var V=new o(1).toRed(this),K=V.redNeg(),W=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new o(2*P*P).toRed(this);this.pow(P,W).cmp(K)!==0;)P.redIAdd(K);for(var F=this.pow(P,N),G=this.pow(S,N.addn(1).iushrn(1)),Y=this.pow(S,N),ie=j;Y.cmp(V)!==0;){for(var ye=Y,ge=0;ye.cmp(V)!==0;ge++)ye=ye.redSqr();r(ge<ie);var be=this.pow(F,new o(1).iushln(ie-ge-1));G=G.redMul(be),F=be.redSqr(),Y=Y.redMul(F),ie=ge}return G},$.prototype.invm=function(S){var A=S._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},$.prototype.pow=function(S,A){if(A.isZero())return new o(1).toRed(this);if(A.cmpn(1)===0)return S.clone();var O=4,N=new Array(1<<O);N[0]=new o(1).toRed(this),N[1]=S;for(var j=2;j<N.length;j++)N[j]=this.mul(N[j-1],S);var V=N[0],K=0,W=0,P=A.bitLength()%26;for(P===0&&(P=26),j=A.length-1;j>=0;j--){for(var F=A.words[j],G=P-1;G>=0;G--){var Y=F>>G&1;if(V!==N[0]&&(V=this.sqr(V)),Y===0&&K===0){W=0;continue}K<<=1,K|=Y,W++,!(W!==O&&(j!==0||G!==0))&&(V=this.mul(V,N[K]),W=0,K=0)}P=26}return V},$.prototype.convertTo=function(S){var A=S.umod(this.m);return A===S?A.clone():A},$.prototype.convertFrom=function(S){var A=S.clone();return A.red=null,A},o.mont=function(S){return new z(S)};function z(q){$.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(z,$),z.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},z.prototype.convertFrom=function(S){var A=this.imod(S.mul(this.rinv));return A.red=null,A},z.prototype.imul=function(S,A){if(S.isZero()||A.isZero())return S.words[0]=0,S.length=1,S;var O=S.imul(A),N=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=O.isub(N).iushrn(this.shift),V=j;return j.cmp(this.m)>=0?V=j.isub(this.m):j.cmpn(0)<0&&(V=j.iadd(this.m)),V._forceRed(this)},z.prototype.mul=function(S,A){if(S.isZero()||A.isZero())return new o(0)._forceRed(this);var O=S.mul(A),N=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=O.isub(N).iushrn(this.shift),V=j;return j.cmp(this.m)>=0?V=j.isub(this.m):j.cmpn(0)<0&&(V=j.iadd(this.m)),V._forceRed(this)},z.prototype.invm=function(S){var A=this.imod(S._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(e,jat)})(M2)),M2.exports}var $at=fhe();const Dd=Rr($at);var Tk={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var BY;function mv(){return BY||(BY=1,(function(e,t){var n=oM(),r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Tk,Tk.exports)),Tk.exports}var P4,MY;function Lat(){if(MY)return P4;MY=1;var e=mv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,b=0,k=0,_=y.length;k!==_&&y[k]===0;)k++,g++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=y[k],D=0,M=R-1;(T!==0||D<b)&&M!==-1;M--,D++)T+=256*I[M]>>>0,I[M]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=D,k++}for(var C=R-b;C!==R&&I[C]===0;)C++;for(var U=c.repeat(g);C<R;++C)U+=n.charAt(I[C]);return U}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var g=0,b=0,k=0;y[g]===c;)b++,g++;for(var _=(y.length-g)*d+1>>>0,R=new Uint8Array(_);g<y.length;){var I=y.charCodeAt(g);if(I>255)return;var T=r[I];if(T===255)return;for(var D=0,M=_-1;(T!==0||D<k)&&M!==-1;M--,D++)T+=l*R[M]>>>0,R[M]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=D,g++}for(var C=_-k;C!==_&&R[C]===0;)C++;var U=e.allocUnsafe(b+(_-C));U.fill(0,0,b);for(var $=b;C!==_;)U[$++]=R[C++];return U}function v(y){var g=m(y);if(g)return g;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return P4=t,P4}var B4,DY;function Uat(){if(DY)return B4;DY=1;var e=Lat(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return B4=e(t),B4}var Fat=Uat();const gs=Rr(Fat),Zg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fj(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function w1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ic(e,...t){if(!Fj(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Wat(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");w1(e.outputLen),w1(e.blockLen)}function C0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hhe(e,t){ic(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function qat(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Uh(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function M4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cd(e,t){return e<<32-t|e>>>t}const zat=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Vat(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Kat(e){for(let t=0;t<e.length;t++)e[t]=Vat(e[t]);return e}const jY=zat?e=>e:Kat,phe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Hat=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function A0(e){if(ic(e),phe)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Hat[e[n]];return t}const lu={_0:48,_9:57,A:65,F:70,a:97,f:102};function $Y(e){if(e>=lu._0&&e<=lu._9)return e-lu._0;if(e>=lu.A&&e<=lu.F)return e-(lu.A-10);if(e>=lu.a&&e<=lu.f)return e-(lu.a-10)}function Wj(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(phe)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=$Y(e.charCodeAt(o)),a=$Y(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function Gat(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function tE(e){return typeof e=="string"&&(e=Gat(e)),ic(e),e}function Lu(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];ic(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let qj=class{};function zj(e){const t=r=>e().update(tE(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function mhe(e=32){if(Zg&&typeof Zg.getRandomValues=="function")return Zg.getRandomValues(new Uint8Array(e));if(Zg&&typeof Zg.randomBytes=="function")return Uint8Array.from(Zg.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Jat(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function Zat(e,t,n){return e&t^~e&n}function Yat(e,t,n){return e&t^e&n^t&n}let ghe=class extends qj{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=M4(this.buffer)}update(t){C0(this),t=tE(t),ic(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=M4(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){C0(this),hhe(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Uh(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;Jat(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=M4(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Tf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ts=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ok=BigInt(2**32-1),LY=BigInt(32);function Xat(e,t=!1){return t?{h:Number(e&Ok),l:Number(e>>LY&Ok)}:{h:Number(e>>LY&Ok)|0,l:Number(e&Ok)|0}}function yhe(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=Xat(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const UY=(e,t,n)=>e>>>n,FY=(e,t,n)=>e<<32-n|t>>>n,Yg=(e,t,n)=>e>>>n|t<<32-n,Xg=(e,t,n)=>e<<32-n|t>>>n,Nk=(e,t,n)=>e<<64-n|t>>>n-32,Pk=(e,t,n)=>e>>>n-32|t<<64-n,Qat=(e,t,n)=>e<<n|t>>>32-n,elt=(e,t,n)=>t<<n|e>>>32-n,tlt=(e,t,n)=>t<<n-32|e>>>64-n,nlt=(e,t,n)=>e<<n-32|t>>>64-n;function cu(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const rlt=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),ilt=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,olt=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),slt=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,alt=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),llt=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,clt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Of=new Uint32Array(64);let dlt=class extends ghe{constructor(t=32){super(64,t,8,!1),this.A=Tf[0]|0,this.B=Tf[1]|0,this.C=Tf[2]|0,this.D=Tf[3]|0,this.E=Tf[4]|0,this.F=Tf[5]|0,this.G=Tf[6]|0,this.H=Tf[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Of[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Of[u-15],m=Of[u-2],v=cd(h,7)^cd(h,18)^h>>>3,y=cd(m,17)^cd(m,19)^m>>>10;Of[u]=y+Of[u-7]+v+Of[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=cd(a,6)^cd(a,11)^cd(a,25),m=d+h+Zat(a,l,c)+clt[u]+Of[u]|0,y=(cd(r,2)^cd(r,13)^cd(r,22))+Yat(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){Uh(Of)}destroy(){this.set(0,0,0,0,0,0,0,0),Uh(this.buffer)}};const vhe=yhe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ult=vhe[0],flt=vhe[1],Nf=new Uint32Array(80),Pf=new Uint32Array(80);let hlt=class extends ghe{constructor(t=64){super(128,t,16,!1),this.Ah=Ts[0]|0,this.Al=Ts[1]|0,this.Bh=Ts[2]|0,this.Bl=Ts[3]|0,this.Ch=Ts[4]|0,this.Cl=Ts[5]|0,this.Dh=Ts[6]|0,this.Dl=Ts[7]|0,this.Eh=Ts[8]|0,this.El=Ts[9]|0,this.Fh=Ts[10]|0,this.Fl=Ts[11]|0,this.Gh=Ts[12]|0,this.Gl=Ts[13]|0,this.Hh=Ts[14]|0,this.Hl=Ts[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:y,Hl:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=y|0,this.Hl=g|0}process(t,n){for(let _=0;_<16;_++,n+=4)Nf[_]=t.getUint32(n),Pf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Nf[_-15]|0,I=Pf[_-15]|0,T=Yg(R,I,1)^Yg(R,I,8)^UY(R,I,7),D=Xg(R,I,1)^Xg(R,I,8)^FY(R,I,7),M=Nf[_-2]|0,C=Pf[_-2]|0,U=Yg(M,C,19)^Nk(M,C,61)^UY(M,C,6),$=Xg(M,C,19)^Pk(M,C,61)^FY(M,C,6),z=olt(D,$,Pf[_-7],Pf[_-16]),q=slt(z,T,U,Nf[_-7],Nf[_-16]);Nf[_]=q|0,Pf[_]=z|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:y,Gl:g,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=Yg(u,h,14)^Yg(u,h,18)^Nk(u,h,41),I=Xg(u,h,14)^Xg(u,h,18)^Pk(u,h,41),T=u&m^~u&y,D=h&v^~h&g,M=alt(k,I,D,flt[_],Pf[_]),C=llt(M,b,R,T,ult[_],Nf[_]),U=M|0,$=Yg(r,i,28)^Nk(r,i,34)^Nk(r,i,39),z=Xg(r,i,28)^Pk(r,i,34)^Pk(r,i,39),q=r&o^r&a^o&a,S=i&s^i&l^s&l;b=y|0,k=g|0,y=m|0,g=v|0,m=u|0,v=h|0,{h:u,l:h}=cu(c|0,d|0,C|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=rlt(U,z,S);r=ilt(A,C,$,q),i=A|0}({h:r,l:i}=cu(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=cu(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=cu(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=cu(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=cu(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=cu(this.Fh|0,this.Fl|0,m|0,v|0),{h:y,l:g}=cu(this.Gh|0,this.Gl|0,y|0,g|0),{h:b,l:k}=cu(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k)}roundClean(){Uh(Nf,Pf)}destroy(){Uh(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const whe=zj(()=>new dlt),plt=zj(()=>new hlt),Fh=whe;var $r={},D4,WY;function mlt(){if(WY)return D4;WY=1;var e=mv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,b=0,k=0,_=y.length;k!==_&&y[k]===0;)k++,g++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=y[k],D=0,M=R-1;(T!==0||D<b)&&M!==-1;M--,D++)T+=256*I[M]>>>0,I[M]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=D,k++}for(var C=R-b;C!==R&&I[C]===0;)C++;for(var U=c.repeat(g);C<R;++C)U+=n.charAt(I[C]);return U}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var g=0,b=0,k=0;y[g]===c;)b++,g++;for(var _=(y.length-g)*d+1>>>0,R=new Uint8Array(_);g<y.length;){var I=y.charCodeAt(g);if(I>255)return;var T=r[I];if(T===255)return;for(var D=0,M=_-1;(T!==0||D<k)&&M!==-1;M--,D++)T+=l*R[M]>>>0,R[M]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=D,g++}for(var C=_-k;C!==_&&R[C]===0;)C++;var U=e.allocUnsafe(b+(_-C));U.fill(0,0,b);for(var $=b;C!==_;)U[$++]=R[C++];return U}function v(y){var g=m(y);if(g)return g;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return D4=t,D4}var j4,qY;function glt(){if(qY)return j4;qY=1;var e=mlt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return j4=e(t),j4}function Tu(e,t,n){return t<=e&&e<=n}function nE(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function ylt(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function vlt(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var FS=-1;function Vj(e){this.tokens=[].slice.call(e)}Vj.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():FS},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var R0=-1;function $4(e,t){if(e)throw TypeError("Decoder error");return t||65533}var WS="utf-8";function qS(e,t){if(!(this instanceof qS))return new qS(e,t);if(e=e!==void 0?String(e).toLowerCase():WS,e!==WS)throw new Error("Encoding not supported. Only utf-8 is supported");t=nE(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}qS.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=nE(n),this._streaming||(this._decoder=new wlt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Vj(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==R0);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===R0)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),vlt(o)}};function zS(e,t){if(!(this instanceof zS))return new zS(e,t);if(e=e!==void 0?String(e).toLowerCase():WS,e!==WS)throw new Error("Encoding not supported. Only utf-8 is supported");t=nE(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}zS.prototype={encode:function(t,n){t=t?String(t):"",n=nE(n),this._streaming||(this._encoder=new blt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Vj(ylt(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==R0);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==R0;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function wlt(e){var t=e.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===FS&&i!==0)return i=0,$4(t);if(l===FS)return R0;if(i===0){if(Tu(l,0,127))return l;if(Tu(l,194,223))i=1,n=l-192;else if(Tu(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(Tu(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return $4(t);return n=n<<6*i,null}if(!Tu(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),$4(t);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function blt(e){e.fatal,this.handler=function(t,n){if(n===FS)return R0;if(Tu(n,0,127))return n;var r,i;Tu(n,128,2047)?(r=1,i=192):Tu(n,2048,65535)?(r=2,i=224):Tu(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const _lt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:qS,TextEncoder:zS},Symbol.toStringTag,{value:"Module"})),xlt=q1(_lt);var zY;function klt(){if(zY)return $r;zY=1;var e=$r&&$r.__createBinding||(Object.create?(function(C,U,$,z){z===void 0&&(z=$),Object.defineProperty(C,z,{enumerable:!0,get:function(){return U[$]}})}):(function(C,U,$,z){z===void 0&&(z=$),C[z]=U[$]})),t=$r&&$r.__setModuleDefault||(Object.create?(function(C,U){Object.defineProperty(C,"default",{enumerable:!0,value:U})}):function(C,U){C.default=U}),n=$r&&$r.__decorate||function(C,U,$,z){var q=arguments.length,S=q<3?U:z===null?z=Object.getOwnPropertyDescriptor(U,$):z,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(C,U,$,z);else for(var O=C.length-1;O>=0;O--)(A=C[O])&&(S=(q<3?A(S):q>3?A(U,$,S):A(U,$))||S);return q>3&&S&&Object.defineProperty(U,$,S),S},r=$r&&$r.__importStar||function(C){if(C&&C.__esModule)return C;var U={};if(C!=null)for(var $ in C)$!=="default"&&Object.hasOwnProperty.call(C,$)&&e(U,C,$);return t(U,C),U},i=$r&&$r.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty($r,"__esModule",{value:!0}),$r.deserializeUnchecked=$r.deserialize=$r.serialize=$r.BinaryReader=$r.BinaryWriter=$r.BorshError=$r.baseDecode=$r.baseEncode=void 0;const o=i(fhe()),s=i(glt()),a=r(xlt),l=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,c=new l("utf-8",{fatal:!0});function d(C){return typeof C=="string"&&(C=Buffer.from(C,"utf8")),s.default.encode(Buffer.from(C))}$r.baseEncode=d;function u(C){return Buffer.from(s.default.decode(C))}$r.baseDecode=u;const h=1024;class m extends Error{constructor(U){super(U),this.fieldPath=[],this.originalMessage=U}addToFieldPath(U){this.fieldPath.splice(0,0,U),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}$r.BorshError=m;class v{constructor(){this.buf=Buffer.alloc(h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(h)]))}writeU8(U){this.maybeResize(),this.buf.writeUInt8(U,this.length),this.length+=1}writeU16(U){this.maybeResize(),this.buf.writeUInt16LE(U,this.length),this.length+=2}writeU32(U){this.maybeResize(),this.buf.writeUInt32LE(U,this.length),this.length+=4}writeU64(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",8)))}writeU128(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",16)))}writeU256(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",32)))}writeU512(U){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(U).toArray("le",64)))}writeBuffer(U){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),U,Buffer.alloc(h)]),this.length+=U.length}writeString(U){this.maybeResize();const $=Buffer.from(U,"utf8");this.writeU32($.length),this.writeBuffer($)}writeFixedArray(U){this.writeBuffer(Buffer.from(U))}writeArray(U,$){this.maybeResize(),this.writeU32(U.length);for(const z of U)this.maybeResize(),$(z)}toArray(){return this.buf.subarray(0,this.length)}}$r.BinaryWriter=v;function y(C,U,$){const z=$.value;$.value=function(...q){try{return z.apply(this,q)}catch(S){if(S instanceof RangeError){const A=S.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(A)>=0)throw new m("Reached the end of buffer when deserializing")}throw S}}}class g{constructor(U){this.buf=U,this.offset=0}readU8(){const U=this.buf.readUInt8(this.offset);return this.offset+=1,U}readU16(){const U=this.buf.readUInt16LE(this.offset);return this.offset+=2,U}readU32(){const U=this.buf.readUInt32LE(this.offset);return this.offset+=4,U}readU64(){const U=this.readBuffer(8);return new o.default(U,"le")}readU128(){const U=this.readBuffer(16);return new o.default(U,"le")}readU256(){const U=this.readBuffer(32);return new o.default(U,"le")}readU512(){const U=this.readBuffer(64);return new o.default(U,"le")}readBuffer(U){if(this.offset+U>this.buf.length)throw new m(`Expected buffer length ${U} isn't within bounds`);const $=this.buf.slice(this.offset,this.offset+U);return this.offset+=U,$}readString(){const U=this.readU32(),$=this.readBuffer(U);try{return c.decode($)}catch(z){throw new m(`Error decoding UTF-8 string: ${z}`)}}readFixedArray(U){return new Uint8Array(this.readBuffer(U))}readArray(U){const $=this.readU32(),z=Array();for(let q=0;q<$;++q)z.push(U());return z}}n([y],g.prototype,"readU8",null),n([y],g.prototype,"readU16",null),n([y],g.prototype,"readU32",null),n([y],g.prototype,"readU64",null),n([y],g.prototype,"readU128",null),n([y],g.prototype,"readU256",null),n([y],g.prototype,"readU512",null),n([y],g.prototype,"readString",null),n([y],g.prototype,"readFixedArray",null),n([y],g.prototype,"readArray",null),$r.BinaryReader=g;function b(C){return C.charAt(0).toUpperCase()+C.slice(1)}function k(C,U,$,z,q){try{if(typeof z=="string")q[`write${b(z)}`]($);else if(z instanceof Array)if(typeof z[0]=="number"){if($.length!==z[0])throw new m(`Expecting byte array of length ${z[0]}, but got ${$.length} bytes`);q.writeFixedArray($)}else if(z.length===2&&typeof z[1]=="number"){if($.length!==z[1])throw new m(`Expecting byte array of length ${z[1]}, but got ${$.length} bytes`);for(let S=0;S<z[1];S++)k(C,null,$[S],z[0],q)}else q.writeArray($,S=>{k(C,U,S,z[0],q)});else if(z.kind!==void 0)switch(z.kind){case"option":{$==null?q.writeU8(0):(q.writeU8(1),k(C,U,$,z.type,q));break}case"map":{q.writeU32($.size),$.forEach((S,A)=>{k(C,U,A,z.key,q),k(C,U,S,z.value,q)});break}default:throw new m(`FieldType ${z} unrecognized`)}else _(C,$,q)}catch(S){throw S instanceof m&&S.addToFieldPath(U),S}}function _(C,U,$){if(typeof U.borshSerialize=="function"){U.borshSerialize($);return}const z=C.get(U.constructor);if(!z)throw new m(`Class ${U.constructor.name} is missing in schema`);if(z.kind==="struct")z.fields.map(([q,S])=>{k(C,q,U[q],S,$)});else if(z.kind==="enum"){const q=U[z.field];for(let S=0;S<z.values.length;++S){const[A,O]=z.values[S];if(A===q){$.writeU8(S),k(C,A,U[A],O,$);break}}}else throw new m(`Unexpected schema kind: ${z.kind} for ${U.constructor.name}`)}function R(C,U,$=v){const z=new $;return _(C,U,z),z.toArray()}$r.serialize=R;function I(C,U,$,z){try{if(typeof $=="string")return z[`read${b($)}`]();if($ instanceof Array){if(typeof $[0]=="number")return z.readFixedArray($[0]);if(typeof $[1]=="number"){const q=[];for(let S=0;S<$[1];S++)q.push(I(C,null,$[0],z));return q}else return z.readArray(()=>I(C,U,$[0],z))}if($.kind==="option")return z.readU8()?I(C,U,$.type,z):void 0;if($.kind==="map"){let q=new Map;const S=z.readU32();for(let A=0;A<S;A++){const O=I(C,U,$.key,z),N=I(C,U,$.value,z);q.set(O,N)}return q}return T(C,$,z)}catch(q){throw q instanceof m&&q.addToFieldPath(U),q}}function T(C,U,$){if(typeof U.borshDeserialize=="function")return U.borshDeserialize($);const z=C.get(U);if(!z)throw new m(`Class ${U.name} is missing in schema`);if(z.kind==="struct"){const q={};for(const[S,A]of C.get(U).fields)q[S]=I(C,S,A,$);return new U(q)}if(z.kind==="enum"){const q=$.readU8();if(q>=z.values.length)throw new m(`Enum index: ${q} is out of range`);const[S,A]=z.values[q],O=I(C,S,A,$);return new U({[S]:O})}throw new m(`Unexpected schema kind: ${z.kind} for ${U.constructor.name}`)}function D(C,U,$,z=g){const q=new z($),S=T(C,U,q);if(q.offset<$.length)throw new m(`Unexpected ${$.length-q.offset} bytes after deserialized data`);return S}$r.deserialize=D;function M(C,U,$,z=g){const q=new z($);return T(C,U,q)}return $r.deserializeUnchecked=M,$r}var sa=klt(),ze={},VY;function Slt(){if(VY)return ze;VY=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.s16=ze.s8=ze.nu64be=ze.u48be=ze.u40be=ze.u32be=ze.u24be=ze.u16be=ze.nu64=ze.u48=ze.u40=ze.u32=ze.u24=ze.u16=ze.u8=ze.offset=ze.greedy=ze.Constant=ze.UTF8=ze.CString=ze.Blob=ze.Boolean=ze.BitField=ze.BitStructure=ze.VariantLayout=ze.Union=ze.UnionLayoutDiscriminator=ze.UnionDiscriminator=ze.Structure=ze.Sequence=ze.DoubleBE=ze.Double=ze.FloatBE=ze.Float=ze.NearInt64BE=ze.NearInt64=ze.NearUInt64BE=ze.NearUInt64=ze.IntBE=ze.Int=ze.UIntBE=ze.UInt=ze.OffsetLayout=ze.GreedyCount=ze.ExternalLayout=ze.bindConstructorLayout=ze.nameWithProperty=ze.Layout=ze.uint8ArrayToBuffer=ze.checkUint8Array=void 0,ze.constant=ze.utf8=ze.cstr=ze.blob=ze.unionLayoutDiscriminator=ze.union=ze.seq=ze.bits=ze.struct=ze.f64be=ze.f64=ze.f32be=ze.f32=ze.ns64be=ze.s48be=ze.s40be=ze.s32be=ze.s24be=ze.s16be=ze.ns64=ze.s48=ze.s40=ze.s32=ze.s24=void 0;const e=oM();function t(P){if(!(P instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ze.checkUint8Array=t;function n(P){return t(P),e.Buffer.from(P.buffer,P.byteOffset,P.length)}ze.uint8ArrayToBuffer=n;let r=class{constructor(F,G){if(!Number.isInteger(F))throw new TypeError("span must be an integer");this.span=F,this.property=G}makeDestinationObject(){return{}}getSpan(F,G){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(F){const G=Object.create(this.constructor.prototype);return Object.assign(G,this),G.property=F,G}fromArray(F){}};ze.Layout=r;function i(P,F){return F.property?P+"["+F.property+"]":P}ze.nameWithProperty=i;function o(P,F){if(typeof P!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(P,"layout_"))throw new Error("Class is already bound to a layout");if(!(F&&F instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(F,"boundConstructor_"))throw new Error("layout is already bound to a constructor");P.layout_=F,F.boundConstructor_=P,F.makeDestinationObject=(()=>new P),Object.defineProperty(P.prototype,"encode",{value(G,Y){return F.encode(this,G,Y)},writable:!0}),Object.defineProperty(P,"decode",{value(G,Y){return F.decode(G,Y)},writable:!0})}ze.bindConstructorLayout=o;class s extends r{isCount(){throw new Error("ExternalLayout is abstract")}}ze.ExternalLayout=s;class a extends s{constructor(F=1,G){if(!Number.isInteger(F)||0>=F)throw new TypeError("elementSpan must be a (positive) integer");super(-1,G),this.elementSpan=F}isCount(){return!0}decode(F,G=0){t(F);const Y=F.length-G;return Math.floor(Y/this.elementSpan)}encode(F,G,Y){return 0}}ze.GreedyCount=a;class l extends s{constructor(F,G=0,Y){if(!(F instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(G))throw new TypeError("offset must be integer or undefined");super(F.span,Y||F.property),this.layout=F,this.offset=G}isCount(){return this.layout instanceof c||this.layout instanceof d}decode(F,G=0){return this.layout.decode(F,G+this.offset)}encode(F,G,Y=0){return this.layout.encode(F,G,Y+this.offset)}}ze.OffsetLayout=l;class c extends r{constructor(F,G){if(super(F,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,G=0){return n(F).readUIntLE(G,this.span)}encode(F,G,Y=0){return n(G).writeUIntLE(F,Y,this.span),this.span}}ze.UInt=c;class d extends r{constructor(F,G){if(super(F,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,G=0){return n(F).readUIntBE(G,this.span)}encode(F,G,Y=0){return n(G).writeUIntBE(F,Y,this.span),this.span}}ze.UIntBE=d;class u extends r{constructor(F,G){if(super(F,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,G=0){return n(F).readIntLE(G,this.span)}encode(F,G,Y=0){return n(G).writeIntLE(F,Y,this.span),this.span}}ze.Int=u;class h extends r{constructor(F,G){if(super(F,G),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(F,G=0){return n(F).readIntBE(G,this.span)}encode(F,G,Y=0){return n(G).writeIntBE(F,Y,this.span),this.span}}ze.IntBE=h;const m=Math.pow(2,32);function v(P){const F=Math.floor(P/m),G=P-F*m;return{hi32:F,lo32:G}}function y(P,F){return P*m+F}class g extends r{constructor(F){super(8,F)}decode(F,G=0){const Y=n(F),ie=Y.readUInt32LE(G),ye=Y.readUInt32LE(G+4);return y(ye,ie)}encode(F,G,Y=0){const ie=v(F),ye=n(G);return ye.writeUInt32LE(ie.lo32,Y),ye.writeUInt32LE(ie.hi32,Y+4),8}}ze.NearUInt64=g;class b extends r{constructor(F){super(8,F)}decode(F,G=0){const Y=n(F),ie=Y.readUInt32BE(G),ye=Y.readUInt32BE(G+4);return y(ie,ye)}encode(F,G,Y=0){const ie=v(F),ye=n(G);return ye.writeUInt32BE(ie.hi32,Y),ye.writeUInt32BE(ie.lo32,Y+4),8}}ze.NearUInt64BE=b;class k extends r{constructor(F){super(8,F)}decode(F,G=0){const Y=n(F),ie=Y.readUInt32LE(G),ye=Y.readInt32LE(G+4);return y(ye,ie)}encode(F,G,Y=0){const ie=v(F),ye=n(G);return ye.writeUInt32LE(ie.lo32,Y),ye.writeInt32LE(ie.hi32,Y+4),8}}ze.NearInt64=k;class _ extends r{constructor(F){super(8,F)}decode(F,G=0){const Y=n(F),ie=Y.readInt32BE(G),ye=Y.readUInt32BE(G+4);return y(ie,ye)}encode(F,G,Y=0){const ie=v(F),ye=n(G);return ye.writeInt32BE(ie.hi32,Y),ye.writeUInt32BE(ie.lo32,Y+4),8}}ze.NearInt64BE=_;class R extends r{constructor(F){super(4,F)}decode(F,G=0){return n(F).readFloatLE(G)}encode(F,G,Y=0){return n(G).writeFloatLE(F,Y),4}}ze.Float=R;class I extends r{constructor(F){super(4,F)}decode(F,G=0){return n(F).readFloatBE(G)}encode(F,G,Y=0){return n(G).writeFloatBE(F,Y),4}}ze.FloatBE=I;class T extends r{constructor(F){super(8,F)}decode(F,G=0){return n(F).readDoubleLE(G)}encode(F,G,Y=0){return n(G).writeDoubleLE(F,Y),8}}ze.Double=T;class D extends r{constructor(F){super(8,F)}decode(F,G=0){return n(F).readDoubleBE(G)}encode(F,G,Y=0){return n(G).writeDoubleBE(F,Y),8}}ze.DoubleBE=D;class M extends r{constructor(F,G,Y){if(!(F instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(G instanceof s&&G.isCount()||Number.isInteger(G)&&0<=G))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ie=-1;!(G instanceof s)&&0<F.span&&(ie=G*F.span),super(ie,Y),this.elementLayout=F,this.count=G}getSpan(F,G=0){if(0<=this.span)return this.span;let Y=0,ie=this.count;if(ie instanceof s&&(ie=ie.decode(F,G)),0<this.elementLayout.span)Y=ie*this.elementLayout.span;else{let ye=0;for(;ye<ie;)Y+=this.elementLayout.getSpan(F,G+Y),++ye}return Y}decode(F,G=0){const Y=[];let ie=0,ye=this.count;for(ye instanceof s&&(ye=ye.decode(F,G));ie<ye;)Y.push(this.elementLayout.decode(F,G)),G+=this.elementLayout.getSpan(F,G),ie+=1;return Y}encode(F,G,Y=0){const ie=this.elementLayout,ye=F.reduce((ge,be)=>ge+ie.encode(be,G,Y+ge),0);return this.count instanceof s&&this.count.encode(F.length,G,Y),ye}}ze.Sequence=M;class C extends r{constructor(F,G,Y){if(!(Array.isArray(F)&&F.reduce((ye,ge)=>ye&&ge instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof G=="boolean"&&Y===void 0&&(Y=G,G=void 0);for(const ye of F)if(0>ye.span&&ye.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ie=-1;try{ie=F.reduce((ye,ge)=>ye+ge.getSpan(),0)}catch{}super(ie,G),this.fields=F,this.decodePrefixes=!!Y}getSpan(F,G=0){if(0<=this.span)return this.span;let Y=0;try{Y=this.fields.reduce((ie,ye)=>{const ge=ye.getSpan(F,G);return G+=ge,ie+ge},0)}catch{throw new RangeError("indeterminate span")}return Y}decode(F,G=0){t(F);const Y=this.makeDestinationObject();for(const ie of this.fields)if(ie.property!==void 0&&(Y[ie.property]=ie.decode(F,G)),G+=ie.getSpan(F,G),this.decodePrefixes&&F.length===G)break;return Y}encode(F,G,Y=0){const ie=Y;let ye=0,ge=0;for(const be of this.fields){let Le=be.span;if(ge=0<Le?Le:0,be.property!==void 0){const qe=F[be.property];qe!==void 0&&(ge=be.encode(qe,G,Y),0>Le&&(Le=be.getSpan(G,Y)))}ye=Y,Y+=Le}return ye+ge-ie}fromArray(F){const G=this.makeDestinationObject();for(const Y of this.fields)Y.property!==void 0&&0<F.length&&(G[Y.property]=F.shift());return G}layoutFor(F){if(typeof F!="string")throw new TypeError("property must be string");for(const G of this.fields)if(G.property===F)return G}offsetOf(F){if(typeof F!="string")throw new TypeError("property must be string");let G=0;for(const Y of this.fields){if(Y.property===F)return G;0>Y.span?G=-1:0<=G&&(G+=Y.span)}}}ze.Structure=C;class U{constructor(F){this.property=F}decode(F,G){throw new Error("UnionDiscriminator is abstract")}encode(F,G,Y){throw new Error("UnionDiscriminator is abstract")}}ze.UnionDiscriminator=U;class $ extends U{constructor(F,G){if(!(F instanceof s&&F.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(G||F.property||"variant"),this.layout=F}decode(F,G){return this.layout.decode(F,G)}encode(F,G,Y){return this.layout.encode(F,G,Y)}}ze.UnionLayoutDiscriminator=$;class z extends r{constructor(F,G,Y){let ie;if(F instanceof c||F instanceof d)ie=new $(new l(F));else if(F instanceof s&&F.isCount())ie=new $(F);else if(F instanceof U)ie=F;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(G===void 0&&(G=null),!(G===null||G instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(G!==null){if(0>G.span)throw new Error("defaultLayout must have constant span");G.property===void 0&&(G=G.replicate("content"))}let ye=-1;G&&(ye=G.span,0<=ye&&(F instanceof c||F instanceof d)&&(ye+=ie.layout.span)),super(ye,Y),this.discriminator=ie,this.usesPrefixDiscriminator=F instanceof c||F instanceof d,this.defaultLayout=G,this.registry={};let ge=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(be){return ge(be)},this.configGetSourceVariant=function(be){ge=be.bind(this)}}getSpan(F,G=0){if(0<=this.span)return this.span;const Y=this.getVariant(F,G);if(!Y)throw new Error("unable to determine span for unrecognized variant");return Y.getSpan(F,G)}defaultGetSourceVariant(F){if(Object.prototype.hasOwnProperty.call(F,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(F,this.defaultLayout.property))return;const G=this.registry[F[this.discriminator.property]];if(G&&(!G.layout||G.property&&Object.prototype.hasOwnProperty.call(F,G.property)))return G}else for(const G in this.registry){const Y=this.registry[G];if(Y.property&&Object.prototype.hasOwnProperty.call(F,Y.property))return Y}throw new Error("unable to infer src variant")}decode(F,G=0){let Y;const ie=this.discriminator,ye=ie.decode(F,G),ge=this.registry[ye];if(ge===void 0){const be=this.defaultLayout;let Le=0;this.usesPrefixDiscriminator&&(Le=ie.layout.span),Y=this.makeDestinationObject(),Y[ie.property]=ye,Y[be.property]=be.decode(F,G+Le)}else Y=ge.decode(F,G);return Y}encode(F,G,Y=0){const ie=this.getSourceVariant(F);if(ie===void 0){const ye=this.discriminator,ge=this.defaultLayout;let be=0;return this.usesPrefixDiscriminator&&(be=ye.layout.span),ye.encode(F[ye.property],G,Y),be+ge.encode(F[ge.property],G,Y+be)}return ie.encode(F,G,Y)}addVariant(F,G,Y){const ie=new q(this,F,G,Y);return this.registry[F]=ie,ie}getVariant(F,G=0){let Y;return F instanceof Uint8Array?Y=this.discriminator.decode(F,G):Y=F,this.registry[Y]}}ze.Union=z;class q extends r{constructor(F,G,Y,ie){if(!(F instanceof z))throw new TypeError("union must be a Union");if(!Number.isInteger(G)||0>G)throw new TypeError("variant must be a (non-negative) integer");if(typeof Y=="string"&&ie===void 0&&(ie=Y,Y=null),Y){if(!(Y instanceof r))throw new TypeError("layout must be a Layout");if(F.defaultLayout!==null&&0<=Y.span&&Y.span>F.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ie!="string")throw new TypeError("variant must have a String property")}let ye=F.span;0>F.span&&(ye=Y?Y.span:0,0<=ye&&F.usesPrefixDiscriminator&&(ye+=F.discriminator.layout.span)),super(ye,ie),this.union=F,this.variant=G,this.layout=Y||null}getSpan(F,G=0){if(0<=this.span)return this.span;let Y=0;this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span);let ie=0;return this.layout&&(ie=this.layout.getSpan(F,G+Y)),Y+ie}decode(F,G=0){const Y=this.makeDestinationObject();if(this!==this.union.getVariant(F,G))throw new Error("variant mismatch");let ie=0;return this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span),this.layout?Y[this.property]=this.layout.decode(F,G+ie):this.property?Y[this.property]=!0:this.union.usesPrefixDiscriminator&&(Y[this.union.discriminator.property]=this.variant),Y}encode(F,G,Y=0){let ie=0;if(this.union.usesPrefixDiscriminator&&(ie=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(F,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,G,Y);let ye=ie;if(this.layout&&(this.layout.encode(F[this.property],G,Y+ie),ye+=this.layout.getSpan(G,Y+ie),0<=this.union.span&&ye>this.union.span))throw new Error("encoded variant overruns containing union");return ye}fromArray(F){if(this.layout)return this.layout.fromArray(F)}}ze.VariantLayout=q;function S(P){return 0>P&&(P+=4294967296),P}class A extends r{constructor(F,G,Y){if(!(F instanceof c||F instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof G=="string"&&Y===void 0&&(Y=G,G=!1),4<F.span)throw new RangeError("word cannot exceed 32 bits");super(F.span,Y),this.word=F,this.msb=!!G,this.fields=[];let ie=0;this._packedSetValue=function(ye){return ie=S(ye),this},this._packedGetValue=function(){return ie}}decode(F,G=0){const Y=this.makeDestinationObject(),ie=this.word.decode(F,G);this._packedSetValue(ie);for(const ye of this.fields)ye.property!==void 0&&(Y[ye.property]=ye.decode(F));return Y}encode(F,G,Y=0){const ie=this.word.decode(G,Y);this._packedSetValue(ie);for(const ye of this.fields)if(ye.property!==void 0){const ge=F[ye.property];ge!==void 0&&ye.encode(ge)}return this.word.encode(this._packedGetValue(),G,Y)}addField(F,G){const Y=new O(this,F,G);return this.fields.push(Y),Y}addBoolean(F){const G=new N(this,F);return this.fields.push(G),G}fieldFor(F){if(typeof F!="string")throw new TypeError("property must be string");for(const G of this.fields)if(G.property===F)return G}}ze.BitStructure=A;class O{constructor(F,G,Y){if(!(F instanceof A))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(G)||0>=G)throw new TypeError("bits must be positive integer");const ie=8*F.span,ye=F.fields.reduce((ge,be)=>ge+be.bits,0);if(G+ye>ie)throw new Error("bits too long for span remainder ("+(ie-ye)+" of "+ie+" remain)");this.container=F,this.bits=G,this.valueMask=(1<<G)-1,G===32&&(this.valueMask=4294967295),this.start=ye,this.container.msb&&(this.start=ie-ye-G),this.wordMask=S(this.valueMask<<this.start),this.property=Y}decode(F,G){const Y=this.container._packedGetValue();return S(Y&this.wordMask)>>>this.start}encode(F){if(typeof F!="number"||!Number.isInteger(F)||F!==S(F&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const G=this.container._packedGetValue(),Y=S(F<<this.start);this.container._packedSetValue(S(G&~this.wordMask)|Y)}}ze.BitField=O;class N extends O{constructor(F,G){super(F,1,G)}decode(F,G){return!!super.decode(F,G)}encode(F){typeof F=="boolean"&&(F=+F),super.encode(F)}}ze.Boolean=N;class j extends r{constructor(F,G){if(!(F instanceof s&&F.isCount()||Number.isInteger(F)&&0<=F))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let Y=-1;F instanceof s||(Y=F),super(Y,G),this.length=F}getSpan(F,G){let Y=this.span;return 0>Y&&(Y=this.length.decode(F,G)),Y}decode(F,G=0){let Y=this.span;return 0>Y&&(Y=this.length.decode(F,G)),n(F).slice(G,G+Y)}encode(F,G,Y){let ie=this.length;if(this.length instanceof s&&(ie=F.length),!(F instanceof Uint8Array&&ie===F.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+ie+") Uint8Array as src");if(Y+ie>G.length)throw new RangeError("encoding overruns Uint8Array");const ye=n(F);return n(G).write(ye.toString("hex"),Y,ie,"hex"),this.length instanceof s&&this.length.encode(ie,G,Y),ie}}ze.Blob=j;class V extends r{constructor(F){super(-1,F)}getSpan(F,G=0){t(F);let Y=G;for(;Y<F.length&&F[Y]!==0;)Y+=1;return 1+Y-G}decode(F,G=0){const Y=this.getSpan(F,G);return n(F).slice(G,G+Y-1).toString("utf-8")}encode(F,G,Y=0){typeof F!="string"&&(F=String(F));const ie=e.Buffer.from(F,"utf8"),ye=ie.length;if(Y+ye>G.length)throw new RangeError("encoding overruns Buffer");const ge=n(G);return ie.copy(ge,Y),ge[Y+ye]=0,ye+1}}ze.CString=V;class K extends r{constructor(F,G){if(typeof F=="string"&&G===void 0&&(G=F,F=void 0),F===void 0)F=-1;else if(!Number.isInteger(F))throw new TypeError("maxSpan must be an integer");super(-1,G),this.maxSpan=F}getSpan(F,G=0){return t(F),F.length-G}decode(F,G=0){const Y=this.getSpan(F,G);if(0<=this.maxSpan&&this.maxSpan<Y)throw new RangeError("text length exceeds maxSpan");return n(F).slice(G,G+Y).toString("utf-8")}encode(F,G,Y=0){typeof F!="string"&&(F=String(F));const ie=e.Buffer.from(F,"utf8"),ye=ie.length;if(0<=this.maxSpan&&this.maxSpan<ye)throw new RangeError("text length exceeds maxSpan");if(Y+ye>G.length)throw new RangeError("encoding overruns Buffer");return ie.copy(n(G),Y),ye}}ze.UTF8=K;class W extends r{constructor(F,G){super(0,G),this.value=F}decode(F,G){return this.value}encode(F,G,Y){return 0}}return ze.Constant=W,ze.greedy=((P,F)=>new a(P,F)),ze.offset=((P,F,G)=>new l(P,F,G)),ze.u8=(P=>new c(1,P)),ze.u16=(P=>new c(2,P)),ze.u24=(P=>new c(3,P)),ze.u32=(P=>new c(4,P)),ze.u40=(P=>new c(5,P)),ze.u48=(P=>new c(6,P)),ze.nu64=(P=>new g(P)),ze.u16be=(P=>new d(2,P)),ze.u24be=(P=>new d(3,P)),ze.u32be=(P=>new d(4,P)),ze.u40be=(P=>new d(5,P)),ze.u48be=(P=>new d(6,P)),ze.nu64be=(P=>new b(P)),ze.s8=(P=>new u(1,P)),ze.s16=(P=>new u(2,P)),ze.s24=(P=>new u(3,P)),ze.s32=(P=>new u(4,P)),ze.s40=(P=>new u(5,P)),ze.s48=(P=>new u(6,P)),ze.ns64=(P=>new k(P)),ze.s16be=(P=>new h(2,P)),ze.s24be=(P=>new h(3,P)),ze.s32be=(P=>new h(4,P)),ze.s40be=(P=>new h(5,P)),ze.s48be=(P=>new h(6,P)),ze.ns64be=(P=>new _(P)),ze.f32=(P=>new R(P)),ze.f32be=(P=>new I(P)),ze.f64=(P=>new T(P)),ze.f64be=(P=>new D(P)),ze.struct=((P,F,G)=>new C(P,F,G)),ze.bits=((P,F,G)=>new A(P,F,G)),ze.seq=((P,F,G)=>new M(P,F,G)),ze.union=((P,F,G)=>new z(P,F,G)),ze.unionLayoutDiscriminator=((P,F)=>new $(P,F)),ze.blob=((P,F)=>new j(P,F)),ze.cstr=(P=>new V(P)),ze.utf8=((P,F)=>new K(P,F)),ze.constant=((P,F)=>new W(P,F)),ze}var B=Slt(),Ilt=8078e3,Elt=8078001,Clt=8078004,Alt=8078005,Rlt=8078006,Tlt=8078011;function bhe(e){return Array.isArray(e)?"%5B"+e.map(bhe).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Olt([e,t]){return`${e}=${bhe(t)}`}function Nlt(e){const t=Object.entries(e).map(Olt).join("&");return btoa(t)}function Plt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${Nlt(t)}'`),`${n}\``}}var Xy=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=Plt(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function Blt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Mlt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Blt(t,e));return e.write(t,n,0),n}})}function Dlt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Qg(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function jlt(e,t){if(Qg(e)!==Qg(t))throw new Xy(Clt);if(Qg(e)&&Qg(t)&&e.fixedSize!==t.fixedSize)throw new Xy(Alt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Qg(e)&&!Qg(t)&&e.maxSize!==t.maxSize)throw new Xy(Rlt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function $lt(e,t,n=0){if(t.length-n<=0)throw new Xy(Ilt,{codecDescription:e})}function Llt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new Xy(Elt,{bytesLength:i,codecDescription:e,expected:t})}function Ult(e,t,n,r){if(r<t||r>n)throw new Xy(Tlt,{codecDescription:e,max:n,min:t,value:r})}function _he(e){return(e==null?void 0:e.endian)!==1}function Flt(e){return Mlt({fixedSize:e.size,write(t,n,r){e.range&&Ult(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,_he(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function Wlt(e){return Dlt({fixedSize:e.size,read(t,n=0){$lt(e.name,t,n),Llt(e.name,e.size,t,n);const r=new DataView(qlt(t,n,e.size));return[e.get(r,_he(e.config)),n+e.size]}})}function qlt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var zlt=(e={})=>Flt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),Vlt=(e={})=>Wlt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),Klt=(e={})=>jlt(zlt(e),Vlt(e));class Hlt extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...s}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function Glt(e){return R_(e)&&typeof e[Symbol.iterator]=="function"}function R_(e){return typeof e=="object"&&e!=null}function VS(e){return R_(e)&&!Array.isArray(e)}function Wc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Jlt(e){const{done:t,value:n}=e.next();return t?void 0:n}function Zlt(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Wc(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:l}}function*KY(e,t,n,r){Glt(e)||(e=[e]);for(const i of e){const o=Zlt(i,t,n,r);o&&(yield o)}}function*Kj(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,u]of t.entries(e,a)){const h=Kj(d,u,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const m of h)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(d=m[1],c===void 0?e=d:e instanceof Map?e.set(c,d):e instanceof Set?e.add(d):R_(e)&&(d!==void 0||c in e)&&(e[c]=d))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}let Gd=class{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return KY(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return KY(d,c,this,l)}:this.refiner=()=>[]}assert(t,n){return Ylt(t,this,n)}create(t,n){return ke(t,this,n)}is(t){return xhe(t,this)}mask(t,n){return Xlt(t,this,n)}validate(t,n={}){return T_(t,this,n)}};function Ylt(e,t,n){const r=T_(e,t,{message:n});if(r[0])throw r[0]}function ke(e,t,n){const r=T_(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Xlt(e,t,n){const r=T_(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function xhe(e,t){return!T_(e,t)[0]}function T_(e,t,n={}){const r=Kj(e,t,n),i=Jlt(r);return i[0]?[new Hlt(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function ig(e,t){return new Gd({type:e,schema:null,validator:t})}function O_(){return ig("any",()=>!0)}function pe(e){return new Gd({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Wc(t)}`}})}function kn(){return ig("boolean",e=>typeof e=="boolean")}function ua(e){return ig("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Wc(t)}`)}function it(e){const t=Wc(e),n=typeof e;return new Gd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Wc(r)}`}})}function Qlt(){return ig("never",()=>!1)}function me(e){return new Gd({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function H(){return ig("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Wc(e)}`)}function _e(e){return new Gd({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Jd(e,t){return new Gd({type:"record",schema:null,*entries(n){if(R_(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return VS(n)||`Expected an object, but received: ${Wc(n)}`},coercer(n){return VS(n)?{...n}:n}})}function ae(){return ig("string",e=>typeof e=="string"||`Expected a string, but received: ${Wc(e)}`)}function fa(e){const t=Qlt();return new Gd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Wc(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function re(e){const t=Object.keys(e);return new Gd({type:"type",schema:e,*entries(n){if(R_(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return VS(n)||`Expected an object, but received: ${Wc(n)}`},coercer(n){return VS(n)?{...n}:n}})}function Ot(e){const t=e.map(n=>n.type).join(" | ");return new Gd({type:"union",schema:null,coercer(n,r){for(const i of e){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of e){const[...s]=Kj(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Wc(n)}`,...i]}})}function Mr(){return ig("unknown",()=>!0)}function yi(e,t,n){return new Gd({...e,coercer:(r,i)=>xhe(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var Bk,ect=new Uint8Array(16);function khe(){if(!Bk&&(Bk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Bk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bk(ect)}const tct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rE(e){return typeof e=="string"&&tct.test(e)}var ls=[];for(var L4=0;L4<256;++L4)ls.push((L4+256).toString(16).substr(1));function iE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ls[e[t+0]]+ls[e[t+1]]+ls[e[t+2]]+ls[e[t+3]]+"-"+ls[e[t+4]]+ls[e[t+5]]+"-"+ls[e[t+6]]+ls[e[t+7]]+"-"+ls[e[t+8]]+ls[e[t+9]]+"-"+ls[e[t+10]]+ls[e[t+11]]+ls[e[t+12]]+ls[e[t+13]]+ls[e[t+14]]+ls[e[t+15]]).toLowerCase();if(!rE(n))throw TypeError("Stringified UUID is invalid");return n}var HY,U4,F4=0,W4=0;function nct(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var o=e.node||HY,s=e.clockseq!==void 0?e.clockseq:U4;if(o==null||s==null){var a=e.random||(e.rng||khe)();o==null&&(o=HY=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=U4=(a[6]<<8|a[7])&16383)}var l=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:W4+1,d=l-F4+(c-W4)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||l>F4)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");F4=l,W4=c,U4=s,l+=122192928e5;var u=((l&268435455)*1e4+c)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=u&255;var h=l/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return t||iE(i)}function She(e){if(!rE(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function rct(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var ict="6ba7b810-9dad-11d1-80b4-00c04fd430c8",oct="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ihe(e,t,n){function r(i,o,s,a){if(typeof i=="string"&&(i=rct(i)),typeof o=="string"&&(o=She(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return iE(l)}try{r.name=e}catch{}return r.DNS=ict,r.URL=oct,r}function sct(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return act(lct(cct(e),e.length*8))}function act(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(s)}return t}function Ehe(e){return(e+64>>>9<<4)+14+1}function lct(e,t){e[t>>5]|=128<<t%32,e[Ehe(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,l=r,c=i,d=o;n=Os(n,r,i,o,e[s],7,-680876936),o=Os(o,n,r,i,e[s+1],12,-389564586),i=Os(i,o,n,r,e[s+2],17,606105819),r=Os(r,i,o,n,e[s+3],22,-1044525330),n=Os(n,r,i,o,e[s+4],7,-176418897),o=Os(o,n,r,i,e[s+5],12,1200080426),i=Os(i,o,n,r,e[s+6],17,-1473231341),r=Os(r,i,o,n,e[s+7],22,-45705983),n=Os(n,r,i,o,e[s+8],7,1770035416),o=Os(o,n,r,i,e[s+9],12,-1958414417),i=Os(i,o,n,r,e[s+10],17,-42063),r=Os(r,i,o,n,e[s+11],22,-1990404162),n=Os(n,r,i,o,e[s+12],7,1804603682),o=Os(o,n,r,i,e[s+13],12,-40341101),i=Os(i,o,n,r,e[s+14],17,-1502002290),r=Os(r,i,o,n,e[s+15],22,1236535329),n=Ns(n,r,i,o,e[s+1],5,-165796510),o=Ns(o,n,r,i,e[s+6],9,-1069501632),i=Ns(i,o,n,r,e[s+11],14,643717713),r=Ns(r,i,o,n,e[s],20,-373897302),n=Ns(n,r,i,o,e[s+5],5,-701558691),o=Ns(o,n,r,i,e[s+10],9,38016083),i=Ns(i,o,n,r,e[s+15],14,-660478335),r=Ns(r,i,o,n,e[s+4],20,-405537848),n=Ns(n,r,i,o,e[s+9],5,568446438),o=Ns(o,n,r,i,e[s+14],9,-1019803690),i=Ns(i,o,n,r,e[s+3],14,-187363961),r=Ns(r,i,o,n,e[s+8],20,1163531501),n=Ns(n,r,i,o,e[s+13],5,-1444681467),o=Ns(o,n,r,i,e[s+2],9,-51403784),i=Ns(i,o,n,r,e[s+7],14,1735328473),r=Ns(r,i,o,n,e[s+12],20,-1926607734),n=Ps(n,r,i,o,e[s+5],4,-378558),o=Ps(o,n,r,i,e[s+8],11,-2022574463),i=Ps(i,o,n,r,e[s+11],16,1839030562),r=Ps(r,i,o,n,e[s+14],23,-35309556),n=Ps(n,r,i,o,e[s+1],4,-1530992060),o=Ps(o,n,r,i,e[s+4],11,1272893353),i=Ps(i,o,n,r,e[s+7],16,-155497632),r=Ps(r,i,o,n,e[s+10],23,-1094730640),n=Ps(n,r,i,o,e[s+13],4,681279174),o=Ps(o,n,r,i,e[s],11,-358537222),i=Ps(i,o,n,r,e[s+3],16,-722521979),r=Ps(r,i,o,n,e[s+6],23,76029189),n=Ps(n,r,i,o,e[s+9],4,-640364487),o=Ps(o,n,r,i,e[s+12],11,-421815835),i=Ps(i,o,n,r,e[s+15],16,530742520),r=Ps(r,i,o,n,e[s+2],23,-995338651),n=Bs(n,r,i,o,e[s],6,-198630844),o=Bs(o,n,r,i,e[s+7],10,1126891415),i=Bs(i,o,n,r,e[s+14],15,-1416354905),r=Bs(r,i,o,n,e[s+5],21,-57434055),n=Bs(n,r,i,o,e[s+12],6,1700485571),o=Bs(o,n,r,i,e[s+3],10,-1894986606),i=Bs(i,o,n,r,e[s+10],15,-1051523),r=Bs(r,i,o,n,e[s+1],21,-2054922799),n=Bs(n,r,i,o,e[s+8],6,1873313359),o=Bs(o,n,r,i,e[s+15],10,-30611744),i=Bs(i,o,n,r,e[s+6],15,-1560198380),r=Bs(r,i,o,n,e[s+13],21,1309151649),n=Bs(n,r,i,o,e[s+4],6,-145523070),o=Bs(o,n,r,i,e[s+11],10,-1120210379),i=Bs(i,o,n,r,e[s+2],15,718787259),r=Bs(r,i,o,n,e[s+9],21,-343485551),n=vh(n,a),r=vh(r,l),i=vh(i,c),o=vh(o,d)}return[n,r,i,o]}function cct(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Ehe(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function vh(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function dct(e,t){return e<<t|e>>>32-t}function oE(e,t,n,r,i,o){return vh(dct(vh(vh(t,e),vh(r,o)),i),n)}function Os(e,t,n,r,i,o,s){return oE(t&n|~t&r,e,t,i,o,s)}function Ns(e,t,n,r,i,o,s){return oE(t&r|n&~r,e,t,i,o,s)}function Ps(e,t,n,r,i,o,s){return oE(t^n^r,e,t,i,o,s)}function Bs(e,t,n,r,i,o,s){return oE(n^(t|~r),e,t,i,o,s)}var uct=Ihe("v3",48,sct);function fct(e,t,n){e=e||{};var r=e.random||(e.rng||khe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return iE(r)}function hct(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function q4(e,t){return e<<t|e>>>32-t}function pct(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[l*64+d*4]<<24|e[l*64+d*4+1]<<16|e[l*64+d*4+2]<<8|e[l*64+d*4+3];a[l]=c}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(var u=0;u<s;++u){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=a[u][m];for(var v=16;v<80;++v)h[v]=q4(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);for(var y=n[0],g=n[1],b=n[2],k=n[3],_=n[4],R=0;R<80;++R){var I=Math.floor(R/20),T=q4(y,5)+hct(I,g,b,k)+_+t[I]+h[R]>>>0;_=k,k=b,b=q4(g,30)>>>0,g=y,y=T}n[0]=n[0]+y>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+k>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var mct=Ihe("v5",80,pct);const gct="00000000-0000-0000-0000-000000000000";function yct(e){if(!rE(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const vct=Object.freeze(Object.defineProperty({__proto__:null,NIL:gct,parse:She,stringify:iE,v1:nct,v3:uct,v4:fct,v5:mct,validate:rE,version:yct},Symbol.toStringTag,{value:"Module"})),Che=q1(vct);var z4,GY;function wct(){if(GY)return z4;GY=1;const e=Che.v4;return z4=function(n,r,i,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const s=typeof o.version=="number"?o.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const a={method:n};if(s===2&&(a.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");a.params=r}if(typeof i>"u"){const l=typeof o.generator=="function"?o.generator:function(){return e()};a.id=l(a,o)}else s===2&&i===null?o.notificationIdNull&&(a.id=null):a.id=i;return a},z4}var V4,JY;function bct(){if(JY)return V4;JY=1;const e=Che.v4,t=wct(),n=function(r,i){if(!(this instanceof n))return new n(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return e()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return V4=n,n.prototype.request=function(r,i,o,s){const a=this;let l=null;const c=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof i=="function")s=i,l=r;else{typeof o=="function"&&(s=o,o=void 0);const h=typeof s=="function";try{l=t(r,i,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(h){s(m);return}throw m}if(!h)return l}let u;try{u=JSON.stringify(l,this.options.replacer)}catch(h){s(h);return}return this.callServer(u,function(h,m){a._parseResponse(h,m,s)}),l},n.prototype._parseResponse=function(r,i,o){if(r){o(r);return}if(!i){o();return}let s;try{s=JSON.parse(i,this.options.reviver)}catch(a){o(a);return}if(o.length===3)if(Array.isArray(s)){const a=function(c){return typeof c.error<"u"},l=function(c){return!a(c)};o(null,s.filter(a),s.filter(l));return}else{o(null,s.error,s.result);return}o(null,s)},V4}var _ct=bct();const Hj=Rr(_ct);var K4={exports:{}},ZY;function xct(){return ZY||(ZY=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(K4)),K4.exports}var kct=xct();const Ahe=Rr(kct);var Sct=class extends Ahe{constructor(t,n){super();ur(this,"socket");this.socket=new window.WebSocket(t,n.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(t,n,r){const i=r||n;try{this.socket.send(t),i()}catch(o){i(o)}}close(t,n){this.socket.close(t,n)}addEventListener(t,n,r){this.socket.addEventListener(t,n,r)}};function Gj(e,t){return new Sct(e,t)}var Ict=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},Jj=class extends Ahe{constructor(t,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();ur(this,"address");ur(this,"rpc_id");ur(this,"queue");ur(this,"options");ur(this,"autoconnect");ur(this,"ready");ur(this,"reconnect");ur(this,"reconnect_timer_id");ur(this,"reconnect_interval");ur(this,"max_reconnects");ur(this,"rest_options");ur(this,"current_reconnects");ur(this,"generate_request_id");ur(this,"socket");ur(this,"webSocketFactory");ur(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new Ict,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(t,n),l={jsonrpc:"2.0",method:t,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){const n=await this.call("rpc.login",t);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(t,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.on",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);return n}async unsubscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.off",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(t,n){this.socket&&this.socket.close(t||1e3,n)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Te.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,n),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};const Ect=BigInt(0),_w=BigInt(1),Cct=BigInt(2),Act=BigInt(7),Rct=BigInt(256),Tct=BigInt(113),Rhe=[],The=[],Ohe=[];for(let e=0,t=_w,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Rhe.push(2*(5*r+n)),The.push((e+1)*(e+2)/2%64);let i=Ect;for(let o=0;o<7;o++)t=(t<<_w^(t>>Act)*Tct)%Rct,t&Cct&&(i^=_w<<(_w<<BigInt(o))-_w);Ohe.push(i)}const Nhe=yhe(Ohe,!0),Oct=Nhe[0],Nct=Nhe[1],YY=(e,t,n)=>n>32?tlt(e,t,n):Qat(e,t,n),XY=(e,t,n)=>n>32?nlt(e,t,n):elt(e,t,n);function Pct(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],u=YY(c,d,1)^n[a],h=XY(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=u,e[s+m+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=The[s],l=YY(i,o,a),c=XY(i,o,a),d=Rhe[s];i=e[d],o=e[d+1],e[d]=l,e[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Oct[r],e[1]^=Nct[r]}Uh(n)}class Zj extends qj{constructor(t,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,w1(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=qat(this.state)}clone(){return this._cloneInto()}keccak(){jY(this.state32),Pct(this.state32,this.rounds),jY(this.state32),this.posOut=0,this.pos=0}update(t){C0(this),t=tE(t),ic(t);const{blockLen:n,state:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){C0(this,!1),ic(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return w1(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(hhe(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Uh(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Zj(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Bct=(e,t,n)=>zj(()=>new Zj(t,e,n)),Mct=Bct(1,136,256/8),Dct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mf=new Uint32Array(64);let jct=class extends ehe{constructor(){super(64,32,8,!1),this.A=Bf[0]|0,this.B=Bf[1]|0,this.C=Bf[2]|0,this.D=Bf[3]|0,this.E=Bf[4]|0,this.F=Bf[5]|0,this.G=Bf[6]|0,this.H=Bf[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Mf[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Mf[u-15],m=Mf[u-2],v=ld(h,7)^ld(h,18)^h>>>3,y=ld(m,17)^ld(m,19)^m>>>10;Mf[u]=y+Mf[u-7]+v+Mf[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=ld(a,6)^ld(a,11)^ld(a,25),m=d+h+Ast(a,l,c)+Dct[u]+Mf[u]|0,y=(ld(r,2)^ld(r,13)^ld(r,22))+Rst(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){Mf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const $ct=Xfe(()=>new jct);let Phe=class extends Yfe{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kst(t);const r=Dj(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return US(this),this.iHash.update(t),this}digestInto(t){US(this),Z3(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Bhe=(e,t,n)=>new Phe(e,t).update(n).digest();Bhe.create=(e,t)=>new Phe(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function QY(e){e.lowS!==void 0&&Uu("lowS",e.lowS),e.prehash!==void 0&&Uu("prehash",e.prehash)}function Lct(e){const t=Lj(e);pv(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Uct,hexToBytes:Fct}=dat;let Wct=class extends Error{constructor(t=""){super(t)}};const ku={Err:Wct,_tlv:{encode:(e,t)=>{const{Err:n}=ku;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Py(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Py(i.length/2|128):"";return Py(e)+o+i+t},decode(e,t){const{Err:n}=ku;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=ku;if(e<Ou)throw new t("integer: negative integers are not allowed");let n=Py(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ku;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Uct(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ku,i=typeof e=="string"?Fct(e):e;A_(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=ku,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Ou=BigInt(0),Uo=BigInt(1);BigInt(2);const eX=BigInt(3);BigInt(4);function qct(e){const t=Lct(e),{Fp:n}=t,r=eE(t.n,t.nBitLength),i=t.toBytes||((y,g,b)=>{const k=g.toAffine();return Am(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),o=t.fromBytes||(y=>{const g=y.subarray(1),b=n.fromBytes(g.subarray(0,n.BYTES)),k=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:b,y:k}});function s(y){const{a:g,b}=t,k=n.sqr(y),_=n.mul(k,y);return n.add(n.add(_,n.mul(y,g)),b)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return Q3(y,Uo,t.n)}function l(y){const{allowedPrivateKeyLengths:g,nByteLength:b,wrapPrivateKey:k,n:_}=t;if(g&&typeof y!="bigint"){if(Em(y)&&(y=Cm(y)),typeof y!="string"||!g.includes(y.length))throw new Error("invalid private key");y=y.padStart(b*2,"0")}let R;try{R=typeof y=="bigint"?y:dm(ho("private key",y,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof y)}return k&&(R=xi(R,_)),Ql("private key",R,Uo,_),R}function c(y){if(!(y instanceof h))throw new Error("ProjectivePoint expected")}const d=v1((y,g)=>{const{px:b,py:k,pz:_}=y;if(n.eql(_,n.ONE))return{x:b,y:k};const R=y.is0();g==null&&(g=R?n.ONE:n.inv(_));const I=n.mul(b,g),T=n.mul(k,g),D=n.mul(_,g);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:I,y:T}}),u=v1(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:g,y:b}=y.toAffine();if(!n.isValid(g)||!n.isValid(b))throw new Error("bad point: x or y not FE");const k=n.sqr(b),_=s(g);if(!n.eql(k,_))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(g,b,k){if(this.px=g,this.py=b,this.pz=k,g==null||!n.isValid(g))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required");Object.freeze(this)}static fromAffine(g){const{x:b,y:k}=g||{};if(!g||!n.isValid(b)||!n.isValid(k))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const _=R=>n.eql(R,n.ZERO);return _(b)&&_(k)?h.ZERO:new h(b,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const b=n.invertBatch(g.map(k=>k.pz));return g.map((k,_)=>k.toAffine(b[_])).map(h.fromAffine)}static fromHex(g){const b=h.fromAffine(o(ho("pointHex",g)));return b.assertValidity(),b}static fromPrivateKey(g){return h.BASE.multiply(l(g))}static msm(g,b){return dhe(h,r,g,b)}_setWindowSize(g){v.setWindowSize(this,g)}assertValidity(){u(this)}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=g,D=n.eql(n.mul(b,T),n.mul(R,_)),M=n.eql(n.mul(k,T),n.mul(I,_));return D&&M}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b}=t,k=n.mul(b,eX),{px:_,py:R,pz:I}=this;let T=n.ZERO,D=n.ZERO,M=n.ZERO,C=n.mul(_,_),U=n.mul(R,R),$=n.mul(I,I),z=n.mul(_,R);return z=n.add(z,z),M=n.mul(_,I),M=n.add(M,M),T=n.mul(g,M),D=n.mul(k,$),D=n.add(T,D),T=n.sub(U,D),D=n.add(U,D),D=n.mul(T,D),T=n.mul(z,T),M=n.mul(k,M),$=n.mul(g,$),z=n.sub(C,$),z=n.mul(g,z),z=n.add(z,M),M=n.add(C,C),C=n.add(M,C),C=n.add(C,$),C=n.mul(C,z),D=n.add(D,C),$=n.mul(R,I),$=n.add($,$),C=n.mul($,z),T=n.sub(T,C),M=n.mul($,U),M=n.add(M,M),M=n.add(M,M),new h(T,D,M)}add(g){c(g);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=g;let D=n.ZERO,M=n.ZERO,C=n.ZERO;const U=t.a,$=n.mul(t.b,eX);let z=n.mul(b,R),q=n.mul(k,I),S=n.mul(_,T),A=n.add(b,k),O=n.add(R,I);A=n.mul(A,O),O=n.add(z,q),A=n.sub(A,O),O=n.add(b,_);let N=n.add(R,T);return O=n.mul(O,N),N=n.add(z,S),O=n.sub(O,N),N=n.add(k,_),D=n.add(I,T),N=n.mul(N,D),D=n.add(q,S),N=n.sub(N,D),C=n.mul(U,O),D=n.mul($,S),C=n.add(D,C),D=n.sub(q,C),C=n.add(q,C),M=n.mul(D,C),q=n.add(z,z),q=n.add(q,z),S=n.mul(U,S),O=n.mul($,O),q=n.add(q,S),S=n.sub(z,S),S=n.mul(U,S),O=n.add(O,S),z=n.mul(q,O),M=n.add(M,z),z=n.mul(N,O),D=n.mul(A,D),D=n.sub(D,z),z=n.mul(A,q),C=n.mul(N,C),C=n.add(C,z),new h(D,M,C)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return v.wNAFCached(this,g,h.normalizeZ)}multiplyUnsafe(g){const{endo:b,n:k}=t;Ql("scalar",g,Ou,k);const _=h.ZERO;if(g===Ou)return _;if(this.is0()||g===Uo)return this;if(!b||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,g,h.normalizeZ);let{k1neg:R,k1:I,k2neg:T,k2:D}=b.splitScalar(g),M=_,C=_,U=this;for(;I>Ou||D>Ou;)I&Uo&&(M=M.add(U)),D&Uo&&(C=C.add(U)),U=U.double(),I>>=Uo,D>>=Uo;return R&&(M=M.negate()),T&&(C=C.negate()),C=new h(n.mul(C.px,b.beta),C.py,C.pz),M.add(C)}multiply(g){const{endo:b,n:k}=t;Ql("scalar",g,Uo,k);let _,R;if(b){const{k1neg:I,k1:T,k2neg:D,k2:M}=b.splitScalar(g);let{p:C,f:U}=this.wNAF(T),{p:$,f:z}=this.wNAF(M);C=v.constTimeNegate(I,C),$=v.constTimeNegate(D,$),$=new h(n.mul($.px,b.beta),$.py,$.pz),_=C.add($),R=U.add(z)}else{const{p:I,f:T}=this.wNAF(g);_=I,R=T}return h.normalizeZ([_,R])[0]}multiplyAndAddUnsafe(g,b,k){const _=h.BASE,R=(T,D)=>D===Ou||D===Uo||!T.equals(_)?T.multiplyUnsafe(D):T.multiply(D),I=R(this,b).add(R(g,k));return I.is0()?void 0:I}toAffine(g){return d(this,g)}isTorsionFree(){const{h:g,isTorsionFree:b}=t;if(g===Uo)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:b}=t;return g===Uo?this:b?b(h,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return Uu("isCompressed",g),this.assertValidity(),i(h,this,g)}toHex(g=!0){return Uu("isCompressed",g),Cm(this.toRawBytes(g))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,v=che(h,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function zct(e){const t=Lj(e);return pv(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Vct(e){const t=zct(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(S){return xi(S,r)}function a(S){return YP(S,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:u}=qct({...t,toBytes(S,A,O){const N=A.toAffine(),j=n.toBytes(N.x),V=Am;return Uu("isCompressed",O),O?V(Uint8Array.from([A.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(N.y))},fromBytes(S){const A=S.length,O=S[0],N=S.subarray(1);if(A===i&&(O===2||O===3)){const j=dm(N);if(!Q3(j,Uo,n.ORDER))throw new Error("Point is not on curve");const V=d(j);let K;try{K=n.sqrt(V)}catch(F){const G=F instanceof Error?": "+F.message:"";throw new Error("Point is not on curve"+G)}const W=(K&Uo)===Uo;return(O&1)===1!==W&&(K=n.neg(K)),{x:j,y:K}}else if(A===o&&O===4){const j=n.fromBytes(N.subarray(0,n.BYTES)),V=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=i,V=o;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+A)}}}),h=S=>Cm(E0(S,t.nByteLength));function m(S){const A=r>>Uo;return S>A}function v(S){return m(S)?s(-S):S}const y=(S,A,O)=>dm(S.slice(A,O));class g{constructor(A,O,N){this.r=A,this.s=O,this.recovery=N,this.assertValidity()}static fromCompact(A){const O=t.nByteLength;return A=ho("compactSignature",A,O*2),new g(y(A,0,O),y(A,O,2*O))}static fromDER(A){const{r:O,s:N}=ku.toSig(ho("DER",A));return new g(O,N)}assertValidity(){Ql("r",this.r,Uo,r),Ql("s",this.s,Uo,r)}addRecoveryBit(A){return new g(this.r,this.s,A)}recoverPublicKey(A){const{r:O,s:N,recovery:j}=this,V=T(ho("msgHash",A));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const K=j===2||j===3?O+t.n:O;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(j&1)===0?"02":"03",P=l.fromHex(W+h(K)),F=a(K),G=s(-V*F),Y=s(N*F),ie=l.BASE.multiplyAndAddUnsafe(P,G,Y);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return I0(this.toDERHex())}toDERHex(){return ku.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return I0(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(S){try{return c(S),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const S=she(t.n);return bat(t.randomBytes(S),t.n)},precompute(S=8,A=l.BASE){return A._setWindowSize(S),A.multiply(BigInt(3)),A}};function k(S,A=!0){return l.fromPrivateKey(S).toRawBytes(A)}function _(S){const A=Em(S),O=typeof S=="string",N=(A||O)&&S.length;return A?N===i||N===o:O?N===2*i||N===2*o:S instanceof l}function R(S,A,O=!0){if(_(S))throw new Error("first arg must be private key");if(!_(A))throw new Error("second arg must be public key");return l.fromHex(A).multiply(c(S)).toRawBytes(O)}const I=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const A=dm(S),O=S.length*8-t.nBitLength;return O>0?A>>BigInt(O):A},T=t.bits2int_modN||function(S){return s(I(S))},D=$j(t.nBitLength);function M(S){return Ql("num < 2^"+t.nBitLength,S,Ou,D),E0(S,t.nByteLength)}function C(S,A,O=U){if(["recovered","canonical"].some(ge=>ge in O))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:j}=t;let{lowS:V,prehash:K,extraEntropy:W}=O;V==null&&(V=!0),S=ho("msgHash",S),QY(O),K&&(S=ho("prehashed msgHash",N(S)));const P=T(S),F=c(A),G=[M(F),M(P)];if(W!=null&&W!==!1){const ge=W===!0?j(n.BYTES):W;G.push(ho("extraEntropy",ge))}const Y=Am(...G),ie=P;function ye(ge){const be=I(ge);if(!u(be))return;const Le=a(be),qe=l.BASE.multiply(be).toAffine(),Me=s(qe.x);if(Me===Ou)return;const gt=s(Le*s(ie+Me*F));if(gt===Ou)return;let tt=(qe.x===Me?0:2)|Number(qe.y&Uo),dt=gt;return V&&m(gt)&&(dt=v(gt),tt^=1),new g(Me,dt,tt)}return{seed:Y,k2sig:ye}}const U={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function z(S,A,O=U){const{seed:N,k2sig:j}=C(S,A,O),V=t;return rhe(V.hash.outputLen,V.nByteLength,V.hmac)(N,j)}l.BASE._setWindowSize(8);function q(S,A,O,N=$){var tt;const j=S;A=ho("msgHash",A),O=ho("publicKey",O);const{lowS:V,prehash:K,format:W}=N;if(QY(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(W!==void 0&&W!=="compact"&&W!=="der")throw new Error("format must be compact or der");const P=typeof j=="string"||Em(j),F=!P&&!W&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!P&&!F)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,Y;try{if(F&&(G=new g(j.r,j.s)),P){try{W!=="compact"&&(G=g.fromDER(j))}catch(dt){if(!(dt instanceof ku.Err))throw dt}!G&&W!=="der"&&(G=g.fromCompact(j))}Y=l.fromHex(O)}catch{return!1}if(!G||V&&G.hasHighS())return!1;K&&(A=t.hash(A));const{r:ie,s:ye}=G,ge=T(A),be=a(ye),Le=s(ge*be),qe=s(ie*be),Me=(tt=l.BASE.multiplyAndAddUnsafe(Y,Le,qe))==null?void 0:tt.toAffine();return Me?s(Me.x)===ie:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:R,sign:z,verify:q,ProjectivePoint:l,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kct(e){return{hash:e,hmac:(t,...n)=>Bhe(e,t,Est(...n)),randomBytes:Qfe}}function Hct(e,t){const n=r=>Vct({...e,...Kct(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mhe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tX=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gct=BigInt(1),XP=BigInt(2),nX=(e,t)=>(e+t/XP)/t;function Jct(e){const t=Mhe,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=qi(d,n,t)*d%t,h=qi(u,n,t)*d%t,m=qi(h,XP,t)*c%t,v=qi(m,i,t)*m%t,y=qi(v,o,t)*v%t,g=qi(y,a,t)*y%t,b=qi(g,l,t)*g%t,k=qi(b,a,t)*y%t,_=qi(k,n,t)*d%t,R=qi(_,s,t)*v%t,I=qi(R,r,t)*c%t,T=qi(I,XP,t);if(!QP.eql(QP.sqr(T),e))throw new Error("Cannot find square root");return T}const QP=eE(Mhe,void 0,void 0,{sqrt:Jct}),og=Hct({a:BigInt(0),b:BigInt(7),Fp:QP,n:tX,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=tX,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gct*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=nX(o*e,t),l=nX(-r*e,t);let c=xi(e-a*n-l*i,t),d=xi(-a*r-l*o,t);const u=c>s,h=d>s;if(u&&(c=t-c),h&&(d=t-d),c>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:h,k2:d}}}},$ct);BigInt(0);og.ProjectivePoint;function rX(e){try{return af.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Dhe=(e,t)=>af.sign(e,t.slice(0,32)),Zct=af.verify,Fo=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let Yct=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(D2,this))}static decode(t){return sa.deserialize(D2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(D2,this,t)}};const D2=new Map;var jhe;const Xct=32,kh=32;function Qct(e){return e._bn!==void 0}let iX=1,fn=class wy extends Yct{constructor(t){if(super({}),this._bn=void 0,Qct(t))this._bn=t._bn;else{if(typeof t=="string"){const n=gs.decode(t);if(n.length!=kh)throw new Error("Invalid public key input");this._bn=new Dd(n)}else this._bn=new Dd(t);if(this._bn.byteLength()>kh)throw new Error("Invalid public key input")}}static unique(){const t=new wy(iX);return iX+=1,new wy(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return gs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===kh)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Fh(i);return new wy(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>Xct)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,Fo(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Fh(r);if(rX(i))throw new Error("Invalid seeds, address must fall off the curve");return new wy(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new wy(t);return rX(n.toBytes())}};jhe=fn;fn.default=new jhe("11111111111111111111111111111111");D2.set(fn,{kind:"struct",fields:[["_bn","u256"]]});new fn("BPFLoader1111111111111111111111111111111111");const Qy=1232,Yj=127,KS=64;let $he=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty($he.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Lhe=class extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Lhe.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Zw=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Zw.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let HS=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const Qn=(e="publicKey")=>B.blob(32,e),edt=(e="signature")=>B.blob(64,e),By=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},tdt=(e="authorized")=>B.struct([Qn("staker"),Qn("withdrawer")],e),ndt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),Qn("custodian")],e),rdt=(e="voteInit")=>B.struct([Qn("nodePubkey"),Qn("authorizedVoter"),Qn("authorizedWithdrawer"),B.u8("commission")],e),idt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),Qn("currentAuthorityDerivedKeyOwnerPubkey"),By("currentAuthorityDerivedKeySeed"),Qn("newAuthorized")],e);function Uhe(e,t){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){const o=t[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return Uhe({layout:i},t[i.property]);return 0};let r=0;return e.layout.fields.forEach(i=>{r+=n(i)}),r}function il(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function ol(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function ni(e,t){if(!e)throw new Error(t||"Assertion failed")}let Fhe=class Whe{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Whe(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ni(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{ni(n.length>0,"Expected at least one writable signer key");const[l]=n[0];ni(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new fn(l)),...r.map(([l])=>new fn(l)),...i.map(([l])=>new fn(l)),...o.map(([l])=>new fn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new fn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(ni(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const qhe="Reached end of buffer unexpectedly";function Nu(e){if(e.length===0)throw new Error(qhe);return e.shift()}function sl(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(qhe);return e.splice(...t)}let Rm=class e7{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new fn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gs.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new HS(this.staticAccountKeys)}static compile(t){const n=Fhe.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new HS(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gs.encode(a.data)}));return new e7({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ol(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(gs.decode(u.data));let y=[];ol(y,h.length);let g=[];return ol(g,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(y),keyIndices:h,dataLength:Te.Buffer.from(g),data:v}});let i=[];ol(i,r.length);let o=Te.Buffer.alloc(Qy);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(Qn("key"),t,"keys"),Qn("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>Fo(u.toBytes())),recentBlockhash:gs.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=Nu(n);if(r!==(r&Yj))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Nu(n),o=Nu(n),s=il(n);let a=[];for(let h=0;h<s;h++){const m=sl(n,0,kh);a.push(new fn(Te.Buffer.from(m)))}const l=sl(n,0,kh),c=il(n);let d=[];for(let h=0;h<c;h++){const m=Nu(n),v=il(n),y=sl(n,0,v),g=il(n),b=sl(n,0,g),k=gs.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:y,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:gs.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new e7(u)}},Xj=class t7{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new HS(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=Fhe.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new HS(a,i).compileInstructions(t.instructions);return new t7({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();ol(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ol(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ol(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(Qn(),this.staticAccountKeys.length,"staticAccountKeys"),Qn("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Qy),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:gs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(Qy);for(const r of this.compiledInstructions){const i=Array();ol(i,r.accountKeyIndexes.length);const o=Array();ol(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(Qy);for(const r of this.addressTableLookups){const i=Array();ol(i,r.writableIndexes.length);const o=Array();ol(o,r.readonlyIndexes.length);const s=B.struct([Qn("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Nu(n),i=r&Yj;ni(r!==i,"Expected versioned message but received legacy message");const o=i;ni(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Nu(n),numReadonlySignedAccounts:Nu(n),numReadonlyUnsignedAccounts:Nu(n)},a=[],l=il(n);for(let v=0;v<l;v++)a.push(new fn(sl(n,0,kh)));const c=gs.encode(sl(n,0,kh)),d=il(n),u=[];for(let v=0;v<d;v++){const y=Nu(n),g=il(n),b=sl(n,0,g),k=il(n),_=new Uint8Array(sl(n,0,k));u.push({programIdIndex:y,accountKeyIndexes:b,data:_})}const h=il(n),m=[];for(let v=0;v<h;v++){const y=new fn(sl(n,0,kh)),g=il(n),b=sl(n,0,g),k=il(n),_=sl(n,0,k);m.push({accountKey:y,writableIndexes:b,readonlyIndexes:_})}return new t7({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}};const zhe={deserializeMessageVersion(e){const t=e[0],n=t&Yj;return n===t?"legacy":n},deserialize:e=>{const t=zhe.deserializeMessageVersion(e);if(t==="legacy")return Rm.from(e);if(t===0)return Xj.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Df=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const odt=Te.Buffer.alloc(KS).fill(0);let el=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Pu=class n7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new el(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(b=>{o.push({...b})});const g=y.programId.toString();i.includes(g)||i.push(g)}),i.forEach(y=>{o.push({pubkey:new fn(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const g=y.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===g);b>-1?(s[b].isWritable=s[b].isWritable||y.isWritable,s[b].isSigner=s[b].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,g){if(y.isSigner!==g.isSigner)return y.isSigner?-1:1;if(y.isWritable!==g.isWritable)return y.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const g=s.findIndex(b=>b.pubkey.equals(y.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:y,isSigner:g,isWritable:b})=>{g?(u.push(y.toString()),l+=1,b||(c+=1)):(h.push(y.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(y=>{const{data:g,programId:b}=y;return{programIdIndex:m.indexOf(b.toString()),accounts:y.keys.map(k=>m.indexOf(k.pubkey.toString())),data:gs.encode(g)}});return v.forEach(y=>{ni(y.programIdIndex>=0),y.accounts.forEach(g=>ni(g>=0))}),new Rm({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=Dhe(r,i.secretKey);this._addSignature(i.publicKey,Fo(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){ni(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):Zct(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];ol(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return ni(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(ni(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),ni(o.length<=Qy,`Transaction too large: ${o.length} > ${Qy}`),o}get keys(){return ni(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ni(this.instructions.length===1),this.instructions[0].programId}get data(){return ni(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=il(n);let i=[];for(let o=0;o<r;o++){const s=sl(n,0,KS);i.push(gs.encode(Te.Buffer.from(s)))}return n7.populate(Rm.from(n),i)}static populate(t,n=[]){const r=new n7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==gs.encode(odt)?null:gs.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new el({keys:o,programId:t.accountKeys[i.programIdIndex],data:gs.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}},sdt=class Vhe{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;ni(c>0,"Message header is invalid");const d=t.staticAccountKeys.length-s-l;ni(d>=0,"Message header is invalid");const u=t.getAccountKeys(n),h=u.get(0);if(h===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const v of i){const y=[];for(const b of v.accountKeyIndexes){const k=u.get(b);if(k===void 0)throw new Error(`Failed to find key for account key index ${b}`);const _=b<s;let R;_?R=b<c:b<u.staticAccountKeys.length?R=b-s<d:R=b-u.staticAccountKeys.length<u.accountKeysFromLookups.writable.length,y.push({pubkey:k,isSigner:b<r.numRequiredSignatures,isWritable:R})}const g=u.get(v.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);m.push(new el({programId:g,data:Fo(v.data),keys:y}))}return new Vhe({payerKey:h,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Rm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Xj.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}},adt=class Khe{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ni(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(KS));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ol(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(edt(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=il(n);for(let s=0;s<i;s++)r.push(new Uint8Array(sl(n,0,KS)));const o=zhe.deserialize(new Uint8Array(n));return new Khe(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));ni(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Dhe(n,i.secretKey)}}addSignature(t,n){ni(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));ni(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}};const ldt=160,cdt=64,ddt=ldt/cdt,udt=1e3/ddt;new fn("SysvarC1ock11111111111111111111111111111111");new fn("SysvarEpochSchedu1e111111111111111111111111");new fn("Sysvar1nstructions1111111111111111111111111");const H4=new fn("SysvarRecentB1ockHashes11111111111111111111"),oX=new fn("SysvarRent111111111111111111111111111111111");new fn("SysvarRewards111111111111111111111111111111");new fn("SysvarS1otHashes111111111111111111111111111");new fn("SysvarS1otHistory11111111111111111111111111");new fn("SysvarStakeHistory1111111111111111111111111");let sX=class extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}},sn=class extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};function by(e){return new Promise(t=>setTimeout(t,e))}function jl(e,t){const n=e.layout.span>=0?e.layout.span:Uhe(e,t),r=Te.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const fdt=B.nu64("lamportsPerSignature"),Hhe=B.struct([B.u32("version"),B.u32("state"),Qn("authorizedPubkey"),Qn("nonce"),B.struct([fdt],"feeCalculator")]),aX=Hhe.span;let hdt=class Ghe{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=Hhe.decode(Fo(t),0);return new Ghe({authorizedPubkey:new fn(n.authorizedPubkey),nonce:new fn(n.nonce).toString(),feeCalculator:n.feeCalculator})}};function T0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=Klt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}const $l=Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),Qn("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),Qn("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),T0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),Qn("base"),By("seed"),B.ns64("lamports"),B.ns64("space"),Qn("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),Qn("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),Qn("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),Qn("base"),By("seed"),B.ns64("space"),Qn("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Qn("base"),By("seed"),Qn("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),T0("lamports"),By("seed"),Qn("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});let Qj=class r7{constructor(){}static createAccount(t){const n=$l.Create,r=jl(n,{lamports:t.lamports,space:t.space,programId:Fo(t.programId.toBuffer())});return new el({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const i=$l.TransferWithSeed;n=jl(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=$l.Transfer;n=jl(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new el({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const i=$l.AssignWithSeed;n=jl(i,{base:Fo(t.basePubkey.toBuffer()),seed:t.seed,programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=$l.Assign;n=jl(i,{programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new el({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=$l.CreateWithSeed,r=jl(n,{base:Fo(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Fo(t.programId.toBuffer())});let i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new el({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Pu;"basePubkey"in t&&"seed"in t?n.add(r7.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:aX,programId:this.programId})):n.add(r7.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:aX,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=$l.InitializeNonceAccount,r=jl(n,{authorized:Fo(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:H4,isSigner:!1,isWritable:!1},{pubkey:oX,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new el(i)}static nonceAdvance(t){const n=$l.AdvanceNonceAccount,r=jl(n),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:H4,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new el(i)}static nonceWithdraw(t){const n=$l.WithdrawNonceAccount,r=jl(n,{lamports:t.lamports});return new el({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:H4,isSigner:!1,isWritable:!1},{pubkey:oX,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=$l.AuthorizeNonceAccount,r=jl(n,{authorized:Fo(t.newAuthorizedPubkey.toBuffer())});return new el({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const i=$l.AllocateWithSeed;n=jl(i,{base:Fo(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Fo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=$l.Allocate;n=jl(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new el({keys:r,programId:this.programId,data:n})}};Qj.programId=new fn("11111111111111111111111111111111");new fn("BPFLoader2111111111111111111111111111111111");function pdt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G4,lX;function mdt(){if(lX)return G4;lX=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=e.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=t(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return G4=function(r){var i=n(r,!1);if(i!==void 0)return""+i},G4}var gdt=mdt(),cX=pdt(gdt);const xw=32;function J4(e){let t=0;for(;e>1;)e/=2,t++;return t}function ydt(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}let vdt=class{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=J4(ydt(t+xw+1))-J4(xw)-1,r=this.getSlotsInEpoch(n),i=t-(r-xw);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*xw:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+J4(xw)):this.slotsPerEpoch}};var wdt=globalThis.fetch;let bdt=class extends Jj{constructor(t,n,r){const i=o=>{const s=Gj(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}};function _dt(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const dX=56;let uX=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=_dt(xdt,t),r=t.length-dX;ni(r>=0,"lookup table is invalid"),ni(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=B.struct([B.seq(Qn(),i,"addresses")]).decode(t.slice(dX));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new fn(n.authority[0]):void 0,addresses:o.map(s=>new fn(s))}}};const xdt={index:1,layout:B.struct([B.u32("typeIndex"),T0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(Qn(),B.offset(B.u8(),-1),"authority")])},kdt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Sdt(e){const t=e.match(kdt);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Pi=yi(ua(fn),ae(),e=>new fn(e)),Jhe=fa([ae(),it("base64")]),e9=yi(ua(Te.Buffer),Jhe,e=>Te.Buffer.from(e[0],"base64")),Idt=30*1e3;function Edt(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Zr(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function fX(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Zhe(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Mr(),message:ae(),data:_e(O_())})})])}const Cdt=Zhe(Mr());function Vn(e){return yi(Zhe(e),Cdt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function eo(e){return Vn(re({context:re({slot:H()}),value:e}))}function sE(e){return re({context:re({slot:H()}),value:e})}function Z4(e,t){return e===0?new Xj({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new fn(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:gs.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Rm(t)}const Adt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),Rdt=Vn(pe(me(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(me(H()))})))),Tdt=pe(re({slot:H(),prioritizationFee:H()})),Odt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),Ndt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),Pdt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),Bdt=Jd(ae(),pe(H())),sg=me(Ot([re({}),ae()])),Mdt=re({err:sg}),Ddt=it("receivedSignature"),jdt=re({"solana-core":ae(),"feature-set":_e(H())}),$dt=re({program:ae(),programId:Pi,parsed:Mr()}),Ldt=re({programId:Pi,accounts:pe(Pi),data:ae()}),hX=eo(re({err:me(Ot([re({}),ae()])),logs:me(pe(ae())),accounts:_e(me(pe(me(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(me(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(Ot([$dt,Ldt]))}))))})),Udt=eo(re({byIdentity:Jd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));function Fdt(e,t,n,r,i,o){const s=n||wdt;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const h=await new Promise((m,v)=>{try{r(d,u,(y,g)=>m([y,g]))}catch(y){v(y)}});return await s(...h)}),new Hj(async(d,u)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Fut)};try{let m=5,v,y=500;for(;l?v=await l(e,h):v=await s(e,h),!(v.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${y}ms delay...`),await by(y),y*=2;const g=await v.text();v.ok?u(null,g):u(new Error(`${v.status} ${v.statusText}: ${g}`))}catch(m){m instanceof Error&&u(m)}},{})}function Wdt(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function qdt(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const zdt=Vn(Adt),Vdt=Vn(Odt),Kdt=Vn(Tdt),Hdt=Vn(Ndt),Gdt=Vn(Pdt),Jdt=Vn(Bdt),Zdt=Vn(H()),Ydt=eo(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Pi)})),i7=re({amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())}),Xdt=eo(pe(re({address:Pi,amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())}))),Qdt=eo(pe(re({pubkey:Pi,account:re({executable:kn(),owner:Pi,lamports:H(),data:e9,rentEpoch:H()})}))),o7=re({program:ae(),parsed:Mr(),space:H()}),eut=eo(pe(re({pubkey:Pi,account:re({executable:kn(),owner:Pi,lamports:H(),data:o7,rentEpoch:H()})}))),tut=eo(pe(re({lamports:H(),address:Pi}))),b1=re({executable:kn(),owner:Pi,lamports:H(),data:e9,rentEpoch:H()}),nut=re({pubkey:Pi,account:b1}),rut=yi(Ot([ua(Te.Buffer),o7]),Ot([Jhe,o7]),e=>Array.isArray(e)?ke(e,e9):e),s7=re({executable:kn(),owner:Pi,lamports:H(),data:rut,rentEpoch:H()}),iut=re({pubkey:Pi,account:s7}),out=re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()}),sut=Vn(pe(re({signature:ae(),slot:H(),err:sg,memo:me(ae()),blockTime:_e(me(H()))}))),aut=Vn(pe(re({signature:ae(),slot:H(),err:sg,memo:me(ae()),blockTime:_e(me(H()))}))),lut=re({subscription:H(),result:sE(b1)}),cut=re({pubkey:Pi,account:b1}),dut=re({subscription:H(),result:sE(cut)}),uut=re({parent:H(),slot:H(),root:H()}),fut=re({subscription:H(),result:uut}),hut=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]),put=re({subscription:H(),result:hut}),mut=re({subscription:H(),result:sE(Ot([Mdt,Ddt]))}),gut=re({subscription:H(),result:H()}),yut=re({pubkey:ae(),gossip:me(ae()),tpu:me(ae()),rpc:me(ae()),version:me(ae())}),pX=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:me(H())}),vut=Vn(re({current:pe(pX),delinquent:pe(pX)})),wut=Ot([it("processed"),it("confirmed"),it("finalized")]),but=re({slot:H(),confirmations:me(H()),err:sg,confirmationStatus:_e(wut)}),_ut=eo(pe(me(but))),xut=Vn(H()),Yhe=re({accountKey:Pi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),t9=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Yhe))})}),Xhe=re({pubkey:Pi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),Qhe=re({accountKeys:pe(Xhe),signatures:pe(ae())}),epe=re({parsed:Mr(),program:ae(),programId:Pi}),tpe=re({accounts:pe(Pi),data:ae(),programId:Pi}),kut=Ot([tpe,epe]),Sut=Ot([re({parsed:Mr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),npe=yi(kut,Sut,e=>"accounts"in e?ke(e,tpe):ke(e,epe)),rpe=re({signatures:pe(ae()),message:re({accountKeys:pe(Xhe),instructions:pe(npe),recentBlockhash:ae(),addressTableLookups:_e(me(pe(Yhe)))})}),GS=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:i7}),ipe=re({writable:pe(Pi),readonly:pe(Pi)}),aE=re({err:sg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(GS))),postTokenBalances:_e(me(pe(GS))),loadedAddresses:_e(ipe),computeUnitsConsumed:_e(H())}),n9=re({err:sg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(npe)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(GS))),postTokenBalances:_e(me(pe(GS))),loadedAddresses:_e(ipe),computeUnitsConsumed:_e(H())}),gv=Ot([it(0),it("legacy")]),ag=re({pubkey:ae(),lamports:H(),postBalance:me(H()),rewardType:me(ae()),commission:_e(me(H()))}),Iut=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:t9,meta:me(aE),version:_e(gv)})),rewards:_e(pe(ag)),blockTime:me(H()),blockHeight:me(H())}))),Eut=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(ag)),blockTime:me(H()),blockHeight:me(H())}))),Cut=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Qhe,meta:me(aE),version:_e(gv)})),rewards:_e(pe(ag)),blockTime:me(H()),blockHeight:me(H())}))),Aut=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:rpe,meta:me(n9),version:_e(gv)})),rewards:_e(pe(ag)),blockTime:me(H()),blockHeight:me(H())}))),Rut=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Qhe,meta:me(n9),version:_e(gv)})),rewards:_e(pe(ag)),blockTime:me(H()),blockHeight:me(H())}))),Tut=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(ag)),blockTime:me(H()),blockHeight:me(H())}))),Out=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:t9,meta:me(aE)})),rewards:_e(pe(ag)),blockTime:me(H())}))),mX=Vn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:me(H())}))),Y4=Vn(me(re({slot:H(),meta:me(aE),blockTime:_e(me(H())),transaction:t9,version:_e(gv)}))),Mk=Vn(me(re({slot:H(),transaction:rpe,meta:me(n9),blockTime:_e(me(H())),version:_e(gv)}))),Nut=eo(re({blockhash:ae(),lastValidBlockHeight:H()})),Put=eo(kn()),But=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),Mut=Vn(pe(But)),Dut=eo(me(re({feeCalculator:re({lamportsPerSignature:H()})}))),jut=Vn(ae()),$ut=Vn(ae()),Lut=re({err:sg,logs:pe(ae()),signature:ae()}),Uut=re({result:sE(Lut),subscription:H()}),Fut={"solana-client":"js/1.0.0-maintenance"};let ope=class{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:h}=Zr(d),m=this._buildArgs([],u,void 0,h),v=cX(m);return c[v]=c[v]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),g=ke(y,Vn(H()));if("error"in g)throw new sn(g.error,"failed to get block height information");return g.result}finally{delete c[v]}})(),await c[v]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=Edt(t),this._rpcWsEndpoint=r||Sdt(t),this._rpcClient=Fdt(t,i,o,s,a,l),this._rpcRequest=Wdt(this._rpcClient),this._rpcBatchRequest=qdt(this._rpcClient),this._rpcWebSocket=new bdt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ke(s,eo(H()));if("error"in a)throw new sn(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ke(n,Vn(me(H())));if("error"in r)throw new sn(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ke(t,Vn(H()));if("error"in n)throw new sn(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ke(t,Zdt);if("error"in n)throw new sn(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ke(r,Ydt);if("error"in i)throw new sn(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ke(i,eo(i7));if("error"in o)throw new sn(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ke(i,eo(i7));if("error"in o)throw new sn(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Zr(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ke(l,Qdt);if("error"in c)throw new sn(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ke(s,eut);if("error"in a)throw new sn(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ke(i,tut);if("error"in o)throw new sn(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(i,Xdt);if("error"in o)throw new sn(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,eo(me(b1)));if("error"in a)throw new sn(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,eo(me(s7)));if("error"in a)throw new sn(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,eo(pe(me(s7))));if("error"in l)throw new sn(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,eo(pe(me(b1))));if("error"in l)throw new sn(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Zr(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ke(a,Vn(out));if("error"in l)throw new sn(l.error,`failed to get Stake Activation ${t.toBase58()}`);return l.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Zr(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...s,...s.filters?{filters:fX(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(nut),d=s.withContext===!0?ke(l,eo(c)):ke(l,Vn(c));if("error"in d)throw new sn(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ke(s,Vn(pe(iut)));if("error"in a)throw new sn(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=gs.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ni(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,h)=>{r=void 0;const m={context:h,value:u};l({__type:Df.PROCESSED,response:m})},t);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:h,value:m}=u;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:Df.PROCESSED,response:{context:h,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const h=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await h();if(!o){for(;m<=r;)if(await by(1e3),o||(m=await h(),o))return;u({__type:Df.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===Df.PROCESSED)d=u.response;else throw new $he(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let v=o,y=null;const g=async()=>{try{const{context:b,value:k}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=b.slot,k==null?void 0:k.nonce}catch{return v}};(async()=>{if(v=await g(),!a)for(;;){if(o!==v){m({__type:Df.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await by(2e3),a||(v=await g(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let h;try{const m=await Promise.race([u,d,l]);if(m.__type===Df.PROCESSED)h=m.response;else{let v;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await by(400);continue}v=y;break}if(v!=null&&v.value){const y=t||"finalized",{confirmationStatus:g}=v.value;switch(y){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Zw(s);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Zw(s);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Zw(s);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new Zw(s)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:Df.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===Df.PROCESSED)a=l.response;else throw new Lhe(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ke(t,Vn(pe(yut)));if("error"in n)throw new sn(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ke(r,vut);if("error"in i)throw new sn(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ke(o,Vn(H()));if("error"in s)throw new sn(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ke(o,Vn(ae()));if("error"in s)throw new sn(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=ke(i,Vn(pe(Pi)));if("error"in o)throw new sn(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);ni(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ke(i,_ut);if("error"in o)throw new sn(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ke(o,Vn(H()));if("error"in s)throw new sn(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ke(r,zdt);if("error"in i)throw new sn(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Zr(r),s=this._buildArgs([t.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ke(a,Rdt);if("error"in l)throw new sn(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ke(t,Vdt);if("error"in n)throw new sn(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ke(o,Hdt);if("error"in s)throw new sn(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ke(t,Gdt);if("error"in n)throw new sn(n.error,"failed to get epoch schedule");const r=n.result;return new vdt(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ke(t,Jdt);if("error"in n)throw new sn(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(i,xut);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ke(n,Mut);if("error"in r)throw new sn(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(i,Dut);if("error"in o)throw new sn(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=Fo(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ke(o,eo(me(H())));if("error"in s)throw new sn(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(i,Kdt);if("error"in o)throw new sn(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ke(o,Nut);if("error"in s)throw new sn(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ke(s,Put);if("error"in a)throw new sn(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ke(t,Vn(jdt));if("error"in n)throw new sn(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ke(t,Vn(ae()));if("error"in n)throw new sn(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,Cut);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,Eut);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,Iut);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:Z4(u,c.message)},version:u}))}:null}}}catch(a){throw new sn(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,Rut);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,Tut);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,Aut);if("error"in a)throw a.error;return a.result}}}catch(a){throw new sn(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...l}=t;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ke(o,Udt);if("error"in s)throw new sn(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ke(s,Y4);if("error"in a)throw new sn(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:Z4(l.version,l.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Zr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ke(s,Mk);if("error"in a)throw new sn(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,Mk);if("error"in c)throw new sn(c.error,"failed to get transactions");return c.result})}async getTransactions(t,n){const{commitment:r,config:i}=Zr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,Y4);if("error"in c)throw new sn(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:Z4(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),o=ke(i,Out);if("error"in o)throw new sn(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new Rm(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Pu.populate(l.message,l.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=ke(o,Vn(pe(H())));if("error"in s)throw new sn(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,mX);if("error"in o)throw new sn(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,mX);if("error"in o)throw new sn(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),o=ke(i,Y4);if("error"in o)throw new sn(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Rm(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Pu.populate(a,l)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ke(i,Mk);if("error"in o)throw new sn(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ke(s,Mk);if("error"in a)throw new sn(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ke(o,sut);if("error"in s)throw new sn(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ke(o,aut);if("error"in s)throw new sn(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new uX({key:t,state:uX.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=hdt.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ke(r,jut);if("error"in i)throw new sn(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await by(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Idt;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await by(udt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Zr(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ke(o,eo(H()));if("error"in s)throw new sn(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),g=Te.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const k=[g,b],_=await this._rpcRequest("simulateTransaction",k),R=ke(_,hX);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof Pu){let v=t;i=new Pu,i.feePayer=v.feePayer,i.instructions=t.instructions,i.nonceInfo=v.nonceInfo,i.signatures=v.signatures}else i=Pu.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(v);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const g=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else v=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],h=await this._rpcRequest("simulateTransaction",u),m=ke(h,hX);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const y=`
    `,g=y+v.join(y);console.error(m.error.message,g)}throw new sX({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const l=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=Fo(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),l=ke(a,$ut);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new sX({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ke(t,lut);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=cX([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];ni(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:o}=Zr(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ke(t,dut);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:o,config:s}=Zr(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:fX(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ke(t,Uut);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ke(t,fut);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ke(t,put);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ke(t,mut);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ke(t,gut);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),T0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),T0(),B.seq(Qn(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new fn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),T0("microLamports")])}});new fn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new fn("Ed25519SigVerify111111111111111111111111111");og.utils.isValidPrivateKey;og.getPublicKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new fn("KeccakSecp256k11111111111111111111111111111");var spe;new fn("StakeConfig11111111111111111111111111111111");let ape=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};spe=ape;ape.default=new spe(0,0,fn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),tdt(),ndt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Qn("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),Qn("newAuthorized"),B.u32("stakeAuthorizationType"),By("authoritySeed"),Qn("authorityOwner")])}});new fn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),rdt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Qn("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),idt()])}});new fn("Vote111111111111111111111111111111111111111");new fn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new fn("Vote111111111111111111111111111111111111111");B.struct([Qn("nodePubkey"),Qn("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),Qn("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([Qn("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);var X4,gX;function Wut(){if(gX)return X4;gX=1;var e=mv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,b=0,k=0,_=y.length;k!==_&&y[k]===0;)k++,g++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=y[k],D=0,M=R-1;(T!==0||D<b)&&M!==-1;M--,D++)T+=256*I[M]>>>0,I[M]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=D,k++}for(var C=R-b;C!==R&&I[C]===0;)C++;for(var U=c.repeat(g);C<R;++C)U+=n.charAt(I[C]);return U}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var g=0,b=0,k=0;y[g]===c;)b++,g++;for(var _=(y.length-g)*d+1>>>0,R=new Uint8Array(_);g<y.length;){var I=y.charCodeAt(g);if(I>255)return;var T=r[I];if(T===255)return;for(var D=0,M=_-1;(T!==0||D<k)&&M!==-1;M--,D++)T+=l*R[M]>>>0,R[M]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=D,g++}for(var C=_-k;C!==_&&R[C]===0;)C++;var U=e.allocUnsafe(b+(_-C));U.fill(0,0,b);for(var $=b;C!==_;)U[$++]=R[C++];return U}function v(y){var g=m(y);if(g)return g;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return X4=t,X4}var Q4,yX;function qut(){if(yX)return Q4;yX=1;var e=Wut(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Q4=e(t),Q4}var zut=qut();const ys=Rr(zut);var Vut=8078e3,Kut=8078001,Hut=8078004,Gut=8078005,Jut=8078006,Zut=8078011;function lpe(e){return Array.isArray(e)?"%5B"+e.map(lpe).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Yut([e,t]){return`${e}=${lpe(t)}`}function Xut(e){const t=Object.entries(e).map(Yut).join("&");return btoa(t)}function Qut(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${Xut(t)}'`),`${n}\``}}var e0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=Qut(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function eft(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function tft(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(eft(t,e));return e.write(t,n,0),n}})}function nft(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ey(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function rft(e,t){if(ey(e)!==ey(t))throw new e0(Hut);if(ey(e)&&ey(t)&&e.fixedSize!==t.fixedSize)throw new e0(Gut,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ey(e)&&!ey(t)&&e.maxSize!==t.maxSize)throw new e0(Jut,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function ift(e,t,n=0){if(t.length-n<=0)throw new e0(Vut,{codecDescription:e})}function oft(e,t,n,r=0){const i=n.length-r;if(i<t)throw new e0(Kut,{bytesLength:i,codecDescription:e,expected:t})}function sft(e,t,n,r){if(r<t||r>n)throw new e0(Zut,{codecDescription:e,max:n,min:t,value:r})}function cpe(e){return(e==null?void 0:e.endian)!==1}function aft(e){return tft({fixedSize:e.size,write(t,n,r){e.range&&sft(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,cpe(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function lft(e){return nft({fixedSize:e.size,read(t,n=0){ift(e.name,t,n),oft(e.name,e.size,t,n);const r=new DataView(cft(t,n,e.size));return[e.get(r,cpe(e.config)),n+e.size]}})}function cft(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var dft=(e={})=>aft({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),uft=(e={})=>lft({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),fft=(e={})=>rft(dft(e),uft(e));function vX(e){try{return af.ExtendedPoint.fromHex(e),!0}catch{return!1}}const dpe=(e,t)=>af.sign(e,t.slice(0,32)),hft=af.verify,Wo=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let pft=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(j2,this))}static decode(t){return sa.deserialize(j2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(j2,this,t)}};const j2=new Map;var upe;const mft=32,Sh=32;function gft(e){return e._bn!==void 0}let wX=1,nn=class _y extends pft{constructor(t){if(super({}),this._bn=void 0,gft(t))this._bn=t._bn;else{if(typeof t=="string"){const n=ys.decode(t);if(n.length!=Sh)throw new Error("Invalid public key input");this._bn=new Dd(n)}else this._bn=new Dd(t);if(this._bn.byteLength()>Sh)throw new Error("Invalid public key input")}}static unique(){const t=new _y(wX);return wX+=1,new _y(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ys.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Sh)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Fh(i);return new _y(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>mft)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,Wo(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Fh(r);if(vX(i))throw new Error("Invalid seeds, address must fall off the curve");return new _y(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new _y(t);return vX(n.toBytes())}};upe=nn;nn.default=new upe("11111111111111111111111111111111");j2.set(nn,{kind:"struct",fields:[["_bn","u256"]]});new nn("BPFLoader1111111111111111111111111111111111");const t0=1232,r9=127,JS=64;let fpe=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(fpe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let hpe=class extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(hpe.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Yw=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Yw.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let ZS=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const er=(e="publicKey")=>B.blob(32,e),yft=(e="signature")=>B.blob(64,e),My=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},vft=(e="authorized")=>B.struct([er("staker"),er("withdrawer")],e),wft=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),er("custodian")],e),bft=(e="voteInit")=>B.struct([er("nodePubkey"),er("authorizedVoter"),er("authorizedWithdrawer"),B.u8("commission")],e),_ft=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),er("currentAuthorityDerivedKeyOwnerPubkey"),My("currentAuthorityDerivedKeySeed"),er("newAuthorized")],e);function ppe(e,t){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){const o=t[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return ppe({layout:i},t[i.property]);return 0};let r=0;return e.layout.fields.forEach(i=>{r+=n(i)}),r}function al(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function ll(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function ri(e,t){if(!e)throw new Error(t||"Assertion failed")}let mpe=class gpe{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new gpe(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ri(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{ri(n.length>0,"Expected at least one writable signer key");const[l]=n[0];ri(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new nn(l)),...r.map(([l])=>new nn(l)),...i.map(([l])=>new nn(l)),...o.map(([l])=>new nn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new nn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(ri(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const ype="Reached end of buffer unexpectedly";function Bu(e){if(e.length===0)throw new Error(ype);return e.shift()}function cl(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(ype);return e.splice(...t)}let Tm=class a7{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new nn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ys.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ZS(this.staticAccountKeys)}static compile(t){const n=mpe.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new ZS(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ys.encode(a.data)}));return new a7({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ll(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(ys.decode(u.data));let y=[];ll(y,h.length);let g=[];return ll(g,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(y),keyIndices:h,dataLength:Te.Buffer.from(g),data:v}});let i=[];ll(i,r.length);let o=Te.Buffer.alloc(t0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(er("key"),t,"keys"),er("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>Wo(u.toBytes())),recentBlockhash:ys.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=Bu(n);if(r!==(r&r9))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Bu(n),o=Bu(n),s=al(n);let a=[];for(let h=0;h<s;h++){const m=cl(n,0,Sh);a.push(new nn(Te.Buffer.from(m)))}const l=cl(n,0,Sh),c=al(n);let d=[];for(let h=0;h<c;h++){const m=Bu(n),v=al(n),y=cl(n,0,v),g=al(n),b=cl(n,0,g),k=ys.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:y,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ys.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new a7(u)}},i9=class l7{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ZS(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=mpe.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new ZS(a,i).compileInstructions(t.instructions);return new l7({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();ll(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ll(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ll(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(er(),this.staticAccountKeys.length,"staticAccountKeys"),er("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(t0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:ys.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(t0);for(const r of this.compiledInstructions){const i=Array();ll(i,r.accountKeyIndexes.length);const o=Array();ll(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(t0);for(const r of this.addressTableLookups){const i=Array();ll(i,r.writableIndexes.length);const o=Array();ll(o,r.readonlyIndexes.length);const s=B.struct([er("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Bu(n),i=r&r9;ri(r!==i,"Expected versioned message but received legacy message");const o=i;ri(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Bu(n),numReadonlySignedAccounts:Bu(n),numReadonlyUnsignedAccounts:Bu(n)},a=[],l=al(n);for(let v=0;v<l;v++)a.push(new nn(cl(n,0,Sh)));const c=ys.encode(cl(n,0,Sh)),d=al(n),u=[];for(let v=0;v<d;v++){const y=Bu(n),g=al(n),b=cl(n,0,g),k=al(n),_=new Uint8Array(cl(n,0,k));u.push({programIdIndex:y,accountKeyIndexes:b,data:_})}const h=al(n),m=[];for(let v=0;v<h;v++){const y=new nn(cl(n,0,Sh)),g=al(n),b=cl(n,0,g),k=al(n),_=cl(n,0,k);m.push({accountKey:y,writableIndexes:b,readonlyIndexes:_})}return new l7({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}};const vpe={deserializeMessageVersion(e){const t=e[0],n=t&r9;return n===t?"legacy":n},deserialize:e=>{const t=vpe.deserializeMessageVersion(e);if(t==="legacy")return Tm.from(e);if(t===0)return i9.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let jf=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const xft=Te.Buffer.alloc(JS).fill(0);let Ca=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Fp=class c7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ca(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(b=>{o.push({...b})});const g=y.programId.toString();i.includes(g)||i.push(g)}),i.forEach(y=>{o.push({pubkey:new nn(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const g=y.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===g);b>-1?(s[b].isWritable=s[b].isWritable||y.isWritable,s[b].isSigner=s[b].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,g){if(y.isSigner!==g.isSigner)return y.isSigner?-1:1;if(y.isWritable!==g.isWritable)return y.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const g=s.findIndex(b=>b.pubkey.equals(y.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:y,isSigner:g,isWritable:b})=>{g?(u.push(y.toString()),l+=1,b||(c+=1)):(h.push(y.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(y=>{const{data:g,programId:b}=y;return{programIdIndex:m.indexOf(b.toString()),accounts:y.keys.map(k=>m.indexOf(k.pubkey.toString())),data:ys.encode(g)}});return v.forEach(y=>{ri(y.programIdIndex>=0),y.accounts.forEach(g=>ri(g>=0))}),new Tm({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=dpe(r,i.secretKey);this._addSignature(i.publicKey,Wo(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){ri(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):hft(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];ll(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return ri(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(ri(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),ri(o.length<=t0,`Transaction too large: ${o.length} > ${t0}`),o}get keys(){return ri(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ri(this.instructions.length===1),this.instructions[0].programId}get data(){return ri(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=al(n);let i=[];for(let o=0;o<r;o++){const s=cl(n,0,JS);i.push(ys.encode(Te.Buffer.from(s)))}return c7.populate(Tm.from(n),i)}static populate(t,n=[]){const r=new c7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==ys.encode(xft)?null:ys.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new Ca({keys:o,programId:t.accountKeys[i.programIdIndex],data:ys.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};class o9{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;ri(c>0,"Message header is invalid");const d=t.staticAccountKeys.length-s-l;ri(d>=0,"Message header is invalid");const u=t.getAccountKeys(n),h=u.get(0);if(h===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const v of i){const y=[];for(const b of v.accountKeyIndexes){const k=u.get(b);if(k===void 0)throw new Error(`Failed to find key for account key index ${b}`);const _=b<s;let R;_?R=b<c:b<u.staticAccountKeys.length?R=b-s<d:R=b-u.staticAccountKeys.length<u.accountKeysFromLookups.writable.length,y.push({pubkey:k,isSigner:b<r.numRequiredSignatures,isWritable:R})}const g=u.get(v.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);m.push(new Ca({programId:g,data:Wo(v.data),keys:y}))}return new o9({payerKey:h,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Tm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return i9.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}let s9=class wpe{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ri(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(JS));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ll(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(yft(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=al(n);for(let s=0;s<i;s++)r.push(new Uint8Array(cl(n,0,JS)));const o=vpe.deserialize(new Uint8Array(n));return new wpe(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));ri(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=dpe(n,i.secretKey)}}addSignature(t,n){ri(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));ri(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}};const kft=160,Sft=64,Ift=kft/Sft,Eft=1e3/Ift;new nn("SysvarC1ock11111111111111111111111111111111");new nn("SysvarEpochSchedu1e111111111111111111111111");new nn("Sysvar1nstructions1111111111111111111111111");const e8=new nn("SysvarRecentB1ockHashes11111111111111111111"),bX=new nn("SysvarRent111111111111111111111111111111111");new nn("SysvarRewards111111111111111111111111111111");new nn("SysvarS1otHashes111111111111111111111111111");new nn("SysvarS1otHistory11111111111111111111111111");new nn("SysvarStakeHistory1111111111111111111111111");let _X=class extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}},an=class extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};function xy(e){return new Promise(t=>setTimeout(t,e))}function Ll(e,t){const n=e.layout.span>=0?e.layout.span:ppe(e,t),r=Te.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const Cft=B.nu64("lamportsPerSignature"),bpe=B.struct([B.u32("version"),B.u32("state"),er("authorizedPubkey"),er("nonce"),B.struct([Cft],"feeCalculator")]),xX=bpe.span;let Aft=class _pe{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=bpe.decode(Wo(t),0);return new _pe({authorizedPubkey:new nn(n.authorizedPubkey),nonce:new nn(n.nonce).toString(),feeCalculator:n.feeCalculator})}};function O0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=fft();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}const Ul=Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),er("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),er("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),O0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),er("base"),My("seed"),B.ns64("lamports"),B.ns64("space"),er("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),er("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),er("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),er("base"),My("seed"),B.ns64("space"),er("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),er("base"),My("seed"),er("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),O0("lamports"),My("seed"),er("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});class _1{constructor(){}static createAccount(t){const n=Ul.Create,r=Ll(n,{lamports:t.lamports,space:t.space,programId:Wo(t.programId.toBuffer())});return new Ca({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const i=Ul.TransferWithSeed;n=Ll(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Ul.Transfer;n=Ll(i,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Ca({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const i=Ul.AssignWithSeed;n=Ll(i,{base:Wo(t.basePubkey.toBuffer()),seed:t.seed,programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ul.Assign;n=Ll(i,{programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ca({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Ul.CreateWithSeed,r=Ll(n,{base:Wo(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Wo(t.programId.toBuffer())});let i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Ca({keys:i,programId:this.programId,data:r})}static createNonceAccount(t){const n=new Fp;"basePubkey"in t&&"seed"in t?n.add(_1.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:xX,programId:this.programId})):n.add(_1.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:xX,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=Ul.InitializeNonceAccount,r=Ll(n,{authorized:Wo(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e8,isSigner:!1,isWritable:!1},{pubkey:bX,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ca(i)}static nonceAdvance(t){const n=Ul.AdvanceNonceAccount,r=Ll(n),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e8,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ca(i)}static nonceWithdraw(t){const n=Ul.WithdrawNonceAccount,r=Ll(n,{lamports:t.lamports});return new Ca({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:e8,isSigner:!1,isWritable:!1},{pubkey:bX,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=Ul.AuthorizeNonceAccount,r=Ll(n,{authorized:Wo(t.newAuthorizedPubkey.toBuffer())});return new Ca({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const i=Ul.AllocateWithSeed;n=Ll(i,{base:Wo(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Wo(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ul.Allocate;n=Ll(i,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ca({keys:r,programId:this.programId,data:n})}}_1.programId=new nn("11111111111111111111111111111111");new nn("BPFLoader2111111111111111111111111111111111");function Rft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t8,kX;function Tft(){if(kX)return t8;kX=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=e.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=t(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return t8=function(r){var i=n(r,!1);if(i!==void 0)return""+i},t8}var Oft=Tft(),SX=Rft(Oft);const kw=32;function n8(e){let t=0;for(;e>1;)e/=2,t++;return t}function Nft(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}let Pft=class{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=n8(Nft(t+kw+1))-n8(kw)-1,r=this.getSlotsInEpoch(n),i=t-(r-kw);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*kw:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+n8(kw)):this.slotsPerEpoch}};var Bft=globalThis.fetch;let Mft=class extends Jj{constructor(t,n,r){const i=o=>{const s=Gj(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}};function Dft(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const IX=56;let EX=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=Dft(jft,t),r=t.length-IX;ri(r>=0,"lookup table is invalid"),ri(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=B.struct([B.seq(er(),i,"addresses")]).decode(t.slice(IX));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new nn(n.authority[0]):void 0,addresses:o.map(s=>new nn(s))}}};const jft={index:1,layout:B.struct([B.u32("typeIndex"),O0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(er(),B.offset(B.u8(),-1),"authority")])},$ft=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Lft(e){const t=e.match($ft);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Bi=yi(ua(nn),ae(),e=>new nn(e)),xpe=fa([ae(),it("base64")]),a9=yi(ua(Te.Buffer),xpe,e=>Te.Buffer.from(e[0],"base64")),Uft=30*1e3;function Fft(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Yr(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function CX(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function kpe(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Mr(),message:ae(),data:_e(O_())})})])}const Wft=kpe(Mr());function Kn(e){return yi(kpe(e),Wft,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function to(e){return Kn(re({context:re({slot:H()}),value:e}))}function lE(e){return re({context:re({slot:H()}),value:e})}function r8(e,t){return e===0?new i9({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new nn(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:ys.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Tm(t)}const qft=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),zft=Kn(pe(me(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(me(H()))})))),Vft=pe(re({slot:H(),prioritizationFee:H()})),Kft=re({total:H(),validator:H(),foundation:H(),epoch:H()}),Hft=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),Gft=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),Jft=Jd(ae(),pe(H())),lg=me(Ot([re({}),ae()])),Zft=re({err:lg}),Yft=it("receivedSignature"),Xft=re({"solana-core":ae(),"feature-set":_e(H())}),Qft=re({program:ae(),programId:Bi,parsed:Mr()}),eht=re({programId:Bi,accounts:pe(Bi),data:ae()}),AX=to(re({err:me(Ot([re({}),ae()])),logs:me(pe(ae())),accounts:_e(me(pe(me(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(me(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(Ot([Qft,eht]))}))))})),tht=to(re({byIdentity:Jd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));function nht(e,t,n,r,i,o){const s=n||Bft;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const h=await new Promise((m,v)=>{try{r(d,u,(y,g)=>m([y,g]))}catch(y){v(y)}});return await s(...h)}),new Hj(async(d,u)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},npt)};try{let m=5,v,y=500;for(;l?v=await l(e,h):v=await s(e,h),!(v.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${y}ms delay...`),await xy(y),y*=2;const g=await v.text();v.ok?u(null,g):u(new Error(`${v.status} ${v.statusText}: ${g}`))}catch(m){m instanceof Error&&u(m)}},{})}function rht(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function iht(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const oht=Kn(qft),sht=Kn(Kft),aht=Kn(Vft),lht=Kn(Hft),cht=Kn(Gft),dht=Kn(Jft),uht=Kn(H()),fht=to(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Bi)})),d7=re({amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())}),hht=to(pe(re({address:Bi,amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())}))),pht=to(pe(re({pubkey:Bi,account:re({executable:kn(),owner:Bi,lamports:H(),data:a9,rentEpoch:H()})}))),u7=re({program:ae(),parsed:Mr(),space:H()}),mht=to(pe(re({pubkey:Bi,account:re({executable:kn(),owner:Bi,lamports:H(),data:u7,rentEpoch:H()})}))),ght=to(pe(re({lamports:H(),address:Bi}))),x1=re({executable:kn(),owner:Bi,lamports:H(),data:a9,rentEpoch:H()}),yht=re({pubkey:Bi,account:x1}),vht=yi(Ot([ua(Te.Buffer),u7]),Ot([xpe,u7]),e=>Array.isArray(e)?ke(e,a9):e),f7=re({executable:kn(),owner:Bi,lamports:H(),data:vht,rentEpoch:H()}),wht=re({pubkey:Bi,account:f7}),bht=re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()}),_ht=Kn(pe(re({signature:ae(),slot:H(),err:lg,memo:me(ae()),blockTime:_e(me(H()))}))),xht=Kn(pe(re({signature:ae(),slot:H(),err:lg,memo:me(ae()),blockTime:_e(me(H()))}))),kht=re({subscription:H(),result:lE(x1)}),Sht=re({pubkey:Bi,account:x1}),Iht=re({subscription:H(),result:lE(Sht)}),Eht=re({parent:H(),slot:H(),root:H()}),Cht=re({subscription:H(),result:Eht}),Aht=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]),Rht=re({subscription:H(),result:Aht}),Tht=re({subscription:H(),result:lE(Ot([Zft,Yft]))}),Oht=re({subscription:H(),result:H()}),Nht=re({pubkey:ae(),gossip:me(ae()),tpu:me(ae()),rpc:me(ae()),version:me(ae())}),RX=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:me(H())}),Pht=Kn(re({current:pe(RX),delinquent:pe(RX)})),Bht=Ot([it("processed"),it("confirmed"),it("finalized")]),Mht=re({slot:H(),confirmations:me(H()),err:lg,confirmationStatus:_e(Bht)}),Dht=to(pe(me(Mht))),jht=Kn(H()),Spe=re({accountKey:Bi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),l9=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Spe))})}),Ipe=re({pubkey:Bi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),Epe=re({accountKeys:pe(Ipe),signatures:pe(ae())}),Cpe=re({parsed:Mr(),program:ae(),programId:Bi}),Ape=re({accounts:pe(Bi),data:ae(),programId:Bi}),$ht=Ot([Ape,Cpe]),Lht=Ot([re({parsed:Mr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),Rpe=yi($ht,Lht,e=>"accounts"in e?ke(e,Ape):ke(e,Cpe)),Tpe=re({signatures:pe(ae()),message:re({accountKeys:pe(Ipe),instructions:pe(Rpe),recentBlockhash:ae(),addressTableLookups:_e(me(pe(Spe)))})}),YS=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:d7}),Ope=re({writable:pe(Bi),readonly:pe(Bi)}),cE=re({err:lg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(YS))),postTokenBalances:_e(me(pe(YS))),loadedAddresses:_e(Ope),computeUnitsConsumed:_e(H()),costUnits:_e(H())}),c9=re({err:lg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(Rpe)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(YS))),postTokenBalances:_e(me(pe(YS))),loadedAddresses:_e(Ope),computeUnitsConsumed:_e(H()),costUnits:_e(H())}),yv=Ot([it(0),it("legacy")]),cg=re({pubkey:ae(),lamports:H(),postBalance:me(H()),rewardType:me(ae()),commission:_e(me(H()))}),Uht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:l9,meta:me(cE),version:_e(yv)})),rewards:_e(pe(cg)),blockTime:me(H()),blockHeight:me(H())}))),Fht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(cg)),blockTime:me(H()),blockHeight:me(H())}))),Wht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Epe,meta:me(cE),version:_e(yv)})),rewards:_e(pe(cg)),blockTime:me(H()),blockHeight:me(H())}))),qht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Tpe,meta:me(c9),version:_e(yv)})),rewards:_e(pe(cg)),blockTime:me(H()),blockHeight:me(H())}))),zht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Epe,meta:me(c9),version:_e(yv)})),rewards:_e(pe(cg)),blockTime:me(H()),blockHeight:me(H())}))),Vht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(cg)),blockTime:me(H()),blockHeight:me(H())}))),Kht=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:l9,meta:me(cE)})),rewards:_e(pe(cg)),blockTime:me(H())}))),TX=Kn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:me(H())}))),i8=Kn(me(re({slot:H(),meta:me(cE),blockTime:_e(me(H())),transaction:l9,version:_e(yv)}))),Dk=Kn(me(re({slot:H(),transaction:Tpe,meta:me(c9),blockTime:_e(me(H())),version:_e(yv)}))),Hht=to(re({blockhash:ae(),lastValidBlockHeight:H()})),Ght=to(kn()),Jht=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),Zht=Kn(pe(Jht)),Yht=to(me(re({feeCalculator:re({lamportsPerSignature:H()})}))),Xht=Kn(ae()),Qht=Kn(ae()),ept=re({err:lg,logs:pe(ae()),signature:ae()}),tpt=re({result:lE(ept),subscription:H()}),npt={"solana-client":"js/1.0.0-maintenance"};let dE=class{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:h}=Yr(d),m=this._buildArgs([],u,void 0,h),v=SX(m);return c[v]=c[v]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),g=ke(y,Kn(H()));if("error"in g)throw new an(g.error,"failed to get block height information");return g.result}finally{delete c[v]}})(),await c[v]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=Fft(t),this._rpcWsEndpoint=r||Lft(t),this._rpcClient=nht(t,i,o,s,a,l),this._rpcRequest=rht(this._rpcClient),this._rpcBatchRequest=iht(this._rpcClient),this._rpcWebSocket=new Mft(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ke(s,to(H()));if("error"in a)throw new an(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ke(n,Kn(me(H())));if("error"in r)throw new an(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ke(t,Kn(H()));if("error"in n)throw new an(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ke(t,uht);if("error"in n)throw new an(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ke(r,fht);if("error"in i)throw new an(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ke(i,to(d7));if("error"in o)throw new an(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ke(i,to(d7));if("error"in o)throw new an(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Yr(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ke(l,pht);if("error"in c)throw new an(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ke(s,mht);if("error"in a)throw new an(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ke(i,ght);if("error"in o)throw new an(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(i,hht);if("error"in o)throw new an(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,to(me(x1)));if("error"in a)throw new an(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,to(me(f7)));if("error"in a)throw new an(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,to(pe(me(f7))));if("error"in l)throw new an(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,to(pe(me(x1))));if("error"in l)throw new an(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Yr(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ke(a,Kn(bht));if("error"in l)throw new an(l.error,`failed to get Stake Activation ${t.toBase58()}`);return l.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Yr(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...s,...s.filters?{filters:CX(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(yht),d=s.withContext===!0?ke(l,to(c)):ke(l,Kn(c));if("error"in d)throw new an(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ke(s,Kn(pe(wht)));if("error"in a)throw new an(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=ys.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ri(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,h)=>{r=void 0;const m={context:h,value:u};l({__type:jf.PROCESSED,response:m})},t);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:h,value:m}=u;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:jf.PROCESSED,response:{context:h,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const h=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await h();if(!o){for(;m<=r;)if(await xy(1e3),o||(m=await h(),o))return;u({__type:jf.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===jf.PROCESSED)d=u.response;else throw new fpe(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let v=o,y=null;const g=async()=>{try{const{context:b,value:k}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=b.slot,k==null?void 0:k.nonce}catch{return v}};(async()=>{if(v=await g(),!a)for(;;){if(o!==v){m({__type:jf.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await xy(2e3),a||(v=await g(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let h;try{const m=await Promise.race([u,d,l]);if(m.__type===jf.PROCESSED)h=m.response;else{let v;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await xy(400);continue}v=y;break}if(v!=null&&v.value){const y=t||"finalized",{confirmationStatus:g}=v.value;switch(y){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Yw(s);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Yw(s);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Yw(s);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new Yw(s)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:jf.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===jf.PROCESSED)a=l.response;else throw new hpe(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ke(t,Kn(pe(Nht)));if("error"in n)throw new an(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ke(r,Pht);if("error"in i)throw new an(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ke(o,Kn(H()));if("error"in s)throw new an(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ke(o,Kn(ae()));if("error"in s)throw new an(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=ke(i,Kn(pe(Bi)));if("error"in o)throw new an(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);ri(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ke(i,Dht);if("error"in o)throw new an(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ke(o,Kn(H()));if("error"in s)throw new an(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ke(r,oht);if("error"in i)throw new an(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Yr(r),s=this._buildArgs([t.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ke(a,zft);if("error"in l)throw new an(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ke(t,sht);if("error"in n)throw new an(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ke(o,lht);if("error"in s)throw new an(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ke(t,cht);if("error"in n)throw new an(n.error,"failed to get epoch schedule");const r=n.result;return new Pft(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ke(t,dht);if("error"in n)throw new an(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(i,jht);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ke(n,Zht);if("error"in r)throw new an(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(i,Yht);if("error"in o)throw new an(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=Wo(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ke(o,to(me(H())));if("error"in s)throw new an(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(i,aht);if("error"in o)throw new an(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ke(o,Hht);if("error"in s)throw new an(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ke(s,Ght);if("error"in a)throw new an(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ke(t,Kn(Xft));if("error"in n)throw new an(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ke(t,Kn(ae()));if("error"in n)throw new an(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,Wht);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,Fht);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,Uht);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:r8(u,c.message)},version:u}))}:null}}}catch(a){throw new an(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,zht);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,Vht);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,qht);if("error"in a)throw a.error;return a.result}}}catch(a){throw new an(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...l}=t;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ke(o,tht);if("error"in s)throw new an(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ke(s,i8);if("error"in a)throw new an(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:r8(l.version,l.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Yr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ke(s,Dk);if("error"in a)throw new an(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,Dk);if("error"in c)throw new an(c.error,"failed to get transactions");return c.result})}async getTransactions(t,n){const{commitment:r,config:i}=Yr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,i8);if("error"in c)throw new an(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:r8(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),o=ke(i,Kht);if("error"in o)throw new an(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new Tm(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Fp.populate(l.message,l.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=ke(o,Kn(pe(H())));if("error"in s)throw new an(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,TX);if("error"in o)throw new an(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,TX);if("error"in o)throw new an(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),o=ke(i,i8);if("error"in o)throw new an(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Tm(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Fp.populate(a,l)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ke(i,Dk);if("error"in o)throw new an(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ke(s,Dk);if("error"in a)throw new an(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ke(o,_ht);if("error"in s)throw new an(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ke(o,xht);if("error"in s)throw new an(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new EX({key:t,state:EX.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=Aft.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ke(r,Xht);if("error"in i)throw new an(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await xy(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Uft;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await xy(Eft/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Yr(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ke(o,to(H()));if("error"in s)throw new an(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),g=Te.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const k=[g,b],_=await this._rpcRequest("simulateTransaction",k),R=ke(_,AX);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof Fp){let v=t;i=new Fp,i.feePayer=v.feePayer,i.instructions=t.instructions,i.nonceInfo=v.nonceInfo,i.signatures=v.signatures}else i=Fp.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(v);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const g=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else v=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],h=await this._rpcRequest("simulateTransaction",u),m=ke(h,AX);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const y=`
    `,g=y+v.join(y);console.error(m.error.message,g)}throw new _X({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const l=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=Wo(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),l=ke(a,Qht);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new _X({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ke(t,kht);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=SX([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];ri(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:o}=Yr(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ke(t,Iht);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:o,config:s}=Yr(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:CX(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ke(t,tpt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ke(t,Cht);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ke(t,Rht);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ke(t,Tht);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ke(t,Oht);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),O0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),O0(),B.seq(er(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new nn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),O0("microLamports")])}});new nn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new nn("Ed25519SigVerify111111111111111111111111111");og.utils.isValidPrivateKey;og.getPublicKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new nn("KeccakSecp256k11111111111111111111111111111");var Npe;new nn("StakeConfig11111111111111111111111111111111");let Ppe=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};Npe=Ppe;Ppe.default=new Npe(0,0,nn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),vft(),wft()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),er("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),er("newAuthorized"),B.u32("stakeAuthorizationType"),My("authoritySeed"),er("authorityOwner")])}});new nn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),bft()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),er("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),_ft()])}});new nn("Vote111111111111111111111111111111111111111");new nn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new nn("Vote111111111111111111111111111111111111111");B.struct([er("nodePubkey"),er("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),er("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([er("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);const vv=new nn("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new nn("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const d9=new nn("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new nn("So11111111111111111111111111111111111111112");new nn("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const u9=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}};var kp={},OX;function rpt(){if(OX)return kp;OX=1,Object.defineProperty(kp,"__esModule",{value:!0});function e(i){{const o=Buffer.from(i);o.reverse();const s=o.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}kp.toBigIntLE=e;function t(i){{const o=i.toString("hex");return o.length===0?BigInt(0):BigInt(`0x${o}`)}}kp.toBigIntBE=t;function n(i,o){{const s=i.toString(16),a=Buffer.from(s.padStart(o*2,"0").slice(0,o*2),"hex");return a.reverse(),a}}kp.toBufferLE=n;function r(i,o){{const s=i.toString(16);return Buffer.from(s.padStart(o*2,"0").slice(0,o*2),"hex")}}return kp.toBufferBE=r,kp}var NX=rpt();const ipt=e=>t=>{const n=B.blob(e,t),{encode:r,decode:i}=u9(n),o=n;return o.decode=(s,a)=>{const l=i(s,a);return NX.toBigIntLE(Buffer.from(l))},o.encode=(s,a,l)=>{const c=NX.toBufferLE(s,e);return r(c,a,l)},o},yb=ipt(8),Bpe=e=>{const t=B.u8(e),{encode:n,decode:r}=u9(t),i=t;return i.decode=(o,s)=>!!r(o,s),i.encode=(o,s,a)=>{const l=Number(o);return n(l,s,a)},i},us=e=>{const t=B.blob(32,e),{encode:n,decode:r}=u9(t),i=t;return i.decode=(o,s)=>{const a=r(o,s);return new nn(a)},i.encode=(o,s,a)=>{const l=o.toBuffer();return n(l,s,a)},i};class N_ extends Error{constructor(t){super(t)}}class opt extends N_{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class spt extends N_{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class apt extends N_{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class PX extends N_{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class lpt extends N_{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var h7;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension",e[e.GroupPointerExtension=40]="GroupPointerExtension",e[e.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",e[e.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",e[e.PausableExtension=44]="PausableExtension"})(h7||(h7={}));var p7;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(p7||(p7={}));const cpt=1,dpt=B.struct([B.u8("m"),B.u8("n"),Bpe("isInitialized"),us("signer1"),us("signer2"),us("signer3"),us("signer4"),us("signer5"),us("signer6"),us("signer7"),us("signer8"),us("signer9"),us("signer10"),us("signer11")]),upt=dpt.span;var XS;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(XS||(XS={}));const Mpe=B.struct([us("mint"),us("owner"),yb("amount"),B.u32("delegateOption"),us("delegate"),B.u8("state"),B.u32("isNativeOption"),yb("isNative"),yb("delegatedAmount"),B.u32("closeAuthorityOption"),us("closeAuthority")]),Sw=Mpe.span;async function fpt(e,t,n,r=vv){const i=await e.getAccountInfo(t,n);return hpt(t,i,r)}function hpt(e,t,n=vv){if(!t)throw new opt;if(!t.owner.equals(n))throw new apt;if(t.data.length<Sw)throw new PX;const r=Mpe.decode(t.data.slice(0,Sw));let i=Buffer.alloc(0);if(t.data.length>Sw){if(t.data.length===upt)throw new PX;if(t.data[Sw]!=p7.Account)throw new spt;i=t.data.slice(Sw+cpt)}return{address:e,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==XS.Uninitialized,isFrozen:r.state===XS.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}function ppt(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const r of n)e.push({pubkey:r instanceof nn?r:r.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}const mpt=B.struct([B.u32("mintAuthorityOption"),us("mintAuthority"),yb("supply"),B.u8("decimals"),Bpe("isInitialized"),B.u32("freezeAuthorityOption"),us("freezeAuthority")]);mpt.span;async function N0(e,t,n=!1,r=vv,i=d9){if(!n&&!nn.isOnCurve(t.toBuffer()))throw new lpt;const[o]=await nn.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return o}function f9(e,t,n,r,i=vv,o=d9){return gpt(e,t,n,r,Buffer.alloc(0),i,o)}function gpt(e,t,n,r,i,o=vv,s=d9){const a=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:_1.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Ca({keys:a,programId:s,data:i})}const BX=B.struct([B.u8("instruction"),yb("amount")]);function h9(e,t,n,r,i=[],o=vv){const s=ppt([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,i),a=Buffer.alloc(BX.span);return BX.encode({instruction:h7.Transfer,amount:BigInt(r)},a),new Ca({keys:s,programId:o,data:a})}const ypt=e=>mi(void 0,[e],void 0,function*({connection:t,fromAddress:n,toAddress:r,tokenAddress:i,amount:o,decimals:s,blockhash:a,lastValidBlockHeight:l}){var c,d;const u=new fn(n),h=new fn(r),m=new fn(i),v=(d=(c=yield t.getTokenAccountsByOwner(u,{mint:m}))===null||c===void 0?void 0:c.value[0])===null||d===void 0?void 0:d.pubkey;if(!v)throw new Error("Source token account not found");let y;const g=[];try{y=yield N0(m,h),yield t.getTokenAccountBalance(y)}catch{y=yield N0(m,h),g.push(f9(u,y,h,m))}g.push(h9(v,y,u,BigInt(Number(o)*Math.pow(10,s||0))));const b=new Pu().add(...g);return b.recentBlockhash=a,b.lastValidBlockHeight=l,b.feePayer=u,b}),vpt=e=>mi(void 0,[e],void 0,function*({fromAddress:t,toAddress:n,amount:r,blockhash:i}){const o=new sdt({instructions:[Qj.transfer({fromPubkey:new fn(t),lamports:Math.round(MAe(r)),toPubkey:new fn(n)})],payerKey:new fn(t),recentBlockhash:i}).compileToV0Message();return new adt(o)});class Dpe extends q4e{sendBalance(t){return mi(this,arguments,void 0,function*({amount:n,toAddress:r,token:i}){let o;const s=yield this.getConnection(),a=yield this.getSigner(),{blockhash:l,lastValidBlockHeight:c}=yield s.getLatestBlockhash("finalized");i!=null&&i.address?o=yield ypt({amount:Number(n),blockhash:l,connection:s,decimals:i.decimals,fromAddress:this.address,lastValidBlockHeight:c,toAddress:r,tokenAddress:i.address}):o=yield vpt({amount:Number(n),blockhash:l,fromAddress:this.address,toAddress:r});const{signature:d}=yield a.signAndSendTransaction(o);return d})}getConnection(){return mi(this,void 0,void 0,function*(){return this._connector.getWalletClient()})}getSigner(){return mi(this,void 0,void 0,function*(){const t=yield this._connector.getSigner();if(!t)throw new Error("unable to retrieve Solana signer");try{return Cxe(t,{signAllTransactions:n=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signAllTransactions(n)}),signAndSendTransaction:(n,...r)=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signAndSendTransaction(n,...r)}),signMessage:(n,...r)=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signMessage(n,...r)}),signTransaction:n=>mi(this,void 0,void 0,function*(){return yield this.sync(),t.signTransaction(n)})})}catch(n){return Jn.warn(`Failed to add logic to auto-sync the wallet. Signer might be out of sync for wallet: ${this._connector.name} (${this.address})`,n),t}})}}const wpt=e=>{const t=e.match(/Nonce: (.*)/);if(t&&t.length===2)return t[1]},uE=(e,t)=>{var n,r,i,o,s;const a=t.name.toLowerCase().includes("solana"),l=t.name.toLowerCase().includes("eclipse");let c;return a&&(c=(r=(n=e==null?void 0:e.customRpcUrls)===null||n===void 0?void 0:n.solana)===null||r===void 0?void 0:r[0]),l&&(c=(o=(i=e==null?void 0:e.customRpcUrls)===null||i===void 0?void 0:i.eclipse)===null||o===void 0?void 0:o[0]),c||((s=t.privateCustomerRpcUrls)===null||s===void 0?void 0:s[0])||t.rpcUrls[0]},n0="dynamic_svm_network_id",bpt={blockExplorerUrls:["https://explorer.solana.com"],chainId:"101",cluster:"mainnet",genesisHash:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",iconUrls:["https://app.dynamic.xyz/assets/networks/solana.svg"],isTestnet:!1,key:"solana",name:"Solana Mainnet",nativeCurrency:{decimals:9,iconUrl:"https://app.dynamic.xyz/assets/networks/solana.svg",name:"Solana",pricingProviderTokenId:"solana",symbol:"SOL"},networkId:"101",rpcUrls:["https://api.mainnet-beta.solana.com"],vanityName:"Solana"},_pt={blockExplorerUrls:["https://explorer.solana.com/?cluster=testnet"],chainId:"102",cluster:"testnet",genesisHash:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",iconUrls:["https://app.dynamic.xyz/assets/networks/solana.svg"],isTestnet:!0,key:"solana",name:"Solana Testnet",nativeCurrency:{decimals:9,iconUrl:"https://app.dynamic.xyz/assets/networks/solana.svg",name:"Solana",pricingProviderTokenId:"solana",symbol:"SOL"},networkId:"102",rpcUrls:["https://api.testnet.solana.com"]},xpt={blockExplorerUrls:["https://explorer.solana.com/?cluster=devnet"],chainId:"103",cluster:"devnet",genesisHash:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",iconUrls:["https://app.dynamic.xyz/assets/networks/solana.svg"],isTestnet:!0,key:"solana",name:"Solana Devnet",nativeCurrency:{decimals:9,iconUrl:"https://app.dynamic.xyz/assets/networks/solana.svg",name:"Solana",pricingProviderTokenId:"solana",symbol:"SOL"},networkId:"103",rpcUrls:["https://api.devnet.solana.com"]},jpe=(e,t)=>{if(!(e!=null&&e.length))return[];if(e.length>1||e[0].chainId!=="101")return e;const n=uE(t,e[0]);return n.includes("testnet")?[Object.assign(Object.assign({},_pt),{privateCustomerRpcUrls:[n]})]:n.includes("devnet")?[Object.assign(Object.assign({},xpt),{privateCustomerRpcUrls:[n]})]:n.includes("mainnet")?[Object.assign(Object.assign({},bpt),{privateCustomerRpcUrls:[n]})]:e},kpt=new fn("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");class P_ extends t3{constructor(t){var n;super(t),this.isHardwareWalletEnabled=!1,this.verifiedCredentials=[],this.ChainWallet=Dpe,this.supportedChains=["SOL"],this.connectedChain="SOL",this.solNetworks=jpe(t.solNetworks,t.connectionConfig),this.chainRpcProviders=t.chainRpcProviders,this.connectionConfig=t.connectionConfig,(n=this.chainRpcProviders)===null||n===void 0||n.registerSolanaProviders(this.connectionConfig)}getNetworkId(){var t;const n=(t=this.solNetworks[0])===null||t===void 0?void 0:t.networkId.toString(),r=localStorage.getItem(n0);return r??n}setNetworkId(t){t?localStorage.setItem(n0,t):localStorage.removeItem(n0)}getSelectedNetwork(){return this.solNetworks.find(n=>n.networkId.toString()===this.getNetworkId())}getNetwork(){return mi(this,arguments,void 0,function*(t=!1){const n=this.getSelectedNetwork();if(!n)return"";const{networkId:r,genesisHash:i}=n;return t?r.toString():i==="5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"?"mainnet":i==="4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"?"testnet":i==="EtWTRABZaYq6iMfeYKouRu166VU2xqa1"?"devnet":r.toString()})}switchNetwork(t){return mi(this,arguments,void 0,function*({networkChainId:n}){if(!n)return;const r=n.toString();this.solNetworks.some(o=>o.networkId.toString()===r)&&(this.setNetworkId(r),this.emit("chainChange",{chain:r}))})}endSession(){return mi(this,void 0,void 0,function*(){this.setNetworkId(null);const t=yield this.getSigner();t&&(yield t.disconnect())})}getWalletClient(){var t;const n=this.getSelectedNetwork();if(!n)throw new Se("No enabled networks");const r=uE(this.connectionConfig,n);return new ope(r,(t=this.connectionConfig)!==null&&t!==void 0?t:"confirmed")}getPublicClient(){return mi(this,void 0,void 0,function*(){var t;const n=this.getSelectedNetwork();if(!n)return;const r=n.networkId.toString(),i={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};if(!this.chainRpcProviders)return;const o=this.chainRpcProviders.getProviders(i);return(t=this.chainRpcProviders.getSolanaProviderByChainId(o,r))===null||t===void 0?void 0:t.provider})}getBalance(t){return mi(this,void 0,void 0,function*(){const n=new fn(t);return this.lamportsToSol(yield this.getWalletClient().getBalance(n)).toString()})}lamportsToSol(t){return t/1e9}canConnectWithHardwareWallet(){var t;return!!(!((t=this.metadata.supportedHardwareWallets)===null||t===void 0)&&t.includes("ledger"))}signMessage(t){const n=Object.create(null,{signMessage:{get:()=>super.signMessage}});return mi(this,void 0,void 0,function*(){if(this.isHardwareWalletEnabled)throw new Kie(`Message signing is currently not supported on ${this.name} hardware wallet.
          You can use signMessageViaTransaction instead to achieve similar functionality
          by signing a transaction with a memo instruction.
          You can read more about it here https://github.com/solana-labs/solana/issues/21366`);return n.signMessage.call(this,t)})}proveOwnership(t,n){const r=Object.create(null,{proveOwnership:{get:()=>super.proveOwnership}});return mi(this,void 0,void 0,function*(){if(yield this.validateActiveWallet(t),this.isHardwareWalletEnabled){const i=wpt(n);if(!i)throw new Se("Nonce missing");return this.signMessageViaTransaction(i)}return r.proveOwnership.call(this,t,n)})}signMessageViaTransaction(t){return mi(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)throw new Se("Address missing");const r=this.buildAuthTx(t);r.feePayer=new fn(n),r.recentBlockhash=(yield this.getWalletClient().getLatestBlockhash()).blockhash;const i=yield this.getSigner();if(!i)throw new Se("Signer not found");const s=(yield i.signTransaction(r)).serialize();return JSON.stringify({signedTransaction:{data:Array.from(s),type:"Buffer"}})})}buildAuthTx(t){const n=new Pu;return n.add(new el({data:Buffer.from(t,"utf8"),keys:[],programId:kpt})),n}setVerifiedCredentials(t){this.verifiedCredentials=t}isLedgerAddress(t){return Exe(t,this.verifiedCredentials)}getBlockExplorerUrlsForCurrentNetwork(){return mi(this,void 0,void 0,function*(){const t=this.getSelectedNetwork();return t?t.blockExplorerUrls:[]})}getEnabledNetworks(){return this.solNetworks}supportsNetworkSwitching(){return!0}}Jb.getSolanaProviderByChainId=(e,t)=>{var n;return(n=e.solana)===null||n===void 0?void 0:n.find(i=>i.chainId===t)};Jb.registerSolanaProviders=e=>{Jb.registerChainProviders(Gb.SOLANA,t=>{const n={};return t!=null&&t.solana&&(n.solana=t.solana.map(r=>{const i=uE(e,r),o=new ope(i,e);return{chainId:r.chainId.toString(),chainName:r.name,provider:o}})),n.solana})};const MX=1e9;class Ad{constructor({onSubmit:t,from:n,connection:r,multipleTransactions:i}){this.chain="SOL",this.data=void 0,this.fee={gas:void 0},this.formatNonNativeToken=(o,s)=>(Number(o)/Number(Math.pow(10,s))).toString(),this.from=n,this.onSubmit=t,this.connection=r,this.multipleTransactions=i}fetchFee(){return mi(this,void 0,void 0,function*(){if(this.fee.gas)return;let t=this.multipleTransactions;if(!t){const o=yield this.createTransactionSafe();if(!o)return;t=o instanceof Array?o:[o]}const n=yield Promise.all(t.map(o=>mi(this,void 0,void 0,function*(){return"version"in o?o.message:o.compileMessage()})));if(n.some(o=>!o))throw new Error("Invalid transaction");const r=o=>mi(this,void 0,void 0,function*(){let s=yield this.connection.getFeeForMessage(o,"confirmed"),a=0;for(;s.value===null&&a<5;)s=yield this.connection.getFeeForMessage(o,"confirmed"),a++;return s.value?BigInt(s.value):BigInt(0)}),i=yield Promise.all(n.map(o=>r(o)));this.fee.gas=i.reduce((o,s)=>o+s,BigInt(0)),this.fee.gas===BigInt(0)&&(this.fee.gas=void 0)})}isGasSponsored(){var t;return!((t=this.multipleTransactions)===null||t===void 0)&&t.length?this.multipleTransactions.every(n=>{var r;return"version"in n?this.from!==n.message.staticAccountKeys[0].toBase58():"feePayer"in n?this.from!==((r=n.feePayer)===null||r===void 0?void 0:r.toBase58()):!1}):!1}parse(t){const n=parseFloat(t),r=Math.round(n*MX);return BigInt(r)}parseNonNativeToken(t,n){return BigInt(Math.floor(Number(t)*Math.pow(10,n)))}format(t,{precision:n}={}){const i=(Number(t)/MX).toLocaleString("fullwide",{maximumFractionDigits:20,minimumFractionDigits:0,useGrouping:!1});return exe(i,{precision:n})}submit(){return mi(this,void 0,void 0,function*(){if(this.multipleTransactions)return this.onSubmit();const t=yield this.createTransaction();return this.onSubmit(t)})}getBalance(){return mi(this,void 0,void 0,function*(){const t=new fn(this.from),n=yield this.connection.getBalance(t);return BigInt(n)})}validateAddressFormat(t){return t==="dyn_send_transaction.multiple_recipients"?!0:/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(t)}createTransaction(){return mi(this,void 0,void 0,function*(){var t;const{value:n,to:r,nonNativeAddress:i,nonNativeValue:o}=this;if(!r)throw new Error("Destination is required");if(this.multipleTransactions)return this.multipleTransactions;const s=new Pu,a=new fn(this.from),l=new fn(r);if(i&&o){const d=new fn(i),u=o,h=(t=(yield this.connection.getTokenAccountsByOwner(a,{mint:d})).value[0])===null||t===void 0?void 0:t.pubkey;if(!h)throw new Error("Source token account not found");let m;try{m=yield N0(d,l),yield this.connection.getTokenAccountBalance(m)}catch{m=yield N0(d,l),s.add(f9(a,m,l,d))}s.add(h9(h,m,a,u))}else{const d=n??BigInt(0);s.add(Qj.transfer({fromPubkey:a,lamports:d,toPubkey:l}))}const{blockhash:c}=yield this.connection.getLatestBlockhash();return s.feePayer=new fn(this.from),s.recentBlockhash=c,s})}createTransactionSafe(){return mi(this,void 0,void 0,function*(){try{return yield this.createTransaction()}catch{return}})}}const Spt=e=>"version"in e,$pe=e=>{let t=!1;return"version"in e?t=e.signatures.some(n=>!n.every(r=>r===0)):t=e.signatures.some(n=>n.signature),t},Lpe=e=>["SOL"].includes(e.chain);Oo("@dynamic-labs/solana-core",_st);function Ht(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p9=BigInt(0),m7=BigInt(1);function Om(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function jk(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Upe(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?p9:BigInt("0x"+e)}function fE(e){return Upe(A0(e))}function k1(e){return ic(e),Upe(A0(Uint8Array.from(e).reverse()))}function m9(e,t){return Wj(e.toString(16).padStart(t*2,"0"))}function hE(e,t){return m9(e,t).reverse()}function ro(e,t,n){let r;if(typeof t=="string")try{r=Wj(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Fj(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const o8=e=>typeof e=="bigint"&&p9<=e;function Ipt(e,t,n){return o8(e)&&o8(t)&&o8(n)&&t<=e&&e<n}function Dy(e,t,n,r){if(!Ipt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Ept(e){let t;for(t=0;e>p9;e>>=m7,t+=1);return t}const pE=e=>(m7<<BigInt(e))-m7;function Cpt(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(e),s=r(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...m)=>n(s,o,...m),d=(m=r(0))=>{s=c(i(0),m),o=c(),m.length!==0&&(s=c(i(1),m),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const v=[];for(;m<t;){o=c();const y=o.slice();v.push(y),m+=o.length}return Lu(...v)};return(m,v)=>{l(),d(m);let y;for(;!(y=v(u()));)d();return l(),y}}function B_(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function QS(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ma=BigInt(0),ws=BigInt(1),Gp=BigInt(2),Apt=BigInt(3),Fpe=BigInt(4),Wpe=BigInt(5),qpe=BigInt(8);function io(e,t){const n=e%t;return n>=Ma?n:t+n}function zi(e,t,n){let r=e;for(;t-- >Ma;)r*=r,r%=n;return r}function DX(e,t){if(e===Ma)throw new Error("invert: expected non-zero number");if(t<=Ma)throw new Error("invert: expected positive modulus, got "+t);let n=io(e,t),r=t,i=Ma,o=ws;for(;n!==Ma;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==ws)throw new Error("invert: does not exist");return io(i,t)}function zpe(e,t){const n=(e.ORDER+ws)/Fpe,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Rpt(e,t){const n=(e.ORDER-Wpe)/qpe,r=e.mul(t,Gp),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,Gp),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Tpt(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ws,n=0;for(;t%Gp===Ma;)t/=Gp,n++;let r=Gp;const i=wv(e);for(;jX(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return zpe;let o=i.pow(r,t);const s=(t+ws)/Gp;return function(l,c){if(l.is0(c))return c;if(jX(l,c)!==1)throw new Error("Cannot find square root");let d=n,u=l.mul(l.ONE,o),h=l.pow(c,t),m=l.pow(c,s);for(;!l.eql(h,l.ONE);){if(l.is0(h))return l.ZERO;let v=1,y=l.sqr(h);for(;!l.eql(y,l.ONE);)if(v++,y=l.sqr(y),v===d)throw new Error("Cannot find square root");const g=ws<<BigInt(d-v-1),b=l.pow(u,g);d=v,u=l.sqr(b),h=l.mul(h,u),m=l.mul(m,b)}return m}}function Opt(e){return e%Fpe===Apt?zpe:e%qpe===Wpe?Rpt:Tpt(e)}const Npt=(e,t)=>(io(e,t)&ws)===ws,Ppt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Bpt(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Ppt.reduce((r,i)=>(r[i]="function",r),t);return B_(e,n),e}function Mpt(e,t,n){if(n<Ma)throw new Error("invalid exponent, negatives unsupported");if(n===Ma)return e.ONE;if(n===ws)return t;let r=e.ONE,i=t;for(;n>Ma;)n&ws&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ws;return r}function Vpe(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),o),r}function jX(e,t){const n=(e.ORDER-ws)/Gp,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function Dpt(e,t){t!==void 0&&w1(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wv(e,t,n=!1,r={}){if(e<=Ma)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=Dpt(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:pE(s),ZERO:Ma,ONE:ws,create:d=>io(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ma<=d&&d<e},is0:d=>d===Ma,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&ws)===ws,neg:d=>io(-d,e),eql:(d,u)=>d===u,sqr:d=>io(d*d,e),add:(d,u)=>io(d+u,e),sub:(d,u)=>io(d-u,e),mul:(d,u)=>io(d*u,e),pow:(d,u)=>Mpt(c,d,u),div:(d,u)=>io(d*DX(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>DX(d,e),sqrt:o||(d=>(l||(l=Opt(e)),l(c,d))),toBytes:d=>n?hE(d,a):m9(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?k1(d):fE(d)},invertBatch:d=>Vpe(c,d),cmov:(d,u,h)=>h?u:d});return Object.freeze(c)}function Kpe(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Hpe(e){const t=Kpe(e);return t+Math.ceil(t/2)}function jpt(e,t,n=!1){const r=e.length,i=Kpe(t),o=Hpe(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?k1(e):fE(e),a=io(s,t-ws)+ws;return n?hE(a,i):m9(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const P0=BigInt(0),Jp=BigInt(1);function vb(e,t){const n=t.negate();return e?n:t}function Gpe(e,t,n){const r=t==="pz"?s=>s.pz:s=>s.ez,i=Vpe(e.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(e.fromAffine)}function Jpe(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function s8(e,t){Jpe(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=pE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function $X(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=Jp);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function $pt(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Lpt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const a8=new WeakMap,Zpe=new WeakMap;function l8(e){return Zpe.get(e)||1}function LX(e){if(e!==P0)throw new Error("invalid wNAF")}function Ype(e,t){return{constTimeNegate:vb,hasPrecomputes(n){return l8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>P0;)r&Jp&&(i=i.add(o)),o=o.double(),r>>=Jp;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=s8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=s8(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=$X(i,l,a);i=c,u?s=s.add(vb(m,r[v])):o=o.add(vb(h,r[d]))}return LX(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=s8(n,t);for(let a=0;a<s.windows&&i!==P0;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=$X(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return LX(i),o},getPrecomputes(n,r,i){let o=a8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),a8.set(r,o))),o},wNAFCached(n,r,i){const o=l8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=l8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){Jpe(r,t),Zpe.set(n,r),a8.delete(n)}}}function Upt(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>P0||r>P0;)n&Jp&&(o=o.add(i)),r&Jp&&(s=s.add(i)),i=i.double(),n>>=Jp,r>>=Jp;return{p1:o,p2:s}}function Xpe(e,t,n,r){$pt(n,e),Lpt(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=Ept(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=pE(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((t.BITS-1)/l)*l;let h=s;for(let m=u;m>=0;m-=l){d.fill(s);for(let y=0;y<o;y++){const g=r[y],b=Number(g>>BigInt(m)&c);d[b]=d[b].add(n[y])}let v=s;for(let y=d.length-1,g=s;y>0;y--)g=g.add(d[y]),v=v.add(g);if(h=h.add(v),m!==0)for(let y=0;y<l;y++)h=h.double()}return h}function UX(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Bpt(t),t}else return wv(e)}function Qpe(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const l=t[a];if(!(typeof l=="bigint"&&l>P0))throw new Error(`CURVE.${a} must be positive bigint`)}const r=UX(t.p,n.Fp),i=UX(t.n,n.Fn),s=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of s)if(!r.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yd=BigInt(0),ea=BigInt(1),c8=BigInt(2),Fpt=BigInt(8),Wpt={zip215:!0};function qpt(e,t,n,r){const i=e.sqr(n),o=e.sqr(r),s=e.add(e.mul(t.a,i),o),a=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(s,a)}function zpt(e,t={}){const{Fp:n,Fn:r}=Qpe("edwards",e,t),{h:i,n:o}=e;B_(t,{},{uvRatio:"function"});const s=c8<<BigInt(r.BYTES*8)-ea,a=y=>n.create(y),l=t.uvRatio||((y,g)=>{try{return{isValid:!0,value:n.sqrt(n.div(y,g))}}catch{return{isValid:!1,value:yd}}});if(!qpt(n,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function c(y,g,b=!1){const k=b?ea:yd;return Dy("coordinate "+y,g,k,s),g}function d(y){if(!(y instanceof m))throw new Error("ExtendedPoint expected")}const u=QS((y,g)=>{const{ex:b,ey:k,ez:_}=y,R=y.is0();g==null&&(g=R?Fpt:n.inv(_));const I=a(b*g),T=a(k*g),D=a(_*g);if(R)return{x:yd,y:ea};if(D!==ea)throw new Error("invZ was invalid");return{x:I,y:T}}),h=QS(y=>{const{a:g,d:b}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:k,ey:_,ez:R,et:I}=y,T=a(k*k),D=a(_*_),M=a(R*R),C=a(M*M),U=a(T*g),$=a(M*a(U+D)),z=a(C+a(b*a(T*D)));if($!==z)throw new Error("bad point: equation left != right (1)");const q=a(k*_),S=a(R*I);if(q!==S)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(g,b,k,_){this.ex=c("x",g),this.ey=c("y",b),this.ez=c("z",k,!0),this.et=c("t",_),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof m)throw new Error("extended point not allowed");const{x:b,y:k}=g||{};return c("x",b),c("y",k),new m(b,k,ea,a(b*k))}static normalizeZ(g){return Gpe(m,"ez",g)}static msm(g,b){return Xpe(m,r,g,b)}_setWindowSize(g){this.precompute(g)}precompute(g=8,b=!0){return v.setWindowSize(this,g),b||this.multiply(c8),this}assertValidity(){h(this)}equals(g){d(g);const{ex:b,ey:k,ez:_}=this,{ex:R,ey:I,ez:T}=g,D=a(b*T),M=a(R*_),C=a(k*T),U=a(I*_);return D===M&&C===U}is0(){return this.equals(m.ZERO)}negate(){return new m(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:g}=e,{ex:b,ey:k,ez:_}=this,R=a(b*b),I=a(k*k),T=a(c8*a(_*_)),D=a(g*R),M=b+k,C=a(a(M*M)-R-I),U=D+I,$=U-T,z=D-I,q=a(C*$),S=a(U*z),A=a(C*z),O=a($*U);return new m(q,S,O,A)}add(g){d(g);const{a:b,d:k}=e,{ex:_,ey:R,ez:I,et:T}=this,{ex:D,ey:M,ez:C,et:U}=g,$=a(_*D),z=a(R*M),q=a(T*k*U),S=a(I*C),A=a((_+R)*(D+M)-$-z),O=S-q,N=S+q,j=a(z-b*$),V=a(A*O),K=a(N*j),W=a(A*j),P=a(O*N);return new m(V,K,P,W)}subtract(g){return this.add(g.negate())}multiply(g){const b=g;Dy("scalar",b,ea,o);const{p:k,f:_}=v.wNAFCached(this,b,m.normalizeZ);return m.normalizeZ([k,_])[0]}multiplyUnsafe(g,b=m.ZERO){const k=g;return Dy("scalar",k,yd,o),k===yd?m.ZERO:this.is0()||k===ea?this:v.wNAFCachedUnsafe(this,k,m.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return v.wNAFCachedUnsafe(this,o).is0()}toAffine(g){return u(this,g)}clearCofactor(){return i===ea?this:this.multiplyUnsafe(i)}static fromBytes(g,b=!1){return ic(g),this.fromHex(g,b)}static fromHex(g,b=!1){const{d:k,a:_}=e,R=n.BYTES;g=ro("pointHex",g,R),Om("zip215",b);const I=g.slice(),T=g[R-1];I[R-1]=T&-129;const D=k1(I),M=b?s:n.ORDER;Dy("pointHex.y",D,yd,M);const C=a(D*D),U=a(C-ea),$=a(k*C-_);let{isValid:z,value:q}=l(U,$);if(!z)throw new Error("Point.fromHex: invalid y coordinate");const S=(q&ea)===ea,A=(T&128)!==0;if(!b&&q===yd&&A)throw new Error("Point.fromHex: x=0 and x_0=1");return A!==S&&(q=a(-q)),m.fromAffine({x:q,y:D})}static fromPrivateScalar(g){return m.BASE.multiply(g)}toBytes(){const{x:g,y:b}=this.toAffine(),k=hE(b,n.BYTES);return k[k.length-1]|=g&ea?128:0,k}toRawBytes(){return this.toBytes()}toHex(){return A0(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}m.BASE=new m(e.Gx,e.Gy,ea,a(e.Gx*e.Gy)),m.ZERO=new m(yd,ea,ea,yd),m.Fp=n,m.Fn=r;const v=Ype(m,r.BYTES*8);return m}function Vpt(e,t){B_(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n,hash:r}=t,{BASE:i,Fp:o,Fn:s}=e,a=s.ORDER,l=t.randomBytes||mhe,c=t.adjustScalarBytes||(I=>I),d=t.domain||((I,T,D)=>{if(Om("phflag",D),T.length||D)throw new Error("Contexts/pre-hash are not supported");return I});function u(I){return s.create(I)}function h(I){return u(k1(I))}function m(I){const T=o.BYTES;I=ro("private key",I,T);const D=ro("hashed private key",r(I),2*T),M=c(D.slice(0,T)),C=D.slice(T,2*T),U=h(M);return{head:M,prefix:C,scalar:U}}function v(I){const{head:T,prefix:D,scalar:M}=m(I),C=i.multiply(M),U=C.toBytes();return{head:T,prefix:D,scalar:M,point:C,pointBytes:U}}function y(I){return v(I).pointBytes}function g(I=Uint8Array.of(),...T){const D=Lu(...T);return h(r(d(D,ro("context",I),!!n)))}function b(I,T,D={}){I=ro("message",I),n&&(I=n(I));const{prefix:M,scalar:C,pointBytes:U}=v(T),$=g(D.context,M,I),z=i.multiply($).toBytes(),q=g(D.context,z,U,I),S=u($+q*C);Dy("signature.s",S,yd,a);const A=o.BYTES,O=Lu(z,hE(S,A));return ro("result",O,A*2)}const k=Wpt;function _(I,T,D,M=k){const{context:C,zip215:U}=M,$=o.BYTES;I=ro("signature",I,2*$),T=ro("message",T),D=ro("publicKey",D,$),U!==void 0&&Om("zip215",U),n&&(T=n(T));const z=k1(I.slice($,2*$));let q,S,A;try{q=e.fromHex(D,U),S=e.fromHex(I.slice(0,$),U),A=i.multiplyUnsafe(z)}catch{return!1}if(!U&&q.isSmallOrder())return!1;const O=g(C,S.toBytes(),q.toBytes(),T);return S.add(q.multiplyUnsafe(O)).subtract(A).clearCofactor().is0()}return i.precompute(8),{getPublicKey:y,sign:b,verify:_,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>l(o.BYTES),precompute(I=8,T=e.BASE){return T.precompute(I,!1)}},Point:e}}function Kpt(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=wv(t.n,e.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:e.uvRatio},o={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,eddsaOpts:o}}function Hpt(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function Gpt(e){const{CURVE:t,curveOpts:n,eddsaOpts:r}=Kpt(e),i=zpt(t,n),o=Vpt(i,r);return Hpt(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const Jpt=BigInt(1),FX=BigInt(2);BigInt(3);const Zpt=BigInt(5),Ypt=BigInt(8),mE={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ypt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Xpt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=mE.p,a=e*e%o*e%o,l=zi(a,FX,o)*a%o,c=zi(l,Jpt,o)*e%o,d=zi(c,Zpt,o)*c%o,u=zi(d,t,o)*d%o,h=zi(u,n,o)*u%o,m=zi(h,r,o)*h%o,v=zi(m,i,o)*m%o,y=zi(v,i,o)*m%o,g=zi(y,t,o)*d%o;return{pow_p_5_8:zi(g,FX,o)*e%o,b2:a}}function Qpt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const WX=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function emt(e,t){const n=mE.p,r=io(t*t*t,n),i=io(r*r*t,n),o=Xpt(e*i).pow_p_5_8;let s=io(e*r*o,n);const a=io(t*s*s,n),l=s,c=io(s*WX,n),d=a===e,u=a===io(-e,n),h=a===io(-e*WX,n);return d&&(s=l),(u||h)&&(s=c),Npt(s,n)&&(s=io(-s,n)),{isValid:d||u,value:s}}const tmt=wv(mE.p,void 0,!0),nmt={...mE,Fp:tmt,hash:plt,adjustScalarBytes:Qpt,uvRatio:emt},M_=Gpt(nmt);var d8,qX;function rmt(){if(qX)return d8;qX=1;var e=mv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,b=0,k=0,_=y.length;k!==_&&y[k]===0;)k++,g++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=y[k],D=0,M=R-1;(T!==0||D<b)&&M!==-1;M--,D++)T+=256*I[M]>>>0,I[M]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=D,k++}for(var C=R-b;C!==R&&I[C]===0;)C++;for(var U=c.repeat(g);C<R;++C)U+=n.charAt(I[C]);return U}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var g=0,b=0,k=0;y[g]===c;)b++,g++;for(var _=(y.length-g)*d+1>>>0,R=new Uint8Array(_);g<y.length;){var I=y.charCodeAt(g);if(I>255)return;var T=r[I];if(T===255)return;for(var D=0,M=_-1;(T!==0||D<k)&&M!==-1;M--,D++)T+=l*R[M]>>>0,R[M]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=D,g++}for(var C=_-k;C!==_&&R[C]===0;)C++;var U=e.allocUnsafe(b+(_-C));U.fill(0,0,b);for(var $=b;C!==_;)U[$++]=R[C++];return U}function v(y){var g=m(y);if(g)return g;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return d8=t,d8}var u8,zX;function imt(){if(zX)return u8;zX=1;var e=rmt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return u8=e(t),u8}var omt=imt();const ia=Rr(omt);var smt=8078e3,amt=8078001,lmt=8078004,cmt=8078005,dmt=8078006,umt=8078011;function eme(e){return Array.isArray(e)?"%5B"+e.map(eme).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function fmt([e,t]){return`${e}=${eme(t)}`}function hmt(e){const t=Object.entries(e).map(fmt).join("&");return btoa(t)}function pmt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${hmt(t)}'`),`${n}\``}}var r0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=pmt(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function mmt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function gmt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(mmt(t,e));return e.write(t,n,0),n}})}function ymt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ty(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function vmt(e,t){if(ty(e)!==ty(t))throw new r0(lmt);if(ty(e)&&ty(t)&&e.fixedSize!==t.fixedSize)throw new r0(cmt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ty(e)&&!ty(t)&&e.maxSize!==t.maxSize)throw new r0(dmt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function wmt(e,t,n=0){if(t.length-n<=0)throw new r0(smt,{codecDescription:e})}function bmt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new r0(amt,{bytesLength:i,codecDescription:e,expected:t})}function _mt(e,t,n,r){if(r<t||r>n)throw new r0(umt,{codecDescription:e,max:n,min:t,value:r})}function tme(e){return(e==null?void 0:e.endian)!==1}function xmt(e){return gmt({fixedSize:e.size,write(t,n,r){e.range&&_mt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,tme(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function kmt(e){return ymt({fixedSize:e.size,read(t,n=0){wmt(e.name,t,n),bmt(e.name,e.size,t,n);const r=new DataView(Smt(t,n,e.size));return[e.get(r,tme(e.config)),n+e.size]}})}function Smt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var Imt=(e={})=>xmt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),Emt=(e={})=>kmt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),Cmt=(e={})=>vmt(Imt(e),Emt(e));let nme=class extends qj{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Wat(t);const r=tE(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Uh(o)}update(t){return C0(this),this.iHash.update(t),this}digestInto(t){C0(this),ic(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const rme=(e,t,n)=>new nme(e,t).update(n).digest();rme.create=(e,t)=>new nme(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VX(e){e.lowS!==void 0&&Om("lowS",e.lowS),e.prehash!==void 0&&Om("prehash",e.prehash)}let Amt=class extends Error{constructor(t=""){super(t)}};const Su={Err:Amt,_tlv:{encode:(e,t)=>{const{Err:n}=Su;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=jk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?jk(i.length/2|128):"";return jk(e)+o+i+t},decode(e,t){const{Err:n}=Su;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Su;if(e<wb)throw new t("integer: negative integers are not allowed");let n=jk(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Su;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return fE(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Su,i=ro("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Su,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},wb=BigInt(0),bb=BigInt(1),Rmt=BigInt(2),$k=BigInt(3),Tmt=BigInt(4);function Omt(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function ime(e,t,n){const{BYTES:r}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=ro("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function Nmt(e,t={}){const{Fp:n,Fn:r}=Qpe("weierstrass",e,t),{h:i,n:o}=e;B_(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(M,C,U){const{x:$,y:z}=C.toAffine(),q=n.toBytes($);if(Om("isCompressed",U),U){a();const S=!n.isOdd(z);return Lu(ome(S),q)}else return Lu(Uint8Array.of(4),q,n.toBytes(z))}function c(M){ic(M);const C=n.BYTES,U=C+1,$=2*C+1,z=M.length,q=M[0],S=M.subarray(1);if(z===U&&(q===2||q===3)){const A=n.fromBytes(S);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const O=h(A);let N;try{N=n.sqrt(O)}catch(K){const W=K instanceof Error?": "+K.message:"";throw new Error("bad point: is not on curve, sqrt error"+W)}a();const j=n.isOdd(N);return(q&1)===1!==j&&(N=n.neg(N)),{x:A,y:N}}else if(z===$&&q===4){const A=n.fromBytes(S.subarray(C*0,C*1)),O=n.fromBytes(S.subarray(C*1,C*2));if(!m(A,O))throw new Error("bad point: is not on curve");return{x:A,y:O}}else throw new Error(`bad point: got length ${z}, expected compressed=${U} or uncompressed=${$}`)}const d=t.toBytes||l,u=t.fromBytes||c,h=Omt(n,e.a,e.b);function m(M,C){const U=n.sqr(C),$=h(M);return n.eql(U,$)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,$k),Tmt),y=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,y)))throw new Error("bad curve params: a or b");function g(M,C,U=!1){if(!n.isValid(C)||U&&n.is0(C))throw new Error(`bad point coordinate ${M}`);return C}function b(M){if(!(M instanceof I))throw new Error("ProjectivePoint expected")}const k=QS((M,C)=>{const{px:U,py:$,pz:z}=M;if(n.eql(z,n.ONE))return{x:U,y:$};const q=M.is0();C==null&&(C=q?n.ONE:n.inv(z));const S=n.mul(U,C),A=n.mul($,C),O=n.mul(z,C);if(q)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:S,y:A}}),_=QS(M=>{if(M.is0()){if(t.allowInfinityPoint&&!n.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:C,y:U}=M.toAffine();if(!n.isValid(C)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!m(C,U))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(M,C,U,$,z){return U=new I(n.mul(U.px,M),U.py,U.pz),C=vb($,C),U=vb(z,U),C.add(U)}class I{constructor(C,U,$){this.px=g("x",C),this.py=g("y",U,!0),this.pz=g("z",$),Object.freeze(this)}static fromAffine(C){const{x:U,y:$}=C||{};if(!C||!n.isValid(U)||!n.isValid($))throw new Error("invalid affine point");if(C instanceof I)throw new Error("projective point not allowed");return n.is0(U)&&n.is0($)?I.ZERO:new I(U,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return Gpe(I,"pz",C)}static fromBytes(C){return ic(C),I.fromHex(C)}static fromHex(C){const U=I.fromAffine(u(ro("pointHex",C)));return U.assertValidity(),U}static fromPrivateKey(C){const U=ime(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(U(C))}static msm(C,U){return Xpe(I,r,C,U)}precompute(C=8,U=!0){return D.setWindowSize(this,C),U||this.multiply($k),this}_setWindowSize(C){this.precompute(C)}assertValidity(){_(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){b(C);const{px:U,py:$,pz:z}=this,{px:q,py:S,pz:A}=C,O=n.eql(n.mul(U,A),n.mul(q,z)),N=n.eql(n.mul($,A),n.mul(S,z));return O&&N}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:U}=e,$=n.mul(U,$k),{px:z,py:q,pz:S}=this;let A=n.ZERO,O=n.ZERO,N=n.ZERO,j=n.mul(z,z),V=n.mul(q,q),K=n.mul(S,S),W=n.mul(z,q);return W=n.add(W,W),N=n.mul(z,S),N=n.add(N,N),A=n.mul(C,N),O=n.mul($,K),O=n.add(A,O),A=n.sub(V,O),O=n.add(V,O),O=n.mul(A,O),A=n.mul(W,A),N=n.mul($,N),K=n.mul(C,K),W=n.sub(j,K),W=n.mul(C,W),W=n.add(W,N),N=n.add(j,j),j=n.add(N,j),j=n.add(j,K),j=n.mul(j,W),O=n.add(O,j),K=n.mul(q,S),K=n.add(K,K),j=n.mul(K,W),A=n.sub(A,j),N=n.mul(K,V),N=n.add(N,N),N=n.add(N,N),new I(A,O,N)}add(C){b(C);const{px:U,py:$,pz:z}=this,{px:q,py:S,pz:A}=C;let O=n.ZERO,N=n.ZERO,j=n.ZERO;const V=e.a,K=n.mul(e.b,$k);let W=n.mul(U,q),P=n.mul($,S),F=n.mul(z,A),G=n.add(U,$),Y=n.add(q,S);G=n.mul(G,Y),Y=n.add(W,P),G=n.sub(G,Y),Y=n.add(U,z);let ie=n.add(q,A);return Y=n.mul(Y,ie),ie=n.add(W,F),Y=n.sub(Y,ie),ie=n.add($,z),O=n.add(S,A),ie=n.mul(ie,O),O=n.add(P,F),ie=n.sub(ie,O),j=n.mul(V,Y),O=n.mul(K,F),j=n.add(O,j),O=n.sub(P,j),j=n.add(P,j),N=n.mul(O,j),P=n.add(W,W),P=n.add(P,W),F=n.mul(V,F),Y=n.mul(K,Y),P=n.add(P,F),F=n.sub(W,F),F=n.mul(V,F),Y=n.add(Y,F),W=n.mul(P,Y),N=n.add(N,W),W=n.mul(ie,Y),O=n.mul(G,O),O=n.sub(O,W),W=n.mul(G,P),j=n.mul(ie,j),j=n.add(j,W),new I(O,N,j)}subtract(C){return this.add(C.negate())}is0(){return this.equals(I.ZERO)}multiply(C){const{endo:U}=t;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let $,z;const q=S=>D.wNAFCached(this,S,I.normalizeZ);if(U){const{k1neg:S,k1:A,k2neg:O,k2:N}=U.splitScalar(C),{p:j,f:V}=q(A),{p:K,f:W}=q(N);z=V.add(W),$=R(U.beta,j,K,S,O)}else{const{p:S,f:A}=q(C);$=S,z=A}return I.normalizeZ([$,z])[0]}multiplyUnsafe(C){const{endo:U}=t,$=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===wb||$.is0())return I.ZERO;if(C===bb)return $;if(D.hasPrecomputes(this))return this.multiply(C);if(U){const{k1neg:z,k1:q,k2neg:S,k2:A}=U.splitScalar(C),{p1:O,p2:N}=Upt(I,$,q,A);return R(U.beta,O,N,z,S)}else return D.wNAFCachedUnsafe($,C)}multiplyAndAddUnsafe(C,U,$){const z=this.multiplyUnsafe(U).add(C.multiplyUnsafe($));return z.is0()?void 0:z}toAffine(C){return k(this,C)}isTorsionFree(){const{isTorsionFree:C}=t;return i===bb?!0:C?C(I,this):D.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:C}=t;return i===bb?this:C?C(I,this):this.multiplyUnsafe(i)}toBytes(C=!0){return Om("isCompressed",C),this.assertValidity(),d(I,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return A0(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const T=r.BITS,D=Ype(I,t.endo?Math.ceil(T/2):T);return I}function ome(e){return Uint8Array.of(e?2:3)}function Pmt(e,t,n={}){B_(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||mhe,i=t.hmac||(($,...z)=>rme(t.hash,$,Lu(...z))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c($){const z=a>>bb;return $>z}function d($){return c($)?s.neg($):$}function u($,z){if(!s.isValidNot0(z))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(z,q,S){u("r",z),u("s",q),this.r=z,this.s=q,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(z){const q=s.BYTES,S=ro("compactSignature",z,q*2);return new h(s.fromBytes(S.subarray(0,q)),s.fromBytes(S.subarray(q,q*2)))}static fromDER(z){const{r:q,s:S}=Su.toSig(ro("DER",z));return new h(q,S)}assertValidity(){}addRecoveryBit(z){return new h(this.r,this.s,z)}recoverPublicKey(z){const q=o.ORDER,{r:S,s:A,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*Rmt<q&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=O===2||O===3?S+a:S;if(!o.isValid(j))throw new Error("recovery id 2 or 3 invalid");const V=o.toBytes(j),K=e.fromHex(Lu(ome((O&1)===0),V)),W=s.inv(j),P=_(ro("msgHash",z)),F=s.create(-P*W),G=s.create(A*W),Y=e.BASE.multiplyUnsafe(F).add(K.multiplyUnsafe(G));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(z){if(z==="compact")return Lu(s.toBytes(this.r),s.toBytes(this.s));if(z==="der")return Wj(Su.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return A0(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return A0(this.toBytes("compact"))}}const m=ime(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=a;return jpt(r(Hpe($)),$)},precompute($=8,z=e.BASE){return z.precompute($,!1)}};function y($,z=!0){return e.fromPrivateKey($).toBytes(z)}function g($){if(typeof $=="bigint")return!1;if($ instanceof e)return!0;const q=ro("key",$).length,S=o.BYTES,A=S+1,O=2*S+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===A))return q===A||q===O}function b($,z,q=!0){if(g($)===!0)throw new Error("first arg must be private key");if(g(z)===!1)throw new Error("second arg must be public key");return e.fromHex(z).multiply(m($)).toBytes(q)}const k=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const z=fE($),q=$.length*8-l;return q>0?z>>BigInt(q):z},_=t.bits2int_modN||function($){return s.create(k($))},R=pE(l);function I($){return Dy("num < 2^"+l,$,wb,R),s.toBytes($)}function T($,z,q=D){if(["recovered","canonical"].some(G=>G in q))throw new Error("sign() legacy options not supported");const{hash:S}=t;let{lowS:A,prehash:O,extraEntropy:N}=q;A==null&&(A=!0),$=ro("msgHash",$),VX(q),O&&($=ro("prehashed msgHash",S($)));const j=_($),V=m(z),K=[I(V),I(j)];if(N!=null&&N!==!1){const G=N===!0?r(o.BYTES):N;K.push(ro("extraEntropy",G))}const W=Lu(...K),P=j;function F(G){const Y=k(G);if(!s.isValidNot0(Y))return;const ie=s.inv(Y),ye=e.BASE.multiply(Y).toAffine(),ge=s.create(ye.x);if(ge===wb)return;const be=s.create(ie*s.create(P+ge*V));if(be===wb)return;let Le=(ye.x===ge?0:2)|Number(ye.y&bb),qe=be;return A&&c(be)&&(qe=d(be),Le^=1),new h(ge,qe,Le)}return{seed:W,k2sig:F}}const D={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function C($,z,q=D){const{seed:S,k2sig:A}=T($,z,q);return Cpt(t.hash.outputLen,s.BYTES,i)(S,A)}e.BASE.precompute(8);function U($,z,q,S=M){const A=$;z=ro("msgHash",z),q=ro("publicKey",q),VX(S);const{lowS:O,prehash:N,format:j}=S;if("strict"in S)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const V=typeof A=="string"||Fj(A),K=!V&&!j&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!V&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,P;try{if(K)if(j===void 0||j==="js")W=new h(A.r,A.s);else throw new Error("invalid format");if(V){try{j!=="compact"&&(W=h.fromDER(A))}catch(qe){if(!(qe instanceof Su.Err))throw qe}!W&&j!=="der"&&(W=h.fromCompact(A))}P=e.fromHex(q)}catch{return!1}if(!W||O&&W.hasHighS())return!1;N&&(z=t.hash(z));const{r:F,s:G}=W,Y=_(z),ie=s.inv(G),ye=s.create(Y*ie),ge=s.create(F*ie),be=e.BASE.multiplyUnsafe(ye).add(P.multiplyUnsafe(ge));return be.is0()?!1:s.create(be.x)===F}return Object.freeze({getPublicKey:y,getSharedSecret:b,sign:C,verify:U,utils:v,Point:e,Signature:h})}function Bmt(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=wv(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function Mmt(e){const{CURVE:t,curveOpts:n}=Bmt(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function Dmt(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function jmt(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Mmt(e),i=Nmt(t,n),o=Pmt(i,r,n);return Dmt(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $mt(e,t){const n=r=>jmt({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eI={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const Lmt=BigInt(1),g7=BigInt(2),KX=(e,t)=>(e+t/g7)/t;function Umt(e){const t=eI.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=zi(d,n,t)*d%t,h=zi(u,n,t)*d%t,m=zi(h,g7,t)*c%t,v=zi(m,i,t)*m%t,y=zi(v,o,t)*v%t,g=zi(y,a,t)*y%t,b=zi(g,l,t)*g%t,k=zi(b,a,t)*y%t,_=zi(k,n,t)*d%t,R=zi(_,s,t)*v%t,I=zi(R,r,t)*c%t,T=zi(I,g7,t);if(!y7.eql(y7.sqr(T),e))throw new Error("Cannot find square root");return T}const y7=wv(eI.p,void 0,void 0,{sqrt:Umt}),Fmt=$mt({...eI,Fp:y7,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=eI.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Lmt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=KX(o*e,t),l=KX(-r*e,t);let c=io(e-a*n-l*i,t),d=io(-a*r-l*o,t);const u=c>s,h=d>s;if(u&&(c=t-c),h&&(d=t-d),c>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:h,k2:d}}}},whe);M_.utils.randomPrivateKey;M_.getPublicKey;function HX(e){try{return M_.ExtendedPoint.fromHex(e),!0}catch{return!1}}const sme=(e,t)=>M_.sign(e,t.slice(0,32)),Wmt=M_.verify,g9=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let qmt=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize($2,this))}static decode(t){return sa.deserialize($2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked($2,this,t)}};const $2=new Map;var ame;const zmt=32,Ih=32;function Vmt(e){return e._bn!==void 0}let GX=1,Cn=class ky extends qmt{constructor(t){if(super({}),this._bn=void 0,Vmt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=ia.decode(t);if(n.length!=Ih)throw new Error("Invalid public key input");this._bn=new Dd(n)}else this._bn=new Dd(t);if(this._bn.byteLength()>Ih)throw new Error("Invalid public key input")}}static unique(){const t=new ky(GX);return GX+=1,new ky(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ia.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Ih)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Fh(i);return new ky(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>zmt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,g9(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Fh(r);if(HX(i))throw new Error("Invalid seeds, address must fall off the curve");return new ky(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ky(t);return HX(n.toBytes())}};ame=Cn;Cn.default=new ame("11111111111111111111111111111111");$2.set(Cn,{kind:"struct",fields:[["_bn","u256"]]});new Cn("BPFLoader1111111111111111111111111111111111");const i0=1232,y9=127,tI=64;let nI=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const or=(e="publicKey")=>B.blob(32,e),Kmt=(e="signature")=>B.blob(64,e),jy=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},Hmt=(e="authorized")=>B.struct([or("staker"),or("withdrawer")],e),Gmt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),or("custodian")],e),Jmt=(e="voteInit")=>B.struct([or("nodePubkey"),or("authorizedVoter"),or("authorizedWithdrawer"),B.u8("commission")],e),Zmt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),or("currentAuthorityDerivedKeyOwnerPubkey"),jy("currentAuthorityDerivedKeySeed"),or("newAuthorized")],e);function dl(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function ul(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Io(e,t){if(!e)throw new Error(t||"Assertion failed")}let lme=class cme{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new cme(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Io(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Io(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Io(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Cn(l)),...r.map(([l])=>new Cn(l)),...i.map(([l])=>new Cn(l)),...o.map(([l])=>new Cn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Cn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(Io(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const dme="Reached end of buffer unexpectedly";function Mu(e){if(e.length===0)throw new Error(dme);return e.shift()}function fl(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(dme);return e.splice(...t)}let v7=class w7{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Cn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ia.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new nI(this.staticAccountKeys)}static compile(t){const n=lme.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new nI(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ia.encode(a.data)}));return new w7({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ul(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(ia.decode(u.data));let y=[];ul(y,h.length);let g=[];return ul(g,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(y),keyIndices:h,dataLength:Te.Buffer.from(g),data:v}});let i=[];ul(i,r.length);let o=Te.Buffer.alloc(i0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(or("key"),t,"keys"),or("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>g9(u.toBytes())),recentBlockhash:ia.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=Mu(n);if(r!==(r&y9))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Mu(n),o=Mu(n),s=dl(n);let a=[];for(let h=0;h<s;h++){const m=fl(n,0,Ih);a.push(new Cn(Te.Buffer.from(m)))}const l=fl(n,0,Ih),c=dl(n);let d=[];for(let h=0;h<c;h++){const m=Mu(n),v=dl(n),y=fl(n,0,v),g=dl(n),b=fl(n,0,g),k=ia.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:y,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ia.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new w7(u)}},Ymt=class b7{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new nI(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=lme.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new nI(a,i).compileInstructions(t.instructions);return new b7({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();ul(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ul(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();ul(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(or(),this.staticAccountKeys.length,"staticAccountKeys"),or("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(i0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:ia.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(i0);for(const r of this.compiledInstructions){const i=Array();ul(i,r.accountKeyIndexes.length);const o=Array();ul(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(i0);for(const r of this.addressTableLookups){const i=Array();ul(i,r.writableIndexes.length);const o=Array();ul(o,r.readonlyIndexes.length);const s=B.struct([or("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Mu(n),i=r&y9;Io(r!==i,"Expected versioned message but received legacy message");const o=i;Io(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Mu(n),numReadonlySignedAccounts:Mu(n),numReadonlyUnsignedAccounts:Mu(n)},a=[],l=dl(n);for(let v=0;v<l;v++)a.push(new Cn(fl(n,0,Ih)));const c=ia.encode(fl(n,0,Ih)),d=dl(n),u=[];for(let v=0;v<d;v++){const y=Mu(n),g=dl(n),b=fl(n,0,g),k=dl(n),_=new Uint8Array(fl(n,0,k));u.push({programIdIndex:y,accountKeyIndexes:b,data:_})}const h=dl(n),m=[];for(let v=0;v<h;v++){const y=new Cn(fl(n,0,Ih)),g=dl(n),b=fl(n,0,g),k=dl(n),_=fl(n,0,k);m.push({accountKey:y,writableIndexes:b,readonlyIndexes:_})}return new b7({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}};const ume={deserializeMessageVersion(e){const t=e[0],n=t&y9;return n===t?"legacy":n},deserialize:e=>{const t=ume.deserializeMessageVersion(e);if(t==="legacy")return v7.from(e);if(t===0)return Ymt.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},Xmt=Te.Buffer.alloc(tI).fill(0);let JX=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},rI=class _7{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new JX(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(b=>{o.push({...b})});const g=y.programId.toString();i.includes(g)||i.push(g)}),i.forEach(y=>{o.push({pubkey:new Cn(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const g=y.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===g);b>-1?(s[b].isWritable=s[b].isWritable||y.isWritable,s[b].isSigner=s[b].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,g){if(y.isSigner!==g.isSigner)return y.isSigner?-1:1;if(y.isWritable!==g.isWritable)return y.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const g=s.findIndex(b=>b.pubkey.equals(y.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:y,isSigner:g,isWritable:b})=>{g?(u.push(y.toString()),l+=1,b||(c+=1)):(h.push(y.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(y=>{const{data:g,programId:b}=y;return{programIdIndex:m.indexOf(b.toString()),accounts:y.keys.map(k=>m.indexOf(k.pubkey.toString())),data:ia.encode(g)}});return v.forEach(y=>{Io(y.programIdIndex>=0),y.accounts.forEach(g=>Io(g>=0))}),new v7({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=sme(r,i.secretKey);this._addSignature(i.publicKey,g9(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Io(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):Wmt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];ul(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return Io(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Io(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),Io(o.length<=i0,`Transaction too large: ${o.length} > ${i0}`),o}get keys(){return Io(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Io(this.instructions.length===1),this.instructions[0].programId}get data(){return Io(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=dl(n);let i=[];for(let o=0;o<r;o++){const s=fl(n,0,tI);i.push(ia.encode(Te.Buffer.from(s)))}return _7.populate(v7.from(n),i)}static populate(t,n=[]){const r=new _7;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==ia.encode(Xmt)?null:ia.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new JX({keys:o,programId:t.accountKeys[i.programIdIndex],data:ia.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}},iI=class fme{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Io(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(tI));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ul(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(Kmt(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=dl(n);for(let s=0;s<i;s++)r.push(new Uint8Array(fl(n,0,tI)));const o=ume.deserialize(new Uint8Array(n));return new fme(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));Io(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=sme(n,i.secretKey)}}addSignature(t,n){Io(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));Io(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}};new Cn("SysvarC1ock11111111111111111111111111111111");new Cn("SysvarEpochSchedu1e111111111111111111111111");new Cn("Sysvar1nstructions1111111111111111111111111");new Cn("SysvarRecentB1ockHashes11111111111111111111");new Cn("SysvarRent111111111111111111111111111111111");new Cn("SysvarRewards111111111111111111111111111111");new Cn("SysvarS1otHashes111111111111111111111111111");new Cn("SysvarS1otHistory11111111111111111111111111");new Cn("SysvarStakeHistory1111111111111111111111111");const Qmt=B.nu64("lamportsPerSignature"),egt=B.struct([B.u32("version"),B.u32("state"),or("authorizedPubkey"),or("nonce"),B.struct([Qmt],"feeCalculator")]);egt.span;function B0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=Cmt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),or("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),or("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),B0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),or("base"),jy("seed"),B.ns64("lamports"),B.ns64("space"),or("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),or("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),or("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),or("base"),jy("seed"),B.ns64("space"),or("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),or("base"),jy("seed"),or("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),B0("lamports"),jy("seed"),or("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new Cn("11111111111111111111111111111111");new Cn("BPFLoader2111111111111111111111111111111111");B.struct([B.u32("typeIndex"),B0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(or(),B.offset(B.u8(),-1),"authority")]);const Zi=yi(ua(Cn),ae(),e=>new Cn(e)),hme=fa([ae(),it("base64")]),v9=yi(ua(Te.Buffer),hme,e=>Te.Buffer.from(e[0],"base64"));function pme(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Mr(),message:ae(),data:_e(O_())})})])}const tgt=pme(Mr());function ai(e){return yi(pme(e),tgt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function Yc(e){return ai(re({context:re({slot:H()}),value:e}))}function gE(e){return re({context:re({slot:H()}),value:e})}const ngt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});ai(pe(me(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(me(H()))}))));const rgt=pe(re({slot:H(),prioritizationFee:H()})),igt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),ogt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),sgt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),agt=Jd(ae(),pe(H())),dg=me(Ot([re({}),ae()])),lgt=re({err:dg}),cgt=it("receivedSignature");re({"solana-core":ae(),"feature-set":_e(H())});const dgt=re({program:ae(),programId:Zi,parsed:Mr()}),ugt=re({programId:Zi,accounts:pe(Zi),data:ae()});Yc(re({err:me(Ot([re({}),ae()])),logs:me(pe(ae())),accounts:_e(me(pe(me(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(me(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(Ot([dgt,ugt]))}))))}));Yc(re({byIdentity:Jd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));ai(ngt);ai(igt);ai(rgt);ai(ogt);ai(sgt);ai(agt);ai(H());Yc(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Zi)}));const fgt=re({amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())});Yc(pe(re({address:Zi,amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())})));Yc(pe(re({pubkey:Zi,account:re({executable:kn(),owner:Zi,lamports:H(),data:v9,rentEpoch:H()})})));const x7=re({program:ae(),parsed:Mr(),space:H()});Yc(pe(re({pubkey:Zi,account:re({executable:kn(),owner:Zi,lamports:H(),data:x7,rentEpoch:H()})})));Yc(pe(re({lamports:H(),address:Zi})));const w9=re({executable:kn(),owner:Zi,lamports:H(),data:v9,rentEpoch:H()});re({pubkey:Zi,account:w9});const hgt=yi(Ot([ua(Te.Buffer),x7]),Ot([hme,x7]),e=>Array.isArray(e)?ke(e,v9):e),pgt=re({executable:kn(),owner:Zi,lamports:H(),data:hgt,rentEpoch:H()});re({pubkey:Zi,account:pgt});re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()});ai(pe(re({signature:ae(),slot:H(),err:dg,memo:me(ae()),blockTime:_e(me(H()))})));ai(pe(re({signature:ae(),slot:H(),err:dg,memo:me(ae()),blockTime:_e(me(H()))})));re({subscription:H(),result:gE(w9)});const mgt=re({pubkey:Zi,account:w9});re({subscription:H(),result:gE(mgt)});const ggt=re({parent:H(),slot:H(),root:H()});re({subscription:H(),result:ggt});const ygt=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]);re({subscription:H(),result:ygt});re({subscription:H(),result:gE(Ot([lgt,cgt]))});re({subscription:H(),result:H()});re({pubkey:ae(),gossip:me(ae()),tpu:me(ae()),rpc:me(ae()),version:me(ae())});const ZX=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:me(H())});ai(re({current:pe(ZX),delinquent:pe(ZX)}));const vgt=Ot([it("processed"),it("confirmed"),it("finalized")]),wgt=re({slot:H(),confirmations:me(H()),err:dg,confirmationStatus:_e(vgt)});Yc(pe(me(wgt)));ai(H());const mme=re({accountKey:Zi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),b9=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(mme))})}),gme=re({pubkey:Zi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),yme=re({accountKeys:pe(gme),signatures:pe(ae())}),vme=re({parsed:Mr(),program:ae(),programId:Zi}),wme=re({accounts:pe(Zi),data:ae(),programId:Zi}),bgt=Ot([wme,vme]),_gt=Ot([re({parsed:Mr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),bme=yi(bgt,_gt,e=>"accounts"in e?ke(e,wme):ke(e,vme)),_me=re({signatures:pe(ae()),message:re({accountKeys:pe(gme),instructions:pe(bme),recentBlockhash:ae(),addressTableLookups:_e(me(pe(mme)))})}),oI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:fgt}),xme=re({writable:pe(Zi),readonly:pe(Zi)}),yE=re({err:dg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(oI))),postTokenBalances:_e(me(pe(oI))),loadedAddresses:_e(xme),computeUnitsConsumed:_e(H())}),_9=re({err:dg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(bme)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(oI))),postTokenBalances:_e(me(pe(oI))),loadedAddresses:_e(xme),computeUnitsConsumed:_e(H())}),bv=Ot([it(0),it("legacy")]),ug=re({pubkey:ae(),lamports:H(),postBalance:me(H()),rewardType:me(ae()),commission:_e(me(H()))});ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:b9,meta:me(yE),version:_e(bv)})),rewards:_e(pe(ug)),blockTime:me(H()),blockHeight:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(ug)),blockTime:me(H()),blockHeight:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:yme,meta:me(yE),version:_e(bv)})),rewards:_e(pe(ug)),blockTime:me(H()),blockHeight:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:_me,meta:me(_9),version:_e(bv)})),rewards:_e(pe(ug)),blockTime:me(H()),blockHeight:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:yme,meta:me(_9),version:_e(bv)})),rewards:_e(pe(ug)),blockTime:me(H()),blockHeight:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(ug)),blockTime:me(H()),blockHeight:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:b9,meta:me(yE)})),rewards:_e(pe(ug)),blockTime:me(H())})));ai(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:me(H())})));ai(me(re({slot:H(),meta:me(yE),blockTime:_e(me(H())),transaction:b9,version:_e(bv)})));ai(me(re({slot:H(),transaction:_me,meta:me(_9),blockTime:_e(me(H())),version:_e(bv)})));Yc(re({blockhash:ae(),lastValidBlockHeight:H()}));Yc(kn());const xgt=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});ai(pe(xgt));Yc(me(re({feeCalculator:re({lamportsPerSignature:H()})})));ai(ae());ai(ae());const kgt=re({err:dg,logs:pe(ae()),signature:ae()});re({result:gE(kgt),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),B0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),B0(),B.seq(or(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Cn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),B0("microLamports")])}});new Cn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Cn("Ed25519SigVerify111111111111111111111111111");Fmt.utils.isValidPrivateKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Cn("KeccakSecp256k11111111111111111111111111111");var kme;new Cn("StakeConfig11111111111111111111111111111111");let Sme=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};kme=Sme;Sme.default=new kme(0,0,Cn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),Hmt(),Gmt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),or("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),or("newAuthorized"),B.u32("stakeAuthorizationType"),jy("authoritySeed"),or("authorityOwner")])}});new Cn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),Jmt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),or("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Zmt()])}});new Cn("Vote111111111111111111111111111111111111111");new Cn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Cn("Vote111111111111111111111111111111111111111");B.struct([or("nodePubkey"),or("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),or("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([or("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);var Sgt=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Igt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},L2;let Iw;const U2=new Set,$y={};function Ime(){if(Iw||(Iw=Object.freeze({register:YX,get:Egt,on:Cgt}),typeof window>"u"))return Iw;const e=Object.freeze({register:YX});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new Agt(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Iw}function YX(...e){var t;return e=e.filter(n=>!U2.has(n)),e.length?(e.forEach(n=>U2.add(n)),(t=$y.register)==null||t.forEach(n=>XX(()=>n(...e))),function(){var r;e.forEach(i=>U2.delete(i)),(r=$y.unregister)==null||r.forEach(i=>XX(()=>i(...e)))}):()=>{}}function Egt(){return[...U2]}function Cgt(e,t){var n;return(n=$y[e])!=null&&n.push(t)||($y[e]=[t]),function(){var i;$y[e]=(i=$y[e])==null?void 0:i.filter(o=>t!==o)}}function XX(e){try{e()}catch(t){console.error(t)}}class Agt extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),L2.set(this,void 0),Sgt(this,L2,t,"f")}get detail(){return Igt(this,L2,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}L2=new WeakMap;const Rgt=e=>{const{walletStandardLocators:t}=e;if(!t||t.length===0)return;const n=Ime().get();return t.reduce((r,i)=>{if(r)return r;const o=n.find(s=>s.name===i.name);if(o)return Axe(o,i.locator)},void 0)},Eme=e=>!!e&&e.signature!==void 0;class Tgt{constructor(t){this.walletBookWallet=Ud(t.walletBook,t.key),this.connector=t}getInjectedConfig(){var t;const n=(t=this.walletBookWallet)===null||t===void 0?void 0:t.injectedConfig;return n==null?void 0:n.find(r=>r.chain===this.connector.connectedChain.toLowerCase())}getInstalledProvider(){const t=this.getInjectedConfig();if(!(!t||!t.extensionLocators))return this.installedProviderLookup(t.extensionLocators)}installedProviders(){var t,n;const r=this.getInjectedConfig();if(!r)return[];const i=[];if(r.windowLocations)for(const o of r.windowLocations){const s=txe(o);s&&s.length&&i.push(...s)}if(r.extensionLocators.length!==0&&window.solana&&(window.solana.providers?window.solana.providers.forEach(o=>i.push(o)):i.push(window.solana)),((n=(t=r.walletStandardLocators)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0){const o=Rgt(r);o&&i.push(o)}return i}installedProviderLookup(t){const n=this.installedProviders();return t.length===0?n[0]:qAe(n,t)}findProvider(){return this.connector.findProvider()}isInstalledHelper(){return this.findProvider()!==void 0}getAddress(){return Ht(this,void 0,void 0,function*(){var t;const n=this.findProvider();if(n)return yield n.connect(),(t=n.publicKey)===null||t===void 0?void 0:t.toString()})}connect(){return Ht(this,void 0,void 0,function*(){const t=this.findProvider();if(!t){Jn.error("No Solanaprovider found to connect",{connector:this.connector.name});return}try{return t.isConnected||(yield t.connect()),t}catch(n){Jn.error("Error connecting to Solanaprovider",{connector:this.connector.name,error:n});return}})}signMessage(t){return Ht(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=this.findProvider();if(!r)return;const i=new TextEncoder().encode(t),o=yield r.signMessage(i,"utf8");if(o)return Th(Eme(o)?o.signature:o)})}handleAccountChange(t,n,r){return Ht(this,void 0,void 0,function*(){var i;if(!r){yield n==null?void 0:n.connect(),!((i=n==null?void 0:n.publicKey)===null||i===void 0)&&i.toString()&&t.emit("accountChange",{accounts:[n.publicKey.toString()]});return}r.toString()&&t.emit("accountChange",{accounts:[r.toString()]})})}_setupEventListeners(){const t=this.findProvider();if(!t){Jn.warn("Provider not found",{connector:this.connector});return}if(!t.on){Jn.warn("Provider does not support event listeners",{connector:this.connector,provider:t});return}t.on("accountChanged",n=>this.handleAccountChange(this.connector,t,n)),t.on("disconnect",()=>this.connector.emit("disconnect"))}_teardownEventListeners(){const t=this.findProvider();t&&t.removeAllListeners()}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){var t,n;const r=this.findProvider();if(!r)return[];let i;try{r.isConnected||(i=yield r.connect({onlyIfTrusted:!0}))}catch{return[]}const o=i==null?void 0:i.address;if(o)return[o];try{const s=(t=i==null?void 0:i.publicKey)!==null&&t!==void 0?t:(n=r.publicKey)===null||n===void 0?void 0:n.toString();if(s)return[s==null?void 0:s.toString()]}catch(s){Jn.debug("Error getting public key",{connector:this.connector,error:s})}return[]})}}class Ogt extends Kie{constructor(t){super(`Message signing is currently not supported on ${t} hardware wallet.
    You can use signMessageViaTransaction instead to achieve similar functionality
    by signing a transaction with a memo instruction.
    You can read more about it here https://github.com/solana-labs/solana/issues/21366`)}}const Ct=new gi("solana");var QX=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Ngt=(function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e})(),Pgt=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e})(),Bgt=(function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e})(),Mgt=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),Dgt=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),jgt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,$gt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,eQ=3,Lgt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",jgt]],tQ=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ugt(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Dgt:typeof navigator<"u"?Wgt(navigator.userAgent):zgt()}function Fgt(e){return e!==""&&Lgt.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function Wgt(e){var t=Fgt(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new Mgt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<eQ&&(i=QX(QX([],i,!0),Vgt(eQ-i.length),!0)):i=[];var o=i.join("."),s=qgt(e),a=$gt.exec(e);return a&&a[1]?new Bgt(n,o,s,a[1]):new Ngt(n,o,s)}function qgt(e){for(var t=0,n=tQ.length;t<n;t++){var r=tQ[t],i=r[0],o=r[1],s=o.exec(e);if(s)return i}return null}function zgt(){var e=typeof process<"u"&&process.version;return e?new Pgt(process.version.slice(1)):null}function Vgt(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var f8={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var k7=function(e,t){return k7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},k7(e,t)};function Kgt(e,t){k7(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var S7=function(){return S7=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},S7.apply(this,arguments)};function Hgt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ggt(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function Jgt(e,t){return function(n,r){t(n,r,e)}}function Zgt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ygt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Xgt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Qgt(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function eyt(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function I7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cme(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function tyt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cme(arguments[t]));return e}function nyt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function S1(e){return this instanceof S1?(this.v=e,this):new S1(e)}function ryt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(v,y){o.push([h,m,v,y])>1||a(h,m)})})}function a(h,m){try{l(r[h](m))}catch(v){u(o[0][3],v)}}function l(h){h.value instanceof S1?Promise.resolve(h.value.v).then(c,d):u(o[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function iyt(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:S1(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function oyt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof I7=="function"?I7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function syt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ayt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function lyt(e){return e&&e.__esModule?e:{default:e}}function cyt(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function dyt(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const uyt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return S7},__asyncDelegator:iyt,__asyncGenerator:ryt,__asyncValues:oyt,__await:S1,__awaiter:Ygt,__classPrivateFieldGet:cyt,__classPrivateFieldSet:dyt,__createBinding:Qgt,__decorate:Ggt,__exportStar:eyt,__extends:Kgt,__generator:Xgt,__importDefault:lyt,__importStar:ayt,__makeTemplateObject:syt,__metadata:Zgt,__param:Jgt,__read:Cme,__rest:Hgt,__spread:tyt,__spreadArrays:nyt,__values:I7},Symbol.toStringTag,{value:"Module"})),vE=q1(uyt);var h8={},Ew={},nQ;function fyt(){if(nQ)return Ew;nQ=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Ew.delay=e,Ew}var Sp={},p8={},Ip={},rQ;function hyt(){return rQ||(rQ=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.ONE_THOUSAND=Ip.ONE_HUNDRED=void 0,Ip.ONE_HUNDRED=100,Ip.ONE_THOUSAND=1e3),Ip}var m8={},iQ;function pyt(){return iQ||(iQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365})(m8)),m8}var oQ;function Ame(){return oQ||(oQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vE;t.__exportStar(hyt(),e),t.__exportStar(pyt(),e)})(p8)),p8}var sQ;function myt(){if(sQ)return Sp;sQ=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.fromMiliseconds=Sp.toMiliseconds=void 0;const e=Ame();function t(r){return r*e.ONE_THOUSAND}Sp.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Sp.fromMiliseconds=n,Sp}var aQ;function gyt(){return aQ||(aQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vE;t.__exportStar(fyt(),e),t.__exportStar(myt(),e)})(h8)),h8}var ny={},lQ;function yyt(){if(lQ)return ny;lQ=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return ny.Watch=e,ny.default=e,ny}var g8={},Cw={},cQ;function vyt(){if(cQ)return Cw;cQ=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.IWatch=void 0;class e{}return Cw.IWatch=e,Cw}var dQ;function wyt(){return dQ||(dQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),vE.__exportStar(vyt(),e)})(g8)),g8}var uQ;function byt(){return uQ||(uQ=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vE;t.__exportStar(gyt(),e),t.__exportStar(yyt(),e),t.__exportStar(wyt(),e),t.__exportStar(Ame(),e)})(f8)),f8}var It=byt(),zr={},fQ;function Rme(){if(fQ)return zr;fQ=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.getLocalStorage=zr.getLocalStorageOrThrow=zr.getCrypto=zr.getCryptoOrThrow=zr.getLocation=zr.getLocationOrThrow=zr.getNavigator=zr.getNavigatorOrThrow=zr.getDocument=zr.getDocumentOrThrow=zr.getFromWindowOrThrow=zr.getFromWindow=void 0;function e(h){let m;return typeof window<"u"&&typeof window[h]<"u"&&(m=window[h]),m}zr.getFromWindow=e;function t(h){const m=e(h);if(!m)throw new Error(`${h} is not defined in Window`);return m}zr.getFromWindowOrThrow=t;function n(){return t("document")}zr.getDocumentOrThrow=n;function r(){return e("document")}zr.getDocument=r;function i(){return t("navigator")}zr.getNavigatorOrThrow=i;function o(){return e("navigator")}zr.getNavigator=o;function s(){return t("location")}zr.getLocationOrThrow=s;function a(){return e("location")}zr.getLocation=a;function l(){return t("crypto")}zr.getCryptoOrThrow=l;function c(){return e("crypto")}zr.getCrypto=c;function d(){return t("localStorage")}zr.getLocalStorageOrThrow=d;function u(){return e("localStorage")}return zr.getLocalStorage=u,zr}var Hu=Rme(),Aw={},hQ;function _yt(){if(hQ)return Aw;hQ=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.getWindowMetadata=void 0;const e=Rme();function t(){let n,r;try{n=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function i(){const m=n.getElementsByTagName("link"),v=[];for(let y=0;y<m.length;y++){const g=m[y],b=g.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const k=g.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let _=r.protocol+"//"+r.host;if(k.indexOf("/")===0)_+=k;else{const R=r.pathname.split("/");R.pop();const I=R.join("/");_+=I+"/"+k}v.push(_)}else if(k.indexOf("//")===0){const _=r.protocol+k;v.push(_)}else v.push(k)}}return v}function o(...m){const v=n.getElementsByTagName("meta");for(let y=0;y<v.length;y++){const g=v[y],b=["itemprop","property","name"].map(k=>g.getAttribute(k)).filter(k=>k?m.includes(k):!1);if(b.length&&b){const k=g.getAttribute("content");if(k)return k}}return""}function s(){let m=o("name","og:site_name","og:title","twitter:title");return m||(m=n.title),m}function a(){return o("description","og:description","twitter:description","keywords")}const l=s(),c=a(),d=r.origin,u=i();return{description:c,url:d,icons:u,name:l}}return Aw.getWindowMetadata=t,Aw}var xyt=_yt();function Tme(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<e.length;c++){const d=e.charAt(c),u=d.charCodeAt(0);if(t[u]!==255)throw new TypeError(d+" is ambiguous");t[u]=c}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function s(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,u=0,h=0;const m=c.length;for(;h!==m&&c[h]===0;)h++,d++;const v=(m-h)*o+1>>>0,y=new Uint8Array(v);for(;h!==m;){let k=c[h],_=0;for(let R=v-1;(k!==0||_<u)&&R!==-1;R--,_++)k+=256*y[R]>>>0,y[R]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");u=_,h++}let g=v-u;for(;g!==v&&y[g]===0;)g++;let b=r.repeat(d);for(;g<v;++g)b+=e.charAt(y[g]);return b}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,u=0,h=0;for(;c[d]===r;)u++,d++;const m=(c.length-d)*i+1>>>0,v=new Uint8Array(m);for(;d<c.length;){const k=c.charCodeAt(d);if(k>255)return;let _=t[k];if(_===255)return;let R=0;for(let I=m-1;(_!==0||R<h)&&I!==-1;I--,R++)_+=n*v[I]>>>0,v[I]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");h=R,d++}let y=m-h;for(;y!==m&&v[y]===0;)y++;const g=new Uint8Array(u+(m-y));let b=u;for(;y!==m;)g[b++]=v[y++];return g}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:a,decode:l}}var kyt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Tme(kyt);function Syt(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<t){const o=e.charCodeAt(r);(o&64512)===56320&&(++r,i=((i&1023)<<10)+(o&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function Iyt(e,t,n){const r=e.length;let i=n,o=0;for(;o<r;){let s=e.charCodeAt(o++);if((s&4294967168)===0){t[i++]=s;continue}else if((s&4294965248)===0)t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<r){const a=e.charCodeAt(o);(a&64512)===56320&&(++o,s=((s&1023)<<10)+(a&1023)+65536)}(s&4294901760)===0?(t[i++]=s>>12&15|224,t[i++]=s>>6&63|128):(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128)}t[i++]=s&63|128}}const Eyt=new TextEncoder,Cyt=50;function Ayt(e,t,n){Eyt.encodeInto(e,t.subarray(n))}function Ryt(e,t,n){e.length>Cyt?Ayt(e,t,n):Iyt(e,t,n)}const Tyt=4096;function Ome(e,t,n){let r=t;const i=r+n,o=[];let s="";for(;r<i;){const a=e[r++];if((a&128)===0)o.push(a);else if((a&224)===192){const l=e[r++]&63;o.push((a&31)<<6|l)}else if((a&240)===224){const l=e[r++]&63,c=e[r++]&63;o.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=e[r++]&63,c=e[r++]&63,d=e[r++]&63;let u=(a&7)<<18|l<<12|c<<6|d;u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|u&1023),o.push(u)}else o.push(a);o.length>=Tyt&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s}const Oyt=new TextDecoder,Nyt=200;function Pyt(e,t,n){const r=e.subarray(t,t+n);return Oyt.decode(r)}function Byt(e,t,n){return n>Nyt?Pyt(e,t,n):Ome(e,t,n)}class Lk{constructor(t,n){this.type=t,this.data=n}}class rl extends Error{constructor(t){super(t);const n=Object.create(rl.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:rl.name})}}const Rw=4294967295;function Myt(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Nme(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Pme(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function Dyt(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const jyt=-1,$yt=4294967296-1,Lyt=17179869184-1;function Uyt({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=Lyt)if(t===0&&e<=$yt){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,t<<2|n&3),o.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),Nme(r,4,e),n}}function Fyt(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Wyt(e){if(e instanceof Date){const t=Fyt(e);return Uyt(t)}else return null}function qyt(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),i=(n&3)*4294967296+r,o=n>>>2;return{sec:i,nsec:o}}case 12:{const n=Pme(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new rl(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function zyt(e){const t=qyt(e);return new Date(t.sec*1e3+t.nsec/1e6)}const Vyt={type:jyt,encode:Wyt,decode:zyt};class sI{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Vyt)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const i=-1-t;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const o=i(t,n);if(o!=null){const s=-1-r;return new Lk(s,o)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const o=i(t,n);if(o!=null){const s=r;return new Lk(s,o)}}}return t instanceof Lk?t:null}decode(t,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(t,n,r):new Lk(n,t)}}sI.defaultCodec=new sI;function Kyt(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function E7(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Kyt(e)?new Uint8Array(e):Uint8Array.from(e)}const Hyt=100,Gyt=2048;let Jyt=class Bme{constructor(t){this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??sI.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.maxDepth=(t==null?void 0:t.maxDepth)??Hyt,this.initialBufferSize=(t==null?void 0:t.initialBufferSize)??Gyt,this.sortKeys=(t==null?void 0:t.sortKeys)??!1,this.forceFloat32=(t==null?void 0:t.forceFloat32)??!1,this.ignoreUndefined=(t==null?void 0:t.ignoreUndefined)??!1,this.forceIntegerToFloat=(t==null?void 0:t.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Bme({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=Syt(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Ryt(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=E7(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of t)this.doEncode(i,n+1)}countWithoutUndefined(t,n){let r=0;for(const i of n)t[i]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const o of r){const s=t[o];this.ignoreUndefined&&s===void 0||(this.encodeString(o),this.doEncode(s,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),Myt(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),Nme(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function Zyt(e,t){return new Jyt(t).encodeSharedRef(e)}function y8(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const Yyt=16,Xyt=16;class Qyt{constructor(t=Yyt,n=Xyt){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const i=this.caches[r-1];e:for(const o of i){const s=o.bytes;for(let a=0;a<r;a++)if(s[a]!==t[n+a])continue e;return o.str}return null}store(t,n){const r=this.caches[t.length-1],i={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(t,n,r){const i=this.find(t,n,r);if(i!=null)return this.hit++,i;this.miss++;const o=Ome(t,n,r),s=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(s,o),o}}const C7="array",_b="map_key",Mme="map_value",e0t=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new rl("The type of key must be string or number but "+typeof e)};class t0t{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=C7,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=_b,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===C7){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===_b||t.type===Mme){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Tw=-1,x9=new DataView(new ArrayBuffer(0)),n0t=new Uint8Array(x9.buffer);try{x9.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const pQ=new RangeError("Insufficient data"),r0t=new Qyt;let i0t=class Dme{constructor(t){this.totalPos=0,this.pos=0,this.view=x9,this.bytes=n0t,this.headByte=Tw,this.stack=new t0t,this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??sI.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.rawStrings=(t==null?void 0:t.rawStrings)??!1,this.maxStrLength=(t==null?void 0:t.maxStrLength)??Rw,this.maxBinLength=(t==null?void 0:t.maxBinLength)??Rw,this.maxArrayLength=(t==null?void 0:t.maxArrayLength)??Rw,this.maxMapLength=(t==null?void 0:t.maxMapLength)??Rw,this.maxExtLength=(t==null?void 0:t.maxExtLength)??Rw,this.keyDecoder=(t==null?void 0:t.keyDecoder)!==void 0?t.keyDecoder:r0t,this.mapKeyConverter=(t==null?void 0:t.mapKeyConverter)??e0t}clone(){return new Dme({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Tw,this.stack.reset()}setBuffer(t){const n=E7(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===Tw&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=E7(t),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const a of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:o,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${y8(i)} at ${s} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,i=-1;for await(const o of t){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const i=t-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t<160){const i=t-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=t-160;n=this.decodeString(i,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(t===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(t===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(t===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(t===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(t===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(t===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(t===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(t===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(t===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(t===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new rl(`Unrecognized type byte: ${y8(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===C7)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===_b){if(n==="__proto__")throw new rl("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=Mme;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=_b;continue e}}return n}}readHeadByte(){return this.headByte===Tw&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Tw}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new rl(`Unrecognized array type byte: ${y8(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new rl(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new rl(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){var o;if(t>this.maxStrLength)throw new rl(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw pQ;const r=this.pos+n;let i;return this.stateIsMapKey()&&((o=this.keyDecoder)!=null&&o.canBeCached(t))?i=this.keyDecoder.decode(this.bytes,r,t):i=Byt(this.bytes,r,t),this.pos+=n+t,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===_b:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new rl(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw pQ;const r=this.pos+n,i=this.bytes.subarray(r,r+t);return this.pos+=n+t,i}decodeExtension(t,n){if(t>this.maxExtLength)throw new rl(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(t,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=Dyt(this.view,this.pos);return this.pos+=8,t}readI64(){const t=Pme(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function o0t(e,t){return new i0t(t).decode(e)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function s0t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function jme(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function aI(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function k9(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function A7(e){if(!Array.isArray(e))throw new Error("array expected")}function lI(e,t){if(!jme(!0,t))throw new Error(`${e}: array of strings expected`)}function a0t(e,t){if(!jme(!1,t))throw new Error(`${e}: array of numbers expected`)}function l0t(...e){const t=o=>o,n=(o,s)=>a=>o(s(a)),r=e.map(o=>o.encode).reduceRight(n,t),i=e.map(o=>o.decode).reduce(n,t);return{encode:r,decode:i}}function c0t(e){const t=typeof e=="string"?e.split(""):e,n=t.length;lI("alphabet",t);const r=new Map(t.map((i,o)=>[i,o]));return{encode:i=>(A7(i),i.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:i=>(A7(i),i.map(o=>{aI("alphabet.decode",o);const s=r.get(o);if(s===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return s}))}}function d0t(e=""){return aI("join",e),{encode:t=>(lI("join.decode",t),t.join(e)),decode:t=>(aI("join.decode",t),t.split(e))}}function u0t(e,t="="){return k9(e),aI("padding",t),{encode(n){for(lI("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){lI("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const $me=(e,t)=>t===0?e:$me(t,e%t),cI=(e,t)=>e+(t-$me(e,t)),v8=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function mQ(e,t,n,r){if(A7(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(cI(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${cI(t,n)}`);let i=0,o=0;const s=v8[t],a=v8[n]-1,l=[];for(const c of e){if(k9(c),c>=s)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)l.push((i>>o-n&a)>>>0);const d=v8[o];if(d===void 0)throw new Error("invalid carry");i&=d-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&l.push(i>>>0),l}function f0t(e,t=!1){if(k9(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(cI(8,e)>32||cI(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!s0t(n))throw new Error("radix2.encode input should be Uint8Array");return mQ(Array.from(n),8,e,!t)},decode:n=>(a0t("radix2.decode",n),Uint8Array.from(mQ(n,e,8,t)))}}const h0t=l0t(f0t(5),c0t("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),u0t(5),d0t("")),p0t=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),m0t=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function M0(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return m0t(e)}catch{return e}}function Nm(e){return typeof e=="string"?e:p0t(e)||""}function g0t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Lme(e,...t){if(!g0t(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function gQ(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function y0t(e,t){Lme(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ry=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w8=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function v0t(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Ume(e){return typeof e=="string"&&(e=v0t(e)),Lme(e),e}let w0t=class{clone(){return this._cloneInto()}};function b0t(e){const t=r=>e().update(Ume(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Fme(e=32){if(ry&&typeof ry.getRandomValues=="function")return ry.getRandomValues(new Uint8Array(e));if(ry&&typeof ry.randomBytes=="function")return ry.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function _0t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}let x0t=class extends w0t{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=w8(this.buffer)}update(t){gQ(this);const{view:n,buffer:r,blockLen:i}=this;t=Ume(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=w8(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){gQ(this),y0t(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;_0t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=w8(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};const Uk=BigInt(2**32-1),R7=BigInt(32);function Wme(e,t=!1){return t?{h:Number(e&Uk),l:Number(e>>R7&Uk)}:{h:Number(e>>R7&Uk)|0,l:Number(e&Uk)|0}}function k0t(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Wme(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const S0t=(e,t)=>BigInt(e>>>0)<<R7|BigInt(t>>>0),I0t=(e,t,n)=>e>>>n,E0t=(e,t,n)=>e<<32-n|t>>>n,C0t=(e,t,n)=>e>>>n|t<<32-n,A0t=(e,t,n)=>e<<32-n|t>>>n,R0t=(e,t,n)=>e<<64-n|t>>>n-32,T0t=(e,t,n)=>e>>>n-32|t<<64-n,O0t=(e,t)=>t,N0t=(e,t)=>e,P0t=(e,t,n)=>e<<n|t>>>32-n,B0t=(e,t,n)=>t<<n|e>>>32-n,M0t=(e,t,n)=>t<<n-32|e>>>64-n,D0t=(e,t,n)=>e<<n-32|t>>>64-n;function j0t(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const $0t=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),L0t=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,U0t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),F0t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,W0t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),q0t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,qn={fromBig:Wme,split:k0t,toBig:S0t,shrSH:I0t,shrSL:E0t,rotrSH:C0t,rotrSL:A0t,rotrBH:R0t,rotrBL:T0t,rotr32H:O0t,rotr32L:N0t,rotlSH:P0t,rotlSL:B0t,rotlBH:M0t,rotlBL:D0t,add:j0t,add3L:$0t,add3H:L0t,add4L:U0t,add4H:F0t,add5H:q0t,add5L:W0t},[z0t,V0t]=qn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),$f=new Uint32Array(80),Lf=new Uint32Array(80);let K0t=class extends x0t{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:y,Hl:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=y|0,this.Hl=g|0}process(t,n){for(let _=0;_<16;_++,n+=4)$f[_]=t.getUint32(n),Lf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=$f[_-15]|0,I=Lf[_-15]|0,T=qn.rotrSH(R,I,1)^qn.rotrSH(R,I,8)^qn.shrSH(R,I,7),D=qn.rotrSL(R,I,1)^qn.rotrSL(R,I,8)^qn.shrSL(R,I,7),M=$f[_-2]|0,C=Lf[_-2]|0,U=qn.rotrSH(M,C,19)^qn.rotrBH(M,C,61)^qn.shrSH(M,C,6),$=qn.rotrSL(M,C,19)^qn.rotrBL(M,C,61)^qn.shrSL(M,C,6),z=qn.add4L(D,$,Lf[_-7],Lf[_-16]),q=qn.add4H(z,T,U,$f[_-7],$f[_-16]);$f[_]=q|0,Lf[_]=z|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:y,Gl:g,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=qn.rotrSH(u,h,14)^qn.rotrSH(u,h,18)^qn.rotrBH(u,h,41),I=qn.rotrSL(u,h,14)^qn.rotrSL(u,h,18)^qn.rotrBL(u,h,41),T=u&m^~u&y,D=h&v^~h&g,M=qn.add5L(k,I,D,V0t[_],Lf[_]),C=qn.add5H(M,b,R,T,z0t[_],$f[_]),U=M|0,$=qn.rotrSH(r,i,28)^qn.rotrBH(r,i,34)^qn.rotrBH(r,i,39),z=qn.rotrSL(r,i,28)^qn.rotrBL(r,i,34)^qn.rotrBL(r,i,39),q=r&o^r&a^o&a,S=i&s^i&l^s&l;b=y|0,k=g|0,y=m|0,g=v|0,m=u|0,v=h|0,{h:u,l:h}=qn.add(c|0,d|0,C|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=qn.add3L(U,z,S);r=qn.add3H(A,C,$,q),i=A|0}({h:r,l:i}=qn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=qn.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=qn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=qn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=qn.add(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=qn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:y,l:g}=qn.add(this.Gh|0,this.Gl|0,y|0,g|0),{h:b,l:k}=qn.add(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k)}roundClean(){$f.fill(0),Lf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const H0t=b0t(()=>new K0t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S9=BigInt(0),qme=BigInt(1),G0t=BigInt(2);function I9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function E9(e){if(!I9(e))throw new Error("Uint8Array expected")}function b8(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const J0t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function C9(e){E9(e);let t="";for(let n=0;n<e.length;n++)t+=J0t[e[n]];return t}function zme(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?S9:BigInt("0x"+e)}const du={_0:48,_9:57,A:65,F:70,a:97,f:102};function yQ(e){if(e>=du._0&&e<=du._9)return e-du._0;if(e>=du.A&&e<=du.F)return e-(du.A-10);if(e>=du.a&&e<=du.f)return e-(du.a-10)}function Vme(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=yQ(e.charCodeAt(o)),a=yQ(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function Z0t(e){return zme(C9(e))}function F2(e){return E9(e),zme(C9(Uint8Array.from(e).reverse()))}function Kme(e,t){return Vme(e.toString(16).padStart(t*2,"0"))}function T7(e,t){return Kme(e,t).reverse()}function uu(e,t,n){let r;if(typeof t=="string")try{r=Vme(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(I9(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function vQ(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];E9(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}const _8=e=>typeof e=="bigint"&&S9<=e;function Y0t(e,t,n){return _8(e)&&_8(t)&&_8(n)&&t<=e&&e<n}function Ow(e,t,n,r){if(!Y0t(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function X0t(e){let t;for(t=0;e>S9;e>>=qme,t+=1);return t}const Q0t=e=>(G0t<<BigInt(e-1))-qme,evt={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||I9(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function A9(e,t,n={}){const r=(i,o,s)=>{const a=evt[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+l)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function wQ(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const Ho=BigInt(0),oo=BigInt(1),Wp=BigInt(2),tvt=BigInt(3),O7=BigInt(4),bQ=BigInt(5),_Q=BigInt(8);function Co(e,t){const n=e%t;return n>=Ho?n:t+n}function nvt(e,t,n){if(t<Ho)throw new Error("invalid exponent, negatives unsupported");if(n<=Ho)throw new Error("invalid modulus");if(n===oo)return Ho;let r=oo;for(;t>Ho;)t&oo&&(r=r*e%n),e=e*e%n,t>>=oo;return r}function dd(e,t,n){let r=e;for(;t-- >Ho;)r*=r,r%=n;return r}function xQ(e,t){if(e===Ho)throw new Error("invert: expected non-zero number");if(t<=Ho)throw new Error("invert: expected positive modulus, got "+t);let n=Co(e,t),r=t,i=Ho,o=oo;for(;n!==Ho;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==oo)throw new Error("invert: does not exist");return Co(i,t)}function rvt(e){const t=(e-oo)/Wp;let n,r,i;for(n=e-oo,r=0;n%Wp===Ho;n/=Wp,r++);for(i=Wp;i<e&&nvt(i,t,e)!==e-oo;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+oo)/O7;return function(a,l){const c=a.pow(l,s);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const o=(n+oo)/Wp;return function(s,a){if(s.pow(a,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,c=s.pow(s.mul(s.ONE,i),n),d=s.pow(a,o),u=s.pow(a,n);for(;!s.eql(u,s.ONE);){if(s.eql(u,s.ZERO))return s.ZERO;let h=1;for(let v=s.sqr(u);h<l&&!s.eql(v,s.ONE);h++)v=s.sqr(v);const m=s.pow(c,oo<<BigInt(l-h-1));c=s.sqr(m),d=s.mul(d,m),u=s.mul(u,c),l=h}return d}}function ivt(e){if(e%O7===tvt){const t=(e+oo)/O7;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%_Q===bQ){const t=(e-bQ)/_Q;return function(n,r){const i=n.mul(r,Wp),o=n.pow(i,t),s=n.mul(r,o),a=n.mul(n.mul(s,Wp),o),l=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return rvt(e)}const ovt=(e,t)=>(Co(e,t)&oo)===oo,svt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function avt(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=svt.reduce((r,i)=>(r[i]="function",r),t);return A9(e,n)}function lvt(e,t,n){if(n<Ho)throw new Error("invalid exponent, negatives unsupported");if(n===Ho)return e.ONE;if(n===oo)return t;let r=e.ONE,i=t;for(;n>Ho;)n&oo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=oo;return r}function cvt(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function Hme(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Gme(e,t,n=!1,r={}){if(e<=Ho)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=Hme(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:Q0t(i),ZERO:Ho,ONE:oo,create:l=>Co(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ho<=l&&l<e},is0:l=>l===Ho,isOdd:l=>(l&oo)===oo,neg:l=>Co(-l,e),eql:(l,c)=>l===c,sqr:l=>Co(l*l,e),add:(l,c)=>Co(l+c,e),sub:(l,c)=>Co(l-c,e),mul:(l,c)=>Co(l*c,e),pow:(l,c)=>lvt(a,l,c),div:(l,c)=>Co(l*xQ(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>xQ(l,e),sqrt:r.sqrt||(l=>(s||(s=ivt(e)),s(a,l))),invertBatch:l=>cvt(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?T7(l,o):Kme(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?F2(l):Z0t(l)}});return Object.freeze(a)}const kQ=BigInt(0),Fk=BigInt(1);function x8(e,t){const n=t.negate();return e?n:t}function Jme(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function k8(e,t){Jme(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function dvt(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function uvt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const S8=new WeakMap,Zme=new WeakMap;function I8(e){return Zme.get(e)||1}function fvt(e,t){return{constTimeNegate:x8,hasPrecomputes(n){return I8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>kQ;)r&Fk&&(i=i.add(o)),o=o.double(),r>>=Fk;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=k8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){const{windows:o,windowSize:s}=k8(n,t);let a=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),d=2**n,u=BigInt(n);for(let h=0;h<o;h++){const m=h*s;let v=Number(i&c);i>>=u,v>s&&(v-=d,i+=Fk);const y=m,g=m+Math.abs(v)-1,b=h%2!==0,k=v<0;v===0?l=l.add(x8(b,r[y])):a=a.add(x8(k,r[g]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,o=e.ZERO){const{windows:s,windowSize:a}=k8(n,t),l=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let u=0;u<s;u++){const h=u*a;if(i===kQ)break;let m=Number(i&l);if(i>>=d,m>a&&(m-=c,i+=Fk),m===0)continue;let v=r[h+Math.abs(m)-1];m<0&&(v=v.negate()),o=o.add(v)}return o},getPrecomputes(n,r,i){let o=S8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&S8.set(r,i(o))),o},wNAFCached(n,r,i){const o=I8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=I8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){Jme(r,t),Zme.set(n,r),S8.delete(n)}}}function hvt(e,t,n,r){if(dvt(n,e),uvt(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=X0t(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=new Array(a+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let d=i;for(let u=c;u>=0;u-=s){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],y=Number(v>>BigInt(u)&BigInt(a));l[y]=l[y].add(n[m])}let h=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),h=h.add(v);if(d=d.add(h),u!==0)for(let m=0;m<s;m++)d=d.double()}return d}function pvt(e){return avt(e.Fp),A9(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Hme(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const kc=BigInt(0),_a=BigInt(1),Wk=BigInt(2),mvt=BigInt(8),gvt={zip215:!0};function yvt(e){const t=pvt(e);return A9(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function vvt(e){const t=yvt(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=Wk<<BigInt(a*8)-_a,d=n.create,u=Gme(t.n,t.nBitLength),h=t.uvRatio||((A,O)=>{try{return{isValid:!0,value:n.sqrt(A*n.inv(O))}}catch{return{isValid:!1,value:kc}}}),m=t.adjustScalarBytes||(A=>A),v=t.domain||((A,O,N)=>{if(b8("phflag",N),O.length||N)throw new Error("Contexts/pre-hash are not supported");return A});function y(A,O){Ow("coordinate "+A,O,kc,c)}function g(A){if(!(A instanceof _))throw new Error("ExtendedPoint expected")}const b=wQ((A,O)=>{const{ex:N,ey:j,ez:V}=A,K=A.is0();O==null&&(O=K?mvt:n.inv(V));const W=d(N*O),P=d(j*O),F=d(V*O);if(K)return{x:kc,y:_a};if(F!==_a)throw new Error("invZ was invalid");return{x:W,y:P}}),k=wQ(A=>{const{a:O,d:N}=t;if(A.is0())throw new Error("bad point: ZERO");const{ex:j,ey:V,ez:K,et:W}=A,P=d(j*j),F=d(V*V),G=d(K*K),Y=d(G*G),ie=d(P*O),ye=d(G*d(ie+F)),ge=d(Y+d(N*d(P*F)));if(ye!==ge)throw new Error("bad point: equation left != right (1)");const be=d(j*V),Le=d(K*W);if(be!==Le)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(O,N,j,V){this.ex=O,this.ey=N,this.ez=j,this.et=V,y("x",O),y("y",N),y("z",j),y("t",V),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(O){if(O instanceof _)throw new Error("extended point not allowed");const{x:N,y:j}=O||{};return y("x",N),y("y",j),new _(N,j,_a,d(N*j))}static normalizeZ(O){const N=n.invertBatch(O.map(j=>j.ez));return O.map((j,V)=>j.toAffine(N[V])).map(_.fromAffine)}static msm(O,N){return hvt(_,u,O,N)}_setWindowSize(O){T.setWindowSize(this,O)}assertValidity(){k(this)}equals(O){g(O);const{ex:N,ey:j,ez:V}=this,{ex:K,ey:W,ez:P}=O,F=d(N*P),G=d(K*V),Y=d(j*P),ie=d(W*V);return F===G&&Y===ie}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:O}=t,{ex:N,ey:j,ez:V}=this,K=d(N*N),W=d(j*j),P=d(Wk*d(V*V)),F=d(O*K),G=N+j,Y=d(d(G*G)-K-W),ie=F+W,ye=ie-P,ge=F-W,be=d(Y*ye),Le=d(ie*ge),qe=d(Y*ge),Me=d(ye*ie);return new _(be,Le,Me,qe)}add(O){g(O);const{a:N,d:j}=t,{ex:V,ey:K,ez:W,et:P}=this,{ex:F,ey:G,ez:Y,et:ie}=O;if(N===BigInt(-1)){const rn=d((K-V)*(G+F)),Re=d((K+V)*(G-F)),Ze=d(Re-rn);if(Ze===kc)return this.double();const ct=d(W*Wk*ie),st=d(P*Wk*Y),vt=st+ct,$t=Re+rn,zt=st-ct,ce=d(vt*Ze),X=d($t*zt),ee=d(vt*zt),we=d(Ze*$t);return new _(ce,X,we,ee)}const ye=d(V*F),ge=d(K*G),be=d(P*j*ie),Le=d(W*Y),qe=d((V+K)*(F+G)-ye-ge),Me=Le-be,gt=Le+be,tt=d(ge-N*ye),dt=d(qe*Me),Xt=d(gt*tt),lt=d(qe*tt),jt=d(Me*gt);return new _(dt,Xt,jt,lt)}subtract(O){return this.add(O.negate())}wNAF(O){return T.wNAFCached(this,O,_.normalizeZ)}multiply(O){const N=O;Ow("scalar",N,_a,r);const{p:j,f:V}=this.wNAF(N);return _.normalizeZ([j,V])[0]}multiplyUnsafe(O,N=_.ZERO){const j=O;return Ow("scalar",j,kc,r),j===kc?I:this.is0()||j===_a?this:T.wNAFCachedUnsafe(this,j,_.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(O){return b(this,O)}clearCofactor(){const{h:O}=t;return O===_a?this:this.multiplyUnsafe(O)}static fromHex(O,N=!1){const{d:j,a:V}=t,K=n.BYTES;O=uu("pointHex",O,K),b8("zip215",N);const W=O.slice(),P=O[K-1];W[K-1]=P&-129;const F=F2(W),G=N?c:n.ORDER;Ow("pointHex.y",F,kc,G);const Y=d(F*F),ie=d(Y-_a),ye=d(j*Y-V);let{isValid:ge,value:be}=h(ie,ye);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const Le=(be&_a)===_a,qe=(P&128)!==0;if(!N&&be===kc&&qe)throw new Error("Point.fromHex: x=0 and x_0=1");return qe!==Le&&(be=d(-be)),_.fromAffine({x:be,y:F})}static fromPrivateKey(O){return C(O).point}toRawBytes(){const{x:O,y:N}=this.toAffine(),j=T7(N,n.BYTES);return j[j.length-1]|=O&_a?128:0,j}toHex(){return C9(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,_a,d(t.Gx*t.Gy)),_.ZERO=new _(kc,_a,_a,kc);const{BASE:R,ZERO:I}=_,T=fvt(_,a*8);function D(A){return Co(A,r)}function M(A){return D(F2(A))}function C(A){const O=n.BYTES;A=uu("private key",A,O);const N=uu("hashed private key",o(A),2*O),j=m(N.slice(0,O)),V=N.slice(O,2*O),K=M(j),W=R.multiply(K),P=W.toRawBytes();return{head:j,prefix:V,scalar:K,point:W,pointBytes:P}}function U(A){return C(A).pointBytes}function $(A=new Uint8Array,...O){const N=vQ(...O);return M(o(v(N,uu("context",A),!!i)))}function z(A,O,N={}){A=uu("message",A),i&&(A=i(A));const{prefix:j,scalar:V,pointBytes:K}=C(O),W=$(N.context,j,A),P=R.multiply(W).toRawBytes(),F=$(N.context,P,K,A),G=D(W+F*V);Ow("signature.s",G,kc,r);const Y=vQ(P,T7(G,n.BYTES));return uu("result",Y,n.BYTES*2)}const q=gvt;function S(A,O,N,j=q){const{context:V,zip215:K}=j,W=n.BYTES;A=uu("signature",A,2*W),O=uu("message",O),N=uu("publicKey",N,W),K!==void 0&&b8("zip215",K),i&&(O=i(O));const P=F2(A.slice(W,2*W));let F,G,Y;try{F=_.fromHex(N,K),G=_.fromHex(A.slice(0,W),K),Y=R.multiplyUnsafe(P)}catch{return!1}if(!K&&F.isSmallOrder())return!1;const ie=$(V,G.toRawBytes(),F.toRawBytes(),O);return G.add(F.multiplyUnsafe(ie)).subtract(Y).clearCofactor().equals(_.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:U,sign:z,verify:S,ExtendedPoint:_,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>s(n.BYTES),precompute(A=8,O=_.BASE){return O._setWindowSize(A),O.multiply(BigInt(3)),O}}}}BigInt(0),BigInt(1);const R9=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),SQ=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const wvt=BigInt(1),IQ=BigInt(2);BigInt(3);const bvt=BigInt(5),_vt=BigInt(8);function xvt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=R9,s=e*e%o*e%o,a=dd(s,IQ,o)*s%o,l=dd(a,wvt,o)*e%o,c=dd(l,bvt,o)*l%o,d=dd(c,t,o)*c%o,u=dd(d,n,o)*d%o,h=dd(u,r,o)*u%o,m=dd(h,i,o)*h%o,v=dd(m,i,o)*h%o,y=dd(v,t,o)*c%o;return{pow_p_5_8:dd(y,IQ,o)*e%o,b2:s}}function kvt(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Svt(e,t){const n=R9,r=Co(t*t*t,n),i=Co(r*r*t,n),o=xvt(e*i).pow_p_5_8;let s=Co(e*r*o,n);const a=Co(t*s*s,n),l=s,c=Co(s*SQ,n),d=a===e,u=a===Co(-e,n),h=a===Co(-e*SQ,n);return d&&(s=l),(u||h)&&(s=c),ovt(s,n)&&(s=Co(-s,n)),{isValid:d||u,value:s}}const Ivt=Gme(R9,void 0,!0),Evt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ivt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_vt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:H0t,randomBytes:Fme,adjustScalarBytes:kvt,uvRatio:Svt},Yme=vvt(Evt),Cvt="EdDSA",Avt="JWT",dI=".",wE="base64url",Xme="utf8",Qme="utf8",Rvt=":",Tvt="did",Ovt="key",EQ="base58btc",Nvt="z",Pvt="K36",Bvt=32;function T9(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ege(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?T9(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function tge(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const n=ege(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return T9(n)}function Mvt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var y=0,g=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,y++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,D=_-1;(I!==0||T<g)&&D!==-1;D--,T++)I+=256*R[D]>>>0,R[D]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");g=T,b++}for(var M=_-g;M!==_&&R[M]===0;)M++;for(var C=l.repeat(y);M<_;++M)C+=e.charAt(R[M]);return C}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var y=0;if(v[y]!==" "){for(var g=0,b=0;v[y]===l;)g++,y++;for(var k=(v.length-y)*c+1>>>0,_=new Uint8Array(k);v[y];){var R=n[v.charCodeAt(y)];if(R===255)return;for(var I=0,T=k-1;(R!==0||I<b)&&T!==-1;T--,I++)R+=a*_[T]>>>0,_[T]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");b=I,y++}if(v[y]!==" "){for(var D=k-b;D!==k&&_[D]===0;)D++;for(var M=new Uint8Array(g+(k-D)),C=g;D!==k;)M[C++]=_[D++];return M}}}function m(v){var y=h(v);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:h,decode:m}}var Dvt=Mvt,jvt=Dvt;const nge=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},$vt=e=>new TextEncoder().encode(e),Lvt=e=>new TextDecoder().decode(e);let Uvt=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Fvt=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return rge(this,t)}},Wvt=class{constructor(t){this.decoders=t}or(t){return rge(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const rge=(e,t)=>new Wvt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let qvt=class{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Uvt(t,n,r),this.decoder=new Fvt(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const bE=({name:e,prefix:t,encode:n,decode:r})=>new qvt(e,t,n,r),D_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=jvt(n,t);return bE({prefix:e,name:t,encode:r,decode:o=>nge(i(o))})},zvt=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let d=0;d<o;++d){const u=i[e[d]];if(u===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|u,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},Vvt=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},ks=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>bE({prefix:t,name:e,encode(i){return Vvt(i,r,n)},decode(i){return zvt(i,r,n,e)}}),Kvt=bE({prefix:"\0",name:"identity",encode:e=>Lvt(e),decode:e=>$vt(e)});var Hvt=Object.freeze({__proto__:null,identity:Kvt});const Gvt=ks({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Jvt=Object.freeze({__proto__:null,base2:Gvt});const Zvt=ks({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Yvt=Object.freeze({__proto__:null,base8:Zvt});const Xvt=D_({prefix:"9",name:"base10",alphabet:"0123456789"});var Qvt=Object.freeze({__proto__:null,base10:Xvt});const ewt=ks({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),twt=ks({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nwt=Object.freeze({__proto__:null,base16:ewt,base16upper:twt});const rwt=ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),iwt=ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),owt=ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),swt=ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),awt=ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lwt=ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cwt=ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dwt=ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uwt=ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var fwt=Object.freeze({__proto__:null,base32:rwt,base32upper:iwt,base32pad:owt,base32padupper:swt,base32hex:awt,base32hexupper:lwt,base32hexpad:cwt,base32hexpadupper:dwt,base32z:uwt});const hwt=D_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pwt=D_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mwt=Object.freeze({__proto__:null,base36:hwt,base36upper:pwt});const gwt=D_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ywt=D_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var vwt=Object.freeze({__proto__:null,base58btc:gwt,base58flickr:ywt});const wwt=ks({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bwt=ks({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_wt=ks({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xwt=ks({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var kwt=Object.freeze({__proto__:null,base64:wwt,base64pad:bwt,base64url:_wt,base64urlpad:xwt});const ige=Array.from(""),Swt=ige.reduce((e,t,n)=>(e[n]=t,e),[]),Iwt=ige.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Ewt(e){return e.reduce((t,n)=>(t+=Swt[n],t),"")}function Cwt(e){const t=[];for(const n of e){const r=Iwt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Awt=bE({prefix:"",name:"base256emoji",encode:Ewt,decode:Cwt});var Rwt=Object.freeze({__proto__:null,base256emoji:Awt}),Twt=oge,CQ=128,Owt=-128,Nwt=Math.pow(2,31);function oge(e,t,n){t=t||[],n=n||0;for(var r=n;e>=Nwt;)t[n++]=e&255|CQ,e/=128;for(;e&Owt;)t[n++]=e&255|CQ,e>>>=7;return t[n]=e|0,oge.bytes=n-r+1,t}var Pwt=N7,Bwt=128,AQ=127;function N7(e,r){var n=0,r=r||0,i=0,o=r,s,a=e.length;do{if(o>=a)throw N7.bytes=0,new RangeError("Could not decode varint");s=e[o++],n+=i<28?(s&AQ)<<i:(s&AQ)*Math.pow(2,i),i+=7}while(s>=Bwt);return N7.bytes=o-r,n}var Mwt=Math.pow(2,7),Dwt=Math.pow(2,14),jwt=Math.pow(2,21),$wt=Math.pow(2,28),Lwt=Math.pow(2,35),Uwt=Math.pow(2,42),Fwt=Math.pow(2,49),Wwt=Math.pow(2,56),qwt=Math.pow(2,63),zwt=function(e){return e<Mwt?1:e<Dwt?2:e<jwt?3:e<$wt?4:e<Lwt?5:e<Uwt?6:e<Fwt?7:e<Wwt?8:e<qwt?9:10},Vwt={encode:Twt,decode:Pwt,encodingLength:zwt},sge=Vwt;const RQ=(e,t,n=0)=>(sge.encode(e,t,n),t),TQ=e=>sge.encodingLength(e),P7=(e,t)=>{const n=t.byteLength,r=TQ(e),i=r+TQ(n),o=new Uint8Array(i+n);return RQ(e,o,0),RQ(n,o,r),o.set(t,i),new Kwt(e,n,t,o)};let Kwt=class{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}};const age=({name:e,code:t,encode:n})=>new Hwt(e,t,n);let Hwt=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?P7(this.code,n):n.then(r=>P7(this.code,r))}else throw Error("Unknown type, must be binary type")}};const lge=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Gwt=age({name:"sha2-256",code:18,encode:lge("SHA-256")}),Jwt=age({name:"sha2-512",code:19,encode:lge("SHA-512")});var Zwt=Object.freeze({__proto__:null,sha256:Gwt,sha512:Jwt});const cge=0,Ywt="identity",dge=nge,Xwt=e=>P7(cge,dge(e)),Qwt={code:cge,name:Ywt,encode:dge,digest:Xwt};var ebt=Object.freeze({__proto__:null,identity:Qwt});new TextEncoder,new TextDecoder;const OQ={...Hvt,...Jvt,...Yvt,...Qvt,...nwt,...fwt,...mwt,...vwt,...kwt,...Rwt};({...Zwt,...ebt});function uge(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const NQ=uge("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),E8=uge("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=ege(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),fge={utf8:NQ,"utf-8":NQ,hex:OQ.base16,latin1:E8,ascii:E8,binary:E8,...OQ};function _E(e,t="utf8"){const n=fge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function _v(e,t="utf8"){const n=fge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?T9(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function PQ(e){return M0(_E(_v(e,wE),Xme))}function uI(e){return _E(_v(Nm(e),Xme),wE)}function hge(e){const t=_v(Pvt,EQ),n=Nvt+_E(tge([t,e]),EQ);return[Tvt,Ovt,n].join(Rvt)}function tbt(e){return _E(e,wE)}function nbt(e){return _v(e,wE)}function rbt(e){return _v([uI(e.header),uI(e.payload)].join(dI),Qme)}function ibt(e){return[uI(e.header),uI(e.payload),tbt(e.signature)].join(dI)}function B7(e){const t=e.split(dI),n=PQ(t[0]),r=PQ(t[1]),i=nbt(t[2]),o=_v(t.slice(0,2).join(dI),Qme);return{header:n,payload:r,signature:i,data:o}}function BQ(e=Fme(Bvt)){const t=Yme.getPublicKey(e);return{secretKey:tge([e,t]),publicKey:t}}async function obt(e,t,n,r,i=It.fromMiliseconds(Date.now())){const o={alg:Cvt,typ:Avt},s=hge(r.publicKey),a=i+n,l={iss:s,sub:e,aud:t,iat:i,exp:a},c=rbt({header:o,payload:l}),d=Yme.sign(c,r.secretKey.slice(0,32));return ibt({header:o,payload:l,signature:d})}function O9(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function pge(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?O9(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function xb(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const n=pge(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return O9(n)}function sbt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var y=0,g=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,y++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,D=_-1;(I!==0||T<g)&&D!==-1;D--,T++)I+=256*R[D]>>>0,R[D]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");g=T,b++}for(var M=_-g;M!==_&&R[M]===0;)M++;for(var C=l.repeat(y);M<_;++M)C+=e.charAt(R[M]);return C}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var y=0;if(v[y]!==" "){for(var g=0,b=0;v[y]===l;)g++,y++;for(var k=(v.length-y)*c+1>>>0,_=new Uint8Array(k);v[y];){var R=n[v.charCodeAt(y)];if(R===255)return;for(var I=0,T=k-1;(R!==0||I<b)&&T!==-1;T--,I++)R+=a*_[T]>>>0,_[T]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");b=I,y++}if(v[y]!==" "){for(var D=k-b;D!==k&&_[D]===0;)D++;for(var M=new Uint8Array(g+(k-D)),C=g;D!==k;)M[C++]=_[D++];return M}}}function m(v){var y=h(v);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:h,decode:m}}var abt=sbt,lbt=abt;const cbt=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},dbt=e=>new TextEncoder().encode(e),ubt=e=>new TextDecoder().decode(e);class fbt{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class hbt{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return mge(this,t)}}class pbt{constructor(t){this.decoders=t}or(t){return mge(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const mge=(e,t)=>new pbt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class mbt{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new fbt(t,n,r),this.decoder=new hbt(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const xE=({name:e,prefix:t,encode:n,decode:r})=>new mbt(e,t,n,r),j_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=lbt(n,t);return xE({prefix:e,name:t,encode:r,decode:o=>cbt(i(o))})},gbt=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let d=0;d<o;++d){const u=i[e[d]];if(u===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|u,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},ybt=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Ss=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>xE({prefix:t,name:e,encode(i){return ybt(i,r,n)},decode(i){return gbt(i,r,n,e)}}),vbt=xE({prefix:"\0",name:"identity",encode:e=>ubt(e),decode:e=>dbt(e)}),wbt=Object.freeze(Object.defineProperty({__proto__:null,identity:vbt},Symbol.toStringTag,{value:"Module"})),bbt=Ss({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),_bt=Object.freeze(Object.defineProperty({__proto__:null,base2:bbt},Symbol.toStringTag,{value:"Module"})),xbt=Ss({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),kbt=Object.freeze(Object.defineProperty({__proto__:null,base8:xbt},Symbol.toStringTag,{value:"Module"})),Sbt=j_({prefix:"9",name:"base10",alphabet:"0123456789"}),Ibt=Object.freeze(Object.defineProperty({__proto__:null,base10:Sbt},Symbol.toStringTag,{value:"Module"})),Ebt=Ss({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Cbt=Ss({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Abt=Object.freeze(Object.defineProperty({__proto__:null,base16:Ebt,base16upper:Cbt},Symbol.toStringTag,{value:"Module"})),Rbt=Ss({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Tbt=Ss({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Obt=Ss({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nbt=Ss({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Pbt=Ss({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bbt=Ss({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Mbt=Ss({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dbt=Ss({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jbt=Ss({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$bt=Object.freeze(Object.defineProperty({__proto__:null,base32:Rbt,base32hex:Pbt,base32hexpad:Mbt,base32hexpadupper:Dbt,base32hexupper:Bbt,base32pad:Obt,base32padupper:Nbt,base32upper:Tbt,base32z:jbt},Symbol.toStringTag,{value:"Module"})),Lbt=j_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ubt=j_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Fbt=Object.freeze(Object.defineProperty({__proto__:null,base36:Lbt,base36upper:Ubt},Symbol.toStringTag,{value:"Module"})),Wbt=j_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qbt=j_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),zbt=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Wbt,base58flickr:qbt},Symbol.toStringTag,{value:"Module"})),Vbt=Ss({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kbt=Ss({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hbt=Ss({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Gbt=Ss({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Jbt=Object.freeze(Object.defineProperty({__proto__:null,base64:Vbt,base64pad:Kbt,base64url:Hbt,base64urlpad:Gbt},Symbol.toStringTag,{value:"Module"})),gge=Array.from(""),Zbt=gge.reduce((e,t,n)=>(e[n]=t,e),[]),Ybt=gge.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Xbt(e){return e.reduce((t,n)=>(t+=Zbt[n],t),"")}function Qbt(e){const t=[];for(const n of e){const r=Ybt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const e1t=xE({prefix:"",name:"base256emoji",encode:Xbt,decode:Qbt}),t1t=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:e1t},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const MQ={...wbt,..._bt,...kbt,...Ibt,...Abt,...$bt,...Fbt,...zbt,...Jbt,...t1t};function yge(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const DQ=yge("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),C8=yge("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=pge(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),vge={utf8:DQ,"utf-8":DQ,hex:MQ.base16,latin1:C8,ascii:C8,binary:C8,...MQ};function nc(e,t="utf8"){const n=vge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?O9(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function La(e,t="utf8"){const n=vge[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const n1t={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var A8,jQ;function wge(){if(jQ)return A8;jQ=1;const e="Input must be an string, Buffer or Uint8Array";function t(s){let a;if(s instanceof Uint8Array)a=s;else if(typeof s=="string")a=new TextEncoder().encode(s);else throw new Error(e);return a}function n(s){return Array.prototype.map.call(s,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(s){return(4294967296+s).toString(16).substring(1)}function i(s,a,l){let c=`
`+s+" = ";for(let d=0;d<a.length;d+=2){if(l===32)c+=r(a[d]).toUpperCase(),c+=" ",c+=r(a[d+1]).toUpperCase();else if(l===64)c+=r(a[d+1]).toUpperCase(),c+=r(a[d]).toUpperCase();else throw new Error("Invalid size "+l);d%6===4?c+=`
`+new Array(s.length+4).join(" "):d<a.length-2&&(c+=" ")}console.log(c)}function o(s,a,l){let c=new Date().getTime();const d=new Uint8Array(a);for(let h=0;h<a;h++)d[h]=h%256;const u=new Date().getTime();console.log("Generated random input in "+(u-c)+"ms"),c=u;for(let h=0;h<l;h++){const m=s(d),v=new Date().getTime(),y=v-c;c=v,console.log("Hashed in "+y+"ms: "+m.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(y/1e3)*100)/100+" MB PER SECOND")}}return A8={normalizeInput:t,toHex:n,debugPrint:i,testSpeed:o},A8}var R8,$Q;function r1t(){if($Q)return R8;$Q=1;const e=wge();function t(b,k,_){const R=b[k]+b[_];let I=b[k+1]+b[_+1];R>=4294967296&&I++,b[k]=R,b[k+1]=I}function n(b,k,_,R){let I=b[k]+_;_<0&&(I+=4294967296);let T=b[k+1]+R;I>=4294967296&&T++,b[k]=I,b[k+1]=T}function r(b,k){return b[k]^b[k+1]<<8^b[k+2]<<16^b[k+3]<<24}function i(b,k,_,R,I,T){const D=c[I],M=c[I+1],C=c[T],U=c[T+1];t(l,b,k),n(l,b,D,M);let $=l[R]^l[b],z=l[R+1]^l[b+1];l[R]=z,l[R+1]=$,t(l,_,R),$=l[k]^l[_],z=l[k+1]^l[_+1],l[k]=$>>>24^z<<8,l[k+1]=z>>>24^$<<8,t(l,b,k),n(l,b,C,U),$=l[R]^l[b],z=l[R+1]^l[b+1],l[R]=$>>>16^z<<16,l[R+1]=z>>>16^$<<16,t(l,_,R),$=l[k]^l[_],z=l[k+1]^l[_+1],l[k]=z>>>31^$<<1,l[k+1]=$>>>31^z<<1}const o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(s.map(function(b){return b*2})),l=new Uint32Array(32),c=new Uint32Array(32);function d(b,k){let _=0;for(_=0;_<16;_++)l[_]=b.h[_],l[_+16]=o[_];for(l[24]=l[24]^b.t,l[25]=l[25]^b.t/4294967296,k&&(l[28]=~l[28],l[29]=~l[29]),_=0;_<32;_++)c[_]=r(b.b,4*_);for(_=0;_<12;_++)i(0,8,16,24,a[_*16+0],a[_*16+1]),i(2,10,18,26,a[_*16+2],a[_*16+3]),i(4,12,20,28,a[_*16+4],a[_*16+5]),i(6,14,22,30,a[_*16+6],a[_*16+7]),i(0,10,20,30,a[_*16+8],a[_*16+9]),i(2,12,22,24,a[_*16+10],a[_*16+11]),i(4,14,16,26,a[_*16+12],a[_*16+13]),i(6,8,18,28,a[_*16+14],a[_*16+15]);for(_=0;_<16;_++)b.h[_]=b.h[_]^l[_]^l[_+16]}const u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(b,k,_,R){if(b===0||b>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(R&&R.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const I={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:b};u.fill(0),u[0]=b,k&&(u[1]=k.length),u[2]=1,u[3]=1,_&&u.set(_,32),R&&u.set(R,48);for(let T=0;T<16;T++)I.h[T]=o[T]^r(u,T*4);return k&&(m(I,k),I.c=128),I}function m(b,k){for(let _=0;_<k.length;_++)b.c===128&&(b.t+=b.c,d(b,!1),b.c=0),b.b[b.c++]=k[_]}function v(b){for(b.t+=b.c;b.c<128;)b.b[b.c++]=0;d(b,!0);const k=new Uint8Array(b.outlen);for(let _=0;_<b.outlen;_++)k[_]=b.h[_>>2]>>8*(_&3);return k}function y(b,k,_,R,I){_=_||64,b=e.normalizeInput(b),R&&(R=e.normalizeInput(R)),I&&(I=e.normalizeInput(I));const T=h(_,k,R,I);return m(T,b),v(T)}function g(b,k,_,R,I){const T=y(b,k,_,R,I);return e.toHex(T)}return R8={blake2b:y,blake2bHex:g,blake2bInit:h,blake2bUpdate:m,blake2bFinal:v},R8}var T8,LQ;function i1t(){if(LQ)return T8;LQ=1;const e=wge();function t(v,y){return v[y]^v[y+1]<<8^v[y+2]<<16^v[y+3]<<24}function n(v,y,g,b,k,_){s[v]=s[v]+s[y]+k,s[b]=r(s[b]^s[v],16),s[g]=s[g]+s[b],s[y]=r(s[y]^s[g],12),s[v]=s[v]+s[y]+_,s[b]=r(s[b]^s[v],8),s[g]=s[g]+s[b],s[y]=r(s[y]^s[g],7)}function r(v,y){return v>>>y^v<<32-y}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),s=new Uint32Array(16),a=new Uint32Array(16);function l(v,y){let g=0;for(g=0;g<8;g++)s[g]=v.h[g],s[g+8]=i[g];for(s[12]^=v.t,s[13]^=v.t/4294967296,y&&(s[14]=~s[14]),g=0;g<16;g++)a[g]=t(v.b,4*g);for(g=0;g<10;g++)n(0,4,8,12,a[o[g*16+0]],a[o[g*16+1]]),n(1,5,9,13,a[o[g*16+2]],a[o[g*16+3]]),n(2,6,10,14,a[o[g*16+4]],a[o[g*16+5]]),n(3,7,11,15,a[o[g*16+6]],a[o[g*16+7]]),n(0,5,10,15,a[o[g*16+8]],a[o[g*16+9]]),n(1,6,11,12,a[o[g*16+10]],a[o[g*16+11]]),n(2,7,8,13,a[o[g*16+12]],a[o[g*16+13]]),n(3,4,9,14,a[o[g*16+14]],a[o[g*16+15]]);for(g=0;g<8;g++)v.h[g]^=s[g]^s[g+8]}function c(v,y){if(!(v>0&&v<=32))throw new Error("Incorrect output length, should be in [1, 32]");const g=y?y.length:0;if(y&&!(g>0&&g<=32))throw new Error("Incorrect key length, should be in [1, 32]");const b={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:v};return b.h[0]^=16842752^g<<8^v,g>0&&(d(b,y),b.c=64),b}function d(v,y){for(let g=0;g<y.length;g++)v.c===64&&(v.t+=v.c,l(v,!1),v.c=0),v.b[v.c++]=y[g]}function u(v){for(v.t+=v.c;v.c<64;)v.b[v.c++]=0;l(v,!0);const y=new Uint8Array(v.outlen);for(let g=0;g<v.outlen;g++)y[g]=v.h[g>>2]>>8*(g&3)&255;return y}function h(v,y,g){g=g||32,v=e.normalizeInput(v);const b=c(g,y);return d(b,v),u(b)}function m(v,y,g){const b=h(v,y,g);return e.toHex(b)}return T8={blake2s:h,blake2sHex:m,blake2sInit:c,blake2sUpdate:d,blake2sFinal:u},T8}var O8,UQ;function o1t(){if(UQ)return O8;UQ=1;const e=r1t(),t=i1t();return O8={blake2b:e.blake2b,blake2bHex:e.blake2bHex,blake2bInit:e.blake2bInit,blake2bUpdate:e.blake2bUpdate,blake2bFinal:e.blake2bFinal,blake2s:t.blake2s,blake2sHex:t.blake2sHex,blake2sInit:t.blake2sInit,blake2sUpdate:t.blake2sUpdate,blake2sFinal:t.blake2sFinal},O8}var s1t=o1t();const qk=BigInt(2**32-1),FQ=BigInt(32);function bge(e,t=!1){return t?{h:Number(e&qk),l:Number(e>>FQ&qk)}:{h:Number(e>>FQ&qk)|0,l:Number(e&qk)|0}}function _ge(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=bge(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const WQ=(e,t,n)=>e>>>n,qQ=(e,t,n)=>e<<32-n|t>>>n,lh=(e,t,n)=>e>>>n|t<<32-n,ch=(e,t,n)=>e<<32-n|t>>>n,Xw=(e,t,n)=>e<<64-n|t>>>n-32,Qw=(e,t,n)=>e>>>n-32|t<<64-n,a1t=(e,t)=>t,l1t=(e,t)=>e,c1t=(e,t,n)=>e<<n|t>>>32-n,d1t=(e,t,n)=>t<<n|e>>>32-n,u1t=(e,t,n)=>t<<n-32|e>>>64-n,f1t=(e,t,n)=>e<<n-32|t>>>64-n;function Oc(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const N9=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),P9=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,h1t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),p1t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,m1t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),g1t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,iy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function B9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Wh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function oc(e,...t){if(!B9(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function y1t(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Wh(e.outputLen),Wh(e.blockLen)}function qh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function M9(e,t){oc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function I1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function qc(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function N8(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ud(e,t){return e<<32-t|e>>>t}const xge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function kge(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const vu=xge?e=>e:e=>kge(e);function v1t(e){for(let t=0;t<e.length;t++)e[t]=kge(e[t]);return e}const dh=xge?e=>e:v1t,Sge=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",w1t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function E1(e){if(oc(e),Sge)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=w1t[e[n]];return t}const fu={_0:48,_9:57,A:65,F:70,a:97,f:102};function zQ(e){if(e>=fu._0&&e<=fu._9)return e-fu._0;if(e>=fu.A&&e<=fu.F)return e-(fu.A-10);if(e>=fu.a&&e<=fu.f)return e-(fu.a-10)}function D9(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Sge)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=zQ(e.charCodeAt(o)),a=zQ(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function b1t(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Fu(e){return typeof e=="string"&&(e=b1t(e)),oc(e),e}function Zp(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];oc(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let kE=class{};function $_(e){const t=r=>e().update(Fu(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function _1t(e){const t=(r,i)=>e(i).update(Fu(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Ige(e=32){if(iy&&typeof iy.getRandomValues=="function")return iy.getRandomValues(new Uint8Array(e));if(iy&&typeof iy.randomBytes=="function")return Uint8Array.from(iy.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const x1t=BigInt(0),Nw=BigInt(1),k1t=BigInt(2),S1t=BigInt(7),I1t=BigInt(256),E1t=BigInt(113),Ege=[],Cge=[],Age=[];for(let e=0,t=Nw,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ege.push(2*(5*r+n)),Cge.push((e+1)*(e+2)/2%64);let i=x1t;for(let o=0;o<7;o++)t=(t<<Nw^(t>>S1t)*E1t)%I1t,t&k1t&&(i^=Nw<<(Nw<<BigInt(o))-Nw);Age.push(i)}const Rge=_ge(Age,!0),C1t=Rge[0],A1t=Rge[1],VQ=(e,t,n)=>n>32?u1t(e,t,n):c1t(e,t,n),KQ=(e,t,n)=>n>32?f1t(e,t,n):d1t(e,t,n);function R1t(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],u=VQ(c,d,1)^n[a],h=KQ(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=u,e[s+m+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=Cge[s],l=VQ(i,o,a),c=KQ(i,o,a),d=Ege[s];i=e[d],o=e[d+1],e[d]=l,e[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=C1t[r],e[1]^=A1t[r]}qc(n)}let T1t=class Tge extends kE{constructor(t,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Wh(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=I1(this.state)}clone(){return this._cloneInto()}keccak(){dh(this.state32),R1t(this.state32,this.rounds),dh(this.state32),this.posOut=0,this.pos=0}update(t){qh(this),t=Fu(t),oc(t);const{blockLen:n,state:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){qh(this,!1),oc(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Wh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(M9(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qc(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Tge(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const O1t=(e,t,n)=>$_(()=>new T1t(t,e,n));O1t(1,136,256/8);function N1t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function P1t(e,t,n){return e&t^~e&n}function B1t(e,t,n){return e&t^e&n^t&n}let Oge=class extends kE{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=N8(this.buffer)}update(t){qh(this),t=Fu(t),oc(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=N8(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qh(this),M9(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,qc(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;N1t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=N8(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Uf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ms=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ds=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),M1t=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ff=new Uint32Array(64);let D1t=class extends Oge{constructor(t=32){super(64,t,8,!1),this.A=Uf[0]|0,this.B=Uf[1]|0,this.C=Uf[2]|0,this.D=Uf[3]|0,this.E=Uf[4]|0,this.F=Uf[5]|0,this.G=Uf[6]|0,this.H=Uf[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Ff[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Ff[u-15],m=Ff[u-2],v=ud(h,7)^ud(h,18)^h>>>3,y=ud(m,17)^ud(m,19)^m>>>10;Ff[u]=y+Ff[u-7]+v+Ff[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=ud(a,6)^ud(a,11)^ud(a,25),m=d+h+P1t(a,l,c)+M1t[u]+Ff[u]|0,v=(ud(r,2)^ud(r,13)^ud(r,22))+B1t(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){qc(Ff)}destroy(){this.set(0,0,0,0,0,0,0,0),qc(this.buffer)}};const Nge=_ge(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),j1t=Nge[0],$1t=Nge[1],Wf=new Uint32Array(80),qf=new Uint32Array(80);let j9=class extends Oge{constructor(t=64){super(128,t,16,!1),this.Ah=Ds[0]|0,this.Al=Ds[1]|0,this.Bh=Ds[2]|0,this.Bl=Ds[3]|0,this.Ch=Ds[4]|0,this.Cl=Ds[5]|0,this.Dh=Ds[6]|0,this.Dl=Ds[7]|0,this.Eh=Ds[8]|0,this.El=Ds[9]|0,this.Fh=Ds[10]|0,this.Fl=Ds[11]|0,this.Gh=Ds[12]|0,this.Gl=Ds[13]|0,this.Hh=Ds[14]|0,this.Hl=Ds[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:y,Hl:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=y|0,this.Hl=g|0}process(t,n){for(let _=0;_<16;_++,n+=4)Wf[_]=t.getUint32(n),qf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Wf[_-15]|0,I=qf[_-15]|0,T=lh(R,I,1)^lh(R,I,8)^WQ(R,I,7),D=ch(R,I,1)^ch(R,I,8)^qQ(R,I,7),M=Wf[_-2]|0,C=qf[_-2]|0,U=lh(M,C,19)^Xw(M,C,61)^WQ(M,C,6),$=ch(M,C,19)^Qw(M,C,61)^qQ(M,C,6),z=h1t(D,$,qf[_-7],qf[_-16]),q=p1t(z,T,U,Wf[_-7],Wf[_-16]);Wf[_]=q|0,qf[_]=z|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:y,Gl:g,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=lh(u,h,14)^lh(u,h,18)^Xw(u,h,41),I=ch(u,h,14)^ch(u,h,18)^Qw(u,h,41),T=u&m^~u&y,D=h&v^~h&g,M=m1t(k,I,D,$1t[_],qf[_]),C=g1t(M,b,R,T,j1t[_],Wf[_]),U=M|0,$=lh(r,i,28)^Xw(r,i,34)^Xw(r,i,39),z=ch(r,i,28)^Qw(r,i,34)^Qw(r,i,39),q=r&o^r&a^o&a,S=i&s^i&l^s&l;b=y|0,k=g|0,y=m|0,g=v|0,m=u|0,v=h|0,{h:u,l:h}=Oc(c|0,d|0,C|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=N9(U,z,S);r=P9(A,C,$,q),i=A|0}({h:r,l:i}=Oc(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Oc(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Oc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Oc(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=Oc(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=Oc(this.Fh|0,this.Fl|0,m|0,v|0),{h:y,l:g}=Oc(this.Gh|0,this.Gl|0,y|0,g|0),{h:b,l:k}=Oc(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k)}roundClean(){qc(Wf,qf)}destroy(){qc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},L1t=class extends j9{constructor(){super(48),this.Ah=Ms[0]|0,this.Al=Ms[1]|0,this.Bh=Ms[2]|0,this.Bl=Ms[3]|0,this.Ch=Ms[4]|0,this.Cl=Ms[5]|0,this.Dh=Ms[6]|0,this.Dl=Ms[7]|0,this.Eh=Ms[8]|0,this.El=Ms[9]|0,this.Fh=Ms[10]|0,this.Fl=Ms[11]|0,this.Gh=Ms[12]|0,this.Gl=Ms[13]|0,this.Hh=Ms[14]|0,this.Hl=Ms[15]|0}};const js=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let U1t=class extends j9{constructor(){super(32),this.Ah=js[0]|0,this.Al=js[1]|0,this.Bh=js[2]|0,this.Bl=js[3]|0,this.Ch=js[4]|0,this.Cl=js[5]|0,this.Dh=js[6]|0,this.Dl=js[7]|0,this.Eh=js[8]|0,this.El=js[9]|0,this.Fh=js[10]|0,this.Fl=js[11]|0,this.Gh=js[12]|0,this.Gl=js[13]|0,this.Hh=js[14]|0,this.Hl=js[15]|0}};const F1t=$_(()=>new D1t),W1t=$_(()=>new j9),q1t=$_(()=>new L1t);$_(()=>new U1t);const z1t=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),_o=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Bt=new Uint32Array(32);function zf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Bt[2*e],c=Bt[2*e+1],d=Bt[2*t],u=Bt[2*t+1],h=Bt[2*n],m=Bt[2*n+1],v=Bt[2*r],y=Bt[2*r+1],g=N9(l,d,s);c=P9(g,c,u,a),l=g|0,{Dh:y,Dl:v}={Dh:y^c,Dl:v^l},{Dh:y,Dl:v}={Dh:a1t(y,v),Dl:l1t(y)},{h:m,l:h}=Oc(m,h,y,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:lh(u,d,24),Bl:ch(u,d,24)},Bt[2*e]=l,Bt[2*e+1]=c,Bt[2*t]=d,Bt[2*t+1]=u,Bt[2*n]=h,Bt[2*n+1]=m,Bt[2*r]=v,Bt[2*r+1]=y}function Vf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Bt[2*e],c=Bt[2*e+1],d=Bt[2*t],u=Bt[2*t+1],h=Bt[2*n],m=Bt[2*n+1],v=Bt[2*r],y=Bt[2*r+1],g=N9(l,d,s);c=P9(g,c,u,a),l=g|0,{Dh:y,Dl:v}={Dh:y^c,Dl:v^l},{Dh:y,Dl:v}={Dh:lh(y,v,16),Dl:ch(y,v,16)},{h:m,l:h}=Oc(m,h,y,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:Xw(u,d,63),Bl:Qw(u,d,63)},Bt[2*e]=l,Bt[2*e+1]=c,Bt[2*t]=d,Bt[2*t+1]=u,Bt[2*n]=h,Bt[2*n+1]=m,Bt[2*r]=v,Bt[2*r+1]=y}function V1t(e,t={},n,r,i){if(Wh(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:o,salt:s,personalization:a}=t;if(o!==void 0&&(o.length<1||o.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let K1t=class extends kE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Wh(t),Wh(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=I1(this.buffer)}update(t){qh(this),t=Fu(t),oc(t);const{blockLen:n,buffer:r,buffer32:i}=this,o=t.length,s=t.byteOffset,a=t.buffer;for(let l=0;l<o;){this.pos===n&&(dh(i),this.compress(i,0,!1),dh(i),this.pos=0);const c=Math.min(n-this.pos,o-l),d=s+l;if(c===n&&!(d%4)&&l+c<o){const u=new Uint32Array(a,d,Math.floor((o-l)/4));dh(u);for(let h=0;l+n<o;h+=i.length,l+=n)this.length+=n,this.compress(u,h,!1);dh(u);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(t){qh(this),M9(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,qc(this.buffer.subarray(n)),dh(r),this.compress(r,0,!0),dh(r);const i=I1(t);this.get().forEach((o,s)=>i[s]=vu(o))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.buffer.set(n),t.destroyed=o,t.finished=i,t.length=r,t.pos=a,t.outputLen=s,t}clone(){return this._cloneInto()}},H1t=class extends K1t{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=_o[0]|0,this.v0h=_o[1]|0,this.v1l=_o[2]|0,this.v1h=_o[3]|0,this.v2l=_o[4]|0,this.v2h=_o[5]|0,this.v3l=_o[6]|0,this.v3h=_o[7]|0,this.v4l=_o[8]|0,this.v4h=_o[9]|0,this.v5l=_o[10]|0,this.v5h=_o[11]|0,this.v6l=_o[12]|0,this.v6h=_o[13]|0,this.v7l=_o[14]|0,this.v7h=_o[15]|0,V1t(n,t,64,16,16);let{key:r,personalization:i,salt:o}=t,s=0;if(r!==void 0&&(r=Fu(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,o!==void 0){o=Fu(o);const a=I1(o);this.v4l^=vu(a[0]),this.v4h^=vu(a[1]),this.v5l^=vu(a[2]),this.v5h^=vu(a[3])}if(i!==void 0){i=Fu(i);const a=I1(i);this.v6l^=vu(a[0]),this.v6h^=vu(a[1]),this.v7l^=vu(a[2]),this.v7h^=vu(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:i,v2l:o,v2h:s,v3l:a,v3h:l,v4l:c,v4h:d,v5l:u,v5h:h,v6l:m,v6h:v,v7l:y,v7h:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=d|0,this.v5l=u|0,this.v5h=h|0,this.v6l=m|0,this.v6h=v|0,this.v7l=y|0,this.v7h=g|0}compress(t,n,r){this.get().forEach((l,c)=>Bt[c]=l),Bt.set(_o,16);let{h:i,l:o}=bge(BigInt(this.length));Bt[24]=_o[8]^o,Bt[25]=_o[9]^i,r&&(Bt[28]=~Bt[28],Bt[29]=~Bt[29]);let s=0;const a=z1t;for(let l=0;l<12;l++)zf(0,4,8,12,t,n+2*a[s++]),Vf(0,4,8,12,t,n+2*a[s++]),zf(1,5,9,13,t,n+2*a[s++]),Vf(1,5,9,13,t,n+2*a[s++]),zf(2,6,10,14,t,n+2*a[s++]),Vf(2,6,10,14,t,n+2*a[s++]),zf(3,7,11,15,t,n+2*a[s++]),Vf(3,7,11,15,t,n+2*a[s++]),zf(0,5,10,15,t,n+2*a[s++]),Vf(0,5,10,15,t,n+2*a[s++]),zf(1,6,11,12,t,n+2*a[s++]),Vf(1,6,11,12,t,n+2*a[s++]),zf(2,7,8,13,t,n+2*a[s++]),Vf(2,7,8,13,t,n+2*a[s++]),zf(3,4,9,14,t,n+2*a[s++]),Vf(3,4,9,14,t,n+2*a[s++]);this.v0l^=Bt[0]^Bt[16],this.v0h^=Bt[1]^Bt[17],this.v1l^=Bt[2]^Bt[18],this.v1h^=Bt[3]^Bt[19],this.v2l^=Bt[4]^Bt[20],this.v2h^=Bt[5]^Bt[21],this.v3l^=Bt[6]^Bt[22],this.v3h^=Bt[7]^Bt[23],this.v4l^=Bt[8]^Bt[24],this.v4h^=Bt[9]^Bt[25],this.v5l^=Bt[10]^Bt[26],this.v5h^=Bt[11]^Bt[27],this.v6l^=Bt[12]^Bt[28],this.v6h^=Bt[13]^Bt[29],this.v7l^=Bt[14]^Bt[30],this.v7h^=Bt[15]^Bt[31],qc(Bt)}destroy(){this.destroyed=!0,qc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};_1t(e=>new H1t(e));/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Pge(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function M7(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function P8(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ta(e,...t){if(!Pge(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function HQ(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function G1t(e,t){Ta(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Eh(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function D0(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function J1t(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const Z1t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Y1t(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function D7(e){if(typeof e=="string")e=Y1t(e);else if(Pge(e))e=j7(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function X1t(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Q1t(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const e_t=(e,t)=>{function n(r,...i){if(Ta(r),!Z1t)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");e.varSizeNonce?Ta(c):Ta(c,e.nonceLength)}const o=e.tagLength;o&&i[1]!==void 0&&Ta(i[1]);const s=t(r,...i),a=(c,d)=>{if(d!==void 0){if(c!==2)throw new Error("cipher output not supported");Ta(d)}};let l=!1;return{encrypt(c,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Ta(c),a(s.encrypt.length,d),s.encrypt(c,d)},decrypt(c,d){if(Ta(c),o&&c.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return a(s.decrypt.length,d),s.decrypt(c,d)}}}return Object.assign(n,e),n};function GQ(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!n_t(t))throw new Error("invalid output, must be aligned");return t}function JQ(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o);e.setUint32(t+4,s,r),e.setUint32(t+0,a,r)}function t_t(e,t,n){M7(n);const r=new Uint8Array(16),i=J1t(r);return JQ(i,0,BigInt(t),n),JQ(i,8,BigInt(e),n),r}function n_t(e){return e.byteOffset%4===0}function j7(e){return Uint8Array.from(e)}const Bge=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),r_t=Bge("expand 16-byte k"),i_t=Bge("expand 32-byte k"),o_t=Eh(r_t),s_t=Eh(i_t);function _r(e,t){return e<<t|e>>>32-t}function $7(e){return e.byteOffset%4===0}const zk=64,a_t=16,Mge=2**32-1,ZQ=new Uint32Array;function l_t(e,t,n,r,i,o,s,a){const l=i.length,c=new Uint8Array(zk),d=Eh(c),u=$7(i)&&$7(o),h=u?Eh(i):ZQ,m=u?Eh(o):ZQ;for(let v=0;v<l;s++){if(e(t,n,r,d,s,a),s>=Mge)throw new Error("arx: counter overflow");const y=Math.min(zk,l-v);if(u&&y===zk){const g=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let b=0,k;b<a_t;b++)k=g+b,m[k]=h[k]^d[b];v+=zk;continue}for(let g=0,b;g<y;g++)b=v+g,o[b]=i[b]^c[g];v+=y}}function c_t(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=X1t({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return P8(i),P8(s),M7(o),M7(n),(a,l,c,d,u=0)=>{Ta(a),Ta(l),Ta(c);const h=c.length;if(d===void 0&&(d=new Uint8Array(h)),Ta(d),P8(u),u<0||u>=Mge)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const m=[];let v=a.length,y,g;if(v===32)m.push(y=j7(a)),g=s_t;else if(v===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),g=o_t,m.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);$7(l)||m.push(l=j7(l));const b=Eh(y);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(g,b,Eh(l.subarray(0,16)),b),l=l.subarray(16)}const k=16-i;if(k!==l.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const R=new Uint8Array(12);R.set(l,o?0:12-l.length),l=R,m.push(l)}const _=Eh(l);return l_t(e,g,b,_,c,d,u,s),D0(...m),d}}const rs=(e,t)=>e[t++]&255|(e[t++]&255)<<8;let d_t=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=D7(t),Ta(t,32);const n=rs(t,0),r=rs(t,2),i=rs(t,4),o=rs(t,6),s=rs(t,8),a=rs(t,10),l=rs(t,12),c=rs(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let d=0;d<8;d++)this.pad[d]=rs(t,16+2*d)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],c=s[2],d=s[3],u=s[4],h=s[5],m=s[6],v=s[7],y=s[8],g=s[9],b=rs(t,n+0),k=rs(t,n+2),_=rs(t,n+4),R=rs(t,n+6),I=rs(t,n+8),T=rs(t,n+10),D=rs(t,n+12),M=rs(t,n+14);let C=o[0]+(b&8191),U=o[1]+((b>>>13|k<<3)&8191),$=o[2]+((k>>>10|_<<6)&8191),z=o[3]+((_>>>7|R<<9)&8191),q=o[4]+((R>>>4|I<<12)&8191),S=o[5]+(I>>>1&8191),A=o[6]+((I>>>14|T<<2)&8191),O=o[7]+((T>>>11|D<<5)&8191),N=o[8]+((D>>>8|M<<8)&8191),j=o[9]+(M>>>5|i),V=0,K=V+C*a+U*(5*g)+$*(5*y)+z*(5*v)+q*(5*m);V=K>>>13,K&=8191,K+=S*(5*h)+A*(5*u)+O*(5*d)+N*(5*c)+j*(5*l),V+=K>>>13,K&=8191;let W=V+C*l+U*a+$*(5*g)+z*(5*y)+q*(5*v);V=W>>>13,W&=8191,W+=S*(5*m)+A*(5*h)+O*(5*u)+N*(5*d)+j*(5*c),V+=W>>>13,W&=8191;let P=V+C*c+U*l+$*a+z*(5*g)+q*(5*y);V=P>>>13,P&=8191,P+=S*(5*v)+A*(5*m)+O*(5*h)+N*(5*u)+j*(5*d),V+=P>>>13,P&=8191;let F=V+C*d+U*c+$*l+z*a+q*(5*g);V=F>>>13,F&=8191,F+=S*(5*y)+A*(5*v)+O*(5*m)+N*(5*h)+j*(5*u),V+=F>>>13,F&=8191;let G=V+C*u+U*d+$*c+z*l+q*a;V=G>>>13,G&=8191,G+=S*(5*g)+A*(5*y)+O*(5*v)+N*(5*m)+j*(5*h),V+=G>>>13,G&=8191;let Y=V+C*h+U*u+$*d+z*c+q*l;V=Y>>>13,Y&=8191,Y+=S*a+A*(5*g)+O*(5*y)+N*(5*v)+j*(5*m),V+=Y>>>13,Y&=8191;let ie=V+C*m+U*h+$*u+z*d+q*c;V=ie>>>13,ie&=8191,ie+=S*l+A*a+O*(5*g)+N*(5*y)+j*(5*v),V+=ie>>>13,ie&=8191;let ye=V+C*v+U*m+$*h+z*u+q*d;V=ye>>>13,ye&=8191,ye+=S*c+A*l+O*a+N*(5*g)+j*(5*y),V+=ye>>>13,ye&=8191;let ge=V+C*y+U*v+$*m+z*h+q*u;V=ge>>>13,ge&=8191,ge+=S*d+A*c+O*l+N*a+j*(5*g),V+=ge>>>13,ge&=8191;let be=V+C*g+U*y+$*v+z*m+q*h;V=be>>>13,be&=8191,be+=S*u+A*d+O*c+N*l+j*a,V+=be>>>13,be&=8191,V=(V<<2)+V|0,V=V+K|0,K=V&8191,V=V>>>13,W+=V,o[0]=K,o[1]=W,o[2]=P,o[3]=F,o[4]=G,o[5]=Y,o[6]=ie,o[7]=ye,o[8]=ge,o[9]=be}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(i^1)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+n[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=s&65535;D0(r)}update(t){HQ(this),t=D7(t),Ta(t);const{buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){for(;r<=i-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){D0(this.h,this.r,this.buffer,this.pad)}digestInto(t){HQ(this),G1t(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}};function u_t(e){const t=(r,i)=>e(i).update(D7(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const f_t=u_t(e=>new d_t(e));function h_t(e,t,n,r,i,o=20){let s=e[0],a=e[1],l=e[2],c=e[3],d=t[0],u=t[1],h=t[2],m=t[3],v=t[4],y=t[5],g=t[6],b=t[7],k=i,_=n[0],R=n[1],I=n[2],T=s,D=a,M=l,C=c,U=d,$=u,z=h,q=m,S=v,A=y,O=g,N=b,j=k,V=_,K=R,W=I;for(let F=0;F<o;F+=2)T=T+U|0,j=_r(j^T,16),S=S+j|0,U=_r(U^S,12),T=T+U|0,j=_r(j^T,8),S=S+j|0,U=_r(U^S,7),D=D+$|0,V=_r(V^D,16),A=A+V|0,$=_r($^A,12),D=D+$|0,V=_r(V^D,8),A=A+V|0,$=_r($^A,7),M=M+z|0,K=_r(K^M,16),O=O+K|0,z=_r(z^O,12),M=M+z|0,K=_r(K^M,8),O=O+K|0,z=_r(z^O,7),C=C+q|0,W=_r(W^C,16),N=N+W|0,q=_r(q^N,12),C=C+q|0,W=_r(W^C,8),N=N+W|0,q=_r(q^N,7),T=T+$|0,W=_r(W^T,16),O=O+W|0,$=_r($^O,12),T=T+$|0,W=_r(W^T,8),O=O+W|0,$=_r($^O,7),D=D+z|0,j=_r(j^D,16),N=N+j|0,z=_r(z^N,12),D=D+z|0,j=_r(j^D,8),N=N+j|0,z=_r(z^N,7),M=M+q|0,V=_r(V^M,16),S=S+V|0,q=_r(q^S,12),M=M+q|0,V=_r(V^M,8),S=S+V|0,q=_r(q^S,7),C=C+U|0,K=_r(K^C,16),A=A+K|0,U=_r(U^A,12),C=C+U|0,K=_r(K^C,8),A=A+K|0,U=_r(U^A,7);let P=0;r[P++]=s+T|0,r[P++]=a+D|0,r[P++]=l+M|0,r[P++]=c+C|0,r[P++]=d+U|0,r[P++]=u+$|0,r[P++]=h+z|0,r[P++]=m+q|0,r[P++]=v+S|0,r[P++]=y+A|0,r[P++]=g+O|0,r[P++]=b+N|0,r[P++]=k+j|0,r[P++]=_+V|0,r[P++]=R+K|0,r[P++]=I+W|0}const p_t=c_t(h_t,{counterRight:!1,counterLength:4,allowShortKeys:!1}),m_t=new Uint8Array(16),YQ=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(m_t.subarray(n))},g_t=new Uint8Array(32);function XQ(e,t,n,r,i){const o=e(t,n,g_t),s=f_t.create(o);i&&YQ(s,i),YQ(s,r);const a=t_t(r.length,i?i.length:0,!0);s.update(a);const l=s.digest();return D0(o,a),l}const y_t=e=>(t,n,r)=>({encrypt(i,o){const s=i.length;o=GQ(s+16,o,!1),o.set(i);const a=o.subarray(0,-16);e(t,n,a,a,1);const l=XQ(e,t,n,a,r);return o.set(l,s),D0(l),o},decrypt(i,o){o=GQ(i.length-16,o,!1);const s=i.subarray(0,-16),a=i.subarray(-16),l=XQ(e,t,n,s,r);if(!Q1t(a,l))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,n,o,o,1),D0(l),o}});e_t({blockSize:64,nonceLength:12,tagLength:16},y_t(p_t));let Dge=class extends kE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,y1t(t);const r=Fu(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),qc(o)}update(t){return qh(this),this.iHash.update(t),this}digestInto(t){qh(this),oc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const jge=(e,t,n)=>new Dge(e,t).update(n).digest();jge.create=(e,t)=>new Dge(e,t);Uint8Array.from([0]);const $9=BigInt(0),L7=BigInt(1);function fI(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Vk(e){const t=e.toString(16);return t.length&1?"0"+t:t}function $ge(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?$9:BigInt("0x"+e)}function SE(e){return $ge(E1(e))}function hI(e){return oc(e),$ge(E1(Uint8Array.from(e).reverse()))}function L9(e,t){return D9(e.toString(16).padStart(t*2,"0"))}function U9(e,t){return L9(e,t).reverse()}function Aa(e,t,n){let r;if(typeof t=="string")try{r=D9(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(B9(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const B8=e=>typeof e=="bigint"&&$9<=e;function v_t(e,t,n){return B8(e)&&B8(t)&&B8(n)&&t<=e&&e<n}function U7(e,t,n,r){if(!v_t(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function w_t(e){let t;for(t=0;e>$9;e>>=L7,t+=1);return t}const IE=e=>(L7<<BigInt(e))-L7;function b_t(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(e),s=r(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),d=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<t;){o=c();const v=o.slice();m.push(v),h+=o.length}return Zp(...m)};return(h,m)=>{l(),d(h);let v;for(;!(v=m(u()));)d();return l(),v}}function EE(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function QQ(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const Da=BigInt(0),aa=BigInt(1),Yp=BigInt(2),__t=BigInt(3),Lge=BigInt(4),Uge=BigInt(5),Fge=BigInt(8);function Yl(e,t){const n=e%t;return n>=Da?n:t+n}function Rc(e,t,n){let r=e;for(;t-- >Da;)r*=r,r%=n;return r}function eee(e,t){if(e===Da)throw new Error("invert: expected non-zero number");if(t<=Da)throw new Error("invert: expected positive modulus, got "+t);let n=Yl(e,t),r=t,i=Da,o=aa;for(;n!==Da;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==aa)throw new Error("invert: does not exist");return Yl(i,t)}function Wge(e,t){const n=(e.ORDER+aa)/Lge,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function x_t(e,t){const n=(e.ORDER-Uge)/Fge,r=e.mul(t,Yp),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,Yp),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function k_t(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-aa,n=0;for(;t%Yp===Da;)t/=Yp,n++;let r=Yp;const i=xv(e);for(;tee(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Wge;let o=i.pow(r,t);const s=(t+aa)/Yp;return function(a,l){if(a.is0(l))return l;if(tee(a,l)!==1)throw new Error("Cannot find square root");let c=n,d=a.mul(a.ONE,o),u=a.pow(l,t),h=a.pow(l,s);for(;!a.eql(u,a.ONE);){if(a.is0(u))return a.ZERO;let m=1,v=a.sqr(u);for(;!a.eql(v,a.ONE);)if(m++,v=a.sqr(v),m===c)throw new Error("Cannot find square root");const y=aa<<BigInt(c-m-1),g=a.pow(d,y);c=m,d=a.sqr(g),u=a.mul(u,d),h=a.mul(h,g)}return h}}function S_t(e){return e%Lge===__t?Wge:e%Fge===Uge?x_t:k_t(e)}const I_t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E_t(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=I_t.reduce((r,i)=>(r[i]="function",r),t);return EE(e,n),e}function C_t(e,t,n){if(n<Da)throw new Error("invalid exponent, negatives unsupported");if(n===Da)return e.ONE;if(n===aa)return t;let r=e.ONE,i=t;for(;n>Da;)n&aa&&(r=e.mul(r,i)),i=e.sqr(i),n>>=aa;return r}function qge(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),o),r}function tee(e,t){const n=(e.ORDER-aa)/Yp,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function A_t(e,t){t!==void 0&&Wh(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function xv(e,t,n=!1,r={}){if(e<=Da)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=A_t(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:IE(s),ZERO:Da,ONE:aa,create:d=>Yl(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Da<=d&&d<e},is0:d=>d===Da,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&aa)===aa,neg:d=>Yl(-d,e),eql:(d,u)=>d===u,sqr:d=>Yl(d*d,e),add:(d,u)=>Yl(d+u,e),sub:(d,u)=>Yl(d-u,e),mul:(d,u)=>Yl(d*u,e),pow:(d,u)=>C_t(c,d,u),div:(d,u)=>Yl(d*eee(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>eee(d,e),sqrt:o||(d=>(l||(l=S_t(e)),l(c,d))),toBytes:d=>n?U9(d,a):L9(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?hI(d):SE(d)},invertBatch:d=>qge(c,d),cmov:(d,u,h)=>h?u:d});return Object.freeze(c)}function zge(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Vge(e){const t=zge(e);return t+Math.ceil(t/2)}function R_t(e,t,n=!1){const r=e.length,i=zge(t),o=Vge(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?hI(e):SE(e),a=Yl(s,t-aa)+aa;return n?U9(a,i):L9(a,i)}const j0=BigInt(0),Xp=BigInt(1);function kb(e,t){const n=t.negate();return e?n:t}function T_t(e,t,n){const r=o=>o.pz,i=qge(e.Fp,n.map(r));return n.map((o,s)=>o.toAffine(i[s])).map(e.fromAffine)}function Kge(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function M8(e,t){Kge(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=IE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function nee(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=Xp);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function O_t(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function N_t(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const D8=new WeakMap,Hge=new WeakMap;function j8(e){return Hge.get(e)||1}function ree(e){if(e!==j0)throw new Error("invalid wNAF")}function P_t(e,t){return{constTimeNegate:kb,hasPrecomputes(n){return j8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>j0;)r&Xp&&(i=i.add(o)),o=o.double(),r>>=Xp;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=M8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=M8(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=nee(i,l,a);i=c,u?s=s.add(kb(m,r[v])):o=o.add(kb(h,r[d]))}return ree(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=M8(n,t);for(let a=0;a<s.windows&&i!==j0;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=nee(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return ree(i),o},getPrecomputes(n,r,i){let o=D8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),D8.set(r,o))),o},wNAFCached(n,r,i){const o=j8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=j8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){Kge(r,t),Hge.set(n,r),D8.delete(n)}}}function B_t(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>j0||r>j0;)n&Xp&&(o=o.add(i)),r&Xp&&(s=s.add(i)),i=i.double(),n>>=Xp,r>>=Xp;return{p1:o,p2:s}}function M_t(e,t,n,r){O_t(n,e),N_t(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=w_t(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=IE(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((t.BITS-1)/l)*l;let h=s;for(let m=u;m>=0;m-=l){d.fill(s);for(let y=0;y<o;y++){const g=r[y],b=Number(g>>BigInt(m)&c);d[b]=d[b].add(n[y])}let v=s;for(let y=d.length-1,g=s;y>0;y--)g=g.add(d[y]),v=v.add(g);if(h=h.add(v),m!==0)for(let y=0;y<l;y++)h=h.double()}return h}function iee(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return E_t(t),t}else return xv(e)}function D_t(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const a=t[s];if(!(typeof a=="bigint"&&a>j0))throw new Error(`CURVE.${s} must be positive bigint`)}const r=iee(t.p,n.Fp),i=iee(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const s of o)if(!r.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Pw=BigInt(0),oy=BigInt(1),Kk=BigInt(2);function j_t(e){return EE(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function $_t(e){const t=j_t(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:o,randomBytes:s}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=s||Ige,c=a?255:448,d=a?32:56,u=BigInt(a?9:5),h=BigInt(a?121665:39081),m=a?Kk**BigInt(254):Kk**BigInt(447),v=a?BigInt(8)*Kk**BigInt(251)-oy:BigInt(4)*Kk**BigInt(445)-oy,y=m+v+oy,g=C=>Yl(C,n),b=k(u);function k(C){return U9(g(C),d)}function _(C){const U=Aa("u coordinate",C,d);return a&&(U[31]&=127),g(hI(U))}function R(C){return hI(i(Aa("scalar",C,d)))}function I(C,U){const $=M(_(U),R(C));if($===Pw)throw new Error("invalid private or public key received");return k($)}function T(C){return I(C,b)}function D(C,U,$){const z=g(C*(U-$));return U=g(U-z),$=g($+z),{x_2:U,x_3:$}}function M(C,U){U7("u",C,Pw,n),U7("scalar",U,m,y);const $=U,z=C;let q=oy,S=Pw,A=C,O=oy,N=Pw;for(let V=BigInt(c-1);V>=Pw;V--){const K=$>>V&oy;N^=K,{x_2:q,x_3:A}=D(N,q,A),{x_2:S,x_3:O}=D(N,S,O),N=K;const W=q+S,P=g(W*W),F=q-S,G=g(F*F),Y=P-G,ie=A+O,ye=A-O,ge=g(ye*W),be=g(ie*F),Le=ge+be,qe=ge-be;A=g(Le*Le),O=g(z*g(qe*qe)),q=g(P*G),S=g(Y*(P+g(h*Y)))}({x_2:q,x_3:A}=D(N,q,A)),{x_2:S,x_3:O}=D(N,S,O);const j=o(S);return g(q*j)}return{scalarMult:I,scalarMultBase:T,getSharedSecret:(C,U)=>I(C,U),getPublicKey:C=>T(C),utils:{randomPrivateKey:()=>l(d)},GuBytes:b.slice()}}BigInt(0);const L_t=BigInt(1),oee=BigInt(2),U_t=BigInt(3),F_t=BigInt(5);BigInt(8);const Gge={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function W_t(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Gge.p,s=e*e%o*e%o,a=Rc(s,oee,o)*s%o,l=Rc(a,L_t,o)*e%o,c=Rc(l,F_t,o)*l%o,d=Rc(c,t,o)*c%o,u=Rc(d,n,o)*d%o,h=Rc(u,r,o)*u%o,m=Rc(h,i,o)*h%o,v=Rc(m,i,o)*h%o,y=Rc(v,t,o)*c%o;return{pow_p_5_8:Rc(y,oee,o)*e%o,b2:s}}function q_t(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}(()=>{const e=Gge.p;return $_t({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=W_t(t);return Yl(Rc(n,U_t,e)*r,e)},adjustScalarBytes:q_t})})();function see(e){e.lowS!==void 0&&fI("lowS",e.lowS),e.prehash!==void 0&&fI("prehash",e.prehash)}let z_t=class extends Error{constructor(t=""){super(t)}};const Iu={Err:z_t,_tlv:{encode:(e,t)=>{const{Err:n}=Iu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Vk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Vk(i.length/2|128):"";return Vk(e)+o+i+t},decode(e,t){const{Err:n}=Iu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Iu;if(e<Sb)throw new t("integer: negative integers are not allowed");let n=Vk(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Iu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return SE(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Iu,i=Aa("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Iu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Sb=BigInt(0),Ib=BigInt(1),V_t=BigInt(2),Hk=BigInt(3),K_t=BigInt(4);function H_t(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function Jge(e,t,n){const{BYTES:r}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=Aa("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function G_t(e,t={}){const{Fp:n,Fn:r}=D_t("weierstrass",e,t),{h:i,n:o}=e;EE(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(M,C,U){const{x:$,y:z}=C.toAffine(),q=n.toBytes($);if(fI("isCompressed",U),U){a();const S=!n.isOdd(z);return Zp(Zge(S),q)}else return Zp(Uint8Array.of(4),q,n.toBytes(z))}function c(M){oc(M);const C=n.BYTES,U=C+1,$=2*C+1,z=M.length,q=M[0],S=M.subarray(1);if(z===U&&(q===2||q===3)){const A=n.fromBytes(S);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const O=h(A);let N;try{N=n.sqrt(O)}catch(V){const K=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}a();const j=n.isOdd(N);return(q&1)===1!==j&&(N=n.neg(N)),{x:A,y:N}}else if(z===$&&q===4){const A=n.fromBytes(S.subarray(C*0,C*1)),O=n.fromBytes(S.subarray(C*1,C*2));if(!m(A,O))throw new Error("bad point: is not on curve");return{x:A,y:O}}else throw new Error(`bad point: got length ${z}, expected compressed=${U} or uncompressed=${$}`)}const d=t.toBytes||l,u=t.fromBytes||c,h=H_t(n,e.a,e.b);function m(M,C){const U=n.sqr(C),$=h(M);return n.eql(U,$)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,Hk),K_t),y=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,y)))throw new Error("bad curve params: a or b");function g(M,C,U=!1){if(!n.isValid(C)||U&&n.is0(C))throw new Error(`bad point coordinate ${M}`);return C}function b(M){if(!(M instanceof I))throw new Error("ProjectivePoint expected")}const k=QQ((M,C)=>{const{px:U,py:$,pz:z}=M;if(n.eql(z,n.ONE))return{x:U,y:$};const q=M.is0();C==null&&(C=q?n.ONE:n.inv(z));const S=n.mul(U,C),A=n.mul($,C),O=n.mul(z,C);if(q)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:S,y:A}}),_=QQ(M=>{if(M.is0()){if(t.allowInfinityPoint&&!n.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:C,y:U}=M.toAffine();if(!n.isValid(C)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!m(C,U))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(M,C,U,$,z){return U=new I(n.mul(U.px,M),U.py,U.pz),C=kb($,C),U=kb(z,U),C.add(U)}class I{constructor(C,U,$){this.px=g("x",C),this.py=g("y",U,!0),this.pz=g("z",$),Object.freeze(this)}static fromAffine(C){const{x:U,y:$}=C||{};if(!C||!n.isValid(U)||!n.isValid($))throw new Error("invalid affine point");if(C instanceof I)throw new Error("projective point not allowed");return n.is0(U)&&n.is0($)?I.ZERO:new I(U,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return T_t(I,"pz",C)}static fromBytes(C){return oc(C),I.fromHex(C)}static fromHex(C){const U=I.fromAffine(u(Aa("pointHex",C)));return U.assertValidity(),U}static fromPrivateKey(C){const U=Jge(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(U(C))}static msm(C,U){return M_t(I,r,C,U)}precompute(C=8,U=!0){return D.setWindowSize(this,C),U||this.multiply(Hk),this}_setWindowSize(C){this.precompute(C)}assertValidity(){_(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){b(C);const{px:U,py:$,pz:z}=this,{px:q,py:S,pz:A}=C,O=n.eql(n.mul(U,A),n.mul(q,z)),N=n.eql(n.mul($,A),n.mul(S,z));return O&&N}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:U}=e,$=n.mul(U,Hk),{px:z,py:q,pz:S}=this;let A=n.ZERO,O=n.ZERO,N=n.ZERO,j=n.mul(z,z),V=n.mul(q,q),K=n.mul(S,S),W=n.mul(z,q);return W=n.add(W,W),N=n.mul(z,S),N=n.add(N,N),A=n.mul(C,N),O=n.mul($,K),O=n.add(A,O),A=n.sub(V,O),O=n.add(V,O),O=n.mul(A,O),A=n.mul(W,A),N=n.mul($,N),K=n.mul(C,K),W=n.sub(j,K),W=n.mul(C,W),W=n.add(W,N),N=n.add(j,j),j=n.add(N,j),j=n.add(j,K),j=n.mul(j,W),O=n.add(O,j),K=n.mul(q,S),K=n.add(K,K),j=n.mul(K,W),A=n.sub(A,j),N=n.mul(K,V),N=n.add(N,N),N=n.add(N,N),new I(A,O,N)}add(C){b(C);const{px:U,py:$,pz:z}=this,{px:q,py:S,pz:A}=C;let O=n.ZERO,N=n.ZERO,j=n.ZERO;const V=e.a,K=n.mul(e.b,Hk);let W=n.mul(U,q),P=n.mul($,S),F=n.mul(z,A),G=n.add(U,$),Y=n.add(q,S);G=n.mul(G,Y),Y=n.add(W,P),G=n.sub(G,Y),Y=n.add(U,z);let ie=n.add(q,A);return Y=n.mul(Y,ie),ie=n.add(W,F),Y=n.sub(Y,ie),ie=n.add($,z),O=n.add(S,A),ie=n.mul(ie,O),O=n.add(P,F),ie=n.sub(ie,O),j=n.mul(V,Y),O=n.mul(K,F),j=n.add(O,j),O=n.sub(P,j),j=n.add(P,j),N=n.mul(O,j),P=n.add(W,W),P=n.add(P,W),F=n.mul(V,F),Y=n.mul(K,Y),P=n.add(P,F),F=n.sub(W,F),F=n.mul(V,F),Y=n.add(Y,F),W=n.mul(P,Y),N=n.add(N,W),W=n.mul(ie,Y),O=n.mul(G,O),O=n.sub(O,W),W=n.mul(G,P),j=n.mul(ie,j),j=n.add(j,W),new I(O,N,j)}subtract(C){return this.add(C.negate())}is0(){return this.equals(I.ZERO)}multiply(C){const{endo:U}=t;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let $,z;const q=S=>D.wNAFCached(this,S,I.normalizeZ);if(U){const{k1neg:S,k1:A,k2neg:O,k2:N}=U.splitScalar(C),{p:j,f:V}=q(A),{p:K,f:W}=q(N);z=V.add(W),$=R(U.beta,j,K,S,O)}else{const{p:S,f:A}=q(C);$=S,z=A}return I.normalizeZ([$,z])[0]}multiplyUnsafe(C){const{endo:U}=t,$=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===Sb||$.is0())return I.ZERO;if(C===Ib)return $;if(D.hasPrecomputes(this))return this.multiply(C);if(U){const{k1neg:z,k1:q,k2neg:S,k2:A}=U.splitScalar(C),{p1:O,p2:N}=B_t(I,$,q,A);return R(U.beta,O,N,z,S)}else return D.wNAFCachedUnsafe($,C)}multiplyAndAddUnsafe(C,U,$){const z=this.multiplyUnsafe(U).add(C.multiplyUnsafe($));return z.is0()?void 0:z}toAffine(C){return k(this,C)}isTorsionFree(){const{isTorsionFree:C}=t;return i===Ib?!0:C?C(I,this):D.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:C}=t;return i===Ib?this:C?C(I,this):this.multiplyUnsafe(i)}toBytes(C=!0){return fI("isCompressed",C),this.assertValidity(),d(I,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return E1(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const T=r.BITS,D=P_t(I,t.endo?Math.ceil(T/2):T);return I}function Zge(e){return Uint8Array.of(e?2:3)}function J_t(e,t,n={}){EE(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Ige,i=t.hmac||(($,...z)=>jge(t.hash,$,Zp(...z))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c($){const z=a>>Ib;return $>z}function d($){return c($)?s.neg($):$}function u($,z){if(!s.isValidNot0(z))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(z,q,S){u("r",z),u("s",q),this.r=z,this.s=q,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(z){const q=s.BYTES,S=Aa("compactSignature",z,q*2);return new h(s.fromBytes(S.subarray(0,q)),s.fromBytes(S.subarray(q,q*2)))}static fromDER(z){const{r:q,s:S}=Iu.toSig(Aa("DER",z));return new h(q,S)}assertValidity(){}addRecoveryBit(z){return new h(this.r,this.s,z)}recoverPublicKey(z){const q=o.ORDER,{r:S,s:A,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*V_t<q&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=O===2||O===3?S+a:S;if(!o.isValid(N))throw new Error("recovery id 2 or 3 invalid");const j=o.toBytes(N),V=e.fromHex(Zp(Zge((O&1)===0),j)),K=s.inv(N),W=_(Aa("msgHash",z)),P=s.create(-W*K),F=s.create(A*K),G=e.BASE.multiplyUnsafe(P).add(V.multiplyUnsafe(F));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(z){if(z==="compact")return Zp(s.toBytes(this.r),s.toBytes(this.s));if(z==="der")return D9(Iu.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return E1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return E1(this.toBytes("compact"))}}const m=Jge(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=a;return R_t(r(Vge($)),$)},precompute($=8,z=e.BASE){return z.precompute($,!1)}};function y($,z=!0){return e.fromPrivateKey($).toBytes(z)}function g($){if(typeof $=="bigint")return!1;if($ instanceof e)return!0;const z=Aa("key",$).length,q=o.BYTES,S=q+1,A=2*q+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===S))return z===S||z===A}function b($,z,q=!0){if(g($)===!0)throw new Error("first arg must be private key");if(g(z)===!1)throw new Error("second arg must be public key");return e.fromHex(z).multiply(m($)).toBytes(q)}const k=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const z=SE($),q=$.length*8-l;return q>0?z>>BigInt(q):z},_=t.bits2int_modN||function($){return s.create(k($))},R=IE(l);function I($){return U7("num < 2^"+l,$,Sb,R),s.toBytes($)}function T($,z,q=D){if(["recovered","canonical"].some(G=>G in q))throw new Error("sign() legacy options not supported");const{hash:S}=t;let{lowS:A,prehash:O,extraEntropy:N}=q;A==null&&(A=!0),$=Aa("msgHash",$),see(q),O&&($=Aa("prehashed msgHash",S($)));const j=_($),V=m(z),K=[I(V),I(j)];if(N!=null&&N!==!1){const G=N===!0?r(o.BYTES):N;K.push(Aa("extraEntropy",G))}const W=Zp(...K),P=j;function F(G){const Y=k(G);if(!s.isValidNot0(Y))return;const ie=s.inv(Y),ye=e.BASE.multiply(Y).toAffine(),ge=s.create(ye.x);if(ge===Sb)return;const be=s.create(ie*s.create(P+ge*V));if(be===Sb)return;let Le=(ye.x===ge?0:2)|Number(ye.y&Ib),qe=be;return A&&c(be)&&(qe=d(be),Le^=1),new h(ge,qe,Le)}return{seed:W,k2sig:F}}const D={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function C($,z,q=D){const{seed:S,k2sig:A}=T($,z,q);return b_t(t.hash.outputLen,s.BYTES,i)(S,A)}e.BASE.precompute(8);function U($,z,q,S=M){const A=$;z=Aa("msgHash",z),q=Aa("publicKey",q),see(S);const{lowS:O,prehash:N,format:j}=S;if("strict"in S)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const V=typeof A=="string"||B9(A),K=!V&&!j&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!V&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,P;try{if(K)if(j===void 0||j==="js")W=new h(A.r,A.s);else throw new Error("invalid format");if(V){try{j!=="compact"&&(W=h.fromDER(A))}catch(Le){if(!(Le instanceof Iu.Err))throw Le}!W&&j!=="der"&&(W=h.fromCompact(A))}P=e.fromHex(q)}catch{return!1}if(!W||O&&W.hasHighS())return!1;N&&(z=t.hash(z));const{r:F,s:G}=W,Y=_(z),ie=s.inv(G),ye=s.create(Y*ie),ge=s.create(F*ie),be=e.BASE.multiplyUnsafe(ye).add(P.multiplyUnsafe(ge));return be.is0()?!1:s.create(be.x)===F}return Object.freeze({getPublicKey:y,getSharedSecret:b,sign:C,verify:U,utils:v,Point:e,Signature:h})}function Z_t(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=xv(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function Y_t(e){const{CURVE:t,curveOpts:n}=Z_t(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function X_t(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Q_t(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Y_t(e),i=G_t(t,n),o=J_t(i,r,n);return X_t(e,o)}function F7(e,t){const n=r=>Q_t({...e,hash:r});return{...n(t),create:n}}const Yge={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Xge={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Qge={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},ext=xv(Yge.p),txt=xv(Xge.p),nxt=xv(Qge.p);F7({...Yge,Fp:ext,lowS:!1},F1t);F7({...Xge,Fp:txt,lowS:!1},q1t),F7({...Qge,Fp:nxt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},W1t);const rxt={USER_DISCONNECTED:{message:"User disconnected.",code:6e3}};var $8,aee;function ixt(){if(aee)return $8;aee=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var y=0,g=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,y++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,D=_-1;(I!==0||T<g)&&D!==-1;D--,T++)I+=256*R[D]>>>0,R[D]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");g=T,b++}for(var M=_-g;M!==_&&R[M]===0;)M++;for(var C=l.repeat(y);M<_;++M)C+=t.charAt(R[M]);return C}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var y=0,g=0,b=0;v[y]===l;)g++,y++;for(var k=(v.length-y)*c+1>>>0,_=new Uint8Array(k);v[y];){var R=v.charCodeAt(y);if(R>255)return;var I=n[R];if(I===255)return;for(var T=0,D=k-1;(I!==0||T<b)&&D!==-1;D--,T++)I+=a*_[D]>>>0,_[D]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=T,y++}for(var M=k-b;M!==k&&_[M]===0;)M++;for(var C=new Uint8Array(g+(k-M)),U=g;M!==k;)C[U++]=_[M++];return C}function m(v){var y=h(v);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:m}}return $8=e,$8}var L8,lee;function oxt(){return lee||(lee=1,L8=ixt()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),L8}var sxt=oxt();const Qi=Rr(sxt);var U8={exports:{}},cee;function axt(){return cee||(cee=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(U8)),U8.exports}var lxt=axt();const cxt=Rr(lxt);var dxt="4.57.1";function uxt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}var Gk={exports:{}},dee;function fxt(){if(dee)return Gk.exports;dee=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(I,T,D){return Function.prototype.apply.call(I,T,D)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:n=function(I){return Object.getOwnPropertyNames(I)};function r(R){console&&console.warn&&console.warn(R)}var i=Number.isNaN||function(I){return I!==I};function o(){o.init.call(this)}Gk.exports=o,Gk.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");s=R}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function l(R){return R._maxListeners===void 0?o.defaultMaxListeners:R._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(I){for(var T=[],D=1;D<arguments.length;D++)T.push(arguments[D]);var M=I==="error",C=this._events;if(C!==void 0)M=M&&C.error===void 0;else if(!M)return!1;if(M){var U;if(T.length>0&&(U=T[0]),U instanceof Error)throw U;var $=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw $.context=U,$}var z=C[I];if(z===void 0)return!1;if(typeof z=="function")t(z,this,T);else for(var q=z.length,S=v(z,q),D=0;D<q;++D)t(S[D],this,T);return!0};function c(R,I,T,D){var M,C,U;if(a(T),C=R._events,C===void 0?(C=R._events=Object.create(null),R._eventsCount=0):(C.newListener!==void 0&&(R.emit("newListener",I,T.listener?T.listener:T),C=R._events),U=C[I]),U===void 0)U=C[I]=T,++R._eventsCount;else if(typeof U=="function"?U=C[I]=D?[T,U]:[U,T]:D?U.unshift(T):U.push(T),M=l(R),M>0&&U.length>M&&!U.warned){U.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=R,$.type=I,$.count=U.length,r($)}return R}o.prototype.addListener=function(I,T){return c(this,I,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(I,T){return c(this,I,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(R,I,T){var D={fired:!1,wrapFn:void 0,target:R,type:I,listener:T},M=d.bind(D);return M.listener=T,D.wrapFn=M,M}o.prototype.once=function(I,T){return a(T),this.on(I,u(this,I,T)),this},o.prototype.prependOnceListener=function(I,T){return a(T),this.prependListener(I,u(this,I,T)),this},o.prototype.removeListener=function(I,T){var D,M,C,U,$;if(a(T),M=this._events,M===void 0)return this;if(D=M[I],D===void 0)return this;if(D===T||D.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete M[I],M.removeListener&&this.emit("removeListener",I,D.listener||T));else if(typeof D!="function"){for(C=-1,U=D.length-1;U>=0;U--)if(D[U]===T||D[U].listener===T){$=D[U].listener,C=U;break}if(C<0)return this;C===0?D.shift():y(D,C),D.length===1&&(M[I]=D[0]),M.removeListener!==void 0&&this.emit("removeListener",I,$||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(I){var T,D,M;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[I]),this;if(arguments.length===0){var C=Object.keys(D),U;for(M=0;M<C.length;++M)U=C[M],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=D[I],typeof T=="function")this.removeListener(I,T);else if(T!==void 0)for(M=T.length-1;M>=0;M--)this.removeListener(I,T[M]);return this};function h(R,I,T){var D=R._events;if(D===void 0)return[];var M=D[I];return M===void 0?[]:typeof M=="function"?T?[M.listener||M]:[M]:T?g(M):v(M,M.length)}o.prototype.listeners=function(I){return h(this,I,!0)},o.prototype.rawListeners=function(I){return h(this,I,!1)},o.listenerCount=function(R,I){return typeof R.listenerCount=="function"?R.listenerCount(I):m.call(R,I)},o.prototype.listenerCount=m;function m(R){var I=this._events;if(I!==void 0){var T=I[R];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(R,I){for(var T=new Array(I),D=0;D<I;++D)T[D]=R[D];return T}function y(R,I){for(;I+1<R.length;I++)R[I]=R[I+1];R.pop()}function g(R){for(var I=new Array(R.length),T=0;T<I.length;++T)I[T]=R[T].listener||R[T];return I}function b(R,I){return new Promise(function(T,D){function M(U){R.removeListener(I,C),D(U)}function C(){typeof R.removeListener=="function"&&R.removeListener("error",M),T([].slice.call(arguments))}_(R,I,C,{once:!0}),I!=="error"&&k(R,M,{once:!0})})}function k(R,I,T){typeof R.on=="function"&&_(R,"error",I,T)}function _(R,I,T,D){if(typeof R.on=="function")D.once?R.once(I,T):R.on(I,T);else if(typeof R.addEventListener=="function")R.addEventListener(I,function M(C){D.once&&R.removeEventListener(I,M),T(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return Gk.exports}var Xc=fxt();const eye=Rr(Xc);class fg{}let hxt=class extends fg{constructor(t){super()}};const uee=It.FIVE_SECONDS,hg={pulse:"heartbeat_pulse"};let pxt=class tye extends hxt{constructor(t){super(t),this.events=new Xc.EventEmitter,this.interval=uee,this.interval=(t==null?void 0:t.interval)||uee}static async init(t){const n=new tye(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),It.toMiliseconds(this.interval))}pulse(){this.events.emit(hg.pulse)}};const mxt=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,gxt=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,yxt=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function vxt(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){wxt(e);return}return t}function wxt(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Jk(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!yxt.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(mxt.test(e)||gxt.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,vxt)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function bxt(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function $o(e,...t){try{return bxt(e(...t))}catch(n){return Promise.reject(n)}}function _xt(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function xxt(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function W2(e){if(_xt(e))return String(e);if(xxt(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return W2(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const W7="base64:";function kxt(e){return typeof e=="string"?e:W7+Ext(e)}function Sxt(e){return typeof e!="string"||!e.startsWith(W7)?e:Ixt(e.slice(W7.length))}function Ixt(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Ext(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Ia(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Cxt(...e){return Ia(e.join(":"))}function Zk(e){return e=Ia(e),e?e+":":""}function Axt(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function Rxt(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const Txt="memory",Oxt=()=>{const e=new Map;return{name:Txt,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function Nxt(e={}){const t={mounts:{"":e.driver||Oxt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const d of t.mountpoints)if(c.startsWith(d))return{base:d,relativeKey:c.slice(d.length),driver:t.mounts[d]};return{base:"",relativeKey:c,driver:t.mounts[""]}},r=(c,d)=>t.mountpoints.filter(u=>u.startsWith(c)||d&&c.startsWith(u)).map(u=>({relativeBase:c.length>u.length?c.slice(u.length):void 0,mountpoint:u,driver:t.mounts[u]})),i=(c,d)=>{if(t.watching){d=Ia(d);for(const u of t.watchListeners)u(c,d)}},o=async()=>{if(!t.watching){t.watching=!0;for(const c in t.mounts)t.unwatch[c]=await fee(t.mounts[c],i,c)}},s=async()=>{if(t.watching){for(const c in t.unwatch)await t.unwatch[c]();t.unwatch={},t.watching=!1}},a=(c,d,u)=>{const h=new Map,m=v=>{let y=h.get(v.base);return y||(y={driver:v.driver,base:v.base,items:[]},h.set(v.base,y)),y};for(const v of c){const y=typeof v=="string",g=Ia(y?v:v.key),b=y?void 0:v.value,k=y||!v.options?d:{...d,...v.options},_=n(g);m(_).items.push({key:g,value:b,relativeKey:_.relativeKey,options:k})}return Promise.all([...h.values()].map(v=>u(v))).then(v=>v.flat())},l={hasItem(c,d={}){c=Ia(c);const{relativeKey:u,driver:h}=n(c);return $o(h.hasItem,u,d)},getItem(c,d={}){c=Ia(c);const{relativeKey:u,driver:h}=n(c);return $o(h.getItem,u,d).then(m=>Jk(m))},getItems(c,d={}){return a(c,d,u=>u.driver.getItems?$o(u.driver.getItems,u.items.map(h=>({key:h.relativeKey,options:h.options})),d).then(h=>h.map(m=>({key:Cxt(u.base,m.key),value:Jk(m.value)}))):Promise.all(u.items.map(h=>$o(u.driver.getItem,h.relativeKey,h.options).then(m=>({key:h.key,value:Jk(m)})))))},getItemRaw(c,d={}){c=Ia(c);const{relativeKey:u,driver:h}=n(c);return h.getItemRaw?$o(h.getItemRaw,u,d):$o(h.getItem,u,d).then(m=>Sxt(m))},async setItem(c,d,u={}){if(d===void 0)return l.removeItem(c);c=Ia(c);const{relativeKey:h,driver:m}=n(c);m.setItem&&(await $o(m.setItem,h,W2(d),u),m.watch||i("update",c))},async setItems(c,d){await a(c,d,async u=>{if(u.driver.setItems)return $o(u.driver.setItems,u.items.map(h=>({key:h.relativeKey,value:W2(h.value),options:h.options})),d);u.driver.setItem&&await Promise.all(u.items.map(h=>$o(u.driver.setItem,h.relativeKey,W2(h.value),h.options)))})},async setItemRaw(c,d,u={}){if(d===void 0)return l.removeItem(c,u);c=Ia(c);const{relativeKey:h,driver:m}=n(c);if(m.setItemRaw)await $o(m.setItemRaw,h,d,u);else if(m.setItem)await $o(m.setItem,h,kxt(d),u);else return;m.watch||i("update",c)},async removeItem(c,d={}){typeof d=="boolean"&&(d={removeMeta:d}),c=Ia(c);const{relativeKey:u,driver:h}=n(c);h.removeItem&&(await $o(h.removeItem,u,d),(d.removeMeta||d.removeMata)&&await $o(h.removeItem,u+"$",d),h.watch||i("remove",c))},async getMeta(c,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),c=Ia(c);const{relativeKey:u,driver:h}=n(c),m=Object.create(null);if(h.getMeta&&Object.assign(m,await $o(h.getMeta,u,d)),!d.nativeOnly){const v=await $o(h.getItem,u+"$",d).then(y=>Jk(y));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(m,v))}return m},setMeta(c,d,u={}){return this.setItem(c+"$",d,u)},removeMeta(c,d={}){return this.removeItem(c+"$",d)},async getKeys(c,d={}){var g;c=Zk(c);const u=r(c,!0);let h=[];const m=[];let v=!0;for(const b of u){(g=b.driver.flags)!=null&&g.maxDepth||(v=!1);const k=await $o(b.driver.getKeys,b.relativeBase,d);for(const _ of k){const R=b.mountpoint+Ia(_);h.some(I=>R.startsWith(I))||m.push(R)}h=[b.mountpoint,...h.filter(_=>!_.startsWith(b.mountpoint))]}const y=d.maxDepth!==void 0&&!v;return m.filter(b=>(!y||Axt(b,d.maxDepth))&&Rxt(b,c))},async clear(c,d={}){c=Zk(c),await Promise.all(r(c,!1).map(async u=>{if(u.driver.clear)return $o(u.driver.clear,u.relativeBase,d);if(u.driver.removeItem){const h=await u.driver.getKeys(u.relativeBase||"",d);return Promise.all(h.map(m=>u.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(c=>hee(c)))},async watch(c){return await o(),t.watchListeners.push(c),async()=>{t.watchListeners=t.watchListeners.filter(d=>d!==c),t.watchListeners.length===0&&await s()}},async unwatch(){t.watchListeners=[],await s()},mount(c,d){if(c=Zk(c),c&&t.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(t.mountpoints.push(c),t.mountpoints.sort((u,h)=>h.length-u.length)),t.mounts[c]=d,t.watching&&Promise.resolve(fee(d,i,c)).then(u=>{t.unwatch[c]=u}).catch(console.error),l},async unmount(c,d=!0){var u,h;c=Zk(c),!(!c||!t.mounts[c])&&(t.watching&&c in t.unwatch&&((h=(u=t.unwatch)[c])==null||h.call(u),delete t.unwatch[c]),d&&await hee(t.mounts[c]),t.mountpoints=t.mountpoints.filter(m=>m!==c),delete t.mounts[c])},getMount(c=""){c=Ia(c)+":";const d=n(c);return{driver:d.driver,base:d.base}},getMounts(c="",d={}){return c=Ia(c),r(c,d.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(c,d={})=>l.getKeys(c,d),get:(c,d={})=>l.getItem(c,d),set:(c,d,u={})=>l.setItem(c,d,u),has:(c,d={})=>l.hasItem(c,d),del:(c,d={})=>l.removeItem(c,d),remove:(c,d={})=>l.removeItem(c,d)};return l}function fee(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function hee(e){typeof e.dispose=="function"&&await $o(e.dispose)}function pg(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function nye(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=pg(n);return(i,o)=>r.then(s=>o(s.transaction(t,i).objectStore(t)))}let F8;function L_(){return F8||(F8=nye("keyval-store","keyval")),F8}function pee(e,t=L_()){return t("readonly",n=>pg(n.get(e)))}function Pxt(e,t,n=L_()){return n("readwrite",r=>(r.put(t,e),pg(r.transaction)))}function Bxt(e,t=L_()){return t("readwrite",n=>(n.delete(e),pg(n.transaction)))}function Mxt(e=L_()){return e("readwrite",t=>(t.clear(),pg(t.transaction)))}function Dxt(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},pg(e.transaction)}function jxt(e=L_()){return e("readonly",t=>{if(t.getAllKeys)return pg(t.getAllKeys());const n=[];return Dxt(t,r=>n.push(r.key)).then(()=>n)})}const $xt="idb-keyval";var Lxt=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=nye(e.dbName,e.storeName)),{name:$xt,options:e,async hasItem(i){return!(typeof await pee(n(i),r)>"u")},async getItem(i){return await pee(n(i),r)??null},setItem(i,o){return Pxt(n(i),o,r)},removeItem(i){return Bxt(n(i),r)},getKeys(){return jxt(r)},clear(){return Mxt(r)}}};const Uxt="WALLET_CONNECT_V2_INDEXED_DB",Fxt="keyvaluestorage";let Wxt=class{constructor(){this.indexedDb=Nxt({driver:Lxt({dbName:Uxt,storeName:Fxt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Nm(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var W8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q2={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof W8<"u"&&W8.localStorage?q2.exports=W8.localStorage:typeof window<"u"&&window.localStorage?q2.exports=window.localStorage:q2.exports=new t})();function qxt(e){var t;return[e[0],M0((t=e[1])!=null?t:"")]}let zxt=class{constructor(){this.localStorage=q2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(qxt)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return M0(n)}async setItem(t,n){this.localStorage.setItem(t,Nm(n))}async removeItem(t){this.localStorage.removeItem(t)}};const Vxt="wc_storage_version",mee=1,Kxt=async(e,t,n)=>{const r=Vxt,i=await t.getItem(r);if(i&&i>=mee){n(t);return}const o=await e.getKeys();if(!o.length){n(t);return}const s=[];for(;o.length;){const a=o.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await e.getItem(a);await t.setItem(a,c),s.push(a)}}await t.setItem(r,mee),n(t),Hxt(e,s)},Hxt=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let Gxt=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new zxt;this.storage=t;try{const n=new Wxt;Kxt(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var q8,gee;function Jxt(){if(gee)return q8;gee=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}q8=t;function t(n,r,i){var o=i&&i.stringify||e,s=1;if(typeof n=="object"&&n!==null){var a=r.length+s;if(a===1)return n;var l=new Array(a);l[0]=o(n);for(var c=1;c<a;c++)l[c]=o(r[c]);return l.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var u="",h=1-s,m=-1,v=n&&n.length||0,y=0;y<v;){if(n.charCodeAt(y)===37&&y+1<v){switch(m=m>-1?m:0,n.charCodeAt(y+1)){case 100:case 102:if(h>=d||r[h]==null)break;m<y&&(u+=n.slice(m,y)),u+=Number(r[h]),m=y+2,y++;break;case 105:if(h>=d||r[h]==null)break;m<y&&(u+=n.slice(m,y)),u+=Math.floor(Number(r[h])),m=y+2,y++;break;case 79:case 111:case 106:if(h>=d||r[h]===void 0)break;m<y&&(u+=n.slice(m,y));var g=typeof r[h];if(g==="string"){u+="'"+r[h]+"'",m=y+2,y++;break}if(g==="function"){u+=r[h].name||"<anonymous>",m=y+2,y++;break}u+=o(r[h]),m=y+2,y++;break;case 115:if(h>=d)break;m<y&&(u+=n.slice(m,y)),u+=String(r[h]),m=y+2,y++;break;case 37:m<y&&(u+=n.slice(m,y)),u+="%",m=y+2,y++,h--;break}++h}++y}return m===-1?n:(m<v&&(u+=n.slice(m)),u)}return q8}var z8,yee;function Zxt(){if(yee)return z8;yee=1;const e=Jxt();z8=i;const t=I().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:v,res:v,err:h};function r(T,D){return Array.isArray(T)?T.filter(function(C){return C!=="!stdSerializers.err"}):T===!0?Object.keys(D):!1}function i(T){T=T||{},T.browser=T.browser||{};const D=T.browser.transmit;if(D&&typeof D.send!="function")throw Error("pino: transmit option must have a send function");const M=T.browser.write||t;T.browser.write&&(T.browser.asObject=!0);const C=T.serializers||{},U=r(T.browser.serialize,C);let $=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&($=!1);const z=["error","fatal","warn","info","debug","trace"];typeof M=="function"&&(M.error=M.fatal=M.warn=M.info=M.debug=M.trace=M),T.enabled===!1&&(T.level="silent");const q=T.level||"info",S=Object.create(M);S.log||(S.log=g),Object.defineProperty(S,"levelVal",{get:O}),Object.defineProperty(S,"level",{get:N,set:j});const A={transmit:D,serialize:U,asObject:T.browser.asObject,levels:z,timestamp:m(T)};S.levels=i.levels,S.level=q,S.setMaxListeners=S.getMaxListeners=S.emit=S.addListener=S.on=S.prependListener=S.once=S.prependOnceListener=S.removeListener=S.removeAllListeners=S.listeners=S.listenerCount=S.eventNames=S.write=S.flush=g,S.serializers=C,S._serialize=U,S._stdErrSerialize=$,S.child=V,D&&(S._logEvent=u());function O(){return this.level==="silent"?1/0:this.levels.values[this.level]}function N(){return this._level}function j(K){if(K!=="silent"&&!this.levels.values[K])throw Error("unknown level "+K);this._level=K,o(A,S,"error","log"),o(A,S,"fatal","error"),o(A,S,"warn","error"),o(A,S,"info","log"),o(A,S,"debug","log"),o(A,S,"trace","log")}function V(K,W){if(!K)throw new Error("missing bindings for child Pino");W=W||{},U&&K.serializers&&(W.serializers=K.serializers);const P=W.serializers;if(U&&P){var F=Object.assign({},C,P),G=T.browser.serialize===!0?Object.keys(F):U;delete K.serializers,l([K],G,F,this._stdErrSerialize)}function Y(ie){this._childLevel=(ie._childLevel|0)+1,this.error=c(ie,K,"error"),this.fatal=c(ie,K,"fatal"),this.warn=c(ie,K,"warn"),this.info=c(ie,K,"info"),this.debug=c(ie,K,"debug"),this.trace=c(ie,K,"trace"),F&&(this.serializers=F,this._serialize=G),D&&(this._logEvent=u([].concat(ie._logEvent.bindings,K)))}return Y.prototype=this,new Y(this)}return S}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:k,unixTime:_,isoTime:R});function o(T,D,M,C){const U=Object.getPrototypeOf(D);D[M]=D.levelVal>D.levels.values[M]?g:U[M]?U[M]:t[M]||t[C]||g,s(T,D,M)}function s(T,D,M){!T.transmit&&D[M]===g||(D[M]=(function(C){return function(){const $=T.timestamp(),z=new Array(arguments.length),q=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var S=0;S<z.length;S++)z[S]=arguments[S];if(T.serialize&&!T.asObject&&l(z,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?C.call(q,a(this,M,z,$)):C.apply(q,z),T.transmit){const A=T.transmit.level||D.level,O=i.levels.values[A],N=i.levels.values[M];if(N<O)return;d(this,{ts:$,methodLevel:M,methodValue:N,transmitValue:i.levels.values[T.transmit.level||D.level],send:T.transmit.send,val:D.levelVal},z)}}})(D[M]))}function a(T,D,M,C){T._serialize&&l(M,T._serialize,T.serializers,T._stdErrSerialize);const U=M.slice();let $=U[0];const z={};C&&(z.time=C),z.level=i.levels.values[D];let q=(T._childLevel|0)+1;if(q<1&&(q=1),$!==null&&typeof $=="object"){for(;q--&&typeof U[0]=="object";)Object.assign(z,U.shift());$=U.length?e(U.shift(),U):void 0}else typeof $=="string"&&($=e(U.shift(),U));return $!==void 0&&(z.msg=$),z}function l(T,D,M,C){for(const U in T)if(C&&T[U]instanceof Error)T[U]=i.stdSerializers.err(T[U]);else if(typeof T[U]=="object"&&!Array.isArray(T[U]))for(const $ in T[U])D&&D.indexOf($)>-1&&$ in M&&(T[U][$]=M[$](T[U][$]))}function c(T,D,M){return function(){const C=new Array(1+arguments.length);C[0]=D;for(var U=1;U<C.length;U++)C[U]=arguments[U-1];return T[M].apply(this,C)}}function d(T,D,M){const C=D.send,U=D.ts,$=D.methodLevel,z=D.methodValue,q=D.val,S=T._logEvent.bindings;l(M,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=U,T._logEvent.messages=M.filter(function(A){return S.indexOf(A)===-1}),T._logEvent.level.label=$,T._logEvent.level.value=z,C($,T._logEvent,q),T._logEvent=u(S)}function u(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function h(T){const D={type:T.constructor.name,msg:T.message,stack:T.stack};for(const M in T)D[M]===void 0&&(D[M]=T[M]);return D}function m(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?b:k}function v(){return{}}function y(T){return T}function g(){}function b(){return!1}function k(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function R(){return new Date(Date.now()).toISOString()}function I(){function T(D){return typeof D<"u"&&D}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return z8}var Sy=Zxt();const CE=Rr(Sy),Yxt={level:"info"},U_="custom_context",F9=1e3*1024;let Xxt=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},vee=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new Xxt(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},rye=class{constructor(t,n=F9){this.level=t??"error",this.levelValue=Sy.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new vee(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Sy.levels.values.error?console.error(t):n===Sy.levels.values.warn?console.warn(t):n===Sy.levels.values.debug?console.debug(t):n===Sy.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Nm({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new vee(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Nm({extraMetadata:t})),new Blob(n,{type:"application/json"})}},Qxt=class{constructor(t,n=F9){this.baseChunkLogger=new rye(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},ekt=class{constructor(t,n=F9){this.baseChunkLogger=new rye(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var tkt=Object.defineProperty,nkt=Object.defineProperties,rkt=Object.getOwnPropertyDescriptors,wee=Object.getOwnPropertySymbols,ikt=Object.prototype.hasOwnProperty,okt=Object.prototype.propertyIsEnumerable,bee=(e,t,n)=>t in e?tkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pI=(e,t)=>{for(var n in t||(t={}))ikt.call(t,n)&&bee(e,n,t[n]);if(wee)for(var n of wee(t))okt.call(t,n)&&bee(e,n,t[n]);return e},mI=(e,t)=>nkt(e,rkt(t));function W9(e){return mI(pI({},e),{level:(e==null?void 0:e.level)||Yxt.level})}function skt(e,t=U_){return e[t]||""}function akt(e,t,n=U_){return e[n]=t,e}function Fa(e,t=U_){let n="";return typeof e.bindings>"u"?n=skt(e,t):n=e.bindings().context||"",n}function lkt(e,t,n=U_){const r=Fa(e,n);return r.trim()?`${r}/${t}`:t}function ha(e,t,n=U_){const r=lkt(e,t,n),i=e.child({context:r});return akt(i,r,n)}function ckt(e){var t,n;const r=new Qxt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:CE(mI(pI({},e.opts),{level:"trace",browser:mI(pI({},(n=e.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function dkt(e){var t;const n=new ekt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:CE(mI(pI({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function ukt(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?ckt(e):dkt(e)}var fkt=Object.defineProperty,hkt=(e,t,n)=>t in e?fkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_ee=(e,t,n)=>hkt(e,typeof t!="symbol"?t+"":t,n);let pkt=class extends fg{constructor(t){super(),this.opts=t,_ee(this,"protocol","wc"),_ee(this,"version",2)}};var mkt=Object.defineProperty,gkt=(e,t,n)=>t in e?mkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ykt=(e,t,n)=>gkt(e,t+"",n);let vkt=class extends fg{constructor(t,n){super(),this.core=t,this.logger=n,ykt(this,"records",new Map)}},wkt=class{constructor(t,n){this.logger=t,this.core=n}};class bkt extends fg{constructor(t,n){super(),this.relayer=t,this.logger=n}}let _kt=class extends fg{constructor(t){super()}},xkt=class{constructor(t,n,r,i){this.core=t,this.logger=n,this.name=r}},kkt=class extends fg{constructor(t,n){super(),this.relayer=t,this.logger=n}},Skt=class extends fg{constructor(t,n){super(),this.core=t,this.logger=n}},Ikt=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},Ekt=class{constructor(t,n){this.projectId=t,this.logger=n}};class Ckt{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}}var Akt=Object.defineProperty,Rkt=(e,t,n)=>t in e?Akt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xee=(e,t,n)=>Rkt(e,typeof t!="symbol"?t+"":t,n);let Tkt=class{constructor(t){this.opts=t,xee(this,"protocol","wc"),xee(this,"version",2)}},Okt=class{constructor(t){this.client=t}};function C1(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function q7(e){return C1(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const iye="2.31.0";let Bw={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${iye}`};class Pm extends Error{constructor(t,n={}){var a;const r=(()=>{var l;return n.cause instanceof Pm?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Pm&&n.cause.docsPath||n.docsPath,o=(a=Bw.getDocsUrl)==null?void 0:a.call(Bw,{...n,docsPath:i}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Bw.version?[`Version: ${Bw.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=iye}walk(t){return oye(this,t)}}function oye(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?oye(e.cause,t):t?null:e}class sye extends Pm{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function kv(e,{dir:t,size:n=32}={}){return typeof e=="string"?Nkt(e,{dir:t,size:n}):Pkt(e,{dir:t,size:n})}function Nkt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new sye({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Pkt(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new sye({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=t==="right";r[o?i:n-i-1]=e[o?i:e.length-i-1]}return r}class Bkt extends Pm{constructor({max:t,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Mkt extends Pm{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Sv(e,{size:t}){if(q7(e)>t)throw new Mkt({givenSize:q7(e),maxSize:t})}function z7(e,t={}){const{signed:n}=t;t.size&&Sv(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Dkt(e,t={}){return Number(z7(e,t))}const jkt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function V7(e,t={}){return typeof e=="number"||typeof e=="bigint"?lye(e,t):typeof e=="string"?Ukt(e,t):typeof e=="boolean"?$kt(e,t):aye(e,t)}function $kt(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Sv(n,{size:t.size}),kv(n,{size:t.size})):n}function aye(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=jkt[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Sv(r,{size:t.size}),kv(r,{dir:"right",size:t.size})):r}function lye(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof e=="bigint"?"n":"";throw new Bkt({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?kv(a,{size:r}):a}const Lkt=new TextEncoder;function Ukt(e,t={}){const n=Lkt.encode(e);return aye(n,t)}const Fkt=new TextEncoder;function Wkt(e,t={}){return typeof e=="number"||typeof e=="bigint"?zkt(e,t):typeof e=="boolean"?qkt(e,t):C1(e)?cye(e,t):dye(e,t)}function qkt(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Sv(n,{size:t.size}),kv(n,{size:t.size})):n}const hu={zero:48,nine:57,A:65,F:70,a:97,f:102};function kee(e){if(e>=hu.zero&&e<=hu.nine)return e-hu.zero;if(e>=hu.A&&e<=hu.F)return e-(hu.A-10);if(e>=hu.a&&e<=hu.f)return e-(hu.a-10)}function cye(e,t={}){let n=e;t.size&&(Sv(n,{size:t.size}),n=kv(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=kee(r.charCodeAt(a++)),c=kee(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Pm(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function zkt(e,t){const n=lye(e,t);return cye(n)}function dye(e,t={}){const n=Fkt.encode(e);return typeof t.size=="number"?(Sv(n,{size:t.size}),kv(n,{dir:"right",size:t.size})):n}function uye(e,t){const n=t||"hex",r=Mct(C1(e,{strict:!1})?Wkt(e):e);return n==="bytes"?r:V7(r)}class Vkt extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const V8=new Vkt(8192);function Kkt(e,t){if(V8.has(`${e}.${t}`))return V8.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=uye(dye(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return V8.set(`${e}.${t}`,o),o}function Hkt(e){const t=uye(`0x${e.substring(4)}`).substring(26);return Kkt(`0x${t}`)}async function Gkt({hash:e,signature:t}){const n=C1(e)?e:V7(e),{secp256k1:r}=await gb(async()=>{const{secp256k1:s}=await import("./secp256k1-ks-cOw57.js");return{secp256k1:s}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:c,s:d,v:u,yParity:h}=t,m=Number(h??u),v=See(m);return new r.Signature(z7(c),z7(d)).addRecoveryBit(v)}const s=C1(t)?t:V7(t);if(q7(s)!==65)throw new Error("invalid signature length");const a=Dkt(`0x${s.slice(130)}`),l=See(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function See(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Jkt({hash:e,signature:t}){return Hkt(await Gkt({hash:e,signature:t}))}var Zkt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const F_=Tme(Zkt);var Ykt={};const Xkt=":";function z2(e){const[t,n]=e.split(Xkt);return{namespace:t,reference:n}}function fye(e,t){return e.includes(":")?[e]:t.chains||[]}var Qkt=Object.defineProperty,e2t=Object.defineProperties,t2t=Object.getOwnPropertyDescriptors,Iee=Object.getOwnPropertySymbols,n2t=Object.prototype.hasOwnProperty,r2t=Object.prototype.propertyIsEnumerable,K7=(e,t,n)=>t in e?Qkt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eee=(e,t)=>{for(var n in t||(t={}))n2t.call(t,n)&&K7(e,n,t[n]);if(Iee)for(var n of Iee(t))r2t.call(t,n)&&K7(e,n,t[n]);return e},i2t=(e,t)=>e2t(e,t2t(t)),Cee=(e,t,n)=>K7(e,typeof t!="symbol"?t+"":t,n);const o2t="ReactNative",bl={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},s2t="js";function gI(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function op(){return!Hu.getDocument()&&!!Hu.getNavigator()&&navigator.product===o2t}function a2t(){return op()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function l2t(){return op()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Iv(){return!gI()&&!!Hu.getNavigator()&&!!Hu.getDocument()}function W_(){return op()?bl.reactNative:gI()?bl.node:Iv()?bl.browser:bl.unknown}function Aee(){var e;try{return op()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function c2t(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const i=t[r];i!==void 0&&n.set(r,i)}return n.toString()}function d2t(e){var t,n;const r=hye();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e==null?void 0:e.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(i=>i!=="")),i2t(Eee(Eee({},r),e),{url:(e==null?void 0:e.url)||r.url,name:(e==null?void 0:e.name)||r.name,description:(e==null?void 0:e.description)||r.description,icons:(n=e==null?void 0:e.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function hye(){return xyt.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function u2t(){if(W_()===bl.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=Ugt();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function f2t(){var e;const t=W_();return t===bl.browser?[t,((e=Hu.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function pye(e,t,n){const r=u2t(),i=f2t();return[[e,t].join("-"),[s2t,n].join("-"),r,i].join("/")}function h2t({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:o,useOnCloseEvent:s,bundleId:a,packageName:l}){const c=n.split("?"),d=pye(e,t,r),u={auth:i,ua:d,projectId:o,useOnCloseEvent:s,packageName:l||void 0,bundleId:a||void 0},h=c2t(c[1]||"",u);return c[0]+"?"+h}function Qp(e,t){return e.filter(n=>t.includes(n)).length===e.length}function H7(e){return Object.fromEntries(e.entries())}function G7(e){return new Map(Object.entries(e))}function Bp(e=It.FIVE_MINUTES,t){const n=It.toMiliseconds(e||It.FIVE_MINUTES);let r,i,o,s;return{resolve:a=>{o&&r&&(clearTimeout(o),r(a),s=Promise.resolve(a))},reject:a=>{o&&i&&(clearTimeout(o),i(a))},done:()=>new Promise((a,l)=>{if(s)return a(s);o=setTimeout(()=>{const c=new Error(t);s=Promise.reject(c),l(c)},n),r=a,i=l})}}function wh(e,t,n){return new Promise(async(r,i)=>{const o=setTimeout(()=>i(new Error(n)),t);try{const s=await e;r(s)}catch(s){i(s)}clearTimeout(o)})}function mye(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function p2t(e){return mye("topic",e)}function m2t(e){return mye("id",e)}function gye(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function ko(e,t){return It.fromMiliseconds(Date.now()+It.toMiliseconds(e))}function uh(e){return Date.now()>=It.toMiliseconds(e)}function Pr(e,t){return`${e}${t?`:${t}`:""}`}function um(e=[],t=[]){return[...new Set([...e,...t])]}async function g2t({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,o=i==null?void 0:i.href;if(typeof o!="string")return;const s=y2t(o,e,t),a=W_();if(a===bl.browser){if(!((r=Hu.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}v2t(s)}else a===bl.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(i){console.error(i)}}function y2t(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){const o=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${o}${x2t(r,!0)}`}else i=`${i}/wc?${r}`;return i}function v2t(e){let t="_self";_2t()?t="_top":(b2t()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function w2t(e,t){let n="";try{if(Iv()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function Ree(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function Tee(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function q9(){return typeof process<"u"&&Ykt.IS_VITEST==="true"}function b2t(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function _2t(){try{return window.self!==window.top}catch{return!1}}function x2t(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function yye(e){return Buffer.from(e,"base64").toString("utf-8")}function k2t(e){return new Promise(t=>setTimeout(t,e))}let S2t=class{constructor({limit:t}){Cee(this,"limit"),Cee(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}};const Yk=BigInt(2**32-1),Oee=BigInt(32);function vye(e,t=!1){return t?{h:Number(e&Yk),l:Number(e>>Oee&Yk)}:{h:Number(e>>Oee&Yk)|0,l:Number(e&Yk)|0}}function wye(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=vye(e[o],t);[r[o],i[o]]=[s,a]}return[r,i]}const Nee=(e,t,n)=>e>>>n,Pee=(e,t,n)=>e<<32-n|t>>>n,fh=(e,t,n)=>e>>>n|t<<32-n,hh=(e,t,n)=>e<<32-n|t>>>n,eb=(e,t,n)=>e<<64-n|t>>>n-32,tb=(e,t,n)=>e>>>n-32|t<<64-n,I2t=(e,t)=>t,E2t=(e,t)=>e,C2t=(e,t,n)=>e<<n|t>>>32-n,A2t=(e,t,n)=>t<<n|e>>>32-n,R2t=(e,t,n)=>t<<n-32|e>>>64-n,T2t=(e,t,n)=>e<<n-32|t>>>64-n;function Nc(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const z9=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),V9=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,O2t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),N2t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,P2t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),B2t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,sy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function K9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function sc(e,...t){if(!K9(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function H9(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Gu(e.outputLen),Gu(e.blockLen)}function zh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function G9(e,t){sc(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function A1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ac(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function K8(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fd(e,t){return e<<32-t|e>>>t}const bye=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _ye(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const wu=bye?e=>e:e=>_ye(e);function M2t(e){for(let t=0;t<e.length;t++)e[t]=_ye(e[t]);return e}const ph=bye?e=>e:M2t,xye=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",D2t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function R1(e){if(sc(e),xye)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=D2t[e[n]];return t}const pu={_0:48,_9:57,A:65,F:70,a:97,f:102};function Bee(e){if(e>=pu._0&&e<=pu._9)return e-pu._0;if(e>=pu.A&&e<=pu.F)return e-(pu.A-10);if(e>=pu.a&&e<=pu.f)return e-(pu.a-10)}function J9(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(xye)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Bee(e.charCodeAt(o)),a=Bee(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function j2t(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function $c(e){return typeof e=="string"&&(e=j2t(e)),sc(e),e}function em(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];sc(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}let AE=class{};function q_(e){const t=r=>e().update($c(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function $2t(e){const t=(r,i)=>e(i).update($c(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Ev(e=32){if(sy&&typeof sy.getRandomValues=="function")return sy.getRandomValues(new Uint8Array(e));if(sy&&typeof sy.randomBytes=="function")return Uint8Array.from(sy.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const L2t=BigInt(0),Mw=BigInt(1),U2t=BigInt(2),F2t=BigInt(7),W2t=BigInt(256),q2t=BigInt(113),kye=[],Sye=[],Iye=[];for(let e=0,t=Mw,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],kye.push(2*(5*r+n)),Sye.push((e+1)*(e+2)/2%64);let i=L2t;for(let o=0;o<7;o++)t=(t<<Mw^(t>>F2t)*q2t)%W2t,t&U2t&&(i^=Mw<<(Mw<<BigInt(o))-Mw);Iye.push(i)}const Eye=wye(Iye,!0),z2t=Eye[0],V2t=Eye[1],Mee=(e,t,n)=>n>32?R2t(e,t,n):C2t(e,t,n),Dee=(e,t,n)=>n>32?T2t(e,t,n):A2t(e,t,n);function K2t(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],u=Mee(c,d,1)^n[a],h=Dee(c,d,1)^n[a+1];for(let m=0;m<50;m+=10)e[s+m]^=u,e[s+m+1]^=h}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=Sye[s],l=Mee(i,o,a),c=Dee(i,o,a),d=kye[s];i=e[d],o=e[d+1],e[d]=l,e[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=z2t[r],e[1]^=V2t[r]}ac(n)}let H2t=class Cye extends AE{constructor(t,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Gu(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=A1(this.state)}clone(){return this._cloneInto()}keccak(){ph(this.state32),K2t(this.state32,this.rounds),ph(this.state32),this.posOut=0,this.pos=0}update(t){zh(this),t=$c(t),sc(t);const{blockLen:n,state:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){zh(this,!1),sc(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Gu(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(G9(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ac(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Cye(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const G2t=(e,t,n)=>q_(()=>new H2t(t,e,n)),J2t=G2t(1,136,256/8);function Z2t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function Y2t(e,t,n){return e&t^~e&n}function X2t(e,t,n){return e&t^e&n^t&n}let Aye=class extends AE{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=K8(this.buffer)}update(t){zh(this),t=$c(t),sc(t);const{view:n,buffer:r,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=K8(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){zh(this),G9(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,ac(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;Z2t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=K8(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Kf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$s=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ls=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Q2t=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hf=new Uint32Array(64);let eSt=class extends Aye{constructor(t=32){super(64,t,8,!1),this.A=Kf[0]|0,this.B=Kf[1]|0,this.C=Kf[2]|0,this.D=Kf[3]|0,this.E=Kf[4]|0,this.F=Kf[5]|0,this.G=Kf[6]|0,this.H=Kf[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)Hf[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=Hf[u-15],m=Hf[u-2],v=fd(h,7)^fd(h,18)^h>>>3,y=fd(m,17)^fd(m,19)^m>>>10;Hf[u]=y+Hf[u-7]+v+Hf[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=fd(a,6)^fd(a,11)^fd(a,25),m=d+h+Y2t(a,l,c)+Q2t[u]+Hf[u]|0,v=(fd(r,2)^fd(r,13)^fd(r,22))+X2t(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+v|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){ac(Hf)}destroy(){this.set(0,0,0,0,0,0,0,0),ac(this.buffer)}};const Rye=wye(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),tSt=Rye[0],nSt=Rye[1],Gf=new Uint32Array(80),Jf=new Uint32Array(80);let Z9=class extends Aye{constructor(t=64){super(128,t,16,!1),this.Ah=Ls[0]|0,this.Al=Ls[1]|0,this.Bh=Ls[2]|0,this.Bl=Ls[3]|0,this.Ch=Ls[4]|0,this.Cl=Ls[5]|0,this.Dh=Ls[6]|0,this.Dl=Ls[7]|0,this.Eh=Ls[8]|0,this.El=Ls[9]|0,this.Fh=Ls[10]|0,this.Fl=Ls[11]|0,this.Gh=Ls[12]|0,this.Gl=Ls[13]|0,this.Hh=Ls[14]|0,this.Hl=Ls[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:y,Hl:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=y|0,this.Hl=g|0}process(t,n){for(let _=0;_<16;_++,n+=4)Gf[_]=t.getUint32(n),Jf[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=Gf[_-15]|0,I=Jf[_-15]|0,T=fh(R,I,1)^fh(R,I,8)^Nee(R,I,7),D=hh(R,I,1)^hh(R,I,8)^Pee(R,I,7),M=Gf[_-2]|0,C=Jf[_-2]|0,U=fh(M,C,19)^eb(M,C,61)^Nee(M,C,6),$=hh(M,C,19)^tb(M,C,61)^Pee(M,C,6),z=O2t(D,$,Jf[_-7],Jf[_-16]),q=N2t(z,T,U,Gf[_-7],Gf[_-16]);Gf[_]=q|0,Jf[_]=z|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:y,Gl:g,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=fh(u,h,14)^fh(u,h,18)^eb(u,h,41),I=hh(u,h,14)^hh(u,h,18)^tb(u,h,41),T=u&m^~u&y,D=h&v^~h&g,M=P2t(k,I,D,nSt[_],Jf[_]),C=B2t(M,b,R,T,tSt[_],Gf[_]),U=M|0,$=fh(r,i,28)^eb(r,i,34)^eb(r,i,39),z=hh(r,i,28)^tb(r,i,34)^tb(r,i,39),q=r&o^r&a^o&a,S=i&s^i&l^s&l;b=y|0,k=g|0,y=m|0,g=v|0,m=u|0,v=h|0,{h:u,l:h}=Nc(c|0,d|0,C|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=z9(U,z,S);r=V9(A,C,$,q),i=A|0}({h:r,l:i}=Nc(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Nc(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Nc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Nc(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=Nc(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=Nc(this.Fh|0,this.Fl|0,m|0,v|0),{h:y,l:g}=Nc(this.Gh|0,this.Gl|0,y|0,g|0),{h:b,l:k}=Nc(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k)}roundClean(){ac(Gf,Jf)}destroy(){ac(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},rSt=class extends Z9{constructor(){super(48),this.Ah=$s[0]|0,this.Al=$s[1]|0,this.Bh=$s[2]|0,this.Bl=$s[3]|0,this.Ch=$s[4]|0,this.Cl=$s[5]|0,this.Dh=$s[6]|0,this.Dl=$s[7]|0,this.Eh=$s[8]|0,this.El=$s[9]|0,this.Fh=$s[10]|0,this.Fl=$s[11]|0,this.Gh=$s[12]|0,this.Gl=$s[13]|0,this.Hh=$s[14]|0,this.Hl=$s[15]|0}};const Us=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class iSt extends Z9{constructor(){super(32),this.Ah=Us[0]|0,this.Al=Us[1]|0,this.Bh=Us[2]|0,this.Bl=Us[3]|0,this.Ch=Us[4]|0,this.Cl=Us[5]|0,this.Dh=Us[6]|0,this.Dl=Us[7]|0,this.Eh=Us[8]|0,this.El=Us[9]|0,this.Fh=Us[10]|0,this.Fl=Us[11]|0,this.Gh=Us[12]|0,this.Gl=Us[13]|0,this.Hh=Us[14]|0,this.Hl=Us[15]|0}}const RE=q_(()=>new eSt),oSt=q_(()=>new Z9),sSt=q_(()=>new rSt),aSt=q_(()=>new iSt),lSt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),xo=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Mt=new Uint32Array(32);function Zf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Mt[2*e],c=Mt[2*e+1],d=Mt[2*t],u=Mt[2*t+1],h=Mt[2*n],m=Mt[2*n+1],v=Mt[2*r],y=Mt[2*r+1],g=z9(l,d,s);c=V9(g,c,u,a),l=g|0,{Dh:y,Dl:v}={Dh:y^c,Dl:v^l},{Dh:y,Dl:v}={Dh:I2t(y,v),Dl:E2t(y)},{h:m,l:h}=Nc(m,h,y,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:fh(u,d,24),Bl:hh(u,d,24)},Mt[2*e]=l,Mt[2*e+1]=c,Mt[2*t]=d,Mt[2*t+1]=u,Mt[2*n]=h,Mt[2*n+1]=m,Mt[2*r]=v,Mt[2*r+1]=y}function Yf(e,t,n,r,i,o){const s=i[o],a=i[o+1];let l=Mt[2*e],c=Mt[2*e+1],d=Mt[2*t],u=Mt[2*t+1],h=Mt[2*n],m=Mt[2*n+1],v=Mt[2*r],y=Mt[2*r+1],g=z9(l,d,s);c=V9(g,c,u,a),l=g|0,{Dh:y,Dl:v}={Dh:y^c,Dl:v^l},{Dh:y,Dl:v}={Dh:fh(y,v,16),Dl:hh(y,v,16)},{h:m,l:h}=Nc(m,h,y,v),{Bh:u,Bl:d}={Bh:u^m,Bl:d^h},{Bh:u,Bl:d}={Bh:eb(u,d,63),Bl:tb(u,d,63)},Mt[2*e]=l,Mt[2*e+1]=c,Mt[2*t]=d,Mt[2*t+1]=u,Mt[2*n]=h,Mt[2*n+1]=m,Mt[2*r]=v,Mt[2*r+1]=y}function cSt(e,t={},n,r,i){if(Gu(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:o,salt:s,personalization:a}=t;if(o!==void 0&&(o.length<1||o.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class dSt extends AE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Gu(t),Gu(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=A1(this.buffer)}update(t){zh(this),t=$c(t),sc(t);const{blockLen:n,buffer:r,buffer32:i}=this,o=t.length,s=t.byteOffset,a=t.buffer;for(let l=0;l<o;){this.pos===n&&(ph(i),this.compress(i,0,!1),ph(i),this.pos=0);const c=Math.min(n-this.pos,o-l),d=s+l;if(c===n&&!(d%4)&&l+c<o){const u=new Uint32Array(a,d,Math.floor((o-l)/4));ph(u);for(let h=0;l+n<o;h+=i.length,l+=n)this.length+=n,this.compress(u,h,!1);ph(u);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(t){zh(this),G9(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,ac(this.buffer.subarray(n)),ph(r),this.compress(r,0,!0),ph(r);const i=A1(t);this.get().forEach((o,s)=>i[s]=wu(o))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.buffer.set(n),t.destroyed=o,t.finished=i,t.length=r,t.pos=a,t.outputLen=s,t}clone(){return this._cloneInto()}}class uSt extends dSt{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=xo[0]|0,this.v0h=xo[1]|0,this.v1l=xo[2]|0,this.v1h=xo[3]|0,this.v2l=xo[4]|0,this.v2h=xo[5]|0,this.v3l=xo[6]|0,this.v3h=xo[7]|0,this.v4l=xo[8]|0,this.v4h=xo[9]|0,this.v5l=xo[10]|0,this.v5h=xo[11]|0,this.v6l=xo[12]|0,this.v6h=xo[13]|0,this.v7l=xo[14]|0,this.v7h=xo[15]|0,cSt(n,t,64,16,16);let{key:r,personalization:i,salt:o}=t,s=0;if(r!==void 0&&(r=$c(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,o!==void 0){o=$c(o);const a=A1(o);this.v4l^=wu(a[0]),this.v4h^=wu(a[1]),this.v5l^=wu(a[2]),this.v5h^=wu(a[3])}if(i!==void 0){i=$c(i);const a=A1(i);this.v6l^=wu(a[0]),this.v6h^=wu(a[1]),this.v7l^=wu(a[2]),this.v7h^=wu(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:i,v2l:o,v2h:s,v3l:a,v3h:l,v4l:c,v4h:d,v5l:u,v5h:h,v6l:m,v6h:v,v7l:y,v7h:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=d|0,this.v5l=u|0,this.v5h=h|0,this.v6l=m|0,this.v6h=v|0,this.v7l=y|0,this.v7h=g|0}compress(t,n,r){this.get().forEach((l,c)=>Mt[c]=l),Mt.set(xo,16);let{h:i,l:o}=vye(BigInt(this.length));Mt[24]=xo[8]^o,Mt[25]=xo[9]^i,r&&(Mt[28]=~Mt[28],Mt[29]=~Mt[29]);let s=0;const a=lSt;for(let l=0;l<12;l++)Zf(0,4,8,12,t,n+2*a[s++]),Yf(0,4,8,12,t,n+2*a[s++]),Zf(1,5,9,13,t,n+2*a[s++]),Yf(1,5,9,13,t,n+2*a[s++]),Zf(2,6,10,14,t,n+2*a[s++]),Yf(2,6,10,14,t,n+2*a[s++]),Zf(3,7,11,15,t,n+2*a[s++]),Yf(3,7,11,15,t,n+2*a[s++]),Zf(0,5,10,15,t,n+2*a[s++]),Yf(0,5,10,15,t,n+2*a[s++]),Zf(1,6,11,12,t,n+2*a[s++]),Yf(1,6,11,12,t,n+2*a[s++]),Zf(2,7,8,13,t,n+2*a[s++]),Yf(2,7,8,13,t,n+2*a[s++]),Zf(3,4,9,14,t,n+2*a[s++]),Yf(3,4,9,14,t,n+2*a[s++]);this.v0l^=Mt[0]^Mt[16],this.v0h^=Mt[1]^Mt[17],this.v1l^=Mt[2]^Mt[18],this.v1h^=Mt[3]^Mt[19],this.v2l^=Mt[4]^Mt[20],this.v2h^=Mt[5]^Mt[21],this.v3l^=Mt[6]^Mt[22],this.v3h^=Mt[7]^Mt[23],this.v4l^=Mt[8]^Mt[24],this.v4h^=Mt[9]^Mt[25],this.v5l^=Mt[10]^Mt[26],this.v5h^=Mt[11]^Mt[27],this.v6l^=Mt[12]^Mt[28],this.v6h^=Mt[13]^Mt[29],this.v7l^=Mt[14]^Mt[30],this.v7h^=Mt[15]^Mt[31],ac(Mt)}destroy(){this.destroyed=!0,ac(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fSt=$2t(e=>new uSt(e)),hSt="https://rpc.walletconnect.org/v1";function Tye(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(J2t(n)).toString("hex")}async function pSt(e,t,n,r,i,o){switch(n.t){case"eip191":return await mSt(e,t,n.s);case"eip1271":return await gSt(e,t,n.s,r,i,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function mSt(e,t,n){return(await Jkt({hash:Tye(t),signature:n})).toLowerCase()===e.toLowerCase()}async function gSt(e,t,n,r,i,o){const s=z2(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),d=(c.length/2).toString(16).padStart(64,"0"),u=(t.startsWith("0x")?t:Tye(t)).substring(2),h=a+u+l+d+c,m=await fetch(`${o||hSt}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:ySt(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:h},"latest"]})}),{result:v}=await m.json();return v?v.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function ySt(){return Date.now()+Math.floor(Math.random()*1e3)}function vSt(e){const t=atob(e),n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const o=Buffer.from(e,"base64").slice(1,65);return F_.encode(o)}function wSt(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=fSt(r,{dkLen:32});return F_.encode(i)}function jee(e){const t=new Uint8Array(RE(bSt(e)));return F_.encode(t)}function bSt(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function $ee(e){const t=Buffer.from(e,"base64"),n=o0t(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Zyt(n),i=Buffer.from("TX"),o=Buffer.concat([i,Buffer.from(r)]),s=aSt(o);return h0t.encode(s).replace(/=+$/,"")}function H8(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function _St(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(H8(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(H8(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(H8(r.length)),i.push(r);const o=Buffer.concat(i),s=RE(o);return Buffer.from(s).toString("hex").toUpperCase()}var xSt=Object.defineProperty,kSt=Object.defineProperties,SSt=Object.getOwnPropertyDescriptors,Lee=Object.getOwnPropertySymbols,ISt=Object.prototype.hasOwnProperty,ESt=Object.prototype.propertyIsEnumerable,Uee=(e,t,n)=>t in e?xSt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CSt=(e,t)=>{for(var n in t||(t={}))ISt.call(t,n)&&Uee(e,n,t[n]);if(Lee)for(var n of Lee(t))ESt.call(t,n)&&Uee(e,n,t[n]);return e},ASt=(e,t)=>kSt(e,SSt(t));const RSt="did:pkh:",Y9=e=>e==null?void 0:e.split(":"),TSt=e=>{const t=e&&Y9(e);if(t)return e.includes(RSt)?t[3]:t[1]},J7=e=>{const t=e&&Y9(e);if(t)return t[2]+":"+t[3]},yI=e=>{const t=e&&Y9(e);if(t)return t.pop()};async function Fee(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,o=Oye(i,i.iss),s=yI(i.iss);return await pSt(s,o,r,J7(i.iss),n)}const Oye=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=yI(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,s=`Version: ${e.version}`,a=`Chain ID: ${TSt(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,u=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,m=e.resources?`Resources:${e.resources.map(y=>`
- ${y}`).join("")}`:void 0,v=V2(e.resources);if(v){const y=T1(v);i=LSt(i,y)}return[n,r,"",i,"",o,s,a,l,c,d,u,h,m].filter(y=>y!=null).join(`
`)};function OSt(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function NSt(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Bm(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const o=r[i];if(!Array.isArray(o))throw new Error(`Ability limits ${i} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);o.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${s}`)})})})}function PSt(e,t,n,r={}){return n==null||n.sort((i,o)=>i.localeCompare(o)),{att:{[e]:BSt(t,n,r)}}}function BSt(e,t,n={}){t=t==null?void 0:t.sort((i,o)=>i.localeCompare(o));const r=t.map(i=>({[`${e}/${i}`]:[n]}));return Object.assign({},...r)}function Nye(e){return Bm(e),`urn:recap:${OSt(e).replace(/=/g,"")}`}function T1(e){const t=NSt(e.replace("urn:recap:",""));return Bm(t),t}function MSt(e,t,n){const r=PSt(e,t,n);return Nye(r)}function DSt(e){return e&&e.includes("urn:recap:")}function jSt(e,t){const n=T1(e),r=T1(t),i=$St(n,r);return Nye(i)}function $St(e,t){Bm(e),Bm(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((i,o)=>i.localeCompare(o)),r={att:{}};return n.forEach(i=>{var o,s;Object.keys(((o=e.att)==null?void 0:o[i])||{}).concat(Object.keys(((s=t.att)==null?void 0:s[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;r.att[i]=ASt(CSt({},r.att[i]),{[a]:((l=e.att[i])==null?void 0:l[a])||((c=t.att[i])==null?void 0:c[a])})})}),r}function LSt(e="",t){Bm(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(a=>{const l=Object.keys(t.att[a]).map(u=>({ability:u.split("/")[0],action:u.split("/")[1]}));l.sort((u,h)=>u.action.localeCompare(h.action));const c={};l.forEach(u=>{c[u.ability]||(c[u.ability]=[]),c[u.ability].push(u.action)});const d=Object.keys(c).map(u=>(i++,`(${i}) '${u}': '${c[u].join("', '")}' for '${a}'.`));r.push(d.join(", ").replace(".,","."))});const o=r.join(" "),s=`${n}${o}`;return`${e?e+" ":""}${s}`}function Wee(e){var t;const n=T1(e);Bm(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function qee(e){const t=T1(e);Bm(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(i=>{var o;(o=i==null?void 0:i[0])!=null&&o.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function V2(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return DSt(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Pye(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Z7(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function G8(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Oa(e,...t){if(!Pye(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function zee(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function USt(e,t){Oa(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ch(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function $0(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function FSt(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const WSt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qSt(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Y7(e){if(typeof e=="string")e=qSt(e);else if(Pye(e))e=X7(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function zSt(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function VSt(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const KSt=(e,t)=>{function n(r,...i){if(Oa(r),!WSt)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");e.varSizeNonce?Oa(c):Oa(c,e.nonceLength)}const o=e.tagLength;o&&i[1]!==void 0&&Oa(i[1]);const s=t(r,...i),a=(c,d)=>{if(d!==void 0){if(c!==2)throw new Error("cipher output not supported");Oa(d)}};let l=!1;return{encrypt(c,d){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Oa(c),a(s.encrypt.length,d),s.encrypt(c,d)},decrypt(c,d){if(Oa(c),o&&c.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return a(s.decrypt.length,d),s.decrypt(c,d)}}}return Object.assign(n,e),n};function Vee(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!GSt(t))throw new Error("invalid output, must be aligned");return t}function Kee(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o);e.setUint32(t+4,s,r),e.setUint32(t+0,a,r)}function HSt(e,t,n){Z7(n);const r=new Uint8Array(16),i=FSt(r);return Kee(i,0,BigInt(t),n),Kee(i,8,BigInt(e),n),r}function GSt(e){return e.byteOffset%4===0}function X7(e){return Uint8Array.from(e)}const Bye=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),JSt=Bye("expand 16-byte k"),ZSt=Bye("expand 32-byte k"),YSt=Ch(JSt),XSt=Ch(ZSt);function xr(e,t){return e<<t|e>>>32-t}function Q7(e){return e.byteOffset%4===0}const Xk=64,QSt=16,Mye=2**32-1,Hee=new Uint32Array;function eIt(e,t,n,r,i,o,s,a){const l=i.length,c=new Uint8Array(Xk),d=Ch(c),u=Q7(i)&&Q7(o),h=u?Ch(i):Hee,m=u?Ch(o):Hee;for(let v=0;v<l;s++){if(e(t,n,r,d,s,a),s>=Mye)throw new Error("arx: counter overflow");const y=Math.min(Xk,l-v);if(u&&y===Xk){const g=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let b=0,k;b<QSt;b++)k=g+b,m[k]=h[k]^d[b];v+=Xk;continue}for(let g=0,b;g<y;g++)b=v+g,o[b]=i[b]^c[g];v+=y}}function tIt(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=zSt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return G8(i),G8(s),Z7(o),Z7(n),(a,l,c,d,u=0)=>{Oa(a),Oa(l),Oa(c);const h=c.length;if(d===void 0&&(d=new Uint8Array(h)),Oa(d),G8(u),u<0||u>=Mye)throw new Error("arx: counter overflow");if(d.length<h)throw new Error(`arx: output (${d.length}) is shorter than data (${h})`);const m=[];let v=a.length,y,g;if(v===32)m.push(y=X7(a)),g=XSt;else if(v===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),g=YSt,m.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);Q7(l)||m.push(l=X7(l));const b=Ch(y);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(g,b,Ch(l.subarray(0,16)),b),l=l.subarray(16)}const k=16-i;if(k!==l.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const R=new Uint8Array(12);R.set(l,o?0:12-l.length),l=R,m.push(l)}const _=Ch(l);return eIt(e,g,b,_,c,d,u,s),$0(...m),d}}const is=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class nIt{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=Y7(t),Oa(t,32);const n=is(t,0),r=is(t,2),i=is(t,4),o=is(t,6),s=is(t,8),a=is(t,10),l=is(t,12),c=is(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let d=0;d<8;d++)this.pad[d]=is(t,16+2*d)}process(t,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],c=s[2],d=s[3],u=s[4],h=s[5],m=s[6],v=s[7],y=s[8],g=s[9],b=is(t,n+0),k=is(t,n+2),_=is(t,n+4),R=is(t,n+6),I=is(t,n+8),T=is(t,n+10),D=is(t,n+12),M=is(t,n+14);let C=o[0]+(b&8191),U=o[1]+((b>>>13|k<<3)&8191),$=o[2]+((k>>>10|_<<6)&8191),z=o[3]+((_>>>7|R<<9)&8191),q=o[4]+((R>>>4|I<<12)&8191),S=o[5]+(I>>>1&8191),A=o[6]+((I>>>14|T<<2)&8191),O=o[7]+((T>>>11|D<<5)&8191),N=o[8]+((D>>>8|M<<8)&8191),j=o[9]+(M>>>5|i),V=0,K=V+C*a+U*(5*g)+$*(5*y)+z*(5*v)+q*(5*m);V=K>>>13,K&=8191,K+=S*(5*h)+A*(5*u)+O*(5*d)+N*(5*c)+j*(5*l),V+=K>>>13,K&=8191;let W=V+C*l+U*a+$*(5*g)+z*(5*y)+q*(5*v);V=W>>>13,W&=8191,W+=S*(5*m)+A*(5*h)+O*(5*u)+N*(5*d)+j*(5*c),V+=W>>>13,W&=8191;let P=V+C*c+U*l+$*a+z*(5*g)+q*(5*y);V=P>>>13,P&=8191,P+=S*(5*v)+A*(5*m)+O*(5*h)+N*(5*u)+j*(5*d),V+=P>>>13,P&=8191;let F=V+C*d+U*c+$*l+z*a+q*(5*g);V=F>>>13,F&=8191,F+=S*(5*y)+A*(5*v)+O*(5*m)+N*(5*h)+j*(5*u),V+=F>>>13,F&=8191;let G=V+C*u+U*d+$*c+z*l+q*a;V=G>>>13,G&=8191,G+=S*(5*g)+A*(5*y)+O*(5*v)+N*(5*m)+j*(5*h),V+=G>>>13,G&=8191;let Y=V+C*h+U*u+$*d+z*c+q*l;V=Y>>>13,Y&=8191,Y+=S*a+A*(5*g)+O*(5*y)+N*(5*v)+j*(5*m),V+=Y>>>13,Y&=8191;let ie=V+C*m+U*h+$*u+z*d+q*c;V=ie>>>13,ie&=8191,ie+=S*l+A*a+O*(5*g)+N*(5*y)+j*(5*v),V+=ie>>>13,ie&=8191;let ye=V+C*v+U*m+$*h+z*u+q*d;V=ye>>>13,ye&=8191,ye+=S*c+A*l+O*a+N*(5*g)+j*(5*y),V+=ye>>>13,ye&=8191;let ge=V+C*y+U*v+$*m+z*h+q*u;V=ge>>>13,ge&=8191,ge+=S*d+A*c+O*l+N*a+j*(5*g),V+=ge>>>13,ge&=8191;let be=V+C*g+U*y+$*v+z*m+q*h;V=be>>>13,be&=8191,be+=S*u+A*d+O*c+N*l+j*a,V+=be>>>13,be&=8191,V=(V<<2)+V|0,V=V+K|0,K=V&8191,V=V>>>13,W+=V,o[0]=K,o[1]=W,o[2]=P,o[3]=F,o[4]=G,o[5]=Y,o[6]=ie,o[7]=ye,o[8]=ge,o[9]=be}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let i=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=i,i=t[a]>>>13,t[a]&=8191;t[0]+=i*5,i=t[0]>>>13,t[0]&=8191,t[1]+=i,i=t[1]>>>13,t[1]&=8191,t[2]+=i,r[0]=t[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(i^1)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+n[0];t[0]=s&65535;for(let a=1;a<8;a++)s=(t[a]+n[a]|0)+(s>>>16)|0,t[a]=s&65535;$0(r)}update(t){zee(this),t=Y7(t),Oa(t);const{buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){for(;r<=i-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){$0(this.h,this.r,this.buffer,this.pad)}digestInto(t){zee(this),USt(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=r[s]>>>0,t[o++]=r[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function rIt(e){const t=(r,i)=>e(i).update(Y7(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const iIt=rIt(e=>new nIt(e));function oIt(e,t,n,r,i,o=20){let s=e[0],a=e[1],l=e[2],c=e[3],d=t[0],u=t[1],h=t[2],m=t[3],v=t[4],y=t[5],g=t[6],b=t[7],k=i,_=n[0],R=n[1],I=n[2],T=s,D=a,M=l,C=c,U=d,$=u,z=h,q=m,S=v,A=y,O=g,N=b,j=k,V=_,K=R,W=I;for(let F=0;F<o;F+=2)T=T+U|0,j=xr(j^T,16),S=S+j|0,U=xr(U^S,12),T=T+U|0,j=xr(j^T,8),S=S+j|0,U=xr(U^S,7),D=D+$|0,V=xr(V^D,16),A=A+V|0,$=xr($^A,12),D=D+$|0,V=xr(V^D,8),A=A+V|0,$=xr($^A,7),M=M+z|0,K=xr(K^M,16),O=O+K|0,z=xr(z^O,12),M=M+z|0,K=xr(K^M,8),O=O+K|0,z=xr(z^O,7),C=C+q|0,W=xr(W^C,16),N=N+W|0,q=xr(q^N,12),C=C+q|0,W=xr(W^C,8),N=N+W|0,q=xr(q^N,7),T=T+$|0,W=xr(W^T,16),O=O+W|0,$=xr($^O,12),T=T+$|0,W=xr(W^T,8),O=O+W|0,$=xr($^O,7),D=D+z|0,j=xr(j^D,16),N=N+j|0,z=xr(z^N,12),D=D+z|0,j=xr(j^D,8),N=N+j|0,z=xr(z^N,7),M=M+q|0,V=xr(V^M,16),S=S+V|0,q=xr(q^S,12),M=M+q|0,V=xr(V^M,8),S=S+V|0,q=xr(q^S,7),C=C+U|0,K=xr(K^C,16),A=A+K|0,U=xr(U^A,12),C=C+U|0,K=xr(K^C,8),A=A+K|0,U=xr(U^A,7);let P=0;r[P++]=s+T|0,r[P++]=a+D|0,r[P++]=l+M|0,r[P++]=c+C|0,r[P++]=d+U|0,r[P++]=u+$|0,r[P++]=h+z|0,r[P++]=m+q|0,r[P++]=v+S|0,r[P++]=y+A|0,r[P++]=g+O|0,r[P++]=b+N|0,r[P++]=k+j|0,r[P++]=_+V|0,r[P++]=R+K|0,r[P++]=I+W|0}const sIt=tIt(oIt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),aIt=new Uint8Array(16),Gee=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(aIt.subarray(n))},lIt=new Uint8Array(32);function Jee(e,t,n,r,i){const o=e(t,n,lIt),s=iIt.create(o);i&&Gee(s,i),Gee(s,r);const a=HSt(r.length,i?i.length:0,!0);s.update(a);const l=s.digest();return $0(o,a),l}const cIt=e=>(t,n,r)=>({encrypt(i,o){const s=i.length;o=Vee(s+16,o,!1),o.set(i);const a=o.subarray(0,-16);e(t,n,a,a,1);const l=Jee(e,t,n,a,r);return o.set(l,s),$0(l),o},decrypt(i,o){o=Vee(i.length-16,o,!1);const s=i.subarray(0,-16),a=i.subarray(-16),l=Jee(e,t,n,s,r);if(!VSt(a,l))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),e(t,n,o,o,1),$0(l),o}}),Dye=KSt({blockSize:64,nonceLength:12,tagLength:16},cIt(sIt));let jye=class extends AE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,H9(t);const r=$c(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),ac(o)}update(t){return zh(this),this.iHash.update(t),this}digestInto(t){zh(this),sc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const TE=(e,t,n)=>new jye(e,t).update(n).digest();TE.create=(e,t)=>new jye(e,t);function dIt(e,t,n){return H9(e),n===void 0&&(n=new Uint8Array(e.outputLen)),TE(e,$c(n),$c(t))}const J8=Uint8Array.from([0]),Zee=Uint8Array.of();function uIt(e,t,n,r=32){H9(e),Gu(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/i);n===void 0&&(n=Zee);const s=new Uint8Array(o*i),a=TE.create(e,t),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let d=0;d<o;d++)J8[0]=d+1,l.update(d===0?Zee:c).update(n).update(J8).digestInto(c),s.set(c,i*d),a._cloneInto(l);return a.destroy(),l.destroy(),ac(c,J8),s.slice(0,r)}const fIt=(e,t,n,r,i)=>uIt(e,dIt(e,t,n),r,i),OE=RE,X9=BigInt(0),eB=BigInt(1);function vI(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Qk(e){const t=e.toString(16);return t.length&1?"0"+t:t}function $ye(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?X9:BigInt("0x"+e)}function NE(e){return $ye(R1(e))}function wI(e){return sc(e),$ye(R1(Uint8Array.from(e).reverse()))}function Q9(e,t){return J9(e.toString(16).padStart(t*2,"0"))}function e$(e,t){return Q9(e,t).reverse()}function Ra(e,t,n){let r;if(typeof t=="string")try{r=J9(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(K9(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Z8=e=>typeof e=="bigint"&&X9<=e;function hIt(e,t,n){return Z8(e)&&Z8(t)&&Z8(n)&&t<=e&&e<n}function tB(e,t,n,r){if(!hIt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function pIt(e){let t;for(t=0;e>X9;e>>=eB,t+=1);return t}const PE=e=>(eB<<BigInt(e))-eB;function mIt(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(e),s=r(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),d=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<t;){o=c();const v=o.slice();m.push(v),h+=o.length}return em(...m)};return(h,m)=>{l(),d(h);let v;for(;!(v=m(u()));)d();return l(),v}}function BE(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function Yee(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}const ja=BigInt(0),la=BigInt(1),tm=BigInt(2),gIt=BigInt(3),Lye=BigInt(4),Uye=BigInt(5),Fye=BigInt(8);function Xl(e,t){const n=e%t;return n>=ja?n:t+n}function Tc(e,t,n){let r=e;for(;t-- >ja;)r*=r,r%=n;return r}function Xee(e,t){if(e===ja)throw new Error("invert: expected non-zero number");if(t<=ja)throw new Error("invert: expected positive modulus, got "+t);let n=Xl(e,t),r=t,i=ja,o=la;for(;n!==ja;){const s=r/n,a=r%n,l=i-o*s;r=n,n=a,i=o,o=l}if(r!==la)throw new Error("invert: does not exist");return Xl(i,t)}function Wye(e,t){const n=(e.ORDER+la)/Lye,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function yIt(e,t){const n=(e.ORDER-Uye)/Fye,r=e.mul(t,tm),i=e.pow(r,n),o=e.mul(t,i),s=e.mul(e.mul(o,tm),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function vIt(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-la,n=0;for(;t%tm===ja;)t/=tm,n++;let r=tm;const i=Cv(e);for(;Qee(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Wye;let o=i.pow(r,t);const s=(t+la)/tm;return function(a,l){if(a.is0(l))return l;if(Qee(a,l)!==1)throw new Error("Cannot find square root");let c=n,d=a.mul(a.ONE,o),u=a.pow(l,t),h=a.pow(l,s);for(;!a.eql(u,a.ONE);){if(a.is0(u))return a.ZERO;let m=1,v=a.sqr(u);for(;!a.eql(v,a.ONE);)if(m++,v=a.sqr(v),m===c)throw new Error("Cannot find square root");const y=la<<BigInt(c-m-1),g=a.pow(d,y);c=m,d=a.sqr(g),u=a.mul(u,d),h=a.mul(h,g)}return h}}function wIt(e){return e%Lye===gIt?Wye:e%Fye===Uye?yIt:vIt(e)}const bIt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _It(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=bIt.reduce((r,i)=>(r[i]="function",r),t);return BE(e,n),e}function xIt(e,t,n){if(n<ja)throw new Error("invalid exponent, negatives unsupported");if(n===ja)return e.ONE;if(n===la)return t;let r=e.ONE,i=t;for(;n>ja;)n&la&&(r=e.mul(r,i)),i=e.sqr(i),n>>=la;return r}function qye(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(r[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(r[l]=e.mul(s,r[l]),e.mul(s,a)),o),r}function Qee(e,t){const n=(e.ORDER-la)/tm,r=e.pow(t,n),i=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function kIt(e,t){t!==void 0&&Gu(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Cv(e,t,n=!1,r={}){if(e<=ja)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=kIt(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:PE(s),ZERO:ja,ONE:la,create:d=>Xl(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return ja<=d&&d<e},is0:d=>d===ja,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&la)===la,neg:d=>Xl(-d,e),eql:(d,u)=>d===u,sqr:d=>Xl(d*d,e),add:(d,u)=>Xl(d+u,e),sub:(d,u)=>Xl(d-u,e),mul:(d,u)=>Xl(d*u,e),pow:(d,u)=>xIt(c,d,u),div:(d,u)=>Xl(d*Xee(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>Xee(d,e),sqrt:o||(d=>(l||(l=wIt(e)),l(c,d))),toBytes:d=>n?e$(d,a):Q9(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?wI(d):NE(d)},invertBatch:d=>qye(c,d),cmov:(d,u,h)=>h?u:d});return Object.freeze(c)}function zye(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Vye(e){const t=zye(e);return t+Math.ceil(t/2)}function SIt(e,t,n=!1){const r=e.length,i=zye(t),o=Vye(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?wI(e):NE(e),a=Xl(s,t-la)+la;return n?e$(a,i):Q9(a,i)}const L0=BigInt(0),nm=BigInt(1);function Eb(e,t){const n=t.negate();return e?n:t}function IIt(e,t,n){const r=o=>o.pz,i=qye(e.Fp,n.map(r));return n.map((o,s)=>o.toAffine(i[s])).map(e.fromAffine)}function Kye(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Y8(e,t){Kye(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=PE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function ete(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=nm);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function EIt(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function CIt(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const X8=new WeakMap,Hye=new WeakMap;function Q8(e){return Hye.get(e)||1}function tte(e){if(e!==L0)throw new Error("invalid wNAF")}function AIt(e,t){return{constTimeNegate:Eb,hasPrecomputes(n){return Q8(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>L0;)r&nm&&(i=i.add(o)),o=o.double(),r>>=nm;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Y8(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=Y8(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=ete(i,l,a);i=c,u?s=s.add(Eb(m,r[v])):o=o.add(Eb(h,r[d]))}return tte(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=Y8(n,t);for(let a=0;a<s.windows&&i!==L0;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=ete(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return tte(i),o},getPrecomputes(n,r,i){let o=X8.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),X8.set(r,o))),o},wNAFCached(n,r,i){const o=Q8(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=Q8(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){Kye(r,t),Hye.set(n,r),X8.delete(n)}}}function RIt(e,t,n,r){let i=t,o=e.ZERO,s=e.ZERO;for(;n>L0||r>L0;)n&nm&&(o=o.add(i)),r&nm&&(s=s.add(i)),i=i.double(),n>>=nm,r>>=nm;return{p1:o,p2:s}}function TIt(e,t,n,r){EIt(n,e),CIt(r,t);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=pIt(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=PE(l),d=new Array(Number(c)+1).fill(s),u=Math.floor((t.BITS-1)/l)*l;let h=s;for(let m=u;m>=0;m-=l){d.fill(s);for(let y=0;y<o;y++){const g=r[y],b=Number(g>>BigInt(m)&c);d[b]=d[b].add(n[y])}let v=s;for(let y=d.length-1,g=s;y>0;y--)g=g.add(d[y]),v=v.add(g);if(h=h.add(v),m!==0)for(let y=0;y<l;y++)h=h.double()}return h}function nte(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _It(t),t}else return Cv(e)}function OIt(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const a=t[s];if(!(typeof a=="bigint"&&a>L0))throw new Error(`CURVE.${s} must be positive bigint`)}const r=nte(t.p,n.Fp),i=nte(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const s of o)if(!r.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dw=BigInt(0),ay=BigInt(1),e2=BigInt(2);function NIt(e){return BE(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function PIt(e){const t=NIt(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:o,randomBytes:s}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=s||Ev,c=a?255:448,d=a?32:56,u=BigInt(a?9:5),h=BigInt(a?121665:39081),m=a?e2**BigInt(254):e2**BigInt(447),v=a?BigInt(8)*e2**BigInt(251)-ay:BigInt(4)*e2**BigInt(445)-ay,y=m+v+ay,g=C=>Xl(C,n),b=k(u);function k(C){return e$(g(C),d)}function _(C){const U=Ra("u coordinate",C,d);return a&&(U[31]&=127),g(wI(U))}function R(C){return wI(i(Ra("scalar",C,d)))}function I(C,U){const $=M(_(U),R(C));if($===Dw)throw new Error("invalid private or public key received");return k($)}function T(C){return I(C,b)}function D(C,U,$){const z=g(C*(U-$));return U=g(U-z),$=g($+z),{x_2:U,x_3:$}}function M(C,U){tB("u",C,Dw,n),tB("scalar",U,m,y);const $=U,z=C;let q=ay,S=Dw,A=C,O=ay,N=Dw;for(let V=BigInt(c-1);V>=Dw;V--){const K=$>>V&ay;N^=K,{x_2:q,x_3:A}=D(N,q,A),{x_2:S,x_3:O}=D(N,S,O),N=K;const W=q+S,P=g(W*W),F=q-S,G=g(F*F),Y=P-G,ie=A+O,ye=A-O,ge=g(ye*W),be=g(ie*F),Le=ge+be,qe=ge-be;A=g(Le*Le),O=g(z*g(qe*qe)),q=g(P*G),S=g(Y*(P+g(h*Y)))}({x_2:q,x_3:A}=D(N,q,A)),{x_2:S,x_3:O}=D(N,S,O);const j=o(S);return g(q*j)}return{scalarMult:I,scalarMultBase:T,getSharedSecret:(C,U)=>I(C,U),getPublicKey:C=>T(C),utils:{randomPrivateKey:()=>l(d)},GuBytes:b.slice()}}BigInt(0);const BIt=BigInt(1),rte=BigInt(2),MIt=BigInt(3),DIt=BigInt(5);BigInt(8);const Gye={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function jIt(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Gye.p,s=e*e%o*e%o,a=Tc(s,rte,o)*s%o,l=Tc(a,BIt,o)*e%o,c=Tc(l,DIt,o)*l%o,d=Tc(c,t,o)*c%o,u=Tc(d,n,o)*d%o,h=Tc(u,r,o)*u%o,m=Tc(h,i,o)*h%o,v=Tc(m,i,o)*h%o,y=Tc(v,t,o)*c%o;return{pow_p_5_8:Tc(y,rte,o)*e%o,b2:s}}function $It(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const nB=(()=>{const e=Gye.p;return PIt({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=jIt(t);return Xl(Tc(n,MIt,e)*r,e)},adjustScalarBytes:$It})})();function ite(e){e.lowS!==void 0&&vI("lowS",e.lowS),e.prehash!==void 0&&vI("prehash",e.prehash)}class LIt extends Error{constructor(t=""){super(t)}}const Eu={Err:LIt,_tlv:{encode:(e,t)=>{const{Err:n}=Eu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Qk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Qk(i.length/2|128):"";return Qk(e)+o+i+t},decode(e,t){const{Err:n}=Eu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Eu;if(e<Cb)throw new t("integer: negative integers are not allowed");let n=Qk(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Eu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return NE(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Eu,i=Ra("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Eu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Cb=BigInt(0),Ab=BigInt(1),UIt=BigInt(2),t2=BigInt(3),FIt=BigInt(4);function WIt(e,t,n){function r(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),n)}return r}function Jye(e,t,n){const{BYTES:r}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=Ra("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function qIt(e,t={}){const{Fp:n,Fn:r}=OIt("weierstrass",e,t),{h:i,n:o}=e;BE(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!n.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(M,C,U){const{x:$,y:z}=C.toAffine(),q=n.toBytes($);if(vI("isCompressed",U),U){a();const S=!n.isOdd(z);return em(Zye(S),q)}else return em(Uint8Array.of(4),q,n.toBytes(z))}function c(M){sc(M);const C=n.BYTES,U=C+1,$=2*C+1,z=M.length,q=M[0],S=M.subarray(1);if(z===U&&(q===2||q===3)){const A=n.fromBytes(S);if(!n.isValid(A))throw new Error("bad point: is not on curve, wrong x");const O=h(A);let N;try{N=n.sqrt(O)}catch(V){const K=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}a();const j=n.isOdd(N);return(q&1)===1!==j&&(N=n.neg(N)),{x:A,y:N}}else if(z===$&&q===4){const A=n.fromBytes(S.subarray(C*0,C*1)),O=n.fromBytes(S.subarray(C*1,C*2));if(!m(A,O))throw new Error("bad point: is not on curve");return{x:A,y:O}}else throw new Error(`bad point: got length ${z}, expected compressed=${U} or uncompressed=${$}`)}const d=t.toBytes||l,u=t.fromBytes||c,h=WIt(n,e.a,e.b);function m(M,C){const U=n.sqr(C),$=h(M);return n.eql(U,$)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,t2),FIt),y=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,y)))throw new Error("bad curve params: a or b");function g(M,C,U=!1){if(!n.isValid(C)||U&&n.is0(C))throw new Error(`bad point coordinate ${M}`);return C}function b(M){if(!(M instanceof I))throw new Error("ProjectivePoint expected")}const k=Yee((M,C)=>{const{px:U,py:$,pz:z}=M;if(n.eql(z,n.ONE))return{x:U,y:$};const q=M.is0();C==null&&(C=q?n.ONE:n.inv(z));const S=n.mul(U,C),A=n.mul($,C),O=n.mul(z,C);if(q)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:S,y:A}}),_=Yee(M=>{if(M.is0()){if(t.allowInfinityPoint&&!n.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:C,y:U}=M.toAffine();if(!n.isValid(C)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!m(C,U))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(M,C,U,$,z){return U=new I(n.mul(U.px,M),U.py,U.pz),C=Eb($,C),U=Eb(z,U),C.add(U)}class I{constructor(C,U,$){this.px=g("x",C),this.py=g("y",U,!0),this.pz=g("z",$),Object.freeze(this)}static fromAffine(C){const{x:U,y:$}=C||{};if(!C||!n.isValid(U)||!n.isValid($))throw new Error("invalid affine point");if(C instanceof I)throw new Error("projective point not allowed");return n.is0(U)&&n.is0($)?I.ZERO:new I(U,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return IIt(I,"pz",C)}static fromBytes(C){return sc(C),I.fromHex(C)}static fromHex(C){const U=I.fromAffine(u(Ra("pointHex",C)));return U.assertValidity(),U}static fromPrivateKey(C){const U=Jye(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(U(C))}static msm(C,U){return TIt(I,r,C,U)}precompute(C=8,U=!0){return D.setWindowSize(this,C),U||this.multiply(t2),this}_setWindowSize(C){this.precompute(C)}assertValidity(){_(this)}hasEvenY(){const{y:C}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(C)}equals(C){b(C);const{px:U,py:$,pz:z}=this,{px:q,py:S,pz:A}=C,O=n.eql(n.mul(U,A),n.mul(q,z)),N=n.eql(n.mul($,A),n.mul(S,z));return O&&N}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:U}=e,$=n.mul(U,t2),{px:z,py:q,pz:S}=this;let A=n.ZERO,O=n.ZERO,N=n.ZERO,j=n.mul(z,z),V=n.mul(q,q),K=n.mul(S,S),W=n.mul(z,q);return W=n.add(W,W),N=n.mul(z,S),N=n.add(N,N),A=n.mul(C,N),O=n.mul($,K),O=n.add(A,O),A=n.sub(V,O),O=n.add(V,O),O=n.mul(A,O),A=n.mul(W,A),N=n.mul($,N),K=n.mul(C,K),W=n.sub(j,K),W=n.mul(C,W),W=n.add(W,N),N=n.add(j,j),j=n.add(N,j),j=n.add(j,K),j=n.mul(j,W),O=n.add(O,j),K=n.mul(q,S),K=n.add(K,K),j=n.mul(K,W),A=n.sub(A,j),N=n.mul(K,V),N=n.add(N,N),N=n.add(N,N),new I(A,O,N)}add(C){b(C);const{px:U,py:$,pz:z}=this,{px:q,py:S,pz:A}=C;let O=n.ZERO,N=n.ZERO,j=n.ZERO;const V=e.a,K=n.mul(e.b,t2);let W=n.mul(U,q),P=n.mul($,S),F=n.mul(z,A),G=n.add(U,$),Y=n.add(q,S);G=n.mul(G,Y),Y=n.add(W,P),G=n.sub(G,Y),Y=n.add(U,z);let ie=n.add(q,A);return Y=n.mul(Y,ie),ie=n.add(W,F),Y=n.sub(Y,ie),ie=n.add($,z),O=n.add(S,A),ie=n.mul(ie,O),O=n.add(P,F),ie=n.sub(ie,O),j=n.mul(V,Y),O=n.mul(K,F),j=n.add(O,j),O=n.sub(P,j),j=n.add(P,j),N=n.mul(O,j),P=n.add(W,W),P=n.add(P,W),F=n.mul(V,F),Y=n.mul(K,Y),P=n.add(P,F),F=n.sub(W,F),F=n.mul(V,F),Y=n.add(Y,F),W=n.mul(P,Y),N=n.add(N,W),W=n.mul(ie,Y),O=n.mul(G,O),O=n.sub(O,W),W=n.mul(G,P),j=n.mul(ie,j),j=n.add(j,W),new I(O,N,j)}subtract(C){return this.add(C.negate())}is0(){return this.equals(I.ZERO)}multiply(C){const{endo:U}=t;if(!r.isValidNot0(C))throw new Error("invalid scalar: out of range");let $,z;const q=S=>D.wNAFCached(this,S,I.normalizeZ);if(U){const{k1neg:S,k1:A,k2neg:O,k2:N}=U.splitScalar(C),{p:j,f:V}=q(A),{p:K,f:W}=q(N);z=V.add(W),$=R(U.beta,j,K,S,O)}else{const{p:S,f:A}=q(C);$=S,z=A}return I.normalizeZ([$,z])[0]}multiplyUnsafe(C){const{endo:U}=t,$=this;if(!r.isValid(C))throw new Error("invalid scalar: out of range");if(C===Cb||$.is0())return I.ZERO;if(C===Ab)return $;if(D.hasPrecomputes(this))return this.multiply(C);if(U){const{k1neg:z,k1:q,k2neg:S,k2:A}=U.splitScalar(C),{p1:O,p2:N}=RIt(I,$,q,A);return R(U.beta,O,N,z,S)}else return D.wNAFCachedUnsafe($,C)}multiplyAndAddUnsafe(C,U,$){const z=this.multiplyUnsafe(U).add(C.multiplyUnsafe($));return z.is0()?void 0:z}toAffine(C){return k(this,C)}isTorsionFree(){const{isTorsionFree:C}=t;return i===Ab?!0:C?C(I,this):D.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:C}=t;return i===Ab?this:C?C(I,this):this.multiplyUnsafe(i)}toBytes(C=!0){return vI("isCompressed",C),this.assertValidity(),d(I,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return R1(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const T=r.BITS,D=AIt(I,t.endo?Math.ceil(T/2):T);return I}function Zye(e){return Uint8Array.of(e?2:3)}function zIt(e,t,n={}){BE(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Ev,i=t.hmac||(($,...z)=>TE(t.hash,$,em(...z))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c($){const z=a>>Ab;return $>z}function d($){return c($)?s.neg($):$}function u($,z){if(!s.isValidNot0(z))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(z,q,S){u("r",z),u("s",q),this.r=z,this.s=q,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(z){const q=s.BYTES,S=Ra("compactSignature",z,q*2);return new h(s.fromBytes(S.subarray(0,q)),s.fromBytes(S.subarray(q,q*2)))}static fromDER(z){const{r:q,s:S}=Eu.toSig(Ra("DER",z));return new h(q,S)}assertValidity(){}addRecoveryBit(z){return new h(this.r,this.s,z)}recoverPublicKey(z){const q=o.ORDER,{r:S,s:A,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*UIt<q&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=O===2||O===3?S+a:S;if(!o.isValid(N))throw new Error("recovery id 2 or 3 invalid");const j=o.toBytes(N),V=e.fromHex(em(Zye((O&1)===0),j)),K=s.inv(N),W=_(Ra("msgHash",z)),P=s.create(-W*K),F=s.create(A*K),G=e.BASE.multiplyUnsafe(P).add(V.multiplyUnsafe(F));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s.neg(this.s),this.recovery):this}toBytes(z){if(z==="compact")return em(s.toBytes(this.r),s.toBytes(this.s));if(z==="der")return J9(Eu.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return R1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return R1(this.toBytes("compact"))}}const m=Jye(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey($){try{return m($),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const $=a;return SIt(r(Vye($)),$)},precompute($=8,z=e.BASE){return z.precompute($,!1)}};function y($,z=!0){return e.fromPrivateKey($).toBytes(z)}function g($){if(typeof $=="bigint")return!1;if($ instanceof e)return!0;const z=Ra("key",$).length,q=o.BYTES,S=q+1,A=2*q+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===S))return z===S||z===A}function b($,z,q=!0){if(g($)===!0)throw new Error("first arg must be private key");if(g(z)===!1)throw new Error("second arg must be public key");return e.fromHex(z).multiply(m($)).toBytes(q)}const k=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const z=NE($),q=$.length*8-l;return q>0?z>>BigInt(q):z},_=t.bits2int_modN||function($){return s.create(k($))},R=PE(l);function I($){return tB("num < 2^"+l,$,Cb,R),s.toBytes($)}function T($,z,q=D){if(["recovered","canonical"].some(G=>G in q))throw new Error("sign() legacy options not supported");const{hash:S}=t;let{lowS:A,prehash:O,extraEntropy:N}=q;A==null&&(A=!0),$=Ra("msgHash",$),ite(q),O&&($=Ra("prehashed msgHash",S($)));const j=_($),V=m(z),K=[I(V),I(j)];if(N!=null&&N!==!1){const G=N===!0?r(o.BYTES):N;K.push(Ra("extraEntropy",G))}const W=em(...K),P=j;function F(G){const Y=k(G);if(!s.isValidNot0(Y))return;const ie=s.inv(Y),ye=e.BASE.multiply(Y).toAffine(),ge=s.create(ye.x);if(ge===Cb)return;const be=s.create(ie*s.create(P+ge*V));if(be===Cb)return;let Le=(ye.x===ge?0:2)|Number(ye.y&Ab),qe=be;return A&&c(be)&&(qe=d(be),Le^=1),new h(ge,qe,Le)}return{seed:W,k2sig:F}}const D={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function C($,z,q=D){const{seed:S,k2sig:A}=T($,z,q);return mIt(t.hash.outputLen,s.BYTES,i)(S,A)}e.BASE.precompute(8);function U($,z,q,S=M){const A=$;z=Ra("msgHash",z),q=Ra("publicKey",q),ite(S);const{lowS:O,prehash:N,format:j}=S;if("strict"in S)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&!["compact","der","js"].includes(j))throw new Error('format must be "compact", "der" or "js"');const V=typeof A=="string"||K9(A),K=!V&&!j&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!V&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,P;try{if(K)if(j===void 0||j==="js")W=new h(A.r,A.s);else throw new Error("invalid format");if(V){try{j!=="compact"&&(W=h.fromDER(A))}catch(Le){if(!(Le instanceof Eu.Err))throw Le}!W&&j!=="der"&&(W=h.fromCompact(A))}P=e.fromHex(q)}catch{return!1}if(!W||O&&W.hasHighS())return!1;N&&(z=t.hash(z));const{r:F,s:G}=W,Y=_(z),ie=s.inv(G),ye=s.create(Y*ie),ge=s.create(F*ie),be=e.BASE.multiplyUnsafe(ye).add(P.multiplyUnsafe(ge));return be.is0()?!1:s.create(be.x)===F}return Object.freeze({getPublicKey:y,getSharedSecret:b,sign:C,verify:U,utils:v,Point:e,Signature:h})}function VIt(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Cv(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function KIt(e){const{CURVE:t,curveOpts:n}=VIt(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function HIt(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function GIt(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=KIt(e),i=qIt(t,n),o=zIt(i,r,n);return HIt(e,o)}function rB(e,t){const n=r=>GIt({...e,hash:r});return{...n(t),create:n}}const Yye={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Xye={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Qye={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},JIt=Cv(Yye.p),ZIt=Cv(Xye.p),YIt=Cv(Qye.p),XIt=rB({...Yye,Fp:JIt,lowS:!1},RE);rB({...Xye,Fp:ZIt,lowS:!1},sSt),rB({...Qye,Fp:YIt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},oSt);const QIt=XIt,e0e="base10",ca="base16",Mc="base64pad",mh="base64url",z_="utf8",t0e=0,Wu=1,V_=2,e3t=0,ote=1,Rb=12,t$=32;function t3t(){const e=nB.utils.randomPrivateKey(),t=nB.getPublicKey(e);return{privateKey:La(e,ca),publicKey:La(t,ca)}}function iB(){const e=Ev(t$);return La(e,ca)}function n3t(e,t){const n=nB.getSharedSecret(nc(e,ca),nc(t,ca)),r=fIt(OE,n,void 0,void 0,t$);return La(r,ca)}function K2(e){const t=OE(nc(e,ca));return La(t,ca)}function kd(e){const t=OE(nc(e,z_));return La(t,ca)}function n0e(e){return nc(`${e}`,e0e)}function Mm(e){return Number(La(e,e0e))}function r0e(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function i0e(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function r3t(e){const t=n0e(typeof e.type<"u"?e.type:t0e);if(Mm(t)===Wu&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?nc(e.senderPublicKey,ca):void 0,r=typeof e.iv<"u"?nc(e.iv,ca):Ev(Rb),i=nc(e.symKey,ca),o=Dye(i,r).encrypt(nc(e.message,z_)),s=o0e({type:t,sealed:o,iv:r,senderPublicKey:n});return e.encoding===mh?r0e(s):s}function i3t(e){const t=nc(e.symKey,ca),{sealed:n,iv:r}=O1({encoded:e.encoded,encoding:e.encoding}),i=Dye(t,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return La(i,z_)}function o3t(e,t){const n=n0e(V_),r=Ev(Rb),i=nc(e,z_),o=o0e({type:n,sealed:i,iv:r});return t===mh?r0e(o):o}function s3t(e,t){const{sealed:n}=O1({encoded:e,encoding:t});return La(n,z_)}function o0e(e){if(Mm(e.type)===V_)return La(xb([e.type,e.sealed]),Mc);if(Mm(e.type)===Wu){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return La(xb([e.type,e.senderPublicKey,e.iv,e.sealed]),Mc)}return La(xb([e.type,e.iv,e.sealed]),Mc)}function O1(e){const t=(e.encoding||Mc)===mh?i0e(e.encoded):e.encoded,n=nc(t,Mc),r=n.slice(e3t,ote),i=ote;if(Mm(r)===Wu){const l=i+t$,c=l+Rb,d=n.slice(i,l),u=n.slice(l,c),h=n.slice(c);return{type:r,sealed:h,iv:u,senderPublicKey:d}}if(Mm(r)===V_){const l=n.slice(i),c=Ev(Rb);return{type:r,sealed:l,iv:c}}const o=i+Rb,s=n.slice(i,o),a=n.slice(o);return{type:r,sealed:a,iv:s}}function a3t(e,t){const n=O1({encoded:e,encoding:t==null?void 0:t.encoding});return s0e({type:Mm(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?La(n.senderPublicKey,ca):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function s0e(e){const t=(e==null?void 0:e.type)||t0e;if(t===Wu){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function ste(e){return e.type===Wu&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function ate(e){return e.type===V_}function l3t(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return xb([new Uint8Array([4]),t,n])}function c3t(e,t){const[n,r,i]=e.split("."),o=Buffer.from(i0e(i),"base64");if(o.length!==64)throw new Error("Invalid signature length");const s=o.slice(0,32),a=o.slice(32,64),l=`${n}.${r}`,c=OE(l),d=l3t(t);if(!QIt.verify(xb([s,a]),c,d))throw new Error("Invalid signature");return B7(e).payload}const d3t="irn";function bI(e){return(e==null?void 0:e.relay)||{protocol:d3t}}function nb(e){const t=n1t[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function u3t(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(r)){const o=i.replace(r,""),s=e[i];n[o]=s}}),n}function lte(e){if(!e.includes("wc:")){const c=yye(e);c!=null&&c.includes("wc:")&&(e=c)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),o=typeof n<"u"?e.substring(n):"",s=new URLSearchParams(o),a={};s.forEach((c,d)=>{a[d]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:f3t(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:u3t(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function f3t(e){return e.startsWith("//")?e.substring(2):e}function h3t(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(i=>{const o=i,s=n+t+o;e[o]&&(r[s]=e[o])}),r}function cte(e){const t=new URLSearchParams,n=h3t(e.relay);Object.keys(n).sort().forEach(i=>{t.set(i,n[i])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function n2(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var p3t=Object.defineProperty,m3t=Object.defineProperties,g3t=Object.getOwnPropertyDescriptors,dte=Object.getOwnPropertySymbols,y3t=Object.prototype.hasOwnProperty,v3t=Object.prototype.propertyIsEnumerable,ute=(e,t,n)=>t in e?p3t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w3t=(e,t)=>{for(var n in t||(t={}))y3t.call(t,n)&&ute(e,n,t[n]);if(dte)for(var n of dte(t))v3t.call(t,n)&&ute(e,n,t[n]);return e},b3t=(e,t)=>m3t(e,g3t(t));function Av(e){const t=[];return e.forEach(n=>{const[r,i]=n.split(":");t.push(`${r}:${i}`)}),t}function _3t(e){const t=[];return Object.values(e).forEach(n=>{t.push(...Av(n.accounts))}),t}function x3t(e,t){const n=[];return Object.values(e).forEach(r=>{Av(r.accounts).includes(t)&&n.push(...r.methods)}),n}function k3t(e,t){const n=[];return Object.values(e).forEach(r=>{Av(r.accounts).includes(t)&&n.push(...r.events)}),n}function a0e(e){return e.includes(":")}function S3t(e){return a0e(e)?e.split(":")[0]:e}function fte(e){var t,n,r;const i={};if(!N1(e))return i;for(const[o,s]of Object.entries(e)){const a=a0e(o)?[o]:s.chains,l=s.methods||[],c=s.events||[],d=S3t(o);i[d]=b3t(w3t({},i[d]),{chains:um(a,(t=i[d])==null?void 0:t.chains),methods:um(l,(n=i[d])==null?void 0:n.methods),events:um(c,(r=i[d])==null?void 0:r.events)})}return i}function I3t(e){const t={};return e==null||e.forEach(n=>{var r;const[i,o]=n.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[],methods:[]}),t[i].accounts.push(n),(r=t[i].chains)==null||r.push(`${i}:${o}`)}),t}function hte(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=I3t(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=um(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}function E3t(e,t){var n,r,i,o,s,a;const l=fte(e),c=fte(t),d={},u=Object.keys(l).concat(Object.keys(c));for(const h of u)d[h]={chains:um((n=l[h])==null?void 0:n.chains,(r=c[h])==null?void 0:r.chains),methods:um((i=l[h])==null?void 0:i.methods,(o=c[h])==null?void 0:o.methods),events:um((s=l[h])==null?void 0:s.events,(a=c[h])==null?void 0:a.events)};return d}const C3t={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},A3t={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function kt(e,t){const{message:n,code:r}=A3t[e];return{message:t?`${n} ${t}`:n,code:r}}function Ki(e,t){const{message:n,code:r}=C3t[e];return{message:t?`${n} ${t}`:n,code:r}}function U0(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function N1(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ms(e){return typeof e>"u"}function go(e,t){return t&&ms(e)?!0:typeof e=="string"&&!!e.trim().length}function n$(e,t){return t&&ms(e)?!0:typeof e=="number"&&!isNaN(e)}function R3t(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let o=!0;return Qp(i,r)?(r.forEach(s=>{const{accounts:a,methods:l,events:c}=e.namespaces[s],d=Av(a),u=n[s];(!Qp(fye(s,u),d)||!Qp(u.methods,l)||!Qp(u.events,c))&&(o=!1)}),o):!1}function _I(e){return go(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function T3t(e){if(go(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&_I(n)}}return!1}function O3t(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(go(e,!1)){if(t(e))return!0;const n=yye(e);return t(n)}}catch{}return!1}function N3t(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function P3t(e){return e==null?void 0:e.topic}function B3t(e,t){let n=null;return go(e==null?void 0:e.publicKey,!1)||(n=kt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function pte(e){let t=!0;return U0(e)?e.length&&(t=e.every(n=>go(n,!1))):t=!1,t}function M3t(e,t,n){let r=null;return U0(t)&&t.length?t.forEach(i=>{r||_I(i)||(r=Ki("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):_I(e)||(r=Ki("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function D3t(e,t,n){let r=null;return Object.entries(e).forEach(([i,o])=>{if(r)return;const s=M3t(i,fye(i,o),`${t} ${n}`);s&&(r=s)}),r}function j3t(e,t){let n=null;return U0(e)?e.forEach(r=>{n||T3t(r)||(n=Ki("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ki("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function $3t(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=j3t(r==null?void 0:r.accounts,`${t} namespace`);i&&(n=i)}),n}function L3t(e,t){let n=null;return pte(e==null?void 0:e.methods)?pte(e==null?void 0:e.events)||(n=Ki("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Ki("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function l0e(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const i=L3t(r,`${t}, namespace`);i&&(n=i)}),n}function U3t(e,t,n){let r=null;if(e&&N1(e)){const i=l0e(e,t);i&&(r=i);const o=D3t(e,t,n);o&&(r=o)}else r=kt("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function eT(e,t){let n=null;if(e&&N1(e)){const r=l0e(e,t);r&&(n=r);const i=$3t(e,t);i&&(n=i)}else n=kt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function c0e(e){return go(e.protocol,!0)}function F3t(e,t){let n=!1;return e?e&&U0(e)&&e.length&&e.forEach(r=>{n=c0e(r)}):n=!0,n}function W3t(e){return typeof e=="number"}function Ea(e){return typeof e<"u"&&typeof e!==null}function q3t(e){return!(!e||typeof e!="object"||!e.code||!n$(e.code,!1)||!e.message||!go(e.message,!1))}function z3t(e){return!(ms(e)||!go(e.method,!1))}function V3t(e){return!(ms(e)||ms(e.result)&&ms(e.error)||!n$(e.id,!1)||!go(e.jsonrpc,!1))}function K3t(e){return!(ms(e)||!go(e.name,!1))}function mte(e,t){return!(!_I(t)||!_3t(e).includes(t))}function H3t(e,t,n){return go(n,!1)?x3t(e,t).includes(n):!1}function G3t(e,t,n){return go(n,!1)?k3t(e,t).includes(n):!1}function gte(e,t,n){let r=null;const i=J3t(e),o=Z3t(t),s=Object.keys(i),a=Object.keys(o),l=yte(Object.keys(e)),c=yte(Object.keys(t)),d=l.filter(u=>!c.includes(u));return d.length&&(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(t).toString()}`)),Qp(s,a)||(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(u=>{if(!u.includes(":")||r)return;const h=Av(t[u].accounts);h.includes(u)||(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${u}
        Required: ${u}
        Approved: ${h.toString()}`))}),s.forEach(u=>{r||(Qp(i[u].methods,o[u].methods)?Qp(i[u].events,o[u].events)||(r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${u}`)):r=kt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${u}`))}),r}function J3t(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(i=>{t[i]={methods:e[n].methods,events:e[n].events}})}),t}function yte(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Z3t(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=Av(e[n].accounts);r==null||r.forEach(i=>{t[i]={accounts:e[n].accounts.filter(o=>o.includes(`${i}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function Y3t(e,t){return n$(e,!1)&&e<=t.max&&e>=t.min}function vte(){const e=W_();return new Promise(t=>{switch(e){case bl.browser:t(X3t());break;case bl.reactNative:t(Q3t());break;case bl.node:t(eEt());break;default:t(!0)}})}function X3t(){return Iv()&&(navigator==null?void 0:navigator.onLine)}async function Q3t(){if(op()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function eEt(){return!0}function tEt(e){switch(W_()){case bl.browser:nEt(e);break;case bl.reactNative:rEt(e);break}}function nEt(e){!op()&&Iv()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function rEt(e){op()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}function iEt(){var e;return Iv()&&Hu.getDocument()?((e=Hu.getDocument())==null?void 0:e.visibilityState)==="visible":!0}const tT={};class jw{static get(t){return tT[t]}static set(t,n){tT[t]=n}static delete(t){delete tT[t]}}function oEt(e){const t=F_.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function sEt({publicKey:e,signature:t,payload:n}){var r;const i=oB(n.method),o=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),s=cEt(n.address),a=n.era==="00"?new Uint8Array([0]):oB(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),c=new Uint8Array([l&255,l>>8&255]),d=BigInt(`0x${lEt(n.tip)}`),u=uEt(d),h=new Uint8Array([0,...e,s,...t,...a,...c,...u,...i]),m=dEt(h.length+1);return new Uint8Array([...m,o,...h])}function aEt(e){const t=oB(e),n=s1t.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function oB(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function lEt(e){return e.startsWith("0x")?e.slice(2):e}function cEt(e){const t=F_.decode(e)[0];return t===42?0:t===60?2:1}function dEt(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function uEt(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function fEt(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=oEt(e.transaction.address),r=sEt({publicKey:n,signature:t,payload:e.transaction}),i=Buffer.from(r).toString("hex");return aEt(i)}const hEt="PARSE_ERROR",pEt="INVALID_REQUEST",mEt="METHOD_NOT_FOUND",gEt="INVALID_PARAMS",d0e="INTERNAL_ERROR",r$="SERVER_ERROR",yEt=[-32700,-32600,-32601,-32602,-32603],Tb={[hEt]:{code:-32700,message:"Parse error"},[pEt]:{code:-32600,message:"Invalid Request"},[mEt]:{code:-32601,message:"Method not found"},[gEt]:{code:-32602,message:"Invalid params"},[d0e]:{code:-32603,message:"Internal error"},[r$]:{code:-32e3,message:"Server error"}},u0e=r$;function vEt(e){return yEt.includes(e)}function wte(e){return Object.keys(Tb).includes(e)?Tb[e]:Tb[u0e]}function wEt(e){const t=Object.values(Tb).find(n=>n.code===e);return t||Tb[u0e]}function bEt(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var nT={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sB=function(e,t){return sB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},sB(e,t)};function _Et(e,t){sB(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var aB=function(){return aB=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},aB.apply(this,arguments)};function xEt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function kEt(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function SEt(e,t){return function(n,r){t(n,r,e)}}function IEt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function EEt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function CEt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function AEt(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function REt(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lB(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f0e(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function TEt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f0e(arguments[t]));return e}function OEt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function P1(e){return this instanceof P1?(this.v=e,this):new P1(e)}function NEt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(v,y){o.push([h,m,v,y])>1||a(h,m)})})}function a(h,m){try{l(r[h](m))}catch(v){u(o[0][3],v)}}function l(h){h.value instanceof P1?Promise.resolve(h.value.v).then(c,d):u(o[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function PEt(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:P1(e[i](s)),done:i==="return"}:o?o(s):s}:o}}function BEt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof lB=="function"?lB(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function MEt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function DEt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function jEt(e){return e&&e.__esModule?e:{default:e}}function $Et(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function LEt(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const UEt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return aB},__asyncDelegator:PEt,__asyncGenerator:NEt,__asyncValues:BEt,__await:P1,__awaiter:EEt,__classPrivateFieldGet:$Et,__classPrivateFieldSet:LEt,__createBinding:AEt,__decorate:kEt,__exportStar:REt,__extends:_Et,__generator:CEt,__importDefault:jEt,__importStar:DEt,__makeTemplateObject:MEt,__metadata:IEt,__param:SEt,__read:f0e,__rest:xEt,__spread:TEt,__spreadArrays:OEt,__values:lB},Symbol.toStringTag,{value:"Module"})),FEt=q1(UEt);var mu={},bte;function WEt(){if(bte)return mu;bte=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.isBrowserCryptoAvailable=mu.getSubtleCrypto=mu.getBrowerCrypto=void 0;function e(){return(Na==null?void 0:Na.crypto)||(Na==null?void 0:Na.msCrypto)||{}}mu.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}mu.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return mu.isBrowserCryptoAvailable=n,mu}var gu={},_te;function qEt(){if(_te)return gu;_te=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.isBrowser=gu.isNode=gu.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}gu.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}gu.isNode=t;function n(){return!e()&&!t()}return gu.isBrowser=n,gu}var xte;function zEt(){return xte||(xte=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=FEt;t.__exportStar(WEt(),e),t.__exportStar(qEt(),e)})(nT)),nT}var VEt=zEt();function wd(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function rm(e=6){return BigInt(wd(e))}function im(e,t,n){return{id:n||wd(),jsonrpc:"2.0",method:e,params:t}}function i$(e,t){return{id:e,jsonrpc:"2.0",result:t}}function o$(e,t,n){return{id:e,jsonrpc:"2.0",error:KEt(t)}}function KEt(e,t){return typeof e>"u"?wte(d0e):(typeof e=="string"&&(e=Object.assign(Object.assign({},wte(r$)),{message:e})),vEt(e.code)&&(e=wEt(e.code)),e)}class HEt{}class GEt extends HEt{constructor(){super()}}class JEt extends GEt{constructor(t){super()}}const ZEt="^wss?:";function YEt(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function XEt(e,t){const n=YEt(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function kte(e){return XEt(e,ZEt)}function QEt(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function h0e(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function s$(e){return h0e(e)&&"method"in e}function ME(e){return h0e(e)&&(bd(e)||Jl(e))}function bd(e){return"result"in e}function Jl(e){return"error"in e}class eCt extends JEt{constructor(t){super(t),this.events=new Xc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(im(t.method,t.params||[],t.id||rm().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${t.id}`,o=>{Jl(o)?i(o.error):r(o.result)});try{await this.connection.send(t,n)}catch(o){i(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ME(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const tCt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),nCt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Ste=e=>e.split("?")[0],Ite=10,rCt=tCt();let iCt=class{constructor(t){if(this.url=t,this.events=new Xc.EventEmitter,this.registering=!1,!kte(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Nm(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!kte(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const i=VEt.isReactNative()?void 0:{rejectUnauthorized:!QEt(t)},o=new rCt(t,[],i);nCt()?o.onerror=s=>{const a=s;r(this.emitError(a.error))}:o.on("error",s=>{r(this.emitError(s))}),o.onopen=()=>{this.onOpen(o),n(o)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?M0(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),o=o$(t,i);this.events.emit("payload",o)}parseError(t,n=this.url){return bEt(t,Ste(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Ite&&this.events.setMaxListeners(Ite)}emitError(t){const n=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${Ste(this.url)}`));return this.events.emit("register_error",n),n}};var oCt={};const p0e="wc",m0e=2,cB="core",jd=`${p0e}@2:${cB}:`,sCt={logger:"error"},aCt={database:":memory:"},lCt="crypto",Ete="client_ed25519_seed",cCt=It.ONE_DAY,dCt="keychain",uCt="0.3",fCt="messages",hCt="0.3",Cte=It.SIX_HOURS,pCt="publisher",g0e="irn",mCt="error",y0e="wss://relay.walletconnect.org",gCt="relayer",zo={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},yCt="_subscription",Fl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},vCt=.1,dB="2.21.5",hi={link_mode:"link_mode",relay:"relay"},H2={inbound:"inbound",outbound:"outbound"},wCt="0.3",bCt="WALLETCONNECT_CLIENT_ID",Ate="WALLETCONNECT_LINK_MODE_APPS",Za={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},_Ct="subscription",xCt="0.3",kCt="pairing",SCt="0.3",$w={wc_pairingDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:It.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:It.ONE_DAY,prompt:!1,tag:0},res:{ttl:It.ONE_DAY,prompt:!1,tag:0}}},qp={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Sc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ICt="history",ECt="0.3",CCt="expirer",Vl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ACt="0.3",RCt="verify-api",TCt="https://verify.walletconnect.com",v0e="https://verify.walletconnect.org",Ob=v0e,OCt=`${Ob}/v3`,NCt=[TCt,v0e],PCt="echo",BCt="https://echo.walletconnect.com",vd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},bu={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ic={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ep={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Lw={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},MCt=.1,DCt="event-client",jCt=86400,$Ct="https://pulse.walletconnect.org/batch";function LCt(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var y=0,g=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,y++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,D=_-1;(I!==0||T<g)&&D!==-1;D--,T++)I+=256*R[D]>>>0,R[D]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");g=T,b++}for(var M=_-g;M!==_&&R[M]===0;)M++;for(var C=l.repeat(y);M<_;++M)C+=e.charAt(R[M]);return C}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var y=0;if(v[y]!==" "){for(var g=0,b=0;v[y]===l;)g++,y++;for(var k=(v.length-y)*c+1>>>0,_=new Uint8Array(k);v[y];){var R=n[v.charCodeAt(y)];if(R===255)return;for(var I=0,T=k-1;(R!==0||I<b)&&T!==-1;T--,I++)R+=a*_[T]>>>0,_[T]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");b=I,y++}if(v[y]!==" "){for(var D=k-b;D!==k&&_[D]===0;)D++;for(var M=new Uint8Array(g+(k-D)),C=g;D!==k;)M[C++]=_[D++];return M}}}function m(v){var y=h(v);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:h,decode:m}}var UCt=LCt,FCt=UCt;const w0e=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},WCt=e=>new TextEncoder().encode(e),qCt=e=>new TextDecoder().decode(e);class zCt{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class VCt{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return b0e(this,t)}}class KCt{constructor(t){this.decoders=t}or(t){return b0e(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const b0e=(e,t)=>new KCt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class HCt{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new zCt(t,n,r),this.decoder=new VCt(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const DE=({name:e,prefix:t,encode:n,decode:r})=>new HCt(e,t,n,r),K_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=FCt(n,t);return DE({prefix:e,name:t,encode:r,decode:o=>w0e(i(o))})},GCt=(e,t,n,r)=>{const i={};for(let d=0;d<t.length;++d)i[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let d=0;d<o;++d){const u=i[e[d]];if(u===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|u,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},JCt=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Is=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>DE({prefix:t,name:e,encode(i){return JCt(i,r,n)},decode(i){return GCt(i,r,n,e)}}),ZCt=DE({prefix:"\0",name:"identity",encode:e=>qCt(e),decode:e=>WCt(e)});var YCt=Object.freeze({__proto__:null,identity:ZCt});const XCt=Is({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var QCt=Object.freeze({__proto__:null,base2:XCt});const e5t=Is({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var t5t=Object.freeze({__proto__:null,base8:e5t});const n5t=K_({prefix:"9",name:"base10",alphabet:"0123456789"});var r5t=Object.freeze({__proto__:null,base10:n5t});const i5t=Is({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),o5t=Is({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var s5t=Object.freeze({__proto__:null,base16:i5t,base16upper:o5t});const a5t=Is({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l5t=Is({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),c5t=Is({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),d5t=Is({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u5t=Is({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f5t=Is({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),h5t=Is({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),p5t=Is({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),m5t=Is({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var g5t=Object.freeze({__proto__:null,base32:a5t,base32upper:l5t,base32pad:c5t,base32padupper:d5t,base32hex:u5t,base32hexupper:f5t,base32hexpad:h5t,base32hexpadupper:p5t,base32z:m5t});const y5t=K_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),v5t=K_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var w5t=Object.freeze({__proto__:null,base36:y5t,base36upper:v5t});const b5t=K_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_5t=K_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var x5t=Object.freeze({__proto__:null,base58btc:b5t,base58flickr:_5t});const k5t=Is({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),S5t=Is({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),I5t=Is({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),E5t=Is({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var C5t=Object.freeze({__proto__:null,base64:k5t,base64pad:S5t,base64url:I5t,base64urlpad:E5t});const _0e=Array.from(""),A5t=_0e.reduce((e,t,n)=>(e[n]=t,e),[]),R5t=_0e.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function T5t(e){return e.reduce((t,n)=>(t+=A5t[n],t),"")}function O5t(e){const t=[];for(const n of e){const r=R5t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const N5t=DE({prefix:"",name:"base256emoji",encode:T5t,decode:O5t});var P5t=Object.freeze({__proto__:null,base256emoji:N5t}),B5t=x0e,Rte=128,M5t=-128,D5t=Math.pow(2,31);function x0e(e,t,n){t=t||[],n=n||0;for(var r=n;e>=D5t;)t[n++]=e&255|Rte,e/=128;for(;e&M5t;)t[n++]=e&255|Rte,e>>>=7;return t[n]=e|0,x0e.bytes=n-r+1,t}var j5t=uB,$5t=128,Tte=127;function uB(e,r){var n=0,r=r||0,i=0,o=r,s,a=e.length;do{if(o>=a)throw uB.bytes=0,new RangeError("Could not decode varint");s=e[o++],n+=i<28?(s&Tte)<<i:(s&Tte)*Math.pow(2,i),i+=7}while(s>=$5t);return uB.bytes=o-r,n}var L5t=Math.pow(2,7),U5t=Math.pow(2,14),F5t=Math.pow(2,21),W5t=Math.pow(2,28),q5t=Math.pow(2,35),z5t=Math.pow(2,42),V5t=Math.pow(2,49),K5t=Math.pow(2,56),H5t=Math.pow(2,63),G5t=function(e){return e<L5t?1:e<U5t?2:e<F5t?3:e<W5t?4:e<q5t?5:e<z5t?6:e<V5t?7:e<K5t?8:e<H5t?9:10},J5t={encode:B5t,decode:j5t,encodingLength:G5t},k0e=J5t;const Ote=(e,t,n=0)=>(k0e.encode(e,t,n),t),Nte=e=>k0e.encodingLength(e),fB=(e,t)=>{const n=t.byteLength,r=Nte(e),i=r+Nte(n),o=new Uint8Array(i+n);return Ote(e,o,0),Ote(n,o,r),o.set(t,i),new Z5t(e,n,t,o)};class Z5t{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const S0e=({name:e,code:t,encode:n})=>new Y5t(e,t,n);class Y5t{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?fB(this.code,n):n.then(r=>fB(this.code,r))}else throw Error("Unknown type, must be binary type")}}const I0e=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),X5t=S0e({name:"sha2-256",code:18,encode:I0e("SHA-256")}),Q5t=S0e({name:"sha2-512",code:19,encode:I0e("SHA-512")});var eAt=Object.freeze({__proto__:null,sha256:X5t,sha512:Q5t});const E0e=0,tAt="identity",C0e=w0e,nAt=e=>fB(E0e,C0e(e)),rAt={code:E0e,name:tAt,encode:C0e,digest:nAt};var iAt=Object.freeze({__proto__:null,identity:rAt});new TextEncoder,new TextDecoder;const Pte={...YCt,...QCt,...t5t,...r5t,...s5t,...g5t,...w5t,...x5t,...C5t,...P5t};({...eAt,...iAt});function A0e(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function oAt(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?A0e(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function R0e(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Bte=R0e("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rT=R0e("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=oAt(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),sAt={utf8:Bte,"utf-8":Bte,hex:Pte.base16,latin1:rT,ascii:rT,binary:rT,...Pte};function aAt(e,t="utf8"){const n=sAt[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?A0e(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var lAt=Object.defineProperty,cAt=(e,t,n)=>t in e?lAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hd=(e,t,n)=>cAt(e,typeof t!="symbol"?t+"":t,n);class dAt{constructor(t,n){this.core=t,this.logger=n,hd(this,"keychain",new Map),hd(this,"name",dCt),hd(this,"version",uCt),hd(this,"initialized",!1),hd(this,"storagePrefix",jd),hd(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),hd(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),hd(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),hd(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:o}=kt("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return i}),hd(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=ha(n,this.name)}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,H7(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?G7(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var uAt=Object.defineProperty,fAt=(e,t,n)=>t in e?uAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,os=(e,t,n)=>fAt(e,typeof t!="symbol"?t+"":t,n);class hAt{constructor(t,n,r){this.core=t,this.logger=n,os(this,"name",lCt),os(this,"keychain"),os(this,"randomSessionIdentifier",iB()),os(this,"initialized",!1),os(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),os(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),os(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),o=BQ(i);return hge(o.publicKey)}),os(this,"generateKeyPair",()=>{this.isInitialized();const i=t3t();return this.setPrivateKey(i.publicKey,i.privateKey)}),os(this,"signJWT",async i=>{this.isInitialized();const o=await this.getClientSeed(),s=BQ(o),a=this.randomSessionIdentifier;return await obt(a,i,cCt,s)}),os(this,"generateSharedKey",(i,o,s)=>{this.isInitialized();const a=this.getPrivateKey(i),l=n3t(a,o);return this.setSymKey(l,s)}),os(this,"setSymKey",async(i,o)=>{this.isInitialized();const s=o||K2(i);return await this.keychain.set(s,i),s}),os(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),os(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),os(this,"encode",async(i,o,s)=>{this.isInitialized();const a=s0e(s),l=Nm(o);if(ate(a))return o3t(l,s==null?void 0:s.encoding);if(ste(a)){const h=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(h,m)}const c=this.getSymKey(i),{type:d,senderPublicKey:u}=a;return r3t({type:d,symKey:c,message:l,senderPublicKey:u,encoding:s==null?void 0:s.encoding})}),os(this,"decode",async(i,o,s)=>{this.isInitialized();const a=a3t(o,s);if(ate(a)){const l=s3t(o,s==null?void 0:s.encoding);return M0(l)}if(ste(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=i3t({symKey:l,encoded:o,encoding:s==null?void 0:s.encoding});return M0(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),os(this,"getPayloadType",(i,o=Mc)=>{const s=O1({encoded:i,encoding:o});return Mm(s.type)}),os(this,"getPayloadSenderPublicKey",(i,o=Mc)=>{const s=O1({encoded:i,encoding:o});return s.senderPublicKey?La(s.senderPublicKey,ca):void 0}),this.core=t,this.logger=ha(n,this.name),this.keychain=r||new dAt(this.core,this.logger)}get context(){return Fa(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Ete)}catch{t=iB(),await this.keychain.set(Ete,t)}return aAt(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var pAt=Object.defineProperty,mAt=Object.defineProperties,gAt=Object.getOwnPropertyDescriptors,Mte=Object.getOwnPropertySymbols,yAt=Object.prototype.hasOwnProperty,vAt=Object.prototype.propertyIsEnumerable,hB=(e,t,n)=>t in e?pAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wAt=(e,t)=>{for(var n in t||(t={}))yAt.call(t,n)&&hB(e,n,t[n]);if(Mte)for(var n of Mte(t))vAt.call(t,n)&&hB(e,n,t[n]);return e},bAt=(e,t)=>mAt(e,gAt(t)),Ja=(e,t,n)=>hB(e,typeof t!="symbol"?t+"":t,n);class _At extends wkt{constructor(t,n){super(t,n),this.logger=t,this.core=n,Ja(this,"messages",new Map),Ja(this,"messagesWithoutClientAck",new Map),Ja(this,"name",fCt),Ja(this,"version",hCt),Ja(this,"initialized",!1),Ja(this,"storagePrefix",jd),Ja(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ja(this,"set",async(r,i,o)=>{this.isInitialized();const s=kd(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[s]<"u")return s;if(a[s]=i,this.messages.set(r,a),o===H2.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,bAt(wAt({},l),{[s]:i}))}return await this.persist(),s}),Ja(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ja(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const o of r){const s=this.messagesWithoutClientAck.get(o)||{};i[o]=Object.values(s)}return i}),Ja(this,"has",(r,i)=>{this.isInitialized();const o=this.get(r),s=kd(i);return typeof o[s]<"u"}),Ja(this,"ack",async(r,i)=>{this.isInitialized();const o=this.messagesWithoutClientAck.get(r);if(typeof o>"u")return;const s=kd(i);delete o[s],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,o),await this.persist()}),Ja(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ha(t,this.name),this.core=n}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,H7(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,H7(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?G7(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?G7(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var xAt=Object.defineProperty,kAt=Object.defineProperties,SAt=Object.getOwnPropertyDescriptors,Dte=Object.getOwnPropertySymbols,IAt=Object.prototype.hasOwnProperty,EAt=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?xAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r2=(e,t)=>{for(var n in t||(t={}))IAt.call(t,n)&&pB(e,n,t[n]);if(Dte)for(var n of Dte(t))EAt.call(t,n)&&pB(e,n,t[n]);return e},iT=(e,t)=>kAt(e,SAt(t)),Ec=(e,t,n)=>pB(e,typeof t!="symbol"?t+"":t,n);class CAt extends bkt{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Ec(this,"events",new Xc.EventEmitter),Ec(this,"name",pCt),Ec(this,"queue",new Map),Ec(this,"publishTimeout",It.toMiliseconds(It.ONE_MINUTE)),Ec(this,"initialPublishTimeout",It.toMiliseconds(It.ONE_SECOND*15)),Ec(this,"needsTransportRestart",!1),Ec(this,"publish",async(r,i,o)=>{var s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:o}});const a=(o==null?void 0:o.ttl)||Cte,l=bI(o),c=(o==null?void 0:o.prompt)||!1,d=(o==null?void 0:o.tag)||0,u=(o==null?void 0:o.id)||rm().toString(),h={topic:r,message:i,opts:{ttl:a,relay:l,prompt:c,tag:d,id:u,attestation:o==null?void 0:o.attestation,tvf:o==null?void 0:o.tvf}},m=`Failed to publish payload, please try again. id:${u} tag:${d}`;try{const v=new Promise(async y=>{const g=({id:k})=>{h.opts.id===k&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(zo.publish,g),y(h))};this.relayer.events.on(zo.publish,g);const b=wh(new Promise((k,_)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:c,tag:d,id:u,attestation:o==null?void 0:o.attestation,tvf:o==null?void 0:o.tvf}).then(k).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),_(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${d}`);try{await b,this.events.removeListener(zo.publish,g)}catch(k){this.queue.set(u,iT(r2({},h),{attempt:1})),this.logger.warn(k,k==null?void 0:k.message)}});this.logger.trace({type:"method",method:"publish",params:{id:u,topic:r,message:i,opts:o}}),await wh(v,this.publishTimeout,m)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(s=o==null?void 0:o.internal)!=null&&s.throwOnFailedPublish)throw v}finally{this.queue.delete(u)}}),Ec(this,"on",(r,i)=>{this.events.on(r,i)}),Ec(this,"once",(r,i)=>{this.events.once(r,i)}),Ec(this,"off",(r,i)=>{this.events.off(r,i)}),Ec(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=t,this.logger=ha(n,this.name),this.registerEventListeners()}get context(){return Fa(this.logger)}async rpcPublish(t){var n,r,i,o;const{topic:s,message:a,ttl:l=Cte,prompt:c,tag:d,id:u,attestation:h,tvf:m}=t,v={method:nb(bI().protocol).publish,params:r2({topic:s,message:a,ttl:l,prompt:c,tag:d,attestation:h},m),id:u};ms((n=v.params)==null?void 0:n.prompt)&&((r=v.params)==null||delete r.prompt),ms((i=v.params)==null?void 0:i.tag)&&((o=v.params)==null||delete o.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const y=await this.relayer.request(v);return this.relayer.events.emit(zo.publish,t),this.logger.debug("Successfully Published Payload"),y}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{const r=t.attempt+1;this.queue.set(n,iT(r2({},t),{attempt:r}));const{topic:i,message:o,opts:s,attestation:a}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${r}`),await this.rpcPublish(iT(r2({},t),{topic:i,message:o,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:a,tvf:s.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(hg.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(zo.connection_stalled);return}this.checkQueue()}),this.relayer.on(zo.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var AAt=Object.defineProperty,RAt=(e,t,n)=>t in e?AAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ly=(e,t,n)=>RAt(e,typeof t!="symbol"?t+"":t,n);class TAt{constructor(){ly(this,"map",new Map),ly(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),ly(this,"get",t=>this.map.get(t)||[]),ly(this,"exists",(t,n)=>this.get(t).includes(n)),ly(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const i=r.filter(o=>o!==n);if(!i.length){this.map.delete(t);return}this.map.set(t,i)}),ly(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var OAt=Object.defineProperty,NAt=Object.defineProperties,PAt=Object.getOwnPropertyDescriptors,jte=Object.getOwnPropertySymbols,BAt=Object.prototype.hasOwnProperty,MAt=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?OAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uw=(e,t)=>{for(var n in t||(t={}))BAt.call(t,n)&&mB(e,n,t[n]);if(jte)for(var n of jte(t))MAt.call(t,n)&&mB(e,n,t[n]);return e},oT=(e,t)=>NAt(e,PAt(t)),Vr=(e,t,n)=>mB(e,typeof t!="symbol"?t+"":t,n);class DAt extends kkt{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Vr(this,"subscriptions",new Map),Vr(this,"topicMap",new TAt),Vr(this,"events",new Xc.EventEmitter),Vr(this,"name",_Ct),Vr(this,"version",xCt),Vr(this,"pending",new Map),Vr(this,"cached",[]),Vr(this,"initialized",!1),Vr(this,"storagePrefix",jd),Vr(this,"subscribeTimeout",It.toMiliseconds(It.ONE_MINUTE)),Vr(this,"initialSubscribeTimeout",It.toMiliseconds(It.ONE_SECOND*15)),Vr(this,"clientId"),Vr(this,"batchSubscribeTopicsLimit",500),Vr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Vr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=bI(i),s={topic:r,relay:o,transportType:i==null?void 0:i.transportType};this.pending.set(r,s);const a=await this.rpcSubscribe(r,o,i);return typeof a=="string"&&(this.onSubscribe(a,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Vr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Vr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Vr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(o=>o.topic===r))})),Vr(this,"on",(r,i)=>{this.events.on(r,i)}),Vr(this,"once",(r,i)=>{this.events.once(r,i)}),Vr(this,"off",(r,i)=>{this.events.off(r,i)}),Vr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Vr(this,"start",async()=>{await this.onConnect()}),Vr(this,"stop",async()=>{await this.onDisconnect()}),Vr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Vr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Vr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(hg.pulse,async()=>{await this.checkPending()}),this.events.on(Za.created,async r=>{const i=Za.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Za.deleted,async r=>{const i=Za.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=t,this.logger=ha(n,this.name),this.clientId=""}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async i=>await this.unsubscribeById(t,i,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const i=bI(r);await this.restartToComplete({topic:t,id:n,relay:i}),await this.rpcUnsubscribe(t,n,i);const o=Ki("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,n,r){var i;(!r||(r==null?void 0:r.transportType)===hi.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const o={method:nb(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const s=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(t);if((r==null?void 0:r.transportType)===hi.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(d=>this.logger.warn(d))},It.toMiliseconds(It.ONE_SECOND)),a;const l=new Promise(async d=>{const u=h=>{h.topic===t&&(this.events.removeListener(Za.created,u),d(h.id))};this.events.on(Za.created,u);try{const h=await wh(new Promise((m,v)=>{this.relayer.request(o).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),v(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(Za.created,u),d(h)}catch{}}),c=await wh(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!c&&s)throw new Error(`Subscribing to ${t} failed, please try again`);return c?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(zo.connection_stalled),s)throw a}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:nb(n.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await wh(new Promise(i=>{this.relayer.request(r).catch(o=>this.logger.warn(o)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(zo.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:nb(n.protocol).batchFetchMessages,params:{topics:t.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await wh(new Promise((o,s)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),s(a)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(zo.connection_stalled)}return i}rpcUnsubscribe(t,n,r){const i={method:nb(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,n){this.setSubscription(t,oT(Uw({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,Uw({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,Uw({},n)),this.topicMap.set(n.topic,t),this.events.emit(Za.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Za.deleted,oT(Uw({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Za.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Za.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>oT(Uw({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await k2t(It.toMiliseconds(It.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return kd(t+await this.getClientId())}}var jAt=Object.defineProperty,$te=Object.getOwnPropertySymbols,$At=Object.prototype.hasOwnProperty,LAt=Object.prototype.propertyIsEnumerable,gB=(e,t,n)=>t in e?jAt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lte=(e,t)=>{for(var n in t||(t={}))$At.call(t,n)&&gB(e,n,t[n]);if($te)for(var n of $te(t))LAt.call(t,n)&&gB(e,n,t[n]);return e},kr=(e,t,n)=>gB(e,typeof t!="symbol"?t+"":t,n);class UAt extends _kt{constructor(t){super(t),kr(this,"protocol","wc"),kr(this,"version",2),kr(this,"core"),kr(this,"logger"),kr(this,"events",new Xc.EventEmitter),kr(this,"provider"),kr(this,"messages"),kr(this,"subscriber"),kr(this,"publisher"),kr(this,"name",gCt),kr(this,"transportExplicitlyClosed",!1),kr(this,"initialized",!1),kr(this,"connectionAttemptInProgress",!1),kr(this,"relayUrl"),kr(this,"projectId"),kr(this,"packageName"),kr(this,"bundleId"),kr(this,"hasExperiencedNetworkDisruption",!1),kr(this,"pingTimeout"),kr(this,"heartBeatTimeout",It.toMiliseconds(It.THIRTY_SECONDS+It.FIVE_SECONDS)),kr(this,"reconnectTimeout"),kr(this,"connectPromise"),kr(this,"reconnectInProgress",!1),kr(this,"requestsInFlight",[]),kr(this,"connectTimeout",It.toMiliseconds(It.ONE_SECOND*15)),kr(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const o=n.id||rm().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const s=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(s);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==s),a}catch(s){throw this.logger.debug(`Failed to Publish Request: ${o}`),s}}),kr(this,"resetPingTimeout",()=>{gI()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(s){this.logger.warn(s,s==null?void 0:s.message)}},this.heartBeatTimeout))}),kr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),kr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(zo.connect)}),kr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),kr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(zo.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),kr(this,"registerProviderListeners",()=>{this.provider.on(Fl.payload,this.onPayloadHandler),this.provider.on(Fl.connect,this.onConnectHandler),this.provider.on(Fl.disconnect,this.onDisconnectHandler),this.provider.on(Fl.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?ha(t.logger,this.name):CE(W9({level:t.logger||mCt})),this.messages=new _At(this.logger,t.core),this.subscriber=new DAt(this,this.logger),this.publisher=new CAt(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||y0e,this.projectId=t.projectId,a2t()?this.packageName=Aee():l2t()&&(this.bundleId=Aee()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t==null?void 0:t.message))}get context(){return Fa(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:hi.relay},H2.outbound)}async subscribe(t,n){var r,i,o;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const s=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((o=this.subscriber.topicMap.get(t))==null?void 0:o[0])||"",l;const c=d=>{d.topic===t&&(this.subscriber.off(Za.created,c),l())};return await Promise.all([new Promise(d=>{l=d,this.subscriber.on(Za.created,c)}),new Promise(async(d,u)=>{a=await this.subscriber.subscribe(t,Lte({internal:{throwOnFailedPublish:s}},n)).catch(h=>{s&&u(h)})||a,d()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await wh(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await vte())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const i=ko(It.FIVE_MINUTES),o={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,o)}this.events.emit(zo.message,t),await this.recordMessageEvent(t,H2.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const o=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Fl.disconnect,o),await wh(new Promise((s,a)=>{this.provider.connect().then(s).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{i(s)}).finally(()=>{this.provider.off(Fl.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(s,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Fl.disconnect,l),await this.subscriber.start().then(s).catch(a).finally(()=>{this.provider.off(Fl.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,It.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,i,o;if(gI())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((o=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,s==null?void 0:s.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new eCt(new iCt(h2t({sdkVersion:dB,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:i}=t;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),s$(t)){if(!t.method.endsWith(yCt))return;const n=t.params,{topic:r,message:i,publishedAt:o,attestation:s}=n.data,a={topic:r,message:i,publishedAt:o,transportType:hi.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Lte({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else ME(t)&&this.events.emit(zo.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,H2.inbound),this.events.emit(zo.message,t))}async acknowledgePayload(t){const n=i$(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Fl.payload,this.onPayloadHandler),this.provider.off(Fl.connect,this.onConnectHandler),this.provider.off(Fl.disconnect,this.onDisconnectHandler),this.provider.off(Fl.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await vte();tEt(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(hg.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&iEt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(zo.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t==null?void 0:t.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},It.toMiliseconds(vCt)))))}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function FAt(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Ute(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Fte(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const WAt="[object RegExp]",qAt="[object String]",zAt="[object Number]",VAt="[object Boolean]",Wte="[object Arguments]",KAt="[object Symbol]",HAt="[object Date]",GAt="[object Map]",JAt="[object Set]",ZAt="[object Array]",YAt="[object Function]",XAt="[object ArrayBuffer]",sT="[object Object]",QAt="[object Error]",e6t="[object DataView]",t6t="[object Uint8Array]",n6t="[object Uint8ClampedArray]",r6t="[object Uint16Array]",i6t="[object Uint32Array]",o6t="[object BigUint64Array]",s6t="[object Int8Array]",a6t="[object Int16Array]",l6t="[object Int32Array]",c6t="[object BigInt64Array]",d6t="[object Float32Array]",u6t="[object Float64Array]";function f6t(){}function qte(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function h6t(e,t,n){return rb(e,t,void 0,void 0,void 0,void 0,n)}function rb(e,t,n,r,i,o,s){const a=s(e,t,n,r,i,o);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Nb(e,t,o,s)}return Nb(e,t,o,s)}function Nb(e,t,n,r){if(Object.is(e,t))return!0;let i=Fte(e),o=Fte(t);if(i===Wte&&(i=sT),o===Wte&&(o=sT),i!==o)return!1;switch(i){case qAt:return e.toString()===t.toString();case zAt:{const l=e.valueOf(),c=t.valueOf();return FAt(l,c)}case VAt:case HAt:case KAt:return Object.is(e.valueOf(),t.valueOf());case WAt:return e.source===t.source&&e.flags===t.flags;case YAt:return e===t}n=n??new Map;const s=n.get(e),a=n.get(t);if(s!=null&&a!=null)return s===t;n.set(e,t),n.set(t,e);try{switch(i){case GAt:{if(e.size!==t.size)return!1;for(const[l,c]of e.entries())if(!t.has(l)||!rb(c,t.get(l),l,e,t,n,r))return!1;return!0}case JAt:{if(e.size!==t.size)return!1;const l=Array.from(e.values()),c=Array.from(t.values());for(let d=0;d<l.length;d++){const u=l[d],h=c.findIndex(m=>rb(u,m,void 0,e,t,n,r));if(h===-1)return!1;c.splice(h,1)}return!0}case ZAt:case t6t:case n6t:case r6t:case i6t:case o6t:case s6t:case a6t:case l6t:case c6t:case d6t:case u6t:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let l=0;l<e.length;l++)if(!rb(e[l],t[l],l,e,t,n,r))return!1;return!0}case XAt:return e.byteLength!==t.byteLength?!1:Nb(new Uint8Array(e),new Uint8Array(t),n,r);case e6t:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Nb(new Uint8Array(e),new Uint8Array(t),n,r);case QAt:return e.name===t.name&&e.message===t.message;case sT:{if(!(Nb(e.constructor,t.constructor,n,r)||qte(e)&&qte(t)))return!1;const l=[...Object.keys(e),...Ute(e)],c=[...Object.keys(t),...Ute(t)];if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++){const u=l[d],h=e[u];if(!Object.hasOwn(t,u))return!1;const m=t[u];if(!rb(h,m,u,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function p6t(e,t){return h6t(e,t,f6t)}var m6t=Object.defineProperty,zte=Object.getOwnPropertySymbols,g6t=Object.prototype.hasOwnProperty,y6t=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?m6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vte=(e,t)=>{for(var n in t||(t={}))g6t.call(t,n)&&yB(e,n,t[n]);if(zte)for(var n of zte(t))y6t.call(t,n)&&yB(e,n,t[n]);return e},xa=(e,t,n)=>yB(e,typeof t!="symbol"?t+"":t,n);class mg extends xkt{constructor(t,n,r,i=jd,o=void 0){super(t,n,r,i),this.core=t,this.logger=n,this.name=r,xa(this,"map",new Map),xa(this,"version",wCt),xa(this,"cached",[]),xa(this,"initialized",!1),xa(this,"getKey"),xa(this,"storagePrefix",jd),xa(this,"recentlyDeleted",[]),xa(this,"recentlyDeletedLimit",200),xa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!ms(s)?this.map.set(this.getKey(s),s):N3t(s)?this.map.set(s.id,s):P3t(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)}),xa(this,"set",async(s,a)=>{this.isInitialized(),this.map.has(s)?await this.update(s,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:a}),this.map.set(s,a),await this.persist())}),xa(this,"get",s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s))),xa(this,"getAll",s=>(this.isInitialized(),s?this.values.filter(a=>Object.keys(s).every(l=>p6t(a[l],s[l]))):this.values)),xa(this,"update",async(s,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:a});const l=Vte(Vte({},this.getData(s)),a);this.map.set(s,l),await this.persist()}),xa(this,"delete",async(s,a)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:a}),this.map.delete(s),this.addToRecentlyDeleted(s),await this.persist())}),this.logger=ha(n,this.name),this.storagePrefix=i,this.getKey=o}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:i}=kt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var v6t=Object.defineProperty,w6t=(e,t,n)=>t in e?v6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cr=(e,t,n)=>w6t(e,typeof t!="symbol"?t+"":t,n);class b6t{constructor(t,n){this.core=t,this.logger=n,cr(this,"name",kCt),cr(this,"version",SCt),cr(this,"events",new eye),cr(this,"pairings"),cr(this,"initialized",!1),cr(this,"storagePrefix",jd),cr(this,"ignoredPayloadTypes",[Wu]),cr(this,"registeredMethods",[]),cr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),cr(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),cr(this,"create",async r=>{this.isInitialized();const i=iB(),o=await this.core.crypto.setSymKey(i),s=ko(It.FIVE_MINUTES),a={protocol:g0e},l={topic:o,expiry:s,relay:a,active:!1,methods:r==null?void 0:r.methods},c=cte({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:i,relay:a,expiryTimestamp:s,methods:r==null?void 0:r.methods});return this.events.emit(qp.create,l),this.core.expirer.set(o,s),await this.pairings.set(o,l),await this.core.relayer.subscribe(o,{transportType:r==null?void 0:r.transportType}),{topic:o,uri:c}}),cr(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[vd.pairing_started]}});this.isValidPair(r,i);const{topic:o,symKey:s,relay:a,expiryTimestamp:l,methods:c}=lte(r.uri);i.props.properties.topic=o,i.addTrace(vd.pairing_uri_validation_success),i.addTrace(vd.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(o)){if(d=this.pairings.get(o),i.addTrace(vd.existing_pairing),d.active)throw i.setError(bu.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);i.addTrace(vd.pairing_not_expired)}const u=l||ko(It.FIVE_MINUTES),h={topic:o,relay:a,expiry:u,active:!1,methods:c};this.core.expirer.set(o,u),await this.pairings.set(o,h),i.addTrace(vd.store_new_pairing),r.activatePairing&&await this.activate({topic:o}),this.events.emit(qp.create,h),i.addTrace(vd.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(s,o),i.addTrace(vd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(bu.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:a})}catch(m){throw i.setError(bu.subscribe_pairing_topic_failure),m}return i.addTrace(vd.subscribe_pairing_topic_success),h}),cr(this,"activate",async({topic:r})=>{this.isInitialized();const i=ko(It.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),cr(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const o=await this.sendRequest(i,"wc_pairingPing",{}),{done:s,resolve:a,reject:l}=Bp();this.events.once(Pr("pairing_ping",o),({error:c})=>{c?l(c):a()}),await s()}}),cr(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),cr(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),cr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),cr(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ki("USER_DISCONNECTED")),await this.deletePairing(i))}),cr(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:o,expiry:s,methods:a}=r,l=this.core.crypto.keychain.get(i);return cte({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:o,expiryTimestamp:s,methods:a})}),cr(this,"sendRequest",async(r,i,o)=>{const s=im(i,o),a=await this.core.crypto.encode(r,s),l=$w[i].req;return this.core.history.set(r,s),this.core.relayer.publish(r,a,l),s.id}),cr(this,"sendResult",async(r,i,o)=>{const s=i$(r,o),a=await this.core.crypto.encode(i,s),l=(await this.core.history.get(i,r)).request.method,c=$w[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(s)}),cr(this,"sendError",async(r,i,o)=>{const s=o$(r,o),a=await this.core.crypto.encode(i,s),l=(await this.core.history.get(i,r)).request.method,c=$w[l]?$w[l].res:$w.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(s)}),cr(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ki("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),cr(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>uh(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),cr(this,"onRelayEventRequest",async r=>{const{topic:i,payload:o}=r;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,o);default:return await this.onUnknownRpcMethodRequest(i,o)}}),cr(this,"onRelayEventResponse",async r=>{const{topic:i,payload:o}=r,s=(await this.core.history.get(i,o.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(s)}}),cr(this,"onPairingPingRequest",async(r,i)=>{const{id:o}=i;try{this.isValidPing({topic:r}),await this.sendResult(o,r,!0),this.events.emit(qp.ping,{id:o,topic:r})}catch(s){await this.sendError(o,r,s),this.logger.error(s)}}),cr(this,"onPairingPingResponse",(r,i)=>{const{id:o}=i;setTimeout(()=>{bd(i)?this.events.emit(Pr("pairing_ping",o),{}):Jl(i)&&this.events.emit(Pr("pairing_ping",o),{error:i.error})},500)}),cr(this,"onPairingDeleteRequest",async(r,i)=>{const{id:o}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(qp.delete,{id:o,topic:r})}catch(s){await this.sendError(o,r,s),this.logger.error(s)}}),cr(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:o,method:s}=i;try{if(this.registeredMethods.includes(s))return;const a=Ki("WC_METHOD_UNSUPPORTED",s);await this.sendError(o,r,a),this.logger.error(a)}catch(a){await this.sendError(o,r,a),this.logger.error(a)}}),cr(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ki("WC_METHOD_UNSUPPORTED",r))}),cr(this,"isValidPair",(r,i)=>{var o;if(!Ea(r)){const{message:a}=kt("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(bu.malformed_pairing_uri),new Error(a)}if(!O3t(r.uri)){const{message:a}=kt("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(bu.malformed_pairing_uri),new Error(a)}const s=lte(r==null?void 0:r.uri);if(!((o=s==null?void 0:s.relay)!=null&&o.protocol)){const{message:a}=kt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(bu.malformed_pairing_uri),new Error(a)}if(!(s!=null&&s.symKey)){const{message:a}=kt("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(bu.malformed_pairing_uri),new Error(a)}if(s!=null&&s.expiryTimestamp&&It.toMiliseconds(s==null?void 0:s.expiryTimestamp)<Date.now()){i.setError(bu.pairing_expired);const{message:a}=kt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),cr(this,"isValidPing",async r=>{if(!Ea(r)){const{message:o}=kt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),cr(this,"isValidDisconnect",async r=>{if(!Ea(r)){const{message:o}=kt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),cr(this,"isValidPairingTopic",async r=>{if(!go(r,!1)){const{message:i}=kt("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=kt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(uh(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=kt("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=t,this.logger=ha(n,this.name),this.pairings=new mg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Fa(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(zo.message,async t=>{const{topic:n,message:r,transportType:i}=t;if(this.pairings.keys.includes(n)&&i!==hi.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const o=await this.core.crypto.decode(n,r);s$(o)?(this.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o})):ME(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o}),this.core.history.delete(n,o.id)),await this.core.relayer.messages.ack(n,r)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Vl.expired,async t=>{const{topic:n}=gye(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(qp.expire,{topic:n}))})}}var _6t=Object.defineProperty,x6t=(e,t,n)=>t in e?_6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ss=(e,t,n)=>x6t(e,typeof t!="symbol"?t+"":t,n);class k6t extends vkt{constructor(t,n){super(t,n),this.core=t,this.logger=n,ss(this,"records",new Map),ss(this,"events",new Xc.EventEmitter),ss(this,"name",ICt),ss(this,"version",ECt),ss(this,"cached",[]),ss(this,"initialized",!1),ss(this,"storagePrefix",jd),ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ss(this,"set",(r,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:o}),this.records.has(i.id))return;const s={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:o,expiry:ko(It.THIRTY_DAYS)};this.records.set(s.id,s),this.persist(),this.events.emit(Sc.created,s)}),ss(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Jl(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Sc.updated,i))}),ss(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ss(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===r){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(Sc.deleted,o)}}),this.persist()}),ss(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ss(this,"on",(r,i)=>{this.events.on(r,i)}),ss(this,"once",(r,i)=>{this.events.once(r,i)}),ss(this,"off",(r,i)=>{this.events.off(r,i)}),ss(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ha(n,this.name)}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:im(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Sc.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Sc.created,t=>{const n=Sc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(Sc.updated,t=>{const n=Sc.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(Sc.deleted,t=>{const n=Sc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(hg.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{It.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Sc.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var S6t=Object.defineProperty,I6t=(e,t,n)=>t in e?S6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fs=(e,t,n)=>I6t(e,typeof t!="symbol"?t+"":t,n);class E6t extends Skt{constructor(t,n){super(t,n),this.core=t,this.logger=n,Fs(this,"expirations",new Map),Fs(this,"events",new Xc.EventEmitter),Fs(this,"name",CCt),Fs(this,"version",ACt),Fs(this,"cached",[]),Fs(this,"initialized",!1),Fs(this,"storagePrefix",jd),Fs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fs(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Fs(this,"set",(r,i)=>{this.isInitialized();const o=this.formatTarget(r),s={target:o,expiry:i};this.expirations.set(o,s),this.checkExpiry(o,s),this.events.emit(Vl.created,{target:o,expiration:s})}),Fs(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Fs(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Vl.deleted,{target:i,expiration:o})}}),Fs(this,"on",(r,i)=>{this.events.on(r,i)}),Fs(this,"once",(r,i)=>{this.events.once(r,i)}),Fs(this,"off",(r,i)=>{this.events.off(r,i)}),Fs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ha(n,this.name)}get context(){return Fa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return p2t(t);if(typeof t=="number")return m2t(t);const{message:n}=kt("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vl.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=kt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=kt("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;It.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Vl.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(hg.pulse,()=>this.checkExpirations()),this.events.on(Vl.created,t=>{const n=Vl.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Vl.expired,t=>{const n=Vl.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Vl.deleted,t=>{const n=Vl.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}}var C6t=Object.defineProperty,A6t=(e,t,n)=>t in e?C6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,co=(e,t,n)=>A6t(e,typeof t!="symbol"?t+"":t,n);class R6t extends Ikt{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,co(this,"name",RCt),co(this,"abortController"),co(this,"isDevEnv"),co(this,"verifyUrlV3",OCt),co(this,"storagePrefix",jd),co(this,"version",m0e),co(this,"publicKey"),co(this,"fetchPromise"),co(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&It.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),co(this,"register",async i=>{if(!Iv()||this.isDevEnv)return;const o=window.location.origin,{id:s,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${s}&decryptedId=${a}`;try{const c=Hu.getDocument(),d=this.startAbortTimer(It.ONE_SECOND*5),u=await new Promise((h,m)=>{const v=()=>{window.removeEventListener("message",g),c.body.removeChild(y),m("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const y=c.createElement("iframe");y.src=l,y.style.display="none",y.addEventListener("error",v,{signal:this.abortController.signal});const g=b=>{if(b.data&&typeof b.data=="string")try{const k=JSON.parse(b.data);if(k.type==="verify_attestation"){if(B7(k.attestation).payload.id!==s)return;clearInterval(d),c.body.removeChild(y),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",g),h(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};c.body.appendChild(y),window.addEventListener("message",g,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",u),u}catch(c){this.logger.warn(c)}return""}),co(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:o,hash:s,encryptedId:a}=i;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(B7(o).payload.id!==a)return;const c=await this.isValidJwtAttestation(o);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!s)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(s,l)}),co(this,"fetchAttestation",async(i,o)=>{this.logger.debug(`resolving attestation: ${i} from url: ${o}`);const s=this.startAbortTimer(It.ONE_SECOND*5),a=await fetch(`${o}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(s),a.status===200?await a.json():void 0}),co(this,"getVerifyUrl",i=>{let o=i||Ob;return NCt.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${Ob}`),o=Ob),o}),co(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(It.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await o.json()}catch(i){this.logger.warn(i)}}),co(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),co(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),co(this,"isValidJwtAttestation",async i=>{const o=await this.getPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const s=await this.fetchAndPersistPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),co(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),co(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{const s=await this.fetchPublicKey();s&&(await this.persistPublicKey(s),o(s))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),co(this,"validateAttestation",(i,o)=>{const s=c3t(i,o.publicKey),a={hasExpired:It.toMiliseconds(s.exp)<Date.now(),payload:s};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ha(n,this.name),this.abortController=new AbortController,this.isDevEnv=q9(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Fa(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),It.toMiliseconds(t))}}var T6t=Object.defineProperty,O6t=(e,t,n)=>t in e?T6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kte=(e,t,n)=>O6t(e,typeof t!="symbol"?t+"":t,n);class N6t extends Ekt{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,Kte(this,"context",PCt),Kte(this,"registerDeviceToken",async r=>{const{clientId:i,token:o,notificationType:s,enableEncrypted:a=!1}=r,l=`${BCt}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:s,token:o,always_raw:a})})}),this.logger=ha(n,this.context)}}var P6t=Object.defineProperty,Hte=Object.getOwnPropertySymbols,B6t=Object.prototype.hasOwnProperty,M6t=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?P6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fw=(e,t)=>{for(var n in t||(t={}))B6t.call(t,n)&&vB(e,n,t[n]);if(Hte)for(var n of Hte(t))M6t.call(t,n)&&vB(e,n,t[n]);return e},Do=(e,t,n)=>vB(e,typeof t!="symbol"?t+"":t,n);class D6t extends Ckt{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Do(this,"context",DCt),Do(this,"storagePrefix",jd),Do(this,"storageVersion",MCt),Do(this,"events",new Map),Do(this,"shouldPersist",!1),Do(this,"init",async()=>{if(!q9())try{const i={eventId:Tee(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:pye(this.core.relayer.protocol,this.core.relayer.version,dB)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Do(this,"createEvent",i=>{const{event:o="ERROR",type:s="",properties:{topic:a,trace:l}}=i,c=Tee(),d=this.core.projectId||"",u=Date.now(),h=Fw({eventId:c,timestamp:u,props:{event:o,type:s,properties:{topic:a,trace:l}},bundleId:d,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,h),this.shouldPersist=!0),h}),Do(this,"getEvent",i=>{const{eventId:o,topic:s}=i;if(o)return this.events.get(o);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===s);if(a)return Fw(Fw({},a),this.setMethods(a.eventId))}),Do(this,"deleteEvent",i=>{const{eventId:o}=i;this.events.delete(o),this.shouldPersist=!0}),Do(this,"setEventListeners",()=>{this.core.heartbeat.on(hg.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{It.fromMiliseconds(Date.now())-It.fromMiliseconds(i.timestamp)>jCt&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Do(this,"setMethods",i=>({addTrace:o=>this.addTrace(i,o),setError:o=>this.setError(i,o)})),Do(this,"addTrace",(i,o)=>{const s=this.events.get(i);s&&(s.props.properties.trace.push(o),this.events.set(i,s),this.shouldPersist=!0)}),Do(this,"setError",(i,o)=>{const s=this.events.get(i);s&&(s.props.type=o,s.timestamp=Date.now(),this.events.set(i,s),this.shouldPersist=!0)}),Do(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Do(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(o=>{this.events.set(o.eventId,Fw(Fw({},o),this.setMethods(o.eventId)))})}catch(i){this.logger.warn(i)}}),Do(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[o,s]of this.events)s.props.type&&i.push(s);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const o of i)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),Do(this,"sendEvent",async i=>{const o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${$Ct}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${dB}${o}`,{method:"POST",body:JSON.stringify(i)})}),Do(this,"getAppDomain",()=>hye().url),this.logger=ha(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var j6t=Object.defineProperty,Gte=Object.getOwnPropertySymbols,$6t=Object.prototype.hasOwnProperty,L6t=Object.prototype.propertyIsEnumerable,wB=(e,t,n)=>t in e?j6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jte=(e,t)=>{for(var n in t||(t={}))$6t.call(t,n)&&wB(e,n,t[n]);if(Gte)for(var n of Gte(t))L6t.call(t,n)&&wB(e,n,t[n]);return e},Xr=(e,t,n)=>wB(e,typeof t!="symbol"?t+"":t,n);class a$ extends pkt{constructor(t){var n;super(t),Xr(this,"protocol",p0e),Xr(this,"version",m0e),Xr(this,"name",cB),Xr(this,"relayUrl"),Xr(this,"projectId"),Xr(this,"customStoragePrefix"),Xr(this,"events",new Xc.EventEmitter),Xr(this,"logger"),Xr(this,"heartbeat"),Xr(this,"relayer"),Xr(this,"crypto"),Xr(this,"storage"),Xr(this,"history"),Xr(this,"expirer"),Xr(this,"pairing"),Xr(this,"verify"),Xr(this,"echoClient"),Xr(this,"linkModeSupportedApps"),Xr(this,"eventClient"),Xr(this,"initialized",!1),Xr(this,"logChunkController"),Xr(this,"on",(a,l)=>this.events.on(a,l)),Xr(this,"once",(a,l)=>this.events.once(a,l)),Xr(this,"off",(a,l)=>this.events.off(a,l)),Xr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),Xr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const d={topic:a,message:l,publishedAt:Date.now(),transportType:hi.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:c})});const r=this.getGlobalCore(t==null?void 0:t.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||y0e,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=W9({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:sCt.logger,name:cB}),{logger:o,chunkLoggerController:s}=ukt({opts:i,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=s,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ha(o,this.name),this.heartbeat=new pxt,this.crypto=new hAt(this,this.logger,t==null?void 0:t.keychain),this.history=new k6t(this,this.logger),this.expirer=new E6t(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new Gxt(Jte(Jte({},aCt),t==null?void 0:t.storageOptions)),this.relayer=new UAt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new b6t(this,this.logger),this.verify=new R6t(this,this.logger,this.storage),this.echoClient=new N6t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new D6t(this,this.logger,t==null?void 0:t.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new a$(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(bCt,r),n}get context(){return Fa(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Ate,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Ate)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&oCt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const U6t=a$,T0e="wc",O0e=2,N0e="client",l$=`${T0e}@${O0e}:${N0e}:`,aT={name:N0e,logger:"error"},Zte="WALLETCONNECT_DEEPLINK_CHOICE",F6t="proposal",Yte="Proposal expired",W6t="session",cy=It.SEVEN_DAYS,q6t="engine",jo={wc_sessionPropose:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1104},res:{ttl:It.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1106},res:{ttl:It.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1112},res:{ttl:It.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1114},res:{ttl:It.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:It.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:It.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1119}}},lT={min:It.FIVE_MINUTES,max:It.SEVEN_DAYS},pd={idle:"IDLE",active:"ACTIVE"},z6t={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},V6t="request",K6t=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],H6t="wc",G6t="auth",J6t="authKeys",Z6t="pairingTopics",Y6t="requests",jE=`${H6t}@${1.5}:${G6t}:`,G2=`${jE}:PUB_KEY`;var X6t=Object.defineProperty,Q6t=Object.defineProperties,eRt=Object.getOwnPropertyDescriptors,Xte=Object.getOwnPropertySymbols,tRt=Object.prototype.hasOwnProperty,nRt=Object.prototype.propertyIsEnumerable,bB=(e,t,n)=>t in e?X6t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ui=(e,t)=>{for(var n in t||(t={}))tRt.call(t,n)&&bB(e,n,t[n]);if(Xte)for(var n of Xte(t))nRt.call(t,n)&&bB(e,n,t[n]);return e},ka=(e,t)=>Q6t(e,eRt(t)),mt=(e,t,n)=>bB(e,typeof t!="symbol"?t+"":t,n);class rRt extends Okt{constructor(t){super(t),mt(this,"name",q6t),mt(this,"events",new eye),mt(this,"initialized",!1),mt(this,"requestQueue",{state:pd.idle,queue:[]}),mt(this,"sessionRequestQueue",{state:pd.idle,queue:[]}),mt(this,"emittedSessionRequests",new S2t({limit:500})),mt(this,"requestQueueDelay",It.ONE_SECOND),mt(this,"expectedPairingMethodMap",new Map),mt(this,"recentlyDeletedMap",new Map),mt(this,"recentlyDeletedLimit",200),mt(this,"relayMessageCache",[]),mt(this,"pendingSessions",new Map),mt(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jo)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},It.toMiliseconds(this.requestQueueDelay)))}),mt(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ka(ui({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=E3t(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:s,sessionProperties:a,scopedProperties:l,relays:c}=r;let d=i,u,h=!1;try{if(d){const T=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),T}if(!d||!h){const{topic:T,uri:D}=await this.client.core.pairing.create();d=T,u=D}if(!d){const{message:T}=kt("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(T)}const m=await this.client.core.crypto.generateKeyPair(),v=jo.wc_sessionPropose.req.ttl||It.FIVE_MINUTES,y=ko(v),g=ka(ui(ui({requiredNamespaces:o,optionalNamespaces:s,relays:c??[{protocol:g0e}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:d},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:wd()}),b=Pr("session_connect",g.id),{reject:k,resolve:_,done:R}=Bp(v,Yte),I=({id:T})=>{T===g.id&&(this.client.events.off("proposal_expire",I),this.pendingSessions.delete(g.id),this.events.emit(b,{error:{message:Yte,code:0}}))};return this.client.events.on("proposal_expire",I),this.events.once(b,({error:T,session:D})=>{this.client.events.off("proposal_expire",I),T?k(T):D&&_(D)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:g,throwOnFailedPublish:!0,clientRpcId:g.id}),await this.setProposal(g.id,g),{uri:u,approval:R}}),mt(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),mt(this,"approve",async n=>{var r,i,o;const s=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ic.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw s.setError(Ep.no_internet_connection),C}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),s.setError(Ep.proposal_not_found),C}try{await this.isValidApprove(n)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),s.setError(Ep.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:d,scopedProperties:u,sessionConfig:h}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:s.eventId});const{pairingTopic:v,proposer:y,requiredNamespaces:g,optionalNamespaces:b}=m;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});k||(k=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:Ic.session_approve_started,properties:{topic:v,trace:[Ic.session_approve_started,Ic.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),R=y.publicKey,I=await this.client.core.crypto.generateSharedKey(_,R),T=ui(ui(ui({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:_,metadata:this.client.metadata},expiry:ko(cy)},d&&{sessionProperties:d}),u&&{scopedProperties:u}),h&&{sessionConfig:h}),D=hi.relay;k.addTrace(Ic.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:D})}catch(C){throw k.setError(Ep.subscribe_session_topic_failure),C}k.addTrace(Ic.subscribe_session_topic_success);const M=ka(ui({},T),{topic:I,requiredNamespaces:g,optionalNamespaces:b,pairingTopic:v,acknowledged:!1,self:T.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:_,transportType:hi.relay});await this.client.session.set(I,M),k.addTrace(Ic.store_session);try{k.addTrace(Ic.publishing_session_settle),await this.sendRequest({topic:I,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(C=>{throw k==null||k.setError(Ep.session_settle_publish_failure),C}),k.addTrace(Ic.session_settle_publish_success),k.addTrace(Ic.publishing_session_approve),await this.sendResult({id:a,topic:v,result:{relay:{protocol:l??"irn"},responderPublicKey:_},throwOnFailedPublish:!0}).catch(C=>{throw k==null||k.setError(Ep.session_approve_publish_failure),C}),k.addTrace(Ic.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(I,Ki("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(I),C}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:y.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(I,ko(cy)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),mt(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(s){throw this.client.logger.error("reject() -> isValidReject() failed"),s}const{id:r,reason:i}=n;let o;try{o=this.client.proposal.get(r).pairingTopic}catch(s){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),s}o&&await this.sendError({id:r,topic:o,error:i,rpcOpts:jo.wc_sessionPropose.reject}),await this.deleteProposal(r)}),mt(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(u){throw this.client.logger.error("update() -> isValidUpdate() failed"),u}const{topic:r,namespaces:i}=n,{done:o,resolve:s,reject:a}=Bp(),l=wd(),c=rm().toString(),d=this.client.session.get(r).namespaces;return this.events.once(Pr("session_update",l),({error:u})=>{u?a(u):s()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(u=>{this.client.logger.error(u),this.client.session.update(r,{namespaces:d}),a(u)}),{acknowledged:o}}),mt(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=wd(),{done:o,resolve:s,reject:a}=Bp();return this.events.once(Pr("session_extend",i),({error:l})=>{l?a(l):s()}),await this.setExpiry(r,ko(cy)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:o}}),mt(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(g){throw this.client.logger.error("request() -> isValidRequest() failed"),g}const{chainId:r,request:i,topic:o,expiry:s=jo.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(o);(a==null?void 0:a.transportType)===hi.relay&&await this.confirmOnlineStateOrThrow();const l=wd(),c=rm().toString(),{done:d,resolve:u,reject:h}=Bp(s,"Request expired. Please try again.");this.events.once(Pr("session_request",l),({error:g,result:b})=>{g?h(g):u(b)});const m="wc_sessionRequest",v=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(v)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:o,method:m,params:{request:ka(ui({},i),{expiryTimestamp:ko(s)}),chainId:r},expiry:s,throwOnFailedPublish:!0,appLink:v}).catch(g=>h(g)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:l}),await d();const y={request:ka(ui({},i),{expiryTimestamp:ko(s)}),chainId:r};return await Promise.all([new Promise(async g=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:o,method:m,params:y,expiry:s,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,y)}).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:l}),g()}),new Promise(async g=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const k=await w2t(this.client.core.storage,Zte);await g2t({id:l,topic:o,wcDeepLink:k})}g()}),d()]).then(g=>g[2])}),mt(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:o}=i,s=this.client.session.get(r);s.transportType===hi.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);bd(i)?await this.sendResult({id:o,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Jl(i)&&await this.sendError({id:o,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),mt(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=wd(),o=rm().toString(),{done:s,resolve:a,reject:l}=Bp();this.events.once(Pr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:o}),s()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),mt(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:o}=n,s=rm().toString(),a=wd();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:o},throwOnFailedPublish:!0,relayRpcId:s,clientRpcId:a})}),mt(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ki("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=kt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),mt(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>R3t(r,n)))),mt(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),mt(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const o=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),s=o?hi.link_mode:hi.relay;s===hi.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:d,nonce:u,type:h,exp:m,nbf:v,methods:y=[],expiry:g}=n,b=[...n.resources||[]],{topic:k,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:_}});const R=await this.client.core.crypto.generateKeyPair(),I=K2(R);if(await Promise.all([this.client.auth.authKeys.set(G2,{responseTopic:I,publicKey:R}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:k})]),await this.client.core.relayer.subscribe(I,{transportType:s}),this.client.logger.info(`sending request to new pairing topic: ${k}`),y.length>0){const{namespace:V}=z2(a[0]);let K=MSt(V,"request",y);V2(b)&&(K=jSt(K,b.pop())),b.push(K)}const T=g&&g>jo.wc_sessionAuthenticate.req.ttl?g:jo.wc_sessionAuthenticate.req.ttl,D={authPayload:{type:h??"caip122",chains:a,statement:l,aud:c,domain:d,version:"1",nonce:u,iat:new Date().toISOString(),exp:m,nbf:v,resources:b},requester:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:ko(T)},M={eip155:{chains:a,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:ko(jo.wc_sessionPropose.req.ttl),id:wd()},{done:U,resolve:$,reject:z}=Bp(T,"Request expired"),q=wd(),S=Pr("session_connect",C.id),A=Pr("session_request",q),O=async({error:V,session:K})=>{this.events.off(A,N),V?z(V):K&&$({session:K})},N=async V=>{var K,W,P;if(await this.deletePendingAuthRequest(q,{message:"fulfilled",code:0}),V.error){const be=Ki("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return V.error.code===be.code?void 0:(this.events.off(S,O),z(V.error.message))}await this.deleteProposal(C.id),this.events.off(S,O);const{cacaos:F,responder:G}=V.result,Y=[],ie=[];for(const be of F){await Fee({cacao:be,projectId:this.client.core.projectId})||(this.client.logger.error(be,"Signature verification failed"),z(Ki("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Le}=be,qe=V2(Le.resources),Me=[J7(Le.iss)],gt=yI(Le.iss);if(qe){const tt=Wee(qe),dt=qee(qe);Y.push(...tt),Me.push(...dt)}for(const tt of Me)ie.push(`${tt}:${gt}`)}const ye=await this.client.core.crypto.generateSharedKey(R,G.publicKey);let ge;Y.length>0&&(ge={topic:ye,acknowledged:!0,self:{publicKey:R,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:ko(cy),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:hte([...new Set(Y)],[...new Set(ie)]),transportType:s},await this.client.core.relayer.subscribe(ye,{transportType:s}),await this.client.session.set(ye,ge),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:G.metadata}),ge=this.client.session.get(ye)),(K=this.client.metadata.redirect)!=null&&K.linkMode&&(W=G.metadata.redirect)!=null&&W.linkMode&&(P=G.metadata.redirect)!=null&&P.universal&&r&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(ye,{transportType:hi.link_mode})),$({auths:F,session:ge})};this.events.once(S,O),this.events.once(A,N);let j;try{if(o){const V=im("wc_sessionAuthenticate",D,q);this.client.core.history.set(k,V);const K=await this.client.core.crypto.encode("",V,{type:V_,encoding:mh});j=n2(r,k,K)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:D,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:q}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:C,expiry:jo.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch(V){throw this.events.off(S,O),this.events.off(A,N),V}return await this.setProposal(C.id,C),await this.setAuthRequest(q,{request:ka(ui({},D),{verifyContext:{}}),pairingTopic:k,transportType:s}),{uri:j??_,response:U}}),mt(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,o=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Cp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(g){throw o.setError(Lw.no_internet_connection),g}const s=this.getPendingAuthRequest(r);if(!s)throw o.setError(Lw.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=s.transportType||hi.relay;a===hi.relay&&await this.confirmOnlineStateOrThrow();const l=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),d=K2(l),u={type:Wu,receiverPublicKey:l,senderPublicKey:c},h=[],m=[];for(const g of i){if(!await Fee({cacao:g,projectId:this.client.core.projectId})){o.setError(Lw.invalid_cacao);const I=Ki("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:I,encodeOpts:u}),new Error(I.message)}o.addTrace(Cp.cacaos_verified);const{p:b}=g,k=V2(b.resources),_=[J7(b.iss)],R=yI(b.iss);if(k){const I=Wee(k),T=qee(k);h.push(...I),_.push(...T)}for(const I of _)m.push(`${I}:${R}`)}const v=await this.client.core.crypto.generateSharedKey(c,l);o.addTrace(Cp.create_authenticated_session_topic);let y;if((h==null?void 0:h.length)>0){y={topic:v,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:s.requester.metadata},controller:l,expiry:ko(cy),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:hte([...new Set(h)],[...new Set(m)]),transportType:a},o.addTrace(Cp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:a})}catch(g){throw o.setError(Lw.subscribe_authenticated_session_topic_failure),g}o.addTrace(Cp.subscribe_authenticated_session_topic_success),await this.client.session.set(v,y),o.addTrace(Cp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}o.addTrace(Cp.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,a)})}catch(g){throw o.setError(Lw.authenticated_session_approve_publish_failure),g}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:y}}),mt(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,o=this.getPendingAuthRequest(r);if(!o)throw new Error(`Could not find pending auth request with id ${r}`);o.transportType===hi.relay&&await this.confirmOnlineStateOrThrow();const s=o.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=K2(s),c={type:Wu,receiverPublicKey:s,senderPublicKey:a};await this.sendError({id:r,topic:l,error:i,encodeOpts:c,rpcOpts:jo.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),mt(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return Oye(r,i)}),mt(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),mt(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var s,a;return((s=o.peerMetadata)==null?void 0:s.url)&&((a=o.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&o.topic&&o.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),mt(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:o=!1,emitEvent:s=!0,id:a=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ki("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),o||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Zte).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Ki("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=pd.idle),s&&this.client.events.emit("session_delete",{id:a,topic:i})}),mt(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),o=this.client.core.eventClient.getEvent({topic:i.pairingTopic});o==null||o.setError(Ep.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ki("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),mt(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==n),i&&(this.sessionRequestQueue.state=pd.idle,this.client.events.emit("session_request_expire",{id:n}))}),mt(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),mt(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),mt(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ko(jo.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),mt(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:o,transportType:s=hi.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:o,verifyContext:i.verifyContext,transportType:s})}),mt(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:o,verifyContext:s}=n,a=o.request.expiryTimestamp||ko(jo.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:o,verifyContext:s})}),mt(this,"sendRequest",async n=>{const{topic:r,method:i,params:o,expiry:s,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:d,tvf:u}=n,h=im(i,o,l);let m;const v=!!d;try{const b=v?mh:Mc;m=await this.client.core.crypto.encode(r,h,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let y;if(K6t.includes(i)){const b=kd(JSON.stringify(h)),k=kd(m);y=await this.client.core.verify.register({id:k,decryptedId:b})}const g=jo[i].req;if(g.attestation=y,s&&(g.ttl=s),a&&(g.id=a),this.client.core.history.set(r,h),v){const b=n2(d,r,m);await global.Linking.openURL(b,this.client.name)}else{const b=jo[i].req;s&&(b.ttl=s),a&&(b.id=a),b.tvf=ka(ui({},u),{correlationId:h.id}),c?(b.internal=ka(ui({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,b)):this.client.core.relayer.publish(r,m,b).catch(k=>this.client.logger.error(k))}return h.id}),mt(this,"sendResult",async n=>{const{id:r,topic:i,result:o,throwOnFailedPublish:s,encodeOpts:a,appLink:l}=n,c=i$(r,o);let d;const u=l&&typeof(global==null?void 0:global.Linking)<"u";try{const v=u?mh:Mc;d=await this.client.core.crypto.encode(i,c,ka(ui({},a||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let h,m;try{h=await this.client.core.history.get(i,r);const v=h.request;try{m=this.getTVFParams(r,v.params,o)}catch(y){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${y==null?void 0:y.message}`)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),v}if(u){const v=n2(l,i,d);await global.Linking.openURL(v,this.client.name)}else{const v=h.request.method,y=jo[v].res;y.tvf=ka(ui({},m),{correlationId:r}),s?(y.internal=ka(ui({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,y)):this.client.core.relayer.publish(i,d,y).catch(g=>this.client.logger.error(g))}await this.client.core.history.resolve(c)}),mt(this,"sendError",async n=>{const{id:r,topic:i,error:o,encodeOpts:s,rpcOpts:a,appLink:l}=n,c=o$(r,o);let d;const u=l&&typeof(global==null?void 0:global.Linking)<"u";try{const m=u?mh:Mc;d=await this.client.core.crypto.encode(i,c,ka(ui({},s||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let h;try{h=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(u){const m=n2(l,i,d);await global.Linking.openURL(m,this.client.name)}else{const m=h.request.method,v=a||jo[m].res;this.client.core.relayer.publish(i,d,v)}await this.client.core.history.resolve(c)}),mt(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let o=!1;uh(i.expiry)&&(o=!0),this.client.core.crypto.keychain.has(i.topic)||(o=!0),o&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{uh(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),mt(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),mt(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),mt(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===pd.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=pd.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=pd.idle}),mt(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:o,transportType:s,encryptedId:a}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:o,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:o,encryptedId:a,transportType:s});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:o,encryptedId:a,transportType:s});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),mt(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:o}=n,s=(await this.client.core.history.get(r,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,o);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}}),mt(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=kt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),mt(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,o=this.expectedPairingMethodMap.get(r);return!o||o.includes(i)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),mt(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:o,encryptedId:s}=n,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(bu.proposal_listener_not_found)),this.isValidConnect(ui({},i.params));const d=a.expiryTimestamp||ko(jo.wc_sessionPropose.req.ttl),u=ui({id:l,pairingTopic:r,expiryTimestamp:d,attestation:o,encryptedId:s},a);await this.setProposal(l,u);const h=await this.getVerifyContext({attestationId:o,hash:kd(JSON.stringify(i)),encryptedId:s,metadata:u.proposer.metadata});c==null||c.addTrace(vd.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:u,verifyContext:h})}catch(c){await this.sendError({id:l,topic:r,error:c,rpcOpts:jo.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),mt(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:o}=r;if(bd(r)){const{result:s}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const a=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const d=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(o,{sessionTopic:d,pairingTopic:n,proposalId:o,publicKey:l});const u=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:n})}else if(Jl(r)){await this.deleteProposal(o);const s=Pr("session_connect",o);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(s,{error:r.error})}}),mt(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:o}=r;try{this.isValidSessionSettleRequest(o);const{relay:s,controller:a,expiry:l,namespaces:c,sessionProperties:d,scopedProperties:u,sessionConfig:h}=r.params,m=[...this.pendingSessions.values()].find(g=>g.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(m.proposalId),y=ka(ui(ui(ui({topic:n,relay:s,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),u&&{scopedProperties:u}),h&&{sessionConfig:h}),{transportType:hi.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit("session_connect",{session:y}),this.events.emit(Pr("session_connect",m.proposalId),{session:y}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:r.id,topic:n,result:!0})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),mt(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;bd(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Pr("session_approve",i),{})):Jl(r)&&(await this.client.session.delete(n,Ki("USER_DISCONNECTED")),this.events.emit(Pr("session_approve",i),{error:r.error}))}),mt(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:o}=r;try{const s=`${n}_session_update`,a=jw.get(s);if(a&&this.isRequestOutOfSync(a,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:n,error:Ki("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ui({topic:n},i));try{jw.set(s,o),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:n,result:!0})}catch(l){throw jw.delete(s),l}this.client.events.emit("session_update",{id:o,topic:n,params:i})}catch(s){await this.sendError({id:o,topic:n,error:s}),this.client.logger.error(s)}}),mt(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),mt(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,o=Pr("session_update",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);bd(r)?this.events.emit(Pr("session_update",i),{}):Jl(r)&&this.events.emit(Pr("session_update",i),{error:r.error})}),mt(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ko(cy)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),mt(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,o=Pr("session_extend",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);bd(r)?this.events.emit(Pr("session_extend",i),{}):Jl(r)&&this.events.emit(Pr("session_extend",i),{error:r.error})}),mt(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),mt(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,o=Pr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);bd(r)?this.events.emit(Pr("session_ping",i),{}):Jl(r)&&this.events.emit(Pr("session_ping",i),{error:r.error})},500)}),mt(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(o=>{this.client.core.relayer.once(zo.publish,async()=>{o(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ki("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}}),mt(this,"onSessionRequest",async n=>{var r,i,o;const{topic:s,payload:a,attestation:l,encryptedId:c,transportType:d}=n,{id:u,params:h}=a;try{await this.isValidRequest(ui({topic:s},h));const m=this.client.session.get(s),v=await this.getVerifyContext({attestationId:l,hash:kd(JSON.stringify(im("wc_sessionRequest",h,u))),encryptedId:c,metadata:m.peer.metadata,transportType:d}),y={id:u,topic:s,params:h,verifyContext:v};await this.setPendingSessionRequest(y),d===hi.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(m){await this.sendError({id:u,topic:s,error:m}),this.client.logger.error(m)}}),mt(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,o=Pr("session_request",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);bd(r)?this.events.emit(Pr("session_request",i),{result:r.result}):Jl(r)&&this.events.emit(Pr("session_request",i),{error:r.error})}),mt(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:o}=r;try{const s=`${n}_session_event_${o.event.name}`,a=jw.get(s);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ui({topic:n},o)),this.client.events.emit("session_event",{id:i,topic:n,params:o}),jw.set(s,i)}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),mt(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),bd(r)?this.events.emit(Pr("session_request",i),{result:r.result}):Jl(r)&&this.events.emit(Pr("session_request",i),{error:r.error})}),mt(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:o,attestation:s,encryptedId:a,transportType:l}=n;try{const{requester:c,authPayload:d,expiryTimestamp:u}=o.params,h=await this.getVerifyContext({attestationId:s,hash:kd(JSON.stringify(o)),encryptedId:a,metadata:c.metadata,transportType:l}),m={requester:c,pairingTopic:i,id:o.id,authPayload:d,verifyContext:h,expiryTimestamp:u};await this.setAuthRequest(o.id,{request:m,pairingTopic:i,transportType:l}),l===hi.link_mode&&(r=c.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:o.params,id:o.id,verifyContext:h})}catch(c){this.client.logger.error(c);const d=o.params.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(o.params.requester.metadata,l),m={type:Wu,receiverPublicKey:d,senderPublicKey:u};await this.sendError({id:o.id,topic:i,error:c,encodeOpts:m,rpcOpts:jo.wc_sessionAuthenticate.autoReject,appLink:h})}}),mt(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),mt(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=pd.idle,this.processSessionRequestQueue()},It.toMiliseconds(this.requestQueueDelay))}),mt(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(o=>o.topic===n&&o.request.method==="wc_sessionRequest").forEach(o=>{const s=o.request.id,a=Pr("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Pr("session_request",o.request.id),{error:r})})}),mt(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===pd.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),mt(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=pd.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),mt(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:im("wc_sessionPropose",ka(ui({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),mt(this,"isValidConnect",async n=>{if(!Ea(n)){const{message:c}=kt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:s,scopedProperties:a,relays:l}=n;if(ms(r)||await this.isValidPairingTopic(r),!F3t(l)){const{message:c}=kt("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!ms(i)&&N1(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!ms(o)&&N1(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),ms(s)||this.validateSessionProps(s,"sessionProperties"),!ms(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(o||{}));if(!Object.keys(a).every(d=>c.includes(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),mt(this,"validateNamespaces",(n,r)=>{const i=U3t(n,"connect()",r);if(i)throw new Error(i.message)}),mt(this,"isValidApprove",async n=>{if(!Ea(n))throw new Error(kt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:o,sessionProperties:s,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),c=eT(i,"approve()");if(c)throw new Error(c.message);const d=gte(l.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!go(o,!0)){const{message:u}=kt("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(u)}if(ms(s)||this.validateSessionProps(s,"sessionProperties"),!ms(a)){this.validateSessionProps(a,"scopedProperties");const u=new Set(Object.keys(i));if(!Object.keys(a).every(h=>u.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(u).join(", ")}`)}}),mt(this,"isValidReject",async n=>{if(!Ea(n)){const{message:o}=kt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(o)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!q3t(i)){const{message:o}=kt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}}),mt(this,"isValidSessionSettleRequest",n=>{if(!Ea(n)){const{message:c}=kt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(c)}const{relay:r,controller:i,namespaces:o,expiry:s}=n;if(!c0e(r)){const{message:c}=kt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=B3t(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=eT(o,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(uh(s)){const{message:c}=kt("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),mt(this,"isValidUpdate",async n=>{if(!Ea(n)){const{message:l}=kt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const o=this.client.session.get(r),s=eT(i,"update()");if(s)throw new Error(s.message);const a=gte(o.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),mt(this,"isValidExtend",async n=>{if(!Ea(n)){const{message:i}=kt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),mt(this,"isValidRequest",async n=>{if(!Ea(n)){const{message:l}=kt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:o,expiry:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!mte(a,o)){const{message:l}=kt("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(l)}if(!z3t(i)){const{message:l}=kt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!H3t(a,o,i.method)){const{message:l}=kt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(s&&!Y3t(s,lT)){const{message:l}=kt("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${lT.min} and ${lT.max}`);throw new Error(l)}}),mt(this,"isValidRespond",async n=>{var r;if(!Ea(n)){const{message:s}=kt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(s)}const{topic:i,response:o}=n;try{await this.isValidSessionTopic(i)}catch(s){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),s}if(!V3t(o)){const{message:s}=kt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(s)}}),mt(this,"isValidPing",async n=>{if(!Ea(n)){const{message:i}=kt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),mt(this,"isValidEmit",async n=>{if(!Ea(n)){const{message:a}=kt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:o}=n;await this.isValidSessionTopic(r);const{namespaces:s}=this.client.session.get(r);if(!mte(s,o)){const{message:a}=kt("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(a)}if(!K3t(i)){const{message:a}=kt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!G3t(s,o,i.name)){const{message:a}=kt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),mt(this,"isValidDisconnect",async n=>{if(!Ea(n)){const{message:i}=kt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),mt(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:o,nonce:s}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!go(i,!1))throw new Error("uri is required parameter");if(!go(o,!1))throw new Error("domain is required parameter");if(!go(s,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>z2(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=z2(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),mt(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:o,metadata:s,transportType:a}=n,l={verified:{verifyUrl:s.verifyUrl||Ob,validation:"UNKNOWN",origin:s.url||""}};try{if(a===hi.link_mode){const d=this.getAppLinkIfEnabled(s,a);return l.verified.validation=d&&new URL(d).origin===new URL(s.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:o,verifyUrl:s.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),mt(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,o)=>{if(i==null){const{message:s}=kt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[o]}`);throw new Error(s)}})}),mt(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),mt(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const o=this.recentlyDeletedLimit/2;for(const s of this.recentlyDeletedMap.keys()){if(i++>=o)break;this.recentlyDeletedMap.delete(s)}}}),mt(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=kt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),mt(this,"isLinkModeEnabled",(n,r)=>{var i,o,s,a,l,c,d,u,h;return!n||r!==hi.link_mode?!1:((o=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:o.linkMode)===!0&&((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),mt(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),mt(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=Ree(n,"topic")||"",i=decodeURIComponent(Ree(n,"wc_ev")||""),o=this.client.session.keys.includes(r);o&&this.client.session.update(r,{transportType:hi.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:o})}),mt(this,"registerLinkModeListeners",async()=>{var n;if(q9()||op()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),mt(this,"getTVFParams",(n,r,i)=>{var o,s,a;if(!((o=r.request)!=null&&o.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(r.request.params)?[(a=(s=r.request.params)==null?void 0:s[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),mt(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const o=i.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),mt(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const o=n.method,s=z6t[o];if(o==="sui_signTransaction")return[wSt(r.transactionBytes)];if(o==="near_signTransaction")return[jee(r)];if(o==="near_signTransactions")return r.map(l=>jee(l));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(o==="polkadot_signTransaction")return[fEt({transaction:n.params.transactionPayload,signature:r.signature})];if(o==="algo_signTxn")return U0(r)?r.map(l=>$ee(l)):[$ee(r)];if(o==="cosmos_signDirect")return[_St(r)];if(typeof r=="string")return[r];const a=r[s.key];if(U0(a))return o==="solana_signAllTransactions"?a.map(l=>vSt(l)):a;if(typeof a=="string")return[a]}catch(o){this.client.logger.warn("Error extracting tx hashes from result",o)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const o of i)try{await this.onProviderMessageEvent({topic:r,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${o}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=kt("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(zo.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:i,transportType:o}=t,{publicKey:s}=this.client.auth.authKeys.keys.includes(G2)?this.client.auth.authKeys.get(G2):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:s,encoding:o===hi.link_mode?mh:Mc});s$(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:o,encryptedId:kd(r)})):ME(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:o}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:o}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Vl.expired,async t=>{const{topic:n,id:r}=gye(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,kt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,kt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(qp.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(qp.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!go(t,!1)){const{message:n}=kt("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=kt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(uh(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=kt("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!go(t,!1)){const{message:n}=kt("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=kt("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(uh(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=kt("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=kt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(go(t,!1)){const{message:n}=kt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=kt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!W3t(t)){const{message:n}=kt("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=kt("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(uh(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=kt("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class iRt extends mg{constructor(t,n){super(t,n,F6t,l$),this.core=t,this.logger=n}}class oRt extends mg{constructor(t,n){super(t,n,W6t,l$),this.core=t,this.logger=n}}class sRt extends mg{constructor(t,n){super(t,n,V6t,l$,r=>r.id),this.core=t,this.logger=n}}class aRt extends mg{constructor(t,n){super(t,n,J6t,jE,()=>G2),this.core=t,this.logger=n}}class lRt extends mg{constructor(t,n){super(t,n,Z6t,jE),this.core=t,this.logger=n}}class cRt extends mg{constructor(t,n){super(t,n,Y6t,jE,r=>r.id),this.core=t,this.logger=n}}var dRt=Object.defineProperty,uRt=(e,t,n)=>t in e?dRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cT=(e,t,n)=>uRt(e,typeof t!="symbol"?t+"":t,n);class fRt{constructor(t,n){this.core=t,this.logger=n,cT(this,"authKeys"),cT(this,"pairingTopics"),cT(this,"requests"),this.authKeys=new aRt(this.core,this.logger),this.pairingTopics=new lRt(this.core,this.logger),this.requests=new cRt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var hRt=Object.defineProperty,pRt=(e,t,n)=>t in e?hRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dr=(e,t,n)=>pRt(e,typeof t!="symbol"?t+"":t,n);class c$ extends Tkt{constructor(t){super(t),dr(this,"protocol",T0e),dr(this,"version",O0e),dr(this,"name",aT.name),dr(this,"metadata"),dr(this,"core"),dr(this,"logger"),dr(this,"events",new Xc.EventEmitter),dr(this,"engine"),dr(this,"session"),dr(this,"proposal"),dr(this,"pendingRequest"),dr(this,"auth"),dr(this,"signConfig"),dr(this,"on",(r,i)=>this.events.on(r,i)),dr(this,"once",(r,i)=>this.events.once(r,i)),dr(this,"off",(r,i)=>this.events.off(r,i)),dr(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),dr(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),dr(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),dr(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(o){throw this.logger.error(o.message),o}}),dr(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),dr(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(t==null?void 0:t.name)||aT.name,this.metadata=d2t(t==null?void 0:t.metadata),this.signConfig=t==null?void 0:t.signConfig;const n=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:CE(W9({level:(t==null?void 0:t.logger)||aT.logger}));this.core=(t==null?void 0:t.core)||new U6t(t),this.logger=ha(n,this.name),this.session=new oRt(this.core,this.logger),this.proposal=new iRt(this.core,this.logger),this.pendingRequest=new sRt(this.core,this.logger),this.engine=new rRt(this),this.auth=new fRt(this.core,this.logger)}static async init(t){const n=new c$(t);return await n.initialize(),n}get context(){return Fa(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}let dT;const mRt=e=>uxt(void 0,[e],void 0,function*({projectId:t,appIcon:n,appName:r}){return dT||(dT=yield c$.init({customStoragePrefix:`dynamicauth_${t}_walletconnect`,metadata:{description:"",icons:[n],name:r,url:""},projectId:t})),dT});Oo("@dynamic-labs/wallet-connect",dxt);const gRt=({walletConnector:e})=>{const l={addListener:()=>{throw new Error("addListener - Not implemented")},connect:()=>Ht(void 0,void 0,void 0,function*(){const c=e.getActiveAddress();if(c)return{address:c,publicKey:new Cn(c)}}),disconnect:()=>Ht(void 0,void 0,void 0,function*(){yield e.endSession()}),emit:()=>{throw new Error("emit - Not implemented")},eventNames:()=>(Ct.error("eventNames - Not implemented"),[]),isBackpack:!1,isBraveWallet:!1,get isConnected(){return!!e.getActiveAddress()},isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!1,isSolflare:!1,listenerCount:()=>(Ct.error("listenerCount - Not implemented"),0),listeners:()=>(Ct.error("listeners - Not implemented"),[]),off:()=>{throw new Error("off - Not implemented")},on:(c,d)=>c==="connect"?(Ct.debug("on - Not implemented for event: connect"),l):c==="activeWalletDidChange"?(e.listenToActiveAccountChange(d),l):(e.signClient.on("session_event",u=>{if(!(!e.session||u.topic!==e.session.topic)){if(u.params.event.name==="accountsChanged"&&c==="accountChanged"){const h=u.params.event.data,m=ioe(h.map(v=>v.startsWith("solana:")?v.split(":")[2]:v));d(m[0]);return}if(u.params.event.name==="disconnected"&&c==="disconnect"){d("");return}}}),l),once:()=>{throw new Error("once - Not implemented")},providers:[],get publicKey(){const c=e.getActiveAddress();return c?new Cn(c):void 0},removeAllListeners:()=>{throw new Error("removeAllListeners - Not implemented")},removeListener:()=>{throw new Error("removeListener - Not implemented")},signAllTransactions:c=>Ht(void 0,void 0,void 0,function*(){return e.signAllTransactions(c)}),signAndSendTransaction:(c,d)=>Ht(void 0,void 0,void 0,function*(){return{signature:yield e.signAndSendTransaction(c,d)}}),signMessage:c=>Ht(void 0,void 0,void 0,function*(){return{signature:yield e.signEncodedMessage(c)}}),signTransaction:c=>Ht(void 0,void 0,void 0,function*(){return e.signTransaction(c)})};return l},yRt="dynamic-wc2-solana-current-chain";class fo extends P_{constructor(t){super(t),this.activeAccountEmitter=new cxt,this.isInitialized=!1,this.canConnectViaQrCode=!0,this.isWalletConnect=!0,this.canHandleMultipleConnections=!1,this.mergeWalletBookChains=!1,this.name=t.walletName;const n=ot.getItem(yRt);if(n&&this.setNetworkId(n),t.overrideKey&&(this.overrideKey=t.overrideKey),!t.projectId)throw new Se("WalletConnect project ID is required")}get deepLinkPreference(){var t;return(t=this.constructorProps.deepLinkPreference)!==null&&t!==void 0?t:"native"}get signClient(){if(!fo.signClientReference)throw new Se("Failed to access sign client for Wallet Connect Solana: Sign client not initialized");return fo.signClientReference}getAvailableMethods(){var t,n;return this.session?(n=(t=this.session.namespaces.solana)===null||t===void 0?void 0:t.methods)!==null&&n!==void 0?n:[]:[]}getSupportedNetworks(){return Ht(this,void 0,void 0,function*(){var t,n;if(!this.session)return this.solNetworks.map(i=>i.chainId.toString());const r=(n=(t=this.session.namespaces.solana)===null||t===void 0?void 0:t.chains)!==null&&n!==void 0?n:[];return this.solNetworks.filter(i=>r.includes(`solana:${i.genesisHash}`)).map(i=>i.chainId.toString())})}getActiveAddress(){var t,n;if(!this.session){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getActiveAddress - no session, returning undefined");return}return Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getActiveAddress - session",this.session),(n=(t=this.session.namespaces.solana)===null||t===void 0?void 0:t.accounts)===null||n===void 0?void 0:n[0].split(":")[2]}listenToActiveAccountChange(t){return this.activeAccountEmitter.on("activeAccountDidChange",t),()=>{this.activeAccountEmitter.off("activeAccountDidChange",t)}}isSendBalanceUnsupported(){if(!this.session)return!1;const t=this.getAvailableMethods();return!t.includes("solana_signAndSendTransaction")&&!t.includes("solana_signTransaction")}createUiTransaction(t){return Ht(this,void 0,void 0,function*(){if(yield this.validateActiveWallet(t),this.isSendBalanceUnsupported())throw new Se("Wallet does not support signing transactions. Please connect to a wallet that supports signing transactions.");return new Ad({connection:this.getWalletClient(),from:t,onSubmit:r=>Ht(this,void 0,void 0,function*(){var i;if(!r)return;const o=yield this.getWalletClient().getLatestBlockhash();return"version"in r?r.message.recentBlockhash=o.blockhash:(r.recentBlockhash=o.blockhash,r.feePayer=(i=r.feePayer)!==null&&i!==void 0?i:new Cn(t)),yield this.signAndSendTransaction(r)})})})}getSigner(){return Ht(this,void 0,void 0,function*(){return gRt({walletConnector:this})})}connect(){return Ht(this,void 0,void 0,function*(){throw new Error("Connect method not implemented.")})}static globalInit(t){return Ht(this,void 0,void 0,function*(){var n,r;fo.signClientPromise=mRt({appIcon:(n=t.appLogoUrl)!==null&&n!==void 0?n:"",appName:(r=t.appName)!==null&&r!==void 0?r:"",projectId:t.projectId}),fo.signClientReference=yield fo.signClientPromise,fo.signClientReference.on("session_event",i=>{fo.sessionEventListeners.forEach(o=>{o(i)})})})}static testOnly__reset(){fo.signClientPromise=void 0,fo.signClientReference=void 0,fo.sessionEventListeners=[]}init(){return Ht(this,void 0,void 0,function*(){var t,n,r,i;if(this.isInitialized)return;if(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] init called"),this.isInitialized=!0,!((i=(r=(n=(t=this.constructorProps.settings)===null||t===void 0?void 0:t.sdk)===null||n===void 0?void 0:n.walletConnect)===null||r===void 0?void 0:r.v2Enabled)!==null&&i!==void 0?i:!1)){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] skipping init - WalletConnect is not enabled in project settings");return}if(fo.signClientPromise){yield fo.signClientPromise,this.setupWCEventListeners();return}yield fo.globalInit(this.constructorProps),this.setupWCEventListeners()})}handleSessionEvent({params:{event:t},topic:n}){var r,i;if(!(!this.session||n!==this.session.topic)){if(t.name==="chainChanged"){const o=t.data;let s=o;if(typeof o=="string"&&o.startsWith("solana:")){const a=o.split(":")[1];s=(i=(r=this.solNetworks.find(l=>l.genesisHash===a))===null||r===void 0?void 0:r.networkId.toString())!==null&&i!==void 0?i:o}if(Ct.debug("[SolanaWalletConnect] onChainChange",{chainId:s}),s===this.getNetworkId()){Ct.debug(`[SolanaWalletConnect] onChainChange - ignoring chainChanged event with same chain id as current chain id: ${s}`);return}this.switchNetwork({networkChainId:parseInt(String(s))});return}if(t.name==="accountsChanged"){const o=t.data,s=ioe(o.map(a=>a.startsWith("solana:")?a.split(":")[2]:a));Ct.debug("[SolanaWalletConnect] onAccountChanged",{accounts:s}),this.emit("accountChange",{accounts:s});return}if(t.name==="disconnected"){Ct.debug("[SolanaWalletConnect] onDisconnect"),this.emit("disconnect"),this.endSession();return}}}setupWCEventListeners(){fo.sessionEventListeners.push(t=>this.handleSessionEvent(t))}endSession(){return Ht(this,void 0,void 0,function*(){Ct.debug("[SolanaWalletConnect] endSession"),this.connectionUri=void 0,this.session&&(yield this.signClient.disconnect({reason:rxt.USER_DISCONNECTED,topic:this.session.topic}),this.session=void 0)})}displayUri(t){return Ht(this,void 0,void 0,function*(){this.connectionUri&&(Ct.debug("[SolanaWalletConnect] handleDisplayURI",this.connectionUri),yield QAe(this.connectionUri,this.metadata.deepLinks,{onDesktopUri:t==null?void 0:t.onDesktopUri,onDisplayUri:t==null?void 0:t.onDisplayUri},this.deepLinkPreference))})}getAddress(t){return Ht(this,void 0,void 0,function*(){var n;if(Ct.debug("[SolanaWalletConnect] getAddress",t),this.session)return this.getActiveAddress();if(this.connectionUri){Ct.debug("[SolanaWalletConnect] getAddress - connecting to WalletConnect with existing connection URI"),yield this.displayUri(t);return}if(Ct.logVerboseTroubleshootingMessage("[WalletConnectConnector] getAddress",{inAppBrowserUrl:(n=this.metadata)===null||n===void 0?void 0:n.inAppBrowserUrl,isMobile:rr(),mobileExperience:this.mobileExperience}),this.openInAppBrowserIfRequired())return;Ct.debug("[SolanaWalletConnect] getAddress - connecting to WalletConnect");const i=this.solNetworks.map(s=>`solana:${s.genesisHash}`),o=yield fo.signClientPromise;if(!o)throw new Se("Failed to access sign client for Wallet Connect Solana: Sign client not initialized");try{const{approval:s,uri:a}=yield o.connect({optionalNamespaces:{solana:{chains:i,events:["chainChanged","accountsChanged","disconnected"],methods:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"]}}});Ct.debug("[SolanaWalletConnect] getAddress - connection URI",a),this.connectionUri=a,yield this.displayUri(t),this.session=yield s();const l=this.getActiveAddress();return this.activeAccountEmitter.emit("activeAccountDidChange",l),l}finally{this.connectionUri=void 0}})}signClientRequest(t){return Ht(this,arguments,void 0,function*({method:n,params:r}){var i,o;if(!this.session)throw new Se("Session not initialized. Please connect to a wallet first.");const a=`solana:${(o=(i=this.getSelectedNetwork())===null||i===void 0?void 0:i.genesisHash)!==null&&o!==void 0?o:this.solNetworks[0].genesisHash}`;try{const l=this.signClient.request({chainId:a,request:{method:n,params:r},topic:this.session.topic});return this.deepLinkIfApplicable({method:n}),yield l}catch(l){throw l.message==="An error has occured. Please, try again."?(yield this.endSession(),new Se("Wallet connection lost. Please, try again.")):l}})}deepLinkIfApplicable(t){const n=["solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction"],r=this.getDeepLink();rr()&&r&&n.includes(t.method)&&Ln.openURL(r)}signMessage(t,n){return Ht(this,void 0,void 0,function*(){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] signMessage",t,n);const r=new TextEncoder().encode(t),i=yield this.signEncodedMessage(r,n);return Th(i)})}signEncodedMessage(t,n){return Ht(this,void 0,void 0,function*(){Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] signEncodedMessage",t,n),n!=null&&n.address&&(yield this.validateActiveWallet(n.address));const r=this.getActiveAddress();if(!r)throw new Se("No active address found");const{signature:i}=yield this.signClientRequest({method:"solana_signMessage",params:{message:Qi.encode(t),pubkey:new Cn(r).toBase58()}});return Qi.decode(i)})}serializeTransaction(t){const n=t.serialize({requireAllSignatures:!1,verifySignatures:!1});return Buffer.from(new Uint8Array(n)).toString("base64")}signTransaction(t){return Ht(this,void 0,void 0,function*(){const n=this.getActiveAddress();if(!n)throw new Se("Active account address is required");Ct.debug("[SolanaWalletConnect] Signing transaction",{activeAddress:n,isVersioned:"version"in t,transaction:t});const r=this.serializeTransaction(t);Ct.debug("[SolanaWalletConnect] Sending to wallet for signing",{serializedLength:r.length});const{signature:i}=yield this.signClientRequest({method:"solana_signTransaction",params:{transaction:r}});Ct.debug("[SolanaWalletConnect] Received transaction signature from wallet",{signature:i});const o=Qi.decode(i);return t.addSignature(new Cn(n),o),t})}signAllTransactions(t){return Ht(this,void 0,void 0,function*(){const n=t.map(this.serializeTransaction),{transactions:r}=yield this.signClientRequest({method:"solana_signAllTransactions",params:{transactions:n}});return r.map((i,o)=>{const s=t[o],a=new Uint8Array(Buffer.from(i,"base64"));return Spt(s)?iI.deserialize(a):rI.from(a)})})}signAndSendTransaction(t,n){return Ht(this,void 0,void 0,function*(){const r=this.getAvailableMethods();if(r.includes("solana_signAndSendTransaction")){const i=this.serializeTransaction(t),{signature:o}=yield this.signClientRequest({method:"solana_signAndSendTransaction",params:{sendOptions:n,transaction:i}});return o}if(r.includes("solana_signTransaction")){Ct.debug("[SolanaWalletConnect] Using fallback: signTransaction + sendRawTransaction");const i=yield this.signTransaction(t),o=$pe(i);if(Ct.debug("[SolanaWalletConnect] Transaction signed, checking signatures",{hasSignatures:"signatures"in i&&i.signatures.length>0,isSigned:o,signaturesLength:"signatures"in i?i.signatures.length:"N/A"}),!o)throw new Se("Transaction returned from wallet was not properly signed. The wallet may have rejected the signing request.");const s=i.serialize();Ct.debug("[SolanaWalletConnect] Transaction serialized",{serializedLength:s.length});const a=yield this.getWalletClient().sendRawTransaction(s,n);return Ct.debug("[SolanaWalletConnect] Transaction sent successfully",{signature:a}),a}throw new Se("Wallet does not support signing and sending transactions. Please connect to a wallet that supports at least solana_signTransaction.")})}getDeepLink(){const t=Moe({deepLinks:this.metadata.deepLinks,mode:"regular",preference:this.deepLinkPreference});if(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getDeepLink - deepLink",t),!!t)return this.session?`${t}?sessionTopic=${this.session.topic}`:t}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){const t=this.getActiveAddress();return t?(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getConnectedAccounts - activeAccounts",[t]),[t]):(Ct.logVerboseTroubleshootingMessage("[SolanaWalletConnect] getConnectedAccounts - no activeAccounts, returning empty array"),[])})}getConnectionUri(){return this.connectionUri}validateActiveWallet(t){return Ht(this,void 0,void 0,function*(){Ct.debug("[SolanaWalletConnect] validateActiveWallet - validating wallet",t);const[n]=yield this.getConnectedAccounts();if($a(n,t,this.connectedChain)){Ct.debug("[SolanaWalletConnect] validateActiveWallet - wallet is active");return}return this.handleWalletNotActive({activeAddress:n,expectedAddress:t})})}}fo.sessionEventListeners=[];class gg extends P_{constructor(){super(...arguments),this.walletConnectWalletBookEntry=void 0}getMobileOrInstalledWallet(){const t=this.walletConnectWalletBookEntry&&this.constructorProps.projectId;if(Ct.logVerboseTroubleshootingMessage("[SOL InjectedWalletBase] getMobileOrInstalledWallet",{canUseWalletConnect:t,isInstalledOnBrowser:this.isInstalledOnBrowser(),projectId:this.constructorProps.projectId,walletConnectWalletBookEntry:this.walletConnectWalletBookEntry}),this.isInstalledOnBrowser()||!t)return this;const n=new fo(Object.assign(Object.assign({},this.constructorProps),{metadata:X1(Object.assign(Object.assign({},this.metadata),{walletBook:this.walletBook,walletBookWallet:this.walletConnectWalletBookEntry,walletKey:this.key})),overrideKey:this.key,walletName:this.name}));return n.init(),n}get solProviderHelper(){return this._solProviderHelper||(this._solProviderHelper=new Tgt(this)),this._solProviderHelper}findProvider(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.getInstalledProvider()}setupEventListeners(){var t;(t=this.solProviderHelper)===null||t===void 0||t._setupEventListeners()}teardownEventListeners(){var t;(t=this.solProviderHelper)===null||t===void 0||t._teardownEventListeners()}connect(){return Ht(this,void 0,void 0,function*(){var t;yield(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}getSigner(){return Ht(this,void 0,void 0,function*(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}createUiTransaction(t){return Ht(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),new Ad({connection:this.getWalletClient(),from:t,onSubmit:r=>Ht(this,void 0,void 0,function*(){var i;if(!r)return;const o=yield this.getSigner();if(!o)throw new Error("Signer not found");const s=yield this.getWalletClient().getLatestBlockhash();if("version"in r)r.message.recentBlockhash=s.blockhash;else{const a=yield this.getAddress();if(!a)throw new Error("User address not found");r.recentBlockhash=s.blockhash,r.feePayer=(i=r.feePayer)!==null&&i!==void 0?i:new Cn(a)}return(yield o.signAndSendTransaction(r)).signature})})})}isInstalledOnBrowser(){var t;return!!(!((t=this.solProviderHelper)===null||t===void 0)&&t.isInstalledHelper())}getAddress(){return Ht(this,void 0,void 0,function*(){var t;if(!this.openInAppBrowserIfRequired())return(t=this.solProviderHelper)===null||t===void 0?void 0:t.getAddress()})}signMessage(t){return Ht(this,void 0,void 0,function*(){var n,r;const i=yield(n=this.solProviderHelper)===null||n===void 0?void 0:n.getAddress();if(i&&this.isLedgerAddress(i))throw new Ogt(this.name);return(r=this.solProviderHelper)===null||r===void 0?void 0:r.signMessage(t)})}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){var t,n;return(n=(t=this.solProviderHelper)===null||t===void 0?void 0:t.getConnectedAccounts())!==null&&n!==void 0?n:[]})}}class P0e extends gg{constructor(t){super(t),this.name="Backpack",this.overrideKey="backpacksol",this.walletConnectWalletBookEntry=Ud(t.walletBook,this.key)}getSigner(){return Ht(this,void 0,void 0,function*(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}signMessage(t){return Ht(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=yield this.getSigner();if(!r)return;const i=yield r.signMessage(Buffer.from(t,"utf8"));if(i)return typeof i=="object"&&"signature"in i?Th(i.signature):Th(i)})}}Object.defineProperty(P0e,"key",{value:"backpacksol",writable:!1});var vRt="4.57.1",wRt="4.57.1";function po(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Qte(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function bRt(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i?i.value=n:t.set(e,n),n}const bUt=32;function B0e(e){const t=kRt(e);return _Rt(t)}function _Ut(e,t){const n=e.padStart(Math.ceil(e.length/2)*2,"0"),r=xRt(n,t);return B0e(r.reduce((i,o)=>i+String.fromCharCode(o),""))}function _Rt(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xUt(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"")}const xRt=(e,t)=>{const n=/^[0-9A-Fa-f]+$/;if(!e||e.length%2!=0||!n.test(e))throw new Error(`cannot create uint8array from invalid hex string: "${e}"`);const r=new Uint8Array(e.match(/../g).map(o=>parseInt(o,16)));if(!t)return r;if(e.length/2>t)throw new Error("hex value cannot fit in a buffer of "+t+" byte(s)");let i=new Uint8Array(t);return i.set(r,t-r.length),i};function kRt(e){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let t;for(e=`${e}`,t=0;t<e.length;t++)if(e.charCodeAt(t)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(t)} at position ${t}`);let n="";for(t=0;t<e.length;t+=3){const r=[void 0,void 0,void 0,void 0];r[0]=e.charCodeAt(t)>>2,r[1]=(e.charCodeAt(t)&3)<<4,e.length>t+1&&(r[1]|=e.charCodeAt(t+1)>>4,r[2]=(e.charCodeAt(t+1)&15)<<2),e.length>t+2&&(r[2]|=e.charCodeAt(t+2)>>6,r[3]=e.charCodeAt(t+2)&63);for(let i=0;i<r.length;i++)typeof r[i]>"u"?n+="=":n+=SRt(r[i])}return n}function SRt(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(e>=0&&e<64)return t[e]}const IRt="X-Stamp",ERt=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",CRt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,ARt=()=>ERt?"browser":CRt?"node":"purejs",RRt=async(e,t)=>{const n=t??ARt();switch(n){case"browser":return(await gb(async()=>{const{signWithApiKey:r}=await import("./webcrypto-BcDLf58c.js");return{signWithApiKey:r}},__vite__mapDeps([0,1]))).signWithApiKey(e);case"node":return(await gb(async()=>{const{signWithApiKey:r}=await import("./nodecrypto-DMDIEbdw.js");return{signWithApiKey:r}},__vite__mapDeps([2,1]))).signWithApiKey(e);case"purejs":return(await gb(async()=>{const{signWithApiKey:r}=await import("./purejs-BHQNn-xh.js");return{signWithApiKey:r}},[])).signWithApiKey(e);default:throw new Error(`Unsupported runtime: ${n}`)}};class TRt{constructor(t){this.apiPublicKey=t.apiPublicKey,this.apiPrivateKey=t.apiPrivateKey,this.runtimeOverride=t.runtimeOverride}async stamp(t){const n=await RRt({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:t},this.runtimeOverride),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:n};return{stampHeaderName:IRt,stampHeaderValue:B0e(JSON.stringify(r))}}}var i2={exports:{}},ene;function ORt(){return ene||(ene=1,(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Na<"u"&&Na,r=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof Na<"u"&&Na||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(A){return A&&DataView.prototype.isPrototypeOf(A)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(A){return A&&d.indexOf(Object.prototype.toString.call(A))>-1};function h(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function m(A){return typeof A!="string"&&(A=String(A)),A}function v(A){var O={next:function(){var N=A.shift();return{done:N===void 0,value:N}}};return l.iterable&&(O[Symbol.iterator]=function(){return O}),O}function y(A){this.map={},A instanceof y?A.forEach(function(O,N){this.append(N,O)},this):Array.isArray(A)?A.forEach(function(O){if(O.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+O.length);this.append(O[0],O[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(O){this.append(O,A[O])},this)}y.prototype.append=function(A,O){A=h(A),O=m(O);var N=this.map[A];this.map[A]=N?N+", "+O:O},y.prototype.delete=function(A){delete this.map[h(A)]},y.prototype.get=function(A){return A=h(A),this.has(A)?this.map[A]:null},y.prototype.has=function(A){return this.map.hasOwnProperty(h(A))},y.prototype.set=function(A,O){this.map[h(A)]=m(O)},y.prototype.forEach=function(A,O){for(var N in this.map)this.map.hasOwnProperty(N)&&A.call(O,this.map[N],N,this)},y.prototype.keys=function(){var A=[];return this.forEach(function(O,N){A.push(N)}),v(A)},y.prototype.values=function(){var A=[];return this.forEach(function(O){A.push(O)}),v(A)},y.prototype.entries=function(){var A=[];return this.forEach(function(O,N){A.push([N,O])}),v(A)},l.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function g(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function b(A){return new Promise(function(O,N){A.onload=function(){O(A.result)},A.onerror=function(){N(A.error)}})}function k(A){var O=new FileReader,N=b(O);return O.readAsArrayBuffer(A),N}function _(A){var O=new FileReader,N=b(O),j=/charset=([A-Za-z0-9_-]+)/.exec(A.type),V=j?j[1]:"utf-8";return O.readAsText(A,V),N}function R(A){for(var O=new Uint8Array(A),N=new Array(O.length),j=0;j<O.length;j++)N[j]=String.fromCharCode(O[j]);return N.join("")}function I(A){if(A.slice)return A.slice(0);var O=new Uint8Array(A.byteLength);return O.set(new Uint8Array(A)),O.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:l.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:l.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():l.arrayBuffer&&l.blob&&c(A)?(this._bodyArrayBuffer=I(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||u(A))?this._bodyArrayBuffer=I(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var A=g(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=g(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=g(this);if(A)return A;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(A){var O=A.toUpperCase();return D.indexOf(O)>-1?O:A}function C(A,O){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var N=O.body;if(A instanceof C){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,O.headers||(this.headers=new y(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!N&&A._bodyInit!=null&&(N=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new y(O.headers)),this.method=M(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal||(function(){if("AbortController"in a){var K=new AbortController;return K.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var V=/\?/;this.url+=(V.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function U(A){var O=new FormData;return A.trim().split("&").forEach(function(N){if(N){var j=N.split("="),V=j.shift().replace(/\+/g," "),K=j.join("=").replace(/\+/g," ");O.append(decodeURIComponent(V),decodeURIComponent(K))}}),O}function $(A){var O=new y,N=A.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var V=j.split(":"),K=V.shift().trim();if(K){var W=V.join(":").trim();try{O.append(K,W)}catch(P){console.warn("Response "+P.message)}}}),O}T.call(C.prototype);function z(A,O){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new y(O.headers),this.url=O.url||"",this._initBody(A)}T.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},z.error=function(){var A=new z(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var q=[301,302,303,307,308];z.redirect=function(A,O){if(q.indexOf(O)===-1)throw new RangeError("Invalid status code");return new z(null,{status:O,headers:{location:A}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(O,N){this.message=O,this.name=N;var j=Error(O);this.stack=j.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function S(A,O){return new Promise(function(N,j){var V=new C(A,O);if(V.signal&&V.signal.aborted)return j(new s.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function W(){K.abort()}K.onload=function(){var G={statusText:K.statusText,headers:$(K.getAllResponseHeaders()||"")};V.url.indexOf("file://")===0&&(K.status<200||K.status>599)?G.status=200:G.status=K.status,G.url="responseURL"in K?K.responseURL:G.headers.get("X-Request-URL");var Y="response"in K?K.response:K.responseText;setTimeout(function(){N(new z(Y,G))},0)},K.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},K.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},K.onabort=function(){setTimeout(function(){j(new s.DOMException("Aborted","AbortError"))},0)};function P(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(K.open(V.method,P(V.url),!0),V.credentials==="include"?K.withCredentials=!0:V.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&(l.blob?K.responseType="blob":l.arrayBuffer&&(K.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof y||a.Headers&&O.headers instanceof a.Headers)){var F=[];Object.getOwnPropertyNames(O.headers).forEach(function(G){F.push(h(G)),K.setRequestHeader(G,m(O.headers[G]))}),V.headers.forEach(function(G,Y){F.indexOf(Y)===-1&&K.setRequestHeader(Y,G)})}else V.headers.forEach(function(G,Y){K.setRequestHeader(Y,G)});V.signal&&(V.signal.addEventListener("abort",W),K.onreadystatechange=function(){K.readyState===4&&V.signal.removeEventListener("abort",W)}),K.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return S.polyfill=!0,a.fetch||(a.fetch=S,a.Headers=y,a.Request=C,a.Response=z),s.Headers=y,s.Request=C,s.Response=z,s.fetch=S,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(i2,i2.exports)),i2.exports}var NRt=ORt();const PRt=NRt.fetch;function uT(e){return(e==null?void 0:e.name)==="TurnkeyClient"}class BRt extends Error{constructor(t){let n=`Turnkey error ${t.code}: ${t.message}`;t.details!=null&&(n+=` (Details: ${JSON.stringify(t.details)})`),super(n),this.name="TurnkeyRequestError",this.details=t.details??null,this.code=t.code}}const MRt="@turnkey/http@3.10.0";class o0{constructor(t,n){if(this.name="TurnkeyClient",this.getActivity=async r=>this.request("/public/v1/query/get_activity",r),this.stampGetActivity=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getApiKey=async r=>this.request("/public/v1/query/get_api_key",r),this.stampGetApiKey=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_api_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getApiKeys=async r=>this.request("/public/v1/query/get_api_keys",r),this.stampGetApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAttestationDocument=async r=>this.request("/public/v1/query/get_attestation",r),this.stampGetAttestationDocument=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_attestation",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAuthenticator=async r=>this.request("/public/v1/query/get_authenticator",r),this.stampGetAuthenticator=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_authenticator",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getAuthenticators=async r=>this.request("/public/v1/query/get_authenticators",r),this.stampGetAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOauthProviders=async r=>this.request("/public/v1/query/get_oauth_providers",r),this.stampGetOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOrganization=async r=>this.request("/public/v1/query/get_organization",r),this.stampGetOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getOrganizationConfigs=async r=>this.request("/public/v1/query/get_organization_configs",r),this.stampGetOrganizationConfigs=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_organization_configs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicy=async r=>this.request("/public/v1/query/get_policy",r),this.stampGetPolicy=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicyEvaluations=async r=>this.request("/public/v1/query/get_policy_evaluations",r),this.stampGetPolicyEvaluations=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_policy_evaluations",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPrivateKey=async r=>this.request("/public/v1/query/get_private_key",r),this.stampGetPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSmartContractInterface=async r=>this.request("/public/v1/query/get_smart_contract_interface",r),this.stampGetSmartContractInterface=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_smart_contract_interface",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getUser=async r=>this.request("/public/v1/query/get_user",r),this.stampGetUser=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWallet=async r=>this.request("/public/v1/query/get_wallet",r),this.stampGetWallet=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWalletAccount=async r=>this.request("/public/v1/query/get_wallet_account",r),this.stampGetWalletAccount=async r=>{const i=this.config.baseUrl+"/public/v1/query/get_wallet_account",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getActivities=async r=>this.request("/public/v1/query/list_activities",r),this.stampGetActivities=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_activities",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPolicies=async r=>this.request("/public/v1/query/list_policies",r),this.stampGetPolicies=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_policies",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.listPrivateKeyTags=async r=>this.request("/public/v1/query/list_private_key_tags",r),this.stampListPrivateKeyTags=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_private_key_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getPrivateKeys=async r=>this.request("/public/v1/query/list_private_keys",r),this.stampGetPrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSmartContractInterfaces=async r=>this.request("/public/v1/query/list_smart_contract_interfaces",r),this.stampGetSmartContractInterfaces=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_smart_contract_interfaces",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getSubOrgIds=async r=>this.request("/public/v1/query/list_suborgs",r),this.stampGetSubOrgIds=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_suborgs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.listUserTags=async r=>this.request("/public/v1/query/list_user_tags",r),this.stampListUserTags=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_user_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getUsers=async r=>this.request("/public/v1/query/list_users",r),this.stampGetUsers=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getVerifiedSubOrgIds=async r=>this.request("/public/v1/query/list_verified_suborgs",r),this.stampGetVerifiedSubOrgIds=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_verified_suborgs",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWalletAccounts=async r=>this.request("/public/v1/query/list_wallet_accounts",r),this.stampGetWalletAccounts=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWallets=async r=>this.request("/public/v1/query/list_wallets",r),this.stampGetWallets=async r=>{const i=this.config.baseUrl+"/public/v1/query/list_wallets",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.getWhoami=async r=>this.request("/public/v1/query/whoami",r),this.stampGetWhoami=async r=>{const i=this.config.baseUrl+"/public/v1/query/whoami",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.approveActivity=async r=>this.request("/public/v1/submit/approve_activity",r),this.stampApproveActivity=async r=>{const i=this.config.baseUrl+"/public/v1/submit/approve_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createApiKeys=async r=>this.request("/public/v1/submit/create_api_keys",r),this.stampCreateApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createApiOnlyUsers=async r=>this.request("/public/v1/submit/create_api_only_users",r),this.stampCreateApiOnlyUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_api_only_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createAuthenticators=async r=>this.request("/public/v1/submit/create_authenticators",r),this.stampCreateAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createInvitations=async r=>this.request("/public/v1/submit/create_invitations",r),this.stampCreateInvitations=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_invitations",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createOauthProviders=async r=>this.request("/public/v1/submit/create_oauth_providers",r),this.stampCreateOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPolicies=async r=>this.request("/public/v1/submit/create_policies",r),this.stampCreatePolicies=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_policies",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPolicy=async r=>this.request("/public/v1/submit/create_policy",r),this.stampCreatePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPrivateKeyTag=async r=>this.request("/public/v1/submit/create_private_key_tag",r),this.stampCreatePrivateKeyTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createPrivateKeys=async r=>this.request("/public/v1/submit/create_private_keys",r),this.stampCreatePrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createReadOnlySession=async r=>this.request("/public/v1/submit/create_read_only_session",r),this.stampCreateReadOnlySession=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_read_only_session",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createReadWriteSession=async r=>this.request("/public/v1/submit/create_read_write_session",r),this.stampCreateReadWriteSession=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_read_write_session",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createSmartContractInterface=async r=>this.request("/public/v1/submit/create_smart_contract_interface",r),this.stampCreateSmartContractInterface=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_smart_contract_interface",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createSubOrganization=async r=>this.request("/public/v1/submit/create_sub_organization",r),this.stampCreateSubOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_sub_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createUserTag=async r=>this.request("/public/v1/submit/create_user_tag",r),this.stampCreateUserTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_user_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createUsers=async r=>this.request("/public/v1/submit/create_users",r),this.stampCreateUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createWallet=async r=>this.request("/public/v1/submit/create_wallet",r),this.stampCreateWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.createWalletAccounts=async r=>this.request("/public/v1/submit/create_wallet_accounts",r),this.stampCreateWalletAccounts=async r=>{const i=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteApiKeys=async r=>this.request("/public/v1/submit/delete_api_keys",r),this.stampDeleteApiKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_api_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteAuthenticators=async r=>this.request("/public/v1/submit/delete_authenticators",r),this.stampDeleteAuthenticators=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_authenticators",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteInvitation=async r=>this.request("/public/v1/submit/delete_invitation",r),this.stampDeleteInvitation=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_invitation",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteOauthProviders=async r=>this.request("/public/v1/submit/delete_oauth_providers",r),this.stampDeleteOauthProviders=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePolicy=async r=>this.request("/public/v1/submit/delete_policy",r),this.stampDeletePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePrivateKeyTags=async r=>this.request("/public/v1/submit/delete_private_key_tags",r),this.stampDeletePrivateKeyTags=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deletePrivateKeys=async r=>this.request("/public/v1/submit/delete_private_keys",r),this.stampDeletePrivateKeys=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_private_keys",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteSmartContractInterface=async r=>this.request("/public/v1/submit/delete_smart_contract_interface",r),this.stampDeleteSmartContractInterface=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_smart_contract_interface",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteSubOrganization=async r=>this.request("/public/v1/submit/delete_sub_organization",r),this.stampDeleteSubOrganization=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_sub_organization",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteUserTags=async r=>this.request("/public/v1/submit/delete_user_tags",r),this.stampDeleteUserTags=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_user_tags",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteUsers=async r=>this.request("/public/v1/submit/delete_users",r),this.stampDeleteUsers=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_users",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.deleteWallets=async r=>this.request("/public/v1/submit/delete_wallets",r),this.stampDeleteWallets=async r=>{const i=this.config.baseUrl+"/public/v1/submit/delete_wallets",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.emailAuth=async r=>this.request("/public/v1/submit/email_auth",r),this.stampEmailAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/email_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportPrivateKey=async r=>this.request("/public/v1/submit/export_private_key",r),this.stampExportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportWallet=async r=>this.request("/public/v1/submit/export_wallet",r),this.stampExportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.exportWalletAccount=async r=>this.request("/public/v1/submit/export_wallet_account",r),this.stampExportWalletAccount=async r=>{const i=this.config.baseUrl+"/public/v1/submit/export_wallet_account",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.importPrivateKey=async r=>this.request("/public/v1/submit/import_private_key",r),this.stampImportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/import_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.importWallet=async r=>this.request("/public/v1/submit/import_wallet",r),this.stampImportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/import_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initFiatOnRamp=async r=>this.request("/public/v1/submit/init_fiat_on_ramp",r),this.stampInitFiatOnRamp=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_fiat_on_ramp",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initImportPrivateKey=async r=>this.request("/public/v1/submit/init_import_private_key",r),this.stampInitImportPrivateKey=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_import_private_key",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initImportWallet=async r=>this.request("/public/v1/submit/init_import_wallet",r),this.stampInitImportWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_import_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initOtp=async r=>this.request("/public/v1/submit/init_otp",r),this.stampInitOtp=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_otp",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initOtpAuth=async r=>this.request("/public/v1/submit/init_otp_auth",r),this.stampInitOtpAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_otp_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.initUserEmailRecovery=async r=>this.request("/public/v1/submit/init_user_email_recovery",r),this.stampInitUserEmailRecovery=async r=>{const i=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.oauth=async r=>this.request("/public/v1/submit/oauth",r),this.stampOauth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/oauth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.oauthLogin=async r=>this.request("/public/v1/submit/oauth_login",r),this.stampOauthLogin=async r=>{const i=this.config.baseUrl+"/public/v1/submit/oauth_login",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.otpAuth=async r=>this.request("/public/v1/submit/otp_auth",r),this.stampOtpAuth=async r=>{const i=this.config.baseUrl+"/public/v1/submit/otp_auth",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.otpLogin=async r=>this.request("/public/v1/submit/otp_login",r),this.stampOtpLogin=async r=>{const i=this.config.baseUrl+"/public/v1/submit/otp_login",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.recoverUser=async r=>this.request("/public/v1/submit/recover_user",r),this.stampRecoverUser=async r=>{const i=this.config.baseUrl+"/public/v1/submit/recover_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.rejectActivity=async r=>this.request("/public/v1/submit/reject_activity",r),this.stampRejectActivity=async r=>{const i=this.config.baseUrl+"/public/v1/submit/reject_activity",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.removeOrganizationFeature=async r=>this.request("/public/v1/submit/remove_organization_feature",r),this.stampRemoveOrganizationFeature=async r=>{const i=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.setOrganizationFeature=async r=>this.request("/public/v1/submit/set_organization_feature",r),this.stampSetOrganizationFeature=async r=>{const i=this.config.baseUrl+"/public/v1/submit/set_organization_feature",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signRawPayload=async r=>this.request("/public/v1/submit/sign_raw_payload",r),this.stampSignRawPayload=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signRawPayloads=async r=>this.request("/public/v1/submit/sign_raw_payloads",r),this.stampSignRawPayloads=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.signTransaction=async r=>this.request("/public/v1/submit/sign_transaction",r),this.stampSignTransaction=async r=>{const i=this.config.baseUrl+"/public/v1/submit/sign_transaction",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.stampLogin=async r=>this.request("/public/v1/submit/stamp_login",r),this.stampStampLogin=async r=>{const i=this.config.baseUrl+"/public/v1/submit/stamp_login",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updatePolicy=async r=>this.request("/public/v1/submit/update_policy",r),this.stampUpdatePolicy=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_policy",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updatePrivateKeyTag=async r=>this.request("/public/v1/submit/update_private_key_tag",r),this.stampUpdatePrivateKeyTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateRootQuorum=async r=>this.request("/public/v1/submit/update_root_quorum",r),this.stampUpdateRootQuorum=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_root_quorum",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUser=async r=>this.request("/public/v1/submit/update_user",r),this.stampUpdateUser=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserEmail=async r=>this.request("/public/v1/submit/update_user_email",r),this.stampUpdateUserEmail=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_email",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserName=async r=>this.request("/public/v1/submit/update_user_name",r),this.stampUpdateUserName=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_name",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserPhoneNumber=async r=>this.request("/public/v1/submit/update_user_phone_number",r),this.stampUpdateUserPhoneNumber=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_phone_number",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateUserTag=async r=>this.request("/public/v1/submit/update_user_tag",r),this.stampUpdateUserTag=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_user_tag",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.updateWallet=async r=>this.request("/public/v1/submit/update_wallet",r),this.stampUpdateWallet=async r=>{const i=this.config.baseUrl+"/public/v1/submit/update_wallet",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.verifyOtp=async r=>this.request("/public/v1/submit/verify_otp",r),this.stampVerifyOtp=async r=>{const i=this.config.baseUrl+"/public/v1/submit/verify_otp",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},this.testRateLimits=async r=>this.request("/tkhq/api/v1/test_rate_limits",r),this.stampTestRateLimits=async r=>{const i=this.config.baseUrl+"/tkhq/api/v1/test_rate_limits",o=JSON.stringify(r),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:i}},!t.baseUrl)throw new Error("Missing base URL. Please verify env vars.");this.config=t,this.stamper=n}async request(t,n){const r=this.config.baseUrl+t,i=JSON.stringify(n),o=await this.stamper.stamp(i),s=await PRt(r,{method:"POST",headers:{[o.stampHeaderName]:o.stampHeaderValue,"X-Client-Version":MRt},body:i,redirect:"follow"});if(!s.ok){let l;try{l=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new BRt(l)}return await s.json()}}class DRt extends Error{constructor(t){const{message:n,cause:r,activityId:i,activityStatus:o,activityType:s}=t;super(n),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=r??void 0}}class jRt extends Error{constructor(t){const{message:n,cause:r,activityId:i,activityStatus:o,activityType:s}=t;super(n),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=r??void 0}}function dy(e){const{id:t,status:n}=e;if(n==="ACTIVITY_STATUS_CONSENSUS_NEEDED")throw new jRt({message:"Activity requires consensus",activityId:t,activityStatus:n});if(n!=="ACTIVITY_STATUS_COMPLETED")throw new DRt({message:`Expected COMPLETED status, got ${n}`,activityId:t,activityStatus:n});return!0}function uy(e){if(e==null)throw new Error(`Got unexpected ${JSON.stringify(e)}`);return e}const $Rt="X-Stamp";var Lo;(function(e){e.PublicKeyReady="PUBLIC_KEY_READY",e.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",e.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",e.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",e.InjectImportBundle="INJECT_IMPORT_BUNDLE",e.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",e.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",e.ApplySettings="APPLY_SETTINGS",e.BundleInjected="BUNDLE_INJECTED",e.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",e.SettingsApplied="SETTINGS_APPLIED",e.StampRequest="STAMP_REQUEST",e.Stamp="STAMP",e.TurnkeyInitMessageChannel="TURNKEY_INIT_MESSAGE_CHANNEL",e.GetEmbeddedPublicKey="GET_EMBEDDED_PUBLIC_KEY",e.ClearEmbeddedKey="RESET_EMBEDDED_KEY",e.InitEmbeddedKey="INIT_EMBEDDED_KEY",e.Error="ERROR"})(Lo||(Lo={}));var xI;(function(e){e.Hexadecimal="HEXADECIMAL",e.Solana="SOLANA"})(xI||(xI={}));function LRt(){return crypto.randomUUID()}class d${constructor(t){if(typeof window>"u")throw new Error("Cannot initialize iframe in non-browser environment");if(typeof MessageChannel>"u")throw new Error("Cannot initialize iframe without MessageChannel support");if(!t.iframeContainer)throw new Error("Iframe container cannot be found");if(this.container=t.iframeContainer,this.container.querySelector(`#${t.iframeElementId}`))throw new Error(`Iframe element with ID ${t.iframeElementId} already exists`);let n=window.document.createElement("iframe");n.setAttribute("sandbox","allow-scripts allow-same-origin"),n.id=t.iframeElementId,n.src=t.iframeUrl,this.iframe=n;const r=new URL(t.iframeUrl);this.iframeOrigin=r.origin,this.iframePublicKey=null,this.messageChannel=new MessageChannel,this.pendingRequests=new Map}onMessageHandler(t){const{type:n,value:r,requestId:i}=t.data||{};if(!i){if(n===Lo.PublicKeyReady){this.iframePublicKey=r;return}return}const o=this.pendingRequests.get(i);if(!o){console.warn(`Received response for unknown request: ${i}`);return}if(this.pendingRequests.delete(i),n===Lo.Error){o.reject(new Error(r));return}switch(n){case Lo.Stamp:o.resolve({stampHeaderName:$Rt,stampHeaderValue:r});break;default:o.resolve(r)}}async init(t){return new Promise((n,r)=>{this.container.appendChild(this.iframe),this.iframe.addEventListener("load",()=>{var i;if(!((i=this.iframe.contentWindow)!=null&&i.postMessage)){r(new Error("contentWindow or contentWindow.postMessage does not exist"));return}this.iframe.contentWindow.postMessage({type:Lo.TurnkeyInitMessageChannel,dangerouslyOverrideIframeKeyTtl:t},this.iframeOrigin,[this.messageChannel.port2])}),this.messageChannel.port1.onmessage=i=>{var o;((o=i.data)==null?void 0:o.type)===Lo.PublicKeyReady&&(this.iframePublicKey=i.data.value,n(i.data.value)),this.onMessageHandler(i)}})}clear(){var t,n,r,i;(n=(t=this.messageChannel)==null?void 0:t.port1)==null||n.close(),(i=(r=this.messageChannel)==null?void 0:r.port2)==null||i.close(),this.iframe.remove(),this.pendingRequests.clear()}publicKey(){return this.iframePublicKey}async getEmbeddedPublicKey(){const t=await this.createRequest(Lo.GetEmbeddedPublicKey);return this.iframePublicKey=t,t}async clearEmbeddedKey(){return await this.createRequest(Lo.ClearEmbeddedKey),this.iframePublicKey="",null}async initEmbeddedKey(){const t=await this.createRequest(Lo.InitEmbeddedKey);return this.iframePublicKey=t,t}createRequest(t,n={}){return new Promise((r,i)=>{const o=LRt();this.pendingRequests.set(o,{resolve:r,reject:i,requestId:o}),this.messageChannel.port1.postMessage({type:t,requestId:o,...n})})}async injectCredentialBundle(t){return this.createRequest(Lo.InjectCredentialBundle,{value:t})}async injectKeyExportBundle(t,n,r){return this.createRequest(Lo.InjectKeyExportBundle,{value:t,keyFormat:r,organizationId:n})}async injectWalletExportBundle(t,n){return this.createRequest(Lo.InjectWalletExportBundle,{value:t,organizationId:n})}async injectImportBundle(t,n,r){return this.createRequest(Lo.InjectImportBundle,{value:t,organizationId:n,userId:r})}async extractWalletEncryptedBundle(){return this.createRequest(Lo.ExtractWalletEncryptedBundle)}async extractKeyEncryptedBundle(t){return this.createRequest(Lo.ExtractKeyEncryptedBundle,{keyFormat:t})}async applySettings(t){return this.createRequest(Lo.ApplySettings,{value:JSON.stringify(t)})}async stamp(t){if(this.iframePublicKey===null)throw new Error("null iframe public key. Have you called/awaited .init()?");return this.createRequest(Lo.StampRequest,{value:t})}}class M0e{get client(){return this.__turnkeyClient}get publicKey(){return this.__publicKey}clear(){var t;(t=this.__iframeStamper)===null||t===void 0||t.clear(),this.__iframeStamper=void 0,this.__publicKey=void 0,this.__turnkeyClient=void 0}}const s0="https://api.turnkey.com",URt="Turnkey error 16: expired api key",FRt="Turnkey error 16: could not find public key",WRt="The operation either timed out or was not allowed",qRt="The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.",zRt="Turnkey error 5: webauthn authenticator not found in organization or parent organization",VRt="The user cancelled the request",tne=[URt,FRt],KRt=[WRt,qRt,zRt,VRt],HRt={AUTHENTICATOR_TRANSPORT_BLE:jp.Ble,AUTHENTICATOR_TRANSPORT_HYBRID:jp.Hybrid,AUTHENTICATOR_TRANSPORT_INTERNAL:jp.Internal,AUTHENTICATOR_TRANSPORT_NFC:jp.Nfc,AUTHENTICATOR_TRANSPORT_USB:jp.Usb},GRt=e=>e.map(t=>HRt[t]);class JRt extends gi{constructor(t,n){super(t,n)}error(t,...n){const[r]=n;!(r!=null&&r.message)||!KRt.some(i=>r.message.includes(i))?this.log(Wi.ERROR,t,...n):this.warn(t,...n)}}const Gi=new JRt("Dynamic embedded wallets",Wi.INFO);function ZRt(e){const t=new Uint8Array(e);let n="";for(const o of t)n+=String.fromCharCode(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const fm="copy",Iy="convert";function _B(e,t,n){if(t===fm)return n;if(t===Iy)return e(n);if(t instanceof Array)return n.map(r=>_B(e,t[0],r));if(t instanceof Object){const r={};for(const[i,o]of Object.entries(t)){if(o.derive){const s=o.derive(n);s!==void 0&&(n[i]=s)}if(!(i in n)){if(o.required)throw new Error(`Missing key: ${i}`);continue}if(n[i]==null){r[i]=null;continue}r[i]=_B(e,o.schema,n[i])}return r}}function YRt(e,t){return{required:!0,schema:e,derive:t}}function Xf(e){return{required:!0,schema:e}}function J2(e){return{required:!1,schema:e}}const XRt={appid:J2(fm),appidExclude:J2(fm),credProps:J2(fm)},QRt={type:Xf(fm),id:Xf(fm),rawId:Xf(Iy),authenticatorAttachment:J2(fm),response:Xf({clientDataJSON:Xf(Iy),authenticatorData:Xf(Iy),signature:Xf(Iy),userHandle:Xf(Iy)}),clientExtensionResults:YRt(XRt,e=>e.getClientExtensionResults())};function e4t(e){return _B(ZRt,QRt,e)}async function t4t(e){const t=await navigator.credentials.get(e);return t.toJSON=()=>e4t(t),t}const n4t=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function r4t(e){return new i4t}let i4t=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!o2||Ww>=8e3)&&(o2=new ArrayBuffer(8e3),Ww=0),this._byte=new Uint8Array(o2,Ww,80),this._word=new Int32Array(o2,Ww,20),Ww+=80}update(t){if(typeof t=="string")return this._utf8(t);if(t==null)throw new TypeError("Invalid type: "+typeof t);const n=t.byteOffset,r=t.byteLength;let i=r/64|0,o=0;if(i&&!(n&3)&&!(this._size%64)){const a=new Int32Array(t.buffer,n,i*16);for(;i--;)this._int32(a,o>>2),o+=64;this._size+=o}if(t.BYTES_PER_ELEMENT!==1&&t.buffer){const a=new Uint8Array(t.buffer,n+o,r-o);return this._uint8(a)}return o===r?this:this._uint8(t,o)}_uint8(t,n){const{_byte:r,_word:i}=this,o=t.length;for(n=n|0;n<o;){const s=this._size%64;let a=s;for(;n<o&&a<64;)r[a++]=t[n++];a>=64&&this._int32(i),this._size+=a-s}return this}_utf8(t){const{_byte:n,_word:r}=this,i=t.length;let o=this._sp;for(let s=0;s<i;){const a=this._size%64;let l=a;for(;s<i&&l<64;){let c=t.charCodeAt(s++)|0;c<128?n[l++]=c:c<2048?(n[l++]=192|c>>>6,n[l++]=128|c&63):c<55296||c>57343?(n[l++]=224|c>>>12,n[l++]=128|c>>>6&63,n[l++]=128|c&63):o?(c=((o&1023)<<10)+(c&1023)+65536,n[l++]=240|c>>>18,n[l++]=128|c>>>12&63,n[l++]=128|c>>>6&63,n[l++]=128|c&63,o=0):o=c}l>=64&&(this._int32(r),r[0]=r[16]),this._size+=l-a}return this._sp=o,this}_int32(t,n){let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this,u=0;for(n=n|0;u<16;)Ap[u++]=Cc(t[n++]);for(u=16;u<64;u++)Ap[u]=f4t(Ap[u-2])+Ap[u-7]+u4t(Ap[u-15])+Ap[u-16]|0;for(u=0;u<64;u++){const h=d+d4t(a)+a4t(a,l,c)+n4t[u]+Ap[u]|0,m=c4t(r)+l4t(r,i,o)|0;d=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}this.A=r+this.A|0,this.B=i+this.B|0,this.C=o+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=l+this.F|0,this.G=c+this.G|0,this.H=d+this.H|0}digest(t){const{_byte:n,_word:r}=this;let i=this._size%64|0;for(n[i++]=128;i&3;)n[i++]=0;if(i>>=2,i>14){for(;i<16;)r[i++]=0;i=0,this._int32(r)}for(;i<16;)r[i++]=0;const o=this._size*8,s=(o&4294967295)>>>0,a=(o-s)/4294967296;return a&&(r[14]=Cc(a)),s&&(r[15]=Cc(s)),this._int32(r),t==="hex"?this._hex():this._bin()}_hex(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return Qf(t)+Qf(n)+Qf(r)+Qf(i)+Qf(o)+Qf(s)+Qf(a)+Qf(l)}_bin(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l,_byte:c,_word:d}=this;return d[0]=Cc(t),d[1]=Cc(n),d[2]=Cc(r),d[3]=Cc(i),d[4]=Cc(o),d[5]=Cc(s),d[6]=Cc(a),d[7]=Cc(l),c.slice(0,32)}};const Ap=new Int32Array(64);let o2,Ww=0;const Qf=e=>(e+4294967296).toString(16).substr(-8),o4t=(e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255),s4t=(e=>e),Cc=h4t()?s4t:o4t,a4t=(e,t,n)=>n^e&(t^n),l4t=(e,t,n)=>e&t|n&(e|t),c4t=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),d4t=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),u4t=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,f4t=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;function h4t(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}const p4t="X-Stamp-Webauthn",m4t=300*1e3,g4t="preferred";class D0e{constructor(t){this.rpId=t.rpId,this.timeout=t.timeout||m4t,this.userVerification=t.userVerification||g4t,this.allowCredentials=t.allowCredentials||[]}async stamp(t){const n=y4t(t),r={publicKey:{rpId:this.rpId,challenge:n,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},o=(await t4t(r)).toJSON(),s={authenticatorData:o.response.authenticatorData,clientDataJson:o.response.clientDataJSON,credentialId:o.id,signature:o.response.signature};return{stampHeaderName:p4t,stampHeaderValue:JSON.stringify(s)}}}function y4t(e){const t=r4t().update(e).digest("hex");return new TextEncoder().encode(t)}var v4t="4.57.1";class w4t extends Error{constructor(){super("Webauthn is not supported on this device")}}function j0e(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,[])).next())})}function zp(e){const t=new Uint8Array(e);let n="";for(const i of t)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xB(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),i=atob(r),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return o}function $0e(){return b4t.stubThis((globalThis==null?void 0:globalThis.PublicKeyCredential)!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const b4t={stubThis:e=>e};function _4t(e){const{id:t}=e;return{...e,id:xB(t),transports:e.transports}}function x4t(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class Wl extends Error{constructor({message:t,code:n,cause:r,name:i}){super(t,{cause:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i??r.name,this.code=n}}function k4t({error:e,options:t}){var r,i,o;const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wl({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new Wl({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new Wl({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=n.authenticatorSelection)==null?void 0:o.userVerification)==="required")return new Wl({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wl({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wl({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return n.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Wl({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wl({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=globalThis.location.hostname;if(x4t(s)){if(n.rp.id!==s)return new Wl({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wl({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Wl({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wl({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class S4t{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const I4t=new S4t,E4t=["cross-platform","platform"];function C4t(e){if(e&&!(E4t.indexOf(e)<0))return e}async function A4t(e){var v;!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:n=!1}=e;if(!$0e())throw new Error("WebAuthn is not supported in this browser");const r={...t,challenge:xB(t.challenge),user:{...t.user,id:xB(t.user.id)},excludeCredentials:(v=t.excludeCredentials)==null?void 0:v.map(_4t)},i={};n&&(i.mediation="conditional"),i.publicKey=r,i.signal=I4t.createNewAbortSignal();let o;try{o=await navigator.credentials.create(i)}catch(y){throw k4t({error:y,options:i})}if(!o)throw new Error("Registration was not completed");const{id:s,rawId:a,response:l,type:c}=o;let d;typeof l.getTransports=="function"&&(d=l.getTransports());let u;if(typeof l.getPublicKeyAlgorithm=="function")try{u=l.getPublicKeyAlgorithm()}catch(y){fT("getPublicKeyAlgorithm()",y)}let h;if(typeof l.getPublicKey=="function")try{const y=l.getPublicKey();y!==null&&(h=zp(y))}catch(y){fT("getPublicKey()",y)}let m;if(typeof l.getAuthenticatorData=="function")try{m=zp(l.getAuthenticatorData())}catch(y){fT("getAuthenticatorData()",y)}return{id:s,rawId:zp(a),response:{attestationObject:zp(l.attestationObject),clientDataJSON:zp(l.clientDataJSON),transports:d,publicKeyAlgorithm:u,publicKey:h,authenticatorData:m},type:c,clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:C4t(o.authenticatorAttachment)}}function fT(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}const R4t=new gi("Webauthn"),T4t=e=>j0e(void 0,void 0,void 0,function*(){if(!$0e())throw new w4t;let t;try{t=yield A4t({optionsJSON:e})}catch(n){throw R4t.debug("Failed to create webauthn credential",n),n}return t}),O4t=e=>{switch(e){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw new Error("unsupported transport format "+e)}},N4t=e=>j0e(void 0,void 0,void 0,function*(){if(!e.publicKey)throw new Error("Invalid options. Public key attribute must be defined");const t=yield T4t(B4t(e.publicKey));return P4t(t)}),P4t=e=>{var t;return{attestationObject:e.response.attestationObject,clientDataJson:e.response.clientDataJSON,credentialId:e.rawId,transports:((t=e.response.transports)===null||t===void 0?void 0:t.map(O4t))||[]}},B4t=e=>{var t;return Object.assign(Object.assign({},e),{challenge:hT(e.challenge),excludeCredentials:(t=e.excludeCredentials)===null||t===void 0?void 0:t.map(n=>Object.assign(Object.assign({},n),{id:hT(n.id)})),user:Object.assign(Object.assign({},e.user),{id:hT(e.user.id)})})},hT=e=>{if(e instanceof ArrayBuffer)return zp(e);{const t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return zp(t)}};Oo("@dynamic-labs/webauthn",v4t);const M4t=()=>({createWebauthnStamper:e=>new D0e(e),getWebAuthnAttestation:N4t});var _u,Z2;class a0{static get implementation(){return Qte(_u,_u,"f",Z2)?Qte(_u,_u,"f",Z2):M4t()}static set implementation(t){bRt(_u,_u,t,"f",Z2)}static get getWebAuthnAttestation(){return _u.implementation.getWebAuthnAttestation}static get createWebauthnStamper(){return _u.implementation.createWebauthnStamper}}_u=a0;Z2={value:void 0};const D4t="https://recovery.turnkey.com",j4t="https://auth.turnkey.com",$4t=900,L4t=1800,U4t="CREDENTIAL_TYPE_API_KEY_P256",F4t="CREDENTIAL_TYPE_RECOVER_USER_KEY_P256";class W4t extends M0e{constructor(){super(...arguments),this.isSessionActive=()=>!this.__createdAt||this.__recoveryType!=="email"?!1:this.isExpired(this.__createdAt,this.__sessionExpiration||L4t)?(this.clear(),!1):!0,this.isValidCode=t=>po(this,void 0,void 0,function*(){var n,r,i,o;if(!t||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");const s=yield(n=this.__turnkeyClient)===null||n===void 0?void 0:n.getUser({organizationId:t,userId:this.__turnkeyRecoveryUserId}),a={email:U4t,passkey:F4t},l=(o=(i=(r=s==null?void 0:s.user)===null||r===void 0?void 0:r.apiKeys)===null||i===void 0?void 0:i.filter(d=>d.credential.type===a[this.__recoveryType]))===null||o===void 0?void 0:o.pop();return!l||this.isExpired(parseInt(l.createdAt.seconds,10),$4t)?!1:(this.__createdAt=parseInt(l.createdAt.seconds,10),!0)}),this.isExpired=(t,n)=>{const r=t+n,i=new Date(r*1e3);return new Date>=i}}get recoveryType(){return this.__recoveryType}get recoveryUserId(){return this.__turnkeyRecoveryUserId||""}set recoveryUserId(t){this.__turnkeyRecoveryUserId=t}clear(){super.clear(),this.__recoveryType=void 0,this.__turnkeyRecoveryUserId=void 0,this.__createdAt=void 0}initRecovery(t,n,r,i){return po(this,void 0,void 0,function*(){this.__recoveryType&&this.clear(),this.__sessionExpiration=i,this.__recoveryType=t;const o=t==="passkey"?D4t:j4t;return this.__iframeStamper=new d$({iframeContainer:n,iframeElementId:r,iframeUrl:o}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),this.__publicKey})}verifyRecoveryCode(t,n){return po(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new Se("Cannot proceed with your request");try{if(yield this.__iframeStamper.injectCredentialBundle(t),this.__turnkeyClient=new o0({baseUrl:s0},this.__iframeStamper),!n||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");if(!(yield this.isValidCode(n)))throw new Se("The code is invalid or expired.")}catch(r){throw Gi.error("Error while verifying recovery code",r),r instanceof Se?r:new Se("The code is invalid or expired.")}})}completeRecovery(t){return po(this,arguments,void 0,function*({attestation:n,challenge:r,turnkeySubOrganizationId:i}){if(!this.__turnkeyClient||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");try{return this.__turnkeyClient.recoverUser({organizationId:i,parameters:{authenticator:{attestation:n,authenticatorName:"Passkey",challenge:r},userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"})}catch(o){throw Gi.error("[TK] Error while completing recovery process",o),o}})}addPasskeyAuthenticator(t){return po(this,arguments,void 0,function*({attestation:n,challenge:r,turnkeySubOrganizationId:i}){if(!this.__turnkeyClient||!this.__turnkeyRecoveryUserId)throw new Se("Cannot proceed with your request");try{return this.__turnkeyClient.createAuthenticators({organizationId:i,parameters:{authenticators:[{attestation:n,authenticatorName:"Passkey",challenge:r}],userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"})}catch(o){throw Gi.error("[TK] Error while creating new authenticator",o),o}})}addEmailRecovery(t){return po(this,arguments,void 0,function*({organizationId:n,email:r,turnkeyUserId:i}){let o=Hy();o||(o=Ln.getHostname());const s=a0.createWebauthnStamper({rpId:o}),a=new o0({baseUrl:s0},s);try{return{signedRequest:yield a.stampUpdateUser({organizationId:n,parameters:{userEmail:r,userId:i,userTagIds:[]},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"}),userId:i}}catch(l){throw Gi.error("Error while adding email recovery",l),l}})}}const kB=new W4t,q4t="https://export.turnkey.com";class tl extends M0e{initExport(t,n){return po(this,void 0,void 0,function*(){if(this.__iframeStamper=new d$({iframeContainer:t,iframeElementId:n,iframeUrl:q4t}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),kB.isSessionActive())this.__turnkeyClient=kB.client;else{let r=Hy();r||(r=Ln.getHostname());const i=a0.createWebauthnStamper({rpId:r}),o=tl==null?void 0:tl.apiKeyStamper,s=o??i;this.__turnkeyClient=new o0({baseUrl:s0},s)}return this.__publicKey})}verifyExportWallet(t){return po(this,arguments,void 0,function*({exportBundle:n,organizationId:r}){if(!this.__iframeStamper)throw new Se("Cannot proceed with your request");try{return yield this.__iframeStamper.injectWalletExportBundle(n,r)}catch(i){throw Gi.error("Error while verifying export wallet",i),i}})}verifyExportPrivateKey(t){return po(this,arguments,void 0,function*({exportBundle:n,organizationId:r,chain:i}){if(!this.__iframeStamper)throw new Se("Cannot proceed with your request");const o=i==="solana"||i==="SOL"?xI.Solana:xI.Hexadecimal;try{return yield this.__iframeStamper.injectKeyExportBundle(n,r,o)}catch(s){throw Gi.error("Error while verifying export private key",s),s}})}exportPrivateKey(t){return po(this,arguments,void 0,function*({privateKeyId:n,organizationId:r}){const i=tl==null?void 0:tl.apiKeyStamper;if(i&&(this.__turnkeyClient=new o0({baseUrl:s0},i)),!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!n)throw new Se("Cannot proceed with your request");try{return(yield this.__turnkeyClient.exportPrivateKey({organizationId:r,parameters:{privateKeyId:n,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"})).activity}catch(o){throw Gi.error("[TK] Error while completing export private key process",o),o}})}exportWallet(t){return po(this,arguments,void 0,function*({walletId:n,organizationId:r,address:i}){const o=tl==null?void 0:tl.apiKeyStamper;if(o&&(this.__turnkeyClient=new o0({baseUrl:s0},o)),!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!n)throw new Se("Cannot proceed with your request");try{return i?(yield this.__turnkeyClient.exportWalletAccount({organizationId:r,parameters:{address:i,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"})).activity:(yield this.__turnkeyClient.exportWallet({organizationId:r,parameters:{targetPublicKey:this.__publicKey,walletId:n},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"})).activity}catch(s){throw Gi.error("[TK] Error while completing export wallet process",s),s}})}}const z4t=e=>Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),nne=()=>{const e=new Uint8Array(32);return crypto.getRandomValues(e),e.buffer};class Ui extends t3{constructor(t,n){if(super(n),this.requiresNonDynamicEmailOtp=!1,this.isEmbeddedWallet=!0,this.removeSessionKeys=()=>po(this,void 0,void 0,function*(){Ui.sessionKeys=void 0,Ui.apiKeyStamper=void 0,tl.apiKeyStamper=void 0}),this.stampCreateWalletAccountRequest=r=>po(this,[r],void 0,function*({request:i}){return yield this.createOrRestoreSession(),(yield this.getTurnkeyClient()).stampCreateWalletAccounts(i)}),this.stampDeleteSubOrganizationRequest=r=>po(this,[r],void 0,function*({request:i}){return yield this.createOrRestoreSession(),(yield this.getTurnkeyClient()).stampDeleteSubOrganization(i)}),!n.appName)throw new Error("appName not set");this.name=t.name,this.overrideKey=t.key,this.appName=n.appName,this.__authenticatorMethodHandler=kB}getWebAuthnAttestation(){return po(this,void 0,void 0,function*(){const t=nne(),n=nne(),{email:r,passkeyIdentifier:i}=this;if(!r&&!i)throw new Error("Email or passkeyIdentifier must be set to register a webauthn credential.");const o=r||`${this.appName} - ${i}`,s={publicKey:{authenticatorSelection:{authenticatorAttachment:void 0,requireResidentKey:!1,residentKey:"preferred",userVerification:"discouraged"},challenge:t,pubKeyCredParams:[{alg:-7,type:"public-key"}],rp:{id:Hy(),name:this.appName},user:{displayName:o,id:n,name:r||`${this.appName} - ${i}`}}};let a;try{a=yield a0.getWebAuthnAttestation(s)}catch(l){Gi.warn(`Unable to register webauthn credential on the current page's TLD ${Hy()}. Falling back to using hostname. ${Ln.getHostname()}`,l),s.publicKey.rp.id=Ln.getHostname(),a=yield a0.getWebAuthnAttestation(s)}return{attestation:{attestationObject:a.attestationObject,clientDataJson:a.clientDataJson,credentialId:a.credentialId,transports:GRt(a.transports)},challenge:z4t(t),displayName:o}})}getAuthenticatorHandler(){return this.__authenticatorMethodHandler}getExportHandler(){return Ui.__exportHandler||(Ui.__exportHandler=new tl),Ui.__exportHandler}get email(){return this._email}setEmail(t){this._email=t}get phone(){return this._phone}setPhone(t){this._phone=t}get passkeyIdentifier(){return this._passkeyIdentifier}setPasskeyIdentifier(t){this._passkeyIdentifier=t}clearEmail(){this._email=null}getAddress(){return po(this,void 0,void 0,function*(){var t;return(t=this.verifiedCredential)===null||t===void 0?void 0:t.address})}getConnectedAccounts(){return po(this,void 0,void 0,function*(){return(this.verifiedCredentials||[]).map(r=>r==null?void 0:r.address).filter(r=>typeof r=="string")})}get turnkeyAddress(){var t;const{address:n}=(t=this.verifiedCredential)!==null&&t!==void 0?t:{};return n}get walletProperties(){const{walletProperties:t}=this.verifiedCredential||{};return t}set verifiedCredentials(t){this._verifiedCredentials=t}get verifiedCredentials(){return this._verifiedCredentials}set verifiedCredential(t){this._verifiedCredential=t}get verifiedCredential(){return this._verifiedCredential}setSessionKeyFetcher(t){this.createOrRestoreSessionFetcherFunction=t}setSessionKeyRemoveFunction(t){this.removeSessionKeysFunction=t}createOrRestoreSession(){return po(this,arguments,void 0,function*({ignoreRestore:t}={}){var n,r,i;if(!this.isSessionKeyCompatible()||Ui.isLoadingSession)return;if(!this.createOrRestoreSessionFetcherFunction)throw new Se("Cannot register session key to init provider");const{sessionKeys:o}=Ui;if(o!=null&&o.publicKey&&!(new Date>=new Date(o.expirationDate)))return o.publicKey;try{if(Ui.isLoadingSession=!0,this.isLoadingSessionDeferredPromise=new $m,!(!((n=this.verifiedCredential)===null||n===void 0)&&n.id))throw new Se("No wallet ID found");const s=yield this.createOrRestoreSessionFetcherFunction({ignoreRestore:t,walletId:(r=this.verifiedCredential)===null||r===void 0?void 0:r.id});return Ui.sessionKeys=s,Ui.apiKeyStamper=new TRt({apiPrivateKey:s.privateKey,apiPublicKey:s.publicKey}),tl.apiKeyStamper=Ui.apiKeyStamper,Gi.metaData.set("sessionApiPublicKey",s.publicKey),s.publicKey}catch(s){throw Gi.error(s),new Se("Failed to create or restore session")}finally{Ui.isLoadingSession=!1,(i=this.isLoadingSessionDeferredPromise)===null||i===void 0||i.resolve()}})}isSessionKeyCompatible(){var t;const n=(t=this.verifiedCredential)===null||t===void 0?void 0:t.walletProperties;return!!(n==null?void 0:n.isSessionKeyCompatible)}isSessionActive(){return po(this,void 0,void 0,function*(){return!!((yield this.getAddress())&&Ui.sessionKeys&&Ui.apiKeyStamper)})}get sessionKeys(){return Ui.sessionKeys}getTurnkeyClient(){return po(this,void 0,void 0,function*(){var t,n;Ui.isLoadingSession&&(yield(t=this.isLoadingSessionDeferredPromise)===null||t===void 0?void 0:t.promise);let r=Hy();r||(r=Ln.getHostname());const i=a0.createWebauthnStamper({rpId:r}),o=Ui==null?void 0:Ui.apiKeyStamper,s=o??i;return this.__turnkeyClient=(n=this.getAuthenticatorHandler().client)!==null&&n!==void 0?n:new o0({baseUrl:s0},s),this.__turnkeyClient})}setLoggerMetadata(){var t,n,r;Gi.metaData.set("turnkeySubOrganizationId",(n=(t=this._verifiedCredential)===null||t===void 0?void 0:t.walletProperties)===null||n===void 0?void 0:n.turnkeySubOrganizationId),Gi.metaData.set("walletId",(r=this._verifiedCredential)===null||r===void 0?void 0:r.id);let i="Unknown";this.isSessionKeyCompatible()?i="SessionKeys":this.__authenticatorMethodHandler.recoveryType==="passkey"?i="Passkey":this.__authenticatorMethodHandler.recoveryType==="email"&&(i="EmailAuth"),Gi.metaData.set("authMethod",i)}}Ui.isLoadingSession=!1;const V4t=(e,t)=>e==null?void 0:e.filter(({walletName:n,chain:r})=>(n==null?void 0:n.startsWith("turnkey"))&&t===r),K4t={TurnkeyHD:{key:"turnkeyhd",name:"Turnkey HD"}};Oo("@dynamic-labs/embedded-wallet",wRt);function H4t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fr(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function rne(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function G4t(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function $E(e,...t){if(!G4t(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function J4t(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rne(e.outputLen),rne(e.blockLen)}function kI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Z4t(e,t){$E(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const fy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pT(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function md(e,t){return e<<32-t|e>>>t}Uint8Array.from([]).toHex;function Y4t(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function u$(e){return typeof e=="string"&&(e=Y4t(e)),$E(e),e}function X4t(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];$E(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}class L0e{clone(){return this._cloneInto()}}function U0e(e){const t=r=>e().update(u$(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function F0e(e=32){if(fy&&typeof fy.getRandomValues=="function")return fy.getRandomValues(new Uint8Array(e));if(fy&&typeof fy.randomBytes=="function")return Uint8Array.from(fy.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Q4t(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}function e8t(e,t,n){return e&t^~e&n}function t8t(e,t,n){return e&t^e&n^t&n}class W0e extends L0e{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=pT(this.buffer)}update(t){kI(this);const{view:n,buffer:r,blockLen:i}=this;t=u$(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=pT(t);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){kI(this),Z4t(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;Q4t(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=pT(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,d[u],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}}const n8t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eh=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),th=new Uint32Array(64);class r8t extends W0e{constructor(t=32){super(64,t,8,!1),this.A=eh[0]|0,this.B=eh[1]|0,this.C=eh[2]|0,this.D=eh[3]|0,this.E=eh[4]|0,this.F=eh[5]|0,this.G=eh[6]|0,this.H=eh[7]|0}get(){const{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[t,n,r,i,o,s,a,l]}set(t,n,r,i,o,s,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,n){for(let u=0;u<16;u++,n+=4)th[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=th[u-15],m=th[u-2],v=md(h,7)^md(h,18)^h>>>3,y=md(m,17)^md(m,19)^m>>>10;th[u]=y+th[u-7]+v+th[u-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let u=0;u<64;u++){const h=md(a,6)^md(a,11)^md(a,25),m=d+h+e8t(a,l,c)+n8t[u]+th[u]|0,y=(md(r,2)^md(r,13)^md(r,22))+t8t(r,i,o)|0;d=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){th.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const SB=U0e(()=>new r8t),s2=BigInt(2**32-1),IB=BigInt(32);function q0e(e,t=!1){return t?{h:Number(e&s2),l:Number(e>>IB&s2)}:{h:Number(e>>IB&s2)|0,l:Number(e&s2)|0}}function i8t(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=q0e(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const o8t=(e,t)=>BigInt(e>>>0)<<IB|BigInt(t>>>0),s8t=(e,t,n)=>e>>>n,a8t=(e,t,n)=>e<<32-n|t>>>n,l8t=(e,t,n)=>e>>>n|t<<32-n,c8t=(e,t,n)=>e<<32-n|t>>>n,d8t=(e,t,n)=>e<<64-n|t>>>n-32,u8t=(e,t,n)=>e>>>n-32|t<<64-n,f8t=(e,t)=>t,h8t=(e,t)=>e,p8t=(e,t,n)=>e<<n|t>>>32-n,m8t=(e,t,n)=>t<<n|e>>>32-n,g8t=(e,t,n)=>t<<n-32|e>>>64-n,y8t=(e,t,n)=>e<<n-32|t>>>64-n;function v8t(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const w8t=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b8t=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,_8t=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),x8t=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,k8t=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),S8t=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,zn={fromBig:q0e,split:i8t,toBig:o8t,shrSH:s8t,shrSL:a8t,rotrSH:l8t,rotrSL:c8t,rotrBH:d8t,rotrBL:u8t,rotr32H:f8t,rotr32L:h8t,rotlSH:p8t,rotlSL:m8t,rotlBH:g8t,rotlBL:y8t,add:v8t,add3L:w8t,add3H:b8t,add4L:_8t,add4H:x8t,add5H:S8t,add5L:k8t},[I8t,E8t]=zn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nh=new Uint32Array(80),rh=new Uint32Array(80);class C8t extends W0e{constructor(t=64){super(128,t,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:u,Fl:h,Gh:m,Gl:v,Hh:y,Hl:g}=this;return[t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g]}set(t,n,r,i,o,s,a,l,c,d,u,h,m,v,y,g){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=u|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=y|0,this.Hl=g|0}process(t,n){for(let _=0;_<16;_++,n+=4)nh[_]=t.getUint32(n),rh[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const R=nh[_-15]|0,I=rh[_-15]|0,T=zn.rotrSH(R,I,1)^zn.rotrSH(R,I,8)^zn.shrSH(R,I,7),D=zn.rotrSL(R,I,1)^zn.rotrSL(R,I,8)^zn.shrSL(R,I,7),M=nh[_-2]|0,C=rh[_-2]|0,U=zn.rotrSH(M,C,19)^zn.rotrBH(M,C,61)^zn.shrSH(M,C,6),$=zn.rotrSL(M,C,19)^zn.rotrBL(M,C,61)^zn.shrSL(M,C,6),z=zn.add4L(D,$,rh[_-7],rh[_-16]),q=zn.add4H(z,T,U,nh[_-7],nh[_-16]);nh[_]=q|0,rh[_]=z|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:u,El:h,Fh:m,Fl:v,Gh:y,Gl:g,Hh:b,Hl:k}=this;for(let _=0;_<80;_++){const R=zn.rotrSH(u,h,14)^zn.rotrSH(u,h,18)^zn.rotrBH(u,h,41),I=zn.rotrSL(u,h,14)^zn.rotrSL(u,h,18)^zn.rotrBL(u,h,41),T=u&m^~u&y,D=h&v^~h&g,M=zn.add5L(k,I,D,E8t[_],rh[_]),C=zn.add5H(M,b,R,T,I8t[_],nh[_]),U=M|0,$=zn.rotrSH(r,i,28)^zn.rotrBH(r,i,34)^zn.rotrBH(r,i,39),z=zn.rotrSL(r,i,28)^zn.rotrBL(r,i,34)^zn.rotrBL(r,i,39),q=r&o^r&a^o&a,S=i&s^i&l^s&l;b=y|0,k=g|0,y=m|0,g=v|0,m=u|0,v=h|0,{h:u,l:h}=zn.add(c|0,d|0,C|0,U|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const A=zn.add3L(U,z,S);r=zn.add3H(A,C,$,q),i=A|0}({h:r,l:i}=zn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=zn.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=zn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=zn.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:u,l:h}=zn.add(this.Eh|0,this.El|0,u|0,h|0),{h:m,l:v}=zn.add(this.Fh|0,this.Fl|0,m|0,v|0),{h:y,l:g}=zn.add(this.Gh|0,this.Gl|0,y|0,g|0),{h:b,l:k}=zn.add(this.Hh|0,this.Hl|0,b|0,k|0),this.set(r,i,o,s,a,l,c,d,u,h,m,v,y,g,b,k)}roundClean(){nh.fill(0),rh.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const A8t=U0e(()=>new C8t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f$=BigInt(0),EB=BigInt(1);function F0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function h$(e){if(!F0(e))throw new Error("Uint8Array expected")}function Ah(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function a2(e){const t=e.toString(16);return t.length&1?"0"+t:t}function z0e(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?f$:BigInt("0x"+e)}const V0e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",R8t=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W0(e){if(h$(e),V0e)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=R8t[e[n]];return t}const yu={_0:48,_9:57,A:65,F:70,a:97,f:102};function ine(e){if(e>=yu._0&&e<=yu._9)return e-yu._0;if(e>=yu.A&&e<=yu.F)return e-(yu.A-10);if(e>=yu.a&&e<=yu.f)return e-(yu.a-10)}function SI(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(V0e)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=ine(e.charCodeAt(o)),a=ine(e.charCodeAt(o+1));if(s===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function hm(e){return z0e(W0(e))}function Pb(e){return h$(e),z0e(W0(Uint8Array.from(e).reverse()))}function B1(e,t){return SI(e.toString(16).padStart(t*2,"0"))}function II(e,t){return B1(e,t).reverse()}function mo(e,t,n){let r;if(typeof t=="string")try{r=SI(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(F0(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function q0(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];h$(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const o=e[r];n.set(o,i),i+=o.length}return n}const mT=e=>typeof e=="bigint"&&f$<=e;function p$(e,t,n){return mT(e)&&mT(t)&&mT(n)&&t<=e&&e<n}function Bc(e,t,n,r){if(!p$(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function T8t(e){let t;for(t=0;e>f$;e>>=EB,t+=1);return t}const LE=e=>(EB<<BigInt(e))-EB,gT=e=>new Uint8Array(e),one=e=>Uint8Array.from(e);function O8t(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gT(e),i=gT(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),l=(u=gT(0))=>{i=a(one([0]),u),r=a(),u.length!==0&&(i=a(one([1]),u),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<t;){r=a();const m=r.slice();h.push(m),u+=r.length}return q0(...h)};return(u,h)=>{s(),l(u);let m;for(;!(m=h(c()));)l();return s(),m}}const N8t={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||F0(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function H_(e,t,n={}){const r=(i,o,s)=>{const a=N8t[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+l)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function EI(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Go=BigInt(0),Ti=BigInt(1),Vp=BigInt(2),P8t=BigInt(3),CB=BigInt(4),sne=BigInt(5),ane=BigInt(8);function ki(e,t){const n=e%t;return n>=Go?n:t+n}function B8t(e,t,n){if(t<Go)throw new Error("invalid exponent, negatives unsupported");if(n<=Go)throw new Error("invalid modulus");if(n===Ti)return Go;let r=Ti;for(;t>Go;)t&Ti&&(r=r*e%n),e=e*e%n,t>>=Ti;return r}function Vi(e,t,n){let r=e;for(;t-- >Go;)r*=r,r%=n;return r}function AB(e,t){if(e===Go)throw new Error("invert: expected non-zero number");if(t<=Go)throw new Error("invert: expected positive modulus, got "+t);let n=ki(e,t),r=t,i=Go,o=Ti;for(;n!==Go;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Ti)throw new Error("invert: does not exist");return ki(i,t)}function M8t(e){const t=(e-Ti)/Vp;let n,r,i;for(n=e-Ti,r=0;n%Vp===Go;n/=Vp,r++);for(i=Vp;i<e&&B8t(i,t,e)!==e-Ti;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const s=(e+Ti)/CB;return function(l,c){const d=l.pow(c,s);if(!l.eql(l.sqr(d),c))throw new Error("Cannot find square root");return d}}const o=(n+Ti)/Vp;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),u=a.pow(l,o),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let y=a.sqr(h);m<c&&!a.eql(y,a.ONE);m++)y=a.sqr(y);const v=a.pow(d,Ti<<BigInt(c-m-1));d=a.sqr(v),u=a.mul(u,v),h=a.mul(h,d),c=m}return u}}function D8t(e){if(e%CB===P8t){const t=(e+Ti)/CB;return function(r,i){const o=r.pow(i,t);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%ane===sne){const t=(e-sne)/ane;return function(r,i){const o=r.mul(i,Vp),s=r.pow(o,t),a=r.mul(i,s),l=r.mul(r.mul(a,Vp),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return M8t(e)}const j8t=(e,t)=>(ki(e,t)&Ti)===Ti,$8t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L8t(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=$8t.reduce((r,i)=>(r[i]="function",r),t);return H_(e,n)}function U8t(e,t,n){if(n<Go)throw new Error("invalid exponent, negatives unsupported");if(n===Go)return e.ONE;if(n===Ti)return t;let r=e.ONE,i=t;for(;n>Go;)n&Ti&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ti;return r}function F8t(e,t){const n=new Array(t.length),r=t.reduce((o,s,a)=>e.is0(s)?o:(n[a]=o,e.mul(o,s)),e.ONE),i=e.inv(r);return t.reduceRight((o,s,a)=>e.is0(s)?o:(n[a]=e.mul(o,n[a]),e.mul(o,s)),i),n}function K0e(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function UE(e,t,n=!1,r={}){if(e<=Go)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=K0e(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:LE(i),ZERO:Go,ONE:Ti,create:l=>ki(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Go<=l&&l<e},is0:l=>l===Go,isOdd:l=>(l&Ti)===Ti,neg:l=>ki(-l,e),eql:(l,c)=>l===c,sqr:l=>ki(l*l,e),add:(l,c)=>ki(l+c,e),sub:(l,c)=>ki(l-c,e),mul:(l,c)=>ki(l*c,e),pow:(l,c)=>U8t(a,l,c),div:(l,c)=>ki(l*AB(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>AB(l,e),sqrt:r.sqrt||(l=>(s||(s=D8t(e)),s(a,l))),invertBatch:l=>F8t(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?II(l,o):B1(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?Pb(l):hm(l)}});return Object.freeze(a)}function H0e(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function G0e(e){const t=H0e(e);return t+Math.ceil(t/2)}function W8t(e,t,n=!1){const r=e.length,i=H0e(t),o=G0e(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Pb(e):hm(e),a=ki(s,t-Ti)+Ti;return n?II(a,i):B1(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lne=BigInt(0),RB=BigInt(1);function yT(e,t){const n=t.negate();return e?n:t}function J0e(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function vT(e,t){J0e(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,o=LE(e),s=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function cne(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),l=e>>s;a>r&&(a-=o,l+=RB);const c=t*r,d=c+Math.abs(a)-1,u=a===0,h=a<0,m=t%2!==0;return{nextN:l,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:c}}function q8t(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function z8t(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const wT=new WeakMap,Z0e=new WeakMap;function bT(e){return Z0e.get(e)||1}function Y0e(e,t){return{constTimeNegate:yT,hasPrecomputes(n){return bT(n)!==1},unsafeLadder(n,r,i=e.ZERO){let o=n;for(;r>lne;)r&RB&&(i=i.add(o)),o=o.double(),r>>=RB;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=vT(r,t),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let d=1;d<o;d++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=vT(n,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:u,isNeg:h,isNegF:m,offsetF:v}=cne(i,l,a);i=c,u?s=s.add(yT(m,r[v])):o=o.add(yT(h,r[d]))}return{p:o,f:s}},wNAFUnsafe(n,r,i,o=e.ZERO){const s=vT(n,t);for(let a=0;a<s.windows&&i!==lne;a++){const{nextN:l,offset:c,isZero:d,isNeg:u}=cne(i,a,s);if(i=l,!d){const h=r[c];o=o.add(u?h.negate():h)}}return o},getPrecomputes(n,r,i){let o=wT.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&wT.set(r,i(o))),o},wNAFCached(n,r,i){const o=bT(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=bT(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){J0e(r,t),Z0e.set(n,r),wT.delete(n)}}}function X0e(e,t,n,r){if(q8t(n,e),z8t(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=T8t(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=LE(s),l=new Array(Number(a)+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let d=i;for(let u=c;u>=0;u-=s){l.fill(i);for(let m=0;m<r.length;m++){const v=r[m],y=Number(v>>BigInt(u)&a);l[y]=l[y].add(n[m])}let h=i;for(let m=l.length-1,v=i;m>0;m--)v=v.add(l[m]),h=h.add(v);if(d=d.add(h),u!==0)for(let m=0;m<s;m++)d=d.double()}return d}function m$(e){return L8t(e.Fp),H_(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...K0e(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gd=BigInt(0),ta=BigInt(1),dne=BigInt(2),V8t=BigInt(8),K8t={zip215:!0};function H8t(e){const t=m$(e);return H_(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function G8t(e){const t=H8t(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,c=dne<<BigInt(a*8)-ta,d=n.create,u=UE(t.n,t.nBitLength),h=t.uvRatio||((N,j)=>{try{return{isValid:!0,value:n.sqrt(N*n.inv(j))}}catch{return{isValid:!1,value:gd}}}),m=t.adjustScalarBytes||(N=>N),v=t.domain||((N,j,V)=>{if(Ah("phflag",V),j.length||V)throw new Error("Contexts/pre-hash are not supported");return N});function y(N,j,V=!1){const K=V?ta:gd;Bc("coordinate "+N,j,K,c)}function g(N){if(!(N instanceof _))throw new Error("ExtendedPoint expected")}const b=EI((N,j)=>{const{ex:V,ey:K,ez:W}=N,P=N.is0();j==null&&(j=P?V8t:n.inv(W));const F=d(V*j),G=d(K*j),Y=d(W*j);if(P)return{x:gd,y:ta};if(Y!==ta)throw new Error("invZ was invalid");return{x:F,y:G}}),k=EI(N=>{const{a:j,d:V}=t;if(N.is0())throw new Error("bad point: ZERO");const{ex:K,ey:W,ez:P,et:F}=N,G=d(K*K),Y=d(W*W),ie=d(P*P),ye=d(ie*ie),ge=d(G*j),be=d(ie*d(ge+Y)),Le=d(ye+d(V*d(G*Y)));if(be!==Le)throw new Error("bad point: equation left != right (1)");const qe=d(K*W),Me=d(P*F);if(qe!==Me)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(j,V,K,W){y("x",j),y("y",V),y("z",K,!0),y("t",W),this.ex=j,this.ey=V,this.ez=K,this.et=W,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof _)throw new Error("extended point not allowed");const{x:V,y:K}=j||{};return y("x",V),y("y",K),new _(V,K,ta,d(V*K))}static normalizeZ(j){const V=n.invertBatch(j.map(K=>K.ez));return j.map((K,W)=>K.toAffine(V[W])).map(_.fromAffine)}static msm(j,V){return X0e(_,u,j,V)}_setWindowSize(j){T.setWindowSize(this,j)}assertValidity(){k(this)}equals(j){g(j);const{ex:V,ey:K,ez:W}=this,{ex:P,ey:F,ez:G}=j,Y=d(V*G),ie=d(P*W),ye=d(K*G),ge=d(F*W);return Y===ie&&ye===ge}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:j}=t,{ex:V,ey:K,ez:W}=this,P=d(V*V),F=d(K*K),G=d(dne*d(W*W)),Y=d(j*P),ie=V+K,ye=d(d(ie*ie)-P-F),ge=Y+F,be=ge-G,Le=Y-F,qe=d(ye*be),Me=d(ge*Le),gt=d(ye*Le),tt=d(be*ge);return new _(qe,Me,tt,gt)}add(j){g(j);const{a:V,d:K}=t,{ex:W,ey:P,ez:F,et:G}=this,{ex:Y,ey:ie,ez:ye,et:ge}=j,be=d(W*Y),Le=d(P*ie),qe=d(G*K*ge),Me=d(F*ye),gt=d((W+P)*(Y+ie)-be-Le),tt=Me-qe,dt=Me+qe,Xt=d(Le-V*be),lt=d(gt*tt),jt=d(dt*Xt),rn=d(gt*Xt),Re=d(tt*dt);return new _(lt,jt,Re,rn)}subtract(j){return this.add(j.negate())}wNAF(j){return T.wNAFCached(this,j,_.normalizeZ)}multiply(j){const V=j;Bc("scalar",V,ta,r);const{p:K,f:W}=this.wNAF(V);return _.normalizeZ([K,W])[0]}multiplyUnsafe(j,V=_.ZERO){const K=j;return Bc("scalar",K,gd,r),K===gd?I:this.is0()||K===ta?this:T.wNAFCachedUnsafe(this,K,_.normalizeZ,V)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(j){return b(this,j)}clearCofactor(){const{h:j}=t;return j===ta?this:this.multiplyUnsafe(j)}static fromHex(j,V=!1){const{d:K,a:W}=t,P=n.BYTES;j=mo("pointHex",j,P),Ah("zip215",V);const F=j.slice(),G=j[P-1];F[P-1]=G&-129;const Y=Pb(F),ie=V?c:n.ORDER;Bc("pointHex.y",Y,gd,ie);const ye=d(Y*Y),ge=d(ye-ta),be=d(K*ye-W);let{isValid:Le,value:qe}=h(ge,be);if(!Le)throw new Error("Point.fromHex: invalid y coordinate");const Me=(qe&ta)===ta,gt=(G&128)!==0;if(!V&&qe===gd&&gt)throw new Error("Point.fromHex: x=0 and x_0=1");return gt!==Me&&(qe=d(-qe)),_.fromAffine({x:qe,y:Y})}static fromPrivateKey(j){const{scalar:V}=C(j);return R.multiply(V)}toRawBytes(){const{x:j,y:V}=this.toAffine(),K=II(V,n.BYTES);return K[K.length-1]|=j&ta?128:0,K}toHex(){return W0(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,ta,d(t.Gx*t.Gy)),_.ZERO=new _(gd,ta,ta,gd);const{BASE:R,ZERO:I}=_,T=Y0e(_,a*8);function D(N){return ki(N,r)}function M(N){return D(Pb(N))}function C(N){const j=n.BYTES;N=mo("private key",N,j);const V=mo("hashed private key",o(N),2*j),K=m(V.slice(0,j)),W=V.slice(j,2*j),P=M(K);return{head:K,prefix:W,scalar:P}}function U(N){const{head:j,prefix:V,scalar:K}=C(N),W=R.multiply(K),P=W.toRawBytes();return{head:j,prefix:V,scalar:K,point:W,pointBytes:P}}function $(N){return U(N).pointBytes}function z(N=new Uint8Array,...j){const V=q0(...j);return M(o(v(V,mo("context",N),!!i)))}function q(N,j,V={}){N=mo("message",N),i&&(N=i(N));const{prefix:K,scalar:W,pointBytes:P}=U(j),F=z(V.context,K,N),G=R.multiply(F).toRawBytes(),Y=z(V.context,G,P,N),ie=D(F+Y*W);Bc("signature.s",ie,gd,r);const ye=q0(G,II(ie,n.BYTES));return mo("result",ye,n.BYTES*2)}const S=K8t;function A(N,j,V,K=S){const{context:W,zip215:P}=K,F=n.BYTES;N=mo("signature",N,2*F),j=mo("message",j),V=mo("publicKey",V,F),P!==void 0&&Ah("zip215",P),i&&(j=i(j));const G=Pb(N.slice(F,2*F));let Y,ie,ye;try{Y=_.fromHex(V,P),ie=_.fromHex(N.slice(0,F),P),ye=R.multiplyUnsafe(G)}catch{return!1}if(!P&&Y.isSmallOrder())return!1;const ge=z(W,ie.toRawBytes(),Y.toRawBytes(),j);return ie.add(Y.multiplyUnsafe(ge)).subtract(ye).clearCofactor().equals(_.ZERO)}return R._setWindowSize(8),{CURVE:t,getPublicKey:$,sign:q,verify:A,ExtendedPoint:_,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>s(n.BYTES),precompute(N=8,j=_.BASE){return j._setWindowSize(N),j.multiply(BigInt(3)),j}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const g$=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),une=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const J8t=BigInt(1),fne=BigInt(2);BigInt(3);const Z8t=BigInt(5),Y8t=BigInt(8);function X8t(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=g$,a=e*e%o*e%o,l=Vi(a,fne,o)*a%o,c=Vi(l,J8t,o)*e%o,d=Vi(c,Z8t,o)*c%o,u=Vi(d,t,o)*d%o,h=Vi(u,n,o)*u%o,m=Vi(h,r,o)*h%o,v=Vi(m,i,o)*m%o,y=Vi(v,i,o)*m%o,g=Vi(y,t,o)*d%o;return{pow_p_5_8:Vi(g,fne,o)*e%o,b2:a}}function Q8t(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function eTt(e,t){const n=g$,r=ki(t*t*t,n),i=ki(r*r*t,n),o=X8t(e*i).pow_p_5_8;let s=ki(e*r*o,n);const a=ki(t*s*s,n),l=s,c=ki(s*une,n),d=a===e,u=a===ki(-e,n),h=a===ki(-e*une,n);return d&&(s=l),(u||h)&&(s=c),j8t(s,n)&&(s=ki(-s,n)),{isValid:d||u,value:s}}const hne=UE(g$,void 0,!0),tTt={a:hne.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:hne,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Y8t,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:A8t,randomBytes:F0e,adjustScalarBytes:Q8t,uvRatio:eTt},y$=G8t(tTt);var _T,pne;function nTt(){if(pne)return _T;pne=1;var e=mv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,b=0,k=0,_=y.length;k!==_&&y[k]===0;)k++,g++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=y[k],D=0,M=R-1;(T!==0||D<b)&&M!==-1;M--,D++)T+=256*I[M]>>>0,I[M]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=D,k++}for(var C=R-b;C!==R&&I[C]===0;)C++;for(var U=c.repeat(g);C<R;++C)U+=n.charAt(I[C]);return U}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var g=0,b=0,k=0;y[g]===c;)b++,g++;for(var _=(y.length-g)*d+1>>>0,R=new Uint8Array(_);g<y.length;){var I=y.charCodeAt(g);if(I>255)return;var T=r[I];if(T===255)return;for(var D=0,M=_-1;(T!==0||D<k)&&M!==-1;M--,D++)T+=l*R[M]>>>0,R[M]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=D,g++}for(var C=_-k;C!==_&&R[C]===0;)C++;var U=e.allocUnsafe(b+(_-C));U.fill(0,0,b);for(var $=b;C!==_;)U[$++]=R[C++];return U}function v(y){var g=m(y);if(g)return g;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return _T=t,_T}var xT,mne;function rTt(){if(mne)return xT;mne=1;var e=nTt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return xT=e(t),xT}var iTt=rTt();const vs=Rr(iTt);var oTt=8078e3,sTt=8078001,aTt=8078004,lTt=8078005,cTt=8078006,dTt=8078011;function Q0e(e){return Array.isArray(e)?"%5B"+e.map(Q0e).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function uTt([e,t]){return`${e}=${Q0e(t)}`}function fTt(e){const t=Object.entries(e).map(uTt).join("&");return btoa(t)}function hTt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${fTt(t)}'`),`${n}\``}}var l0=class extends Error{constructor(...[n,r]){let i,o;if(r){const{cause:a,...l}=r;a&&(o={cause:a}),Object.keys(l).length>0&&(i=l)}const s=hTt(n,i);super(s,o);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:n,...i},this.name="SolanaError"}};function pTt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function mTt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(pTt(t,e));return e.write(t,n,0),n}})}function gTt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function hy(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function yTt(e,t){if(hy(e)!==hy(t))throw new l0(aTt);if(hy(e)&&hy(t)&&e.fixedSize!==t.fixedSize)throw new l0(lTt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!hy(e)&&!hy(t)&&e.maxSize!==t.maxSize)throw new l0(cTt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function vTt(e,t,n=0){if(t.length-n<=0)throw new l0(oTt,{codecDescription:e})}function wTt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new l0(sTt,{bytesLength:i,codecDescription:e,expected:t})}function bTt(e,t,n,r){if(r<t||r>n)throw new l0(dTt,{codecDescription:e,max:n,min:t,value:r})}function eve(e){return(e==null?void 0:e.endian)!==1}function _Tt(e){return mTt({fixedSize:e.size,write(t,n,r){e.range&&bTt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,eve(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function xTt(e){return gTt({fixedSize:e.size,read(t,n=0){vTt(e.name,t,n),wTt(e.name,e.size,t,n);const r=new DataView(kTt(t,n,e.size));return[e.get(r,eve(e.config)),n+e.size]}})}function kTt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var STt=(e={})=>_Tt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),ITt=(e={})=>xTt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),ETt=(e={})=>yTt(STt(e),ITt(e));class tve extends L0e{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,J4t(t);const r=u$(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?t.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return kI(this),this.iHash.update(t),this}digestInto(t){kI(this),$E(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nve=(e,t,n)=>new tve(e,t).update(n).digest();nve.create=(e,t)=>new tve(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gne(e){e.lowS!==void 0&&Ah("lowS",e.lowS),e.prehash!==void 0&&Ah("prehash",e.prehash)}function CTt(e){const t=m$(e);H_(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}class ATt extends Error{constructor(t=""){super(t)}}const Cu={Err:ATt,_tlv:{encode:(e,t)=>{const{Err:n}=Cu;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=a2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?a2(i.length/2|128):"";return a2(e)+o+i+t},decode(e,t){const{Err:n}=Cu;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Cu;if(e<Du)throw new t("integer: negative integers are not allowed");let n=a2(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Cu;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return hm(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Cu,i=mo("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Cu,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),o=r+i;return t.encode(48,o)}},Du=BigInt(0),qo=BigInt(1);BigInt(2);const yne=BigInt(3);BigInt(4);function RTt(e){const t=CTt(e),{Fp:n}=t,r=UE(t.n,t.nBitLength),i=t.toBytes||((y,g,b)=>{const k=g.toAffine();return q0(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),o=t.fromBytes||(y=>{const g=y.subarray(1),b=n.fromBytes(g.subarray(0,n.BYTES)),k=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:b,y:k}});function s(y){const{a:g,b}=t,k=n.sqr(y),_=n.mul(k,y);return n.add(n.add(_,n.mul(y,g)),b)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return p$(y,qo,t.n)}function l(y){const{allowedPrivateKeyLengths:g,nByteLength:b,wrapPrivateKey:k,n:_}=t;if(g&&typeof y!="bigint"){if(F0(y)&&(y=W0(y)),typeof y!="string"||!g.includes(y.length))throw new Error("invalid private key");y=y.padStart(b*2,"0")}let R;try{R=typeof y=="bigint"?y:hm(mo("private key",y,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof y)}return k&&(R=ki(R,_)),Bc("private key",R,qo,_),R}function c(y){if(!(y instanceof h))throw new Error("ProjectivePoint expected")}const d=EI((y,g)=>{const{px:b,py:k,pz:_}=y;if(n.eql(_,n.ONE))return{x:b,y:k};const R=y.is0();g==null&&(g=R?n.ONE:n.inv(_));const I=n.mul(b,g),T=n.mul(k,g),D=n.mul(_,g);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:I,y:T}}),u=EI(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:g,y:b}=y.toAffine();if(!n.isValid(g)||!n.isValid(b))throw new Error("bad point: x or y not FE");const k=n.sqr(b),_=s(g);if(!n.eql(k,_))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(g,b,k){if(g==null||!n.isValid(g))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required");this.px=g,this.py=b,this.pz=k,Object.freeze(this)}static fromAffine(g){const{x:b,y:k}=g||{};if(!g||!n.isValid(b)||!n.isValid(k))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const _=R=>n.eql(R,n.ZERO);return _(b)&&_(k)?h.ZERO:new h(b,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const b=n.invertBatch(g.map(k=>k.pz));return g.map((k,_)=>k.toAffine(b[_])).map(h.fromAffine)}static fromHex(g){const b=h.fromAffine(o(mo("pointHex",g)));return b.assertValidity(),b}static fromPrivateKey(g){return h.BASE.multiply(l(g))}static msm(g,b){return X0e(h,r,g,b)}_setWindowSize(g){v.setWindowSize(this,g)}assertValidity(){u(this)}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=g,D=n.eql(n.mul(b,T),n.mul(R,_)),M=n.eql(n.mul(k,T),n.mul(I,_));return D&&M}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b}=t,k=n.mul(b,yne),{px:_,py:R,pz:I}=this;let T=n.ZERO,D=n.ZERO,M=n.ZERO,C=n.mul(_,_),U=n.mul(R,R),$=n.mul(I,I),z=n.mul(_,R);return z=n.add(z,z),M=n.mul(_,I),M=n.add(M,M),T=n.mul(g,M),D=n.mul(k,$),D=n.add(T,D),T=n.sub(U,D),D=n.add(U,D),D=n.mul(T,D),T=n.mul(z,T),M=n.mul(k,M),$=n.mul(g,$),z=n.sub(C,$),z=n.mul(g,z),z=n.add(z,M),M=n.add(C,C),C=n.add(M,C),C=n.add(C,$),C=n.mul(C,z),D=n.add(D,C),$=n.mul(R,I),$=n.add($,$),C=n.mul($,z),T=n.sub(T,C),M=n.mul($,U),M=n.add(M,M),M=n.add(M,M),new h(T,D,M)}add(g){c(g);const{px:b,py:k,pz:_}=this,{px:R,py:I,pz:T}=g;let D=n.ZERO,M=n.ZERO,C=n.ZERO;const U=t.a,$=n.mul(t.b,yne);let z=n.mul(b,R),q=n.mul(k,I),S=n.mul(_,T),A=n.add(b,k),O=n.add(R,I);A=n.mul(A,O),O=n.add(z,q),A=n.sub(A,O),O=n.add(b,_);let N=n.add(R,T);return O=n.mul(O,N),N=n.add(z,S),O=n.sub(O,N),N=n.add(k,_),D=n.add(I,T),N=n.mul(N,D),D=n.add(q,S),N=n.sub(N,D),C=n.mul(U,O),D=n.mul($,S),C=n.add(D,C),D=n.sub(q,C),C=n.add(q,C),M=n.mul(D,C),q=n.add(z,z),q=n.add(q,z),S=n.mul(U,S),O=n.mul($,O),q=n.add(q,S),S=n.sub(z,S),S=n.mul(U,S),O=n.add(O,S),z=n.mul(q,O),M=n.add(M,z),z=n.mul(N,O),D=n.mul(A,D),D=n.sub(D,z),z=n.mul(A,q),C=n.mul(N,C),C=n.add(C,z),new h(D,M,C)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return v.wNAFCached(this,g,h.normalizeZ)}multiplyUnsafe(g){const{endo:b,n:k}=t;Bc("scalar",g,Du,k);const _=h.ZERO;if(g===Du)return _;if(this.is0()||g===qo)return this;if(!b||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,g,h.normalizeZ);let{k1neg:R,k1:I,k2neg:T,k2:D}=b.splitScalar(g),M=_,C=_,U=this;for(;I>Du||D>Du;)I&qo&&(M=M.add(U)),D&qo&&(C=C.add(U)),U=U.double(),I>>=qo,D>>=qo;return R&&(M=M.negate()),T&&(C=C.negate()),C=new h(n.mul(C.px,b.beta),C.py,C.pz),M.add(C)}multiply(g){const{endo:b,n:k}=t;Bc("scalar",g,qo,k);let _,R;if(b){const{k1neg:I,k1:T,k2neg:D,k2:M}=b.splitScalar(g);let{p:C,f:U}=this.wNAF(T),{p:$,f:z}=this.wNAF(M);C=v.constTimeNegate(I,C),$=v.constTimeNegate(D,$),$=new h(n.mul($.px,b.beta),$.py,$.pz),_=C.add($),R=U.add(z)}else{const{p:I,f:T}=this.wNAF(g);_=I,R=T}return h.normalizeZ([_,R])[0]}multiplyAndAddUnsafe(g,b,k){const _=h.BASE,R=(T,D)=>D===Du||D===qo||!T.equals(_)?T.multiplyUnsafe(D):T.multiply(D),I=R(this,b).add(R(g,k));return I.is0()?void 0:I}toAffine(g){return d(this,g)}isTorsionFree(){const{h:g,isTorsionFree:b}=t;if(g===qo)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:b}=t;return g===qo?this:b?b(h,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return Ah("isCompressed",g),this.assertValidity(),i(h,this,g)}toHex(g=!0){return Ah("isCompressed",g),W0(this.toRawBytes(g))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,v=Y0e(h,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function TTt(e){const t=m$(e);return H_(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function OTt(e){const t=TTt(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(S){return ki(S,r)}function a(S){return AB(S,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:u}=RTt({...t,toBytes(S,A,O){const N=A.toAffine(),j=n.toBytes(N.x),V=q0;return Ah("isCompressed",O),O?V(Uint8Array.from([A.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(N.y))},fromBytes(S){const A=S.length,O=S[0],N=S.subarray(1);if(A===i&&(O===2||O===3)){const j=hm(N);if(!p$(j,qo,n.ORDER))throw new Error("Point is not on curve");const V=d(j);let K;try{K=n.sqrt(V)}catch(F){const G=F instanceof Error?": "+F.message:"";throw new Error("Point is not on curve"+G)}const W=(K&qo)===qo;return(O&1)===1!==W&&(K=n.neg(K)),{x:j,y:K}}else if(A===o&&O===4){const j=n.fromBytes(N.subarray(0,n.BYTES)),V=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=i,V=o;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+A)}}}),h=S=>W0(B1(S,t.nByteLength));function m(S){const A=r>>qo;return S>A}function v(S){return m(S)?s(-S):S}const y=(S,A,O)=>hm(S.slice(A,O));class g{constructor(A,O,N){Bc("r",A,qo,r),Bc("s",O,qo,r),this.r=A,this.s=O,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(A){const O=t.nByteLength;return A=mo("compactSignature",A,O*2),new g(y(A,0,O),y(A,O,2*O))}static fromDER(A){const{r:O,s:N}=Cu.toSig(mo("DER",A));return new g(O,N)}assertValidity(){}addRecoveryBit(A){return new g(this.r,this.s,A)}recoverPublicKey(A){const{r:O,s:N,recovery:j}=this,V=T(mo("msgHash",A));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const K=j===2||j===3?O+t.n:O;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(j&1)===0?"02":"03",P=l.fromHex(W+h(K)),F=a(K),G=s(-V*F),Y=s(N*F),ie=l.BASE.multiplyAndAddUnsafe(P,G,Y);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return SI(this.toDERHex())}toDERHex(){return Cu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return SI(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(S){try{return c(S),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const S=G0e(t.n);return W8t(t.randomBytes(S),t.n)},precompute(S=8,A=l.BASE){return A._setWindowSize(S),A.multiply(BigInt(3)),A}};function k(S,A=!0){return l.fromPrivateKey(S).toRawBytes(A)}function _(S){const A=F0(S),O=typeof S=="string",N=(A||O)&&S.length;return A?N===i||N===o:O?N===2*i||N===2*o:S instanceof l}function R(S,A,O=!0){if(_(S))throw new Error("first arg must be private key");if(!_(A))throw new Error("second arg must be public key");return l.fromHex(A).multiply(c(S)).toRawBytes(O)}const I=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const A=hm(S),O=S.length*8-t.nBitLength;return O>0?A>>BigInt(O):A},T=t.bits2int_modN||function(S){return s(I(S))},D=LE(t.nBitLength);function M(S){return Bc("num < 2^"+t.nBitLength,S,Du,D),B1(S,t.nByteLength)}function C(S,A,O=U){if(["recovered","canonical"].some(ge=>ge in O))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:j}=t;let{lowS:V,prehash:K,extraEntropy:W}=O;V==null&&(V=!0),S=mo("msgHash",S),gne(O),K&&(S=mo("prehashed msgHash",N(S)));const P=T(S),F=c(A),G=[M(F),M(P)];if(W!=null&&W!==!1){const ge=W===!0?j(n.BYTES):W;G.push(mo("extraEntropy",ge))}const Y=q0(...G),ie=P;function ye(ge){const be=I(ge);if(!u(be))return;const Le=a(be),qe=l.BASE.multiply(be).toAffine(),Me=s(qe.x);if(Me===Du)return;const gt=s(Le*s(ie+Me*F));if(gt===Du)return;let tt=(qe.x===Me?0:2)|Number(qe.y&qo),dt=gt;return V&&m(gt)&&(dt=v(gt),tt^=1),new g(Me,dt,tt)}return{seed:Y,k2sig:ye}}const U={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function z(S,A,O=U){const{seed:N,k2sig:j}=C(S,A,O),V=t;return O8t(V.hash.outputLen,V.nByteLength,V.hmac)(N,j)}l.BASE._setWindowSize(8);function q(S,A,O,N=$){var tt;const j=S;A=mo("msgHash",A),O=mo("publicKey",O);const{lowS:V,prehash:K,format:W}=N;if(gne(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(W!==void 0&&W!=="compact"&&W!=="der")throw new Error("format must be compact or der");const P=typeof j=="string"||F0(j),F=!P&&!W&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!P&&!F)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,Y;try{if(F&&(G=new g(j.r,j.s)),P){try{W!=="compact"&&(G=g.fromDER(j))}catch(dt){if(!(dt instanceof Cu.Err))throw dt}!G&&W!=="der"&&(G=g.fromCompact(j))}Y=l.fromHex(O)}catch{return!1}if(!G||V&&G.hasHighS())return!1;K&&(A=t.hash(A));const{r:ie,s:ye}=G,ge=T(A),be=a(ye),Le=s(ge*be),qe=s(ie*be),Me=(tt=l.BASE.multiplyAndAddUnsafe(Y,Le,qe))==null?void 0:tt.toAffine();return Me?s(Me.x)===ie:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:R,sign:z,verify:q,ProjectivePoint:l,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NTt(e){return{hash:e,hmac:(t,...n)=>nve(e,t,X4t(...n)),randomBytes:F0e}}function PTt(e,t){const n=r=>OTt({...e,...NTt(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rve=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vne=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BTt=BigInt(1),TB=BigInt(2),wne=(e,t)=>(e+t/TB)/t;function MTt(e){const t=rve,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=Vi(d,n,t)*d%t,h=Vi(u,n,t)*d%t,m=Vi(h,TB,t)*c%t,v=Vi(m,i,t)*m%t,y=Vi(v,o,t)*v%t,g=Vi(y,a,t)*y%t,b=Vi(g,l,t)*g%t,k=Vi(b,a,t)*y%t,_=Vi(k,n,t)*d%t,R=Vi(_,s,t)*v%t,I=Vi(R,r,t)*c%t,T=Vi(I,TB,t);if(!OB.eql(OB.sqr(T),e))throw new Error("Cannot find square root");return T}const OB=UE(rve,void 0,void 0,{sqrt:MTt}),DTt=PTt({a:BigInt(0),b:BigInt(7),Fp:OB,n:vne,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=vne,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-BTt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=wne(o*e,t),l=wne(-r*e,t);let c=ki(e-a*n-l*i,t),d=ki(-a*r-l*o,t);const u=c>s,h=d>s;if(u&&(c=t-c),h&&(d=t-d),c>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:c,k2neg:h,k2:d}}}},SB);BigInt(0);function bne(e){try{return y$.ExtendedPoint.fromHex(e),!0}catch{return!1}}const ive=(e,t)=>y$.sign(e,t.slice(0,32)),jTt=y$.verify,z0=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);let $Tt=class{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(Y2,this))}static decode(t){return sa.deserialize(Y2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(Y2,this,t)}};const Y2=new Map;var ove;const LTt=32,Rh=32;function UTt(e){return e._bn!==void 0}let _ne=1,Rn=class Ey extends $Tt{constructor(t){if(super({}),this._bn=void 0,UTt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=vs.decode(t);if(n.length!=Rh)throw new Error("Invalid public key input");this._bn=new Dd(n)}else this._bn=new Dd(t);if(this._bn.byteLength()>Rh)throw new Error("Invalid public key input")}}static unique(){const t=new Ey(_ne);return _ne+=1,new Ey(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return vs.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Rh)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=SB(i);return new Ey(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>LTt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,z0(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=SB(r);if(bne(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ey(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Ey(t);return bne(n.toBytes())}};ove=Rn;Rn.default=new ove("11111111111111111111111111111111");Y2.set(Rn,{kind:"struct",fields:[["_bn","u256"]]});new Rn("BPFLoader1111111111111111111111111111111111");const c0=1232,v$=127,CI=64;class sve extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(sve.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ave extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ave.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ib extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ib.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let AI=class{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}};const tr=(e="publicKey")=>B.blob(32,e),FTt=(e="signature")=>B.blob(64,e),Ly=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},WTt=(e="authorized")=>B.struct([tr("staker"),tr("withdrawer")],e),qTt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),tr("custodian")],e),zTt=(e="voteInit")=>B.struct([tr("nodePubkey"),tr("authorizedVoter"),tr("authorizedWithdrawer"),B.u8("commission")],e),VTt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),tr("currentAuthorityDerivedKeyOwnerPubkey"),Ly("currentAuthorityDerivedKeySeed"),tr("newAuthorized")],e);function hl(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function pl(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function _i(e,t){if(!e)throw new Error(t||"Assertion failed")}let lve=class cve{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new cve(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];_i(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{_i(n.length>0,"Expected at least one writable signer key");const[l]=n[0];_i(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Rn(l)),...r.map(([l])=>new Rn(l)),...i.map(([l])=>new Rn(l)),...o.map(([l])=>new Rn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Rn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(_i(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}};const dve="Reached end of buffer unexpectedly";function ju(e){if(e.length===0)throw new Error(dve);return e.shift()}function ml(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(dve);return e.splice(...t)}let V0=class NB{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Rn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:vs.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new AI(this.staticAccountKeys)}static compile(t){const n=lve.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new AI(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:vs.encode(a.data)}));return new NB({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];pl(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(vs.decode(u.data));let y=[];pl(y,h.length);let g=[];return pl(g,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(y),keyIndices:h,dataLength:Te.Buffer.from(g),data:v}});let i=[];pl(i,r.length);let o=Te.Buffer.alloc(c0);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(tr("key"),t,"keys"),tr("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>z0(u.toBytes())),recentBlockhash:vs.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=ju(n);if(r!==(r&v$))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ju(n),o=ju(n),s=hl(n);let a=[];for(let h=0;h<s;h++){const m=ml(n,0,Rh);a.push(new Rn(Te.Buffer.from(m)))}const l=ml(n,0,Rh),c=hl(n);let d=[];for(let h=0;h<c;h++){const m=ju(n),v=hl(n),y=ml(n,0,v),g=hl(n),b=ml(n,0,g),k=vs.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:y,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:vs.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new NB(u)}};class M1{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new AI(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=lve.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const d of o){const u=n.extractTableLookup(d);if(u!==void 0){const[h,{writable:m,readonly:v}]=u;r.push(h),i.writable.push(...m),i.readonly.push(...v)}}const[s,a]=n.getMessageComponents(),c=new AI(a,i).compileInstructions(t.instructions);return new M1({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const t=Array();pl(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();pl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();pl(o,this.addressTableLookups.length);const s=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(tr(),this.staticAccountKeys.length,"staticAccountKeys"),tr("recentBlockhash"),B.blob(r.length,"instructionsLength"),B.blob(n.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(c0),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:vs.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let t=0;const n=new Uint8Array(c0);for(const r of this.compiledInstructions){const i=Array();pl(i,r.accountKeyIndexes.length);const o=Array();pl(o,r.data.length);const s=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(r.data.length,"data")]);t+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(c0);for(const r of this.addressTableLookups){const i=Array();pl(i,r.writableIndexes.length);const o=Array();pl(o,r.readonlyIndexes.length);const s=B.struct([tr("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),r.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=ju(n),i=r&v$;_i(r!==i,"Expected versioned message but received legacy message");const o=i;_i(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:ju(n),numReadonlySignedAccounts:ju(n),numReadonlyUnsignedAccounts:ju(n)},a=[],l=hl(n);for(let v=0;v<l;v++)a.push(new Rn(ml(n,0,Rh)));const c=vs.encode(ml(n,0,Rh)),d=hl(n),u=[];for(let v=0;v<d;v++){const y=ju(n),g=hl(n),b=ml(n,0,g),k=hl(n),_=new Uint8Array(ml(n,0,k));u.push({programIdIndex:y,accountKeyIndexes:b,data:_})}const h=hl(n),m=[];for(let v=0;v<h;v++){const y=new Rn(ml(n,0,Rh)),g=hl(n),b=ml(n,0,g),k=hl(n),_=ml(n,0,k);m.push({accountKey:y,writableIndexes:b,readonlyIndexes:_})}return new M1({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:u,addressTableLookups:m})}}const uve={deserializeMessageVersion(e){const t=e[0],n=t&v$;return n===t?"legacy":n},deserialize:e=>{const t=uve.deserializeMessageVersion(e);if(t==="legacy")return V0.from(e);if(t===0)return M1.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let ih=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const KTt=Te.Buffer.alloc(CI).fill(0);let xne=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},qw=class PB{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new xne(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(b=>{o.push({...b})});const g=y.programId.toString();i.includes(g)||i.push(g)}),i.forEach(y=>{o.push({pubkey:new Rn(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const g=y.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===g);b>-1?(s[b].isWritable=s[b].isWritable||y.isWritable,s[b].isSigner=s[b].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,g){if(y.isSigner!==g.isSigner)return y.isSigner?-1:1;if(y.isWritable!==g.isWritable)return y.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const g=s.findIndex(b=>b.pubkey.equals(y.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:y,isSigner:g,isWritable:b})=>{g?(u.push(y.toString()),l+=1,b||(c+=1)):(h.push(y.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(y=>{const{data:g,programId:b}=y;return{programIdIndex:m.indexOf(b.toString()),accounts:y.keys.map(k=>m.indexOf(k.pubkey.toString())),data:vs.encode(g)}});return v.forEach(y=>{_i(y.programIdIndex>=0),y.accounts.forEach(g=>_i(g>=0))}),new V0({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=ive(r,i.secretKey);this._addSignature(i.publicKey,z0(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){_i(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):jTt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];pl(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return _i(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(_i(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),_i(o.length<=c0,`Transaction too large: ${o.length} > ${c0}`),o}get keys(){return _i(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return _i(this.instructions.length===1),this.instructions[0].programId}get data(){return _i(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=hl(n);let i=[];for(let o=0;o<r;o++){const s=ml(n,0,CI);i.push(vs.encode(Te.Buffer.from(s)))}return PB.populate(V0.from(n),i)}static populate(t,n=[]){const r=new PB;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==vs.encode(KTt)?null:vs.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new xne({keys:o,programId:t.accountKeys[i.programIdIndex],data:vs.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}};class FE{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)_i(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(CI));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();pl(n,this.signatures.length);const r=B.struct([B.blob(n.length,"encodedSignaturesLength"),B.seq(FTt(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let n=[...t];const r=[],i=hl(n);for(let s=0;s<i;s++)r.push(new Uint8Array(ml(n,0,CI)));const o=uve.deserialize(new Uint8Array(n));return new FE(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=r.findIndex(s=>s.equals(i.publicKey));_i(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=ive(n,i.secretKey)}}addSignature(t,n){_i(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));_i(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const HTt=160,GTt=64,JTt=HTt/GTt,ZTt=1e3/JTt;new Rn("SysvarC1ock11111111111111111111111111111111");new Rn("SysvarEpochSchedu1e111111111111111111111111");new Rn("Sysvar1nstructions1111111111111111111111111");new Rn("SysvarRecentB1ockHashes11111111111111111111");new Rn("SysvarRent111111111111111111111111111111111");new Rn("SysvarRewards111111111111111111111111111111");new Rn("SysvarS1otHashes111111111111111111111111111");new Rn("SysvarS1otHistory11111111111111111111111111");new Rn("SysvarStakeHistory1111111111111111111111111");class kne extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ln extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function Cy(e){return new Promise(t=>setTimeout(t,e))}const YTt=B.nu64("lamportsPerSignature"),fve=B.struct([B.u32("version"),B.u32("state"),tr("authorizedPubkey"),tr("nonce"),B.struct([YTt],"feeCalculator")]);fve.span;class w${constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=fve.decode(z0(t),0);return new w$({authorizedPubkey:new Rn(n.authorizedPubkey),nonce:new Rn(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function K0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=ETt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),tr("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),tr("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),K0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),tr("base"),Ly("seed"),B.ns64("lamports"),B.ns64("space"),tr("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),tr("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),tr("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),tr("base"),Ly("seed"),B.ns64("space"),tr("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),tr("base"),Ly("seed"),tr("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),K0("lamports"),Ly("seed"),tr("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new Rn("11111111111111111111111111111111");new Rn("BPFLoader2111111111111111111111111111111111");function XTt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kT,Sne;function QTt(){if(Sne)return kT;Sne=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,u;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(u=e.call(r),u==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(u==="[object Object]"){for(l=t(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return kT=function(r){var i=n(r,!1);if(i!==void 0)return""+i},kT}var eOt=QTt(),Ine=XTt(eOt);const zw=32;function ST(e){let t=0;for(;e>1;)e/=2,t++;return t}function tOt(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class nOt{constructor(t,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=ST(tOt(t+zw+1))-ST(zw)-1,r=this.getSlotsInEpoch(n),i=t-(r-zw);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*zw:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+ST(zw)):this.slotsPerEpoch}}var rOt=globalThis.fetch;class iOt extends Jj{constructor(t,n,r){const i=o=>{const s=Gj(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function oOt(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const Ene=56;class Cne{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=oOt(sOt,t),r=t.length-Ene;_i(r>=0,"lookup table is invalid"),_i(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=B.struct([B.seq(tr(),i,"addresses")]).decode(t.slice(Ene));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Rn(n.authority[0]):void 0,addresses:o.map(s=>new Rn(s))}}}const sOt={index:1,layout:B.struct([B.u32("typeIndex"),K0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(tr(),B.offset(B.u8(),-1),"authority")])},aOt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function lOt(e){const t=e.match(aOt);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Mi=yi(ua(Rn),ae(),e=>new Rn(e)),hve=fa([ae(),it("base64")]),b$=yi(ua(Te.Buffer),hve,e=>Te.Buffer.from(e[0],"base64")),cOt=30*1e3;function dOt(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Qr(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function Ane(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function pve(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Mr(),message:ae(),data:_e(O_())})})])}const uOt=pve(Mr());function Hn(e){return yi(pve(e),uOt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function no(e){return Hn(re({context:re({slot:H()}),value:e}))}function WE(e){return re({context:re({slot:H()}),value:e})}function IT(e,t){return e===0?new M1({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Rn(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:vs.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new V0(t)}const fOt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),hOt=Hn(pe(me(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(me(H()))})))),pOt=pe(re({slot:H(),prioritizationFee:H()})),mOt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),gOt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),yOt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),vOt=Jd(ae(),pe(H())),yg=me(Ot([re({}),ae()])),wOt=re({err:yg}),bOt=it("receivedSignature"),_Ot=re({"solana-core":ae(),"feature-set":_e(H())}),xOt=re({program:ae(),programId:Mi,parsed:Mr()}),kOt=re({programId:Mi,accounts:pe(Mi),data:ae()}),Rne=no(re({err:me(Ot([re({}),ae()])),logs:me(pe(ae())),accounts:_e(me(pe(me(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(me(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(Ot([xOt,kOt]))}))))})),SOt=no(re({byIdentity:Jd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));function IOt(e,t,n,r,i,o){const s=n||rOt;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,u)=>{const h=await new Promise((m,v)=>{try{r(d,u,(y,g)=>m([y,g]))}catch(y){v(y)}});return await s(...h)}),new Hj(async(d,u)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},INt)};try{let m=5,v,y=500;for(;l?v=await l(e,h):v=await s(e,h),!(v.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${y}ms delay...`),await Cy(y),y*=2;const g=await v.text();v.ok?u(null,g):u(new Error(`${v.status} ${v.statusText}: ${g}`))}catch(m){m instanceof Error&&u(m)}},{})}function EOt(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(o,s)=>{if(o){i(o);return}r(s)})})}function COt(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const AOt=Hn(fOt),ROt=Hn(mOt),TOt=Hn(pOt),OOt=Hn(gOt),NOt=Hn(yOt),POt=Hn(vOt),BOt=Hn(H()),MOt=no(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Mi)})),BB=re({amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())}),DOt=no(pe(re({address:Mi,amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())}))),jOt=no(pe(re({pubkey:Mi,account:re({executable:kn(),owner:Mi,lamports:H(),data:b$,rentEpoch:H()})}))),MB=re({program:ae(),parsed:Mr(),space:H()}),$Ot=no(pe(re({pubkey:Mi,account:re({executable:kn(),owner:Mi,lamports:H(),data:MB,rentEpoch:H()})}))),LOt=no(pe(re({lamports:H(),address:Mi}))),D1=re({executable:kn(),owner:Mi,lamports:H(),data:b$,rentEpoch:H()}),UOt=re({pubkey:Mi,account:D1}),FOt=yi(Ot([ua(Te.Buffer),MB]),Ot([hve,MB]),e=>Array.isArray(e)?ke(e,b$):e),DB=re({executable:kn(),owner:Mi,lamports:H(),data:FOt,rentEpoch:H()}),WOt=re({pubkey:Mi,account:DB}),qOt=re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()}),zOt=Hn(pe(re({signature:ae(),slot:H(),err:yg,memo:me(ae()),blockTime:_e(me(H()))}))),VOt=Hn(pe(re({signature:ae(),slot:H(),err:yg,memo:me(ae()),blockTime:_e(me(H()))}))),KOt=re({subscription:H(),result:WE(D1)}),HOt=re({pubkey:Mi,account:D1}),GOt=re({subscription:H(),result:WE(HOt)}),JOt=re({parent:H(),slot:H(),root:H()}),ZOt=re({subscription:H(),result:JOt}),YOt=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]),XOt=re({subscription:H(),result:YOt}),QOt=re({subscription:H(),result:WE(Ot([wOt,bOt]))}),eNt=re({subscription:H(),result:H()}),tNt=re({pubkey:ae(),gossip:me(ae()),tpu:me(ae()),rpc:me(ae()),version:me(ae())}),Tne=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:me(H())}),nNt=Hn(re({current:pe(Tne),delinquent:pe(Tne)})),rNt=Ot([it("processed"),it("confirmed"),it("finalized")]),iNt=re({slot:H(),confirmations:me(H()),err:yg,confirmationStatus:_e(rNt)}),oNt=no(pe(me(iNt))),sNt=Hn(H()),mve=re({accountKey:Mi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),_$=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(mve))})}),gve=re({pubkey:Mi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),yve=re({accountKeys:pe(gve),signatures:pe(ae())}),vve=re({parsed:Mr(),program:ae(),programId:Mi}),wve=re({accounts:pe(Mi),data:ae(),programId:Mi}),aNt=Ot([wve,vve]),lNt=Ot([re({parsed:Mr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),bve=yi(aNt,lNt,e=>"accounts"in e?ke(e,wve):ke(e,vve)),_ve=re({signatures:pe(ae()),message:re({accountKeys:pe(gve),instructions:pe(bve),recentBlockhash:ae(),addressTableLookups:_e(me(pe(mve)))})}),RI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:BB}),xve=re({writable:pe(Mi),readonly:pe(Mi)}),qE=re({err:yg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(RI))),postTokenBalances:_e(me(pe(RI))),loadedAddresses:_e(xve),computeUnitsConsumed:_e(H())}),x$=re({err:yg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(bve)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(RI))),postTokenBalances:_e(me(pe(RI))),loadedAddresses:_e(xve),computeUnitsConsumed:_e(H())}),Rv=Ot([it(0),it("legacy")]),vg=re({pubkey:ae(),lamports:H(),postBalance:me(H()),rewardType:me(ae()),commission:_e(me(H()))}),cNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:_$,meta:me(qE),version:_e(Rv)})),rewards:_e(pe(vg)),blockTime:me(H()),blockHeight:me(H())}))),dNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(vg)),blockTime:me(H()),blockHeight:me(H())}))),uNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:yve,meta:me(qE),version:_e(Rv)})),rewards:_e(pe(vg)),blockTime:me(H()),blockHeight:me(H())}))),fNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:_ve,meta:me(x$),version:_e(Rv)})),rewards:_e(pe(vg)),blockTime:me(H()),blockHeight:me(H())}))),hNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:yve,meta:me(x$),version:_e(Rv)})),rewards:_e(pe(vg)),blockTime:me(H()),blockHeight:me(H())}))),pNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(vg)),blockTime:me(H()),blockHeight:me(H())}))),mNt=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:_$,meta:me(qE)})),rewards:_e(pe(vg)),blockTime:me(H())}))),One=Hn(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:me(H())}))),ET=Hn(me(re({slot:H(),meta:me(qE),blockTime:_e(me(H())),transaction:_$,version:_e(Rv)}))),l2=Hn(me(re({slot:H(),transaction:_ve,meta:me(x$),blockTime:_e(me(H())),version:_e(Rv)}))),gNt=no(re({blockhash:ae(),lastValidBlockHeight:H()})),yNt=no(kn()),vNt=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),wNt=Hn(pe(vNt)),bNt=no(me(re({feeCalculator:re({lamportsPerSignature:H()})}))),_Nt=Hn(ae()),xNt=Hn(ae()),kNt=re({err:yg,logs:pe(ae()),signature:ae()}),SNt=re({result:WE(kNt),subscription:H()}),INt={"solana-client":"js/1.0.0-maintenance"};class ENt{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:u,config:h}=Qr(d),m=this._buildArgs([],u,void 0,h),v=Ine(m);return c[v]=c[v]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",m),g=ke(y,Hn(H()));if("error"in g)throw new ln(g.error,"failed to get block height information");return g.result}finally{delete c[v]}})(),await c[v]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=dOt(t),this._rpcWsEndpoint=r||lOt(t),this._rpcClient=IOt(t,i,o,s,a,l),this._rpcRequest=EOt(this._rpcClient),this._rpcBatchRequest=COt(this._rpcClient),this._rpcWebSocket=new iOt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ke(s,no(H()));if("error"in a)throw new ln(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ke(n,Hn(me(H())));if("error"in r)throw new ln(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ke(t,Hn(H()));if("error"in n)throw new ln(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ke(t,BOt);if("error"in n)throw new ln(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ke(r,MOt);if("error"in i)throw new ln(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ke(i,no(BB));if("error"in o)throw new ln(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ke(i,no(BB));if("error"in o)throw new ln(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:o}=Qr(r);let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ke(l,jOt);if("error"in c)throw new ln(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ke(s,$Ot);if("error"in a)throw new ln(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ke(i,LOt);if("error"in o)throw new ln(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ke(i,DOt);if("error"in o)throw new ln(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,no(me(D1)));if("error"in a)throw new ln(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ke(s,no(me(DB)));if("error"in a)throw new ln(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,no(pe(me(DB))));if("error"in l)throw new ln(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ke(a,no(pe(me(D1))));if("error"in l)throw new ln(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:o}=Qr(n),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ke(a,Hn(qOt));if("error"in l)throw new ln(l.error,`failed to get Stake Activation ${t.toBase58()}`);return l.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Qr(n),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...s,...s.filters?{filters:Ane(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pe(UOt),d=s.withContext===!0?ke(l,no(c)):ke(l,Hn(c));if("error"in d)throw new ln(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ke(s,Hn(pe(WOt)));if("error"in a)throw new ln(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var o;let r;if(typeof t=="string")r=t;else{const s=t;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=vs.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return _i(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(u,h)=>{r=void 0;const m={context:h,value:u};l({__type:ih.PROCESSED,response:m})},t);const d=new Promise(u=>{r==null?u():i=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&u()})});(async()=>{if(await d,o)return;const u=await this.getSignatureStatus(n);if(o||u==null)return;const{context:h,value:m}=u;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:ih.PROCESSED,response:{context:h,value:m}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(u=>{const h=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let m=await h();if(!o){for(;m<=r;)if(await Cy(1e3),o||(m=await h(),o))return;u({__type:ih.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let d;try{const u=await Promise.race([c,l,s]);if(u.__type===ih.PROCESSED)d=u.response;else throw new sve(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let v=o,y=null;const g=async()=>{try{const{context:b,value:k}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=b.slot,k==null?void 0:k.nonce}catch{return v}};(async()=>{if(v=await g(),!a)for(;;){if(o!==v){m({__type:ih.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Cy(2e3),a||(v=await g(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let h;try{const m=await Promise.race([u,d,l]);if(m.__type===ih.PROCESSED)h=m.response;else{let v;for(;;){const y=await this.getSignatureStatus(s);if(y==null)break;if(y.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Cy(400);continue}v=y;break}if(v!=null&&v.value){const y=t||"finalized",{confirmationStatus:g}=v.value;switch(y){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new ib(s);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new ib(s);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new ib(s);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new ib(s)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:ih.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===ih.PROCESSED)a=l.response;else throw new ave(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ke(t,Hn(pe(tNt)));if("error"in n)throw new ln(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ke(r,nNt);if("error"in i)throw new ln(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ke(o,Hn(H()));if("error"in s)throw new ln(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ke(o,Hn(ae()));if("error"in s)throw new ln(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),o=ke(i,Hn(pe(Mi)));if("error"in o)throw new ln(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);_i(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ke(i,oNt);if("error"in o)throw new ln(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ke(o,Hn(H()));if("error"in s)throw new ln(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ke(r,AOt);if("error"in i)throw new ln(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:o}=Qr(r),s=this._buildArgs([t.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ke(a,hOt);if("error"in l)throw new ln(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ke(t,ROt);if("error"in n)throw new ln(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ke(o,OOt);if("error"in s)throw new ln(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ke(t,NOt);if("error"in n)throw new ln(n.error,"failed to get epoch schedule");const r=n.result;return new nOt(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ke(t,POt);if("error"in n)throw new ln(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ke(i,sNt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ke(n,wNt);if("error"in r)throw new ln(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ke(i,bNt);if("error"in o)throw new ln(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=z0(t.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ke(o,no(me(H())));if("error"in s)throw new ln(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){var s;const n=(s=t==null?void 0:t.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ke(i,TOt);if("error"in o)throw new ln(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ke(o,gNt);if("error"in s)throw new ln(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgs([t],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ke(s,yNt);if("error"in a)throw new ln(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ke(t,Hn(_Ot));if("error"in n)throw new ln(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ke(t,Hn(ae()));if("error"in n)throw new ln(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,uNt);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,dNt);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,cNt);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:u})=>({meta:d,transaction:{...c,message:IT(u,c.message)},version:u}))}:null}}}catch(a){throw new ln(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ke(s,hNt);if("error"in a)throw a.error;return a.result}case"none":{const a=ke(s,pNt);if("error"in a)throw a.error;return a.result}default:{const a=ke(s,fNt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ln(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...l}=t;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ke(o,SOt);if("error"in s)throw new ln(s.error,"failed to get block production information");return s.result}async getTransaction(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ke(s,ET);if("error"in a)throw new ln(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:IT(l.version,l.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Qr(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ke(s,l2);if("error"in a)throw new ln(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,l2);if("error"in c)throw new ln(c.error,"failed to get transactions");return c.result})}async getTransactions(t,n){const{commitment:r,config:i}=Qr(n),o=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ke(l,ET);if("error"in c)throw new ln(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:IT(d.version,d.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),o=ke(i,mNt);if("error"in o)throw new ln(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new V0(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:qw.populate(l.message,l.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",i),s=ke(o,Hn(pe(H())));if("error"in s)throw new ln(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,One);if("error"in o)throw new ln(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ke(i,One);if("error"in o)throw new ln(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),o=ke(i,ET);if("error"in o)throw new ln(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new V0(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:qw.populate(a,l)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ke(i,l2);if("error"in o)throw new ln(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ke(s,l2);if("error"in a)throw new ln(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ke(o,zOt);if("error"in s)throw new ln(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ke(o,VOt);if("error"in s)throw new ln(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=new Cne({key:t,state:Cne.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let o=null;return i!==null&&(o=w$.fromAccountData(i.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ke(r,_Nt);if("error"in i)throw new ln(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Cy(100);const r=Date.now()-this._blockhashInfo.lastFetch>=cOt;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Cy(ZTt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Qr(t),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ke(o,no(H()));if("error"in s)throw new ln(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),g=Te.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const k=[g,b],_=await this._rpcRequest("simulateTransaction",k),R=ke(_,Rne);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(t instanceof qw){let v=t;i=new qw,i.feePayer=v.feePayer,i.instructions=t.instructions,i.nonceInfo=v.nonceInfo,i.signatures=v.signatures}else i=qw.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(v);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const g=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else v=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:s.nonProgramIds()).map(y=>y.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const u=[c,d],h=await this._rpcRequest("simulateTransaction",u),m=ke(h,Rne);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const y=`
    `,g=y+v.join(y);console.error(m.error.message,g)}throw new kne({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const l=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=z0(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[t,r],a=await this._rpcRequest("sendTransaction",s),l=ke(a,xNt);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new kne({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var i;const r=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var o;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ke(t,KOt);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=Ine([t.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];_i(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:o}=Qr(r),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ke(t,GOt);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:o,config:s}=Qr(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:Ane(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ke(t,SNt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ke(t,ZOt);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ke(t,XOt);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ke(t,QOt);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ke(t,eNt);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),K0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),K0(),B.seq(tr(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Rn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),K0("microLamports")])}});new Rn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Rn("Ed25519SigVerify111111111111111111111111111");DTt.utils.isValidPrivateKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Rn("KeccakSecp256k11111111111111111111111111111");var kve;new Rn("StakeConfig11111111111111111111111111111111");let Sve=class{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}};kve=Sve;Sve.default=new kve(0,0,Rn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),WTt(),qTt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),tr("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),tr("newAuthorized"),B.u32("stakeAuthorizationType"),Ly("authoritySeed"),tr("authorityOwner")])}});new Rn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),zTt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),tr("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),VTt()])}});new Rn("Vote111111111111111111111111111111111111111");new Rn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Rn("Vote111111111111111111111111111111111111111");B.struct([tr("nodePubkey"),tr("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),tr("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([tr("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);const CNt=1e9;class ANt{constructor(t){this.organizationId=t.organizationId,this.client=t.client}async signAllTransactions(t,n,r){var l,c;const i=new nn(n);let o=t.map(d=>this.getMessageToSign(d).toString("hex"));const s=await this.signRawPayloads(o,n,r),a=(l=s==null?void 0:s.signatures)==null?void 0:l.map(d=>`${d==null?void 0:d.r}${d==null?void 0:d.s}`);for(let d in t)(c=t[d])==null||c.addSignature(i,Buffer.from(a[d],"hex"));return t}async addSignature(t,n,r){const i=new nn(n),o=this.getMessageToSign(t),s=await this.signRawPayload(o.toString("hex"),n,r??this.organizationId),a=`${s==null?void 0:s.r}${s==null?void 0:s.s}`;t.addSignature(i,Buffer.from(a,"hex"))}async signMessage(t,n,r){const i=await this.signRawPayload(Buffer.from(t).toString("hex"),n,r);return Buffer.from(`${i==null?void 0:i.r}${i==null?void 0:i.s}`,"hex")}async signTransaction(t,n,r){const i=Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("hex"),o=await this.signTransactionImpl(i,n,r),s=Buffer.from(o,"hex");return"version"in t?s9.deserialize(s):Fp.from(s)}async signTransactionImpl(t,n,r){var i,o;if(uT(this.client)){const s=await this.client.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,unsignedTransaction:t,type:"TRANSACTION_TYPE_SOLANA"}}),{activity:a}=s;return dy(a),uy((o=(i=a==null?void 0:a.result)==null?void 0:i.signTransactionResult)==null?void 0:o.signedTransaction)}else{const{activity:s,signedTransaction:a}=await this.client.signTransaction({...r!==void 0&&{organizationId:r},signWith:n,unsignedTransaction:t,type:"TRANSACTION_TYPE_SOLANA"});return dy(s),uy(a)}}async signRawPayload(t,n,r){var i;if(uT(this.client)){const o=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:s}=o;return dy(s),uy((i=s==null?void 0:s.result)==null?void 0:i.signRawPayloadResult)}else{const{activity:o,r:s,s:a,v:l}=await this.client.signRawPayload({...r!==void 0&&{organizationId:r},signWith:n,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return dy(o),uy({r:s,s:a,v:l})}}async signRawPayloads(t,n,r){var i;if(uT(this.client)){const o=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:r??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:n,payloads:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:s}=o;return dy(s),uy((i=s==null?void 0:s.result)==null?void 0:i.signRawPayloadsResult)}else{const{activity:o,signatures:s}=await this.client.signRawPayloads({...r!==void 0&&{organizationId:r},signWith:n,payloads:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return dy(o),uy({signatures:s})}}getMessageToSign(t){let n;return typeof t.serializeMessage=="function"?n=t.serializeMessage():n=Buffer.from(t.message.serialize()),n}}const RNt=(e,t)=>{if(!e)throw new Error("rpcUrl is required");return new ENt(e,t)},TNt=e=>e instanceof FE?Buffer.from(e.serialize()).toString("base64"):Buffer.from(e.serialize({verifySignatures:!1})).toString("base64"),ONt=e=>{const t=Buffer.from(e,"base64");return FE.deserialize(t)},NNt=(e,t,n)=>fr(void 0,void 0,void 0,function*(){const r=TNt(t),i={environmentId:e,solanaTransactionOptimizationRequest:{address:n,transaction:r}},o=yield ao({},Fr()).optimizeTransaction(i);return ONt(o.transaction)});class PNt{constructor({walletConnector:t}){this.isConnected=!0,this.providers=[this],this.walletConnector=t,this.turnkeyAddress=this.walletConnector.turnkeyAddress,this.publicKey=this.turnkeyAddress?new Rn(this.turnkeyAddress):void 0}signMessage(t){return fr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signUint8ArrayMessage(t)}})}signTransaction(t){return fr(this,void 0,void 0,function*(){return this.walletConnector.signTransaction(t)})}signAllTransactions(t){return fr(this,void 0,void 0,function*(){return this.walletConnector.signAllTransactions(t)})}signAndSendTransaction(t,n){return fr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signAndSendTransaction(t,n)}})}connect(t){return fr(this,void 0,void 0,function*(){return{address:this.turnkeyAddress,publicKey:this.publicKey}})}disconnect(){return fr(this,void 0,void 0,function*(){})}}class BNt extends Ui{constructor(t,n){var r;super(t,n),this.ChainWallet=Dpe,this.connectedChain="SOL",this.supportedChains=["SOL"],this.verifiedCredentialChain="solana",this.getEnvId=()=>{const i=localStorage.getItem("dynamic_nonce");if(i){const s=JSON.parse(i);if(s&&s.environmentId)return s.environmentId}const o=localStorage.getItem("dynamic_nonce_demo");if(o){const s=JSON.parse(o);if(s&&s.environmentId)return s.environmentId}throw new Error("Failed to get environment id")},this.solNetworks=jpe(n.solNetworks,n.connectionConfig),this.walletUiUtils=n.walletUiUtils,this._turnkeyAccount=void 0,this.connectionConfig=n.connectionConfig,this.chainRpcProviders=n.chainRpcProviders,(r=this.chainRpcProviders)===null||r===void 0||r.registerSolanaProviders(this.connectionConfig),this.getTurnkeyClient().then(i=>{this.__turnkeyClient=i})}getRpcUrl(){const t=this.getSelectedNetwork();if(!t)throw new Se("No enabled networks");return uE(this.connectionConfig,t)}getConnection(t){const n=this.getRpcUrl();if(!n)throw new Se("No rpcUrl");const r=typeof t=="string"?Object.assign(Object.assign({},this.connectionConfig),{commitment:t}):Object.assign(Object.assign({},this.connectionConfig),t);return RNt(n,r)}getWalletClient(){return this.getConnection()}getNetworkId(){var t;const n=(t=this.solNetworks[0])===null||t===void 0?void 0:t.networkId.toString(),r=localStorage.getItem(n0);return r??n}setNetworkId(t){t?localStorage.setItem(n0,t):localStorage.removeItem(n0)}getSelectedNetwork(){return this.solNetworks.find(n=>n.networkId.toString()===this.getNetworkId())}getNetwork(){return fr(this,arguments,void 0,function*(t=!1){const n=this.getSelectedNetwork();if(!n)return"";const{networkId:r,genesisHash:i}=n;return t?r.toString():i==="5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"?"mainnet":i==="4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"?"testnet":i==="EtWTRABZaYq6iMfeYKouRu166VU2xqa1"?"devnet":r.toString()})}switchNetwork(t){return fr(this,arguments,void 0,function*({networkChainId:n}){if(!n)return;const r=n.toString();this.solNetworks.some(o=>o.networkId.toString()===r)&&(this.setNetworkId(r),this.emit("chainChange",{chain:r}))})}getPublicClient(){return fr(this,void 0,void 0,function*(){var t;const n=this.getSelectedNetwork();if(!n)return;const r=n.networkId.toString(),i={cosmos:[],evm:void 0,solana:this.solNetworks,starknet:void 0};if(!this.chainRpcProviders)return;const o=this.chainRpcProviders.getProviders(i);return(t=this.chainRpcProviders.getSolanaProviderByChainId(o,r))===null||t===void 0?void 0:t.provider})}supportsNetworkSwitching(){return!0}setVerifiedCredentials(t){const n=V4t(t,Gb.SOLANA),[r]=n;JSON.stringify(this.verifiedCredentials)!==JSON.stringify(n)&&(this.verifiedCredential=r,this.verifiedCredentials=n,this.refreshTurnkeyAccount())}validateActiveWallet(t){return fr(this,void 0,void 0,function*(){var n,r;const i=((n=this.verifiedCredential)===null||n===void 0?void 0:n.address)||"";if(!$a(i,t,this.connectedChain)){const s=(r=this.verifiedCredentials)===null||r===void 0?void 0:r.find(a=>(a==null?void 0:a.address)===t);if(!s)throw new Se("Account not found");this.verifiedCredential=s,this.refreshTurnkeyAccount()}})}getAccount(){return this.turnkeyAddress}endSession(){return fr(this,void 0,void 0,function*(){this.setNetworkId(null)})}refreshTurnkeyAccount(){return fr(this,void 0,void 0,function*(){return this._turnkeyAccount=void 0,this.getTurnkeyAccount()})}createTurnkeyAccount(t){return fr(this,arguments,void 0,function*({organizationId:n}){const r=yield this.getTurnkeyClient();return new ANt({client:r,organizationId:n})})}getTurnkeyAccount(){return fr(this,void 0,void 0,function*(){var t,n,r,i;if(this._turnkeyAccount&&(this.getAuthenticatorHandler().recoveryType==="passkey"&&((t=this.__turnkeyClient)===null||t===void 0?void 0:t.stamper)instanceof D0e||this.getAuthenticatorHandler().recoveryType==="email"&&((n=this.__turnkeyClient)===null||n===void 0?void 0:n.stamper)instanceof d$)&&this.__turnkeyClient===this.getAuthenticatorHandler().client)return this._turnkeyAccount;const{turnkeySubOrganizationId:o}=(r=this.walletProperties)!==null&&r!==void 0?r:{},{address:s}=(i=this.verifiedCredential)!==null&&i!==void 0?i:{};if(!(!o||!s))return this._turnkeyAccount=yield this.createTurnkeyAccount({organizationId:o}),this.setLoggerMetadata(),this._turnkeyAccount})}getSigner(){return fr(this,void 0,void 0,function*(){return new PNt({walletConnector:this})})}getBalance(t){return fr(this,void 0,void 0,function*(){const n=this.getConnection(),r=new Rn(t),i=yield n.getBalance(r);return this.lamportsToSol(i).toString()})}signUint8ArrayMessage(t){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("No turnkey account");const n=this.turnkeyAddress;let r;if(yield this.createOrRestoreSession(),yield this.walletUiUtils.signMessage({handler:()=>fr(this,void 0,void 0,function*(){var i;let o=yield this.getTurnkeyAccount();try{r=yield o==null?void 0:o.signMessage(t,n)}catch(s){yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),o=yield this.getTurnkeyAccount(),r=yield o==null?void 0:o.signMessage(t,n),Gi.error("[TK - removeSessionKeys] failed to perform signUint8ArrayMessage activity",{address:n,err:s,turnkeySubOrganizationId:(i=this.walletProperties)===null||i===void 0?void 0:i.turnkeySubOrganizationId})}return Th(r||Buffer.from([]))}),message:new TextDecoder().decode(t)}),!r)throw new Error("Failed to sign message");return r})}signMessage(t){return fr(this,void 0,void 0,function*(){const r=new TextEncoder().encode(t),i=yield this.signUint8ArrayMessage(r);return Th(i)})}internalSignTransaction(t){return fr(this,void 0,void 0,function*(){var n;yield this.createOrRestoreSession();let r=yield this.getTurnkeyAccount();const i=this.turnkeyAddress;if(!r||!i)throw new Error("No turnkey account");try{yield r.addSignature(t,i)}catch(o){if(tne.some(s=>o.message.toLowerCase().includes(s.toLowerCase())))yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),r=yield this.getTurnkeyAccount(),yield r.addSignature(t,i),Gi.error("[TK - removeSessionKeys] failed to perform SignTransaction activity",{address:i,err:o,turnkeySubOrganizationId:(n=this.walletProperties)===null||n===void 0?void 0:n.turnkeySubOrganizationId});else throw Gi.error("[TK] failed to perform SignTransaction activity",o),o}try{t.serialize({requireAllSignatures:!1})}catch(o){Gi.error("[SignTransaction] likely invalid signature, failed to serialize",o)}return t})}signTransaction(t){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("No turnkey account");const n=new Ad({connection:this.getConnection("confirmed"),from:this.turnkeyAddress,multipleTransactions:[t],onSubmit:()=>fr(this,void 0,void 0,function*(){return this.internalSignTransaction(t)})});return this.walletUiUtils.signTransaction(this,n)})}createUiTransaction(t){return fr(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),new Ad({connection:this.getConnection("confirmed"),from:t,onSubmit:r=>fr(this,void 0,void 0,function*(){if(r)return this.internalSignAndSendTransaction(r)})})})}internalSignAllTransactions(t){return fr(this,void 0,void 0,function*(){var n;yield this.createOrRestoreSession();let r=yield this.getTurnkeyAccount();const i=this.turnkeyAddress;let o;if(!r||!i)throw new Error("No turnkey account");try{o=yield r.signAllTransactions(t,i)}catch(s){if(tne.some(a=>s.message.toLowerCase().includes(a.toLowerCase())))yield this.removeSessionKeys(),yield this.createOrRestoreSession({ignoreRestore:!0}),r=yield this.getTurnkeyAccount(),o=yield r.signAllTransactions(t,i),Gi.error("[TK - removeSessionKeys] failed to perform SignAllTransactions activity",{address:i,err:s,turnkeySubOrganizationId:(n=this.walletProperties)===null||n===void 0?void 0:n.turnkeySubOrganizationId});else throw Gi.error("[TK] failed to perform SignAllTransactions activity",s),s}try{o.forEach(s=>{s.serialize({requireAllSignatures:!1})})}catch(s){Gi.error("[SignAllTransactions] likely invalid signature, failed to serialize",s)}return o})}signAllTransactions(t){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("No turnkey account");const n=new Ad({connection:this.getConnection("confirmed"),from:this.turnkeyAddress,multipleTransactions:t,onSubmit:()=>fr(this,void 0,void 0,function*(){return this.internalSignAllTransactions(t)})});return this.walletUiUtils.signTransaction(this,n)})}internalSignAndSendTransaction(t,n){return fr(this,void 0,void 0,function*(){var r,i;if(!this.turnkeyAddress)throw new Se("Solana wallet not found");const o=this.getConnection((i=(r=this.connectionConfig)===null||r===void 0?void 0:r.commitment)!==null&&i!==void 0?i:"confirmed"),s=yield this.internalSignTransaction(t),a=yield o.sendRawTransaction(s.serialize(),n);return new Promise((l,c)=>{const d=setTimeout(()=>{c(new Se("Transaction timed out"))},6e4);o.onSignature(a,u=>{clearTimeout(d),u.err?c(new Se("Transaction failed")):l(a)},"confirmed")})})}signAndSendTransaction(t,n){return fr(this,void 0,void 0,function*(){if(!this.turnkeyAddress)throw new Se("Solana wallet not found");const r=yield this.optimizeTransaction(t),i=new Ad({connection:this.getConnection("confirmed"),from:this.turnkeyAddress,multipleTransactions:[r],onSubmit:()=>fr(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(r,n)})});return this.walletUiUtils.sendTransaction(this,i)})}sendTransaction(t,n){return fr(this,arguments,void 0,function*(r,i,o={}){var s;if(!this.turnkeyAddress)throw new Se("Solana wallet not found");if(!r||!i)throw new Se("Transaction and connection are required");const{signers:a}=o,l=H4t(o,["signers"]),c=yield i.getLatestBlockhash({commitment:o.preflightCommitment,minContextSlot:o.minContextSlot});"version"in r?a!=null&&a.length&&r.sign(a):(r.feePayer=r.feePayer||new Rn(this.turnkeyAddress),r.recentBlockhash=r.recentBlockhash||c.blockhash,a!=null&&a.length&&r.partialSign(...a)),l.preflightCommitment=l.preflightCommitment||i.commitment;const d=yield i.sendRawTransaction(r.serialize(),o),u={blockhash:c.blockhash,lastValidBlockHeight:c.lastValidBlockHeight,signature:d},h=yield i==null?void 0:i.confirmTransaction(u);return!((s=h==null?void 0:h.value)===null||s===void 0)&&s.err?JSON.stringify(h.value.err):d})}lamportsToSol(t){return t/CNt}optimizeTransaction(t){return fr(this,void 0,void 0,function*(){var n;let r=t;try{(yield this.getNetwork(!0))==="101"&&!$pe(t)&&(r=yield NNt(this.getEnvId(),t,(n=this.turnkeyAddress)!==null&&n!==void 0?n:""))}catch(i){Gi.warn("Failed to optimize transaction",i)}return r})}getBlockExplorerUrlsForCurrentNetwork(){return fr(this,void 0,void 0,function*(){const t=this.getSelectedNetwork();return t?t.blockExplorerUrls:[]})}getEnabledNetworks(){return this.solNetworks}}const MNt=e=>{var t;if(!((t=e.apiProviders)===null||t===void 0)&&t.turnkey){const n=class extends BNt{constructor(r){super(K4t.TurnkeyHD,Object.assign(Object.assign({},e),r))}};return Object.defineProperty(n,"key",{value:"turnkeyhd",writable:!1}),[n]}return[]};Oo("@dynamic-labs/embedded-wallet-solana",vRt);var DNt="4.57.1";function Sr(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}var CT,Nne;function jNt(){if(Nne)return CT;Nne=1;var e=mv().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var o=0;o<n.length;o++){var s=n.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var l=n.length,c=n.charAt(0),d=Math.log(l)/Math.log(256),u=Math.log(256)/Math.log(l);function h(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var g=0,b=0,k=0,_=y.length;k!==_&&y[k]===0;)k++,g++;for(var R=(_-k)*u+1>>>0,I=new Uint8Array(R);k!==_;){for(var T=y[k],D=0,M=R-1;(T!==0||D<b)&&M!==-1;M--,D++)T+=256*I[M]>>>0,I[M]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");b=D,k++}for(var C=R-b;C!==R&&I[C]===0;)C++;for(var U=c.repeat(g);C<R;++C)U+=n.charAt(I[C]);return U}function m(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var g=0,b=0,k=0;y[g]===c;)b++,g++;for(var _=(y.length-g)*d+1>>>0,R=new Uint8Array(_);g<y.length;){var I=y.charCodeAt(g);if(I>255)return;var T=r[I];if(T===255)return;for(var D=0,M=_-1;(T!==0||D<k)&&M!==-1;M--,D++)T+=l*R[M]>>>0,R[M]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=D,g++}for(var C=_-k;C!==_&&R[C]===0;)C++;var U=e.allocUnsafe(b+(_-C));U.fill(0,0,b);for(var $=b;C!==_;)U[$++]=R[C++];return U}function v(y){var g=m(y);if(g)return g;throw new Error("Non-base"+l+" character")}return{encode:h,decodeUnsafe:m,decode:v}}return CT=t,CT}var AT,Pne;function $Nt(){if(Pne)return AT;Pne=1;var e=jNt(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return AT=e(t),AT}var LNt=$Nt();const gl=Rr(LNt);var UNt=8078e3,FNt=8078001,WNt=8078004,qNt=8078005,zNt=8078006,VNt=8078011;function Ive(e){return Array.isArray(e)?"%5B"+e.map(Ive).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function KNt([e,t]){return`${e}=${Ive(t)}`}function HNt(e){const t=Object.entries(e).map(KNt).join("&");return btoa(t)}function GNt(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${HNt(t)}'`),`${n}\``}}var d0=class extends Error{constructor(...[t,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=GNt(t,r);super(o,i);ur(this,"cause",this.cause);ur(this,"context");this.context={__code:t,...r},this.name="SolanaError"}};function JNt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function ZNt(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(JNt(t,e));return e.write(t,n,0),n}})}function YNt(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function py(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function XNt(e,t){if(py(e)!==py(t))throw new d0(WNt);if(py(e)&&py(t)&&e.fixedSize!==t.fixedSize)throw new d0(qNt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!py(e)&&!py(t)&&e.maxSize!==t.maxSize)throw new d0(zNt,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function QNt(e,t,n=0){if(t.length-n<=0)throw new d0(UNt,{codecDescription:e})}function ePt(e,t,n,r=0){const i=n.length-r;if(i<t)throw new d0(FNt,{bytesLength:i,codecDescription:e,expected:t})}function tPt(e,t,n,r){if(r<t||r>n)throw new d0(VNt,{codecDescription:e,max:n,min:t,value:r})}function Eve(e){return(e==null?void 0:e.endian)!==1}function nPt(e){return ZNt({fixedSize:e.size,write(t,n,r){e.range&&tPt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Eve(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function rPt(e){return YNt({fixedSize:e.size,read(t,n=0){QNt(e.name,t,n),ePt(e.name,e.size,t,n);const r=new DataView(iPt(t,n,e.size));return[e.get(r,Eve(e.config)),n+e.size]}})}function iPt(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var oPt=(e={})=>nPt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),sPt=(e={})=>rPt({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),aPt=(e={})=>XNt(oPt(e),sPt(e));function Bne(e){try{return af.ExtendedPoint.fromHex(e),!0}catch{return!1}}const lPt=(e,t)=>af.sign(e,t.slice(0,32)),cPt=af.verify,k$=e=>Te.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Te.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Te.Buffer.from(e);class dPt{constructor(t){Object.assign(this,t)}encode(){return Te.Buffer.from(sa.serialize(X2,this))}static decode(t){return sa.deserialize(X2,this,t)}static decodeUnchecked(t){return sa.deserializeUnchecked(X2,this,t)}}const X2=new Map;var Cve;const uPt=32,Bb=32;function fPt(e){return e._bn!==void 0}let Mne=1;class Dn extends dPt{constructor(t){if(super({}),this._bn=void 0,fPt(t))this._bn=t._bn;else{if(typeof t=="string"){const n=gl.decode(t);if(n.length!=Bb)throw new Error("Invalid public key input");this._bn=new Dd(n)}else this._bn=new Dd(t);if(this._bn.byteLength()>Bb)throw new Error("Invalid public key input")}}static unique(){const t=new Dn(Mne);return Mne+=1,new Dn(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return gl.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Te.Buffer);if(t.length===Bb)return t;const n=Te.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=Te.Buffer.concat([t.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),o=Fh(i);return new Dn(o)}static createProgramAddressSync(t,n){let r=Te.Buffer.alloc(0);t.forEach(function(o){if(o.length>uPt)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,k$(o)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Fh(r);if(Bne(i))throw new Error("Invalid seeds, address must fall off the curve");return new Dn(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const o=t.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Dn(t);return Bne(n.toBytes())}}Cve=Dn;Dn.default=new Cve("11111111111111111111111111111111");X2.set(Dn,{kind:"struct",fields:[["_bn","u256"]]});new Dn("BPFLoader1111111111111111111111111111111111");const jB=1232,hPt=127,Ave=64;class Dne{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const yr=(e="publicKey")=>B.blob(32,e),Uy=(e="string")=>{const t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:Te.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>B.u32().span+B.u32().span+Te.Buffer.from(o,"utf8").length,i},pPt=(e="authorized")=>B.struct([yr("staker"),yr("withdrawer")],e),mPt=(e="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),yr("custodian")],e),gPt=(e="voteInit")=>B.struct([yr("nodePubkey"),yr("authorizedVoter"),yr("authorizedWithdrawer"),B.u8("commission")],e),yPt=(e="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),yr("currentAuthorityDerivedKeyOwnerPubkey"),Uy("currentAuthorityDerivedKeySeed"),yr("newAuthorized")],e);function ob(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function sb(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function nl(e,t){if(!e)throw new Error(t||"Assertion failed")}class S${constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new S$(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];nl(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,l])=>l.isSigner&&l.isWritable),r=t.filter(([,l])=>l.isSigner&&!l.isWritable),i=t.filter(([,l])=>!l.isSigner&&l.isWritable),o=t.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{nl(n.length>0,"Expected at least one writable signer key");const[l]=n[0];nl(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Dn(l)),...r.map(([l])=>new Dn(l)),...i.map(([l])=>new Dn(l)),...o.map(([l])=>new Dn(l))];return[s,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Dn(o),l=t.findIndex(c=>c.equals(a));l>=0&&(nl(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const Rve="Reached end of buffer unexpectedly";function c2(e){if(e.length===0)throw new Error(Rve);return e.shift()}function ab(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Rve);return e.splice(...t)}class j1{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Dn(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gl.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Dne(this.staticAccountKeys)}static compile(t){const n=S$.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),s=new Dne(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gl.encode(a.data)}));return new j1({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];sb(n,t);const r=this.instructions.map(u=>{const{accounts:h,programIdIndex:m}=u,v=Array.from(gl.decode(u.data));let y=[];sb(y,h.length);let g=[];return sb(g,v.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(y),keyIndices:h,dataLength:Te.Buffer.from(g),data:v}});let i=[];sb(i,r.length);let o=Te.Buffer.alloc(jB);Te.Buffer.from(i).copy(o);let s=i.length;r.forEach(u=>{const m=B.struct([B.u8("programIdIndex"),B.blob(u.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),u.keyIndices.length,"keyIndices"),B.blob(u.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),u.data.length,"data")]).encode(u,o,s);s+=m}),o=o.slice(0,s);const a=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(n.length,"keyCount"),B.seq(yr("key"),t,"keys"),yr("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(u=>k$(u.toBytes())),recentBlockhash:gl.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(t){let n=[...t];const r=c2(n);if(r!==(r&hPt))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=c2(n),o=c2(n),s=ob(n);let a=[];for(let h=0;h<s;h++){const m=ab(n,0,Bb);a.push(new Dn(Te.Buffer.from(m)))}const l=ab(n,0,Bb),c=ob(n);let d=[];for(let h=0;h<c;h++){const m=c2(n),v=ob(n),y=ab(n,0,v),g=ob(n),b=ab(n,0,g),k=gl.encode(Te.Buffer.from(b));d.push({programIdIndex:m,accounts:y,data:k})}const u={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:gl.encode(Te.Buffer.from(l)),accountKeys:a,instructions:d};return new j1(u)}}const vPt=Te.Buffer.alloc(Ave).fill(0);class jne{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class TI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new jne(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],o=[];n.forEach(y=>{y.keys.forEach(b=>{o.push({...b})});const g=y.programId.toString();i.includes(g)||i.push(g)}),i.forEach(y=>{o.push({pubkey:new Dn(y),isSigner:!1,isWritable:!1})});const s=[];o.forEach(y=>{const g=y.pubkey.toString(),b=s.findIndex(k=>k.pubkey.toString()===g);b>-1?(s[b].isWritable=s[b].isWritable||y.isWritable,s[b].isSigner=s[b].isSigner||y.isSigner):s.push(y)}),s.sort(function(y,g){if(y.isSigner!==g.isSigner)return y.isSigner?-1:1;if(y.isWritable!==g.isWritable)return y.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=s.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=s.splice(a,1);y.isSigner=!0,y.isWritable=!0,s.unshift(y)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const g=s.findIndex(b=>b.pubkey.equals(y.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let l=0,c=0,d=0;const u=[],h=[];s.forEach(({pubkey:y,isSigner:g,isWritable:b})=>{g?(u.push(y.toString()),l+=1,b||(c+=1)):(h.push(y.toString()),b||(d+=1))});const m=u.concat(h),v=n.map(y=>{const{data:g,programId:b}=y;return{programIdIndex:m.indexOf(b.toString()),accounts:y.keys.map(k=>m.indexOf(k.pubkey.toString())),data:gl.encode(g)}});return v.forEach(y=>{nl(y.programIdIndex>=0),y.accounts.forEach(g=>nl(g>=0))}),new j1({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const o=lPt(r,i.secretKey);this._addSignature(i.publicKey,k$(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){nl(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):cPt(i,t,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];sb(r,n.length);const i=r.length+n.length*64+t.length,o=Te.Buffer.alloc(i);return nl(n.length<256),Te.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(nl(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),nl(o.length<=jB,`Transaction too large: ${o.length} > ${jB}`),o}get keys(){return nl(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return nl(this.instructions.length===1),this.instructions[0].programId}get data(){return nl(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=ob(n);let i=[];for(let o=0;o<r;o++){const s=ab(n,0,Ave);i.push(gl.encode(Te.Buffer.from(s)))}return TI.populate(j1.from(n),i)}static populate(t,n=[]){const r=new TI;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==gl.encode(vPt)?null:gl.decode(i),publicKey:t.accountKeys[o]};r.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});r.instructions.push(new jne({keys:o,programId:t.accountKeys[i.programIdIndex],data:gl.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}}new Dn("SysvarC1ock11111111111111111111111111111111");new Dn("SysvarEpochSchedu1e111111111111111111111111");new Dn("Sysvar1nstructions1111111111111111111111111");new Dn("SysvarRecentB1ockHashes11111111111111111111");new Dn("SysvarRent111111111111111111111111111111111");new Dn("SysvarRewards111111111111111111111111111111");new Dn("SysvarS1otHashes111111111111111111111111111");new Dn("SysvarS1otHistory11111111111111111111111111");new Dn("SysvarStakeHistory1111111111111111111111111");const wPt=B.nu64("lamportsPerSignature"),bPt=B.struct([B.u32("version"),B.u32("state"),yr("authorizedPubkey"),yr("nonce"),B.struct([wPt],"feeCalculator")]);bPt.span;function H0(e){const t=B.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,o=aPt();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),yr("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),yr("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),H0("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),yr("base"),Uy("seed"),B.ns64("lamports"),B.ns64("space"),yr("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),yr("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),yr("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),yr("base"),Uy("seed"),B.ns64("space"),yr("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),yr("base"),Uy("seed"),yr("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),H0("lamports"),Uy("seed"),yr("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}});new Dn("11111111111111111111111111111111");new Dn("BPFLoader2111111111111111111111111111111111");B.struct([B.u32("typeIndex"),H0("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(yr(),B.offset(B.u8(),-1),"authority")]);const Yi=yi(ua(Dn),ae(),e=>new Dn(e)),Tve=fa([ae(),it("base64")]),I$=yi(ua(Te.Buffer),Tve,e=>Te.Buffer.from(e[0],"base64"));function Ove(e){return Ot([re({jsonrpc:it("2.0"),id:ae(),result:e}),re({jsonrpc:it("2.0"),id:ae(),error:re({code:Mr(),message:ae(),data:_e(O_())})})])}const _Pt=Ove(Mr());function li(e){return yi(Ove(e),_Pt,t=>"error"in t?t:{...t,result:ke(t.result,e)})}function Qc(e){return li(re({context:re({slot:H()}),value:e}))}function zE(e){return re({context:re({slot:H()}),value:e})}const xPt=re({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});li(pe(me(re({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:_e(me(H()))}))));const kPt=pe(re({slot:H(),prioritizationFee:H()})),SPt=re({total:H(),validator:H(),foundation:H(),epoch:H()}),IPt=re({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:_e(H()),transactionCount:_e(H())}),EPt=re({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:kn(),firstNormalEpoch:H(),firstNormalSlot:H()}),CPt=Jd(ae(),pe(H())),wg=me(Ot([re({}),ae()])),APt=re({err:wg}),RPt=it("receivedSignature");re({"solana-core":ae(),"feature-set":_e(H())});const TPt=re({program:ae(),programId:Yi,parsed:Mr()}),OPt=re({programId:Yi,accounts:pe(Yi),data:ae()});Qc(re({err:me(Ot([re({}),ae()])),logs:me(pe(ae())),accounts:_e(me(pe(me(re({executable:kn(),owner:ae(),lamports:H(),data:pe(ae()),rentEpoch:_e(H())}))))),unitsConsumed:_e(H()),returnData:_e(me(re({programId:ae(),data:fa([ae(),it("base64")])}))),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(Ot([TPt,OPt]))}))))}));Qc(re({byIdentity:Jd(ae(),pe(H())),range:re({firstSlot:H(),lastSlot:H()})}));li(xPt);li(SPt);li(kPt);li(IPt);li(EPt);li(CPt);li(H());Qc(re({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:pe(Yi)}));const NPt=re({amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())});Qc(pe(re({address:Yi,amount:ae(),uiAmount:me(H()),decimals:H(),uiAmountString:_e(ae())})));Qc(pe(re({pubkey:Yi,account:re({executable:kn(),owner:Yi,lamports:H(),data:I$,rentEpoch:H()})})));const $B=re({program:ae(),parsed:Mr(),space:H()});Qc(pe(re({pubkey:Yi,account:re({executable:kn(),owner:Yi,lamports:H(),data:$B,rentEpoch:H()})})));Qc(pe(re({lamports:H(),address:Yi})));const E$=re({executable:kn(),owner:Yi,lamports:H(),data:I$,rentEpoch:H()});re({pubkey:Yi,account:E$});const PPt=yi(Ot([ua(Te.Buffer),$B]),Ot([Tve,$B]),e=>Array.isArray(e)?ke(e,I$):e),BPt=re({executable:kn(),owner:Yi,lamports:H(),data:PPt,rentEpoch:H()});re({pubkey:Yi,account:BPt});re({state:Ot([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:H(),inactive:H()});li(pe(re({signature:ae(),slot:H(),err:wg,memo:me(ae()),blockTime:_e(me(H()))})));li(pe(re({signature:ae(),slot:H(),err:wg,memo:me(ae()),blockTime:_e(me(H()))})));re({subscription:H(),result:zE(E$)});const MPt=re({pubkey:Yi,account:E$});re({subscription:H(),result:zE(MPt)});const DPt=re({parent:H(),slot:H(),root:H()});re({subscription:H(),result:DPt});const jPt=Ot([re({type:Ot([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:H(),timestamp:H()}),re({type:it("createdBank"),parent:H(),slot:H(),timestamp:H()}),re({type:it("frozen"),slot:H(),timestamp:H(),stats:re({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),re({type:it("dead"),slot:H(),timestamp:H(),err:ae()})]);re({subscription:H(),result:jPt});re({subscription:H(),result:zE(Ot([APt,RPt]))});re({subscription:H(),result:H()});re({pubkey:ae(),gossip:me(ae()),tpu:me(ae()),rpc:me(ae()),version:me(ae())});const $ne=re({votePubkey:ae(),nodePubkey:ae(),activatedStake:H(),epochVoteAccount:kn(),epochCredits:pe(fa([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:me(H())});li(re({current:pe($ne),delinquent:pe($ne)}));const $Pt=Ot([it("processed"),it("confirmed"),it("finalized")]),LPt=re({slot:H(),confirmations:me(H()),err:wg,confirmationStatus:_e($Pt)});Qc(pe(me(LPt)));li(H());const Nve=re({accountKey:Yi,writableIndexes:pe(H()),readonlyIndexes:pe(H())}),C$=re({signatures:pe(ae()),message:re({accountKeys:pe(ae()),header:re({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()})),recentBlockhash:ae(),addressTableLookups:_e(pe(Nve))})}),Pve=re({pubkey:Yi,signer:kn(),writable:kn(),source:_e(Ot([it("transaction"),it("lookupTable")]))}),Bve=re({accountKeys:pe(Pve),signatures:pe(ae())}),Mve=re({parsed:Mr(),program:ae(),programId:Yi}),Dve=re({accounts:pe(Yi),data:ae(),programId:Yi}),UPt=Ot([Dve,Mve]),FPt=Ot([re({parsed:Mr(),program:ae(),programId:ae()}),re({accounts:pe(ae()),data:ae(),programId:ae()})]),jve=yi(UPt,FPt,e=>"accounts"in e?ke(e,Dve):ke(e,Mve)),$ve=re({signatures:pe(ae()),message:re({accountKeys:pe(Pve),instructions:pe(jve),recentBlockhash:ae(),addressTableLookups:_e(me(pe(Nve)))})}),OI=re({accountIndex:H(),mint:ae(),owner:_e(ae()),programId:_e(ae()),uiTokenAmount:NPt}),Lve=re({writable:pe(Yi),readonly:pe(Yi)}),VE=re({err:wg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(re({accounts:pe(H()),data:ae(),programIdIndex:H()}))})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(OI))),postTokenBalances:_e(me(pe(OI))),loadedAddresses:_e(Lve),computeUnitsConsumed:_e(H())}),A$=re({err:wg,fee:H(),innerInstructions:_e(me(pe(re({index:H(),instructions:pe(jve)})))),preBalances:pe(H()),postBalances:pe(H()),logMessages:_e(me(pe(ae()))),preTokenBalances:_e(me(pe(OI))),postTokenBalances:_e(me(pe(OI))),loadedAddresses:_e(Lve),computeUnitsConsumed:_e(H())}),Tv=Ot([it(0),it("legacy")]),bg=re({pubkey:ae(),lamports:H(),postBalance:me(H()),rewardType:me(ae()),commission:_e(me(H()))});li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:C$,meta:me(VE),version:_e(Tv)})),rewards:_e(pe(bg)),blockTime:me(H()),blockHeight:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(bg)),blockTime:me(H()),blockHeight:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Bve,meta:me(VE),version:_e(Tv)})),rewards:_e(pe(bg)),blockTime:me(H()),blockHeight:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:$ve,meta:me(A$),version:_e(Tv)})),rewards:_e(pe(bg)),blockTime:me(H()),blockHeight:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:Bve,meta:me(A$),version:_e(Tv)})),rewards:_e(pe(bg)),blockTime:me(H()),blockHeight:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),rewards:_e(pe(bg)),blockTime:me(H()),blockHeight:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),transactions:pe(re({transaction:C$,meta:me(VE)})),rewards:_e(pe(bg)),blockTime:me(H())})));li(me(re({blockhash:ae(),previousBlockhash:ae(),parentSlot:H(),signatures:pe(ae()),blockTime:me(H())})));li(me(re({slot:H(),meta:me(VE),blockTime:_e(me(H())),transaction:C$,version:_e(Tv)})));li(me(re({slot:H(),transaction:$ve,meta:me(A$),blockTime:_e(me(H())),version:_e(Tv)})));Qc(re({blockhash:ae(),lastValidBlockHeight:H()}));Qc(kn());const WPt=re({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});li(pe(WPt));Qc(me(re({feeCalculator:re({lamportsPerSignature:H()})})));li(ae());li(ae());const qPt=re({err:wg,logs:pe(ae()),signature:ae()});re({result:zE(qPt),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),H0("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),H0(),B.seq(yr(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}});new Dn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),H0("microLamports")])}});new Dn("ComputeBudget111111111111111111111111111111");B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]);new Dn("Ed25519SigVerify111111111111111111111111111");og.utils.isValidPrivateKey;og.getPublicKey;B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]);new Dn("KeccakSecp256k11111111111111111111111111111");var Uve;new Dn("StakeConfig11111111111111111111111111111111");class Fve{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}Uve=Fve;Fve.default=new Uve(0,0,Dn.default);Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),pPt(),mPt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),yr("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),yr("newAuthorized"),B.u32("stakeAuthorizationType"),Uy("authoritySeed"),yr("authorityOwner")])}});new Dn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),gPt()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),yr("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),yPt()])}});new Dn("Vote111111111111111111111111111111111111111");new Dn("Va1idator1nfo111111111111111111111111111111");re({name:ae(),website:_e(ae()),details:_e(ae()),iconUrl:_e(ae()),keybaseUsername:_e(ae())});new Dn("Vote111111111111111111111111111111111111111");B.struct([yr("nodePubkey"),yr("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),yr("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([yr("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]);var Wve="4.57.1";function $i(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const cs=[];for(let e=0;e<256;++e)cs.push((e+256).toString(16).slice(1));function zPt(e,t=0){return(cs[e[t+0]]+cs[e[t+1]]+cs[e[t+2]]+cs[e[t+3]]+"-"+cs[e[t+4]]+cs[e[t+5]]+"-"+cs[e[t+6]]+cs[e[t+7]]+"-"+cs[e[t+8]]+cs[e[t+9]]+"-"+cs[e[t+10]]+cs[e[t+11]]+cs[e[t+12]]+cs[e[t+13]]+cs[e[t+14]]+cs[e[t+15]]).toLowerCase()}let RT;const VPt=new Uint8Array(16);function KPt(){if(!RT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");RT=crypto.getRandomValues.bind(crypto)}return RT(VPt)}const HPt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lne={randomUUID:HPt};function GPt(e,t,n){var i;if(Lne.randomUUID&&!e)return Lne.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??KPt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,zPt(r)}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var TT,Une;function JPt(){if(Une)return TT;Une=1,TT=e;function e(r){if(!r)throw new TypeError("argument namespace is required");function i(o){}return i._file=void 0,i._ignored=!0,i._namespace=r,i._traced=!1,i._warned=Object.create(null),i.function=t,i.property=n,i}function t(r,i){if(typeof r!="function")throw new TypeError("argument fn must be a function");return r}function n(r,i,o){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("argument obj must be object");var s=Object.getOwnPropertyDescriptor(r,i);if(!s)throw new TypeError("must call property on owner object");if(!s.configurable)throw new TypeError("property must be configurable")}return TT}var OT,Fne;function ZPt(){if(Fne)return OT;Fne=1,OT=Object.setPrototypeOf||({__proto__:[]}instanceof Array?e:t);function e(n,r){return n.__proto__=r,n}function t(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(n,i)||(n[i]=r[i]);return n}return OT}var d2={exports:{}},Wne;function YPt(){return Wne||(Wne=1,typeof Object.create=="function"?d2.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:d2.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),d2.exports}/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var NT,qne;function XPt(){if(qne)return NT;qne=1,NT=e;function e(t){return t.split(" ").map(function(n){return n.slice(0,1).toUpperCase()+n.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}return NT}var PT={exports:{}};const QPt={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var BT,zne;function e7t(){if(zne)return BT;zne=1;var e=QPt;BT=o,o.message=e,o.code=t(e),o.codes=n(e),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0};function t(s){var a={};return Object.keys(s).forEach(function(c){var d=s[c],u=Number(c);a[d.toLowerCase()]=u}),a}function n(s){return Object.keys(s).map(function(l){return Number(l)})}function r(s){var a=s.toLowerCase();if(!Object.prototype.hasOwnProperty.call(o.code,a))throw new Error('invalid status message: "'+s+'"');return o.code[a]}function i(s){if(!Object.prototype.hasOwnProperty.call(o.message,s))throw new Error("invalid status code: "+s);return o.message[s]}function o(s){if(typeof s=="number")return i(s);if(typeof s!="string")throw new TypeError("code must be a number or string");var a=parseInt(s,10);return isNaN(a)?r(s):i(a)}return BT}/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var Vne;function t7t(){return Vne||(Vne=1,(function(e){var t=JPt()("http-errors"),n=ZPt(),r=e7t(),i=YPt(),o=XPt();e.exports=a,e.exports.HttpError=l(),e.exports.isHttpError=d(e.exports.HttpError),m(e.exports,r.codes,e.exports.HttpError);function s(y){return+(String(y).charAt(0)+"00")}function a(){for(var y,g,b=500,k={},_=0;_<arguments.length;_++){var R=arguments[_],I=typeof R;if(I==="object"&&R instanceof Error)y=R,b=y.status||y.statusCode||b;else if(I==="number"&&_===0)b=R;else if(I==="string")g=R;else if(I==="object")k=R;else throw new TypeError("argument #"+(_+1)+" unsupported type "+I)}typeof b=="number"&&(b<400||b>=600)&&t("non-error status code; use only 4xx or 5xx status codes"),(typeof b!="number"||!r.message[b]&&(b<400||b>=600))&&(b=500);var T=a[b]||a[s(b)];y||(y=T?new T(g):new Error(g||r.message[b]),Error.captureStackTrace(y,a)),(!T||!(y instanceof T)||y.status!==b)&&(y.expose=b<500,y.status=y.statusCode=b);for(var D in k)D!=="status"&&D!=="statusCode"&&(y[D]=k[D]);return y}function l(){function y(){throw new TypeError("cannot construct abstract class")}return i(y,Error),y}function c(y,g,b){var k=v(g);function _(R){var I=R??r.message[b],T=new Error(I);return Error.captureStackTrace(T,_),n(T,_.prototype),Object.defineProperty(T,"message",{enumerable:!0,configurable:!0,value:I,writable:!0}),Object.defineProperty(T,"name",{enumerable:!1,configurable:!0,value:k,writable:!0}),T}return i(_,y),h(_,k),_.prototype.status=b,_.prototype.statusCode=b,_.prototype.expose=!0,_}function d(y){return function(b){return!b||typeof b!="object"?!1:b instanceof y?!0:b instanceof Error&&typeof b.expose=="boolean"&&typeof b.statusCode=="number"&&b.status===b.statusCode}}function u(y,g,b){var k=v(g);function _(R){var I=R??r.message[b],T=new Error(I);return Error.captureStackTrace(T,_),n(T,_.prototype),Object.defineProperty(T,"message",{enumerable:!0,configurable:!0,value:I,writable:!0}),Object.defineProperty(T,"name",{enumerable:!1,configurable:!0,value:k,writable:!0}),T}return i(_,y),h(_,k),_.prototype.status=b,_.prototype.statusCode=b,_.prototype.expose=!1,_}function h(y,g){var b=Object.getOwnPropertyDescriptor(y,"name");b&&b.configurable&&(b.value=g,Object.defineProperty(y,"name",b))}function m(y,g,b){g.forEach(function(_){var R,I=o(r.message[_]);switch(s(_)){case 400:R=c(b,I,_);break;case 500:R=u(b,I,_);break}R&&(y[_]=R,y[I]=R)})}function v(y){return y.substr(-5)!=="Error"?y+"Error":y}})(PT)),PT.exports}t7t();var Au=(function(e){return e.development="development",e.preprod="preprod",e.production="production",e})({}),MT=(function(e){return e.REACH_THRESHOLD="REACH_THRESHOLD",e.REACH_ALL_PARTIES="REACH_ALL_PARTIES",e.SIGN_MESSAGE="SIGN_MESSAGE",e.SIGN_TRANSACTION="SIGN_TRANSACTION",e.REFRESH="REFRESH",e.RESHARE="RESHARE",e.EXPORT_PRIVATE_KEY="EXPORT_PRIVATE_KEY",e.NO_OPERATION="NO_OPERATION",e})({});const n7t={development:"http://localhost:4200",preprod:"https://app.dynamic-preprod.xyz",production:"https://app.dynamicauth.com"},Kne={[Au.development]:/^http:\/\/localhost:\d+$/,[Au.preprod]:/-preprod/,[Au.production]:/^(?!.*dynamic-preprod)(?!http:\/\/localhost:\d+).*/};function r7t(e){return e?Kne[Au.development].test(e)?Au.development:Kne[Au.preprod].test(e)?Au.preprod:Au.production:Au.production}var Q2=(function(e){return e.HEADER="header",e.COOKIE="cookie",e})({}),i7t="4.57.1";const Hne=()=>{const e=new Set;return{emit:t=>e.forEach(n=>n(t)),off:t=>e.delete(t),on:t=>e.add(t)}},Gne=({defaultOrigin:e,messageTransport:t})=>Object.assign(Object.assign({},t),{defaultOrigin:e,emit:n=>{var r;t.emit(Object.assign(Object.assign({},n),{origin:(r=n.origin)!==null&&r!==void 0?r:e}))}});var DT={exports:{}},Jne;function o7t(){return Jne||(Jne=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(DT)),DT.exports}o7t();const s7t=e=>"recoveryManager"in e;function a7t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function l7t(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}let c7t=!1;const qve=()=>c7t,d7t=e=>{if(typeof e!="object"||e===null)return!1;const{message:t,stack:n}=e;return typeof t=="string"&&typeof n=="string"},Sd=new gi("message-transport"),u7t=e=>{const{message:t,name:n,stack:r}=e,i=a7t(e,["message","name","stack"]);let o;if(t)try{const s=JSON.parse(t);if(Array.isArray(s))return s}catch{}switch(n){case"TypeError":o=new TypeError(t);break;case"ReferenceError":o=new ReferenceError(t);break;case"SyntaxError":o=new SyntaxError(t);break;case"RangeError":o=new RangeError(t);break;case"EvalError":o=new EvalError(t);break;case"URIError":o=new URIError(t);break;default:o=new Error(t),o.name=n||"Error"}return r&&(o.stack=[t,r].join(`
`)),Object.assign(o,i),o},f7t=e=>{if(e instanceof Error)return Zne(e);if(Array.isArray(e))return{message:JSON.stringify(e)};if(typeof e=="object"&&e!==null){const t=h7t(e);return Zne(Object.assign({message:t,name:"Error",stack:""},e))}return{message:String(e)}},Zne=e=>Object.assign({message:e.message,name:e.name,stack:e.stack},e),h7t=e=>{try{return JSON.stringify(e)}catch{return String(e)}},Yne=e=>`${e}__resolve`,Xne=e=>`${e}__reject`,zve=e=>`${e}__ack`,Qne=e=>{const t=`No handlers were registered for message of type ${e}`;return Sd.error(t),new Z_e(t)},p7t=5e3,ere=({requestType:e,messageSessionId:t,timeoutMap:n,onReceiveAck:r,messageTransport:i,onTimeout:o,params:s,debugOverride:a,disableAckForOutgoingMessage:l=!1})=>{let c=!1;const d=zve(e),u=()=>a??qve(),h={args:s,doNotAck:l,messageSessionId:t,type:e},m=()=>new Date().toISOString(),v=({messageSessionId:g,type:b,doNotAck:k})=>{g!==t||b!==d||k||(u()&&Sd.debug(`[messageSender ${e} ${m()}]  received ack message (messageSessionId: ${t}). Message timeout ID: ${n[t]}. Content of timeoutMap: ${JSON.stringify(n)}`),clearTimeout(n[t]),delete n[t],r==null||r(),c&&(u()&&Sd.debug(`[messageSender ${e} ${m()}]  identified a false negative for message time out. Message: ${e} with session id ${t}`),Sd.instrument(`Identified a false negative for message time out. Message: ${e} with session id ${t}. Params: ${JSON.stringify(s)}`)))},y=()=>{if(l){i.emit(h);return}const g=()=>{const b=setTimeout(()=>{s7t(i)&&i.recoveryManager.canRetryMessageSessionId(t)?(u()&&Sd.debug(`[messageSender ${e} ${m()}]  timed out, triggering recovery (messageSessionId: ${t})`),i.recoveryManager.triggerRecovery(t),u()&&Sd.debug(`[messageSender ${e} ${m()}]  attempting to send message again (messageSessionId: ${t})`),y()):(o(),c=!0)},p7t);u()&&Sd.debug(`[messageSender ${e} ${m()}]  setting timeout timer (messageSessionId: ${t}). Timeout ID: ${b}. Content of timeoutMap: ${JSON.stringify(n)}`),n[t]=b};if("isBlocked"in i&&i.isBlocked()){i.emit(h,{onEmit:g});return}g(),i.emit(h)};return{handleAckMessage:v,sendMessage:y}},Vve=(e,{debugOverride:t,disableAcknowledgement:n}={})=>{let r=0;const i=Math.random().toString(),o=()=>`${i}-${r++}`,s={},a=()=>t??qve(),l=()=>new Date().toISOString();return{emit:(c,...d)=>new Promise((u,h)=>{const m=o(),{handleAckMessage:v,sendMessage:y}=ere({debugOverride:t,disableAckForOutgoingMessage:n,messageSessionId:m,messageTransport:e,onReceiveAck:()=>{g(),u()},onTimeout:()=>{h(Qne(c)),g()},params:d,requestType:c,timeoutMap:s}),g=()=>e.off(v);n?u():e.on(v),y()}),handle:(c,d)=>{const u=h=>l7t(void 0,[h],void 0,function*({args:m,messageSessionId:v,type:y,doNotAck:g=!1}){if(c!==y)return;g||e.emit({args:[],messageSessionId:v,type:zve(c)});const b=d(...m);if(b instanceof Promise)try{const k=yield b;e.emit({args:[k],messageSessionId:v,type:Yne(c)})}catch(k){e.emit({args:[f7t(k)],messageSessionId:v,type:Xne(c)})}});return e.on(u),()=>{e.off(u)}},request:(c,...d)=>new Promise((u,h)=>{const m=o(),v=Yne(c),y=Xne(c),{handleAckMessage:g,sendMessage:b}=ere({debugOverride:t,disableAckForOutgoingMessage:n,messageSessionId:m,messageTransport:e,onTimeout:()=>{h(Qne(c)),_()},params:d,requestType:c,timeoutMap:s}),k=R=>{if(R.messageSessionId!==m)return;a()&&Sd.debug(`[request ${c} ${l()}]  received response message (messageSessionId: ${m})`);const{args:[I],type:T}=R;if(T===v){_(),u(I),a()&&Sd.debug(`[request ${c} ${l()}]  resolved message (messageSessionId: ${m})`);return}if(T===y){_(),d7t(I)?h(u7t(I)):h(I),a()&&Sd.debug(`[request ${c} ${l()}]  rejected message (messageSessionId: ${m})`);return}g(R)},_=()=>e.off(k);e.on(k),b()})}},m7t=e=>{if(!e||typeof e!="object")return;const t={args:e.args,doNotAck:e.doNotAck,messageSessionId:e.messageSessionId,origin:e.origin,transportStamps:e.transportStamps,type:e.type};if(!(!Array.isArray(t.args)||typeof t.messageSessionId!="string"||typeof t.origin!="string"||typeof t.type!="string"))return t};Oo("@dynamic-labs/message-transport",i7t);function LB(){return LB=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},LB.apply(this,arguments)}class tre{handleIframeMessageResponseError(t){if(typeof t=="object"&&t!==null&&"error"in t)throw new Error(String(t.error))}async getWallets(t){const n=await this.requestChannel.request("getWallets",t);return this.handleIframeMessageResponseError(n),n}async getWallet(t){const n=await this.requestChannel.request("getWallet",t);return this.handleIframeMessageResponseError(n),n}async createWalletAccount(t){const n=await this.requestChannel.request("createWalletAccount",t);return this.handleIframeMessageResponseError(n),n}async requiresPasswordForOperation(t){const n=await this.requestChannel.request("requiresPasswordForOperation",t);return this.handleIframeMessageResponseError(n),n}async signMessage(t){const n=await this.requestChannel.request("signMessage",t);return this.handleIframeMessageResponseError(n),n}async signRawMessage(t){const n=await this.requestChannel.request("signRawMessage",t);return this.handleIframeMessageResponseError(n),n}async signTransaction(t){const n=await this.requestChannel.request("signTransaction",t);return this.handleIframeMessageResponseError(n),n}async isPasswordEncrypted(t){const n=await this.requestChannel.request("isPasswordEncrypted",t);return this.handleIframeMessageResponseError(n),n}async backupKeySharesToGoogleDrive(t){const n=await this.requestChannel.request("backupKeySharesToGoogleDrive",t);this.handleIframeMessageResponseError(n)}async backupKeySharesToICloud(t){const n=await this.requestChannel.request("backupKeySharesToICloud",t);this.handleIframeMessageResponseError(n)}async displayICloudSignIn(t){await this.requestChannel.request("displayICloudSignIn",{chainName:t})}async hideICloudSignIn(){await this.requestChannel.request("hideICloudSignIn")}async isICloudAuthenticated(t){return this.requestChannel.request("isICloudAuthenticated",{chainName:t})}async delegateKeyShares(t){const n=await this.requestChannel.request("delegateKeyShares",t);this.handleIframeMessageResponseError(n)}async revokeDelegation(t){const n=await this.requestChannel.request("revokeDelegation",t);this.handleIframeMessageResponseError(n)}async exportClientKeysharesFromGoogleDrive(t){const n=await this.requestChannel.request("exportClientKeysharesFromGoogleDrive",t);this.handleIframeMessageResponseError(n)}async refreshWalletAccountShares(t){const n=await this.requestChannel.request("refreshWalletAccountShares",t);this.handleIframeMessageResponseError(n)}async reshare(t){const n=await this.requestChannel.request("reshare",t);this.handleIframeMessageResponseError(n)}async exportPrivateKey(t){const n=await this.requestChannel.request("exportPrivateKey",t);this.handleIframeMessageResponseError(n)}async verifyPassword(t){const n=await this.requestChannel.request("verifyPassword",t);this.handleIframeMessageResponseError(n)}async updatePassword(t){const n=await this.requestChannel.request("updatePassword",t);this.handleIframeMessageResponseError(n)}async importPrivateKey(t){const n=await this.requestChannel.request("importPrivateKey",t);return this.handleIframeMessageResponseError(n),n}async sendAuthToken(t,n,r){return this.requestChannel.request("sendAuthToken",t,n,r)}async exportClientKeyshares(t){const n=await this.requestChannel.request("exportClientKeyshares",t);this.handleIframeMessageResponseError(n)}async offlineExportPrivateKey(t){const n=await this.requestChannel.request("offlineExportPrivateKey",t);return this.handleIframeMessageResponseError(n),n}async signTypedData(t){const n=await this.requestChannel.request("signTypedData",t);return this.handleIframeMessageResponseError(n),n}async cleanup(){return this.requestChannel.request("cleanup")}constructor(t){this.requestChannel=Vve(t)}}const g7t=new gi("DynamicWaasWalletClient"),nre=(e,t,n)=>{if(!(t!=null&&t.contentWindow))throw new Error("Iframe or contentWindow not available");const r=new gi("debug");e.on(o=>{if(o.origin==="host"){var s;t==null||(s=t.contentWindow)==null||s.postMessage(o,n)}});const i=o=>{const{data:s}=o;if(s&&(s==null?void 0:s.origin)==="webview"&&typeof s=="object")try{const a=m7t(s);e.emit(a)}catch(a){a instanceof SyntaxError||r.error("Error handling incoming message:",a)}};document.addEventListener("message",i),window.addEventListener("message",i)};class An{async initialize(){await this.doInitializeIframeCommunication()}initializeIframeCommunication(){var t,n;return(n=(t=An).iframeLoadPromise)!=null||(t.iframeLoadPromise=this.doInitializeIframeCommunication()),An.iframeLoadPromise}async doInitializeIframeCommunication(){try{await this.loadIframe()}catch(t){throw this.logger.error("Error initializing iframe:",t),t}}async initializeMessageTransport(){if(this.messageTransport&&this.iframeMessageHandler){this.logger.debug("Skipping initializeMessageTransport: transport and message handler already initialized");return}await this.initializeIframeCommunication();const t=Gne({defaultOrigin:"host",messageTransport:Hne()});if(this.messageTransport=t,!this.iframe)throw new Error("Iframe not available");nre(this.messageTransport,this.iframe,this.iframeDomain),this.iframeMessageHandler=new tre(this.messageTransport),this.secureStorage&&this.setupSecureStorageHandlers(),await this.initAuthToken(),this.secureStorage&&this.iframeMessageHandler&&await this.notifySecureStorageAvailable()}setupSecureStorageHandlers(){this.messageTransport&&(this.iframeRequestChannel=Vve(this.messageTransport),this.iframeRequestChannel.handle("getClientKeyShare",this.handleGetClientKeyShare.bind(this)),this.iframeRequestChannel.handle("setClientKeyShare",this.handleSetClientKeyShare.bind(this)))}async handleGetClientKeyShare(t){if(!this.secureStorage)throw new Error("Secure storage not available");return{keyShares:await this.secureStorage.getClientKeyShare(t.chainName,t.accountAddress)}}async handleSetClientKeyShare(t){if(!this.secureStorage)throw new Error("Secure storage not available");await this.secureStorage.setClientKeyShare(t.chainName,t.accountAddress,t.keyShares)}async notifySecureStorageAvailable(){this.iframeMessageHandler&&await(this.iframeMessageHandler.sendSecureStorageConfig==null?void 0:this.iframeMessageHandler.sendSecureStorageConfig.call(this.iframeMessageHandler))}async initAuthToken(){if(!this.iframeMessageHandler)throw new Error("Iframe message handler not initialized");try{await this.iframeMessageHandler.sendAuthToken(this.authToken,this.authMode)}catch(t){throw new Error("Failed to establish secure token exchange: "+t)}}async resetSharedIframe(){An.sharedIframe=null,An.iframeInstanceCount=0,An.iframeLoadPromise=null,this.iframe=null,this.iframeMessageHandler=null,this.messageTransport=null,An.iframeLoadTimeout=Math.min(An.iframeLoadTimeout*2,6e4)}async loadIframe(){return An.sharedIframe?(this.assignExistingIframe(),Promise.resolve()):An.iframeLoadPromise?An.iframeLoadPromise.then(()=>{this.assignExistingIframe()}):(An.iframeLoadPromise=this.createIframeLoadPromise(),An.iframeLoadPromise)}assignExistingIframe(){this.iframe=An.sharedIframe,An.iframeInstanceCount++}createIframeLoadPromise(){return new Promise((t,n)=>{const r=()=>{An.iframeLoadAttempts++,this.logger.debug(`Loading iframe for waas wallet client... (attempt ${An.iframeLoadAttempts}/${An.maxRetryAttempts+1})`,this.getIframeContext());const i=document.createElement("iframe");let o=null;const s=LB({},this.getIframeContext(),{attempt:An.iframeLoadAttempts}),a=setTimeout(()=>{i.onerror&&i.onerror("Iframe load timeout")},An.iframeLoadTimeout);o=this.createMessageListener(i,a,t),window.addEventListener("message",o),this.configureIframe(i),this.setIframeSource(i),this.logger.debug("Creating iframe with src:",i.src),document.body.appendChild(i),this.setupIframeEventHandlersWithRetry(i,o,a,n,r,s)};r()})}setupIframeEventHandlersWithRetry(t,n,r,i,o,s){t.onload=()=>{this.logger.debug("Iframe onload fired, waiting for ready message...")},t.onerror=a=>{if(n&&window.removeEventListener("message",n),clearTimeout(r),An.iframeLoadAttempts<=An.maxRetryAttempts){const l=a instanceof Error?a.message:"Unknown error occurred.";this.logger.warn(`(loadIframe) Iframe failed to load on attempt ${An.iframeLoadAttempts}, retrying... context: ${JSON.stringify(s)}, error: ${l}`),t.parentNode&&t.parentNode.removeChild(t),setTimeout(()=>{o()},1e3)}else this.logger.error("Iframe failed to load after all retry attempts: ",a),this.resetSharedIframe(),An.iframeLoadAttempts=0,i(new Error(`Failed to load iframe after all retry attempts... context: ${JSON.stringify(s)}`))}}getIframeContext(){var t;return{iframeDomain:this.iframeDomain,environmentId:this.environmentId,sdkVersion:(t=this.sdkVersion)!=null?t:"",instanceId:this.instanceId,chainName:this.chainName,iframeLoadTimeout:An.iframeLoadTimeout}}createMessageListener(t,n,r){const i=o=>{o.source===t.contentWindow&&o.data===`iframe-ready-${this.instanceId}`&&(window.removeEventListener("message",i),clearTimeout(n),An.sharedIframe=t,this.iframe=t,An.iframeInstanceCount++,An.iframeLoadAttempts=0,r(),this.logger.debug("Iframe loaded successfully...",this.getIframeContext()))};return i}configureIframe(t){t.style.display="none",t.setAttribute("title","Dynamic Wallet Iframe"),t.setAttribute("sandbox","allow-scripts allow-same-origin allow-downloads"),t.setAttribute("referrerpolicy","origin"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="0",t.style.height="0",t.style.border="none",t.style.pointerEvents="none"}setIframeSource(t){var n,r,i;const o=new URLSearchParams({instanceId:(n=this.instanceId)!=null?n:"",hostOrigin:window.location.origin,environmentId:this.environmentId,baseApiUrl:this.baseApiUrl,baseMPCRelayApiUrl:this.baseMPCRelayApiUrl,sdkVersion:(r=this.sdkVersion)!=null?r:"",debug:String(this.debug),baseClientKeysharesRelayApiUrl:(i=this.baseClientKeysharesRelayApiUrl)!=null?i:""});t.src=`${this.iframeDomain}/waas-v1/${this.environmentId}?${o.toString()}`}loadIframeForContainer(t){return new Promise((n,r)=>{var i;const o={iframeDomain:this.iframeDomain,environmentId:this.environmentId,sdkVersion:(i=this.sdkVersion)!=null?i:"",instanceId:this.instanceId,chainName:this.chainName,iframeLoadTimeout:An.iframeLoadTimeout};this.logger.debug("Loading iframe for container...",o);const s=document.createElement("iframe");let a=null;const l=setTimeout(()=>{a&&window.removeEventListener("message",a),this.logger.error(`(loadIframeForContainer) Iframe load timeout due to no handshake message from iframe, this could be network issues, incorrect iframe domain, or CORS errors that prevents iframe from being loaded or sending handshake message, context: ${JSON.stringify(o)}`),r(new Error(`(loadIframeForContainer) Iframe load timeout due to no handshake message from iframe, this could be network issues, incorrect iframe domain, or CORS errors that prevents iframe from being loaded or sending handshake message, context: ${JSON.stringify(o)}`))},An.iframeLoadTimeout);s.style.display="block",s.style.width="100%",s.style.height="100%",s.setAttribute("title","Dynamic Wallet Storage"),s.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"),s.setAttribute("referrerpolicy","origin");var c,d,u;const h=new URLSearchParams({instanceId:(c=this.instanceId)!=null?c:"",hostOrigin:window.location.origin,environmentId:this.environmentId,baseApiUrl:this.baseApiUrl,baseMPCRelayApiUrl:this.baseMPCRelayApiUrl,sdkVersion:(d=this.sdkVersion)!=null?d:"",debug:String(this.debug),baseClientKeysharesRelayApiUrl:(u=this.baseClientKeysharesRelayApiUrl)!=null?u:""});s.src=`${this.iframeDomain}/waas-v1/${this.environmentId}?${h.toString()}`,this.logger.debug("Creating iframe with src:",s.src),t.appendChild(s),s.onload=()=>{this.logger.debug("Iframe onload fired, waiting for ready message...")},s.onerror=m=>{a&&window.removeEventListener("message",a),clearTimeout(l),this.logger.error("Iframe failed to load due to errors: ",m),r(new Error("Failed to load iframe due to unknown load errors, this is likely a browser or network issue."))},a=m=>{if(m.source===s.contentWindow&&m.data===`iframe-ready-${this.instanceId}`){a&&window.removeEventListener("message",a),clearTimeout(l),An.sharedIframe=s,this.iframe=s,An.iframeInstanceCount++,n(s);var v;this.logger.debug("Iframe loaded successfully...",{iframeDomain:this.iframeDomain,environmentId:this.environmentId,sdkVersion:(v=this.sdkVersion)!=null?v:"",instanceId:this.instanceId,chainName:this.chainName})}},window.addEventListener("message",a)})}async initializeIframeDisplayForContainer({container:t}){try{const r=await this.loadIframeForContainer(t),i=Gne({defaultOrigin:"host",messageTransport:Hne()});nre(i,r,this.iframeDomain);const o=new tre(i);var n;return await o.sendAuthToken(this.authToken,(n=this.authMode)!=null?n:Q2.HEADER),{iframe:r,iframeDisplay:o,cleanup:()=>{t.removeChild(r)}}}catch(r){throw this.logger.error("Error initializing iframe:",r),r}}async cleanup(){if(await this.initializeMessageTransport(),!this.iframeMessageHandler)throw new Error("Iframe message handler not initialized");await this.iframeMessageHandler.cleanup(),this.iframe&&(An.iframeInstanceCount--,An.sharedIframe&&An.iframeInstanceCount===0&&(document.body.removeChild(An.sharedIframe),An.sharedIframe=null,An.iframeLoadPromise=null),this.iframe=null)}constructor({environmentId:t,baseApiUrl:n,baseMPCRelayApiUrl:r,chainName:i,sdkVersion:o,authMode:s=Q2.HEADER,authToken:a,debug:l,baseClientKeysharesRelayApiUrl:c},d){this.logger=g7t,this.instanceId=null,this.iframeDomain=null,this.messageTransport=null,this.iframeMessageHandler=null,this.iframe=null,this.environmentId=t,this.authToken=a,this.authMode=s,this.baseApiUrl=n,this.baseMPCRelayApiUrl=r,this.chainName=i,this.sdkVersion=o,this.baseClientKeysharesRelayApiUrl=c,d!=null&&d.secureStorage&&(this.secureStorage=d.secureStorage);const u=r7t(n);this.iframeDomain=n7t[u],this.authMode===Q2.COOKIE&&(this.iframeDomain=this.baseApiUrl),this.instanceId=GPt(),this.debug=!!l,this.logger.setLogLevel(this.debug?"DEBUG":"INFO")}}An.iframeLoadPromise=null;An.iframeLoadTimeout=1e4;An.iframeLoadAttempts=0;An.maxRetryAttempts=1;An.sharedIframe=null;An.iframeInstanceCount=0;class y7t extends An{async withHandler(t){if(await this.initializeMessageTransport(),!this.iframeMessageHandler)throw new Error("Iframe message handler not initialized");return t(this.iframeMessageHandler)}async getWallets(){return this.withHandler(t=>t.getWallets({chainName:this.chainName}))}async getWallet({accountAddress:t,walletOperation:n=MT.NO_OPERATION,signedSessionId:r,authToken:i}){return this.withHandler(o=>o.getWallet({chainName:this.chainName,accountAddress:t,walletOperation:n,signedSessionId:r,authToken:i}))}async createWalletAccount({thresholdSignatureScheme:t,password:n=void 0,signedSessionId:r,authToken:i,traceContext:o,bitcoinConfig:s}){return this.withHandler(a=>a.createWalletAccount({chainName:this.chainName,thresholdSignatureScheme:t,password:n,signedSessionId:r,authToken:i,traceContext:o,bitcoinConfig:s}))}async requiresPasswordForOperation({accountAddress:t,walletOperation:n=MT.REACH_THRESHOLD,authToken:r}){return this.withHandler(i=>i.requiresPasswordForOperation({chainName:this.chainName,accountAddress:t,walletOperation:n,authToken:r}))}async isPasswordEncrypted({accountAddress:t,authToken:n}){return this.withHandler(r=>r.isPasswordEncrypted({chainName:this.chainName,accountAddress:t,authToken:n}))}async signMessage({message:t,accountAddress:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,context:a,traceContext:l,bitcoinConfig:c}){const d=JSON.stringify(a,(u,h)=>typeof h=="bigint"?h.toString():h);return this.withHandler(u=>u.signMessage({chainName:this.chainName,message:t,accountAddress:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,context:d,traceContext:l,bitcoinConfig:c}))}async signRawMessage({message:t,accountAddress:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,context:a,traceContext:l,bitcoinConfig:c}){return this.withHandler(d=>d.signRawMessage({chainName:this.chainName,message:t,accountAddress:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,context:a,traceContext:l,bitcoinConfig:c}))}async signTransaction({senderAddress:t,transaction:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,chainId:a,traceContext:l,bitcoinConfig:c}){return this.withHandler(d=>d.signTransaction({chainName:this.chainName,senderAddress:t,transaction:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,chainId:a,traceContext:l,bitcoinConfig:c}))}async signTypedData({accountAddress:t,typedData:n,password:r=void 0,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a}){return this.withHandler(l=>l.signTypedData({chainName:this.chainName,accountAddress:t,typedData:JSON.stringify(n),password:r,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a}))}async backupKeySharesToGoogleDrive({accountAddress:t,password:n=void 0,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.backupKeySharesToGoogleDrive({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async backupKeySharesToICloud({accountAddress:t,password:n=void 0,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.backupKeySharesToICloud({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async displayICloudSignIn({displayContainer:t}){const{iframeDisplay:n}=await this.initializeIframeDisplayForContainer({container:t});if(!n)throw new Error("Failed to initialize iframe handler with display functionality");return n.displayICloudSignIn(this.chainName)}async hideICloudSignIn(){return this.withHandler(t=>t.hideICloudSignIn())}async isICloudAuthenticated(){return this.withHandler(t=>t.isICloudAuthenticated(this.chainName))}async delegateKeyShares({accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}){return this.withHandler(a=>a.delegateKeyShares({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}))}async revokeDelegation({accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}){return this.withHandler(a=>a.revokeDelegation({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}))}async exportClientKeysharesFromGoogleDrive({accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.exportClientKeysharesFromGoogleDrive({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async refreshWalletAccountShares({accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}){return this.withHandler(a=>a.refreshWalletAccountShares({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,mfaToken:o,traceContext:s}))}async reshare({accountAddress:t,oldThresholdSignatureScheme:n,newThresholdSignatureScheme:r,password:i,signedSessionId:o,authToken:s,mfaToken:a,traceContext:l}){return this.withHandler(c=>c.reshare({chainName:this.chainName,accountAddress:t,oldThresholdSignatureScheme:n,newThresholdSignatureScheme:r,password:i,signedSessionId:o,authToken:s,mfaToken:a,traceContext:l}))}async exportPrivateKey({accountAddress:t,displayContainer:n,password:r,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a,bitcoinConfig:l}){const{iframeDisplay:c}=await this.initializeIframeDisplayForContainer({container:n});if(!c)throw new Error("Failed to initialize iframe handler with display functionality");return c.exportPrivateKey({chainName:this.chainName,accountAddress:t,password:r,signedSessionId:i,authToken:o,mfaToken:s,traceContext:a,bitcoinConfig:l})}async verifyPassword({accountAddress:t,password:n,walletOperation:r=MT.NO_OPERATION,signedSessionId:i,authToken:o,traceContext:s}){return this.withHandler(a=>a.verifyPassword({chainName:this.chainName,accountAddress:t,password:n,walletOperation:r,signedSessionId:i,authToken:o,traceContext:s}))}async updatePassword({accountAddress:t,existingPassword:n,newPassword:r,signedSessionId:i,authToken:o,traceContext:s}){return this.withHandler(a=>a.updatePassword({chainName:this.chainName,accountAddress:t,existingPassword:n,newPassword:r,signedSessionId:i,authToken:o,traceContext:s}))}async importPrivateKey({privateKey:t,thresholdSignatureScheme:n,signedSessionId:r,authToken:i,publicAddressCheck:o,addressType:s,traceContext:a,legacyWalletId:l}){return this.withHandler(c=>c.importPrivateKey({chainName:this.chainName,privateKey:t,thresholdSignatureScheme:n,signedSessionId:r,authToken:i,publicAddressCheck:o,addressType:s,traceContext:a,legacyWalletId:l}))}async exportClientKeyshares({accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}){return this.withHandler(s=>s.exportClientKeyshares({chainName:this.chainName,accountAddress:t,password:n,signedSessionId:r,authToken:i,traceContext:o}))}async offlineExportPrivateKey({keyShares:t,derivationPath:n,traceContext:r}){const i={chainName:this.chainName,keyShares:t,derivationPath:n},o=JSON.stringify(i),s=new TextEncoder().encode(o),a=Buffer.from(s).toString("base64");return this.withHandler(l=>l.offlineExportPrivateKey({chainName:this.chainName,base64Args:a,traceContext:r}))}constructor({environmentId:t,authToken:n,baseApiUrl:r,baseMPCRelayApiUrl:i,baseClientKeysharesRelayApiUrl:o,chainName:s,sdkVersion:a,debug:l,authMode:c=Q2.HEADER},d){super({environmentId:t,authToken:n,baseApiUrl:r,baseMPCRelayApiUrl:i,baseClientKeysharesRelayApiUrl:o,chainName:s,sdkVersion:a,debug:l,authMode:c},d)}}const v7t="https://app.dynamicauth.com",w7t="https://relay.dynamicauth.com";class b7t{constructor(t){this.startTime=t||Date.now(),this.stepStartTime=this.startTime}getElapsed(){return Date.now()-this.startTime}startStep(){this.stepStartTime=Date.now()}getStepElapsed(){return Date.now()-this.stepStartTime}resetStep(){this.startStep()}setStartTime(t){this.startTime=t}setStepStartTime(t){this.stepStartTime=t}}class _7t{constructor(){this.iframeStamper=null}setIframeStamper(t){this.iframeStamper=t}clear(){this.iframeStamper&&(this.iframeStamper.remove(),this.iframeStamper=null)}}const x7t=e=>{class t extends e{setGetAuthTokenFunction(r){this.getAuthToken=r}setWaasAuthMode(r){this.authMode=r}setGetMfaTokenFunction(r){this.getMfaToken=r}setEnvironmentId(r){this.environmentId=r}setBaseApiUrl(r){this.baseApiUrl=r}setBaseClientKeysharesRelayApiUrl(r){this.baseClientKeysharesRelayApiUrl=r}setRelayUrl(r){this.relayUrl=r}setGetSignedSessionIdFunction(r){this.getSignedSessionId=r}delegateKeyShares(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Error("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Error("Signed session ID is required");const d=(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this);if(!d)throw new Error("Auth token is required");return l.delegateKeyShares({accountAddress:i,authToken:d,password:o,signedSessionId:c})})}constructor(...r){super(...r),this.name="Dynamic Waas",this.overrideKey="dynamicwaas",this.isEmbeddedWallet=!0,this.authMode="header",this.__exportHandler=new _7t;const{connectedChain:i}=this,s={BTC:"BTC",EVM:"EVM",SOL:"SVM",SUI:"SUI",TON:"TON"}[i];if(!s)throw new Se(`Unsupported chain: ${i}`);this.chainName=s}createDynamicWaasClient(r){return $i(this,void 0,void 0,function*(){var i;const o=(i=this.getAuthToken)===null||i===void 0?void 0:i.call(this);if(!o&&this.authMode==="header")throw new Se("Auth token is required in non-cookie auth mode");if(!this.environmentId)throw new Se("Environment ID is required");const s=new y7t({authMode:this.authMode||"header",authToken:o||"",baseApiUrl:this.baseApiUrl||v7t,baseClientKeysharesRelayApiUrl:this.baseClientKeysharesRelayApiUrl,baseMPCRelayApiUrl:this.relayUrl||w7t,chainName:this.chainName,environmentId:this.environmentId,sdkVersion:Wve});return this.instrumentAsync({context:r,fn:()=>$i(this,void 0,void 0,function*(){return s.initialize()}),operation:"createDynamicWaasClient",resource:"initialize"}),s})}getWaasWalletClient(r){return $i(this,void 0,void 0,function*(){return this.dynamicWaasClient||(this.dynamicWaasClient=yield this.createDynamicWaasClient(r)),this.dynamicWaasClient})}createWalletAccount(){return $i(this,arguments,void 0,function*({thresholdSignatureScheme:r="TWO_OF_TWO",password:i,bitcoinConfig:o}={}){var s,a;const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return yield l.createWalletAccount({authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),bitcoinConfig:o,password:i,signedSessionId:c,thresholdSignatureScheme:r})})}importPrivateKey(r){return $i(this,arguments,void 0,function*({privateKey:i,thresholdSignatureScheme:o="TWO_OF_TWO",publicAddressCheck:s,addressType:a,legacyWalletId:l}){var c,d;const u=yield this.getWaasWalletClient(),h=yield(c=this.getSignedSessionId)===null||c===void 0?void 0:c.call(this);if(!h)throw new Se("Signed session ID is required");yield u.importPrivateKey({addressType:a,authToken:(d=this.getAuthToken)===null||d===void 0?void 0:d.call(this),legacyWalletId:l,privateKey:i,publicAddressCheck:s,signedSessionId:h,thresholdSignatureScheme:o})})}exportPrivateKey(){return $i(this,arguments,void 0,function*({accountAddress:r,displayContainer:i,password:o}={}){var s,a,l;const c=yield this.getWaasWalletClient(),d=r||(yield this.getActiveAccountAddress());if(!d)throw new Se("Account address is required");if(!i)throw new Se("Missing display container for export private key");const u=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!u)throw new Se("Signed session ID is required");this.__exportHandler.setIframeStamper(i);const h=yield(a=this.getMfaToken)===null||a===void 0?void 0:a.call(this,{mfaAction:bh.WalletWaasExport});yield c.exportPrivateKey({accountAddress:d,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),displayContainer:i,mfaToken:h,password:o,signedSessionId:u})})}getExportHandler(){return this.__exportHandler}exportClientKeyshares(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!l)throw new Se("Signed session ID is required");yield(yield this.getWaasWalletClient()).exportClientKeyshares({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:l})})}backupKeySharesToGoogleDrive(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.backupKeySharesToGoogleDrive({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}exportClientKeysharesFromGoogleDrive(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.exportClientKeysharesFromGoogleDrive({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}backupKeySharesToICloud(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.backupKeySharesToICloud({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}displayICloudSignIn(r){return $i(this,arguments,void 0,function*({displayContainer:i}){return(yield this.getWaasWalletClient()).displayICloudSignIn({displayContainer:i})})}hideICloudSignIn(){return $i(this,void 0,void 0,function*(){return(yield this.getWaasWalletClient()).hideICloudSignIn()})}isICloudAuthenticated(){return $i(this,void 0,void 0,function*(){return(yield this.getWaasWalletClient()).isICloudAuthenticated()})}refreshWalletAccountShares(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a,l;if(!i)throw new Se("Account address is required");const c=yield this.getWaasWalletClient(),d=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!d)throw new Se("Signed session ID is required");const u=yield(a=this.getMfaToken)===null||a===void 0?void 0:a.call(this,{mfaAction:bh.WalletWaasRefresh});return c.refreshWalletAccountShares({accountAddress:i,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),mfaToken:u,password:o,signedSessionId:d})})}reshareWalletAccountShares(r){return $i(this,arguments,void 0,function*({accountAddress:i,thresholdSignatureScheme:o,password:s}){var a,l;if(!i)throw new Se("Account address is required");const c=yield this.getWaasWalletClient(),d=yield(a=this.getSignedSessionId)===null||a===void 0?void 0:a.call(this);if(!d)throw new Se("Signed session ID is required");const h=(yield c.getWallets()).find(v=>v.accountAddress===i);if(!h)throw new Se("Wallet not found");const m=h.thresholdSignatureScheme;return c.reshare({accountAddress:i,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),newThresholdSignatureScheme:o,oldThresholdSignatureScheme:m,password:s,signedSessionId:d})})}revokeDelegation(r){return $i(this,arguments,void 0,function*({accountAddress:i,password:o}){var s,a;if(!i)throw new Se("Account address is required");const l=yield this.getWaasWalletClient(),c=yield(s=this.getSignedSessionId)===null||s===void 0?void 0:s.call(this);if(!c)throw new Se("Signed session ID is required");return l.revokeDelegation({accountAddress:i,authToken:(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this),password:o,signedSessionId:c})})}updatePassword(r){return $i(this,arguments,void 0,function*({accountAddress:i,existingPassword:o,newPassword:s}){var a,l;if(!i)throw new Se("Account address is required");const c=yield this.getWaasWalletClient(),d=yield(a=this.getSignedSessionId)===null||a===void 0?void 0:a.call(this);if(!d)throw new Se("Signed session ID is required");return c.updatePassword({accountAddress:i,authToken:(l=this.getAuthToken)===null||l===void 0?void 0:l.call(this),existingPassword:o,newPassword:s,signedSessionId:d})})}signRawMessage(r){return $i(this,arguments,void 0,function*({accountAddress:i,message:o,password:s}){var a,l,c;if(!i)throw new Se("Account address is required");if(o.length!==64)throw new Se("Message must be 64 characters long");const d=yield this.getWaasWalletClient(),u=yield(a=this.getSignedSessionId)===null||a===void 0?void 0:a.call(this);if(!u)throw new Se("Signed session ID is required");const h=yield(l=this.getMfaToken)===null||l===void 0?void 0:l.call(this,{mfaAction:bh.WalletWaasSign});return d.signRawMessage({accountAddress:i,authToken:(c=this.getAuthToken)===null||c===void 0?void 0:c.call(this),message:o,mfaToken:h,password:s,signedSessionId:u})})}endSession(){return $i(this,void 0,void 0,function*(){const r=yield this.getWaasWalletClient();r&&(yield r.cleanup(),this.dynamicWaasClient=void 0)})}getConnectedAccounts(){return $i(this,void 0,void 0,function*(){try{return(yield(yield this.getWaasWalletClient()).getWallets()).map(s=>s==null?void 0:s.accountAddress).filter(s=>typeof s=="string")}catch(r){return this.logger.debug("[getConnectedAccounts] Failed to fetch wallets from Waas client",{error:r}),[]}})}generateTraceId(){const r=new Uint8Array(16);return crypto.getRandomValues(r),Array.from(r).map(i=>i.toString(16).padStart(2,"0")).join("")}instrument(r,i){const o={accountAddress:i.accountAddress||this.activeAccountAddress,environmentId:i.environmentId||this.environmentId,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,traceId:i.traceId||this.generateTraceId()};this.logger.debug(r,Object.assign(Object.assign({},o),i)),this.logger.instrument(r,Object.assign(Object.assign({},o),i))}instrumentAsync(r){return $i(this,arguments,void 0,function*({operation:i,resource:o,fn:s,context:a}){const l=new b7t(a==null?void 0:a.startTime);a!=null&&a.stepStartTime?l.setStepStartTime(a.stepStartTime):l.startStep(),this.instrument(`[${i}] ${o} - start`,Object.assign({key:`${o}-start`,operation:i,stepTime:l.getStepElapsed(),time:l.getElapsed()},a));try{const c=yield s(l);return this.instrument(`[${i}] ${o} - completed`,Object.assign({key:`${o}-completed`,operation:i,stepTime:l.getStepElapsed(),time:l.getElapsed()},a)),c}catch(c){throw this.instrument(`[${i}] ${o} - failed`,Object.assign(Object.assign({key:`${o}-failed`,operation:i,stepTime:l.getStepElapsed(),time:l.getElapsed()},a),{error:c})),c}})}}return t};Oo("@dynamic-labs/waas",Wve);const jT=new gi("@dynamic-labs/waas-svm");var $T,rre;function k7t(){if(rre)return $T;rre=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var y=0,g=0,b=0,k=v.length;b!==k&&v[b]===0;)b++,y++;for(var _=(k-b)*d+1>>>0,R=new Uint8Array(_);b!==k;){for(var I=v[b],T=0,D=_-1;(I!==0||T<g)&&D!==-1;D--,T++)I+=256*R[D]>>>0,R[D]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");g=T,b++}for(var M=_-g;M!==_&&R[M]===0;)M++;for(var C=l.repeat(y);M<_;++M)C+=t.charAt(R[M]);return C}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var y=0,g=0,b=0;v[y]===l;)g++,y++;for(var k=(v.length-y)*c+1>>>0,_=new Uint8Array(k);v[y];){var R=v.charCodeAt(y);if(R>255)return;var I=n[R];if(I===255)return;for(var T=0,D=k-1;(I!==0||T<b)&&D!==-1;D--,T++)I+=a*_[D]>>>0,_[D]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=T,y++}for(var M=k-b;M!==k&&_[M]===0;)M++;for(var C=new Uint8Array(g+(k-M)),U=g;M!==k;)C[U++]=_[M++];return C}function m(v){var y=h(v);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:m}}return $T=e,$T}var LT,ire;function S7t(){return ire||(ire=1,LT=k7t()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),LT}var I7t=S7t();const E7t=Rr(I7t);var UT={exports:{}},ore;function C7t(){return ore||(ore=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,u||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)t.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,m=u.length,v=new Array(m);h<m;h++)v[h]=u[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,h,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,k,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,h),!0;case 5:return g.fn.call(g.context,d,u,h,m),!0;case 6:return g.fn.call(g.context,d,u,h,m,v),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];g.fn.apply(g.context,k)}else{var R=g.length,I;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,h);break;default:if(!k)for(I=1,k=new Array(b-1);I<b;I++)k[I-1]=arguments[I];g[_].fn.apply(g[_].context,k)}}return!0},a.prototype.on=function(c,d,u){return o(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return o(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!u||v.context===u)&&s(this,m);else{for(var y=0,g=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||u&&v[y].context!==u)&&g.push(v[y]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(UT)),UT.exports}var A7t=C7t();const R7t=Rr(A7t);class T7t extends R7t{constructor({walletConnector:t}){super(),this.isConnected=!0,this.providers=[this],this.isBraveWallet=!1,this.isGlow=!1,this.isPhantom=!1,this.isSolflare=!1,this.isExodus=!1,this.isBackpack=!1,this.isMagicEden=!1,this.walletConnector=t,this.accountAddress=this.walletConnector.activeAccountAddress,this.publicKey=this.accountAddress?new Dn(this.accountAddress):void 0}signMessage(t){return Sr(this,void 0,void 0,function*(){const n=Buffer.from(t).toString(),r=yield this.walletConnector.signMessage(n);return{signature:E7t.decode(r)}})}signTransaction(t){return Sr(this,void 0,void 0,function*(){return this.walletConnector.signTransaction(t)})}signAllTransactions(t){return Sr(this,void 0,void 0,function*(){return this.walletConnector.signAllTransactions(t)})}signAndSendTransaction(t,n){return Sr(this,void 0,void 0,function*(){return{signature:yield this.walletConnector.signAndSendTransaction(t,n)}})}connect(t){return Sr(this,void 0,void 0,function*(){return{address:this.accountAddress,publicKey:this.publicKey}})}disconnect(){return Sr(this,void 0,void 0,function*(){})}}class Kve extends x7t(P_){connect(){throw new Error("Method not implemented.")}constructor(t){super(t),this.name="Dynamic Waas",this.overrideKey="dynamicwaas",this.isEmbeddedWallet=!0,this.logger=jT,this.walletUiUtils=t.walletUiUtils}setEnvironmentId(t){super.setEnvironmentId(t),gi.setEnvironmentId(t)}setActiveAccountAddress(t){this.activeAccountAddress=t}getActiveAccountAddress(){return Sr(this,void 0,void 0,function*(){return this.activeAccountAddress})}validateActiveWallet(t){return Sr(this,void 0,void 0,function*(){var n,r;const i=yield this.getWaasWalletClient(),o=yield(n=this.getSignedSessionId)===null||n===void 0?void 0:n.call(this);if(!o)throw new Se("Signed session ID is required");const s=yield i.getWallet({accountAddress:t,authToken:(r=this.getAuthToken)===null||r===void 0?void 0:r.call(this),signedSessionId:o});if(!s)throw new Se("Account not found");$a(s.accountAddress,this.activeAccountAddress||"",this.connectedChain)||(this.activeAccountAddress=s.accountAddress)})}internalSignMessage(t){return Sr(this,arguments,void 0,function*(n,{parentTraceId:r,startTime:i}={}){var o,s,a;const l=r||this.generateTraceId(),c=i||Date.now(),d=yield this.instrumentAsync({context:{chainName:"SVM",startTime:c,traceId:l},fn:()=>Sr(this,void 0,void 0,function*(){return this.getWaasWalletClient()}),operation:"internalSignMessage",resource:"getWaasWalletClient"});if(!this.activeAccountAddress)throw new Error("Active account address is required");const u=yield(o=this.getSignedSessionId)===null||o===void 0?void 0:o.call(this);if(!u)throw new Se("Signed session ID is required");const h=yield(s=this.getMfaToken)===null||s===void 0?void 0:s.call(this,{mfaAction:bh.WalletWaasSign}),m=this.activeAccountAddress,v=(a=this.getAuthToken)===null||a===void 0?void 0:a.call(this);return yield this.instrumentAsync({context:{chainName:"SVM",startTime:c,traceId:l},fn:()=>Sr(this,void 0,void 0,function*(){return d.signMessage({accountAddress:m,authToken:v,message:n,mfaToken:h,signedSessionId:u,traceContext:{startTime:c,traceId:l}})}),operation:"internalSignMessage",resource:"walletClient.signMessage"})})}signMessage(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=this.generateTraceId(),r=Date.now();this.instrument("[signMessage] start",{key:"signMessage-start",startTime:r,time:0,traceId:n});const i=yield this.walletUiUtils.signMessage({handler:()=>Sr(this,void 0,void 0,function*(){return this.internalSignMessage(t,{parentTraceId:n,startTime:r})}),message:t,walletConnector:this});return this.instrument("[signMessage] completed",{key:"signMessage-completed",startTime:r,time:Date.now()-r,traceId:n}),i})}internalSignTransaction(t){return Sr(this,arguments,void 0,function*(n,{parentTraceId:r,startTime:i}={}){var o,s;const a=r||this.generateTraceId(),l=i||Date.now(),c=yield this.instrumentAsync({context:{chainName:"SVM",startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){return this.getWaasWalletClient()}),operation:"internalSignTransaction",resource:"getWaasWalletClient"}),d=yield(o=this.getSignedSessionId)===null||o===void 0?void 0:o.call(this);if(!d)throw new Se("Signed session ID is required");if(!this.activeAccountAddress)throw new Error("Active account address is required");const u=yield(s=this.getMfaToken)===null||s===void 0?void 0:s.call(this,{mfaAction:bh.WalletWaasSign}),h=n instanceof TI?n.serializeMessage():n.message.serialize(),m=Buffer.from(h).toString("hex"),v=yield this.getNetwork(!0),y=this.activeAccountAddress,g=yield this.instrumentAsync({context:{chainName:"SVM",startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){var b;return c.signTransaction({authToken:(b=this.getAuthToken)===null||b===void 0?void 0:b.call(this),chainId:v,mfaToken:u,senderAddress:y,signedSessionId:d,traceContext:{startTime:l,traceId:a},transaction:m})}),operation:"internalSignTransaction",resource:"signTransaction"});n.addSignature(new Dn(this.activeAccountAddress),Buffer.from(g,"hex"));try{n.serialize({requireAllSignatures:!1,verifySignatures:!0})}catch(b){jT.warn("[internalSignTransaction] Error signing transaction",b)}return n})}signTransaction(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=this.generateTraceId(),r=Date.now();this.instrument("[signTransaction] start",{key:"signTransaction-start",startTime:r,time:0,traceId:n});const i=new Ad({connection:this.getWalletClient(),from:this.activeAccountAddress,multipleTransactions:[t],onSubmit:()=>Sr(this,void 0,void 0,function*(){return this.internalSignTransaction(t,{parentTraceId:n,startTime:r})})}),o=yield this.walletUiUtils.signTransaction(this,i);return this.instrument("[signTransaction] completed",{key:"signTransaction-completed",startTime:r,time:Date.now()-r,traceId:n}),o})}internalSignAllTransactions(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=[];for(const r of t){const i=yield this.internalSignTransaction(r);n.push(i)}return n})}signAllTransactions(t){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const n=this.generateTraceId(),r=Date.now();this.instrument("[signAllTransactions] start",{key:"signAllTransactions-start",startTime:r,time:0,traceId:n});const i=new Ad({connection:this.getWalletClient(),from:this.activeAccountAddress,multipleTransactions:t,onSubmit:()=>Sr(this,void 0,void 0,function*(){return this.internalSignAllTransactions(t)})}),o=yield this.walletUiUtils.signTransaction(this,i);return this.instrument("[signAllTransactions] completed",{key:"signAllTransactions-completed",startTime:r,time:Date.now()-r,traceId:n}),o})}internalSignAndSendTransaction(t,n){return Sr(this,arguments,void 0,function*(r,i,{parentTraceId:o,startTime:s}={}){const a=o||this.generateTraceId(),l=s||Date.now();if(!this.activeAccountAddress)throw new Error("Active account address is required");const c=this.getWalletClient(),d=yield this.instrumentAsync({context:{chainName:"SVM",startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){return this.internalSignTransaction(r,{parentTraceId:a,startTime:l})}),operation:"internalSignAndSendTransaction",resource:"internalSignTransaction"}),u=yield this.instrumentAsync({context:{chainName:"SVM",rpcUrl:c.rpcEndpoint,startTime:l,traceId:a},fn:()=>Sr(this,void 0,void 0,function*(){return c.sendRawTransaction(d.serialize({requireAllSignatures:!1,verifySignatures:!0}),i)}),operation:"internalSignAndSendTransaction",resource:"sendRawTransaction"}),h=Date.now();return new Promise((m,v)=>{var y;const g=setTimeout(()=>{const b=Date.now()-h;this.instrument(`[internalSignAndSendTransaction] Transaction timed out - total: ${b}ms`,{key:"internalSignAndSendTransaction-transactionTimedOut",rpcUrl:c.rpcEndpoint,time:b,traceId:a}),v(new Error("Transaction timed out"))},6e4);c.onSignature(u,b=>{clearTimeout(g);const k=Date.now(),_=k-h,R=k-l;b.err?(jT.error(`[internalSignAndSendTransaction] Transaction failed - total: ${R}ms, step: ${_}ms`,{accountAddress:this.activeAccountAddress,error:b.err,key:"internalSignAndSendTransaction-transactionFailed",rpcUrl:c.rpcEndpoint,stepTime:_,time:R,traceId:a}),v(new Error(`Transaction failed: ${b.err}`))):(this.instrument(`[internalSignAndSendTransaction] Transaction confirmed - total: ${R}ms, step: ${_}ms`,{key:"internalSignAndSendTransaction-transactionSuccess",rpcUrl:c.rpcEndpoint,stepTime:_,time:R,traceId:a}),m(u))},(y=i==null?void 0:i.preflightCommitment)!==null&&y!==void 0?y:"confirmed")})})}signAndSendTransaction(t,n){return Sr(this,void 0,void 0,function*(){if(!this.activeAccountAddress)throw new Error("Active account address is required");const r=this.generateTraceId(),i=Date.now();this.instrument("[signAndSendTransaction] start",{key:"signAndSendTransaction-start",options:n,startTime:i,time:0,traceId:r});const o=new Ad({connection:this.getWalletClient(),from:this.activeAccountAddress,multipleTransactions:[t],onSubmit:()=>Sr(this,void 0,void 0,function*(){return this.internalSignAndSendTransaction(t,n,{parentTraceId:r,startTime:i})})}),s=yield this.walletUiUtils.sendTransaction(this,o);return this.instrument("[signAndSendTransaction] completed",{key:"signAndSendTransaction-completed",startTime:i,time:Date.now()-i,traceId:r}),s})}getSigner(){return Sr(this,void 0,void 0,function*(){return new T7t({walletConnector:this})})}getWalletClientByAddress({accountAddress:t}){return this.setActiveAccountAddress(t),this.getWalletClient()}exportClientKeyshares(t){const n=Object.create(null,{exportClientKeyshares:{get:()=>super.exportClientKeyshares}});return Sr(this,arguments,void 0,function*({accountAddress:r,password:i}){const o=r||this.activeAccountAddress;if(!o)throw new Error("Account address is required");const s=this.generateTraceId(),a=Date.now();this.instrument("[exportClientKeyshares] start",{key:"exportClientKeyshares-start",startTime:a,time:0,traceId:s});const l=yield n.exportClientKeyshares.call(this,{accountAddress:o,password:i});return this.instrument("[exportClientKeyshares] completed",{key:"exportClientKeyshares-completed",startTime:a,time:Date.now()-a,traceId:s}),l})}createUiTransaction(t){return Sr(this,void 0,void 0,function*(){return yield this.validateActiveWallet(t),new Ad({connection:this.getWalletClient(),from:t,onSubmit:r=>Sr(this,void 0,void 0,function*(){if(r)return this.internalSignAndSendTransaction(r)})})})}endSession(){const t=Object.create(null,{endSession:{get:()=>super.endSession}});return Sr(this,void 0,void 0,function*(){yield t.endSession.call(this)})}signMessageWithContext(){return Sr(this,void 0,void 0,function*(){throw new Error("Not implemented")})}}Object.defineProperty(Kve,"key",{value:"dynamicwaas",writable:!1});const O7t=()=>[Kve];Oo("@dynamic-labs/waas-svm",DNt);class N7t extends gg{constructor(){super(...arguments),this.name="Phantom",this.overrideKey="phantom"}getAddress(){const t=Object.create(null,{getAddress:{get:()=>super.getAddress}});return Ht(this,void 0,void 0,function*(){if(this.isInstalledOnBrowser())return t.getAddress.call(this);rr()&&eoe({nativeLink:"phantom://browse",universalLink:"https://phantom.app/ul/browse"})})}canGetChainAddress(){var t,n;return((n=(t=this.solProviderHelper)===null||t===void 0?void 0:t.findProvider())===null||n===void 0?void 0:n.publicKey)!==null}}function P7t(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var FT={exports:{}},sre;function B7t(){return sre||(sre=1,(function(e){(function(t){var n=function(ne){var fe,he=new Float64Array(16);if(ne)for(fe=0;fe<ne.length;fe++)he[fe]=ne[fe];return he},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=n(),a=n([1]),l=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(ne,fe,he,Z){ne[fe]=he>>24&255,ne[fe+1]=he>>16&255,ne[fe+2]=he>>8&255,ne[fe+3]=he&255,ne[fe+4]=Z>>24&255,ne[fe+5]=Z>>16&255,ne[fe+6]=Z>>8&255,ne[fe+7]=Z&255}function y(ne,fe,he,Z,ve){var Be,Ne=0;for(Be=0;Be<ve;Be++)Ne|=ne[fe+Be]^he[Z+Be];return(1&Ne-1>>>8)-1}function g(ne,fe,he,Z){return y(ne,fe,he,Z,16)}function b(ne,fe,he,Z){return y(ne,fe,he,Z,32)}function k(ne,fe,he,Z){for(var ve=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Be=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,Ne=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Ge=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,ut=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,bt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,Ye=fe[0]&255|(fe[1]&255)<<8|(fe[2]&255)<<16|(fe[3]&255)<<24,jn=fe[4]&255|(fe[5]&255)<<8|(fe[6]&255)<<16|(fe[7]&255)<<24,Et=fe[8]&255|(fe[9]&255)<<8|(fe[10]&255)<<16|(fe[11]&255)<<24,Zt=fe[12]&255|(fe[13]&255)<<8|(fe[14]&255)<<16|(fe[15]&255)<<24,dn=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,yn=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,vn=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,un=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,Rt=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,hn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Tt=ve,Ft=Be,St=Ne,Pt=Ge,Dt=ut,_t=bt,Ue=Ye,Ve=jn,et=Et,Qe=Zt,nt=dn,pt=yn,Wt=vn,mn=un,gn=Rt,_n=hn,Ee,On=0;On<20;On+=2)Ee=Tt+Wt|0,Dt^=Ee<<7|Ee>>>25,Ee=Dt+Tt|0,et^=Ee<<9|Ee>>>23,Ee=et+Dt|0,Wt^=Ee<<13|Ee>>>19,Ee=Wt+et|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Ft|0,Qe^=Ee<<7|Ee>>>25,Ee=Qe+_t|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Qe|0,Ft^=Ee<<13|Ee>>>19,Ee=Ft+mn|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Ue|0,gn^=Ee<<7|Ee>>>25,Ee=gn+nt|0,St^=Ee<<9|Ee>>>23,Ee=St+gn|0,Ue^=Ee<<13|Ee>>>19,Ee=Ue+St|0,nt^=Ee<<18|Ee>>>14,Ee=_n+pt|0,Pt^=Ee<<7|Ee>>>25,Ee=Pt+_n|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Pt|0,pt^=Ee<<13|Ee>>>19,Ee=pt+Ve|0,_n^=Ee<<18|Ee>>>14,Ee=Tt+Pt|0,Ft^=Ee<<7|Ee>>>25,Ee=Ft+Tt|0,St^=Ee<<9|Ee>>>23,Ee=St+Ft|0,Pt^=Ee<<13|Ee>>>19,Ee=Pt+St|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Dt|0,Ue^=Ee<<7|Ee>>>25,Ee=Ue+_t|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Ue|0,Dt^=Ee<<13|Ee>>>19,Ee=Dt+Ve|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Qe|0,pt^=Ee<<7|Ee>>>25,Ee=pt+nt|0,et^=Ee<<9|Ee>>>23,Ee=et+pt|0,Qe^=Ee<<13|Ee>>>19,Ee=Qe+et|0,nt^=Ee<<18|Ee>>>14,Ee=_n+gn|0,Wt^=Ee<<7|Ee>>>25,Ee=Wt+_n|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Wt|0,gn^=Ee<<13|Ee>>>19,Ee=gn+mn|0,_n^=Ee<<18|Ee>>>14;Tt=Tt+ve|0,Ft=Ft+Be|0,St=St+Ne|0,Pt=Pt+Ge|0,Dt=Dt+ut|0,_t=_t+bt|0,Ue=Ue+Ye|0,Ve=Ve+jn|0,et=et+Et|0,Qe=Qe+Zt|0,nt=nt+dn|0,pt=pt+yn|0,Wt=Wt+vn|0,mn=mn+un|0,gn=gn+Rt|0,_n=_n+hn|0,ne[0]=Tt>>>0&255,ne[1]=Tt>>>8&255,ne[2]=Tt>>>16&255,ne[3]=Tt>>>24&255,ne[4]=Ft>>>0&255,ne[5]=Ft>>>8&255,ne[6]=Ft>>>16&255,ne[7]=Ft>>>24&255,ne[8]=St>>>0&255,ne[9]=St>>>8&255,ne[10]=St>>>16&255,ne[11]=St>>>24&255,ne[12]=Pt>>>0&255,ne[13]=Pt>>>8&255,ne[14]=Pt>>>16&255,ne[15]=Pt>>>24&255,ne[16]=Dt>>>0&255,ne[17]=Dt>>>8&255,ne[18]=Dt>>>16&255,ne[19]=Dt>>>24&255,ne[20]=_t>>>0&255,ne[21]=_t>>>8&255,ne[22]=_t>>>16&255,ne[23]=_t>>>24&255,ne[24]=Ue>>>0&255,ne[25]=Ue>>>8&255,ne[26]=Ue>>>16&255,ne[27]=Ue>>>24&255,ne[28]=Ve>>>0&255,ne[29]=Ve>>>8&255,ne[30]=Ve>>>16&255,ne[31]=Ve>>>24&255,ne[32]=et>>>0&255,ne[33]=et>>>8&255,ne[34]=et>>>16&255,ne[35]=et>>>24&255,ne[36]=Qe>>>0&255,ne[37]=Qe>>>8&255,ne[38]=Qe>>>16&255,ne[39]=Qe>>>24&255,ne[40]=nt>>>0&255,ne[41]=nt>>>8&255,ne[42]=nt>>>16&255,ne[43]=nt>>>24&255,ne[44]=pt>>>0&255,ne[45]=pt>>>8&255,ne[46]=pt>>>16&255,ne[47]=pt>>>24&255,ne[48]=Wt>>>0&255,ne[49]=Wt>>>8&255,ne[50]=Wt>>>16&255,ne[51]=Wt>>>24&255,ne[52]=mn>>>0&255,ne[53]=mn>>>8&255,ne[54]=mn>>>16&255,ne[55]=mn>>>24&255,ne[56]=gn>>>0&255,ne[57]=gn>>>8&255,ne[58]=gn>>>16&255,ne[59]=gn>>>24&255,ne[60]=_n>>>0&255,ne[61]=_n>>>8&255,ne[62]=_n>>>16&255,ne[63]=_n>>>24&255}function _(ne,fe,he,Z){for(var ve=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Be=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,Ne=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Ge=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,ut=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,bt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,Ye=fe[0]&255|(fe[1]&255)<<8|(fe[2]&255)<<16|(fe[3]&255)<<24,jn=fe[4]&255|(fe[5]&255)<<8|(fe[6]&255)<<16|(fe[7]&255)<<24,Et=fe[8]&255|(fe[9]&255)<<8|(fe[10]&255)<<16|(fe[11]&255)<<24,Zt=fe[12]&255|(fe[13]&255)<<8|(fe[14]&255)<<16|(fe[15]&255)<<24,dn=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,yn=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,vn=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,un=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,Rt=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,hn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Tt=ve,Ft=Be,St=Ne,Pt=Ge,Dt=ut,_t=bt,Ue=Ye,Ve=jn,et=Et,Qe=Zt,nt=dn,pt=yn,Wt=vn,mn=un,gn=Rt,_n=hn,Ee,On=0;On<20;On+=2)Ee=Tt+Wt|0,Dt^=Ee<<7|Ee>>>25,Ee=Dt+Tt|0,et^=Ee<<9|Ee>>>23,Ee=et+Dt|0,Wt^=Ee<<13|Ee>>>19,Ee=Wt+et|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Ft|0,Qe^=Ee<<7|Ee>>>25,Ee=Qe+_t|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Qe|0,Ft^=Ee<<13|Ee>>>19,Ee=Ft+mn|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Ue|0,gn^=Ee<<7|Ee>>>25,Ee=gn+nt|0,St^=Ee<<9|Ee>>>23,Ee=St+gn|0,Ue^=Ee<<13|Ee>>>19,Ee=Ue+St|0,nt^=Ee<<18|Ee>>>14,Ee=_n+pt|0,Pt^=Ee<<7|Ee>>>25,Ee=Pt+_n|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Pt|0,pt^=Ee<<13|Ee>>>19,Ee=pt+Ve|0,_n^=Ee<<18|Ee>>>14,Ee=Tt+Pt|0,Ft^=Ee<<7|Ee>>>25,Ee=Ft+Tt|0,St^=Ee<<9|Ee>>>23,Ee=St+Ft|0,Pt^=Ee<<13|Ee>>>19,Ee=Pt+St|0,Tt^=Ee<<18|Ee>>>14,Ee=_t+Dt|0,Ue^=Ee<<7|Ee>>>25,Ee=Ue+_t|0,Ve^=Ee<<9|Ee>>>23,Ee=Ve+Ue|0,Dt^=Ee<<13|Ee>>>19,Ee=Dt+Ve|0,_t^=Ee<<18|Ee>>>14,Ee=nt+Qe|0,pt^=Ee<<7|Ee>>>25,Ee=pt+nt|0,et^=Ee<<9|Ee>>>23,Ee=et+pt|0,Qe^=Ee<<13|Ee>>>19,Ee=Qe+et|0,nt^=Ee<<18|Ee>>>14,Ee=_n+gn|0,Wt^=Ee<<7|Ee>>>25,Ee=Wt+_n|0,mn^=Ee<<9|Ee>>>23,Ee=mn+Wt|0,gn^=Ee<<13|Ee>>>19,Ee=gn+mn|0,_n^=Ee<<18|Ee>>>14;ne[0]=Tt>>>0&255,ne[1]=Tt>>>8&255,ne[2]=Tt>>>16&255,ne[3]=Tt>>>24&255,ne[4]=_t>>>0&255,ne[5]=_t>>>8&255,ne[6]=_t>>>16&255,ne[7]=_t>>>24&255,ne[8]=nt>>>0&255,ne[9]=nt>>>8&255,ne[10]=nt>>>16&255,ne[11]=nt>>>24&255,ne[12]=_n>>>0&255,ne[13]=_n>>>8&255,ne[14]=_n>>>16&255,ne[15]=_n>>>24&255,ne[16]=Ue>>>0&255,ne[17]=Ue>>>8&255,ne[18]=Ue>>>16&255,ne[19]=Ue>>>24&255,ne[20]=Ve>>>0&255,ne[21]=Ve>>>8&255,ne[22]=Ve>>>16&255,ne[23]=Ve>>>24&255,ne[24]=et>>>0&255,ne[25]=et>>>8&255,ne[26]=et>>>16&255,ne[27]=et>>>24&255,ne[28]=Qe>>>0&255,ne[29]=Qe>>>8&255,ne[30]=Qe>>>16&255,ne[31]=Qe>>>24&255}function R(ne,fe,he,Z){k(ne,fe,he,Z)}function I(ne,fe,he,Z){_(ne,fe,he,Z)}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function D(ne,fe,he,Z,ve,Be,Ne){var Ge=new Uint8Array(16),ut=new Uint8Array(64),bt,Ye;for(Ye=0;Ye<16;Ye++)Ge[Ye]=0;for(Ye=0;Ye<8;Ye++)Ge[Ye]=Be[Ye];for(;ve>=64;){for(R(ut,Ge,Ne,T),Ye=0;Ye<64;Ye++)ne[fe+Ye]=he[Z+Ye]^ut[Ye];for(bt=1,Ye=8;Ye<16;Ye++)bt=bt+(Ge[Ye]&255)|0,Ge[Ye]=bt&255,bt>>>=8;ve-=64,fe+=64,Z+=64}if(ve>0)for(R(ut,Ge,Ne,T),Ye=0;Ye<ve;Ye++)ne[fe+Ye]=he[Z+Ye]^ut[Ye];return 0}function M(ne,fe,he,Z,ve){var Be=new Uint8Array(16),Ne=new Uint8Array(64),Ge,ut;for(ut=0;ut<16;ut++)Be[ut]=0;for(ut=0;ut<8;ut++)Be[ut]=Z[ut];for(;he>=64;){for(R(Ne,Be,ve,T),ut=0;ut<64;ut++)ne[fe+ut]=Ne[ut];for(Ge=1,ut=8;ut<16;ut++)Ge=Ge+(Be[ut]&255)|0,Be[ut]=Ge&255,Ge>>>=8;he-=64,fe+=64}if(he>0)for(R(Ne,Be,ve,T),ut=0;ut<he;ut++)ne[fe+ut]=Ne[ut];return 0}function C(ne,fe,he,Z,ve){var Be=new Uint8Array(32);I(Be,Z,ve,T);for(var Ne=new Uint8Array(8),Ge=0;Ge<8;Ge++)Ne[Ge]=Z[Ge+16];return M(ne,fe,he,Ne,Be)}function U(ne,fe,he,Z,ve,Be,Ne){var Ge=new Uint8Array(32);I(Ge,Be,Ne,T);for(var ut=new Uint8Array(8),bt=0;bt<8;bt++)ut[bt]=Be[bt+16];return D(ne,fe,he,Z,ve,ut,Ge)}var $=function(ne){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var fe,he,Z,ve,Be,Ne,Ge,ut;fe=ne[0]&255|(ne[1]&255)<<8,this.r[0]=fe&8191,he=ne[2]&255|(ne[3]&255)<<8,this.r[1]=(fe>>>13|he<<3)&8191,Z=ne[4]&255|(ne[5]&255)<<8,this.r[2]=(he>>>10|Z<<6)&7939,ve=ne[6]&255|(ne[7]&255)<<8,this.r[3]=(Z>>>7|ve<<9)&8191,Be=ne[8]&255|(ne[9]&255)<<8,this.r[4]=(ve>>>4|Be<<12)&255,this.r[5]=Be>>>1&8190,Ne=ne[10]&255|(ne[11]&255)<<8,this.r[6]=(Be>>>14|Ne<<2)&8191,Ge=ne[12]&255|(ne[13]&255)<<8,this.r[7]=(Ne>>>11|Ge<<5)&8065,ut=ne[14]&255|(ne[15]&255)<<8,this.r[8]=(Ge>>>8|ut<<8)&8191,this.r[9]=ut>>>5&127,this.pad[0]=ne[16]&255|(ne[17]&255)<<8,this.pad[1]=ne[18]&255|(ne[19]&255)<<8,this.pad[2]=ne[20]&255|(ne[21]&255)<<8,this.pad[3]=ne[22]&255|(ne[23]&255)<<8,this.pad[4]=ne[24]&255|(ne[25]&255)<<8,this.pad[5]=ne[26]&255|(ne[27]&255)<<8,this.pad[6]=ne[28]&255|(ne[29]&255)<<8,this.pad[7]=ne[30]&255|(ne[31]&255)<<8};$.prototype.blocks=function(ne,fe,he){for(var Z=this.fin?0:2048,ve,Be,Ne,Ge,ut,bt,Ye,jn,Et,Zt,dn,yn,vn,un,Rt,hn,Tt,Ft,St,Pt=this.h[0],Dt=this.h[1],_t=this.h[2],Ue=this.h[3],Ve=this.h[4],et=this.h[5],Qe=this.h[6],nt=this.h[7],pt=this.h[8],Wt=this.h[9],mn=this.r[0],gn=this.r[1],_n=this.r[2],Ee=this.r[3],On=this.r[4],$n=this.r[5],Gn=this.r[6],In=this.r[7],Mn=this.r[8],Nn=this.r[9];he>=16;)ve=ne[fe+0]&255|(ne[fe+1]&255)<<8,Pt+=ve&8191,Be=ne[fe+2]&255|(ne[fe+3]&255)<<8,Dt+=(ve>>>13|Be<<3)&8191,Ne=ne[fe+4]&255|(ne[fe+5]&255)<<8,_t+=(Be>>>10|Ne<<6)&8191,Ge=ne[fe+6]&255|(ne[fe+7]&255)<<8,Ue+=(Ne>>>7|Ge<<9)&8191,ut=ne[fe+8]&255|(ne[fe+9]&255)<<8,Ve+=(Ge>>>4|ut<<12)&8191,et+=ut>>>1&8191,bt=ne[fe+10]&255|(ne[fe+11]&255)<<8,Qe+=(ut>>>14|bt<<2)&8191,Ye=ne[fe+12]&255|(ne[fe+13]&255)<<8,nt+=(bt>>>11|Ye<<5)&8191,jn=ne[fe+14]&255|(ne[fe+15]&255)<<8,pt+=(Ye>>>8|jn<<8)&8191,Wt+=jn>>>5|Z,Et=0,Zt=Et,Zt+=Pt*mn,Zt+=Dt*(5*Nn),Zt+=_t*(5*Mn),Zt+=Ue*(5*In),Zt+=Ve*(5*Gn),Et=Zt>>>13,Zt&=8191,Zt+=et*(5*$n),Zt+=Qe*(5*On),Zt+=nt*(5*Ee),Zt+=pt*(5*_n),Zt+=Wt*(5*gn),Et+=Zt>>>13,Zt&=8191,dn=Et,dn+=Pt*gn,dn+=Dt*mn,dn+=_t*(5*Nn),dn+=Ue*(5*Mn),dn+=Ve*(5*In),Et=dn>>>13,dn&=8191,dn+=et*(5*Gn),dn+=Qe*(5*$n),dn+=nt*(5*On),dn+=pt*(5*Ee),dn+=Wt*(5*_n),Et+=dn>>>13,dn&=8191,yn=Et,yn+=Pt*_n,yn+=Dt*gn,yn+=_t*mn,yn+=Ue*(5*Nn),yn+=Ve*(5*Mn),Et=yn>>>13,yn&=8191,yn+=et*(5*In),yn+=Qe*(5*Gn),yn+=nt*(5*$n),yn+=pt*(5*On),yn+=Wt*(5*Ee),Et+=yn>>>13,yn&=8191,vn=Et,vn+=Pt*Ee,vn+=Dt*_n,vn+=_t*gn,vn+=Ue*mn,vn+=Ve*(5*Nn),Et=vn>>>13,vn&=8191,vn+=et*(5*Mn),vn+=Qe*(5*In),vn+=nt*(5*Gn),vn+=pt*(5*$n),vn+=Wt*(5*On),Et+=vn>>>13,vn&=8191,un=Et,un+=Pt*On,un+=Dt*Ee,un+=_t*_n,un+=Ue*gn,un+=Ve*mn,Et=un>>>13,un&=8191,un+=et*(5*Nn),un+=Qe*(5*Mn),un+=nt*(5*In),un+=pt*(5*Gn),un+=Wt*(5*$n),Et+=un>>>13,un&=8191,Rt=Et,Rt+=Pt*$n,Rt+=Dt*On,Rt+=_t*Ee,Rt+=Ue*_n,Rt+=Ve*gn,Et=Rt>>>13,Rt&=8191,Rt+=et*mn,Rt+=Qe*(5*Nn),Rt+=nt*(5*Mn),Rt+=pt*(5*In),Rt+=Wt*(5*Gn),Et+=Rt>>>13,Rt&=8191,hn=Et,hn+=Pt*Gn,hn+=Dt*$n,hn+=_t*On,hn+=Ue*Ee,hn+=Ve*_n,Et=hn>>>13,hn&=8191,hn+=et*gn,hn+=Qe*mn,hn+=nt*(5*Nn),hn+=pt*(5*Mn),hn+=Wt*(5*In),Et+=hn>>>13,hn&=8191,Tt=Et,Tt+=Pt*In,Tt+=Dt*Gn,Tt+=_t*$n,Tt+=Ue*On,Tt+=Ve*Ee,Et=Tt>>>13,Tt&=8191,Tt+=et*_n,Tt+=Qe*gn,Tt+=nt*mn,Tt+=pt*(5*Nn),Tt+=Wt*(5*Mn),Et+=Tt>>>13,Tt&=8191,Ft=Et,Ft+=Pt*Mn,Ft+=Dt*In,Ft+=_t*Gn,Ft+=Ue*$n,Ft+=Ve*On,Et=Ft>>>13,Ft&=8191,Ft+=et*Ee,Ft+=Qe*_n,Ft+=nt*gn,Ft+=pt*mn,Ft+=Wt*(5*Nn),Et+=Ft>>>13,Ft&=8191,St=Et,St+=Pt*Nn,St+=Dt*Mn,St+=_t*In,St+=Ue*Gn,St+=Ve*$n,Et=St>>>13,St&=8191,St+=et*On,St+=Qe*Ee,St+=nt*_n,St+=pt*gn,St+=Wt*mn,Et+=St>>>13,St&=8191,Et=(Et<<2)+Et|0,Et=Et+Zt|0,Zt=Et&8191,Et=Et>>>13,dn+=Et,Pt=Zt,Dt=dn,_t=yn,Ue=vn,Ve=un,et=Rt,Qe=hn,nt=Tt,pt=Ft,Wt=St,fe+=16,he-=16;this.h[0]=Pt,this.h[1]=Dt,this.h[2]=_t,this.h[3]=Ue,this.h[4]=Ve,this.h[5]=et,this.h[6]=Qe,this.h[7]=nt,this.h[8]=pt,this.h[9]=Wt},$.prototype.finish=function(ne,fe){var he=new Uint16Array(10),Z,ve,Be,Ne;if(this.leftover){for(Ne=this.leftover,this.buffer[Ne++]=1;Ne<16;Ne++)this.buffer[Ne]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Z=this.h[1]>>>13,this.h[1]&=8191,Ne=2;Ne<10;Ne++)this.h[Ne]+=Z,Z=this.h[Ne]>>>13,this.h[Ne]&=8191;for(this.h[0]+=Z*5,Z=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Z,Z=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Z,he[0]=this.h[0]+5,Z=he[0]>>>13,he[0]&=8191,Ne=1;Ne<10;Ne++)he[Ne]=this.h[Ne]+Z,Z=he[Ne]>>>13,he[Ne]&=8191;for(he[9]-=8192,ve=(Z^1)-1,Ne=0;Ne<10;Ne++)he[Ne]&=ve;for(ve=~ve,Ne=0;Ne<10;Ne++)this.h[Ne]=this.h[Ne]&ve|he[Ne];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Be=this.h[0]+this.pad[0],this.h[0]=Be&65535,Ne=1;Ne<8;Ne++)Be=(this.h[Ne]+this.pad[Ne]|0)+(Be>>>16)|0,this.h[Ne]=Be&65535;ne[fe+0]=this.h[0]>>>0&255,ne[fe+1]=this.h[0]>>>8&255,ne[fe+2]=this.h[1]>>>0&255,ne[fe+3]=this.h[1]>>>8&255,ne[fe+4]=this.h[2]>>>0&255,ne[fe+5]=this.h[2]>>>8&255,ne[fe+6]=this.h[3]>>>0&255,ne[fe+7]=this.h[3]>>>8&255,ne[fe+8]=this.h[4]>>>0&255,ne[fe+9]=this.h[4]>>>8&255,ne[fe+10]=this.h[5]>>>0&255,ne[fe+11]=this.h[5]>>>8&255,ne[fe+12]=this.h[6]>>>0&255,ne[fe+13]=this.h[6]>>>8&255,ne[fe+14]=this.h[7]>>>0&255,ne[fe+15]=this.h[7]>>>8&255},$.prototype.update=function(ne,fe,he){var Z,ve;if(this.leftover){for(ve=16-this.leftover,ve>he&&(ve=he),Z=0;Z<ve;Z++)this.buffer[this.leftover+Z]=ne[fe+Z];if(he-=ve,fe+=ve,this.leftover+=ve,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(he>=16&&(ve=he-he%16,this.blocks(ne,fe,ve),fe+=ve,he-=ve),he){for(Z=0;Z<he;Z++)this.buffer[this.leftover+Z]=ne[fe+Z];this.leftover+=he}};function z(ne,fe,he,Z,ve,Be){var Ne=new $(Be);return Ne.update(he,Z,ve),Ne.finish(ne,fe),0}function q(ne,fe,he,Z,ve,Be){var Ne=new Uint8Array(16);return z(Ne,0,he,Z,ve,Be),g(ne,fe,Ne,0)}function S(ne,fe,he,Z,ve){var Be;if(he<32)return-1;for(U(ne,0,fe,0,he,Z,ve),z(ne,16,ne,32,he-32,ne),Be=0;Be<16;Be++)ne[Be]=0;return 0}function A(ne,fe,he,Z,ve){var Be,Ne=new Uint8Array(32);if(he<32||(C(Ne,0,32,Z,ve),q(fe,16,fe,32,he-32,Ne)!==0))return-1;for(U(ne,0,fe,0,he,Z,ve),Be=0;Be<32;Be++)ne[Be]=0;return 0}function O(ne,fe){var he;for(he=0;he<16;he++)ne[he]=fe[he]|0}function N(ne){var fe,he,Z=1;for(fe=0;fe<16;fe++)he=ne[fe]+Z+65535,Z=Math.floor(he/65536),ne[fe]=he-Z*65536;ne[0]+=Z-1+37*(Z-1)}function j(ne,fe,he){for(var Z,ve=~(he-1),Be=0;Be<16;Be++)Z=ve&(ne[Be]^fe[Be]),ne[Be]^=Z,fe[Be]^=Z}function V(ne,fe){var he,Z,ve,Be=n(),Ne=n();for(he=0;he<16;he++)Ne[he]=fe[he];for(N(Ne),N(Ne),N(Ne),Z=0;Z<2;Z++){for(Be[0]=Ne[0]-65517,he=1;he<15;he++)Be[he]=Ne[he]-65535-(Be[he-1]>>16&1),Be[he-1]&=65535;Be[15]=Ne[15]-32767-(Be[14]>>16&1),ve=Be[15]>>16&1,Be[14]&=65535,j(Ne,Be,1-ve)}for(he=0;he<16;he++)ne[2*he]=Ne[he]&255,ne[2*he+1]=Ne[he]>>8}function K(ne,fe){var he=new Uint8Array(32),Z=new Uint8Array(32);return V(he,ne),V(Z,fe),b(he,0,Z,0)}function W(ne){var fe=new Uint8Array(32);return V(fe,ne),fe[0]&1}function P(ne,fe){var he;for(he=0;he<16;he++)ne[he]=fe[2*he]+(fe[2*he+1]<<8);ne[15]&=32767}function F(ne,fe,he){for(var Z=0;Z<16;Z++)ne[Z]=fe[Z]+he[Z]}function G(ne,fe,he){for(var Z=0;Z<16;Z++)ne[Z]=fe[Z]-he[Z]}function Y(ne,fe,he){var Z,ve,Be=0,Ne=0,Ge=0,ut=0,bt=0,Ye=0,jn=0,Et=0,Zt=0,dn=0,yn=0,vn=0,un=0,Rt=0,hn=0,Tt=0,Ft=0,St=0,Pt=0,Dt=0,_t=0,Ue=0,Ve=0,et=0,Qe=0,nt=0,pt=0,Wt=0,mn=0,gn=0,_n=0,Ee=he[0],On=he[1],$n=he[2],Gn=he[3],In=he[4],Mn=he[5],Nn=he[6],Dr=he[7],Yt=he[8],Wr=he[9],ar=he[10],Cr=he[11],Gr=he[12],Di=he[13],lr=he[14],Ei=he[15];Z=fe[0],Be+=Z*Ee,Ne+=Z*On,Ge+=Z*$n,ut+=Z*Gn,bt+=Z*In,Ye+=Z*Mn,jn+=Z*Nn,Et+=Z*Dr,Zt+=Z*Yt,dn+=Z*Wr,yn+=Z*ar,vn+=Z*Cr,un+=Z*Gr,Rt+=Z*Di,hn+=Z*lr,Tt+=Z*Ei,Z=fe[1],Ne+=Z*Ee,Ge+=Z*On,ut+=Z*$n,bt+=Z*Gn,Ye+=Z*In,jn+=Z*Mn,Et+=Z*Nn,Zt+=Z*Dr,dn+=Z*Yt,yn+=Z*Wr,vn+=Z*ar,un+=Z*Cr,Rt+=Z*Gr,hn+=Z*Di,Tt+=Z*lr,Ft+=Z*Ei,Z=fe[2],Ge+=Z*Ee,ut+=Z*On,bt+=Z*$n,Ye+=Z*Gn,jn+=Z*In,Et+=Z*Mn,Zt+=Z*Nn,dn+=Z*Dr,yn+=Z*Yt,vn+=Z*Wr,un+=Z*ar,Rt+=Z*Cr,hn+=Z*Gr,Tt+=Z*Di,Ft+=Z*lr,St+=Z*Ei,Z=fe[3],ut+=Z*Ee,bt+=Z*On,Ye+=Z*$n,jn+=Z*Gn,Et+=Z*In,Zt+=Z*Mn,dn+=Z*Nn,yn+=Z*Dr,vn+=Z*Yt,un+=Z*Wr,Rt+=Z*ar,hn+=Z*Cr,Tt+=Z*Gr,Ft+=Z*Di,St+=Z*lr,Pt+=Z*Ei,Z=fe[4],bt+=Z*Ee,Ye+=Z*On,jn+=Z*$n,Et+=Z*Gn,Zt+=Z*In,dn+=Z*Mn,yn+=Z*Nn,vn+=Z*Dr,un+=Z*Yt,Rt+=Z*Wr,hn+=Z*ar,Tt+=Z*Cr,Ft+=Z*Gr,St+=Z*Di,Pt+=Z*lr,Dt+=Z*Ei,Z=fe[5],Ye+=Z*Ee,jn+=Z*On,Et+=Z*$n,Zt+=Z*Gn,dn+=Z*In,yn+=Z*Mn,vn+=Z*Nn,un+=Z*Dr,Rt+=Z*Yt,hn+=Z*Wr,Tt+=Z*ar,Ft+=Z*Cr,St+=Z*Gr,Pt+=Z*Di,Dt+=Z*lr,_t+=Z*Ei,Z=fe[6],jn+=Z*Ee,Et+=Z*On,Zt+=Z*$n,dn+=Z*Gn,yn+=Z*In,vn+=Z*Mn,un+=Z*Nn,Rt+=Z*Dr,hn+=Z*Yt,Tt+=Z*Wr,Ft+=Z*ar,St+=Z*Cr,Pt+=Z*Gr,Dt+=Z*Di,_t+=Z*lr,Ue+=Z*Ei,Z=fe[7],Et+=Z*Ee,Zt+=Z*On,dn+=Z*$n,yn+=Z*Gn,vn+=Z*In,un+=Z*Mn,Rt+=Z*Nn,hn+=Z*Dr,Tt+=Z*Yt,Ft+=Z*Wr,St+=Z*ar,Pt+=Z*Cr,Dt+=Z*Gr,_t+=Z*Di,Ue+=Z*lr,Ve+=Z*Ei,Z=fe[8],Zt+=Z*Ee,dn+=Z*On,yn+=Z*$n,vn+=Z*Gn,un+=Z*In,Rt+=Z*Mn,hn+=Z*Nn,Tt+=Z*Dr,Ft+=Z*Yt,St+=Z*Wr,Pt+=Z*ar,Dt+=Z*Cr,_t+=Z*Gr,Ue+=Z*Di,Ve+=Z*lr,et+=Z*Ei,Z=fe[9],dn+=Z*Ee,yn+=Z*On,vn+=Z*$n,un+=Z*Gn,Rt+=Z*In,hn+=Z*Mn,Tt+=Z*Nn,Ft+=Z*Dr,St+=Z*Yt,Pt+=Z*Wr,Dt+=Z*ar,_t+=Z*Cr,Ue+=Z*Gr,Ve+=Z*Di,et+=Z*lr,Qe+=Z*Ei,Z=fe[10],yn+=Z*Ee,vn+=Z*On,un+=Z*$n,Rt+=Z*Gn,hn+=Z*In,Tt+=Z*Mn,Ft+=Z*Nn,St+=Z*Dr,Pt+=Z*Yt,Dt+=Z*Wr,_t+=Z*ar,Ue+=Z*Cr,Ve+=Z*Gr,et+=Z*Di,Qe+=Z*lr,nt+=Z*Ei,Z=fe[11],vn+=Z*Ee,un+=Z*On,Rt+=Z*$n,hn+=Z*Gn,Tt+=Z*In,Ft+=Z*Mn,St+=Z*Nn,Pt+=Z*Dr,Dt+=Z*Yt,_t+=Z*Wr,Ue+=Z*ar,Ve+=Z*Cr,et+=Z*Gr,Qe+=Z*Di,nt+=Z*lr,pt+=Z*Ei,Z=fe[12],un+=Z*Ee,Rt+=Z*On,hn+=Z*$n,Tt+=Z*Gn,Ft+=Z*In,St+=Z*Mn,Pt+=Z*Nn,Dt+=Z*Dr,_t+=Z*Yt,Ue+=Z*Wr,Ve+=Z*ar,et+=Z*Cr,Qe+=Z*Gr,nt+=Z*Di,pt+=Z*lr,Wt+=Z*Ei,Z=fe[13],Rt+=Z*Ee,hn+=Z*On,Tt+=Z*$n,Ft+=Z*Gn,St+=Z*In,Pt+=Z*Mn,Dt+=Z*Nn,_t+=Z*Dr,Ue+=Z*Yt,Ve+=Z*Wr,et+=Z*ar,Qe+=Z*Cr,nt+=Z*Gr,pt+=Z*Di,Wt+=Z*lr,mn+=Z*Ei,Z=fe[14],hn+=Z*Ee,Tt+=Z*On,Ft+=Z*$n,St+=Z*Gn,Pt+=Z*In,Dt+=Z*Mn,_t+=Z*Nn,Ue+=Z*Dr,Ve+=Z*Yt,et+=Z*Wr,Qe+=Z*ar,nt+=Z*Cr,pt+=Z*Gr,Wt+=Z*Di,mn+=Z*lr,gn+=Z*Ei,Z=fe[15],Tt+=Z*Ee,Ft+=Z*On,St+=Z*$n,Pt+=Z*Gn,Dt+=Z*In,_t+=Z*Mn,Ue+=Z*Nn,Ve+=Z*Dr,et+=Z*Yt,Qe+=Z*Wr,nt+=Z*ar,pt+=Z*Cr,Wt+=Z*Gr,mn+=Z*Di,gn+=Z*lr,_n+=Z*Ei,Be+=38*Ft,Ne+=38*St,Ge+=38*Pt,ut+=38*Dt,bt+=38*_t,Ye+=38*Ue,jn+=38*Ve,Et+=38*et,Zt+=38*Qe,dn+=38*nt,yn+=38*pt,vn+=38*Wt,un+=38*mn,Rt+=38*gn,hn+=38*_n,ve=1,Z=Be+ve+65535,ve=Math.floor(Z/65536),Be=Z-ve*65536,Z=Ne+ve+65535,ve=Math.floor(Z/65536),Ne=Z-ve*65536,Z=Ge+ve+65535,ve=Math.floor(Z/65536),Ge=Z-ve*65536,Z=ut+ve+65535,ve=Math.floor(Z/65536),ut=Z-ve*65536,Z=bt+ve+65535,ve=Math.floor(Z/65536),bt=Z-ve*65536,Z=Ye+ve+65535,ve=Math.floor(Z/65536),Ye=Z-ve*65536,Z=jn+ve+65535,ve=Math.floor(Z/65536),jn=Z-ve*65536,Z=Et+ve+65535,ve=Math.floor(Z/65536),Et=Z-ve*65536,Z=Zt+ve+65535,ve=Math.floor(Z/65536),Zt=Z-ve*65536,Z=dn+ve+65535,ve=Math.floor(Z/65536),dn=Z-ve*65536,Z=yn+ve+65535,ve=Math.floor(Z/65536),yn=Z-ve*65536,Z=vn+ve+65535,ve=Math.floor(Z/65536),vn=Z-ve*65536,Z=un+ve+65535,ve=Math.floor(Z/65536),un=Z-ve*65536,Z=Rt+ve+65535,ve=Math.floor(Z/65536),Rt=Z-ve*65536,Z=hn+ve+65535,ve=Math.floor(Z/65536),hn=Z-ve*65536,Z=Tt+ve+65535,ve=Math.floor(Z/65536),Tt=Z-ve*65536,Be+=ve-1+37*(ve-1),ve=1,Z=Be+ve+65535,ve=Math.floor(Z/65536),Be=Z-ve*65536,Z=Ne+ve+65535,ve=Math.floor(Z/65536),Ne=Z-ve*65536,Z=Ge+ve+65535,ve=Math.floor(Z/65536),Ge=Z-ve*65536,Z=ut+ve+65535,ve=Math.floor(Z/65536),ut=Z-ve*65536,Z=bt+ve+65535,ve=Math.floor(Z/65536),bt=Z-ve*65536,Z=Ye+ve+65535,ve=Math.floor(Z/65536),Ye=Z-ve*65536,Z=jn+ve+65535,ve=Math.floor(Z/65536),jn=Z-ve*65536,Z=Et+ve+65535,ve=Math.floor(Z/65536),Et=Z-ve*65536,Z=Zt+ve+65535,ve=Math.floor(Z/65536),Zt=Z-ve*65536,Z=dn+ve+65535,ve=Math.floor(Z/65536),dn=Z-ve*65536,Z=yn+ve+65535,ve=Math.floor(Z/65536),yn=Z-ve*65536,Z=vn+ve+65535,ve=Math.floor(Z/65536),vn=Z-ve*65536,Z=un+ve+65535,ve=Math.floor(Z/65536),un=Z-ve*65536,Z=Rt+ve+65535,ve=Math.floor(Z/65536),Rt=Z-ve*65536,Z=hn+ve+65535,ve=Math.floor(Z/65536),hn=Z-ve*65536,Z=Tt+ve+65535,ve=Math.floor(Z/65536),Tt=Z-ve*65536,Be+=ve-1+37*(ve-1),ne[0]=Be,ne[1]=Ne,ne[2]=Ge,ne[3]=ut,ne[4]=bt,ne[5]=Ye,ne[6]=jn,ne[7]=Et,ne[8]=Zt,ne[9]=dn,ne[10]=yn,ne[11]=vn,ne[12]=un,ne[13]=Rt,ne[14]=hn,ne[15]=Tt}function ie(ne,fe){Y(ne,fe,fe)}function ye(ne,fe){var he=n(),Z;for(Z=0;Z<16;Z++)he[Z]=fe[Z];for(Z=253;Z>=0;Z--)ie(he,he),Z!==2&&Z!==4&&Y(he,he,fe);for(Z=0;Z<16;Z++)ne[Z]=he[Z]}function ge(ne,fe){var he=n(),Z;for(Z=0;Z<16;Z++)he[Z]=fe[Z];for(Z=250;Z>=0;Z--)ie(he,he),Z!==1&&Y(he,he,fe);for(Z=0;Z<16;Z++)ne[Z]=he[Z]}function be(ne,fe,he){var Z=new Uint8Array(32),ve=new Float64Array(80),Be,Ne,Ge=n(),ut=n(),bt=n(),Ye=n(),jn=n(),Et=n();for(Ne=0;Ne<31;Ne++)Z[Ne]=fe[Ne];for(Z[31]=fe[31]&127|64,Z[0]&=248,P(ve,he),Ne=0;Ne<16;Ne++)ut[Ne]=ve[Ne],Ye[Ne]=Ge[Ne]=bt[Ne]=0;for(Ge[0]=Ye[0]=1,Ne=254;Ne>=0;--Ne)Be=Z[Ne>>>3]>>>(Ne&7)&1,j(Ge,ut,Be),j(bt,Ye,Be),F(jn,Ge,bt),G(Ge,Ge,bt),F(bt,ut,Ye),G(ut,ut,Ye),ie(Ye,jn),ie(Et,Ge),Y(Ge,bt,Ge),Y(bt,ut,jn),F(jn,Ge,bt),G(Ge,Ge,bt),ie(ut,Ge),G(bt,Ye,Et),Y(Ge,bt,l),F(Ge,Ge,Ye),Y(bt,bt,Ge),Y(Ge,Ye,Et),Y(Ye,ut,ve),ie(ut,jn),j(Ge,ut,Be),j(bt,Ye,Be);for(Ne=0;Ne<16;Ne++)ve[Ne+16]=Ge[Ne],ve[Ne+32]=bt[Ne],ve[Ne+48]=ut[Ne],ve[Ne+64]=Ye[Ne];var Zt=ve.subarray(32),dn=ve.subarray(16);return ye(Zt,Zt),Y(dn,dn,Zt),V(ne,dn),0}function Le(ne,fe){return be(ne,fe,o)}function qe(ne,fe){return r(fe,32),Le(ne,fe)}function Me(ne,fe,he){var Z=new Uint8Array(32);return be(Z,he,fe),I(ne,i,Z,T)}var gt=S,tt=A;function dt(ne,fe,he,Z,ve,Be){var Ne=new Uint8Array(32);return Me(Ne,ve,Be),gt(ne,fe,he,Z,Ne)}function Xt(ne,fe,he,Z,ve,Be){var Ne=new Uint8Array(32);return Me(Ne,ve,Be),tt(ne,fe,he,Z,Ne)}var lt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function jt(ne,fe,he,Z){for(var ve=new Int32Array(16),Be=new Int32Array(16),Ne,Ge,ut,bt,Ye,jn,Et,Zt,dn,yn,vn,un,Rt,hn,Tt,Ft,St,Pt,Dt,_t,Ue,Ve,et,Qe,nt,pt,Wt=ne[0],mn=ne[1],gn=ne[2],_n=ne[3],Ee=ne[4],On=ne[5],$n=ne[6],Gn=ne[7],In=fe[0],Mn=fe[1],Nn=fe[2],Dr=fe[3],Yt=fe[4],Wr=fe[5],ar=fe[6],Cr=fe[7],Gr=0;Z>=128;){for(Dt=0;Dt<16;Dt++)_t=8*Dt+Gr,ve[Dt]=he[_t+0]<<24|he[_t+1]<<16|he[_t+2]<<8|he[_t+3],Be[Dt]=he[_t+4]<<24|he[_t+5]<<16|he[_t+6]<<8|he[_t+7];for(Dt=0;Dt<80;Dt++)if(Ne=Wt,Ge=mn,ut=gn,bt=_n,Ye=Ee,jn=On,Et=$n,Zt=Gn,dn=In,yn=Mn,vn=Nn,un=Dr,Rt=Yt,hn=Wr,Tt=ar,Ft=Cr,Ue=Gn,Ve=Cr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=(Ee>>>14|Yt<<18)^(Ee>>>18|Yt<<14)^(Yt>>>9|Ee<<23),Ve=(Yt>>>14|Ee<<18)^(Yt>>>18|Ee<<14)^(Ee>>>9|Yt<<23),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=Ee&On^~Ee&$n,Ve=Yt&Wr^~Yt&ar,et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=lt[Dt*2],Ve=lt[Dt*2+1],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=ve[Dt%16],Ve=Be[Dt%16],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,St=nt&65535|pt<<16,Pt=et&65535|Qe<<16,Ue=St,Ve=Pt,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=(Wt>>>28|In<<4)^(In>>>2|Wt<<30)^(In>>>7|Wt<<25),Ve=(In>>>28|Wt<<4)^(Wt>>>2|In<<30)^(Wt>>>7|In<<25),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Ue=Wt&mn^Wt&gn^mn&gn,Ve=In&Mn^In&Nn^Mn&Nn,et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,Zt=nt&65535|pt<<16,Ft=et&65535|Qe<<16,Ue=bt,Ve=un,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=St,Ve=Pt,et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,bt=nt&65535|pt<<16,un=et&65535|Qe<<16,mn=Ne,gn=Ge,_n=ut,Ee=bt,On=Ye,$n=jn,Gn=Et,Wt=Zt,Mn=dn,Nn=yn,Dr=vn,Yt=un,Wr=Rt,ar=hn,Cr=Tt,In=Ft,Dt%16===15)for(_t=0;_t<16;_t++)Ue=ve[_t],Ve=Be[_t],et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ve[(_t+9)%16],Ve=Be[(_t+9)%16],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,St=ve[(_t+1)%16],Pt=Be[(_t+1)%16],Ue=(St>>>1|Pt<<31)^(St>>>8|Pt<<24)^St>>>7,Ve=(Pt>>>1|St<<31)^(Pt>>>8|St<<24)^(Pt>>>7|St<<25),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,St=ve[(_t+14)%16],Pt=Be[(_t+14)%16],Ue=(St>>>19|Pt<<13)^(Pt>>>29|St<<3)^St>>>6,Ve=(Pt>>>19|St<<13)^(St>>>29|Pt<<3)^(Pt>>>6|St<<26),et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ve[_t]=nt&65535|pt<<16,Be[_t]=et&65535|Qe<<16;Ue=Wt,Ve=In,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[0],Ve=fe[0],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[0]=Wt=nt&65535|pt<<16,fe[0]=In=et&65535|Qe<<16,Ue=mn,Ve=Mn,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[1],Ve=fe[1],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[1]=mn=nt&65535|pt<<16,fe[1]=Mn=et&65535|Qe<<16,Ue=gn,Ve=Nn,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[2],Ve=fe[2],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[2]=gn=nt&65535|pt<<16,fe[2]=Nn=et&65535|Qe<<16,Ue=_n,Ve=Dr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[3],Ve=fe[3],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[3]=_n=nt&65535|pt<<16,fe[3]=Dr=et&65535|Qe<<16,Ue=Ee,Ve=Yt,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[4],Ve=fe[4],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[4]=Ee=nt&65535|pt<<16,fe[4]=Yt=et&65535|Qe<<16,Ue=On,Ve=Wr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[5],Ve=fe[5],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[5]=On=nt&65535|pt<<16,fe[5]=Wr=et&65535|Qe<<16,Ue=$n,Ve=ar,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[6],Ve=fe[6],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[6]=$n=nt&65535|pt<<16,fe[6]=ar=et&65535|Qe<<16,Ue=Gn,Ve=Cr,et=Ve&65535,Qe=Ve>>>16,nt=Ue&65535,pt=Ue>>>16,Ue=ne[7],Ve=fe[7],et+=Ve&65535,Qe+=Ve>>>16,nt+=Ue&65535,pt+=Ue>>>16,Qe+=et>>>16,nt+=Qe>>>16,pt+=nt>>>16,ne[7]=Gn=nt&65535|pt<<16,fe[7]=Cr=et&65535|Qe<<16,Gr+=128,Z-=128}return Z}function rn(ne,fe,he){var Z=new Int32Array(8),ve=new Int32Array(8),Be=new Uint8Array(256),Ne,Ge=he;for(Z[0]=1779033703,Z[1]=3144134277,Z[2]=1013904242,Z[3]=2773480762,Z[4]=1359893119,Z[5]=2600822924,Z[6]=528734635,Z[7]=1541459225,ve[0]=4089235720,ve[1]=2227873595,ve[2]=4271175723,ve[3]=1595750129,ve[4]=2917565137,ve[5]=725511199,ve[6]=4215389547,ve[7]=327033209,jt(Z,ve,fe,he),he%=128,Ne=0;Ne<he;Ne++)Be[Ne]=fe[Ge-he+Ne];for(Be[he]=128,he=256-128*(he<112?1:0),Be[he-9]=0,v(Be,he-8,Ge/536870912|0,Ge<<3),jt(Z,ve,Be,he),Ne=0;Ne<8;Ne++)v(ne,8*Ne,Z[Ne],ve[Ne]);return 0}function Re(ne,fe){var he=n(),Z=n(),ve=n(),Be=n(),Ne=n(),Ge=n(),ut=n(),bt=n(),Ye=n();G(he,ne[1],ne[0]),G(Ye,fe[1],fe[0]),Y(he,he,Ye),F(Z,ne[0],ne[1]),F(Ye,fe[0],fe[1]),Y(Z,Z,Ye),Y(ve,ne[3],fe[3]),Y(ve,ve,d),Y(Be,ne[2],fe[2]),F(Be,Be,Be),G(Ne,Z,he),G(Ge,Be,ve),F(ut,Be,ve),F(bt,Z,he),Y(ne[0],Ne,Ge),Y(ne[1],bt,ut),Y(ne[2],ut,Ge),Y(ne[3],Ne,bt)}function Ze(ne,fe,he){var Z;for(Z=0;Z<4;Z++)j(ne[Z],fe[Z],he)}function ct(ne,fe){var he=n(),Z=n(),ve=n();ye(ve,fe[2]),Y(he,fe[0],ve),Y(Z,fe[1],ve),V(ne,Z),ne[31]^=W(he)<<7}function st(ne,fe,he){var Z,ve;for(O(ne[0],s),O(ne[1],a),O(ne[2],a),O(ne[3],s),ve=255;ve>=0;--ve)Z=he[ve/8|0]>>(ve&7)&1,Ze(ne,fe,Z),Re(fe,ne),Re(ne,ne),Ze(ne,fe,Z)}function vt(ne,fe){var he=[n(),n(),n(),n()];O(he[0],u),O(he[1],h),O(he[2],a),Y(he[3],u,h),st(ne,he,fe)}function $t(ne,fe,he){var Z=new Uint8Array(64),ve=[n(),n(),n(),n()],Be;for(he||r(fe,32),rn(Z,fe,32),Z[0]&=248,Z[31]&=127,Z[31]|=64,vt(ve,Z),ct(ne,ve),Be=0;Be<32;Be++)fe[Be+32]=ne[Be];return 0}var zt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ce(ne,fe){var he,Z,ve,Be;for(Z=63;Z>=32;--Z){for(he=0,ve=Z-32,Be=Z-12;ve<Be;++ve)fe[ve]+=he-16*fe[Z]*zt[ve-(Z-32)],he=Math.floor((fe[ve]+128)/256),fe[ve]-=he*256;fe[ve]+=he,fe[Z]=0}for(he=0,ve=0;ve<32;ve++)fe[ve]+=he-(fe[31]>>4)*zt[ve],he=fe[ve]>>8,fe[ve]&=255;for(ve=0;ve<32;ve++)fe[ve]-=he*zt[ve];for(Z=0;Z<32;Z++)fe[Z+1]+=fe[Z]>>8,ne[Z]=fe[Z]&255}function X(ne){var fe=new Float64Array(64),he;for(he=0;he<64;he++)fe[he]=ne[he];for(he=0;he<64;he++)ne[he]=0;ce(ne,fe)}function ee(ne,fe,he,Z){var ve=new Uint8Array(64),Be=new Uint8Array(64),Ne=new Uint8Array(64),Ge,ut,bt=new Float64Array(64),Ye=[n(),n(),n(),n()];rn(ve,Z,32),ve[0]&=248,ve[31]&=127,ve[31]|=64;var jn=he+64;for(Ge=0;Ge<he;Ge++)ne[64+Ge]=fe[Ge];for(Ge=0;Ge<32;Ge++)ne[32+Ge]=ve[32+Ge];for(rn(Ne,ne.subarray(32),he+32),X(Ne),vt(Ye,Ne),ct(ne,Ye),Ge=32;Ge<64;Ge++)ne[Ge]=Z[Ge];for(rn(Be,ne,he+64),X(Be),Ge=0;Ge<64;Ge++)bt[Ge]=0;for(Ge=0;Ge<32;Ge++)bt[Ge]=Ne[Ge];for(Ge=0;Ge<32;Ge++)for(ut=0;ut<32;ut++)bt[Ge+ut]+=Be[Ge]*ve[ut];return ce(ne.subarray(32),bt),jn}function we(ne,fe){var he=n(),Z=n(),ve=n(),Be=n(),Ne=n(),Ge=n(),ut=n();return O(ne[2],a),P(ne[1],fe),ie(ve,ne[1]),Y(Be,ve,c),G(ve,ve,ne[2]),F(Be,ne[2],Be),ie(Ne,Be),ie(Ge,Ne),Y(ut,Ge,Ne),Y(he,ut,ve),Y(he,he,Be),ge(he,he),Y(he,he,ve),Y(he,he,Be),Y(he,he,Be),Y(ne[0],he,Be),ie(Z,ne[0]),Y(Z,Z,Be),K(Z,ve)&&Y(ne[0],ne[0],m),ie(Z,ne[0]),Y(Z,Z,Be),K(Z,ve)?-1:(W(ne[0])===fe[31]>>7&&G(ne[0],s,ne[0]),Y(ne[3],ne[0],ne[1]),0)}function Ae(ne,fe,he,Z){var ve,Be=new Uint8Array(32),Ne=new Uint8Array(64),Ge=[n(),n(),n(),n()],ut=[n(),n(),n(),n()];if(he<64||we(ut,Z))return-1;for(ve=0;ve<he;ve++)ne[ve]=fe[ve];for(ve=0;ve<32;ve++)ne[ve+32]=Z[ve];if(rn(Ne,ne,he),X(Ne),st(Ge,ut,Ne),vt(ut,fe.subarray(32)),Re(Ge,ut),ct(Be,Ge),he-=64,b(fe,0,Be,0)){for(ve=0;ve<he;ve++)ne[ve]=0;return-1}for(ve=0;ve<he;ve++)ne[ve]=fe[ve+64];return he}var Pe=32,Fe=24,en=32,on=16,tn=32,Bn=32,Jt=32,hr=32,Wa=32,pr=Fe,wr=en,uc=on,ir=64,sr=32,Qo=64,Or=32,Ir=64;t.lowlevel={crypto_core_hsalsa20:I,crypto_stream_xor:U,crypto_stream:C,crypto_stream_salsa20_xor:D,crypto_stream_salsa20:M,crypto_onetimeauth:z,crypto_onetimeauth_verify:q,crypto_verify_16:g,crypto_verify_32:b,crypto_secretbox:S,crypto_secretbox_open:A,crypto_scalarmult:be,crypto_scalarmult_base:Le,crypto_box_beforenm:Me,crypto_box_afternm:gt,crypto_box:dt,crypto_box_open:Xt,crypto_box_keypair:qe,crypto_hash:rn,crypto_sign:ee,crypto_sign_keypair:$t,crypto_sign_open:Ae,crypto_secretbox_KEYBYTES:Pe,crypto_secretbox_NONCEBYTES:Fe,crypto_secretbox_ZEROBYTES:en,crypto_secretbox_BOXZEROBYTES:on,crypto_scalarmult_BYTES:tn,crypto_scalarmult_SCALARBYTES:Bn,crypto_box_PUBLICKEYBYTES:Jt,crypto_box_SECRETKEYBYTES:hr,crypto_box_BEFORENMBYTES:Wa,crypto_box_NONCEBYTES:pr,crypto_box_ZEROBYTES:wr,crypto_box_BOXZEROBYTES:uc,crypto_sign_BYTES:ir,crypto_sign_PUBLICKEYBYTES:sr,crypto_sign_SECRETKEYBYTES:Qo,crypto_sign_SEEDBYTES:Or,crypto_hash_BYTES:Ir,gf:n,D:c,L:zt,pack25519:V,unpack25519:P,M:Y,A:F,S:ie,Z:G,pow2523:ge,add:Re,set25519:O,modL:ce,scalarmult:st,scalarbase:vt};function fc(ne,fe){if(ne.length!==Pe)throw new Error("bad key size");if(fe.length!==Fe)throw new Error("bad nonce size")}function Er(ne,fe){if(ne.length!==Jt)throw new Error("bad public key size");if(fe.length!==hr)throw new Error("bad secret key size")}function Fn(){for(var ne=0;ne<arguments.length;ne++)if(!(arguments[ne]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function es(ne){for(var fe=0;fe<ne.length;fe++)ne[fe]=0}t.randomBytes=function(ne){var fe=new Uint8Array(ne);return r(fe,ne),fe},t.secretbox=function(ne,fe,he){Fn(ne,fe,he),fc(he,fe);for(var Z=new Uint8Array(en+ne.length),ve=new Uint8Array(Z.length),Be=0;Be<ne.length;Be++)Z[Be+en]=ne[Be];return S(ve,Z,Z.length,fe,he),ve.subarray(on)},t.secretbox.open=function(ne,fe,he){Fn(ne,fe,he),fc(he,fe);for(var Z=new Uint8Array(on+ne.length),ve=new Uint8Array(Z.length),Be=0;Be<ne.length;Be++)Z[Be+on]=ne[Be];return Z.length<32||A(ve,Z,Z.length,fe,he)!==0?null:ve.subarray(en)},t.secretbox.keyLength=Pe,t.secretbox.nonceLength=Fe,t.secretbox.overheadLength=on,t.scalarMult=function(ne,fe){if(Fn(ne,fe),ne.length!==Bn)throw new Error("bad n size");if(fe.length!==tn)throw new Error("bad p size");var he=new Uint8Array(tn);return be(he,ne,fe),he},t.scalarMult.base=function(ne){if(Fn(ne),ne.length!==Bn)throw new Error("bad n size");var fe=new Uint8Array(tn);return Le(fe,ne),fe},t.scalarMult.scalarLength=Bn,t.scalarMult.groupElementLength=tn,t.box=function(ne,fe,he,Z){var ve=t.box.before(he,Z);return t.secretbox(ne,fe,ve)},t.box.before=function(ne,fe){Fn(ne,fe),Er(ne,fe);var he=new Uint8Array(Wa);return Me(he,ne,fe),he},t.box.after=t.secretbox,t.box.open=function(ne,fe,he,Z){var ve=t.box.before(he,Z);return t.secretbox.open(ne,fe,ve)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var ne=new Uint8Array(Jt),fe=new Uint8Array(hr);return qe(ne,fe),{publicKey:ne,secretKey:fe}},t.box.keyPair.fromSecretKey=function(ne){if(Fn(ne),ne.length!==hr)throw new Error("bad secret key size");var fe=new Uint8Array(Jt);return Le(fe,ne),{publicKey:fe,secretKey:new Uint8Array(ne)}},t.box.publicKeyLength=Jt,t.box.secretKeyLength=hr,t.box.sharedKeyLength=Wa,t.box.nonceLength=pr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(ne,fe){if(Fn(ne,fe),fe.length!==Qo)throw new Error("bad secret key size");var he=new Uint8Array(ir+ne.length);return ee(he,ne,ne.length,fe),he},t.sign.open=function(ne,fe){if(Fn(ne,fe),fe.length!==sr)throw new Error("bad public key size");var he=new Uint8Array(ne.length),Z=Ae(he,ne,ne.length,fe);if(Z<0)return null;for(var ve=new Uint8Array(Z),Be=0;Be<ve.length;Be++)ve[Be]=he[Be];return ve},t.sign.detached=function(ne,fe){for(var he=t.sign(ne,fe),Z=new Uint8Array(ir),ve=0;ve<Z.length;ve++)Z[ve]=he[ve];return Z},t.sign.detached.verify=function(ne,fe,he){if(Fn(ne,fe,he),fe.length!==ir)throw new Error("bad signature size");if(he.length!==sr)throw new Error("bad public key size");var Z=new Uint8Array(ir+ne.length),ve=new Uint8Array(ir+ne.length),Be;for(Be=0;Be<ir;Be++)Z[Be]=fe[Be];for(Be=0;Be<ne.length;Be++)Z[Be+ir]=ne[Be];return Ae(ve,Z,Z.length,he)>=0},t.sign.keyPair=function(){var ne=new Uint8Array(sr),fe=new Uint8Array(Qo);return $t(ne,fe),{publicKey:ne,secretKey:fe}},t.sign.keyPair.fromSecretKey=function(ne){if(Fn(ne),ne.length!==Qo)throw new Error("bad secret key size");for(var fe=new Uint8Array(sr),he=0;he<fe.length;he++)fe[he]=ne[32+he];return{publicKey:fe,secretKey:new Uint8Array(ne)}},t.sign.keyPair.fromSeed=function(ne){if(Fn(ne),ne.length!==Or)throw new Error("bad seed size");for(var fe=new Uint8Array(sr),he=new Uint8Array(Qo),Z=0;Z<32;Z++)he[Z]=ne[Z];return $t(fe,he,!0),{publicKey:fe,secretKey:he}},t.sign.publicKeyLength=sr,t.sign.secretKeyLength=Qo,t.sign.seedLength=Or,t.sign.signatureLength=ir,t.hash=function(ne){Fn(ne);var fe=new Uint8Array(Ir);return rn(fe,ne,ne.length),fe},t.hash.hashLength=Ir,t.verify=function(ne,fe){return Fn(ne,fe),ne.length===0||fe.length===0||ne.length!==fe.length?!1:y(ne,0,fe,0,ne.length)===0},t.setPRNG=function(ne){r=ne},(function(){var ne=typeof self<"u"?self.crypto||self.msCrypto:null;if(ne&&ne.getRandomValues){var fe=65536;t.setPRNG(function(he,Z){var ve,Be=new Uint8Array(Z);for(ve=0;ve<Z;ve+=fe)ne.getRandomValues(Be.subarray(ve,ve+Math.min(Z-ve,fe)));for(ve=0;ve<Z;ve++)he[ve]=Be[ve];es(Be)})}else typeof P7t<"u"&&(ne=uhe,ne&&ne.randomBytes&&t.setPRNG(function(he,Z){var ve,Be=ne.randomBytes(Z);for(ve=0;ve<Z;ve++)he[ve]=Be[ve];es(Be)}))})()})(e.exports?e.exports:self.nacl=self.nacl||{})})(FT)),FT.exports}var M7t=B7t();const $1=Rr(M7t),WT=(e,t)=>`https://phantom.app/ul/v1/${e}?${t.toString()}`,qT=e=>(["data","nonce","phantom_encryption_public_key","errorCode","errorMessage","data"].forEach(n=>{e.searchParams.delete(n)}),e.toString()),zT=(e,t)=>{const n=`Failed to decrypt phantom redirect payload: ${e} was invalid (${t})`;throw Ct.error(n),new Error(n)},u2=(e,t,n)=>{e||zT("data",e),t||zT("nonce",t),n||zT("sharedSecret",n);const r=$1.box.open.after(Qi.decode(e),Qi.decode(t),n);if(!r)throw new Error("Unable to decrypt data");return JSON.parse(Buffer.from(r).toString("utf8"))},are=(e,t)=>{const n=$1.randomBytes(24),r=$1.box.after(Buffer.from(JSON.stringify(e)),n,t);return[n,r]},fi={address:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_wallet_address"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] address.get",{value:t}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] address.remove"),localStorage.removeItem("dynamic_phantom_wallet_address")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] address.set",{address:e.toString()}),localStorage.setItem("dynamic_phantom_wallet_address",e.toString())}},encryptionPublicKey:{get:()=>{const e=localStorage.getItem("dynamic_phantom_public_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_public_key")},set:e=>{localStorage.setItem("dynamic_phantom_public_key",JSON.stringify([...e]))}},encryptionSecretKey:{get:()=>{const e=localStorage.getItem("dynamic_phantom_secret_key");if(e)return new Uint8Array(JSON.parse(e))},remove:()=>{localStorage.removeItem("dynamic_phantom_secret_key")},set:e=>{localStorage.setItem("dynamic_phantom_secret_key",JSON.stringify([...e]))}},message:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_message_to_sign"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] message.get",{hasMessage:!!t,messageLength:t==null?void 0:t.length,messagePreview:t==null?void 0:t.substring(0,100)}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] message.remove"),localStorage.removeItem("dynamic_phantom_message_to_sign")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] message.set",{messageLength:e.length,messagePreview:e.substring(0,100)}),localStorage.setItem("dynamic_phantom_message_to_sign",e)}},method:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_method"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] method.get",{value:t}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] method.remove"),localStorage.removeItem("dynamic_phantom_method")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] method.set",{method:e}),localStorage.setItem("dynamic_phantom_method",e)}},requestId:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_request_id"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_request_id")},set:e=>{localStorage.setItem("dynamic_phantom_request_id",e)}},sendOptions:{get:()=>{var e;return(e=localStorage.getItem("dynamic_phantom_send_options"))!==null&&e!==void 0?e:void 0},remove:()=>{localStorage.removeItem("dynamic_phantom_send_options")},set:e=>{localStorage.setItem("dynamic_phantom_send_options",e)}},session:{get:()=>{var e;const t=(e=localStorage.getItem("dynamic_phantom_session"))!==null&&e!==void 0?e:void 0;return Ct.logVerboseTroubleshootingMessage("[PhantomStorage] session.get",{hasSession:!!t}),t},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] session.remove"),localStorage.removeItem("dynamic_phantom_session")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] session.set",{session:e}),localStorage.setItem("dynamic_phantom_session",e)}},sharedSecret:{get:()=>{const e=localStorage.getItem("dynamic_phantom_shared_secret");if(Ct.logVerboseTroubleshootingMessage("[PhantomStorage] sharedSecret.get",{hasSharedSecret:!!e}),!!e)return new Uint8Array(JSON.parse(e))},remove:()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] sharedSecret.remove"),localStorage.removeItem("dynamic_phantom_shared_secret")},set:e=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] sharedSecret.set",{sharedSecretLength:e.length}),localStorage.setItem("dynamic_phantom_shared_secret",JSON.stringify([...e]))}}},D7t=()=>{Ct.logVerboseTroubleshootingMessage("[PhantomStorage] clearStorage called");for(const e in fi)fi[e].remove()};class j7t extends P_{constructor(t){super(Object.assign({},t)),this.name="Phantom",this.overrideKey="phantom"}getMethod(){throw new Error("Method not implemented.")}setupNativeMobileListener({eventName:t,methodName:n,getResult:r,shouldIgnoreEvent:i}){if(!Ln.isNativeMobile)return;const o=`${Date.now()}-${Math.random().toString(36).slice(2)}`;return fi.requestId.set(o),Ct.logVerboseTroubleshootingMessage(`[PhantomRedirect] ${n} - setting up listener`,{requestId:o}),new Promise((s,a)=>{const l=c=>{if(c.requestId!==o||i!=null&&i(c,o)){Ct.logVerboseTroubleshootingMessage(`[PhantomRedirect] ${n} - ignoring event (requestId mismatch)`,{expectedRequestId:o,receivedRequestId:c.requestId});return}Ct.logVerboseTroubleshootingMessage(`[PhantomRedirect] ${n} - listener received matching event`,{errorCode:c.errorCode,requestId:o}),this.off(t,l),c.errorCode?a(new Error(c.errorMessage||c.errorCode)):s(r(c))};this.on(t,l)})}openPhantomUrl({payload:t,sharedSecret:n,encryptionPublicKey:r,phantomEndpoint:i,methodToStore:o}){const[s,a]=are(t,n),l=new URLSearchParams({dapp_encryption_public_key:Qi.encode(r),nonce:Qi.encode(s),payload:Qi.encode(a),redirect_link:qT(Ln.getUrl())}),c=WT(i,l);fi.method.set(o),Ct.debug(`[PhantomRedirect] ${o} - opening Phantom`,{isNativeMobile:Ln.isNativeMobile}),Ln.openURL(c)}getAddress(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get();if(t)return t;yield this.connect()})}connect(){return Ht(this,void 0,void 0,function*(){var t;const n=ot.getItem(ub);n&&(n.connectorConsumed?ot.setItem(ub,void 0):(n.connectorConsumed=!0,ot.setItem(ub,n)));const r=$1.box.keyPair();fi.encryptionPublicKey.set(r.publicKey),fi.encryptionSecretKey.set(r.secretKey);const{href:i}=Ln.getUrl(),o=i.includes("localhost")||i.includes("0.0.0.0")||i.includes("127.0.0.1"),s=this.getSelectedNetwork();let a=(t=s==null?void 0:s.cluster)!==null&&t!==void 0?t:"mainnet-beta";a==="mainnet"&&(a="mainnet-beta");const l=new URLSearchParams({app_url:o?"https://demo.dynamic.xyz":i,cluster:a,dapp_encryption_public_key:Qi.encode(r.publicKey),redirect_link:qT(Ln.getUrl())}),c=WT("connect",l);Ln.openURL(c)})}getSession(){return Ht(this,void 0,void 0,function*(){const{data:t,nonce:n,phantom_encryption_public_key:r,encryptionSecretKey:i}=this.getInputsOrThrow("getSession",["data","nonce","phantom_encryption_public_key"],["encryptionSecretKey"]),o=$1.box.before(Qi.decode(r),i);fi.sharedSecret.set(o);const s=u2(t,n,o);return fi.session.set(s.session),fi.address.set(new Cn(s.public_key)),s.public_key})}signMessage(t){return Ht(this,void 0,void 0,function*(){Ct.debug("[PhantomRedirect] signMessage called",{messageLength:t.length,messagePreview:t.substring(0,200)});const{session:n,sharedSecret:r,encryptionPublicKey:i}=this.getInputsOrThrow("signMessage",[],["session","sharedSecret","encryptionPublicKey"]);fi.message.set(t);const o={message:Qi.encode(Buffer.from(t)),session:n};this.openPhantomUrl({encryptionPublicKey:i,methodToStore:"signMessage",payload:o,phantomEndpoint:"signMessage",sharedSecret:r});const s=this.setupNativeMobileListener({eventName:"signMessage",getResult:a=>a.signature,methodName:"signMessage",shouldIgnoreEvent:a=>a.message!==t});if(s)return s;throw Ct.debug("[PhantomRedirect] signMessage - mobile web, throwing ignore error"),new Error("ignore")})}extractSignature(){var t;Ct.debug("[PhantomRedirect] extractSignature called");const{data:n,nonce:r,sharedSecret:i,message:o}=this.getInputsOrThrow("extractSignature",["data","nonce"],["sharedSecret","message"]);Ct.debug("[PhantomRedirect] extractSignature - retrieved from storage",{dataPresent:!!n,message:o,messageLength:o==null?void 0:o.length,noncePresent:!!r,sharedSecretPresent:!!i});const s=u2(n,r,i);return Ct.debug("[PhantomRedirect] extractSignature - decrypted payload",{signature:s.signature,signatureLength:(t=s.signature)===null||t===void 0?void 0:t.length}),{message:o,signature:s.signature}}extractTransactions(){const{data:t,nonce:n,sharedSecret:r}=this.getInputsOrThrow("extractTransactions",["data","nonce"],["sharedSecret"]);return u2(t,n,r).transactions.map(s=>rI.from(Qi.decode(s)))}extractTransaction(){const{data:t,nonce:n,sharedSecret:r}=this.getInputsOrThrow("extractTransaction",["data","nonce"],["sharedSecret"]),i=u2(t,n,r),o=Qi.decode(i.transaction);try{return iI.deserialize(o)}catch{return rI.from(o)}}extractAndSendTransaction(){return Ht(this,void 0,void 0,function*(){Ct.debug("[PhantomRedirect] extractAndSendTransaction called");const t=this.extractTransaction(),n=fi.sendOptions.get();fi.sendOptions.remove();const r=n?JSON.parse(n):void 0;Ct.debug("[PhantomRedirect] Sending transaction to network",{hasSendOptions:!!r,isVersioned:t instanceof iI});const i=t.serialize(),o=yield this.getWalletClient().sendRawTransaction(i,r);return Ct.debug("[PhantomRedirect] Transaction sent successfully",{signature:o}),o})}consumeMethod(){const t=fi.method.get();return fi.method.remove(),t}consumeRequestId(){const t=fi.requestId.get();return fi.requestId.remove(),t}getSigner(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get();if(t)return{addListener:()=>{throw new Error("Not implemented")},connect:()=>{throw new Error("Not implemented")},disconnect:()=>{throw new Error("Not implemented")},emit:()=>{throw new Error("Not implemented")},eventNames:()=>{throw new Error("Not implemented")},isBackpack:!1,isBraveWallet:!1,isConnected:!0,isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!0,isSolflare:!1,listenerCount:()=>{throw new Error("Not implemented")},listeners:()=>{throw new Error("Not implemented")},off:()=>{throw new Error("Not implemented")},on:()=>{throw new Error("Not implemented")},once:()=>{throw new Error("Not implemented")},providers:[],publicKey:new Cn(t),removeAllListeners:()=>{throw new Error("Not implemented")},removeListener:()=>{throw new Error("Not implemented")},signAllTransactions:n=>Ht(this,void 0,void 0,function*(){const r=n.map(c=>Qi.encode(c.serialize({requireAllSignatures:!1}))),{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signAllTransactions",[],["session","sharedSecret","encryptionPublicKey"]),a={session:i,transactions:r};this.openPhantomUrl({encryptionPublicKey:s,methodToStore:"signAllTransactions",payload:a,phantomEndpoint:"signAllTransactions",sharedSecret:o});const l=this.setupNativeMobileListener({eventName:"signAllTransactions",getResult:c=>c.transactions||[],methodName:"signAllTransactions"});return l||[]}),signAndSendTransaction:(n,r)=>Ht(this,void 0,void 0,function*(){const i=Qi.encode(n.serialize({requireAllSignatures:!1})),{session:o,sharedSecret:s,encryptionPublicKey:a}=this.getInputsOrThrow("signAndSendTransaction",[],["session","sharedSecret","encryptionPublicKey"]),l={session:o,transaction:i};r&&fi.sendOptions.set(JSON.stringify(r)),this.openPhantomUrl({encryptionPublicKey:a,methodToStore:"signAndSendTransaction",payload:l,phantomEndpoint:"signTransaction",sharedSecret:s});const c=this.setupNativeMobileListener({eventName:"signAndSendTransaction",getResult:d=>({signature:d.signature||""}),methodName:"signAndSendTransaction"});return c||{signature:""}}),signMessage:n=>Ht(this,void 0,void 0,function*(){const r=new TextDecoder().decode(n),i=yield this.signMessage(r);return{signature:i?Qi.decode(i):new Uint8Array(0)}}),signTransaction:n=>Ht(this,void 0,void 0,function*(){const r=Qi.encode(n.serialize({requireAllSignatures:!1})),{session:i,sharedSecret:o,encryptionPublicKey:s}=this.getInputsOrThrow("signTransaction",[],["session","sharedSecret","encryptionPublicKey"]),a={session:i,transaction:r};this.openPhantomUrl({encryptionPublicKey:s,methodToStore:"signTransaction",payload:a,phantomEndpoint:"signTransaction",sharedSecret:o});const l=this.setupNativeMobileListener({eventName:"signTransaction",getResult:c=>c.transaction,methodName:"signTransaction"});return l||n})}})}getConnectedAccounts(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get();return t?[t]:[]})}endSession(){return Ht(this,void 0,void 0,function*(){const t=fi.address.get(),n=fi.session.get(),r=fi.sharedSecret.get(),i=fi.encryptionPublicKey.get();if(D7t(),!t||!n||!i||!r)return;const o={session:n},[s,a]=are(o,r),l=new URLSearchParams({dapp_encryption_public_key:Qi.encode(i),nonce:Qi.encode(s),payload:Qi.encode(a),redirect_link:qT(Ln.getUrl())}),c=WT("disconnect",l);Ln.openURL(c)})}getInputsOrThrow(t,n,r){const i={},o=Ln.getUrl().searchParams;return n.forEach(s=>{const a=o.get(s);if(!a)throw new Error(`[PhantomRedirect] ${t} called, but required input '${s}' not found in query params`);i[s]=a}),r.forEach(s=>{const a=fi[s].get();if(!a)throw new Error(`[PhantomRedirect] ${t} called, but required input '${s}' not found in local storage`);i[s]=a}),i}}class Hve extends P_{constructor(){super(...arguments),this.name="Phantom",this.overrideKey="phantom"}connect(){return Ht(this,void 0,void 0,function*(){yield this.getMobileOrInstalledWallet().connect()})}getSigner(){return Ht(this,void 0,void 0,function*(){return this.getMobileOrInstalledWallet().getSigner()})}getMobileOrInstalledWallet(){const t=new N7t(this.constructorProps);return rr()&&!t.isInstalledOnBrowser()&&this.mobileExperience==="redirect"?new j7t(this.constructorProps):t}}Object.defineProperty(Hve,"key",{value:"phantom",writable:!1});class Gve extends gg{constructor(){super(...arguments),this.name="CoinbaseSolana",this.overrideKey="coinbasesolana"}getSigner(){return Ht(this,void 0,void 0,function*(){var t;return(t=this.solProviderHelper)===null||t===void 0?void 0:t.connect()})}signMessage(t){return Ht(this,void 0,void 0,function*(){const n=yield this.getAddress();if(!n)return;const r=yield this.getSigner();if(!r)return;const i=new TextEncoder().encode(t),o=yield r.signMessage(i,n);if(o)return Th(Eme(o)?o.signature:o)})}}Object.defineProperty(Gve,"key",{value:"coinbasesolana",writable:!1});class Jve extends gg{constructor(t){super(t),this.name="Solflare",this.overrideKey="solflare",this.walletConnectWalletBookEntry=Ud(t.walletBook,this.key)}getMobileOrInstalledWallet(){return rr()?this:super.getMobileOrInstalledWallet()}getAddress(){return Ht(this,void 0,void 0,function*(){var t,n;if(rr()&&!this.isInstalledOnBrowser()){const r=(t=this.metadata.deepLinks)===null||t===void 0?void 0:t.mobile;eoe({nativeLink:(r==null?void 0:r.native)||"solflare://ul/v1/browse",universalLink:(r==null?void 0:r.universal)||"https://solflare.com/ul/v1/browse"});return}return(n=this.solProviderHelper)===null||n===void 0?void 0:n.getAddress()})}signMessage(t){return Ht(this,void 0,void 0,function*(){if(!(yield this.getAddress()))return;const r=yield this.getSigner();if(!r)return;const i=new TextEncoder().encode(t),o=a=>a.signature!==void 0;yield r.connect(),yield new Promise(a=>{setTimeout(a,100)});const s=yield r.signMessage(i,"utf8");return o(s)?Th(s.signature):void 0})}}Object.defineProperty(Jve,"key",{value:"solflare",writable:!1});const $7t=({key:e,wallet:t,walletBook:n})=>{const{shortName:r}=t,i=r||t.name;let o;t.group&&(o=Object.values(n.wallets).find(a=>{var l;return a.walletConnect&&a.group===t.group&&((l=a.chains)===null||l===void 0?void 0:l.some(c=>c.includes("solana:")))}));const s=class extends gg{constructor(){super(...arguments),this.walletName=i,this.name=i,this.walletConnectWalletBookEntry=o,this.overrideKey=e}};return Object.defineProperty(s,"key",{value:e,writable:!1}),s},L7t=e=>!("instructions"in e),U7t=({wallet:e,walletConnector:t})=>{const n=e.features,r=()=>{var m,v,y;return!!(((m=e.accounts)===null||m===void 0?void 0:m.length)>0&&(!((v=e.accounts[0])===null||v===void 0)&&v.publicKey)&&(!((y=e.accounts[0])===null||y===void 0)&&y.address))},i=m=>Ht(void 0,void 0,void 0,function*(){var v;const y=e.accounts;if(Ct.logVerboseTroubleshootingMessage("[SolanaWalletStandardConnector] - connect",{autoConnectedAccounts:y}),r())return{address:y[0].address,publicKey:y[0].publicKey};const g=(v=n["standard:connect"])===null||v===void 0?void 0:v.connect;if(!g){Ct.error("connect - Not implemented");return}const b=yield g({silent:!1});if(b.accounts[0])return{address:b.accounts[0].address,publicKey:b.accounts[0].publicKey}}),o=()=>Ht(void 0,void 0,void 0,function*(){var m;const v=(m=n["standard:disconnect"])===null||m===void 0?void 0:m.disconnect;if(!v){Ct.debug("disconnect - Not implemented");return}yield v()}),s=()=>Ht(void 0,void 0,void 0,function*(){const m=yield t.getAddress(),v=e.accounts.find(y=>y.address===m);if(!v)throw new Error("Account not found");return v}),a=()=>{var m;const v=t.getSelectedNetwork();if(!v)throw new Error("Network not found");return`solana:${(m=v.cluster)!==null&&m!==void 0?m:"mainnet"}`},l=m=>Ht(void 0,void 0,void 0,function*(){return(yield c([m]))[0]}),c=m=>Ht(void 0,void 0,void 0,function*(){const v=n["solana:signTransaction"].signTransaction,y=yield s(),g=a(),b=m.map(R=>({account:y,chain:g,transaction:R.serialize({requireAllSignatures:!1})}));return(yield v(...b)).map(({signedTransaction:R},I)=>{const T=m[I];return L7t(T)?iI.deserialize(R):rI.from(R)})}),d=m=>Ht(void 0,void 0,void 0,function*(){var v;const y=(v=n["solana:signAndSendTransaction"])===null||v===void 0?void 0:v.signAndSendTransaction;if(!y)throw Ct.error("signAndSendTransaction - Not implemented"),new Error("signAndSendTransaction - Not implemented by wallet");const g=yield s(),b=yield y({account:g,chain:a(),transaction:m.serialize({requireAllSignatures:!1})}),[{signature:k}]=b;return{signature:Qi.encode(k)}}),u=m=>Ht(void 0,void 0,void 0,function*(){var v;const y=(v=n["solana:signMessage"])===null||v===void 0?void 0:v.signMessage;if(!y)throw Ct.error("signMessage - Not implemented"),new Error("signMessage - Not implemented by wallet");const g=yield s();return{signature:(yield y({account:g,message:m}))[0].signature}}),h=(m,v)=>{var y;const g=(y=n["standard:events"])===null||y===void 0?void 0:y.on;if(!g){Ct.error("on - Not implemented");return}if(Ct.debug(`[SolanaWalletStandardConnector] - on: ${m}`),m!=="accountChanged"){Ct.debug(`on - Not implemented for event: ${m}`);return}return g("change",k=>{var _,R;const I=(R=(_=k.accounts)===null||_===void 0?void 0:_[0])===null||R===void 0?void 0:R.publicKey;I&&v(new TextDecoder().decode(I))})};return{addListener:()=>{throw new Error("addListener - Not implemented")},connect:i,disconnect:o,emit:()=>{throw new Error("emit - Not implemented")},eventNames:()=>(Ct.error("eventNames - Not implemented"),[]),isBackpack:!1,isBraveWallet:!1,isConnected:r(),isExodus:!1,isGlow:!1,isMagicEden:!1,isPhantom:!1,isSolflare:!1,listenerCount:()=>(Ct.error("listenerCount - Not implemented"),0),listeners:()=>(Ct.error("listeners - Not implemented"),[]),off:()=>{throw new Error("off - Not implemented")},on:h,once:()=>{throw new Error("once - Not implemented")},providers:[],get publicKey(){var m,v;if(!((v=(m=e.accounts)===null||m===void 0?void 0:m[0])===null||v===void 0)&&v.publicKey)return new Cn(e.accounts[0].publicKey)},removeAllListeners:()=>{throw new Error("removeAllListeners - Not implemented")},removeListener:()=>{throw new Error("removeListener - Not implemented")},send:()=>{throw new Error("send - Not implemented")},signAllTransactions:c,signAndSendTransaction:d,signMessage:u,signTransaction:l}},Zve=(e,t={},n=void 0)=>{const r=K1(e.name),i=class extends gg{constructor(o){super(Object.assign(Object.assign({},o),{metadata:Object.assign(Object.assign({},t),{groupKey:r,icon:e.icon,id:r,name:e.name})})),this.name=e.name,this.overrideKey=`${r}sol`,this._provider=U7t({wallet:e,walletConnector:this})}findProvider(){return this._provider}};return Object.defineProperty(i,"key",{value:n??r,writable:!1}),i},Yve=()=>{const{get:e,on:t}=Ime();return{on:t,wallets:e()}},F7t=(e,t="connect-and-sign")=>{var n,r,i,o;const s=!!(!((n=e.features)===null||n===void 0)&&n["standard:events"]&&(!((r=e.features)===null||r===void 0)&&r["standard:connect"])&&(!((i=e.features)===null||i===void 0)&&i["solana:signTransaction"])),a=t==="connect-and-sign"?!!(!((o=e.features)===null||o===void 0)&&o["solana:signMessage"]):!0;return s&&a};let f2=null;const W7t=[Gve,P0e,Jve],Xve=["coinbasesolana","phantom","phantomledger","backpacksol","solflare"],Qve=(e,t,n)=>{var r;const{name:i}=e,o="sol",s=`${K1(i)}${o}`;Ct.logVerboseTroubleshootingMessage("[SOL shouldAddWalletStandardConnector]",i,o,s,e.features);const a=([d,u])=>{var h,m,v,y,g,b;const k=d===s,_=Xve.includes(s),R=u.name===i&&((m=(h=u.injectedConfig)===null||h===void 0?void 0:h[0])===null||m===void 0?void 0:m.chain)===o,I=!(!((b=(g=(y=(v=u.injectedConfig)===null||v===void 0?void 0:v[0])===null||y===void 0?void 0:y.walletStandard)===null||g===void 0?void 0:g.features)===null||b===void 0)&&b.length);return(k||_||R)&&I},l=Object.entries((r=t==null?void 0:t.wallets)!==null&&r!==void 0?r:{}).find(a),c=F7t(e,n);return Ct.logVerboseTroubleshootingMessage("[SOL shouldAddWalletStandardConnector]",{hasAllFeatures:c,shouldAdd:!l&&c,shouldHandleFromWalletBook:l}),!l&&c},q7t=(e,t)=>{if(typeof window>"u")return;f2==null||f2();const{on:n}=Yve();f2=n("register",r=>{var i,o;if(!Qve(r,e,t))return;Ct.logVerboseTroubleshootingMessage("[SOL fetchInjectedWalletConnectors] Wallet registered via wallet-standard",r.name);const s=cRe(e,r.name,"sol"),a=s?(o=Object.entries((i=e==null?void 0:e.wallets)!==null&&i!==void 0?i:{}).find(([,d])=>d===s))===null||o===void 0?void 0:o[0]:void 0,l=s&&X1({walletBook:e,walletBookWallet:s,walletKey:a??`${K1(r.name)}sol`}),c=Zve(r,l,a);Hl.emit("providerInjected",{injectedConnectorConstructor:c})})},z7t=({walletBook:e,authMode:t})=>{var n;q7t(e,t);const r=Object.entries((n=e==null?void 0:e.wallets)!==null&&n!==void 0?n:{}).filter(([s,a])=>{var l,c,d;const u=(l=a.injectedConfig)===null||l===void 0?void 0:l.find(v=>v.chain==="sol"),h=!!u,m=Xve.includes(s)||((d=(c=u==null?void 0:u.walletStandard)===null||c===void 0?void 0:c.features)===null||d===void 0?void 0:d.length);return h&&!m}).map(([s,a])=>$7t({key:s,wallet:a,walletBook:e})),{wallets:i}=Yve(),o=i.filter(s=>Qve(s,e,t)).map(s=>{var a,l;const[c,d]=(l=Object.entries((a=e==null?void 0:e.wallets)!==null&&a!==void 0?a:{}).find(([,h])=>{var m,v;return h.name===s.name&&((v=(m=h.injectedConfig)===null||m===void 0?void 0:m[0])===null||v===void 0?void 0:v.chain)==="sol"}))!==null&&l!==void 0?l:[],u=d&&X1({walletBook:e,walletBookWallet:d,walletKey:c??`${K1(s.name)}sol`});return Zve(s,u,c)});return Ct.logVerboseTroubleshootingMessage("[SOL fetchInjectedWalletConnectors] walletStandardConnectors",o.map(s=>s.name)),[...r,...o]};class ewe extends gg{constructor(){super(...arguments),this.name="Fallback Connector",this.overrideKey="fallbackconnector",this.isAvailable=!1}isInstalledOnBrowser(){return!1}}Object.defineProperty(ewe,"key",{value:"fallbackconnector",writable:!1});const V7t=()=>{const e=class extends fo{constructor(t){super(Object.assign(Object.assign({},t),{metadata:{groupKey:"walletconnect",name:"WalletConnect"},walletName:"WalletConnect Sol"}))}};return Object.defineProperty(e,"key",{value:"walletconnectsol",writable:!1}),e},K7t=({walletBook:e,connectors:t})=>{var n;const r=Object.entries((n=e==null?void 0:e.wallets)!==null&&n!==void 0?n:{}),i=r.filter(([,s])=>{var a;return s.walletConnect&&((a=s.chains)===null||a===void 0?void 0:a.some(l=>l.includes("solana:")))}).map(([s,a])=>{const{shortName:l}=a,c=l||a.name,d=class extends fo{constructor(h){super(Object.assign(Object.assign({},h),{metadata:X1({walletBook:e,walletBookWallet:a,walletKey:s}),overrideKey:s,walletName:c})),this.overrideKey=s}},u=r.filter(([,{group:h}])=>h&&h===a.group).map(([h])=>h);return Object.defineProperty(d,"key",{value:s,writable:!1}),Object.defineProperty(d,"groupedKeys",{value:u,writable:!1}),d});let o=i;return t.length>0&&(o=i.filter(s=>t.every(a=>a.key!==s.key&&!s.groupedKeys.includes(a.key)))),[...t,...o]},H7t=e=>{const n=(e.solNetworks||[]).length>0,r=[...W7t,...z7t(e),...MNt(e),...O7t(),Hve,ewe,...n?[V7t()]:[]];return n?K7t({connectors:r,walletBook:e.walletBook}):r};Oo("@dynamic-labs/solana",bst);function G7t({children:e}){return f.jsx(rst,{settings:{environmentId:"efb7e70d-a833-428e-9537-c9510cf2c7ae",walletConnectors:[H7t],overrides:{views:[{type:"login",sections:[{type:"email"}]}]}},children:e})}const lre={success:{bg:"#dcfce7",border:"#22c55e",text:"#166534",icon:J7t},error:{bg:"#fee2e2",border:"#dc2626",text:"#991b1b",icon:Z7t},warning:{bg:"#fef3c7",border:"#f59e0b",text:"#92400e",icon:Y7t},info:{bg:"#dbeafe",border:"#3b82f6",text:"#1e40af",icon:X7t}};function J7t(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}function Z7t(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function Y7t(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function X7t(){return f.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function Q7t({toast:e,onDismiss:t}){const n=lre[e.type]||lre.info,r=n.icon;return f.jsxs("div",{style:{backgroundColor:n.bg,border:`3px solid ${n.border}`,borderRadius:"12px",padding:"12px 16px",boxShadow:"4px 4px 0 #222",display:"flex",alignItems:"center",gap:"12px",maxWidth:"360px",width:"100%",animation:"slideDown 0.3s ease-out",color:n.text},children:[f.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(r,{})}),f.jsx("div",{style:{flex:1,fontSize:"14px",fontWeight:"bold",lineHeight:1.3},children:e.message}),e.button&&f.jsx("button",{onClick:()=>{var i;(i=e.onButtonClick)==null||i.call(e),t()},style:{padding:"6px 12px",backgroundColor:n.border,color:"#fff",border:"2px solid #222",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},children:e.button}),f.jsx("button",{onClick:t,style:{flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",cursor:"pointer",opacity:.6,color:n.text},children:f.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}function eBt(){const{toasts:e,dismissToast:t}=Gfe();return e.length===0?null:f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
      `}),f.jsx("div",{style:{position:"fixed",top:"16px",left:"50%",transform:"translateX(-50%)",zIndex:10001,display:"flex",flexDirection:"column",gap:"8px",padding:"0 16px",width:"100%",maxWidth:"400px",boxSizing:"border-box"},children:e.map(n=>f.jsx(Q7t,{toast:n,onDismiss:()=>t(n.id)},n.id))})]})}function tBt({activeTab:e,onTabChange:t}){const{colors:n}=dc(),r=[{id:"history",label:"History",icon:"clock"},{id:"bet",label:"Bet",icon:"bolt"},{id:"wallet",label:"Wallet",icon:"wallet"}];return f.jsx("nav",{style:{position:"fixed",bottom:0,left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"480px",height:"80px",backgroundColor:n.backgroundSecondary,borderTop:`3px solid ${n.border}`,zIndex:9999,display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 16px",boxSizing:"border-box"},children:r.map(i=>f.jsxs("button",{onClick:()=>t(i.id),style:{width:"80px",height:"56px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"12px",border:e===i.id?`2px solid ${n.border}`:"2px solid transparent",backgroundColor:e===i.id?n.paper:"transparent",boxShadow:e===i.id?`2px 2px 0 ${n.border}`:"none",cursor:"pointer",transition:"none",color:n.text},children:[i.icon==="clock"&&f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.icon==="bolt"&&f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),i.icon==="wallet"&&f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),f.jsx("span",{style:{fontSize:"12px",fontWeight:"bold",marginTop:"4px"},children:i.label})]},i.id))})}function nBt({onAudioInit:e}){const{setShowAuthFlow:t}=Zc(),{colors:n,isDark:r}=dc(),i=async()=>{try{const o=new(window.AudioContext||window.webkitAudioContext);await o.resume(),e(o)}catch(o){console.error("Audio init error:",o),e(null)}t(!0)};return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",backgroundColor:n.background,backgroundImage:`radial-gradient(${r?"#444":"#ccc"} 1px, transparent 1px)`,backgroundSize:"20px 20px"},children:[f.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:n.border,borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",boxShadow:`6px 6px 0 ${n.border}`,border:`4px solid ${n.border}`},children:f.jsx("span",{style:{color:"#fff",fontSize:"48px",fontWeight:"bold"},children:"I"})}),f.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:n.text,margin:"0 0 8px 0",textAlign:"center"},children:"Instinkt"}),f.jsx("p",{style:{fontSize:"18px",color:n.textSecondary,margin:"0 0 48px 0",textAlign:"center",fontWeight:"bold"},children:"Bet on your gut feeling"}),f.jsxs("div",{style:{backgroundColor:n.paper,border:`4px solid ${n.border}`,borderRadius:"20px",padding:"32px",boxShadow:`8px 8px 0 ${n.border}`,maxWidth:"360px",width:"100%",textAlign:"center"},children:[f.jsx("div",{style:{marginBottom:"32px",display:"flex",flexDirection:"column",alignItems:"center"},children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#fef3c7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n.border}`,flexShrink:0},children:f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#f59e0b",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.text},children:"30 seconds per bet"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dcfce7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n.border}`,flexShrink:0},children:f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#22c55e",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.text},children:"Swipe to decide"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dbeafe",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${n.border}`,flexShrink:0},children:f.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:n.text},children:"Win real rewards"})]})]})}),f.jsx("button",{onClick:i,style:{width:"100%",padding:"18px 24px",backgroundColor:n.border,color:"#fff",border:`4px solid ${n.border}`,borderRadius:"14px",fontSize:"20px",fontWeight:"bold",cursor:"pointer",boxShadow:`4px 4px 0 ${r?"#000":n.border}`,transition:"transform 0.1s, box-shadow 0.1s"},onMouseDown:o=>{o.currentTarget.style.transform="translate(4px, 4px)",o.currentTarget.style.boxShadow="none"},onMouseUp:o=>{o.currentTarget.style.transform="none",o.currentTarget.style.boxShadow=`4px 4px 0 ${r?"#000":n.border}`},onMouseLeave:o=>{o.currentTarget.style.transform="none",o.currentTarget.style.boxShadow=`4px 4px 0 ${r?"#000":n.border}`},children:"Sign In"}),f.jsx("p",{style:{fontSize:"13px",color:n.textMuted,margin:"16px 0 0 0"},children:"Trust your instincts. Make your move."})]}),f.jsx("p",{style:{fontSize:"12px",color:n.textMuted,marginTop:"32px",textAlign:"center"},children:"By signing in, you agree to our Terms of Service"})]})}const R$=x.createContext({});function G_(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const KE=x.createContext(null),HE=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class rBt extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function iBt({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=x.useContext(HE);return x.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=i.current;if(t||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),f.jsx(rBt,{isPresent:t,childRef:r,sizeRef:i,children:x.cloneElement(e,{ref:r})})}const oBt=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=G_(sBt),l=x.useId(),c=x.useCallback(u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),d=x.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c,register:u=>(a.set(u,!1),()=>a.delete(u))}),o?[Math.random(),c]:[n,c]);return x.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=f.jsx(iBt,{isPresent:n,children:e})),f.jsx(KE.Provider,{value:d,children:e})};function sBt(){return new Map}function twe(e=!0){const t=x.useContext(KE);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=x.useId();x.useEffect(()=>{e&&i(o)},[e]);const s=x.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const h2=e=>e.key||"";function cre(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const T$=typeof window<"u",O$=T$?x.useLayoutEffect:x.useEffect,N$=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[a,l]=twe(s),c=x.useMemo(()=>cre(e),[e]),d=s&&!a?[]:c.map(h2),u=x.useRef(!0),h=x.useRef(c),m=G_(()=>new Map),[v,y]=x.useState(c),[g,b]=x.useState(c);O$(()=>{u.current=!1,h.current=c;for(let R=0;R<g.length;R++){const I=h2(g[R]);d.includes(I)?m.delete(I):m.get(I)!==!0&&m.set(I,!1)}},[g,d.length,d.join("-")]);const k=[];if(c!==v){let R=[...c];for(let I=0;I<g.length;I++){const T=g[I],D=h2(T);d.includes(D)||(R.splice(I,0,T),k.push(T))}o==="wait"&&k.length&&(R=k),b(cre(R)),y(c);return}const{forceRender:_}=x.useContext(R$);return f.jsx(f.Fragment,{children:g.map(R=>{const I=h2(R),T=s&&!a?!1:c===g||d.includes(I),D=()=>{if(m.has(I))m.set(I,!0);else return;let M=!0;m.forEach(C=>{C||(M=!1)}),M&&(_==null||_(),b(h.current),s&&(l==null||l()),r&&r())};return f.jsx(oBt,{isPresent:T,initial:!u.current||n?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:T?void 0:D,children:R},I)})})},xl=e=>e;let nwe=xl;function P$(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Nd=e=>e*1e3,Pd=e=>e/1e3,aBt={useManualTiming:!1};function lBt(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(c){o.has(c)&&(l.schedule(c),e()),c(s)}const l={schedule:(c,d=!1,u=!1)=>{const m=u&&r?t:n;return d&&o.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const p2=["read","resolveKeyframes","update","preRender","render","postRender"],cBt=40;function rwe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=p2.reduce((b,k)=>(b[k]=lBt(o),b),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=s,m=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,cBt),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},v=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:p2.reduce((b,k)=>{const _=s[k];return b[k]=(R,I=!1,T=!1)=>(n||v(),_.schedule(R,I,T)),b},{}),cancel:b=>{for(let k=0;k<p2.length;k++)s[p2[k]].cancel(b)},state:i,steps:s}}const{schedule:ii,cancel:Ju,state:fs,steps:VT}=rwe(typeof requestAnimationFrame<"u"?requestAnimationFrame:xl,!0),iwe=x.createContext({strict:!1}),dre={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},G0={};for(const e in dre)G0[e]={isEnabled:t=>dre[e].some(n=>!!t[n])};function dBt(e){for(const t in e)G0[t]={...G0[t],...e[t]}}const uBt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function NI(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uBt.has(e)}let owe=e=>!NI(e);function fBt(e){e&&(owe=t=>t.startsWith("on")?!NI(t):e(t))}try{fBt(require("@emotion/is-prop-valid").default)}catch{}function hBt(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(owe(i)||n===!0&&NI(i)||!t&&!NI(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function pBt(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const GE=x.createContext({});function L1(e){return typeof e=="string"||Array.isArray(e)}function JE(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const B$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],M$=["initial",...B$];function ZE(e){return JE(e.animate)||M$.some(t=>L1(e[t]))}function swe(e){return!!(ZE(e)||e.variants)}function mBt(e,t){if(ZE(e)){const{initial:n,animate:r}=e;return{initial:n===!1||L1(n)?n:void 0,animate:L1(r)?r:void 0}}return e.inherit!==!1?t:{}}function gBt(e){const{initial:t,animate:n}=mBt(e,x.useContext(GE));return x.useMemo(()=>({initial:t,animate:n}),[ure(t),ure(n)])}function ure(e){return Array.isArray(e)?e.join(" "):e}const yBt=Symbol.for("motionComponentSymbol");function Fy(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vBt(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Fy(n)&&(n.current=r))},[t])}const D$=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wBt="framerAppearId",awe="data-"+D$(wBt),{schedule:j$}=rwe(queueMicrotask,!1),lwe=x.createContext({});function bBt(e,t,n,r,i){var o,s;const{visualElement:a}=x.useContext(GE),l=x.useContext(iwe),c=x.useContext(KE),d=x.useContext(HE).reducedMotion,u=x.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,m=x.useContext(lwe);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&_Bt(u.current,n,i,m);const v=x.useRef(!1);x.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const y=n[awe],g=x.useRef(!!y&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,y))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,y)));return O$(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),j$.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),g.current=!1))}),h}function _Bt(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cwe(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Fy(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function cwe(e){if(e)return e.options.allowProjection!==!1?e.projection:cwe(e.parent)}function xBt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&dBt(e);function a(c,d){let u;const h={...x.useContext(HE),...c,layoutId:kBt(c)},{isStatic:m}=h,v=gBt(c),y=r(c,m);if(!m&&T$){SBt();const g=IBt(h);u=g.MeasureLayout,v.visualElement=bBt(i,y,h,t,g.ProjectionNode)}return f.jsxs(GE.Provider,{value:v,children:[u&&v.visualElement?f.jsx(u,{visualElement:v.visualElement,...h}):null,n(i,c,vBt(y,v.visualElement,d),y,m,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const l=x.forwardRef(a);return l[yBt]=i,l}function kBt({layoutId:e}){const t=x.useContext(R$).id;return t&&e!==void 0?t+"-"+e:e}function SBt(e,t){x.useContext(iwe).strict}function IBt(e){const{drag:t,layout:n}=G0;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const EBt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $$(e){return typeof e!="string"||e.includes("-")?!1:!!(EBt.indexOf(e)>-1||/[A-Z]/u.test(e))}function fre(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function L$(e,t,n,r){if(typeof t=="function"){const[i,o]=fre(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=fre(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const UB=e=>Array.isArray(e),CBt=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ABt=e=>UB(e)?e[e.length-1]||0:e,Jo=e=>!!(e&&e.getVelocity);function eS(e){const t=Jo(e)?e.get():e;return CBt(t)?t.toValue():t}function RBt({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:TBt(r,i,o,e),renderState:t()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const dwe=e=>(t,n)=>{const r=x.useContext(GE),i=x.useContext(KE),o=()=>RBt(e,t,r,i);return n?o():G_(o)};function TBt(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=eS(o[h]);let{initial:s,animate:a}=e;const l=ZE(e),c=swe(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;if(u&&typeof u!="boolean"&&!JE(u)){const h=Array.isArray(u)?u:[u];for(let m=0;m<h.length;m++){const v=L$(e,h[m]);if(v){const{transitionEnd:y,transition:g,...b}=v;for(const k in b){let _=b[k];if(Array.isArray(_)){const R=d?_.length-1:0;_=_[R]}_!==null&&(i[k]=_)}for(const k in y)i[k]=y[k]}}}return i}const Ov=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_g=new Set(Ov),uwe=e=>t=>typeof t=="string"&&t.startsWith(e),fwe=uwe("--"),OBt=uwe("var(--"),U$=e=>OBt(e)?NBt.test(e.split("/*")[0].trim()):!1,NBt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hwe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zu=(e,t,n)=>n>t?t:n<e?e:n,Nv={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},U1={...Nv,transform:e=>Zu(0,1,e)},m2={...Nv,default:1},J_=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ah=J_("deg"),Bd=J_("%"),xn=J_("px"),PBt=J_("vh"),BBt=J_("vw"),hre={...Bd,parse:e=>Bd.parse(e)/100,transform:e=>Bd.transform(e*100)},MBt={borderWidth:xn,borderTopWidth:xn,borderRightWidth:xn,borderBottomWidth:xn,borderLeftWidth:xn,borderRadius:xn,radius:xn,borderTopLeftRadius:xn,borderTopRightRadius:xn,borderBottomRightRadius:xn,borderBottomLeftRadius:xn,width:xn,maxWidth:xn,height:xn,maxHeight:xn,top:xn,right:xn,bottom:xn,left:xn,padding:xn,paddingTop:xn,paddingRight:xn,paddingBottom:xn,paddingLeft:xn,margin:xn,marginTop:xn,marginRight:xn,marginBottom:xn,marginLeft:xn,backgroundPositionX:xn,backgroundPositionY:xn},DBt={rotate:ah,rotateX:ah,rotateY:ah,rotateZ:ah,scale:m2,scaleX:m2,scaleY:m2,scaleZ:m2,skew:ah,skewX:ah,skewY:ah,distance:xn,translateX:xn,translateY:xn,translateZ:xn,x:xn,y:xn,z:xn,perspective:xn,transformPerspective:xn,opacity:U1,originX:hre,originY:hre,originZ:xn},pre={...Nv,transform:Math.round},F$={...MBt,...DBt,zIndex:pre,size:xn,fillOpacity:U1,strokeOpacity:U1,numOctaves:pre},jBt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$Bt=Ov.length;function LBt(e,t,n){let r="",i=!0;for(let o=0;o<$Bt;o++){const s=Ov[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=hwe(a,F$[s]);if(!l){i=!1;const d=jBt[s]||s;r+=`${d}(${c}) `}n&&(t[s]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function W$(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const c=t[l];if(_g.has(l)){s=!0;continue}else if(fwe(l)){i[l]=c;continue}else{const d=hwe(c,F$[l]);l.startsWith("origin")?(a=!0,o[l]=d):r[l]=d}}if(t.transform||(s||n?r.transform=LBt(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${c} ${d}`}}const UBt={offset:"stroke-dashoffset",array:"stroke-dasharray"},FBt={offset:"strokeDashoffset",array:"strokeDasharray"};function WBt(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?UBt:FBt;e[o.offset]=xn.transform(-r);const s=xn.transform(t),a=xn.transform(n);e[o.array]=`${s} ${a}`}function mre(e,t,n){return typeof e=="string"?e:xn.transform(t+n*e)}function qBt(e,t,n){const r=mre(t,e.x,e.width),i=mre(n,e.y,e.height);return`${r} ${i}`}function q$(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(W$(e,c,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:v}=e;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=qBt(v,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&WBt(h,s,a,l,!1)}const z$=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),pwe=()=>({...z$(),attrs:{}}),V$=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mwe(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const gwe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ywe(e,t,n,r){mwe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(gwe.has(i)?i:D$(i),t.attrs[i])}const PI={};function zBt(e){Object.assign(PI,e)}function vwe(e,{layout:t,layoutId:n}){return _g.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!PI[e]||e==="opacity")}function K$(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Jo(i[s])||t.style&&Jo(t.style[s])||vwe(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function wwe(e,t,n){const r=K$(e,t,n);for(const i in e)if(Jo(e[i])||Jo(t[i])){const o=Ov.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function VBt(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const gre=["x","y","width","height","cx","cy","r"],KBt={useVisualState:dwe({scrapeMotionValuesFromProps:wwe,createRenderState:pwe,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in i)if(_g.has(a)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let a=0;a<gre.length;a++){const l=gre[a];e[l]!==t[l]&&(s=!0)}s&&ii.read(()=>{VBt(n,r),ii.render(()=>{q$(r,i,V$(n.tagName),e.transformTemplate),ywe(n,r)})})}})},HBt={useVisualState:dwe({scrapeMotionValuesFromProps:K$,createRenderState:z$})};function bwe(e,t,n){for(const r in t)!Jo(t[r])&&!vwe(r,n)&&(e[r]=t[r])}function GBt({transformTemplate:e},t){return x.useMemo(()=>{const n=z$();return W$(n,t,e),Object.assign({},n.vars,n.style)},[t])}function JBt(e,t){const n=e.style||{},r={};return bwe(r,n,e),Object.assign(r,GBt(e,t)),r}function ZBt(e,t){const n={},r=JBt(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function YBt(e,t,n,r){const i=x.useMemo(()=>{const o=pwe();return q$(o,t,V$(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};bwe(o,e.style,e),i.style={...o,...i.style}}return i}function XBt(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=($$(n)?YBt:ZBt)(r,o,s,n),c=hBt(r,typeof n=="string",e),d=n!==x.Fragment?{...c,...l,ref:i}:{},{children:u}=r,h=x.useMemo(()=>Jo(u)?u.get():u,[u]);return x.createElement(n,{...d,children:h})}}function QBt(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...$$(r)?KBt:HBt,preloadedFeatures:e,useRender:XBt(i),createVisualElement:t,Component:r};return xBt(s)}}function _we(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function YE(e,t,n){const r=e.getProps();return L$(r,t,n!==void 0?n:r.custom,e)}const eMt=P$(()=>window.ScrollTimeline!==void 0);class tMt{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(eMt()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xwe extends tMt{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function H$(e,t){return e?e[t]||e.default||e:void 0}const BI=2e4;function G$(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<BI;)t+=n,r=e.next(t);return t>=BI?1/0:t}function nMt(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(G$(r),BI);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Pd(i)}}function XE(e){return typeof e=="function"}function yre(e,t){e.timeline=t,e.onfinish=null}const J$=e=>Array.isArray(e)&&typeof e[0]=="number",rMt={linearEasing:void 0};function iMt(e,t){const n=P$(e);return()=>{var r;return(r=rMt[t])!==null&&r!==void 0?r:n()}}const MI=iMt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kwe=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Dm(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Swe(e){return!!(typeof e=="function"&&MI()||!e||typeof e=="string"&&(e in FB||MI())||J$(e)||Array.isArray(e)&&e.every(Swe))}const lb=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,FB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lb([0,.65,.55,1]),circOut:lb([.55,0,1,.45]),backIn:lb([.31,.01,.66,-.59]),backOut:lb([.33,1.53,.69,.99])};function Iwe(e,t){if(e)return typeof e=="function"&&MI()?kwe(e,t):J$(e)?lb(e):Array.isArray(e)?e.map(n=>Iwe(n,t)||FB.easeOut):FB[e]}const Pc={x:!1,y:!1};function Ewe(){return Pc.x||Pc.y}function Cwe(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function Awe(e,t){const n=Cwe(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function vre(e){return t=>{t.pointerType==="touch"||Ewe()||e(t)}}function oMt(e,t,n={}){const[r,i,o]=Awe(e,n),s=vre(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const d=vre(u=>{c(u),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const Rwe=(e,t)=>t?e===t?!0:Rwe(e,t.parentElement):!1,Z$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sMt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aMt(e){return sMt.has(e.tagName)||e.tabIndex!==-1}const cb=new WeakSet;function wre(e){return t=>{t.key==="Enter"&&e(t)}}function KT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lMt=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=wre(()=>{if(cb.has(n))return;KT(n,"down");const i=wre(()=>{KT(n,"up")}),o=()=>KT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function bre(e){return Z$(e)&&!Ewe()}function cMt(e,t,n={}){const[r,i,o]=Awe(e,n),s=a=>{const l=a.currentTarget;if(!bre(a)||cb.has(l))return;cb.add(l);const c=t(a),d=(m,v)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h),!(!bre(m)||!cb.has(l))&&(cb.delete(l),typeof c=="function"&&c(m,{success:v}))},u=m=>{d(m,n.useGlobalTarget||Rwe(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{!aMt(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",c=>lMt(c,i),i)}),o}function dMt(e){return e==="x"||e==="y"?Pc[e]?null:(Pc[e]=!0,()=>{Pc[e]=!1}):Pc.x||Pc.y?null:(Pc.x=Pc.y=!0,()=>{Pc.x=Pc.y=!1})}const Twe=new Set(["width","height","top","left","right","bottom",...Ov]);let tS;function uMt(){tS=void 0}const Md={now:()=>(tS===void 0&&Md.set(fs.isProcessing||aBt.useManualTiming?fs.timestamp:performance.now()),tS),set:e=>{tS=e,queueMicrotask(uMt)}};function Y$(e,t){e.indexOf(t)===-1&&e.push(t)}function QE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class X${constructor(){this.subscriptions=[]}add(t){return Y$(this.subscriptions,t),()=>QE(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Owe(e,t){return t?e*(1e3/t):0}const _re=30,fMt=e=>!isNaN(parseFloat(e)),Mb={current:void 0};class hMt{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Md.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Md.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fMt(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new X$);const r=this.events[t].add(n);return t==="change"?()=>{r(),ii.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Mb.current&&Mb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Md.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_re)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_re);return Owe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function J0(e,t){return new hMt(e,t)}function pMt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,J0(n))}function mMt(e,t){const n=YE(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=ABt(o[s]);pMt(e,s,a)}}function gMt(e){return!!(Jo(e)&&e.add)}function WB(e,t){const n=e.getValue("willChange");if(gMt(n))return n.add(t)}function Nwe(e){return e.props[awe]}const Pwe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,yMt=1e-7,vMt=12;function wMt(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Pwe(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>yMt&&++a<vMt);return s}function Z_(e,t,n,r){if(e===t&&n===r)return xl;const i=o=>wMt(o,0,1,e,n);return o=>o===0||o===1?o:Pwe(i(o),t,r)}const Bwe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Mwe=e=>t=>1-e(1-t),Dwe=Z_(.33,1.53,.69,.99),Q$=Mwe(Dwe),jwe=Bwe(Q$),$we=e=>(e*=2)<1?.5*Q$(e):.5*(2-Math.pow(2,-10*(e-1))),eL=e=>1-Math.sin(Math.acos(e)),Lwe=Mwe(eL),Uwe=Bwe(eL),Fwe=e=>/^0[^.\s]+$/u.test(e);function bMt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Fwe(e):!0}const Db=e=>Math.round(e*1e5)/1e5,tL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _Mt(e){return e==null}const xMt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nL=(e,t)=>n=>!!(typeof n=="string"&&xMt.test(n)&&n.startsWith(e)||t&&!_Mt(n)&&Object.prototype.hasOwnProperty.call(n,t)),Wwe=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(tL);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},kMt=e=>Zu(0,255,e),HT={...Nv,transform:e=>Math.round(kMt(e))},om={test:nL("rgb","red"),parse:Wwe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+HT.transform(e)+", "+HT.transform(t)+", "+HT.transform(n)+", "+Db(U1.transform(r))+")"};function SMt(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qB={test:nL("#"),parse:SMt,transform:om.transform},Wy={test:nL("hsl","hue"),parse:Wwe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bd.transform(Db(t))+", "+Bd.transform(Db(n))+", "+Db(U1.transform(r))+")"},Vs={test:e=>om.test(e)||qB.test(e)||Wy.test(e),parse:e=>om.test(e)?om.parse(e):Wy.test(e)?Wy.parse(e):qB.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?om.transform(e):Wy.transform(e)},IMt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EMt(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(tL))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(IMt))===null||n===void 0?void 0:n.length)||0)>0}const qwe="number",zwe="color",CMt="var",AMt="var(",xre="${}",RMt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function F1(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(RMt,l=>(Vs.test(l)?(r.color.push(o),i.push(zwe),n.push(Vs.parse(l))):l.startsWith(AMt)?(r.var.push(o),i.push(CMt),n.push(l)):(r.number.push(o),i.push(qwe),n.push(parseFloat(l))),++o,xre)).split(xre);return{values:n,split:a,indexes:r,types:i}}function Vwe(e){return F1(e).values}function Kwe(e){const{split:t,types:n}=F1(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===qwe?o+=Db(i[s]):a===zwe?o+=Vs.transform(i[s]):o+=i[s]}return o}}const TMt=e=>typeof e=="number"?0:e;function OMt(e){const t=Vwe(e);return Kwe(e)(t.map(TMt))}const Vh={test:EMt,parse:Vwe,createTransformer:Kwe,getAnimatableNone:OMt},NMt=new Set(["brightness","contrast","saturate","opacity"]);function PMt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(tL)||[];if(!r)return e;const i=n.replace(r,"");let o=NMt.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const BMt=/\b([a-z-]*)\(.*?\)/gu,zB={...Vh,getAnimatableNone:e=>{const t=e.match(BMt);return t?t.map(PMt).join(" "):e}},MMt={...F$,color:Vs,backgroundColor:Vs,outlineColor:Vs,fill:Vs,stroke:Vs,borderColor:Vs,borderTopColor:Vs,borderRightColor:Vs,borderBottomColor:Vs,borderLeftColor:Vs,filter:zB,WebkitFilter:zB},rL=e=>MMt[e];function Hwe(e,t){let n=rL(e);return n!==zB&&(n=Vh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DMt=new Set(["auto","none","0"]);function jMt(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!DMt.has(o)&&F1(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=Hwe(n,i)}const kre=e=>e===Nv||e===xn,Sre=(e,t)=>parseFloat(e.split(", ")[t]),Ire=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Sre(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Sre(o[1],e):0}},$Mt=new Set(["x","y","z"]),LMt=Ov.filter(e=>!$Mt.has(e));function UMt(e){const t=[];return LMt.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Z0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ire(4,13),y:Ire(5,14)};Z0.translateX=Z0.x;Z0.translateY=Z0.y;const pm=new Set;let VB=!1,KB=!1;function Gwe(){if(KB){const e=Array.from(pm).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=UMt(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}KB=!1,VB=!1,pm.forEach(e=>e.complete()),pm.clear()}function Jwe(){pm.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(KB=!0)})}function FMt(){Jwe(),Gwe()}class iL{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pm.add(this),VB||(VB=!0,ii.read(Jwe),ii.resolveKeyframes(Gwe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zwe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),WMt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qMt(e){const t=WMt.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Ywe(e,t,n=1){const[r,i]=qMt(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return Zwe(s)?parseFloat(s):s}return U$(i)?Ywe(i,t,n+1):i}const Xwe=e=>t=>t.test(e),zMt={test:e=>e==="auto",parse:e=>e},Qwe=[Nv,xn,Bd,ah,BBt,PBt,zMt],Ere=e=>Qwe.find(Xwe(e));class ebe extends iL{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),U$(c))){const d=Ywe(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Twe.has(r)||t.length!==2)return;const[i,o]=t,s=Ere(i),a=Ere(o);if(s!==a)if(kre(s)&&kre(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)bMt(t[i])&&r.push(i);r.length&&jMt(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Z0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Z0[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Cre=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vh.test(e)||e==="0")&&!e.startsWith("url("));function VMt(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function KMt(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=Cre(i,t),a=Cre(o,t);return!s||!a?!1:VMt(e)||(n==="spring"||XE(n))&&r}const HMt=e=>e!==null;function eC(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(HMt),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const GMt=40;class tbe{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Md.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GMt?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&FMt(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Md.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!KMt(t,r,i,o))if(s)this.options.duration=0;else{l&&l(eC(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Si=(e,t,n)=>e+(t-e)*n;function GT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function JMt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=GT(l,a,e+1/3),o=GT(l,a,e),s=GT(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function DI(e,t){return n=>n>0?t:e}const JT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ZMt=[qB,om,Wy],YMt=e=>ZMt.find(t=>t.test(e));function Are(e){const t=YMt(e);if(!t)return!1;let n=t.parse(e);return t===Wy&&(n=JMt(n)),n}const Rre=(e,t)=>{const n=Are(e),r=Are(t);if(!n||!r)return DI(e,t);const i={...n};return o=>(i.red=JT(n.red,r.red,o),i.green=JT(n.green,r.green,o),i.blue=JT(n.blue,r.blue,o),i.alpha=Si(n.alpha,r.alpha,o),om.transform(i))},XMt=(e,t)=>n=>t(e(n)),Y_=(...e)=>e.reduce(XMt),HB=new Set(["none","hidden"]);function QMt(e,t){return HB.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function eDt(e,t){return n=>Si(e,t,n)}function oL(e){return typeof e=="number"?eDt:typeof e=="string"?U$(e)?DI:Vs.test(e)?Rre:rDt:Array.isArray(e)?nbe:typeof e=="object"?Vs.test(e)?Rre:tDt:DI}function nbe(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>oL(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function tDt(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=oL(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function nDt(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const rDt=(e,t)=>{const n=Vh.createTransformer(t),r=F1(e),i=F1(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?HB.has(e)&&!i.values.length||HB.has(t)&&!r.values.length?QMt(e,t):Y_(nbe(nDt(r,i),i.values),n):DI(e,t)};function rbe(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Si(e,t,n):oL(e)(e,t)}const iDt=5;function ibe(e,t,n){const r=Math.max(t-iDt,0);return Owe(n-e(r),t-r)}const Hi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ZT=.001;function oDt({duration:e=Hi.duration,bounce:t=Hi.bounce,velocity:n=Hi.velocity,mass:r=Hi.mass}){let i,o,s=1-t;s=Zu(Hi.minDamping,Hi.maxDamping,s),e=Zu(Hi.minDuration,Hi.maxDuration,Pd(e)),s<1?(i=c=>{const d=c*s,u=d*e,h=d-n,m=GB(c,s),v=Math.exp(-u);return ZT-h/m*v},o=c=>{const u=c*s*e,h=u*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,v=Math.exp(-u),y=GB(Math.pow(c,2),s);return(-i(c)+ZT>0?-1:1)*((h-m)*v)/y}):(i=c=>{const d=Math.exp(-c*e),u=(c-n)*e+1;return-ZT+d*u},o=c=>{const d=Math.exp(-c*e),u=(n-c)*(e*e);return d*u});const a=5/e,l=aDt(i,o,a);if(e=Nd(e),isNaN(l))return{stiffness:Hi.stiffness,damping:Hi.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const sDt=12;function aDt(e,t,n){let r=n;for(let i=1;i<sDt;i++)r=r-e(r)/t(r);return r}function GB(e,t){return e*Math.sqrt(1-t*t)}const lDt=["duration","bounce"],cDt=["stiffness","damping","mass"];function Tre(e,t){return t.some(n=>e[n]!==void 0)}function dDt(e){let t={velocity:Hi.velocity,stiffness:Hi.stiffness,damping:Hi.damping,mass:Hi.mass,isResolvedFromDuration:!1,...e};if(!Tre(e,cDt)&&Tre(e,lDt))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Zu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Hi.mass,stiffness:i,damping:o}}else{const n=oDt(e);t={...t,...n,mass:Hi.mass},t.isResolvedFromDuration=!0}return t}function sL(e=Hi.visualDuration,t=Hi.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=dDt({...n,velocity:-Pd(n.velocity||0)}),v=h||0,y=c/(2*Math.sqrt(l*d)),g=s-o,b=Pd(Math.sqrt(l/d)),k=Math.abs(g)<5;r||(r=k?Hi.restSpeed.granular:Hi.restSpeed.default),i||(i=k?Hi.restDelta.granular:Hi.restDelta.default);let _;if(y<1){const I=GB(b,y);_=T=>{const D=Math.exp(-y*b*T);return s-D*((v+y*b*g)/I*Math.sin(I*T)+g*Math.cos(I*T))}}else if(y===1)_=I=>s-Math.exp(-b*I)*(g+(v+b*g)*I);else{const I=b*Math.sqrt(y*y-1);_=T=>{const D=Math.exp(-y*b*T),M=Math.min(I*T,300);return s-D*((v+y*b*g)*Math.sinh(M)+I*g*Math.cosh(M))/I}}const R={calculatedDuration:m&&u||null,next:I=>{const T=_(I);if(m)a.done=I>=u;else{let D=0;y<1&&(D=I===0?Nd(v):ibe(_,I,T));const M=Math.abs(D)<=r,C=Math.abs(s-T)<=i;a.done=M&&C}return a.value=a.done?s:T,a},toString:()=>{const I=Math.min(G$(R),BI),T=kwe(D=>R.next(I*D).value,I,30);return I+"ms "+T}};return R}function Ore({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},m=M=>a!==void 0&&M<a||l!==void 0&&M>l,v=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let y=n*t;const g=u+y,b=s===void 0?g:s(g);b!==g&&(y=b-u);const k=M=>-y*Math.exp(-M/r),_=M=>b+k(M),R=M=>{const C=k(M),U=_(M);h.done=Math.abs(C)<=c,h.value=h.done?b:U};let I,T;const D=M=>{m(h.value)&&(I=M,T=sL({keyframes:[h.value,v(h.value)],velocity:ibe(_,M,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:d}))};return D(0),{calculatedDuration:null,next:M=>{let C=!1;return!T&&I===void 0&&(C=!0,R(M),D(M)),I!==void 0&&M>=I?T.next(M-I):(!C&&R(M),h)}}}const uDt=Z_(.42,0,1,1),fDt=Z_(0,0,.58,1),obe=Z_(.42,0,.58,1),sbe=e=>Array.isArray(e)&&typeof e[0]!="number",hDt={linear:xl,easeIn:uDt,easeInOut:obe,easeOut:fDt,circIn:eL,circInOut:Uwe,circOut:Lwe,backIn:Q$,backInOut:jwe,backOut:Dwe,anticipate:$we},Nre=e=>{if(J$(e)){nwe(e.length===4);const[t,n,r,i]=e;return Z_(t,n,r,i)}else if(typeof e=="string")return hDt[e];return e};function pDt(e,t,n){const r=[],i=n||rbe,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||xl:t;a=Y_(l,a)}r.push(a)}return r}function abe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(nwe(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=pDt(t,r,i),l=a.length,c=d=>{if(s&&d<e[0])return t[0];let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Dm(e[u],e[u+1],d);return a[u](h)};return n?d=>c(Zu(e[0],e[o-1],d)):c}function lbe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Dm(0,t,r);e.push(Si(n,1,i))}}function cbe(e){const t=[0];return lbe(t,e.length-1),t}function mDt(e,t){return e.map(n=>n*t)}function gDt(e,t){return e.map(()=>t||obe).splice(0,e.length-1)}function jI({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=sbe(r)?r.map(Nre):Nre(r),o={done:!1,value:t[0]},s=mDt(n&&n.length===t.length?n:cbe(t),e),a=abe(s,t,{ease:Array.isArray(i)?i:gDt(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const yDt=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ii.update(t,!0),stop:()=>Ju(t),now:()=>fs.isProcessing?fs.timestamp:Md.now()}},vDt={decay:Ore,inertia:Ore,tween:jI,keyframes:jI,spring:sL},wDt=e=>e/100;class aL extends tbe{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||iL,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=XE(n)?n:vDt[n]||jI;let l,c;a!==jI&&typeof t[0]!="number"&&(l=Y_(wDt,rbe(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});o==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=G$(d));const{calculatedDuration:u}=d,h=u+i,m=h*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:y,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),k=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,R=o;if(m){const M=Math.min(this.currentTime,d)/u;let C=Math.floor(M),U=M%1;!U&&M>=1&&(U=1),U===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(v==="reverse"?(U=1-U,y&&(U-=y/u)):v==="mirror"&&(R=s)),_=Zu(0,1,U)*u}const I=k?{done:!1,value:l[0]}:R.next(_);a&&(I.value=a(I.value));let{done:T}=I;!k&&c!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return D&&i!==void 0&&(I.value=eC(l,this.options,i)),g&&g(I.value),D&&this.finish(),I}get duration(){const{resolved:t}=this;return t?Pd(t.calculatedDuration):0}get time(){return Pd(this.currentTime)}set time(t){t=Nd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Pd(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=yDt,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bDt=new Set(["opacity","clipPath","filter","transform"]);function _Dt(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=Iwe(a,i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const xDt=P$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$I=10,kDt=2e4;function SDt(e){return XE(e.type)||e.type==="spring"||!Swe(e.ease)}function IDt(e,t){const n=new aL({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<kDt;)r=n.sample(o),i.push(r.value),o+=$I;return{times:void 0,keyframes:i,duration:o-$I,ease:"linear"}}const dbe={anticipate:$we,backInOut:jwe,circInOut:Uwe};function EDt(e){return e in dbe}class Pre extends tbe{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new ebe(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&MI()&&EDt(o)&&(o=dbe[o]),SDt(this.options)){const{onComplete:u,onUpdate:h,motionValue:m,element:v,...y}=this.options,g=IDt(t,y);t=g.keyframes,t.length===1&&(t[1]=t[0]),r=g.duration,i=g.times,o=g.ease,s="keyframes"}const d=_Dt(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:o});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(yre(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:u}=this.options;a.set(eC(t,this.options,n)),u&&u(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Pd(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Pd(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Nd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return xl;const{animation:r}=n;yre(r,t)}return xl}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:u,element:h,...m}=this.options,v=new aL({...m,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),y=Nd(this.time);c.setWithVelocity(v.sample(y-$I).value,v.sample(y).value,$I)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return xDt()&&r&&bDt.has(r)&&!l&&!c&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const CDt={type:"spring",stiffness:500,damping:25,restSpeed:10},ADt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RDt={type:"keyframes",duration:.8},TDt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ODt=(e,{keyframes:t})=>t.length>2?RDt:_g.has(e)?e.startsWith("scale")?ADt(t[1]):CDt:TDt;function NDt({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const lL=(e,t,n,r={},i,o)=>s=>{const a=H$(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Nd(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};NDt(a)||(d={...d,...ODt(e,d)}),d.duration&&(d.duration=Nd(d.duration)),d.repeatDelay&&(d.repeatDelay=Nd(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),u&&!o&&t.get()!==void 0){const h=eC(d.keyframes,a);if(h!==void 0)return ii.update(()=>{d.onUpdate(h),d.onComplete()}),new xwe([])}return!o&&Pre.supports(d)?new Pre(d):new aL(d)};function PDt({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cL(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,(o=e.latestValues[u])!==null&&o!==void 0?o:null),m=l[u];if(m===void 0||d&&PDt(d,u))continue;const v={delay:n,...H$(s||{},u)};let y=!1;if(window.MotionHandoffAnimation){const b=Nwe(e);if(b){const k=window.MotionHandoffAnimation(b,u,ii);k!==null&&(v.startTime=k,y=!0)}}WB(e,u),h.start(lL(u,h,m,e.shouldReduceMotion&&Twe.has(u)?{type:!1}:v,e,y));const g=h.animation;g&&c.push(g)}return a&&Promise.all(c).then(()=>{ii.update(()=>{a&&mMt(e,a)})}),c}function JB(e,t,n={}){var r;const i=YE(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(cL(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=o;return BDt(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function BDt(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(MDt).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(JB(c,t,{...o,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function MDt(e,t){return e.sortNodePosition(t)}function DDt(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>JB(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=JB(e,t,n);else{const i=typeof t=="function"?YE(e,t,n.custom):t;r=Promise.all(cL(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const jDt=M$.length;function ube(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ube(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jDt;n++){const r=M$[n],i=e.props[r];(L1(i)||i===!1)&&(t[r]=i)}return t}const $Dt=[...B$].reverse(),LDt=B$.length;function UDt(e){return t=>Promise.all(t.map(({animation:n,options:r})=>DDt(e,n,r)))}function FDt(e){let t=UDt(e),n=Bre(),r=!0;const i=l=>(c,d)=>{var u;const h=YE(e,d,l==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(h){const{transition:m,transitionEnd:v,...y}=h;c={...c,...y,...v}}return c};function o(l){t=l(e)}function s(l){const{props:c}=e,d=ube(e.parent)||{},u=[],h=new Set;let m={},v=1/0;for(let g=0;g<LDt;g++){const b=$Dt[g],k=n[b],_=c[b]!==void 0?c[b]:d[b],R=L1(_),I=b===l?k.isActive:null;I===!1&&(v=g);let T=_===d[b]&&_!==c[b]&&R;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),k.protectedKeys={...m},!k.isActive&&I===null||!_&&!k.prevProp||JE(_)||typeof _=="boolean")continue;const D=WDt(k.prevProp,_);let M=D||b===l&&k.isActive&&!T&&R||g>v&&R,C=!1;const U=Array.isArray(_)?_:[_];let $=U.reduce(i(b),{});I===!1&&($={});const{prevResolvedValues:z={}}=k,q={...z,...$},S=N=>{M=!0,h.has(N)&&(C=!0,h.delete(N)),k.needsAnimating[N]=!0;const j=e.getValue(N);j&&(j.liveStyle=!1)};for(const N in q){const j=$[N],V=z[N];if(m.hasOwnProperty(N))continue;let K=!1;UB(j)&&UB(V)?K=!_we(j,V):K=j!==V,K?j!=null?S(N):h.add(N):j!==void 0&&h.has(N)?S(N):k.protectedKeys[N]=!0}k.prevProp=_,k.prevResolvedValues=$,k.isActive&&(m={...m,...$}),r&&e.blockInitialAnimation&&(M=!1),M&&(!(T&&D)||C)&&u.push(...U.map(N=>({animation:N,options:{type:b}})))}if(h.size){const g={};h.forEach(b=>{const k=e.getBaseTarget(b),_=e.getValue(b);_&&(_.liveStyle=!0),g[b]=k??null}),u.push({animation:g})}let y=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Bre(),r=!0}}}function WDt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_we(t,e):!1}function Rp(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bre(){return{animate:Rp(!0),whileInView:Rp(),whileHover:Rp(),whileTap:Rp(),whileDrag:Rp(),whileFocus:Rp(),exit:Rp()}}class sp{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qDt extends sp{constructor(t){super(t),t.animationState||(t.animationState=FDt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();JE(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let zDt=0;class VDt extends sp{constructor(){super(...arguments),this.id=zDt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KDt={animation:{Feature:qDt},exit:{Feature:VDt}};function W1(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function X_(e){return{point:{x:e.pageX,y:e.pageY}}}const HDt=e=>t=>Z$(t)&&e(t,X_(t));function jb(e,t,n,r){return W1(e,t,HDt(n),r)}const Mre=(e,t)=>Math.abs(e-t);function GDt(e,t){const n=Mre(e.x,t.x),r=Mre(e.y,t.y);return Math.sqrt(n**2+r**2)}class fbe{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=XT(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=GDt(u.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=u,{timestamp:y}=fs;this.history.push({...v,timestamp:y});const{onStart:g,onMove:b}=this.handlers;h||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=YT(h,this.transformPagePoint),ii.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=XT(u.type==="pointercancel"?this.lastMoveEventInfo:YT(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(u,g),v&&v(u,g)},!Z$(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=X_(t),a=YT(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=fs;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,XT(a,this.history)),this.removeListeners=Y_(jb(this.contextWindow,"pointermove",this.handlePointerMove),jb(this.contextWindow,"pointerup",this.handlePointerUp),jb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ju(this.updatePoint)}}function YT(e,t){return t?{point:t(e.point)}:e}function Dre(e,t){return{x:e.x-t.x,y:e.y-t.y}}function XT({point:e},t){return{point:e,delta:Dre(e,hbe(t)),offset:Dre(e,JDt(t)),velocity:ZDt(t,.1)}}function JDt(e){return e[0]}function hbe(e){return e[e.length-1]}function ZDt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=hbe(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Nd(t)));)n--;if(!r)return{x:0,y:0};const o=Pd(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const pbe=1e-4,YDt=1-pbe,XDt=1+pbe,mbe=.01,QDt=0-mbe,ejt=0+mbe;function Il(e){return e.max-e.min}function tjt(e,t,n){return Math.abs(e-t)<=n}function jre(e,t,n,r=.5){e.origin=r,e.originPoint=Si(t.min,t.max,e.origin),e.scale=Il(n)/Il(t),e.translate=Si(n.min,n.max,e.origin)-e.originPoint,(e.scale>=YDt&&e.scale<=XDt||isNaN(e.scale))&&(e.scale=1),(e.translate>=QDt&&e.translate<=ejt||isNaN(e.translate))&&(e.translate=0)}function $b(e,t,n,r){jre(e.x,t.x,n.x,r?r.originX:void 0),jre(e.y,t.y,n.y,r?r.originY:void 0)}function $re(e,t,n){e.min=n.min+t.min,e.max=e.min+Il(t)}function njt(e,t,n){$re(e.x,t.x,n.x),$re(e.y,t.y,n.y)}function Lre(e,t,n){e.min=t.min-n.min,e.max=e.min+Il(t)}function Lb(e,t,n){Lre(e.x,t.x,n.x),Lre(e.y,t.y,n.y)}function rjt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Si(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Si(n,e,r.max):Math.min(e,n)),e}function Ure(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ijt(e,{top:t,left:n,bottom:r,right:i}){return{x:Ure(e.x,n,i),y:Ure(e.y,t,r)}}function Fre(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ojt(e,t){return{x:Fre(e.x,t.x),y:Fre(e.y,t.y)}}function sjt(e,t){let n=.5;const r=Il(e),i=Il(t);return i>r?n=Dm(t.min,t.max-r,e.min):r>i&&(n=Dm(e.min,e.max-i,t.min)),Zu(0,1,n)}function ajt(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ZB=.35;function ljt(e=ZB){return e===!1?e=0:e===!0&&(e=ZB),{x:Wre(e,"left","right"),y:Wre(e,"top","bottom")}}function Wre(e,t,n){return{min:qre(e,t),max:qre(e,n)}}function qre(e,t){return typeof e=="number"?e:e[t]||0}const zre=()=>({translate:0,scale:1,origin:0,originPoint:0}),qy=()=>({x:zre(),y:zre()}),Vre=()=>({min:0,max:0}),Fi=()=>({x:Vre(),y:Vre()});function Kl(e){return[e("x"),e("y")]}function gbe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function cjt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function djt(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function QT(e){return e===void 0||e===1}function YB({scale:e,scaleX:t,scaleY:n}){return!QT(e)||!QT(t)||!QT(n)}function Mp(e){return YB(e)||ybe(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ybe(e){return Kre(e.x)||Kre(e.y)}function Kre(e){return e&&e!=="0%"}function LI(e,t,n){const r=e-n,i=t*r;return n+i}function Hre(e,t,n,r,i){return i!==void 0&&(e=LI(e,i,r)),LI(e,n,r)+t}function XB(e,t=0,n=1,r,i){e.min=Hre(e.min,t,n,r,i),e.max=Hre(e.max,t,n,r,i)}function vbe(e,{x:t,y:n}){XB(e.x,t.translate,t.scale,t.originPoint),XB(e.y,n.translate,n.scale,n.originPoint)}const Gre=.999999999999,Jre=1.0000000000001;function ujt(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Vy(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,vbe(e,s)),r&&Mp(o.latestValues)&&Vy(e,o.latestValues))}t.x<Jre&&t.x>Gre&&(t.x=1),t.y<Jre&&t.y>Gre&&(t.y=1)}function zy(e,t){e.min=e.min+t,e.max=e.max+t}function Zre(e,t,n,r,i=.5){const o=Si(e.min,e.max,i);XB(e,t,n,o,r)}function Vy(e,t){Zre(e.x,t.x,t.scaleX,t.scale,t.originX),Zre(e.y,t.y,t.scaleY,t.scale,t.originY)}function wbe(e,t){return gbe(djt(e.getBoundingClientRect(),t))}function fjt(e,t,n){const r=wbe(e,n),{scroll:i}=t;return i&&(zy(r.x,i.offset.x),zy(r.y,i.offset.y)),r}const bbe=({current:e})=>e?e.ownerDocument.defaultView:null,hjt=new WeakMap;class pjt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(X_(d).point)},o=(d,u)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dMt(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kl(g=>{let b=this.getAxisMotionValue(g).get()||0;if(Bd.test(b)){const{projection:k}=this.visualElement;if(k&&k.layout){const _=k.layout.layoutBox[g];_&&(b=Il(_)*(parseFloat(b)/100))}}this.originPoint[g]=b}),v&&ii.postRender(()=>v(d,u)),WB(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=u;if(m&&this.currentDirection===null){this.currentDirection=mjt(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),y&&y(d,u)},a=(d,u)=>this.stop(d,u),l=()=>Kl(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fbe(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:bbe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ii.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!g2(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=rjt(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Fy(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ijt(i.layoutBox,n):this.constraints=!1,this.elastic=ljt(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Kl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ajt(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fy(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=fjt(r,i.root,this.visualElement.getTransformPagePoint());let s=ojt(i.layout.layoutBox,o);if(n){const a=n(cjt(s));this.hasMutatedConstraints=!!a,a&&(s=gbe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Kl(d=>{if(!g2(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return WB(this.visualElement,t),r.start(lL(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kl(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kl(n=>{const{drag:r}=this.getProps();if(!g2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Si(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kl(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=sjt({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kl(s=>{if(!g2(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Si(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;hjt.set(this.visualElement,this);const t=this.visualElement.current,n=jb(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Fy(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ii.read(r);const s=W1(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Kl(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=ZB,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function g2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mjt(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gjt extends sp{constructor(t){super(t),this.removeGroupControls=xl,this.removeListeners=xl,this.controls=new pjt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xl}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yre=e=>(t,n)=>{e&&ii.postRender(()=>e(t,n))};class yjt extends sp{constructor(){super(...arguments),this.removePointerDownListener=xl}onPointerDown(t){this.session=new fbe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bbe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Yre(t),onStart:Yre(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&ii.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=jb(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xre(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vw={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xn.test(e))e=parseFloat(e);else return e;const n=Xre(e,t.target.x),r=Xre(e,t.target.y);return`${n}% ${r}%`}},vjt={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Vh.parse(e);if(i.length>5)return r;const o=Vh.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const c=Si(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class wjt extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;zBt(bjt),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),nS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||ii.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j$.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _be(e){const[t,n]=twe(),r=x.useContext(R$);return f.jsx(wjt,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(lwe),isPresent:t,safeToRemove:n})}const bjt={borderRadius:{...Vw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vw,borderTopRightRadius:Vw,borderBottomLeftRadius:Vw,borderBottomRightRadius:Vw,boxShadow:vjt};function xbe(e,t,n){const r=Jo(e)?e:J0(e);return r.start(lL("",r,t,n)),r.animation}function kbe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const _jt=(e,t)=>e.depth-t.depth;class xjt{constructor(){this.children=[],this.isDirty=!1}add(t){Y$(this.children,t),this.isDirty=!0}remove(t){QE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_jt),this.isDirty=!1,this.children.forEach(t)}}function kjt(e,t){const n=Md.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Ju(r),e(o-t))};return ii.read(r,!0),()=>Ju(r)}const Sbe=["TopLeft","TopRight","BottomLeft","BottomRight"],Sjt=Sbe.length,Qre=e=>typeof e=="string"?parseFloat(e):e,eie=e=>typeof e=="number"||xn.test(e);function Ijt(e,t,n,r,i,o){i?(e.opacity=Si(0,n.opacity!==void 0?n.opacity:1,Ejt(r)),e.opacityExit=Si(t.opacity!==void 0?t.opacity:1,0,Cjt(r))):o&&(e.opacity=Si(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Sjt;s++){const a=`border${Sbe[s]}Radius`;let l=tie(t,a),c=tie(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||eie(l)===eie(c)?(e[a]=Math.max(Si(Qre(l),Qre(c),r),0),(Bd.test(c)||Bd.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Si(t.rotate||0,n.rotate||0,r))}function tie(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ejt=Ibe(0,.5,Lwe),Cjt=Ibe(.5,.95,xl);function Ibe(e,t,n){return r=>r<e?0:r>t?1:n(Dm(e,t,r))}function nie(e,t){e.min=t.min,e.max=t.max}function ql(e,t){nie(e.x,t.x),nie(e.y,t.y)}function rie(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iie(e,t,n,r,i){return e-=t,e=LI(e,1/n,r),i!==void 0&&(e=LI(e,1/i,r)),e}function Ajt(e,t=0,n=1,r=.5,i,o=e,s=e){if(Bd.test(t)&&(t=parseFloat(t),t=Si(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Si(o.min,o.max,r);e===o&&(a-=t),e.min=iie(e.min,t,n,a,i),e.max=iie(e.max,t,n,a,i)}function oie(e,t,[n,r,i],o,s){Ajt(e,t[n],t[r],t[i],t.scale,o,s)}const Rjt=["x","scaleX","originX"],Tjt=["y","scaleY","originY"];function sie(e,t,n,r){oie(e.x,t,Rjt,n?n.x:void 0,r?r.x:void 0),oie(e.y,t,Tjt,n?n.y:void 0,r?r.y:void 0)}function aie(e){return e.translate===0&&e.scale===1}function Ebe(e){return aie(e.x)&&aie(e.y)}function lie(e,t){return e.min===t.min&&e.max===t.max}function Ojt(e,t){return lie(e.x,t.x)&&lie(e.y,t.y)}function cie(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Cbe(e,t){return cie(e.x,t.x)&&cie(e.y,t.y)}function die(e){return Il(e.x)/Il(e.y)}function uie(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Njt{constructor(){this.members=[]}add(t){Y$(this.members,t),t.scheduleRender()}remove(t){if(QE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pjt(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:u,rotateY:h,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Dp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},db=typeof window<"u"&&window.MotionDebug!==void 0,eO=["","X","Y","Z"],Bjt={visibility:"hidden"},fie=1e3;let Mjt=0;function tO(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Abe(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Nwe(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ii,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Abe(r)}function Rbe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=Mjt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,db&&(Dp.totalNodes=Dp.resolvedTargetDeltas=Dp.recalculatedProjection=0),this.nodes.forEach($jt),this.nodes.forEach(qjt),this.nodes.forEach(zjt),this.nodes.forEach(Ljt),db&&window.MotionDebug.record(Dp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xjt)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new X$),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kbe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=kjt(h,250),nS.hasAnimatedSinceResize&&(nS.hasAnimatedSinceResize=!1,this.nodes.forEach(pie))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Jjt,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=d.getProps(),k=!this.targetLayout||!Cbe(this.targetLayout,v)||m,_=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,_);const R={...H$(y,"layout"),onPlay:g,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else h||pie(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ju(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vjt),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Abe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hie);return}this.isUpdating||this.nodes.forEach(Fjt),this.isUpdating=!1,this.nodes.forEach(Wjt),this.nodes.forEach(Djt),this.nodes.forEach(jjt),this.clearAllSnapshots();const a=Md.now();fs.delta=Zu(0,1e3/60,a-fs.timestamp),fs.timestamp=a,fs.isProcessing=!0,VT.update.process(fs),VT.preRender.process(fs),VT.render.process(fs),fs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j$.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ujt),this.sharedNodes.forEach(Kjt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ii.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ii.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ebe(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||Mp(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Zjt(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return Fi();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(Yjt))){const{scroll:d}=this.root;d&&(zy(l.x,d.offset.x),zy(l.y,d.offset.y))}return l}removeElementScroll(s){var a;const l=Fi();if(ql(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&ql(l,s),zy(l.x,u.offset.x),zy(l.y,u.offset.y))}return l}applyTransform(s,a=!1){const l=Fi();ql(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vy(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mp(d.latestValues)&&Vy(l,d.latestValues)}return Mp(this.latestValues)&&Vy(l,this.latestValues),l}removeTransform(s){const a=Fi();ql(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Mp(c.latestValues))continue;YB(c.latestValues)&&c.updateSnapshot();const d=Fi(),u=c.measurePageBox();ql(d,u),sie(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Mp(this.latestValues)&&sie(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=fs.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),Lb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fi(),this.targetWithTransforms=Fi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),njt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ql(this.target,this.layout.layoutBox),vbe(this.target,this.targetDelta)):ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),Lb(this.relativeTargetOrigin,this.target,m.target),ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}db&&Dp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||YB(this.parent.latestValues)||ybe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ql(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;ujt(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fi());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rie(this.prevProjectionDelta.x,this.projectionDelta.x),rie(this.prevProjectionDelta.y,this.projectionDelta.y)),$b(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!uie(this.projectionDelta.x,this.prevProjectionDelta.x)||!uie(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),db&&Dp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qy(),this.projectionDelta=qy(),this.projectionDeltaWithTransform=qy()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=qy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Fi(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,g=this.getStack(),b=!g||g.members.length<=1,k=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Gjt));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const I=R/1e3;mie(u.x,s.x,I),mie(u.y,s.y,I),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lb(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hjt(this.relativeTarget,this.relativeTargetOrigin,h,I),_&&Ojt(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fi()),ql(_,this.relativeTarget)),y&&(this.animationValues=d,Ijt(d,c,this.latestValues,I,k,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ju(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ii.update(()=>{nS.hasAnimatedSinceResize=!0,this.currentAnimation=xbe(0,fie,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Tbe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fi();const u=Il(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const h=Il(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ql(a,l),Vy(a,d),$b(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Njt),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&tO("z",s,c,this.animationValues);for(let d=0;d<eO.length;d++)tO(`rotate${eO[d]}`,s,c,this.animationValues),tO(`skew${eO[d]}`,s,c,this.animationValues);s.render();for(const d in c)s.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Bjt;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=eS(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=eS(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Mp(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=Pjt(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in PI){if(h[y]===void 0)continue;const{correct:g,applyTo:b}=PI[y],k=c.transform==="none"?h[y]:g(h[y],u);if(b){const _=b.length;for(let R=0;R<_;R++)c[b[R]]=k}else c[y]=k}return this.options.layoutId&&(c.pointerEvents=u===this?eS(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hie),this.root.sharedNodes.clear()}}}function Djt(e){e.updateLayout()}function jjt(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Kl(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],m=Il(h);h.min=r[u].min,h.max=h.min+m}):Tbe(o,n.layoutBox,r)&&Kl(u=>{const h=s?n.measuredBox[u]:n.layoutBox[u],m=Il(r[u]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+m)});const a=qy();$b(a,r,n.layoutBox);const l=qy();s?$b(l,e.applyTransform(i,!0),n.measuredBox):$b(l,r,n.layoutBox);const c=!Ebe(a);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:m}=u;if(h&&m){const v=Fi();Lb(v,n.layoutBox,h.layoutBox);const y=Fi();Lb(y,r,m.layoutBox),Cbe(v,y)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function $jt(e){db&&Dp.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ljt(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ujt(e){e.clearSnapshot()}function hie(e){e.clearMeasurements()}function Fjt(e){e.isLayoutDirty=!1}function Wjt(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pie(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qjt(e){e.resolveTargetDelta()}function zjt(e){e.calcProjection()}function Vjt(e){e.resetSkewAndRotation()}function Kjt(e){e.removeLeadSnapshot()}function mie(e,t,n){e.translate=Si(t.translate,0,n),e.scale=Si(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gie(e,t,n,r){e.min=Si(t.min,n.min,r),e.max=Si(t.max,n.max,r)}function Hjt(e,t,n,r){gie(e.x,t.x,n.x,r),gie(e.y,t.y,n.y,r)}function Gjt(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jjt={duration:.45,ease:[.4,0,.1,1]},yie=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vie=yie("applewebkit/")&&!yie("chrome/")?Math.round:xl;function wie(e){e.min=vie(e.min),e.max=vie(e.max)}function Zjt(e){wie(e.x),wie(e.y)}function Tbe(e,t,n){return e==="position"||e==="preserve-aspect"&&!tjt(die(t),die(n),.2)}function Yjt(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Xjt=Rbe({attachResizeListener:(e,t)=>W1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nO={current:void 0},Obe=Rbe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nO.current){const e=new Xjt({});e.mount(window),e.setOptions({layoutScroll:!0}),nO.current=e}return nO.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Qjt={pan:{Feature:yjt},drag:{Feature:gjt,ProjectionNode:Obe,MeasureLayout:_be}};function bie(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&ii.postRender(()=>o(t,X_(t)))}class e9t extends sp{mount(){const{current:t}=this.node;t&&(this.unmount=oMt(t,n=>(bie(this.node,n,"Start"),r=>bie(this.node,r,"End"))))}unmount(){}}class t9t extends sp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Y_(W1(this.node.current,"focus",()=>this.onFocus()),W1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _ie(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&ii.postRender(()=>o(t,X_(t)))}class n9t extends sp{mount(){const{current:t}=this.node;t&&(this.unmount=cMt(t,n=>(_ie(this.node,n,"Start"),(r,{success:i})=>_ie(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const QB=new WeakMap,rO=new WeakMap,r9t=e=>{const t=QB.get(e.target);t&&t(e)},i9t=e=>{e.forEach(r9t)};function o9t({root:e,...t}){const n=e||document;rO.has(n)||rO.set(n,{});const r=rO.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(i9t,{root:e,...t})),r[i]}function s9t(e,t,n){const r=o9t(t);return QB.set(e,n),r.observe(e),()=>{QB.delete(e),r.unobserve(e)}}const a9t={some:0,all:1};class l9t extends sp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:a9t[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=c?d:u;h&&h(l)};return s9t(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(c9t(t,n))&&this.startObserver()}unmount(){}}function c9t({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const d9t={inView:{Feature:l9t},tap:{Feature:n9t},focus:{Feature:t9t},hover:{Feature:e9t}},u9t={layout:{ProjectionNode:Obe,MeasureLayout:_be}},eM={current:null},Nbe={current:!1};function f9t(){if(Nbe.current=!0,!!T$)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>eM.current=e.matches;e.addListener(t),t()}else eM.current=!1}const h9t=[...Qwe,Vs,Vh],p9t=e=>h9t.find(Xwe(e)),Y0=new WeakMap;function m9t(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Jo(i))e.addValue(r,i);else if(Jo(o))e.addValue(r,J0(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,J0(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const xie=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pbe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Md.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ii.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=ZE(n),this.isVariantNode=swe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&Jo(v)&&v.set(l[m],!1)}}mount(t){this.current=t,Y0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Nbe.current||f9t(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y0.delete(this.current),this.projection&&this.projection.unmount(),Ju(this.notifyUpdate),Ju(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_g.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ii.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in G0){const n=G0[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xie.length;r++){const i=xie[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=m9t(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=J0(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Zwe(i)||Fwe(i))?i=parseFloat(i):!p9t(i)&&Vh.test(n)&&(i=Hwe(t,n)),this.setBaseTarget(t,Jo(i)?i.get():i)),Jo(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=L$(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Jo(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new X$),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Bbe extends Pbe{constructor(){super(...arguments),this.KeyframeResolver=ebe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function g9t(e){return window.getComputedStyle(e)}class Mbe extends Bbe{constructor(){super(...arguments),this.type="html",this.renderInstance=mwe}readValueFromInstance(t,n){if(_g.has(n)){const r=rL(n);return r&&r.default||0}else{const r=g9t(t),i=(fwe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wbe(t,n)}build(t,n,r){W$(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return K$(t,n,r)}}class Dbe extends Bbe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fi}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_g.has(n)){const r=rL(n);return r&&r.default||0}return n=gwe.has(n)?n:D$(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return wwe(t,n,r)}build(t,n,r){q$(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){ywe(t,n,r,i)}mount(t){this.isSVGTag=V$(t.tagName),super.mount(t)}}const y9t=(e,t)=>$$(e)?new Dbe(t):new Mbe(t,{allowProjection:e!==x.Fragment}),v9t=QBt({...KDt,...d9t,...Qjt,...u9t},y9t),yo=pBt(v9t);function tM(e){const t=G_(()=>J0(e)),{isStatic:n}=x.useContext(HE);if(n){const[,r]=x.useState(e);x.useEffect(()=>t.on("change",r),[])}return t}function jbe(e,t){const n=tM(t()),r=()=>n.set(t());return r(),O$(()=>{const i=()=>ii.preRender(r,!1,!0),o=e.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),Ju(r)}}),n}const w9t=e=>e&&typeof e=="object"&&e.mix,b9t=e=>w9t(e)?e.mix:void 0;function _9t(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],o=e[2+n],s=e[3+n],a=abe(i,o,{mixer:b9t(o[0]),...s});return t?a(r):a}function x9t(e){Mb.current=[],e();const t=jbe(Mb.current,e);return Mb.current=void 0,t}function my(e,t,n,r){if(typeof e=="function")return x9t(e);const i=typeof t=="function"?t:_9t(t,n,r);return Array.isArray(e)?kie(e,i):kie([e],([o])=>i(o))}function kie(e,t){const n=G_(()=>[]);return jbe(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}const k9t=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function $be(e,t){return sbe(e)?e[k9t(0,e.length,t)]:e}function dL(e){return typeof e=="object"&&!Array.isArray(e)}function Lbe(e,t,n,r){return typeof e=="string"&&dL(t)?Cwe(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function S9t(e,t,n){return e*(t+1)}function Sie(e,t,n,r){var i;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(i=r.get(t))!==null&&i!==void 0?i:e}function I9t(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(QE(e,i),r--)}}function E9t(e,t,n,r,i,o){I9t(e,i,o);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Si(i,o,r[s]),easing:$be(n,s)})}function C9t(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function A9t(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const R9t="easeInOut";function T9t(e,{defaultTransition:t={},...n}={},r,i){const o=t.duration||.3,s=new Map,a=new Map,l={},c=new Map;let d=0,u=0,h=0;for(let m=0;m<e.length;m++){const v=e[m];if(typeof v=="string"){c.set(v,u);continue}else if(!Array.isArray(v)){c.set(v.name,Sie(u,v.at,d,c));continue}let[y,g,b={}]=v;b.at!==void 0&&(u=Sie(u,b.at,d,c));let k=0;const _=(R,I,T,D=0,M=0)=>{const C=O9t(R),{delay:U=0,times:$=cbe(C),type:z="keyframes",repeat:q,repeatType:S,repeatDelay:A=0,...O}=I;let{ease:N=t.ease||"easeOut",duration:j}=I;const V=typeof U=="function"?U(D,M):U,K=C.length,W=XE(z)?z:i==null?void 0:i[z];if(K<=2&&W){let Y=100;if(K===2&&B9t(C)){const ge=C[1]-C[0];Y=Math.abs(ge)}const ie={...O};j!==void 0&&(ie.duration=Nd(j));const ye=nMt(ie,Y,W);N=ye.ease,j=ye.duration}j??(j=o);const P=u+V;$.length===1&&$[0]===0&&($[1]=1);const F=$.length-C.length;if(F>0&&lbe($,F),C.length===1&&C.unshift(null),q){j=S9t(j,q);const Y=[...C],ie=[...$];N=Array.isArray(N)?[...N]:[N];const ye=[...N];for(let ge=0;ge<q;ge++){C.push(...Y);for(let be=0;be<Y.length;be++)$.push(ie[be]+(ge+1)),N.push(be===0?"linear":$be(ye,be-1))}C9t($,q)}const G=P+j;E9t(T,C,N,$,P,G),k=Math.max(V+j,k),h=Math.max(G,h)};if(Jo(y)){const R=Iie(y,a);_(g,b,Eie("default",R))}else{const R=Lbe(y,g,r,l),I=R.length;for(let T=0;T<I;T++){g=g,b=b;const D=R[T],M=Iie(D,a);for(const C in g)_(g[C],N9t(b,C),Eie(C,M),T,I)}}d=u,u+=k}return a.forEach((m,v)=>{for(const y in m){const g=m[y];g.sort(A9t);const b=[],k=[],_=[];for(let I=0;I<g.length;I++){const{at:T,value:D,easing:M}=g[I];b.push(D),k.push(Dm(0,h,T)),_.push(M||"easeOut")}k[0]!==0&&(k.unshift(0),b.unshift(b[0]),_.unshift(R9t)),k[k.length-1]!==1&&(k.push(1),b.push(null)),s.has(v)||s.set(v,{keyframes:{},transition:{}});const R=s.get(v);R.keyframes[y]=b,R.transition[y]={...t,duration:h,ease:_,times:k,...n}}}),s}function Iie(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Eie(e,t){return t[e]||(t[e]=[]),t[e]}function O9t(e){return Array.isArray(e)?e:[e]}function N9t(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const P9t=e=>typeof e=="number",B9t=e=>e.every(P9t);function M9t(e,t){return e in t}class D9t extends Pbe{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(M9t(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Fi()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function j9t(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=kbe(e)?new Dbe(t):new Mbe(t);n.mount(e),Y0.set(e,n)}function $9t(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new D9t(t);n.mount(e),Y0.set(e,n)}function L9t(e,t){return Jo(e)||typeof e=="number"||typeof e=="string"&&!dL(t)}function Ube(e,t,n,r){const i=[];if(L9t(e,t))i.push(xbe(e,dL(t)&&t.default||t,n&&(n.default||n)));else{const o=Lbe(e,t,r),s=o.length;for(let a=0;a<s;a++){const l=o[a],c=l instanceof Element?j9t:$9t;Y0.has(l)||c(l);const d=Y0.get(l),u={...n};"delay"in u&&typeof u.delay=="function"&&(u.delay=u.delay(a,s)),i.push(...cL(d,{...t,transition:u},{}))}}return i}function U9t(e,t,n){const r=[];return T9t(e,t,n,{spring:sL}).forEach(({keyframes:o,transition:s},a)=>{r.push(...Ube(a,o,s))}),r}function F9t(e){return Array.isArray(e)&&e.some(Array.isArray)}function W9t(e){function t(n,r,i){let o=[];return F9t(n)?o=U9t(n,r,e):o=Ube(n,r,i,e),new xwe(o)}return t}const gy=W9t(),X0={Crypto:"#F59E0B",Sports:"#3B82F6",Politics:"#8B5CF6",Weather:"#06B6D4",Stocks:"#10B981",Commodities:"#EC4899",Finance:"#10B981",Tech:"#6366F1",Culture:"#EC4899",Other:"#6B7280"};function q9t(e){if(!e)return null;const t=Math.floor(Date.now()/1e3),n=e-t;if(n<=0)return"Expired";const r=Math.floor(n/60),i=Math.floor(r/60),o=Math.floor(i/24);return r<60?`${r}m`:i<24?`${i}h ${r%60}m`:o<7?`${o}d ${i%24}h`:`${o}d`}function Cie({market:e,onSwipe:t,isTop:n,yesProfit:r,noProfit:i}){const[o,s]=x.useState(!1),{colors:a,isDark:l}=dc(),c=tM(0),d=tM(0),u=my(c,[-300,0,300],[-25,0,25]),h=my(c,[0,100,200],[0,.5,1]),m=my(c,[-200,-100,0],[1,.5,0]),v=my(d,[-150,-75,0],[1,.5,0]),y=X0[e.category]||"#6B7280";if(!n)return f.jsx("div",{className:"absolute inset-0 card-comic overflow-hidden scale-95 opacity-60",style:{backgroundColor:y,borderColor:a.border},children:e.image&&f.jsx("img",{src:e.image,alt:"",className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none"}})});const g=(b,k)=>{console.log("[SwipeCard] handleDragEnd - offset:",k.offset.x,k.offset.y),Math.abs(k.offset.y)>Math.abs(k.offset.x)*.7&&k.offset.y<-80?(gy(d,-500,{duration:.3}),gy(c,0,{duration:.3}),setTimeout(()=>{console.log("[SwipeCard] Calling onSwipe(skip)"),t("skip")},300)):k.offset.x>100?(gy(c,500,{duration:.3}),setTimeout(()=>{console.log("[SwipeCard] Calling onSwipe(yes)"),t("yes")},300)):k.offset.x<-100?(gy(c,-500,{duration:.3}),setTimeout(()=>{console.log("[SwipeCard] Calling onSwipe(no)"),t("no")},300)):(gy(c,0,{type:"spring",stiffness:500,damping:30}),gy(d,0,{type:"spring",stiffness:500,damping:30}))};return f.jsxs(yo.div,{className:"absolute inset-0",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0,transition:{duration:.2}},children:[f.jsx(yo.div,{className:"absolute left-0 top-0 bottom-0 w-28 flex items-center justify-center pointer-events-none z-0",style:{opacity:my(c,[0,50,150],[0,.3,1])},children:f.jsxs("div",{className:"text-center px-4 py-3 rounded-2xl border-3 border-comic-border",style:{backgroundColor:"#D1FAE5"},children:[f.jsx("div",{className:"text-xl font-bold",style:{color:"#059669"},children:"YES"}),f.jsxs("div",{className:"text-lg font-bold",style:{color:"#059669"},children:["+$",r]})]})}),f.jsx(yo.div,{className:"absolute right-0 top-0 bottom-0 w-28 flex items-center justify-center pointer-events-none z-0",style:{opacity:my(c,[-150,-50,0],[1,.3,0])},children:f.jsxs("div",{className:"text-center px-4 py-3 rounded-2xl border-3 border-comic-border",style:{backgroundColor:"#FEE2E2"},children:[f.jsx("div",{className:"text-xl font-bold",style:{color:"#DC2626"},children:"NO"}),f.jsxs("div",{className:"text-lg font-bold",style:{color:"#DC2626"},children:["+$",i]})]})}),f.jsxs(yo.div,{className:"absolute inset-0 card-comic overflow-hidden cursor-grab active:cursor-grabbing z-10",style:{x:c,y:d,rotate:u,backgroundColor:y,borderColor:a.border,touchAction:"none"},drag:!0,onDragEnd:g,whileTap:{cursor:"grabbing"},children:[e.image&&!o&&f.jsx("img",{src:e.image,alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none",draggable:!1,onError:()=>s(!0)}),f.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between pointer-events-none",children:[f.jsx("div",{className:"px-3 py-1 rounded-full border-2 font-bold text-sm",style:{backgroundColor:X0[e.category]||"#888",borderColor:a.border},children:e.category}),e.expirationTime&&f.jsxs("div",{className:"px-3 py-1 rounded-full border-2 font-bold text-sm",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.9)",borderColor:a.border,color:a.text},children:[" ",q9t(e.expirationTime)]})]}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 backdrop-blur-sm border-t-3 p-4 pointer-events-none",style:{backgroundColor:l?"rgba(42, 42, 42, 0.85)":"rgba(255, 255, 255, 0.75)",borderColor:a.border},children:f.jsx("h2",{className:"text-xl font-bold leading-tight",style:{color:a.text},children:e.title})}),f.jsx(yo.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:h},children:f.jsx("div",{className:"text-5xl font-bold text-green-500 border-6 border-green-500 rounded-xl px-6 py-3 -rotate-12",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.8)"},children:"YES"})}),f.jsx(yo.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:m},children:f.jsx("div",{className:"text-5xl font-bold text-red-500 border-6 border-red-500 rounded-xl px-6 py-3 rotate-12",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.8)"},children:"NO"})}),f.jsx(yo.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:v},children:f.jsx("div",{className:"text-4xl font-bold text-blue-500 border-6 border-blue-500 rounded-xl px-6 py-3",style:{backgroundColor:l?"rgba(42, 42, 42, 0.9)":"rgba(255, 255, 255, 0.8)"},children:"SKIP"})})]})]})}const iO=30;async function z9t(e,t){if(e)try{e.state==="suspended"&&await e.resume();const n=e.createOscillator(),r=e.createGain();n.connect(r),r.connect(e.destination),n.frequency.value=t?1200:800,n.type="sine";const i=t?.15:.08;r.gain.setValueAtTime(i,e.currentTime),r.gain.exponentialRampToValueAtTime(.001,e.currentTime+.05),n.start(e.currentTime),n.stop(e.currentTime+.05)}catch{}}function V9t({onComplete:e,resetKey:t}){const[n,r]=x.useState(iO),i=vst(),{colors:o,isDark:s}=dc(),a=x.useRef(!1),l=x.useRef(null),c=x.useRef(e);x.useEffect(()=>{c.current=e},[e]),x.useEffect(()=>{r(iO),a.current=!1},[t]),x.useEffect(()=>(l.current&&clearInterval(l.current),l.current=setInterval(()=>{r(g=>{const b=g-1;if(b<=10&&b>0&&i){const k=b<=5;z9t(i,k)}return b<=0?(a.current||(a.current=!0,setTimeout(()=>{var k;return(k=c.current)==null?void 0:k.call(c)},0)),l.current&&(clearInterval(l.current),l.current=null),0):b})},1e3),()=>{l.current&&(clearInterval(l.current),l.current=null)}),[t,i]);const d=n/iO,u=2*Math.PI*36,h=u*(1-d),m=n<=10,y=n<=5?.3:.6;return f.jsxs("div",{className:"relative flex items-center justify-center",children:[f.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 80 80",style:{transform:"rotate(90deg) scaleX(-1)",transformOrigin:"center"},children:[f.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:s?"#444":"#D1D5DB",strokeWidth:"6",fill:"none"}),f.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:m?"#EF4444":o.text,strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:u,strokeDashoffset:h,className:"transition-all duration-1000"})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"text-3xl font-bold transition-colors duration-300",style:{color:m?"#EF4444":o.text,animation:m?`breathe ${y}s ease-in-out infinite`:"none",textShadow:m?"0 0 20px rgba(239, 68, 68, 0.6), 0 0 40px rgba(239, 68, 68, 0.3)":"none"},children:n})}),f.jsx("style",{children:`
        @keyframes breathe {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.15); }
        }
      `})]})}function y2(){const{colors:e}=dc();return f.jsx("header",{className:"flex items-center px-4 py-3 border-b-3",style:{backgroundColor:e.paper,borderColor:e.border},children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:e.border,boxShadow:`2px 2px 0 ${e.border}`},children:f.jsx("span",{className:"text-white font-bold text-xl",children:"I"})}),f.jsx("h1",{className:"text-2xl font-bold",style:{color:e.text},children:"Instinkt"})]})})}const Aie=["Crypto","Sports","Politics","Finance","Tech","Culture","Other"];function Rie({selectedCategories:e,onToggle:t,availableCategories:n}){const{colors:r}=dc(),i=n&&n.length>0?Aie.filter(c=>n.includes(c)):Aie,o=i.every(c=>e.has(c)),s=()=>{o?i.forEach((c,d)=>{d>0&&e.has(c)&&t(c)}):i.forEach(c=>{e.has(c)||t(c)})},a=(c,d)=>d?{backgroundColor:r.border,color:"#fff"}:{backgroundColor:X0[c]||r.backgroundSecondary,color:"#222"},l=c=>c?{backgroundColor:r.border,color:"#fff"}:{backgroundColor:r.backgroundSecondary,color:r.text};return f.jsx("div",{className:"px-4 py-2",children:f.jsxs("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:[f.jsx(yo.button,{whileTap:{scale:.95},onClick:s,className:"px-3 py-1.5 rounded-full font-bold text-sm border-2 whitespace-nowrap transition-all flex-shrink-0",style:{...l(o),borderColor:r.border,boxShadow:o?"none":`1px 1px 0 ${r.border}`},children:"All"}),i.map(c=>{const d=e.has(c),u=a(c,d);return f.jsx(yo.button,{whileTap:{scale:.95},onClick:()=>t(c),className:"px-3 py-1.5 rounded-full font-bold text-sm border-2 whitespace-nowrap transition-all flex-shrink-0",style:{...u,borderColor:r.border,boxShadow:d?"none":`1px 1px 0 ${r.border}`},children:c},c)})]})})}function UI(){const{handleLogOut:e}=Zc(),{colors:t}=dc();return f.jsx("button",{onClick:()=>e(),style:{position:"absolute",top:"16px",right:"16px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:t.paper,border:`3px solid ${t.border}`,boxShadow:`2px 2px 0 ${t.border}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},title:"Logout",children:f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:t.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})}const K9t="instinkt_history_";function H9t(e){const[t,n]=x.useState(new Set),r=e?`${K9t}${e}`:null;x.useEffect(()=>{if(!r){n(new Set);return}try{const c=localStorage.getItem(r);if(c){const d=JSON.parse(c);Array.isArray(d)&&(n(new Set(d)),console.log(`[useMarketHistory] Loaded ${d.length} interacted markets for ${e==null?void 0:e.slice(0,8)}...`))}}catch(c){console.error("[useMarketHistory] Failed to load history:",c)}},[r,e]);const i=x.useCallback(c=>{if(r)try{const d=Array.from(c);localStorage.setItem(r,JSON.stringify(d))}catch(d){console.error("[useMarketHistory] Failed to save history:",d)}},[r]),o=x.useCallback(c=>{!c||!r||n(d=>{if(d.has(c))return d;const u=new Set(d);return u.add(c),i(u),console.log(`[useMarketHistory] Added market ${c} to history`),u})},[r,i]),s=x.useCallback(c=>t.has(c),[t]),a=x.useCallback(c=>{if(!c||!Array.isArray(c))return[];if(t.size===0)return c;const d=c.filter(u=>!t.has(u.id));return console.log(`[useMarketHistory] Filtered ${c.length} -> ${d.length} markets (removed ${c.length-d.length} interacted)`),d},[t]),l=x.useCallback(()=>{r&&(n(new Set),localStorage.removeItem(r),console.log("[useMarketHistory] Cleared history"))},[r]);return{interactedMarkets:t,addToHistory:o,hasInteracted:s,filterMarkets:a,clearHistory:l,historyCount:t.size}}const G9t="https://mainnet.helius-rpc.com/?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e";function Tie({isDark:e,onToggle:t,colors:n}){return f.jsx("button",{onClick:t,style:{position:"absolute",top:"16px",right:"64px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:n.paper,border:`3px solid ${n.border}`,boxShadow:`2px 2px 0 ${n.border}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},title:e?"Switch to light mode":"Switch to dark mode",children:e?f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):f.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:n.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}const Oie=["Crypto","Sports","Politics","Finance","Tech","Culture","Other"];function J9t({onPlaceBet:e,betSize:t,balance:n,goToWallet:r}){var j;const{primaryWallet:i}=Zc(),{isDark:o,toggleTheme:s,colors:a}=dc(),[l,c]=x.useState(0),[d,u]=x.useState([]),[h,m]=x.useState(!0),[v,y]=x.useState(null),[g,b]=x.useState(!1),{success:k,warning:_,error:R}=Gfe(),I=(i==null?void 0:i.address)||null,{addToHistory:T,filterMarkets:D}=H9t(I),[M,C]=x.useState(()=>new Set(Oie)),U=x.useCallback(V=>{C(K=>{const W=new Set(K);return W.has(V)?W.size>1&&W.delete(V):W.add(V),W}),c(0)},[]),$=x.useMemo(()=>{const V=D(d),K=V.filter(W=>M.has(W.category));return console.log(`[BettingPage] Filtered markets: ${d.length} -> ${V.length} (history) -> ${K.length} (category)`),K},[d,D,M]),z=x.useMemo(()=>{const V=new Set(d.map(K=>K.category));return Oie.filter(K=>V.has(K))},[d]);console.log("[BettingPage] primaryWallet object:",i),console.log("[BettingPage] Wallet address for betting:",I),x.useEffect(()=>{let V=!0;async function K(){try{m(!0),y(null);const W=await ust({limit:100});V&&(console.log("[BettingPage] Loaded markets:",W.length),console.log("[BettingPage] First 5 markets IDs:",W.slice(0,5).map(P=>{var F;return{id:P.id,ticker:P.ticker,title:(F=P.title)==null?void 0:F.substring(0,30)}})),u(W),m(!1))}catch(W){console.error("Failed to load markets:",W),V&&(y(W.message),m(!1))}}return K(),()=>{V=!1}},[]);const q=$.length>0?$[l%$.length]:null,S=$.length>1?$[(l+1)%$.length]:null,A=x.useCallback(async V=>{if(console.log("[BettingPage] handleSwipe called with direction:",V),!q){console.log("[BettingPage] No current market, returning");return}if(g){console.log("[BettingPage] Already placing bet, returning");return}if(V==="skip"){console.log("[BettingPage] SKIP - saving to history and advancing"),T(q.id),c(K=>K+1);return}if(V==="yes"||V==="no"){if(n<t){R("Not enough balance",{button:"Top up",onButtonClick:r}),console.log("[BettingPage] Insufficient funds - advancing anyway"),c(K=>K+1);return}if(!I){R("Wallet not connected"),console.error("[BettingPage] No wallet address found"),c(K=>K+1);return}b(!0);try{console.log("[BettingPage] Placing bet via DFlow API...");const K=await hst({market:q,side:V,amount:t,userPublicKey:I});if(console.log("[BettingPage] Order response:",K),!K.transaction){_("Order created but no transaction returned",{duration:3e3}),b(!1),c(ye=>ye+1);return}if(console.log("[BettingPage] Signing transaction..."),console.log("[BettingPage] primaryWallet:",i),!i){R("Wallet not found"),b(!1),c(ye=>ye+1);return}const W=Buffer.from(K.transaction,"base64"),P=s9.deserialize(W);if(console.log("[BettingPage] Transaction deserialized"),!Lpe(i))throw new Error("Not a Solana wallet");const G=await(await i.getSigner()).signTransaction(P);console.log("[BettingPage] Transaction signed");const Y=new dE(G9t,"confirmed"),ie=await Y.sendRawTransaction(G.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed"});console.log("[BettingPage] Transaction submitted:",ie),await Y.confirmTransaction(ie,"confirmed"),console.log("[BettingPage] Transaction confirmed!"),k(`Bet placed! ${ie.slice(0,8)}...`,{duration:5e3}),e({market:q,choice:V,amount:t,profit:V==="yes"?(q.yesProfit*t).toFixed(2):(q.noProfit*t).toFixed(2),timestamp:Date.now(),status:"pending",txSignature:ie}),T(q.id),b(!1),c(ye=>ye+1)}catch(K){console.error("[BettingPage] Failed to place bet:",K),R(`Bet failed: ${K.message}`,{duration:4e3}),b(!1),c(W=>W+1)}}},[q,t,e,n,R,k,_,r,I,g,i,T]),O=x.useCallback(()=>{_("Too slow!",{duration:3e3}),q&&T(q.id),c(V=>V+1)},[_,q,T]),N=V=>{A(V)};if(h)return f.jsxs("div",{className:"flex flex-col h-full pb-20",children:[f.jsx(y2,{}),f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsxs("div",{className:"card-comic p-8 text-center",style:{backgroundColor:a.paper,borderColor:a.border},children:[f.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-t-transparent rounded-full mx-auto mb-4",style:{borderColor:a.border,borderTopColor:"transparent"}}),f.jsx("p",{className:"text-lg font-bold",style:{color:a.text},children:"Loading markets..."})]})})]});if(v)return f.jsxs("div",{className:"flex flex-col h-full pb-20",children:[f.jsx(y2,{}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:f.jsxs("div",{className:"card-comic p-8 text-center max-w-sm",style:{backgroundColor:a.paper,borderColor:a.border},children:[f.jsx("div",{className:"text-4xl mb-4",style:{color:a.text},children:":("}),f.jsx("p",{className:"text-lg font-bold text-red-500 mb-2",children:"Failed to load markets"}),f.jsx("p",{className:"text-sm mb-4",style:{color:a.textSecondary},children:v}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 text-white font-bold rounded-comic active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",style:{backgroundColor:a.border,boxShadow:`3px 3px 0 ${a.border}`},children:"Try Again"})]})})]});if(!q){const V=d.length>0,K=D(d).length,W=V&&K===0,P=V&&K>0&&$.length===0,F=Array.from(M),G=V&&F.length>0&&!d.some(Y=>M.has(Y.category));return f.jsxs("div",{className:"flex flex-col h-full pb-20",children:[f.jsx(Tie,{isDark:o,onToggle:s,colors:a}),f.jsx(UI,{}),f.jsx(y2,{}),V&&f.jsx(Rie,{selectedCategories:M,onToggle:U,availableCategories:z}),f.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:f.jsxs("div",{className:"card-comic p-8 text-center max-w-sm",style:{backgroundColor:a.paper,borderColor:a.border},children:[f.jsx("div",{className:"text-4xl mb-4",style:{color:a.text},children:W?"":P||G?"":"0"}),f.jsx("p",{className:"text-lg font-bold",style:{color:a.text},children:W?"You've seen all markets!":G?"No markets in this category right now":P?"You've seen all markets in these categories":"No markets available"}),f.jsx("p",{className:"text-sm",style:{color:a.textSecondary},children:W?"Check back later for new prediction markets":G?"Check back soon!":P?"Try selecting more categories above":"Check back later for new prediction markets!"})]})})]})}return console.log("[BettingPage] Current market for card:",{index:l,id:q==null?void 0:q.id,ticker:q==null?void 0:q.ticker,title:(j=q==null?void 0:q.title)==null?void 0:j.substring(0,30),keyUsed:(q==null?void 0:q.id)||(q==null?void 0:q.ticker)||l}),f.jsxs("div",{className:"flex flex-col h-full pb-20",style:{position:"relative",overflowX:"hidden",touchAction:"pan-y"},children:[f.jsx(Tie,{isDark:o,onToggle:s,colors:a}),f.jsx(UI,{}),f.jsx(y2,{}),f.jsx(Rie,{selectedCategories:M,onToggle:U,availableCategories:z}),f.jsx("div",{className:"flex justify-center py-4",children:f.jsx("div",{className:"card-comic p-3",style:{backgroundColor:a.paper,borderColor:a.border},children:f.jsx(V9t,{resetKey:l,onComplete:O})})}),f.jsx("div",{className:"flex-1 px-4",style:{minHeight:"340px",overflow:"hidden"},children:f.jsxs("div",{className:"relative h-full w-full max-w-md mx-auto",style:{height:"100%",minHeight:"320px",overflow:"hidden"},children:[S&&f.jsx(Cie,{market:S,onSwipe:()=>{},isTop:!1}),f.jsx(N$,{mode:"wait",children:f.jsx(Cie,{market:q,onSwipe:A,isTop:!0,yesProfit:(q.yesProfit*t).toFixed(2),noProfit:(q.noProfit*t).toFixed(2)},q.id||q.ticker||l)})]})}),f.jsxs("div",{className:"text-center py-2 text-sm font-bold",style:{color:a.textMuted},children:[f.jsx("span",{className:"opacity-60",children:" NO"}),f.jsx("span",{className:"mx-4 opacity-60",children:"|"}),f.jsx("span",{className:"opacity-60",children:"SKIP "}),f.jsx("span",{className:"mx-4 opacity-60",children:"|"}),f.jsx("span",{className:"opacity-60",children:"YES "})]}),f.jsx("div",{className:"px-4 py-4",children:f.jsxs("div",{className:"flex gap-4 max-w-md mx-auto",children:[f.jsxs(yo.button,{whileTap:{scale:.95},onClick:()=>N("no"),className:"flex-1 py-4 border-3 rounded-comic font-bold text-lg active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",style:{backgroundColor:o?"#4a2020":"#fee2e2",borderColor:a.border,boxShadow:`3px 3px 0 ${a.border}`,color:o?"#fca5a5":"#dc2626"},children:["NO +$",(q.noProfit*t).toFixed(2)]}),f.jsxs(yo.button,{whileTap:{scale:.95},onClick:()=>N("yes"),className:"flex-1 py-4 border-3 rounded-comic font-bold text-lg active:shadow-none active:translate-x-1 active:translate-y-1 transition-all",style:{backgroundColor:o?"#1a3a20":"#dcfce7",borderColor:a.border,boxShadow:`3px 3px 0 ${a.border}`,color:o?"#86efac":"#16a34a"},children:["YES +$",(q.yesProfit*t).toFixed(2)]})]})})]})}const Z9t=["All","Crypto","Sports","Politics","Weather","Stocks","Commodities"],Nie=[{value:"newest",label:"Newest first"},{value:"oldest",label:"Oldest first"},{value:"highest-bet",label:"Highest bet"},{value:"lowest-bet",label:"Lowest bet"},{value:"highest-profit",label:"Highest profit"}];function Y9t(e){if(!e)return"Unknown";const t=Math.floor(Date.now()/1e3),n=Math.max(0,e-t);if(n===0)return"Resolving...";const r=Math.floor(n/60),i=Math.floor(r/60),o=Math.floor(i/24);return o>0?`Resolves in ${o}d ${i%24}h`:i>0?`Resolves in ${i}h ${r%60}m`:r>0?`Resolves in ${r}m`:`Resolves in ${n}s`}function X9t({bet:e,colors:t}){const[n,r]=x.useState("");return x.useEffect(()=>{const i=()=>{r(Y9t(e.market.expirationTime))};i();const o=setInterval(i,6e4);return()=>clearInterval(o)},[e.market.expirationTime]),f.jsxs(yo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-comic p-4 mb-3 relative",style:{backgroundColor:t.paper,borderColor:t.border},children:[f.jsx("span",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full text-xs font-bold border-2",style:{backgroundColor:X0[e.market.category]||"#888",borderColor:t.border},children:e.market.category}),f.jsx("h3",{className:"font-bold text-lg mb-3 leading-tight pr-20",style:{color:t.text},children:e.market.title}),f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("span",{className:`px-3 py-1 rounded-lg text-white font-bold text-sm border-2 ${e.choice==="yes"?"bg-green-500":"bg-red-500"}`,style:{borderColor:t.border},children:e.choice.toUpperCase()}),f.jsxs("span",{className:"font-bold text-lg",style:{color:t.text},children:["$",e.amount]})]}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t-2",style:{borderColor:t.backgroundSecondary},children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:t.textMuted,viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-bold",style:{color:t.textSecondary},children:n})]}),f.jsx("div",{className:"text-right",children:f.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["+$",e.profit]})})]})]})}function Q9t({bet:e,colors:t}){const n=e.status==="won",r=n?`+$${e.profit}`:`-$${e.amount}`;return f.jsxs(yo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card-comic p-4 mb-3 relative",style:{backgroundColor:t.paper,borderColor:t.border},children:[f.jsx("span",{className:"absolute top-3 right-3 px-2 py-0.5 rounded-full text-xs font-bold border-2",style:{backgroundColor:X0[e.market.category]||"#888",borderColor:t.border},children:e.market.category}),f.jsx("h3",{className:"font-bold text-lg mb-3 leading-tight pr-20",style:{color:t.text},children:e.market.title}),f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("span",{className:`px-3 py-1 rounded-lg text-white font-bold text-sm border-2 ${e.choice==="yes"?"bg-green-500":"bg-red-500"}`,style:{borderColor:t.border},children:e.choice.toUpperCase()}),f.jsxs("span",{className:"font-bold text-lg",style:{color:t.text},children:["$",e.amount]})]}),f.jsxs("div",{className:"flex items-center justify-between pt-3 border-t-2",style:{borderColor:t.backgroundSecondary},children:[f.jsx("span",{className:`px-3 py-1 rounded-lg font-bold text-sm border-2 ${n?"bg-green-100 text-green-700 border-green-500":"bg-red-100 text-red-700 border-red-500"}`,children:n?"WON":"LOST"}),f.jsx("span",{className:`font-bold text-lg ${n?"text-green-600":"text-red-600"}`,children:r})]})]})}function v2({icon:e,title:t,subtitle:n,colors:r}){return f.jsxs("div",{className:"card-comic p-8 text-center",style:{backgroundColor:r.paper,borderColor:r.border},children:[f.jsx("div",{className:"text-6xl mb-4",children:e}),f.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:r.text},children:t}),f.jsx("p",{style:{color:r.textSecondary},children:n})]})}function Pie({selectedCategory:e,setSelectedCategory:t,sortBy:n,setSortBy:r,colors:i}){var l;const[o,s]=x.useState(!1),a=(c,d)=>d?{backgroundColor:i.border,color:"#fff"}:c==="All"?{backgroundColor:i.backgroundSecondary,color:i.text}:{backgroundColor:X0[c]||i.backgroundSecondary,color:"#222"};return f.jsxs("div",{className:"mb-4 space-y-3",children:[f.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:Z9t.map(c=>{const d=e===c,u=a(c,d);return f.jsx(yo.button,{onClick:()=>t(c),whileTap:{scale:.95},className:"px-3 py-1.5 rounded-full font-bold text-sm border-2 whitespace-nowrap transition-all",style:{...u,borderColor:i.border,boxShadow:d?"none":`1px 1px 0 ${i.border}`},children:c},c)})}),f.jsxs("div",{className:"relative",children:[f.jsxs(yo.button,{onClick:()=>s(!o),whileTap:{scale:.98},className:"w-full px-4 py-2 border-2 rounded-xl font-bold text-sm flex items-center justify-between",style:{backgroundColor:i.paper,borderColor:i.border,color:i.text,boxShadow:`1px 1px 0 ${i.border}`},children:[f.jsxs("span",{children:["Sort: ",(l=Nie.find(c=>c.value===n))==null?void 0:l.label]}),f.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f.jsx(N$,{children:o&&f.jsx(yo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 border-2 rounded-xl overflow-hidden z-20",style:{backgroundColor:i.paper,borderColor:i.border,boxShadow:`3px 3px 0 ${i.border}`},children:Nie.map(c=>f.jsx("button",{onClick:()=>{r(c.value),s(!1)},className:"w-full px-4 py-2 text-left font-bold text-sm transition-colors",style:{backgroundColor:n===c.value?i.border:"transparent",color:n===c.value?"#fff":i.text},children:c.label},c.value))})})]})]})}function e$t({bets:e,isLoadingPositions:t,onRefresh:n}){const{colors:r}=dc(),[i,o]=x.useState("open"),[s,a]=x.useState("All"),[l,c]=x.useState("newest"),[d,u]=x.useState(!1),h=async()=>{if(!(d||t)){u(!0);try{n&&await n()}finally{await new Promise(k=>setTimeout(k,500)),u(!1)}}},m=x.useMemo(()=>e,[e]),v=x.useMemo(()=>m.filter(k=>k.status==="pending"),[m]),y=x.useMemo(()=>m.filter(k=>k.status==="won"||k.status==="lost"),[m]),g=x.useMemo(()=>{let k=v;return s!=="All"&&(k=k.filter(_=>_.market.category===s)),[...k].sort((_,R)=>{switch(l){case"newest":return R.timestamp-_.timestamp;case"oldest":return _.timestamp-R.timestamp;case"highest-bet":return parseFloat(R.amount)-parseFloat(_.amount);case"lowest-bet":return parseFloat(_.amount)-parseFloat(R.amount);case"highest-profit":return parseFloat(R.profit)-parseFloat(_.profit);default:return 0}})},[v,s,l]),b=x.useMemo(()=>{let k=y;return s!=="All"&&(k=k.filter(_=>_.market.category===s)),[...k].sort((_,R)=>{switch(l){case"newest":return R.timestamp-_.timestamp;case"oldest":return _.timestamp-R.timestamp;case"highest-bet":return parseFloat(R.amount)-parseFloat(_.amount);case"lowest-bet":return parseFloat(_.amount)-parseFloat(R.amount);case"highest-profit":return parseFloat(R.profit)-parseFloat(_.profit);default:return 0}})},[y,s,l]);return f.jsxs("div",{className:"flex flex-col h-full",style:{position:"relative"},children:[f.jsx(UI,{}),f.jsxs("header",{className:"px-4 py-4 border-b-3",style:{backgroundColor:r.paper,borderColor:r.border},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h1",{className:"text-2xl font-bold",style:{color:r.text},children:"My Positions"}),f.jsx("button",{onClick:h,disabled:d,className:"w-9 h-9 rounded-full flex items-center justify-center",style:{backgroundColor:r.paper,border:`2px solid ${r.border}`,boxShadow:`1px 1px 0 ${r.border}`,cursor:d?"not-allowed":"pointer"},title:"Refresh positions",children:f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:r.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{animation:d?"spin 1s linear infinite":"none"},children:[f.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"}),f.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),f.jsx("path",{d:"M16 21h5v-5"})]})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(yo.button,{onClick:()=>o("open"),className:"flex-1 py-3 px-4 rounded-xl font-bold text-sm border-3 transition-all",style:{backgroundColor:i==="open"?r.border:r.paper,color:i==="open"?"#fff":r.text,borderColor:r.border,boxShadow:i==="open"?"none":`2px 2px 0 ${r.border}`},whileTap:{scale:.98},children:["Open",v.length>0&&f.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:i==="open"?"#fff":r.border,color:i==="open"?r.border:"#fff"},children:v.length})]}),f.jsxs(yo.button,{onClick:()=>o("closed"),className:"flex-1 py-3 px-4 rounded-xl font-bold text-sm border-3 transition-all",style:{backgroundColor:i==="closed"?r.border:r.paper,color:i==="closed"?"#fff":r.text,borderColor:r.border,boxShadow:i==="closed"?"none":`2px 2px 0 ${r.border}`},whileTap:{scale:.98},children:["Closed",y.length>0&&f.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:i==="closed"?"#fff":r.border,color:i==="closed"?r.border:"#fff"},children:y.length})]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar p-4 pb-24",children:f.jsx(N$,{mode:"wait",children:i==="open"?f.jsxs(yo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:[f.jsx(Pie,{selectedCategory:s,setSelectedCategory:a,sortBy:l,setSortBy:c,colors:r}),v.length===0?f.jsx(v2,{icon:"",title:"No open positions",subtitle:"Start betting to see your positions here!",colors:r}):g.length===0?f.jsx(v2,{icon:"",title:"No matching positions",subtitle:"Try changing your filters",colors:r}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"card-comic p-4 mb-4 border-3",style:{backgroundColor:r.paper,borderColor:r.border},children:f.jsxs("div",{className:"flex justify-around text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold",style:{color:r.text},children:g.length}),f.jsx("div",{className:"text-xs font-bold",style:{color:r.textMuted},children:"Active"})]}),f.jsx("div",{className:"w-px",style:{backgroundColor:r.backgroundSecondary}}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold",style:{color:r.text},children:["$",g.reduce((k,_)=>k+parseFloat(_.amount),0).toFixed(2)]}),f.jsx("div",{className:"text-xs font-bold",style:{color:r.textMuted},children:"At Risk"})]}),f.jsx("div",{className:"w-px",style:{backgroundColor:r.backgroundSecondary}}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+$",g.reduce((k,_)=>k+parseFloat(_.profit),0).toFixed(2)]}),f.jsx("div",{className:"text-xs font-bold",style:{color:r.textMuted},children:"Potential"})]})]})}),g.map(k=>f.jsx(X9t,{bet:k,colors:r},`${k.market.id}-${k.timestamp}`))]})]},"open"):f.jsxs(yo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[f.jsx(Pie,{selectedCategory:s,setSelectedCategory:a,sortBy:l,setSortBy:c,colors:r}),y.length===0?f.jsx(v2,{icon:"",title:"No closed positions yet",subtitle:"Your resolved bets will appear here.",colors:r}):b.length===0?f.jsx(v2,{icon:"",title:"No matching positions",subtitle:"Try changing your filters",colors:r}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"card-comic p-4 mb-4 border-3",style:{backgroundColor:r.paper,borderColor:r.border},children:f.jsxs("div",{className:"flex justify-around text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.filter(k=>k.status==="won").length}),f.jsx("div",{className:"text-xs font-bold",style:{color:r.textMuted},children:"Won"})]}),f.jsx("div",{className:"w-px",style:{backgroundColor:r.backgroundSecondary}}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.filter(k=>k.status==="lost").length}),f.jsx("div",{className:"text-xs font-bold",style:{color:r.textMuted},children:"Lost"})]}),f.jsx("div",{className:"w-px",style:{backgroundColor:r.backgroundSecondary}}),f.jsx("div",{children:(()=>{const k=b.reduce((R,I)=>R+(I.status==="won"?parseFloat(I.profit):-parseFloat(I.amount)),0),_=k>=0;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`text-2xl font-bold ${_?"text-green-600":"text-red-600"}`,children:[_?"+":"","$",k.toFixed(2)]}),f.jsx("div",{className:"text-xs font-bold",style:{color:r.textMuted},children:"Net PnL"})]})})()})]})}),b.map(k=>f.jsx(Q9t,{bet:k,colors:r},`${k.market.id}-${k.timestamp}`))]})]},"closed")})})]})}var t$t=Object.defineProperty,FI=Object.getOwnPropertySymbols,Fbe=Object.prototype.hasOwnProperty,Wbe=Object.prototype.propertyIsEnumerable,Bie=(e,t,n)=>t in e?t$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nM=(e,t)=>{for(var n in t||(t={}))Fbe.call(t,n)&&Bie(e,n,t[n]);if(FI)for(var n of FI(t))Wbe.call(t,n)&&Bie(e,n,t[n]);return e},rM=(e,t)=>{var n={};for(var r in e)Fbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FI)for(var r of FI(e))t.indexOf(r)<0&&Wbe.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var jm;(e=>{const t=class Xn{constructor(l,c,d,u){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Xn.MIN_VERSION||l>Xn.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),u==-1){let v=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const g=this.getPenaltyScore();g<v&&(u=y,v=g),this.applyMask(y)}}i(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(l,c){const d=e.QrSegment.makeSegments(l);return Xn.encodeSegments(d,c)}static encodeBinary(l,c){const d=e.QrSegment.makeBytes(l);return Xn.encodeSegments([d],c)}static encodeSegments(l,c,d=1,u=40,h=-1,m=!0){if(!(Xn.MIN_VERSION<=d&&d<=u&&u<=Xn.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,y;for(v=d;;v++){const _=Xn.getNumDataCodewords(v,c)*8,R=s.getTotalBits(l,v);if(R<=_){y=R;break}if(v>=u)throw new RangeError("Data too long")}for(const _ of[Xn.Ecc.MEDIUM,Xn.Ecc.QUARTILE,Xn.Ecc.HIGH])m&&y<=Xn.getNumDataCodewords(v,_)*8&&(c=_);let g=[];for(const _ of l){n(_.mode.modeBits,4,g),n(_.numChars,_.mode.numCharCountBits(v),g);for(const R of _.getData())g.push(R)}i(g.length==y);const b=Xn.getNumDataCodewords(v,c)*8;i(g.length<=b),n(0,Math.min(4,b-g.length),g),n(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let _=236;g.length<b;_^=253)n(_,8,g);let k=[];for(;k.length*8<g.length;)k.push(0);return g.forEach((_,R)=>k[R>>>3]|=_<<7-(R&7)),new Xn(v,c,k,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let u=0;u<c;u++)d==0&&u==0||d==0&&u==c-1||d==c-1&&u==0||this.drawAlignmentPattern(l[d],l[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const u=(c<<10|d)^21522;i(u>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(u,h));this.setFunctionModule(8,7,r(u,6)),this.setFunctionModule(8,8,r(u,7)),this.setFunctionModule(7,8,r(u,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(u,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(u,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(u,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;i(c>>>18==0);for(let d=0;d<18;d++){const u=r(c,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,u),this.setFunctionModule(m,h,u)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let u=-4;u<=4;u++){const h=Math.max(Math.abs(u),Math.abs(d)),m=l+u,v=c+d;0<=m&&m<this.size&&0<=v&&v<this.size&&this.setFunctionModule(m,v,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let u=-2;u<=2;u++)this.setFunctionModule(l+u,c+d,Math.max(Math.abs(u),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=Xn.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const u=Xn.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],h=Xn.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],m=Math.floor(Xn.getNumRawDataModules(c)/8),v=u-m%u,y=Math.floor(m/u);let g=[];const b=Xn.reedSolomonComputeDivisor(h);for(let _=0,R=0;_<u;_++){let I=l.slice(R,R+y-h+(_<v?0:1));R+=I.length;const T=Xn.reedSolomonComputeRemainder(I,b);_<v&&I.push(0),g.push(I.concat(T))}let k=[];for(let _=0;_<g[0].length;_++)g.forEach((R,I)=>{(_!=y-h||I>=v)&&k.push(R[_])});return i(k.length==m),k}drawCodewords(l){if(l.length!=Math.floor(Xn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let u=0;u<this.size;u++)for(let h=0;h<2;h++){const m=d-h,y=(d+1&2)==0?this.size-1-u:u;!this.isFunction[y][m]&&c<l.length*8&&(this.modules[y][m]=r(l[c>>>3],7-(c&7)),c++)}}i(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let u;switch(l){case 0:u=(d+c)%2==0;break;case 1:u=c%2==0;break;case 2:u=d%3==0;break;case 3:u=(d+c)%3==0;break;case 4:u=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:u=d*c%2+d*c%3==0;break;case 6:u=(d*c%2+d*c%3)%2==0;break;case 7:u=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&u&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,v=0,y=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[h][g]==m?(v++,v==5?l+=Xn.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,y),m||(l+=this.finderPenaltyCountPatterns(y)*Xn.PENALTY_N3),m=this.modules[h][g],v=1);l+=this.finderPenaltyTerminateAndCount(m,v,y)*Xn.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,v=0,y=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][h]==m?(v++,v==5?l+=Xn.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,y),m||(l+=this.finderPenaltyCountPatterns(y)*Xn.PENALTY_N3),m=this.modules[g][h],v=1);l+=this.finderPenaltyTerminateAndCount(m,v,y)*Xn.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const v=this.modules[h][m];v==this.modules[h][m+1]&&v==this.modules[h+1][m]&&v==this.modules[h+1][m+1]&&(l+=Xn.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((m,v)=>m+(v?1:0),c);const d=this.size*this.size,u=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=u&&u<=9),l+=u*Xn.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let u=this.size-7;d.length<l;u-=c)d.splice(1,0,u);return d}}static getNumRawDataModules(l){if(l<Xn.MIN_VERSION||l>Xn.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Xn.getNumRawDataModules(l)/8)-Xn.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Xn.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let u=0;u<l-1;u++)c.push(0);c.push(1);let d=1;for(let u=0;u<l;u++){for(let h=0;h<c.length;h++)c[h]=Xn.reedSolomonMultiply(c[h],d),h+1<c.length&&(c[h]^=c[h+1]);d=Xn.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(u=>0);for(const u of l){const h=u^d.shift();d.push(0),c.forEach((m,v)=>d[v]^=Xn.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let u=7;u>=0;u--)d=d<<1^(d>>>7)*285,d^=(c>>>u&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];i(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const o=class Li{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)n(d,8,c);return new Li(Li.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!Li.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const u=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+u),10),u*3+1,c),d+=u}return new Li(Li.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!Li.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let u=Li.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;u+=Li.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(u,11,c)}return d<l.length&&n(Li.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new Li(Li.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:Li.isNumeric(l)?[Li.makeNumeric(l)]:Li.isAlphanumeric(l)?[Li.makeAlphanumeric(l)]:[Li.makeBytes(Li.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new Li(Li.Mode.ECI,0,c)}static isNumeric(l){return Li.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Li.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const u of l){const h=u.mode.numCharCountBits(c);if(u.numChars>=1<<h)return 1/0;d+=4+h+u.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return c}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=o;e.QrSegment=o})(jm||(jm={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(jm||(jm={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(jm||(jm={}));var Ky=jm;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var n$t={L:Ky.QrCode.Ecc.LOW,M:Ky.QrCode.Ecc.MEDIUM,Q:Ky.QrCode.Ecc.QUARTILE,H:Ky.QrCode.Ecc.HIGH},qbe=128,zbe="L",Vbe="#FFFFFF",Kbe="#000000",Hbe=!1,Gbe=1,r$t=4,i$t=0,o$t=.1;function Jbe(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(s,a){if(!s&&o!==null){n.push(`M${o+t} ${i+t}h${a-o}v1H${o+t}z`),o=null;return}if(a===r.length-1){if(!s)return;o===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${o+t},${i+t} h${a+1-o}v1H${o+t}z`);return}s&&o===null&&(o=a)})}),n.join("")}function Zbe(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function s$t(e,t,n,r){if(r==null)return null;const i=e.length+n*2,o=Math.floor(t*o$t),s=i/t,a=(r.width||o)*s,l=(r.height||o)*s,c=r.x==null?e.length/2-a/2:r.x*s,d=r.y==null?e.length/2-l/2:r.y*s,u=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let v=Math.floor(c),y=Math.floor(d),g=Math.ceil(a+c-v),b=Math.ceil(l+d-y);h={x:v,y,w:g,h:b}}const m=r.crossOrigin;return{x:c,y:d,h:l,w:a,excavation:h,opacity:u,crossOrigin:m}}function a$t(e,t){return t!=null?Math.max(Math.floor(t),0):e?r$t:i$t}function Ybe({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:s,boostLevel:a}){let l=Vt.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((y,g)=>(y.push(...Ky.QrSegment.makeSegments(g)),y),[]);return Ky.QrCode.encodeSegments(v,n$t[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:c,margin:d,numCells:u,calculatedImageSettings:h}=Vt.useMemo(()=>{let m=l.getModules();const v=a$t(r,i),y=m.length+v*2,g=s$t(m,s,v,o);return{cells:m,margin:v,numCells:y,calculatedImageSettings:g}},[l,s,o,r,i]);return{qrcode:l,margin:d,cells:c,numCells:u,calculatedImageSettings:h}}var l$t=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),c$t=Vt.forwardRef(function(t,n){const r=t,{value:i,size:o=qbe,level:s=zbe,bgColor:a=Vbe,fgColor:l=Kbe,includeMargin:c=Hbe,minVersion:d=Gbe,boostLevel:u,marginSize:h,imageSettings:m}=r,y=rM(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=y,b=rM(y,["style"]),k=m==null?void 0:m.src,_=Vt.useRef(null),R=Vt.useRef(null),I=Vt.useCallback(S=>{_.current=S,typeof n=="function"?n(S):n&&(n.current=S)},[n]),[T,D]=Vt.useState(!1),{margin:M,cells:C,numCells:U,calculatedImageSettings:$}=Ybe({value:i,level:s,minVersion:d,boostLevel:u,includeMargin:c,marginSize:h,imageSettings:m,size:o});Vt.useEffect(()=>{if(_.current!=null){const S=_.current,A=S.getContext("2d");if(!A)return;let O=C;const N=R.current,j=$!=null&&N!==null&&N.complete&&N.naturalHeight!==0&&N.naturalWidth!==0;j&&$.excavation!=null&&(O=Zbe(C,$.excavation));const V=window.devicePixelRatio||1;S.height=S.width=o*V;const K=o/U*V;A.scale(K,K),A.fillStyle=a,A.fillRect(0,0,U,U),A.fillStyle=l,l$t?A.fill(new Path2D(Jbe(O,M))):C.forEach(function(W,P){W.forEach(function(F,G){F&&A.fillRect(G+M,P+M,1,1)})}),$&&(A.globalAlpha=$.opacity),j&&A.drawImage(N,$.x+M,$.y+M,$.w,$.h)}}),Vt.useEffect(()=>{D(!1)},[k]);const z=nM({height:o,width:o},g);let q=null;return k!=null&&(q=Vt.createElement("img",{src:k,key:k,style:{display:"none"},onLoad:()=>{D(!0)},ref:R,crossOrigin:$==null?void 0:$.crossOrigin})),Vt.createElement(Vt.Fragment,null,Vt.createElement("canvas",nM({style:z,height:o,width:o,ref:I,role:"img"},b)),q)});c$t.displayName="QRCodeCanvas";var Xbe=Vt.forwardRef(function(t,n){const r=t,{value:i,size:o=qbe,level:s=zbe,bgColor:a=Vbe,fgColor:l=Kbe,includeMargin:c=Hbe,minVersion:d=Gbe,boostLevel:u,title:h,marginSize:m,imageSettings:v}=r,y=rM(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:b,numCells:k,calculatedImageSettings:_}=Ybe({value:i,level:s,minVersion:d,boostLevel:u,includeMargin:c,marginSize:m,imageSettings:v,size:o});let R=b,I=null;v!=null&&_!=null&&(_.excavation!=null&&(R=Zbe(b,_.excavation)),I=Vt.createElement("image",{href:v.src,height:_.h,width:_.w,x:_.x+g,y:_.y+g,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const T=Jbe(R,g);return Vt.createElement("svg",nM({height:o,width:o,viewBox:`0 0 ${k} ${k}`,ref:n,role:"img"},y),!!h&&Vt.createElement("title",null,h),Vt.createElement("path",{fill:a,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),Vt.createElement("path",{fill:l,d:T,shapeRendering:"crispEdges"}),I)});Xbe.displayName="QRCodeSVG";const d$t=[1,2,5,10,25],Qbe="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",uL="https://mainnet.helius-rpc.com/?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e";async function Mie(e){try{console.log("Fetching USDC balance for wallet:",e);const t=new dE(uL,"confirmed"),n=new nn(e),r=new nn(Qbe),i=await t.getParsedTokenAccountsByOwner(n,{mint:r});if(console.log("Token accounts found:",i.value.length),i.value.length===0)return 0;let o=0;for(const s of i.value)o+=s.account.data.parsed.info.tokenAmount.uiAmount||0;return console.log("USDC balance:",o),o}catch(t){return console.error("Error fetching USDC:",t),0}}async function Die(e){try{console.log("Fetching SOL balance for wallet:",e);const t=new dE(uL,"confirmed"),n=new nn(e),i=await t.getBalance(n)/1e9;return console.log("SOL balance:",i),i}catch(t){return console.error("Error fetching SOL:",t),0}}async function u$t(e){try{const n=`https://api.helius.xyz/v0/addresses/${e}/transactions?api-key=fc70f382-f7ec-48d3-a615-9bacd782570e&limit=10`,i=await(await fetch(n)).json();console.log("Transaction history:",i);const o=["DF1ow4tspfHX9JwWJsAb9epbkA8hmpSEAtxXy1V2YQI","pReDicTmksnPfkfiz33ndSdbe2dY43KYPg4U2dbvHvo"];return i.map((s,a)=>{var M,C,U,$,z,q,S,A,O;const l=((M=s.accountData)==null?void 0:M.map(N=>N.account))||[],c=((C=s.instructions)==null?void 0:C.map(N=>N.programId))||[],d=[...l,...c],u=(s.description||"").toLowerCase(),h=(s.source||"").toLowerCase(),m=(s.type||"").toUpperCase(),v=d.some(N=>o.includes(N))||u.includes("swap")||u.includes("dflow")||u.includes("predict")||h.includes("dflow")||h.includes("jupiter")||m==="SWAP"||((U=s.tokenTransfers)==null?void 0:U.length)>1,y=($=s.tokenTransfers)==null?void 0:$.find(N=>N.toUserAccount===e&&N.mint==="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),g=(z=s.tokenTransfers)==null?void 0:z.find(N=>N.fromUserAccount===e&&N.mint==="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),b=y&&!g&&!v,_=((q=s.tokenTransfers)==null?void 0:q.length)===1&&!u.includes("swap")&&!u.includes("buy")&&!u.includes("sell")&&m!=="SWAP"&&!v&&g&&!y,I=g||y||((S=s.tokenTransfers)==null?void 0:S.find(N=>N.mint==="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"))||((A=s.tokenTransfers)==null?void 0:A[0])||((O=s.nativeTransfers)==null?void 0:O[0]),T=(I==null?void 0:I.tokenAmount)||(I==null?void 0:I.amount)/1e9||0;let D="bet";return b?D="deposit":_&&(D="withdrawal"),{id:s.signature||a,type:D,amount:Math.abs(T),date:new Date(s.timestamp*1e3).toISOString().split("T")[0],status:"completed",signature:s.signature}}).filter(s=>s.amount>0)}catch(t){return console.error("Error fetching transaction history:",t),[]}}function f$t(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function fL({children:e,onClose:t}){return f.jsx("div",{onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"16px"},children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})}function h$t({onClose:e,walletAddress:t,colors:n}){const[r,i]=x.useState(!1),o=()=>{navigator.clipboard.writeText(t||""),i(!0),setTimeout(()=>i(!1),2e3)};return f.jsx(fL,{onClose:e,children:f.jsxs("div",{style:{backgroundColor:n.paper,border:`3px solid ${n.border}`,borderRadius:"16px",padding:"24px",boxShadow:`6px 6px 0 ${n.border}`,width:"100%",maxWidth:"340px"},children:[f.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",color:n.text,margin:"0 0 20px 0",textAlign:"center"},children:"Deposit Funds"}),f.jsx("div",{style:{width:"176px",height:"176px",border:`3px solid ${n.border}`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",backgroundColor:"#fff",padding:"8px"},children:t?f.jsx(Xbe,{value:t,size:160}):f.jsx("span",{style:{color:n.textMuted,fontWeight:"bold",fontSize:"14px"},children:"No wallet"})}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:n.backgroundSecondary,border:`2px solid ${n.border}`,borderRadius:"8px",marginBottom:"20px"},children:[f.jsx("span",{style:{flex:1,fontSize:"12px",fontFamily:"monospace",color:n.textSecondary,wordBreak:"break-all"},children:t||"No wallet found"}),f.jsx("button",{onClick:o,style:{padding:"6px 12px",backgroundColor:r?"#22c55e":n.border,color:"#fff",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",whiteSpace:"nowrap"},children:r?"Copied!":"Copy"})]}),f.jsx("button",{onClick:e,style:{width:"100%",padding:"14px",backgroundColor:n.backgroundSecondary,color:n.text,border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${n.border}`},children:"Close"})]})})}function p$t({onClose:e,balance:t,colors:n,wallet:r,walletAddress:i,onSuccess:o}){const[s,a]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState(""),[h,m]=x.useState(!1),v=async()=>{const y=parseFloat(l);if(!s.trim()){u("Please enter a recipient address");return}if(!l||y<=0){u("Please enter a valid amount");return}if(y>t){u("Insufficient balance");return}let g;try{g=new nn(s.trim())}catch{u("Invalid Solana address");return}if(!r||!Lpe(r)){u("Wallet not available");return}m(!0),u("");try{const b=new dE(uL,"confirmed"),k=new nn(i),_=new nn(Qbe),R=await N0(_,k),I=await N0(_,g),T=[];try{await fpt(b,I)}catch{T.push(f9(k,I,g,_))}const D=Math.floor(y*1e6);T.push(h9(R,I,k,D));const{blockhash:M,lastValidBlockHeight:C}=await b.getLatestBlockhash(),U=new o9({payerKey:k,recentBlockhash:M,instructions:T}).compileToV0Message(),$=new s9(U),q=await(await r.getSigner()).signTransaction($),S=await b.sendRawTransaction(q.serialize());await b.confirmTransaction({signature:S,blockhash:M,lastValidBlockHeight:C},"confirmed"),console.log("Withdrawal successful:",S),o==null||o(S),e()}catch(b){console.error("Withdrawal failed:",b),u(b.message||"Transaction failed")}finally{m(!1)}};return f.jsx(fL,{onClose:e,children:f.jsxs("div",{style:{backgroundColor:n.paper,border:`3px solid ${n.border}`,borderRadius:"16px",padding:"24px",boxShadow:`6px 6px 0 ${n.border}`,width:"100%",maxWidth:"340px"},children:[f.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",color:n.text,margin:"0 0 20px 0",textAlign:"center"},children:"Withdraw Funds"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:n.text,marginBottom:"6px"},children:"Recipient Address"}),f.jsx("input",{type:"text",placeholder:"Solana address...",value:s,onChange:y=>{a(y.target.value),u("")},style:{width:"100%",padding:"12px",border:`3px solid ${n.border}`,borderRadius:"8px",fontSize:"14px",fontFamily:"monospace",outline:"none",boxSizing:"border-box",backgroundColor:n.paper,color:n.text}})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",color:n.text,marginBottom:"6px"},children:"Amount"}),f.jsx("input",{type:"number",placeholder:"0.00",value:l,onChange:y=>{c(y.target.value),u("")},style:{width:"100%",padding:"12px",border:`3px solid ${n.border}`,borderRadius:"8px",fontSize:"16px",fontWeight:"bold",outline:"none",boxSizing:"border-box",backgroundColor:n.paper,color:n.text}})]}),f.jsxs("div",{style:{fontSize:"14px",color:n.textSecondary,marginBottom:"16px"},children:["Available: ",f.jsxs("span",{style:{fontWeight:"bold",color:n.text},children:["$",t.toFixed(2)]})]}),d&&f.jsx("div",{style:{color:"#dc2626",fontSize:"14px",fontWeight:"bold",marginBottom:"12px",textAlign:"center"},children:d}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsx("button",{onClick:e,style:{flex:1,padding:"14px",backgroundColor:n.backgroundSecondary,color:n.text,border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${n.border}`},children:"Cancel"}),f.jsx("button",{onClick:v,disabled:h,style:{flex:1,padding:"14px",backgroundColor:h?"#9ca3af":"#f97316",color:"#fff",border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:h?"not-allowed":"pointer",boxShadow:`2px 2px 0 ${n.border}`,opacity:h?.7:1},children:h?"Sending...":"Send"})]})]})})}function m$t({onClose:e,onExport:t,colors:n}){const[r,i]=x.useState(0),[o,s]=x.useState(!1),a=x.useRef(null),l=x.useRef(null),c=3e3,d=()=>{s(!0),l.current=Date.now();const h=()=>{const m=Date.now()-l.current,v=Math.min(m/c,1);i(v),v>=1?(s(!1),i(0),t(),e()):a.current=requestAnimationFrame(h)};a.current=requestAnimationFrame(h)},u=()=>{s(!1),i(0),a.current&&cancelAnimationFrame(a.current)};return x.useEffect(()=>()=>{a.current&&cancelAnimationFrame(a.current)},[]),f.jsx(fL,{onClose:e,children:f.jsxs("div",{style:{backgroundColor:n.paper,border:`3px solid ${n.border}`,borderRadius:"16px",padding:"24px",boxShadow:`6px 6px 0 ${n.border}`,width:"100%",maxWidth:"340px"},children:[f.jsx("div",{style:{width:"60px",height:"60px",backgroundColor:"#fef3c7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",border:`3px solid ${n.border}`},children:f.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#f59e0b",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:n.text,margin:"0 0 12px 0",textAlign:"center"},children:"Export Private Key"}),f.jsxs("div",{style:{backgroundColor:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"10px",padding:"12px",marginBottom:"16px"},children:[f.jsx("p",{style:{fontSize:"13px",color:"#92400e",margin:"0 0 8px 0",fontWeight:"bold"},children:"Warning: Your private key grants full access to your wallet."}),f.jsxs("ul",{style:{fontSize:"12px",color:"#92400e",margin:0,paddingLeft:"16px"},children:[f.jsx("li",{style:{marginBottom:"4px"},children:"Never share it with anyone"}),f.jsx("li",{style:{marginBottom:"4px"},children:"Store it in a secure location"}),f.jsx("li",{children:"Anyone with this key can steal your funds"})]})]}),f.jsx("div",{style:{marginBottom:"12px"},children:f.jsxs("button",{onMouseDown:d,onMouseUp:u,onMouseLeave:u,onTouchStart:d,onTouchEnd:u,style:{width:"100%",padding:"16px",backgroundColor:o?"#dc2626":"#ef4444",color:"#fff",border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",position:"relative",overflow:"hidden",boxShadow:o?"none":`3px 3px 0 ${n.border}`,transform:o?"translate(3px, 3px)":"none",transition:"transform 0.1s, box-shadow 0.1s"},children:[f.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:`${r*100}%`,backgroundColor:"rgba(0, 0, 0, 0.3)",transition:o?"none":"width 0.2s"}}),f.jsx("span",{style:{position:"relative",zIndex:1},children:o?`Hold... ${Math.ceil((1-r)*3)}s`:"Hold to Reveal Key (3s)"})]})}),f.jsx("button",{onClick:e,style:{width:"100%",padding:"14px",backgroundColor:n.backgroundSecondary,color:n.text,border:`3px solid ${n.border}`,borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${n.border}`},children:"Cancel"})]})})}function g$t({betSize:e,setBetSize:t}){const{primaryWallet:n}=Zc(),{initExportProcess:r}=afe(),{colors:i}=dc(),[o,s]=x.useState(""),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[u,h]=x.useState(!1),[m,v]=x.useState(!1),[y,g]=x.useState(null),[b,k]=x.useState(null),[_,R]=x.useState(!1),[I,T]=x.useState([]),[D,M]=x.useState(!1),C=(n==null?void 0:n.address)||null,U=()=>{r?r():alert("Export not available for this wallet type")};x.useEffect(()=>{async function N(){if(!C){g(null),k(null);return}R(!0);try{const[j,V]=await Promise.all([Mie(C),Die(C)]);g(j),k(V),console.log("USDC balance:",j,"SOL balance:",V)}catch(j){console.error("Failed to fetch balances:",j),g(0),k(0)}finally{R(!1)}}N()},[C]),x.useEffect(()=>{C&&(M(!0),u$t(C).then(N=>{T(N),M(!1)}))},[C]);const $=y??0,z=async()=>{if(!(!C||_)){R(!0);try{const[N,j]=await Promise.all([Mie(C),Die(C)]);g(N),k(j),console.log("Balances refreshed - USDC:",N,"SOL:",j)}catch(N){console.error("Failed to refresh balances:",N)}finally{R(!1)}}},q=N=>{t(N),s("")},S=N=>{N.preventDefault();const j=parseFloat(o);j>0&&j<=$&&(t(j),s(""))},A=()=>{C&&(navigator.clipboard.writeText(C),l(!0),setTimeout(()=>l(!1),2e3))},O=C?`${C.slice(0,6)}...${C.slice(-4)}`:"No wallet";return f.jsxs(f.Fragment,{children:[f.jsx(UI,{}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 96px)",padding:"16px",gap:"12px",overflow:"hidden",position:"relative"},children:[f.jsxs("div",{style:{backgroundColor:i.paper,border:`3px solid ${i.border}`,borderRadius:"16px",padding:"20px",boxShadow:`4px 4px 0 ${i.border}`,textAlign:"center",flex:"0 0 auto"},children:[f.jsx("div",{style:{fontSize:"44px",fontWeight:"bold",color:i.text,lineHeight:1,marginBottom:"10px"},children:_?f.jsx("span",{style:{fontSize:"24px",color:i.textMuted},children:"Loading..."}):`$${$.toFixed(2)}`}),f.jsxs("div",{style:{fontSize:"14px",color:i.textSecondary,marginBottom:"8px"},children:[_?f.jsx("span",{style:{color:i.textMuted},children:"..."}):f.jsxs("span",{children:[(b??0).toFixed(4)," SOL"]}),f.jsx("span",{style:{fontSize:"11px",color:i.textMuted,marginLeft:"6px"},children:"(for gas)"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"6px"},children:[f.jsx("span",{style:{fontSize:"12px",color:i.textMuted},children:"USDC Balance"}),f.jsx("button",{onClick:z,disabled:_,style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:i.paper,border:`2px solid ${i.border}`,boxShadow:`1px 1px 0 ${i.border}`,cursor:_?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Refresh balance",children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:i.text,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{animation:_?"spin 1s linear infinite":"none"},children:[f.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"}),f.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),f.jsx("path",{d:"M16 21h5v-5"})]})})]}),f.jsxs("button",{onClick:A,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",backgroundColor:i.backgroundSecondary,border:`2px solid ${i.border}`,borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontFamily:"monospace",color:i.textSecondary,marginBottom:"10px"},children:[O,f.jsxs("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})]}),a&&f.jsx("span",{style:{color:"#22c55e",fontSize:"11px"},children:"Copied!"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#22c55e",fontSize:"13px",fontWeight:"bold"},children:[f.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#22c55e",borderRadius:"50%"}}),"Connected"]})]}),f.jsxs("div",{style:{display:"flex",gap:"10px",flex:"0 0 auto"},children:[f.jsx("button",{onClick:()=>d(!0),style:{flex:1,padding:"14px",backgroundColor:"#22c55e",color:"#fff",border:`3px solid ${i.border}`,borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`3px 3px 0 ${i.border}`},children:"Deposit"}),f.jsx("button",{onClick:()=>h(!0),style:{flex:1,padding:"14px",backgroundColor:"#f97316",color:"#fff",border:`3px solid ${i.border}`,borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:`3px 3px 0 ${i.border}`},children:"Withdraw"})]}),f.jsxs("button",{onClick:()=>v(!0),disabled:!C,style:{width:"100%",padding:"14px",backgroundColor:i.backgroundSecondary,color:i.text,border:`3px solid ${i.border}`,borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:C?"pointer":"not-allowed",boxShadow:`3px 3px 0 ${i.border}`,opacity:C?1:.6,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Export Private Key"]}),f.jsxs("div",{style:{backgroundColor:i.paper,border:`3px solid ${i.border}`,borderRadius:"16px",padding:"14px",boxShadow:`4px 4px 0 ${i.border}`,flex:"0 0 auto"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[f.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:i.text,margin:0},children:"Bet Amount"}),f.jsxs("span",{style:{fontSize:"13px",fontWeight:"bold",color:"#22c55e",backgroundColor:"#dcfce7",padding:"4px 10px",borderRadius:"6px"},children:["Current: $",e]})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"6px",marginBottom:"10px"},children:d$t.map(N=>f.jsxs("button",{onClick:()=>q(N),style:{padding:"10px 0",backgroundColor:e===N?i.border:i.paper,color:e===N?"#fff":i.text,border:`3px solid ${i.border}`,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:e===N?"none":`2px 2px 0 ${i.border}`,transform:e===N?"translate(2px, 2px)":"none"},children:["$",N]},N))}),f.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"6px"},children:[f.jsx("input",{type:"number",placeholder:"Custom...",value:o,onChange:N=>s(N.target.value),style:{flex:1,padding:"10px 12px",border:`3px solid ${i.border}`,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",outline:"none",backgroundColor:i.paper,color:i.text}}),f.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#60a5fa",color:"#fff",border:`3px solid ${i.border}`,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",boxShadow:`2px 2px 0 ${i.border}`},children:"Set"})]})]}),f.jsxs("div",{style:{backgroundColor:i.paper,border:`3px solid ${i.border}`,borderRadius:"16px",padding:"14px",boxShadow:`4px 4px 0 ${i.border}`,flex:"1 1 auto",minHeight:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[f.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:i.text,margin:"0 0 10px 0"},children:"Transaction History"}),f.jsx("div",{style:{flex:1,overflowY:"auto"},children:D?f.jsx("div",{style:{textAlign:"center",padding:"20px",color:i.textMuted,fontWeight:"bold"},children:"Loading transactions..."}):I.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"20px",color:i.textMuted},children:[f.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),f.jsx("div",{style:{fontWeight:"bold"},children:"No transactions yet"})]}):I.map(N=>f.jsxs("div",{onClick:()=>N.signature&&window.open(`https://solscan.io/tx/${N.signature}`,"_blank"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 0",borderBottom:`1px solid ${i.backgroundSecondary}`,cursor:N.signature?"pointer":"default"},children:[f.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:N.type==="deposit"?"#dcfce7":N.type==="bet"?"#dbeafe":"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f.jsx("svg",{width:"18",height:"18",fill:"none",stroke:N.type==="deposit"?"#22c55e":N.type==="bet"?"#3b82f6":"#dc2626",strokeWidth:"2.5",viewBox:"0 0 24 24",children:N.type==="deposit"?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 14l-7 7m0 0l-7-7m7 7V3"}):N.type==="bet"?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),f.jsxs("div",{style:{flex:1,minWidth:0},children:[f.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:i.text},children:N.type==="deposit"?"Deposit":N.type==="bet"?"Bet Placed":"Withdrawal"}),f.jsx("div",{style:{fontSize:"12px",color:i.textMuted},children:f$t(N.date)})]}),f.jsxs("div",{style:{textAlign:"right",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsxs("div",{children:[f.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",color:N.type==="deposit"?"#22c55e":N.type==="bet"?"#3b82f6":"#dc2626"},children:[N.type==="deposit"?"+":"-","$",N.amount.toFixed(2)]}),f.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:N.status==="completed"?"#22c55e":"#f59e0b",textTransform:"capitalize"},children:N.status})]}),N.signature&&f.jsx("svg",{width:"14",height:"14",fill:"none",stroke:i.textMuted,strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]},N.id))})]})]}),c&&f.jsx(h$t,{onClose:()=>d(!1),walletAddress:C,colors:i}),u&&f.jsx(p$t,{onClose:()=>h(!1),balance:$,colors:i,wallet:n,walletAddress:C,onSuccess:()=>z()}),m&&f.jsx(m$t,{onClose:()=>v(!1),onExport:U,colors:i})]})}function y$t({audioContext:e,walletAddress:t}){const{colors:n,isDark:r}=dc(),[i,o]=x.useState("wallet"),[s,a]=I4("instinct-balance",100),[l,c]=I4("instinct-betsize",1),[d,u]=I4("instinct-bets",[]),{positions:h,isLoading:m,refetch:v}=pst(t),y=x.useMemo(()=>{const k=new Map;for(const R of h){const I=`${R.market.id}-${R.choice}`;k.set(I,R)}const _=d.map(R=>{const I=`${R.market.id}-${R.choice}`,T=k.get(I);return T?(k.delete(I),{...R,onChainAmount:T.amount,isOnChain:!0}):R});for(const R of k.values())_.push(R);return _},[d,h]),g=k=>s>=k.amount?(u(_=>[..._,k]),a(_=>_-k.amount),!0):!1,b=()=>{switch(i){case"bet":return f.jsx(J9t,{onPlaceBet:g,betSize:l,balance:s,goToWallet:()=>o("wallet")});case"history":return f.jsx(e$t,{bets:y,isLoadingPositions:m,onRefresh:v});case"wallet":return f.jsx(g$t,{betSize:l,setBetSize:c});default:return null}};return f.jsxs(yst,{audioContext:e,children:[f.jsx(eBt,{}),f.jsx(tBt,{activeTab:i,onTabChange:o}),f.jsxs("div",{className:"min-h-screen",style:{backgroundColor:n.background},children:[f.jsx("div",{className:"fixed inset-0 pointer-events-none",style:{backgroundImage:`radial-gradient(${r?"#444":"#222"} 1px, transparent 1px)`,backgroundSize:"20px 20px",opacity:.05}}),f.jsx("main",{className:"relative z-10",style:{minHeight:"calc(100vh - 96px)",paddingBottom:"96px"},children:b()})]})]})}function v$t(){const{sdkHasLoaded:e,user:t,primaryWallet:n,refreshUser:r}=Zc(),i=tp(),{colors:o}=dc(),[s,a]=x.useState(null),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[h,m]=x.useState(!1),v=!!t,y=!!n;x.useEffect(()=>{console.log("[App] State:",{sdkHasLoaded:e,isAuthenticated:v,hasWallet:y,primaryWallet:n==null?void 0:n.address,waasAvailable:!!i,userHasEmbeddedWallet:i==null?void 0:i.userHasEmbeddedWallet,walletCreationComplete:h})},[e,v,y,n,i,h]),x.useEffect(()=>{(async()=>{if(v&&!y&&!l&&!d&&!h&&(i!=null&&i.createWalletAccount)){c(!0),u(!0);try{console.log("[App] Creating embedded Solana wallet...");const k=new Promise((_,R)=>setTimeout(()=>R(new Error("Wallet creation timeout")),3e4));await Promise.race([i.createWalletAccount([nr.Sol]),k]),console.log("[App] Embedded wallet created!"),r&&(console.log("[App] Refreshing user data..."),await r()),m(!0)}catch(k){console.error("[App] Failed to create embedded wallet:",k),m(!0)}finally{c(!1)}}})()},[v,y,i,l,d,h,r]),x.useEffect(()=>{if(l){const b=setTimeout(()=>{console.log("[App] Wallet creation taking too long, proceeding anyway..."),c(!1),m(!0)},15e3);return()=>clearTimeout(b)}},[l]),x.useEffect(()=>{if(v&&!s){const b=async()=>{try{const k=new(window.AudioContext||window.webkitAudioContext);await k.resume(),a(k)}catch(k){console.error("Audio restore error:",k)}window.removeEventListener("click",b),window.removeEventListener("touchstart",b)};return window.addEventListener("click",b),window.addEventListener("touchstart",b),()=>{window.removeEventListener("click",b),window.removeEventListener("touchstart",b)}}},[v,s]);const g=b=>a(b);return e?v?l?f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:o.background,gap:"16px"},children:[f.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full",style:{borderColor:o.border,borderTopColor:"transparent"}}),f.jsx("p",{style:{color:o.text,fontWeight:"bold"},children:"Creating your wallet..."})]}):f.jsx(gst,{children:f.jsx(y$t,{audioContext:s,walletAddress:n==null?void 0:n.address})}):f.jsx(nBt,{onAudioInit:g}):f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.background},children:f.jsx("div",{className:"animate-spin w-12 h-12 border-4 rounded-full",style:{borderColor:o.border,borderTopColor:"transparent"}})})}function w$t({children:e}){return f.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",backgroundColor:"#1a1a1a"},children:f.jsx("div",{style:{width:"100%",maxWidth:"480px",minHeight:"100vh",position:"relative",boxShadow:"0 0 50px rgba(0, 0, 0, 0.5)"},children:e})})}function b$t(){return f.jsx(w$t,{children:f.jsx(wst,{children:f.jsx(G7t,{children:f.jsx(v$t,{})})})})}window.Buffer=Te.Buffer;$_e.createRoot(document.getElementById("root")).render(f.jsx(x.StrictMode,{children:f.jsx(b$t,{})}));export{bUt as D,eE as F,xRt as a,r4t as b,Hct as c,w1 as d,rme as e,Lu as f,whe as g,_Ut as h,mhe as r,$ct as s,xUt as u};
