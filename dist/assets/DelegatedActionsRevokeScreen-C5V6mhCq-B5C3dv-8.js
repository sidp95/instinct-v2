import{d4 as i,d5 as f,d6 as k,d7 as y,d9 as l,dP as C,df as g}from"./index-BZUZJG0z.js";import{n as h}from"./ScreenLayout-DIdy7nhJ-CtKEKsly.js";import{C as v}from"./circle-alert-BQcjtTIg.js";import{C as w}from"./circle-check-big-CartQiBB.js";import{c as b}from"./createLucideIcon-B72mi0g_.js";import"./ModalHeader-D5psNgrf-BlEKM6aB.js";import"./Screen-q8npRQhQ-DadJ2eBF.js";import"./index-Dq_xe9dz-CmgW7sSb.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x=b("ban",S),R=({appName:r,success:a,error:e,onRevoke:t,onDeny:s,onClose:o})=>i.jsx(h,a||e?{title:e?"Something went wrong":"Success!",subtitle:e?"Please try again.":"You've successfully revoked permissions.",icon:e?v:w,iconVariant:e?"error":"success",onBack:o,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${r} will no longer be able to use this wallet on your behalf when you are not online.`,icon:x,primaryCta:{label:"Confirm",onClick:t},secondaryCta:{label:"Deny",onClick:s},onBack:o,watermark:!0}),I={component:()=>{let{data:r}=f(),a=k(),{closePrivyModal:e}=y(),[t,s]=l.useState(!1),[o,u]=l.useState(),{onRevoke:m,onSuccess:d,onError:p}=r.delegatedActions.revoke,n=async()=>{t?d():p(o??new g("User declined revoking access to their delegated wallet.")),e({shouldCallAuthOnSuccess:!1})};return l.useEffect((()=>{if(!t&&!o)return;let c=setTimeout(n,C);return()=>clearTimeout(c)}),[t,o]),i.jsx(R,{appName:a.name,success:t,error:o,onRevoke:async()=>{try{await m(),s(!0)}catch(c){u(c)}},onDeny:()=>{n()},onClose:n})}};export{I as DelegatedActionsRevokeScreen,R as DelegatedActionsRevokeScreenView,I as default};
