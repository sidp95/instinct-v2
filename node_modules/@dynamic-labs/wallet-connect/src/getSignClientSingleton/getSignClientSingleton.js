'use client'
import { __awaiter } from '../../_virtual/_tslib.js';
import SignClient from '@walletconnect/sign-client';

/**
 * WalletConnect's SignClient would already internally share its core if we had
 * multiple instances of it, so instead we will just use a singleton already.
 *
 * A SignClient is able to handle multiple sessions and multi chain connections.
 */
let signClientSingleton = undefined;
const getSignClientSingleton = (_a) => __awaiter(void 0, [_a], void 0, function* ({ projectId, appIcon, appName, }) {
    if (!signClientSingleton) {
        signClientSingleton = yield SignClient.init({
            customStoragePrefix: `dynamicauth_${projectId}_walletconnect`,
            metadata: {
                description: '',
                icons: [appIcon],
                name: appName,
                url: '',
            },
            projectId,
        });
    }
    return signClientSingleton;
});

export { getSignClientSingleton };
