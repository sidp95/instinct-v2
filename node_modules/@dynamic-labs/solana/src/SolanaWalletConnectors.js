'use client'
import { TurnkeySolanaWalletConnectors } from '@dynamic-labs/embedded-wallet-solana';
import { DynamicWaasSVMConnectors } from '@dynamic-labs/waas-svm';
import { Phantom } from './Phantom/Phantom.js';
import { injectedWalletOverrides, fetchInjectedWalletConnectors } from './injected/fetchInjectedWalletConnectors.js';
import { FallbackSolanaConnector } from './injected/FallbackSolanaConnector/FallbackSolanaConnector.js';
import '@wallet-standard/app';
import '../_virtual/_tslib.js';
import '@solana/web3.js';
import 'bs58';
import './utils/logger.js';
import { getSolanaWalletConnectConnector } from './walletConnect/utils/getSolanaWalletConnectConnector/getSolanaWalletConnectConnector.js';
import { addSolanaWalletConnectConnectors } from './walletConnect/utils/addSolanaWalletConnectConnectors/addSolanaWalletConnectConnectors.js';

const SolanaWalletConnectors = (
// eslint-disable-next-line @typescript-eslint/no-explicit-any
props) => {
    const solNetworks = props.solNetworks || [];
    const hasSolanaNetworks = solNetworks.length > 0;
    const initialConnectors = [
        ...injectedWalletOverrides,
        ...fetchInjectedWalletConnectors(props),
        ...TurnkeySolanaWalletConnectors(props),
        ...DynamicWaasSVMConnectors(),
        Phantom,
        FallbackSolanaConnector,
        ...(hasSolanaNetworks ? [getSolanaWalletConnectConnector()] : []),
    ];
    // Only add WalletConnect connectors if Solana networks are configured
    if (!hasSolanaNetworks) {
        return initialConnectors;
    }
    return addSolanaWalletConnectConnectors({
        connectors: initialConnectors,
        walletBook: props.walletBook,
    });
};

export { SolanaWalletConnectors };
