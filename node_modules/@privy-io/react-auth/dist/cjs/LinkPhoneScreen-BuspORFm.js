"use strict";var e=require("react/jsx-runtime"),r=require("@heroicons/react/24/outline/PhoneIcon"),i=require("react"),t=require("./ConnectPhoneForm-grT6QJKW.js"),n=require("./context-B8VkgLLk.js"),o=require("./internal-context-NWsAL807.js"),u=require("./get-is-unified-wallet--p0rdEtP.js"),a=require("./ScreenLayout-DND5buhY.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("styled-components"),require("@privy-io/js-sdk-core"),require("./useActiveWallet-Wp8zv7qb.js"),require("zustand"),require("react-device-detect"),require("./prepareFundingModalData-BADfvap9.js"),require("eventemitter3"),require("./events-context-Di6--rDg.js"),require("viem"),require("viem/utils"),require("./getPublicClient-CGlodIp_.js"),require("./useWallets-DEyFRWD0.js"),require("./ModalHeader-HFJct04e.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("./Chip-C6r7fZiR.js"),require("./LoadingSkeleton-BoyADunQ.js"),require("tinycolor2"),require("ofetch"),require("./Screen-M6XQZTd0.js"),require("./index-ByFhjjzH.js");var c=/*#__PURE__*/s(r);const l=({title:r="Connect your phone",subtitle:n="Add your number to your account",onSubmit:o,isSubmitting:u=!1})=>{let[s,l]=i.useState(null),d=async()=>{s?.qualifiedPhoneNumber&&await o(s)};/*#__PURE__*/return e.jsx(a.ScreenLayout,{title:r,subtitle:n,icon:c.default,primaryCta:{label:u?"Submitting":"Submit",onClick:d,disabled:!s?.isValid||u},watermark:!0,children:/*#__PURE__*/e.jsx(t.ConnectPhoneNumberForm,{onChange:e=>{l(e)},onSubmit:d,noIncludeSubmitButton:!0,hideRecent:!0})})},d={component:()=>{let{currentScreen:r,data:t,navigate:a,setModalData:s}=u.usePrivyModal(),c=n.useAppConfig(),{initLoginWithSms:d}=o.usePrivyInternal(),[q,m]=i.useState(!1);/*#__PURE__*/return e.jsx(l,{subtitle:`Add your number to your ${c?.name} account`,onSubmit:async e=>{m(!0);try{await d({phoneNumber:e.qualifiedPhoneNumber,withPrivyUi:!0}),a("AwaitingPasswordlessCodeScreen")}catch(e){s({errorModalData:{error:e,previousScreen:t?.errorModalData?.previousScreen||r||"LinkPhoneScreen"}}),a("ErrorScreen")}finally{m(!1)}},isSubmitting:q})}};exports.LinkPhoneScreen=d,exports.LinkPhoneScreenView=l,exports.default=d;
