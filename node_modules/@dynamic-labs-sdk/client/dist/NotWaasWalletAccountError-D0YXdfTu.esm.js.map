{"version":3,"file":"NotWaasWalletAccountError-D0YXdfTu.esm.js","names":[],"sources":["../src/modules/user/refreshAuth/refreshAuth.ts","../src/errors/NotWaasWalletAccountError.ts"],"sourcesContent":["import type { VerifyResponse } from '@dynamic-labs/sdk-api-core';\n\nimport { getCore } from '../../../client/core/getCore';\nimport { getDefaultClient } from '../../../client/defaultClient';\nimport { createApiClient } from '../../apiClient';\nimport { updateAuthFromVerifyResponse } from '../../auth/updateAuthFromVerifyResponse';\n\n/**\n * Refreshes the current user's data from the server.\n *\n * This function fetches the latest user information and token from the backend\n * updating the local user and token states with any changes.\n *\n * @param [client] - The Dynamic client instance. Only required when using multiple Dynamic clients.\n * @returns A promise that resolves to the verify response.\n */\nexport const refreshAuth = async (\n  client = getDefaultClient()\n): Promise<VerifyResponse> => {\n  const core = getCore(client);\n  const apiClient = createApiClient({}, client);\n\n  const response = await apiClient.refreshAuth({\n    environmentId: core.environmentId,\n  });\n\n  updateAuthFromVerifyResponse({ response }, client);\n\n  return response;\n};\n","import { BaseError } from './base';\n\ntype NotWaasWalletAccountErrorParams = {\n  walletAddress: string;\n};\n\nexport class NotWaasWalletAccountError extends BaseError {\n  constructor({ walletAddress }: NotWaasWalletAccountErrorParams) {\n    super({\n      cause: null,\n      code: 'not_waas_wallet_account_error',\n      docsUrl: null,\n      name: 'NotWaasWalletAccountError',\n      shortMessage: `Wallet account ${walletAddress} is not a Dynamic WaaS wallet account`,\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;;;AAgBA,MAAa,cAAc,OACzB,SAAS,kBAAkB,KACC;CAC5B,MAAM,OAAO,QAAQ,OAAO;CAG5B,MAAM,WAAW,MAFC,gBAAgB,EAAE,EAAE,OAAO,CAEZ,YAAY,EAC3C,eAAe,KAAK,eACrB,CAAC;AAEF,8BAA6B,EAAE,UAAU,EAAE,OAAO;AAElD,QAAO;;;;;ACtBT,IAAa,4BAAb,cAA+C,UAAU;CACvD,YAAY,EAAE,iBAAkD;AAC9D,QAAM;GACJ,OAAO;GACP,MAAM;GACN,SAAS;GACT,MAAM;GACN,cAAc,kBAAkB,cAAc;GAC/C,CAAC"}